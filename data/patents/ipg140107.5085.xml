<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626183-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626183</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10580497</doc-number>
<date>20041126</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>GB</country>
<doc-number>0327794.4</doc-number>
<date>20031129</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>1771</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20090101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>W</subclass>
<main-group>24</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>4554561</main-classification>
<further-classification>455 6711</further-classification>
</classification-national>
<invention-title id="d2e71">Positioning method and apparatus</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5742635</doc-number>
<kind>A</kind>
<name>Sanderford, Jr.</name>
<date>19980400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375149</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5764686</doc-number>
<kind>A</kind>
<name>Sanderford et al.</name>
<date>19980600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6031490</doc-number>
<kind>A</kind>
<name>Forssen et al.</name>
<date>20000200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>342457</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6052561</doc-number>
<kind>A</kind>
<name>Rudowicz et al.</name>
<date>20000400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455 131</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6266534</doc-number>
<kind>B1</kind>
<name>Raith et al.</name>
<date>20010700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554563</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6876859</doc-number>
<kind>B2</kind>
<name>Anderson et al.</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554561</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6990351</doc-number>
<kind>B2</kind>
<name>Tsunehara et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554561</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>7006834</doc-number>
<kind>B2</kind>
<name>Gaal et al.</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554561</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>7006838</doc-number>
<kind>B2</kind>
<name>Diener et al.</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554561</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>7065368</doc-number>
<kind>B2</kind>
<name>You et al.</name>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554561</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>7069025</doc-number>
<kind>B2</kind>
<name>Goren et al.</name>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554562</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2002/0098852</doc-number>
<kind>A1</kind>
<name>Goren et al.</name>
<date>20020700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2002/0118723</doc-number>
<kind>A1</kind>
<name>McCrady et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2004/0137914</doc-number>
<kind>A1</kind>
<name>Turetzky et al.</name>
<date>20040700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554561</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2005/0003828</doc-number>
<kind>A1</kind>
<name>Sugar et al.</name>
<date>20050100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554561</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>2005/0048923</doc-number>
<kind>A1</kind>
<name>Mohseni et al.</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455 6711</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>2006/0153435</doc-number>
<kind>A1</kind>
<name>Wallmark et al.</name>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382129</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>EP</country>
<doc-number>1061667</doc-number>
<date>20001200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>11</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>4554561</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4554562</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4554563</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4554565</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4554566</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455 6711</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4554042</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>2</number-of-drawing-sheets>
<number-of-figures>2</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20070184783</doc-number>
<kind>A1</kind>
<date>20070809</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Rosenfeld</last-name>
<first-name>Josi</first-name>
<address>
<city>London</city>
<country>GB</country>
</address>
</addressbook>
<residence>
<country>GB</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Rosenfeld</last-name>
<first-name>Josi</first-name>
<address>
<city>London</city>
<country>GB</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Koninklijke Philips N.V.</orgname>
<role>03</role>
<address>
<city>Eindhoven</city>
<country>NL</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Hsieh</last-name>
<first-name>Ping</first-name>
<department>2648</department>
</primary-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/IB2004/052565</doc-number>
<kind>00</kind>
<date>20041126</date>
</document-id>
<us-371c124-date>
<date>20060523</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2005/052629</doc-number>
<kind>A </kind>
<date>20050609</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">In a GPS or GSM system using DSSS signals, accurate and robust time-of-flight signal processing is achieved by selection of leading-edge or correlation techniques based on a variety of tests and environmental conditions.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="155.70mm" wi="231.65mm" file="US08626183-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="230.89mm" wi="154.77mm" orientation="landscape" file="US08626183-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="232.33mm" wi="144.70mm" orientation="landscape" file="US08626183-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<p id="p-0002" num="0001">The present invention relates to a positioning method and apparatus.</p>
<p id="p-0003" num="0002">Time-of-arrival radio location systems, for example as described in U.S. Pat. No. 5,764,686, utilise correlation techniques but these position processing methods are not well suited to densely populated environments with high levels of mult-path degradation.</p>
<p id="p-0004" num="0003">It is an object of the present invention is to improve on the known art.</p>
<p id="p-0005" num="0004">According to the present invention, there is provided a positioning method for a radio system, the method comprising:</p>
<p id="p-0006" num="0005">receiving signals at a unit of the system;</p>
<p id="p-0007" num="0006">applying at least one test on the received signals to select a processing operation on the signals, the operation being one of the following: a correlation processing operation, a leading edge processing operation; and</p>
<p id="p-0008" num="0007">then effecting the operation selected.</p>
<p id="p-0009" num="0008">In this way, the method of the present invention utilises the processing operation that yields the most accurate and robust measurement in the prevailing circumstances. This is particularly important when the method is used in mobile equipment that tend to encounter conditions which vary considerably with time.</p>
<p id="p-0010" num="0009">Preferably the method includes a test which comprises determining whether the signal level of the received signal is above a threshold value; if the level of the received signal is below the threshold value, the correlation processing operation is selected. If the level of the received signal is above the threshold value, then there is testing if the leading edge gradient is above a gradient threshold value; if the leading edge gradient is below the gradient threshold, the leading edge processing operation is selected. If the leading edge gradient is above the gradient threshold value, the correlation processing operation is selected.</p>
<p id="p-0011" num="0010">Preferably, the method comprises repeating the test application and operation steps at predetermined intervals.</p>
<p id="p-0012" num="0011">Other features of the method are disclosed in the claims.</p>
<p id="p-0013" num="0012">According to the present invention, there is also provided a computer program product directly loadable into the internal memory of a digital computer, comprising software code portions for performing the method of the present invention when said product is run on a computer.</p>
<p id="p-0014" num="0013">According to the present invention, there is also provided a computer program directly loadable into the internal memory of a digital computer, comprising software code portions for performing the method of the present invention when said program is run on a computer.</p>
<p id="p-0015" num="0014">According to the present invention, there is also provided a carrier, which may comprise electronic signals, for a computer program embodying the present invention.</p>
<p id="p-0016" num="0015">According to the present invention, there is also provided electronic distribution of a computer program product, or a computer program, or a carrier of the present invention.</p>
<p id="p-0017" num="0016">According to the present invention, there is also provided positioning apparatus for a radio system, the apparatus comprising:</p>
<p id="p-0018" num="0017">means to receive signals at a unit of the system;</p>
<p id="p-0019" num="0018">means to apply at least one test on the received signals to select a processing operation on the signals which is one of the following: a correlation processing operation, a leading edge processing operation; and</p>
<p id="p-0020" num="0019">means to effect the operation selected.</p>
<p id="p-0021" num="0020">The present invention is applicable to time-of-arrival radio systems generally and including GPS or GSM systems, and for example using Ultra Wide Band (UWB) or Direct Sequence Spread Spectrum (DSSS) signals.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<p id="p-0022" num="0021">In order that the present invention may more readily be understood, a description is now given, by way of example only, reference being made to the accompanying drawings in which:</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 1</figref> is a flow-chart representing a positioning method provided by the present invention; and</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 2</figref> shows a circuit configuration of an implementation of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<p id="p-0025" num="0024">The present invention involves testing signals received at a unit to determine which is the processing operation most appropriate to the signals, being based on a variety of criteria and aspects of the received signals.</p>
<p id="p-0026" num="0025">Thus, at any given time and set of circumstances, determination may result in a decision to use one particular processing method. At a later time, the form of the signal may have changed and/or the local environment may have changed, resulting in a different decision or even the same decision but for different reasons.</p>
<p id="p-0027" num="0026">The method represented in <figref idref="DRAWINGS">FIG. 1</figref>, embodying the present invention, allows the time-of-flight of a signal for accurate and robust positioning in e.g. GPS or GSM systems, for example using Ultra Wide Band (UWB) or Direct Sequence Spread Spectrum (DSSS) signals.</p>
<p id="p-0028" num="0027">Depending on the extent of noise degradation and multipath degradation suffered by the signal in the propagation environment, either a measurement based on a leading edge technique, or a measurement based on a correlation technique, is used in order to yield the most accurate result.</p>
<p id="p-0029" num="0028">In an environment with a high level of background noise, a measurement based on a standard correlation technique yields a more accurate result, whereas in a densely populated environment with a high level of multipath degradation, a measurement based on a leading-edge technique yields a more accurate result.</p>
<p id="p-0030" num="0029">The method represented by <figref idref="DRAWINGS">FIG. 1</figref> provides a reliable and accurate selection of a most appropriate signal processing technique at any given time for a particular set of circumstances.</p>
<p id="p-0031" num="0030">The method will now be described with reference to <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0032" num="0031">At Step <b>1</b>, a receiver B receives a periodic pulse form a transmitter A. In order to obtain a pulse of sufficient Signal/Noise Ratio (SNR) for the point of inflection calculation, each period of the pulse train is coherently summed (Step <b>2</b>).</p>
<p id="p-0033" num="0032">For a pulse train with a period of T, coherent summing results in a pulse train constituting N pulse train periods, thereby yielding N times the original signal strength, but only &#x221a;N times the noise, as coherent summing of pulses causes the noise to be averaged out.</p>
<p id="p-0034" num="0033">A further way of improving the SNR of the pulses for the purposes of a leading-edge technique is to take the convolution of the first pulse in the pulse train with a bump function, for example a Gaussian function, of width slightly greater than the widest noise perturbation. The nose perturbations are in effect filtered out as the function averages over the width of the noise fluctuation, according to the following equation:</p>
<p id="p-0035" num="0034">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mrow>
  <mrow>
    <mrow>
      <msqrt>
        <mfrac>
          <mi>&#x3c3;</mi>
          <mi>&#x3c0;</mi>
        </mfrac>
      </msqrt>
      <mo>&#x2062;</mo>
      <mrow>
        <mo>&#x222b;</mo>
        <mrow>
          <msup>
            <mi>l</mi>
            <mrow>
              <mo>-</mo>
              <msup>
                <mrow>
                  <mi>&#x3c3;</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>&#x3c7;</mi>
                      <mo>-</mo>
                      <mi>y</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mn>2</mn>
              </msup>
            </mrow>
          </msup>
          <mo>&#x2062;</mo>
          <mrow>
            <mi>f</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>y</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mrow>
    <mo>,</mo>
  </mrow>
  <mo>&#x2062;</mo>
  <mstyle>
    <mspace width="0.6em" height="0.6ex"/>
  </mstyle>
</mrow>
</math>
</maths>
</p>
<p id="p-0036" num="0035">such that the pulse is given by f(y) and the pulse width p satisfies the criterion:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>p</i><sup>2</sup>&#x3c3;&#x3e;&#x3e;1.<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0037" num="0036">Step <b>3</b> performs a test to determine if the value of the received SNR has a corresponding worst-case leading edge technique range error (found via lookup in the device memory) that is worse than the user-defined range error. The worst-case leading edge range error for various signal-to-noise ratios was taken during previous experimental measurements, this data being stored in the look-up memory.</p>
<p id="p-0038" num="0037">Step <b>3</b> performs a test to determine the worst possible practical range error. The range error is calculated for a received pulse with a very low gradient controlled by measuring signals in the indoor environment to determine the pulse gradient that represents a non-negligible worst-case scenario for a fixed signal-to-noise ratio. The range error is calculated for various predetermined values of SNR, allowing the construction of a look-up table.</p>
<p id="p-0039" num="0038">In normal operation, the look-up table is used in real time to provide the range error &#x3b5;<sub>1 </sub>for a particular SNR with the range error &#x3b5;<sub>1 </sub>forming the decision threshold value K, determined firstly by taking plentiful received signal data throughout a particular type of environment e.g. a building. A collection of data (the lower quartile) of lowest gradient signals with the same SNR is chosen as the set of worst-case scenario signals of a given SNR. Then the mean and standard deviation range error is determined for this set of signals with the leading edge method and K is the mean value within the calculated standard deviation. K is dependent on SNR as better SNR increases range error. So for various SNR, the value of K is found from experimental signal measurements.</p>
<p id="p-0040" num="0039">Once the SNR of the received signal is measured, its corresponding worst-case leading edge range error is looked-up in the memory. This range error is the threshold value K. Previously, the limits of range error of any positioning measurement have been set to be the value e. The value e is checked against the threshold value k. If K&#x3c;e, Step <b>4</b> is reached, so that the error of doing worst-case leading edge is within the user-defined error e, so doing leading edge will give the worst-case error K.</p>
<p id="p-0041" num="0040">If the SNR is less than the threshold K, Step <b>11</b> is reached, wherein the range error using a leading-edge technique is worse than &#x3b5;<sub>1</sub>, indicating that the use of a correlation technique is selected.</p>
<p id="p-0042" num="0041">When K&#x3e;e, then Step <b>11</b> is reached. This means that the error of doing worst-case leading edge is higher than the user-defined error e. The system can only get a smaller range error by doing the correlation technique. As the system has the range error within e, step <b>11</b> i.e. the correlation technique must be implemented.</p>
<p id="p-0043" num="0042">Step <b>11</b> comprises another decision point. A test is again performed to determine whether the SNR is too low for a correlation technique with correlation time T, to provide a range error value that is within the user-defined error value found from a look-up table which contains the average range error from a correlation technique for the signal of various SNR and various correlation times. The threshold range error is found from another look-up table for the correlation technique range errors for various times and SNR's. Again a look-up table based on existing data is constructed, with fields SNR, correlation range error. The average range error is found by performing a correlation technique on signals of fixed SNR and correlation time. The range of a received signal is determined via the correlation technique. The exact range is also measured between the transmitter and the receiver. The difference between the correlation estimated range and the exact range is the value of the range error for a particular SNR and correlation time. These measurements are performed many times for a transmitter and receiver placed in differing positions within the environment. The range error value used is the average of those values taken for a fixed SNR and correlation time T, and thereby is utilised to extract a range error &#x3b5;<sub>2</sub>, given a particular value of SNR and correlation time T.</p>
<p id="p-0044" num="0043">The correlation range error for a given time and SNR is found from the look-up table to be C, which is a threshold value. If the user-defined range error e is greater than C than the correlation time for the transmitted signal should be sufficient to obtain a range measurement within the user defined bounds. So the correlation technique is performed in Step <b>12</b>.</p>
<p id="p-0045" num="0044">If the threshold error C (found from the look-up table) is greater than the user-defined range error e, then the correlation technique probably gives a position measurement outside the user-defined bounds. Thus, to increase the accuracy of the position measurement is to increase the correlation time, as it increases the SNR of the correlation function used for finding the time-of-flight and subsequently the position fix. This is performed in Step <b>13</b>.</p>
<p id="p-0046" num="0045">If the range error &#x3b5;<sub>2 </sub>is greater than the range error &#x3b5;<sub>1</sub>, a new correlation time T is found from the look-up table that yields an error of at least &#x3b5;<sub>1 </sub>for a given SNR.</p>
<p id="p-0047" num="0046">Should Step <b>4</b> be reached, meaning the worst-case leading edge range error for the SNR of the received signal (found from a look-up table) is less than the user-defined or system-defined range error e, Step <b>5</b> is carried out only where a power-saving mode is selected in the system.</p>
<p id="p-0048" num="0047">Step <b>5</b> is a power-saving mode to Step <b>2</b>. Using the stored value for the measured SNR of the received signal, go to look-up table to find the transmit time that yields the max range error e. For the next transmitted signal, the transmit time is reduced to that found in the look-up table.</p>
<p id="p-0049" num="0048">The high value of SNR is not necessary because as range accuracy is reduced in order to save power. By transmitting a signal for a shorter time the coherently superpose signal has a lower SNR which reduces the range accuracy or increase the range error. However, transmitting a signal for a shorter time saves on signal power.</p>
<p id="p-0050" num="0049">Step <b>6</b> is reached directly from step <b>4</b> when no power-saving mode is selected.</p>
<p id="p-0051" num="0050">At Step <b>6</b>, a back-up test is conducted to determine whether a leading-edge technique or correlation technique should be used.</p>
<p id="p-0052" num="0051">The gradient of the leading edge g and the signal-to-noise ratio SNR are stored with the leading edge range error. Also, SNR of the signal and its transmit time T are stored with the average correlation method range error. At Step <b>7</b>, a correlation method is chosen if, given the SNR and T of the signal, the range error j is less than the range error from the leading edge method given the gradient g and SNR of the signal.</p>
<p id="p-0053" num="0052">At Step <b>8</b>, a leading edge method is chosen if, from the look-up table, it is determined that the range error for the leading edge parameter (i.e. SNR and gradient g) is less than the range error from the correlation technique parameters (i.e. SNR and transmit time).</p>
<p id="p-0054" num="0053">At Step <b>6</b>, to determine the gradient of the leading edge, a single pulse in the pulse train is used, for example the first one, and the position of the point of inflection of the leading edge is determined. As a digital waveform is unlikely to have sufficient sample points to determine the location of the point of inflection, an analogue signal is preferably used, with the gradient determined using the equation:</p>
<p id="p-0055" num="0054">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>i</mi>
    <mo>=</mo>
    <mrow>
      <mi>C</mi>
      <mo>&#x2062;</mo>
      <mfrac>
        <mrow>
          <mo>&#x2146;</mo>
          <mi>V</mi>
        </mrow>
        <mrow>
          <mo>&#x2146;</mo>
          <mi>t</mi>
        </mrow>
      </mfrac>
    </mrow>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
</maths>
</p>
<p id="p-0056" num="0055">where V is the voltage of the signal waveform C is the capacitance and i is the current.</p>
<p id="p-0057" num="0056">A range error is the difference between the measured range or time-of-flight of the received signal and the exact known distance the signal travelled (which appears in the look-up table data found in an experimental phase). If the SNR is sufficiently high to have a range error which is less than the user-define error e independent of the pulse gradient, or if the SNR is greater than a predetermined threshold X a leading-edge technique can be employed. This is shown by the flow chart moving directly from step <b>4</b> to step <b>10</b>. This is possible due to the independence of the leading-edge technique from the environment.</p>
<p id="p-0058" num="0057">From experimental measurements in a building, a SNR value can be found that is so high that say 95 percent of all leading edge measurements have a range error less than the system defined error e.</p>
<p id="p-0059" num="0058">If SNR is very high, there is little noise on the signal. There is also the multipath effect which affects leading edge techniques much less than correlation techniques. As SNR increases, the multipath the range error decreases. If SNR is high enough, the range error is smaller than the user-defined error e for any multipath environment.</p>
<p id="p-0060" num="0059">The present invention may provide significant advantages over the prior art in terms of the amount of processing required. If environment thresholds in the present invention are met, the correlation technique can immediately be used, obviating the need for the extra processing required by the leading-edge technique.</p>
<p id="p-0061" num="0060">Similarly, in some circumstances, an immediate decision to use the lead-edge technique can be made, avoiding the processing associated with finding the correlation peak.</p>
<p id="p-0062" num="0061">There arise a situation where the thresholds set for utilising either the leading-edge technique or the correlation technique prove not to be sufficiently robust, due to ambiguity in the propagation environment, and the use of a back-up decision is necessary. In the case where only the correlation technique is used, the integration-time of the system can be increased. In the case where only the leading-edge technique is used, a further test on the gradient of the leading edge allows a decision to be made as to whether a leading-edge technique or a correlation technique would provide a more accurate measurement.</p>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 2</figref> shows a software implementation of the present invention incorporating the method as described in relation to <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0064" num="0063">Thus there is shown a CPU <b>20</b> which accomplishes a number of software routines on input signals in order to determine, for a signal received at CPU <b>20</b>, whether it is to be processed by a leading-edge unit <b>21</b> or a correlation unit <b>22</b>.</p>
<p id="p-0065" num="0064">CPU <b>20</b> has software to test for low S/N by calculating the gradient of the signal between successive sample points. This is achieved by reference to the sampling rate of the signal which is set to a sampling space of dt by sampler <b>23</b>. The value of the energy at each sample point is stored in memory <b>24</b>, i.e. at sample point t<sub>1 </sub>the signal e<sub>1 </sub>is stored in memory, at sample point t<sub>2 </sub>the signal energy e<sub>2 </sub>is stored and so on.</p>
<p id="p-0066" num="0065">Once all the appropriate values are stored in memory, the successive gradients are calculated by:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>E</i>={Grad1=(<i>e</i><sub>2</sub><i>&#x2212;e</i>)/<i>dt</i>, Grad2=(<i>e</i><sub>3</sub><i>&#x2212;e</i><sub>2</sub>)/<i>dt </i>. . . , Grad<i>n=e</i><sub>n+</sub>1<i>&#x2212;e</i><sub>n</sub>)/<i>dt}.</i><?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0067" num="0066">If the variance of the successive gradients is high, then the S/N level is low because a noisy signal does not have a smooth edge, i.e the edge will be perturbed; so the value of successive gradients differ greatly i.e the variance is high.</p>
<p id="p-0068" num="0067">In order to calculate the variance of the gradient values in the set E, the following operation <b>25</b> is performed:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Variance=1<i>/N </i>sum<sub>&#x2014;</sub><i>n</i>(Grad<i>n</i>)^2&#x2212;(1/<i>N </i>sum<sub>&#x2014;</sub><i>n </i>Grad<i>n</i>)^2,<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0069" num="0068">where N is the total number of sample points, and sum_n is a summation over all the sample points.</p>
<p id="p-0070" num="0069">By testing over a standard or test sequence of signals prior to production of an implementation of a commercial product embodying the present invention, one can determine the variance value that corresponds to the limit value for doing leading-edge processing.</p>
<p id="p-0071" num="0070">Leading-edge processing is done on a signal element if the S/N ratio is not too low, otherwise standard correlation is performed (<b>26</b>, <b>27</b>).</p>
<p id="p-0072" num="0071">Clearly, in a variant, the operations performed by units <b>21</b> and <b>23</b> can also be performed by CPU <b>20</b> as part of its software routines.</p>
<p id="p-0073" num="0072">The present invention thereby provides a robust decision-making process, adaptive to variations in the environment, for selecting the most appropriate technique, in real time, for particular circumstances. The decision-making process is supported by the use of coherent pulse summing and convolution with a Gaussian function for improving the signal-to-noise ratio.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08626183-20140107-M00001.NB">
<img id="EMI-M00001" he="8.13mm" wi="76.20mm" file="US08626183-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08626183-20140107-M00002.NB">
<img id="EMI-M00002" he="6.01mm" wi="76.20mm" file="US08626183-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A positioning method for a radio system, the method comprising:
<claim-text>receiving signals at a unit of the system;</claim-text>
<claim-text>applying at least one test on the received signals prior to processing the signals;</claim-text>
<claim-text>wherein applying the test comprises determining whether a signal level of the received signal is above a threshold value;</claim-text>
<claim-text>in accordance with the applied test, selecting one of: a correlation processing operation and a leading edge processing operation; and</claim-text>
<claim-text>performing the selected one of the correlation processing operation and the leading edge processing operation,</claim-text>
<claim-text>wherein applying the test further includes:</claim-text>
<claim-text>in response to the level of the received signal being below the threshold value, selecting the correlation processing operation.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A positioning method for a radio system, the method comprising:
<claim-text>receiving signals at a unit of the system;</claim-text>
<claim-text>applying at least one test on the received signals to select a processing operation on the signals, the operation being one of the following: a correlation processing operation and a leading edge processing operation;</claim-text>
<claim-text>wherein the applied test comprises:</claim-text>
<claim-text>determining whether a signal level of the received signal is above a threshold value;</claim-text>
<claim-text>when the level of the received signal is below the threshold value, selecting the correlation processing operation;</claim-text>
<claim-text>when a leading edge gradient is below a gradient threshold value, selecting the leading edge processing operation; and</claim-text>
<claim-text>effecting the selected operation.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A positioning method for a radio system, the method comprising:
<claim-text>receiving signals at a unit of the system;</claim-text>
<claim-text>applying at least one test on the received signals prior to processing the signals;</claim-text>
<claim-text>wherein applying the test comprises determining whether a signal level of the received signal is above a threshold value;</claim-text>
<claim-text>in accordance with the applied test, selecting one of: a correlation processing operation and a leading edge processing operation; and</claim-text>
<claim-text>performing the selected one of the correlation processing operation and the leading edge processing operation. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein applying the test further includes:</claim-text>
<claim-text>when the level of the received signal is above the threshold value, testing whether a leading edge gradient is above a gradient threshold value&#x2032;</claim-text>
<claim-text>wherein applying the test further includes:</claim-text>
<claim-text>in response to the leading edge gradient being above the gradient threshold value, selecting the correlation processing operation.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A positioning method for a radio system, the method comprising:
<claim-text>receiving signals at a unit of the system;</claim-text>
<claim-text>applying at least one test on the received signals prior to processing the signals to select a processing operation on the signals, the operation being one of the following: a correlation processing operation, and a leading edge processing operation;</claim-text>
<claim-text>then effecting the selected operation; and</claim-text>
<claim-text>measuring a gradient using the formula:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>i=Cdv/Dt </i><?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
<claim-text>Where,</claim-text>
<claim-text>V=voltage of a signal waveform,</claim-text>
<claim-text>C=capacitance,</claim-text>
<claim-text>i=current, and</claim-text>
<claim-text>t=time.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A positioning apparatus for a radio system, the apparatus comprising:
<claim-text>a receiver which receives radio frequency signals which have potentially suffered at least one of noise degradation and multi-path degradation in a propagation environment;</claim-text>
<claim-text>testing means for testing the received radio frequency signals, which have not been subject to a correlation processing operation, for at least noise degradation and multi-path degradation and selecting one of:</claim-text>
<claim-text>a correlation processing operation and</claim-text>
<claim-text>a leading edge processing operation based on the testing; and</claim-text>
<claim-text>a processor which subsequently processes the tested radiofrequency signals with the selected one of the correlation based processing operation and the leading edge processing operation.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The apparatus of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the testing means includes:
<claim-text>means to determine whether a signal level of the received radio frequency signal is above a threshold value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The apparatus of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the testing means includes:
<claim-text>means which selects the correlation processing operation in response to the signal level of the received signal being below the level threshold value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the testing means includes:
<claim-text>means to test signals with signal level above the level threshold value to determine whether the signal has a leading edge gradient above a gradient threshold value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The apparatus of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the testing means includes:
<claim-text>means which selects:</claim-text>
<claim-text>the leading edge processing operation in response to the leading edge gradient being below the gradient threshold value, and</claim-text>
<claim-text>the correlation processing operation in response to the leading edge gradient being above the gradient threshold value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The apparatus of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the testing means includes:
<claim-text>means to cause the testing means to repeat the testing at predetermined intervals.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A positioning method for a radio system, the method comprising:
<claim-text>receiving signals at a unit of the system;</claim-text>
<claim-text>applying at least one test on the received signals prior to processing the signals to select between a correlation processing operation and a leading edge processing operation, the test including:</claim-text>
<claim-text>determining whether a signal level of the received signal is above a threshold value;</claim-text>
<claim-text>in response to the level of the received signal being below the threshold value, selecting the correlation processing operation;</claim-text>
<claim-text>when the level of the received signal is above the threshold value, testing whether a leading edge gradient value is above a gradient threshold value;</claim-text>
<claim-text>in response to the leading edge gradient value being below the gradient threshold value, selecting the leading edge processing operation; and</claim-text>
<claim-text>in response to the leading edge gradient value being above the gradient threshold value, selecting the correlation processing operation.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
