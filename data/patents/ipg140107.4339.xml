<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625410-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625410</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12463827</doc-number>
<date>20090511</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>150</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>12</main-group>
<subgroup>28</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>R</subclass>
<main-group>31</main-group>
<subgroup>08</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>173</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370222</main-classification>
<further-classification>370221</further-classification>
<further-classification>370225</further-classification>
<further-classification>370389</further-classification>
<further-classification>370256</further-classification>
<further-classification>709238</further-classification>
</classification-national>
<invention-title id="d2e53">Dual homed E-spring protection for network domain interworking</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7269132</doc-number>
<kind>B1</kind>
<name>Casey et al.</name>
<date>20070900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7345991</doc-number>
<kind>B1</kind>
<name>Shabtay et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7477593</doc-number>
<kind>B2</kind>
<name>Scudder et al.</name>
<date>20090100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370217</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>7551551</doc-number>
<kind>B2</kind>
<name>Filsfils et al.</name>
<date>20090600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370219</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7760738</doc-number>
<kind>B1</kind>
<name>Chamas et al.</name>
<date>20100700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>37039521</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>8184648</doc-number>
<kind>B2</kind>
<name>Allan et al.</name>
<date>20120500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370403</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2002/0118687</doc-number>
<kind>A1</kind>
<name>Chow et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2004/0174828</doc-number>
<kind>A1</kind>
<name>Elie-Dit-Cosaque et al.</name>
<date>20040900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2006/0164975</doc-number>
<kind>A1</kind>
<name>Filsfils et al.</name>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370225</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2008/0062891</doc-number>
<kind>A1</kind>
<name>Van der Merwe et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370254</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2009/0059800</doc-number>
<kind>A1</kind>
<name>Mohan</name>
<date>20090300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2009/0147674</doc-number>
<kind>A1</kind>
<name>Scudder et al.</name>
<date>20090600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370225</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2009/0168647</doc-number>
<kind>A1</kind>
<name>Holness et al.</name>
<date>20090700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370228</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2009/0274155</doc-number>
<kind>A1</kind>
<name>Nakash</name>
<date>20091100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>37039553</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2009/0316571</doc-number>
<kind>A1</kind>
<name>Rose</name>
<date>20091200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370218</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>2010/0098071</doc-number>
<kind>A1</kind>
<name>Zhang</name>
<date>20100400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370389</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>2010/0226260</doc-number>
<kind>A1</kind>
<name>Zinjuvadia et al.</name>
<date>20100900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370248</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>2012/0033666</doc-number>
<kind>A1</kind>
<name>Holness et al.</name>
<date>20120200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370389</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>WO</country>
<doc-number>WO 2010124355</doc-number>
<kind>A1</kind>
<date>20101100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00020">
<othercit>ITU-T, Ethernet ring protection switching, G.8032/Y.1344, Jun. 2008, ITU-T, 1-37.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00021">
<othercit>ITU-T, Ethernet ring protection switching (Amendment 1: Interconnection of Ethernet rings), G.8032/Y.1344, Apr. 2009, ITU-T, 1-12.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00022">
<othercit>International Telecommunication Union, Recommendation ITU-T G.8032/Y.1344, Jun. 2008, 44 Pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00023">
<othercit>International Search Report issued Mailed Aug. 24, 2010 on Applicant's corresponding PCT International Patent Application No. PCT/CA2010/000664 filed May 6, 2010, 5 Pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>18</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>4</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20100284413</doc-number>
<kind>A1</kind>
<date>20101111</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Abdullah</last-name>
<first-name>Bashar</first-name>
<address>
<city>Ottawa</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Holness</last-name>
<first-name>Marc</first-name>
<address>
<city>Nepean</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Bottorff</last-name>
<first-name>Paul</first-name>
<address>
<city>Portola Valley</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="004" app-type="applicant" designation="us-only">
<addressbook>
<last-name>St-Denis</last-name>
<first-name>Bernard</first-name>
<address>
<city>Ottawa</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Abdullah</last-name>
<first-name>Bashar</first-name>
<address>
<city>Ottawa</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Holness</last-name>
<first-name>Marc</first-name>
<address>
<city>Nepean</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Bottorff</last-name>
<first-name>Paul</first-name>
<address>
<city>Portola Valley</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="004" designation="us-only">
<addressbook>
<last-name>St-Denis</last-name>
<first-name>Bernard</first-name>
<address>
<city>Ottawa</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Clements Bernard PLLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Bernard</last-name>
<first-name>Christopher L.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="03" rep-type="attorney">
<addressbook>
<last-name>Baratta, Jr.</last-name>
<first-name>Lawrence A.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Ciena Corporation</orgname>
<role>02</role>
<address>
<city>Hanover</city>
<state>MD</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Phillips</last-name>
<first-name>Hassan</first-name>
<department>2467</department>
</primary-examiner>
<assistant-examiner>
<last-name>Foud</last-name>
<first-name>Hicham</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A system for controlling packet forwarding through a dual-homed connection between first and second network domains, the dual-homed connection including two peer nodes connected to the first and second network domains. A sub-ring network is instantiated in the first network domain, and includes at least two nodes connected in a linear topology between a pair of end-nodes. Each end-node corresponds with a respective one of the peer nodes. A virtual link through the second network domain for conveys traffic of the sub-ring network between the peer nodes, and closes the sub-ring network to define a ring topology. Each of the nodes of the sub-ring network is controlled to forward packets of the sub-ring network in accordance with a ring network routing scheme.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="69.00mm" wi="171.62mm" file="US08625410-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="183.73mm" wi="156.21mm" orientation="landscape" file="US08625410-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="190.75mm" wi="162.81mm" orientation="landscape" file="US08625410-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="187.71mm" wi="160.19mm" orientation="landscape" file="US08625410-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="218.02mm" wi="157.82mm" orientation="landscape" file="US08625410-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0002" num="0001">The present invention relates to management of traffic forwarding in packet networks, and in particular to methods of preventing loops in multicast routes mapped through a packet network.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">Ethernet is increasingly popular as a transport network for high speed Wide Area Network (WAN) communications. Various techniques have been developed to enable the deployment of Ethernet transport networks with a mesh topology. Among other things, these enable the provisioning of topologically diverse paths for traffic protection, while preventing the formation of loops within the network.</p>
<p id="p-0004" num="0003">Referring to <figref idref="DRAWINGS">FIG. 1</figref><i>a</i>, Split Multi Link Trunking (SMLT), which is described in Applicant's U.S. Pat. No. 7,269,132 provides a technique by which a client system (CS) <b>2</b> can be connected to an Ethernet network domain <b>4</b> though a pair of peer Ethernet Switches (ESs) <b>6</b><i>a</i>-<i>b</i>. In very general terms, a Split Link Aggregation Group (SLAG) <b>8</b> is defined, which comprises a plurality of parallel links <b>10</b> (in <figref idref="DRAWINGS">FIG. 1</figref><i>a</i>, the SLAG comprises two parallel links). At one end of the SLAG <b>8</b>, the links <b>10</b> are connected to the CS <b>2</b> via an aggregator function <b>12</b>, which serves to distributed packet traffic across the links <b>10</b> of the SLAG <b>8</b>. At the opposite end of the SLAG <b>8</b>, each link <b>10</b> is connected to a respective ES <b>6</b>, via a corresponding instance of a distributed aggregator function <b>14</b>. This arrangement provides a &#x201c;dual homed&#x201d; connection to the Ethernet domain <b>4</b>, and facilitates load balancing and inherent resiliency. In order to prevent network instability and loops, complex algorithms must be implemented to coordinate the operations of the peer ESs <b>6</b><i>a</i>-<i>b</i>. Typically, this involves controlling the distributed aggregator function <b>14</b> and the involved peer ESs <b>6</b> to emulate a single aggregator/ES system which mirrors the CS/aggregator system <b>2</b>,<b>12</b> at the other end of the SLAG <b>8</b>.</p>
<p id="p-0005" num="0004">Referring to <figref idref="DRAWINGS">FIG. 1</figref><i>b</i>, dual homing is also known for connecting neighboring network domains. In the example illustrated in <figref idref="DRAWINGS">FIG. 1</figref><i>b</i>, an Ethernet domain <b>4</b> may be connected to a Provider Backbone Transport (PBT) network domain <b>16</b> via a pair of peer gateways <b>18</b><i>a</i>-<i>b</i>. Within each domain, respective processes can be used to compute paths and install traffic forwarding information to enable end-to-end connectivity. For example, spanning tree protocol may be used to compute paths in Ethernet and PBT network domains, while MPLS may be used in an IP domain. As in the case of Split Multi Link Trunking, it is normally necessary to implement complex algorithms in each of the peer gateways <b>18</b> to prevent the formation of loops.</p>
<p id="p-0006" num="0005">For example, consider a scenario in which an Ethernet domain <b>4</b> is connected to a PBT network domain <b>16</b> via a pair of peer gateways <b>18</b>, as shown in <figref idref="DRAWINGS">FIG. 1</figref><i>b</i>. In each network domain, spanning tree protocol is used to compute paths and prevent the formation of loops. However, by definition, paths are computed in each domain independently. As a result, there is, in principle, nothing to prevent a path <b>20</b> between the two peer gateways <b>18</b> being set up through the Ethernet domain <b>4</b>, and a second path <b>22</b> between the two gateways <b>18</b> being set up through the PBT domain <b>16</b>. Within each domain, each path <b>20</b>,<b>22</b> is guaranteed to be loop free, by operation of STP. However, taken together the two paths form a loop which, under some circumstances, could destabilize the network. Typically, this problem is addressed by implementing special algorithms in the peer gateways <b>18</b> and/or one of the network domains, to coordinate operations of the two peer gateways <b>18</b> so as to prevent packets from looping. For example, in some cases, forwarding information in each gateway <b>18</b> may be arranged to force traffic through only one of the two gateways <b>18</b>.</p>
<p id="p-0007" num="0006">A simpler method that enables resilient connection of an Ethernet domain to another network domain remains highly desirable.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0008" num="0007">Thus, an aspect of the present invention provides a system for controlling packet forwarding through a dual-homed connection between first and second network domains, the dual-homed connection including two peer nodes connected to the first and second network domains. A sub-ring network is instantiated in the first network domain, and includes at least two nodes connected in a linear topology between a pair of end-nodes. Each end-node corresponds with a respective one of the peer nodes. A virtual link through the second network domain conveys traffic of the sub-ring network between the peer nodes, and closes the sub-ring network to define a ring topology. Each of the nodes of the sub-ring network is controlled to forward packets of the sub-ring network in accordance with a ring network routing scheme.</p>
<p id="p-0009" num="0008">An advantage of the present invention is that a ring network routing scheme is used to control traffic forwarding through the dual-homed connection, independently of the physical typology of the network. This enables simple and robust protection switching functionality, high speed failure recovery and guaranteed loop freeness, without the need for complex algorithms to coordinate behaviours of the involved peer nodes.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0010" num="0009">Further features and advantages of the present invention will become apparent from the following detailed description, taken in combination with the appended drawings, in which:</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIGS. 1</figref><i>a </i>and <b>1</b><i>b </i>schematically illustrate respective different dual-homed connections known in the art;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 2</figref> schematically illustrates a network having a ring topology known, for example, from ITU/T recommendation G.8032;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3</figref> schematically illustrates a sub-ring network in accordance with a representative embodiment of the present invention;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 4</figref> schematically illustrates a dual-homed connection implemented using a sub-ring network in accordance with a first embodiment of the present invention;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 5</figref> schematically illustrates a dual-homed connection implemented using a sub-ring network in accordance with a second embodiment of the present invention; and</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIGS. 6</figref><i>a </i>and <b>6</b><i>b </i>schematically illustrate a dual-homed connection implemented using a sub-ring network in accordance with a third embodiment of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<p id="p-0017" num="0016">It will be noted that throughout the appended drawings, like features are identified by like reference numerals.</p>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
<p id="p-0018" num="0017">The present invention provides a method of supporting dual homed interworking between an Ethernet network domain and a foreign network domain. Embodiments of the invention are described below, by way of example only, with reference to <figref idref="DRAWINGS">FIGS. 2-6</figref>.</p>
<p id="p-0019" num="0018">ITU-T SG15/Q9 recommendation G.8032 (June, 2008) describes protection switching in an Ethernet ring. Referring to <figref idref="DRAWINGS">FIG. 2</figref>, an Ethernet ring <b>24</b> is an Ethernet network comprising nodes <b>26</b> and links <b>28</b> connected together in a ring topology. One of the links of the ring is designated as a Ring Protection Link (RPL), and is disabled during normal operation of the ring by placing a channel block <b>30</b> on that link. Typically, a channel block <b>30</b> is imposed at a node at one end of the RPL, which node may then be referred to as the RPL Owner. In some cases, the channel block <b>30</b> may, for example, comprise a policy that prevents packets of the ring from being forwarded through a port hosting the RPL. With such a channel block <b>30</b> in place, the ring <b>24</b> is guaranteed to be loop free, and conventional Ethernet MAC-learning and path computation can be used to compute and install appropriate forwarding information in each node <b>26</b> of the ring <b>24</b>.</p>
<p id="p-0020" num="0019">As described in ITU-T recommendation G.8032, a failure of either a link <b>28</b> or a node <b>26</b> of the ring <b>24</b> will be detected by the two nodes <b>26</b> nearest the point of failure. Both of these nodes will send a Failure Indication Message (FIM) to their nearest neighbor nodes in the ring, and these FIMs will be propagated, in opposite directions, around the ring <b>24</b>. Upon receipt of a FIM, each node <b>26</b> flushes its forwarding database (FDB), and forwards the FIM to the next node on the ring <b>24</b>. In addition, the RPL-Owner will remove the channel block <b>30</b>. This effectively enables connectivity within the ring <b>24</b> to be re-established using conventional Ethernet flooding and MAC learning functionality.</p>
<p id="p-0021" num="0020">An advantage of ITU-T recommendation G.8032 is that it utilizes conventional Ethernet path labeling and packet forwarding techniques to implement a ring network. However, ITU-T recommendation G.8032 contemplates an arrangement in which the ring network is defined entirely within a given Ethernet network domain.</p>
<p id="p-0022" num="0021">The present invention provides a sub-ring network, and techniques for using the sub-ring to enable dual homed interworking with high speed protection switching and guaranteed loop freeness.</p>
<p id="p-0023" num="0022">Referring to <figref idref="DRAWINGS">FIG. 3</figref>, a sub-ring network <b>32</b> is an Ethernet network (or sub-network) which includes two or more neighbor nodes <b>34</b> interconnected by links <b>36</b> to form a linear path extending between two &#x201c;end-nodes&#x201d; (nodes <b>34</b><i>b </i>and <b>34</b><i>d </i>in <figref idref="DRAWINGS">FIG. 3</figref>). A virtual connection (or link) <b>38</b> is set up through a foreign network domain <b>40</b> between the two end-nodes <b>34</b><i>b </i>and <b>34</b><i>d</i>. As may be seen in <figref idref="DRAWINGS">FIG. 3</figref>, the virtual link <b>40</b> &#x201c;closes&#x201d; the sub-ring network to provide a ring-topology. In the context of the present invention, the foreign network domain <b>40</b> refers to any network domain that is not part of the sub-ring <b>32</b> itself, but is otherwise capable of providing a path to transport packets between the two end nodes (<b>34</b><i>b </i>and <b>34</b><i>d </i>in <figref idref="DRAWINGS">FIG. 3</figref>).</p>
<p id="p-0024" num="0023">In order to guarantee loop-freeness, one of the end-nodes (<b>34</b><i>d </i>in <figref idref="DRAWINGS">FIG. 3</figref>) is designated as an RPL-Owner, and the link connecting the RPL-Owner to its nearest neighbor on the sub-ring <b>32</b> (node <b>34</b><i>c </i>in <figref idref="DRAWINGS">FIG. 3</figref>) is designated as the RPL. A channel block <b>30</b> is imposed on the RPL in order to prevent packet forwarding through the RPL during normal operations of the sub-ring network <b>32</b>. With this arrangement, traffic forwarding, channel blocking and protection schemes of the type known, for example, from ITU-T recommendation G.8032 described above can be implemented in the sub-ring network <b>32</b>, with packet transport through the virtual link <b>38</b> to ensure continuity of the ring topology.</p>
<p id="p-0025" num="0024">In some embodiments, sub-ring control messages, such as Failure Indication Messages can be transported through the virtual link <b>38</b>. In other cases, sub-ring control messages can be terminated at the end-nodes, so that they are not forwarded through the virtual link <b>38</b>. This later option is workable because the virtual link <b>38</b> emulates a direct physical link between the two end nodes, and it is only the end nodes that will act upon any sub-ring control messages sent through the virtual link <b>38</b>. However, the topology of the sub-ring network <b>32</b> ensures that all of the nodes of the sub-ring, including the end nodes, will automatically receive all sub-ring control messaging through the sub-ring itself, and it is not necessary to forward control messages through the virtual link <b>38</b> in order to guarantee this outcome. Thus, proper traffic forwarding and protection switching functionality of the sub-ring network <b>32</b> can be obtained without sending sub-ring control messages through the virtual link <b>38</b>.</p>
<p id="p-0026" num="0025">The sub-ring network <b>32</b> of <figref idref="DRAWINGS">FIG. 3</figref> is composed of four neighbor nodes <b>34</b><i>a</i>-<i>d</i>, but this is not essential. In fact, a sub-ring network <b>32</b> can be composed of as few as two neighbor nodes <b>34</b>, both of which would, in such cases, be end-nodes.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a representative embodiment, in which a 3-node sub-ring network <b>32</b> is used to establish a dual-homed connection between a client system (CS) <b>2</b> and an Ethernet network domain <b>4</b>. The CS <b>2</b> may, for example, be a computer system or a local area network (LAN) at a client site, and is connected to the Ethernet domain <b>4</b> via a pair of links <b>10</b> and Ethernet switches <b>6</b>, in a manner similar to that described above with reference to <figref idref="DRAWINGS">FIG. 1</figref><i>a</i>. Typically, an Ethernet Switching function (ESF) <b>42</b> may be implemented at the client site to facilitate traffic forwarding between the CS <b>2</b> and the Ethernet domain <b>4</b>. The ESF <b>42</b> may be implemented using an Ethernet Switch connected to the CS <b>2</b> or by means of suitable software implemented on the CS <b>2</b> itself, if desired.</p>
<p id="p-0028" num="0027">In the embodiment of <figref idref="DRAWINGS">FIG. 4</figref>, the sub-ring network <b>32</b> comprises the ESF <b>42</b> at the client site and the pair of Ethernet Switches (ESs) <b>6</b> of the Ethernet domain <b>4</b>, which also serve as end-nodes of the sub-ring <b>32</b>. A conventional Ethernet path <b>44</b> is set up through the Ethernet domain <b>4</b> between the two ESs <b>6</b> to provide a virtual connection which closes the ring topology of the sub-ring network <b>32</b>. One of the ESs <b>6</b> is designated as the RPL-Owner, and imposes a channel block <b>30</b> on its link <b>10</b> to the ESF <b>42</b> so as to guarantee loop freeness of the sub-ring network <b>32</b>.</p>
<p id="p-0029" num="0028">With this arrangement, traffic forwarding, channel blocking and protection schemes of the type known, for example, from ITU-T recommendation G.8032 can be implemented to control packet flows to and from the CS <b>2</b>. End-to-end connectivity between the CS <b>2</b> and addresses reachable through the Ethernet domain <b>4</b> can be established by means of conventional MAC learning and path computation techniques to set up paths (not shown in <figref idref="DRAWINGS">FIG. 4</figref> extending from either one or both of the two peer ESs <b>6</b>. Once these paths have been set up through the Ethernet domain <b>4</b>, packet flows to and from the CS <b>2</b> can be properly routed through the appropriate ES <b>4</b> via the active link <b>10</b> of the sub-ring <b>32</b> and the path <b>44</b> between the two ESs <b>6</b>.</p>
<p id="p-0030" num="0029">Within the Ethernet domain <b>4</b>, loop-freeness is ensured by conventional algorithms (such as STP or IS-IS, for example) known in the art. Loop-freeness through the dual homed connection between the CS <b>2</b> and the Ethernet domain <b>4</b> is ensured by the channel block <b>30</b>, which forces all traffic to and from the CS <b>2</b> to traverse the active (non-blocked) link <b>10</b>. However, in the event of a failure of the active link <b>10</b>, the ring topology of the dual-homed connection means that traffic can be rapidly re-routed to restore end-to-end connectivity, without requiring new paths to be computed through the Ethernet domain <b>4</b>.</p>
<p id="p-0031" num="0030">An advantage of the arrangement of <figref idref="DRAWINGS">FIG. 4</figref> is that sophisticated algorithms are not required to coordinate the behaviours of the peer ESs <b>6</b>. Rather, each ES <b>6</b> can implement conventional path computation and traffic forwarding methods, because the sub-ring network <b>32</b> ensures loop-free traffic flows between the peer ESs <b>6</b> and the CS <b>2</b>.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a further representative embodiment, in which a 4-node sub-ring network <b>32</b> is used to establish a dual-homed connection between an Ethernet domain <b>4</b> and a foreign network domain <b>40</b> which are interconnected via a pair of peer gateways <b>46</b>. In this embodiment, the foreign network domain <b>40</b> may be any network domain operating under an administrative management scheme that is independent of that of the Ethernet domain <b>4</b>. The foreign network domain <b>40</b> could, for example, be another Ethernet domain, an IP domain, a Provider Backbone Transport (PBT) domain, a Multi-Protocol Label Switching (MPLS) domain, a Virtual Private LAN Service (VPLS) domain, or any other network domain capable of supporting packet traffic flows.</p>
<p id="p-0033" num="0032">In the embodiment of <figref idref="DRAWINGS">FIG. 5</figref>, the sub-ring network <b>32</b> comprises two nodes <b>26</b> of the Ethernet domain <b>4</b> and the two peer gateways <b>46</b> which also serve as end-nodes of the sub-ring <b>32</b>. One of the gateways <b>46</b> is designated as the RPL-Owner, and imposes a channel block <b>30</b> on the link to its nearest neighbor node <b>26</b> on the sub-ring <b>32</b>, so as to guarantee loop freeness of the sub-ring network <b>32</b>. A path <b>48</b> is mapped through the foreign network domain <b>40</b> between the two gateways <b>46</b> to provide a virtual connection which closes the ring topology of the sub-ring network <b>32</b>. For example, in the case of an IP network domain, the path <b>48</b> may be set up as a label switched path computed using MPLS, for example. In the case of a PBT domain, the path <b>48</b> may be a least-cost path computed using a Djikstra algorithm. Other methods of computing the path <b>48</b> for the virtual connection between the two gateways <b>46</b> may be used, as desired.</p>
<p id="p-0034" num="0033">With the arrangement of <figref idref="DRAWINGS">FIG. 5</figref>, traffic forwarding, channel blocking and protection schemes of the type known, for example, from ITU-T recommendation G.8032 can be implemented to control packet flows within the sub-ring <b>32</b>, and thus between the two interconnected network domains <b>4</b>, <b>40</b>. Within the Ethernet domain <b>4</b>, conventional packet forwarding and path computation schemes can be used to ensure loop freeness of traffic flows to and from the sub-ring <b>32</b>. Conventional traffic forwarding protocols can be implemented in the foreign network domain <b>40</b> to convey traffic to and from the peer gateways <b>46</b>. In some networks (e.g. PBT networks) these protocols also ensure loop freeness within the foreign domain <b>40</b>. In other cases (e.g. IP networks), loop freeness is not guaranteed. However, even where loop freeness within the foreign network domain <b>40</b> is not guaranteed, the operation of the sub-ring <b>32</b> effectively insulates the Ethernet domain <b>4</b> from any looping traffic, by forcing any given traffic flow to traverse the boundary between the two network domains <b>4</b>,<b>40</b> through only one of the two gateways <b>46</b>.</p>
<p id="p-0035" num="0034">An advantage of the arrangement of <figref idref="DRAWINGS">FIG. 5</figref> is that sophisticated algorithms are not required to coordinate the behaviours of the peer Gateways <b>46</b>. Rather, each Gateway <b>46</b> can implement conventional protocol translation and packet forwarding strategies for each network domain, because the sub-ring network <b>32</b> ensures loop-free traffic flows between the two network domains.</p>
<p id="p-0036" num="0035">As mentioned above, an advantage of, ITU-T recommendation G.8032 is that it utilizes conventional Ethernet path labelling and packet forwarding techniques to implement a ring network topology. These same techniques can be used to implement the sub-ring network <b>32</b> of <figref idref="DRAWINGS">FIGS. 3-5</figref>. Thus, for example, the sub-ring network <b>32</b> may be identified using a given Virtual Local Area Network (VLAN) identifier, or a Bearer VLAN identifier (BVID), and respective forwarding information computed for each node of the sub-ring <b>32</b> to provide proper forwarding of packets encapsulated with the VLAN (or BVID) of the sub-ring <b>32</b>.</p>
<p id="p-0037" num="0036">In the embodiment of <figref idref="DRAWINGS">FIG. 4</figref>, the same VLAN (or BVID) can be used to identify both the sub-ring links <b>10</b> and the virtual link <b>44</b>. In the embodiment of <figref idref="DRAWINGS">FIG. 5</figref>, the foreign network domain <b>40</b> will assign an identifier to the virtual connection <b>48</b>, which will normally not match the VLAN (or BVID) assigned to the sub-ring <b>32</b> in the Ethernet domain <b>4</b>. In this case, each gateway <b>46</b> can implement conventional techniques to identify and properly route traffic of the sub-ring <b>32</b>. For example, in an embodiment in which the virtual link <b>48</b> is a label-switched path set up through an IP network domain, each gateway <b>46</b> would implement a conventional encapsulation function in which packets bearing the VLAN (or BVID) of the sub-ring <b>32</b> are encapsulated and forwarded with the label assigned to the virtual link <b>48</b>.</p>
<p id="p-0038" num="0037">As may be appreciated, there may be as many sub-rings <b>32</b> as there are VLANs (or BVIDs) available to identify them. Thus, for example, in the embodiment of <figref idref="DRAWINGS">FIG. 5</figref>, it is possible to implement virtually any desired number of sub-rings <b>32</b> to control traffic flows between the two network domains <b>4</b>, <b>40</b>. Furthermore, each such sub-ring is defined on a per-VLAN (or per-BVID) basis, and so is independent of each of the other sub-rings. This implies that each sub-ring may be topologically similar or dissimilar from any other sub-ring, as desired. By suitable selection of the RPL of each sub-ring, it is therefore possible to use two or more sub-rings to achieve effective load balancing between the two gateways <b>46</b>.</p>
<p id="p-0039" num="0038">In some networks, it is common to assign a VLAN ID to identify traffic flows associated with a specific network service instance. For example, traffic flows belonging to a given customer may assigned a specific VLAN ID. Where the service instance requires double-homed interworking, sub-rings can be instantiated as required. For example, a first sub-ring may be instantiated to connect a customer site to the network, as described above with reference to <figref idref="DRAWINGS">FIG. 4</figref>. A second sub-ring may be instantiated to enable the customer to reach addresses in a foreign network domain, as described above with reference to <figref idref="DRAWINGS">FIG. 5</figref>. In some embodiments, each of the sub-rings instantiated for a given network service instance may use the same VLAN ID. If desired, different BVIDs may be assigned to each sub-ring (and/or connections between them) to facilitate network operations, administration and maintenance (OAM), while the use of a common VLAN ID facilitates traffic forwarding and accounting functions related to the involved service instance.</p>
<p id="p-0040" num="0039">As mentioned above, a sub-ring network may have any desired number N&#x2267;2 of nodes. The embodiments described above with references to <figref idref="DRAWINGS">FIGS. 3-5</figref> assume that the nodes and links of the sub-ring correspond with nodes and links of the physical network in which the sub-ring is implemented. However, this is not essential. <figref idref="DRAWINGS">FIG. 6</figref><i>a </i>illustrates an embodiment in which a sub-ring <b>32</b> is extended across an Ethernet domain <b>4</b> from a client system (CS) <b>2</b> to a pair of peer gateways <b>46</b> providing connectivity to a foreign network domain <b>40</b>. In this case, the CS <b>2</b> (or the ESF, as applicable) may be designated as a root node of the sub-ring <b>32</b>, and the two gateways <b>46</b> are end-nodes as described above with reference to <figref idref="DRAWINGS">FIG. 5</figref>. As may be seen in <figref idref="DRAWINGS">FIG. 6</figref><i>a</i>, each of the two spans <b>50</b> of the sub-ring <b>32</b> (respectively extending from the CS to each of the gateways) traverse at least the ESs <b>6</b> that host the physical links <b>10</b> to the CS <b>2</b>, and possibly multiple intermediate nodes (not shown) between the ESs <b>6</b> and the gateways <b>46</b>. However, provided that the two spans <b>50</b> traverse topologically diverse paths, the ring topology is preserved. Furthermore, since traffic leaves and joins the sub-ring network <b>32</b> only at the root node (i.e. the CS <b>2</b>) and the two end-nodes (gateways <b>46</b>), it is only actually necessary to implement ITU-T G.8032 channel blocking and protection switching functionality at these nodes. Any intermediate nodes traversed by the two spans <b>50</b> of the sub-ring <b>32</b> may implement a conventional traffic forwarding function in the same manner as for a conventional point-to-point path. As such, while the sub-ring <b>32</b> of <figref idref="DRAWINGS">FIG. 6</figref><i>a </i>may traverse multiple physical nodes and links, only three nodes are required to implement special traffic forwarding and channel blocking functionality, so that the sub-ring <b>32</b> can be logically represented as a three-node sub-network, as illustrated in <figref idref="DRAWINGS">FIG. 6</figref><i>b. </i></p>
<p id="p-0041" num="0040">As mentioned above, the sub-ring network <b>32</b> can be guaranteed to be loop-free by placing a channel block <b>30</b> on a link (designated as the RPL) of the sub-ring <b>32</b> at one of the end-nodes (designated as the RPL-Owner). Thus, in the embodiments of <figref idref="DRAWINGS">FIGS. 5 and 6</figref><i>a</i>, a channel block <b>30</b> can be placed on a link <b>28</b> hosted by one of the gateways <b>46</b>, which is designated as the RPL-Owner. However, in the embodiment of <figref idref="DRAWINGS">FIG. 6</figref><i>a </i>packets flooded into the sub-ring <b>32</b> from the CS <b>2</b> will propagate through both spans <b>50</b> all the way to both gateways <b>46</b>. It is only when packets being flooded through the &#x201c;inactive&#x201d; span <b>50</b><i>b </i>actually reach the RPL-Owner (gateway <b>46</b><i>b</i>) that the inactive span is actually identified as such and the packets discarded. This can lead to un-necessary packet flooding within the Ethernet network domain <b>4</b>, which is undesirable.</p>
<p id="p-0042" num="0041">A solution to this problem is to designate one span <b>50</b> (traversing any number of physical links) of the sub-ring <b>32</b> as the Ring Protection Span, and place channel blocks <b>30</b> at both ends of that span, as shown in <figref idref="DRAWINGS">FIG. 6</figref><i>b</i>. With this arrangement, packets will only be &#x201c;flooded&#x201d; into the sub-ring network along the active span, which ensures MAC learning and forwarding information computation with minimal un-necessary packet flooding. In response to a network failure, failure indication messages will be propagated around the sub-ring in the manner described above with reference to <figref idref="DRAWINGS">FIG. 2</figref> and ITU-T recommendation G.8032. In this case, however, there are two nodes designated as RPL-Owners, each of which will respond by removing its respective channel block to restore connectivity.</p>
<p id="p-0043" num="0042">The embodiment(s) of the invention described above is (are) intended to be exemplary only. The scope of the invention is therefore intended to be limited solely by the scope of the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>We claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A system for controlling packet forwarding through a dual-homed connection between first and second network domains, the dual-homed connection comprising two peer nodes connected to the first and second network domains, the system comprising:
<claim-text>a sub-ring network instantiated in the first network domain and comprising at least two nodes connected in a linear topology between a pair of end-nodes, each end-node corresponding with a respective one of the peer nodes; and</claim-text>
<claim-text>a virtual link through the second network domain for conveying traffic of the sub-ring network between the peer nodes, the virtual link closing the sub-ring network to define a ring topology;</claim-text>
<claim-text>wherein each of the nodes of the sub-ring network is controlled to forward packets of the sub-ring network and through the virtual link in accordance with an Ethernet ring protection routing scheme;</claim-text>
<claim-text>wherein one node of the sub-ring network is designated as a Ring Protection Link Owner that imposes a channel block on an adjacent link of the sub-network during normal operation of the sub-ring network thereby guaranteeing a loop free topology in both the first and second network domains and restores packet forwarding between the first and second network domains by removing the channel block in a failure mode of the sub-ring network;</claim-text>
<claim-text>wherein the Ethernet ring protection routing scheme operates in accordance with ITU-T SG15/Q9 recommendation G.8032 (February, 2008) with the sub-ring network and the virtual link forming a ring contained in separate domains comprising the first network domain and the second network domain; and</claim-text>
<claim-text>wherein the Ethernet ring protection routing scheme operates in both the first and second network domains utilizing the virtual link in the second network domain for sending traffic without sending sub-ring control messages comprising Failure Indication Messages therethrough during all operations of the sub-ring network.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The system as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein one of the end-nodes is designated as the Ring Protection Link Owner.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The system as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first network domain is an Ethernet access network and the second network domain is an Ethernet network domain, and wherein the sub-ring network comprises an Ethernet switching function of a client system (CS) connected to a pair of peer Ethernet switches (ESs) of the Ethernet network domain via respective links to define a dual-homed connection between the CS and the Ethernet network domain.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The system as claimed in <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the virtual link comprises a connection through the Ethernet network domain between the peer Ethernet switches.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The system as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first network domain is an Ethernet network domain and the second network domain comprises a foreign network domain that is administered independently of the first network domain, and wherein each peer node is a gateway between the first and second network domains.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The system as claimed in <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the foreign network domain is any one of an Ethernet domain, an IP domain, a Provider Backbone Transport (PBT) domain, a Multi-Protocol Label Switching (MPLS) domain, and a Virtual Private LAN Service (VPLS) domain.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The system as claimed in <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the virtual link comprises a connection through the foreign network domain between the gateways.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The system as claimed in <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the nodes of the sub-ring are physical neighbour nodes of the first network domain.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The system as claimed in <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein at least one node of the sub-ring is a root node logically connected to each gateway via a respective span of the sub-ring network, each span comprising two or more physical links of the network between the root node a respective one of the gateways and implementing traffic forwarding according to a linear routing scheme.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The system as claimed in <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein one span of the sub-ring network is designated as a Ring Protection Span, and wherein respective channel blocks are imposed at opposite ends of the Ring Protection Span.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The system as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the channel block for the Ethernet ring protection routing scheme is constrained to be only on an adjacent link of the end-nodes.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The system as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein a same Virtual Local Area Network Identifier is utilized to identify links on the sub-ring and the virtual link.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The system as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein a Virtual Local Area Network Identifier is utilized to identify links on the sub-ring and the second network domain assigns a different identifier to the virtual link with encapsulation functions used to forward traffic in the second network domain over the virtual link.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The system as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a client system communicatively coupled to a first Ethernet switch in the first network domain and a second Ethernet switch in the first network domain;</claim-text>
<claim-text>wherein a second channel block is placed on one of the links from the client system to the first network domain to minimize unnecessary packet flooding.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The system as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first network domain comprises an Ethernet network domain and the second network domain comprises one of an Internet Protocol domain, a Provider Backbone Transport (PBT) domain, and a Multi-Protocol Label Switching (MPLS) domain.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The system as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each of the pair of end-nodes implements conventional protocol translation and packet forwarding strategies for each of the first network domain and the second network domain because the sub-ring network ensures loop-free traffic flows between the first network domain and the second network domain instead of requiring algorithms for coordination between the pair of end-nodes.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. A method for controlling packet forwarding through a dual-homed connection between first and second network domains, comprising:
<claim-text>operating the dual-homed connection between two peer nodes connected to the first and second network domains;</claim-text>
<claim-text>operating a sub-ring network instantiated in the first network domain and comprising at least two nodes connected in a linear topology between a pair of end-nodes, each end-node corresponding with a respective one of the peer nodes;</claim-text>
<claim-text>operating a virtual link through the second network domain for conveying traffic of the sub-ring network between the peer nodes, the virtual link closing the sub-ring network to define a ring topology;</claim-text>
<claim-text>forwarding packets on the sub-ring and through the virtual link in accordance with ITU-T SG15/Q9 recommendation G.8032 (February, 2008) with the sub-ring and the virtual link forming a ring contained in separate domains comprising the first and second network domains; and</claim-text>
<claim-text>designating one node of the sub-ring network as a Ring Protection Link Owner that imposes a channel block on an adjacent link of the sub-network during normal operation of the sub-ring network thereby guaranteeing a loop free topology in both the first and second domains and restores packet forwarding between the first and second network domains by removing the channel block in a failure mode of the sub-ring network;</claim-text>
<claim-text>wherein sub-ring control messages comprising Failure Indication Messages are not forwarded through the virtual link during all operations of the sub-ring network.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. A G.8032 Ethernet ring end node coupled to a first domain and located in a second domain, comprising:
<claim-text>a first port coupled via a first link to a node in the first domain, wherein the first port participates in a sub-ring instantiated in the first domain;</claim-text>
<claim-text>a second port coupled via one or more links to an end node in the second domain, wherein the second port participates in a virtual link through the second domain, the virtual link closing the sub-ring network to define a ring topology;</claim-text>
<claim-text>wherein the first port and the second port are configured to forward packets on sub-ring and through the virtual link in accordance with ITU-T SG15/Q9 recommendation G.8032 (February, 2008) with the sub-ring and the virtual link forming a ring contained in separate domains comprising the first and second network domains;</claim-text>
<claim-text>wherein the first port imposes a channel block on the first during normal operation of the sub-ring thereby guaranteeing a loop free topology in both the first domain and the second domain and the first port restores packet forwarding on the first link by removing the channel block in a failure mode; and</claim-text>
<claim-text>wherein sub-ring control messages comprising Failure Indication Messages are not forwarded through the virtual link during all operations of the sub-ring network. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
