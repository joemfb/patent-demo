<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08622539-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08622539</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12616053</doc-number>
<date>20091110</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>786</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>B</section>
<class>41</class>
<subclass>J</subclass>
<main-group>29</main-group>
<subgroup>38</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>B</section>
<class>41</class>
<subclass>J</subclass>
<main-group>3</main-group>
<subgroup>36</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>347109</main-classification>
<further-classification>347 14</further-classification>
</classification-national>
<invention-title id="d2e53">Two-dimensional absolute position sensor and projection control for a handheld printer</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5825995</doc-number>
<kind>A</kind>
<name>Wiklof et al.</name>
<date>19981000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6618078</doc-number>
<kind>B1</kind>
<name>Budrys</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>34820799</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6846119</doc-number>
<kind>B2</kind>
<name>Walling</name>
<date>20050100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>400 88</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>7876472</doc-number>
<kind>B2</kind>
<name>Gudan et al.</name>
<date>20110100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  118</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2002/0154186</doc-number>
<kind>A1</kind>
<name>Matsumoto</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>347 14</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2003/0043388</doc-number>
<kind>A1</kind>
<name>Andrews et al.</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  17</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2004/0027443</doc-number>
<kind>A1</kind>
<name>Trent</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>347109</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2004/0233242</doc-number>
<kind>A1</kind>
<name>Patton et al.</name>
<date>20041100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>347 14</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2007/0076082</doc-number>
<kind>A1</kind>
<name>Cook</name>
<date>20070400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>347109</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2007/0139507</doc-number>
<kind>A1</kind>
<name>Ahne et al.</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>347109</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2007/0139508</doc-number>
<kind>A1</kind>
<name>Muyskens</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>347109</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2007/0147930</doc-number>
<kind>A1</kind>
<name>Nishath et al.</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>400 88</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2008/0055384</doc-number>
<kind>A1</kind>
<name>Noe et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>347109</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2008/0075511</doc-number>
<kind>A1</kind>
<name>Reed et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>400 88</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2008/0170900</doc-number>
<kind>A1</kind>
<name>James et al.</name>
<date>20080700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>400 88</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>2008/0262719</doc-number>
<kind>A1</kind>
<name>Bledsoe et al.</name>
<date>20081000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701207</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>2008/0316290</doc-number>
<kind>A1</kind>
<name>Brown et al.</name>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>347109</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>2009/0040286</doc-number>
<kind>A1</kind>
<name>Tan et al.</name>
<date>20090200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>347109</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>2009/0141112</doc-number>
<kind>A1</kind>
<name>Bergman et al.</name>
<date>20090600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>347109</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>JP</country>
<doc-number>9156163</doc-number>
<date>19970600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>JP</country>
<doc-number>10029346</doc-number>
<date>19980200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>JP</country>
<doc-number>2004-106329</doc-number>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00023">
<othercit>Japanese Patent Application No. 2007-265847 Office Action dated Jun. 19, 2012, 3 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00024">
<othercit>Japanese Patent Application No. 2007-265847 Office Action dated Sep. 11, 2012, 5 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>17</number-of-drawing-sheets>
<number-of-figures>17</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110109678</doc-number>
<kind>A1</kind>
<date>20110512</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Schwartz</last-name>
<first-name>Edward L.</first-name>
<address>
<city>Sunnyvale</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Gudan</last-name>
<first-name>Kenneth F.</first-name>
<address>
<city>Sunnyvale</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Schwartz</last-name>
<first-name>Edward L.</first-name>
<address>
<city>Sunnyvale</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Gudan</last-name>
<first-name>Kenneth F.</first-name>
<address>
<city>Sunnyvale</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Patent Law Works LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Ricoh Co., Ltd.</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Meier</last-name>
<first-name>Stephen</first-name>
<department>2853</department>
</primary-examiner>
<assistant-examiner>
<last-name>Liang</last-name>
<first-name>Leonard S</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A handheld portable printer includes members and a handle that are joined together to form a generally O-shaped device. The members provide a rigid and strong structure and an area for housing a projector to project an image on the print surface of the image to be printed. The bottom member houses a pair of absolute position sensors spaced apart and aligned upon the longitudinal axis on the bottom of the handheld portable printer. A controller is associated with the absolute position sensors to produce precise position information. The controller uses the precise position information to control the projection of the image to be printed and the printing of pixels by the print head. In one embodiment, the print head is controlled such that each pixel is printed at least twice. The present invention also includes a number of novel methods including: a method for printing an image with a handheld printer, a method for projecting an image to be printed, and a method for registering a location of a printer and portions of a printed image.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="238.08mm" wi="165.27mm" file="US08622539-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="220.47mm" wi="187.62mm" file="US08622539-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="243.16mm" wi="180.42mm" orientation="landscape" file="US08622539-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="231.06mm" wi="182.20mm" orientation="landscape" file="US08622539-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="229.28mm" wi="127.93mm" file="US08622539-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="230.55mm" wi="128.61mm" file="US08622539-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="236.05mm" wi="180.42mm" orientation="landscape" file="US08622539-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="225.81mm" wi="182.37mm" orientation="landscape" file="US08622539-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="198.29mm" wi="175.01mm" orientation="landscape" file="US08622539-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="246.97mm" wi="166.12mm" file="US08622539-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="246.38mm" wi="166.71mm" file="US08622539-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="212.26mm" wi="132.67mm" file="US08622539-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="223.77mm" wi="162.05mm" file="US08622539-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="215.90mm" wi="165.10mm" file="US08622539-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="190.75mm" wi="133.10mm" file="US08622539-20140107-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="211.84mm" wi="137.58mm" file="US08622539-20140107-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="213.19mm" wi="121.41mm" file="US08622539-20140107-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="125.56mm" wi="140.29mm" file="US08622539-20140107-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">The present invention relates to printing devices, and in particular, to a handheld portable printer and a method of operation. Still more particularly, the present invention relates to a two-dimensional absolute position sensor and projection control for a handheld printer.</p>
<p id="p-0004" num="0003">2. Description of the Background Art</p>
<p id="p-0005" num="0004">Printers are well known in the art and there are a variety of different types such as laser printers, dot-matrix printers and ink jet printers. Each of these printers uses a different type of technology for applying the &#x201c;ink&#x201d; to the print media (&#x201c;paper&#x201d;). However, most all printers require that the print media be moved past a relatively stationary print head that applies the &#x201c;ink&#x201d; to the print media. Print heads on tracks that are constrained to not rotate and only translate along one dimension and print heads that contain optics such as mirrors that rotate are examples. Most often such printers have a housing for holding the print head in a fixed orientation and complex paper handling trays and mechanisms to feed the print media past the print head and render the printed output. Since most printers require such a large housing, such printers are not hand held, but rather large devices significantly greater in size than a standard sheet of 8&#xd7;11&#x2033; sheet of paper. While there have been some printers created for a mobile computing environment, such printers often have a print head or print head mechanism that is at least 8.5 inches in length.</p>
<p id="p-0006" num="0005">There have been attempts in the prior art to provide a hand held printer. These attempts include a typical approach of reducing the size of the print head so that it can be mounted within a portable housing along with electronics, the power supply and other elements of a printer. However, existing hand-held printers have significant limitations. For many existing hand-held printers, the size of the image that they are able to print is severely limited. For example, some prior art printers are able to print only while they are stationary, and thus, are limited to printing images less than or equal to the printer itself or the print head, which in either case is less that a few inches square. This also makes the printer bulky and difficult to use.</p>
<p id="p-0007" num="0006">Other handheld printers allow printing while the user moves or &#x201c;swipes&#x201d; the handheld printer across or over the print media. However, these printers are again limited in at least one dimension in the size of the images they are able to print. Specifically, they are only able to print an image less than or equal to the size of the print head, and most are limited to one pass or swipe. For those handheld printers that are able to print in sections, it is very difficult to align the multiple, separate printing steps, swipes or sections. Moreover, some printers allow images to be printed in multiple sections require special paper, registration marks or require starting printing at an edge boundary. Furthermore, there is a high misprinting or failure rate with such multiple section hand-held printers. For example, failure to print the image properly often occurs if the user prematurely removes the printing device from the surface of the print medium.</p>
<p id="p-0008" num="0007">Another problem in the prior art is that it is very difficult to accurately measure the movement of existing handheld printers and determine when the print head should be activated. Without precise and accurate measurement of the position of the handheld printer, there is significant misalignment between the pixels in the image which results in poor and inconsistent print quality.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0009" num="0008">The present invention overcomes the deficiencies and limitations of the prior art by providing a handheld portable printer and a method of operation. In one embodiment, the handheld portable printer includes members and a handle that are joined together to form a generally O-shaped device. The members provide a rigid and strong structure and an area for housing a projector to project an image on the print surface of the image to be printed. The bottom member tapers outward to provide increased stability as the handheld printer is moved across a print medium. The bottom member houses a pair of absolute position sensors spaced apart and aligned upon the longitudinal axis on the bottom of the handheld portable printer. A controller is associated with the absolute position sensors to produce precise position information. The controller uses the precise position information to control the projection of the image to be printed and the printing of pixels by the print head. In one embodiment, the print head is controlled such that each pixel is printed twice if the print head passes over each pixel at least twice. The handle provides additional buttons for inputting commands to lock an image or begin printing, and in one embodiment housing electronics for control and projection of the image to be printed, providing user feedback, and communicating with other devices. The present invention also includes a number of novel methods including: a method for printing an image with a handheld printer, a method for projecting an image to be printed, and a method for registering a location of a printer and portions of a printed image.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0010" num="0009">The invention is illustrated by way of example, and not by way of limitation in the figures of the accompanying drawings in which like reference numerals are used to refer to similar elements.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 1</figref> is an upper, rear perspective view of a first embodiment of the handheld printer according to the present invention.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 2</figref> is a side view of the first embodiment of the handheld printer according to the present invention with a display in a retracted position and a print head transitioning from a print position to a refracted position.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3</figref> is a side view of the first embodiment of the handheld printer according to the present invention with a display in a second position and the print head in the first position.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 4A</figref> is a bottom plan view of the first embodiment of the handheld printer according to the present invention.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 4B</figref> is a bottom plan view of another embodiment of the handheld printer according to the present invention.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 5</figref> is a rear side plan view of the first embodiment of the handheld printer according to the present invention.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram of one embodiment of a computing system of the handheld printer in accordance with the present invention.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 7</figref> is a block diagram of one embodiment of a memory for the computing system of the handheld printer in accordance with the present invention.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 8</figref> is a conceptual block diagram of one embodiment of the handheld printer in accordance with the present invention.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 9</figref> is a flowchart of an embodiment of a method for printing according to the present invention using the handheld printer.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 10</figref> is conceptual block diagram of a second embodiment of the handheld printer according to the present invention.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 11</figref> is a block diagram of a third embodiment of the handheld printer according to the present invention.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 12</figref> is a block diagram of a controller for position determination and printed control for the third embodiment of the handheld printer according to the present invention.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 13</figref> is a block diagram of an embodiment of the handheld printer and his corresponding projection area according to the present invention.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 14</figref> is a flowchart of another embodiment of a method for printing according to the present invention using the handheld printer.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 15</figref> is a flowchart of an embodiment of a method for projecting an image to be printed according to the present invention.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 16</figref> is a diagram showing the transformation of position data to image coordinates according to the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0028" num="0027">A handheld printer and a method for using same are described. In the following description, for purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the invention. It will be apparent, however, to one skilled in the art that the invention can be practiced without these specific details. In other instances, structures and devices are shown in block diagram form in order to avoid obscuring the invention. For example, the present invention is described primarily with reference to printing documents for reading. However, the present invention applies to any type of printing including electronic circuits, partially invisible printing for marking and various other printing techniques.</p>
<p id="p-0029" num="0028">Reference in the specification to &#x201c;one embodiment&#x201d; or &#x201c;an embodiment&#x201d; means that a particular feature, structure, or characteristic described in connection with the embodiment is included in at least one embodiment of the invention. The appearances of the phrase &#x201c;in one embodiment&#x201d; in various places in the specification are not necessarily all referring to the same embodiment.</p>
<p id="p-0030" num="0029">The algorithms and displays presented herein are not inherently related to any particular computer or other apparatus. Various general-purpose systems may be used with programs in accordance with the teachings herein, or it may prove convenient to construct more specialized apparatus to perform the required method steps. The required structure for a variety of these systems will be apparent from the description below. In addition, the present invention is not described with reference to any particular programming language. It will be appreciated that a variety of programming languages may be used to implement the teachings of the invention as described herein.</p>
<p id="p-0031" num="0030">Moreover, the present invention claimed below may operate on or work in conjunction with an information system or network. For example, the invention can operate as a stand alone printer or communicate with a network with additional functionality varying depending on the configuration. Thus, the present invention is capable of operating with any information system from those with minimal functionality to those providing all the functionality disclosed herein.</p>
<p id="p-0032" num="0031">Referring now to <figref idref="DRAWINGS">FIG. 1</figref>, a first embodiment of the handheld printer <b>100</b> is shown. More specifically, <figref idref="DRAWINGS">FIG. 1</figref> shows the handheld printer <b>100</b> in the middle of a print operation on a print medium <b>104</b> such as piece of paper placed on a flat surface <b>102</b>. The handheld printer <b>100</b> includes a portable housing comprised of a top member <b>106</b>, a front member <b>108</b>, a bottom member <b>110</b> and a handle <b>112</b>. These members <b>106</b>, <b>108</b>, <b>110</b> and <b>112</b> are joined together to form a generally O-shaped device. In another embodiment, the handheld printer <b>100</b> has a sideways U-shape without a front member <b>108</b>. These shapes are provided only by way of example, as long as there is structure that is small in proportion to be handheld and offers areas for functionality that will be described above, various other structures are encompassed within the claimed invention. Each of these members <b>106</b>, <b>108</b>, <b>110</b> and <b>112</b> has a generally rectangular shape and different sizes as will be described in more detail below. The top member <b>106</b> has a generally rectangular shape with its rear side tapered to define a rectangular hole through which the scroll dial/scaling knob <b>114</b> protrudes. The top member <b>106</b> has an increased width at the top adapted for placement of a retractable display <b>120</b> (see <figref idref="DRAWINGS">FIGS. 2 and 3</figref>) upon this top surface. The handle <b>112</b> connects to the rear portion of the top member <b>106</b> to the rear portion of the bottom member <b>110</b>. The handle <b>112</b> is sized and shaped such that it can be grasped by the human hand, such as about an inch in width and 3-4 inches in length. In particular, in one embodiment, the front wall of the handle <b>112</b> has four protrusions that define concave areas for receiving the user's fingers. The bottom member <b>110</b> has a width similar to the front member <b>108</b> and the handle <b>112</b>. However, the bottom member <b>110</b> tapers outward to provide increased stability for movement of the handheld printer <b>100</b> across the paper <b>104</b> or other planar surface. The front member <b>108</b> couples the bottom member <b>110</b> to the top member <b>106</b> proximate the front of each member <b>106</b>, <b>110</b>. The front member <b>108</b> is provided to give the handheld printer <b>100</b> a more rigid and strong structure as well as to provide an area for storing consumables <b>808</b> (see <figref idref="DRAWINGS">FIG. 8</figref>) or electronics <b>804</b> (see <figref idref="DRAWINGS">FIG. 8</figref>).</p>
<p id="p-0033" num="0032">Referring now also to <figref idref="DRAWINGS">FIG. 2</figref>, the first embodiment of the handheld printer <b>100</b> will be described in more detail. <figref idref="DRAWINGS">FIG. 2</figref> shows a side view of the handheld printer <b>100</b> in a nonprinting mode. This side view shows the scroll dial <b>114</b> as protruding from the rear side of the top member <b>106</b>. The side view also shows how the top member <b>106</b> defines a slot <b>122</b> adapted to receive and couple with any portable media device <b>150</b> (See <figref idref="DRAWINGS">FIG. 3</figref>).</p>
<p id="p-0034" num="0033">A portable media device <b>150</b> includes a memory card like a SD card, CompactFlash card or MD card as is typically used in digital cameras or portable music players; or a MediaKey which is a card containing an image and a barcode. The barcode has an ID and an encryption key that can be used to access and decrypt media stored on the Internet. In other words, the device can read the barcode on a (codename) MediaKey and download an encrypted image or document, decrypt it, and print it using the handheld printer.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 2</figref> also shows the retractable display <b>120</b> in the retracted position, which is disposed flat upon the top surface of the top member <b>106</b>. For example, the retractable display <b>120</b> could be coupled to the top member <b>106</b> by a spring loaded hinge mounted toward the rear top side of the top member <b>106</b> and the bottom rear side of the retractable display. <figref idref="DRAWINGS">FIG. 2</figref> also illustrates a print button <b>116</b> that extends forward in a hole defined in part by the top member <b>106</b> and in part by the handle <b>112</b>. The user can press the print button <b>116</b> using their index finger while at the same time holding and/or moving the handheld printer <b>112</b>. Specifically, the button <b>116</b> is similar in design to a trigger on a gun. Proximate the front of the bottom member <b>110</b>, a cavity is defined to house the print head <b>118</b>. <figref idref="DRAWINGS">FIG. 2</figref> illustrates the print head <b>118</b> in a transition from a first, printing position to a second retracted position. Finally, a projector <b>126</b> is disposed proximate the front side of the top member <b>106</b>. The projector <b>126</b> is capable of projecting an image on the paper <b>104</b> or the surface <b>102</b>. In one embodiment, the image projected by the projector <b>126</b> is adjustable responsive to user manipulation of the scroll dial <b>114</b>. The projector <b>126</b> may be any one of a conventional type such as provided by a micro-projector; a projector by Blue Light Optics of Cambridge, England; and a MEMS laser projection module by Fraunhofer.</p>
<p id="p-0036" num="0035">Referring now to <figref idref="DRAWINGS">FIG. 3</figref>, an embodiment of the handheld printer <b>100</b> in a printing mode is shown. <figref idref="DRAWINGS">FIG. 3</figref> also shows a user's hand <b>124</b> and how it interacts with the handheld printer <b>100</b>. In the printing mode, the display device <b>120</b> moves from the retracted position adjacent to the top surface of the top member <b>106</b> to an angled position where the angle between the top surface of the top member <b>106</b> and the bottom surface of the display device <b>120</b> is an acute angle. Repositioning the display device <b>120</b> at the angled position makes the display more easily viewable by the user. The user uses their thumb <b>128</b> to manipulate the scroll dial <b>114</b>. The scroll dial <b>114</b> can be rolled forward or backward by the user's thumb <b>128</b> to adjust the size and position of the projected image. In contrast to <figref idref="DRAWINGS">FIG. 2</figref>, the print head <b>118</b> is fully extended and its front edge is adjacent to the paper <b>104</b> to apply ink. As illustrated by the dotted lines <b>130</b>, the projector <b>126</b> of the handheld printer <b>100</b> advantageously projects an image on the paper <b>104</b> with the boundaries depicted by the dotted lines <b>130</b>. During the print operation, the user uses their index finger <b>132</b> to depress the print button <b>116</b>. In response to selection of the print button <b>116</b>, the handheld printer <b>100</b> outputs ink via the print head <b>118</b> on the paper <b>104</b>. In one embodiment, the print button <b>116</b> has two positions, a first position, partially depressed at which the projected image is &#x201c;locked.&#x201d; In the &#x201c;locked&#x201d; mode, the printer <b>100</b> adjusts the appearance of the image projected to account for movement of the printer <b>100</b>, so that regardless of the movement the projection onto the paper <b>104</b> has a constant appearance. If the user continues to depress the print button <b>116</b> to a second position, the projection continues be &#x201c;locked&#x201d; but the printer also performs the printing operation and outputs ink.</p>
<p id="p-0037" num="0036">Referring now also to <figref idref="DRAWINGS">FIG. 4A</figref>, a bottom plan view of the handheld printer <b>100</b> is shown. The bottom plan view of the handheld printer <b>100</b> shows the bottom of the bottom member <b>110</b>, the front side of the front member <b>108</b> and a portion of the bottom of the top member <b>106</b>. It should be noted that <figref idref="DRAWINGS">FIG. 4A</figref> illustrates the print head <b>118</b> in the retracted position. In the print position, the print head <b>118</b> would extend into an area shown in <figref idref="DRAWINGS">FIG. 4A</figref> as the front member <b>108</b>. As can be seen from <figref idref="DRAWINGS">FIG. 4A</figref>, the bottom member <b>110</b> defines a plurality of apertures for position detection sensors <b>140</b>, <b>142</b>, rollers <b>144</b> and the print head <b>118</b>. The handheld printer <b>100</b> advantageously provides a plurality of rollers <b>144</b> so that the handheld printer <b>100</b> may be placed upon the print medium <b>104</b> or other planar surface and moved easily across it. In this embodiment, the handheld printer <b>100</b> has four rollers positioned proximate the corners of the bottom side of the bottom member <b>110</b>. In an alternative embodiment, the function of the rollers is provided by the position detection sensors <b>140</b>, <b>142</b> or the bottom member <b>110</b>, and there are no distinct rollers. The handheld printer <b>100</b> advantageously provides absolute position sensors <b>140</b>, <b>142</b> for detecting movement and determining the position of the handheld printer <b>100</b>. Collectively, these two absolute position sensors <b>140</b>, <b>142</b> create a two-dimensional sensor. Those skilled in the art will recognize that more than two sensors <b>140</b>, <b>142</b> could alternatively be used to create the two-dimensional sensor. In one embodiment, the absolute position sensors <b>140</b>, <b>142</b> are optical sensors. In another embodiment (See <figref idref="DRAWINGS">FIG. 4B</figref>), the absolute position sensors <b>160</b>, <b>162</b> are mechanical sensors such as trackball mice. For example, each absolute position sensor <b>160</b>, <b>162</b> is a mechanical trackball mouse with at least 300 dpi and preferably 400 dpi and 1% accuracy. In this embodiment (referring back to <figref idref="DRAWINGS">FIG. 4A</figref>), two sensors <b>140</b>, <b>142</b> are provided. The first sensor <b>140</b> is positioned on the bottom of the bottom member <b>110</b> proximate the front left side. The second sensor <b>142</b> is positioned on the bottom of the bottom member <b>110</b> proximate the rear right side. The sensors <b>140</b>, <b>142</b> are provided so that the movement of the handheld printer <b>100</b> across the surface <b>102</b> or print medium <b>104</b> can be detected and the projection of the image being printed can be adjusted when in the &#x201c;locked&#x201d; mode. The aperture for the print head <b>118</b> is provided centered along the front edge of the bottom member <b>110</b>.</p>
<p id="p-0038" num="0037">Referring now also to <figref idref="DRAWINGS">FIG. 4B</figref>, a bottom plan view of another embodiment of the handheld printer <b>100</b> is shown. The embodiment of the handheld printer <b>100</b> shown in <figref idref="DRAWINGS">FIG. 4B</figref> has many of the same or similar components as the embodiment described above and shown in <figref idref="DRAWINGS">FIG. 4A</figref>. Thus, like reference numbers and names have been used for components having the same or similar functionality. The bottom plan view of this embodiment of the handheld printer <b>100</b> again shows the bottom of the bottom member <b>110</b>, the front side of the front member <b>108</b> and a portion of the bottom of the top member <b>106</b> with the print head <b>118</b> in the retracted position. As can be seen from <figref idref="DRAWINGS">FIG. 4B</figref>, the bottom member <b>110</b> defines a plurality of apertures for absolute position sensors <b>160</b>, <b>162</b>, the rollers <b>144</b> and the print head <b>118</b>. The handheld printer <b>100</b> advantageously provides absolute position sensors <b>160</b>, <b>162</b> for detecting movement and determining the position of the handheld printer <b>100</b>. As shown in <figref idref="DRAWINGS">FIG. 4B</figref>, the absolute position sensors <b>160</b>, <b>162</b> are placed spaced apart on the bottom along the longitudinal axis of the handheld printer <b>100</b> represented by the dashed line <b>170</b>. As shown, the absolute position sensors <b>160</b>, <b>162</b> are located on the centered longitudinal axis, but in other embodiments could be positioned on either side of the center. The absolute position sensors <b>160</b>, <b>162</b> are position apart at a predefined distance such that the granularity of the theta value is provided. In one embodiment, the distance that the absolute sensors <b>160</b>, <b>162</b> are positioned apart is selected such that determining position and rotation can be performed using division by powers of two. For example, the absolute position sensors <b>160</b>, <b>162</b> are spaced apart by 4096/3 ticks from each other (center to center), which is approximately 3.5&#x2033;. Thus, a multiplication by three and shift by 12 accomplish a divison by 4096. It should also be noted that the output of the sensors <b>160</b>, <b>162</b> are sent to the components of the handheld printer <b>100</b> every sensor tick.</p>
<p id="p-0039" num="0038">As noted above, the present invention advantageously places the absolute position sensor <b>160</b>, <b>162</b> at predefined locations to simplify the processing of position and rotation information and its transformation to image coordinates used for printing and projection. Referring now also to <figref idref="DRAWINGS">FIG. 16</figref>, a diagram showing the transformation of position data to image coordinates according to the present invention will be described. The absolute position sensor <b>160</b>, <b>162</b>, the print head <b>118</b> and the center of the projection are in a line as shown in <figref idref="DRAWINGS">FIG. 16</figref> below. The absolute position sensors <b>160</b>, <b>162</b> give information about both the position and rotation angle of the handheld printer <b>100</b> with respect to its initial position and angle. The information from the controller <b>1106</b> (See <figref idref="DRAWINGS">FIG. 11</figref>) attached to absolute position sensors <b>160</b>, <b>162</b> is processed as follows. The center position (between the sensors <b>160</b>, <b>162</b>) at high resolution is read (for example from the Position Computation Unit <b>1206</b>):
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>x_reg<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>y_reg<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
The position is converted to 404 DPI tick units:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>x=x</i>_reg/4096<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Y=y</i>_reg/4096<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
The angle information is read (for example from the Theta Computation Unit <b>1210</b>):
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>sin_reg<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>cos_reg<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>theta1_reg<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>theta2_reg<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
In one embodiment, the sin_reg, cos_reg and theta1_reg registers are coarse and are quantized to about 0.7 degrees. The theta2_reg value has fraction bits with 16 times more resolution in angle. The additional resolution in angle is used to increase resolution for sin and cos using a linear approximation. Recall that the slope of cos is &#x2212;sin and the slope of sin is cos. The initial conditions are that the angle is n/2, sin is 1.0 and cos is 0.0. If cos_reg is positive, the angle information is computed with:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>cos=cos_reg+(50*theta2_reg*sin_reg)/65536<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>sin=sin_reg&#x2212;(50*theta2_reg*cos_reg)/65536<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>theta=theta1_reg&#x2212;(theta2_reg+8)/16<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
If cos_reg is positive, the angle information is computed with:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>cos=cos_reg&#x2212;(50*theta2_reg*sin_reg)/65536<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>sin=sin_reg&#x2212;(50*theta2_reg*&#x2212;cos_reg)/65536<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>theta=theta1_reg+(theta2_reg+8)/16<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0040" num="0039">The cos and sin values are the floating point values multiplied by 4096. The theta value is the angle in radians multiplied by 4096. Note that 0.7 degrees is approximately 0.012 radians and for 16 times more resolution, 0.012/16 is approximately 50/65536.</p>
<p id="p-0041" num="0040">The following distance measurements are known:</p>
<p id="p-0042" num="0041">from center between sensors to closest nozzle on print head is d<b>1</b> (e.g. 1882 ticks)</p>
<p id="p-0043" num="0042">from center between sensors to farthest nozzle on print head is d<b>2</b> (e.g. 1954 ticks)</p>
<p id="p-0044" num="0043">Also, the initial location of the image to print can be specified, for example:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>x_initial=1900<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>y_initial=20<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0045" num="0044">The position of the closest nozzle in the print head at image resolution (&#xbc; of sensor resolution, 101 DPI) is:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>x</i><sub>&#x2014;</sub><i>n</i>0=&#x2212;(<i>x+x </i>initial+((cos*<i>d</i>1)/4096)/4<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>y</i><sub>&#x2014;</sub><i>n</i>0=(<i>y+y</i>_initial+((&#x2212;sin*<i>d</i>1)/4096)/4<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0046" num="0045">The position of the farthest nozzle in the print head (x_n<b>11</b>, y_n<b>11</b>) <b>118</b> is computed similarly using d<b>2</b> instead of d<b>1</b>. In one embodiment, the print head <b>118</b> has twelve nozzles and the position of any of the other ten nozzles can be computed similarly. For a stable projected image, the distance from the center between sensors <b>160</b>, <b>162</b> to the projection center (d<b>3</b>) should be used. If it is desired to project what is under the print head <b>118</b> at an offset, the distance to the center of the print head <b>118</b>, (d<b>1</b>+d<b>2</b>)/2, is used.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>xp</i>=((<i>x</i><sub>&#x2014;</sub><i>n</i>1<i>+x</i><sub>&#x2014;</sub><i>n</i>11)/2)*4<i>*x</i>scale&#x2212;<i>x</i>_offset<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>yp</i>=((<i>y</i><sub>&#x2014;</sub><i>n</i>1<i>+y</i><sub>&#x2014;</sub><i>n</i>11)/2)*4<i>*y</i>scale&#x2212;<i>y</i>_offset<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where xscale and yscale are the ratio of the projector DPI to the sensor ticks-per-inch and x_offset and y_offset are half the size of the projected image (length of vector from the start of the image to the center of the image). In this embodiment of the present invention, all division is by a power of 2 and can be performed with shift operations.
</p>
<p id="p-0047" num="0046">Referring now to <figref idref="DRAWINGS">FIG. 5</figref>, a rearview of the handheld printer <b>100</b> is shown. For illustration purposes, a portable media device <b>150</b> shown. As illustrated by the arrow <b>508</b>, the portable media device <b>150</b> can be inserted into slot <b>122</b> on the left side of the top member <b>106</b> of the handheld printer <b>100</b> (See also <figref idref="DRAWINGS">FIGS. 2 and 3</figref>). The portable media device <b>150</b> can include any image or data to be printed by the handheld printer <b>100</b>. The portable media device <b>150</b> is just one example of a method for transferring print data from an external source to the handheld printer <b>100</b>. <figref idref="DRAWINGS">FIG. 5</figref> also illustrates the retractable display device <b>120</b> in the angled position. More specifically, the display device <b>120</b> shows any exemplary image <b>502</b> of the document to be printed. <figref idref="DRAWINGS">FIG. 5</figref> also illustrates one embodiment of the left or trailing side <b>504</b> of the bottom member <b>110</b> and the right or front side <b>506</b> of the bottom member <b>110</b>. These sides <b>504</b>, <b>506</b> are advantageously shaped to provide increased stability when moving the handheld printer <b>100</b> across the surface <b>102</b> or print medium <b>104</b>. The handheld printer <b>100</b> can be swept in either direction, and probably will be swept in both directions, during a single print and it is designed to be capable of such motion.</p>
<p id="p-0048" num="0047">Although not shown by the exterior of the handheld printer <b>100</b> in this embodiment, the handheld printer <b>100</b> may also include other components such as communication devices such as wireless transceivers, USB and Bluetooth&#xae; transceivers, Infrared transceivers or image capture devices like a camera.</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram of one embodiment of the computing system <b>600</b> housed by the handheld printer <b>100</b> and performing the methods of the present invention. The computing system <b>600</b> preferably comprises a control unit <b>620</b>, a display device <b>120</b>, one or more input buttons <b>610</b>, the projector <b>126</b>, position detection sensors <b>140</b>, <b>142</b>, and a print head control module <b>614</b>. In other embodiments, the computing system <b>600</b> includes a camera or other image capture device <b>616</b>, and a communication module <b>618</b> including transceivers or connectors.</p>
<p id="p-0050" num="0049">The control unit <b>620</b> is shown including processor <b>602</b>, main memory <b>604</b>, and data storage device <b>606</b>, all of which are communicatively coupled to system bus <b>608</b>.</p>
<p id="p-0051" num="0050">The processor <b>602</b> processes data signals and may comprise various computing architectures including a complex instruction set computer (CISC) architecture, a reduced instruction set computer (RISC) architecture, or an architecture implementing a combination of instruction sets. Although only a single processor is shown in <figref idref="DRAWINGS">FIG. 6</figref>, multiple processors may be included. The processor <b>602</b> comprises an arithmetic logic unit, a microprocessor, a general purpose computer, or some other information appliance equipped to provide electronic display signals to display device <b>120</b>.</p>
<p id="p-0052" num="0051">Main memory <b>604</b> stores instructions and/or data that may be executed by processor <b>602</b>. The instructions and/or data may comprise code for performing any and/or all of the techniques described herein. Main memory <b>604</b> may be a dynamic random access memory (DRAM) device, a static random access memory (SRAM) device, Flash RAM (non-volatile storage), combinations of the above, or some other memory device known in the art. The memory <b>604</b> is described in more detail below with reference to <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0053" num="0052">Data storage device <b>606</b> stores data and instructions for processor <b>602</b> and comprises one or more devices including a hard disk drive, a flash memory device, or some other mass storage device known in the art. In an alternate embodiment, data storage <b>606</b> may be replaced by a connection to an external data storage unit.</p>
<p id="p-0054" num="0053">The system bus <b>608</b> represents a shared bus for communicating information and data throughout control unit <b>620</b>. System bus <b>608</b> may represent one or more buses including an industry standard architecture (ISA) bus, a peripheral component interconnect (PCI) bus, a universal serial bus (USB), I2C, SPI, or some other bus known in the art to provide similar functionality. Additional components coupled to control unit <b>620</b> through system bus <b>608</b> include the display device <b>120</b>, one or more input buttons <b>610</b>, the projector <b>126</b>, the position detection sensors <b>140</b>, <b>142</b>, the print head control module <b>614</b>, the image capture device <b>616</b>, and the communication module <b>618</b>.</p>
<p id="p-0055" num="0054">Display device <b>120</b> represents any device equipped to display electronic images and data as described herein. Display device <b>120</b> may be, for example, an organic light emitting diode display (OLED), liquid crystal display (LCD), or any other similarly equipped display device, screen, or monitor. In one embodiment, display device <b>120</b> is equipped with a touch screen in which a touch sensitive, transparent panel covers the screen of display device <b>120</b>. As has been noted above, in the preferred embodiment, the display device <b>120</b> is an OLED panel sized to the top member <b>106</b>, and mounted for retractable positioning. In other embodiments, the display device may be a series of LEDs or other lights that indicate the status of the handheld printer <b>100</b>.</p>
<p id="p-0056" num="0055">The one or more input buttons <b>610</b> are any device to provide user input to the handheld printer <b>100</b> such as switches, cursor controller or a keyboard. In one embodiment, the input buttons include a print button <b>116</b>, a scroll dial <b>114</b>, a power button <b>812</b>, a menu button <b>814</b> and a scaling knob <b>816</b>. In one embodiment, the input buttons <b>610</b> can include an alphanumeric input device, such as a QWERTY keyboard, a key pad, or representations of such created on a touch screen, coupled to control unit <b>620</b> to communicate information and command selections to processor <b>602</b>. In another embodiment, the input button <b>610</b> is a user input device equipped to communicate positional data as well as command selections to processor <b>602</b> such as a joystick, mouse, a trackball, a stylus, a pen, a touch screen, cursor direction keys, or other mechanisms to cause movement adjustment of an image.</p>
<p id="p-0057" num="0056">The projector <b>126</b> outputs an image provided by the control unit <b>620</b>. The projector <b>126</b> is capable of modifying the size and position of the image in response to signals from the control unit <b>620</b>. The projector <b>126</b> is mounted to the portable housing of the handheld printer <b>100</b> as has been described above. The projector <b>126</b> is electrically coupled to the control unit <b>620</b> by bus <b>608</b>. The projector <b>126</b> may be any one of a conventional type such as a micro-projector; a projector by Blue Light Optics of Cambridge, England; and a MEMS laser projection module by Fraunhofer. Moreover, the projector <b>126</b> is mounted to the housing of the handheld printer <b>100</b> so that its angle with respect to the target surface remains fixed as the printer <b>100</b> is rolled or slid along the surface <b>104</b>.</p>
<p id="p-0058" num="0057">The position detection sensors <b>140</b>, <b>142</b> are coupled to the control unit <b>602</b> by the bus <b>608</b>. One embodiment of the position detection sensors <b>140</b>, <b>142</b> have been described above as optical sensors. In another embodiment, position detection sensors <b>140</b>, <b>142</b> have been described above as mechanical sensors. While a plurality of sensors <b>140</b> and <b>142</b> are shown, those skilled in the art will recognize that other embodiments use only a single position detection sensor <b>140</b> that measures three degrees of freedom, including X and Y position and angular orientation. The position detection sensors <b>140</b> and <b>142</b> are used to track movement of the handheld printer <b>100</b> across the surface <b>102</b> or paper <b>104</b>. The position detection sensors <b>140</b>, <b>142</b> generate signals that are processed by processor <b>602</b> to determine an X-Y position of the handheld printer <b>100</b> on the surface <b>102</b> and include direction, speed and rotation of the handheld printer <b>100</b>. This X-Y position data is used by the projection system to adjust the image projection information, and by the printing system to know where to drop ink material.</p>
<p id="p-0059" num="0058">The print head control module <b>614</b> is coupled for the communication with the print head <b>118</b> and is used to control printing. More specifically, the print head control module <b>614</b> reformats and send signals to the print head <b>118</b> that cause it to move from the retracted position to the operational position, and vice versa. The print head control module <b>614</b> also signals to the print head <b>118</b> when to mark the print medium <b>104</b>. Furthermore, the print head control module <b>614</b> can also be used as an interface to provide feedback to the processor <b>602</b> as to a printer head <b>118</b> malfunction or when consumables have run out, so that the user may be notified via the display device <b>120</b>.</p>
<p id="p-0060" num="0059">The image capture device <b>616</b> is preferably a digital camera and lens housed within the handheld printer <b>100</b>. The image capture device <b>616</b> is coupled by bus <b>608</b> to send and receive control and status signals and to send captured images. For example, the image capture device <b>616</b> may include zoom, auto-focus and other camera capabilities. The image capture device <b>616</b> is any one of a conventional type such as those currently available in cellular phones and other small form factor devices, such as the ES2196M from ESS Technology, Inc. In one embodiment, the image capture device also includes an image processor (not shown). The image processor is used to detect a portion of the image that has been printed, and the image processor adapted for communication with the image capture device <b>616</b> and the control unit <b>620</b>/processor <b>602</b>. The image capture device <b>616</b> can be used to capture an image of the surface <b>104</b> and the image processor compares it to a source image. The difference between the captured image and the source image can then be used as an input to control marking of the surface <b>104</b>.</p>
<p id="p-0061" num="0060">The communication module <b>618</b> links control unit <b>620</b> to a network (not shown) and other processing systems. The network of processing systems may comprise a local area network (LAN), a wide area network (WAN) (e.g., the Internet), and/or any other interconnected data path across which multiple devices may communicate. In one embodiment, the communication module <b>618</b> is other conventional connections such as Ethernet, USB, etc. to other systems such as a network for distribution of files and information using standard network protocols such as TCP/IP, http, https, and SMTP as will be understood to those skilled in the art. One specific example has been described above as a portable media device slot/interface <b>122</b>. In another embodiment, the communication module <b>618</b> is any one of conventional type of transceiver such as for Infrared communication, WiFi communication, 802.11 abg communication, Bluetooth&#xae; communication, 3G communication, or radio frequency communication. Those skilled in the art will recognize that other devices can be coupled to the bus <b>608</b> for interaction with the processor <b>602</b> in a variety of conventional ways.</p>
<p id="p-0062" num="0061">It should be apparent to one skilled in the art that computing system <b>600</b> may include more or less components than those shown in <figref idref="DRAWINGS">FIG. 6</figref> without departing from the spirit and scope of the present invention. For example, computing system <b>600</b> may include additional memory, such as, for example, a first or second level cache, or one or more application specific integrated circuits (ASICs). Similarly, additional components input/output devices may be coupled to control unit <b>620</b> including, for example, an RFID tag reader, digital still or video cameras, or other devices that may or may not be equipped to capture the target surface or portion of the document that has been printed. One or more components could also be eliminated such as camera <b>616</b> or communication module <b>618</b>.</p>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 7</figref> is a block diagram of one embodiment of the memory unit <b>604</b> for the control unit <b>620</b>. The memory unit <b>604</b> for the control unit <b>620</b> preferably comprises: an operating system <b>702</b>, a control module <b>704</b>, a projection module <b>706</b>, a print control module <b>708</b>, a user communication and display module <b>710</b>, a camera control module <b>712</b>, and an communication control module <b>714</b>. As noted above, the memory unit <b>604</b> stores instructions and/or data that may be executed by processor <b>602</b>. The instructions and/or data comprise code for performing any and/or all of the techniques described herein. These modules <b>702</b>-<b>714</b> are coupled by bus <b>608</b> to the processor <b>602</b> for communication and cooperation to provide the control unit <b>620</b>. Those skilled in the art will recognized that while the present invention will now be described as modules or portions of a memory unit <b>604</b> of a computer system, the modules or portions thereof may also be stored in other media such as permanent data storage device <b>606</b> and may be distributed across a network having a plurality of different computers such as in a client/server environment and to which the hand held printer <b>100</b> is adapted for communication. Furthermore, those skilled in the art will recognize that the memory <b>604</b> includes areas for temporarily storing data and working memory area although not specifically shown.</p>
<p id="p-0064" num="0063">The operating system <b>702</b> is preferably one of a conventional type such as, WINDOWS&#xae;, SOLARIS&#xae; or LINUX&#xae; based operating systems. Although not shown, the memory unit <b>604</b> may also include one or more application programs without limitation.</p>
<p id="p-0065" num="0064">The control module <b>704</b> is used to control the other modules of the memory <b>604</b>. The control module <b>704</b> is adapted for communication with the projection module <b>706</b>, the print control module <b>708</b>, the user communication and display module <b>710</b>, the camera control module <b>712</b>, and the communication control module <b>714</b>. The operation of the control module <b>704</b> will be apparent from the description of <figref idref="DRAWINGS">FIGS. 8-9</figref> below. The control module <b>704</b> is coupled to receive input from the input buttons <b>610</b>, the position detection sensors <b>140</b>, <b>142</b>, camera <b>616</b> and communication module <b>618</b>. The control module <b>704</b> also communicates and interacts to transfer data and commands with the display device <b>120</b>, the projector <b>126</b>, the print head control <b>614</b> and the communication module <b>618</b>. While the control module <b>704</b> is shown as a separate module of the memory <b>604</b>, those skilled in the art will recognize that the control module <b>704</b> in another embodiment may be distributed as routines in the other modules <b>706</b>-<b>714</b>.</p>
<p id="p-0066" num="0065">The projection module <b>706</b> is software used by the processor <b>602</b> for interacting with and controlling the projector <b>126</b> of the handheld printer <b>100</b>. The projector <b>126</b> advantageously projects or outputs an image of the document to be printed. The projection module <b>706</b> sends the projector <b>126</b> signals that form the projected image, signals to adjust or modify the size of the projected image, the position of the projected image, brightness, contrast and other display characteristics by processor <b>602</b> responsive to input from the user. The image projected by the projector <b>126</b> is controlled by the processor <b>602</b> in accordance with the methods of the present invention. For example, using the input buttons <b>610</b> the user may adjust the display characteristics of the projector <b>126</b> to various different images displayed and seen by the user. In response to a lock input, the handheld printer <b>100</b> tracks its movement and automatically adjust the image projected so that is appears the same on the surface <b>104</b> as when the lock button <b>116</b> is initially depressed even though the position of the handheld printer <b>100</b> changes.</p>
<p id="p-0067" num="0066">The print control module <b>708</b> is used to send commands from the user or processor <b>602</b> to the print head control <b>614</b>. More specifically as has been note above, the print control module <b>708</b> sends signals to output ink, retract the print head <b>118</b> or move the print head to the operational position. The print control module <b>708</b> is also used to send status information from the print head <b>118</b> to the processor <b>602</b> for eventual presentation to the user of the handheld printer <b>100</b>. The print control module <b>708</b> operates in conjunction with the processor <b>602</b> and is coupled by bus <b>608</b> for communication and interaction with the processor <b>602</b>. The print control module <b>708</b> also optionally tracks and records when ink was output as the handheld printer <b>100</b> is moved. Thus, even in the handheld printer <b>100</b> is moved over the same point on the surface <b>104</b> multiple times to print the image, the print head <b>118</b> is selectively activated to output ink only a limited number of times (e.g. once or twice) for a given area of the surface. In other words, in one embodiment, regardless of how many times the user drags the handheld printer <b>100</b> over a particular region of the surface <b>104</b> that shows the locked and projected image, the handheld printer <b>100</b> deposits ink only on one pass over the particular region, and not on successive passes. Where ink had been output is monitored by the print control module <b>708</b>, and the print control module <b>708</b> selective turn on and off the print head <b>118</b> so to ensure that ink is deposited only on one pass. In another embodiment, regardless of how many times the user drags the handheld printer <b>100</b> over a particular region of the surface <b>104</b>, the handheld printer <b>100</b> deposits ink only on a maximum of two passes over the particular region.</p>
<p id="p-0068" num="0067">The user communication and display module <b>710</b> is used to interact with the user and causes information to be displayed on the display device <b>120</b>, and signals to be received from the input button <b>610</b>. The user communication and display module <b>710</b> is capable of causing an image of the document to be printed to be generated and presented on the display device <b>120</b>. The user communication and display module <b>710</b> is also capable of causing the processor <b>602</b> to display operational status information on the display device <b>120</b> such as whether the projected image is locked, whether printing is occurring, status of the print head <b>118</b> or consumables <b>808</b> (See <figref idref="DRAWINGS">FIG. 8</figref>), etc. The user communication and display module <b>710</b> also receives and processes signals from the input buttons <b>610</b> as has and will be described. These inputs cause initiation of other routines of the present invention.</p>
<p id="p-0069" num="0068">In the embodiments where an image capture device <b>616</b> is included, the memory <b>604</b> also includes a camera control module <b>712</b>. The camera control module <b>712</b> is software that allows the processor <b>602</b> to control the image capture device <b>616</b> and its capabilities including controlling the image that is captured and when the image is captured. In one embodiment, the camera control module <b>712</b> also processes the captured image, and stores it in the data storage device <b>606</b> or working memory. In another embodiment, the camera control module <b>712</b> also performs image processing.</p>
<p id="p-0070" num="0069">In the embodiments where a communication module <b>618</b> is included, the memory <b>604</b> also includes the communication control module <b>714</b>. The communication control module <b>714</b> is software adapted for communication with external devices (not shown) using the communication module <b>618</b>. Regardless of communication format, the communication control module <b>714</b> manages the sending and receipt of commands, portions of files, files and data via the communication module <b>618</b>.</p>
<p id="p-0071" num="0070">Referring now to <figref idref="DRAWINGS">FIG. 8</figref>, a conceptual block diagram of another embodiment of the handheld printer <b>100</b> in accordance with the present invention is shown. The conceptual block diagram of <figref idref="DRAWINGS">FIG. 8</figref> shows the relationships between the different components of the handheld printer <b>100</b> described above. More specifically, the user interface <b>802</b> for the handheld printer <b>100</b> includes a scaling knob <b>114</b>, the display <b>120</b>, a power button <b>812</b>, the lock button <b>116</b>, the print button <b>116</b> and a menu button <b>814</b>. The display <b>120</b>, the lock button <b>116</b> and the print button <b>116</b> have been described above so that description will not be repeated here. The scaling knob <b>114</b> allows the user to adjust the size and position of the projected image. In response to manipulation of the scaling knob <b>114</b>, the processor <b>602</b> generates signals to adjust the image and sends them to the projector <b>126</b>. In this embodiment, the power button <b>812</b> is provided to turn the handheld printer <b>100</b> on and off. This embodiment also provides a menu button <b>814</b> that allows the user to show additional information on the display <b>120</b>. In response to selection of the menu button <b>814</b>, the processor <b>602</b> shows status information and selectable options on the display device <b>120</b>. The selectable options can be selected using the scaling knob <b>816</b>. In yet another embodiment, the scroll dial <b>114</b> combines the functionality described above for the scaling knob <b>816</b> and the lock button <b>116</b>. The scroll dial <b>114</b> can provide the scaling on input, but also can be pushed inward by the user into the housing of the handheld printer <b>100</b> to serve as the lock button <b>116</b>.</p>
<p id="p-0072" num="0071">The user interface <b>802</b> and its components are adapted for communication with internal electronics <b>804</b>, in particular, the control unit <b>620</b>. The internal electronics <b>804</b> include the image capture device <b>616</b>, the portable media device slot <b>122</b>, consumables <b>808</b>, the control unit <b>620</b>/processor <b>602</b>, the projector <b>126</b> and a battery <b>810</b>. The camera <b>616</b>, the portable media device slot <b>122</b>, the control unit <b>620</b>/processor <b>602</b> and the projector <b>126</b> have been described above so that description will not be repeated here. The consumables <b>808</b> include ink or other material output by the handheld printer <b>100</b>. The battery <b>810</b> is a conventional type, is stored within the housing, and provides power for operation of the computing system <b>600</b> and other components.</p>
<p id="p-0073" num="0072">The internal electronics <b>804</b> are adapted for communication and control of surface contact components <b>806</b> which include absolute position sensors <b>140</b>, <b>142</b> rollers <b>144</b> and the print head <b>118</b>. The operation of these components is been described above as well as their interaction with the control unit <b>620</b>/processor <b>602</b>.</p>
<p id="p-0074" num="0073">Referring now to <figref idref="DRAWINGS">FIG. 9</figref>, one embodiment of a method for printing with the handheld printer <b>100</b> according to the present invention will be described. The method begins with the handheld printer <b>100</b> receiving or capturing <b>902</b> an image to be printed. The handheld printer <b>100</b> can receive an image to be printed in response to the insertion of the portable media device <b>150</b> in the media slot <b>122</b>. In another embodiment, the handheld printer <b>100</b> receives an image to be printed via the communication module <b>618</b> such as by coupling a memory card to a USB interface or similar interface, or by transmission of a file over an infrared or Bluetooth link. Additionally, where the handheld printer <b>100</b> includes the camera <b>616</b>, the handheld printer <b>100</b> can perform a scan-to-print operation in which the camera <b>616</b> captures an image of the surface <b>104</b> or document then the handheld printer <b>100</b> is moved over a different blank surface and the image that was just captured is printed. Once the image to be printed has been captured or received <b>902</b>, the method continues by projecting <b>904</b> the image to be printed using the projector <b>126</b> as illustrated above with reference to <figref idref="DRAWINGS">FIG. 3</figref>. Next, the user can adjust and/or move <b>906</b> the projected image to the desired position of where the document should be printed. The user can physically move the handheld printer <b>100</b> to adjust the position of the projected image. The user can also use the scroll dial <b>114</b>, scaling knob <b>816</b> or other input buttons <b>610</b> to modify how the image is projected such that the projected image is in the desired position of where the document should be printed. Once the projected images in the desired position, the user inputs <b>906</b> the lock image signal by selecting one of the input buttons <b>610</b> or by pressing the lock/print button <b>116</b> half way down. The handheld printer <b>100</b> locks <b>908</b> the image to position and scale in response. Next, the user moves <b>910</b> the handheld printer <b>100</b> over the area where the image is being projected, and depresses the print button <b>116</b>. Since the image is locked, the image projected by the handheld printer <b>100</b> is adjusted <b>912</b> for movement of the handheld printer <b>100</b> so that the projected image is stationary (fixed) on the surface <b>104</b> as the handheld printer <b>100</b> moves. The handheld printer <b>100</b> continuously determines <b>914</b> its position based on information from the absolute position sensors <b>140</b>, <b>142</b>. As the handheld printer <b>100</b> is being moved, the processor <b>602</b> determines whether the position of the handheld printer <b>102</b> is over an area that has already been printed. If not, the method proceeds to activate <b>918</b> the print head <b>118</b> and print or output ink after which the method continues at step <b>920</b>. If the handheld printer <b>100</b> is over an area that is already printed of the method proceeds directly from step <b>916</b> to step <b>920</b>. In step <b>920</b>, the method determines whether the entire image has been printed. If not the method returns to step <b>910</b> where the user continues to move the handheld printer <b>100</b> over the area where the image is projected. In one embodiment, the handheld printer <b>100</b> provides feedback on the display <b>122</b> let the user know whether or not the entire image has been printed. If the entire image has been printed, the method is complete and ends.</p>
<p id="p-0075" num="0074">Those skilled in the art will recognize that the projection of the image to be printed is particularly advantageous. For example, the image may be partially printed and then the handheld printer <b>100</b> may be set aside temporarily. The use of the projection is advantageous in this instance because the handheld printer <b>100</b> is able to print the remainder of the image with ease. The user need only project the image and manually, visually align the projected image with the partially printed image and then print the remainder of the image. The use of projection makes the realignment process particularly simple since it is very easy for the user to discern differences between the partially printed image and the projected image and thereby obtain precise and exact alignment.</p>
<p id="p-0076" num="0075">Also, the user need not print the entire image shown by the projection. Instead, the user may choose to actually print only a portion of the projected image, which means they choose to print only a portion of their document. Maybe only one part of the document is particularly interesting to them. In this case, the projected image serves to show the entire image to the user, allowing the user to align the portion they're interested in on their target surface, and the user only needs to move the printer across the area of particular interest. This can be considered &#x201c;instant cropping&#x201d; of printed images. The projected image, combined with the flexibility of the handheld printer, allows cropping of images without needing to pre-process the print image data in some editing tool, such as in programs like PhotoShop by Adobe Systems Incorporated, of San Jose, Calif.</p>
<p id="p-0077" num="0076"><figref idref="DRAWINGS">FIG. 10</figref> shows a second embodiment of the handheld printer <b>1000</b> according to the present invention. In this second embodiment, the handheld printer <b>1000</b> does not include the projector. However, a projector <b>1002</b> is part of a desk or other structure of a room. The projector <b>1002</b> is coupled by a network <b>1004</b> to a communication device (not shown). The network <b>1004</b> is now the conventional type and could be connected for example to server (not shown). The handheld printer <b>1000</b> does include a communication module <b>618</b> as has been described above. The communication module <b>618</b> can send and receive information and commands to and from the projector <b>1002</b>. The handheld printer <b>1000</b> uses the communication module to send an image to be printed to the network <b>1004</b> and in turn to the projector <b>1002</b>. The projector <b>1002</b> receives and projects the image to produce projection <b>1006</b>. The handheld printer <b>1000</b> is then moved across the print surface <b>104</b> as has been described above to print the image onto the surface <b>104</b>. <figref idref="DRAWINGS">FIG. 10</figref> illustrates one embodiment where the handheld printer <b>1000</b> has a reduced number of components but accesses components of pre-existing infrastructure to enable handheld printing in accordance with the present invention. Those of ordinary skill in the art will recognize that there are a number of permutations as to which components can be part of the handheld printer <b>1000</b> or part of the pre-existing infrastructure. For example, the camera <b>616</b> might also be part of pre-existing infrastructure similar to the projector <b>1002</b>.</p>
<p id="p-0078" num="0077">In another embodiment of the present invention, the print head is able to output two types of ink, one visible to the naked eye, and one in another spectrum such as an ultraviolet light spectrum. Alternatively, there may be separate print heads for the different types of ink. Regardless, the print head under control of the processor <b>602</b> is capable of applying registration marks visible in an ultraviolet light spectrum to the surface <b>104</b>. In one embodiment, the handheld printer <b>100</b> includes an ultraviolet light source that may selectively be activated to reveal the registration marks. In another embodiment, the room projector <b>1002</b> includes the ultraviolet light source that may selectively be activated (via communication between the handheld printer <b>1000</b> and the projector <b>1002</b>) to reveal the registration marks.</p>
<p id="p-0079" num="0078">Referring now to <figref idref="DRAWINGS">FIGS. 11-15</figref> and <b>4</b>B, a third embodiment of the handheld printer <b>100</b>C will be described. In particular, this third embodiment includes two-dimensional sensor hardware that converts mechanical input from the two absolute position sensors <b>160</b>, <b>162</b> to digital two-dimensional coordinates, X, Y, angle (radians, sine, cosine). This two-dimensional sensor hardware is used in conjunction with a system and software to control the printing and projection of the image to be printed by the handheld printer <b>100</b>C. This embodiment of the handheld printer <b>100</b>C is particularly advantageous because the combination of the two-dimensional sensor hardware and the system minimize software operations by eliminating floating-point division and trigonometric calculations. This embodiment is also advantageous because a higher print quality is achieved by compensating for dot loss by using a print head dot smaller than an ideal pixel and printing each pixel twice if the print head passes over a region twice. Finally, this third embodiment of the handheld printer <b>100</b>C is advantageous because of additional information projected that improves ease-of-use such as information for context, feedback, calibration and debugging.</p>
<p id="p-0080" num="0079">Referring now to <figref idref="DRAWINGS">FIG. 11</figref>, a block diagram of the third embodiment of the handheld printer <b>100</b>C will be described. This embodiment of the handheld printer <b>100</b>C comprises a processor system <b>1102</b>, a projection system <b>1104</b>, a controller <b>1106</b>, print head <b>1108</b>, and the absolute position sensors <b>160</b>, <b>162</b>. Those skilled in the art will recognize that this third embodiment of the handheld printer <b>100</b>C may include other components as has been described above with reference to other embodiments; however, the description of these components is not repeated here to avoid redundancy and for ease of understanding. For example, the processor system <b>1102</b> output signals for the control of LEDs as described in other embodiments above; however, that functionality will not be described below.</p>
<p id="p-0081" num="0080">The absolute position sensors <b>160</b>, <b>162</b> have been described above and detect the absolute position of the sensors <b>160</b>, <b>162</b>. The distance between the absolute position sensors <b>160</b>, <b>162</b> is predefined and known. The absolute position sensors <b>160</b>, <b>162</b> output quadrature encoding information. Absolute position sensor <b>160</b> is coupled by signal line <b>1126</b> to the controller <b>1106</b>. Similarly, absolute position sensor <b>162</b> is coupled by signal line <b>1128</b> to controller <b>1106</b>. The absolute position sensors <b>160</b>, <b>162</b> send quadrature encoding information to be controller <b>1106</b> via the signal lines <b>1126</b>, <b>1128</b>.</p>
<p id="p-0082" num="0081">The processor system <b>1102</b> is coupled to the projection system <b>1104</b> by signal line <b>1120</b>. The processor system <b>1102</b> is also coupled to the controller <b>1106</b> via signal line <b>1122</b>. The processor system <b>1102</b> controls the operation of the handheld printer <b>100</b>C as will be described in more detail below with reference to <figref idref="DRAWINGS">FIGS. 14 and 15</figref>. More particularly, the processor system <b>1102</b> cooperates with the projection system <b>1104</b> and sends the projection system <b>1104</b> video information such as in a VGA format. The processor system <b>1102</b> also cooperates with the controller <b>1106</b> to control the activation of the print head <b>1108</b> and location tracking of the handheld printer <b>100</b>C. In one embodiment, the processor system <b>1102</b> includes a microprocessor such as a Marvell PXA270 XScale or Texas Instruments OMAP, random access memory, read-only memory, a VGA interface, a USB host bus, and Ethernet interface.</p>
<p id="p-0083" num="0082">The projection system <b>1104</b> has been described above with reference to <figref idref="DRAWINGS">FIGS. 3</figref>, <b>4</b>, <b>5</b>, <b>6</b>, <b>7</b>, <b>8</b>, <b>9</b> and <b>10</b>. The projection system <b>1104</b> is coupled to the processor system <b>1102</b> via signal line <b>1120</b> to receive information to the projected such as in a VGA format. The processor system <b>1102</b> provides the information to the projection system <b>1104</b> and the projection system <b>1104</b> outputs images corresponding to the receive information. The projection system <b>1104</b> and the processor system <b>1102</b> cooperate in unique ways to provide additional feedback to the user of the handheld printer <b>100</b>C by inserting that information into the image projected by the projection system <b>1104</b>. For example, the information output by the projection system <b>1104</b> response it to the processor system <b>1102</b> can include debugging information, calibration information, context, and feedback information. Examples of such information will be described in more detail and shown below with reference to <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0084" num="0083">The controller <b>1106</b> is coupled to the processor system <b>1102</b> for bidirectional communication via signal line <b>1122</b>. The controller <b>1106</b> is also coupled via signal line <b>1124</b> to send print control signals to the print head <b>1108</b>. In particular, the print head <b>1108</b> may include a plurality of nozzles and the controller <b>1106</b> provides signals to selectively activate one or more of the print nozzles. The controller <b>1106</b> is also coupled via signal lines <b>1126</b>, <b>1128</b> to the absolute position sensors <b>160</b>, <b>162</b>, respectively. The controller <b>1106</b> receives quadrature encoding information from the absolute position sensors <b>160</b>, <b>162</b> and determines the position of the handheld printer <b>100</b>C. The controller <b>1106</b> receives and is responsive to control signals from the processor system <b>1102</b>. The controller <b>1106</b> interfaces the processor system <b>1102</b> with the absolute position sensors <b>160</b>, <b>162</b> and the print head <b>1108</b>. The controller <b>1106</b> is also responsible for determining the position of the handheld printer <b>100</b>C and storing it in position registers. The controller <b>1106</b> is described in more detail below with reference to <figref idref="DRAWINGS">FIG. 12</figref>.</p>
<p id="p-0085" num="0084">The print head <b>1108</b> is similar to the print head <b>118</b> described above. The print head <b>1108</b> is coupled by signal line <b>1124</b> to the controller <b>1106</b>. In one embodiment, the print head is an ink jet print head with an array of 12 separately controllable nozzles. Using the signal line <b>1124</b>, the print head <b>1108</b> receives control signals from the controller <b>1106</b>.</p>
<p id="p-0086" num="0085">Referring now to <figref idref="DRAWINGS">FIG. 12</figref>, a block diagram of an embodiment of the controller <b>1106</b> is shown in more detail. As has been noted above, the controller <b>1106</b> is responsible for position determination and printed control in the third embodiment of the handheld printer <b>110</b>C. The controller <b>1106</b> comprises a processor system interface <b>1202</b>, position and control registers <b>1204</b>, a position computation unit <b>1206</b>, a quadrature encoding state machine <b>1208</b>, a theta computation unit <b>1210</b>, a print head controller <b>1212</b>, a print firing unit <b>1214</b>, and a clock <b>1216</b>.</p>
<p id="p-0087" num="0086">The processor system interface <b>1202</b> is coupled to signal line <b>1122</b> to receive signals from the processor system <b>1102</b>. The processor system interface <b>1202</b> is adapted to receive control signals from the processor system <b>1102</b> and uses them to control operation of the print head <b>1108</b> via signal line <b>1124</b>. In one embodiment, the processor system interface <b>1202</b> receives the control signals, translates those control signals and stores them in the position and control registers. In another embodiment, the processor system interface <b>1202</b> is coupled to the print head controller <b>1212</b> to send the control signals that control operation of the print head <b>1108</b>.</p>
<p id="p-0088" num="0087">The position and control registers <b>1204</b> are convention processor or controller registers. The position and control registers <b>1204</b> store the position of the handheld printer <b>100</b>C as a series of values each in a different register. In one embodiment, the position and control registers <b>1204</b> include a register for an X value, a Y value, a theta value, a cosine-theta value, sine-theta value. In one embodiment, each register is a 32-bit register which stores a fixed-point value with the apparent position of the radix point between 20 integer bits on the left and 12 fractional bits on the right. The decimal values are located in a lookup table. This is sufficient for accumulating X and Y positions. The position and control registers <b>1204</b> also include one or more registers for storing print control signals. The position and control registers <b>1204</b> are coupled to the processor system interface <b>1202</b> to receive and store control signals. The processor and control registers <b>1204</b> couple to the position computation unit <b>1206</b> to receive and store position signals. The position control registers <b>1204</b> are coupled to the printed controller <b>1212</b> to output the store values.</p>
<p id="p-0089" num="0088">The quadrature encoding state machine <b>1208</b> is coupled signal lines <b>1126</b>, <b>1128</b> to receive quadrature encoding information from the absolute position sensors <b>160</b>, <b>162</b>. The quadrature encoding state machine <b>1208</b> uses this information to produce position and rotation information. In one embodiment, the quadrature encoding state machine <b>1208</b> takes quadrature encoding information from the absolute position sensors <b>160</b>, <b>162</b> (track balls) and increments (decrements) a &#x201c;tick counter&#x201d; based on that encoding. In one embodiment, the quadrature encoding state machine <b>1208</b> maintains four such &#x201c;tick counters&#x201d;&#x2014;X<b>0</b>, Y<b>0</b>, X<b>1</b>, Y<b>1</b>&#x2014;one counter for each direction for each absolute position sensors <b>160</b>, <b>162</b>. The output of the &#x201c;tick counters&#x201d; provides the output of the quadrature encoding sate machine <b>1208</b>. The outputs of the four counters provide the values X<b>0</b>, Y<b>0</b>, X<b>1</b>, Y<b>1</b> and are provided to the position commutation unit <b>1206</b>. The outputs of the two counters provide the values X<b>0</b> and X<b>1</b> and are input to the Theta computation unit <b>1210</b>.</p>
<p id="p-0090" num="0089">The theta computation unit <b>1210</b> is coupled to receive the raw X position of the handheld printer <b>100</b>C from the quadrature encoding state machine <b>1208</b> and generates angular information. The theta computation unit <b>1210</b> has an output coupled to the position computation unit <b>1206</b> to provide the angular information. In one embodiment, the theta computation unit <b>1210</b> receives signals from the X<b>0</b> and X<b>1</b> &#x201c;tick counters&#x201d; of the quadrature encoding state machine <b>1208</b> and computes angular information (rotational) of the base of the handheld printer <b>100</b>C. It should be noted that the Y values do not play a role in defining this angle. The difference between X<b>0</b> and X<b>1</b>, including the sign, is used to compute Theta, Cos-Theta, and Sin-Theta. In one embodiment, the computation unit <b>1210</b> is a 128-entry look-up table stored in internal read-only memory (ROM) and other control logic. The data for the lookup table is for Sin&#x3e;0 and Cos&#x3e;0 (quadrant 1). When Cos&#x3c;0, the same lookup table is used, and appropriate signs are applied to the resulting data. The theta computation unit <b>1210</b> generates the values of Theta, Cos-Theta and Sin-Theta and provides them as input to the position competition unit <b>1206</b>. The lookup table can be created using the following pseudo code:</p>
<p id="p-0091" num="0090">for bin in 0 . . . 127:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Theta=bin*<i>n/</i>2 radians*4095/128<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Cos-Theta=cos(bin*<i>n</i>/2 radians/128)*4095<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Sin-Theta=sin(bin*<i>n</i>/2 radians/128)*4095<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0092" num="0091">The position commutation unit <b>1206</b> receives values X<b>0</b>, Y<b>0</b>, X<b>1</b>, Y<b>1</b> from the quadrature encoding state machine <b>1208</b> as has been described above. The position commutation unit <b>1206</b> also receives the values of Theta, Cos-Theta and Sin-Theta from the theta computation unit <b>1210</b> as just described. The position commutation unit <b>1206</b> maintains a cumulative count of absolute X and Y positions. X and Y become a function of the &#x201c;tick counters&#x201d; of the quadrature encoding state machine <b>1208</b> plus the trigonometric data based on the angle. Once the counters are zeroed, each tick effects X and Y, and they are accumulated by the position commutation unit <b>1206</b> as the handheld printer <b>100</b>C is moved, according to the following equation (counter-clockwise):
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>x</i>_new=<i>x</i>_previous+<i>dy</i>(cos-theta)+<i>dx </i>(sin-theta)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>y</i>_new=<i>y</i>_previous+<i>dy</i>(sin-theta)&#x2212;<i>dx </i>(cos-theta)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
And clockwise:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>x</i>_new=<i>x</i>_previous+<i>dy</i>(cos-theta)&#x2212;<i>dx </i>(sin-theta)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>y</i>_new=<i>y</i>_previous&#x2212;<i>dy</i>(sin-theta)&#x2212;<i>dx </i>(cos-theta)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
It should be noted that we are referenced to the Y-axis, not the X-axis, so signs in these equations are slightly different from the standard 2D transformation matrix. The initial starting condition is configured to be pointed along the Y vector straddling Quadrants 1 and 2 where: x=0; y=0; theta=pi/2; cos=0; and sin=1
</p>
<p id="p-0093" num="0092">Rotation is determined by a difference between X<b>0</b> and X<b>1</b>. Change in X and Y is determined by:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>dx</i>=(<i>X</i>1_new+<i>X</i>0_new&#x2212;<i>X</i>1_old&#x2212;<i>X</i>0_old)/2; and<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>dy</i>=(<i>Y</i>1_new+<i>Y</i>0_new&#x2212;<i>Y</i>1_old&#x2212;<i>Y</i>0_old)/2.<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0094" num="0093">The result is that if the handheld printer <b>100</b>C is oriented mostly &#x201c;north&#x201d; (aligned with the Y axis), a large change along Y yields, a large change in Y-position. But if the handheld printer <b>100</b>C has rotated so that it is oriented mostly &#x201c;east&#x201d; (with the X-axis), a large change along Y yields a large change in X-position.</p>
<p id="p-0095" num="0094">The position commutation unit <b>1206</b> outputs the rotated, trigonometrically computed X and Y positions and stores them to the position and control registers <b>1204</b> so that they are readable by the processor system interface <b>1202</b> and the print head controller <b>1212</b>.</p>
<p id="p-0096" num="0095">The print control circuits (print head controller <b>1212</b>, print firing unit <b>1214</b> and clock <b>1216</b>) of the handheld printer <b>100</b>C are advantageously separated from the processor system interface <b>1202</b> and the position computation circuitry. This allows the non-real-time nature of the CPU control to operate independently from the very specific timing requirements for the print head <b>1108</b>.</p>
<p id="p-0097" num="0096">The clock <b>1216</b> provides a &#x201c;heartbeat&#x201d; for controlling printing and in one embodiment is a 1 KHz clock signal generated by crystal oscillator such as part of a field program gate array.</p>
<p id="p-0098" num="0097">The processor system <b>1102</b> treats each rising edge of the clock signal like a rising edge interrupt. At each interrupt, the processor system <b>1102</b> reads the position registers <b>1204</b> to determine if the handheld printer <b>100</b>C is at a new location. If the location is unchanged, the processor system <b>1102</b> zeroes out control registers <b>1204</b> for the twelve of the ink jet head controls. This prevents any nozzles from being fired on the print medium. If the location is changed, the processor system <b>1102</b> determines which, if any, of the nozzles need to be fired to print a dot at the new position. The processor system <b>1102</b> stores 1's in the control registers <b>1204</b> corresponding to the array of 1-12 nozzles of the print head <b>1108</b> that need a drop and should be fired.</p>
<p id="p-0099" num="0098">The print head controller <b>1212</b> reads the control registers to determine which if any nozzles of the print head <b>1108</b> should be fired. The print head controller <b>1212</b> is coupled to the clock <b>1216</b> to receive the clock signal, to the position and control registers <b>1204</b> to receive the position and control signals, and the print firing unit <b>1214</b> to send print signals. At the falling edge of the 1 KHz clock, the print head controller <b>1212</b> samples the control registers <b>1204</b> or alternatively the processor system interface <b>1202</b> to determine which nozzles to fire. Therefore, the processor system <b>1102</b> has half of a 1 KHz clock cycle to post updated nozzle firing data to the control registers <b>1204</b> or alternatively send signals via the processor system interface <b>1202</b>. Once the print head controller <b>1212</b> samples or latches the nozzle firing data, it is provided to the print firing unit <b>1214</b>. The print firing unit <b>1214</b> generates the explicit nozzle timing firing data required by the print head <b>1108</b>. For example, in one the print head <b>1108</b> is ink jet head with 12 nozzles that can be fired in specific pairs, with a specific timing requirement of 4.5 usec active and 500 nsec between firing times. So the exact nozzles are fired very quickly with regard to the overall timing of the print interface. Firing consumes 30 microseconds (12 nozzles fired 2 at a time in 5 usec periods) out of a 1 KHz (1000 &#x3bc;sec) snapshot; this is only a 3% active timeframe. Thus, the processor system <b>1102</b> must be fast enough to respond to new position updates in this 1 KHz timeframe. Those skilled in the art will understand that there is an overall duty-cycle requirement depending on the type of the ink jet head utilized. Furthermore, when the handheld printer <b>100</b>C is moved at a rate of 1 inch/second (a typical movement rate), 1 KHz provides the maximum dot resolution of 1000 dpi. The print head <b>1108</b> itself only supports 100 dpi (spacing of the nozzles), so the present invention can be adjusted to absorb tracking accuracy and firing trajectory issues.</p>
<p id="p-0100" num="0099">Referring now to <figref idref="DRAWINGS">FIG. 13</figref>, a block diagram of an embodiment of the handheld printer <b>100</b> and its corresponding projection area <b>1300</b> according to the present invention are shown. The present invention is particularly advantageous because the improved position information provided by the absolute position sensors <b>160</b>, <b>162</b> cooperates with the processor system <b>1102</b> and the projection system <b>1104</b> to allow for the projection of an image augmented with additional information to assist the user in operation of the handheld printer <b>100</b> of the present invention. In particular, the processor system <b>1102</b> and the projection system <b>1104</b> cooperate to cause the projection system <b>1104</b> to display additional information that is used to provide the user with a context or feedback. The projection system <b>1104</b> can also display additional information used for calibration or debugging. <figref idref="DRAWINGS">FIG. 13</figref> illustrates an example projection area <b>1300</b> produced by the projection system <b>1104</b> the present invention. The projection area <b>1300</b> also includes augmented data <b>1302</b>, <b>1304</b>, <b>1306</b>, <b>1308</b>, <b>1310</b> and <b>1312</b> for any of the aforementioned purposes. Those skilled in the art will recognize that while these types of augmented data <b>1302</b>, <b>1304</b>, <b>1306</b>, <b>1308</b>, <b>1310</b> and <b>1312</b> are shown in <figref idref="DRAWINGS">FIG. 13</figref>, in actual use, the projection system <b>1104</b> may only display one of the pieces of augmented data. More specifically, the projection system <b>1104</b> is adapted to display one arrow <b>1302</b>, <b>1304</b>, <b>1306</b> and <b>1308</b> to provide the user with visual feedback. These arrows <b>1302</b>, <b>1304</b>, <b>1306</b> and <b>1308</b> are used to provide the user with context information, feedback or assistance to identify portions of the image that have not been printed, or a direction in which there are additional portions of the image which are not being projected. Another augmented projection <b>1312</b> is used to provide the user with visual feedback about the operational status of the handheld printer <b>100</b>. For example, different icons or text may be projected to indicate that the handheld printer <b>100</b> is in printing mode, standby mode, locked mode, low on power, has completed printing or has additional information to print. The augmented data <b>1310</b> can also include portions that are projected for debugging the handheld printer <b>100</b> such as information about the location of the print head <b>118</b>. Those skilled the art will recognize that the types of augmented data, the locations of the augmented data and the icons used in <figref idref="DRAWINGS">FIG. 13</figref> are merely a few of the examples that can be used by the projection system <b>1104</b> to provide information about contacts, feedback collaboration for debugging to the user.</p>
<p id="p-0101" num="0100">Referring now to <figref idref="DRAWINGS">FIG. 14</figref>, a method for printing according to the present invention using the third embodiment of the handheld printer <b>100</b>C will be described. The method begins by receiving <b>1402</b> data from the absolute position sensors <b>160</b>, <b>162</b>. Then the method determines <b>1404</b> the position of the handheld printer <b>100</b>C. For example, the quadrature encoded information from the absolute position sensors <b>160</b>, <b>162</b> is converted to X and Y coordinates and rotational information as has been described above. Next the method determines <b>1406</b> the location of the print head <b>1108</b> in the image being printed. Then the method tests <b>1408</b> whether any of the print nozzles of the print head <b>1108</b> are over pixels that have not been printed twice. If all the print nozzles are over pixels that have been printed twice, the method proceeds to step <b>1414</b> as will be described below. However, if even one of the print nozzles is over a pixel that has not been printed twice, the method continues to fire <b>1410</b> the correct nozzles that have not been printed twice. As has been noted above, the present invention prints each pixel twice for improved image quality and to compensate for dot loss. After the correct nozzles have been fired, the method increases <b>1412</b> a count of the number of times the pixels have been printed. Then the method projects <b>1415</b> a new image. One embodiment for this step is described in more detail below with reference to <figref idref="DRAWINGS">FIG. 15</figref>. In an alternate embodiment as the picture by dashed lines in <figref idref="DRAWINGS">FIG. 14</figref>, the present invention may also optionally collect and send <b>1416</b> debugging information back to the processor system <b>1102</b>. This information can be collected over time to identify modifications that need to be made to any part of the handheld printer <b>100</b>C. For example, such debugging information may indicate that additional calibration of the projection system <b>1104</b> or the absolute sensors <b>160</b>, <b>162</b> is required.</p>
<p id="p-0102" num="0101"><figref idref="DRAWINGS">FIG. 15</figref> is a flowchart of an embodiment of a method for projecting an image to be printed according to the present invention. The method begins by creating <b>1502</b> a blank canvas. Then the method determines <b>1504</b> whether the printed image overlaps with an area being projected. If so, the method crops a region of the image to print and paste it onto the canvas. Next the method adds <b>1506</b> a border around the image to print on the canvas. Then the method adds augmented information or feedback (i.e., arrows pointing to the printed image) in areas of the canvas that are far from the print image. Then the method rotates <b>1510</b> the canvas to match the current angle of the handheld printer <b>100</b>. Next, the method scales <b>1512</b> the canvas to compensate for the projection system <b>1104</b>. For example, the method scales the canvas to compensate for the projection system's <b>1104</b> non-square pixels. The method transfers <b>1514</b> the canvas to the display. In one embodiment, the processor system <b>1102</b> is a block image transfer of pixels to the projection system <b>1104</b> and then waits for the vertical blanking interval. Those skilled in the art will recognize that the method described above is merely one embodiment of a method for projecting an image to be printed by the handheld printer <b>100</b>. In other embodiments, certain of the steps described above may be omitted or replaced place with the other steps.</p>
<p id="p-0103" num="0102">The foregoing description of the embodiments of the present invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the present invention to the precise form disclosed. Many modifications and variations are possible in light of the above teaching. For example, the embodiments presented above with only one print head may be considered to be a monochrome printer (one color of ink). However, full color printing is possible by extending the presentation here to four print heads, as will be understood by those skilled in the art. It is intended that the scope of the present invention be limited not by this detailed description, but rather by the claims of this application. As will be understood by those familiar with the art, the present invention may be embodied in other specific forms without departing from the spirit or essential characteristics thereof. Likewise, the particular naming and division of the modules, routines, features, attributes, methodologies and other aspects are not mandatory or significant, and the mechanisms that implement the present invention or its features may have different names, divisions and/or formats. Furthermore, as will be apparent to one of ordinary skill in the relevant art, the modules, routines, features, attributes, methodologies and other aspects of the present invention can be implemented as software, hardware, firmware or any combination of the three. Of course, wherever a component, an example of which is a module, of the present invention is implemented as software, the component can be implemented as a standalone program, as part of a larger program, as a plurality of separate programs, as a statically or dynamically linked library, as a kernel loadable module, as a device driver, and/or in every and any other way known now or in the future to those of ordinary skill in the art of computer programming. Additionally, the present invention is in no way limited to implementation in any specific programming language, or for any specific operating system or environment. Accordingly, the disclosure of the present invention is intended to be illustrative, but not limiting, of the scope of the present invention, which is set forth in the following claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An apparatus for printing a document, the apparatus comprising:
<claim-text>a handheld, portable housing;</claim-text>
<claim-text>a plurality of absolute position sensors positioned apart at a predefined distance, the absolute position sensors to generate position information that includes a current position and a rotation angle of the apparatus with respect to an initial position and an initial angle based on absolute position sensor outputs and the distance between the absolute position sensors;</claim-text>
<claim-text>a controller mounted to the portable housing for controlling printing, the controller coupled to the plurality of absolute position sensors to receive the position information and use the position information in controlling printing;</claim-text>
<claim-text>a projector for projecting an image of the document to be printed on a target surface, the projector mounted to the portable housing, the projector coupled to the controller to adjust a projection of the image to account for a movement of the apparatus based on the current position and the rotation angle of the apparatus with respect to the initial position and the initial angle, the projection of the image maintaining a constant and stationary appearance of a projected image at a position of the target surface in response to the movement of the apparatus; and</claim-text>
<claim-text>a print head for outputting ink in response to a signal from the controller, the print head mounted to the portable housing and coupled to the controller.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the plurality of absolute position sensors are one from a group of mechanical trackball mice or optical sensors with at least 300 dots per inch (dpi).</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the plurality of absolute position sensors are positioned on a bottom of the handheld, portable housing and spaced apart on a longitudinal axis.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the projector is coupled to the controller to also:
<claim-text>receive a locking input from a user; and</claim-text>
<claim-text>lock the projected image to maintain the constant and stationary appearance of the projected image at the position of the target surface in response to the locking input received from the user.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the plurality of absolute position sensors provide quadrature encoded information, and the controller determines a two-dimensional position of the apparatus as an X coordinate, a Y coordinate and an angle of rotation.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the controller includes a quadrature encoding state machine for receiving quadrature encoding information from the absolute position sensors and producing two-dimensional position information.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the controller includes a theta computation unit for receiving the position information and generating angular information, the theta computation unit including a look up table of angular values.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the print head includes a plurality of nozzles individually controlled to output ink, and wherein the controller sends a plurality of control signals to selectively cause one of the plurality of nozzles to output ink.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the controller sends control signals to the print head such that a plurality of pixels are printed by the print head twice.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A method for printing with a handheld printer, the method comprising:
<claim-text>projecting an image to be printed on a target surface;</claim-text>
<claim-text>detecting a movement of the handheld printer with a plurality of absolute position sensors positioned apart at a predefined distance;</claim-text>
<claim-text>generating position information that includes a current position and a rotation angle of the handheld printer with respect to an initial position and an initial angle based on absolute position sensor outputs and the distance between the absolute position sensors;</claim-text>
<claim-text>adjusting a projection of the image to account for the movement of the handheld printer based on the current position and the rotation angle of the handheld printer with respect to the initial position and the initial angle, the projection of the image maintaining a constant and stationary appearance of a projected image at a position of the target surface in response to the movement of the handheld printer; and</claim-text>
<claim-text>outputting ink in response to the movement of the handheld printer.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein detecting the movement of the handheld printer with the plurality of absolute position sensors includes:
<claim-text>providing quadrature encoded information by the plurality of absolute position sensors; and</claim-text>
<claim-text>determining a two-dimensional position of the handheld printer as an X coordinate, a Y coordinate and an angle of rotation.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein detecting the movement of the handheld printer with the plurality of absolute position sensors is performed once per sensor tick.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein detecting the movement of the handheld printer includes maintaining a tick counter that is responsive to quadrature encoding information from the plurality of absolute position sensors.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein one counter for each direction for each one of the plurality of absolute position sensors is maintained.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein outputting ink in response to the movement of the handheld printer is performed twice for a plurality of pixels.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein outputting ink has a print head dot smaller than an ideal pixel and a print head prints a plurality of pixels at once.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein projecting the image to be printed includes projecting augmented information onto the target surface.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref> wherein the augmented information is one from the group of context information, visual feedback, calibration information and debugging information.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref> wherein projecting the image to be printed includes rotating the projected image to match a current angle of the handheld printer.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref> wherein projecting the image to be printed includes scaling the projected image to compensate for a projection system of the handheld printer.</claim-text>
</claim>
</claims>
</us-patent-grant>
