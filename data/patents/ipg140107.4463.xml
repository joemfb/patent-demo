<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625546-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625546</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13346262</doc-number>
<date>20120109</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>J</subclass>
<main-group>3</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>12</main-group>
<subgroup>28</subgroup>
<symbol-position>L</symbol-position>
<classification-value>N</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370337</main-classification>
<further-classification>370400</further-classification>
</classification-national>
<invention-title id="d2e43">Distributed medium access protocol for wireless mesh networks</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>2003/0123405</doc-number>
<kind>A1</kind>
<name>Del Prado et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2003/0181204</doc-number>
<kind>A1</kind>
<name>Benveniste</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554221</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2004/0152416</doc-number>
<kind>A1</kind>
<name>Dahl</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455 412</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2005/0063419</doc-number>
<kind>A1</kind>
<name>Schrader et al.</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370466</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2005/0249173</doc-number>
<kind>A1</kind>
<name>Salokannel et al.</name>
<date>20051100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370338</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2005/0270975</doc-number>
<kind>A1</kind>
<name>Meylan et al.</name>
<date>20051200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370229</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2006/0009229</doc-number>
<kind>A1</kind>
<name>Yuan et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2006/0050730</doc-number>
<kind>A1</kind>
<name>Shvodian</name>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370458</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2006/0062181</doc-number>
<kind>A1</kind>
<name>Chou</name>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370329</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2007/0019666</doc-number>
<kind>A1</kind>
<name>Hirano et al.</name>
<date>20070100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2008/0013515</doc-number>
<kind>A1</kind>
<name>Benveniste</name>
<date>20080100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>WO</country>
<doc-number>2004088878</doc-number>
<kind>A1</kind>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>WO</country>
<doc-number>2005039105</doc-number>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>Hiertz et al, &#x201c;Mesh Networks Alliance (MNA) Proposal IEEE 802.11S&#x2014;MAC Sublayer Functional Description IEEE 802.11S&#x2014;Mesh WLAN Security&#x201d;, Internet Citation May 2005, URL: http://www.IEEE802.OG/11/docfiles/05/11-05-0605-02-000S-mesh-networks-alliance-proposal.doc.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>13</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>7</number-of-drawing-sheets>
<number-of-figures>15</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>11914155</doc-number>
<date>20090515</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8116295</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13346262</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120106522</doc-number>
<kind>A1</kind>
<date>20120503</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Reumerman</last-name>
<first-name>Hans-Juergen</first-name>
<address>
<city>Eindhoven</city>
<country>NL</country>
</address>
</addressbook>
<residence>
<country>NL</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Hiertz</last-name>
<first-name>Guido Roland</first-name>
<address>
<city>Aachen</city>
<country>DE</country>
</address>
</addressbook>
<residence>
<country>DE</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Max</last-name>
<first-name>Gustaf Sebastian</first-name>
<address>
<city>Cologne</city>
<country>DE</country>
</address>
</addressbook>
<residence>
<country>DE</country>
</residence>
</us-applicant>
<us-applicant sequence="004" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Zang</last-name>
<first-name>Yunpeng</first-name>
<address>
<city>Aachen</city>
<country>DE</country>
</address>
</addressbook>
<residence>
<country>DE</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Reumerman</last-name>
<first-name>Hans-Juergen</first-name>
<address>
<city>Eindhoven</city>
<country>NL</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Hiertz</last-name>
<first-name>Guido Roland</first-name>
<address>
<city>Aachen</city>
<country>DE</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Max</last-name>
<first-name>Gustaf Sebastian</first-name>
<address>
<city>Cologne</city>
<country>DE</country>
</address>
</addressbook>
</inventor>
<inventor sequence="004" designation="us-only">
<addressbook>
<last-name>Zang</last-name>
<first-name>Yunpeng</first-name>
<address>
<city>Aachen</city>
<country>DE</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Liberchuk</last-name>
<first-name>Larry</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Koninklijke Philips N.V.</orgname>
<role>03</role>
<address>
<city>Eindhoven</city>
<country>NL</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Choi</last-name>
<first-name>Eunsook</first-name>
<department>2467</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">This invention defines a medium access protocol for the support of mesh networking in wireless communications. It defines a phase for intra-cell and a phase for inter-cell traffic. During the inter-cell traffic a beacon phase is used for the reservation of transmissions. In this phase also information about the mesh topology is included and parallel transmission are supported.</p>
<p id="p-0002" num="0000">Even though this medium access protocol is intended to be proposed in standardization of IEEE 802.11 mesh networks (802.11) it could be used in any wireless mesh network.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="75.44mm" wi="144.95mm" file="US08625546-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="204.39mm" wi="151.21mm" file="US08625546-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="176.87mm" wi="153.16mm" file="US08625546-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="194.82mm" wi="158.24mm" file="US08625546-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="241.98mm" wi="169.59mm" file="US08625546-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="234.10mm" wi="177.63mm" file="US08625546-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="235.20mm" wi="134.54mm" file="US08625546-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="132.67mm" wi="159.60mm" file="US08625546-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<p id="p-0003" num="0001">This application is a continuation of Ser. No. 11/914,155 filed May 14, 2009 which is incorporated herein by reference.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<p id="p-0004" num="0002">MBOA (MultiBand OFDM Alliance) is a distributed system for WPAN (Wireless Personal Area Networks) running on an Ultrawide band (UWB) frequency band. Through DRP (Distributed Reservation Protocol), which makes channel resource reservations for future traffic, the MBOA system provides much higher channel access efficiency in a single hop communication scenario than other contention based protocols do, e.g., Prioritized Channel Access (PCA).</p>
<p id="p-0005" num="0003">A mesh network is a PAN (Personal Area Network) that employs one of two connection arrangements, full mesh topology or partial mesh topology. In the full mesh topology, each node is connected directly to each of the others. In the partial mesh topology, some nodes are connected to all the others, but some of the nodes are connected only to those other nodes with which they exchange the most data. Mesh networks have the capability to provide a geographic extension of network coverage without increasing transmit power or receive sensitivity. Mesh networks also provide enhanced reliability via route redundancy, easier network configuration, and may increase device battery life due to the potential for fewer retransmissions of data.</p>
<p id="p-0006" num="0004">Wireless mesh networks are multihop systems in which devices assist each other in transmitting packets through their network, especially in adverse conditions. One can establish a mesh network in a location with minimal preparation. Such mesh networks are also revered to as ad hoc networks. Mesh networks provide a reliable, flexible system that can be easily extended to thousands of devices.</p>
<p id="p-0007" num="0005">The wireless mesh network topology, which was originally developed at MIT for industrial control and sensing, is a point-to-point-to-point, or peer-to-peer, system called an ad hoc, multihop network. A node such a network can send and receive messages. Furthermore, a node in a mesh network also may function as a router that can relay messages for its neighboring nodes. Through the relaying process, a packet of wireless data will find its way to its destination, passing through intermediate nodes with reliable communication links. In a wireless mesh network, multiple nodes cooperate to relay a message to its destination. The mesh topology enhances the overall reliability of the network, which is particularly important when operating in harsh industrial environments.</p>
<p id="p-0008" num="0006">Referring to <figref idref="DRAWINGS">FIG. 1</figref>, through the relaying process, a packet of wireless data finds its way to its destination by passing through intermediate nodes with reliable communication links. In a wireless mesh network <b>10</b>, multiple nodes, <b>12</b>, <b>14</b>, <b>16</b>, cooperate to relay a message from an origin node <b>18</b> to its destination node <b>20</b>. The mesh topology <b>10</b> enhances the overall reliability of the network, which is particularly important and useful when operating in harsh industrial environments.</p>
<p id="p-0009" num="0007">Like the Internet and other peer-to-peer router-based networks, a mesh network <b>10</b> offers multiple redundant communications paths throughout the network. If one link between nodes fails (e.g. between node <b>14</b> and <b>16</b>) for any reason (including the introduction of strong RF interference), the network automatically routes messages through alternate paths (e.g. from node <b>14</b> to node <b>22</b> and then to node <b>20</b>).</p>
<p id="p-0010" num="0008">In a mesh network, shortening the distance between nodes will dramatically increases the link quality. If the distance between nodes is reduced by a factor of two, the resulting signal is at least four times more powerful at the receiver. This makes links more reliable without having to increase transmitter power in individual nodes. In a mesh network, you can extend the reach, add redundancy, and improve the general reliability of the network simply by adding more nodes to the network.</p>
<p id="p-0011" num="0009">Ultra wideband (UWB) is a wireless technology for transmitting large amounts of digital data over a wide spectrum of frequency bands with very low power for a short distance. Ultra wideband radio can carry a huge amount of data over a distance up to 230 feet at very low power (less than 0.5 milliwatts) and has the ability to carry signals through doors and other obstacles that tend to reflect signals at more limited bandwidths operating at a higher power. Ultra wideband is comparable with another short-distance wireless technology, such as Bluetooth, which is a standard for connecting handheld wireless devices with other similar devices and/or to, for example, desktop computers.</p>
<p id="p-0012" num="0010">Ultra wideband broadcasts digital pulses, which are timed very precisely, on a carrier signal across a very wide spectrum (on a plurality of frequency channels) at the same time. The wideband transmitter and receiver must be coordinated to send and receive pulses with a high accuracy of within trillionths of a second. On any given frequency band used in an ultra wideband system, an ultra wideband signal requires less power than a normal signal on the band. Furthermore, the anticipated background noise of an ultra wideband signal is so low that theoretically no interference is possible.</p>
<p id="p-0013" num="0011">Ultra wideband is being used in various situations, to date two prevalent applications of UWB include applications involving radar, in which the signal penetrates nearby surfaces, but reflects surfaces that are farther away, allowing objects to be detected behind walls or other coverings, and voice and data transmission using digital pulses, allowing a very low powered and relatively low cost signal to carry information at very high rates within a restricted range.</p>
<p id="p-0014" num="0012">This invention defines a medium access protocol for the support of mesh networking in wireless communications. It defines a phase for intra-cell and a phase for inter-cell traffic. During the inter-cell traffic a beacon phase is used for the reservation of transmissions. In this phase also information about the mesh topology is included and parallel transmissions are supported.</p>
<p id="p-0015" num="0013">Even though this medium access protocol is intended to be proposed in standardization of IEEE 802.11 mesh networks (802.11) it could be used in any wireless mesh network.</p>
<p id="p-0016" num="0014">The above summary of the invention is not intended to represent each embodiment or every aspect of the present invention.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<p id="p-0017" num="0015">A more complete understanding of the method and apparatus of the present invention may be obtained by reference to the following Detailed Description when taken in conjunction with the accompanying Drawings wherein:</p>
<p id="p-0018" num="0016"><figref idref="DRAWINGS">FIG. 1</figref> is a is a mesh network;</p>
<p id="p-0019" num="0017"><figref idref="DRAWINGS">FIG. 2</figref> is a diagram of an exemplary wireless scenario;</p>
<p id="p-0020" num="0018"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram of an exemplary wireless multihop scenario;</p>
<p id="p-0021" num="0019"><figref idref="DRAWINGS">FIG. 4</figref> is a simple wireless mesh network scenario where spatial reuse is possible;</p>
<p id="p-0022" num="0020"><figref idref="DRAWINGS">FIG. 5</figref> is an exemplary traffic/time diagram for the scenario of <figref idref="DRAWINGS">FIG. 4</figref>;</p>
<p id="p-0023" num="0021"><figref idref="DRAWINGS">FIG. 6</figref> depicts the exemplary alternation of AP-Traffic and Mesh-Traffic;</p>
<p id="p-0024" num="0022"><figref idref="DRAWINGS">FIG. 7</figref> is a exemplary structure of the mesh-traffic phase, including the BP and TxOP ownerships in accordance with the present invention;</p>
<p id="p-0025" num="0023"><figref idref="DRAWINGS">FIG. 8</figref> shows that while Station <b>1</b> sends a beacon, the beacon period access protocol has to avoid interference by station <b>4</b>;</p>
<p id="p-0026" num="0024"><figref idref="DRAWINGS">FIG. 9</figref> shows an exemplary detailed structure of a beacon period with three zones;</p>
<p id="p-0027" num="0025"><figref idref="DRAWINGS">FIG. 10</figref> shows a standard 802.11 beacon with an exemplary CF Parameter set and a BPOIE;</p>
<p id="p-0028" num="0026"><figref idref="DRAWINGS">FIG. 11</figref> <i>a, b, c</i>, and d depict an example of beacon shifting according to an embodiment of the present invention; and</p>
<p id="p-0029" num="0027"><figref idref="DRAWINGS">FIG. 12</figref> depicts an exemplary structure of a TXOP Ownership IE.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<p id="p-0030" num="0028">Existing Medium Access protocols for Wireless LAN like IEEE 802.11 do not efficiently support multihop communication. Therefore, there is a need to find and to define procedures that allow for building an Extended Service Set (ESS) as a collection of Access Points (APs) interconnected with wireless links that enable automatic topology learning and dynamic path configuration. An ESS Mesh is functionally equivalent to a wired ESS, with respect to the stations' relationship with the Basic Service Set (BSS) and ESS.</p>
<p id="p-0031" num="0029">Embodiments of the invention provide a Medium Access Control (MAC) protocol for a Wireless Distribution System (WDS) between a set of 802.11 Access Points (APs). Mobile stations operating in accordance with various embodiments and associated to any of the access points shall be able to communicate with: 1) Any access point in the given set; 2) Any mobile station associated to an access point in the set, and 3) Any connected external networks via a Mesh gateway.</p>
<p id="p-0032" num="0030">The communication between the access points enabling the mentioned points shall be transparent to the mobile stations, in embodiments of the invention, especially regarding the location.</p>
<p id="p-0033" num="0031">Access points in this exemplary wireless distribution service play a twofold role: On the one hand, the access points act as a basic 802.11 AP, providing special features to their associated stations. On the other hand, the access points are wireless stations themselves, communicating with each other to fulfill the services they have provided to their basic service set (BSS).</p>
<p id="p-0034" num="0032">A typical scenario of an exemplary wireless scenario with two BSSs and one Distribution System (DS) is depicted in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0035" num="0033">Stations one <b>20</b>, two <b>22</b>, and three <b>24</b> in BSS<b>1</b> <b>26</b> and stations four <b>28</b> and five <b>30</b> in BSS <b>32</b> constitute two, non-overlapping BSSs. The access point (AP) <b>34</b> in BSS<b>1</b> <b>26</b> and the access point <b>36</b> in BSS<b>2</b> <b>32</b> enable inter-BSS communication. The MAC-mechanism that supports this communication in a wireless distribution system (WDS) will be explained below.</p>
<p id="p-0036" num="0034">The following assumptions may be made regarding the possible scenarios in accordance with embodiments of the invention:</p>
<p id="p-0037" num="0035">1) Ad-Hoc Placement of Access Points:</p>
<p id="p-0038" num="0036">The spatial position of the access points is unknown to themselves and to the other access points; an access point may be placed arbitrarily in a given area. There is no previous knowledge regarding the structure of the environment, the distances between neighboring APs, and the interference situation; and furthermore there is no possibility to obtain geographical information about the APs or obstacles between them.</p>
<p id="p-0039" num="0037">2) The Access Point Topology is Semi-Stationary to Stationary:</p>
<p id="p-0040" num="0038">The speeds of any AP changes are negligible compared to the movements of associated stations and the traffic patterns.</p>
<p id="p-0041" num="0039">3) The Network of Access Points is not Fully Connected:</p>
<p id="p-0042" num="0040">Due to indoor-conditions or large areas to be served, it cannot be assumed that the communication graph of the APs, describing the possibility of direct communication between APs, is fully connected. However, each pair of APs must be connected by a path of possibly several other APs, which means that the communication graph is connected.</p>
<p id="p-0043" num="0041">One implication of this assumption is the impossibility of a simple broadcast in the DS, which complicates any attempt of a centralized coordination. Another one is the need of multihop-mechanism, allowing APs to relay data to other APs on so the data can continue on its way to a final destination.</p>
<p id="p-0044" num="0042">An example scenario where multihop communication is needed can be seen in <figref idref="DRAWINGS">FIG. 3</figref>, which is a wireless multihop scenario <b>40</b>. By transparent usage of the DS <b>42</b> and a multihop connection <b>44</b> between the AP <b>46</b> and AP <b>48</b>, the stations in BSS<b>1</b> <b>50</b> are able to connect to Station <b>8</b> <b>46</b>, which acts as a gateway to the internet <b>52</b>. Without a multihop-enabled DS <b>42</b>, this would become impossible because Station <b>4</b> <b>48</b> cannot wirelessly reach and communicate with Station <b>8</b> <b>46</b>.</p>
<p id="p-0045" num="0043">Exemplary access points may posses only a single frequency radio. This requirement simplifies and decreases the cost of the construction of APs, but causes the complication that the DS and every BSS have to share the same wireless medium, resulting in possible conflicts and efficiency decreases. An easy exemplary improvement of the MAC-protocol can be archived using dual-frequency radios or even multi-frequency radios.</p>
<p id="p-0046" num="0044">In embodiments of the invention discussed below, it should be understood that, a station is (1) a basic 802.11-access point, able to provide management services like association and creation of a BSS, and (2) is a station in a wireless distribution system, able to use multi-hop communication between its peers to obtain abilities needed for its access-point functions, and (3) is placed in a scenario as explained above that is defined to be a mesh-network station or Mesh Point.</p>
<p id="p-0047" num="0045">In contrast to the EDCA, which is used in the AP traffic phase, this new exemplary MAC protocol allows an efficient multihop communication in the mesh network. The use of negotiated transmission opportunities (TxOPs) of equal length result in a predictable medium access, as all neighboring Mesh Points are able to learn which Mesh Point in the mesh network plays which part during a TxOP. This enhanced knowledge/information provided to the mesh points allows the protocol to allow a greater spatial reuse, which directly is followed by a capacity increase of an exemplary mesh network.</p>
<p id="p-0048" num="0046">A simple example for the possibilities of spatial reuse can be found in <figref idref="DRAWINGS">FIG. 4</figref>. Mesh Points STA<b>1</b> <b>60</b>, STA<b>2</b> <b>62</b>, STA<b>3</b> <b>64</b>, and STA<b>4</b> <b>68</b> each have their own BSS and probably several associated mobile stations. The mobile stations in the BSS of Mesh Point STA<b>1</b> <b>60</b> generate traffic that is addressed to Mesh Point STA<b>4</b> <b>68</b> (STA<b>4</b> <b>68</b> is, for example, a gateway or portal to the internet), and Mesh Point STA<b>4</b> <b>68</b> replies to traffic.</p>
<p id="p-0049" num="0047">As Mesh Point STA<b>1</b> <b>60</b> and STA<b>4</b> <b>68</b> are mutually out of reception range, they cannot communicate directly with each other. They must use two, three hop routes via Mesh Points STA<b>2</b> <b>62</b> and STA<b>3</b> <b>64</b>, which are depicted as (<b>1</b><i>a</i>-<i>c</i>) and (<b>2</b><i>a</i>-<i>c</i>).</p>
<p id="p-0050" num="0048">If Mesh Point STA<b>3</b> <b>64</b> is able to guess that simultaneous usage of link (<b>1</b><i>a</i>) and (<b>2</b><i>c</i>) is possible because the interference created by Mesh Point STA<b>1</b> <b>60</b> at Mesh Point STA<b>3</b> <b>64</b> during the transmission is low, then Mesh Point STA<b>3</b> <b>64</b> may negotiate with Mesh Point STA<b>4</b> <b>68</b> such that the number of used TxOP are to be the same as they are used for the link (<b>1</b><i>a</i>). The latter information is directly available to Mesh Point STA<b>3</b> <b>64</b> via the negotiation procedure between Mesh Point STA<b>1</b> <b>60</b> and Mesh Point STA<b>2</b> <b>62</b>.</p>
<p id="p-0051" num="0049">Similarly, links (<b>1</b><i>c</i>) and (<b>2</b><i>a</i>) can be used simultaneously, which results in an exemplary traffic/time diagram as given in <figref idref="DRAWINGS">FIG. 5</figref>. <figref idref="DRAWINGS">FIG. 5</figref> is an optimal alignment of the transmissions during time for the scenario in <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0052" num="0050">While embodiments of this invention support spatial reuse, the mechanism used by the Mesh Points to decide which TxOPs can be transmitted simultaneously is out of the scope of this invention.</p>
<p id="p-0053" num="0051">Exemplary essential features of the present invention are the definition of a MAC protocol that supports parallel transmission by the means of TxOP reservation. It divides the time interval (superframe) in a first phase for intra-BSS traffic (AP traffic) and a second phase for intra-DS (Mesh traffic).</p>
<p id="p-0054" num="0052">During the AP traffic phase, existing MAC mechanisms like DCF, EDCA, and HCCA are used for communication between the stations and the access point. The mesh traffic phase is protected from legacy 802.11 by the use of the contention free period (CFP). The mesh traffic phase is divided in a beacon period, which takes place every two superframes and another period for data transmission. Embodiments of this invention introduce enhancements for mesh topology such as an inclusion of neighbor's neighbor slot occupancy and support of parallel transmissions during the TxOP negotiation. Other mechanisms like the Ghost Beacon period, Buffer zone, variable beacon length, short address format, cumulative Acknowledgement can also be used to improve performance of the exemplary MAC protocol.</p>
<p id="p-0055" num="0053">MAC Architecture</p>
<p id="p-0056" num="0054">One of the main targets of an exemplary MAC layer in a Mesh Point is to provide access to the Distribution System (DS) with the aim of relaying data which originates from associated 802.11 stations or gateways (portals). Communication between different Mesh Points is either a MAC internal management communication or is the effect of a previous communication between a mobile 802.11 station and its Access Point.</p>
<p id="p-0057" num="0055">Referring to <figref idref="DRAWINGS">FIG. 6</figref>, an exemplary MAC protocol offers efficient support for single and multi radio Mesh networks. In a single radio Mesh network, division between intra BSS traffic and intra DS traffic is done over time: Phases for the exchange of data between a Mesh Point and its associated mobile stations alternate with phases intended for peer traffic between Mesh Points. Traffic in the first phase is called AP traffic <b>70</b>, whereas traffic in the second one is called mesh traffic <b>72</b>. With multi radio Mesh Points one or more frequencies for AP traffic and one or more frequencies for Mesh traffic may be used.</p>
<p id="p-0058" num="0056">To allow for an efficient usage of the radio resource, a solution for a single radio/single frequency Mesh network is much more complicated than a multi radio solution. Exemplary embodiments proposed here, are able to support single and multi frequency solutions. First we will discuss a solution for single radio Mesh networks.</p>
<p id="p-0059" num="0057">In the AP traffic phase (ATP) <b>70</b>, the 802.11 DCF, 802.11e EDCA or 802.11e HCCA is used to access the wireless medium (WM) by Mesh Points and by stations. Thus, the ATP <b>70</b> is also compatible to non 802.11s stations. The mesh traffic phase (MTP) <b>72</b> uses the announcement of a CFP <b>74</b> to silence any non Mesh Points (legacy 802.11 stations). Therefore, the MTP is structured to support the goals of the intra DS traffic (i.e. <b>44</b>), especially a good multihop performance. The mesh traffic phase <b>72</b> is explained below in the chapter &#x201c;Mesh Traffic Phase&#x201d; portion.</p>
<p id="p-0060" num="0058">One MTP <b>72</b> and one ATP <b>70</b> together define the Superframe <b>76</b> known from 802.11 standards. A superframe <b>76</b> has a fixed length of mSuperframeSize. The fraction of this superframe <b>76</b> that is used for the MTP <b>72</b> must be in between mMTPMinTime and mMTPMaxTime. The duration of the ATP <b>70</b> is not restricted furthermore.</p>
<p id="p-0061" num="0059">Silencing the 802.11-Stations</p>
<p id="p-0062" num="0060">According to standard 802.11, each CFP <b>74</b> starts with the transmission of a beacon <b>78</b> by the AP at Target Beacon Transmission Time (TBTT) <b>80</b>. Among other information, the beacon <b>78</b> announces the duration of the Contention Free Period (CFP) <b>74</b> in the Basic Service Set of the AP and the duration of the superframe <b>76</b>. Thus, the start time of the next CFP is defined also. All 802.11 standards respect the CFP as period during which no transmission may be initiated by any other station than the AP (802.11e Hybrid Coordinator (HC) or 802.11 Point Coordinator (PC)). Having learned from previous beacons all 802.11 stations will refrain from accessing the channel until they are either polled (if they are CFPollable) or the CFP ends. Furthermore, all station calculate and know when the start point of the next CFP will occur, and will be silent even if no beacon was received at the beginning of the next superframe/CFP.</p>
<p id="p-0063" num="0061">Referring to both <figref idref="DRAWINGS">FIG. 6</figref> and <figref idref="DRAWINGS">FIG. 7</figref>, since no station will access the wireless medium during the CFP <b>74</b> without being polled by the HC or PC, a Mesh Coordination Function (MCF), that is independent from legacy 802.11 contention, can be used during the CFP. Every MTP starts with a beacon period (BP) <b>82</b>. During the BP <b>82</b> every Mesh Point sends a beacon frame <b>84</b><i>a</i>-<b>84</b><i>e</i>. In each station's beacon frame, it announces the start of a CFP to its associated stations including the start time of the next CFP. As all stations will respect the latter CFP, no special announcement is needed. Therefore, to further enhance the exemplary protocol, the APs may optionally use every 2nd BP (which can be considered as protocol overhead) only. Thus one BP <b>82</b> is needed in two superframes only. The missing BP is indicated by the term &#x201c;Ghost Beacon Period&#x201d; (GBP) <b>86</b>, in which the stations expect a beacon, but do not receive one.</p>
<p id="p-0064" num="0062">It is important to notice that during the ATP <b>70</b> following the MTP <b>72</b> with the GBP <b>86</b>, each AP has to send a beacon to announce the beginning of the upcoming MTP. <figref idref="DRAWINGS">FIG. 6</figref> depicts the exemplary alternation AP-Traffic and Mesh-Traffic.</p>
<p id="p-0065" num="0063">Using the CFP <b>74</b> as a means to allow a mesh specific protocol requires special care. For example, in non 802.11s, a situation called a &#x201c;foreshortened&#x201d; CFP can occur: Stations may start a transmission before the CFP, even if the transmission takes longer to finish than the rest of the CP (Contention Period). Therefore, the 802.11 AP may sense a busy medium at TBTT, which marks the start of the CFP, and refrain from sending its beacon until the transmission ends. This behavior shortens the CFP by the delay; therefore, providing the name of the situation &#x201c;foreshortened&#x201d;.</p>
<p id="p-0066" num="0064">A &#x201c;foreshortened&#x201d; MTP is not acceptable in an exemplary mesh network, since there might be stations that did not hear the &#x201c;disobedient&#x201d; mobile station <b>88</b> because of their distance. These stations will start the MTP as scheduled. Hence, the starting point becomes unsynchronized. To guarantee an idle medium at the beginning of the MTP, the TBTT is announced to be a small moment before the real start. This buffer zone has exactly the duration of a maximum sized packet send at the basic PHY mode, so that the &#x201c;disobedient&#x201d; station will stop sending before the MTP. APs may send traffic in the buffer zone, using the 802.11e EDCA to avoid collisions with other APs. Therefore, Channel time is not wasted, and the APs will take care of stopping the transmission at the start of the MTP.</p>
<p id="p-0067" num="0065">Mesh Traffic Phase</p>
<p id="p-0068" num="0066">In the MTP <b>72</b> all Mesh Points use the mesh coordination function (MCF) to share the medium. Two subsequent equal length phases, the first starting with a BP <b>82</b>, the other one with a GBP <b>86</b>, are connected with each other by the BP <b>82</b> in which the coordination of the remaining time is done. A proposal of their length is stated by each station in an IE in its beacon, any station may use the maximum of the proposed values. The proposal does not affect the current pair of MTPs, but the following one, as the silencing of the associated stations is done with the &#x201c;old&#x201d; value.</p>
<p id="p-0069" num="0067">The MCF divides the two phases into several transmission opportunities (TxOPs, known from QoS supporting amendment 802.11e) <b>90</b> of mTxOPLength <b>92</b> and provides a protocol to acquire the ownership of one or several TxOPs <b>90</b>. The negotiation of ownerships is performed by the including of information elements <b>84</b><i>a</i>-<b>84</b><i>e </i>in the BP <b>82</b>.</p>
<p id="p-0070" num="0068">After a few BPs, the negotiation of a TxOP ownership <b>90</b> is finished, which results in an agreement between the new owner of the TxOP and the intended receivers. The agreement ensures that the receivers are listening for a transmission from the owner during the TxOP.</p>
<p id="p-0071" num="0069">All other stations in the neighborhood of the owner and the receivers will respect the agreement and therefore will: (1) Refrain from being sender if that could disturb the owner's transmissions and (2) refrain from being receiver if the sender could disturb the owner's transmission.</p>
<p id="p-0072" num="0070">An ownership of a TxOP guarantees therefore the best possible chance of a successful transmission during this time. The negotiation process, which is performed using the BPAP, is explained below in the section titled &#x201c;TxOP Negotiation&#x201d;. The time flow during one mesh traffic phase, from the viewpoint of one station is drafted in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0073" num="0071">At the beginning of the traffic phase, each Mesh Point sends a beacon, in which it states the ownership of one or more of the following TxOPs, which have already been negotiated. After the BP, the owners may transmit in the appropriate TxOPs.</p>
<p id="p-0074" num="0072">Once a Mesh Point is the owner of a TxOP, it may use the given time for sending data to the previously announced receivers. This data falls into one of the following categories:</p>
<p id="p-0075" num="0073">1) Payload from the sender's BSS to another BSS</p>
<p id="p-0076" num="0074">Relayed payload from a different BSS to another BSS</p>
<p id="p-0077" num="0075">Positive or negative acknowledgement of previous data receptions</p>
<p id="p-0078" num="0076">Information Elements addressed to the receiver only</p>
<p id="p-0079" num="0077">To sum it up, the MTP falls into three building blocks: The beacon access protocol (section &#x201c;Beacon Period Access Protocol&#x201d;), the TxOP ownership negotiation (section &#x201c;TxOP Ownerships&#x201d;) and finally the data transmission during the owned TxOP.</p>
<p id="p-0080" num="0078">Device IDs</p>
<p id="p-0081" num="0079">The expected number of Mesh Points in a typical scenario, for example in a campus environment, is typically less than or equal to 32. Therefore, a six octet field (like it is used in 802.11) for addressing traffic between Mesh Points is not needed. As long as it can be ensured that every Mesh Point in the mesh network has its own unique identifier, a shorter identifier may be used. The source and the destination of a data packet in the network are still addressed using the common address. However, any intermediate Mesh Point uses a mDevIdBits bit Device Id (DEVID) as the transmitter and the receiver address during the MTP.</p>
<p id="p-0082" num="0080">Before selecting a random Device ID, a new Mesh Point listens to the current traffic and collects all IDs from the beacon period access protocol, so that conflicts with stations in the neighborhood and also with stations in the neighborhood's neighborhood are avoided.</p>
<p id="p-0083" num="0081">Beacon Period Access Protocol</p>
<p id="p-0084" num="0082">Every 2nd MTP <b>72</b> starts with a beacon period <b>82</b>. It is used to silent non-Mesh Points (non 802.11s stations) by starting a CFP <b>74</b>. Further it is used to organize the traffic in the rest of the MTP and in the next MTP, which starts with a GBP.</p>
<p id="p-0085" num="0083">Referring to <figref idref="DRAWINGS">FIG. 9</figref>, the Mesh Coordination Function shares the wireless medium between the Mesh Points. It is organized as follows. During the BP the beacon period access protocol (BPAP) is used. The BP is segmented into small slots <b>84</b>. In the beacon period <b>82</b> shown in <figref idref="DRAWINGS">FIG. 9</figref> there are 34 slots <b>84</b>. The status of each slot is disseminated in the near neighborhood. This is done to lower the probability of a collision of two beacons from different Mesh Points in the same time slot. The dissemination is done over a three hop distance. The reason for this is explained using <figref idref="DRAWINGS">FIG. 8</figref>. <figref idref="DRAWINGS">FIG. 8</figref> shows that while Station<b>1</b> <b>100</b> sends a beacon <b>102</b>, the beacon period access protocol has to avoid interference <b>104</b> by station<b>4</b> <b>106</b>.</p>
<p id="p-0086" num="0084">Here, the situation on the wireless medium is shown during a beacon slot which is occupied by Mesh Point STA<b>1</b> <b>100</b>. All stations (802.11s Mesh Points and non 802.11s stations) in the transmission range of a Mesh Point must correctly receive the beacon frame of Mesh Point. A beacon collision may occur at a receiving station if a Mesh Point (like station<b>4</b> <b>106</b>) would transmit a beacon in the same time interval. To prevent beacon collisions, the beacon period occupancy information element (BPOIE) in every beacon informs neighboring Mesh Points about when a beacon will be sent or received. The BPOIE has four possible entries per beacon slot (e.g. <b>84</b><i>a</i>). The four possible means are:</p>
<p id="p-0087" num="0085">The beacon slot is occupied by the sending Mesh Point.</p>
<p id="p-0088" num="0086">The Mesh Point knows about a blocked Beacon Slot. It must listen to a neighbor which occupies this beacon slot.</p>
<p id="p-0089" num="0087">The Mesh Point will receive interference during this beacon slot and therefore cannot guarantee reception in this slot.</p>
<p id="p-0090" num="0088">From the point of view of the Mesh Point the beacon slot is free.</p>
<p id="p-0091" num="0089">In the scenario in <figref idref="DRAWINGS">FIG. 8</figref>, Mesh Point STA<b>1</b> <b>100</b> sets the beacon information to beacon slot type <b>1</b>. Mesh Point STA<b>2</b> <b>108</b> sets the beacon information beacon slot to type <b>2</b>, and so on. Mesh Point STA<b>2</b> <b>108</b> propagates this information in its beacons. As Mesh Point STA<b>4</b> <b>106</b> receives the interference information about this slot from Mesh Point STA<b>3</b> <b>110</b>, it knows that it shall not send in this slot, because:</p>
<p id="p-0092" num="0090">the Mesh Point STA<b>3</b> <b>110</b> might not be able to receive the beacon successfully, and/or</p>
<p id="p-0093" num="0091">the beacon may collide with another beacon.</p>
<p id="p-0094" num="0092">This exemplary method of collision avoidance is called virtual clear channel assessment (V-CCA). Additionally, the stations can also use the traditional physical clear channel assessment (P-CCA), which is done by sensing the strength of transmissions occurring in a beacon slot in one BP and then marking the slot as used if the threshold of mBPNoiseThreshold is exceeded.</p>
<p id="p-0095" num="0093">In the following paragraphs, a detailed exemplary implementation of a BPAP is explained, including the beacon structure, the process of joining and leaving the BP, the detection of collisions, and the contraction of the BP.</p>
<p id="p-0096" num="0094">Beacon Period Timing Structure</p>
<p id="p-0097" num="0095">Referring to <figref idref="DRAWINGS">FIGS. 6 and 9</figref>, during the BP <b>82</b>, time is slotted into intervals of mBPSlotLength length. Any transmission of a beacon has to start at the beginning of an interval. mBPSlotsPerTxOP subsequent intervals have the same size of a TxOP <b>120</b>. The duration of the BP <b>82</b> must be a multiple of a TxOP <b>120</b>. <figref idref="DRAWINGS">FIG. 9</figref> shows the detailed structure of a beacon period with three zones.</p>
<p id="p-0098" num="0096">As one beacon can occupy several subsequent beacon slots <b>84</b>, beacons of the same size are ordered in their dedicated zone. In zone number &#x201c;i&#x201d; <b>122</b>, only beacons of the length &#x201c;i&#x201d; <b>124</b> times mBPSlotLength are allowed. Zone &#x201c;i&#x201d; <b>122</b> ends with the end of a TxOP, furthermore there have to be &#x201c;i&#x201d;*mFreeSlotsInZone at the end of each zone. This allows new Mesh Points to join the BP <b>82</b> by sending a beacon in these free slots <b>126</b>. The owner of the first beacon <b>127</b> in the subsequent zone <b>128</b> is responsible for freeing his slot if the number of free slots in the previous zone falls below this number. If the number of free slots <b>126</b> in the last zone <b>122</b> is below the minimum, the beacon period grows by the required number.</p>
<p id="p-0099" num="0097">If a Mesh Point is to send a beacon in a zone that does not exist, the Mesh Point sends a beacon in the next smaller zone and indicates the creation of the new zone in its BPOIE.</p>
<p id="p-0100" num="0098">A possible exemplary beacon period is shown in <figref idref="DRAWINGS">FIG. 9</figref>. In the configuration chosen there are three slots per TxOP <b>120</b> and mFreeSlotsInZone is equal to 2.</p>
<p id="p-0101" num="0099">The maximum length of the beacon period <b>82</b> is limited to mMaxBPLength <b>92</b> TxOPs, but may be considerably shorter. The maximum length of the beacon period may even differ in separated areas of a mesh network.</p>
<p id="p-0102" num="0100">Any Mesh Point that is to transmit or receive data in the upcoming traffic phase has to send at least one beacon in the beginning of an unoccupied beacon slot and listen to the neighboring beacons.</p>
<p id="p-0103" num="0101">It is possible for a Mesh Point to send more than one beacon in the BP as long as different information is transmitted in each beacon. It is recommended that a Mesh Point tries to send its information in a single beacon of appropriate size in the proper zone, creating a new zone if needed. Each transmission has to end with a guard time of at least mTimeBetweenBeacons before the next beacon slot starts.</p>
<p id="p-0104" num="0102">Alternative Beacon Timing Structure</p>
<p id="p-0105" num="0103">The exemplary BP Structure of <figref idref="DRAWINGS">FIG. 9</figref> can be simplified by not incorporating the usage of different zones for different length beacons, but this may inevitably complicate the BP Contraction.</p>
<p id="p-0106" num="0104">In Another exemplary embodiment and alternative proposal for a BP <b>82</b>, an arbitrary alignment of the beacons during the BP can be used. If a Mesh Point stops sending beacons, a gap of one or several continuous slots is created. The gap that is created should be filled by existing beacons either by sliding (if the beacon is situated directly after the gap) or by jumping. To be efficient, large jumps shall be preferred over several consecutive small jumps. This can be done by a last-come-first-served strategy during processing of the intentions to change to the beacon slot. For example, the Mesh Point that sends the last beacon in the BP in which the beacon announces the new ownership of the free slots will get the slots.</p>
<p id="p-0107" num="0105">Beacon Contents</p>
<p id="p-0108" num="0106">An exemplary beacon <b>78</b> carries two important pieces of information. On the one hand, a beacon transports information elements that are used to coordinate the beacon phase access protocol and the traffic phase. On the other hand, associated 802.11 stations must be capable of understanding the beacon structure so they can identify the start of a CFP <b>74</b>.</p>
<p id="p-0109" num="0107">To supply the latter of the two functionalities, the beacon structure must comply with the structure defined in the IEEE Wireless LAN Edition, 7.2.3 Management frames ff (herein incorporated by reference), which is repeated shortly in <figref idref="DRAWINGS">FIG. 10</figref>. <figref idref="DRAWINGS">FIG. 10</figref> shows the standard 802.11 beacon with an exemplary CF Parameter set <b>152</b> and a BPOIE <b>150</b>.</p>
<p id="p-0110" num="0108">As every beacon <b>78</b> sent by a Mesh Point starts a CFP <b>74</b>, it has to include a CF-Parameter set <b>152</b>, which silences the associated stations for the current and the next MTP <b>72</b>, which starts with a GBP <b>86</b>.</p>
<p id="p-0111" num="0109">The beacon period occupancy IE (BPOIE) <b>150</b> is responsible for the beacon period access protocol and the dissemination of the BP slot status in the mesh network. The entries in the BPOIE are explained in the following paragraphs.</p>
<p id="p-0112" num="0110">BP Length</p>
<p id="p-0113" num="0111">The BPLength field <b>154</b> is used to indicate a Mesh Point's view of the current length of the BP <b>82</b>, which is the number of TxOPs <b>120</b> that the Mesh Point will listen to for beacons before starting to transmit or receive data in the MTP <b>72</b>. As it is important to synchronize the BP Length in the neighborhood, it is calculated as the maximum of:</p>
<p id="p-0114" num="0112">the last heard traffic in the last BP,</p>
<p id="p-0115" num="0113">the last occupied slot as reported from the received beacons in this BP, and/or</p>
<p id="p-0116" num="0114">the last occupied slot as reported from the received beacons in the last BP plus the appropriate number of free slots which can be calculated recognizing the number of zones (by the extension slots of each zone) in the last BP. The BP Length shall never grow larger than mMaxBPLength <b>92</b>.</p>
<p id="p-0117" num="0115">BP Bitmap</p>
<p id="p-0118" num="0116">In a beacon send of an exemplary embodiment, a device announces its view of the occupancy of the BP <b>82</b>, which is done by sending a BP Bitmap <b>156</b> of the size 2*mBeaconSlotsPerTxOP*BPLength bits. If the end of the BP Bitmap <b>156</b> does not fall together with an end of an octet, the BP Bitmap <b>156</b> is filled up with zeros which are not interpreted by any Mesh Point. The information inside the BP Bitmap <b>156</b> shall be as fresh as possible, e.g. incorporating information of the BP Bitmaps of beacons that have been just received.</p>
<p id="p-0119" num="0117">Each bit double inside the BP Bitmap corresponds to exactly one beacon slot. The bits inside the double express the occupancy of this slot as seen by the sending Mesh Point. The four possible combinations and their meaning are given in Table 1.</p>
<p id="p-0120" num="0118">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE 1</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>The four possible beacon slot states, as indicated in an exemplary BP</entry>
</row>
<row>
<entry>Bitmap</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="42pt" align="center"/>
<colspec colname="2" colwidth="175pt" align="left"/>
<tbody valign="top">
<row>
<entry>Element</entry>
<entry/>
</row>
<row>
<entry>value (b1b0)</entry>
<entry>Beacon slot interpretation</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry>00</entry>
<entry>Free slot</entry>
</row>
<row>
<entry/>
<entry>The currently transmitting Mesh Point can receive beacons</entry>
</row>
<row>
<entry/>
<entry>here.</entry>
</row>
<row>
<entry>01</entry>
<entry>Occupied by sending Mesh Point</entry>
</row>
<row>
<entry/>
<entry>This slot is occupied by the currently transmitting</entry>
</row>
<row>
<entry/>
<entry>Mesh Point and this Mesh Point has sent/is sending/</entry>
</row>
<row>
<entry/>
<entry>will send a beacon in this slot.</entry>
</row>
<row>
<entry>10</entry>
<entry>Occupied by neighboring Mesh Point</entry>
</row>
<row>
<entry/>
<entry>This slot is occupied by a neighboring Mesh Point, and the</entry>
</row>
<row>
<entry/>
<entry>Mesh Point currently transmitting has successfully received</entry>
</row>
<row>
<entry/>
<entry>a beacon in this slot or expects to receive one if it refers to</entry>
</row>
<row>
<entry/>
<entry>a slot in the future.</entry>
</row>
<row>
<entry>11</entry>
<entry>Occupied by neighbor's neighbor Mesh Point</entry>
</row>
<row>
<entry/>
<entry>This slot is occupied by a Mesh Point which is</entry>
</row>
<row>
<entry/>
<entry>a neighbor's neighbor but not a direct neighbor or</entry>
</row>
<row>
<entry/>
<entry>out of the receiving range but still creates noise.</entry>
</row>
<row>
<entry/>
<entry>The Mesh Point expects that a beacon send to it will not be</entry>
</row>
<row>
<entry/>
<entry>decoded successfully because of the existent interference.</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0121" num="0119">The BP Bitmap is built up internally during the BP <b>82</b>, incorporating new information while beacons are received. In each transmitted beacon the freshest BP Bitmap is sent.</p>
<p id="p-0122" num="0120">Owner Vector</p>
<p id="p-0123" num="0121">In any beacon send, which has a BP Bitmap with entries set to 10 or 11, an owner vector must be sent after the BP Bitmap. The owner vector consists of mDEVIDBits bits <b>158</b> for each entry set to 10 or 11 in the BP Bitmap, and indicates the DEVID of the appropriate Mesh Point. If the DEVID is unknown to the sending Mesh Point (which may happen only if the entry is set to 11), the DEVID is set to zero.</p>
<p id="p-0124" num="0122">Q Beacon Transmission and Reception</p>
<p id="p-0125" num="0123">After a Mesh Point is powered up, the Mesh Point device scans for beacons in mScanBeacons subsequent BPs. If the Mesh Point device receives no valid beacons after the scan, then before it transmits or receives any frames, it creates a new BP <b>82</b> by sending a beacon <b>78</b> in the first beacon slot <b>160</b> in the BP <b>82</b>.</p>
<p id="p-0126" num="0124">If the &#x2018;just powered-up&#x2019; Mesh Point device received one or more valid beacons during the scan, it does not create a new BP <b>82</b>. Instead it builds up an internal occupancy map (IOM) that is updated with every beacon received. The internal occupancy map is a bitmap consisting of mMaxBPLength bits <b>92</b>. Each bit corresponds to a beacon slot <b>84</b> in the BP <b>82</b>. A bit is set to one if and only if the Mesh Point:</p>
<p id="p-0127" num="0125">is the owner of this slot, which requires that it has send a beacon in this slot before, or</p>
<p id="p-0128" num="0126">has received a beacon in this slot, or</p>
<p id="p-0129" num="0127">has received a beacon with a 01, a 10 or an 11 in the corresponding entry in the BP Bitmap.
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0128">Otherwise, the bit is set to zero.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0130" num="0129">Using the occupancy map (and the information about the zones that can be computed from the received beacons), an exemplary Mesh Point sends a beacon in the first slot(s) <b>160</b> marked zero in the zone that corresponds to the length of the beacon to be send. If the appropriate zone does not exist, the Mesh Point creates a new zone by sending a beacon in the last free beacon slot.</p>
<p id="p-0131" num="0130">If a device detects a beacon collision as described in the next section, it shall randomly choose another slot which is marked zero in its IOM.</p>
<p id="p-0132" num="0131">Beacon Collision Detection and Resolving</p>
<p id="p-0133" num="0132">Let the Mesh Point with the DEVID &#x201c;x&#x201d; send a beacon in the beacon slot &#x201c;j&#x201d; in the BP &#x201c;n&#x201d;. The station shall consider the beacon to be transmitted successfully if and only if in all beacons received by neighboring Mesh Points in the following BP entry &#x201c;j&#x201d; in the BP Bitmap is set to &#x201c;10&#x201d; and the corresponding entry in the Owner Vector is &#x201c;x&#x201d;, or the entry &#x201c;j&#x201d; is set to &#x201c;00&#x201d;.</p>
<p id="p-0134" num="0133">If the beacon cannot be considered successful, the Mesh Point is involved in a beacon collision and shall choose randomly another free slot using its IOM.</p>
<p id="p-0135" num="0134">BP Leaving</p>
<p id="p-0136" num="0135">If a Mesh Point wants to free one of its beacon slots because the amount of its beacon information has been reduced, the Mesh Point frees-up its last beacon slot in the BP <b>82</b>. The Mesh Point shall furthermore announce its departure by sending a last beacon in the slot where this slot is marked as 00 in the BP Bitmap <b>156</b>.</p>
<p id="p-0137" num="0136">BP Contraction</p>
<p id="p-0138" num="0137">If a Mesh Point is, according to its IOM, the last beacon holder of a zone and there are slots in the same zone that are marked as free, the Mesh Point shall shift its beacon to the free slots by the following procedure. If &#x201c;j&#x201d; is the number of the free beacon slots, The Mesh Point shall:</p>
<p id="p-0139" num="0138">transmit a beacon in the original slot with slot &#x201c;j&#x201d; set to &#x201c;01&#x201d; in the BP Bitmap,</p>
<p id="p-0140" num="0139">transmit a beacon in slot &#x201c;j&#x201d; in the next BP, and/or</p>
<p id="p-0141" num="0140">transmit a departure beacon as described in &#x201c;BP Leaving&#x201d; (above) the original slot.</p>
<p id="p-0142" num="0141"><figref idref="DRAWINGS">FIG. 11</figref> shows an example of beacon shifting according to an embodiment of the present invention. First the slot &#x201c;<b>3</b>&#x201d; <b>160</b> is sensed free by a Mesh Point with DEVID &#x201c;<b>8</b>&#x201d;, furthermore the Mesh Point with DEVID &#x201c;<b>8</b>&#x201d; knows that it is the Mesh Point sending the last beacon in the BP <b>82</b>. Therefore it tries to occupy slot &#x201c;<b>3</b>&#x201d; <b>160</b> by reserving the slot <b>162</b> in <figref idref="DRAWINGS">FIG. 11</figref><i>b</i>. In the next BP, it can send its beacon <b>164</b> in slot &#x201c;<b>3</b>&#x201d; <b>160</b> and announce its departure in slot &#x201c;<b>10</b>&#x201d; <b>166</b>. Finally, in <figref idref="DRAWINGS">FIG. 11</figref><i>d </i>the shift is completed successfully.</p>
<p id="p-0143" num="0142">It is possible that the extension zone and therefore the beginning of the next zone or the traffic phase shifts after a shifting of one or more beacons. <figref idref="DRAWINGS">FIG. 11</figref> shows the four steps of a BP Contraction. The last device of Beacon zone shall move its beacon position to the very first empty slot of the Beacon zone. This is the four step procedure. First the Mesh Point that intends to move its beacon to the unoccupied, empty slot shall transmit a beacon in its original slot with an announcement that it intends to move its beacon to the empty slot announced in the beacon (set to &#x201c;01&#x201d; in the BP Bitmap). Then, during the next BP a beacon in both slots&#x2014;the new <b>164</b> and the old one <b>166</b>&#x2014;is transmitted by the Mesh Point. And finally, the Mesh Point Device stops transmission of a beacon frame in the last slot <b>166</b>. Hence, the Beacon zone has been contracted and unused beacon slots can be reused for data transmission.</p>
<p id="p-0144" num="0143">TxOP Ownerships</p>
<p id="p-0145" num="0144">Using the exemplary beacon period access protocol, any Mesh Point can send information elements (IE) to its neighboring Mesh Point devices. The IEs can be used to negotiate the ownership of the upcoming TxOPs <b>120</b> in the current and the next MTP <b>72</b>. The previous negotiation of the TxOP is important because it makes the usage of the wireless medium predictable, giving Mesh Points the exact knowledge about which neighbor is transmitting and which is receiving at which point in time.</p>
<p id="p-0146" num="0145">This knowledge enables several advantages in comparison to a random access protocol. One of the advantages is the low probability of collisions: When the negotiation is finished, the owner of the TxOP can be sure that the channel will not be used by any Mesh Point that could interfere with the transmission.</p>
<p id="p-0147" num="0146">Another important aspect of the improved knowledge is the easy ability to plan simultaneous transmission between pairs of Mesh Points that would not be feasible under other circumstances.</p>
<p id="p-0148" num="0147">TxOP Negotiation</p>
<p id="p-0149" num="0148">The occupation of a TxOPs is negotiated between the sender (which becomes the owner of the TxOPs if the negotiation is successful) and the receiver. To accelerate the process, it is possible to negotiate several TxOPs in the same time period. Furthermore, a TxOP can have up to mMaxNoOfReceivers receiving Mesh Points. This allows a transmitter to maximize the usage of a slot. A TxOP ownership may therefore be multi-TxOP and multi-receiver, but it can have only one owner.</p>
<p id="p-0150" num="0149">The negotiation of new occupations is done by including special TxOP ownership information elements (OIE) in the beacons of the participants. Additionally, an Availability IE might be included before or during the negotiation to improve the speed of finding TxOPs that are free for all participants. The structure of an exemplary TXOP Ownership IE is depicted in <figref idref="DRAWINGS">FIG. 12</figref>; the meaning of the different fields depends on the step of the negotiation.</p>
<p id="p-0151" num="0150">All active Mesh Points that listen to beacons have to process the OIEs <b>172</b> to build up an internal traffic phase occupancy map. In this map, a Mesh Point marks slots as occupied or free, and if it is occupied it additionally stores:</p>
<p id="p-0152" num="0151">The owner of the slot, which is the Mesh Point that wants to transmit in the slot.</p>
<p id="p-0153" num="0152">The receivers of this slot which expect to receive data from the owner during the slot.</p>
<p id="p-0154" num="0153">A slot is marked as occupied if:</p>
<p id="p-0155" num="0154">A OIE is received in which it is marked as &#x201c;occupied&#x201d;, and/or</p>
<p id="p-0156" num="0155">Noise is sensed in this slot during the previous MTPs that is above mNoiseThreshold.</p>
<p id="p-0157" num="0156">Looking at the embodiment another way, the negotiation can roughly be seen as a two way handshake between the transmitter and the receiver(s). In the first step of the handshake, the transmitter proposes some TxOPs, in which it intends to send data. This is followed by the receiver's reply, which either finishes the negotiation by fixing the announced TxOPs, or by declining the proposal and thus restarting the negotiation.</p>
<p id="p-0158" num="0157">By indicating the status of the negotiation in the status bit <b>170</b> of the OIE <b>172</b>, all neighboring Mesh Points know if the negotiation has finished and they have to respect the ownership, or if it is only proposed and therefore not obligatory. In the latter case the TxOPs can be reserved, by themselves, the ownership of TxOPs. This is done in a first come, first served technique. This also means that if one TxOP has been reserved by two Mesh Points in the same BP, the earlier beacon wins the TxOP.</p>
<p id="p-0159" num="0158">Because of the two way handshake, the ownership negotiation has also a similar function as the 802.11 RTS/CTS procedure, as it signals an occupation of the channel. However, it is more efficient because of the possibility of occupying several TxOPs in one handshake.</p>
<p id="p-0160" num="0159">In detail, if a Mesh Point wants to own slots <b>84</b> in the MTP <b>72</b>, the Mesh Point starts the negotiation process by choosing a suitable pattern of free slots (as marked in the internal map), probably including previous heard Availability IEs of the receiver(s) in the computation. The Mesh Point includes a OIE in its next beacon indicating the chosen TxOPs, the DEVID(s) of the intended receiver(s), its role in this reservation (&#x201c;transmitter&#x201d;), and the status of the ownership (&#x201c;announced&#x201d;) <b>170</b>. The ReservationID <b>172</b> shall be set to a randomly chosen value that is currently not used by this transmitter, which implies that the &#x201c;double&#x201d; (ReservationID, transmitter's DEVID) uniquely defines a reservation.</p>
<p id="p-0161" num="0160">Any Mesh Point can scan all the beacons of the BP for the occurrence of its DEVID in an OIE where the role is set to &#x201c;transmitter&#x201d;. If such an OIE is received the device checks if the ReservationID is already in use, a new ReservationID indicates a new negotiation. The intended receiver evaluates whether it can acknowledge the announced ownership, which is the case in the following situations:</p>
<p id="p-0162" num="0161">The medium is free during the announced TxOPs according to the locally stored information, or</p>
<p id="p-0163" num="0162">The new reservation has a higher priority than the reservation(s) occupying the intended slots, or</p>
<p id="p-0164" num="0163">A parallel transmission is possible with high probability.</p>
<p id="p-0165" num="0164">A higher priority reservation is allowed to take over some, but not all slots of an existent lower priority reservation.</p>
<p id="p-0166" num="0165">A receiver acknowledges an OIE by including an OIE in its own beacon with the following parameters:</p>
<p id="p-0167" num="0166">The indicated TxOPs and the ReservationID are the same as in the transmitter's OIE</p>
<p id="p-0168" num="0167">The Partner-ID is the transmitter's DEVID</p>
<p id="p-0169" num="0168">The role is set to &#x201c;receiver&#x201d;</p>
<p id="p-0170" num="0169">The status of the ownership is set to &#x201c;occupied&#x201d;</p>
<p id="p-0171" num="0170">In the case of multiple receiver transmission, which is indicated by several receivers in the transmitter's OEI, the receiver should include an Availability IE in the OIE to shorten the negotiation process in case the other receivers cannot accept the proposed slots. The Availability IE shall be included until a RIE sent by the transmitter with the status &#x201c;reserved&#x201d; is received.</p>
<p id="p-0172" num="0171">In the case that a receiver is not able to acknowledge the proposed reservation, the ownership status of the replying OIE is set to &#x201c;announced&#x201d;. Furthermore, the OIE indicates all of the slots that may be used for the intended transmission in the bitmap included in the OIE. This will better enable the transmitter to find a successful reservation.</p>
<p id="p-0173" num="0172">A transmitter must keep sending its &#x201c;announced&#x201d; occupation until it receives an answer from all intended receivers or for mTryReservations beacon periods, whichever occurs first. In another embodiment, the transmitter must cancel the reservation.</p>
<p id="p-0174" num="0173">After the transmitter has collected acknowledging OIEs from all intended receivers, the negotiation has finished successfully and the transmitter becomes the owner of the TxOPs. All the other Mesh Points in the network neighborhood that overheard the OIEs have to respect this ownership. The intended receiver(s) have to listen during the reserved slots for data transmissions.</p>
<p id="p-0175" num="0174">If an intended receiver of the RIE in the initiating beacon finds out that the proposed slots are occupied and no other slots can be reserved, or if the device is not willing to accept the reservation for any other reasons, then the intended receiver of the RIE shall send a RIE in its next beacon with:</p>
<p id="p-0176" num="0175">The DEVID set to the transceiver's DEVID</p>
<p id="p-0177" num="0176">The ReservationID set to the ReservationID of the initial OIE</p>
<p id="p-0178" num="0177">The role set to &#x201c;receiver&#x201d;</p>
<p id="p-0179" num="0178">The status of the ownership set to &#x201c;announced&#x201d;</p>
<p id="p-0180" num="0179">The reservation information set to zero</p>
<p id="p-0181" num="0180">Such a RIE shall be interpreted as a declining of a reservation and the initiator shall not re-initiate the reservation negotiation with this receiver.</p>
<p id="p-0182" num="0181">Maintaining the Ownerships</p>
<p id="p-0183" num="0182">After a successful negotiation, the participating Mesh Points keep including an OIE in their beacon that indicates the occupied TxOPs and has the status set to &#x201c;occupied&#x201d;. All other devices that receive these beacons honor this negotiated ownership.</p>
<p id="p-0184" num="0183">In a situation wherein the owner of or one of the receivers wants to change the occupation, they can restart the negotiation process by sending an OIE with the new information and the old ReservationID, but with the status set to &#x201c;announced&#x201d;. If a receiver initialized the restart of the negotiation, it should include an Availability IE in its beacon.</p>
<p id="p-0185" num="0184">If a transmitter or a receiver wants to cancel an existing reservation, they send a cancellation OIE, which consists of the same ReservationID, the partner's DEVID, and the status &#x201c;occupied&#x201d;, but the reservation information is filled with zeros. All neighboring Mesh Points may delete this reservation from their internal occupancy map after receiving this special OIE.</p>
<p id="p-0186" num="0185">Acknowledgements</p>
<p id="p-0187" num="0186">The ACK frame is used by a receiver to report the successful or failed reception of a MSDU or a segment of a MSDU respectively, which was send previously by a transmitter. Because of the ownerships of TxOPs, the receiver is not allowed to send an ACK frame immediately after the reception of the data frame. In a multi reception TxOP sending an ACK frame immediately would be impossible anyway. Furthermore, immediate acknowledgments would imply a change of the transceiver/receiver roles, which is unpredictable for neighboring Mesh Points.</p>
<p id="p-0188" num="0187">Therefore in embodiments of the present invention, acknowledgements are handled in the same way as any data frames are handled: A TxOP, negotiated between the receiver and the transmitter, has be occupied; the ACK frame can be send together with other frames using a packet train. The ACK frame is preferably sent with frames targeted to the transmitter.</p>
<p id="p-0189" num="0188">Consequently, a receiver might receive several data frames before it is able to acknowledge the first frame, especially if a suitable TxOP ownership by the receiver does not exist and has to be created first. Once a TxOP is owned, it can be used to send two different type of acknowledging frames:</p>
<p id="p-0190" num="0189">A Cumulative ACK</p>
<p id="p-0191" num="0190">Sending a cumulative ACK, the receiver acknowledges all MSDUs (or fragments of MSDUs) that have been send to him up to, but not including the sequence/fragment number indicated in the cumulative &#xc1;CK. The transmitter may delete all MSDUs up to the indicated one from its sending queue.</p>
<p id="p-0192" num="0191">A Bitmap ack</p>
<p id="p-0193" num="0192">The bitmap ACK is an explicit enumeration of the success or failure status of the last received packets. The sequence control field specifies the next sequence/fragment number of the next packet which is expected at the receiver; excluding packets that have already been send but were received with faults.</p>
<p id="p-0194" num="0193">The attached bitmap indicates the status of the MSDUs that have been received, it starts with the last successful MSDU (as indicated by the sequence control field&#x2014;1), for each sequence number two octets in the bitmap represent the status of up to 16 fragments of the corresponding MSDU. The last two octets in the bitmap stand for the MSDU with the lowest sequence number (in a modulo sense) that was not received correctly.</p>
<p id="p-0195" num="0194">The transmitter may delete all MSDU fragments that are indicated as successful in the bitmap from its sending queue, as well as the MSDUs that have a lower sequence number than the corresponding number of the last two octets in the bitmap.</p>
<p id="p-0196" num="0195">The combination of both ACK types inside one frame directed to the transmitter is of course possible, but the bitmap ACK must anticipate the cumulative ACK; the content of the first one has precedence over the latter one.</p>
<p id="p-0197" num="0196">In both ACK frame types the buffer size field indicates the amount of free space in the receiving buffer reserved for this particular transmitter, counted in bytes. This size indicator is used as a flow control mechanism to prevent the transmitter from overstraining the receiver. The transmitter may send only the given amount of bytes before it has to wait for the next ACK. Retransmission of the last frame by the transmitter or the receiver can be used to update this indicator.</p>
<p id="p-0198" num="0197">Additionally, congestion control like schemes can be used by the transmitter to estimate the optimal number of packets the transmitter can send before waiting for the next ACK.</p>
<p id="p-0199" num="0198">Embodiments of this invention may include a method of medium access control (MAC) in a communications network including a plurality of master modules (mesh APs) and a plurality of slave modules (STAs), including dividing the time interval (superframe) in two phases: A first phase, for intra-BSS traffic (AP traffic) for allowing the use of existing medium access mechanisms; and a second phase, for intra-DS traffic (mesh traffic).</p>
<p id="p-0200" num="0199">The second phase includes a beacon period taking place every superframe, including information about the structure of the beacon period as seen from the sending mesh point, including the neighbor's and the neighbor's neighbor's beacons and planned transmissions and receptions to and from this mesh point in the current mesh traffic phase. The second phase further includes a beacon period taking place every second superframe only to enhance the efficiency, including the same information as in the beacon period taking place every superframe, additionally including information about planned transmissions and receptions to and from this mesh point the succeeding mesh traffic phase. The second phase also includes a traffic phase for a transmission of the negotiated TxOPs, including also simultaneous transmissions if possible. In addition, embodiments of the invention include using the announcement of the Contention Free Period (CFP) in the Beacon period to silence the legacy stations.</p>
<p id="p-0201" num="0200">Furthermore, embodiments of the invention may include dividing the Beacon period (BP) in slots, where devices may use multiple slots to dynamically enlarge their beacons, defining dynamically the slot length of slots in the beacon period, and defining a BP duration as a multiple of a TxOP duration and be calculated as the maximum of the last heard traffic in the last BP, the last occupied slot as reported from the received beacons in this BP, the last occupied slot as reported from the received beacons in the last BP plus the appropriate number of free slots, which can be calculated by recognizing the number of zones (by the extension slots of each zone) in the last BP. The BP Length shall never grow larger than mMaxBPLength. In addition, embodiments of the invention allow the use of beacon frames of variable sizes to occupy several subsequent time slots and ordering the beacons in groups having the same size. Furthermore, embodiments of the invention may include allowing the mesh points to send more than one beacon with different information and filling unused beacon slots by sliding (if the beacon is situated directly after the gap) or by jumping (using a last-come first-serve strategy).</p>
<p id="p-0202" num="0201">The invention also includes the last beacon holder shifting the beacon to the free slots by the following procedure. If &#x201c;j&#x201d; is the number of the free beacon slot, it shall transmit a beacon in the original slot with slot &#x201c;j&#x201d; set to &#x201c;01&#x201d; in the BP Bitmap, transmit a beacon in slot &#x201c;j&#x201d; in the next BP, and transmit a departure beacon as described in &#x201c;BP Leaving&#x201d; in the original slot. Furthermore, the invention includes defining a beacon frame structure compliant to the IEEE 802.11 standard and that includes a Beacon Period Occupancy Information element consisting of BP length field, BP Bitmap with information of the beacon slots occupied by the neighbor and neighbor's neighbor Mesh points, and Owner vector.</p>
<p id="p-0203" num="0202">Embodiments of the invention further include an active Mesh point listening to beacons to process an internal traffic phase occupancy map and marking a slot in the BP as occupied if an OIE is received that is marked as &#x201c;occupied&#x201d; and/or noise is sensed in this slot during the previous MTPs which is above mNoiseThreshold. And, if it is occupied, additionally storing the owner of the slot, which is the Mesh Point that wants to transmit in the slot and the receivers of this slot which expect to receive data from the owner during the slot.</p>
<p id="p-0204" num="0203">Additionally, embodiments of invention may also includes sending and receiving ownership information about planned TxOPs, during a mesh traffic phase, consisting of an ownership ID, uniquely identifying the ownership together with the owner's DEVID, the role of the sender of the information during the planned TxOP, being either transmitter or receiver, the status of the ownership, being either announced or occupied, the number of partners, which are either receiver(s) or transmitter, depending of the role of the sender, during the TxOP, and the starting times of the owned TxOPs, indicated by a bitmap.</p>
<p id="p-0205" num="0204">Furthermore, embodiments of the invention may include a mesh point receiving an ownership information and being the intended receiver of a TxOP under negotiation and acknowledging this TxOP in the following situations&#x2014;when the medium is free during the announced TxOPs according to the locally stored information, when the new reservation has a higher priority than the reservation(s) occupying the intended slots, or when a parallel transmission as explained in detailed description is possible with high probability. In addition, embodiments of the invention may include a Mesh Point receiving ownership information and being the intended receiver of a TxOP under negotiation, but not being able to acknowledge this ownership thus replying with an &#x201c;announced&#x201d; ownership information that reuses the TxOP bitmap as an availability bitmap.</p>
<p id="p-0206" num="0205">Additional embodiments of the invention may also include a Mesh Point, which is not the intended receiver or transmitter of a TxOP, respecting the announced ownership of the TxOP if the status is set to &#x201c;occupied.&#x201d; Also, embodiments of the invention define the duration of the mesh traffic phase based on the maximum of the proposed values in the beacon period. Furthermore, the invention includes announcing the beginning of a superframe (TBTT) a small moment before the real start of the superframe and identifying the Mesh APs using a DevID that was selected randomly after collecting all Ids detected during the beacon period. In addition, embodiments of the invention include transmitting mesh traffic and AP-traffic at different frequencies wherein a receiver acknowledges all MSDUs (or fragments of MSDUs) that have been sent to the receiver, except for the sequence/fragment number indicated in the cumulative ACK. The transmitter may delete all MSDUs up to the indicated one from its sending queue. The embodiments of the invention may also include a receiver that can signal the successful reception of a data packet with ACK information piggybacked into its own data transmission back to the transmitter.</p>
<p id="p-0207" num="0206">Many variations and embodiments of the above-described invention and method are possible. Although only certain embodiments of the invention and method have been illustrated in the accompanying drawings and described in the foregoing Detailed Description, it will be understood that the invention is not limited to the embodiments disclosed, but is capable of additional rearrangements, modifications and substitutions without departing from the invention as set forth and defined by the following claims. Accordingly, it should be understood that the scope of the present invention encompasses all such arrangements and is solely limited by the claims as follows.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method of medium access control in a network, the network including a plurality of mesh nodes, wherein the method is operable in a mesh node in the network, the method comprising:
<claim-text>dividing, by the mesh node of the plurality of mesh nodes, a time interval into a first phase for intra-cell communication and a second phase for inter-cell communication, the second phase including a beacon period;</claim-text>
<claim-text>dividing, by the mesh node of the plurality of mesh nodes, the beacon period into slots;</claim-text>
<claim-text>dynamically defining, by the mesh node of the plurality of mesh nodes, respective lengths for respective beacons of respective devices in the network, whereby a beacon length corresponds to an integer number of slots in the beacon period, so as to allow the devices to dynamically enlarge their corresponding beacons; and</claim-text>
<claim-text>defining, by the mesh node of the plurality of mesh nodes, a beacon period duration.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first phase is used for Access Point (AP)-traffic.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the beacon period, when sent from a transmitting device, includes beacons associated with neighboring devices in the network.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising announcing a Contention Free Period (CFP) in the beacon period, the CFP announcement instructs predetermined stations in the network to be silent during the CFP period.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the beacon period duration is a multiple of a transmission opportunity (TxOP) duration.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the beacon period duration is calculated to be the maximum of a last received beacon duration period, the amount of time as reported from other beacons received in the present beacon period, and the amount of time as reported from beacons in the last received beacon period plus a number of free slots such that the beacon period duration is said multiple of a TxOP.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein said beacon duration is not greater than a maximum length of a beacon period (mMaxBPLength).</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further including ordering the respective beacons in the beacon period by length.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising allowing a Mesh Point to send a first and a second beacon in one beacon period provided that information in said first beacon is different that information in said second beacon.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising filling unused slots in said beacon period by sliding or by jumping.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising defining a beacon frame structure as being compliant with an IEEE 802.11 standard.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising including a Beacon Period Occupancy (BPO) Information Element (IE).</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein said BPOIE comprises a beacon period length field, a beacon period bitmap and an owner vector. </claim-text>
</claim>
</claims>
</us-patent-grant>
