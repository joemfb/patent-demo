<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08622979-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08622979</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12907403</doc-number>
<date>20101019</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>414</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>A</section>
<class>61</class>
<subclass>M</subclass>
<main-group>5</main-group>
<subgroup>14</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>604253</main-classification>
<further-classification>604251</further-classification>
<further-classification>604 65</further-classification>
</classification-national>
<invention-title id="d2e53">Infusion system using optical imager for controlling flow and method thereof</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>3609379</doc-number>
<kind>A</kind>
<name>Hildebrandt</name>
<date>19710900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>4321461</doc-number>
<kind>A</kind>
<name>Walter, Jr. et al.</name>
<date>19820300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>4328801</doc-number>
<kind>A</kind>
<name>Marx et al.</name>
<date>19820500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>4504263</doc-number>
<kind>A</kind>
<name>Steuer et al.</name>
<date>19850300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>4525163</doc-number>
<kind>A</kind>
<name>Slavik et al.</name>
<date>19850600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>4583975</doc-number>
<kind>A</kind>
<name>Pekkarinen et al.</name>
<date>19860400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>4634426</doc-number>
<kind>A</kind>
<name>Kamen</name>
<date>19870100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>4673820</doc-number>
<kind>A</kind>
<name>Kamen</name>
<date>19870600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>4680977</doc-number>
<kind>A</kind>
<name>Conero et al.</name>
<date>19870700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>4703314</doc-number>
<kind>A</kind>
<name>Spani</name>
<date>19871000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>4718896</doc-number>
<kind>A</kind>
<name>Arndt et al.</name>
<date>19880100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>4820281</doc-number>
<kind>A</kind>
<name>Lawler, Jr.</name>
<date>19890400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>4909786</doc-number>
<kind>A</kind>
<name>Gijselhart et al.</name>
<date>19900300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>4936828</doc-number>
<kind>A</kind>
<name>Chiang</name>
<date>19900600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>5045069</doc-number>
<kind>A</kind>
<name>Imparato</name>
<date>19910900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>5057090</doc-number>
<kind>A</kind>
<name>Bessman</name>
<date>19911000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>5186057</doc-number>
<kind>A</kind>
<name>Everhart</name>
<date>19930200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>5267980</doc-number>
<kind>A</kind>
<name>Dirr, Jr. et al.</name>
<date>19931200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>5331309</doc-number>
<kind>A</kind>
<name>Sakai</name>
<date>19940700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>5415641</doc-number>
<kind>A</kind>
<name>Yerlikaya et al.</name>
<date>19950500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>5562615</doc-number>
<kind>A</kind>
<name>Nassif</name>
<date>19961000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>5588963</doc-number>
<kind>A</kind>
<name>Roelofs</name>
<date>19961200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>5899665</doc-number>
<kind>A</kind>
<name>Makino et al.</name>
<date>19990500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>6049381</doc-number>
<kind>A</kind>
<name>Reintjes et al.</name>
<date>20000400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00025">
<document-id>
<country>US</country>
<doc-number>6083206</doc-number>
<kind>A</kind>
<name>Molko</name>
<date>20000700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00026">
<document-id>
<country>US</country>
<doc-number>6149631</doc-number>
<kind>A</kind>
<name>Haydel, Jr.</name>
<date>20001100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00027">
<document-id>
<country>US</country>
<doc-number>6159186</doc-number>
<kind>A</kind>
<name>Wickham et al.</name>
<date>20001200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00028">
<document-id>
<country>US</country>
<doc-number>6213354</doc-number>
<kind>B1</kind>
<name>Kay</name>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00029">
<document-id>
<country>US</country>
<doc-number>6562012</doc-number>
<kind>B1</kind>
<name>Brown et al.</name>
<date>20030500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00030">
<document-id>
<country>US</country>
<doc-number>6599282</doc-number>
<kind>B2</kind>
<name>Burko</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00031">
<document-id>
<country>US</country>
<doc-number>6736801</doc-number>
<kind>B1</kind>
<name>Gallagher</name>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00032">
<document-id>
<country>US</country>
<doc-number>6984052</doc-number>
<kind>B1</kind>
<name>Del Castillo</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00033">
<document-id>
<country>US</country>
<doc-number>7190275</doc-number>
<kind>B2</kind>
<name>Goldberg et al.</name>
<date>20070300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00034">
<document-id>
<country>US</country>
<doc-number>7695448</doc-number>
<kind>B2</kind>
<name>Cassidy et al.</name>
<date>20100400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00035">
<document-id>
<country>US</country>
<doc-number>7767991</doc-number>
<kind>B2</kind>
<name>Sacchetti</name>
<date>20100800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00036">
<document-id>
<country>US</country>
<doc-number>7892204</doc-number>
<kind>B2</kind>
<name>Kraus</name>
<date>20110200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00037">
<document-id>
<country>US</country>
<doc-number>7918834</doc-number>
<kind>B2</kind>
<name>Mernoe et al.</name>
<date>20110400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00038">
<document-id>
<country>US</country>
<doc-number>2003/0045840</doc-number>
<kind>A1</kind>
<name>Burko</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00039">
<document-id>
<country>US</country>
<doc-number>2006/0291211</doc-number>
<kind>A1</kind>
<name>Rodriguez et al.</name>
<date>20061200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00040">
<document-id>
<country>US</country>
<doc-number>2008/0004574</doc-number>
<kind>A1</kind>
<name>Dyar et al.</name>
<date>20080100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00041">
<document-id>
<country>US</country>
<doc-number>2008/0051732</doc-number>
<kind>A1</kind>
<name>Chen</name>
<date>20080200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00042">
<document-id>
<country>US</country>
<doc-number>2010/0309005</doc-number>
<kind>A1</kind>
<name>Warner et al.</name>
<date>20101200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00043">
<document-id>
<country>US</country>
<doc-number>2012/0013735</doc-number>
<kind>A1</kind>
<name>Tao</name>
<date>20120100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00044">
<document-id>
<country>DE</country>
<doc-number>3617723</doc-number>
<date>19871200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00045">
<document-id>
<country>WO</country>
<doc-number>9309407</doc-number>
<date>19930500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00046">
<document-id>
<country>WO</country>
<doc-number>02/40084</doc-number>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00047">
<document-id>
<country>WO</country>
<doc-number>2009039203</doc-number>
<date>20090300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00048">
<othercit>Luerkens &#x201c;Theory and Application of Morphological Analysis, Fine Particles and Surfaces&#x201d;, 1991, CRC Press, pp. 5-7.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00049">
<othercit>Darzynkiewicz &#x201c;Cytometry&#x201d;, 2001 Third Edition, vol. 63, pp. 44-46.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
</us-references-cited>
<number-of-claims>17</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>604251</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>604253</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>604203-206</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>604 65</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>16</number-of-drawing-sheets>
<number-of-figures>27</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120095433</doc-number>
<kind>A1</kind>
<date>20120419</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Hungerford</last-name>
<first-name>Roger L.</first-name>
<address>
<city>Medina</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Bui</last-name>
<first-name>Tuan</first-name>
<address>
<city>Buffalo</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Hungerford</last-name>
<first-name>Roger L.</first-name>
<address>
<city>Medina</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Bui</last-name>
<first-name>Tuan</first-name>
<address>
<city>Buffalo</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Greer, Burns &#x26; Crain, Ltd.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Baxter Healthcare S.A.</orgname>
<role>03</role>
<address>
<city>Glattpark (Opfikon)</city>
<country>CH</country>
</address>
</addressbook>
</assignee>
<assignee>
<addressbook>
<orgname>Baxter International Inc.</orgname>
<role>02</role>
<address>
<city>Deerfield</city>
<state>IL</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Sirmons</last-name>
<first-name>Kevin C</first-name>
<department>3767</department>
</primary-examiner>
<assistant-examiner>
<last-name>Bosques</last-name>
<first-name>Edelmira</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An infusion pump, including: a microprocessor; a drip chamber; a drip tube with an end in the drip chamber; and an illumination system: with a light source for transmitting light through the drip chamber to a drop of fluid suspended from the drip tube; and for controlling illumination properties of the light transmitted to the drop. The pump includes an optical system for: receiving light transmitted through the drop; and transmitting, to the microprocessor, data regarding the received light. The microprocessor: generates, using the data, an image of the drop; locates, using the image, an outer edge of the drop to define a boundary of the drop; integrates an area enclosed by the boundary; and calculates a volume of revolution for the drop with respect to an axis for the drop that intersects the end of the drip tube, assuming symmetry of the drop with respect to the axis.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="158.07mm" wi="225.47mm" file="US08622979-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="226.23mm" wi="139.62mm" file="US08622979-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="228.60mm" wi="172.55mm" orientation="landscape" file="US08622979-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="215.73mm" wi="170.01mm" file="US08622979-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="221.23mm" wi="156.63mm" file="US08622979-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="197.95mm" wi="163.32mm" file="US08622979-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="215.48mm" wi="155.62mm" orientation="landscape" file="US08622979-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="233.09mm" wi="132.76mm" file="US08622979-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="210.23mm" wi="174.50mm" orientation="landscape" file="US08622979-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="164.34mm" wi="171.03mm" orientation="landscape" file="US08622979-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="237.74mm" wi="180.34mm" orientation="landscape" file="US08622979-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="242.15mm" wi="172.13mm" orientation="landscape" file="US08622979-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="230.21mm" wi="181.27mm" orientation="landscape" file="US08622979-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="218.44mm" wi="168.32mm" orientation="landscape" file="US08622979-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="226.74mm" wi="173.31mm" orientation="landscape" file="US08622979-20140107-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="235.03mm" wi="143.00mm" orientation="landscape" file="US08622979-20140107-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="211.58mm" wi="113.71mm" orientation="landscape" file="US08622979-20140107-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0002" num="0001">The present disclosure relates generally to a pump with optical imaging for calculating drop size and flow rate and for use in pump control and alarm operations.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">Prior art references, such as U.S. Pat. No. 4,936,828 (Chiang, Kophu), U.S. Pat. No. 5,588,963 (Roelofs; Bernardus J. G. M.), and U.S. Pat. No. 6,213,354 (Kay, Robert L.) teach respective infusion systems which use optical systems to measure the volume of falling drops. That is, the principle of operation set forth in the prior art, and in the preceding references in particular, is necessarily connected to operations upon a drop that is in free fall through a drip chamber.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0004" num="0003">The invention broadly comprises an infusion pump, including: a first specially programmed microprocessor; a drip chamber for connection to an output tube; a drip tube for connection to a source of fluid and with an end disposed in the drip chamber; and an illumination system: with a light source for transmitting light through a wall of the drip chamber to a drop of fluid suspended from the end of the drip tube; and for controlling illumination properties of the light transmitted to the drop. The pump also includes an optical system for: receiving light transmitted through the drop; and transmitting, to the first microprocessor, data regarding the received light. The first microprocessor is for: generating, using the data, an image of the drop; locating, using the image, an outer edge of the drop to define a boundary of the drop; integrating an area enclosed by the boundary; and calculating a volume of revolution for the drop with respect to an axis for the drop that intersects the end of the drip tube, assuming symmetry of the drop with respect to the axis.</p>
<p id="p-0005" num="0004">The invention broadly comprises an infusion pump, including: a specially programmed microprocessor; a drip chamber for connection to an output tube; a drip tube for connecting the drip chamber to a source of fluid, the drip tube including an end disposed within the drip chamber; an illumination system including a lighting element for transmitting light through or around a drop of fluid hanging from the end of the drip tube; and an optical system for receiving light transmitted through or around the drop and transmitting, to the microprocessor, data regarding the received light. The illumination system includes one of a telecentric lighting element, a structured lighting element, a pair of laser light sources disposed at an acute angle with respect to each other and for generating respective light beams that interact to form an interference pattern, or a projection lens with a pattern in or on a surface of the lens and through which the lighting element transmits light to project the pattern onto the drop. The telecentric lighting element includes a telecentric lens and a first light source and the telecentric lens bundles light rays from the first light source and directs the bundled light rays toward the drop. The structured lighting element includes a second light source and a structural element placed between the second light source and the drop to block or alter light emanating from the second light source. The microprocessor is for calculating a volume of the drop using the data.</p>
<p id="p-0006" num="0005">The invention broadly comprises an infusion pump, including: a specially programmed microprocessor; a drip chamber for connection to an output tube; a drip tube for connecting the drip chamber to a source of fluid, the drip tube including an end disposed within the drip chamber; and an illumination system, including a light source for transmitting light into the drip tube such that: the light reflects off a plurality of portions of an internally facing surface of the drip tube; and the reflected light is transmitted through the end of the drip tube into an interior of a drop of the fluid hanging from the end of the drip tube such that the interior of the drop is uniformly illuminated. The pump also includes an optical system for receiving light transmitted from the interior of the drop and transmitting, to the microprocessor, data regarding the received light. The microprocessor is for calculating, a volume of the drop using the data.</p>
<p id="p-0007" num="0006">The invention broadly comprises an infusion pump, including: a specially programmed microprocessor; a drip chamber for connection to a source of fluid and an output tube; and an illumination system including a light source for transmitting light, at an acute angle with respect to a longitudinal axis for the drip chamber, into the drip chamber such that the light reflects, at the acute angle, off a surface of the fluid pooled within the drip chamber. The pump also includes an optical system for receiving light reflected off the surface and transmitting, to the microprocessor, data regarding the received light. The microprocessor is for calculating a position of the surface using the data regarding the received light.</p>
<p id="p-0008" num="0007">The invention broadly comprises an infusion pump, including: an illumination system; an optical system; and a specially programmed microprocessor. The illumination system is for: illuminating an end of a drip tube located within a drip chamber of the infusion pump, the drip tube for connecting the drip chamber to a source of fluid; and illuminating a drop of the fluid hanging from the end of the drip tube. The optical system is for: receiving first light emanating from the end of the drip tube and second light emanating from the drop and transmitting data regarding the received light to the microprocessor. The microprocessor is for: generating respective images of the drop and the end of the drip tube from the data; locating an apex of the drop from the image, the apex being a portion of the drop at a furthest distance from the end of the drip tube; determining, using the location of the apex, an orientation of the drop with respect to the end of the drip tube; and calculating, using the orientation of the drop with respect to the end of the drip tube, an orientation of the drip chamber.</p>
<p id="p-0009" num="0008">The invention broadly comprises an infusion pump, including: a specially programmed microprocessor; a drip chamber for connection to an output tube; a drip tube for connecting the drip chamber to a source of fluid, the drip tube including an end disposed within the drip chamber; and an illumination system: including a light source for transmitting light through the wall of the drip chamber to a drop of fluid suspended from the first end of the drip tube; and for controlling the illumination properties of the light transmitted to the drop. The pump also includes an optical system for: receiving light transmitted through the drop; and transmitting data regarding the received light to the microprocessor. The microprocessor is for: generating respective images of the drop and the end of the drip tube from the data; calculating, using the respective images, a boundary of the end of the drip tube; and using the boundary as a reference plane for calculating a volume, shape, or location of the drop.</p>
<p id="p-0010" num="0009">The invention broadly comprises an infusion pump, including: a microprocessor; a drip chamber for connection to an output tube; a drip tube for connection to a source of fluid and with an end disposed in the drip chamber; and an illumination system: including a light source for transmitting light through the wall of the drip chamber to the end of the drip tube or proximate the end of the drip tube; and for controlling the illumination properties of the transmitted light. The pump also includes an optical system for: receiving light transmitted through the end of the drip tube or proximate the end of the drip tube; and transmitting, to the microprocessor, data regarding the received light. The microprocessor is for: generating an image of the end of the drip tube from the data; determining that a drop of the fluid is absent from the end of the drip tube for a specified period of time; and generating an empty bag alarm or an air-in-line alarm.</p>
<p id="p-0011" num="0010">The invention broadly comprises an infusion pump, including: a specially programmed microprocessor; a drip chamber for connection to an output tube; a drip tube for connection to a source of fluid and with an end disposed in the drip chamber; and an illumination system: including a light source for transmitting light through the wall of the drip chamber to a drop of fluid suspended from the first end of the drip tube; and for controlling the illumination properties of the transmitted light. The pump also includes an optical imaging system for: receiving light transmitted through the drop; and transmitting, to the microprocessor, data regarding the received light. The microprocessor is for: creating a plurality of temporally successive images of the drop from the data; calculating a respective volume for the drop in each successive image; identifying changes in the respective volumes; and calculating a flow rate of fluid to the output tube based on the changes in the respective volumes.</p>
<p id="p-0012" num="0011">The invention broadly comprises an infusion pump, including: a specially programmed microprocessor; a drip chamber for connection to an output tube; a drip tube for connection to a source of fluid and with an end disposed in the drip chamber; and an illumination system: including a light source for transmitting light through a wall of the drip chamber to a drop of fluid suspended from the end of the drip tube; and for controlling the illumination properties of the transmitted light. The pump also includes an optical imaging system for: receiving light transmitted through the drop; and transmitting, to the microprocessor, data regarding the received light; and a pumping mechanism acting on the output tube to displace fluid from the drip chamber through the output tube. The microprocessor is for: creating a plurality of temporally successive images of the drop from the data; calculating a respective size for the drop in each successive image; identifying changes in the respective sizes; calculating a flow rate of fluid to the output tube based on the changes in the respective sizes; and controlling the pumping mechanism to match the flow rate of fluid with a desired flow rate of fluid.</p>
<p id="p-0013" num="0012">The invention broadly comprises a dual infusion pump configuration, including: a specially programmed microprocessor; first and second drip chambers for connection to first and second output tubes, respectively; first and second drip tubes for connection to first and second sources of fluids, respectively, and with first and second ends disposed in the first and second drip chambers, respectively; and first and second illumination systems: including first and second light source for transmitting first and second light through walls of the first and second drip chambers, respectively, to drops of the first and second fluids, suspended from the first and second ends of the first and second drip tubes, respectively; and for controlling first and second illumination properties of the first and second light transmitted to the drops of the first and second fluids, respectively. The configuration also includes: first and second optical systems for: receiving first and second light transmitted through the drops of the first and second fluids, respectively; and transmitting, to the microprocessor, first and second data regarding the first and second received light; and first and second pumping mechanisms for acting on the first and second output tubes to displace first and second fluid from the first and second drip chambers through the first and second output tubes, respectively. The microprocessor is for: operating the first pumping mechanism to generate a first flow rate for the first fluid from the first drip chamber through the first output tube; creating, from the first data, a plurality of temporally successive images of the drop of the first fluid; determining, using the first plurality of temporally successive images, that the first source of fluid is empty when the drop of the first fluid is absent from the first end of the first drip tube for a specified period of time; and operating the second pumping mechanism to generate a second flow rate for the second source of fluid from the second drip chamber through the second output tube in response to determining that the first source of fluid is empty.</p>
<p id="p-0014" num="0013">The invention broadly comprises a method for operating an infusion pump, including: transmitting light through a wall of a drip chamber for the infusion pump to a drop of fluid suspended from an end of a drip tube for the infusion pump, the drip tube being for connection to a source of fluid and the end of the drip tube being disposed in the drip chamber; controlling, using an illumination system for the infusion pump, illumination properties of the light transmitted to the drop; receiving, using an optical system for the pump, light transmitted through the drop; detecting, using the optical system, an image; transmitting, to a first specially programmed microprocessor and using the optical system, data regarding the image; and using the first microprocessor to: locate, from the data, an outer edge of the drop to define a boundary of the drop; integrate an area enclosed by the boundary; and calculate a volume of revolution for the drop with respect to an axis for the drop that intersects the end of the drip tube, assuming symmetry of the drop with respect to the axis.</p>
<p id="p-0015" num="0014">The invention broadly comprises a method for operating an infusion pump, including: transmitting light through or around a drop of fluid suspended from an end of a drip tube for the infusion pump, the end of the drip tube located in a drip chamber for the infusion pump, the drip tube being for connection to a source of the fluid; receiving, using an optical system for the pump, light transmitted through or around the drop; transmitting, to a specially programmed microprocessor and using the optical system, data regarding the received light; and using the microprocessor to calculate a volume of the drop using the data. Transmitting light includes: using a telecentric lighting element including a telecentric lens and a first light source, the telecentric lens bundling light rays from the first light source and directing the bundled light rays toward the drop; using a structured lighting element including a second light source and a structural element placed between the second light source and the drop to block or alter light emanating from the second light source; using a pair of laser light sources disposed at an acute angle with respect to each other to generate respective light beams that interact to form an interference pattern; or transmitting light through a projection lens, the lens having a pattern in or on a surface of the lens, to project the pattern onto the drop.</p>
<p id="p-0016" num="0015">The invention broadly comprises a method for operating an infusion pump, including: transmitting light into a drip tube for the infusion pump, an end of the drip tube disposed in a drip chamber for the infusion pump such that: the light reflects off a plurality of portions of an internally facing surface of the drip tube; and the reflected light is transmitted through the end of the drip tube into an interior of a drop of fluid hanging from the end of the drip tube such that the interior of the drop is uniformly illuminated, wherein the drip tube is for connection to a source of the fluid. The method also includes: receiving, using an optical system for the pump, light transmitted from the interior of the drop; transmitting, to a specially programmed microprocessor and using the optical system, data regarding the received light; and calculating, using the microprocessor, a volume of the drop using the data.</p>
<p id="p-0017" num="0016">The invention broadly comprises a method for operating an infusion pump, including: transmitting light, at an acute angle with respect to a longitudinal axis for a drip chamber for the infusion pump, into the drip chamber such that the light reflects, at the acute angle, off a surface of fluid pooled within the drip chamber; receiving, using an optical system for the pump, light reflected from the surface; transmitting, to a specially programmed microprocessor and using the optical system, data regarding the received light; and calculating, using the processor, a position of the surface using the data regarding the received light.</p>
<p id="p-0018" num="0017">The invention broadly comprises a method for operating an infusion pump, including: illuminating, using an illumination system for the infusion pump, an end of a drip tube located within a drip chamber of the infusion pump, the drip tube for connecting the drip chamber to a source of fluid; illuminating, using the illumination system, a drop of the fluid hanging from the end of the drip tube; and using an optical system to: receive first light emanating from the end of the drip tube and second light emanating from the drop; and transmit data regarding the received first and second light to a specially programmed microprocessor. The method also includes using the microprocessor to: generate respective images of the end of the drip tube and the drop from the data; locate an apex of the drop, the apex being a portion of the drop at a furthest distance from the end of the drip tube; determine, using the location of the apex, an orientation of the drop with respect to the end of the drip tube; and calculate, using the orientation of the drop with respect to the end of the drip tube, an orientation of the drip chamber.</p>
<p id="p-0019" num="0018">The invention broadly comprises a method for operating an infusion pump, including: transmitting light through a wall of a drip chamber for the infusion pump to a drop of fluid suspended from an end of a drip tube for the infusion pump, the drip tube being for connection to a source of fluid and the end of the drip tube being disposed in the drip chamber; controlling, using an illumination system for the infusion pump, illumination properties of the light transmitted to the drop; and using an optical system for the pump to: receive light transmitted through the drop; and transmit to a specially programmed microprocessor, data regarding the received light. The method also includes using the microprocessor to: generate, from the data, respective images of the drop and of the end of the drip tube; calculate, using the respective images, a boundary of the end of the drip tube; and calculate a volume, shape, or location of the drop using the boundary as a reference plane.</p>
<p id="p-0020" num="0019">The invention broadly comprises a method for operating an infusion pump, including: transmitting light through a wall of a drip chamber for the infusion pump to an end of a drip tube or proximate the end of the drip tube, the drip tube being for connection to a source of fluid and the end of the drip tube being disposed in the drip chamber; controlling, using an illumination system for the infusion pump, illumination properties of the transmitted light transmitted to the drop; and using an optical system for the pump to: receive light transmitted through the end of the drip tube or proximate the end of the drip tube; and transmit, to a specially programmed microprocessor, data regarding the received light. The method also includes: using the microprocessor to: generate an image of the end of the drip tube from the data; determine, from the image, that a drop is absent from the end of the drip tube for a specified period of time; and generate an empty bag alarm or an air-in-line alarm.</p>
<p id="p-0021" num="0020">The invention broadly comprises a method for operating an infusion pump, including: transmitting light through a wall of a drip chamber for the infusion pump to a drop of fluid suspended from an end of a drip tube for the infusion pump, the drip tube being for connection to a source of fluid and the end of the drip tube being disposed in the drip chamber; controlling, using an illumination system for the infusion pump, illumination properties of the light transmitted to the drop; and using an optical system for the pump to: receive light transmitted through the drop; and transmit, to a specially programmed microprocessor, data regarding the received light. The method also includes using the microprocessor to: create a plurality of temporally successive images of the drop from the data; calculate a respective volume for the drop in each successive image; identify changes in the respective volumes; and calculate a flow rate of fluid to the output tube based on the changes in the respective volumes.</p>
<p id="p-0022" num="0021">The invention broadly comprises a method for operating an infusion pump, including: transmitting light through a wall of a drip chamber for the infusion pump to a drop of fluid suspended from an end of a drip tube for the infusion pump, the drip tube being for connection to a source of fluid and the end of the drip tube being disposed in the drip chamber; controlling, using an illumination system for the infusion pump, illumination properties of the light transmitted to the drop; and using an optical system for the pump to: receive light transmitted through the drop; and transmit, to a specially programmed microprocessor, data regarding the received light. The method also includes: displacing fluid from the drip chamber through the output tube by operating a pumping mechanism for the infusion pump acting on the output tube; and using the microprocessor to: create a plurality of temporally successive images of the drop from the data; calculate a respective volume for the drop in each successive image; identify changes in the respective volumes; calculate a flow rate of fluid to the output tube based on the changes in the respective volumes; and control the pumping mechanism to match the flow rate of fluid with a desired flow rate of fluid.</p>
<p id="p-0023" num="0022">The invention broadly comprises a method of operating a dual infusion pump configuration, the configuration including a specially programmed microprocessor; first and second drip chambers connected to first and second output tubes, respectively; first and second drip tubes connected to first and second sources of fluids, respectively, and with first and second ends disposed in the first and second drip chambers, respectively; first and second illumination systems; and first and second optical systems, including: transmitting first and second light through walls of the first and second drip chambers to drops of the first and second fluids, suspended from the first and second ends of the first and second drip tubes, respectively; controlling, using the first and second illumination systems, first and second illumination properties of the first and second light transmitted to the drops of the first and second fluids, respectively; receiving, using the first and second optical systems, first and second light transmitted through the drop of the first and second fluids, respectively; transmitting, to the microprocessor and using the first and second optical systems, first and second data regarding the first and second received light; acting on the first and second output tubes, using the first and second pumping mechanisms, to displace first and second fluid from the first and second drip chambers through the first and second output tubes, respectively; and using the microprocessor to: operate the first pumping mechanism to generate a first flow rate for the first source of fluid from the first drip chamber through the first output tube; create, from the first data, a plurality of temporally successive images of the drop of the first fluid; determine, using the plurality of temporally successive images, that the first source of fluid is empty when the drop of the first fluid is absent from the first end of the first drip tube for a specified period of time; and operate the second pumping mechanism to generate a second flow rate for the second source of fluid from the second drip chamber through the second output tube in response to determining that the first source of fluid is empty.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0024" num="0023">The nature and mode of operation of the present invention will now be more fully described in the following detailed description of the invention taken with the accompanying drawing figures, in which:</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic representation of definitions for an infusion pump;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic block representation of an infusion pump with an optical imaging system;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIGS. 3A through 3F</figref> illustrate example embodiments of the illumination system shown in <figref idref="DRAWINGS">FIG. 2</figref>;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIGS. 4A through 4C</figref> are schematic representation of embodiments for an optical system;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIGS. 5A through 5C</figref> illustrate imaging processing definitions;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 6</figref> illustrates an image of a drop including a circle at least partly included within an outer boundary of the drop</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 7</figref> is a flow chart illustrating operation of a pump with an optical imaging system;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIGS. 8A and 8B</figref> are schematic details for a pump implementing an operation for determining a gravity vector;</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIGS. 9A and 9B</figref> are schematic details of a pump using light injection;</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIGS. 10A and 10B</figref> are schematic details of a pump with a meniscus detection arrangement;</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 11</figref> is a schematic block representation of two infusion pumps with respective optical imaging system in a primary and secondary configuration;</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 12</figref> is a top-level block diagram illustrating operation of a pump with an optical imaging system;</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 13</figref> is a block diagram illustrating example signal processing and feedback control for a pump with an optical imaging system;</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 14</figref> is a block diagram illustrating example digital filtering in a pump with an optical imaging system; and,</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 15</figref> is a schematic representation of example spatial filtering in a pump with an optical imaging system.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
<p id="p-0040" num="0039">At the outset, it should be appreciated that like drawing numbers on different drawing views identify identical, or functionally similar, structural elements of the invention. While the present invention is described with respect to what is presently considered to be the preferred aspects, it is to be understood that the invention as claimed is not limited to the disclosed aspects.</p>
<p id="p-0041" num="0040">Furthermore, it is understood that this invention is not limited to the particular methodology, materials and modifications described and as such may, of course, vary. It is also understood that the terminology used herein is for the purpose of describing particular aspects only, and is not intended to limit the scope of the present invention, which is limited only by the appended claims.</p>
<p id="p-0042" num="0041">Unless defined otherwise, all technical and scientific terms used herein have the same meaning as commonly understood to one of ordinary skill in the art to which this invention belongs. Although any methods, devices or materials similar or equivalent to those described herein can be used in the practice or testing of the invention, the preferred methods, devices, and materials are now described.</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic representation of definitions for an infusion pump.</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic block representation of infusion pump <b>100</b> with optical imaging system <b>102</b>. Pump <b>100</b> includes specially programmed microprocessor <b>104</b>, drip chamber <b>106</b> for connection to output tube <b>108</b>, and drip tube <b>110</b> for connecting the drip chamber to a source of fluid <b>112</b>, for example, an IV bag. The drip tube includes end <b>114</b> disposed within the drip chamber. The imaging system includes illumination system <b>118</b> and optical system <b>120</b>. System <b>118</b> includes lighting element <b>122</b> for transmitting light through wall <b>123</b> of the drip chamber to or around drop <b>124</b> of the fluid suspended from the end of the drip tube, for example, one or both of the drip and end <b>114</b> are illuminated. System <b>118</b> also controls illumination properties of the light transmitted to the drop. System <b>120</b> receives, for example using optical sensor <b>126</b>, light transmitted through the drop, or through or around end <b>114</b> and transmits, to the microprocessor, data <b>129</b> regarding the received light. Pump <b>100</b> also includes pumping mechanism <b>127</b>. In one embodiment, the mechanism includes top and bottom flow restrictors and uses peristaltic actuators, such as rollers, to displace fluid through tube <b>108</b>.</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIGS. 3A through 3F</figref> illustrate example embodiments of system <b>118</b> in <figref idref="DRAWINGS">FIG. 2</figref>. As shown in <figref idref="DRAWINGS">FIG. 3A</figref>, light rays <b>128</b> from a collimated illumination system are parallel. As shown in <figref idref="DRAWINGS">FIG. 3B</figref>, light rays <b>130</b> from a diffuse illumination system are emitted in a cone-shaped pattern from each light emitting point on an illumination plane. As shown in <figref idref="DRAWINGS">FIG. 3C</figref>, light rays <b>132</b> from illumination source <b>122</b> pass through telecentric lens <b>134</b> and are formed into ray bundles <b>136</b>. The rays in bundles <b>136</b> are very nearly parallel. The ray bundles provide sharp definition of image edges and minimize depth distortion As shown in <figref idref="DRAWINGS">FIG. 3D</figref>, a structured lighting element shapes illumination, for example, rays <b>138</b>, so as to control unwanted or stray light and to accentuate edges of an objecting being illuminated. A structured lighting element can include barrier <b>139</b>, disposed between an illumination source and an object being illuminated, for example, drop <b>124</b>, to shape the illumination, for example, by blocking or altering light emanating from the source.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 3E</figref> illustrates the use of laser interference to project stripe patterns measure drop <b>124</b>. Illumination source <b>122</b> includes laser light sources <b>187</b>. Sources <b>187</b> project light patterns consisting of many stripes at once, or of arbitrary fringes. This technique enables the acquisition of a multitude of samples regarding an image of drop <b>124</b>, simultaneously. As seen from different viewpoints, the projected pattern appears geometrically distorted due to the surface shape of the object. In one embodiment, patterns of parallel stripes are used; however, it should be understood that other patterns can be used. The displacement of the stripes allows for an exact retrieval of the three dimensional (3D) coordinates of details on an object's surface, for example, the surface of drop <b>124</b>. Laser interference works with two wide planar fronts <b>189</b> from laser beams <b>191</b>. The interference of the fronts results in regular, equidistant line, or interference, patterns <b>193</b>. Different pattern sizes can be obtained by changing the angle between the beams. The method allows for the exact and easy generation of very fine patterns with unlimited depth of field. <figref idref="DRAWINGS">FIG. 3E</figref> is a top view of pump <b>100</b> and sources <b>187</b> are shown disposed radially about axis <b>195</b> for drop tube <b>110</b>. However, it should be understood that other configurations of sources <b>187</b> with respect to the pump are possible, for example, parallel to axis <b>195</b>.</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 3F</figref> illustrates the use of projection lens <b>196</b> in system <b>118</b>. In <figref idref="DRAWINGS">FIG. 3F</figref>, system <b>118</b> illumination source transmits light <b>197</b> through lens <b>196</b>. Surface <b>198</b> of the lens is modified as known in the art, for example, etched or through deposition of chrome or other materials, to produce a pattern on the surface. Light <b>197</b> passing through the lens projects an image of the pattern on and about drop <b>124</b>. In one embodiment, projected pattern <b>199</b> is in the form of a constant-interval bar and space square wave, such as a Ronchi Ruling, or Ronchi grating.</p>
<p id="p-0048" num="0047">The illumination source for a structured lighting element can be collimated, diffuse, or telecentric. Structured illumination can control unwanted or stray light and accentuate image edges. In one embodiment, the illumination system includes a telecentric lighting element. In one embodiment, the illumination system includes a structured lighting element.</p>
<p id="p-0049" num="0048">Returning to <figref idref="DRAWINGS">FIG. 2</figref>, microprocessor <b>104</b> includes data processing segment <b>140</b> and data acquisition and control segment <b>142</b>. The pump also includes control panel <b>144</b>, for example, any graphical user interface known in the art. Output from the optical system, for example, data <b>129</b> from sensor <b>126</b>, is inputted to segment <b>142</b>. Panel <b>144</b>, or other operator input, is used to input a desired flow rate through the drip chamber, as well as other necessary data such as drug type and treatment information. Microprocessor <b>104</b> can be any microprocessor known in the art.</p>
<p id="p-0050" num="0049">Pump <b>100</b> uses optical sensing of pendant drops, that is drops hanging from or suspended from end <b>114</b>, to measure fluid flow through the drip chamber to the output tube and to provide input to a closed-loop pump control process controlled by the microprocessor. Fluid from source <b>112</b> flows through drip tube to end <b>114</b> of the drip tube. The fluid forms drop <b>124</b> at end <b>114</b> and when conditions in the drip tube, discussed infra, are suitable, the drop falls from end <b>114</b> into fluid <b>146</b> in the drip chamber. In general, a pendant drop increases in size in proportion to the outflow of fluid <b>146</b> from the drip chamber through tube <b>108</b>. That is, an increase in the volume of the pendant drop during a time frame is equal to the volume of fluid passing from the drip chamber to tube <b>108</b> in the time period. The preceding relationship is based on the following assumptions: the fluid from the source is not compressible; source <b>112</b>, the drip tube, the drip chamber, tube <b>108</b>, and a patient to whom tube <b>108</b> is connected are closed to outside atmosphere. Each measurement of the drop volume is processed to provide a fluid volume (or mass) measurement. Successive measurements of drop volume over known intervals of time are used by the microprocessor to calculate the flow rate of fluid through the system.</p>
<p id="p-0051" num="0050">Thus, in one embodiment, operation of pumping mechanism <b>127</b> is controlled by the microprocessor using the desired set point for flow through the drip chamber and data regarding a measured flow rate of fluid through the drip chamber. For example, the microprocessor executes a feedback loop which compares the desired flow rate with the measured flow rate, and adjusts the pumping mechanism to correct any deviations between desired and measured flow rates.</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIGS. 4A through 4C</figref> are schematic representation of embodiments for optical system <b>120</b>. The embodiments shown in <figref idref="DRAWINGS">FIGS. 4A through 4C</figref> form real, conjugate images, for example, of drop <b>124</b> on a focal plane array formed by sensor <b>126</b>. <figref idref="DRAWINGS">FIGS. 4A and 4B</figref> use refractive optics, such as single lens <b>148</b> or combinations <b>150</b> of lenses, respectively. <figref idref="DRAWINGS">FIG. 4C</figref> shows refractive optics, such as combination <b>150</b> of lenses, and reflective optics, such as fold mirror <b>152</b>. Lens <b>148</b>, combination <b>150</b>, and mirror <b>152</b> can be any lens, combination of lenses, or mirror known in the art. Combination <b>150</b> may include different lenses in <figref idref="DRAWINGS">FIGS. 4B and 4C</figref>.</p>
<p id="p-0053" num="0052">Returning to <figref idref="DRAWINGS">FIG. 2</figref>, in one embodiment, optical sensor <b>126</b> is a focal plane array formed by any means known in the art, including, but not limited to a charge coupled device (CCD), a CMOS detector, or a hybrid imaging array such as InGaAs bonded to a CMOS readout integrated circuit. System <b>120</b> includes optics, such as lens <b>148</b>, focused on the location of drop <b>124</b>. It should be understood that other optics can be used in system <b>120</b>. In one embodiment, chamber <b>106</b> is substantially optically clear and system <b>118</b> directs light though the walls of the chamber to the optical system, for example, sensor <b>126</b>. The light can provide back or side illumination of the drop. In one embodiment, system <b>102</b> is configured such that drop <b>124</b> and the focal plane array are optical conjugates and the focal plane array records an actual image of the drop. The imaging system captures drop images at a rate sufficient to observe the growth and detachment of a single drop.</p>
<p id="p-0054" num="0053">In one embodiment, pump <b>100</b> satisfies two key metrics with respect to imaging drop <b>124</b>. First, the frame rate (images per second) is sufficient to capture a sequence of images as the drop grows in size and detaches. Second, the exposure time (the amount of time the light is collected on the sensor for each specific image) is short enough to freeze the motion of the drop. Pump <b>100</b> generates images with clear edge definition, sufficient magnification (in terms of number of pixels across the drop), and a minimum number of artifacts such as glare.</p>
<p id="p-0055" num="0054">In one embodiment, imaging system <b>102</b> and the microprocessor produce an accurate image of the drop that is then analyzed as described infra to determine the volume of the drop. Since the fluid drop has a uniform density, and any bubbles (occlusions) or entrainments are sufficiently small to be negligible, in one embodiment, only the outer surface of the drop is measured to calculate the volume of the drop. The preceding measurement is accomplished by imaging the drop with sufficient spatial resolution to accurately measure the boundary surface. A numeric integral over this boundary then provides the droplet volume.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIGS. 5A through 5C</figref> illustrate imaging processing definitions. In one embodiment, a reference/alignment frame and an image scale (pixels per mm) are established by locating end point <b>114</b> of the drip tube orifice, as shown in <figref idref="DRAWINGS">FIG. 5A</figref>. The end point has a known size and hence provides scale calibration. The end point also represents the top boundary of the drop, which is used in volume calculations described infra. In one embodiment, apex <b>154</b> of the drop (a point furthest from the fixed/reference point) is identified and used in the determination of the volume of the drop. For example, the optical system, for example, sensor <b>126</b>, receives the light transmitted into or through the drip tube and transmitting, to the microprocessor, data regarding the received light. In one embodiment, the microprocessor is for determining, using the data, a boundary of end point <b>114</b> and using the boundary of end point <b>114</b> as a reference point for determining a volume, shape, or location of the drop, as further described infra.</p>
<p id="p-0057" num="0056">In one embodiment, as further described infra, the direction of gravity (gravity vector <b>156</b>) with respect to drop <b>124</b> is determined. A reference point, for example, the boundary of end point <b>114</b>, and the gravity vector are used to establish a reference frame for the image processing.</p>
<p id="p-0058" num="0057">In one embodiment, volume of drop <b>124</b> is calculated by using the microprocessor to receive data <b>129</b> and generate an image of the drop from the data. The microprocessor locates an outer edge of the drop in the image to define boundary <b>157</b> of the drop. The microprocessor integrates an area enclosed by the boundary and calculates a volume of revolution for the drop with respect to axis <b>159</b> for the drop that intersects the end of the drip tube, assuming symmetry of the drop with respect to the axis.</p>
<p id="p-0059" num="0058">The above calculation of the volume of drip <b>124</b> can be calculated using at least two broad approaches. The first approach, termed Boundary Constrained Volume and shown in <figref idref="DRAWINGS">FIG. 5B</figref>, uses the outer location of the drop image to calculate the total volume. Each horizontal row <b>158</b> of pixel data from the image has associated with it an outer left and right boundary. The area between these boundaries is treated as the two dimensional projection of a circular disk volume (the symmetric volume of rotation of the area). The drop image is integrated from end point <b>114</b> to the apex by summing the volume of each row. Boundary Constrained Volume obtains maximum resolution for each row of data.</p>
<p id="p-0060" num="0059">The second approach is termed Fit Constrained Volume and is shown in <figref idref="DRAWINGS">FIG. 5C</figref>. That is, the volume of drop <b>124</b> is determined by fitting a parametric function to the boundary image of the drop and integrating the parametric function, again, assuming rotational symmetry. There are a number of possible fitting algorithms, as discussed below, but the result of any fit is a set of parameters to the assumed function that represents entire boundary <b>157</b>. Fit Constrained Volume smoothes out row detail.</p>
<p id="p-0061" num="0060">In one embodiment, the microprocessor creates a plurality of temporally successive images of the drop from data <b>129</b> and calculates a respective volume for the drop in each successive image or calculates respective time periods between detachment of successive drops from the end of the drip tube. By temporally successive images, we mean a series of images taken over a time period in chronological order. The microprocessor calculates a rate of increase for the volume of the drop using the respective volumes or the respective time periods. As noted above, flow out of the drip tube is substantially equal to the increase in the volume of the drop; therefore, the time periods between drops detaching from the end of the drip tube can be correlated to the volume increases of the successive drops. For example, in one embodiment, the microprocessor calculates a respective volume for the drop in each successive image, for example, using operations described infra and supra; calculates changes in the respective volumes; and calculates a flow rate of fluid to the output tube based on the changes in the respective volumes. In one embodiment, the microprocessor controls mechanism <b>127</b> to match the calculated flow rate with a desired flow rate, for example, stored in the microprocessor.</p>
<p id="p-0062" num="0061">In one embodiment, the microprocessor is for generating a free flow alarm or an out of bound condition alarm when the rate of increase for the volume of the drops exceeds a predetermined value, for example, stored in the microprocessor. In one embodiment, the microprocessor is for operating mechanism <b>127</b> to shut off flow to the output tube when the free flow alarm or the out of bound condition alarm is generated. In one embodiment the microprocessor generates a downstream occlusion alarm when the rate of increase of the volume of the drop is less than a predetermined value. In one embodiment, the microprocessor determines that a drop is absent from the end of the drip tube for a specified period of time and generates an empty bag alarm or an air-in-line alarm.</p>
<p id="p-0063" num="0062">In one embodiment, the pump includes processor <b>163</b> used to operate mechanism <b>127</b> to shut off flow to the output tube when the free flow alarm or the out of bound condition alarm is generated. That is, as a safety and redundancy factor, a second microprocessor is used in the pump.</p>
<p id="p-0064" num="0063">The drop is initially hanging from a fixed point in the drip chamber, for example, end <b>114</b>. In one embodiment, the microprocessor is for identifying when the drop detaches from the fixed point in the drip chamber as a means of determining when the drop has reached maximum volume. The microprocessor makes the preceding identification by creating a plurality of temporally successive images of the drop and analyzing these images. By temporally successive images, we mean a series of images taken over a time period in chronological order.</p>
<p id="p-0065" num="0064">In one embodiment, the microprocessor identifies, in each successive image, a respective point in the boundary, for example, apex <b>154</b>, and determines a distance of each respective point from end <b>114</b>. The microprocessor then identifies two successive images of the drop in which the distance, noted above, in the second image in the succession is less than the distance in the first image in the succession. This decrease of the distance indicates that the drop detached from the fixed point in the interval between the first and second images, which further indicates that the drop reached a maximum size in the first image. The microprocessor calculates the volume of the drop using the first image.</p>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. 6</figref> illustrates image <b>160</b> of drop <b>124</b> including circle <b>162</b> at least partly included within outer boundary <b>164</b> of the drop. <figref idref="DRAWINGS">FIG. 6</figref> illustrates a specific example of the Fit Constrained Volume approach. In one embodiment, the microprocessor identifies respective circles <b>162</b> within each temporally successive image. The circles are partially defined by a respective outer boundaries <b>164</b> of the temporally successive images. The microprocessor identifies a respective location, with respect to the fixed point in the drip chamber, for each respective circle and calculates a volume of the drop from the data and using the respective circles.</p>
<p id="p-0067" num="0066">In one embodiment, identifying the respective location for said each respective circle includes identifying the image corresponding to the largest size of the drop, for example, the last image before the drop detaches from the end point of the drip tube. For example, the microprocessor identifies a respective point on each respective circle at a furthest distance from the fixed point in the drip chamber, for example, end point <b>114</b>. The microprocessor then determines which of the respective points is furthest from the fixed point and identifies an image including the respective point furthest from the fixed point. That is, the microprocessor identifies the largest drop by identifying the drop having the largest circle. In one embodiment, the largest drop is identified by determining a first image in which the distance of the apex from the fixed point decreases with respect to the distance of the apex from the fixed point for a second image immediately preceding the first image. This decrease indicates that the drop detached from the fixed point in the interval between the first and second images, which further indicates that the drop reached a maximum size in the first image. The microprocessor calculates the volume of the drop using the image including the respective point furthest from the fixed point.</p>
<p id="p-0068" num="0067">In one embodiment, the microprocessor identifies the respective outer boundaries for each of the temporal images such that each outer boundary includes a respective edge of the drop furthest from the fixed point in the drip chamber and the respective circle includes the respective edge. That is, the microprocessor aligns the circles described supra with the actual edges of the drops such that the points of the circles furthest from the fixed point, for example, end <b>114</b>, are part of the edge of the drop. In one embodiment, the microprocessor identifies respective circular arcs corresponding to the respective edges and including the respective circular arcs in the respective circles.</p>
<p id="p-0069" num="0068">In one embodiment, identifying the image corresponding to the largest size of the drop, for example, the last image before the drop detaches from the end point of the drip tube, includes using the center points of the circles. For example, the microprocessor calculates respective center points <b>166</b> for the circles and calculates the positions of the center points with respect to the fixed point, for example, end point <b>114</b>. The microprocessor then determines which of the center points is furthest from the fixed point and identifies an image including the center point furthest from the fixed point. That is, the microprocessor identifies the largest drop by identifying the drop having the largest circle. The microprocessor calculates the volume of the drop using the image including the center point furthest from the fixed point.</p>
<p id="p-0070" num="0069"><figref idref="DRAWINGS">FIG. 7</figref> is a flow chart illustrating operation of pump <b>100</b> with an optical imaging system. <figref idref="DRAWINGS">FIG. 7</figref> illustrates an example algorithm usable by pump <b>100</b>. It should be understood that other algorithms are usable by the pump. The image of drop <b>124</b> is filtered and thresholded to create a binary image. Filter operations can include median filtering (to remove isolated glare), background and image uniformity correction (to remove noise sources due to dark noise, read noise, pixel non-uniformity, and illumination non-uniformity), and edge definition (using techniques such as convolution or unsharp masking). The resulting images are thresholded to yield binary images. A binary image consists of values that are either black or white, with no intermediate gray scale values. The images are also processed (in parallel with the above operations) to find the reference location, for example, end point <b>114</b>, using techniques such as feature detection, pattern matching, or transform techniques such as the Radon transform. The end point location is used to form an image mask. A mask isolates a region of an image for further processing. Use of a mask increases computational speed, as well as eliminates artifact information from being further processed.</p>
<p id="p-0071" num="0070">In one embodiment, the binarized, masked images are then processed row-by-row to find the extreme right- and left-boundaries. This boundary-constrained fit is one estimate of the drop edge shape. In one embodiment, the images are also processed using a fit-constrained algorithm. Such an algorithm applies constraints based on assumptions about the drop shape as discussed supra and infra. The constraints are used in a non-linear least squares optimization scheme to minimize the error between the parameterized constraint function(s) and the set of binarized edge images.</p>
<p id="p-0072" num="0071">The two different edge approximations are provided to an Edge Estimator algorithm that compares fit-constrained images to boundary-constrained images. In the simplest instantiation, the images are compared row-by-row. The boundary-constrained images are considered to be the &#x201c;correct&#x201d; result unless they deviates from the fit-constrained images by more than a certain parameter (this parameter is adjusted during calibration). If the deviation is too large, the value from the fit-constrained image is used to replace that of the boundary-constrained image for that row. The above is intended to illustrate the concept behind the estimator. In actual use, more sophisticated algorithms are used to simultaneously optimize the difference between the two initial estimates. An example of such an algorithm is a Kalman filter, but other algorithms familiar to those skilled in the art may also be utilized.</p>
<p id="p-0073" num="0072">The output from the Edge Estimator also provides the location of the apex of the drop, which is for example, used to calculate the time-dependent gravity vector. This operation requires access to prior estimates of the apex value (to calculate the change), and hence a number of prior values are stored in a buffer. The gravity vector is required for some of the parametric fit functions that are used in the fit-constrained edge estimation algorithms. Hence, the gravity vector is used in a feedback loop for the edge fit algorithms.</p>
<p id="p-0074" num="0073"><figref idref="DRAWINGS">FIGS. 8A and 8B</figref> are schematic details for pump <b>100</b> implementing an operation for determining gravity vector <b>156</b>. In one embodiment, system <b>118</b> illuminates end point <b>114</b> and drop <b>124</b> and the optical system, for example, sensor <b>126</b>, receives light emanating from the end point and light emanating from the drop and transmits data <b>129</b> regarding the received light. The microprocessor generates, using the data, respective images of the drop and the end of the drip tube and locates an apex of the drop, the apex being a portion of the drop at a furthest distance from the end of the drip tube. The microprocessor determines, using the location of the apex, an orientation of the drop with respect to the end of the drip tube and calculates, using the orientation of the drop with respect to the end of the drip tube, an orientation of the drip chamber. In one embodiment, the microprocessor compares the orientation of the drip chamber to a set point, for example, a certain orientation with respect to plumb stored in the microprocessor, and generates an out of bound condition alarm when the orientation equals the set point or varies from the set point by a specified amount. For example, if the drip chamber is too far out of plumb, operation of pump <b>100</b> may be compromised and the alarm is generated.</p>
<p id="p-0075" num="0074">For example, in <figref idref="DRAWINGS">FIG. 8A</figref> line <b>168</b> for the actual orientation of the drop and axis <b>170</b> for the drip chamber are co-linear, Since the drop must necessarily align with the forces of gravity (is plumb), the drip chamber is in a plumb orientation in <figref idref="DRAWINGS">FIG. 8A</figref>. Also, line <b>168</b> is aligned with gravity vector <b>156</b>. In <figref idref="DRAWINGS">FIG. 8B</figref>, lines <b>168</b> and <b>170</b> are not co-linear and the drip chamber is not plumb. Thus, in one embodiment, the microprocessor generates lines <b>168</b> and <b>170</b> and compares the respective locations or orientation of the lines. That is, the microprocessor calculates the orientation of the drip chamber with respect to the gravity vector. In one embodiment, when data <b>129</b> is used to generate respective images over a period of time (temporally sequential images), the gravity vector is determined by measuring in the images of the end of the drip tube and the drop, the location of the apex of the pendant drop as it grows over time and tracking the time-dependent directional change of the apexes over a series of these measurements. In one embodiment, the boundary of end <b>114</b> is calculated as described supra and the boundary is used as reference plane for calculating the orientation of the drop and/or the drip chamber.</p>
<p id="p-0076" num="0075">In one embodiment, the illumination system controls illumination properties of the light illuminating the end of the drip tube and the drop and the microprocessor: identifies respective boundaries of the end of the drip tube and the drop from the respective images; fits a parametric function to the respective boundaries; and integrating the parametric function to obtain a volume of the drop, for example, as described above.</p>
<p id="p-0077" num="0076">In one embodiment, the end point location, gravity vector, and optimal edge estimate are input to a volume calculation routine that integrates the edge image using the &#x201c;circular disk&#x201d; assumption discussed above. The location of the end of the drip tube is used to determine the upper limit of integration, while the gravity vector is used to determine the direction of the horizontal (at right angles to the gravity vector). These end and gravity data values are provided along with the volume as output from the algorithm. In one embodiment, the algorithm also passes out the parameters of the edge fit, as well as statistical data such as fit variances. In one embodiment, the preceding information is used in the digital signal processing chain discussed below.</p>
<p id="p-0078" num="0077">A number of methods can be used to fit a constraint to the measured image. In one embodiment, a &#x201c;pendant drop&#x201d; approach, involves solving the Laplace-Young equation (LYE) for surface tension. A drop hanging from a contact point (the end point) has a shape that is controlled by the balance of surface tension (related to viscosity) and gravity. The assumption is only strictly valid when the drop is in equilibrium; oscillations (due to vibration or pressure fluctuations) will distort the drop shape from the Laplace-Young prediction. However, small oscillations will not cause the fit to fail; in fact, the deviation from a fit is itself a good indicator of the presence of such oscillations.</p>
<p id="p-0079" num="0078">In one embodiment, a Circular Hough Transform (CHT) is used on the image to identify the component of the image that represents the curved bottom of the drop. While not strictly a &#x201c;fit&#x201d;, the CHT provides a parametric representation of the drop that is characterized by the value and origin of the radius of a circle. The CHT algorithm is representative of a constraint that is determined or applied in a mathematical transform space of the image. Other widely-used transforms, familiar to those skilled in the art, are the Fourier and wavelet transforms, as well as the Radon transform.</p>
<p id="p-0080" num="0079">The parametric fitting procedures described above apply strong constraints on the possible location of the edge of the drop. Along with the assumption of continuity (a fluid edge cannot deviate from its neighbors over sufficiently short distances), and the requirement that the drop edge terminate at the drip tube orifice, the procedures are used to augment and correct the boundary-constrained image, as discussed above. Other fitting procedures work similarly to those discussed herein.</p>
<p id="p-0081" num="0080"><figref idref="DRAWINGS">FIGS. 9A and 9B</figref> are schematic details of pump <b>100</b> using light injection. Drip tube <b>110</b>, drip chamber <b>106</b>, tube <b>108</b>, drop <b>124</b>, imaging system <b>120</b>, and sensor <b>126</b> are as described for <figref idref="DRAWINGS">FIG. 2</figref>. Illumination system <b>118</b> includes illumination source <b>172</b> for transmitting, or injecting, light <b>174</b> into the drip tube. The light reflects off a plurality of portions of internally facing surface <b>176</b> of the drip tube and the reflected light is transmitted through the end point <b>114</b> of the drip tube into interior <b>177</b> of drop <b>124</b> such that the interior is uniformly illuminated. The optical system receives light <b>178</b> transmitted from the interior of the drop and transmits, to the computer processor, data regarding the received light. The data regarding the received light can be operated upon using any of the operations noted supra. For example, in one embodiment, the illumination system is for controlling illumination properties of the light transmitted to the drop, and the optical system is for receiving light from the drop. The microprocessor is for: generating an image from the data, the image including a boundary of the drop; fitting a parametric function to the boundary of the drop; and integrating the parametric function to obtain a volume of the drop.</p>
<p id="p-0082" num="0081">Thus, light <b>174</b> is formed into a beam, which is injected into the transparent drip tube so as to undergo significant internal reflection (i.e., equal to or greater than the so-called &#x201c;critical angle&#x201d;). The cylindrical bore of the tube causes the internal reflections to diverge inside the tube (filling the bore of the tube), while imperfections in the tube surface introduce light scattering. The result is that the drop is illuminated internally. Under these conditions the imaging optics in system <b>120</b> receive only light that is scattered from the drop surface (there is no direct ray path for the light to reach the lens). In addition to a high contrast edge image, this approach enables the use of a very compact illumination element.</p>
<p id="p-0083" num="0082"><figref idref="DRAWINGS">FIG. 10A</figref> is a schematic detail of pump <b>100</b> with a meniscus detection arrangement. Drip tube <b>110</b>, drip chamber <b>106</b>, tube <b>108</b>, and fluid <b>146</b> are as described for <figref idref="DRAWINGS">FIG. 2</figref>. Imaging system <b>102</b> includes light source, for example, a laser, for transmitting light <b>182</b> at an acute angle with respect to longitudinal axis <b>184</b> for the drip chamber, into the drip chamber such that the light reflects, at the acute angle, off a surface <b>186</b> of fluid pooled within the drip chamber. System <b>102</b> also includes sensor, or position sensitive detector, <b>188</b> for receiving reflected light <b>182</b> and transmitting, to the computer processor, data regarding the received light. The microprocessor is for calculating a position of surface <b>186</b> using the data regarding the received light.</p>
<p id="p-0084" num="0083">The location on sensor <b>188</b> receiving light <b>182</b> depends on the location of surface <b>186</b>. Levels <b>190</b>A and <b>190</b>B show two possible levels for fluid <b>146</b> and hence, two possible locations for surface <b>186</b>. As seen in <figref idref="DRAWINGS">FIG. 10B</figref>, light <b>182</b>A and <b>182</b>B reflecting from levels <b>190</b>A and <b>190</b>B, respectively, strike different portions of sensor <b>188</b>. The microprocessor uses the difference between the locations on sensor <b>188</b> to determine the level of fluid <b>146</b>, that is, the meniscus, in the drip chamber. Sensor <b>188</b> can be any positional sensitive detector known in the art, for example, a segmented sensor or a lateral sensor. In one embodiment, the microprocessor generates an empty bag alarm or an air-in-line alarm for an instance in which the light transmitted from light source <b>188</b> is not received by the optical system, for example, the drip chamber is empty or level <b>186</b> is so low that light <b>182</b> does not strike fluid <b>146</b>.</p>
<p id="p-0085" num="0084">A segmented positional sensitive detector includes multiple active areas, for example, four active areas, or quadrants, separated by a small gap or dead region. When a symmetrical light spot is equally incident on all the quadrant, the device generates four equal currents and the spot is said to be located on the device's electrical center. As the spot translates across the active area, the current output for each segment can be used to calculate the position of the spot. A lateral positional sensitive detector includes a single active element in which the photodiode surface resistance is used to determine position. Accurate position information is obtained independent of the light spot intensity profile, symmetry or size. The device response is uniform across the detector aperture, with no dead space.</p>
<p id="p-0086" num="0085"><figref idref="DRAWINGS">FIG. 10B</figref> is a schematic detail of pump <b>100</b> with a meniscus detection arrangement. In one embodiment, imaging system <b>102</b> includes mirror <b>192</b> on the opposite side of the drip tube to reflect light <b>182</b> back through the drip tube and beam splitter <b>194</b> to direct the reflected light to sensor <b>188</b>. This configuration enables placement of all the electronics for the optical components on the same side of the tube.</p>
<p id="p-0087" num="0086">The following provides further detail regarding meniscus level measurement. The drip chamber remains partially filled with fluid at all times during operation. The air trapped in the drip chamber is in pressure equilibrium with the fluid above and below it. The difference in pressure across the air gap drives fluid out of the bottom of the drip chamber and through downstream tubing <b>108</b>. Fluid enters and leaves the drip tube chamber continuously as the drop grows in volume, and hence the meniscus level of the fluid remains nearly constant. However, changes in the meniscus level can occur for several reasons: transient changes may occur when a drop detaches and falls into the fluid below; or fluctuations may occur due to pressure oscillations in the fluid (due to pump vibration, motion of the tubing set, or motion of the patient). These transient changes will fluctuate around a mean meniscus value, and hence do not indicate changes in flow rate over times long compared to the characteristic fluctuation times.</p>
<p id="p-0088" num="0087">Variations that change the mean meniscus level over longer times may occur due to changes in the external pressure environment (e.g., in a traveling vehicle or aircraft), changes in backpressure arising from medical issues with the patient, or due to occlusions or other malfunctions in the pumping process. These long-term meniscus level changes represent a concomitant change in the overall flow rate, and may be used to provide a refinement to the flow measurements described supra. Hence, it may be desired to monitor the level of the meniscus during the infusion, and to use the information derived therein as an indicator of operational problems with the infusion system, or as an adjunct to the primary optical flow measurement.</p>
<p id="p-0089" num="0088">The method described above for measuring the level of fluid <b>146</b> uses the reflection of a light beam from the top surface of the fluid in the drip chamber. The axis of the reflected beam is shifted (deflected) laterally as the fluid level changes, for example, as shown by light <b>182</b>A and <b>182</b>B. The amount of deflection depends only on the fluid level change, and on the incident angle of the beam. Although a laser light source is shown in the figure, the technique is compatible with any light beam. Further, although the beam is shown freely propagating, the system may also incorporate lens elements to control the beam.</p>
<p id="p-0090" num="0089">In one embodiment (not shown), sensor <b>126</b> (the imaging focal plane array) is used both for imaging drop <b>124</b> and measuring the meniscus of fluid <b>146</b> via beam splitters and other simple optics. Sensor <b>126</b> can be shared in at least two ways: a portion of the sensor that is not used for pendant drop imaging can simultaneously record the deflected beam; or illumination system <b>118</b> for pendant drop imaging and meniscus level measurement can be alternated in time, such that the sensor alternately records the drop image and the deflected beam image. For example, pump <b>100</b> can combine the imaging systems <b>102</b> shown in FIGS. <b>2</b> and <b>10</b>A/<b>10</b>B or shown in <figref idref="DRAWINGS">FIGS. 2 and 9A</figref>.</p>
<p id="p-0091" num="0090">Thus, in one embodiment, system <b>102</b> includes a first light source, such as light source <b>172</b> for transmitting light into the drip tube such that the light reflects off an internally facing surface of the drip tube, and the reflected light is transmitted through the end of the drip tube into an interior of a drop of the IV fluid hanging from the first end of the drip tube. System <b>102</b> also includes a second light source, such as light source <b>188</b>, transmitting light, at an acute angle with respect to a longitudinal axis for the drip chamber, into the drip chamber such that the light reflects, at the acute angle, off a surface for IV fluid disposed within the drip chamber. Optical sensor <b>126</b> is for: receiving the reflected light transmitted from the interior of the drop; receiving the reflected light from the second light source; and transmitting, to the computer processor, data regarding the received light from the first and second light sources. The microprocessor is for calculating a volume of the drop using the data regarding the light received from the first light source, and calculating a position of the surface of the using the data regarding the light received from the second light source, as described supra.</p>
<p id="p-0092" num="0091"><figref idref="DRAWINGS">FIG. 11</figref> is a schematic block representation of pump assemblies <b>200</b>A and <b>200</b>B with respective optical imaging system in a primary and secondary configuration. The assemblies include the components for pump <b>100</b> described supra, with the exception of the processor and control panel. In general, the description above regarding the operation of pump <b>100</b> is applicable to the operation of assemblies <b>200</b>A and <b>200</b>B. Assembly <b>200</b>A is connected to primary fluid source <b>112</b>A. Pump <b>200</b>B is connected to secondary fluid source <b>112</b>B. Sources <b>112</b>A and <b>112</b>B are arranged in a primary/secondary infusion configuration. For example, a primary medication in source <b>112</b>A is administrated in coordination with a secondary medication in source <b>112</b>B. As is known in the art, in a primary/secondary configuration, the medication in the secondary source is infused before the medication in the primary source. Tubings <b>108</b>A and <b>108</b>B from pump mechanisms <b>127</b>A and <b>127</b>B, respectively, are connected to common tubing <b>202</b>.</p>
<p id="p-0093" num="0092">In one embodiment, a single processor and control panel, for example, processor <b>104</b> and panel <b>144</b> are used for assemblies <b>200</b>A and <b>200</b>B. The processor operates assembly <b>200</b>B according to appropriate protocols until the regime for the fluid in source <b>112</b>B is completed. Then, the processor automatically deactivates assembly <b>200</b>B as required and begins the infusion of the fluid in source <b>112</b>A. In one embodiment (not shown), each assembly has a separate processor and control panel or each assembly has a separate processor and a common control panel.</p>
<p id="p-0094" num="0093"><figref idref="DRAWINGS">FIG. 12</figref> is a top-level block diagram illustrating operation of pump <b>100</b> with an optical imaging system. In one embodiment, the volume measurement, and fit metrics if applicable, described above are fed into a digital signal processing algorithm that calculates the flow rate and provides feedback to the pump control system. Plant <b>210</b> includes source <b>112</b>, the drip chamber, the drip tube, and pump mechanism <b>127</b>. The microprocessor outputs the Volume and Fit Metrics <b>212</b>, which are filtered by digital filter <b>214</b> in a portion of the microprocessor to provide measured flow rate <b>216</b>. The measured flow rate is compared with the desired flow rate, for example, input into the microprocessor via panel <b>144</b>, closing the feedback loop for pump <b>100</b>.</p>
<p id="p-0095" num="0094"><figref idref="DRAWINGS">FIG. 13</figref> is a block diagram illustrating example signal processing and feedback control for pump <b>100</b> with an optical imaging system. Mechanism <b>127</b> includes drive <b>218</b> and motor <b>220</b>. Imaging data from system <b>102</b> is processed by image processing block <b>222</b> to generate a Measured Drop Volume, and the results are input to filter block <b>224</b>. The output of the filter block is the Measured Flow Rate. The Measured Flow Rate is compared to the Desired Flow Rate by comparator <b>226</b>, providing the Error Flow Rate (error estimate). The Error Flow Rate feeds into a staged series of PID (Proportional, Integral, Derivative) control algorithms <b>228</b>. Each PID block operates on a successively faster time scale. Block <b>228</b>A controls the flow rate, block <b>228</b>B controls the pump motor speed, and block <b>228</b>C controls the pump motor current. The speed control incorporates feedback from motor position encoder <b>230</b>. The current control incorporates feedback from a motor current sensor in motor <b>220</b>.</p>
<p id="p-0096" num="0095"><figref idref="DRAWINGS">FIG. 14</figref> is a block diagram illustrating example digital filtering in pump <b>100</b> with an optical imaging system. Filter <b>232</b> can be any filter known in the art, for example, the general class of FIR/IIR filters known to those skilled in the art. A simple example is an FIR filter that implements a time average over a number of samples.</p>
<p id="p-0097" num="0096"><figref idref="DRAWINGS">FIG. 15</figref> is a schematic representation of example spatial filtering in pump <b>100</b> with an optical imaging system. The goal of high resolution and edge definition for images of drop <b>124</b> are attained by illumination techniques, optical techniques, or both, for example, as described supra. In one embodiment, spatial filtering techniques are used in the optics for system <b>120</b>. For example, mask <b>240</b> at the back focal plane of imaging system <b>102</b> modifies (via optical Fourier transform) the image generated by the optical system, for example, sensor <b>126</b>. A DC block filter is shown in <figref idref="DRAWINGS">FIG. 15</figref>. This filter blocks the central cone of the transmitted light and enhances edge images (associated with scattered light).</p>
<p id="p-0098" num="0097">In one embodiment, the sensitivity of sensor <b>126</b> is matched to the illumination spectrum of the light source in system <b>118</b>. In one embodiment, sensor <b>126</b> is a low-cost visible light sensor (400-1000 nm wavelength) and source <b>122</b> generates light that is outside the range of human visual perception (i.e., 800-1000 nm). In this case the operator will not be distracted by the bright illumination source.</p>
<p id="p-0099" num="0098">It should be understood that pump <b>100</b> can be any pump mechanism or pump application known in the art and is not limited to only IV infusion pump applications. In the case of a gravity-fed system, the pumping mechanism can be replaced by a valve or flow restrictor, and still be compatible with the configurations and operations described supra.</p>
<p id="p-0100" num="0099">Thus, it is seen that the objects of the invention are efficiently obtained, although changes and modifications to the invention should be readily apparent to those having ordinary skill in the art, without departing from the spirit or scope of the invention as claimed. Although the invention is described by reference to a specific preferred embodiment, it is clear that variations can be made without departing from the scope or spirit of the invention as claimed.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An infusion pump, comprising:
<claim-text>a first specially programmed microprocessor;</claim-text>
<claim-text>a drip chamber for connection to an output tube;</claim-text>
<claim-text>a drip tube for connection to a source of fluid and with an end disposed in the drip chamber;</claim-text>
<claim-text>a drop suspended from the end of the drip tube;</claim-text>
<claim-text>an illumination system:
<claim-text>with a light source for transmitting light through a wall of the drip chamber to the drop of fluid suspended from the end of the drip tube; and,</claim-text>
<claim-text>for controlling illumination properties of the light transmitted to the drop; and,</claim-text>
</claim-text>
<claim-text>an optical system for:
<claim-text>receiving light transmitted through the drop; and,</claim-text>
<claim-text>transmitting, to the first microprocessor, data regarding the received light, wherein the first microprocessor is for:
<claim-text>generating, using the data, an image of the drop;</claim-text>
<claim-text>locating, using the image, an outer edge of the drop to define a boundary of the drop;</claim-text>
<claim-text>integrating an area enclosed by the boundary; and,</claim-text>
<claim-text>calculating a volume of revolution for the drop with respect to an axis for the drop that intersects the end of the drip tube, assuming symmetry of the drop with respect to the axis.</claim-text>
</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The infusion pump of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the first microprocessor is for:
<claim-text>fitting a parametric function to the boundary of the drop; and,</claim-text>
<claim-text>integrating the parametric function to obtain the volume of the drop.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The infusion pump of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the first microprocessor is for:
<claim-text>creating a plurality of temporally successive images of the drop from the data;</claim-text>
<claim-text>identifying a respective circle within each temporally successive image, the respective circle partially defined by a respective outer boundary of said each temporally successive image;</claim-text>
<claim-text>identifying a respective center for each respective circle;</claim-text>
<claim-text>calculating a distance of each respective center from the end of the drip tube;</claim-text>
<claim-text>identifying first and second successive images of the drop in which the distance in the second image is less than the distance in the first image; and,</claim-text>
<claim-text>calculating the volume of the drop using the first image.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The infusion pump of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the first microprocessor is for:
<claim-text>creating a plurality of temporally successive images of the drop from the data;</claim-text>
<claim-text>calculating a respective volume for the drop in each successive image or calculating respective time periods between detachment of successive drops from the end of the drip tube; and,</claim-text>
<claim-text>calculating a rate of increase for the volume of the drop using the respective volumes or the respective time periods.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The infusion pump of <claim-ref idref="CLM-00004">claim 4</claim-ref> wherein the first microprocessor is for:
<claim-text>generating a downstream occlusion alarm when the rate of increase is less than a second predetermined value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The infusion pump of <claim-ref idref="CLM-00005">claim 5</claim-ref> further comprising a mechanism for controlling flow to the output tube, wherein the first microprocessor is for operating the mechanism to shut off flow to the output tube when the free flow alarm or the out of bound condition alarm is generated.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The infusion pump of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the first microprocessor is for:
<claim-text>creating a plurality of temporally successive images of the drop from the data;</claim-text>
<claim-text>calculating a respective volume for the drop in each successive image or calculating respective time periods between detachment of successive drops from the end of the drip tube;</claim-text>
<claim-text>calculating a rate of increase for the volume of the drop or calculating a time interval between detachment of successive drops from the end of the drip tube; and,</claim-text>
<claim-text>generating a free flow alarm or an out of bound condition alarm when the rate of increase exceeds a first threshold value or the time interval is less than a second threshold value, the infusion pump further comprising:
<claim-text>a mechanism for controlling flow to the output tube; and,</claim-text>
<claim-text>a second microprocessor for operating the mechanism to shut off flow to the output tube when the free flow alarm or the out of bound condition alarm is generated.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The infusion pump of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the microprocessor is for:
<claim-text>calculating, using the data, a boundary of the end of the drip tube; and,</claim-text>
<claim-text>using the boundary as a reference plane for calculating a volume, shape, or location of the drop.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A method for operating an infusion pump, comprising:
<claim-text>suspending a drop of fluid from an end of a drip tube disposed in a drip chamber for the infusion pump;</claim-text>
<claim-text>transmitting light through a wall of a drip chamber for the infusion pump to the drop of fluid suspended from the end of a drip tube for the infusion pump, wherein the drip tube is for connection to a source of fluid;</claim-text>
<claim-text>controlling, using an illumination system for the infusion pump, illumination properties of the light transmitted to the drop;</claim-text>
<claim-text>receiving, using an optical system for the pump, light transmitted through the drop;</claim-text>
<claim-text>detecting, using the optical system, an image;</claim-text>
<claim-text>transmitting, to a first specially programmed microprocessor and using the optical system, data regarding the image; and,</claim-text>
<claim-text>using the first microprocessor to:
<claim-text>locate, from the data, an outer edge of the drop to define a boundary of the drop;</claim-text>
<claim-text>integrate an area enclosed by the boundary; and,</claim-text>
<claim-text>calculate a volume of revolution for the drop with respect to an axis for the drop that intersects the end of the drip tube, assuming symmetry of the drop with respect to the axis.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref> further comprising using the first microprocessor to:
<claim-text>fit a parametric function to the boundary of the drop; and,</claim-text>
<claim-text>integrate the parametric function to obtain the volume of the drop.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref> further comprising using the first microprocessor to:
<claim-text>create a plurality of temporally successive images of the drop from the data;</claim-text>
<claim-text>identify a respective circle within each temporally successive image, the respective circle partially defined by a respective outer boundary of said each temporally successive image;</claim-text>
<claim-text>identify a respective center for each respective circle;</claim-text>
<claim-text>calculate a distance of each respective center from the end of the drip tube;</claim-text>
<claim-text>identify first and second successive images of the drop in which the distance in the second image is less than the distance in the first image; and,</claim-text>
<claim-text>calculate the volume of the drop using the first image.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref> further comprising using the first microprocessor to:
<claim-text>create a plurality of temporally successive images of the drop from the data;</claim-text>
<claim-text>calculate a respective volume for the drop in each successive image or calculate respective time periods between detachment of successive drops from the end of the drip tube; and,</claim-text>
<claim-text>calculate a rate of increase for the volume of the drop using the respective volumes or the respective time periods.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref> further comprising using the first microprocessor to:
<claim-text>generate a downstream occlusion alarm when the rate of increase is less than a second predetermined value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref> further comprising:
<claim-text>controlling flow to the output tube, using a pumping mechanism for the infusion pump; and,</claim-text>
<claim-text>using the first microprocessor to operate the pumping mechanism to shut off flow to the output tube when the free flow alarm or the out of bound condition alarm is generated.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref> further comprising:
<claim-text>using the first microprocessor to:
<claim-text>create a plurality of temporally successive images of the drop from the data;</claim-text>
<claim-text>calculate a respective volume for the drop in each successive image or calculate respective time periods between detachment of successive drops from the end of the drip tube; and,</claim-text>
<claim-text>generate a free flow alarm or an out of bound condition alarm when the rate of increase exceeds a first threshold value or the time interval is less than a second threshold value;</claim-text>
<claim-text>control flow to the output tube by controlling a pumping mechanism for the infusion pump; and,</claim-text>
</claim-text>
<claim-text>using a second specially programmed processor to operate the pumping mechanism to shut off flow to the output tube when the free flow alarm or the out of bound condition alarm is generated.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref> further comprising using the first processor to:
<claim-text>calculate, using the data, a boundary of the end of the drip tube; and,</claim-text>
<claim-text>calculate, using the boundary as a reference plane, a volume, shape, or location of the drop.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. An infusion pump, comprising:
<claim-text>a first specially programmed microprocessor;</claim-text>
<claim-text>a drip chamber for connection to an output tube;</claim-text>
<claim-text>a drip tube for connection to a source of fluid and with an end disposed in the drip chamber;</claim-text>
<claim-text>a drop suspended from the end of the drip tube;</claim-text>
<claim-text>an illumination system:
<claim-text>with a light source for transmitting light through a wall of the drip chamber past the drop of fluid suspended from the end of the drip tube; and,</claim-text>
<claim-text>for controlling illumination properties of the light transmitted past the drop; and,</claim-text>
</claim-text>
<claim-text>an optical system for:
<claim-text>receiving the light transmitted past the drop; and,</claim-text>
<claim-text>transmitting, to the first specially programmed microprocessor, data regarding the received light, wherein the first specially programmed processor is for:
<claim-text>generating, using the data, an image of the drop;</claim-text>
<claim-text>locating, using the image, an outer edge of the drop to define a boundary of the drop;</claim-text>
<claim-text>integrating an area enclosed by the boundary; and,</claim-text>
<claim-text>calculating a volume of revolution for the drop with respect to an axis for the drop that intersects the end of the drip tube, assuming symmetry of the drop with respect to the axis.</claim-text>
</claim-text>
</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
