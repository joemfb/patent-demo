<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625150-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625150</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12842432</doc-number>
<date>20100723</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2009-173612</doc-number>
<date>20090724</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>288</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>1</main-group>
<subgroup>46</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>1</main-group>
<subgroup>40</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>1</main-group>
<subgroup>393</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>1</main-group>
<subgroup>04</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>K</subclass>
<main-group>9</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>K</subclass>
<main-group>9</main-group>
<subgroup>34</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>K</subclass>
<main-group>9</main-group>
<subgroup>36</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>358  15</main-classification>
<further-classification>358537</further-classification>
<further-classification>358538</further-classification>
<further-classification>358539</further-classification>
<further-classification>358448</further-classification>
<further-classification>358452</further-classification>
<further-classification>358453</further-classification>
<further-classification>358474</further-classification>
<further-classification>382165</further-classification>
<further-classification>382167</further-classification>
<further-classification>382176</further-classification>
<further-classification>382289</further-classification>
</classification-national>
<invention-title id="d2e71">Image processing device and image forming device</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6434276</doc-number>
<kind>B2</kind>
<name>Hirosawa et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382284</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6711304</doc-number>
<kind>B2</kind>
<name>White</name>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382289</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7076113</doc-number>
<kind>B2</kind>
<name>Le Dinh</name>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382261</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>7095526</doc-number>
<kind>B1</kind>
<name>Housel</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  118</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7551802</doc-number>
<kind>B2</kind>
<name>Ming</name>
<date>20090600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382284</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7978358</doc-number>
<kind>B2</kind>
<name>Otana</name>
<date>20110700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  115</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2009/0009825</doc-number>
<kind>A1</kind>
<name>Honda</name>
<date>20090100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358488</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>JP</country>
<doc-number>A-2003-244420</doc-number>
<date>20030800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>JP</country>
<doc-number>A-2009-017409</doc-number>
<date>20090100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>16</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>358448</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358474</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358488</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>10</number-of-drawing-sheets>
<number-of-figures>10</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110019246</doc-number>
<kind>A1</kind>
<date>20110127</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Kondo</last-name>
<first-name>Tomonori</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Kondo</last-name>
<first-name>Tomonori</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Muncy, Geissler, Olds &#x26; Lowe, PLLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Oki Data Corporation</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Tieu</last-name>
<first-name>Benny Q</first-name>
<department>2674</department>
</primary-examiner>
<assistant-examiner>
<last-name>Sabah</last-name>
<first-name>Haris</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An image processing device includes an image data acquiring part that acquires the first and second image data, an edge characteristic extraction part that extracts first edges and second edges forming the shapes of the rectangular regions contained in the first and second image data, a rectangular characteristic calculating part that extracts both a first calculated rectangular region formed by the first edges and a second calculated rectangular region formed by the second edges, a position adjustment parameter calculating part that calculates parameters indicating a separation distance and a separation angle between the first calculated rectangular region and the second calculated rectangular region when the first image data and the second image data are overlapped, and an image data correction part that corrects at least one of the first image data and the second image data by shifting and rotating based upon the parameters.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="255.86mm" wi="193.12mm" file="US08625150-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="187.03mm" wi="136.40mm" file="US08625150-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="266.62mm" wi="182.63mm" orientation="landscape" file="US08625150-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="214.04mm" wi="166.62mm" file="US08625150-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="198.04mm" wi="190.33mm" file="US08625150-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="215.31mm" wi="158.92mm" file="US08625150-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="196.34mm" wi="133.10mm" file="US08625150-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="256.96mm" wi="215.90mm" file="US08625150-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="268.48mm" wi="166.62mm" file="US08625150-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="217.85mm" wi="146.13mm" file="US08625150-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="263.40mm" wi="177.55mm" orientation="landscape" file="US08625150-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS REFERENCE</heading>
<p id="p-0002" num="0001">The present application is related to, claims priority from and incorporates by reference Japanese patent application number 2009-173612, filed on Jul. 24, 2009.</p>
<heading id="h-0002" level="1">TECHNICAL FIELD</heading>
<p id="p-0003" num="0002">The present invention relates to an image processing device and an image forming device having thereof, and particularly relates to an image processing device that corrects positions so as to align two image data when they overlap, and an image forming device having the image processing device.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">Conventional image forming devices have a scanner function that converts a medium, such as paper, into image data and a printing function that prints the image data. Further, such image forming devices have an image display that displays image data and an image editor for correcting a position of image data, in order to overlap and align two image data.</p>
<p id="p-0005" num="0004">When both sides of a manuscript are printed, the image forming device performs a process to reverse the image data on the back side (reverse horizontal or reverse vertical); next, performs a process to synthesize the reversed image data on the back side and the image data on the front side; and further performs a process to display the synthesized image data on the image display. Then, while browsing the synthesized image displayed on the image display, a user manually moves the image data of the back side, which was reversed by the image edit means, and to adjust the position of the image data to align a medium region contained in the reversed image data on the back side with a medium region contained in the image data on the front side. With this manual operation, the image forming device can print both sides where the image data are aligned. See JP Laid-Open Publication No. 2003-244420.</p>
<heading id="h-0004" level="1">SUMMARY</heading>
<p id="p-0006" num="0005">However, in the conventional image forming device, a user manually adjusts positions so as to align image data on the front side and the back side, which is troublesome.</p>
<p id="p-0007" num="0006">The present invention has been accomplished to solve the problem, with the objective of providing an image processing device that aligns the shape of a rectangular region contained in first image data with the shape of a rectangular region contained in second image data only by entering the first image data and the second image data, and to provide an image forming device having such image processing device.</p>
<p id="p-0008" num="0007">In order to solve the above-described problem, an image processing device according to claim <b>1</b> of the present invention is a image processing device that acquires both first image data and second image data, each of which is included in a rectangular region, wherein the shape and area of the rectangular regions are the same, and the image processing device aligns the shape of the rectangular region of the first image data with that of the second image data, and the image processing device provides a image data acquiring part, an edge characteristic extraction part, a rectangular characteristic calculating part, a parameter characteristic calculating part, a parameter calculating part, and a image data correction part.</p>
<p id="p-0009" num="0008">The present invention provides the superior effects mentioned below.</p>
<p id="p-0010" num="0009">According to the present invention, a user uses a scanner to read rectangular medium, and the user merely enters first image data containing the shape of the rectangular region produced by the scanner and second image data containing the shape of the rectangular region into an image processing device, and then, image data where the shape of the rectangular region contained in the first image data is aligned with the shape of the rectangular region contained in the second image data can be provided. Since the user can avoid manually adjusting the image position, the time required is dramatically reduced.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 1</figref> is a perspective view of an image forming device in a first embodiment.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram illustrating a configuration of the image forming device equipped with an image processing device in the first embodiment.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3</figref> illustrates a relationship between image data (edge extraction image data) read by the image forming device in the first embodiment and plane coordinates expressed with an X axis and a Y axis.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 4</figref> is a flow diagram of two-sided printing processing of the image forming device in the first embodiment.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 5</figref> is a flow diagram of manuscript reading processing.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 6</figref> is a flow diagram of edge characteristic extraction processing.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 7</figref> is a flow diagram of rectangular characteristic calculation processing.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 8</figref> is a flow diagram of position adjustment parameter calculation processing.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 9</figref> is a flow diagram of image data correction processing.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 10</figref> is a block diagram illustrating a configuration of the image forming device equipped with an image processing device in a second embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">PREFERRED EMBODIMENTS OF THE INVENTION</heading>
<heading id="h-0007" level="1">First Embodiment</heading>
<p id="p-0021" num="0020">Next, a first embodiment of an image forming device having the image processing device is explained with reference to the drawings. <figref idref="DRAWINGS">FIG. 1</figref> is a perspective view of the image forming device, and <figref idref="DRAWINGS">FIG. 2</figref> is a block diagram illustrating a configuration of the image forming device having an image processing device (display processing unit).</p>
<p id="p-0022" num="0021">(Configuration of Image Forming Device)</p>
<p id="p-0023" num="0022">An image forming device <b>1</b> reads a placed manuscript (rectangular medium) and copies the manuscript (copy printing). As shown in <figref idref="DRAWINGS">FIG. 2</figref>, the image forming device <b>1</b> has a scanner part <b>100</b> that reads the placed manuscript and produces image data, an image processing part <b>10</b>, a memory part <b>20</b> and a printing part <b>200</b> that prints the image data.</p>
<p id="p-0024" num="0023">The scanner part <b>100</b> is a constituent part that reads the shape of the manuscript (rectangular medium) and produces image data containing a rectangular region, which is the shape of the manuscript. The scanner part <b>100</b> has a platen <b>101</b> where the manuscript is placed, a manuscript detecting part <b>102</b> that detects the manuscript placement, a manuscript reading part <b>103</b> that is equipped with an image sensor, reads the manuscript and produces image data, an operation part <b>104</b> that is equipped with an input means, such as a switch or button, for providing an instruction from a user U to the image forming device <b>1</b>, and a display unit <b>105</b> having a display means, such as a liquid crystal display screen, for displaying a status of the image forming device <b>1</b> (<figref idref="DRAWINGS">FIG. 1</figref>). Herein, the operation part <b>104</b> and the display unit <b>105</b> may be a touch panel where the screen by the liquid crystal display and the switch are integrated.</p>
<p id="p-0025" num="0024">The image processing part <b>10</b> in the first embodiment is for adjusting positions for the purpose of printing by aligning four corners on the front side of the manuscript read by the manuscript reading part <b>103</b> with those on the back side. The image processing part <b>10</b> is equipped with image data acquiring part <b>11</b>, an edge characteristic extracting part <b>12</b>, a rectangular characteristic calculating part <b>13</b>, a position adjustment parameter calculating part <b>14</b> and an image data correction part <b>15</b>.</p>
<p id="p-0026" num="0025">(Image data acquiring part <b>11</b>) The image data acquiring part <b>11</b> has reverse direction information in advance and acquires two sets of image data produced by reading the front side and the back side of the manuscript by the manuscript reading part <b>103</b>, respectively. The image data acquiring part <b>11</b> further acquires front/back information indicating whether the image data is a front side of the manuscript or a back side of the manuscript. Then, if the data is the image data of the front side (front image data Df), the data is stored in the memory part <b>20</b> as is. If the data is image data of the back side (back image data Db), the back reversed image data Dr where the back image data Db is reversed based upon the reverse direction information, is stored in the memory part <b>20</b>. The image data acquired from the manuscript reading part <b>103</b> covers an area larger than the actual size of the manuscript, and it is assumed that the data is read without missing any edges of the manuscript. Herein, the image data acquiring part <b>11</b> allows the front image data Df and the back reversed image data Dr to be stored in the memory part <b>20</b>, but the front image data Df and the back reversed image data Dr can be outputted to the edge characteristic extracting part <b>12</b> without storing.</p>
<p id="p-0027" num="0026">The two-side information is information obtained when reading the manuscript, and for example, concerning whether the image data produced by the scanner part <b>100</b> is front side data or back side data of the manuscript, if the read order is an odd number, the data is considered to be from the front side of the manuscript, and if the read order is an even number, the data is considered to be from the back side of the manuscript. The reverse direction information is data concerning whether the reversal is horizontal or vertical and is stored in the image data acquiring part <b>11</b> in advance in the present embodiment, but the reverse direction information can be stored in the memory part <b>20</b>, and every time image data is acquired from the manuscript reading part <b>103</b>, the data may be acquired from the memory part <b>20</b>. Further, the reverse direction information is information that can be set by selecting &#x201c;reverse horizontal&#x201d; or &#x201c;reverse vertical&#x201d; by the user U via the operation part <b>104</b>. Then, since the reverse direction information is information that can be displayed on the display unit <b>105</b>, the user U can perform the reversal by horizontally or vertically reversing the manuscript on the platen <b>101</b> after the information is confirmed.</p>
<p id="p-0028" num="0027">(Edge Characteristic Extracting Part <b>12</b>) The edge characteristic extracting part <b>12</b> is an extracting part that acquires the front image data Df (or the back reversed image data Dr) from the memory part <b>20</b> and that extracts image data (edge extraction front image data Ef or edge extraction back reversed image data Er) where pixels corresponding to the edges of the manuscript from the front image data Df are extracted.</p>
<p id="p-0029" num="0028">The edge characteristic extracting part <b>12</b> performs processing to extract the edge extraction front image data Ef as described below. The edge characteristic extracting part <b>12</b> detects the edges of the manuscript from the front image data Df using a Sobel filter, and extracts all edge pixel data forming the edges. Herein, two matrices of coefficients for vertical line detection and for transverse line detection, respectively, are used for the Sobel filter, and the edges of the manuscript in the transverse direction (transverse edge characteristic data) are extracted with the matrix of coefficients for transverse line detection, and the edges of the manuscript in the vertical direction (vertical edge characteristic data) are extracted with the matrix of coefficients for vertical line detection. Due to the processing described above, two image data of transverse edge characteristic image data that edge characteristic in the horizontal direction is stand out with respect to the image data and vertical edge characteristic image data that edge characteristic in the perpendicular direction is stand out with respect to the image data are obtained. Herein, well-known Sobel derivation, etc. is used.</p>
<p id="p-0030" num="0029">In addition, the edge characteristic extracting part <b>12</b> binarizes the transverse edge characteristic image data and the vertical edge characteristic image data with predetermined threshold values. Then, the edge characteristic extracting part <b>12</b> performs the logical OR operation to the binarized two image data and extracts all pixels corresponding to the edges and produces the edge extraction front image data Ef. Next, the edge characteristic extracting part <b>12</b> outputs the edge extraction front image data Ef to the rectangular characteristic calculating part <b>13</b>. Herein, the edge characteristic extracting part <b>12</b> performs the logical OR operation (OR operation) between pixels at the same position with the two image data, and extracts the pixels whose result of the OR operation is &#x201c;1&#x201d; as &#x201c;pixels corresponding to the edges.&#x201d; Further, the edge characteristic extracting part <b>12</b> performs the above-mentioned processing on the back reversed image data Dr, as well, and extracts the edge extraction back reversed image data Er.</p>
<p id="p-0031" num="0030">Herein, one example of the matrix of coefficients for transverse line detection to be used as the Sobel filter is shown in Expression (1), and one example of the matrix of coefficients for vertical line detection is shown in Expression (2). For this Expression (2), a determinant (filter) with the size of 3&#xd7;3 is used.</p>
<p id="p-0032" num="0031">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Expression</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>1</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <mo>-</mo>
                <mn>1</mn>
              </mrow>
            </mtd>
            <mtd>
              <mrow>
                <mo>-</mo>
                <mn>2</mn>
              </mrow>
            </mtd>
            <mtd>
              <mrow>
                <mo>-</mo>
                <mn>1</mn>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>2</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
          </mtr>
        </mtable>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Expression</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>2</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <mo>-</mo>
                <mn>1</mn>
              </mrow>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <mo>-</mo>
                <mn>2</mn>
              </mrow>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>2</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <mo>-</mo>
                <mn>1</mn>
              </mrow>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
          </mtr>
        </mtable>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0033" num="0032">The performance of the processing (filter operation) using the Sobel filter results in a replacement of tone value of marked pixels with a weighted linear sum of the tone values between the marked pixels and peripheral pixels. Since this is executed for the entire image, the tone value of the marked pixels becomes greater at a section with a more drastic change in the image, and the characteristic of the edges is noticeable. Herein, the edge characteristic extracting part <b>12</b> binarizes the transverse edge characteristic image data and the vertical edge characteristic image data with the predetermined threshold values, but the edge characteristic extracting part <b>12</b> can be set to prepare a histogram in the image data and to separate a predetermined quantity based upon the histogram.</p>
<p id="p-0034" num="0033">(Rectangular Characteristic Calculating Part <b>13</b>) The rectangular characteristic calculating part <b>13</b> is a calculating part to acquire the edge extraction front image data Ef from the edge characteristic extracting part <b>12</b>, to combine the edge pixel data (pixels corresponding to the edges) contained in the edge extraction front image data Ef, to extract a rectangular region S (front rectangular region Sf), and to calculate the rectangular characteristic information of the rectangular region S. Then, the rectangular characteristic calculating part <b>13</b> outputs the rectangular characteristic information to the position adjustment parameter calculating part <b>14</b>. In the present embodiment, the rectangular characteristic calculating part <b>13</b> Hough-transforms four sides of the rectangular regions as the rectangular characteristic information, and calculates an equation of straight line (L (&#x3b8;, &#x3c1;)) expressed with two-dimensional polar coordinates (circular polar coordinates). Herein, &#x3b8; is a deflection angle expressed with a radian and &#x3c1; is a moving radius, and their ranges are 0&#x2266;&#x3b8;&#x3c;2&#x3c0; and 0&#x2266;&#x3c1;.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 3</figref> illustrates a rectangular region S (front rectangular region Sf) extracted by the rectangular characteristic calculating part <b>13</b>. The rectangular characteristic calculating part <b>13</b> performs the processing to calculate the rectangular characteristic information of this front rectangular region Sf. The rectangular characteristic calculating part <b>13</b>, first, acquires the edge extraction front image data Ef from the edge characteristic extracting part <b>12</b>, extracts the edge pixel data contained in the edge extraction front image data Ef, and produces a region where adjacent edge pixels with each other are combined. Such processing is realized by connected processing of four or eight vicinity pixels well-known as connection processing of vicinity pixels or labeling process.</p>
<p id="p-0036" num="0035">Then, the rectangular characteristic calculating part <b>13</b> produces two-dimensional plane coordinates using the upper left of the image data (edge extraction front image data Ef) as a point of origin O, and calculates an area of the produced regions, respectively. The area is calculated based upon maximal value and minimal value of x-coordinate value and a y-coordinate value in the regions. The maximal value x<sub>max </sub>of the x-coordinate value, the minimal value x<sub>min </sub>of the x-coordinate value, the maximal value y<sub>max </sub>of the y-coordinate value, the minimal value y<sub>min </sub>of the y-coordinate value are extracted from the region, and an area s is calculated using Expression (3).</p>
<p id="h-0008" num="0000">(Expression 3)
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>s</i>=(<i>x</i><sub>max</sub><i>&#x2212;x</i><sub>min</sub>)&#xb7;(<i>y</i><sub>max</sub><i>&#x2212;y</i><sub>min</sub>)&#x2003;&#x2003;(3)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0037" num="0036">Herein, the rectangular characteristic calculating part <b>13</b> produces two-dimensional plane coordinates using the upper left of the image date as a point of origin O, but the position of the point of origin O may be a center of the image data or at any position.</p>
<p id="p-0038" num="0037">Then, the rectangular characteristic calculating part <b>13</b> acquires the region of the maximal area s, performs the thinning processing on a row (line) where edge pixels forming the region are combined, and extracts lines (straight lines) to be sides of the region. This thinning process is performed using a known method.</p>
<p id="p-0039" num="0038">If the rectangular characteristic calculating part <b>13</b> performs, on two-dimensional plane coordinates, a Hough-transformation using an angle &#x3b8;<sub>0 </sub>formed with a normal passing through the point of origin O from one side (straight line L<sub>0</sub>) of the region and the X-axis (at the positive side) and the shortest distance &#x3c1;<sub>0 </sub>between the point of origin O and the straight line L<sub>0 </sub>(corresponding to a distance between an intersection point of the normal and the straight line L<sub>0</sub>, and, the point of origin O), the straight line L<sub>0 </sub>can be expressed with Expression (4).</p>
<p id="h-0009" num="0000">(Expression 4)</p>
<p id="h-0010" num="0000">Straight line L<sub>0 </sub>(&#x3b8;<sub>0</sub>, &#x3c1;<sub>0</sub>)
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x3c1;<sub>0</sub><i>=x </i>cos &#x3b8;<sub>n</sub><i>+y </i>sin &#x3b8;<sub>0</sub>&#x2003;&#x2003;(4)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0040" num="0039">If the Hough-transformation is similarly performed for the other three sides, the sides can be expressed with Expressions (5-1) (5-3).</p>
<p id="h-0011" num="0000">(Expressions 5-1 to 5-3)</p>
<p id="h-0012" num="0000">Straight line L<sub>1</sub>(&#x3b8;<sub>1</sub>, &#x3c1;<sub>1</sub>)
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x3c1;<sub>1</sub><i>=x </i>cos &#x3b8;<sub>1</sub><i>+y </i>sin &#x3b8;<sub>1</sub>&#x2003;&#x2003;(5-1)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
Straight line L<sub>2 </sub>(&#x3b8;<sub>2</sub>, &#x3c1;<sub>2</sub>)
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x3c1;<sub>2</sub><i>=x </i>cos &#x3b8;<sub>2</sub><i>+y </i>sin &#x3b8;<sub>2</sub>&#x2003;&#x2003;(5-2)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
Straight line L<sub>3 </sub>(&#x3b8;<sub>3</sub>, &#x3c1;<sub>3</sub>)
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x3c1;<sub>3</sub><i>=x </i>cos &#x3b8;<sub>3</sub><i>+y </i>sin &#x3b8;<sub>3</sub>&#x2003;&#x2003;(5-3)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0041" num="0040">According to these expressions, the rectangular characteristic calculating part <b>13</b> can calculate a plurality of equations of straight lines (&#x3b8;<sub>0</sub>, &#x3c1;<sub>0</sub>), (&#x3b8;<sub>1</sub>, &#x3c1;<sub>1</sub>), (&#x3b8;<sub>2</sub>, &#x3c1;<sub>2</sub>) and (&#x3b8;<sub>3</sub>, &#x3c1;<sub>3</sub>) of the region (that has not been determined as the rectangular region S).</p>
<p id="p-0042" num="0041">Next, the rectangular characteristic calculating part <b>13</b> pairs this plurality of straight lines to satisfy the expressions of condition (6-1) or (6-2). On this occasion, one straight line can be paired with another more than once.</p>
<p id="h-0013" num="0000">(Expressions 6-1, 6-2)</p>
<p id="h-0014" num="0000">Condition 1:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>|&#x3c1;<sub>i</sub>&#x2212;&#x3c1;<sub>j</sub>|&#x3e;&#x3b4;<sub>&#x3c1;</sub> and |&#x3b8;<sub>i</sub>&#x2212;&#x3b8;<sub>j</sub>|&#x3c;&#x3b4;<sub>&#x3b8;</sub>&#x2003;&#x2003;(6-1)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
Condition 2:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>|&#x3c1;<sub>i</sub>+&#x3c1;<sub>j</sub>|&#x3e;&#x3b4;<sub>&#x3c1;</sub> and |&#x3b8;<sub>i</sub>&#x2212;&#x3b8;<sub>j</sub>&#x2212;&#x3c0;|&#x3c;&#x3b4;<sub>&#x3b8;</sub>&#x2003;&#x2003;(6-2)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
Provided i&#x2260;j
</p>
<p id="p-0043" num="0042">Herein, &#x3b4;<sub>&#x3c1;</sub> represents a threshold value for distance between two straight lines to be paired, and &#x3b4;<sub>&#x3b8;</sub> represents a threshold value for an angular difference of two straight lines to be paired. Although the threshold values &#x3b4;<sub>&#x3c1;</sub> and &#x3b4;<sub>&#x3b8;</sub> are arbitrary set vales, two straight lines whose inclinations are approximated but that are apart are paired by setting the threshold value &#x3b4;<sub>&#x3c1;</sub>, at a great value to some extent and setting the threshold value &#x3b4;<sub>&#x3b8;</sub> at a small value to some extent. For example, the threshold value &#x3b8;<sub>&#x3c1;</sub>=0.1 [radian] and the threshold value &#x3b4;<sub>&#x3b8;</sub> is set at approximately &#xbc; of the short side length of the image data produced by the manuscript reading part <b>103</b>. Further, according to the inequality of condition 2 (6-2), because a manuscript placed with a great tilt is read, even if an intersection between a normal passing through the point of origin O and the straight line L<sub>0 </sub>is in a negative region of the Y-axis, the straight lines L<sub>0 </sub>and L<sub>1 </sub>can be paired.</p>
<p id="p-0044" num="0043">In addition, the rectangular characteristic calculating part <b>13</b> calculates a combination of two sets of paired straight lines (hereafter, referred to as &#x201c;pairs&#x201d;) to satisfy the inequality of condition 3 (7) among the pairs. At this time, one set of pairs can be recombined using another set of pairs more than once.</p>
<p id="h-0015" num="0000">(Expression 7)</p>
<p id="h-0016" num="0000">Condition 3:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>|cos(&#x3b8;<sub>i,j</sub>&#x2212;&#x3b8;<sub>k,l</sub>)|&#x3c;&#x3b4;<sub>0</sub>&#x2003;&#x2003;(7)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
However, &#x3b4;<sub>0 </sub>is a sufficiently-small value, and for example, &#x3b4;<sub>0</sub>=0.1.
</p>
<p id="p-0045" num="0044">Further, &#x3b8;<sub>i,j </sub>means an average of &#x3b8; of one set of pairs, and this value can be calculated with the following expressions (8-1) and (8-2):</p>
<p id="p-0046" num="0045">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mrow>
            <mi>Expressions</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>8</mn>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>-</mtext>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>1</mn>
          </mrow>
          <mo>,</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mrow>
            <mn>8</mn>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>-</mtext>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>2</mn>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>Pairs</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mi>to</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mi>satisfy</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mi>Condition</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>1</mn>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>:</mtext>
          </mstyle>
        </mrow>
        <mo>&#x2062;</mo>
        <mstyle>
          <mtext>
</mtext>
        </mstyle>
        <mo>&#x2062;</mo>
        <mrow>
          <msub>
            <mi>&#x3b8;</mi>
            <mrow>
              <mi>i</mi>
              <mo>,</mo>
              <mi>j</mi>
            </mrow>
          </msub>
          <mo>=</mo>
          <mfrac>
            <mrow>
              <msub>
                <mi>&#x3b8;</mi>
                <mi>i</mi>
              </msub>
              <mo>+</mo>
              <msub>
                <mi>&#x3b8;</mi>
                <mi>j</mi>
              </msub>
            </mrow>
            <mn>2</mn>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>8</mn>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>-</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>1</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>Pairs</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mi>to</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mi>satisfy</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mi>Condition</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>2</mn>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>:</mtext>
          </mstyle>
        </mrow>
        <mo>&#x2062;</mo>
        <mstyle>
          <mtext>
</mtext>
        </mstyle>
        <mo>&#x2062;</mo>
        <mrow>
          <msub>
            <mi>&#x3b8;</mi>
            <mrow>
              <mi>i</mi>
              <mo>,</mo>
              <mi>j</mi>
            </mrow>
          </msub>
          <mo>=</mo>
          <mfrac>
            <mrow>
              <msub>
                <mi>&#x3b8;</mi>
                <mi>i</mi>
              </msub>
              <mo>+</mo>
              <msub>
                <mi>&#x3b8;</mi>
                <mi>j</mi>
              </msub>
              <mo>-</mo>
              <mi>&#x3c0;</mi>
            </mrow>
            <mn>2</mn>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>8</mn>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>-</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>2</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0047" num="0046">With these expressions, two sets of pairs that are mutually orthogonal are calculated, and pairing information can be produced.</p>
<p id="p-0048" num="0047">With the processing, the rectangular region S (<figref idref="DRAWINGS">FIG. 3</figref>) where the vertical lines (straight lines) of the manuscript become a pair and the transverse lines (straight lines) of the manuscript become a pair is extracted. Then, the rectangular characteristic calculating part <b>13</b> performs the above-described processing on the edge extraction front image data Ef, and the rectangular characteristic information (&#x3b8;<sub>f0</sub>, &#x3c1;<sub>f0</sub>), (&#x3b8;<sub>f1</sub>, &#x3c1;<sub>f1</sub>), (&#x3b8;<sub>f2</sub>, &#x3c1;<sub>f2</sub>) and (&#x3b8;<sub>f3</sub>, &#x3c1;<sub>f3</sub>) of the front rectangular region Sf is calculated, and P<sub>f01 </sub>indicating that (&#x3b8;<sub>f0</sub>, &#x3c1;<sub>f0</sub>) and (&#x3b8;<sub>f1</sub>, &#x3c1;<sub>f1</sub>) are paired, and P<sub>f23 </sub>indicating that (&#x3b8;<sub>f2</sub>, &#x3c1;<sub>f2</sub>) and (&#x3b8;<sub>f3</sub>, &#x3c1;<sub>f3</sub>) are produced as pairing information. Further, the rectangular characteristic calculating part <b>13</b> performs the processing on the edge extraction back reversed image data Er; calculates rectangular characteristic information (&#x3b8;<sub>r0</sub>, &#x3c1;<sub>r0</sub>), (&#x3b8;<sub>r1</sub>, &#x3c1;<sub>r1</sub>), (&#x3b8;<sub>r2</sub>, &#x3c1;<sub>r2</sub>) and (&#x3b8;<sub>r3</sub>, &#x3c1;<sub>r3</sub>) of the back rectangular region Sr, and produces pairing information P<sub>r10 </sub>and P<sub>r23 </sub></p>
<p id="p-0049" num="0048">Further, the rectangular characteristic calculating part <b>13</b>, in the case of not satisfying an inequality of condition 3 (condition not met), acquires a region of next greater area s (numerical expression (3)) and extracts the rectangular region S, or, continues the processing until there are no longer regions to be acquired.</p>
<p id="p-0050" num="0049">(Error Message Display Process) Then, when there is no more region to be acquired, the image forming device <b>1</b> performs a process to display an error message, such as &#x201c;There was a failure to read the manuscript&#x201d;, on the display unit <b>105</b>.</p>
<p id="p-0051" num="0050">(Position Adjustment Parameter Calculating Part <b>14</b>) The position adjustment parameter calculating part <b>14</b> is a calculating part to acquire the rectangular characteristic information of the front side and the back side from the rectangular characteristic calculating part <b>13</b> and to calculate correction parameters, which are a distance for parallel shift (parallel shift parameters: tx and ty) and an angle of rotational transfer (rotational angle parameter t&#x3b8;) to align the rectangular characteristic information of the front side (&#x3b8;<sub>f0</sub>-&#x3b8;<sub>f3</sub>, &#x3c1;<sub>f0</sub>-&#x3c1;<sub>f3</sub>) with the rectangular characteristic information of the back side (&#x3b8;<sub>r0</sub>-&#x3b8;<sub>r3</sub>, &#x3c1;<sub>r0</sub>-&#x3c1;<sub>r3</sub>). Then, the position adjustment parameter calculating part <b>14</b> outputs the correction parameter (tx, ty, t&#x3b8;) to the image data correction part <b>15</b>. The back rectangular region Sr shall be aligned with the front rectangular region Sf using these parallel shift parameters tx and ty and the rotation angle parameter t&#x3b8;, by shifting in parallel at the parallel shift parameters tx and ty, and further rotational-transferring at the rotational angle parameter t&#x3b8;.</p>
<p id="p-0052" num="0051">The position adjustment parameter calculating part <b>14</b> performs processing to extract the parallel shift parameters tx and ty and the rotational angle parameter t&#x3b8; as described below. The position adjustment parameter calculating part <b>14</b>, first, from the rectangular characteristic circulating part <b>13</b>, acquires the rectangular characteristic information (&#x3b8;<sub>f0</sub>, &#x3c1;<sub>f0</sub>), (&#x3b8;<sub>f1</sub>, &#x3c1;<sub>f1</sub>), (&#x3b8;<sub>f2</sub>, &#x3c1;<sub>f2</sub>) and (&#x3b8;<sub>f3</sub>, &#x3c1;<sub>f3</sub>) of the front rectangular region Sf and the pairing information P<sub>f10 </sub>and P<sub>f23</sub>, and further acquires the rectangular characteristic information (&#x3b8;<sub>r0</sub>, &#x3c1;<sub>r0</sub>), (&#x3b8;<sub>f1</sub>, &#x3c1;<sub>f1</sub>), (&#x3b8;<sub>r2</sub>, &#x3b8;<sub>r2</sub>) and (&#x3b8;<sub>r3</sub>, &#x3c1;<sub>r3</sub>) of the back rectangular region Sr and the pairing information P<sub>r10 </sub>and P<sub>r23</sub>.</p>
<p id="p-0053" num="0052">(Process to Calculate Side Length) Then, the position adjustment parameter calculating part <b>14</b>, first, calculates the length of each side of the front rectangular region Sf using the rectangular characteristic information of the front rectangular region Sf. The length of the side can be calculated from three straight lines. These three straight lines are two straight lines composing a set of pairs and one straight line out of another set of pairs. Referring to <figref idref="DRAWINGS">FIG. 3</figref> again, for example, a straight line L<sub>f0 </sub>and a straight line L<sub>f1 </sub>composing one set of pairs and a line L<sub>f2</sub>, which is one straight line out of another set of pairs, are selected, and a distance from an intersection (x<sub>0,2</sub>, y<sub>0,2</sub>) of the straight lines L<sub>f0 </sub>and L<sub>f2 </sub>and to an intersection (x<sub>1,2</sub>, y<sub>1,2</sub>) of the straight lines L<sub>f1 </sub>and L<sub>f2 </sub>is calculated as the side length on the straight line L<sub>f2</sub>. The intersections are sections equivalent to four corners of the manuscript.</p>
<p id="p-0054" num="0053">Herein, the intersection (x<sub>0,2</sub>, y<sub>0,2</sub>) of the straight lines L<sub>f0 </sub>(&#x3b8;<sub>0</sub>, &#x3c1;<sub>0</sub>) and L<sub>f2 </sub>(&#x3b8;<sub>2</sub>, &#x3c1;<sub>2</sub>) can be calculated with the expression (9).</p>
<p id="p-0055" num="0054">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Expression</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>9</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>{</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>x</mi>
                  <mrow>
                    <mn>0</mn>
                    <mo>,</mo>
                    <mn>2</mn>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mrow>
                  <mo>-</mo>
                  <mfrac>
                    <mrow>
                      <mrow>
                        <msub>
                          <mi>&#x3c1;</mi>
                          <mn>0</mn>
                        </msub>
                        <mo>&#x2062;</mo>
                        <mi>sin</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <msub>
                          <mi>&#x3b8;</mi>
                          <mn>2</mn>
                        </msub>
                      </mrow>
                      <mo>-</mo>
                      <mrow>
                        <msub>
                          <mi>&#x3c1;</mi>
                          <mn>2</mn>
                        </msub>
                        <mo>&#x2062;</mo>
                        <mi>sin</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <msub>
                          <mi>&#x3b8;</mi>
                          <mn>0</mn>
                        </msub>
                      </mrow>
                    </mrow>
                    <mrow>
                      <mi>sin</mi>
                      <mo>&#x2061;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <msub>
                            <mi>&#x3b8;</mi>
                            <mn>0</mn>
                          </msub>
                          <mo>-</mo>
                          <msub>
                            <mi>&#x3b8;</mi>
                            <mn>2</mn>
                          </msub>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                  </mfrac>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>y</mi>
                  <mrow>
                    <mn>0</mn>
                    <mo>,</mo>
                    <mn>2</mn>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mfrac>
                  <mrow>
                    <mrow>
                      <msub>
                        <mi>&#x3c1;</mi>
                        <mn>0</mn>
                      </msub>
                      <mo>&#x2062;</mo>
                      <mi>cos</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <msub>
                        <mi>&#x3b8;</mi>
                        <mn>2</mn>
                      </msub>
                    </mrow>
                    <mo>-</mo>
                    <mrow>
                      <msub>
                        <mi>&#x3c1;</mi>
                        <mn>2</mn>
                      </msub>
                      <mo>&#x2062;</mo>
                      <mi>cos</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <msub>
                        <mi>&#x3b8;</mi>
                        <mn>0</mn>
                      </msub>
                    </mrow>
                  </mrow>
                  <mrow>
                    <mi>cos</mi>
                    <mo>&#x2061;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>&#x3b8;</mi>
                          <mn>0</mn>
                        </msub>
                        <mo>-</mo>
                        <msub>
                          <mi>&#x3b8;</mi>
                          <mn>2</mn>
                        </msub>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mfrac>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>9</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Further, a distance (length of the side on the straight line L<sub>f2</sub>) d<sub>f2 </sub>between the two points (x<sub>0,2</sub>, y<sub>0,2</sub>) and (x<sub>1,2</sub>, y<sub>1,2</sub>) can be calculated with the expression (10).
<br/>
(Expression 10)
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>d</i><sub>f2</sub>=&#x221a;{square root over ((<i>x</i><sub>1,2</sub><i>&#x2212;x</i><sub>0,2</sub>)<sup>2</sup>+(<i>y</i><sub>1,2</sub><i>&#x2212;y</i><sub>0,2</sub>)<sup>2</sup>)}{square root over ((<i>x</i><sub>1,2</sub><i>&#x2212;x</i><sub>0,2</sub>)<sup>2</sup>+(<i>y</i><sub>1,2</sub><i>&#x2212;y</i><sub>0,2</sub>)<sup>2</sup>)}&#x2003;&#x2003;(10)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
Lengths d<sub>f0</sub>, d<sub>f1</sub>, d<sub>f2 </sub>and d<sub>f3 </sub>of the sides on the straight lines L<sub>f0</sub>, L<sub>f1</sub>, L<sub>f2 </sub>and L<sub>f3 </sub>of the front rectangular region Sf are calculated by applying the calculation to the straight lines to the sides, respectively.
</p>
<p id="p-0056" num="0055">Further, the position adjustment parameter calculating part <b>14</b> also calculates lengths d<sub>r0</sub>, d<sub>r1</sub>, d<sub>r2 </sub>and d<sub>r3 </sub>of the sides on the straight lines L<sub>r0</sub>, L<sub>r1</sub>, L<sub>r2 </sub>and L<sub>r3 </sub>using the rectangular characteristic information of the back rectangular region Sr, respectively.</p>
<p id="p-0057" num="0056">(Process to Relate Each Side) Then, the position adjustment parameter calculating part <b>14</b> performs processing to relate each side of the front rectangular region Sf to that of the back rectangular region Sr, respectively. The processing is performed using the following method: Herein, the position adjustment parameter calculating part <b>14</b> acquires the rectangular characteristic information (&#x3b8;<sub>f0</sub>, &#x3c1;<sub>f0</sub>), (&#x3b8;<sub>f1</sub>, &#x3c1;<sub>f1</sub>, (&#x3b8;<sub>f2</sub>, &#x3c1;<sub>f2</sub>) and (&#x3b8;<sub>f3</sub>, &#x3c1;<sub>f3</sub>) of the front rectangular region Sf and the pairing information P<sub>f10 </sub>and P<sub>f23</sub>, and further acquires the rectangular characteristic information (&#x3b8;<sub>r0</sub>, &#x3c1;<sub>r0</sub>), (&#x3b8;<sub>r1</sub>, &#x3c1;<sub>r1</sub>), (&#x3b8;<sub>r2</sub>, &#x3c1;<sub>r2</sub>) and (&#x3b8;<sub>r3</sub>, &#x3c1;<sub>r3</sub>) of the back rectangular region Sr and the pairing information P<sub>r10 </sub>and P<sub>r23</sub>. Herein, the pairing information P<sub>f10 </sub>indicates the rectangular characteristic information (&#x3b8;<sub>f0</sub>, &#x3c1;<sub>f0</sub>) and the rectangular characteristic information (&#x3b8;<sub>f1</sub>, &#x3c1;<sub>f1</sub>) are the pairs; P<sub>f23 </sub>indicates the rectangular characteristic information (&#x3b8;<sub>f2</sub>, &#x3c1;<sub>f2</sub>) and the rectangular characteristic information (&#x3b8;<sub>f3</sub>, &#x3c1;<sub>f3</sub>) are the pairs; P<sub>r10 </sub>indicates the rectangular characteristic information (&#x3b8;<sub>r0</sub>, &#x3c1;<sub>r0</sub>) and the rectangular characteristic information (&#x3b8;<sub>r1</sub>, &#x3c1;<sub>r1</sub>) are the pairs; and P<sub>r23 </sub>indicates the rectangular characteristic information (&#x3b8;<sub>r2</sub>, &#x3c1;<sub>r2</sub>) and the rectangular characteristic information (&#x3b8;<sub>r3</sub>, &#x3c1;<sub>r3</sub>) are the pairs.</p>
<p id="p-0058" num="0057">First, the position adjustment parameter calculating part <b>14</b> calculates average &#x3b8; of two straight lines in each pair. Herein, the average &#x3b8; (&#x3b8;<sub>pf01</sub>) of the pair P<sub>f01 </sub>can be calculated with the expression (11).</p>
<p id="p-0059" num="0058">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Expression</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>11</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>&#x3b8;</mi>
          <mrow>
            <mi>Pf</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>01</mn>
          </mrow>
        </msub>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <msub>
              <mi>&#x3b8;</mi>
              <mrow>
                <mi>f</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mn>0</mn>
              </mrow>
            </msub>
            <mo>+</mo>
            <msub>
              <mi>&#x3b8;</mi>
              <mrow>
                <mi>f</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mn>1</mn>
              </mrow>
            </msub>
          </mrow>
          <mn>2</mn>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>11</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Thus, the position adjustment parameter calculating part <b>14</b> calculates &#x3b8;<sub>Pf01 </sub>of the pair P<sub>f01 </sub>and &#x3b8;<sub>Pf23 </sub>of the pair P<sub>f23 </sub>in the front rectangular region Sf, and &#x3b8;<sub>Pb01 </sub>of the pair P<sub>r01 </sub>and &#x3b8;<sub>pb23 </sub>of the pair P<sub>r23 </sub>of the back rectangular region Sr.
</p>
<p id="p-0060" num="0059">Then, the position adjustment parameter calculating part <b>14</b> performs processing to relate &#x3b8;<sub>Pf01 </sub>and &#x3b8;<sub>Pf23 </sub>of the front rectangular region Sf to the approximating &#x3b8;<sub>Pb01 </sub>and &#x3b8;<sub>Pb23 </sub>of the back rectangular region Sr. The processing is performed as follows: If |&#x3b8;<sub>Pf01</sub>&#x2212;&#x3b8;<sub>Pb01</sub>|&#x3c;|&#x3b8;<sub>pf01</sub>&#x2212;&#x3b8;<sub>pf23</sub>|, the pair P<sub>f01 </sub>is related to the pair P<sub>r01 </sub>(i.e., &#x3b8;<sub>Pf01 </sub>is not equal to &#x3b8;<sub>Pb01</sub>). In the meantime, the inequality is not satisfied, the pair P<sub>f01 </sub>is related to the pair P<sub>r23 </sub>(i.e., &#x3b8;<sub>Pf01 </sub>is not equal to &#x3b8;<sub>Pf23</sub>). Then, the pair P<sub>f23 </sub>relates to a pair that is not related. Herein, the pair P<sub>f01 </sub>is related to the pair P<sub>r01</sub>, and the pair P<sub>f23 </sub>is related to the pair P<sub>r23</sub>.</p>
<p id="p-0061" num="0060">Next, the position adjustment parameter calculating part <b>14</b>, based upon the distance &#x3c1; of each side to the point of origin O, performs processing to relate one side to another whose distances &#x3c1; are approximate per related pairs. For example, in the case that the pair P<sub>f01 </sub>relates to the pair P<sub>b01</sub>, processing to relate &#x3c1;<sub>f0 </sub>of the straight line L<sub>f0 </sub>and &#x3c1;<sub>f1 </sub>of the straight line L<sub>f1 </sub>in the front rectangular region Sf to approximate &#x3c1;<sub>r0 </sub>of the straight line L<sub>r0 </sub>and &#x3c1;<sub>r1 </sub>of the straight line L<sub>r1 </sub>in the back rectangular region Sr is performed. The processing is performed as follows: If |&#x3c1;<sub>f0</sub>&#x2212;&#x3c1;<sub>r0</sub>|&#x3c;|&#x3c1;<sub>f1</sub>&#x2212;&#x3c1;<sub>r1</sub>|, the side on the straight line L<sub>f0 </sub>is related to that on L<sub>r0 </sub>(i.e., &#x3c1;<sub>f0 </sub>is not equal to &#x3c1;<sub>r0</sub>). In the meantime, the inequality is not satisfied, the side on the straight line L<sub>f0 </sub>is related to that on the straight line L<sub>r1 </sub>(i.e., &#x3c1;<sub>f0 </sub>is not equal to &#x3c1;<sub>r1</sub>). Then, the side on the straight line L<sub>f1 </sub>is related to a pair that is not related. According to the relating processing, the position adjustment parameter calculating part <b>14</b> can relates each side of the front rectangular region Sf to each side of the back rectangular region Sr, respectively.</p>
<p id="p-0062" num="0061">According to such processing, it is assumed that the side on the straight line L<sub>f0 </sub>is related to that on the straight line L<sub>r0</sub>; the side on the straight line L<sub>f1 </sub>is related to that on the straight line L<sub>r1</sub>, the side on the straight line L<sub>f2 </sub>is related to that on the straight line L<sub>r3</sub>; and the side on the straight line L<sub>f3 </sub>is related to that on the straight line L<sub>r2</sub>.</p>
<p id="p-0063" num="0062">(Processing to Determine Aligning Related Sides) Next, the position adjustment parameter calculating par <b>14</b> calculates a difference between the lengths of the related sides on the front and back sides, whether or not the difference is smaller than a predetermined value. In other words, whether or not the size of the manuscript (the front rectangular region Sf and the back rectangular region Sr) is matched is determined. As a result of calculating a difference between the length d<sub>f0 </sub>on the straight line L<sub>f0 </sub>and the length d<sub>r0 </sub>on the straight line L<sub>r0</sub>, if the difference is smaller than a predetermined value (i.e., d<sub>f0 </sub>is nearly equal to d<sub>r0</sub>), it is determined that the side on the straight line L<sub>f0 </sub>relates to the side on the straight line L<sub>r0</sub>. Then, the position adjustment parameter calculating part <b>14</b> performs such determination process between the length d<sub>f1 </sub>on the straight line L<sub>f1 </sub>and the length d<sub>r1 </sub>on the straight line L<sub>r1</sub>; between the length d<sub>f2 </sub>on the straight line L<sub>f2 </sub>and the length d<sub>r2 </sub>on the straight line L<sub>r2</sub>; and between the length d<sub>f3 </sub>on the straight line L<sub>f3 </sub>and the length d<sub>r3 </sub>on the straight line L<sub>r3</sub>.</p>
<p id="p-0064" num="0063">Then, if determining that the differences between the lengths of related sides on the front side and on the back side are all smaller than a predetermined value, i.e., the sizes of the manuscript (the front rectangular region Sf and the back rectangular region Sr) are matched, the position adjustment parameter calculating part <b>14</b> performs a process to adjust positions to be described below. The predetermined value is acceptable as long as an error value occurring due to the processing by the position adjustment parameter calculating part <b>14</b> from the image data acquiring part <b>11</b> is considered.</p>
<p id="p-0065" num="0064">(Process to Display Error Message) In the meantime, as a result of calculating a difference between the length d<sub>f0 </sub>on the straight line L<sub>f0 </sub>and the length d<sub>r0 </sub>on the straight line L<sub>r0</sub>, if the difference is greater than the predetermined value, it is believed that the sizes are difference between the front side and the back side of the read manuscript. For example, this corresponds to a case where a manuscript read as a front side is B5 size and a manuscript read as a back side is A4 size. On this occasion, the image forming device <b>1</b> performs a process to allow the display unit <b>105</b> to display an error message, such as &#x201c;The size of the manuscript differs between the front side and the back side.&#x201d;</p>
<p id="p-0066" num="0065">Next, the position adjustment parameter calculating part <b>14</b> performs a process to adjust positions as described below.</p>
<p id="p-0067" num="0066">(Processing to Adjust Positions) First, the position adjustment parameter calculating part <b>14</b> calculates a rotational angle parameter t&#x3b8;<sub>f </sub>for correcting image data on the front side (front image data Df) and a rotational angle parameter t&#x3b8;<sub>b </sub>for correcting image data on the back side (back reversed image data Dr), based upon the average &#x3b8; of the front rectangular region Sf and the average &#x3b8; of the back rectangular region Sr.</p>
<p id="p-0068" num="0067">(Processing to Adjust Positions: Correction Pattern to Align Image Data on Back Side with Image Data on Front Side) When the position adjustment parameter calculating part <b>14</b> corrects to align the image data on the back side with that on the front side, t&#x3b8;<sub>f</sub>=0, and t&#x3b8;<sub>b </sub>can be calculated with the expression (12).</p>
<p id="p-0069" num="0068">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Expression</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>12</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>t</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <msub>
            <mi>&#x3b8;</mi>
            <mi>b</mi>
          </msub>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mrow>
              <mo>(</mo>
              <mrow>
                <msub>
                  <mi>&#x3b8;</mi>
                  <mrow>
                    <mi>Pf</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>01</mn>
                  </mrow>
                </msub>
                <mo>+</mo>
                <msub>
                  <mi>&#x3b8;</mi>
                  <mrow>
                    <mi>Pf</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>23</mn>
                  </mrow>
                </msub>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mn>2</mn>
          </mfrac>
          <mo>-</mo>
          <mfrac>
            <mrow>
              <mo>(</mo>
              <mrow>
                <msub>
                  <mi>&#x3b8;</mi>
                  <mrow>
                    <mi>Pb</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>01</mn>
                  </mrow>
                </msub>
                <mo>+</mo>
                <msub>
                  <mi>&#x3b8;</mi>
                  <mrow>
                    <mi>Pb</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>23</mn>
                  </mrow>
                </msub>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mn>2</mn>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>12</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0070" num="0069">Next, the position adjustment parameter calculating part <b>14</b> obtains parallel shift parameters tx<sub>f </sub>and ty<sub>f </sub>for correcting the image data on the front side (front image data Df) and parallel shift parameters tx<sub>b </sub>and ty<sub>b </sub>for correcting the image data on the back side (back reversed image data Dr). The intersection is an intersection (x<sub>0,2</sub>, y<sub>0,2</sub>) of the extracted straight line L<sub>f0 </sub>and the straight line L<sub>f2 </sub>or an intersection (x<sub>1,2</sub>, y<sub>1,2</sub>) of the extracted straight line L<sub>f1 </sub>and the straight line L<sub>f2 </sub>on the occasion of the processing to calculate the length of sides (the processing to calculate the length of sides of the rectangular region).</p>
<p id="p-0071" num="0070">First, any one of intersections is selected. As a method to select one intersection, any method to select only one of intersection, which can be an intersection whose distance from a point of origin is the smallest, or which can be an intersection whose x-axis coordinate value is the greatest, is acceptable. Coordinate values of the selected intersection in the front image data Df are set at (x<sub>f0</sub>, y<sub>f0</sub>), and coordinate values of an intersection in the back reversed image data Dr relating to the above intersection are set at (x<sub>b0</sub>, y<sub>b0</sub>). The related intersection can be acquired from an intersection of two sets of sides (straight lines) related on the front side and the back side. Then, each intersection is rotated and transformed with the expressions (13-1) and (13-2) using the coordinates of these intersections and the rotational angle parameters t&#x3b8;<sub>f </sub>and t&#x3b8;<sub>b</sub>.</p>
<p id="p-0072" num="0071">
<maths id="MATH-US-00006" num="00006">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mrow>
            <mi>Expressions</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>13</mn>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>-</mtext>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>1</mn>
          </mrow>
          <mo>,</mo>
          <mrow>
            <mn>13</mn>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>-</mtext>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>2</mn>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>{</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>X</mi>
                  <mrow>
                    <mi>f</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>0</mn>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mrow>
                  <mrow>
                    <msub>
                      <mi>x</mi>
                      <mrow>
                        <mi>f</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>0</mn>
                      </mrow>
                    </msub>
                    <mo>&#x2062;</mo>
                    <mi>cos</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>t</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mi>f</mi>
                    </msub>
                  </mrow>
                  <mo>-</mo>
                  <mrow>
                    <msub>
                      <mi>y</mi>
                      <mrow>
                        <mi>f</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>0</mn>
                      </mrow>
                    </msub>
                    <mo>&#x2062;</mo>
                    <mi>sin</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>t</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mi>f</mi>
                    </msub>
                  </mrow>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>Y</mi>
                  <mrow>
                    <mi>f</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>0</mn>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mrow>
                  <mrow>
                    <msub>
                      <mi>x</mi>
                      <mrow>
                        <mi>f</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>0</mn>
                      </mrow>
                    </msub>
                    <mo>&#x2062;</mo>
                    <mi>sin</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>t</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mi>f</mi>
                    </msub>
                  </mrow>
                  <mo>+</mo>
                  <mrow>
                    <msub>
                      <mi>y</mi>
                      <mrow>
                        <mi>f</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>0</mn>
                      </mrow>
                    </msub>
                    <mo>&#x2062;</mo>
                    <mi>cos</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>t</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mi>f</mi>
                    </msub>
                  </mrow>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>13</mn>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>-</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>1</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>{</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>X</mi>
                  <mrow>
                    <mi>b</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>0</mn>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mrow>
                  <mrow>
                    <msub>
                      <mi>x</mi>
                      <mrow>
                        <mi>b</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>0</mn>
                      </mrow>
                    </msub>
                    <mo>&#x2062;</mo>
                    <mi>cos</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>t</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mi>b</mi>
                    </msub>
                  </mrow>
                  <mo>-</mo>
                  <mrow>
                    <msub>
                      <mi>y</mi>
                      <mrow>
                        <mi>b</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>0</mn>
                      </mrow>
                    </msub>
                    <mo>&#x2062;</mo>
                    <mi>sin</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>t</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mi>b</mi>
                    </msub>
                  </mrow>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>Y</mi>
                  <mrow>
                    <mi>b</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>0</mn>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mrow>
                  <mrow>
                    <msub>
                      <mi>x</mi>
                      <mrow>
                        <mi>b</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>0</mn>
                      </mrow>
                    </msub>
                    <mo>&#x2062;</mo>
                    <mi>sin</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>t</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mi>b</mi>
                    </msub>
                  </mrow>
                  <mo>-</mo>
                  <mrow>
                    <msub>
                      <mi>y</mi>
                      <mrow>
                        <mi>b</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>0</mn>
                      </mrow>
                    </msub>
                    <mo>&#x2062;</mo>
                    <mi>cos</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>t</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mi>b</mi>
                    </msub>
                  </mrow>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>13</mn>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>-</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>2</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0073" num="0072">Next, the parallel shift parameters tx<sub>f</sub>, ty<sub>f</sub>, tx<sub>b </sub>and ty<sub>b </sub>for parallel shift correction so as to have the intersections after this rotational transfer matching on the front side and the back side are calculated. Herein, when the position adjustment parameter calculating part <b>14</b> corrects to the image data on the back side to be aligned with that on the front side, tx<sub>f</sub>=ty<sub>f</sub>=0, and tx<sub>b </sub>and ty<sub>b </sub>can be calculated with the expression (14).</p>
<p id="p-0074" num="0073">
<maths id="MATH-US-00007" num="00007">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Expression</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>14</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>{</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <mrow>
                  <mi>t</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>x</mi>
                    <mi>b</mi>
                  </msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                  <msub>
                    <mi>X</mi>
                    <mrow>
                      <mi>f</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mn>0</mn>
                    </mrow>
                  </msub>
                  <mo>-</mo>
                  <msub>
                    <mi>X</mi>
                    <mrow>
                      <mi>b</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mn>0</mn>
                    </mrow>
                  </msub>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <mrow>
                  <mi>t</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>y</mi>
                    <mi>b</mi>
                  </msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                  <msub>
                    <mi>Y</mi>
                    <mrow>
                      <mi>f</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mn>0</mn>
                    </mrow>
                  </msub>
                  <mo>-</mo>
                  <msub>
                    <mi>Y</mi>
                    <mrow>
                      <mi>b</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mn>0</mn>
                    </mrow>
                  </msub>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>14</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0075" num="0074">Thus, the position adjustment parameter calculating part <b>14</b> outputs the correction parameters (tx<sub>f</sub>, ty<sub>f</sub>, t&#x3b8;<sub>f</sub>) and (tx<sub>b</sub>, ty<sub>b</sub>, t&#x3b8;<sub>b</sub>) to the image data correction part <b>15</b>. Herein, when correcting to align the image data on the back side with that on the front side, the position adjustment parameter calculating part <b>14</b> outputs the correction parameters (0, 0, 0) and (tx<sub>b</sub>, ty<sub>b</sub>, t&#x3b8;<sub>b</sub>) to the image data correction part <b>15</b>.</p>
<p id="p-0076" num="0075">The pattern where the position adjustment parameter calculating part <b>14</b> corrects the image data on the back side to match with that on the front side was described above, and as another position adjustment processing, a pattern where the image data on the front side is corrected to align with that on the back side, and another pattern where a rectangular region S of the manuscript is corrected so as to face the front with regard to the two-dimensional plane coordinate axis are available.</p>
<p id="p-0077" num="0076">(Processing to Adjust Positions: Correction Pattern to Align Image Data on Front Side with That on Back Side) When the position adjustment parameter calculating part <b>14</b> corrects the image data on the front side to align with that on the back side, t&#x3b8;<sub>b</sub>=0, and t&#x3b8;<sub>f </sub>can be calculated using the expression (15) instead of the expression (12).</p>
<p id="p-0078" num="0077">
<maths id="MATH-US-00008" num="00008">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Expression</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>15</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>t</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <msub>
            <mi>&#x3b8;</mi>
            <mi>f</mi>
          </msub>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mrow>
              <mo>(</mo>
              <mrow>
                <msub>
                  <mi>&#x3b8;</mi>
                  <mrow>
                    <mi>Pb</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>01</mn>
                  </mrow>
                </msub>
                <mo>+</mo>
                <msub>
                  <mi>&#x3b8;</mi>
                  <mrow>
                    <mi>Pb</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>23</mn>
                  </mrow>
                </msub>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mn>2</mn>
          </mfrac>
          <mo>-</mo>
          <mfrac>
            <mrow>
              <mo>(</mo>
              <mrow>
                <msub>
                  <mi>&#x3b8;</mi>
                  <mrow>
                    <mi>Pf</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>01</mn>
                  </mrow>
                </msub>
                <mo>+</mo>
                <msub>
                  <mi>&#x3b8;</mi>
                  <mrow>
                    <mi>Pf</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>23</mn>
                  </mrow>
                </msub>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mn>2</mn>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>15</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0079" num="0078">Further, when the parallel shift parameters tx<sub>f</sub>, ty<sub>f</sub>, tx<sub>b </sub>and ty<sub>b </sub>are circulated, tx<sub>b</sub>=ty<sub>b</sub>=0, and tx<sub>f </sub>and ty<sub>f </sub>can be calculated using the expression (16) instead of the expression (14).</p>
<p id="p-0080" num="0079">
<maths id="MATH-US-00009" num="00009">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Expression</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>16</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>{</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <mrow>
                  <mi>t</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>x</mi>
                    <mi>f</mi>
                  </msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                  <msub>
                    <mi>X</mi>
                    <mrow>
                      <mi>b</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mn>0</mn>
                    </mrow>
                  </msub>
                  <mo>-</mo>
                  <msub>
                    <mi>X</mi>
                    <mrow>
                      <mi>f</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mn>0</mn>
                    </mrow>
                  </msub>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <mrow>
                  <mi>t</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>y</mi>
                    <mi>f</mi>
                  </msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                  <msub>
                    <mi>Y</mi>
                    <mrow>
                      <mi>b</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mn>0</mn>
                    </mrow>
                  </msub>
                  <mo>-</mo>
                  <msub>
                    <mi>Y</mi>
                    <mrow>
                      <mi>f</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mn>0</mn>
                    </mrow>
                  </msub>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>16</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0081" num="0080">(Processing to Adjust Positions: Correction Pattern to Face the Front of Rectangular Region of Manuscript with Regard to Two-Dimensional Plane Coordinate Axis) Further, when the position adjustment parameter calculating part <b>14</b> corrects both image data on the front side and that on the back side so as to face the front of the rectangular region S of the manuscript with regard to the two-dimensional plane coordinate axis, they can be calculated using the expressions (17-1) and (17-2) instead of the expression (12).</p>
<p id="p-0082" num="0081">
<maths id="MATH-US-00010" num="00010">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mrow>
            <mi>Expressions</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>17</mn>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>-</mtext>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>1</mn>
          </mrow>
          <mo>,</mo>
          <mrow>
            <mn>17</mn>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>-</mtext>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>2</mn>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>t</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <msub>
            <mi>&#x3b8;</mi>
            <mi>f</mi>
          </msub>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mtable>
            <mtr>
              <mtd>
                <mrow>
                  <mo>-</mo>
                  <msub>
                    <mi>&#x3b8;</mi>
                    <mrow>
                      <mi>Pf</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mn>01</mn>
                    </mrow>
                  </msub>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mrow>
                        <mi>Pf</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>01</mn>
                      </mrow>
                    </msub>
                    <mo>&#x3c;</mo>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mrow>
                        <mi>Pf</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>23</mn>
                      </mrow>
                    </msub>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mo>-</mo>
                  <msub>
                    <mi>&#x3b8;</mi>
                    <mrow>
                      <mi>Pf</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mn>23</mn>
                    </mrow>
                  </msub>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mi>else</mi>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>17</mn>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>-</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>1</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>t</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <msub>
            <mi>&#x3b8;</mi>
            <mi>b</mi>
          </msub>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mtable>
            <mtr>
              <mtd>
                <mrow>
                  <mo>-</mo>
                  <msub>
                    <mi>&#x3b8;</mi>
                    <mrow>
                      <mi>Pb</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mn>01</mn>
                    </mrow>
                  </msub>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mrow>
                        <mi>Pb</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>01</mn>
                      </mrow>
                    </msub>
                    <mo>&#x3c;</mo>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mrow>
                        <mi>Pb</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>23</mn>
                      </mrow>
                    </msub>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mo>-</mo>
                  <msub>
                    <mi>&#x3b8;</mi>
                    <mrow>
                      <mi>Pb</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mn>23</mn>
                    </mrow>
                  </msub>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mi>else</mi>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>17</mn>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>-</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>2</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0083" num="0082">Further, when the parallel shift parameters tx<sub>f</sub>, ty<sub>f</sub>, tx<sub>b </sub>and ty<sub>b </sub>are calculated, tx<sub>f </sub>and ty<sub>f </sub>can be calculated using the expression (18) instead of the expression (14).</p>
<p id="p-0084" num="0083">
<maths id="MATH-US-00011" num="00011">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Expression</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>18</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>{</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <mrow>
                  <mi>t</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>x</mi>
                    <mi>f</mi>
                  </msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                  <mrow>
                    <mo>-</mo>
                    <msub>
                      <mi>X</mi>
                      <mrow>
                        <mi>f</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>0</mn>
                      </mrow>
                    </msub>
                  </mrow>
                  <mo>+</mo>
                  <mi>&#x3b1;</mi>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <mrow>
                  <mi>t</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>y</mi>
                    <mi>f</mi>
                  </msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                  <mrow>
                    <mo>-</mo>
                    <msub>
                      <mi>Y</mi>
                      <mrow>
                        <mi>f</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>0</mn>
                      </mrow>
                    </msub>
                  </mrow>
                  <mo>+</mo>
                  <mi>&#x3b2;</mi>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <mrow>
                  <mi>t</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>x</mi>
                    <mi>b</mi>
                  </msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                  <mrow>
                    <mo>-</mo>
                    <msub>
                      <mi>X</mi>
                      <mrow>
                        <mi>b</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>0</mn>
                      </mrow>
                    </msub>
                  </mrow>
                  <mo>+</mo>
                  <mi>&#x3b1;</mi>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <mrow>
                  <mi>t</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>y</mi>
                    <mi>b</mi>
                  </msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                  <mrow>
                    <mo>-</mo>
                    <msub>
                      <mi>Y</mi>
                      <mrow>
                        <mi>b</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mn>0</mn>
                      </mrow>
                    </msub>
                  </mrow>
                  <mo>+</mo>
                  <mi>&#x3b2;</mi>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>18</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0085" num="0084">(Image Data Correction part <b>15</b>) The image data correction part <b>15</b> acquires the correction parameters (tx<sub>f</sub>, ty<sub>f</sub>, t&#x3b8;<sub>f</sub>) and (tx<sub>b</sub>, ty<sub>b</sub>, t&#x3b8;<sub>b</sub>) from the position adjustment parameter calculating part <b>14</b>, and acquires the front image data Df and the back reversed image data Dr from the memory part <b>20</b>. Then, the image data correction part <b>15</b> rotational-transfer the front image data Df at the rotational angle parameter t&#x3b8;<sub>f</sub>; further shifts only at the parallel shift parameters tx<sub>f </sub>and ty<sub>f </sub>in parallel; produces reversed front correction image data DXf based upon the reverse direction information, and stores the data in the memory part <b>20</b>. In addition, the image data correction part <b>15</b> rotational-transfers the back reversed image data Dr at the rotational angle parameter t&#x3b8;; further shifts the data by the parallel shift parameters tx and ty in parallel; based upon the reverse direction information, produces reversed back correction image data DXb; and stores the data in the memory part <b>20</b>.</p>
<p id="p-0086" num="0085">(Processing to Adjust Positions: Correction Pattern to Align Image Data on the Back Side with Image Data on the Front Side) Herein, when the position adjustment parameter calculating part <b>14</b> corrects to align the image data on the back side with that on the front side, the image data correction part <b>15</b> acquires the correction parameters (0, 0, 0) and (tx<sub>b</sub>, ty<sub>b</sub>, t&#x3b8;<sub>b</sub>) from the position adjustment parameter calculating part <b>14</b>. In addition, the image data correction part <b>15</b> acquires the front image data Df and the back reversed image data Dr from the memory part <b>20</b>; rotational-transfers the back reversed image data Dr at the rotational angle parameter t&#x3b8;; further shifts the back reversed image data Dr at the parallel shift parameters tx<sub>b </sub>and ty<sub>b </sub>in parallel; produces reversed back correction image data DXb based upon the reverse direction information; and stores that image data in the memory part <b>20</b>.</p>
<p id="p-0087" num="0086">Furthermore, the image processing part <b>10</b> is composed of a common computer having a not-illustrated central processing unit (CPU), read-only-memory (ROM), random-access-memory (RAM), hard disc (HD), etc., and can be activated by a program to make the computer function as each means mentioned above.</p>
<p id="p-0088" num="0087">(Print Execution Processing Part <b>201</b>) A Print execution processing part <b>201</b> acquires the front correction image data DXf and the back correction image data DXb from the memory part <b>20</b>, and controls a not-illustrated photoreceptor, a carrying roller and a sheet feeding part, etc., which are provided by a printing part <b>200</b>, and print (the data) on a medium, such as paper. Herein, because no front correction image data DXf is produced by the image data correction part <b>15</b>, when the front correction image data DXf is not stored in the memory part <b>20</b>, the print execution processing part <b>201</b> acquires the front image data Df instead of the front correction image data DXf.</p>
<p id="p-0089" num="0088">In the image forming device <b>1</b> of the first embodiment having the configuration, a user allows a scanner, etc. to read a manuscript (rectangular medium) and merely enters first image data including the shape of the manuscript on the front side and second image data including the shape of the manuscript on the back side produced by the scanner into the image processing part <b>10</b>, and then can provide image data (the front correction image data DXf and the back correction image data DXb) where the shape of the manuscript on the front side contained in the first image data and the shape of the manuscript on the back side contained in the second image data are aligned. Consequently, because the user can avoid his/her trouble to manually adjust positions of the image, working hours can be drastically reduced. Further, when the front correction image data DXf is printed onto the front side of an output medium and the back correction image data DXb is printed on the back side of the output medium, printing with matched four corners can be performed.</p>
<p id="p-0090" num="0089">(Processing of Image Forming Device) Next, with reference to <figref idref="DRAWINGS">FIG. 4</figref>, the processing of the image forming device <b>1</b> is explained (accordingly see <figref idref="DRAWINGS">FIG. 1</figref> or <figref idref="DRAWINGS">FIG. 3</figref>). Herein, a manuscript with printed both sides shall be read.</p>
<p id="p-0091" num="0090">First, the image forming device <b>1</b> (manuscript reading part <b>103</b>) performs the processing to read an image (S<b>401</b>).</p>
<p id="p-0092" num="0091">(Processing to Read Manuscript: S<b>401</b>) A user U places a manuscript on the platen <b>101</b> of the scanner part <b>100</b>, and while viewing the display unit <b>105</b>, he/she operates the operating part <b>104</b>, and allows the manuscript reading part <b>103</b> to read the front side of the manuscript. Next, the user U flips the manuscript on the platen <b>101</b> (reverse horizontal) and places it (reverse direction information=&#x201c;reverse horizontal&#x201d;), and operates the operating part <b>104</b>, and allows the manuscript reading part <b>103</b> to read the back side of the manuscript. According to the operation by the user U, the manuscript reading part <b>103</b> reads the front side and the back side of the manuscript, respectively, and produces two image data, and in addition, acquires front/back information indicating whether the image data is the front side or the back side of the manuscript. Then, the manuscript reading part <b>103</b> outputs the read image data and front/back information to the image data acquiring part <b>11</b>.</p>
<p id="p-0093" num="0092">Next, the image forming device <b>1</b> performs the processing to acquire image data (S<b>402</b>).</p>
<p id="p-0094" num="0093">(Processing to Acquire Image Data: S<b>402</b>) <figref idref="DRAWINGS">FIG. 5</figref> is a flow diagram of the processing to acquire the image data. The image data acquiring part <b>11</b> acquires the image data and the front/back information from the manuscript reading part <b>103</b> (S<b>501</b>). Then, the image data acquiring part <b>11</b> determines whether the acquired image data is for front or back based on the front/back information (S<b>502</b>). If the front/back information indicates &#x201c;front&#x201d; (S<b>502</b>, front), the image data acquiring part <b>11</b> stores the acquired image data as the front image data Df (S<b>503</b>) to the memory part <b>20</b> (S<b>504</b>). Then, the image forming device <b>1</b> performs the processing to extract edge characteristics (S<b>403</b>, <figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0095" num="0094">If the front/back information indicates &#x201c;back&#x201d; (S<b>502</b>, back), the image data acquiring part <b>11</b> regards the acquired image data as the back image data Db (S<b>505</b>), and next, the image data acquiring part <b>11</b> acquires the reverse direction information pre-stored by the image processing part <b>10</b> (S<b>506</b>) and performs the processing to reverse the back image data Db, and produces the back reversed image data Dr where the back image data Db is reversed toward the (S<b>507</b>). Then, the image data acquiring part <b>11</b> stores the back reversed image data Dr to the memory part <b>20</b> (S<b>508</b>).</p>
<p id="p-0096" num="0095">Next, the image forming device <b>1</b> performs the process to extract an edge characteristic (S<b>403</b>, <figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0097" num="0096">(Processing to Extract Edge Characteristics: S<b>403</b>) <figref idref="DRAWINGS">FIG. 6</figref> is a flow diagram of the processing to extract edge characteristics. Herein, an example of performing the processing to extract edge characteristics to the image data on the front side (front image data Df) is shown. The edge characteristic extracting part <b>12</b> acquires the front image data Df from the memory part <b>20</b>; extracts vertical edge characteristic data from the front image data Df using the Sobel filter (matrix of coefficients for vertical line detection); and produces the vertical edge characteristic image data (S<b>601</b>).</p>
<p id="p-0098" num="0097">Further, the edge characteristic extracting part <b>12</b> extracts transverse edge characteristic data from the front image data Df using the Sobel filter (matrix of coefficients for transverse line detection), and produces the transverse edge characteristic image data (S<b>602</b>). Then, the edge characteristic extracting part <b>12</b> binarizes the vertical edge characteristic image data (S<b>603</b>). Further, the edge characteristic extracting part <b>12</b> similarly binarizes the transverse edge characteristic image data (S<b>604</b>). Then, the edge characteristic extracting part <b>12</b> performs OR operation of two binarized image data (vertical edge characteristic image data and transverse edge characteristic image data); extracts all pixels corresponding to the edges; and produces edge extraction image data E (edge extraction front image data Ef) (S<b>605</b>). Further, the edge characteristic extracting part <b>12</b> similarly performs the processing to extract the edge characteristics from the image data on the back side (back reversed image data Dr) (S<b>601</b>-S<b>605</b>), and produces the edge extraction back reversed image data Er.</p>
<p id="p-0099" num="0098">Next, the image forming device <b>1</b> performs the processing to calculate rectangular characteristics (S<b>404</b>, <figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0100" num="0099">(Processing to Calculate Rectangular Characteristics: S<b>404</b>) <figref idref="DRAWINGS">FIG. 7</figref> is a flow diagram of the processing to calculate rectangular characteristics. Herein, an example of performing the processing to calculate the rectangular characteristics to the image data on the front side (edge extraction front image data Ef) is shown. The rectangular characteristic calculating part <b>13</b> acquires the edge extraction image data E (edge extraction front image data Ef) from the edge characteristic extracting part <b>12</b> (S<b>701</b>). Then, the rectangular characteristic calculating part <b>13</b> extracts and combines the edge pixel data contained in the edge extraction front image data Ef, and generates regions (S<b>702</b>). The rectangular characteristic calculating part <b>13</b> calculates an area of the generated regions, respectively (S<b>703</b>), and acquires a region with a maximal area (S<b>704</b>).</p>
<p id="p-0101" num="0100">The rectangular characteristic calculating part <b>13</b> performs the processing to thin the combined edge pixel data (S<b>705</b>). The rectangular characteristic calculating part <b>13</b> calculates equations (L, (&#x3b8;, &#x3c1;)) of a straight line with the distance &#x3c1; to the point of origin O and the angle &#x3b8; formed by the point of origin O (S<b>706</b>). The rectangular characteristic calculating part <b>13</b> performs the pairing to the equations of a straight line so as to satisfy to the expression of condition 1 (expression (6-1) or the expression of condition 2 (expression (6-2)), respectively, and produces pairing information (S<b>707</b>). Then, the rectangular characteristic calculating part <b>13</b> determines a condition about whether or not condition 3 (expression (7)) is satisfied.</p>
<p id="p-0102" num="0101">When the condition is not satisfied (S<b>708</b>, not satisfied), whether or not there are any non-acquired regions out of the regions generated at S<b>702</b> (S<b>709</b>), and if there are non-acquired region(s) (S<b>709</b>, Yes), a region with a maximal area out of the not-acquired regions is acquired (S<b>710</b>). If there is no non-acquired region (S<b>709</b>, None), the error termination processing is performed (S<b>408</b>, <figref idref="DRAWINGS">FIG. 4</figref>), and the image forming device <b>1</b> allows the display unit <b>105</b> to display an error message, and terminates the process. This error is caused, for example, by extracting an edge that could not be paired by the edge characteristic extracting part <b>12</b> because the manuscript is folded, or a portion of the manuscript is missing.</p>
<p id="p-0103" num="0102">Further, when the condition is satisfied at the determination for the condition of S<b>708</b> (S<b>708</b>, satisfied), the rectangular characteristic calculating part <b>13</b> calculates rectangular characteristic information from four equations of straight line forming the regions (&#x3b8;<sub>f0</sub>, &#x3c1;<sub>f0</sub>), (&#x3b8;<sub>f1</sub>, &#x3c1;<sub>f1</sub>), (&#x3b8;<sub>f2</sub>, &#x3c1;<sub>f2</sub>) and (&#x3b8;<sub>f3</sub>, &#x3c1;<sub>f3</sub>) (S<b>711</b>). Then, the rectangular characteristic calculating part <b>13</b> outputs the rectangular characteristic information and the pairing information (S<b>712</b>).</p>
<p id="p-0104" num="0103">Further, the rectangular characteristic calculating part <b>13</b> similarly performs the processing to calculate the rectangular characteristic (S<b>701</b>-S<b>712</b>) for the image data on the back side (edge extraction back reversed image data Er), and produces the rectangular characteristic information and pairing information.</p>
<p id="p-0105" num="0104">Next, the image forming device <b>1</b> performs the processing to calculate position adjustment parameters (S<b>405</b>, <figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0106" num="0105">(Processing to Calculate Position Adjustment Parameters: S<b>405</b>) <figref idref="DRAWINGS">FIG. 8</figref> is a flow diagram of the processing to calculate the position adjustment parameters. The position adjustment parameter calculating part <b>14</b> acquires the rectangular characteristic information and the pairing information (S<b>801</b>). The position adjustment parameter calculating part <b>14</b> determines whether or not the rectangular characteristic information on the front side and on the back side has been able to be acquired (S<b>802</b>). If the rectangular characteristic information on the front side and on the back side cannot be acquired (S<b>802</b>, No), the error termination processing is performed (S<b>408</b>, <figref idref="DRAWINGS">FIG. 4</figref>), and the image forming device <b>1</b> allows the display unit <b>105</b> to display an error message and terminates the processing.</p>
<p id="p-0107" num="0106">In the meantime, if the rectangular characteristic information on the front side and the back side can be acquired (S<b>802</b>, Yes), the position adjustment parameter calculating part <b>14</b> calculates the length of each side of the front rectangular region Sf on the front side (S<b>803</b>). Similarly, the position adjustment parameter calculating part <b>14</b> also calculates the length of each side of the back rectangular region Sb on the back side. Next, the position adjustment parameter calculating part <b>14</b> calculates average A of each pair on the front side (S<b>804</b>). Similarly, the position adjustment parameter calculating part <b>14</b> also calculates average &#x3b8; of each pair on the back side. Then, the position adjustment parameter calculating part <b>14</b> relates the pair on the front side with the pair on the back side (S<b>805</b>), and further relates one side of the pair on the front side with that of the pair on the back side (S<b>806</b>). Then, the position adjustment parameter calculating part <b>14</b> calculates a difference between length of the related side on the front side and that on the back side (S<b>807</b>).</p>
<p id="p-0108" num="0107">Herein, the position adjustment parameter calculating part <b>14</b> determines whether or not the difference value is smaller than a predetermined value (S<b>808</b>). When the difference value is greater than the predetermined value (S<b>808</b>, No), an error termination processing is performed (S<b>408</b>, <figref idref="DRAWINGS">FIG. 4</figref>), and the image forming device <b>1</b> allows the display unit <b>105</b> to display an error message and terminates the processing. In the meantime, when the difference value is smaller than the predetermined value (S<b>808</b>, Yes), the position adjustment parameter calculating part <b>14</b> calculates a rotational angle parameter (S<b>809</b>), and next, calculates parallel shift parameters (S<b>809</b>).</p>
<p id="p-0109" num="0108">Next, the image forming device <b>1</b> performs the processing to correct image data (S<b>406</b>, <figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0110" num="0109">(Processing to Correct Image Data: S<b>406</b>) <figref idref="DRAWINGS">FIG. 9</figref> is a flow diagram of the processing to correct the image data. First, the image data correction part <b>15</b> acquires the parallel shift parameters (tx, ty) and the rotational angle parameter (t&#x3b8;) from the position adjustment parameter calculating part <b>14</b> (S<b>901</b>). Then, the image data correction part <b>15</b> rotates the back reversed image data Dr only by the rotational angle parameter t&#x3b8; (S<b>902</b>). Next, the image data correction part <b>15</b> shifts the back reversed image data Dr in parallel by tx in the X-axis direction and by ty in the Y-axis direction (S<b>903</b>).</p>
<p id="p-0111" num="0110">Then, the image data correction part <b>15</b> acquires the reverse direction information pre-stored by the image processing part <b>10</b> (S<b>904</b>); performs the reverse processing on the back reversed image data Dr; and produces the back correction image data DXb where the back reversed image data Dr is reversed (a reverse processing) toward the direction according to the reverse direction information (S<b>905</b>). Then, the image data correction part <b>15</b> stores the back correction image data DXb in the memory part <b>20</b> (S<b>906</b>).</p>
<p id="p-0112" num="0111">Next, the image forming device <b>1</b> performs a processing to execute printing (S<b>407</b>, <figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0113" num="0112">(Processing to Execute Printing: S<b>407</b>) The print execution processing part <b>201</b> acquires the front correction image data DXf and the back correction image data DXb from the memory part <b>20</b>, and further acquires setting information relating to printing from the memory part <b>20</b>, and in the case of the &#x201c;two-side printing,&#x201d; the front correction image data DXf is printed on one side (front side) of an output medium (paper) and the back correction image data DXb is printed on the back side. In the meantime, in the case of &#x201c;one-side printing,&#x201d; the front correction image data DXf is printed on one side (front side) of the output medium (paper), and the back correction image data DXb is printed on the same side. Herein, since the front correction image data DXf is not produced by the image data correction part <b>15</b>, if the front correction image data DXf is not stored in the memory part <b>20</b>, the print execution processing part <b>201</b> acquires the front image data Df instead of the image correction image data DXf.</p>
<heading id="h-0017" level="1">Second Embodiment</heading>
<p id="p-0114" num="0113">An image forming device <b>1</b>A of a second embodiment is a device, as illustrated in <figref idref="DRAWINGS">FIG. 10</figref>, having an outer shape characteristic calculating part <b>13</b>A, a position adjustment parameter calculating part <b>14</b>A and an image data correction part <b>15</b>A instead of the rectangular characteristic calculating part <b>13</b>, which is provided by the image forming device <b>1</b> of the first embodiment (<figref idref="DRAWINGS">FIG. 2</figref>), the position adjustment parameter calculating part <b>14</b> and the image data correction part <b>15</b>.</p>
<p id="p-0115" num="0114">(Outer Shape Characteristic Calculating Part <b>13</b>A) The outer shape characteristic calculating part <b>13</b>A has substantially the same configuration as the rectangular characteristic calculating part <b>13</b>, and has the configuration enabling to perform the processing up to S<b>705</b> (<figref idref="DRAWINGS">FIG. 7</figref>), and performs to thin a row (line) where edge pixels forming a region are combined and extracts all outer shape characteristic information (a region surrounded by the thinning-processed lines) to be edges of the region (outer circumference).</p>
<p id="p-0116" num="0115">(Position Adjustment Parameter Calculating Part <b>14</b>A) The position adjustment parameter calculating part <b>14</b>A is a calculating part to calculate coordinates of the center of gravity in the outer form characteristic information on the front side and on the back side extracted by the outer shape characteristic calculating part <b>13</b>A, and to calculate correction parameters, which are distance to shift in parallel (parallel shift parameters tx, ty) and an angle to rotational-transfer (rotational angle parameter t&#x3b8;) to correspond coordinate value of the center of gravity on the front side and coordinate value of the center of gravity on the back side. Then, the position adjustment parameter calculating part <b>14</b>A outputs the correction parameters (tx, ty, t&#x3b8;) to the image data correction part <b>15</b>A.</p>
<p id="p-0117" num="0116">Using these parallel shift parameters tx and ty and the rotational angle parameter t&#x3b8;, the outer shape characteristic information on the back side is shifted in parallel at the parallel shift parameters tx and ty, and is rotational-transferred at the rotational angle parameter t&#x3b8;, and the outer shape characteristic information on the back side shall be matched with that on the front side. The position adjustment parameter calculating part <b>14</b>A sets the number of pieces of outer shape characteristic information on the front side and a coordinate value acquired from the outer shape characteristic calculating part <b>13</b>A at M and (x<sub>fi</sub>, y<sub>fi</sub>), i=1, . . . , M, respectively, and sets the number of pieces of outer shape characteristic information on the back side and a coordinate value acquired from the outer shape characteristic calculating part <b>13</b>A at N and (x<sub>bj</sub>, y<sub>bj</sub>), j=1, . . . , N, respectively. On this occasion, coordinates (x<sub>fg</sub>, y<sub>fg</sub>) of center of gravity in the outer shape characteristic information on the front side (front image data Df) and coordinates (x<sub>bg</sub>, y<sub>bg</sub>) of center of gravity in the outer shape characteristic information on the back side (back reversed image data Dr) are calculated using the expressions (19-1) and (19-2).</p>
<p id="p-0118" num="0117">
<maths id="MATH-US-00012" num="00012">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mrow>
            <mi>Expressions</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>19</mn>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>-</mtext>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>1</mn>
          </mrow>
          <mo>,</mo>
          <mrow>
            <mn>19</mn>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>-</mtext>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>2</mn>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>{</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>x</mi>
                  <mrow>
                    <mi>f</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>g</mi>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mrow>
                  <mfrac>
                    <mn>1</mn>
                    <mi>M</mi>
                  </mfrac>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <munderover>
                      <mo>&#x2211;</mo>
                      <mrow>
                        <mi>i</mi>
                        <mo>=</mo>
                        <mn>1</mn>
                      </mrow>
                      <mi>M</mi>
                    </munderover>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>x</mi>
                      <mrow>
                        <mi>f</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>i</mi>
                      </mrow>
                    </msub>
                  </mrow>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>y</mi>
                  <mrow>
                    <mi>f</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>g</mi>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mrow>
                  <mfrac>
                    <mn>1</mn>
                    <mi>M</mi>
                  </mfrac>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <munderover>
                      <mo>&#x2211;</mo>
                      <mrow>
                        <mi>i</mi>
                        <mo>=</mo>
                        <mn>1</mn>
                      </mrow>
                      <mi>M</mi>
                    </munderover>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>y</mi>
                      <mrow>
                        <mi>f</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>i</mi>
                      </mrow>
                    </msub>
                  </mrow>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>19</mn>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>-</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>1</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>{</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>x</mi>
                  <mrow>
                    <mi>b</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>g</mi>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mrow>
                  <mfrac>
                    <mn>1</mn>
                    <mi>N</mi>
                  </mfrac>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <munderover>
                      <mo>&#x2211;</mo>
                      <mrow>
                        <mi>i</mi>
                        <mo>=</mo>
                        <mn>1</mn>
                      </mrow>
                      <mi>N</mi>
                    </munderover>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>x</mi>
                      <mrow>
                        <mi>b</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>i</mi>
                      </mrow>
                    </msub>
                  </mrow>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>y</mi>
                  <mrow>
                    <mi>b</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>g</mi>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mrow>
                  <mfrac>
                    <mn>1</mn>
                    <mi>N</mi>
                  </mfrac>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <munderover>
                      <mo>&#x2211;</mo>
                      <mrow>
                        <mi>i</mi>
                        <mo>=</mo>
                        <mn>1</mn>
                      </mrow>
                      <mi>N</mi>
                    </munderover>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>y</mi>
                      <mrow>
                        <mi>b</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>i</mi>
                      </mrow>
                    </msub>
                  </mrow>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>19</mn>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>-</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>2</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0119" num="0118">The position adjustment parameter calculating part <b>14</b>A shifts the outer shape characteristic information in parallel using the expressions (20-1) and (20-2) so as to position the coordinates of the center of gravity on the front side and the back side at the point of origin in the two-dimensional plane coordinates.</p>
<p id="p-0120" num="0119">
<maths id="MATH-US-00013" num="00013">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mrow>
            <mi>Expressions</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>20</mn>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>-</mtext>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>1</mn>
          </mrow>
          <mo>,</mo>
          <mrow>
            <mn>20</mn>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>-</mtext>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>2</mn>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>{</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>X</mi>
                  <mrow>
                    <mi>f</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>i</mi>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mrow>
                  <msub>
                    <mi>x</mi>
                    <mrow>
                      <mi>f</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mi>i</mi>
                    </mrow>
                  </msub>
                  <mo>-</mo>
                  <msub>
                    <mi>x</mi>
                    <mrow>
                      <mi>f</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mi>g</mi>
                    </mrow>
                  </msub>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>Y</mi>
                  <mrow>
                    <mi>f</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>i</mi>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mrow>
                  <msub>
                    <mi>y</mi>
                    <mrow>
                      <mi>f</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mi>i</mi>
                    </mrow>
                  </msub>
                  <mo>-</mo>
                  <msub>
                    <mi>y</mi>
                    <mrow>
                      <mi>f</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mi>g</mi>
                    </mrow>
                  </msub>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>20</mn>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>-</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>1</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>{</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>X</mi>
                  <mrow>
                    <mi>b</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>i</mi>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mrow>
                  <msub>
                    <mi>x</mi>
                    <mrow>
                      <mi>b</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mi>i</mi>
                    </mrow>
                  </msub>
                  <mo>-</mo>
                  <msub>
                    <mi>x</mi>
                    <mrow>
                      <mi>b</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mi>g</mi>
                    </mrow>
                  </msub>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>Y</mi>
                  <mrow>
                    <mi>b</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>i</mi>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mrow>
                  <msub>
                    <mi>y</mi>
                    <mrow>
                      <mi>b</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mi>i</mi>
                    </mrow>
                  </msub>
                  <mo>-</mo>
                  <msub>
                    <mi>y</mi>
                    <mrow>
                      <mi>b</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mi>g</mi>
                    </mrow>
                  </msub>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>20</mn>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>-</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>2</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0121" num="0120">The position adjustment parameter calculating part <b>14</b>A calculates the rotational angle parameter to so as to match the outer shape characteristic information on the back side with that on the front side based upon the outer shape characteristic information on the front side and the back side after the parallel shift. For the outer shape characteristic information on the front side and the back side after the parallel shift, the number of the pieces of the outer shape characteristic information on the front side, and the coordinate value are regarded as M and (x<sub>fi</sub>, y<sub>fi</sub>), i=1, . . . , M, respectively, and the number of the pieces of the outer shape characteristic information on the back side, and the coordinate value are regarded as N and (x<sub>bj</sub>, y<sub>bj</sub>), j=1, . . . , N, respectively. The outer shape characteristic information on the back side is rotational-transferred with the expression (21).</p>
<p id="p-0122" num="0121">
<maths id="MATH-US-00014" num="00014">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Expression</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>21</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>{</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>X</mi>
                  <mrow>
                    <mi>b</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>j</mi>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mrow>
                  <mrow>
                    <msub>
                      <mi>x</mi>
                      <mrow>
                        <mi>b</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>j</mi>
                      </mrow>
                    </msub>
                    <mo>&#x2062;</mo>
                    <mi>cos</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>t</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mi>f</mi>
                    </msub>
                  </mrow>
                  <mo>-</mo>
                  <mrow>
                    <msub>
                      <mi>y</mi>
                      <mrow>
                        <mi>b</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>j</mi>
                      </mrow>
                    </msub>
                    <mo>&#x2062;</mo>
                    <mi>sin</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>t</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mi>f</mi>
                    </msub>
                  </mrow>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <msub>
                  <mi>Y</mi>
                  <mrow>
                    <mi>b</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>j</mi>
                  </mrow>
                </msub>
                <mo>=</mo>
                <mrow>
                  <mrow>
                    <msub>
                      <mi>x</mi>
                      <mrow>
                        <mi>b</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>j</mi>
                      </mrow>
                    </msub>
                    <mo>&#x2062;</mo>
                    <mi>sin</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>t</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mi>f</mi>
                    </msub>
                  </mrow>
                  <mo>+</mo>
                  <mrow>
                    <msub>
                      <mi>y</mi>
                      <mrow>
                        <mi>b</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>j</mi>
                      </mrow>
                    </msub>
                    <mo>&#x2062;</mo>
                    <mi>cos</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>t</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>&#x3b8;</mi>
                      <mi>f</mi>
                    </msub>
                  </mrow>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>21</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0123" num="0122">Then, an evaluation function func (t&#x3b8;) for evaluating the degree of confidence of the rotational angle parameter t&#x3b8; is obtained. The evaluation function func (t&#x3b8;) is a total sum of the distance between the outer shape characteristic information on the back side and that on the front side after the rotational transfer. Herein, distance d<sub>ij </sub>between coordinate values (X<sub>bj</sub>, Y<sub>bj</sub>) of the outer shape characteristic information on the back side after the rotational transfer and coordinate values (X<sub>fi</sub>, Y<sub>fi</sub>) of the outer shape characteristic information on the front side after the rotational transfer can be calculated with the expression (22).</p>
<p id="h-0018" num="0000">(Expression 22)
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>d</i><sub>ij</sub>=&#x221a;{square root over ((<i>X</i><sub>bj</sub><i>&#x2212;x</i><sub>fi</sub>)<sup>2</sup>+(<i>Y</i><sub>bj</sub><i>&#x2212;y</i><sub>fi</sub>)<sup>2</sup>)}{square root over ((<i>X</i><sub>bj</sub><i>&#x2212;x</i><sub>fi</sub>)<sup>2</sup>+(<i>Y</i><sub>bj</sub><i>&#x2212;y</i><sub>fi</sub>)<sup>2</sup>)}&#x2003;&#x2003;(22)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0124" num="0123">Relating the outer shape characteristic information on the front side with that on the back side for obtaining the distance shall be the outer shape characteristic information on the back side, which is the closest from that on the front side. On this occasion, two or more pieces of outer shape characteristic information on the back side can be matched with one piece of outer shape characteristic information on the front side. Thus, the related correspondent relationship is regarded as J(i), J&#x3b5;(1, . . . , N). This symbol i represents a numerical number relating to the outer shape characteristic information on the front side (i=1, . . . , M). Herein, the evaluation function func (t&#x3b8;) can be calculated with the expression (23).</p>
<p id="p-0125" num="0124">
<maths id="MATH-US-00015" num="00015">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Expression</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>23</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>func</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>t</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>&#x3b8;</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>i</mi>
              <mo>=</mo>
              <mn>1</mn>
            </mrow>
            <mi>M</mi>
          </munderover>
          <mo>&#x2062;</mo>
          <msub>
            <mi>d</mi>
            <mrow>
              <mi>i</mi>
              <mo>,</mo>
              <mrow>
                <mi>J</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>i</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>23</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0126" num="0125">The smaller an evaluation value calculated from the evaluation function func (t&#x3b8;) becomes, the better it is. Herein, the rotational angle parameter t&#x3b8; is set at &#x2212;&#x3c0;/<b>4</b>&#x2266;&#x3b8;&#x2266;&#x3c0;/<b>4</b>, and for example the rotational angle parameter t&#x3b8; is changed by 1&#xb0; and the evaluation value is calculated, and the rotational angle parameter t&#x3b8; where the evaluation value becomes minimal is obtained. In the meantime, when the minimal evaluation value is greater than a predetermined value, it is regarded as a failed calculation of the position adjustment parameters, and the image forming device <b>1</b> performs a process to allow the display unit <b>105</b> to display an error message, such as &#x201c;Sizes of the manuscript are different between the front side and the back side.&#x201d;</p>
<p id="p-0127" num="0126">Next, in order to correct the parallel shift so as to align the coordinates of the center of gravity on the front side after this rotational transfer with those on the back side, the parallel shift parameters, tx<sub>1x</sub>, tx<sub>2x </sub>and ty<sub>2y </sub>are calculated with the expressions (24) and (25). The position adjustment parameter calculating part <b>14</b>A regards the values where the coordinates of the center of density on the back side calculated at S<b>1601</b> are multiplied by &#x201c;&#x2212;1&#x201d; as first parallel shift parameters tx<sub>1x </sub>and ty<sub>1y</sub>, respectively.</p>
<p id="p-0128" num="0127">
<maths id="MATH-US-00016" num="00016">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Expression</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>24</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>{</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <mrow>
                  <mi>t</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>x</mi>
                    <mrow>
                      <mn>1</mn>
                      <mo>&#x2062;</mo>
                      <mi>x</mi>
                    </mrow>
                  </msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                  <mo>-</mo>
                  <msub>
                    <mi>x</mi>
                    <mrow>
                      <mi>b</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mi>g</mi>
                    </mrow>
                  </msub>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <mrow>
                  <mi>t</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>y</mi>
                    <mrow>
                      <mn>1</mn>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mi>y</mi>
                    </mrow>
                  </msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                  <mo>-</mo>
                  <msub>
                    <mi>y</mi>
                    <mrow>
                      <mi>b</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mi>g</mi>
                    </mrow>
                  </msub>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>24</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
In addition, the position adjustment parameter calculating part <b>14</b>A regards the values where the coordinates of the center of gravity on the front side calculated at S<b>1601</b> are multiplied by &#x201c;&#x2212;1&#x201d; as second parallel shift parameters tx<sub>2x </sub>and ty<sub>2y</sub>, respectively.
</p>
<p id="p-0129" num="0128">
<maths id="MATH-US-00017" num="00017">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Expression</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>25</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>{</mo>
        <mtable>
          <mtr>
            <mtd>
              <mrow>
                <mrow>
                  <mi>t</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>x</mi>
                    <mrow>
                      <mn>2</mn>
                      <mo>&#x2062;</mo>
                      <mi>x</mi>
                    </mrow>
                  </msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                  <mo>-</mo>
                  <msub>
                    <mi>x</mi>
                    <mrow>
                      <mi>f</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mi>g</mi>
                    </mrow>
                  </msub>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mrow>
                <mrow>
                  <mi>t</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>y</mi>
                    <mrow>
                      <mn>2</mn>
                      <mo>&#x2062;</mo>
                      <mi>y</mi>
                    </mrow>
                  </msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                  <mo>-</mo>
                  <msub>
                    <mi>y</mi>
                    <mrow>
                      <mi>f</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mi>g</mi>
                    </mrow>
                  </msub>
                </mrow>
              </mrow>
            </mtd>
          </mtr>
        </mtable>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>25</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0130" num="0129">(Image Data Correction Part <b>15</b>A) The image data correction part <b>15</b>A corrects the image data on the back side by parallel shift based upon the first parallel shift parameters tx<sub>1x </sub>and ty<sub>1y </sub>calculated by the position adjustment parameter calculating part <b>14</b>A. Then, the parallel-shift-corrected image data on the back side is rotatably corrected based upon the rotational angle parameter t&#x3b8;. In addition, the rotational-corrected image data on the back side is corrected by parallel shift based upon the second parallel shift parameters tx<sub>2x </sub>and ty<sub>2y</sub>. With the processing, the image data on the back side can be corrected to adjust the position aligned with the image data on the front side. Then, the reversed back correction image data DXb is produced from the corrected image data on the back side based upon the reverse direction information, and is stored in the memory part <b>20</b>. Any processing hereafter is the same as those in the image forming device of the first embodiment.</p>
<p id="p-0131" num="0130">In the image forming device of the second embodiment having the above-mentioned configuration, a user allows the image forming device to read a manuscript (rectangular medium) using a scanner, etc. and merely enters the first image data including the front-side shape of the manuscript and the second image data including the back-side shape of the manuscript produced by the scanner, and then, can provide image data where the front-side shape of the manuscript included in first image data is aligned with the back-side shape of the manuscript included in second image data (front correction image data DXf and back correction image data DXb). Consequently, since the user can avoid his/her trouble to manually adjust positions of the image, the working hours can be drastically reduced. Further, when the front correction image data DXf is printed on the front side of the output medium and the back correction image data DXb is printed on the back side of the output medium, printing with four matched corners can be conducted.</p>
<p id="p-0132" num="0131">Further, in the image forming device of the second embodiment, a manuscript to be read does not have to be rectangular, but for example, a quadrilateral manuscript having four sides, such as trapezoid or parallelogram, is also acceptable, and a polygonal manuscript is also acceptable. However, in the case of a manuscript with shape having all the same length of sides (for example, regular polygon) or a circular manuscript, it is necessary to consider the range of the rotational angle parameter t&#x3b8; calculated by the position adjustment parameter calculating part <b>14</b>A.</p>
<p id="p-0133" num="0132">In the first embodiment and the second embodiment, when the manuscript reading part <b>103</b> of the scanner part <b>100</b> reads a manuscript for the purpose of producing image data where edges of the manuscript (rectangular region) are certainly extracted, a portion to be background (for example, a cover to cover the platen <b>101</b>) are dotted, or can have opposite color from the manuscript color.</p>
<p id="p-0134" num="0133">In the first embodiment and the second embodiment, an example where the image forming device <b>1</b> (<b>1</b>A) having the image processing device (image processing part <b>10</b>) is applied to a multifunction machine having the scanner part <b>100</b> and the printing part <b>200</b> was explained, and the image forming device <b>1</b> (<b>1</b>A) is also applicable to a copier or a facsimile (FAX). Further, this is also applicable as an image forming device in the form where a computer is used as the image processing part <b>10</b> and the computer is designed to enable to transmit/receive data and is connected to a scanner (scanner part <b>100</b>) and a printer (printing part <b>200</b>).</p>
<p id="p-0135" num="0134">Further, the example where image data is entered from the scanner part <b>100</b> was explained, and this is also applicable in the form where the image processing device (image processing unit <b>10</b>) acquires image data via a memory medium, such as an hard disk, RAM, an optical disk, or a communication network.</p>
<p id="p-0136" num="0135">Image data to be entered into the image processing part <b>10</b> (image data acquiring part <b>11</b>) includes a rectangular region, and as long as this is image data that can recognize the shape of the rectangular region, the format, such as PNG, JPEG or GIF, is acceptable, and an image format is no object.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08625150-20140107-M00001.NB">
<img id="EMI-M00001" he="33.87mm" wi="76.20mm" file="US08625150-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08625150-20140107-M00002.NB">
<img id="EMI-M00002" he="27.86mm" wi="76.20mm" file="US08625150-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08625150-20140107-M00003.NB">
<img id="EMI-M00003" he="18.71mm" wi="76.20mm" file="US08625150-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08625150-20140107-M00004.NB">
<img id="EMI-M00004" he="11.26mm" wi="76.20mm" file="US08625150-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US08625150-20140107-M00005.NB">
<img id="EMI-M00005" he="11.26mm" wi="76.20mm" file="US08625150-20140107-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00006" nb-file="US08625150-20140107-M00006.NB">
<img id="EMI-M00006" he="22.27mm" wi="76.20mm" file="US08625150-20140107-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00007" nb-file="US08625150-20140107-M00007.NB">
<img id="EMI-M00007" he="13.04mm" wi="76.20mm" file="US08625150-20140107-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00008" nb-file="US08625150-20140107-M00008.NB">
<img id="EMI-M00008" he="11.26mm" wi="76.20mm" file="US08625150-20140107-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00009" nb-file="US08625150-20140107-M00009.NB">
<img id="EMI-M00009" he="13.04mm" wi="76.20mm" file="US08625150-20140107-M00009.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00010" nb-file="US08625150-20140107-M00010.NB">
<img id="EMI-M00010" he="22.27mm" wi="76.20mm" file="US08625150-20140107-M00010.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00011" nb-file="US08625150-20140107-M00011.NB">
<img id="EMI-M00011" he="20.83mm" wi="76.20mm" file="US08625150-20140107-M00011.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00012" nb-file="US08625150-20140107-M00012.NB">
<img id="EMI-M00012" he="42.67mm" wi="76.20mm" file="US08625150-20140107-M00012.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00013" nb-file="US08625150-20140107-M00013.NB">
<img id="EMI-M00013" he="22.94mm" wi="76.20mm" file="US08625150-20140107-M00013.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00014" nb-file="US08625150-20140107-M00014.NB">
<img id="EMI-M00014" he="13.04mm" wi="76.20mm" file="US08625150-20140107-M00014.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00015" nb-file="US08625150-20140107-M00015.NB">
<img id="EMI-M00015" he="13.80mm" wi="76.20mm" file="US08625150-20140107-M00015.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00016" nb-file="US08625150-20140107-M00016.NB">
<img id="EMI-M00016" he="13.04mm" wi="76.20mm" file="US08625150-20140107-M00016.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00017" nb-file="US08625150-20140107-M00017.NB">
<img id="EMI-M00017" he="13.04mm" wi="76.20mm" file="US08625150-20140107-M00017.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An image processing device that acquires both first image data and second image data, each of which is included in a rectangular region, wherein shape and area of rectangular regions are same, and that aligns the shape of the rectangular region of the first image data with that of the second image data, the device comprising:
<claim-text>an image data acquiring part that acquires the first image data and the second image data;</claim-text>
<claim-text>an edge characteristic extraction part that extracts both first edges forming the shape of the rectangular region contained in the first image data and second edges forming the shape of the rectangular region;</claim-text>
<claim-text>a rectangular characteristic calculating part that extracts both a first calculated rectangular region formed by the first edges and a second calculated rectangular region formed by the second edges;</claim-text>
<claim-text>a position adjustment parameter calculating part that calculates parameters indicating a separation distance and a separation angle between the first calculated rectangular region and the second calculated rectangular region when the first image data and the second image data are overlapped; and</claim-text>
<claim-text>an image data correction part that adjusts a position of one of the first image data and the second image data to an original position of the other one of the first image data and the second image data by shifting and rotating only the one of the first image data and the second image data based upon the parameters, wherein</claim-text>
<claim-text>the position adjustment parameter calculating part determines whether or not a size of the first calculated rectangular region matches a size of the second calculated rectangular region,</claim-text>
<claim-text>the image data correction part perform the adjustment if the size of the first calculated rectangular region matches the size of the second calculated rectangular region,</claim-text>
<claim-text>the image data correction part does not perform the adjustment if the size of the first calculated rectangular region does not match the size of the second calculated rectangular region.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The image processing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the image data acquiring part reverses the acquired second image data and regards the reversed second image data as the second image data; and</claim-text>
<claim-text>the image data correction part reverses the shifted and rotated second image data, and regards the shifted and rotated image data as the corrected second image data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The image processing device according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the image processing device is part of an image forming device, image forming device that comprises:
<claim-text>a scanner part that separately reads two rectangular media, wherein shapes and areas of the two rectangular media are the same, or reads a front side and a back side of one rectangular medium, wherein shapes and areas of the front side and the back side are the same, and produces the first image data and second image data including the rectangular regions; and</claim-text>
<claim-text>a printing part that prints the first image data corrected by the image data correction part on the front side of an output medium and prints the second image data corrected by the image data correction part onto the back side.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The image processing device according to <claim-ref idref="CLM-00002">claim 2</claim-ref>,
<claim-text>wherein</claim-text>
<claim-text>a direction of reversal by at least one of the image data acquiring part and the image data correction part is the direction selected by a user.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The image processing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the edge characteristic extracting part extracts edge pixel data forming transverse edges of the rectangular region contained in the image data using a Sobel filter, produces transverse edge characteristic image data, further extracts edge pixel data forming vertical edges, produces vertical edge characteristic image data, binarizes the transverse characteristic image data and the vertical characteristic image data, implements a logical OR operation, and extracts the first edges from the first image data and the second edges from the second image data.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The image processing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the rectangular characteristic calculating part extracts four sides from the edges extracted by the edge characteristic extracting part and extracts a region surrounded by the four sides.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The image processing device according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the four sides extracted by the rectangular characteristic calculating part are obtained by extracting four straight lines from the edge pixel data forming the edges, calculating four equations of straight lines, which are obtained by Hough-transforming the straight lines, and calculating intersections of these equations of straight line and a distance between the intersections.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The image processing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the parameters calculated by the position adjustment parameter calculating part comprise an x-axis direction shift parameter and a y-axis direction shift parameter, on a two-dimensional plane coordinates, and a rotational parameter.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The image processing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,
<claim-text>wherein</claim-text>
<claim-text>one of the first edges and second edges is formed by two pairs of straight lines, and</claim-text>
<claim-text>the straight lines of each pair are extracted from a group of a plurality of straight lines based on the distance and the angle between two given straight lines.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The image processing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a display part that displays a notice when a length of one of the first edges of the first image data is different from a length of a corresponding one of the second edges of the second image data by a predetermined amount.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The image processing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the separation distance and the separation angle are calculated from a center of gravity of the first calculated rectangular region and a center of gravity of the second calculated rectangular region, and</claim-text>
<claim-text>the image data correction part further adjusts the position of one of the first image data and the second image data to a position of the other one of the first image data and the second image data so that the center of gravity of the first calculated rectangular region and the center of gravity of the second calculated rectangular region match.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The image processing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>at least one of edges of the first image data and the second image data can be nonparallel to edges of an output medium onto which the first and second image data are printed, after the image data correction part shifts and rotates only the one of first image data and the second image data based upon the parameters.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The image processing device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the rectangular characteristic calculating part further calculates the first calculated rectangular region by determining a first maximum area of the rectangular region contained in the first image data based on the first edges and the second calculated rectangular region by determining a second maximum area of the rectangular region contained in the second image data determined from the second edges,</claim-text>
<claim-text>the rectangular characteristic calculating part determines first side lines of the first calculated rectangular region based on the first maximum area and second side lines of the second calculated rectangular region based on the second maximum area, and</claim-text>
<claim-text>the position adjustment parameter calculating part calculates the parameters based on the first side lines and the second side lines.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The image processing device according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein
<claim-text>the rectangular characteristic calculating part determines distances and angular differences between two of the first side lines and between two of the second side lines and pairs the two of the first side lines and the two of the second side lines if the respective distance is greater than a distance threshold value and if the respective angular distance is less than an angular difference threshold value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The image processing device according to <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein
<claim-text>the position adjustment parameter calculating part corresponds the paired two of the first side lines and the paired two of the second side lines by calculating an angular difference and a difference in distance from a predetermined position of the paired two of the first side lines and the paired two of the second side lines.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The image processing device according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein
<claim-text>the position adjustment parameter calculating part determines whether or not the size of the first calculated rectangular region matches the size of the second calculated rectangular region by comparing lengths of the corresponded paired two of the first side lines and the paired two of the second side lines. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
