<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625214-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625214</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13224696</doc-number>
<date>20110902</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>203</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>B</subclass>
<main-group>27</main-group>
<subgroup>36</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>B</subclass>
<main-group>20</main-group>
<subgroup>10</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>B</subclass>
<main-group>15</main-group>
<subgroup>48</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>360 31</main-classification>
<further-classification>360 39</further-classification>
<further-classification>360 75</further-classification>
</classification-national>
<invention-title id="d2e53">Apparatus for digital RMS detection and peak detection in head-disk contact detection</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>2002/0001151</doc-number>
<kind>A1</kind>
<name>Lake</name>
<date>20020100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>360 55</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2002/0097516</doc-number>
<kind>A1</kind>
<name>Gan et al.</name>
<date>20020700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>360 75</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>13</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>7</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130058201</doc-number>
<kind>A1</kind>
<date>20130307</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Takeuchi</last-name>
<first-name>Toru</first-name>
<address>
<city>Sagamihara</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Sharifi</last-name>
<first-name>Reza</first-name>
<address>
<city>Plano</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Takeuchi</last-name>
<first-name>Toru</first-name>
<address>
<city>Sagamihara</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Sharifi</last-name>
<first-name>Reza</first-name>
<address>
<city>Plano</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Cooper</last-name>
<first-name>Alan A. R.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Brady, III</last-name>
<first-name>W. James</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="03" rep-type="attorney">
<addressbook>
<last-name>Telecky, Jr.</last-name>
<first-name>Frederick J.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Texas Instruments Incorporated</orgname>
<role>02</role>
<address>
<city>Dallas</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Holder</last-name>
<first-name>Regina N</first-name>
<department>2688</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An apparatus comprises a root mean square (&#x2018;RMS&#x2019;) value generator; an integrator coupled to the RMS value generator; a sample and hold switch coupled to an output of the integrator; a capacitor coupled between the sample and hold switch and a ground; an input of the analog to digital convertor (&#x2018;ADC&#x2019;) coupled to the capacitor; an adder coupled to an output of the ADC; a register, wherein an output of the register is coupled to an input of the adder; and wherein an output of the adder is coupled to an input of the register; and a logic coupled to the register for comparing an output of the register to an RMS threshold value for determining whether a touch-down has occurred.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="157.73mm" wi="242.49mm" file="US08625214-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="248.92mm" wi="168.23mm" orientation="landscape" file="US08625214-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="217.25mm" wi="167.13mm" file="US08625214-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="215.82mm" wi="144.86mm" orientation="landscape" file="US08625214-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="215.82mm" wi="212.26mm" file="US08625214-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="215.90mm" wi="166.79mm" file="US08625214-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0002" num="0001">This application is directed, in general, to touch-down detection, and, more specifically, to digital root-mean-square (&#x2018;RMS&#x2019;) and peak detection in touch-down detection.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">In today's society, the ability to quickly and efficiently store and retrieve digital information onto mass storage devices is becoming ever-more important. One such mass storage device is a hard disk drive (&#x2018;HDD&#x2019;).</p>
<p id="p-0004" num="0003">Typically, a magnetic head of an HDD has a Head-Disk Contact (&#x2018;HDC&#x2019;) detection sensor, which detects a contact between the head and a disk media, referred to as a &#x2018;touch-down&#x2019;. Generally speaking, the Head-Disk Contact detection sensor outputs a transient signal in response to such received impulses. A transient signal which exceeds a certain level is therefore recognized as a head-disk contact. This can occur during read mode or a write mode.</p>
<p id="p-0005" num="0004">However, in certain noisy conditions, for example, a &#x2018;write&#x2019; mode, which can be wherein a preamplifier drives a &#x2018;write&#x2019; current to record a digital signal on the HDD, a distinction between a &#x2018;touch-down&#x2019; signal and noise is difficult. In other words, it can be difficult to determine in some noisy environments whether a &#x2018;touch-down&#x2019; has actually occurred.</p>
<p id="p-0006" num="0005">In order to address this difficulty and ambiguity, various signal processing schemes have been employed. A RMS or peak-detection applied to a received Head-Disk Contact signal can be utilized. Generally speaking, if a RMS threshold or a peak-detection threshold is exceeded, a &#x2018;touch-down&#x2019; is deemed to have occurred. Indeed, employment of the RMS value or peak value in one or multiple rotations is good criteria to judge head-disk touch-down (See <figref idref="DRAWINGS">FIG. 5</figref>) due to such factors as a defect or a roughness of a disk surface of the HDD.</p>
<p id="p-0007" num="0006">However, these threshold detection schemes introduce further complications into a determination of when a &#x2018;touch-down&#x2019; has occurred. For example, one rotation of the HDD, used for RMS and peak detection is more than millisecond. This can be unacceptably long. In the case of a 5400 rpm HDD, a rotation period is 11 mS, again, a long time period. Conventional implementations of RMS and peak detection for detection over this long time period typically require a very large area.</p>
<p id="p-0008" num="0007">Therefore, there is a need in the art for to RMS and peak detection in touch-down detectors that addresses at least some of the concerns of conventional touch-down detection.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0009" num="0008">In a first aspect, an apparatus comprises a root mean square (&#x2018;RMS&#x2019;) value generator; an integrator coupled to the RMS value generator; a sample and hold switch coupled to an output of the integrator; a capacitor coupled between the sample and hold switch and a ground; an input of the analog to digital convertor (&#x2018;ADC&#x2019;) coupled to the capacitor; an adder coupled to an output of the ADC; a register, wherein an output of the register is coupled to an input of the adder; and wherein an output of the adder is coupled to an input of the register; and a logic coupled to the register for comparing an output of the register to an RMS threshold value for determining whether a touch-down has occurred.</p>
<p id="p-0010" num="0009">In a second aspect, an apparatus comprises a peak value generator; a sample and hold switch coupled to an output of the peak value generator; a capacitor coupled between the sample and hold switch and a ground; an input of the analog digital convertor (&#x2018;ADC&#x2019;) coupled to the capacitor; a comparator coupled to an output of the ADC; a register, wherein an output of the register is coupled to the comparator; and wherein an output of the comparator is coupled to the register; and a logic coupled to the register for comparing an output of the register to a touch-down threshold value for determining whether a touch-down has occurred.</p>
<p id="p-0011" num="0010">In a third aspect, an apparatus comprises a Head-Disk Contact (&#x2018;HDC&#x2019;) detection sensor; a sensor root mean square (&#x2018;RMS&#x2019;) value generator coupled to the HDC detection sensor; an integrator coupled to the RMS value generator; a sample and hold switch coupled to an output of the integrator; a capacitor coupled between the sample and hold switch and a ground; an input of the analog to digital convertor (&#x2018;ADC&#x2019;) coupled to the capacitor; an adder coupled to an output of the ADC; a bit register, wherein an output of the bit register is coupled to an input of the adder; and wherein an output of the adder is coupled to an input of the n bit register; and a logic coupled to the bit register for comparing an output of the bit register to an RMS threshold value for determining whether a touch-down has occurred. An output value of the n bit register is derived from a plurality of RMS value samples.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0012" num="0011">Reference is now made to the following descriptions:</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 1</figref> illustrates an embodiment of a RMS detector that determines a touch-down;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 2</figref> illustrates an example of a values employed in the RMS device of <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 3</figref> is an example of a peak value detector that determines a touch-down;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 4</figref> is an example of a values employed in the peak value detector of <figref idref="DRAWINGS">FIG. 3</figref>;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 5</figref> is an example of prior art noise values both before and after touch-down;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 6</figref> is an exemplary method of an RMS detection in a touch-down; and</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 7</figref> is an exemplary method of a peak detection in a touch-down.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0020" num="0019">Turning to <figref idref="DRAWINGS">FIG. 1</figref>, illustrated is a RMS detector <b>100</b>. In the RMS detector <b>100</b>, a signal, such as an amplified analog signal from a head-disk contact (&#x2018;HDC&#x2019;) detection sensor <b>101</b> is conveyed to a RMS value generator <b>110</b>, which can include a rectifier. The output of the RMS value generator <b>110</b> is then integrated by an integrator <b>120</b> having an amplifier <b>121</b>, a capacitor <b>122</b>, and a resistor <b>123</b>. In other embodiments, other devices that generate an RMS value can be used for the RMS generator <b>110</b>.</p>
<p id="p-0021" num="0020">An output of the integrator <b>120</b> is then coupled to a sample and hold (&#x2018;S and H&#x2019;) switch <b>132</b>. The S and H switch <b>132</b> is driven by a timer <b>130</b>. In one embodiment, the timer <b>130</b> increments in microseconds. The S and H switch <b>132</b> is coupled to a capacitor <b>135</b>. The capacitor <b>135</b> is coupled to ground.</p>
<p id="p-0022" num="0021">In one embodiment, in the RMS detector <b>100</b>, a signal is received, such as from the HDC detection sensor <b>101</b>. An RMS value is generated by the RMS value generator <b>110</b>, which is integrated by the integrator <b>120</b>. The value of the integrated value, an analog signal, is then sampled by the S and H switch <b>132</b>, and held at the capacitor <b>135</b>. Then, the sampled analog signal is converted in an analog-to-digital converter (&#x2018;ADC&#x2019;) <b>140</b>. The timer <b>130</b> also drives the ADC conversion, and the timer <b>130</b> is coupled to the ADC <b>140</b>. This digitized value, representing an integrated individual time slice of a squared RMS noise value, is then conveyed to a digital adder <b>150</b>, and summed. Coupled to the digital adder <b>150</b> is an n bit register <b>160</b>. The digital adder <b>150</b> conveys its sums to the n bit register <b>160</b>, which stores the final results.</p>
<p id="p-0023" num="0022">The n bit register <b>160</b> is also coupled to a serial port/logic (&#x2018;logic&#x2019;) <b>170</b>, which is also coupled to and driven by the timer <b>130</b>. The logic <b>170</b> can itself be used to determine whether a touch-down has actually occurred, or whether the circuit <b>100</b> is encountering other noise, through comparison of the final result to an RMS threshold value. The logic <b>170</b> can also convey state of the sums within the n bit register <b>160</b> to outside the RMS detector <b>100</b>.</p>
<p id="p-0024" num="0023">As employed in the RMS detector <b>100</b>, a primary approach to dealing with the problems of touch-down detection generally concerns replacing analog electronics with digital electronics. What this advantageously further allows is a substitution of a much smaller capacitor, such as capacitor <b>135</b>, for a larger capacitor, as will be described below.</p>
<p id="p-0025" num="0024">Generally, the RMS detector <b>100</b> determines discrete time intervals of RMS values, and then sums those RMS values. Generally, in the RMS detector <b>100</b>, a whole measured period is divided into time zones, and an analog RMS value is digitized for each zone. Each time zone controlled by the timer <b>130</b> and is stored as a digital value in the n bit register <b>160</b>. In one embodiment, when determining RMS values, the digital value can be added repeatedly during one of multiple rotational periods, then the sum of the digital values as determined in the digital adder <b>150</b> is the RMS value of the whole period, which can then be used as a criteria for a touch-down.</p>
<p id="p-0026" num="0025">Generally, the RMS equation for a continuous waveform can be written as follows:</p>
<p id="p-0027" num="0026">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>f</mi>
            <mi>rms</mi>
          </msub>
          <mo>=</mo>
          <msqrt>
            <mrow>
              <mfrac>
                <mn>1</mn>
                <mrow>
                  <msub>
                    <mi>T</mi>
                    <mn>2</mn>
                  </msub>
                  <mo>-</mo>
                  <msub>
                    <mi>T</mi>
                    <mn>1</mn>
                  </msub>
                </mrow>
              </mfrac>
              <mo>&#x2062;</mo>
              <mrow>
                <msubsup>
                  <mo>&#x222b;</mo>
                  <msub>
                    <mi>T</mi>
                    <mn>1</mn>
                  </msub>
                  <msub>
                    <mi>T</mi>
                    <mn>2</mn>
                  </msub>
                </msubsup>
                <mo>&#x2062;</mo>
                <mrow>
                  <msup>
                    <mrow>
                      <mo>[</mo>
                      <mrow>
                        <mi>f</mi>
                        <mo>&#x2061;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mi>t</mi>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                      <mo>]</mo>
                    </mrow>
                    <mn>2</mn>
                  </msup>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.2em" height="0.2ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>t</mi>
                  </mrow>
                </mrow>
              </mrow>
            </mrow>
          </msqrt>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Equation</mi>
        <mo>&#x2062;</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mn>1</mn>
        <mo>&#x2062;</mo>
        <mstyle>
          <mtext>:</mtext>
        </mstyle>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0028" num="0027">The &#x2018;T&#x2019; represents the time over which the RMS is to be determined, and the integral of the voltage squared represents the RMS value over time. Equation 1 yields average RMS value for a time period &#x2018;T&#x2019;.</p>
<p id="p-0029" num="0028">In manifesting this equation in analog circuit form, the time constant &#x2018;T&#x2019; is therefore implemented. This time constant can be in the form of a low-pass RC integrator. Moreover, the cutoff frequency is &#xbd;&#x3c0;RC. A timed decay of a low pass integrator is e<sup>&#x2212;t/RC</sup>. Therefore, in conventional systems, in order to have a suitably long time constant &#x2018;T&#x2019; for an HDC detection, disadvantageously either a &#x2018;large&#x2019; capacitor needs to be employed, a &#x2018;large&#x2019; resistor needs to be employed, or both. This in turn affects the cut off frequency.</p>
<p id="p-0030" num="0029">However, both of these approaches create problems: a prior art &#x2018;large&#x2019; capacitor uses up too much real estate in a given HDC detection circuit; on the other hand, &#x2018;large&#x2019; resistors also require large real state as well. Moreover, a &#x2018;large&#x2019; resistance is prone to external noise, and furthermore a smaller current makes HDC detection circuit design sensitive to leakage current. In other words, a signal-noise ratio can be degraded by large resistance (or smaller current).</p>
<p id="p-0031" num="0030">For example, for a time constant of 12 milliseconds, used to determine a prior art RMS value, a resistor value could be 1000 Ohms and a corresponding capacitor value would be 0.000120 farads (12 microfarads), {RC=12 mS, a R=1 k, which in turn means C=12 uF (microfarads)}, which is an impracticable value due to at least in part a comparatively huge area required by the 12 microfarad capacitor (for example, &#x2dc;3 mm<sup>^2 </sup>which can be larger than a whole die area for a prior art HDC detector). As a second example, if the resistance of 10K Ohms is employed, there is a capacitance of 1.2 microfarads, {RC=12 mS. R=10 k means C=1.2 uF (microfarad).} However, even this capacitor value is not an achievable number, as it is still too large, and moreover under this configuration the resistor value can be prone to the problems mentioned above.</p>
<p id="p-0032" num="0031">In the present application, an alternative approach is employed. In the present embodiment, an addition of digital values is utilized for RMS and peak-detection of a HDD touch-down detection, wherein the application employs the insight that a large &#x2018;time constant&#x2019; for determination of a RMS (or peak) value can be subdivided into a plurality of individually-sampled smaller analog values for these individual time constants, and that these smaller samples can then be added or otherwise compared to determine the final RMS or peak detection. Advantageously, the above alternative RMS approach allows a smaller time constant to be employed, which in turn allows for a smaller RC value, which can then in turn allow for values for both R and C, such as resistor <b>123</b> and capacitor <b>122</b>, that are within a manufacturing norm or acceptable size norms for the RMS detector <b>100</b>.</p>
<p id="p-0033" num="0032">For example, for an overall time constant of 12 milliseconds, if one hundred twenty eight RMS samples are employed by S and H switch <b>132</b> per second, this is a time constant of 012/128 individual samples, or a time constant of 93.75&#xd7;10<sup>&#x2212;6</sup>, which can lead to a 1K resistor <b>123</b> and a 93.75&#xd7;10<sup>&#x2212;9 </sup>(nanofarad) capacitor <b>122</b>, more manageable values.</p>
<p id="p-0034" num="0033">The above insight can be expressed in the following equation, Equation 2:</p>
<p id="p-0035" num="0034">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mrow>
  <msubsup>
    <mi>f</mi>
    <mi>rms</mi>
    <mn>2</mn>
  </msubsup>
  <mo>=</mo>
  <mrow>
    <munder>
      <mi>&#x3a3;</mi>
      <mi>n</mi>
    </munder>
    <mo>&#x2062;</mo>
    <mfrac>
      <mn>1</mn>
      <mrow>
        <mi>&#x394;</mi>
        <mo>&#x2062;</mo>
        <mstyle>
          <mspace width="0.3em" height="0.3ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mi>T</mi>
      </mrow>
    </mfrac>
    <mo>&#x2062;</mo>
    <mrow>
      <msubsup>
        <mo>&#x222b;</mo>
        <msub>
          <mi>T</mi>
          <mi>n</mi>
        </msub>
        <msub>
          <mi>T</mi>
          <mrow>
            <mi>n</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
      </msubsup>
      <mo>&#x2062;</mo>
      <mrow>
        <msup>
          <mrow>
            <mi>f</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>t</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mn>2</mn>
        </msup>
        <mo>&#x2062;</mo>
        <mstyle>
          <mspace width="0.2em" height="0.2ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mrow>
          <mrow>
            <mo>&#x2146;</mo>
            <mi>t</mi>
          </mrow>
          <mo>.</mo>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0036" num="0035">As is illustrated, the RMS is broken up into a number of individual time determinations, and each time period is then summed, and then the square root is taken of this.</p>
<p id="p-0037" num="0036">Turning now to <figref idref="DRAWINGS">FIG. 2</figref>, illustrated is an example of a RMS detector sequence. In this example, the n bit register <b>160</b> is a twelve-bit memory register, and the ADC <b>140</b> is an eight-bit ADC.</p>
<p id="p-0038" num="0037">In this example, 12 microseconds, a period that is to be determined to have a final RMS value, is divided into certain time zones, such a sixteen time zones, wherein one time zone equals 750 &#x3bc;s. In this example, integration by the integrator <b>120</b> is changed from 0000 0000(0d) to 0010 1011(43d). Then, within the digital adder <b>150</b>, 0000 0000 0000(d) from the twelve bit register <b>160</b> is added to the 0010 1011(43d). Within the 12 bit memory, this then equals 0000 0010 1011(43d). This is the value for the first time zone of RMS values.</p>
<p id="p-0039" num="0038">Then, a second reading, that of 1001 1001(153d) is conveyed to the digital adder <b>150</b>. The 12 bit memory conveys the value 0010 1011(43d) to the digital adder <b>150</b>. This is added to become the value 0000 1100 0100(196d). This is the value for the second time zone of RMS values.</p>
<p id="p-0040" num="0039">Then, a third reading, that of 0100 1001(73d) is conveyed to the digital adder <b>150</b>. The 12 bit memory conveys the value 0000 1100 0100(196d) to the digital adder <b>150</b>. This is added to become the value 0001 0000 1010(296d) within the n bit register <b>160</b>. This is the value for the second time zone of RMS values. This can continue for a number of time zones over which the RMS value is determined. In the present example, the number of summed values for the times zones equal 0101 0010 1100(1324d), as a sixteen zone sum, as stored within the n bit register <b>160</b>.</p>
<p id="p-0041" num="0040">In a further embodiment, within the series port/logic value, a final RMS value, such as 0101 0010 1100(1324d), is employed to determine whether a HDD has occurred. In a yet further embodiment, the sum value is truncated, an only a given number of bits of the sum is used. In the illustrated embodiment, the first eight bits of the sixteen zone sum are used. This is value 0101 0010(82d). From this value, the logic <b>170</b> determines whether a HDD has occurred. In one embodiment, this determination is made by the logic <b>170</b>.</p>
<p id="p-0042" num="0041">Turning now to <figref idref="DRAWINGS">FIG. 3</figref>, illustrated is a touch-down detector <b>300</b>. In the touch-down detector <b>300</b>, a signal, such as an amplified analog signal from an HDC detection sensor <b>301</b>, is conveyed to a peak detector <b>310</b>.</p>
<p id="p-0043" num="0042">The output of the peak detector <b>310</b> is then coupled to a S and H switch <b>322</b>. The S and H switch <b>322</b> is driven by a timer <b>320</b>. In one embodiment, the timer <b>320</b> increments in nanoseconds. The S and H switch <b>322</b> is coupled to a capacitor <b>324</b>. The capacitor <b>324</b> is coupled to ground.</p>
<p id="p-0044" num="0043">In the touch-down detector <b>300</b>, a signal is received. A peak value is generated by the peak detector <b>310</b>, is then sampled by the S and H switch <b>322</b>, and held at a capacitor <b>324</b>. Then, the sampled analog signal is converted in an analog-to-digital converter (&#x2018;ADC&#x2019;) <b>330</b>. The timer <b>320</b> also drives the ADC conversion, and the timer <b>320</b> is coupled to the ADC <b>330</b>. This digitized value representing an integrated individual time slice of an analog peak value is then conveyed to a digital comparator <b>340</b>. Coupled to the digital comparator <b>340</b> is an n bit register <b>350</b>. The digital comparator <b>340</b> conveys a higher of the two compared values to the n bit register <b>350</b>, which stores the final results.</p>
<p id="p-0045" num="0044">The n bit register <b>350</b> is also coupled to a logic <b>360</b>, which is also coupled to the timer <b>320</b>. The logic <b>360</b> can itself be used to determine whether a touch-down has actually occurred through comparison the final results to a peak threshold value, or whether the circuit <b>300</b> is instead encountering other noise.</p>
<p id="p-0046" num="0045">Generally, the touch-down detector <b>300</b> determines discrete time intervals of peak values, and then compares those values. Generally, in the peak detector <b>300</b>, a whole measured period is divided into time zones, and a peak value is digitized for each zone, each time zone controlled by the timer <b>320</b>, and a higher of a comparison of values is stored as a digital value in the n bit register <b>350</b>. When determining peak values, the digital value can be compared repeatedly during one of multiple rotations period, then the sum of the digital values as determined by the digital comparator <b>340</b> is the peak value of the whole period, which can then be used as a criteria for a touch-down through comparison to the peak-threshold value.</p>
<p id="p-0047" num="0046">Turning now to <figref idref="DRAWINGS">FIG. 4</figref>, illustrated is an example of a peak detector sequence. In this example, the n bit register <b>350</b> is an eight-bit memory register, and the ADC <b>330</b> is an eight-bit ADC.</p>
<p id="p-0048" num="0047">In this example, 12 milliseconds, a period for which is to have determined a peak value, is divided into certain time zones, such a sixteen time zones, wherein one time zone equals 750 &#x3bc;s. In this example, a peak value, previously 0000 0000(0d), after a first comparison, is then 0010 1011(43d). Then, within the digital comparator 0000 0000(d) from the eight-bit register <b>350</b> is compared to the 0010 1011(43d). Within the eight bit memory, the higher comparison value of these two then equals 0010 1011(43d), and this replaces 0000 0000(d). This is the value for the first time zone of peak values.</p>
<p id="p-0049" num="0048">Then, a second reading, that of 1001 1001(153d) is conveyed to the digital comparator <b>340</b>. The eight bit memory conveys the value 0010 1011(43d) to the digital comparator <b>340</b>. A comparison occurs, and the value 1001 1001(153d) is the larger, and a replacement of 1001 1001(153d) for 0010 1011(43d) occurs. The value 1001 1001(153d) is the value for the second time zone of peak values.</p>
<p id="p-0050" num="0049">Then, a third reading, that of 0100 1001(73d) is conveyed to the digital comparator <b>340</b>. The 8 bit memory conveys the value 1001 1001(153d) to the digital comparator <b>340</b>. This is compared within the digital comparator and the value 1001 1001(153d) is determined to be within the n bit register <b>350</b>, and there is no replacement. This can continue for a number of time zones over which the peak value is determined. In the present example, the number of compared values for the times zones is for the 2nd zone is the largest.</p>
<p id="p-0051" num="0050">In a further embodiment, within the logic, a final peak value, such as 1001 1001(153d), is employed to determine whether a touch-down has occurred.</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. 5</figref> includes illustrations of prior art noise from a hard drive contact sensor with no touch-down, and with a touch-down. As is illustrated, both the RMS and Peak values are larger when a touch-down occurs as compared to when a touch-down does not occur.</p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. 6</figref> illustrates an exemplary method <b>600</b> that can be employed with RMS peak detection, such as can be used with the RMS detector <b>100</b>. In a step <b>610</b>, an n bit memory, such as the digital register <b>160</b>, and a zone counter, such as can be contained within logic <b>170</b>, are cleared. In a step <b>620</b>, the S and H switch <b>132</b> is enabled, in other words a sample occurs, and the timer <b>130</b> is also enabled, in other words, the timer <b>130</b> is on and enables the S and H switch <b>132</b>. In a step <b>630</b>, when a period of timer <b>130</b> ends, the S and H switch <b>132</b> is turned off and a final value is obtained. Then, in a step <b>640</b>, an analog value corresponding to a charge of the capacitor <b>135</b> is digitized, and the value is added by the digital adder <b>150</b> to an n bit memory, such as the n bit register <b>160</b>. In a step <b>650</b>, the zone counter value is increased by a value of &#x2018;one.&#x2019;</p>
<p id="p-0054" num="0053">In a step <b>660</b>, it is determined if a zone counter equals a total zone number for a given RMS time interval. If not, the method <b>600</b> loops back to step <b>620</b>. If yes, then in a step <b>670</b>, the n bit memory, such as the n bit register <b>160</b>, is the final value of a whole zone. In other words, an integration of RMS values has occurred, and it can be determined in the logic <b>170</b> whether a touch-down has in fact occurred based upon a comparison added digitized value of the total sampled RMS values and the RMS threshold value.</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 7</figref> illustrates a method <b>700</b> for a peak detection of a touch-down, such as can be employed with the touch-down detector <b>300</b>. In a step <b>710</b>, a digital memory, such as the n bit register <b>350</b>, and a zone counter, such as may be located within the logic <b>360</b>, are cleared. In a step <b>720</b>, the S and H <b>322</b> and the timer <b>320</b> are started. In a step <b>730</b>, when a period of timer <b>320</b> ends, S and H <b>322</b> is transitioned into off. In a step <b>740</b>, an analog value of a charge of the hold capacitor, such as capacitor <b>324</b>, is digitized. In a step <b>750</b>, it is determined whether a digital value in the digital comparator <b>340</b> is greater than a digital memory value in a digital memory, such as the n bit register <b>350</b>. If the value is greater, then in a step <b>760</b>, the digital memory value is replaced by the digital value. Then, regardless of a result of the comparison of step <b>750</b>, the method <b>700</b> advances to a step <b>770</b>. In the step <b>770</b>, the zone counter value is increased by a value of &#x2018;one&#x2019; for a given touch-down peak detection. In a step <b>780</b>, it is determined if the zone counter is equal to the total zone number. If not, then the method <b>700</b> loops back to the step <b>720</b>. If the zone counter is indeed equal, then the digital memory in the n bit memory <b>350</b> becomes the final memory value for the final peak value. In a further embodiment, logic <b>370</b> makes a determination of whether a touch-down has actually occurred based upon the final peak value and another value, such as a stored value.</p>
<p id="p-0056" num="0055">Those skilled in the art to which this application relates will appreciate that other and further additions, deletions, substitutions and modifications may be made to the described embodiments.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08625214-20140107-M00001.NB">
<img id="EMI-M00001" he="8.47mm" wi="76.20mm" file="US08625214-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08625214-20140107-M00002.NB">
<img id="EMI-M00002" he="7.45mm" wi="76.20mm" file="US08625214-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An apparatus, comprising:
<claim-text>a root-mean-square (&#x2018;RMS&#x2019;) value generator;</claim-text>
<claim-text>an integrator coupled to the RMS value generator;</claim-text>
<claim-text>a sample and hold switch coupled to an output of the integrator;</claim-text>
<claim-text>a capacitor coupled between the sample and hold switch and a ground;</claim-text>
<claim-text>an input of an analog to digital convertor (&#x2018;ADC&#x2019;) coupled to the capacitor;</claim-text>
<claim-text>an adder coupled to an output of the ADC;</claim-text>
<claim-text>a register, wherein an output of the register is coupled to an input of the adder; and wherein an output of the adder is coupled to an input of the bit register;</claim-text>
<claim-text>a logic coupled to the register for comparing an output of the register to an RMS threshold value for determining whether a touch-down has occurred; and</claim-text>
<claim-text>wherein the logic employs a first eight of twelve bits in the bit register to determine whether the touch-down has occurred.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a timer coupled to: the sample and hold switch, and the ADC.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the register is a twelve bit register.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the determining of whether the touch-down occurs over a plurality of rotations of a hard drive.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein a Head-Disk Contact (&#x2018;HDC&#x2019;) detection sensor is coupled to the RMS value generator.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a timer coupled to:
<claim-text>the sample and hold switch,</claim-text>
<claim-text>the ADC; and</claim-text>
<claim-text>the logic;</claim-text>
</claim-text>
<claim-text>wherein the RMS value generator further comprises a rectifier;</claim-text>
<claim-text>wherein the adder is a digital adder;</claim-text>
<claim-text>wherein the register is a twelve bit register;</claim-text>
<claim-text>wherein a Head-Disk Contact detection sensor is coupled to the RMS value generator;</claim-text>
<claim-text>wherein the determining of whether the touch-down has occurred occurs over a plurality of rotations of a hard drive; and</claim-text>
<claim-text>wherein the logic compares a first eight of twelve bits in the bit register to an RMS threshold value to determine whether the touch-down has occurred.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. An apparatus, comprising:
<claim-text>a peak value generator, wherein the peak value generator further comprises a rectifier,</claim-text>
<claim-text>a sample and hold switch coupled to an output of the peak value generator;</claim-text>
<claim-text>a capacitor coupled between the sample and hold switch and a ground;</claim-text>
<claim-text>an input of an analog digital convertor (&#x2018;ADC&#x2019;) coupled to the capacitor;</claim-text>
<claim-text>a comparator coupled to an output of the ADC;</claim-text>
<claim-text>a register, wherein an output of the register is coupled to the comparator; and wherein an output of the comparator is coupled to the register; and</claim-text>
<claim-text>a logic coupled to the register for comparing an output of the register to a peak threshold value for determining whether a touch-down has occurred, and</claim-text>
<claim-text>a timer coupled to:
<claim-text>the sample and hold switch,</claim-text>
<claim-text>the ADC; and</claim-text>
<claim-text>the logic;</claim-text>
</claim-text>
<claim-text>wherein the touch-down is determined over a plurality of rotations of a hard drive,</claim-text>
<claim-text>wherein a Head-Disk contact (&#x2018;HDC&#x2019;) detection sensor is coupled to the peak value generator including the rectifier; and</claim-text>
<claim-text>wherein an HDC signal is received by the peak detector from the HDC sensor; and</claim-text>
<claim-text>wherein the logic compares bits in the bit register to a peak threshold value to determine whether the touch-down has occurred, and</claim-text>
<claim-text>wherein the logic employs a first eight of twelve bits in the bit register to determine whether the touch-down has occurred.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein a head disk interface Head-Disk Contact detection sensor is coupled to the peak value generator.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The apparatus of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein a Head-Disk Contact detection signal is received by the peak detector from the Head-Disk Contact detection sensor.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the peak detector includes an RMS detector.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The apparatus of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further including an integrator coupled between the peak detector and the logic.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. An apparatus, comprising:
<claim-text>a Head-Disk Contact (&#x2018;HDC&#x2019;) detection sensor;</claim-text>
<claim-text>a root-mean-square (&#x2018;RMS&#x2019;) value generator coupled to the HDC detection sensor;</claim-text>
<claim-text>an integrator coupled to the RMS value generator;</claim-text>
<claim-text>a sample and hold switch coupled to an output of the integrator;</claim-text>
<claim-text>a capacitor coupled between the sample and hold switch and a ground;</claim-text>
<claim-text>an input of an analog digital capacitor (&#x2018;ADC&#x2019;) coupled to the capacitor;</claim-text>
<claim-text>an adder coupled to an output of the ADC;</claim-text>
<claim-text>a register, wherein an output of the register is coupled to an input of the adder; and wherein an output of the adder is coupled to an input of the register;</claim-text>
<claim-text>a logic coupled to the register for comparing an output of the register to a RMS threshold value for determining whether a touch-down has occurred; and</claim-text>
<claim-text>wherein an output value of the register is derived from a plurality of RMS value samples,</claim-text>
<claim-text>a timer coupled to:
<claim-text>the sample and hold switch,</claim-text>
<claim-text>the ADC; and</claim-text>
<claim-text>the logic;</claim-text>
</claim-text>
<claim-text>wherein the RMS value generator further comprises a rectifier;</claim-text>
<claim-text>wherein the adder is a digital adder;</claim-text>
<claim-text>wherein the register is a twelve bit register;</claim-text>
<claim-text>wherein a Head-Disk Contact detection sensor is coupled to the RMS value generator;</claim-text>
<claim-text>wherein the determining of whether the touch-down has occurred occurs over a plurality of rotations of a hard drive;</claim-text>
<claim-text>wherein the plurality of RMS value samples are added together by the digital adder and stored in the bit register; and</claim-text>
<claim-text>wherein the logic compares a first eight of twelve bits in the bit register to an RMS threshold value to determine whether the touch-down has occurred.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The apparatus of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the plurality of RMS value samples are added together and compared to the RMS threshold value. </claim-text>
</claim>
</claims>
</us-patent-grant>
