<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624531-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624531</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13170214</doc-number>
<date>20110628</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>329</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>02</class>
<subclass>P</subclass>
<main-group>21</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>31840002</main-classification>
<further-classification>318710</further-classification>
<further-classification>318567</further-classification>
</classification-national>
<invention-title id="d2e53">Method and system for evaluating electrical connections between a motor controller and motor</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4023083</doc-number>
<kind>A</kind>
<name>Plunkett</name>
<date>19770500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>4814677</doc-number>
<kind>A</kind>
<name>Plunkett</name>
<date>19890300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5428283</doc-number>
<kind>A</kind>
<name>Kalman et al.</name>
<date>19950600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5486748</doc-number>
<kind>A</kind>
<name>Konrad et al.</name>
<date>19960100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5914582</doc-number>
<kind>A</kind>
<name>Takamoto et al.</name>
<date>19990600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6275000</doc-number>
<kind>B1</kind>
<name>Nishimura</name>
<date>20010800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>7045988</doc-number>
<kind>B2</kind>
<name>Ha et al.</name>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>7157878</doc-number>
<kind>B2</kind>
<name>Collier-Hallman</name>
<date>20070100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>7733044</doc-number>
<kind>B2</kind>
<name>Nakamura et al.</name>
<date>20100600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2006/0247829</doc-number>
<kind>A1</kind>
<name>Sato</name>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2010/0188033</doc-number>
<kind>A1</kind>
<name>Daboussi et al.</name>
<date>20100700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2012/0319629</doc-number>
<kind>A1</kind>
<name>Takaki et al.</name>
<date>20121200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>31840002</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00013">
<othercit>US 7,595,604, 09/2009, Tomigashi (withdrawn)</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>Elbuluk, Malik E. et al. Speed Sensorless Induction Motor Drives for Electrical Actuators: Schemes, Trends and Tradeoffs. NASA Technical Memorandum 107466. Retrieved from the Internet:&#x3c;URL:http://www.esat.kuleuven.be/electa/publications/fulltexts/pub<sub>&#x2014;</sub>479.pdf&#x3e;, Jul. 1997.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00015">
<othercit>Van Haute, S. et al. Design and Control of a Permanent Magnet Synchronous Motor Drive for a Hybrid Electric Vehicle. Retrieved from the Internet:&#x3c;http://www.esat.kuleuven.be/electa/publications/fulltexts/pub<sub>&#x2014;</sub>444.pdf&#x3e;, Sep. 1997.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>18</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>31840002</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318719</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318567</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318773</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318783</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318787</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318488</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318490</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>4</number-of-drawing-sheets>
<number-of-figures>4</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61446119</doc-number>
<date>20110224</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120217921</doc-number>
<kind>A1</kind>
<date>20120830</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Wu</last-name>
<first-name>Long</first-name>
<address>
<city>Fargo</city>
<state>ND</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Shaw</last-name>
<first-name>Robert</first-name>
<address>
<city>Moorhead</city>
<state>MN</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Gilman</last-name>
<first-name>Alan K.</first-name>
<address>
<city>West Fargo</city>
<state>ND</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Wu</last-name>
<first-name>Long</first-name>
<address>
<city>Fargo</city>
<state>ND</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Shaw</last-name>
<first-name>Robert</first-name>
<address>
<city>Moorhead</city>
<state>MN</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Gilman</last-name>
<first-name>Alan K.</first-name>
<address>
<city>West Fargo</city>
<state>ND</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Deere &#x26; Company</orgname>
<role>02</role>
<address>
<city>Moline</city>
<state>IL</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Masih</last-name>
<first-name>Karen</first-name>
<department>2837</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A pair of direct d-q-axis voltage commands is associated with a monotonically varying test sequence of test rotor angular positions to determine a correct rotational direction of a rotor of the motor in response to application of the pair of direct d-q-axis voltage commands to the motor. The rotor of the motor rotates (e.g., self spins in a diagnostic mode) in response to the applied direct d-q-axis voltage commands and applied monotonically varying test sequence of test rotor angular positions. The primary positioning module or data processor determines that conductor connections between the inverter (e.g., motor controller) and the motor are correct if the calculated shaft speed sign is positive with respect to an applied monotonically varying test sequence of rotor angular positions that monotonically increases.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="243.76mm" wi="171.62mm" file="US08624531-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="242.74mm" wi="170.52mm" file="US08624531-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="246.89mm" wi="167.81mm" file="US08624531-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="178.99mm" wi="165.78mm" file="US08624531-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="101.35mm" wi="163.24mm" file="US08624531-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<p id="p-0002" num="0001">This document claims priority based on U.S. provisional application Ser. No. 61/446,119, filed on 24 Feb. 2011 and entitled METHOD AND SYSTEM FOR EVALUATING ELECTRICAL CONNECTIONS BETWEEN AN MOTOR CONTROLLER AND MOTOR, under 35 U.S.C. 119(e).</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">This invention relates to a method and system for evaluating electrical connections (e.g., or testing for the proper sequence or interconnection of wiring for motor phase leads) between a motor controller and motor.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0004" num="0003">An electric motor may comprise an interior permanent magnet (IPM) motor or an IPM synchronous motor, or a multi-phase alternating current motor. During assembly, repair or field diagnosis, it can be difficult to determine efficiently and quickly whether the electrical connections between a motor or multi-phase motor and the motor controller (e.g., inverter) are correct. In the prior art, the phase sequence connection is sometimes checked by first rotating the motor (e.g., with terminals designed V<sub>a</sub>, V<sub>b </sub>and V<sub>c</sub>), with a test motor and, second, by observing the back electromotive force (back-EMF) generated between pairs of the electrical terminals (e.g., V<sub>ab </sub>and V<sub>cb</sub>) via an oscilloscope, power analyzer or other applicable instrument. Third, while the test motor rotates the motor in the forward direction, the back-EMF generated between terminals V<sub>cb </sub>shall lead the back-EMF generated between terminals V<sub>ab </sub>by about a 60 degree phase shift. Fourth, while the test motor rotates the motor in the forward direction, the back-EMF generated between terminals V<sub>cb </sub>shall lag the back-EMF generated between terminals V<sub>ab </sub>by about a 60 degree phase shift. Fifth, the evaluator determines that the motor is properly connected to the motor controller if the above phase shifts are observed. Thus, there is a need for a simplified diagnostic test procedure, without the use of an oscilloscope or test motor, which can be incorporated into the motor controller or inverter to evaluate the correctness of electrical connections between the motor controller and motor.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0005" num="0004">In accordance with one embodiment, a method and system is presented for evaluating electrical connections between a motor controller and motor. For example, a method and system is presented for determining whether a multi-phase motor is properly connected to an inverter with respect to a phase leads sequence. In a diagnostic mode, a data processor, a diagnostic computer, or d-q axis current generation manager establishes or provides a monotonically varying test sequence of test rotor angular positions associated with application of corresponding pairs of direct d-q-axis voltage commands to the motor. Each of the pairs of direct d-q axis voltage commands comprises a direct-axis command and a quadrature-axis command. The data processor or pulse width modulation generation module converts or transforms the direct d-q-axis voltage commands into three phase voltages for each corresponding input phase terminal of the multi-phase motor. The pulse width modulation generation module or the inverter switching circuit processes the direct d-q-axis voltage commands, or derivative multi-phase control voltages, as modulated signals for application to each corresponding input phase terminal. The rotor of the motor rotates (e.g., self spins in a diagnostic mode) in response to the application of the direct d-q-axis voltage commands associated with the corresponding established monotonically varying test sequence of test rotor angular positions. The primary positioning module, the data processor, or the diagnostic computer determines that conductor connections between the inverter and the motor are correct if the calculated shaft speed sign is positive with respect to an applied monotonically varying test sequence of rotor angular positions that monotonically increases, or if a calculated shaft speed sign is negative in response to the application of the direct d-q-axis voltage commands associated with the monotonically varying test sequence of rotor angular positions that monotonically decreases.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of one embodiment of a system for evaluating electrical connections between a motor controller and motor.</p>
<p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram of an electronic data processing system consistent with <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 3</figref> is a flow chart of a first example of a method for evaluating electrical connections between a motor controller and motor.</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 4</figref> is a flow chart of a second example of a method for evaluating electrical connections between a motor controller and motor.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
<p id="p-0010" num="0009">In accordance with one embodiment, <figref idref="DRAWINGS">FIG. 1</figref> discloses system for controlling a motor <b>117</b> (e.g., an interior permanent magnet (IPM) motor) or another alternating current machine. In one embodiment, the system, aside from the motor <b>117</b>, may be referred to as an inverter or a motor controller.</p>
<p id="p-0011" num="0010">The system comprises electronic modules, software modules, or both. In one embodiment, the motor controller comprises an electronic data processing system <b>120</b> to support storing, processing or execution of software instructions of one or more software modules. The electronic data processing system <b>120</b> is indicated by the dashed lines in <figref idref="DRAWINGS">FIG. 1</figref> and is shown in greater detail in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0012" num="0011">The data processing system <b>120</b> is coupled to an inverter circuit <b>188</b>. The inverter circuit <b>188</b> comprises a semiconductor drive circuit that drives or controls switching semiconductors (e.g., insulated gate bipolar transistors (IGBT) or other power transistors) to output control signals for the motor <b>117</b>. In turn, the inverter circuit <b>188</b> is coupled to the motor <b>117</b>. The motor <b>117</b> is associated with a sensor <b>115</b> (e.g., a position sensor, a resolver or encoder position sensor) that is associated with the motor shaft <b>126</b> or the rotor. The sensor <b>115</b> and the motor <b>117</b> are coupled to the data processing system <b>120</b> to provide feedback data (e.g., current feedback data, such as i<sub>a</sub>, i<sub>b</sub>, i<sub>c</sub>), raw position signals, among other possible feedback data or signals, for example. Other possible feedback data includes, but is not limited to, winding temperature readings, semiconductor temperature readings of the inverter circuit <b>188</b>, three phase voltage data, or other thermal or performance information for the motor <b>117</b>.</p>
<p id="p-0013" num="0012">In one embodiment, the torque command generation module <b>105</b> is coupled to a d-q axis current generation manager <b>109</b> (e.g., d-q axis current generation look-up tables). D-q axis current refers to the direct axis current and the quadrature axis current as applicable in the context of vector-controlled alternating current machines, such as the motor <b>117</b>. The output of the d-q axis current generation manager <b>109</b> and the output of a current adjustment module <b>107</b> (e.g., d-q axis current adjustment module <b>107</b>) are fed to a summer <b>119</b>. In turn, one or more outputs (e.g., direct axis current data (i<sub>d</sub>*) and quadrature axis current data (i<sub>q</sub>*)) of the summer <b>119</b> are provided or coupled to a current regulation controller <b>111</b>.</p>
<p id="p-0014" num="0013">The current regulation controller <b>111</b> is capable of communicating with the pulse-width modulation (PWM) generation module <b>112</b> (e.g., space vector PWM generation module). The current regulation controller <b>111</b> receives respective d-q axis current commands (e.g., i<sub>d</sub>* and i<sub>q</sub>*) and actual d-q axis currents (e.g., i<sub>d </sub>and i<sub>q</sub>) and outputs corresponding d-q axis voltage commands (e.g., v<sub>d</sub>* and v<sub>q</sub>* commands) for input to the PWM generation module <b>112</b>.</p>
<p id="p-0015" num="0014">In one embodiment, the PWM generation module <b>112</b> converts the direct axis voltage and quadrature axis voltage data from two phase data representations into three phase representations (e.g., three phase voltage representations, such as v<sub>a</sub>*, v<sub>b</sub>* and v<sub>c</sub>*) for control of the motor <b>117</b>, for example. Outputs of the PWM generation module <b>112</b> are coupled to the inverter <b>188</b>.</p>
<p id="p-0016" num="0015">The inverter circuit <b>188</b> comprises power electronics, such as switching semiconductors to generate, modify and control pulse-width modulated signals or other alternating current signals (e.g., pulse, square wave, sinusoidal, or other waveforms) applied to the motor <b>117</b>. The PWM generation module <b>112</b> provides inputs to a driver stage within the inverter circuit <b>188</b>. An output stage of the inverter circuit <b>188</b> provides a modulated signal, a pulse-width modulated signal, a pulse-width modulated voltage waveform, a voltage signal or other alternating current signal for control of the motor. In one embodiment, the inverter <b>188</b> is powered by a direct current (DC) voltage bus.</p>
<p id="p-0017" num="0016">The motor <b>117</b> is associated with a sensor <b>115</b> (e.g., a resolver, encoder, speed sensor, or a position sensor or sensors) that estimates at least one of an angular position of the motor shaft <b>126</b>, a speed or velocity of the motor shaft <b>126</b>, and a direction of rotation of the motor shaft <b>126</b>. The sensor <b>115</b> may be mounted on or integral with the motor shaft <b>126</b>. The output of the sensor <b>115</b> is capable of communication with the primary processing module <b>114</b> (e.g., position and speed processing module). In one embodiment, the sensor <b>115</b> may be coupled to an analog-to-digital converter (not shown) that converts analog position data or velocity data to digital position or velocity data, respectively. In other embodiments, the sensor <b>115</b> (e.g., digital position encoder) may provide a digital data output of position data or velocity data for the motor shaft <b>126</b> or rotor.</p>
<p id="p-0018" num="0017">A first output (e.g., position data and speed data for the motor <b>117</b>) of the primary processing module <b>114</b> is communicated to the phase converter <b>113</b> (e.g., three-phase to two-phase current Park transformation module) that converts respective three-phase digital representations of measured current into corresponding two-phase digital representations of measured current. A second output (e.g., speed data) of the primary processing module <b>114</b> is communicated to the calculation module <b>110</b> (e.g., adjusted voltage over speed ratio module).</p>
<p id="p-0019" num="0018">An input of a sensing circuit <b>124</b> is coupled to terminals of the motor <b>117</b> for sensing at least the measured three-phase currents and a voltage level of the direct current (DC) bus (e.g., high voltage DC bus which may provide DC power to the inverter circuit <b>188</b>). An output of the sensing circuit <b>124</b> is coupled to an analog-to-digital converter <b>122</b> for digitizing the output of the sensing circuit <b>124</b>. In turn, the digital output of the analog-to-digital converter <b>122</b> is coupled to the secondary processing module <b>116</b> (e.g., Direct current (DC) bus and three phase current processing module). For example, the sensing circuit <b>124</b> is associated with the motor <b>117</b> for measuring three phase currents (e.g., current applied to the windings of the motor <b>117</b>, back EMF induced into the windings, or both).</p>
<p id="p-0020" num="0019">Certain outputs of primary processing module <b>114</b> and the secondary processing module <b>116</b> feed the phase converter <b>113</b>. For example, the phase converter <b>113</b> may apply a Park transformation or other conversion equations (e.g., certain conversion equations that are suitable are known to those of ordinary skill in the art) to convert the measured three-phase representations of current into two-phase representations of current based on the digital three-phase current data from the secondary processing module <b>116</b> and position data from the sensor <b>115</b>. The output of the phase converter <b>113</b> module is coupled to the current regulation controller <b>111</b>.</p>
<p id="p-0021" num="0020">Other outputs of the primary processing module <b>114</b> and the secondary processing module <b>116</b> may be coupled to inputs of the calculation module <b>110</b> (e.g., adjusted voltage over-speed ratio calculation module). For example, the primary processing module <b>114</b> may provide speed data (e.g., motor shaft <b>126</b> revolutions per minute), whereas the secondary processing module <b>116</b> may provide a measured level of direct current voltage (e.g., on the direct current (DC) bus of a vehicle). The direct current voltage level on the DC bus that supplies the inverter circuit <b>188</b> with electrical energy may fluctuate or vary because of various factors, including, but not limited to, ambient temperature, battery condition, battery charge state, battery resistance or reactance, fuel cell state (if applicable), motor load conditions, respective motor torque and corresponding operational speed, and vehicle electrical loads (e.g., electrically driven air-conditioning compressor). The calculation module <b>110</b> is connected as an intermediary between the secondary processing module <b>116</b> and the dq-axis current generation manager <b>109</b>. The output of the calculation module <b>110</b> can adjust or impact current commands generated by the d-q axis current generation manager <b>109</b> to compensate for fluctuation or variation in direct current bus voltage, among other things.</p>
<p id="p-0022" num="0021">The rotor magnet temperature estimation module <b>104</b>, the current shaping module <b>106</b>, and the terminal voltage feedback module <b>108</b> are coupled to or are capable of communicating with the dq-axis current adjustment module <b>107</b>. In turn, the d-q axis current module <b>107</b> may communicate with the dq-axis current generation manager or the summer <b>119</b>.</p>
<p id="p-0023" num="0022">The rotor magnet temperature module <b>104</b> estimates or determines the temperature of the rotor permanent magnet or magnets. In one embodiment, the rotor magnet temperature estimation module <b>104</b> may estimate the temperature of the rotor magnets from internal control variables calculation, or from one or more sensors located on the stator, in thermal communication with the stator, or secured to the housing of the motor <b>117</b>.</p>
<p id="p-0024" num="0023">In another alternative embodiment, the rotor magnet temperature estimation module <b>104</b> may be replaced with a temperature detector (e.g., a thermistor or infrared thermal sensor coupled to a wireless transmitter) mounted on the rotor or the magnet, where the detector provides a signal (e.g., wireless signal) indicative of the temperature of the magnet or magnets.</p>
<p id="p-0025" num="0024">In one embodiment, the method or system may operate in the following manner. The torque command generation module <b>105</b> receives an input control data message, such as a speed control data message, a voltage control data message, or a torque control data message, over a vehicle data bus <b>118</b>. The torque command generation module <b>105</b> converts the received input control message into torque control command data <b>316</b>.</p>
<p id="p-0026" num="0025">The d-q axis current generation manager <b>109</b> selects or determines the direct axis current command data and the quadrature axis current command data associated with respective torque control command data and respective detected motor shaft <b>126</b> speed data. For example, the d-q axis current generation manager <b>109</b> selects or determines the direct axis current command, the quadrature axis current command by accessing one or more of the following: (1) a look-up table, database or other data structure that relates respective torque commands to corresponding direct and quadrature axes currents, (2) a set of quadratic equations or linear equations that relate respective torque commands to corresponding direct and quadrature axes currents, or (3) a set of rules (e.g., if-then rules) that relates respective torque commands to corresponding direct and quadrature axes currents. The sensor <b>115</b> on the motor <b>117</b> facilitates provision of the detected speed data for the motor shaft <b>126</b>, where the primary processing module <b>114</b> may convert position data provided by the sensor <b>115</b> into speed data.</p>
<p id="p-0027" num="0026">The current adjustment module <b>107</b> (e.g., d-q axis current adjustment module) provides current adjustment data to adjust the direct axis current command data and the quadrature axis current command data based on input data from the rotor magnet temperature estimation module <b>104</b>, the current shaping module <b>106</b>, and the terminal voltage feedback module <b>108</b>.</p>
<p id="p-0028" num="0027">The current shaping module <b>106</b> may determine a correction or preliminary adjustment of the quadrature axis (q-axis) current command and the direct axis (d-axis) current command based on one or more of the following factors: torque load on the motor <b>117</b> and speed of the motor <b>117</b>, for example. The rotor magnet temperature estimation module <b>104</b> may generate a secondary adjustment of the q-axis current command and the d-axis current command based on an estimated change in rotor temperature, for example. The terminal voltage feedback module <b>108</b> may provide a third adjustment to d-axis and q-axis current based on control voltage command versus voltage limit. The current adjustment module <b>107</b> may provide an aggregate current adjustment that considers one or more of the following: a preliminary adjustment, a secondary adjustment, and a third adjustment.</p>
<p id="p-0029" num="0028">In one embodiment, the motor <b>117</b> may comprise an interior permanent magnet machine (IPM) machine or an IPM synchronous machine (IPMSM). An IPMSM has many favorable advantages compares with conventional induction machines or surface mounted PM machines (SMPM) such as high efficiency, high power density, wide constant power operating region, maintenance free, for instance.</p>
<p id="p-0030" num="0029">The sensor <b>115</b> (e.g., shaft or rotor speed detector) may comprise one or more of the following: a direct current motor, an optical encoder, a magnetic field sensor (e.g., Hall Effect sensor), magneto-resistive sensor, and a resolver (e.g., a brushless resolver). In one configuration, the sensor <b>115</b> comprises a position sensor, where position data and associated time data are processed to determine speed or velocity data for the motor shaft <b>126</b>. In another configuration, the sensor <b>115</b> comprises a speed sensor, or the combination of a speed sensor and an integrator to determine the position of the motor shaft.</p>
<p id="p-0031" num="0030">In yet another configuration, the sensor <b>115</b> comprises an auxiliary, compact direct current generator that is coupled mechanically to the motor shaft <b>126</b> of the motor <b>117</b> to determine speed of the motor shaft <b>126</b>, where the direct current generator produces an output voltage proportional to the rotational speed of the motor shaft <b>126</b>. In still another configuration, the sensor <b>115</b> comprises an optical encoder with an optical source that transmits a signal toward a rotating object coupled to the shaft <b>126</b> and receives a reflected or diffracted signal at an optical detector, where the frequency of received signal pulses (e.g., square waves) may be proportional to a speed of the motor shaft <b>126</b>. In an additional configuration, the sensor <b>115</b> comprises a resolver with a first winding and a second winding, where the first winding is fed with an alternating current, where the voltage induced in the second winding varies with the frequency of rotation of the rotor.</p>
<p id="p-0032" num="0031">In <figref idref="DRAWINGS">FIG. 2</figref>, the electronic data processing system <b>120</b> comprises an electronic data processor <b>264</b>, a data bus <b>262</b>, a data storage device <b>260</b>, and one or more data ports (<b>268</b>, <b>270</b>, <b>272</b>, <b>274</b>, <b>276</b> and <b>280</b>). The data processor <b>264</b>, the data storage device <b>260</b> and one or more data ports are coupled to the data bus <b>262</b> to support communications of data between or among the data processor <b>264</b>, the data storage device <b>260</b> and one or more data ports.</p>
<p id="p-0033" num="0032">In one embodiment, the data processor <b>264</b> may comprise one or more of the following electronic components: an electronic data processor, a microprocessor, a microcontroller, a programmable logic array, a field programmable gate array (FPGA), a logic circuit, an arithmetic logic unit, an application specific integrated circuit, a digital signal processor (DSP), a proportional-integral-derivative (PID) controller, or another data processing device. The above electronic components may be interconnected via one or more data buses, parallel data buses, serial data buses, or any combination of parallel and serial data buses, for example.</p>
<p id="p-0034" num="0033">The data storage device <b>260</b> may comprise any magnetic, electronic, or optical device for storing data. For example, the data storage device <b>260</b> may comprise an electronic data storage device, an electronic memory, non-volatile electronic random access memory, one or more electronic data registers, data latches, a magnetic disc drive, a hard disc drive, an optical disc drive, or the like.</p>
<p id="p-0035" num="0034">As shown in <figref idref="DRAWINGS">FIG. 2</figref>, the data ports comprise a first data port <b>268</b>, a second data port <b>270</b>, a third data port <b>272</b>, a fourth data port <b>274</b>, a fifth data port <b>276</b>, and a sixth data port <b>280</b>; although any suitable number of data ports may be used. Each data port may comprise a transceiver and buffer memory, for example. In one embodiment, each data port may comprise any serial or parallel input/output port.</p>
<p id="p-0036" num="0035">In one embodiment as illustrated in <figref idref="DRAWINGS">FIG. 2</figref>, the first data port <b>268</b> is coupled to the vehicle data bus <b>118</b>. In turn, the vehicle data bus <b>118</b> is coupled to the controller <b>266</b>. In one configuration, the second data port <b>270</b> may be coupled to the inverter circuit <b>188</b>; the third data port <b>272</b> may be coupled to the sensor <b>115</b>; the fourth data port <b>274</b> may be coupled to the analog-to-digital converter <b>122</b>; the fifth data port <b>276</b> may be coupled to the terminal voltage feedback module <b>108</b>; and the sixth data port <b>280</b> is coupled to the diagnostic computer <b>282</b>. The diagnostic computer <b>282</b> comprises diagnostic software <b>284</b> that is executable by a computer data processor. The diagnostic computer <b>282</b> is coupled to a user interface <b>286</b>. The user interface <b>286</b> comprises one or more of the following: a keyboard, a display, a pointing device (e.g., electronic mouse), a switch, a keypad, or another device that supports entering, inputting, manipulating, or outputting data into, within or from the computer <b>282</b>. The analog-to-digital converter <b>122</b> is coupled to the sensing circuit <b>124</b>.</p>
<p id="p-0037" num="0036">In one embodiment of the data processing system <b>120</b>, the torque command generation module <b>105</b> is associated with or supported by the first data port <b>268</b> of the electronic data processing system <b>120</b>. The first data port <b>268</b> may be coupled to a vehicle data bus <b>118</b>, such as a controller area network (CAN) data bus. The vehicle data bus <b>118</b> may provide data bus messages with torque commands to the torque command generation module <b>105</b> via the first data port <b>268</b>. The operator of a vehicle may generate the torque commands via a user interface, such as a throttle, a pedal, a controller <b>266</b>, or other control device.</p>
<p id="p-0038" num="0037">In certain embodiments, the sensor <b>115</b> and the primary processing module <b>114</b> may be associated with or supported by a third data port <b>272</b> of the data processing system <b>120</b>.</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 3</figref> discloses a method for evaluating electrical connections between a motor (e.g., <b>117</b>) controller and motor (e.g., <b>117</b>), and more particularly, a method for determining whether a multi-phase motor (e.g., <b>117</b>) is properly connected to an inverter. The method of <figref idref="DRAWINGS">FIG. 3</figref> begins in step S<b>300</b>.</p>
<p id="p-0040" num="0039">In step S<b>300</b>, a data processor <b>264</b>, pulse width modulation generation module <b>112</b>, or diagnostic computer <b>282</b> establishes a monotonically varying test sequence of test rotor angular positions associated with the application of corresponding pairs of direct d-q axis (or d-q axes) voltage commands to the motor (e.g., <b>117</b>). Each of the pairs of direct d-q axis voltage commands comprises a direct-axis voltage command and a quadrature axis voltage command. A monotonically varying test sequence may comprise a monotonically increasing test sequence of test rotor angular positions or a monotonically decreasing test sequence of test rotor angular positions. Monotonically increasing means one or more of the following: continuously increasing, increasing without material interruption, increasing in discrete steps, increasing with pauses or periodic pauses in the increase, or increasing without any material decreases. Monotonically decreasing means one or more of the following: continuously decreasing, decreasing without material interruption, decreasing in discrete steps, decreasing with pauses or periodic pauses in the increase, or decreasing without any material increases.</p>
<p id="p-0041" num="0040">Step S<b>300</b> may be executed in accordance with various procedures that are applied alternately or cumulatively. Under a first procedure for executing step S<b>300</b>, a data processor <b>264</b>, pulse width modulation generation module <b>112</b>, or diagnostic computer <b>282</b> establishes or provides respective pairs of direct dq-axis voltage commands corresponding to a monotonically varying test sequence of test rotor angular positions for a diagnostic mode or test mode of the inverter or data processing system <b>120</b>. In the diagnostic mode, as opposed to the operational mode of the inverter or data processing system <b>120</b>, the torque command generation module <b>112</b> may be disabled (or deactivated) such that the torque command generation module <b>112</b> does not receive or act upon torque commands from the vehicle data bus <b>118</b> while the data processing system is in the diagnostics mode. Similarly, in the diagnostic mode, as opposed to the operational mode of the inverter or data processing system <b>120</b>, the current regulation controller <b>111</b> or the current regulator may be disabled (or deactivated) such that the current regulation controller <b>111</b> is bypassed or does not receive or act upon torque commands from the vehicle data bus <b>118</b> while the data processing system <b>120</b> is in the diagnostics mode.</p>
<p id="p-0042" num="0041">Under a second procedure for executing step S<b>300</b>, the current regulation controller <b>111</b> or the current regulator may be bypassed in the diagnostics mode such that direct d-q axis voltage commands consistent with the monotonically varying test sequence of test rotor angular positions are generated directly in or at the pulse width modulation generation module <b>112</b>. Further, in certain embodiments, the pulse width modulation generation module <b>112</b> may generate one or more sets or sequences of d-q axis voltage commands or corresponding three phase voltages for test purposes in the diagnostic mode.</p>
<p id="p-0043" num="0042">Under a third procedure, a diagnostic computer <b>282</b> activates, provides, or establishes the direct d-q-axis voltage commands consistent with the monotonically varying test sequence of test rotor angular positions to bypass a current regulation controller <b>111</b> or current regulator in a diagnostic mode or a test mode. The diagnostic computer <b>282</b> operates diagnostic software <b>284</b> stored therein and executable thereby.</p>
<p id="p-0044" num="0043">Under a fourth procedure, in a diagnostic mode or test mode, the direct d-q-axis voltage commands provided by the diagnostic computer <b>282</b> or the pulse width generation modulation generation module <b>112</b> are active, as opposed to standard d-q-axis voltage commands ordinarily provided by the current regulation controller <b>111</b> during the operational mode. The current regulation controller <b>111</b> or current regulator provides a direct-axis current command and quadrature-axis current command in the operational mode.</p>
<p id="p-0045" num="0044">Under a fifth example, the direct d-q-axis voltage commands associated with monotonically varying rotor angular position change in every pulse width modulation (PWM) cycle in accordance the following equation:</p>
<p id="p-0046" num="0045">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>&#x394;&#x3b8;</mi>
    <mo>=</mo>
    <mfrac>
      <mrow>
        <mi>initial_startup</mi>
        <mo>&#x2062;</mo>
        <mi>_frequency</mi>
        <mo>*</mo>
        <mn>360</mn>
        <mo>&#x2062;</mo>
        <mi>&#xb0;</mi>
      </mrow>
      <mrow>
        <mi>PWM_switching</mi>
        <mo>&#x2062;</mo>
        <mi>_frequency</mi>
      </mrow>
    </mfrac>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
</maths>
<br/>
where &#x394;&#x3b8; is a change in the rotor position increment or decrement from an earlier pulse-width modulation cycle to a later pulse-width modulation cycle, initial_startup_frequency is within a range of approximately 1 Hz to approximately 10 Hz, and the PWM_switching_frequency is within a range of approximately 1 kHz (kilohertz) to approximately 10 kHz.
</p>
<p id="p-0047" num="0046">Under a sixth procedure, the test sequence of test rotor angular positions may comprise any aligned positions within the following group of aligned positions: approximately 0 degrees, approximately 60 degrees, approximately 120 degrees, approximately 180 degrees, approximately 240 degrees, approximately 300 degrees and approximately 360 degrees, where approximately means plus or minus five degrees. Each of the aligned positions is associated with a different corresponding phase winding current or activation of different combinations or permutations of semiconductors (e.g., power insulated gate bipolar transistors) within the inverter switching circuit <b>188</b>, for example.</p>
<p id="p-0048" num="0047">In step S<b>302</b>, the data processor <b>264</b> or the pulse width modulation generation module <b>112</b> converts and transforms the direct d-q-axis voltage commands into multi-phase voltages (e.g., three phase voltages) for each corresponding input phase terminal of the multi-phase motor (e.g., <b>117</b>). Further, the direct d-q axis voltage commands are processed as modulated signals (e.g., pulse width modulated signals, square wave signals, or other waveforms) for application to each corresponding input terminal.</p>
<p id="p-0049" num="0048">In step S<b>304</b>, the data processor <b>264</b>, the pulse width modulation generation module <b>112</b>, or the inverter switching circuit <b>188</b> rotates the rotor of the motor (e.g., <b>117</b>) in response to the application of direct d-q-axis voltage commands (after conversion or transformation to respective three phase commands) associated with the corresponding established monotonically varying test sequence of test rotor angular positions. For example, in a field initial position offset calibration procedure, the data processor <b>264</b>, the pulse width modulation generation module <b>112</b>, or the diagnostic computer <b>282</b> provides or cooperates to provide direct d-q-axis voltage commands and associated monotonically varying test positions for application to respective phase input terminals to rotate the rotor at a known predetermined rotational direction.</p>
<p id="p-0050" num="0049">In step S<b>306</b>, the data processor <b>264</b>, or the primary processing module <b>114</b>, determines whether or not the conductor connections between the inverter and the motor (e.g., <b>117</b>) are correct. Step S<b>306</b> may be carried out in accordance with various techniques that may be applied separately or cumulatively. Under a first technique, the data processor <b>264</b> or primary processing module <b>114</b> determines that the conductor connections between the inverter and the motor (e.g., <b>117</b>) are correct if the calculated shaft speed sign is positive in response to the application of the direct d-q axis voltage commands associated with a respective monotonically varying test sequence (e.g., monotonically increasing test sequence) of rotor angular positions that monotonically increases.</p>
<p id="p-0051" num="0050">Under a second technique for carrying out step S<b>306</b>, the data processor <b>264</b> or primary processing module <b>114</b> determines that conductor connections between the inverter and the motor (e.g., <b>117</b>) are correct if the calculated shaft speed sign is negative in response to the application of the direct d-q axis voltage commands associated with a respective monotonically varying test sequence (e.g., monotonically decreasing test sequence) of rotor angular positions that decreases.</p>
<p id="p-0052" num="0051">Under a third technique for executing step S<b>306</b>, the data processor <b>264</b> or primary processing module <b>114</b> determines that conductor connections between the inverter and the motor (e.g., <b>117</b>) are incorrect if the calculated shaft speed sign is negative in response to the application of the direct d-q axis voltage commands associated with a respective monotonically varying test sequence (e.g., monotonically increasing test sequence) of rotor angular positions that increases.</p>
<p id="p-0053" num="0052">Under a fourth technique, the data processor <b>264</b> or primary processing module <b>114</b> determines that the conductor connections between the motor (e.g., <b>117</b>) and inverter are incorrect if the calculated shaft speed sign is positive in response to the application of the direct d-q axis voltage commands associated with a respective monotonically varying test sequence (e.g., monotonically decreasing test sequence) of rotor angular positions that monotonically decreases.</p>
<p id="p-0054" num="0053">Under a fifth technique for executing step S<b>306</b>, the data processor <b>264</b>, primary processing module <b>114</b>, or diagnostic computer <b>282</b> detects that a variation trend in raw position readings matches a phase sequence connection if the calculated motor (e.g., <b>117</b>) shaft speed is positive with commanding a monotonically increasing position, and vice versa. Under a sixth technique, the data processor <b>264</b>, primary processing module <b>114</b>, or diagnostic computer <b>282</b> detects that the variation trend in raw position reading is not matching phase sequence connection if the calculated motor (e.g., <b>117</b>) shaft speed is positive with commanding monotonically decreasing position, and vice versa.</p>
<p id="p-0055" num="0054">After or during step S<b>306</b>, the data processor <b>264</b> or the primary processing module <b>114</b> may report or transmit a data status message to the diagnostic computer <b>282</b> via the sixth data port <b>280</b>, where the data status message contains information on whether the conductor connection between the inverter and the motor is correct or not. The diagnostic computer <b>284</b> may display or output the data status message to a user or technician via the user interface <b>286</b>.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 4</figref> discloses a method for evaluating electrical connections between a motor (e.g., <b>117</b>) controller and motor (e.g., <b>117</b>), and more particularly, a method for determining whether a multi-phase motor (e.g., <b>117</b>) is properly connected to an inverter. The method of <figref idref="DRAWINGS">FIG. 4</figref> begins in step S<b>400</b>.</p>
<p id="p-0057" num="0056">In step S<b>400</b>, the diagnostic computer <b>282</b>, the data processor <b>264</b>, or the pulse width modulation generation module <b>112</b> activates a plurality of semiconductor switches in the inverter switching circuit <b>188</b> to apply the direct phase current commands to achieve a respective target phase winding current in the motor (e.g., <b>117</b>) that aligns the motor (e.g., <b>117</b>) in a known aligned position. The semiconductor switches may comprise insulated gate bipolar transistors (IGBT's), power transistors, or power field effect transistors (FET's), for example. If the motor (e.g., <b>117</b>) comprises a multi-phase motor (e.g., <b>117</b>), the application of each respective direct phase current command can be used to rotate the rotor to a corresponding known aligned position, among a group of possible angular rotor positions. The direct phase current commands are applied one or more windings of the motor (e.g., <b>117</b>) via the data processor <b>264</b> and via the inverter switching circuit <b>188</b>, for example.</p>
<p id="p-0058" num="0057">In step S<b>402</b>, the diagnostic computer <b>282</b>, the data processor <b>264</b>, of the secondary processing module determines if an observed rotor position is aligned with the known aligned position in response to application of the direct phase current commands. For example, the diagnostic computer <b>282</b>, the data processor <b>264</b>, of the secondary processing module determines if each observed rotor position is aligned with the corresponding known aligned position in response to application of a sequence or series of the direct phase current commands.</p>
<p id="p-0059" num="0058">In step S<b>404</b>, the diagnostic computer <b>282</b>, identifies an improper wiring connection between the inverter and the motor (e.g., <b>117</b>) if the observed rotor position is not aligned with the known aligned position above a tolerable range, or for the sequence of the direct phase current commands. For example, if the observed rotor position is approximately 120 degrees and if the known aligned position is approximately 0 or 360 degrees, a first input phase terminal and a second phase input terminal are erroneously interchanged. The tolerable range may be defined as plus or minus 10 degrees of rotation of the rotor, although other tolerable range may be suitable and will fall within the scope of the claims appended hereto.</p>
<p id="p-0060" num="0059">During assembly, repair or field diagnosis, the above embodiments of the method and system facilitate efficiently and quickly determining whether the electrical connections between a motor or multi-phase motor and the motor controller (e.g., inverter) are correct. In particular, the method and system disclosed herein provides a simplified diagnostic test procedure that can readily be performed in the field or a service facility, without the use of an oscilloscope or test motor, to evaluate the correctness of electrical connections between the motor controller and motor</p>
<p id="p-0061" num="0060">Having described the preferred embodiment, it will become apparent that various modifications can be made without departing from the scope of the invention as defined in the accompanying claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08624531-20140107-M00001.NB">
<img id="EMI-M00001" he="6.69mm" wi="76.20mm" file="US08624531-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>The following is claimed:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for determining whether a multi-phase motor is properly connected to an inverter, the method comprising:
<claim-text>establishing a monotonically varying test sequence of test rotor angular positions associated with application of corresponding pairs of direct d-q-axis voltage commands to the motor, each of the pairs of direct d-q axis voltage commands comprising a direct-axis command and a quadrature-axis command;</claim-text>
<claim-text>converting or transforming the direct d-q-axis voltage commands into multiple phase voltages for each corresponding input phase terminal of the multi-phase motor, the direct d-q-axis voltage commands processed as modulated signals for application to each corresponding input phase terminal;</claim-text>
<claim-text>rotating the rotor of the motor in response to the application of the direct d-q-axis voltage commands associated with the corresponding established monotonically varying test sequence of test rotor angular positions; and</claim-text>
<claim-text>determining that conductor connections between the inverter and the motor are correct if a calculated shaft speed sign is positive in response to the application of the direct d-q-axis voltage commands associated with the monotonically varying test sequence of rotor angular positions that monotonically increases or if a calculated shaft speed sign is negative in response to the application of the direct d-q-axis voltage commands associated with the monotonically varying test sequence of rotor angular positions that monotonically decreases.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the modulated signals comprise pulse width modulation signals.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>determining that conductor connections between the inverter and the motor are incorrect if the calculated shaft speed sign is negative in response to the application of the direct d-q-axis voltage commands associated with the monotonically varying test sequence of rotor angular positions that monotonically increases.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>determining that conductor connections between the inverter and the motor are incorrect if the calculated shaft speed sign is positive in response to the application of the direct d-q-axis voltage commands associated with the monotonically varying test sequence of rotor angular positions that monotonically decreases.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the direct d-q-axis voltage commands are manually activated by a user to bypass a current regulation controller in a test mode.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the direct d-q-axis voltage commands are inactive in an operational mode; and further comprising:
<claim-text>providing, by a current regulation controller, a direct-axis current command and quadrature-axis current command in the operational mode.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the direct d-q-axis voltage commands associated with monotonically varying rotor angular position changes in every pulse-width-modulation (PWM) cycle in accordance with the following equation:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x394;&#x3b8;=initial_startupfrequency*360&#xb0;/PWM_switching_frequency,<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
<claim-text>where &#x394;&#x3b8; is a change in the rotor position increment or decrement from an earlier pulse-width modulation cycle to a later pulse-width modulation cycle, initial_startup_frequency is within a range of approximately 1 Hz to approximately 10 Hz, and the PWM_switching_frequency is within a range of approximately 1 kHz to approximately 10 kHz.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>in a field initial position offset calibration procedure, issuing direct d-q-axis voltage commands and associated monotonically varying test positions for application to respective phase input terminals to rotate the rotor at a known predetermined rotational direction; and</claim-text>
<claim-text>detecting that a variation trend in raw position readings is matching a phase sequence connection between the motor and the inverter if the calculated motor shaft speed is positive with commanding a monotonically increasing position, and vice versa.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method according to <claim-ref idref="CLM-00008">claim 8</claim-ref> further comprising:
<claim-text>detecting that the variation trend in raw position reading is not matching phase sequence connection between the motor and the inverter if the calculated motor shaft speed is positive with commanding monotonically decreasing position, and vice versa.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A method for determining whether a multi-phase motor is properly connected to an inverter, the method comprising:
<claim-text>activating a plurality of semiconductor switches to apply the direct phase current commands to achieve a respective target phase winding current in the motor that align the motor in a known aligned position;</claim-text>
<claim-text>determining if an observed rotor position is aligned with the known aligned position in response to application of the direct phase current commands; and</claim-text>
<claim-text>identifying improper wiring connection between the inverter and the motor if the observed rotor position is not aligned with the known aligned position above a tolerable range.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method according to <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein if the observed rotor position is approximately 120 degrees and if the known aligned position is approximately 0 or 360 degrees, a first input phase terminal and a second phase input terminal are erroneously interchanged.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A system for determining whether a multi-phase motor is properly connected to an inverter, the system comprising:
<claim-text>a data processor for establishing a monotonically varying test sequence of test rotor angular positions associated with application of corresponding pairs of direct d-q-axis voltage commands to the motor, each of the pairs of direct d-q axis voltage commands comprising a direct-axis command and a quadrature-axis command;</claim-text>
<claim-text>a pulse width modulation generation module for converting or transforming the direct d-q-axis voltage commands into multiple phase voltages for each corresponding input phase terminal of the multi-phase motor;</claim-text>
<claim-text>an inverter switching circuit for processing the direct d-q-axis voltage commands processed as modulated signals for application to each corresponding input phase terminal of the motor;</claim-text>
<claim-text>a rotor of the motor rotated in response to the application of the direct d-q-axis voltage commands associated with the corresponding established monotonically varying test sequence of test rotor angular positions; and</claim-text>
<claim-text>the data processor adapted to determine that conductor connections between the inverter and the motor are correct if a calculated shaft speed sign is positive in response to the application of the direct d-q-axis voltage commands associated with the monotonically varying test sequence of rotor angular positions that monotonically increases.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The system according to <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein the data processor is adapted to determine that the conductor connections between the inverter and the motor are correct if a calculated shaft speed sign is negative in response to the application of the direct d-q-axis voltage commands associated with the monotonically varying test sequence of rotor angular positions that monotonically decreases.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The system according to <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein the modulated signals comprise pulse width modulation signals.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The system according to <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein the data processor is adapted to determine that the conductor connections between the inverter and the motor are incorrect if the calculated shaft speed sign is negative in response to the application of the direct d-q-axis voltage commands associated with the monotonically varying test sequence of rotor angular positions that monotonically increases.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The system according to <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein the data processor is adapted to determine that the conductor connections between the inverter and the motor are incorrect if the calculated shaft speed sign is positive in response to the application of the direct d-q-axis voltage commands associated with the monotonically varying test sequence of rotor angular positions that monotonically decreases.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The system according to <claim-ref idref="CLM-00012">claim 12</claim-ref> further comprising:
<claim-text>a current regulation controller for generating d-q axis voltage commands in an operational mode; where in a diagnostic mode the direct d-q-axis voltage commands bypass or disable the current regulation controller.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The system according to <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein the direct d-q-axis voltage commands associated with monotonically varying rotor angular position changes in every pulse-width-modulation (PWM) cycle in accordance with the following equation:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x394;&#x3b8;=initial_startup_frequency*360&#xb0;/PWM_switching_frequency,<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
<claim-text>where &#x394;&#x3b8; is a change in the rotor position increment or decrement from an earlier pulse-width modulation cycle to a later pulse-width modulation cycle, initial_startup_frequency is within a range of approximately 1 Hz to approximately 10 Hz, and the PWM_switching_frequency is within a range of approximately 1 kHz to approximately 10 kHz. </claim-text>
</claim>
</claims>
</us-patent-grant>
