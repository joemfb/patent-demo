<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08622289-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08622289</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13286516</doc-number>
<date>20111101</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>07</class>
<subclass>F</subclass>
<main-group>19</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>235379</main-classification>
<further-classification>235375</further-classification>
<further-classification>235380</further-classification>
<further-classification>235382</further-classification>
</classification-national>
<invention-title id="d2e43">Method and apparatus for credit card tracking at pay stations</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>2006/0255119</doc-number>
<kind>A1</kind>
<name>Marchasin et al.</name>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>235375</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2009/0216637</doc-number>
<kind>A1</kind>
<name>Bayne</name>
<date>20090800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 14</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2009/0248526</doc-number>
<kind>A1</kind>
<name>Park et al.</name>
<date>20091000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 1415</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2009/0285396</doc-number>
<kind>A1</kind>
<name>Wong</name>
<date>20091100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>380277</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2010/0131750</doc-number>
<kind>A1</kind>
<name>Pruss et al.</name>
<date>20100500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713151</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2011/0313822</doc-number>
<kind>A1</kind>
<name>Burdick</name>
<date>20111200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 13</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2012/0286968</doc-number>
<kind>A1</kind>
<name>Jones et al.</name>
<date>20121100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>34087002</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>16</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>235379</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>235375</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>235380</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>235382</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>705 13</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>705418</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>5</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61408715</doc-number>
<date>20101101</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120318862</doc-number>
<kind>A1</kind>
<date>20121220</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Outwater</last-name>
<first-name>Chris</first-name>
<address>
<city>Santa Barbara</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Redmann</last-name>
<first-name>William Gibbens</first-name>
<address>
<city>Glendale</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Outwater</last-name>
<first-name>Chris</first-name>
<address>
<city>Santa Barbara</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Redmann</last-name>
<first-name>William Gibbens</first-name>
<address>
<city>Glendale</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Kraft</last-name>
<first-name>Clifford</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<examiners>
<primary-examiner>
<last-name>Trail</last-name>
<first-name>Allyson</first-name>
<department>2876</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An enhancement to a pay station where subscribers can track usage of credit cards or groups of credit cards at parking and other facilities. The subscriber provides a key that can be used with a predetermined hash or encryption algorithm to hash or encrypt every credit card number that enters the system. A database of the coded results for a set of pre-registered credit cards belonging to that subscriber is maintained in the pay station database. Whenever an incoming credit card's coded output matches one of the coded results on the pre-registered list, a log entry can be made in a usage log. The subscriber generally has a list of the coded outputs for each of their pre-registered cards. The subscriber can thus track usage of any of these cards.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="184.07mm" wi="149.35mm" file="US08622289-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="194.73mm" wi="148.25mm" file="US08622289-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="192.45mm" wi="131.15mm" file="US08622289-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="230.29mm" wi="131.15mm" file="US08622289-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="152.91mm" wi="113.71mm" file="US08622289-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="184.15mm" wi="171.62mm" file="US08622289-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<p id="p-0002" num="0001">This application is related to, and claims priority from, U.S. Provisional patent application No. 61/408,715 filed Nov. 1, 2010. Application 61/408,715 is hereby incorporated by reference.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The present invention relates generally to the field of pay stations and more particularly to credit card tracking at pay stations.</p>
<p id="p-0005" num="0004">2. Description of the Prior Art</p>
<p id="p-0006" num="0005">Pay stations are used for parking and other services. Many of these stations are automatic and can accept credit and debit cards. This type of pay station has access to a database from the main office. A copy of the database may be kept locally with the pay station, or the database may be accessed remotely by having communication with the main office, whether constant, on-demand, periodically, or only occasionally. This database may contain a list of known bad credit cards (i.e., a black list) to minimize failed or unpaid transactions. The database may also be used to record transactions using card numbers for billing to the credit card company. However, a fee is paid to the credit card company for each transaction. It would be advantageous if a municipality or fleet owner could issue cards or other identification (e.g., RF ID tags) or use existing cards and register them with the pay station operator, so that transactions using such registered cards would be handled differently and advantageously by not accruing credit card transaction fees with every use.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0007" num="0006">The present invention provides an enhancement to a standard pay station that adds value to its operation so that municipalities, fleet operators and the like, as well as other subscribers (hereinafter, a &#x201c;fleet&#x201d;), by allowing certain credit cards, debit cards, or other identification to be registered with the pay station operator and thereafter avoid incurring transaction fees, for example those charged by the acquiring bank when a credit card transaction is processed, for each individual transaction. The fleets provide data representative of a list of credit or debit card numbers, or RFID tag values (hereinafter, an &#x201c;account identification numbers&#x201d;) to be registered to form a fleet list.</p>
<p id="p-0008" num="0007">If required by the security policy of the fleet, pay station operator, issuing bank, or acquiring bank, the account identification information in the fleet list may be encoded by a hash or encryption key that can be used with a predetermined hash or encryption algorithm. The same algorithm and key are maintained in the pay station database, or other secure location, for use with account identification information read from an account identification (e.g., credit card, debit card, RFID tag).</p>
<p id="p-0009" num="0008">Whenever an incoming account identification information matches one of the entries in the pre-registered fleet list (or the account identification information, once encoded, matches one of the encoded entries in the pre-registered fleet list), a transaction is recorded in a fleet transaction list for subsequent reporting to and reconciliation with the fleet. The fleet transaction list can be provided from time to time to the municipality or fleet operator or other subscriber, or used by the pay station operator to bill either the fleet, the original account identification (consolidating transactions associated with the same account identification), or a substitute account identification associated with each fleet. The subscriber (fleet) generally receives or can access a report of the usage and status for each of their pre-registered cards. This way, they can easily track usage of any of these cards.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">DESCRIPTION OF THE FIGURES</heading>
<p id="p-0010" num="0009">Attention is now called to several drawings that illustrate features of the present invention:</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram showing a pay station of the present invention and its interconnection to external payment and reporting systems;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 2</figref> shows an improved process for transacting with credit cards (or other account identifications) using a fleet list;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3</figref> shows another improved process for transaction with credit cards (or other account identifications) using a fleet list and a black list;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 4</figref> shows a database schema suitable for use in the present invention; and,</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 5</figref> shows another database schema suitable for use in the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<p id="p-0016" num="0015">Several drawings and illustrations have been provided to aid in understanding the present invention. The scope of the present invention is not limited to what is shown in the figures.</p>
<heading id="h-0004" level="1">DESCRIPTION OF THE INVENTION</heading>
<p id="p-0017" num="0016">The present invention relates to an enhancement for pay stations that lets them track usage of pre-registered credit cards while providing security from card theft or unauthorized access to credit card numbers.</p>
<p id="p-0018" num="0017">Herein, a credit card is used as an exemplary form of &#x201c;account identification&#x201d;. Other forms of account identification include debit cards, RFID tags, biometric measures (e.g., fingerprint, retina, voice), etc., which may be used alone or in conjunction with other information to identify a specific account and authorization. &#x201c;Account identification information&#x201d; is used herein to refer to the information conveyed by the account identification and, when needed, other information need to confirm the information from the account identification. For example, the account identification information from a credit card is the account number and other information may include additional authentication information available on the magnetic tracks of the credit card, or a card verification value (CVV) printed on the back of the card. Another example of other information that may be included with account identification information is a PIN number (personal identification number) as commonly used with a debit card or biometric measure. Account identification may comprise a username or account number or other referent that may be entered via keyboard, for which the other information augmenting the account identification information may be a password, PIN number, or Herein, a pay station comprises a reader for accepting an account identification, which may be a magnetic stripe reader for a credit or debit card, and RFID reader for an RFID tag, an appropriate biometric reader for the specific biometric measure of interest, and a keyboard or keypad as necessary for entering PIN numbers, account names, or passwords.</p>
<p id="p-0019" num="0018">Turning to <figref idref="DRAWINGS">FIG. 1</figref>, a pay station <b>110</b> is shown. The pay station <b>110</b> comprises a reader <b>116</b> of a type corresponding to credit card <b>112</b>, so that the account identification information may be known to pay station <b>110</b> (e.g., a credit card number and other information necessary for a credit card based transaction; or a debit card and PIN number, though a keypad for entry of a PIN number is not shown). Pay station <b>110</b> comprises a processor <b>117</b> programmed to execute transactions as described below. Pay station <b>110</b> further comprises a printer <b>118</b> and dispenser (not shown) such that when a payment for a transaction with the account identification information is allowed, a receipt <b>114</b> may be issued by printer <b>118</b> to a patron.</p>
<p id="p-0020" num="0019">In the case of parking, receipt <b>114</b> may sometimes be used to exit the parking lot, or receipt <b>114</b> may be posted on the dashboard of a parked vehicle to verify parking authorization and duration.</p>
<p id="p-0021" num="0020">Additionally, in the case of parking, but also in other scenarios, pay station <b>110</b> may accept a ticket (not shown) with a ticket reader (not shown), the ticket being issued upon entry to a parking lot. Information obtained by reading the ticket may be used to determine the value of the transaction (e.g., for a parking fee based on a duration from a entry time indicated by the ticket). Instead of the ticket, a receipt or other piece of information may be issued, with the pay station comprising an appropriate reader or entry device (none shown). In some embodiments, the ticket reader or appropriate reader or entry device may be account identification reader <b>116</b> as discussed above.</p>
<p id="p-0022" num="0021">The pay station <b>110</b> is in communication with a database <b>120</b> which may be remote and located at the office of the pay station operator or elsewhere. In another embodiment, database <b>120</b> is internal or otherwise local to pay station <b>110</b>. The database <b>120</b> may contain a &#x201c;black list&#x201d; <b>122</b> of known bad credit cards. For the improvement of the present invention, database <b>120</b> contains a fleet list <b>121</b> of credit cards (and/or other account identifications) registered with the pay station operator by fleet operators or their members. As pay station <b>110</b> handles transactions with account identifications listed in fleet list <b>121</b> and others, transaction logs <b>123</b> and <b>124</b> record those transaction: fleet transaction log <b>123</b> lists transactions conducted using an account identification at a time when that account identification is listed in the fleet list <b>121</b>; non-fleet transaction log <b>124</b> lists other transactions (i.e., those conducted with cash, or using account identification not listed in fleet list <b>121</b> at the time of the transaction.</p>
<p id="p-0023" num="0022">Communication by pay station <b>110</b> with a payment system <b>140</b> (e.g., one provided by an acquiring bank for debit or credit card transactions) is through communication channel <b>130</b>, which may comprise a telephone line, wireless connection, or the Internet. Communication through channel <b>130</b> may be available continuously, upon demand, or periodically (e.g., for daily uploads). The same or similar communication channel <b>130</b> provides communication between the pay station <b>110</b> and reporting system <b>150</b> (e.g., provided by the pay station operator).</p>
<p id="p-0024" num="0023">For a non-fleet transactions <b>124</b>, if pay station <b>110</b> is unable to connect with payment system <b>140</b> contemporaneously, the non-fleet transactions may be rejected, or stored unpaid for resubmission to payment system <b>140</b> at a later time.</p>
<p id="p-0025" num="0024">Fleet transactions <b>123</b> are stored in database <b>120</b> for later transmission to reporting system <b>150</b>. Further, fleet transactions having common account identification information may be aggregated into a single transaction (whether or not itemized) and submitted to payment system <b>140</b>. In an alternative embodiment, fleet transactions associated with a common fleet operator may be billed to the fleet operator or to a payment system <b>140</b> using an account identification information provided by the fleet operator, which may be different than account identification information provided with any individual transaction. Such later submissions to payment system <b>140</b> may be initiated by pay station <b>110</b>, or by reporting system <b>150</b>.</p>
<p id="p-0026" num="0025">Typically, credit card numbers are only stored until the credit card company acknowledges billing, for security reasons. If, according to security policy, the credit card numbers or account identifications in fleet list <b>121</b> and/or black list <b>122</b> shall not be stored in plaintext, then in the corresponding embodiment the account identification information in those lists are hashed or encrypted using a predetermined algorithm and cryptographic key <b>125</b>. Then, when account identification <b>112</b> is presented, the corresponding account identification information is read and hashed or encrypted by the processor <b>117</b> of pay station <b>110</b>, in accordance with the predetermined algorithm and cryptographic key <b>125</b>, to make encrypted account identification number for comparison with fleet list <b>121</b> and/or black list <b>122</b> to determine whether or not the transaction is a fleet or non-fleet transaction, or whether the transaction should be cancelled as discussed below in conjunction with <figref idref="DRAWINGS">FIGS. 2 &#x26; 3</figref>.</p>
<p id="p-0027" num="0026">In some embodiments, database <b>120</b> may contain rule-based policies <b>126</b> for transactions involving account identification information related to particular fleets. For example, it may be that for a particular fleet, entries in the fleet list <b>121</b> are only valid from 7 AM to 9 PM, and that transactions (or, alternatively, the portion of a transaction outside those hours) is a non-fleet transaction. In another example, a particular fleet may have policies expressed in these rules that limit a fleet transaction to a maximum duration, or a particular maximum number of transactions per month, or not on weekends. Some rules may specify that the portion of a transaction exceeding the maximum duration, or the transactions that exceed the maximum number of transactions per month, or transactions or portions of transactions that occur on weekends, are treated as non-fleet transactions. Alternatively, policies may clamp a fleet transaction to a maximum duration, so, for example, even though a parking duration was for all day, a fleet transaction is treated as though the duration was only four hours. Such fleet-specific rules <b>126</b> may be stored in database <b>120</b>, an example implementation of which is discussed in conjunction with <figref idref="DRAWINGS">FIG. 4</figref>. In an alternative embodiment, specific rules may apply to all fleet transactions. In other embodiments, the rules may be made a part of the programming for processor <b>117</b>, rather than being stored in database <b>120</b>.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 2</figref> is a flowchart for an improved transaction process <b>200</b> of the present invention, as may be performed by processor <b>117</b>.</p>
<p id="p-0029" num="0028">Transaction process <b>200</b> begins at <b>210</b>, typically being triggered by the presentation and reading of account identification (e.g., credit card <b>112</b>) by the account identification reader (e.g., credit card reader <b>116</b>) to capture account identification information (e.g., a credit card number and authentication codes), which is accepted at <b>212</b>.</p>
<p id="p-0030" num="0029">At <b>226</b>, the fleet list <b>121</b> in database <b>120</b> is checked for a match to the account identification information. However, if policy dictates, the account identification information is encoded (as described, e.g., using cryptographic key <b>125</b>) at <b>214</b>, and the encrypted account identification information is used instead for check <b>226</b>.</p>
<p id="p-0031" num="0030">If, at <b>228</b>, the results of check <b>226</b> show a match, that is, the account identification information is represented in fleet list <b>121</b>, then processing continues at <b>220</b>.</p>
<p id="p-0032" num="0031">Otherwise, at <b>228</b>, if the account identification information was not represented in fleet list <b>121</b>, then processing continues at <b>240</b>, where a check is made to determine whether communication is available to payment system <b>140</b>, and it is online. If so, then at <b>242</b> the transaction using the account identification information is completed with payment system <b>140</b>, a receipt printed, and a record of the transaction is stored in non-fleet transaction list <b>124</b>, marked as complete, after which, process <b>200</b> concludes at <b>260</b>.</p>
<p id="p-0033" num="0032">However, if at <b>240</b> communication with payment system <b>140</b> is not available or if payment system <b>140</b> is offline, then continuing at <b>250</b>, the transaction may be allowed, and a receipt may be printed, but at <b>252</b> the transaction is stored in non-fleet transaction list <b>124</b> and marked as incomplete, thus requiring later reconciliation (e.g., nightly, or the next time communication with payment system <b>140</b> is available). Once the transaction is logged, however, process <b>200</b> completes at <b>260</b>.</p>
<p id="p-0034" num="0033">In an alternative embodiment, instead of the transaction being allowed at <b>250</b>, the process may require a different method of payment (e.g., by looping back to start <b>210</b>, loop not shown), or the transaction may be cancelled (not shown).</p>
<p id="p-0035" num="0034">At <b>220</b>, the process completes the transaction without using payment system <b>140</b>, because the account identification information was represented in fleet list <b>121</b>. The completion of the transaction is in accordance with the policies and rules <b>126</b> appropriate to the fleet with which the account associated with the account identification information is registered. A receipt may be printed and the transaction is recorded in fleet transaction list <b>123</b> for later reconciliation or reporting.</p>
<p id="p-0036" num="0035">If at <b>222</b> the transaction exceeds any limits set by rules of the corresponding (e.g., as found in fleet rules <b>126</b>), then any excess portion of the transaction is processed by branching back to <b>240</b> (branch not shown) and processing the remainder as a non-fleet transaction.</p>
<p id="p-0037" num="0036">Process <b>200</b> concludes at <b>260</b>.</p>
<p id="p-0038" num="0037">Another improved transaction process <b>300</b> of the present invention is shown in the flowchart of <figref idref="DRAWINGS">FIG. 3</figref>, as may be performed by processor <b>117</b>.</p>
<p id="p-0039" num="0038">Transaction process <b>300</b> begins at <b>310</b>, typically being triggered by the presentation and reading of account identification (e.g., credit card <b>112</b>) by the account identification reader (e.g., credit card reader <b>116</b>) to capture account identification information (e.g., a credit card number and authentication codes), which is accepted at <b>312</b>.</p>
<p id="p-0040" num="0039">At <b>320</b>, the black list <b>122</b> in database <b>120</b> is check for a match to the account identification information. However, if policy dictates, the account identification information is encoded (as described, e.g., using cryptographic key <b>125</b>) at <b>314</b>, and the encrypted account identification information is used instead for check <b>320</b>.</p>
<p id="p-0041" num="0040">If, at <b>322</b>, the results of check <b>320</b> show a match, that is, the account identification information is represented in black list <b>122</b>, then the transaction is cancelled at <b>324</b> and process <b>300</b> terminates. In the alternative, instead of terminating, process <b>300</b> may loop back to <b>310</b>, requesting a different form of payment (loop back not shown).</p>
<p id="p-0042" num="0041">However, if at <b>322</b>, the results of check <b>320</b> indicate no match, that is, the account identification information is not represented in the black list <b>122</b>, the process continues at <b>326</b>.</p>
<p id="p-0043" num="0042">At <b>326</b>, the fleet list <b>121</b> in database <b>120</b> is checked for a match to the account identification information. Though, if policy dictates, the encoded account identification information from <b>314</b> is used instead for check <b>326</b>.</p>
<p id="p-0044" num="0043">If, at <b>328</b>, the results of check <b>326</b> show a match, that is, the account identification information is represented in fleet list <b>121</b>, then processing continues at <b>320</b>.</p>
<p id="p-0045" num="0044">Otherwise, at <b>328</b>, if the account identification information was not represented in fleet list <b>121</b>, then processing continues at <b>340</b>, where a check is made to determine whether communication is available to payment system <b>140</b>, and it is online. If so, then at <b>342</b> the transaction using the account identification information is completed with payment system <b>140</b>, a receipt printed, and a record of the transaction is stored in non-fleet transaction list <b>124</b>, marked as complete, after which, process <b>300</b> concludes at <b>360</b>.</p>
<p id="p-0046" num="0045">However, if at <b>340</b> communication with payment system <b>140</b> is not available or if payment system <b>140</b> is offline, then continuing at <b>350</b>, the transaction may be allowed, and a receipt may be printed, but at <b>352</b> the transaction is stored in non-fleet transaction list <b>124</b> and marked as incomplete, thus requiring later reconciliation (e.g., nightly, or the next time communication with payment system <b>140</b> is available). Once the transaction is logged, however, process <b>300</b> completes at <b>360</b>.</p>
<p id="p-0047" num="0046">In an alternative embodiment, instead of the transaction being allowed at <b>350</b>, the process may require a different method of payment (e.g., by looping back to start <b>310</b>, loop not shown), or the transaction may be cancelled (not shown).</p>
<p id="p-0048" num="0047">At <b>320</b>, the process completes the transaction without using payment system <b>140</b>, because the account identification information was represented in fleet list <b>121</b>. The completion of the transaction is in accordance with the policies and rules <b>126</b> appropriate to the fleet with which the account associated with the account identification information is registered. A receipt may be printed and the transaction is recorded in fleet transaction list <b>123</b> for later reconciliation or reporting.</p>
<p id="p-0049" num="0048">If at <b>322</b> the transaction exceeds any limits set by rules of the corresponding (e.g., as found in fleet rules <b>126</b>), then any excess portion of the transaction is processed by branching back to <b>340</b> (branch not shown) and processing the remainder as a non-fleet transaction.</p>
<p id="p-0050" num="0049">Process <b>300</b> concludes at <b>360</b>.</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 4</figref> shows a schema <b>420</b> representing one example embodiment of database <b>120</b>. Schema <b>420</b> shows Fleets table <b>440</b>. Fleets table <b>440</b> comprises one or more records representing information about one fleet or subscriber. Each fleet record in Fleets table <b>440</b> is uniquely identified by a fleet identifier (FID), and includes the fleet name, fleet billing information (such as billing method, and billing account information), and fleet rules and policies, if any.</p>
<p id="p-0052" num="0051">FleetMembers table <b>421</b> is an example embodiment of fleet list <b>121</b>, wherein each record of FleetMembers table <b>421</b> has both account identification information (e.g., a credit card number) and the FID of the record in Fleets table <b>440</b> corresponding to the fleet with which that account is registered. In this way, a credit card may be registered as belonging to a fleet. While fleet records in table <b>440</b> may be associated with one or more records in FleetMembers <b>421</b> (fleets can have many members), but each record in FleetMembers <b>421</b> should be associated with only a single fleet record in Fleets table <b>440</b>. In an alternative embodiment (not shown), where a credit card may be registered to more than one fleet, transaction processes such as <b>200</b> &#x26; <b>300</b> would need to be extended so that when checks <b>226</b> and <b>326</b> detect a credit card having a membership in multiple fleets, the one fleet that should be used for a transaction is determined before continuing, for example, by asking the patron for a selection.</p>
<p id="p-0053" num="0052">BlackListMembers table <b>422</b> is an embodiment of black list <b>122</b>, wherein each record comprises the account identification information (e.g., credit card number) of a deprecated account.</p>
<p id="p-0054" num="0053">FleetTransactions table <b>423</b> is an embodiment of fleet transactions list <b>123</b>. In it, each record contains a reference to the single FID for the record of the fleet with which it is associated. In this embodiment, each record of the FleetTransactions table <b>423</b> includes the account identification information accepted at <b>212</b> (in transaction process <b>200</b>) or <b>312</b> (in transaction process <b>300</b>), Other transaction information such as the amount, date, and other details (e.g., parking location, parking duration) may also be recorded. The TransactionPaid field may be filled if and when the pay station <b>110</b> performs a billing transaction with payment system <b>140</b> that includes the transaction associated with the record in FleetTransactions table <b>523</b>, otherwise it remains empty.</p>
<p id="p-0055" num="0054">NonFleetTransactions table <b>424</b> is an embodiment of non-fleet transactions list <b>124</b>. The fields of its records are similar to those in FleetTransactions table <b>423</b>, but there is no associated fleet identifier (FID). In NonFleetTransactions table <b>424</b>, the TransactionPaid field is filled with information related to the interaction with payment system <b>140</b>.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 5</figref> shows another schema <b>520</b> representing another example embodiment of database <b>120</b>, in which Fleets table <b>540</b> is identical to Fleet table <b>440</b>; and the FleetMembers <b>521</b>, BlackListMembers <b>522</b>, FleetTransactions <b>523</b>, and NonFleetTransactions <b>524</b> tables in schema <b>520</b> are similar to respective and like-named tables <b>421</b>, <b>422</b>, <b>423</b>, and <b>424</b> in schema <b>420</b>, but instead of an AccountldentificationInformation field in each record of each table, there is an account identifier (AID). The AID in each record of tables <b>521</b>-<b>524</b> refers to the record identifiers in Accounts table <b>530</b>. Each record in Accounts table <b>530</b> contains information representative of the account identification information, but it can be hashed or encrypted using cryptographic key <b>125</b>, which may be stored as records in CryptographicKeys table <b>531</b>, in which case a key identifier (KID) uniquely identifying the record in table <b>531</b> appears in those records in Accounts table <b>530</b> for which it was used. Similarly, an algorithm identifier (not shown) could be incorporated into each record of Accounts table <b>530</b>, to select among different hash or encryption algorithms known to the processor <b>117</b> of pay station <b>110</b>. In some embodiments, different account identification authorities or fleets can specify different encryption algorithms or different keys. If, for individual records in Accounts table <b>530</b>, the account identification information is not encrypted, the KID value in the record may be null. In some embodiments, CryptographicKeys table <b>531</b> may not be stored in database <b>120</b>, but may instead be loaded into a cryptographic module or internal memory associated with processor <b>117</b>, so that the keys are not accessible or otherwise subject to hacking.</p>
<p id="p-0057" num="0056">In an alternative embodiment where encoding of account identification information is not used at all, table <b>531</b> would be omitted and the records in Accounts table <b>530</b> would have no KID field.</p>
<p id="p-0058" num="0057">Several descriptions and illustrations have been provided to aid in understanding the present invention. One of skill in the art will realize that numerous changes and variations may be made without departing from the spirit of the invention. For example, while the examples provided herein have made use of a database using a relational structure selected for clarity of description, those skilled in the art recognized that other data structures or file-based mechanisms could be used with equal success. Each of these changes and variations is within the scope of the present invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>We claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A computer-implemented method of tracking credit card usage at pay stations, the method comprising the steps of:
<claim-text>a) storing a first list of data representative of credit card numbers for which a transaction is permitted in a memory available to a pay station;</claim-text>
<claim-text>b) accepting by a credit card reader of the pay station, a first credit card number;</claim-text>
<claim-text>c) searching said first list with a processor of the pay station, said processor having communication with the reader and the memory, and finding data representative of said first credit card number in the first list; and,</claim-text>
<claim-text>d) recording a first transaction in a first log in the memory with the processor, said first log comprising data representative of said first transaction, said first transaction not individually submitted to any acquiring bank and said first credit card number.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising the steps of:
<claim-text>e) accepting with the credit card reader a second credit card number;</claim-text>
<claim-text>f) searching said first list with the processor, and not finding data representative of said second credit card number in the first list; and,</claim-text>
<claim-text>g) performing a second transaction with the processor, the processor having communication with an acquiring bank, the second transaction further being performed with said acquiring bank and said second credit card number.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the processor has access to a cryptographic key and algorithm and said first list is encoded with the algorithm and the key, wherein step c) further comprises encoding said first credit card number with the algorithm and the key for use when searching said first list for data representative of said first credit card number.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the processor has access to a hash algorithm and said first list is encoded with the algorithm, wherein step c) further comprises encoding said first credit card number with the algorithm for use when searching said first list for data representative of said first credit card number.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the data representative of the first transaction comprises data representative of the first credit card number.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, further comprising the step of:
<claim-text>e) transferring the first log for use in billing a subscriber associated with the first credit card.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the subscriber is a municipality.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the subscriber is a fleet operator.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first credit card is associated with a first subscriber and the first transaction is one of a plurality of transactions associated with the first subscriber in the first log, the method further comprising the step of:
<claim-text>e) aggregating the plurality of transactions into a report provided to the first subscriber.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first credit card is associated with a first subscriber and the first transaction is one of a plurality of transactions associated with the first credit card in the first log, the method further comprising the step of:
<claim-text>e) aggregating the plurality of transactions into a second transaction, the second transaction being performed with an acquiring bank and said first credit card number.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first credit card is associated with a first subscriber and the first transaction is one of a plurality of transactions associated with the first subscriber in the first log, the method further comprising the step of:
<claim-text>e) aggregating the plurality of transactions into a second transaction, the second transaction being performed with an acquiring bank and a second credit card number corresponding to the subscriber.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A computer-implemented method of tracking account identification usage at pay stations, the method comprising the steps of:
<claim-text>a) accepting, with an account identification reader of a pay station, a first account identification information;</claim-text>
<claim-text>b) searching a first list for data representative of the first account identification information, with a processor of the pay station, the first list in a memory accessible by the pay station, wherein the first list comprises data representative of said first account identification information; and,</claim-text>
<claim-text>c) recording a first transaction in a first log in the memory with the processor, said first log comprising data representative of said first transaction, said first transaction not individually submitted to any payment system.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref> further comprising the steps of:
<claim-text>d) accepting, with the account identification reader, a second account identification information;</claim-text>
<claim-text>e) searching said first list for data representative of the second account identification information, with the processor, wherein the first list does not comprise data representative of said second account identification information; and,</claim-text>
<claim-text>f) performing a second transaction with the processor, the processor having communication with a payment system, the second transaction further being performed with said payment system and said second account identification information.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein the account identification reader is for at least one of a credit card, debit card, and an RFID tag.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. A pay station comprising:
<claim-text>a reader for an account identification; and,</claim-text>
<claim-text>a processor having communication with a memory and the reader, the memory containing a first list of data representative of account identification information, the processor programmed to perform the steps of:
<claim-text>a) accepting, through the reader, a first account identification information,</claim-text>
<claim-text>b) searching said first list for data representative of the first account identification information, wherein the first list comprises data representative of said first account identification information, and,</claim-text>
<claim-text>c) recording a first transaction in a first log in the memory with the processor, said first log comprising data representative of said first transaction, said first transaction not individually submitted to any payment system.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The pay station of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the processor has communication with a payment system, and the processor is further programmed to perform the steps of:
<claim-text>d) accepting, through the reader, a second account identification information,</claim-text>
<claim-text>e) searching said first list for data representative of the second account identification information, wherein the first list does not comprise data representative of said second account identification information, and,</claim-text>
<claim-text>f) performing a second transaction with the processor, the payment system, and the second account identification information. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
