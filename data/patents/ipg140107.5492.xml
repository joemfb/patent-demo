<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626592-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626592</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13846924</doc-number>
<date>20130318</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<disclaimer>
<text>This patent is subject to a terminal disclaimer.</text>
</disclaimer>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20120101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>Q</subclass>
<main-group>20</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>705 16</main-classification>
<further-classification>705 261</further-classification>
</classification-national>
<invention-title id="d2e51">Real-time payment authorization</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7922083</doc-number>
<kind>B2</kind>
<name>Harrison et al.</name>
<date>20110400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>235381</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7996288</doc-number>
<kind>B1</kind>
<name>Stolfo</name>
<date>20110800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 35</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2005/0080716</doc-number>
<kind>A1</kind>
<name>Belyi et al.</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 38</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2008/0183621</doc-number>
<kind>A1</kind>
<name>Evans</name>
<date>20080700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 40</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2009/0313143</doc-number>
<kind>A1</kind>
<name>Darensbourg et al.</name>
<date>20091200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 28</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2011/0180598</doc-number>
<kind>A1</kind>
<name>Morgan et al.</name>
<date>20110700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>235380</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2011/0238510</doc-number>
<kind>A1</kind>
<name>Rowen et al.</name>
<date>20110900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 16</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2012/0109681</doc-number>
<kind>A1</kind>
<name>Chapman et al.</name>
<date>20120500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705  2</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2012/0197794</doc-number>
<kind>A1</kind>
<name>Grigg et al.</name>
<date>20120800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 41</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>26</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>10</number-of-drawing-sheets>
<number-of-figures>10</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>13475112</doc-number>
<date>20120518</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8401904</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13846924</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61559136</doc-number>
<date>20111113</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130290121</doc-number>
<kind>A1</kind>
<date>20131031</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only" applicant-authority-category="assignee">
<addressbook>
<orgname>Google Inc.</orgname>
<address>
<city>Mountain View</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Simakov</last-name>
<first-name>Pavel</first-name>
<address>
<city>San Mateo</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Bedier</last-name>
<first-name>Osama</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Lai</last-name>
<first-name>Angela Chun Wah</first-name>
<address>
<city>Los Altos Hills</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="004" designation="us-only">
<addressbook>
<last-name>Phukan</last-name>
<first-name>Prasenjit</first-name>
<address>
<city>Los Altos</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Johnson, Marcou &#x26; Isaacs, LLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Google Inc.</orgname>
<role>02</role>
<address>
<city>Mountain View</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Zeender</last-name>
<first-name>F.</first-name>
<department>3627</department>
</primary-examiner>
<assistant-examiner>
<last-name>Buchanan</last-name>
<first-name>Christopher</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Novel features to be used in a proxy card payment system include a real-time request to override a declined transaction or to select a different financial account and the insertion of user identification information into the transaction approval message sent to the merchant. A payment request is forwarded to the payment system, which maintains the proxy card account and determines whether the transaction violates a user-defined rule. If the transaction is declined by the issuer that maintains the financial account, or the payment system for violation of a user-defined rule, the payment system sends a real-time message to the user. The user is prompted to override the rule causing the transaction to be declined or to select a new account to process the transaction. Once the payment system receives authorization for the transaction, it inserts the user identification information in an approval message before transmitting the approval to the merchant.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="239.69mm" wi="169.42mm" file="US08626592-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="259.50mm" wi="165.69mm" orientation="landscape" file="US08626592-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="196.85mm" wi="141.82mm" file="US08626592-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="217.51mm" wi="150.62mm" file="US08626592-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="257.05mm" wi="153.42mm" file="US08626592-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="247.65mm" wi="168.15mm" file="US08626592-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="248.67mm" wi="167.81mm" file="US08626592-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="258.83mm" wi="143.59mm" file="US08626592-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="189.48mm" wi="128.86mm" file="US08626592-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="254.59mm" wi="168.49mm" file="US08626592-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="250.11mm" wi="163.91mm" file="US08626592-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application is a continuation of U.S. patent application Ser. No. 13/475,112 filed May 18, 2012 and entitled &#x201c;Real-time Payment Authorization,&#x201d; which claims priority to U.S. Provisional Patent Application No. 61/559,136 filed Nov. 13, 2011 and entitled &#x201c;Virtual Payment Path.&#x201d; The entire contents of the above-identified priority applications are hereby fully incorporated herein by reference.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">TECHNICAL FIELD</heading>
<p id="p-0003" num="0002">The present disclosure relates generally to proxy cards, and, more particularly, to novel features to be used in proxy card payment systems.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">In a conventional merchant-consumer financial transaction, the merchant's point of sale terminal or online payment process engine submits a payment request to the acquirer (for example Chase PaymentTech, or other third party payment processing companies) for payment for the transaction. The acquirer then submits the request to authorize the transaction to the issuer (for example Citibank, CapitalOne, Bank of America, and other financial institutions to authorize payment) through the card network (for example VISA, MasterCard, American Express, Discover or other card processing networks). If funds are available, the issuer sends an authorization code to the acquirer through the card network, and the acquirer notifies the merchant of the approval for the payment transaction. The payment process involves a single payment request generated and submitted by the merchant. The request contains generalized information, such as the total payment amount and consumer account-identifying information encoded on the card's magnetic stripe, but the request does not contain item-specific information, such as the stock-keeping unit (&#x201c;SKU&#x201d;) number, or user identification information, such as an electronic mail address.</p>
<p id="p-0005" num="0004">Conventional merchant-consumer financial transactions also have involved payment via a consumer's financial account, such as a debit card, credit card, or stored value card. The consumer card typically accesses only one type of account, which is maintained by only one issuer. For instance, an &#x201c;issuer1&#x201d; credit card accesses only the consumer's financial account from &#x201c;issuer1,&#x201d; and payment is approved/denied by a single issuer (&#x201c;issuer1&#x201d;). Approval or denial of the transaction is dependent upon rules set by the particular issuer, for example, credit limits and geographical limitations. Notification of a violation of these rules results in a declined transaction, and the consumer must contact the issuer to alter the rules or to address a declined transaction.</p>
<p id="p-0006" num="0005">More recently, proxy card payment systems enable users to utilize a single card to access multiple financial accounts maintained by multiple issuers. The user receives a proxy card from the payment system and either creates a new payment system account or associates the proxy card with the user's digital wallet account already maintained by the payment system. The user then associates one or more financial card accounts with the proxy account. For example, the user can associate with the user's proxy card account multiple debit/credit cards maintained by multiple issuers (including the payment system operating as an issuer), stored value cards (for example, gift cards, prepaid cards, re-loadable transaction cards, exchange cards, and other forms of non-credit based value cards), loyalty cards or store rewards cards, value added service accounts (for example, coupons, vouchers for prepaid offers, redemption offers, and other forms of offers), and/or other forms of financial card accounts. The user applies the proxy card to a transaction with the merchant in a manner similar to the application of any financial card to a transaction. The merchant forwards the payment request to the acquirer, which forwards the payment request to the card network. The card network forwards the proxy card payment request to the payment system, which functions as the issuer for the payment request. The payment system can read proxy card account information from the payment request and can access the user's account associated with the proxy card. If the payment system is the issuer of the financial account, the payment system will approve or decline the transaction. If another issuer maintains the financial account, the payment system will generate and send a new payment request to the issuer via the card network. The payment system will receive the authorization message from the issuer via the card network if the transaction is approved. The payment system forwards an authorization to the acquirer through the card network, which forwards the authorization to the merchant. The merchant then approves the transaction.</p>
<heading id="h-0004" level="1">SUMMARY</heading>
<p id="p-0007" num="0006">In certain exemplary aspects, novel features to be used in a proxy card payment system include a real-time request to override a declined transaction or a real-time request to select a different financial account to proceed with the transaction and the insertion of user identification information into the transaction approval message sent to the merchant. A payment system includes specified information for multiple financial accounts, including, but not limited to debit cards, credit cards, stored value cards, loyalty/rewards cards, and coupons (including purchased offers and other offers), each accessible by the proxy account. The user sets rules specifying which financial account will be accessed when the proxy card is used and specifying limits or circumstances during which the proxy card will be declined. A payment request is forwarded to the payment system, which maintains the proxy card account. The payment system reads the user account information before using the rules to determine the order in which the financial accounts are to be applied and whether the transaction violates a user-defined rule. If the payment system does not maintain the financial account, the payment system sends a new payment request to the issuer of the referenced account. If the transaction is to be declined by the issuer or the payment system, the payment system can send a real-time message to the user via the user's mobile device. The user may be prompted to override a rule causing the transaction to be declined or to select a new account to process the transaction. Once the payment system receives authorization for the transaction, it can insert user identification information in an approval message before transmitting the approval to the merchant, through the card network and acquirer. User identification information also can be provided in the proxy card account information stored on the magnetic stripe of the proxy card or otherwise associated with the proxy card account identifier.</p>
<p id="p-0008" num="0007">These and other aspects, objects, features and advantages of the exemplary embodiments will become apparent to those having ordinary skill in the art upon consideration of the following detailed description of illustrated exemplary embodiments, which include the best mode of carrying out the invention as presently presented.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram depicting an operating environment for a single proxy account capable of accessing multiple accounts maintained by multiple issuers according to an exemplary embodiment.</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 2</figref> is a block flow diagram depicting a method for registering a user proxy card according to an exemplary embodiment.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 3</figref> is a block flow diagram depicting a method for defining proxy card static rules according to an exemplary embodiment.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 4</figref>, comprising <figref idref="DRAWINGS">FIGS. 4A and 4B</figref>, is a block flow diagram depicting a method for processing a proxy card payment according to an exemplary embodiment.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 5</figref> is a block flow diagram depicting a method for accessing a user's proxy card account according to an exemplary embodiment.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 6</figref> is a block flow diagram depicting a method for processing value added services according to an exemplary embodiment.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 7</figref> is a block flow diagram depicting a method for sending offers according to an exemplary embodiment.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 8</figref>, comprising <figref idref="DRAWINGS">FIGS. 8A and 8B</figref>, is a block flow diagram depicting a method for authorizing a declined transaction according to an exemplary embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION OF EXEMPLARY EMBODIMENTS</heading>
<p id="h-0007" num="0000">Overview</p>
<p id="p-0017" num="0016">A payment system includes specified information for multiple financial accounts, including, but not limited to debit cards, credit cards, stored value cards, loyalty/rewards cards, and coupons (including purchased offers and other offers), each accessible by the proxy account. The user sets rules specifying which financial account will be accessed when the proxy card is used and specifying limits or circumstances during which the proxy card will be declined. The user can then add, delete, or change the default payment rules associated with the proxy card. The user can change these default static rules, create new rules, or delete a rule. In an exemplary embodiment, the user can access the payment system account and modify the rules at any time, including a time immediately before a payment transaction is initiated using the proxy card. In an exemplary embodiment, the user can access the payment system account using a mobile device application.</p>
<p id="p-0018" num="0017">If the user has defined static payment rules or added/deleted/modified the rules prior to the transaction, the payment system applies the user-defined rules to the transaction first. Otherwise, the payment system applies the default static payment rules to the transaction. If the transaction is to be declined, the payment system notifies the user of the declined transaction via a message communicated to the user's mobile device. If the violation of a rule caused the transaction to be declined, the user may be prompted to override the rule. If the financial account has insufficient funds, the user may be prompted to select a new financial account. Instead of declining the payment request, the payment system can authorize and/or process the payment request based on the user's response to the message. Alternatively, the payment system can decline the original payment request, communicate the notice message to the user, receive the user's response, and revise the stored rules for payment. Then, the user may immediately initiate a new payment transaction with the merchant using the proxy card. The payment system will then approve the payment transaction after receipt of a new payment request.</p>
<p id="p-0019" num="0018">The payment system generates a new payment request if the financial account is maintained by a non-payment system issuer or authorizes the original payment request if the payment system maintains the financial account. In either case, the payment system can add user identification information to the authorization message received from the issuer or generated by the payment system acting as issuer for the financial account. The payment system also can forward offers to the user or inject offers directly into the payment transaction based on the product identification information received in the payment message and/or the merchant identification information.</p>
<p id="p-0020" num="0019">Users may be allowed to limit or otherwise affect the operation of the features disclosed herein. For example, users may be given opportunities to opt-in or opt-out of the collection or use of certain data or the activation of certain features. In addition, users may be given the opportunity to change the manner in which the features are employed, including for situations in which users may have concerns regarding privacy. Instructions also may be provided to users to notify them regarding policies about the use of information, including personally identifiable information, and manners in which each user may affect such use of information. Thus, information can be used to benefit a user, if desired, through receipt of relevant advertisements or other information, without risking disclosure of personal information or the user's identity.</p>
<p id="p-0021" num="0020">The functionality of the exemplary embodiments will be explained in more detail in the following description, read in conjunction with the figures illustrating the program flow.</p>
<p id="h-0008" num="0000">System Architecture</p>
<p id="p-0022" num="0021">Turning now to the drawings, in which like numerals indicate like (but not necessarily identical) elements throughout the figures and exemplary embodiments are described in detail.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram depicting an operating environment <b>100</b> for a proxy card <b>105</b> capable of accessing multiple accounts maintained by multiple issuers <b>160</b>, <b>170</b> according to an exemplary embodiment. As depicted in <figref idref="DRAWINGS">FIG. 1</figref>, the exemplary operating environment <b>100</b> includes a proxy card <b>105</b>, merchant system <b>110</b>, a user <b>101</b> mobile device system <b>120</b>, an acquirer system <b>140</b>, a card network system <b>150</b>, an issuer/payment system <b>160</b>, and one or more issuer system <b>170</b> that are configured to communicate with one another via one or more communication networks (not shown).</p>
<p id="p-0024" num="0023">Each communication network includes a wired or wireless telecommunication means by which network devices (including devices <b>105</b>, <b>110</b>, <b>120</b>, <b>140</b>, <b>150</b>, <b>160</b> and <b>170</b>) can exchange data. For example, each network can include a local area network (&#x201c;LAN&#x201d;), a wide area network (&#x201c;WAN&#x201d;), an intranet, an Internet, a mobile telephone network, a card network or any combination thereof. Throughout this specification, it should be understood that the terms &#x201c;data&#x201d; and &#x201c;information&#x201d; are used interchangeably herein to refer to text, images, audio, video, or any other form of information that can exist in a computer-based environment.</p>
<p id="p-0025" num="0024">The secure communication channel <b>130</b> includes a telecommunication means by which network devices (including devices <b>110</b> and <b>120</b>) can exchange data. For example, each connection can include a local area network (LAN), a wide area network (WAN), an intranet, an Internet, a mobile telephone network, a personal area network (PAN) or any combination thereof. In exemplary embodiments, the secure communication channel <b>130</b> comprises a proximity communication connection, such as Bluetooth. Bluetooth can enable the exchange of data over short distances through the creation of PANs with high levels of security. Wi-Fi is yet another proximity communication type wherein contactless devices can communicate via a wireless ad hoc network. In an alternative exemplary embodiment, the secure communication channel <b>130</b> comprises a near field communication (NFC) communication method.</p>
<p id="p-0026" num="0025">The point of sale (POS) terminal system <b>110</b> includes a terminal reader <b>113</b> that is capable of reading the proxy card <b>105</b> and communicating with the mobile device system <b>120</b> and the merchant POS terminal <b>118</b> via an application <b>115</b>.</p>
<p id="p-0027" num="0026">In an exemplary embodiment, the terminal reader <b>113</b> comprises a magnetic stripe reader, which reads a magnetic stripe on the proxy card <b>105</b> when the proxy card <b>105</b> is swiped in the reader. In other exemplary embodiments, the terminal reader <b>113</b> comprises a bar code, QR code, or other machine-readable scanner that captures information from the proxy card.</p>
<p id="p-0028" num="0027">In another exemplary embodiment, the terminal reader <b>113</b> comprises a communication component that communicates with the mobile device <b>120</b> using a Bluetooth communication method. In an alternative exemplary embodiment, the terminal reader <b>113</b> communicates with the mobile device <b>120</b> using a Wi-Fi communication method. In yet another exemplary embodiment, the terminal reader <b>113</b> communicates with the mobile device <b>120</b> using a NFC communication method. While the terminal reader <b>113</b> is depicted as standalone hardware device, the terminal reader <b>113</b> also may be an integrated part of the POS terminal <b>118</b>, in accordance with alternative exemplary embodiments.</p>
<p id="p-0029" num="0028">In an exemplary embodiment, the mobile device system <b>120</b> can refer to a smart device that can communicate via an electronic, magnetic, or radio frequency field between the device and another device, such as a terminal reader <b>113</b>. In an exemplary embodiment, the mobile device <b>120</b> has processing capabilities, such as storage capacity/memory and one or more application <b>122</b> that can perform a particular function. In an exemplary embodiment, the mobile device <b>120</b> contains an operating system (not illustrated) and user interface <b>123</b>. Exemplary mobile devices <b>120</b> include smart phones; mobile phones; PDAs; mobile computing devices, such as netbooks and iPads; other electronically enabled key fobs; electronically enabled credit card type cards; and other devices, in each case having processing and user interface functionality. Certain mobile devices <b>120</b> can be used for multiple purposes, including financial transactions, coupons, ticketing, secure authentication, and other related applications.</p>
<p id="p-0030" num="0029">The secure element <b>126</b> can exist within a removable smart chip or a secure digital (SD) card, or can be embedded within a fixed chip on the mobile device <b>120</b>. In certain exemplary embodiments, Subscribed Identity Module (SIM) cards may be capable of hosting a secure element <b>126</b>, for example, an NFC SIM Card. The secure element allows a wallet software application or other application (<b>122</b> or <b>127</b>) resident on the device <b>120</b> and accessible by the user <b>101</b> to interact securely with certain functions within the secure element <b>126</b>, while protecting information stored within the secure element. The secure element <b>126</b> comprises applications <b>127</b> running thereon that perform the functionality described herein.</p>
<p id="p-0031" num="0030">The secure element <b>126</b> includes components typical of a smart card such as crypto processors and random generators. In an exemplary embodiment, the secure element <b>126</b> comprises a Smart MX type NFC controller <b>124</b> in a highly secure system on a chip controlled by a smart card operating system, such as a JavaCard Open Platform (JCOP) operating system. In another exemplary embodiment, the secure element <b>126</b> is configured to include a non-EMV type contactless smart card, such as an optional implementation.</p>
<p id="p-0032" num="0031">The secure element <b>126</b> communicates with the controller <b>124</b> and the application <b>122</b> in the mobile device <b>120</b>. In an exemplary embodiment, the secure element <b>126</b> is capable of storing encrypted user information and only allowing trusted applications to access the stored information. The controller <b>124</b> interacts with a secure key encrypted application <b>122</b> for decryption and installation in the secure element <b>126</b>. In an exemplary embodiment, the controller <b>124</b> is a Bluetooth link controller. The Bluetooth link controller may be capable of sending and receiving data, identifying the terminal reader <b>113</b>, performing authentication and ciphering functions, and directing how the mobile device <b>120</b> will listen for transmissions from the terminal reader <b>115</b> or configure the mobile device <b>120</b> into various power-save modes according to the Bluetooth-specified procedures. In another exemplary embodiment, the controller <b>124</b> is a Wi-Fi controller or an NFC controller capable of performing similar functions.</p>
<p id="p-0033" num="0032">The application <b>122</b> is a program, function, routine, applet or similar entity that exists on and performs its operations on a mobile device <b>120</b>. For example, the application <b>122</b> may be one or more of a digital wallet application, a coupon application, a loyalty card application, another value-added application, a user interface application, or other suitable application operating on the mobile device <b>120</b>. Additionally, the secure element <b>126</b> also may comprise secure contactless software applications, such as payment applications, secure forms of the applications <b>122</b>, authentication applications, payment provisioning applications, or other suitable application using the secure functionality of the secure element.</p>
<p id="p-0034" num="0033">An exemplary digital wallet application <b>122</b> enables storage of one or more financial card accounts registered by user <b>101</b>. In an exemplary embodiment, the registered accounts can be maintained by the user's <b>101</b> digital wallet application <b>122</b> and stored in the data storage unit <b>167</b>. In yet another embodiment, the registered accounts can be maintained by the payment system's <b>160</b> processing module <b>163</b> and stored in the data storage unit <b>167</b>.</p>
<p id="p-0035" num="0034">The mobile device <b>120</b> communicates with the terminal reader <b>113</b> via an antenna <b>128</b>. In an exemplary embodiment, once the mobile device application <b>122</b> has been activated and prioritized, the controller <b>124</b> is notified of the state of readiness of the mobile device <b>120</b> for a transaction. The controller <b>124</b> outputs through the antenna <b>128</b> a radio signal, or listens for radio signals from the device reader <b>115</b>. On establishing a secure communication channel <b>130</b> between the mobile device <b>120</b> and the terminal reader <b>113</b>, the terminal reader <b>113</b> requests the list of available applications <b>127</b> from the secure element <b>126</b>. A directory is first displayed, after which, based on the set priority or the type of device reader <b>115</b>, an application <b>127</b> is chosen and initiated for the transaction.</p>
<p id="p-0036" num="0035">In certain exemplary embodiments, the network devices (including devices <b>110</b>, <b>120</b>, <b>140</b>, <b>150</b>, <b>160</b>, and <b>170</b>) include an HTML5 compliant or other web server. HTML5 compliant web servers include a cross-document messaging application programming interface (&#x201c;API&#x201d;) and a local storage API that previous HTML versions did not have. The cross-document messaging API of HTML5 compliant web servers enable documents, such as websites, to communicate with each other. For example, a first document can send a message to a second document requesting information. In response, the second document can send a message including the requested information to the first document. The local storage API of HTML5 compliant web browsers enables the web browser to store information on a client device upon which the web browser is installed or is executing. Websites can employ the local storage API to store information on a client device. Other web browsers have cross-document messaging and/or local storage capabilities also may be used in certain exemplary embodiments.</p>
<p id="p-0037" num="0036">In an exemplary embodiment, the proxy card <b>105</b> looks and/or functions in the same manner as a standard credit or debit card. For example, the proxy card <b>105</b> may have the user's <b>101</b> name and/or account number listed on the front of the card <b>105</b>. An exemplary proxy card <b>105</b> can include a magnetic stripe encoding the user's <b>101</b> payment system <b>160</b> account information. In an exemplary embodiment, the account information encoded in the magnetic stripe routes payment requests to the payment system <b>160</b> for processing.</p>
<p id="p-0038" num="0037">In an alternative exemplary embodiment, the proxy card <b>105</b> is not a physical card. Instead, the proxy card <b>105</b> is an account accessible by a wireless tap of a mobile device <b>120</b>, an account identification number, a bar code or QR code, a token, or other form of account identification or access, which may be entered manually into the term POS terminal <b>118</b> or terminal reader <b>113</b> or which may be captured by the terminal reader <b>113</b>. The proxy card <b>105</b> as discussed throughout the specification refers to a physical card as well as the proxy account.</p>
<p id="p-0039" num="0038">The user <b>101</b> may use the mobile device <b>120</b> or other network device to register the proxy card <b>105</b> and/or access the user's <b>101</b> payment system <b>160</b> account. The mobile device <b>120</b> may comprise appropriate technology that includes or is coupled to a web server (for example, Google Chrome, Microsoft Internet Explorer, Netscape, Safari, Firefox, or other suitable application for interacting with web page files).</p>
<p id="p-0040" num="0039">The payment system <b>160</b> includes a data storage unit <b>167</b> accessible by the processing module <b>163</b>. The exemplary data storage unit <b>167</b> can include one or more tangible computer-readable storage devices.</p>
<p id="p-0041" num="0040">The user <b>101</b> can use the web server to view, register, download, upload, or otherwise access the payment system <b>160</b> via a website (not illustrated) and a communication network (not illustrated). The user <b>101</b> associates one or more registered financial card accounts, including bank account debit cards, credit cards, gift cards, loyalty cards, coupons, offers, prepaid offers, store rewards cards, or other type of financial account that can be used to make a purchase or redeem value-added services with the proxy card <b>105</b>. The registered financial card accounts may have multiple issuers <b>160</b>, <b>170</b> that maintain each financial account. The payment system <b>160</b> also may function as the issuer for the associated financial account. The user's <b>101</b> registration information is saved in the payment system's <b>160</b> data storage unit <b>167</b> and is accessible the by the processing module <b>163</b>. The registration of a user <b>101</b> proxy card <b>105</b> is discussed in more detail hereinafter with reference to the methods described in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0042" num="0041">The user <b>101</b> also may use the web server to define proxy card <b>105</b> payment rules. The creation of proxy card <b>105</b> payment rules is discussed in more detail hereinafter with reference to the methods described in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0043" num="0042">The merchant <b>110</b> may use a web server (not illustrated) to view, download, upload, create offers, or otherwise access the payment system <b>160</b> via a website (not illustrated) and a communication network (not illustrated).</p>
<p id="p-0044" num="0043">The user <b>101</b> may request a purchase from the merchant <b>110</b>. In an exemplary embodiment, the purchase is initiated by swiping the proxy card <b>105</b> at the POS terminal <b>118</b>. In an alternative exemplary embodiment, the purchase is initiated by a wireless &#x201c;tap&#x201d; of the mobile device <b>120</b> with the terminal reader <b>113</b>. In an alternative exemplary embodiment, the purchase is initiated when the user <b>101</b> enters an account identification number at the POS terminal <b>118</b> or in the mobile device <b>120</b>. The account identification number may be the proxy card <b>105</b> account number or a different number that links the payment transaction to the proxy card <b>105</b> account. In yet another alternative exemplary embodiment, the purchase is initiated by use of a permanent/temporary virtual/physical token, QR code, bar code, or other suitable machine-readable medium captured by the terminal reader <b>113</b>. The merchant's POS terminal <b>118</b> interacts with the acquirer <b>140</b> (for example Chase PaymentTech, or other third party payment processing companies), the card network <b>150</b> (for example VISA, MasterCard, American Express, Discover or other card processing networks), the payment system <b>160</b>, and the issuer <b>170</b> (for example Citibank, CapitalOne, Bank of America, and other financial institutions to authorize payment). The processing of proxy card <b>105</b> payments is discussed in more detail hereinafter with reference to the methods described in <figref idref="DRAWINGS">FIGS. 4-8</figref>.</p>
<p id="h-0009" num="0000">System Process</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 2</figref> is a block flow diagram depicting a method for registering a user proxy card according to an exemplary embodiment. The method <b>200</b> is described with reference to the components illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0046" num="0045">In block <b>210</b>, the payment system <b>160</b> issues a proxy card <b>105</b> to the user <b>101</b>. In an exemplary embodiment, the user <b>101</b> creates requests a proxy card <b>105</b> using a web server, and the proxy card <b>105</b> is mailed to the user <b>101</b>. The user <b>101</b> may be issued an account number to be used for transactions via the Internet before a physical card is received. In an alternative exemplary embodiment, the payment system <b>160</b> mails an inactivated proxy card <b>105</b> to the user <b>101</b>. The proxy card <b>105</b> is then activated by the user <b>101</b> before use. In an alternative exemplary embodiment, a physical proxy card <b>105</b> is not issued. The proxy card <b>105</b> account information is stored in the mobile device <b>120</b> and is used to make a payment via a NFC, Bluetooth, Wi-Fi, or other form of wireless tap of the mobile device <b>120</b> with the terminal reader <b>113</b>. In an alternative exemplary embodiment, the purchase is initiated when the user <b>101</b> enters an account identification number at the POS terminal <b>118</b> or in the mobile device <b>120</b>. The account identification number may be the proxy card <b>105</b> account number or a different number that links the payment transaction to the proxy card <b>105</b> account. In yet another alternative exemplary embodiment, the purchase is initiated by use of a permanent/temporary virtual/physical token QR code, bar code, or other suitable machine-readable medium that is read by the POS terminal <b>118</b>. In these cases, the POS terminal <b>118</b> may comprise a scanner, camera, or other reading device that captures the proxy account information, such as a bar code or QR reader or other suitable reading device. The proxy account information may be printed in paper or other form.</p>
<p id="p-0047" num="0046">In block <b>220</b>, the user <b>101</b> creates a new payment system <b>160</b> account or links the proxy card <b>105</b> to an existing payment system <b>160</b> account. The payment system <b>160</b> also may create or update a digital wallet application <b>122</b> account on the mobile device <b>120</b>.</p>
<p id="p-0048" num="0047">In block <b>230</b>, the user <b>101</b> activates the proxy card <b>105</b> and associates one or more financial card accounts (for example, debit cards, credit cards, gift cards/stored value cards, loyalty cards/reward cards, coupons, prepaid or other offers, and other accounts used to make a purchase or redeem value added services) with the proxy card <b>105</b> account. In an exemplary embodiment, the user associates multiple financial card accounts with the proxy card <b>105</b> account. The user <b>101</b> may perform this block by inputting identifying information for each financial card account.</p>
<p id="p-0049" num="0048">In an exemplary embodiment, one or more financial card account(s) are maintained by the payment system <b>160</b> and other issuers <b>170</b><i>a</i>. In an alternative exemplary embodiment, the payment system <b>160</b> maintains one or more of the financial card accounts and acts as the issuer for that financial card account. In another exemplary embodiment, the financial card accounts are maintained by more than one issuer <b>170</b>, including the payment system <b>160</b>.</p>
<p id="p-0050" num="0049">The user <b>101</b> may define payment rules to be followed when processing a payment using the proxy card <b>105</b>, in block <b>240</b>. The method for defining the proxy card <b>105</b> rules is described in more detail hereinafter with reference to the methods described in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 3</figref> is a block flow diagram depicting a method for defining proxy card static rules according to an exemplary embodiment. The method <b>240</b> is described with reference to the components illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0052" num="0051">In block <b>310</b>, the payment system <b>160</b> sets forth the default payment rules associated with the proxy card <b>105</b> account. Blocks <b>320</b> through <b>365</b> describe the exemplary default payment rules. In an alternative exemplary embodiment, the exemplary default rules may appear in any order. In another exemplary embodiment, one or more of the exemplary default rules may not be used if additional funds are not required. For example, if after the application of a stored value account, further funds are not required to complete the purchase, the payment transaction will be fully authorized without following further rules.</p>
<p id="p-0053" num="0052">Blocks <b>320</b>-<b>365</b> depict an exemplary rule flow. In an exemplary embodiment, offers and value added services are applied first. In block <b>320</b>, the payment system <b>160</b> will determine if the user <b>101</b> has any coupons, vouchers, prepaid or other redemption offers, or other forms of value added services associated with the proxy card <b>105</b> first.</p>
<p id="p-0054" num="0053">If the payment system <b>160</b> determines that the user <b>101</b> has a value added service available, it will apply those financial accounts first, in block <b>325</b>. In an exemplary embodiment, the payment system <b>160</b> will have a pre-defined order in which it looks for and applies the various forms of value added services. For example, the payment system <b>160</b> may apply vouchers first, then coupons, then redemption offers, and finally any other form of registered value added service.</p>
<p id="p-0055" num="0054">If the payment system <b>160</b> determines that the user <b>101</b> does not have a value added service available, it will proceed to block <b>340</b>.</p>
<p id="p-0056" num="0055">In an exemplary embodiment, loyalty cards are applied second. In block <b>340</b>, the payment system <b>160</b> will determine if the user <b>101</b> has a loyalty card, reward card, or other form of store value card associated with the proxy card <b>105</b>. In an alternative exemplary embodiment, the payment system <b>105</b> may apply loyalty cards before other forms of value added services.</p>
<p id="p-0057" num="0056">If the payment system <b>160</b> determines that the user <b>101</b> has a loyalty card available, it will apply that financial account. In an exemplary embodiment, the payment system <b>160</b> will determine if multiple loyalty cards are available and apply each financial account.</p>
<p id="p-0058" num="0057">If the payment system <b>160</b> determines that the user <b>101</b> does not have a loyalty card available, it will proceed to block <b>350</b>.</p>
<p id="p-0059" num="0058">In an exemplary embodiment, stored value accounts are applied third. In block <b>350</b>, the payment system <b>160</b> will determine if the user <b>101</b> has a stored value account, including gift cards, prepaid cards, re-loadable transaction cards, exchange cards and other forms of non-credit based value cards associated with the proxy card <b>105</b>.</p>
<p id="p-0060" num="0059">If the payment system <b>160</b> determines that the user <b>101</b> has a stored value card available, it will apply that financial account. In an exemplary embodiment, the payment system <b>160</b> will determine if multiple stored value accounts are available and apply each financial account.</p>
<p id="p-0061" num="0060">If the payment system <b>160</b> determines that the user <b>101</b> does not have a stored value card available, it will proceed to block <b>360</b>.</p>
<p id="p-0062" num="0061">In an exemplary embodiment, debit and credit cards are applied last. In block <b>360</b>, the payment system <b>160</b> will determine if the user <b>101</b> has a debit card, credit card or other form of credit-based account associated with the proxy card <b>105</b>.</p>
<p id="p-0063" num="0062">If the payment system <b>160</b> determines that the user <b>101</b> has a debit/credit card available, it will apply that financial account.</p>
<p id="p-0064" num="0063">If the payment system <b>160</b> determines that the user <b>101</b> does not have a debit/credit card available, the transaction will end.</p>
<p id="p-0065" num="0064">In an exemplary embodiment, the default static payment rules may be presented in any order. In an alternative exemplary embodiment, the payment system <b>160</b> may add, delete, or otherwise change any of the default static payment rules.</p>
<p id="p-0066" num="0065">The user <b>101</b> also may configure payment rules. In block <b>370</b>, the user <b>101</b> may add, delete, or otherwise change any of the default static payment rules. In an exemplary embodiment, the user <b>101</b> also may change the order of the rules.</p>
<p id="p-0067" num="0066">In an exemplary embodiment, the user <b>101</b> may define or select additional static payment rules. The user <b>101</b> may define payment rules based on the type of or name of the merchant (for example, if the merchant is a restaurant, use the A credit cards first, or use the frequent flyer credit card if the merchant is an airline), the time of day or day of the week (for example, use the restaurant loyalty card first for lunches over $5, or use the business credit card for weekday expenses between the hours of 9 am and 5 pm), or the location or currency used by the merchant (for example, use credit card X for all European transactions, or use credit card Z for all online transactions). The user may define conditional rules. For example, if the transaction is under $5 at B coffee shop, use the Y gift card.</p>
<p id="p-0068" num="0067">In addition to the rules discussed with reference to <figref idref="DRAWINGS">FIG. 3</figref>, the payment system <b>160</b> also can learn rules for application of a financial account. For example, if the user applies a particular financial account to a particular merchant or type of merchant, and the user repeats that process for a predetermined number of times or time period, then the payment system <b>160</b> can create a rule to apply that particular financial account whenever the proxy card is used at the particular merchant or type of merchant. The payment system <b>160</b> can log the user's <b>101</b> past use of particular financial accounts with regard to particular merchants or types of merchants. Then, when such logging determines that the user consistently applies the same financial account with the same merchant or type of merchant, the payment system <b>160</b> establishes a new rule for such use. In an exemplary embodiment, the payment system <b>160</b> can identify the user's past application of a particular financial account based on the user's rule setting in the payment system <b>160</b> within a predetermined time of application of the user's proxy card at the particular merchant or type of merchant. The payment system <b>160</b> may insert the learned rules into the appropriate order of payment rules. For example, if the learned payment rule applies to a credit or debit card, then the learned payment rule is inserted prior to the standard rule for applying credit or debit cards. A similar insertion process applies to offers, loyalty cards, and stored value cards.</p>
<p id="p-0069" num="0068">In an exemplary embodiment, the user <b>101</b> can access the payment system <b>160</b> account via the mobile device <b>120</b> and can add, delete, or modify the static rules at any time. In an exemplary embodiment, the user <b>101</b> can access the payment system <b>160</b> account and override the static rules on a one-time or multiple-time basis, without permanently changing the static rules. In an alternative exemplary embodiment, the user <b>101</b> can use a mobile device <b>120</b> application <b>122</b> to add, delete, or modify the static rules using the user interface <b>123</b> at the time payment is made.</p>
<p id="p-0070" num="0069">From block <b>370</b>, the method <b>240</b> proceeds to block <b>250</b> (<figref idref="DRAWINGS">FIG. 2</figref>).</p>
<p id="p-0071" num="0070">Returning to <figref idref="DRAWINGS">FIG. 2</figref>, in block <b>250</b>, the payment system <b>160</b> sends the user proxy card <b>105</b> account identification information to the network <b>150</b>.</p>
<p id="p-0072" num="0071">In block <b>260</b>, the network <b>150</b> stores the proxy card account identification information. In an alternative exemplary embodiment, the account number identifies the payment system <b>160</b> as the issuer and payments are automatically routed from the network <b>150</b> to the payment system <b>160</b> for approval.</p>
<p id="p-0073" num="0072"><figref idref="DRAWINGS">FIG. 4</figref> is a block flow diagram depicting a method for processing a proxy card payment according to an exemplary embodiment. The method <b>400</b> is described with reference to the components illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0074" num="0073">In block <b>403</b>, the user <b>101</b> optionally modifies the static rules defined in block <b>240</b>. In an exemplary embodiment, the mobile device <b>120</b> is used to temporarily add/modify/delete one or more static rules before a purchase is made using the proxy card <b>105</b>. In an alternative exemplary embodiment, the terminal reader <b>113</b> and/or POS terminal <b>118</b> is used to temporarily add/modify/delete one or more static rules before a purchase is made using the proxy card <b>105</b>.</p>
<p id="p-0075" num="0074">The user <b>101</b> applies the proxy card <b>105</b> to a transaction with the merchant <b>110</b>, in block <b>405</b>. In an exemplary embodiment, the user <b>101</b> swipes the proxy card <b>105</b> at the POS terminal <b>118</b> to pay for a transaction with the merchant <b>110</b>. Alternatively, the user may present a printed bar code, QR code, or other machine-readable indicia of the proxy card information for capture by the terminal reader <b>113</b>.</p>
<p id="p-0076" num="0075">In an alternative exemplary embodiment, the user <b>101</b> using the mobile device <b>120</b> to initiate a contactless &#x201c;tap&#x201d; with the terminal reader <b>113</b>. In operation of an NFC transaction, a user <b>101</b> &#x201c;taps&#x201d; a mobile device <b>120</b>, such as an NFC-enabled mobile phone <b>120</b>, to a terminal reader <b>113</b> of a point of sale system. The terminal reader <b>113</b> recognizes the NFC-enabled device <b>120</b> when the device is moved within range of the reader <b>113</b>, establishes a secure communication channel with the device <b>120</b>, and initiates a payment transaction between the reader <b>113</b> and the device <b>120</b>.</p>
<p id="p-0077" num="0076">In alternative exemplary embodiment, the user <b>101</b> completes an online purchase via the Internet. The user <b>101</b> can browse the merchant's <b>110</b> website for products using a web server and indicate a desire to purchase one or more products. After the user <b>101</b> has indicated a desire to purchase the product(s) (for example, by actuating a &#x201c;checkout&#x201d; link), the merchant's <b>110</b> website can present a user interface in the form of a webpage to receive payment information from the user <b>101</b>. The user <b>101</b> enters the proxy card <b>105</b> information to complete the purchase upon checkout.</p>
<p id="p-0078" num="0077">In another alternative exemplary embodiment, the digital wallet application <b>122</b> can interact with a website of the merchant <b>110</b> and with the user <b>101</b>. The merchant's <b>110</b> website can detect whether the mobile device <b>120</b> includes a digital wallet application <b>122</b> and attach to user's digital wallet. Once attached, the merchant's <b>110</b> website can send a purchase request message to the digital wallet application <b>122</b> requesting payment information. In response to receiving a purchase request message from the merchant's <b>110</b> website, the digital wallet application <b>122</b> can present the user <b>101</b> with a user interface <b>123</b> for the user <b>101</b> to confirm the purchase using proxy card <b>105</b> information saved in the digital wallet application <b>122</b>.</p>
<p id="p-0079" num="0078">In block <b>407</b>, the POS terminal generates a payment request message to request payment using the proxy account, and the merchant system <b>110</b> optionally adds product identification information to the payment request message generated by application of the proxy card <b>105</b> to the transaction. In an exemplary embodiment, the product identification information comprises the SKU number(s) of the products sought in the user-merchant transaction. In alternative exemplary embodiments, the product identification information can comprise any suitable information that uniquely identifies a product. For example, the product identification information can include Global Trade Item Numbers (&#x201c;GTINs&#x201d;), such as International Standard Book Numbers (&#x201c;ISBNs&#x201d;), Universal Product Codes (&#x201c;UPCs&#x201d;), European Article Numbers (&#x201c;EANs&#x201d;), Japanese Article Numbers (&#x201c;JANs&#x201d;), brand name and model number combinations, and other standard identifiers. In an alternative exemplary embodiment, the product identification information includes a broad grouping of product/service identification (for example, the category of goods/services sought).</p>
<p id="p-0080" num="0079">In an exemplary embodiment, the product identification information is inserted in an empty track of the magnetic stripe information obtained from the proxy card <b>105</b>. Traditionally, at least one track on the magnetic stripe of a financial card remains unused. Since the payment system <b>160</b> functions as the issuer of the proxy card <b>105</b>, the magnetic stripe can be formatted to contain variable information, in addition to the account information traditionally stored on tracks 1 and 2 of the magnetic stripe. The proxy card may be formatted to have one or more additional tracks wherein information can be transmitted between the merchant <b>110</b> and the payment system <b>160</b>. In an exemplary embodiment, the merchant <b>110</b> adds product identification information to an empty track in the payment request message to enable the application of product-specific value added services to the current transaction, such as coupons, prepaid and other offers, and loyalty/rewards programs. In an alternative exemplary embodiment, the product level identification information can be used to provide the user <b>101</b> with product-specific coupons and offers to be used in a later transaction.</p>
<p id="p-0081" num="0080">In block <b>410</b>, the merchant <b>110</b> submits the payment request to the acquirer <b>140</b>. In an exemplary embodiment, the merchant's POS terminal <b>118</b> submits the request to the acquirer <b>140</b> via a network (not illustrated). In an alternative exemplary embodiment, the merchant's <b>110</b> website submits a request to the acquirer <b>140</b>.</p>
<p id="p-0082" num="0081">The acquirer <b>140</b> submits the payment request to the card network <b>150</b>, in block <b>415</b>.</p>
<p id="p-0083" num="0082">In block <b>420</b>, the card network <b>150</b> determines whether the account number used to pay for the transaction is a classic card number. In an exemplary embodiment, the card network <b>150</b> automatically makes this determination using a series of numbers or routing information in the proxy card <b>105</b> account information. In an alternative exemplary embodiment, the card network <b>150</b> reviews a list of saved account identification information provided to the card network <b>150</b> by the payment system <b>160</b> above.</p>
<p id="p-0084" num="0083">If the card number is a classic card number, the payment is processed according to traditional payment processing methods, in block <b>423</b>.</p>
<p id="p-0085" num="0084">If the card number is not a classic card number, the issuer <b>170</b> is the payment system <b>160</b> (for example, if the proxy card <b>105</b> was used for the transaction). The card network <b>150</b> then forwards the payment request to the payment system <b>160</b>, in block <b>425</b>.</p>
<p id="p-0086" num="0085">In an alternative exemplary embodiment, the card number can comprise an identifier that corresponds to the list of saved account identification information, such as a block of numbers or other indicia, which identifies the issuer or the payment system. Based on this identifier, the payment is processed according to traditional payment processing methods, in block <b>423</b>, if the identifier corresponds to a conventional issuer, or the payment is forwarded to the payment system <b>160</b>, in block <b>425</b>, if the identifier corresponds to the payment system <b>160</b>.</p>
<p id="p-0087" num="0086">In block <b>427</b>, the payment system <b>160</b> optionally reads the product identification inserted into the payment request. In an exemplary embodiment, the product identification information was inserted by the merchant above. In an exemplary embodiment, the product identification information is used to determine which value added services can be applied to the current transaction. In an alternative exemplary embodiment, the product identification information is used to determine which offers can be provided to the user <b>101</b> for future transactions.</p>
<p id="p-0088" num="0087">In block <b>430</b>, the payment system <b>160</b> accesses the user's proxy card <b>105</b> account. The method for accessing a user's proxy card <b>105</b> account is described in more detail hereinafter with reference to the methods described in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0089" num="0088"><figref idref="DRAWINGS">FIG. 5</figref> is a block flow diagram depicting a method for accessing a user's proxy card account according to an exemplary embodiment. The method <b>430</b> is described with reference to the components illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0090" num="0089">In block <b>510</b>, the payment system <b>160</b> receives the proxy card <b>105</b> payment request from the card network <b>150</b>.</p>
<p id="p-0091" num="0090">The payment system <b>160</b> identifies the user <b>101</b> account associated with the proxy card, in block <b>520</b>. In an exemplary embodiment, the user's <b>101</b> account contains the static rules defined by the user <b>101</b> (or the default rules if the user <b>101</b> has not modified the default rules), any modifications made to the static rules prior to the transaction, and the associated financial accounts. In an exemplary embodiment, the payment system <b>160</b> uses the account information to determine how to proceed with the transaction.</p>
<p id="p-0092" num="0091">In block <b>530</b>, the payment system <b>160</b> determines if the user <b>101</b> has defined payment rules. In an exemplary embodiment, the user <b>101</b> has defined static rules and/or modified the rules prior to the transaction.</p>
<p id="p-0093" num="0092">If the user has defined payment rules, the payment system <b>160</b> applies the user-defined rules first to determine the order to apply the financial accounts to the transaction, in block <b>540</b>. In an exemplary embodiment, the payment system <b>160</b> applies the rules modified by the user <b>101</b> prior to the transaction first and the user-defined static rules second. In an alternative exemplary embodiment, the user <b>101</b> did not modify the rules prior to the transaction. In this embodiment, the payment system <b>160</b> applies the user-defined static rules first.</p>
<p id="p-0094" num="0093">In block <b>545</b>, the payment system <b>160</b> determines whether the transaction will be declined based on a user-defined rule. For example, if the user <b>101</b> defined a rule wherein no more than five transactions may occur in a single day, and this is the user's six transaction, the payment system <b>160</b> will determine that the transaction will be declined. If the transaction will be declined, the method <b>430</b> continues to block <b>815</b> (<figref idref="DRAWINGS">FIG. 8</figref>). Other rules that can cause a request to be declined include fraud protection rules. For example, the payment system <b>160</b> may decline a payment request if the transaction occurs outside of the user's <b>101</b> typical geographic area or if activity on the user's <b>101</b> account has exceeded a payment system <b>160</b> defined amount or number of transactions. Such fraud protection rules can be included in the default, static rules or the user-defined rules, or a combination thereof.</p>
<p id="p-0095" num="0094">If the transaction will not be declined, the method <b>430</b> continues to block <b>434</b> (<figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0096" num="0095">If the user has not defined payment rules, the payment system <b>160</b> proceeds to block <b>550</b>. In block <b>550</b>, the payment system <b>160</b> applies the default static payment rules to the transaction.</p>
<p id="p-0097" num="0096">In block <b>555</b>, the payment system <b>160</b> determines whether the transaction will be declined based on a default static rule. For example, if the user registered only gift cards with the payment system <b>160</b> and additional funds are required, the payment system <b>160</b> will determine that the transaction will be declined. If the transaction will be declined the method <b>430</b> continues to block <b>815</b> (<figref idref="DRAWINGS">FIG. 8</figref>).</p>
<p id="p-0098" num="0097">If the transaction will not be declined, the method <b>430</b> continues to block <b>434</b> (<figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0099" num="0098">From block <b>555</b>, the method <b>430</b> proceeds to block <b>435</b> (<figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0100" num="0099">Returning to <figref idref="DRAWINGS">FIG. 4</figref>, in block <b>435</b>, the payment system <b>160</b> determines if the user <b>101</b> has any coupons, vouchers, prepaid offers, redemption offers, loyalty/rewards cards, or other forms of value added services associated with the proxy card <b>105</b>.</p>
<p id="p-0101" num="0100">If the payment system <b>160</b> determines that the user <b>101</b> has a value added service available, it will apply those financial accounts first, in block <b>437</b>. In an exemplary embodiment, the payment system <b>160</b> will have a pre-defined order in which it looks for and applies the various forms of value added services. For example, the payment system <b>160</b> may apply vouchers first, then coupons, then redemption offers, and finally any other form of registered value added service. The method for processing value added services is described in more detail hereinafter with reference to the methods described in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0102" num="0101"><figref idref="DRAWINGS">FIG. 6</figref> is a block flow diagram depicting a method for processing value added services according to an exemplary embodiment. The method <b>437</b> is described with reference to the components illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0103" num="0102">In block <b>610</b>, the user <b>101</b> associates value added service accounts with the proxy card <b>105</b>. In an exemplary embodiment, this step is completed during the registration process described in <figref idref="DRAWINGS">FIG. 2</figref>. In an alternative exemplary embodiment, the user <b>101</b> adds value added service accounts, including coupons, loyalty cards, reward cards, offers (including prepaid offers), discounts, and other forms of value added services to the proxy card account at any time before the transaction.</p>
<p id="p-0104" num="0103">The merchant <b>110</b> optionally submits value added service discounts to the payment system <b>160</b>, in block <b>615</b>. In an exemplary embodiment, the merchant Alternatively, or additionally, manufacturers can notify the payment system <b>160</b> of discounts, coupons, and other forms of value added services for particular products prior to the payment request. The payment system can search the data storage unit <b>167</b> for stored or received merchant and/or manufacturer value added services in connection with block <b>645</b>, discussed hereinafter.</p>
<p id="p-0105" num="0104">In block <b>620</b>, the payment system <b>160</b> reads the user identification information form the payment request. In an exemplary embodiment, the user identification information is contained in or encoded by the proxy card <b>105</b> account identifier.</p>
<p id="p-0106" num="0105">The payment system <b>160</b> reads the merchant <b>110</b> identification information from the payment request, in block <b>625</b>. In an exemplary embodiment, the merchant <b>110</b> identification information is contained in or encoded by the payment request.</p>
<p id="p-0107" num="0106">In block <b>630</b>, the payment system <b>160</b> reads the product identification information from the payment request. In an exemplary embodiment, the product identification information is the SKU information inserted into the payment request by the merchant <b>110</b>. In an alternative exemplary embodiment, the product identification information is a description of the type of goods/services sought.</p>
<p id="p-0108" num="0107">The payment system <b>160</b> accesses the user's <b>101</b> value added services associated with the proxy card <b>105</b>, in block <b>635</b>.</p>
<p id="p-0109" num="0108">In block <b>640</b>, the payment system <b>160</b> determines which value added services to apply and/or the order to apply the value added services. In an exemplary embodiment, the order is defined by the user-defined static rules, the user-defined modified rules or the default static rules. In an alternative exemplary embodiment, the user <b>101</b> can define rules to be applied to specific value added services. For example, the user <b>101</b> can specify when to use a coupon or redeem an offer. These rule include, but are not limited to a purchase threshold (for example, receive $10 off a single purchase of more than $50 from merchant <b>110</b>), an aggregate purchase threshold (for example, receive $10 off next purchase from merchant <b>110</b> after the accumulated purchase at merchant <b>110</b> has reached $1000), a minimum number of purchases from the merchant <b>110</b> (for example, receive $10 off your tenth purchase from the merchant <b>110</b>), a time restriction (for example, receive $10 off a lunch-time purchase), and/or a location restriction (for example, receive $10 off a purchase at a specified merchant <b>110</b> location.</p>
<p id="p-0110" num="0109">In block <b>645</b>, the payment system <b>160</b> determines whether the user <b>101</b> has a saved offer for the transaction. In an exemplary embodiment, a saved offer can include, but is not limited to, a coupon, a voucher, a store reward, a redemption, or other form of saved offer.</p>
<p id="p-0111" num="0110">If the user <b>101</b> has a saved offer for the transaction that meets the rules specified by the user <b>101</b> and rules specified for the offer, the payment system <b>160</b> applies the offer, in block <b>650</b>. In an exemplary embodiment, the payment system <b>160</b> functions as the issuer <b>170</b> for the offer and can adjust the purchase price of the transaction after the offer(s) is applied.</p>
<p id="p-0112" num="0111">In an exemplary embodiment, blocks <b>645</b> and <b>650</b> also comprise searching for value added services provided by the merchant or a manufacturer that can be applied to the purchase transaction based on the identity of the merchant or specific products in the purchase transaction.</p>
<p id="p-0113" num="0112">If the user <b>101</b> does not have a saved offer for the transaction, the method <b>437</b>, proceeds to block <b>655</b>.</p>
<p id="p-0114" num="0113">In block <b>655</b>, the payment system <b>160</b> determines whether the user <b>101</b> has a loyalty card for the transaction.</p>
<p id="p-0115" num="0114">If the user <b>101</b> has a loyalty card for the transaction, the payment system <b>160</b> applies the loyalty card, in block <b>665</b>. In an exemplary embodiment, the payment system <b>160</b> functions as the issuer <b>170</b> for the loyalty card and can adjust the purchase price of the transaction after the loyalty card is applied. In an alternative exemplary embodiment, the loyalty card is applied before the offer(s) is applied.</p>
<p id="p-0116" num="0115">If the user does not have a loyalty card for the transaction in block <b>655</b>, the method <b>437</b> proceeds to block <b>440</b> (<figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0117" num="0116">From block <b>655</b>, the method <b>437</b> proceeds to block <b>440</b> (<figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0118" num="0117">Returning to <figref idref="DRAWINGS">FIG. 4</figref>, in block <b>440</b>, the payment system <b>160</b> will determine if the user <b>101</b> has a stored value account, including gift cards, prepaid cards, re-loadable transaction cards, exchange cards and other forms of non-credit based value cards associated with the proxy card <b>105</b>.</p>
<p id="p-0119" num="0118">If the payment system <b>160</b> determines in block <b>435</b> that the user <b>101</b> does not have a value added service available, the method <b>400</b> will proceed directly to block <b>440</b>.</p>
<p id="p-0120" num="0119">If the payment system <b>160</b> determines that the user <b>101</b> has a stored value card available, it will apply that financial account, in block <b>443</b>. In an exemplary embodiment, the payment system <b>160</b> will determine if multiple stored value accounts are available and apply each financial account. In an exemplary embodiment, the payment system <b>160</b> functions as the issuer <b>170</b> for the stored value account and can adjust the purchase price of the transaction after the stored value account is applied. In an alternative exemplary embodiment, the payment system <b>160</b> will forward a new payment request to the issuer <b>170</b> that maintains the stored value account and receive the authorization from the issuer if the transaction is approved.</p>
<p id="p-0121" num="0120">In block <b>445</b>, the payment system <b>160</b> will determine if additional funds are required for the transaction. In an exemplary embodiment, the payment system <b>160</b> will adjust the purchase price of the transaction after the value added services and stored value accounts are applied to determine if additional funds are required. In an alternative exemplary embodiment, the payment system <b>160</b> will determine if additional funds are required after applying only the value added services or stored value account, as defined by the rules. In another alternative exemplary embodiment, value added services and stored value accounts are not applied to the transaction and the payment system <b>160</b> will automatically proceed to block <b>445</b>.</p>
<p id="p-0122" num="0121">If the payment system <b>160</b> determines in block <b>440</b> that the user <b>101</b> does not have a stored value card available, the method <b>400</b> will proceed to block <b>445</b>.</p>
<p id="p-0123" num="0122">If additional funds are not required in block <b>445</b> for the transaction, the payment system <b>160</b> will authorize the transaction, in block <b>447</b>. The method <b>400</b> will then proceed to block <b>460</b>.</p>
<p id="p-0124" num="0123">If additional funds are required in block <b>445</b> for the transaction, the payment system <b>160</b> will determine in block <b>450</b> the issuer <b>160</b>, <b>170</b> of the account(s) to be used to finance the remainder of the transaction. In an exemplary embodiment, the payment system <b>160</b> will determine if the user <b>101</b> has a debit card, credit card or other form of credit-based account associated with the proxy card <b>105</b>, in block <b>450</b>. The payment system <b>160</b> will apply the rules to select one or more credit/debit card to the transaction. In an exemplary embodiment, the payment system <b>160</b> will determine a single account to be used for the remainder of the transaction. In an alternative exemplary embodiment, the payment system <b>160</b> will determine that multiple accounts will be used for the remainder of the transaction.</p>
<p id="p-0125" num="0124">If the payment system <b>160</b> is the issuer of the account, in block <b>453</b>, the payment system <b>160</b> will approve or deny the account transaction. In an exemplary embodiment, the payment system <b>160</b> will determine whether sufficient funds are available and/or whether the transaction meets the rules for the financial account(s) used to complete the transaction.</p>
<p id="p-0126" num="0125">If the transaction is declined, the method <b>400</b> proceeds to block <b>815</b> (<figref idref="DRAWINGS">FIG. 8</figref>).</p>
<p id="p-0127" num="0126">If the transaction is approved, the method <b>400</b> proceeds to block <b>465</b> (<figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0128" num="0127">If the payment system <b>160</b> is not the issuer <b>170</b> of the financial account(s), the payment system sends a new payment request to each issuer (<b>170</b><i>a</i>, <b>170</b><i>b</i>, etc.) via the card network <b>150</b>, in block <b>455</b>. In an exemplary embodiment, the new payment request is for the remaining transaction balance after applying the value added services, stored value account, and/or any other financial account maintained by a different issuer <b>170</b>.</p>
<p id="p-0129" num="0128">In block <b>457</b>, the issuer <b>170</b> approves or declines the transaction.</p>
<p id="p-0130" num="0129">If the transaction is declined, the method <b>400</b> proceeds to block <b>805</b> (<figref idref="DRAWINGS">FIG. 8</figref>).</p>
<p id="p-0131" num="0130"><figref idref="DRAWINGS">FIG. 8</figref> is a block flow diagram depicting a method for authorizing a declined transaction according to an exemplary embodiment. The method <b>800</b> is described with reference to the components illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0132" num="0131">If the payment system <b>160</b> is not the issuer that maintains the financial account (see block <b>457</b> (FIG. <b>4</b>)), the issuer <b>170</b> notifies the payment system <b>160</b> of the declined transaction via the card network <b>150</b>, in block <b>805</b>.</p>
<p id="p-0133" num="0132">In block <b>810</b>, the payment system <b>160</b> receives the notification of the declined transaction from the issuer <b>170</b> via the card network <b>150</b>.</p>
<p id="p-0134" num="0133">The payment system <b>160</b> determines the reason the transaction was declined, in block <b>815</b>. If the payment system <b>160</b> is the issuer that maintains the financial account (see block <b>453</b> (<figref idref="DRAWINGS">FIG. 4</figref>) or blocks <b>545</b>, <b>555</b> (<figref idref="DRAWINGS">FIG. 5</figref>)) and the transaction was declined, the payment system <b>160</b> determines the reason the transaction was declined.</p>
<p id="p-0135" num="0134">In block <b>820</b>, the payment system <b>160</b> determines whether the transaction was declined because the transaction did not meet one or more user-defined or other user-overrideable rules.</p>
<p id="p-0136" num="0135">If the transaction meets the user-defined rules, the method <b>800</b> proceeds to block <b>860</b> (<figref idref="DRAWINGS">FIG. 8</figref>).</p>
<p id="p-0137" num="0136">If the transaction does not meet the user-defined rules, the payment system <b>160</b> communicates a real-time override request to the user <b>101</b>, in block <b>825</b>. In an exemplary embodiment, the override request is communicated to the user's mobile device <b>120</b>. In an exemplary embodiment, the user <b>101</b> is prompted to override the user-defined rule using the user interface <b>123</b> of the mobile device <b>120</b>.</p>
<p id="p-0138" num="0137">In block <b>830</b>, the user <b>101</b> responds to the override request using the user interface <b>123</b> of the mobile device <b>120</b>. In an exemplary embodiment, the mobile device <b>120</b> communicates the override request and initiates an interaction with the user <b>101</b> to present options available for selection. In an exemplary embodiment, the application <b>122</b> is engaged and processes the override request received from the payment system <b>160</b> to present the information via the user interface <b>123</b>. The application <b>122</b> may create a list of options available to the user <b>101</b> based on the information received from the payment system <b>160</b> and the information stored in the application <b>122</b>. In another exemplary embodiment, the application <b>122</b> creates a series of prompts requesting user <b>101</b> choices for the available options. In an exemplary embodiment, a user response is optional.</p>
<p id="p-0139" num="0138">If the user <b>101</b> does not authorize an override of the rules, in block <b>835</b>, the transaction is declined and ends.</p>
<p id="p-0140" num="0139">If the user <b>101</b> authorizes the override, the mobile device <b>120</b> communicates the override authorization to the payment system <b>160</b>, in block <b>840</b>.</p>
<p id="p-0141" num="0140">In block <b>845</b>, the payment system <b>160</b> receives the override authorization from the mobile device <b>120</b>.</p>
<p id="p-0142" num="0141">The payment system <b>160</b> determines the issuer <b>170</b> of the financial account, in block <b>850</b>.</p>
<p id="p-0143" num="0142">If the payment system <b>160</b> is the issuer of the financial account, the payment system <b>160</b> authorizes the transaction, in block <b>853</b>. The method <b>800</b> then proceeds to block <b>465</b> (<figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0144" num="0143">If the payment system <b>160</b> is not the issuer of the financial account, the payment system <b>160</b> sends a new payment request to the issuer(s) <b>170</b> via the card network <b>150</b>, in block <b>855</b>. The method <b>800</b> then proceeds to block <b>457</b> (<figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0145" num="0144">If the transaction is declined, but meets the user-defined rules (see block <b>820</b> (FIG. <b>8</b>)), the methods <b>800</b> proceeds to block <b>860</b> (<figref idref="DRAWINGS">FIG. 8</figref>).</p>
<p id="p-0146" num="0145">In block <b>860</b>, the payment system <b>160</b> determines whether the transaction was declined for insufficient funds.</p>
<p id="p-0147" num="0146">If the transaction was not declined for insufficient funds, the transaction terminates.</p>
<p id="p-0148" num="0147">If the transaction was terminated for insufficient funds, the payment system <b>160</b> communicates a request to the user <b>101</b> to override the rules and select a different financial account, in block <b>865</b>. In an exemplary embodiment, the request is communicated to the user's mobile device <b>120</b>. In an exemplary embodiment, the user <b>101</b> is prompted to select a new account using the user interface <b>123</b> of the mobile device <b>120</b>.</p>
<p id="p-0149" num="0148">In block <b>870</b>, the user <b>101</b> responds to the request using the user interface <b>123</b> of the mobile device <b>120</b>. In an exemplary embodiment, the mobile device <b>120</b> communicates the request and initiates an interaction with the user <b>101</b> to present options available for selection. In an exemplary embodiment, the application <b>122</b> is engaged and processes the request received from the payment system <b>160</b> to present the information via the user interface <b>123</b>. The application <b>122</b> may create a list of options available to the user <b>101</b> based on the information received from the payment system <b>160</b> and the information stored in the application <b>122</b>. In another exemplary embodiment, the application <b>122</b> creates a series of prompts requesting user <b>101</b> choices for the available options. In an exemplary embodiment, a user response is optional.</p>
<p id="p-0150" num="0149">If the user <b>101</b> does not select a different financial account, in block <b>875</b>, the transaction is declined and ends.</p>
<p id="p-0151" num="0150">If the user <b>101</b> selects a different financial account, the mobile device <b>120</b> communicates the selection to the payment system <b>160</b>, in block <b>880</b>.</p>
<p id="p-0152" num="0151">In block <b>885</b>, the payment system <b>160</b> receives the selection from the mobile device <b>120</b>.</p>
<p id="p-0153" num="0152">The payment system <b>160</b> determines the issuer <b>170</b> of the financial account, in block <b>890</b>.</p>
<p id="p-0154" num="0153">If the payment system <b>160</b> is the issuer of the financial account, the payment system <b>160</b> authorizes the transaction, in block <b>893</b>. The method <b>800</b> then proceeds to block <b>465</b> (<figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0155" num="0154">If the payment system <b>160</b> is not the issuer of the financial account, the payment system <b>160</b> sends a new payment request to the issuer(s) <b>170</b> via the card network <b>150</b>, in block <b>897</b>. The method <b>800</b> then proceeds to block <b>457</b> (<figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0156" num="0155">In exemplary embodiments, the real-time authorization provided by the method <b>800</b> can be performed in conjunction with, or instead of, declining the payment request. For example, if the payment system <b>160</b> determines to decline a payment request or receives a payment request denial from an issuer <b>170</b>, the payment system <b>160</b> communicate a notice of declination to the merchant system <b>110</b>. After the user submits an authorization to override a rule, a confirmation that the user is making the purchase even though fraud protection rules identified the transaction as possible fraud, or a selection of a different financial account, the user may immediately reinitiate the payment transaction with the merchant by using the proxy card again. This time, upon receipt of the payment request, the payment system <b>160</b> will approve the payment request (or process the payment request using the specified financial account). Alternatively, the payment system <b>160</b> can communicate the notice message to the user <b>101</b>, wait for a response, and authorize or further process the payment request after receiving the user's <b>101</b> response without issuing a notice of declination to the merchant system <b>110</b>.</p>
<p id="p-0157" num="0156">Referring back to <figref idref="DRAWINGS">FIG. 4</figref>, if the transaction is approved, the issuer <b>170</b> sends an authorization message to the payment system <b>160</b> via the card network <b>150</b>, in block <b>460</b>. If the payment system <b>160</b> is the issuer of the financial account (see block <b>447</b>), the payment system <b>160</b> notes the authorization of the transaction.</p>
<p id="p-0158" num="0157">In block <b>465</b>, the payment system <b>160</b> generated an authorization message and optionally adds user identification information to the authorization message. In an exemplary embodiment, the user <b>101</b> identification information may include an e-mail address, physical address, phone number, name, store loyalty number, or other form of identifying information. In an exemplary embodiment, the user's <b>101</b> identifying information may be used by the merchant <b>110</b> to send offers, coupons, vouchers, advertisements, or other forms redemption offers to the user <b>101</b>.</p>
<p id="p-0159" num="0158">In block <b>470</b>, the payment system <b>160</b> sends offers to the user <b>101</b> to be used on a future transaction. The method sending offers is described in more detail hereinafter with reference to the methods described in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0160" num="0159"><figref idref="DRAWINGS">FIG. 7</figref> is a block flow diagram depicting a method for sending offers according to an exemplary embodiment. The method <b>470</b> is described with reference to the components illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0161" num="0160">In block <b>710</b>, the merchant <b>110</b> submits offers to the payment system <b>160</b>. In an exemplary embodiment the merchant <b>110</b> submits offers designed to promote return customers. For example, the merchant <b>110</b> may submit an offer for a percentage off the user's <b>101</b> next transaction. In an alternative exemplary embodiment, the merchant <b>110</b> submits offers based on the products/services purchased in the transaction. For example, the merchant <b>110</b> may submit an offer for a reduced price on the same or related product to be redeemed on the next visit. In an exemplary embodiment, the offers are submitted in advance of the transaction and stored by the payment system <b>160</b> in the data storage unit <b>167</b>.</p>
<p id="p-0162" num="0161">The payment system <b>160</b> reads the product identification information inserted by the merchant <b>110</b> in the payment request, in block <b>720</b>. In an exemplary embodiment, the product identification information is the product/service SKU number.</p>
<p id="p-0163" num="0162">In block <b>730</b>, the payment system <b>160</b> reads the merchant <b>110</b> identification information from the payment request.</p>
<p id="p-0164" num="0163">In block <b>740</b>, the payment system <b>160</b> matches the merchant <b>110</b> identification information and the product identification information to determine whether one or more offer can be sent to the user <b>101</b>. In an exemplary embodiment, the offers were submitted by the merchant in block <b>710</b>. In an alternative exemplary embodiment, the offers are generalized offers based on the product identification information (for example, manufacturer's coupons).</p>
<p id="p-0165" num="0164">The payment system <b>160</b> sends the user <b>101</b> one or more offers, in block <b>750</b>. In an exemplary embodiment, the offers are saved in the user's <b>101</b> payment system <b>160</b> account and are associated with the proxy card <b>150</b>. In an exemplary embodiment, the notification of the offers is communicated to the user via the mobile device, e-mail, SMS, text message, or other form of communication methods designated by the user <b>101</b>. In an alternative exemplary embodiment, the offers are sent via a communication method designated by the user <b>101</b>.</p>
<p id="p-0166" num="0165">From block <b>750</b>, the method <b>470</b> proceeds to block <b>475</b> (<figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0167" num="0166">Returning to <figref idref="DRAWINGS">FIG. 4</figref>, in block <b>475</b>, the payment system <b>160</b> forwards a transaction authorization message to the card network <b>150</b>.</p>
<p id="p-0168" num="0167">In block <b>480</b>, the card network <b>150</b> forwards the authorization message to the acquired <b>140</b>.</p>
<p id="p-0169" num="0168">The acquirer <b>140</b> send the authorization message to the merchant <b>110</b>, in block <b>485</b>.</p>
<p id="p-0170" num="0169">In block <b>490</b>, the merchant system <b>110</b> optionally reads the user <b>101</b> identification information inserted in the payment authorization message by the payment system <b>160</b>. In an exemplary embodiment, the merchant POS terminal <b>118</b> is able to extract the user <b>101</b> information from the authorization message and store the information for later use. For example, the merchant may use the identification information to contact the user <b>101</b> for survey information, to forward loyalty card information, or to forward other offers to the user <b>101</b>. In an alternative exemplary embodiment, the user identification information can be provided in the proxy card account information stored on the magnetic stripe of the proxy card or otherwise associated with the proxy card account identifier. In this case, the terminal reader <b>113</b> reads the user information when collecting the initial information from the proxy card <b>105</b>.</p>
<p id="p-0171" num="0170">After use of each financial account for a particular payment request, the payment system <b>160</b> updates the used financial account for the user's <b>101</b> proxy card <b>105</b> in the data storage unit <b>167</b>. For example, if a single-use coupon, prepaid or other offer, or loyalty card is applied, the account is updated to note use of the item and that further use is not allowed. If a stored value card is used, the account is updated to note the amount used and any remaining amount that is available. If a debit or credit card is used, the account is updated to show the amount available and the remaining amount that is available. The payment system <b>160</b> also can increment or decrement loyalty cards or reward cards provided by the merchant, allowing the loyalty or other rewards to accumulate for future use.</p>
<p id="h-0010" num="0000">General</p>
<p id="p-0172" num="0171">Users may be allowed to limit or otherwise affect the operation of the features disclosed herein. For example, users may be given opportunities to opt-in or opt-out of the collection or use of certain data or the activation of certain features. In addition, users may be given the opportunity to change the manner in which the features are employed, including for situations in which users may have concerns regarding privacy. Instructions also may be provided to users to notify them regarding policies about the use of information, including personally identifiable information, and manners in which each user may affect such use of information. Thus, information can be used to benefit a user, if desired, through receipt of relevant advertisements, offers, or other information, without risking disclosure of personal information or the user's identity.</p>
<p id="p-0173" num="0172">One or more aspects of the exemplary embodiments may include a computer program that embodies the functions described and illustrated herein, wherein the computer program is implemented in a computer system that comprises instructions stored in a machine-readable medium and a processor that executes the instructions. However, it should be apparent that there could be many different ways of implementing the exemplary embodiments in computer programming, and the exemplary embodiments should not be construed as limited to any one set of computer program instructions. Further, a skilled programmer would be able to write such a computer program to implement an embodiment based on the appended flow charts and associated description in the application text. Therefore, disclosure of a particular set of program code instructions is not considered necessary for an adequate understanding of how to make and use the exemplary embodiments. Moreover, any reference to an act being performed by a computer should not be construed as being performed by a single computer as more than one computer may perform the act.</p>
<p id="p-0174" num="0173">The exemplary systems, methods, and blocks described in the embodiments presented previously are illustrative, and, in alternative embodiments, certain blocks can be performed in a different order, in parallel with one another, omitted entirely, and/or combined between different exemplary methods, and/or certain additional blocks can be performed, without departing from the scope and spirit of the invention. Accordingly, such alternative embodiments are included in the invention described herein.</p>
<p id="p-0175" num="0174">The invention can be used with computer hardware and software that performs the methods and processing functions described above. As will be appreciated by those having ordinary skill in the art, the systems, methods, and procedures described herein can be embodied in a programmable computer, computer executable software, or digital circuitry. The software can be stored on computer readable media. For example, computer readable media can include a floppy disk, RAM, ROM, hard disk, removable media, flash memory, memory stick, optical media, magneto-optical media, CD-ROM, etc. Digital circuitry can include integrated circuits, gate arrays, building block logic, field programmable gate arrays (&#x201c;FPGA&#x201d;), etc.</p>
<p id="p-0176" num="0175">Although specific embodiments of the invention have been described above in detail, the description is merely for purposes of illustration. Various modifications of, and equivalent blocks and components corresponding to, the disclosed aspects of the exemplary embodiments, in addition to those described above, can be made by those having ordinary skill in the art without departing from the spirit and scope of the invention defined in the following claims, the scope of which is to be accorded the broadest interpretation so as to encompass such modifications and equivalent structures.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A computer-implemented method for providing real-time notifications of declined payment account transactions, comprising:
<claim-text>receiving, using one or more computing devices of a payment system, a first payment request from a merchant computing device for a purchase by a user from a merchant associated with the merchant computing device, the first payment request comprising information identifying a payment account associated with the user and maintained by the payment system, the payment account comprising information for one or more financial accounts maintained by one or more non-payment system issuers;</claim-text>
<claim-text>selecting, by the one or more computing devices, which of the one or more financial accounts associated with the proxy account to use to process the first payment request based at least in part on one or more payment rules defined for the payment account;</claim-text>
<claim-text>declining, by the one or more computing devices, the first payment request based at least in part on a deficiency in the selected financial account;</claim-text>
<claim-text>notifying, by the one or more computing devices, the user of the declined first payment request, the notification comprising one or more options such that user selection of a particular one of the options will immediately resolve the deficiency associated with the selected financial account;</claim-text>
<claim-text>receiving, by the one or more computing devices, a selection of the one or more options from the user;</claim-text>
<claim-text>updating, by the one or more computing devices, the one or more payment rules defined for the payment account based at least in part on the received selected option;</claim-text>
<claim-text>receiving, using one or more computing devices of a payment system, a second payment request from the merchant computing device for the purchase by the user from the merchant associated with the merchant computing device, the second payment request comprising information identifying the payment account; and</claim-text>
<claim-text>authorizing, by the one or more computing devices, the second payment request based at least in part on the updated payment rules defined for the payment account.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The computer-implemented method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the user is notified of the declined first payment request via a mobile communication device.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The computer-implemented method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the user selects the one or more options via a mobile communication device.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The computer-implemented method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the user is notified of the declined first payment request via a point of sale terminal.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The computer-implemented method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the user selects the one or more options via a point of sale terminal.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The computer-implemented method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the user is notified of the declined first payment request via a website.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The computer-implemented method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the user selects the one or more options via a website.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The computer-implemented method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the one or more options comprise a selection of an alternate financial account.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The computer-implemented method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the one or more options comprises a fraud detection question to determine that the first payment request is not fraudulent.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A computer program product, comprising:
<claim-text>a non-transitory computer-readable medium having computer-readable program code embodied therein that when executed by a computer cause the computer to provide real-time notifications of declined payment account transactions, the computer-readable program code comprising:
<claim-text>computer-readable program code to receive a first payment request from a merchant computing device for a purchase by a user from a merchant associated with the merchant computing device, the first payment request comprising information identifying a payment account associated with the user and maintained by the payment system, the payment account comprising information for one or more financial accounts maintained by one or more non-payment system issuers;</claim-text>
<claim-text>computer-readable program code to select which of the one or more financial accounts associated with the payment account to use to process the first payment request based at least in part on one or more payment rules defined for the payment account;</claim-text>
<claim-text>computer-readable program code to notify the user of a decision to decline the first payment request in response to determining that at least one of the one or more financial accounts has a deficiency associated therewith, the notification comprising one or more options such that user selection of a particular one of the options will immediately resolve the deficiency associated with the at least one of the one or more financial accounts;</claim-text>
<claim-text>computer-readable program code to receive a selection of the one or more options from the user;</claim-text>
<claim-text>computer-readable program code to update the one or more payment rules defined for the payment account based on the received selection of the one or more options;</claim-text>
<claim-text>computer readable program code to receive a second payment request from the merchant computing device for the purchase by the user from the merchant associated with the merchant computing device, the second payment request comprising information identifying the payment account.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The computer program product of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising computer-readable program code to authorize the second payment request based on the updated payment rules defined for the payment account.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The computer program product of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the user is notified of the declined first payment request via a mobile communication device.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The computer program product of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the one or more options comprises selecting an alternate financial account.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The computer program product of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the user is notified of the declined first payment request via a point of sale terminal.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The computer program product of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the one or more options comprises a fraud detection question to determine that the first payment request is not fraudulent.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The computer program product of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the user is notified of the declined first payment request via a website.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The computer program product of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the user selects the one or more options via a website.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. A payment system for providing real-time notifications of declined payment account transactions, comprising:
<claim-text>a storage device; and</claim-text>
<claim-text>a processor communicatively couple to the storage device, wherein the processor executes application code instructions that are stored in the storage device and that cause the system to:
<claim-text>receive a first payment request from a merchant computing device for a purchase by a user from a merchant associated with the merchant computing device, the first payment request comprising information identifying a payment account associated with the user, the payment account maintained by the system, the payment account having associated therewith one or more financial accounts maintained by one or more non-payment system issuers;</claim-text>
<claim-text>decline the first payment request based at least in part on a deficiency associated with at least one of the one or more financial accounts associated with the payment account;</claim-text>
<claim-text>notify the user of the declined first payment request, the notification comprising one or more options such that user selection of a particular one of the options will resolve the deficiency associated with the at least one of the one or more financial accounts associated with the payment account;</claim-text>
<claim-text>receive a selection of the one or more options from the user;</claim-text>
<claim-text>update the one or more payment rules defined for the payment account based on the received selection of the one or more options; and</claim-text>
<claim-text>receive a second payment request from the merchant computing device for the purchase by the user from the merchant associated with the merchant computing device, the second payment request comprising information identifying the payment account.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The system of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the processor further executes application code instructions stored in the storage resource that cause the system to authorize the second payment request based on the updated payment rules defined for the payment account.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The system of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the user is notified of the declined first payment request via a mobile communication device.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The system of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the user is notified of the declined first payment request via a point of sale terminal.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The system of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the user responds to the notification of the declined first payment request via a point of sale terminal.</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The system of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the user is notified of the declined first payment request via a website.</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. The system of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the one or more options comprise an alternate financial account.</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The system of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the one or more options comprise a fraud detection question to determine that the first payment request is not fraudulent.</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The system of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the processor further executes application code instructions stored in the storage resource that cause the system to select which of the one or more financial accounts associated with the proxy account to use to process the first payment request based at least in part on one or more payment rules defined for the payment account.</claim-text>
</claim>
</claims>
</us-patent-grant>
