<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624542-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624542</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13691527</doc-number>
<date>20121130</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>02</class>
<subclass>P</subclass>
<main-group>1</main-group>
<subgroup>24</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>318727</main-classification>
<further-classification>318805</further-classification>
</classification-national>
<invention-title id="d2e43">Methods and systems for controlling a multiphase electromagnetic machine</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4011489</doc-number>
<kind>A</kind>
<name>Franz et al.</name>
<date>19770300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>4023083</doc-number>
<kind>A</kind>
<name>Plunkett</name>
<date>19770500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>4030017</doc-number>
<kind>A</kind>
<name>Brown</name>
<date>19770600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>363 45</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>4088934</doc-number>
<kind>A</kind>
<name>D'Atre et al.</name>
<date>19780500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5146145</doc-number>
<kind>A</kind>
<name>Wood et al.</name>
<date>19920900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5761375</doc-number>
<kind>A</kind>
<name>Naito</name>
<date>19980600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>388806</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5924975</doc-number>
<kind>A</kind>
<name>Goldowsky</name>
<date>19990700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6008552</doc-number>
<kind>A</kind>
<name>Yagoto et al.</name>
<date>19991200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6335606</doc-number>
<kind>B1</kind>
<name>Minagawa et al.</name>
<date>20020100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>318801</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6404152</doc-number>
<kind>B1</kind>
<name>Kobayashi et al.</name>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>7095141</doc-number>
<kind>B2</kind>
<name>Groening</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>310 1218</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>7459808</doc-number>
<kind>B2</kind>
<name>Hol et al.</name>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>7626478</doc-number>
<kind>B2</kind>
<name>Kawai</name>
<date>20091200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>335299</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>Jingwei Zhu, Nesimi Ertugrul, Wen Liang Soong, &#x201c;Minimum Torque Ripple Current Control Strategy in a Dual Fault Tolerant PM AC Motor Drive,&#x201d; Power Electronics Specialists Conference,IEEE, 2008, pp. 1542-1547.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>318727</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318798</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318805</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>10</number-of-drawing-sheets>
<number-of-figures>18</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>13437659</doc-number>
<date>20120402</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8344669</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13691527</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130257336</doc-number>
<kind>A1</kind>
<date>20131003</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only" applicant-authority-category="assignee">
<addressbook>
<orgname>Etagen, Inc.</orgname>
<address>
<city>Menlo Park</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Gadda</last-name>
<first-name>Christopher David</first-name>
<address>
<city>Palo Alto</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Shvarts &#x26; Leiz LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>EtaGen, Inc.</orgname>
<role>02</role>
<address>
<city>Menlo Park</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Duda</last-name>
<first-name>Rina</first-name>
<department>2837</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A multiphase electromagnetic machine may be controlled by controlling currents in one or more phases of the multiphase electromagnetic machine. A control system may be used to determine how much current to deliver to, or extract from, each phase. The control system may use an objective function, subject to one or more constraints, to determine the current. The control system may use position information to determine the objective function, constraints, or both.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="174.75mm" wi="171.70mm" file="US08624542-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="246.04mm" wi="187.62mm" file="US08624542-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="158.75mm" wi="124.54mm" orientation="landscape" file="US08624542-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="217.51mm" wi="189.15mm" file="US08624542-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="258.32mm" wi="195.16mm" file="US08624542-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="257.39mm" wi="200.49mm" file="US08624542-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="249.51mm" wi="193.55mm" file="US08624542-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="247.99mm" wi="185.42mm" file="US08624542-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="208.20mm" wi="158.75mm" file="US08624542-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="241.98mm" wi="185.42mm" orientation="landscape" file="US08624542-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="200.83mm" wi="108.71mm" file="US08624542-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<p id="p-0002" num="0001">This application is a continuation of U.S. patent application Ser. No. 13/437,659, filed Apr. 2, 2012, which is incorporated herein by reference in its entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<p id="p-0003" num="0002">The present disclosure relates to controlling aspects of a multiphase electromagnetic machine.</p>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">Electromagnetic machines such as electric motors and generators, for example, may include a stator and a translator configured to move relative to the stator. Electromagnetic machines may include one or more phases, configured to provide a work interaction between the stator and translator. Typical examples include single phase rotary induction motors included in appliances, and three phase synchronous motors used as motor/generator gen-sets.</p>
<heading id="h-0002" level="1">SUMMARY</heading>
<p id="p-0005" num="0004">A technique for controlling a multiphase electromagnetic machine, which may be implemented by a control system, may include determining a desired electromagnetic force between a translator and a stator of the multiphase electromagnetic machine. The translator may be configured to translate relative to a stator. The stator may include multiple windings forming a plurality of phases. The technique may also include determining a set of current values applied to at least one of the phases based at least in part on the desired electromagnetic force and based at least in part on at least one objective function and at least one constraint.</p>
<p id="p-0006" num="0005">A technique for controlling a multiphase electromagnetic machine, which may be implemented by a control system, may include determining position information of the translator relative to the stator using a sensor. The technique may include determining a desired electromagnetic force between a translator and a stator of the electromagnetic machine based at least in part on the position information. The technique may include selecting at least one objective function, selecting at least one constraint, and determining a set of current values based at least in part on the at least one objective function and the at least one constraint.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE FIGURES</heading>
<p id="p-0007" num="0006">The above and other features of the present disclosure, its nature and various advantages will be more apparent upon consideration of the following detailed description, taken in conjunction with the accompanying drawings in which:</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 1</figref> shows a cross-section view of an illustrative linear electromagnetic machine (LEM), in accordance with some embodiments of the present disclosure;</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 2</figref> shows a cross-section view of an illustrative rotary electromagnetic machine, in accordance with some embodiments of the present disclosure;</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 3</figref> shows a partial cross-section view of an illustrative LEM, having iron cores, windings, and permanent magnets, in accordance with some embodiments of the present disclosure;</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 4</figref> shows a cross-section view of an illustrative LEM, in accordance with some embodiments of the present disclosure;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram of an illustrative control system for controlling an electromagnetic machine, in accordance with some embodiments of the present disclosure;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 6</figref> is a schematic diagram of an illustrative equivalent circuit corresponding to an electromagnetic machine and power subsystem, in accordance with some embodiments of the present disclosure;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 7</figref> is a schematic diagram of an illustrative equivalent circuit corresponding to an electromagnetic machine, having a virtual phase, and power subsystem, in accordance with some embodiments of the present disclosure;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 8</figref> shows an illustrative current schedule for a linear electromagnetic machine, in accordance with some embodiments of the present disclosure;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 9</figref> shows three illustrative desired force profiles and a velocity profile, in accordance with some embodiments of the present disclosure;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 10</figref> is a flow diagram of illustrative steps for determining force constant values, in accordance with some embodiments of the present disclosure;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 11</figref> is a flow diagram of illustrative steps for determining current values, in accordance with some embodiments of the present disclosure;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 12</figref> is a flow diagram of illustrative steps for determining current values when a phase is undesired or unavailable, in accordance with some embodiments of the present disclosure;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 13</figref> is a flow diagram of illustrative steps for determining a set of current values based on a cost function and one or more constraints, in accordance with some embodiments of the present disclosure;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 14</figref> is a flow diagram of illustrative steps for selecting an objective function, in accordance with some embodiments of the present disclosure;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 15</figref> is a flow diagram of illustrative steps for selecting a constraint, in accordance with some embodiments of the present disclosure;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 16</figref> is a flow diagram of illustrative steps for determining a new set of current values based on an objective function and one or more constraints, in accordance with some embodiments of the present disclosure;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 17</figref> is a block diagram of illustrative modules for controlling a multiphase electromagnetic machine, in accordance with some embodiments of the present disclosure; and</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 18</figref> is a cross section view of an illustrative piston engine including an illustrative multiphase electromagnetic machine, in accordance with some embodiments of the present disclosure.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE FIGURES</heading>
<p id="p-0026" num="0025">The present disclosure is directed towards controlling aspects of a multiphase electromagnetic machine. It will be understood that the present disclosure may be applied to any suitable rotary or linear multiphase electromagnetic machine.</p>
<p id="p-0027" num="0026">[Multiphase Electromagnetic Machines]</p>
<p id="p-0028" num="0027">Electromagnetic machines may include a stator and a translating unit (e.g., a translator or a rotor), configured to relate their relative movement to electromagnetic activity. The motion of the translating unit relative to the stator may be driven by the electromagnetic activity (e.g., in a motor), or may be used to generate electromagnetic activity (e.g., in a generator). A given electromagnetic machine may be able to operate as a motor, as a generator, or as both, depending upon the circumstances and desired utility.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 1</figref> shows a cross-section view of an illustrative linear electromagnetic machine (LEM) <b>100</b>, in accordance with some embodiments of the present disclosure. LEM <b>100</b> includes stator <b>110</b> and translator <b>120</b> configured to move (i.e., translate) relative to stator <b>110</b>, as shown by the double-tipped motion arrow in <figref idref="DRAWINGS">FIG. 1</figref>. LEM <b>100</b> may include an inductive LEM, a permanent magnet LEM (e.g., a synchronous LEM), a switched reluctance LEM, any other suitable type of LEM, or any combination thereof. Stator <b>110</b> includes N phases, which each may include conductive windings for generating a magnetic field. In some embodiments, a control system (not shown in <figref idref="DRAWINGS">FIG. 1</figref>) may be used to supply currents i<sub>1</sub>-i<sub>N </sub>to windings of each phase (e.g., using a suitable power subsystem), as shown in <figref idref="DRAWINGS">FIG. 1</figref>, to generate controllable magnetic fields which may interact with translator <b>120</b> (e.g., translate translator <b>120</b> relative to stator <b>110</b>). In some embodiments, a control system may be used to extract currents i<sub>l</sub>-i<sub>N </sub>(i.e., as electric work) from windings of each phase, as shown in <figref idref="DRAWINGS">FIG. 1</figref>, as translator <b>120</b> is translated relative to stator <b>110</b> to generate an electromotive force (emf) in one more phases of stator <b>110</b>. Translator <b>120</b> may include one or more permanent magnets (e.g., used for a permanent magnet LEM), one or more conductive structures (e.g., used for an inductive LEM), windings, any other suitable components, or any combination thereof. Translator <b>120</b> may be coupled to a linkage, such as linkage <b>122</b>, to transfer work to another component (not shown). For example, linkage <b>122</b> may include a piston rod or other linkage to provide mechanical work (e.g., for a compressor, a fan, an engine, or any other suitable machine). Although the stator is described in the context of <figref idref="DRAWINGS">FIG. 1</figref> as including windings, in some embodiments, the stator may include permanent magnets or other components (e.g., a conductive assembly for use with an inductive machine), and the translator may include multiple windings corresponding to the multiple phases. The present disclosure may be implemented for any suitable arrangement of a stator and translator, having four or more phases. In some embodiments, the four or more phases may include four phases capable of generating an electromotive force between the stator and translator. In some embodiments, the four or more phases may include three phases capable of generating an electromotive force between the stator and translator, and one or more virtual phases that may carry current but are not configured to generate any substantial electromotive force between the stator and the translator, at any relative position.</p>
<p id="p-0030" num="0029">In some embodiments, sensor <b>124</b> may be coupled to LEM <b>100</b>, integrated as part of LEM <b>100</b>, or otherwise communicate with LEM <b>100</b>. Sensor <b>124</b> may be configured to sense position information of translator <b>120</b> relative to stator <b>110</b> or a fixed reference frame. For example, sensor <b>124</b> may include a linear encoder such as, an optical encoder, a magnetic encoder, an inductive encoder, a capacitive encoder, an image-based encoder, any other suitable encoder, or any combination thereof. In a further example, sensor <b>124</b> may include an accelerometer affixed to translator <b>120</b>, linkage <b>122</b>, or both. Position information may include, for example, an absolute or relative position, linear velocity, linear acceleration, angle, angular velocity, angular acceleration, any other suitable absolute or relative position information, or any combination thereof. In some embodiments, depending upon position information of translator <b>120</b>, one or more phases of the N phases of LEM <b>100</b> may not necessarily exhibit a substantial electromagnetic interaction with translator <b>120</b>. Accordingly, a control system may control the current, which may be positive or negative (i.e., may flow in either direction), in one or more phases of the N phases of LEM <b>100</b> based on position information. It will be understood that although a stator will be discussed herein as being stationary, a stator may move relative to a fixed inertial reference frame, and that it is the relative motion between the stator and a corresponding translator that is of primary interest.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 2</figref> shows a cross-section view of an illustrative rotary electromagnetic machine (REM) <b>200</b>, in accordance with some embodiments of the present disclosure. REM <b>200</b> includes stator <b>210</b> and rotor <b>220</b> configured to move (i.e., rotate) relative to stator <b>210</b>, as shown by the double-tipped motion arrow in <figref idref="DRAWINGS">FIG. 1</figref>. REM <b>200</b> may include an inductive REM, a permanent magnet REM (e.g., a synchronous REM), a switched reluctance REM, any other suitable type of REM, or any combination thereof. Stator <b>210</b> includes N phases, which each may include conductive windings for generating a magnetic field. In some embodiments, a control system (not shown in <figref idref="DRAWINGS">FIG. 2</figref>) may be used to supply currents i<sub>1</sub>-i<sub>N </sub>to windings of each phase (e.g., using a suitable power subsystem), as shown in <figref idref="DRAWINGS">FIG. 2</figref>, to generate controllable magnetic fields which may interact with translator <b>220</b> (e.g., rotate rotor <b>220</b> relative to stator <b>210</b>). In some embodiments, a control system may be used to extract currents i<sub>1</sub>-i<sub>N </sub>(i.e., as electric work) from windings of each phase, as shown in <figref idref="DRAWINGS">FIG. 2</figref>, as rotor <b>220</b> is translated relative to stator <b>210</b> to generate an electromotive force (emf) in one more phases of stator <b>210</b>. Rotor <b>220</b> may include one or more permanent magnets (e.g., used for a permanent magnet LEM), one or more conductive structures (e.g., used for an inductive LEM), windings, any other suitable components, or any combination thereof. Rotor <b>220</b> may be coupled to a linkage, such as linkage <b>222</b>, to transfer work to another component (not shown). For example, linkage <b>222</b> may include a rotatable shaft or other linkage to provide mechanical work (e.g., for a compressor, a fan, an engine, or any other suitable machine).</p>
<p id="p-0032" num="0031">In some embodiments, sensor <b>124</b> may be coupled to REM <b>200</b>, integrated as part of REM <b>200</b>, or otherwise communicate with REM <b>200</b>. Sensor <b>224</b> may be configured to sense position information of rotor <b>220</b> relative to stator <b>210</b> or a fixed reference frame. For example, sensor <b>224</b> may include a rotary encoder such as, an optical encoder, a magnetic encoder, an inductive encoder, a capacitive encoder, an image-based encoder, any other suitable encoder, or any combination thereof. In a further example, sensor <b>224</b> may include an accelerometer affixed to rotor <b>220</b>, linkage <b>222</b>, or both. Position information may include, for example, an absolute or relative position, linear velocity, linear acceleration, angle, angular velocity (e.g., or an angular frequency such as rpm), angular acceleration, any other suitable absolute or relative position information, or any combination thereof. A control system may control the current, which may be positive or negative (i.e., may flow in either direction), in one or more phases of the N phases of REM <b>200</b> based on position information.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 3</figref> shows a partial cross-section view of an illustrative LEM <b>300</b>, having iron cores, windings, and permanent magnets, at a first position, in accordance with some embodiments of the present disclosure. LEM <b>300</b> has center axis <b>350</b>, along which translator <b>360</b> may be configured to move. Although shown as being substantially cylindrical, a LEM may be flat (i.e., layered in parallel planes), have any other two dimensional or three dimensional arrangement, or any combination thereof. LEM <b>300</b> may include stator <b>302</b>, having at least phases <b>310</b>, <b>320</b>, and <b>330</b>. Phase <b>310</b> may include iron cores <b>312</b>, <b>314</b>, and <b>316</b> that are centered about axis <b>350</b>, and extend circumferentially around axis <b>350</b>. Phase <b>320</b> may include iron cores <b>322</b>, <b>324</b>, and <b>326</b> that are centered about axis <b>350</b>, and extend circumferentially around axis <b>350</b>. Phase <b>330</b> may include iron cores <b>332</b>, <b>334</b>, and <b>336</b> that are centered about axis <b>350</b>, and extend circumferentially around axis <b>350</b>. Iron core <b>312</b> is positioned axially between windings <b>311</b> and <b>313</b>. Iron core <b>314</b> is positioned axially between windings <b>313</b> and <b>315</b>. Iron core <b>316</b> is positioned axially between windings <b>315</b> and <b>317</b>. Iron core <b>322</b> is positioned axially between windings <b>317</b> and <b>319</b>. Iron core <b>324</b> is positioned axially between windings <b>319</b> and <b>321</b>. Iron core <b>326</b> is positioned axially between windings <b>321</b> and <b>323</b>. Iron core <b>332</b> is positioned axially between windings <b>323</b> and <b>325</b>. Iron core <b>334</b> is positioned axially between windings <b>325</b> and <b>327</b>. Iron core <b>336</b> is positioned axially between windings <b>27</b> and <b>329</b>. Each of windings <b>311</b>, <b>313</b>, <b>315</b>, <b>317</b>, <b>319</b>, <b>321</b>, <b>323</b>, <b>325</b>, <b>327</b>, and <b>329</b> (i.e., along with any other suitable windings of stator <b>302</b> will be referred to as &#x201c;the windings of stator <b>302</b>&#x201d;) may include one or more sets of windings of a conductive material (e.g., insulated metal wire) which may be wired in series, parallel, or wired independently, in any suitable orientation about axis <b>350</b> (e.g., clockwise or counter-clockwise about axis <b>350</b>). The iron cores and windings of stator <b>302</b> may be used to generate a magnetic field causing a net electromagnetic force on translator <b>360</b>. The net electromagnetic force may be oriented in a direction substantially parallel to axis <b>350</b>. Accordingly, referencing an REM (not shown in <figref idref="DRAWINGS">FIG. 3</figref>), iron cores and windings of a stator may be used to generate a magnetic field causing a net torque on a translator about a center axis. Although not shown in <figref idref="DRAWINGS">FIG. 3</figref>, it will be understood that a stator need not include windings, in accordance with the present disclosure. For example, in some embodiments, a stator may include multiple permanent magnets, and a corresponding translator may include windings corresponding to four or more phases. In a further example, in some embodiments, a stator may include multiple permanent magnets, and a corresponding translator may include windings corresponding to three or more phases, and a corresponding control system may implement one or more virtual phases.</p>
<p id="p-0034" num="0033">Translator <b>360</b>, as shown in <figref idref="DRAWINGS">FIG. 3</figref>, includes a Hallbach array of multiple permanent magnets arranged axially (relative to axis <b>350</b>), with the arrows within translator <b>360</b> illustratively indicating the polarity of the magnets (e.g., the tail of each arrow corresponds to a south pole, and the point of each arrow corresponds to a north pole). It will be understood that the Hallbach array of <figref idref="DRAWINGS">FIG. 3</figref> is an illustrative example, and that a translator or rotor may include any suitable arrangement of permanent magnets, or may include no permanent magnets (e.g., an induction electromagnetic machine). As translator <b>360</b> moves along axis <b>350</b> relative to stator <b>302</b>, current may be provided to or extracted from windings of one or more of phases <b>310</b>, <b>320</b>, and <b>330</b>. <figref idref="DRAWINGS">FIG. 4</figref> shows a cross-section view of illustrative LEM <b>300</b> shown in <figref idref="DRAWINGS">FIG. 3</figref>, with translator <b>360</b> at a second position relative to stator <b>302</b>, in accordance with some embodiments of the present disclosure. In some embodiments, depending position information of translator <b>360</b> relative to stator <b>302</b>, only some of the phases of stator <b>302</b> need have substantially non-zero current flows. In some embodiments, depending on the position information of translator <b>360</b> relative to stator <b>302</b>, one or more of the phases of stator <b>302</b> may have relatively smaller current flows.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 4</figref> shows a cross-section view of an illustrative LEM <b>400</b>, in accordance with some embodiments of the present disclosure. As illustrated in <figref idref="DRAWINGS">FIG. 4</figref>, LEM <b>400</b> includes stator <b>450</b> having phases <b>420</b>, <b>422</b>, <b>424</b>, <b>426</b>, <b>428</b>, <b>430</b>, <b>432</b>, <b>434</b>, <b>436</b>, <b>438</b>, <b>440</b>, <b>442</b>, <b>444</b>, <b>446</b>, and <b>448</b> (i.e., illustrative LEM <b>400</b> is a 15-phase electromagnetic machine). Translator <b>460</b>, rigidly coupled to rod <b>462</b> as illustrated in <figref idref="DRAWINGS">FIG. 4</figref>, is capable of moving substantially in the direction of the double tipped arrow shown in <figref idref="DRAWINGS">FIG. 4</figref>. For example, translator <b>460</b> is located at position x<sub>1</sub>, and move to position x<sub>2</sub>, as shown by the dotted line. At position x<sub>1</sub>, translator <b>460</b> may be expected to have a substantial electromagnetic interaction with phases <b>428</b>, <b>430</b>, and <b>432</b>, a relatively weaker electromagnetic interaction with phase <b>426</b>, and relatively an even weaker electromagnetic interaction with the other phases. As translator <b>460</b> moves relative to stator <b>450</b>, the expected electromagnetic interaction between translator <b>460</b> and each phase may change. In some embodiments, the currents carried by each phase may be restricted to sum to zero. In some such embodiments, any non-zero current sum from phases having the strongest electromagnetic interaction with translator <b>460</b> may be distributed to phases not having a substantial electromagnetic interaction with translator <b>460</b>.</p>
<p id="p-0036" num="0035">[Control System]</p>
<p id="p-0037" num="0036">A control system may be used to control motion, force, work, any other aspects of an electromagnetic machine, or any combination thereof based on a desired performance. As the number of phases of the electromagnetic machine increases, to more than three phases, for example, coordination of the currents in each of the phases may become challenging. Accordingly, techniques for controlling multiphase electromagnetic machines may be desired to reduce system losses, increase system efficiency, and mitigate system failure.</p>
<p id="p-0038" num="0037">In some embodiments, a control system may receive information from one or more sensors, user inputs, reference databases, any other sources, or any combination thereof, and determine corresponding control responses. For example, a control system may receive position information relating to a translator and stator of an electromagnetic machine, along with desired force information from a database, and determine current values for one or more winding phases of the electromagnetic machine. In some embodiments, a control system may control the current in each phase of a multiphase electromagnetic machine. In some embodiments, the control system may control the current in each phase based on position information, flux information, any other suitable information, or any combination thereof. The control system may control the magnitude of current in each phase, direction of current flow in each phase, or both.</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram of an illustrative control system <b>500</b> for controlling a multiphase electromagnetic machine <b>550</b>, in accordance with some embodiments of the present disclosure. Multiphase electromagnetic machine <b>550</b> may include multiple windings corresponding to multiple phases. For example, multiphase electromagnetic machine may include a stator having ten phases, which may electromagnetically interact with a translator (e.g., to apply force to the translator, generate current from relative motion of the translator, or both). The current flow in each winding may be controlled by control system <b>500</b> and supplied/received using power subsystem <b>512</b>.</p>
<p id="p-0040" num="0039">Control system <b>500</b> may include processing equipment <b>502</b>, memory <b>504</b>, one or more communications interfaces <b>506</b>, one or more user interfaces <b>508</b>, sensor interface <b>510</b>, power subsystem <b>512</b>, any other suitable components or modules that are not shown, or any combination thereof. Control system <b>500</b> may be implemented at least partially in one or more computers, terminals, control stations, handheld devices, modules, any other suitable interface devices, or any combination thereof. In some embodiments, the components of control system <b>500</b> may be communicatively coupled via a communications bus <b>514</b>, as shown in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0041" num="0040">Processing equipment <b>502</b> may include a processor (e.g., a central processing unit), cache, random access memory (RAM), read only memory (ROM), any other suitable components, or any combination thereof that may process information regarding multiphase electromagnetic machine <b>550</b>. Memory <b>504</b> may include any suitable volatile or non-volatile memory that may include, for example, random access memory (RAM), read only memory (ROM), flash memory, a hard disk, any other suitable memory, or any combination thereof. Information stored in memory <b>504</b> may be accessible by processing equipment <b>502</b> via communications bus <b>514</b>. For example, computer readable program instructions (e.g., for implementing the techniques disclosed herein) stored in memory <b>504</b> may be accessed and executed by processing equipment <b>502</b>. In some embodiments, memory <b>504</b> may include a non-transitory computer readable medium for storing computer executable instructions that cause processing equipment <b>502</b> (e.g., processing equipment of a suitable computing system), to carry out a method for controlling a multiphase electromagnetic machine. For example, memory <b>504</b> may include computer executable instructions for implementing any of the control techniques described herein.</p>
<p id="p-0042" num="0041">Communications interface <b>506</b> may include a wired connection (e.g., using IEEE 802.3 ethernet, or universal serial bus interface protocols), wireless coupling (e.g., using IEEE 802.11 &#x201c;Wi-Fi&#x201d;, or Bluetooth protocols), optical coupling, inductive coupling, any other suitable coupling, or any combination thereof, for communicating with one or more systems external to control system <b>500</b>. For example, communications interface <b>506</b> may include a USB port configured to accept a flash memory drive. In a further example, communications interface <b>506</b> may include an Ethernet port configured to allow communication with one or more devices, networks, or both.</p>
<p id="p-0043" num="0042">User interface <b>508</b> may include a wired connection (e.g., using IEEE 802.3 ethernet, or universal serial bus interface, tip-ring-seal RCA type connection), wireless coupling (e.g., using IEEE 802.11 &#x201c;Wi-Fi&#x201d;, Infrared, or Bluetooth), optical coupling, inductive coupling, any other suitable coupling, or any combination thereof, for communicating with one or more of user interface devices <b>516</b>. User interface devices <b>516</b> may include a display, keyboard, mouse, audio device, any other suitable user interface devices, or any combination thereof. For example, a display may include a display screen such as, for example, a cathode ray tube screen, a liquid crystal display screen, a light emitting diode display screen, a plasma display screen, any other suitable display screen that may provide graphics, text, images or other visuals to a user, or any combination of screens thereof. Further, a display may include a touchscreen, which may provide tactile interaction with a user by, for example, offering one or more soft commands on a display screen. In a further example, user interface devices <b>516</b> may include a keyboard such as a QWERTY keyboard, a numeric keypad, any other suitable collection of hard command buttons, or any combination thereof. In a further example, user interface devices <b>516</b> may include a mouse or any other suitable pointing device that may control a cursor or icon on a graphical user interface displayed on a display screen. In a further example, user interface devices <b>516</b> may include an audio device such as a microphone, a speaker, headphones, any other suitable device for providing and/or receiving audio signals, or any combination thereof.</p>
<p id="p-0044" num="0043">Sensor interface <b>510</b> may include a power supply for supplying power to sensor(s) <b>530</b>, a signal conditioner, a signal pre-processor, any other suitable components, or any combination thereof. For example, sensor interface <b>510</b> may include one or more filters (e.g., analog and/or digital), an amplifier, a sampler, and an analog to digital converter for conditioning and pre-processing signals from sensor(s) <b>530</b>. Sensor interface <b>510</b> may communicate with sensor(s) <b>530</b> via communicative coupling <b>532</b>, which may be a wired connection (e.g., using IEEE 802.3 ethernet, or universal serial bus interface), wireless coupling (e.g., using IEEE 802.11 &#x201c;Wi-Fi&#x201d;, or Bluetooth), optical coupling, inductive coupling, any other suitable coupling, or any combination thereof.</p>
<p id="p-0045" num="0044">Sensor(s) <b>530</b> may include any suitable type of sensor, which may be configured to sense any suitable property or aspect of multiphase electromagnetic machine <b>550</b>. In some embodiments, sensor(s) <b>530</b> may include a linear encoder, rotary encoder, or both, configured to sense a relative position between a translator and stator of multiphase electromagnetic machine <b>550</b>. In some embodiments, sensor(s) <b>530</b> may include an accelerometer configured to sense am acceleration of a translator relative to a fixed stator of multiphase electromagnetic machine <b>550</b>. In some embodiments, sensor(s) <b>530</b> may include a camera configured to capture images (e.g., time-lapse imaging) of a translator relative to a stator of multiphase electromagnetic machine <b>550</b>. In some embodiments, sensor(s) <b>530</b> may include one or more current and/or voltage sensors (e.g., an ammeter and/or voltmeter coupled to a phase multiphase electromagnetic machine <b>550</b>) configured to sense a voltage, current, work output and/or input (e.g., current multiplied by voltage), any other suitable electrical property of multiphase electromagnetic machine <b>550</b>, or any combination thereof. In some embodiments, sensor(s) <b>530</b> may include one or more temperature sensors such as, for example, a thermocouple, a thermistor, a resistance temperature detector (RTD), any other suitable sensor for detecting temperature, or any combination thereof. For example, sensor(s) <b>530</b> may include a thermocouple arranged to measure a temperature of a permanent magnet, a winding, a power subsystem component such as a transistor, or any other component of a multiphase electromagnetic machine for which temperature information may be measured.</p>
<p id="p-0046" num="0045">Power subsystem <b>512</b> may include control circuitry, power electronics, electric loads (e.g., for dissipation), grounds, terminal strips, electric bus lines for providing power, insulated gate bipolar transistors (IGBTs), mechanical relays, power diodes, thyristors, metal oxide semiconductor field-effect transistors (MOSFETs), any other suitable transistors, switches, pulse width modulation controllers, digital to analog controllers, any other suitable electronic components, any other suitable controllers, or any combination thereof. Power subsystem <b>512</b> may receive control signals via communications bus <b>514</b> from processing equipment <b>502</b> regarding multiphase electromagnetic machine <b>550</b>. For example, power subsystem <b>512</b> may include multiple IGBTs coupled via power coupling <b>552</b> to corresponding phases of the multiple phases of multiphase electromagnetic machine <b>550</b>. The IGBTs may be coupled to a high and low bus voltage lines, and the windings of the phases, which may be coupled to a neutral line. In some embodiments, power coupling <b>552</b> may include one or more cables. For example, each phase of multiphase electromagnetic machine <b>550</b> may be coupled via two-conductor cable to corresponding terminals of power subsystem <b>512</b>. In some embodiments, power subsystem may include a virtual phase, which may accommodate current flow, but does not correspond to any phase of multiphase electromagnetic machine <b>550</b>.</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 6</figref> is a schematic diagram of an illustrative equivalent circuit <b>600</b> corresponding to a multiphase electromagnetic machine and power subsystem, in accordance with some embodiments of the present disclosure. As illustrated in <figref idref="DRAWINGS">FIG. 6</figref>, each phase of the multiphase electromagnetic machine and control system are coupled via two conductors (e.g., one coupled to low voltage bus line <b>604</b> and one coupled to corresponding IGBTs). <figref idref="DRAWINGS">FIG. 6</figref> shows multiple phases (i.e., N phases) <b>610</b>, <b>620</b>, and <b>630</b>, which may each be controlled separately by a suitable control system (e.g., control system <b>500</b> of <figref idref="DRAWINGS">FIG. 5</figref>). Phases <b>610</b>, <b>620</b>, and <b>630</b> may be controlled using IGBTs <b>612</b> and <b>614</b>, IGBTs <b>622</b> and <b>624</b>, and IGBTs <b>632</b> and <b>634</b>, respectively. In some embodiments, IGBTs <b>612</b> and <b>614</b>, IGBTs <b>622</b> and <b>624</b>, and IGTBs <b>632</b> and <b>634</b> may be coupled to control circuitry of power subsystem <b>512</b>, circuitry of processing equipment <b>502</b>, or both, which may provide signals to the IGBTs. System <b>650</b> includes a multiphase electromagnetic machine and corresponding couplings to the control system. Each phase may include an emf, generated by the stator and translator. Each phase may also include resistive loads (e.g., wire and connector resistances), inductive loads (e.g., from current flow in windings of each phase), or both as shown in <figref idref="DRAWINGS">FIG. 6</figref>. In some embodiments, the control system may also include resistive load, inductive load, or both, which may act in concert with the loads of the electromagnetic machine and couplings.</p>
<p id="p-0048" num="0047">Each phase, as shown in <figref idref="DRAWINGS">FIG. 6</figref>, may operate between voltage bus lines (e.g., high voltage bus line <b>602</b> and low voltage bus line <b>606</b>), neutral (e.g., neutral <b>604</b>), or both. In some embodiments, high voltage bus line <b>602</b> may operate at relatively higher voltage than low voltage bus line <b>606</b>. For example, high voltage bus line <b>602</b> may operate at about 720 VDC, and low voltage bus line <b>606</b> may operate at about 0 VDC. In a further example, high voltage bus line <b>602</b> and low voltage bus line <b>606</b> may be symmetric about 0 VDC (e.g., 360 VDC and &#x2212;360 VDC, respectively). Voltage bus lines may have any suitable relative voltage difference, and may be defined relative to any suitable reference potential. In an illustrative example, the control system may provide a signal to IGBT <b>612</b>, allowing current flow from high voltage bus line <b>602</b> to neutral <b>604</b>. In a further illustrative example, the control system may provide a signal to IGBT <b>614</b>, allowing current flow from neutral <b>604</b> to low voltage bus line <b>606</b>. In some embodiments, the control system may provide a pulse-width modulated signal to IGBTs <b>612</b>, <b>614</b>, <b>622</b>, <b>624</b>, <b>632</b>, and <b>634</b> to control the effective voltage differential and resulting current flow in each respective phase. It will be understood that a power subsystem of a control system may include one or more IGBTs, as shown in <figref idref="DRAWINGS">FIG. 6</figref>, one or more mechanical relays, one or more power diodes, one or more thyristors, one or more metal oxide semiconductor field-effect transistors (MOSFETs), any other suitable transistors, any other suitable components for switching electric power, or any combination thereof. As referred to herein, current flow from high voltage bus line <b>602</b> to low voltage bus line <b>606</b> will be positive, and current flow from low voltage bus line <b>606</b> to neutral <b>604</b> will be negative. Depending on the relative position of the translator and stator of the multiphase electromagnetic machine, current may be allowed to flow in one or more phases. In some embodiments, neutral <b>606</b> may be grounded. In some embodiments, the neutral points may be connected in a wye configuration. Any suitable electrical arrangement which allows independent current control through each phase of a multiphase electromagnetic machine may be used, in accordance with the present disclosure. In some embodiments, an effective capacitance may be included between high and low voltage bus lines <b>602</b> and <b>606</b>, as shown illustratively by capacitor <b>608</b>.</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 7</figref> is a schematic diagram of an illustrative equivalent circuit <b>700</b> corresponding to a multiphase electromagnetic machine, having a virtual phase, and power subsystem, in accordance with some embodiments of the present disclosure. Equivalent circuit <b>700</b> includes the elements of equivalent circuit <b>600</b>, with the addition of virtual phase <b>640</b>, which does not correspond to a phase of the multiphase electromagnetic machine. The virtual phase is electrically coupled to neutral <b>604</b>, but does not have electromagnetic interaction with the multiphase electromagnetic machine (e.g., the force constant of the virtual phase is substantially zero). In some embodiments, the sum of the currents in the N phases of the electromagnetic machine may sum to zero. In some embodiments, the sum of the currents in the N phases of the electromagnetic machine need not sum to zero. In some such embodiments, the use of a virtual phase such as virtual phase <b>640</b> may provide a path for the nonzero current provided to or generated by the multiphase electromagnetic machine. The control system may include IGBTs <b>642</b> and <b>644</b>, which may be used to control current flow through virtual phase <b>640</b>. Virtual phase <b>640</b> may include inductor <b>646</b>, effective resistance shown by resistor <b>648</b>, any other suitable impedance, any other suitable electronic components, or any combination thereof. It is advantageous for the effective resistance of virtual phase <b>640</b> to be relatively small compared to the other phases, and typically should be as small as possible. The inductance of inductor <b>646</b> should be selected to allow controllable operation of the current in virtual phase <b>640</b>, and preferably inductor <b>646</b> should have low resistance. Virtual phase <b>640</b> may be used to provide an efficient current path, which allows the sum of the currents in the other &#x201c;real&#x201d; phases (i.e., motor/generator phases) to not necessarily be restricted to zero. This arrangement may allow for improved control flexibility, with relatively low losses in the virtual phase. For example, if a particular phase has been disabled or compromised, virtual phase <b>640</b> may carry significant currents and allow for flexible operation of the multiphase electromagnetic machine. Virtual phase <b>640</b> may be especially useful in arrangements having relatively smaller phase counts, for which distributing current among phases not having substantial electromagnetic interaction is relatively less effective. For example, if a multiphase electromagnetic machine has a high phase count, current may distributed among many phases distal to the translator with relatively low impact to system efficiency (e.g., due to the i<sup>2</sup>R ohmic losses).</p>
<p id="p-0050" num="0049">In some embodiments, a virtual phase may be directly controlled by a control system. Direct control of the virtual phase may be implemented by a control system having control components included as part of a virtual phase (e.g., as shown in <figref idref="DRAWINGS">FIG. 7</figref>). For example, a control system may directly control the current in a virtual phase by applying a PWM signal to one or more IGBTs, as shown in <figref idref="DRAWINGS">FIG. 7</figref>. In some embodiments, a virtual phase may be indirectly controlled. Indirect control of the virtual phase may be implemented by connecting a neutral point to a substantially fixed potential. For example, multiple phases capable of generating an electromotive force (i.e., motor/generator phases) may be connected in a wye arrangement having a neutral point, and the neutral point may be grounded. In a further example, multiple phases capable of generating an electromotive force (i.e., motor/generator phases) may be connected in a wye arrangement having a neutral point, and the neutral point may be connected to a substantially fixed potential equal to the average of the bus line voltages. The current in the virtual phase may then be determined based on the sum of the controlled currents carried by the motor/generator phases. In some embodiments, the fixed potential may be an average potential of the high voltage bus line and the low voltage bus line (e.g., when using an isolated DC bus). In some embodiments, the fixed potential may be a biased potential, relatively nearer in value to either the high voltage bus line or the low voltage bus line. In some embodiments, a control system may achieve substantially zero torque/force ripple by including a directly or indirectly controlled virtual phase. For example, if a motor/generator phase is damaged or otherwise disabled, the control system may achieve substantially zero torque/force ripple by implementing a virtual phase. Accordingly, an electromagnetic machine having three or more motor/generator phases may be controlled to operate with substantially zero torque/force ripple even with a disabled phase by using a virtual phase.</p>
<p id="p-0051" num="0050">[Control Techniques]</p>
<p id="p-0052" num="0051">In some embodiments, the currents in each phase of an electromagnetic machine may be set to predefined values, limited, or otherwise controlled to provide a desired force, a desired position, or both. In some embodiments, a relative position and motion of a translator and corresponding stator may be controlled. In some embodiments, a force generated by a translator and corresponding stator may be controlled. In some embodiments, a current in one or more winding phases may be controlled. For example, an electromagnetic machine may be integrated into a piston engine, and work interactions (e.g., electric work output) may be controlled based on desired performance. Depending on the desired performance, one or more control strategies may be applied by the control system such as, for example, constraining current values using particular current constraints.</p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. 8</figref> shows an illustrative current schedule for a LEM, in accordance with some embodiments of the present disclosure. The abscissa of plots <b>800</b>, <b>810</b>, <b>820</b> and <b>830</b> is shown in arbitrary units of translational position. The ordinate of plots <b>800</b>, <b>810</b>, <b>820</b>, and <b>830</b> is shown in arbitrary units of current. Plots <b>800</b>, <b>810</b>, and <b>820</b> shows corresponding current schedules <b>802</b>, <b>812</b>, and <b>822</b> corresponding to a first, second and third phase, respectively, of a multiphase electromagnetic machine. As illustrates, the current schedules in <figref idref="DRAWINGS">FIG. 8</figref> may correspond to the translator moving from left to right relative to the stator. It will be understood that the current schedules shown in <figref idref="DRAWINGS">FIG. 8</figref> may be implemented with multiphase electromagnetic machines having a translator shorter in axial length than the stator, and that other current schedules may be used for other arrangements. Plot <b>800</b> shows current schedule <b>802</b> corresponding to a first phase. Following the left-to-right direction in plot <b>800</b>, current schedule <b>802</b> starts at zero, exhibits several periods of oscillatory behavior and then flat-lines to zero. The first zero portion is indicative of the translator having a relative position to the left of the first phase, in which case the electromagnetic interaction between the translator and the first phase may be minimal. As the translator moves to the right, electromagnetic interaction between the translator and the first phase increases. The oscillatory character of current schedule <b>802</b> may be due to alternating north and south poles of the translator. The rightmost flat-line portion of current schedule <b>802</b> may be due to the translator having a relative position to the right of the first phase, in which case the electromagnetic interaction between the translator and the first phase may be insignificant. Plot <b>810</b> shows current schedule <b>812</b> corresponding to a second phase, to the right of the first phase. Accordingly, current schedule <b>812</b> resembles current schedule <b>802</b>, although shifted to the right to correspond to the position of the second phase relative to the first. Plot <b>820</b> shows current schedule <b>822</b> corresponding to a third phase, to the right of the second phase. Accordingly, current schedule <b>822</b> resembles current schedules <b>802</b> and <b>812</b>, although shifted to the right to correspond to the position of the third phase relative to the second. Plot <b>830</b> shows current schedule <b>832</b> corresponding to a fourth phase, to the right of the third phase. Accordingly, current schedule <b>832</b> resembles current schedules <b>802</b>, <b>812</b>, and <b>822</b> although shifted to the right to correspond to the position of the fourth phase relative to the third. As shown in <figref idref="DRAWINGS">FIG. 8</figref>, each phase may only be utilized (e.g., allowed a non-zero current flow) when the translator is positioned near the phase (i.e., electromagnetically interacts with the phase). Also shown in <figref idref="DRAWINGS">FIG. 8</figref>, the amplitude of the current in each phase may be ramped up and down as the translator approaches and leaves the vicinity of the phase. For comparison, sinusoidal current schedules may be used with a typical three-phase rotary electromagnetic machine, rather than the ramped and flat-lined current schedules shown in <figref idref="DRAWINGS">FIG. 8</figref>. It will be understood that the terms &#x201c;left&#x201d; and &#x201c;right&#x201d;, as used herein are merely for exemplary reference, and are not meant to imply a desired orientation of a control system, electromagnetic machine, or system.</p>
<p id="p-0054" num="0053">It will be understood that the current schedule shown in <figref idref="DRAWINGS">FIG. 8</figref> may correspond to a permanent magnet type multiphase electromagnetic machine, having a relatively longer stator than translator. Current schedules may exhibit any suitable profile, similar or different from those shown in <figref idref="DRAWINGS">FIG. 8</figref>, whether for induction electromagnetic machines, permanent magnet electromagnetic machines, switched reluctance electromagnetic machines, any other suitable electromagnetic machine having four or more phases (one of which may be a virtual phase), or any combination thereof. For example, referencing an inductive electromagnetic machine, some current in a particular phase may be allocated to maintaining translator (or rotor) flux, and some current in the phase may be allocated to apply the desired electromagnetic force. Accordingly, the current schedules for the inductive machine may depend on position, desired flux, and/or actual (e.g., estimated or measured) flux, which may in turn be dependent upon the history of current values. It will also be understood that some electromagnetic machines may include a translator relatively longer than the corresponding stator. Accordingly, the current schedule for the longer translator case may exhibit a substantially different from that shown in <figref idref="DRAWINGS">FIG. 8</figref> (e.g., without flat-lined portions, or with reduced flat-lined portions).</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 9</figref> shows illustrative desired force profiles <b>902</b>, <b>904</b>, and <b>906</b> in plot <b>900</b>, and illustrative velocity profile <b>952</b> in plot <b>950</b>, in accordance with some embodiments of the present disclosure. The force profiles shown in plot <b>900</b> correspond to motor action of the electromagnetic machine, where the arrows in the figure represent relative translator motion along the x axis. Generator action may be achieved by reversal of the arrows in plot. Force profiles <b>902</b>, <b>904</b>, and <b>906</b> represent relatively simple force profile examples which may be implemented in accordance with the present disclosure. It will be understood that any suitable desired force profile may be used, of any suitable complexity, which may be symmetric or asymmetric with regards to the direction of motion of the translator. Illustrative desired force profile <b>902</b> includes two portions, one corresponding to motion of the translator in a first direction, and the other corresponding to motion of the translator in the opposite direction. Desired force profile <b>902</b> may be implemented, for example, as a two-value quantity in the control techniques described herein. For example, depending on the direction of motion of the translator relative to the stator, the control system may use either of the two desired force values of desired force profile <b>902</b> (e.g., the force acting in the same direction as the motion). Illustrative desired force profile <b>904</b> includes two portions, one corresponding to motion of the translator in a first direction, and the other corresponding to motion of the translator in the opposite direction. As compared to desired force profile <b>902</b>, desired force profile <b>904</b> is continuous, including multiple values rather than two values. Illustrative desired force profiles <b>902</b> and <b>904</b> may be used, for example, in arrangements where the multiphase electromagnetic machine is coupled to a piston engine (e.g., the translator is rigidly coupled to a piston assembly) having gas springs (or any other suitable springs such as mechanical springs or hydraulic springs) to slow the translator/piston assembly at either end (i.e., near position 0 or L). Illustrative desired force profile <b>906</b> is a linear function of position x. Illustrative desired force profile <b>906</b> may be used, for example, in arrangements where the multiphase electromagnetic machine is used to as a spring (e.g., a &#x201c;virtual spring&#x201d; implemented by the control system and multiphase electromagnetic machine). In a further example, illustrative desired force profile <b>906</b> may be used in arrangements where the multiphase electromagnetic machine is coupled to a piston engine (e.g., the translator is rigidly coupled to a piston assembly) having no springs (or any other suitable springs such as mechanical springs or hydraulic springs), or insufficient springs, to slow the translator/piston assembly at either end (i.e., near position 0 or L). A desired force profile may be specified by a user, recalled form a lookup table based on or more inputs, determined based on a model, determined based on a function, generated using any other suitable technique, or any combination thereof. A desired force profile may be application dependent, and may exhibit different properties accordingly for two different applications. Plot <b>950</b> shows illustrative velocity profile <b>952</b> of a translator relative to a stator. Velocity profile <b>952</b> exhibits zeros at two axial positions, 0 and L, corresponding to the limits of translator travel where the translator may change direction. In some embodiments, a control system may measure or reference a velocity profile and a desired force profile to determine a desired force. In some embodiments, an encoder may be used to determine a relative position of a translator and a stator, which may be used to determine a desired force value, a velocity value, or both. In some embodiments, a desired velocity profile may be predetermined, and an actual velocity profile may be determined (e.g., using an encoder). Accordingly the control system may determine a desired force value to increase agreement between the desired and actual velocity profiles.</p>
<p id="p-0056" num="0055">The force interaction F between a multiphase translator and stator system may be described by Eq. 1:</p>
<p id="p-0057" num="0056">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>F</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>x</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>j</mi>
              <mo>=</mo>
              <mn>1</mn>
            </mrow>
            <mi>N</mi>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <mrow>
              <msub>
                <mi>k</mi>
                <mi>j</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>x</mi>
                  <mo>,</mo>
                  <msub>
                    <mi>&#x3a6;</mi>
                    <mi>T</mi>
                  </msub>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <msub>
              <mi>i</mi>
              <mi>j</mi>
            </msub>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
in which N is the number of phases, i<sub>j </sub>is the current in each phase indexed by index j, x is a spatial position variable, &#x3c6;<sub>T </sub>is the magnetic flux in the translator, and k<sub>j</sub>(x,&#x3c6;<sub>T</sub>) are a set of N characteristic force constants, corresponding to the N phases, that may depend on position x. In some embodiments, the translator flux &#x3c6;<sub>T </sub>may be assumed constant (e.g., for a permanent magnet machine), and accordingly need not be explicitly determined. In some embodiments, the translator flux &#x3c6;<sub>T </sub>may be determined using a formula or a look-up table based on temperature-dependent B-H curves (e.g., for a permanent magnet machine). In some embodiments, the translator flux may be calculated based on previous measured current values, using a translator flux model (e.g., for an induction machine). As shown by Eq. 1, the force F(x) is a combination of the forces from each phase (i.e., force constant multiplied by current). The force may be applied to the translator by providing currents (e.g., to drive the translator), applied by the translator to generate currents (e.g., during electric power generation), or a combination thereof. In some embodiments, one or more characteristics of a multiphase electromagnetic machine, such as the k<sub>j</sub>(x,&#x3c6;<sub>T</sub>) values, may be determined. For example, a translator may be driven by controlling force, position, velocity, or a combination thereof. An encoder may be used to determine the positive x of the translator relative to the stator, and the velocity {dot over (x)} (e.g., by calculating a time derivative using any suitable analytical or numerical differentiation technique). At each desired position x, the electromotive force (emf) in each phase V<sub>j</sub>(x) may be measured by a voltage sensor (e.g., a voltmeter). Shown in Eq. 2:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>j</sub>(<i>x</i>)=<i>k</i><sub>j</sub>(<i>x,&#x3c6;</i><sub>T</sub>)<i>{dot over (x)}</i>&#x2003;&#x2003;(2)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
is an illustrative expression relating the emf V<sub>j</sub>(x) in phase j, velocity {dot over (x)}, and force constant k<sub>j</sub>(x,&#x3c6;<sub>T</sub>) of phase j, at position x. Both sides of Eq. 2 may be integrated in time, as shown by Eq. 3:
</p>
<p id="p-0058" num="0057">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>&#x3a6;</mi>
            <mi>j</mi>
          </msub>
          <mo>&#x2062;</mo>
          <mrow>
            <mo>&#x222b;</mo>
            <mrow>
              <msub>
                <mi>V</mi>
                <mi>j</mi>
              </msub>
              <mo>&#x2062;</mo>
              <mrow>
                <mo>&#x2146;</mo>
                <mi>t</mi>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mo>&#x222b;</mo>
          <mrow>
            <mrow>
              <msub>
                <mi>k</mi>
                <mi>j</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>x</mi>
                  <mo>,</mo>
                  <msub>
                    <mi>&#x3a6;</mi>
                    <mi>T</mi>
                  </msub>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <mover>
              <mi>x</mi>
              <mo>.</mo>
            </mover>
            <mo>&#x2062;</mo>
            <mrow>
              <mo>&#x2146;</mo>
              <mi>t</mi>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
giving an expression relating flux &#x3c6;<sub>j </sub>in each phase j to position and force constant k<sub>j</sub>(x,&#x3c6;<sub>T</sub>). The force constants k<sub>j</sub>(x,&#x3c6;<sub>T</sub>) for each phase may be determined, at each position, using Eq. 4:
</p>
<p id="p-0059" num="0058">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <msub>
            <mi>&#x3b4;&#x3a6;</mi>
            <mi>j</mi>
          </msub>
          <mrow>
            <mi>&#x3b4;</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mi>x</mi>
          </mrow>
        </mfrac>
        <mo>=</mo>
        <mrow>
          <msub>
            <mi>k</mi>
            <mi>j</mi>
          </msub>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>x</mi>
              <mo>,</mo>
              <msub>
                <mi>&#x3a6;</mi>
                <mi>T</mi>
              </msub>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>4</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where the partial derivative of the flux &#x3c6;<sub>j </sub>of a particular phase with respect to position is equal to the force constant k<sub>j</sub>(x,&#x3c6;<sub>T</sub>) for that phase. For example, the emf may be numerically integrated in time to give a sequence of flux values, and a function (e.g., analytic, piecewise, or otherwise) may be fit to the flux values, and differentiated with respect to position to yield with force constants. In some embodiments, the set of force constants may be stored in memory of the control system, memory accessible to the control system, or a combination thereof. It will be understood that Eqs. 1-3 are illustrative expressions that may be used to determine a set of force constants, but any suitable analytical technique (e.g., modeling), empirical technique, or a combination thereof may be used to determine a set of force constants, in accordance with the present disclosure.
</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 10</figref> is a flow diagram <b>1000</b> of illustrative steps for determining force constant values, in accordance with some embodiments of the present disclosure.</p>
<p id="p-0061" num="0060">Step <b>1002</b> may include driving a translator relative to a stator. In some embodiments, an encoder may be used to determine an axial position of the translator relative to the stator while the translator is driven.</p>
<p id="p-0062" num="0061">Step <b>1004</b> may include a control system measuring the electromotive force in one or more phases j at multiple positions of the translator relative to the stator during the driving of step <b>1002</b>. In some embodiments a current sensor such as a current clamp, reference resistor, Hall Effect sensor, any other suitable current sensor, or any combination thereof may be used by the control system to measure the one or more currents.</p>
<p id="p-0063" num="0062">Step <b>1006</b> may include the control system determining one or more force constants k<sub>j</sub>(x,&#x3c6;<sub>T</sub>) for phase j at each position x of the multiple positions of step <b>1004</b>. In some embodiments, the control system may implement Eq. 4 to determine the force constants from the measured electromotive force of step <b>1004</b> and known position of step <b>1002</b>. In some embodiments, the control system may store the determined force constants in a database, an array of values, or other data structure that may be accessed by processing equipment of the control system. In some embodiments, the illustrative steps of flow diagram may be performed using a system other than a control system. For example, a test stand, which may include suitable processing equipment and sensors, may be used to perform the illustrative steps of flow diagram <b>1000</b>.</p>
<p id="p-0064" num="0063">In some embodiments, a control system may use one or more objective functions (e.g., one or more cost functions) to determine a set of current values. An objective function may represent a system cost such as, for example, ohmic losses from current flow in one or more conductors, IGBT losses, force deviations from a desired force, any other suitable cost, or any combination thereof, or a system benefit. It will be understood that although the discussion below references cost functions, which are typically minimized, utility functions, which are typically maximized, may also be used. Any suitable objective function may be optimized (e.g., minimized or maximized) in accordance with the present disclosure. For example, an objective function C may be expressed using Eq. 5:</p>
<p id="p-0065" num="0064">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>C</mi>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>j</mi>
              <mo>=</mo>
              <mn>1</mn>
            </mrow>
            <mi>N</mi>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <msubsup>
              <mi>i</mi>
              <mi>j</mi>
              <mn>2</mn>
            </msubsup>
            <mo>&#x2062;</mo>
            <msub>
              <mi>R</mi>
              <mi>j</mi>
            </msub>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>5</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
in which i<sub>j </sub>is the current in phase j of N phases, and R<sub>j </sub>is the characteristic resistance corresponding to phase j (e.g., which may be, but need not be, different for each phase). The control system may implement the objective function of Eq. 4 to minimize ohmic resistance losses. In a further example, an objective function C may be expressed using Eq. 6:
</p>
<p id="p-0066" num="0065">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>C</mi>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>j</mi>
              <mo>=</mo>
              <mn>1</mn>
            </mrow>
            <mi>N</mi>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <mrow>
              <mo>&#xf603;</mo>
              <msub>
                <mi>i</mi>
                <mi>j</mi>
              </msub>
              <mo>&#xf604;</mo>
            </mrow>
            <mo>&#x2062;</mo>
            <msub>
              <mi>V</mi>
              <mrow>
                <mrow>
                  <mi>ce</mi>
                  <mo>-</mo>
                  <mi>IGBT</mi>
                </mrow>
                <mo>,</mo>
                <mi>j</mi>
              </mrow>
            </msub>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>6</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
in which is the current in phase j of N phases, and V<sub>ce-IGBT,j </sub>is the on-state voltage drop corresponding to phase j (e.g., which may be, but need not be, different for each phase). In a further example, an objective function C may be expressed using Eq. 7:
</p>
<p id="p-0067" num="0066">
<maths id="MATH-US-00006" num="00006">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>C</mi>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>j</mi>
              <mo>=</mo>
              <mn>1</mn>
            </mrow>
            <mi>N</mi>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <msubsup>
              <mi>i</mi>
              <mi>j</mi>
              <mn>2</mn>
            </msubsup>
            <mo>&#x2062;</mo>
            <msub>
              <mi>R</mi>
              <mrow>
                <mi>MOSFET</mi>
                <mo>,</mo>
                <mi>j</mi>
              </mrow>
            </msub>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>7</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
in which is the current in phase j of N phases, and R<sub>MOSFET,j </sub>is the characteristic metal oxide semiconductor field effect transistor (MOSFET) resistance corresponding to phase j (e.g., which may be, but need not be, different for each phase). The control system may implement the objective functions of Eq. 6 or Eq. 7 to minimize IGBT or MOSFET losses, respectively. In a further example, an objective function C may be expressed using Eq. 8:
</p>
<p id="p-0068" num="0067">
<maths id="MATH-US-00007" num="00007">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>C</mi>
        <mo>=</mo>
        <mrow>
          <mo>&#xf603;</mo>
          <mrow>
            <msub>
              <mi>F</mi>
              <mi>des</mi>
            </msub>
            <mo>-</mo>
            <msub>
              <mi>F</mi>
              <mi>act</mi>
            </msub>
          </mrow>
          <mo>&#xf604;</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>8</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
in which F<sub>des </sub>is the desired force, and F<sub>act </sub>is the actual force. The control system may implement the objective function of Eq. 8 to minimize deviation of an actual force from the desired force. In a further example, an objective function C may be expressed using either of Eqs. 9 or 10:
</p>
<p id="p-0069" num="0068">
<maths id="MATH-US-00008" num="00008">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>C</mi>
          <mo>=</mo>
          <mrow>
            <mrow>
              <munderover>
                <mo>&#x2211;</mo>
                <mrow>
                  <mi>j</mi>
                  <mo>=</mo>
                  <mn>1</mn>
                </mrow>
                <mi>N</mi>
              </munderover>
              <mo>&#x2062;</mo>
              <mrow>
                <msubsup>
                  <mi>i</mi>
                  <mi>j</mi>
                  <mn>2</mn>
                </msubsup>
                <mo>&#x2062;</mo>
                <msub>
                  <mi>R</mi>
                  <mi>j</mi>
                </msub>
              </mrow>
            </mrow>
            <mo>+</mo>
            <mrow>
              <mrow>
                <mo>&#xf603;</mo>
                <msub>
                  <mi>i</mi>
                  <mi>j</mi>
                </msub>
                <mo>&#xf604;</mo>
              </mrow>
              <mo>&#x2062;</mo>
              <msub>
                <mi>V</mi>
                <mrow>
                  <mrow>
                    <mi>ce</mi>
                    <mo>-</mo>
                    <mi>IGBT</mi>
                  </mrow>
                  <mo>,</mo>
                  <mi>j</mi>
                </mrow>
              </msub>
            </mrow>
          </mrow>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>9</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mi>C</mi>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>j</mi>
              <mo>=</mo>
              <mn>1</mn>
            </mrow>
            <mi>N</mi>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <msubsup>
              <mi>i</mi>
              <mi>j</mi>
              <mn>2</mn>
            </msubsup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <msub>
                  <mi>R</mi>
                  <mi>j</mi>
                </msub>
                <mo>+</mo>
                <msub>
                  <mi>R</mi>
                  <mrow>
                    <mi>MOSFET</mi>
                    <mo>,</mo>
                    <mi>j</mi>
                  </mrow>
                </msub>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>10</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
in which i<sub>j </sub>is the current in phase j of N phases, R<sub>j </sub>is the characteristic resistance corresponding to phase j, V<sub>ce-IGBT,j </sub>is the on-state voltage drop corresponding to phase j, and R<sub>MOSFET,j </sub>is the characteristic MOSFET resistance corresponding to phase j. The control system may implement the objective function of Eqs. 9 or 10 to minimize the total losses due to ohmic resistance losses and IGBT losses, or the total losses due to ohmic resistance losses and MOSFET losses, respectively.
</p>
<p id="p-0070" num="0069">In some embodiments, relatively more complex model of power subsystem losses, electromagnetic machine losses (e.g., magnet losses, models of iron cores), or both, may be used as an objective function. In some embodiments, one or more objective functions may be combined to generate a new objective function. For example, a weighted sum of two objective functions may be used as an objective function. It will be understood that while Eqs. 5-10 provide illustrative examples of objective functions, any suitable objective function may be used in accordance with the present disclosure.</p>
<p id="p-0071" num="0070">In some embodiments, thermal information such as, for example, a temperature measurement, may be used with an objective function. For example, system properties (e.g., R<sub>j</sub>, V<sub>ce-IGBT,j</sub>, R<sub>MOSFET,j</sub>) may be expressed as temperature dependent quantities (e.g., using temperature dependent resistivity, or a user-specified temperature dependence). In a further example, system losses may be weighted by a temperature dependent coefficient. For example, phases operating at relatively higher temperatures (e.g., near their operating envelope limits) may have their associated resistances and/or losses weighted relatively more heavily to decrease the current allocated to such phases. In a further example, losses associated with the phase exhibiting the highest temperature may be penalized with a weighting relative to the other phases.</p>
<p id="p-0072" num="0071">In some embodiments, the objective function may be subject to one or more constraints. A constraint may include a condition (e.g., an equality or inequality) to be satisfied during optimization. For example, a constraint may be expressed using Eq. 11:</p>
<p id="p-0073" num="0072">
<maths id="MATH-US-00009" num="00009">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>F</mi>
          <mi>DES</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>j</mi>
              <mo>=</mo>
              <mn>1</mn>
            </mrow>
            <mi>N</mi>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <mrow>
              <msub>
                <mi>k</mi>
                <mi>j</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>x</mi>
                  <mo>,</mo>
                  <msub>
                    <mi>&#x3a6;</mi>
                    <mi>T</mi>
                  </msub>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <msub>
              <mi>i</mi>
              <mi>j</mi>
            </msub>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>11</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
in which i<sub>j </sub>is the current in phase j of N phases, k<sub>j</sub>(x,&#x3c6;<sub>T</sub>) is the force constant corresponding to phase j at position x, and F<sub>DES </sub>is the desired force equal to the sum of electromotive forces from each phase. The control system may implement the constraint of Eq. 11 to ensure the desired force is achieved. In a further example, a constraint may be expressed using Eq. 12:
</p>
<p id="p-0074" num="0073">
<maths id="MATH-US-00010" num="00010">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>K</mi>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>j</mi>
              <mo>=</mo>
              <mn>1</mn>
            </mrow>
            <mi>N</mi>
          </munderover>
          <mo>&#x2062;</mo>
          <msub>
            <mi>i</mi>
            <mi>j</mi>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>12</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
in which i<sub>j </sub>is the current in phase j of N phases. The control system may implement the constraint of Eq. 12 to constrain the total current to be a predetermined value K (e.g., zero) to reduce excess current. In a further example, a constraint may be expressed using Eq. 13:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>i</i><sub>j,min</sub><i>&#x3c;i</i><sub>j</sub><i>&#x3c;i</i><sub>j,max</sub>&#x2003;&#x2003;(13)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
in which i<sub>j </sub>is the current in phase j of N phases, i<sub>j,max </sub>is a maximum current threshold, and i<sub>j,min </sub>is a minimum current threshold for phase j. The control system may implement the constraint of Eq. 13 to constrain the current in any phase to be within a predetermined range (e.g., &#x2212;100 to 100 amps or any other suitable range). In a further example, a constraint may be expressed using Eq. 14:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>l=i</i><sub>j</sub>&#x2003;&#x2003;(14)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
in which i<sub>j </sub>is the current in phase j of N phases, and l is a predetermined constant. The control system may implement the constraint of Eq. 14 to constrain the current of one or more phases to a fixed value (e.g., zero or any other suitable value). Shown in Eq. 15:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>0=<i>i</i><sub>j</sub>&#x2003;&#x2003;(15)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
is a particular case of Eq. 14, in which the predetermined value is zero. In a further example, a constraint may be expressed using Eq. 16:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>j,min</sub><i>&#x3c;V&#x3c;V</i><sub>j,max</sub>&#x2003;&#x2003;(16)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
in which V<sub>j </sub>is the voltage across phase j of N phases, V<sub>j,max </sub>is a maximum available voltage for phase j, and V<sub>j,min </sub>is a minimum available for phase j (e.g., thresholds may be, but need not be, different for each phase). In some embodiments, the available voltages for each phase may be determined based on the high and low voltage bus lines available in the power subsystem. In a further example, the constraint of Eq. 16 may be expressed in terms of current values using Eq. 17:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x394;<i>i</i><sub>j,min</sub><i>&#x3c;&#x394;i</i><sub>j</sub><i>&#x3c;&#x394;i</i><sub>j,max</sub>&#x2003;&#x2003;(17)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
in which &#x394;i<sub>j </sub>is the change in current (e.g., in time, sample number, or any other suitable increment) in phase j of N phases, &#x394;i<sub>j,max </sub>is a maximum change in current threshold, and &#x394;i<sub>j,min </sub>is a minimum current threshold for phase j (e.g., thresholds may be, but need not be, different for each phase). The control system may implement the constraint of Eq. 13 to constrain the change in current of one or more phases to a predetermined range. The range may be determined based on the inductive limitations of each phase. Shown in Eq. 18:
</p>
<p id="p-0075" num="0074">
<maths id="MATH-US-00011" num="00011">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mrow>
            <mo>(</mo>
            <mfrac>
              <mrow>
                <mo>&#x2146;</mo>
                <msub>
                  <mi>i</mi>
                  <mi>j</mi>
                </msub>
              </mrow>
              <mrow>
                <mo>&#x2146;</mo>
                <mi>t</mi>
              </mrow>
            </mfrac>
            <mo>)</mo>
          </mrow>
          <mi>min</mi>
        </msub>
        <mo>&#x3c;</mo>
        <mfrac>
          <mrow>
            <mo>&#x2146;</mo>
            <msub>
              <mi>i</mi>
              <mi>j</mi>
            </msub>
          </mrow>
          <mrow>
            <mo>&#x2146;</mo>
            <mi>t</mi>
          </mrow>
        </mfrac>
        <mo>&#x3c;</mo>
        <msub>
          <mrow>
            <mo>(</mo>
            <mfrac>
              <mrow>
                <mo>&#x2146;</mo>
                <msub>
                  <mi>i</mi>
                  <mi>j</mi>
                </msub>
              </mrow>
              <mrow>
                <mo>&#x2146;</mo>
                <mi>t</mi>
              </mrow>
            </mfrac>
            <mo>)</mo>
          </mrow>
          <mi>max</mi>
        </msub>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>18</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
is a further constraint, similar to that shown in Eq. 17, in which the derivative of the current in each phase di<sub>j</sub>/dt is constrained to a range between a minimum value (di<sub>j</sub>/dt)<sub>min </sub>and maximum value (di<sub>j</sub>/dt)<sub>max </sub>(e.g., which may be, but need not be, different for each phase). The control system may implement the constraint of Eq. 18 to constrain the voltage drop across the windings of one or more phases to a predetermined range. Shown in Eq. 19:
</p>
<p id="p-0076" num="0075">
<maths id="MATH-US-00012" num="00012">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>V</mi>
          <mrow>
            <mi>j</mi>
            <mo>,</mo>
            <mi>min</mi>
          </mrow>
        </msub>
        <mo>&#x3c;</mo>
        <mrow>
          <mrow>
            <msub>
              <mi>i</mi>
              <mi>j</mi>
            </msub>
            <mo>&#x2062;</mo>
            <msub>
              <mi>R</mi>
              <mi>j</mi>
            </msub>
          </mrow>
          <mo>+</mo>
          <mrow>
            <msub>
              <mi>L</mi>
              <mi>j</mi>
            </msub>
            <mo>&#x2062;</mo>
            <mfrac>
              <mrow>
                <mo>&#x2146;</mo>
                <msub>
                  <mi>i</mi>
                  <mi>j</mi>
                </msub>
              </mrow>
              <mrow>
                <mo>&#x2146;</mo>
                <mi>t</mi>
              </mrow>
            </mfrac>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mrow>
              <msub>
                <mi>k</mi>
                <mi>j</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>x</mi>
                  <mo>,</mo>
                  <msub>
                    <mi>&#x3a6;</mi>
                    <mi>T</mi>
                  </msub>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <msub>
              <mi>i</mi>
              <mi>j</mi>
            </msub>
          </mrow>
        </mrow>
        <mo>&#x3c;</mo>
        <msub>
          <mi>V</mi>
          <mrow>
            <mi>max</mi>
            <mo>,</mo>
            <mi>j</mi>
          </mrow>
        </msub>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>19</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
is a further constraint in which the voltage drop
</p>
<p id="p-0077" num="0076">
<maths id="MATH-US-00013" num="00013">
<math overflow="scroll">
<mrow>
  <mrow>
    <mrow>
      <msub>
        <mi>i</mi>
        <mi>j</mi>
      </msub>
      <mo>&#x2062;</mo>
      <msub>
        <mi>R</mi>
        <mi>j</mi>
      </msub>
    </mrow>
    <mo>+</mo>
    <mrow>
      <mi>L</mi>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mfrac>
        <mrow>
          <mo>&#x2146;</mo>
          <msub>
            <mi>i</mi>
            <mi>j</mi>
          </msub>
        </mrow>
        <mrow>
          <mo>&#x2146;</mo>
          <mi>t</mi>
        </mrow>
      </mfrac>
    </mrow>
    <mo>+</mo>
    <mrow>
      <mrow>
        <msub>
          <mi>k</mi>
          <mi>j</mi>
        </msub>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>x</mi>
            <mo>,</mo>
            <msub>
              <mi>&#x3a6;</mi>
              <mi>T</mi>
            </msub>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mo>&#x2062;</mo>
      <msub>
        <mi>i</mi>
        <mi>j</mi>
      </msub>
    </mrow>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
</maths>
<br/>
k<sub>j</sub>(x,&#x3c6;<sub>T</sub>)i<sub>j</sub>, where L<sub>j </sub>is the winding inductance of phase j (e.g., which may be, but need not be, different for each phase), in each phase is limited by predetermined voltages V<sub>max,j </sub>and V<sub>j,min </sub>(e.g., maximum and minimum voltage differences available between bus lines, or a bus line and neutral, per each phase). The control system may implement the constraint of Eq. 19 to constrain the voltage drop across the windings and resistive elements of one or more phases to a predetermined range. It will be understood that while Eqs. 11-19 provide illustrative examples of constraints, any suitable constraint may be used in accordance with the present disclosure.
</p>
<p id="p-0078" num="0077">In some embodiments, the control system may optimize one or more objective functions, each subject to one or more constraints. The control system may implement the optimization using any suitable technique such as, for example, Newton's method, a gradient descent/ascent technique, an interior point technique, a simplex technique, a Lagrangian multiplier technique, any other suitable optimization techniques, or any combination thereof. Any suitable technique, including any mathematical manipulation of an objective function or constraint, may be used to solve for a set of current values. For example, in some embodiments, the control system may use zero objective functions, and generate a feasibility function by specifying an objective function value (i.e., essentially converting the objective function into a constraint) and one or more constraints. The control system may determine a set of current values for a series of feasibility functions.</p>
<p id="p-0079" num="0078"><figref idref="DRAWINGS">FIG. 11</figref> is a flow diagram <b>1100</b> of illustrative steps for determining current values, in accordance with some embodiments of the present disclosure.</p>
<p id="p-0080" num="0079">Step <b>1102</b> may include a control system determining a desired force between a translator and stator of multiphase electromagnetic machine. In some embodiments the control system may determine a relative position between the translator and stator (e.g., using a position sensor), and determine the desired force based on the relative position. For example, the control system may reference a look-up table for a particular position, and select a corresponding desired force value. In some embodiments the control system may determine a relative velocity between the translator and stator (e.g., using the time derivative of position determined by a position sensor), and determine the desired force based on the relative velocity. For example, the control system may reference a look-up table for a particular velocity, and select a corresponding desired force value. In some embodiments the control system may receive a user input (e.g., via a user interface device) indicating a desired force value. The determined force may have any suitable units such as, for example, Newtons, pounds, pascals, any other suitable units, or any combination thereof.</p>
<p id="p-0081" num="0080">Step <b>1104</b> may include the control system determining current values based on the desired force of step <b>1102</b>, at least one objective function, and at least one constraint. In some embodiments, the control system may optimize the at least one objective function subject to the at least one constraint. In some embodiments, one of the at least one constraints includes the constraint given by Eq. 8, based on the desired force of step <b>1102</b>. The control system may recall any suitable information (e.g., data, predetermined values) such as, for example, force constants, phase resistances, IGBT on-state voltage drops, winding inductances, threshold values, previous current values, any other suitable information, or any combination thereof. In some embodiments, the control may store the current values as an array or other suitable data structure. In some embodiments, the control system may input the current values to a pulse width modulation (PWM) controller, which may provide PWM signals to a power subsystem coupled to the multiphase electromagnetic machine.</p>
<p id="p-0082" num="0081">In some circumstances, one or more phases of a multiphase electromagnetic machine may be determined to be damaged, degraded, unavailable, undesired, or may be otherwise afforded special consideration by a corresponding control system. For example, a winding may become shorted by a failure of electrical insulation, and accordingly the electrical properties of the winding may change significantly. In some embodiments, a control system may apply particular constraints to one or more particular phases to prevent further damage, prevent overly large currents, prevent instability, or otherwise control operation of the electromagnetic machine with respect to the particular phase.</p>
<p id="p-0083" num="0082"><figref idref="DRAWINGS">FIG. 12</figref> is a flow diagram of illustrative steps for determining current values when a phase is undesired or unavailable, in accordance with some embodiments of the present disclosure.</p>
<p id="p-0084" num="0083">Step <b>1202</b> may include a control system identifying one or more phases that are undesirable, unavailable, or both. For example, a particular phase of a multiphase electromagnetic machine may become compromised during operation (e.g., by insulation breakdown of a winging, mechanical damage, IGBT damage, or other damage). In a further example, the control system may control the multiphase electromagnetic machine using less than the N available phases. In some embodiments, the control system may perform a diagnostic check to determine whether any phase has been compromised. For example, the control system may measure the impedance of a phase, and if the impedance is outside of a predetermined range, the phase may be deemed compromised. In some embodiments, the control system may receive a user input (e.g., using a user interface device), indicating that one or more phases requires special consideration.</p>
<p id="p-0085" num="0084">Step <b>1204</b> may include the control system adjusting a constraint for the identified one or more phases of step <b>1202</b>. In some embodiments, the control system may, for example, constrain the current for the one or more phases to a particular range, or to a predetermined value (e.g., a value of zero or any other suitable value). For example, the control system may receive a user input to a hard command button of a keyboard, indicating that a particular phase is unavailable, and the current should be constrained to zero for that phase. In a further example, the control system may determine that a phase has been compromised, and may accordingly constrain the current in the phase to be zero. In a further example, the control system may determine that one or more windings have been damaged, and may adjust the desired force in response (e.g., reduce the desired force to prevent increased current demands in the other phases).</p>
<p id="p-0086" num="0085">Step <b>1206</b> may include the control system determining current values for the one or more identified phases of step <b>1202</b> and one or more of the other phases of the multiphase electromagnetic machine. In some embodiments, step <b>1206</b> may include any of the techniques of step <b>1104</b> of <figref idref="DRAWINGS">FIG. 11</figref>. For example, the control system may optimize one or more cost functions, subject to one or more constraints including the adjusted constraint of step <b>1204</b>. In some embodiments, the control system may store the current values as an array or other suitable data structure. In some embodiments, the control system may input the current values to a PWM controller, which may provide PWM signals to a power subsystem coupled to the multiphase electromagnetic machine.</p>
<p id="p-0087" num="0086"><figref idref="DRAWINGS">FIG. 13</figref> is a flow diagram <b>1300</b> of illustrative steps for determining a set of current values based on an objective function and one or more constraints, in accordance with some embodiments of the present disclosure.</p>
<p id="p-0088" num="0087">Step <b>1302</b> may include a control system determining position information of a translator relative to a stator. Position information may include an axial position of the translator relative to the stator, an axial velocity of the translator relative to the stator, a direction of motion of the translator relative to the stator, an acceleration of the translator relative to the stator, any other suitable position information, or any combination thereof. The control system may receive a signal from one or more sensors such as, for example, a linear encoder, a rotary encoder, an accelerometer, a Doppler system, an image-based position sensor, any other suitable sensor for sensing position information, or any combination thereof. In some embodiments, position information may be determined by performing calculations using sensor output. For example, an encoder may sense a linear position, from which velocity, direction of motion, acceleration, or a combination thereof may be derived by calculating first and second derivatives. In a further example, an accelerometer may sense a linear acceleration, from which position, direction of motion, velocity, or a combination thereof may be derived by performing one or two time integrals.</p>
<p id="p-0089" num="0088">Step <b>1304</b> may include the control system determining a desired force between a translator and stator of multiphase electromagnetic machine. In some embodiments, the control system may determine the desired force based on the position information of step <b>1302</b>. For example, the control system may reference a look-up table for a particular position, and select a corresponding desired force value. In a further example, the control system may reference a look-up table for a particular determined velocity, and select a corresponding desired force value. In a further example, the control system may reference a look-up table for a particular direction of motion, and select a corresponding desired force value. In some embodiments the control system may receive a user input (e.g., via a user interface device) indicating a desired force value.</p>
<p id="p-0090" num="0089">Step <b>1306</b> may include the control system selecting at least one objective function. In some embodiments, more than one objective function may be available, and the control system may select one or more objective functions. In some embodiments, only one objective function may be available, in which case, step <b>1306</b> need not be performed. In some embodiments, the control system may select the at least objective function based on a desired operating characteristic. The at least one objective function may include any objective function expressed in Eqs. 5-10, any other suitable objective function, or any combination thereof. <figref idref="DRAWINGS">FIG. 14</figref> is a flow diagram <b>1400</b> of illustrative steps for selecting an objective function, in accordance with some embodiments of the present disclosure. In some embodiments, the control system may select an objective function to minimize ohmic losses in phase windings, other current paths, or both (e.g., using Eq. 5), as shown by step <b>1402</b>. In some embodiments, the control system may select an objective function to minimize IGBT losses in a power subsystem (e.g., using Eq. 6), as shown by step <b>1404</b>. In some embodiments, the control system may select an objective function to minimize a combination of ohmic losses and IGBT losses in phase windings (e.g., using Eq. 9), as shown by step <b>1406</b>. In some embodiments, the control system may select an objective function to minimize a deviation between a desired force and an actual force (e.g., using Eq. 8), as shown by step <b>1408</b>.</p>
<p id="p-0091" num="0090">Step <b>1308</b> may include the control system selecting at least one constraint. In some embodiments, more than one constraint may be available, and the control system may select one or more constraints. In some embodiments, only one constraint may be available, in which case, step <b>1308</b> need not be performed. In some embodiments, the control system may select the at least constraint based on a desired operating characteristic. The at least one constraint may include any constraint expressed in Eqs. 11-19, any other suitable constraint, or any combination thereof. <figref idref="DRAWINGS">FIG. 15</figref> is a flow diagram <b>1500</b> of illustrative steps for selecting a constraint, in accordance with some embodiments of the present disclosure. In some embodiments, the control system may select to constrain the set of current values based on the desired force (e.g., using Eq. 11), as shown by step <b>1502</b>. In some embodiments, the control system may select to constrain one or more current values to a predetermined value (e.g., using Eq. 14), as shown by step <b>1504</b>. In some embodiments, the control system may select to constrain the sum of a set of current values to a constant value (e.g., using Eq. 12), as shown by step <b>1506</b>. In some embodiments, the control system may select to constrain one or more current values to an allowable range (e.g., using Eq. 103), as shown by step <b>1508</b>. In some embodiments, the control system may select to constrain a change in one or more current values to an allowable range (e.g., using Eq. 17), as shown by step <b>1510</b>.</p>
<p id="p-0092" num="0091">Step <b>1310</b> may include the control system determining a set of current values based on the desired force of step <b>1304</b>, the at least one objective function of step <b>1306</b>, and the at least one constraint of step <b>1308</b>. In some embodiments, the control system may implement an optimization technique to determine the set of current values. In some embodiments, the control system may optimize (e.g., maximize or minimize) a cost function, utility function, or both, as shown in Eq. 20:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>C=f</i>(<i>F</i><sub>DES</sub><i>,F</i><sub>ACT</sub><i>,k</i><sub>j</sub>(<i>x,&#x3c6;</i><sub>T</sub>),<i>i</i><sub>j</sub><i>,&#x394;i</i><sub>j</sub><i>,di</i><sub>j</sub><i>/dt,x,{dot over (x)},{umlaut over (x)}&#x3c6;</i><sub>T</sub><i>,R</i><sub>j</sub><i>,V</i><sub>ce-IGBT,j</sub><i>,R</i><sub>MOSFET,j</sub><i>,L</i><sub>j</sub>)&#x2003;&#x2003;(20)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
which may be a function of a desired force F<sub>DES</sub>, an actual force F<sub>ACT</sub>, one or more force constants k<sub>j</sub>(x,&#x3c6;<sub>T</sub>), one or more current values i<sub>j</sub>, one or more changes in current values &#x394;i<sub>j</sub>, one or more derivative of current values di<sub>j</sub>/dt, a position x, a velocity {dot over (x)}, an acceleration {umlaut over (x)}, a flux &#x3c6;<sub>T</sub>, a phase resistance R<sub>j</sub>, an on-state voltage drop V<sub>ce-IGBT,j</sub>, an effective MOSFET resistance R<sub>MOSFET,j</sub>, an inductance of a phase L<sub>j</sub>, any other suitable variables, or any combination thereof. The control system may optimize the objective function subject to one or more constraints which may include equalities, as shown in Eq. 21:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>K=g</i>(<i>F</i><sub>DES</sub><i>,F</i><sub>ACT</sub><i>,k</i><sub>j</sub>(<i>x,&#x3c6;</i><sub>T</sub>),<i>i</i><sub>j</sub><i>,&#x394;i</i><sub>j</sub><i>,di</i><sub>j</sub><i>/dt,x,{dot over (x)},{umlaut over (x)},&#x3c6;</i><sub>T</sub><i>,R</i><sub>j</sub><i>,V</i><sub>ce-IGBT,j</sub><i>,R</i><sub>MOSFET,j</sub><i>,L</i><sub>j</sub>)&#x2003;&#x2003;(21)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
inequalities, as shown illustratively in Eq. 22:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>K</i><sub>1</sub><i>&#x2266;g</i>(<i>F</i><sub>DES</sub><i>,F</i><sub>ACT</sub><i>,k</i><sub>j</sub>(<i>x,&#x3c6;</i><sub>T</sub>),<i>i</i><sub>j</sub><i>,&#x394;i</i><sub>j</sub><i>,di</i><sub>j</sub><i>/dt,x,{dot over (x)},{umlaut over (x)},&#x3c6;</i><sub>T</sub><i>,R</i><sub>j</sub><i>,V</i><sub>ce-IGBT,j</sub><i>,R</i><sub>MOSFET,j</sub><i>,L</i><sub>j</sub>)&#x2266;<i>K</i><sub>2</sub>&#x2003;&#x2003;(22)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
or both, and may include a desired force F<sub>DES</sub>, an actual force F<sub>ACT</sub>, one or more force constants k<sub>j</sub>(x,&#x3c6;<sub>T</sub>), one or more current values i<sub>j</sub>, one or more changes in current values &#x394;i<sub>j</sub>, one or more derivative of current values di<sub>j</sub>/dt, a position x, a velocity {dot over (x)}, an acceleration {umlaut over (x)}, a flux &#x3c6;<sub>T</sub>, a phase resistance R<sub>j</sub>, an on-state voltage drop V<sub>ce-IGBT,j</sub>, an effective MOSFET resistance R<sub>MOSFET,j</sub>, an inductance of a phase L<sub>j</sub>, any other suitable variables, or any combination thereof. It will be understood that Eq. 22 shows an illustrative inequality including both a &#x201c;less than or equal&#x201d; and a &#x201c;greater than or equal&#x201d; symbol, although any suitable inequality (e.g., less than, greater than) may be included as a constraint.
</p>
<p id="p-0093" num="0092">In an illustrative example, a control system may select the objective function shown by Eq. 5, and the constraint shown by Eq. 11. If all of the phase resistances R<sub>j </sub>are the same, a set of current values may be determined using Eq. 23:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>i=k</i>(<i>k</i><sup>T</sup><i>k</i>)<sup>&#x2212;1</sup><i>F</i>&#x2003;&#x2003;(23)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
in which i is a column vector of the set of current values i<sub>j </sub>of N phases, k is column vector of the force constants k<sub>j</sub>(x,&#x3c6;<sub>T</sub>) of the N phases (e.g., based on position and flux), and F is a 1&#xd7;1 array (i.e., a scalar) having a value equal to the desired electromotive force F<sub>des </sub>between the stator and the translator. As shown in Eq. 23, this particular selection of objective function and constraint allows a least norm solution. If the phase resistances are not equal, for example, the control system may determine a weighted least norm solution (e.g., by using a weighted current variable, and then transforming to current). If, additionally, the sum of the currents were constrained to zero, for example, Eq. 23 may still be used, although the arrays k and F are defined differently. For example, k is a N&#xd7;2 array with the first column all ones, and the second column the set of force constants. Accordingly, F would be a 2&#xd7;1 array, with the top row having a value of zero, and the bottom row having a value F<sub>des</sub>. A least norm solution, or weighted least norm solution, may be achieved, for example, when a suitable quadratic objective function (e.g., as shown in Eqs. 5, 7, and 10) and affine equality constraint(s) (e.g., as shown by Eqs. 11, 12, and 14) are used.
</p>
<p id="p-0094" num="0093">In some circumstances, the control system may determine that a set of current values may be unacceptable (e.g., may violate one or more constraints, may correspond to a non-converged solution). For example, processing equipment of the control system may fail to reach an acceptable solution to the optimization (e.g., while performing the illustrative steps of flow diagram <b>1300</b> of <figref idref="DRAWINGS">FIG. 13</figref>). In a further example, no acceptable solution may exist for the selected at least one objective function and at least one constraint. In some embodiments, the control system may recognize that unacceptable current values have been determined, and determine a new set of current values. <figref idref="DRAWINGS">FIG. 16</figref> is a flow diagram <b>1600</b> of illustrative steps for determining a new set of current values based on a cost function and one or more constraints, in accordance with some embodiments of the present disclosure.</p>
<p id="p-0095" num="0094">Step <b>1602</b> may include the control system determining that a set of current values is unacceptable. In some embodiments, the control system may perform a check on a set of determined current values to ensure that all constraints have been satisfied. In some embodiments, the control system may determine that a solution approach is not converging to an acceptable solution. In some embodiments, the control system may receive a user input indicating that a determined set of current values are unacceptable.</p>
<p id="p-0096" num="0095">If the control system determines at step <b>1602</b> that a set of current values is not acceptable, then the control system may perform any or all of steps <b>1604</b>-<b>1610</b>.</p>
<p id="p-0097" num="0096">Step <b>1604</b> may include the control system selecting at least one new objective function. In some embodiments, the control system may select an additional objective function to optimize along with the previous objective function. In some embodiments, the control system may replace one or more objective functions with at least one new objective function. The control system may select any of the objective functions included in <figref idref="DRAWINGS">FIG. 14</figref>, any other suitable objective functions, or any combination thereof.</p>
<p id="p-0098" num="0097">Step <b>1606</b> may include the control system adjusting at least one constraint. In some embodiments, the control system may adjust (e.g., decrease or increase) a threshold used with a constraint (e.g., a threshold included in an inequality). For example, step <b>1606</b> may include the control system adjusting a desired force value. The control system may reduce the desired force, which may reduce current flows in one or more phases. In a further example, the control system may determine that a desired force will likely not be achievable (e.g., due to damage, or other factors), and may accordingly reduce the desired force. In some embodiments, the control system may relax an equality constraint to an inequality constraint to allow a wider range of acceptable values.</p>
<p id="p-0099" num="0098">Step <b>1608</b> may include the control system removing at least one constraint. In some embodiments, the control system may remove a constraint to aid in achieving a solution of an optimization. In some embodiments, the control system may remove a constraint for all phases. In some embodiments, the control system may remove a constraint for a particular phase or combination of phases, while maintaining the constraint for the remaining phases.</p>
<p id="p-0100" num="0099">Step <b>1610</b> may include the control system adding at least one constraint. In some embodiments, the control system may add a constraint to aid in achieving a solution of an optimization. In some embodiments, the control system may add a constraint for all phases. In some embodiments, the control system may add a constraint for a particular phase or combination of phases. In some embodiments, the control system may replace a constraint with a new constraint, thus removing the old constraint and adding a new constraint. In some embodiments, if a new objective function is selected, one or more new constraints may be added. For example, if an original objective function severely penalized large currents (e.g., via weighting), the selection of a new objective function that does not penalize large current values may benefit from the addition of a constraint on the allowable current values (e.g., using Eq. 13).</p>
<p id="p-0101" num="0100"><figref idref="DRAWINGS">FIG. 17</figref> is a block diagram <b>1700</b> of illustrative modules of a control system for controlling a multiphase electromagnetic machine, in accordance with some embodiments of the present disclosure. Block diagram <b>1700</b> may be implemented, for example, using any suitable hardware modules, software modules, or a combination thereof. For example, block diagram <b>1700</b> may implemented with a control system such as control system <b>500</b> of <figref idref="DRAWINGS">FIG. 5</figref>. Block <b>1716</b> may include processing equipment determining whether to use a desired force, or a desired position as input. A desired force between a stator and a translator of multiphase electromagnetic machine may be recalled from memory, determined by a processing block, or both, as shown by data block <b>1702</b>. A desired position between a stator and a translator of multiphase electromagnetic machine may be recalled from memory, determined by a processing block, or both, as shown by data block <b>1704</b>. The desired position may be used at block <b>1706</b> to determine a desired force based on a mechanical model (e.g., desired force solved from desired position as input), a PID controller (e.g., which may use a measured position shown by data block <b>1710</b>), a cogging force calculator, and other suitable, calculator any other suitable module, or any combination thereof. The desired force value outputted from block <b>1716</b> may be limited (e.g., capped by upper and lower thresholds) or otherwise adjusted (e.g., filtered, averaged) by block <b>1718</b>. Block <b>1718</b> may output a target force value (e.g., shown by data block <b>1720</b>, and which may be the same as a desired force value), which may be used to determine a set of current values. Block <b>1708</b>, which may be used for any suitable multiphase electromagnetic machine (e.g., inductive, permanent magnet, switch reluctance), may determine a magnetic flux in the translator (e.g., using a model, look-up table, or other reference) based on previous current values, translator properties, stator properties, B-H curves, any other suitable information, or any combination thereof. For example, referencing a permanent magnet machine, block <b>1708</b> may take as input measured or estimated magnet temperatures to estimate flux. In a further example, referencing an inductive machine, block <b>1708</b> may take as input the history of applied phase currents and voltages. A measured position of the translator relative to the stator, shown by data block <b>1710</b>, may be used at block <b>1714</b> to recall a set of force constants. Position information (e.g., position, velocity, acceleration, or manipulations/conversions thereof) of the translator relative to the stator may be used at block <b>1708</b> to determine one or more flux values, and determine a set of force constants (e.g., which may be used for an induction-type electromagnetic machine). Block <b>1722</b> may determine whether any phases require special consideration (e.g., damaged, undesired, or unavailable phases), and determine any suitable corresponding constraints. Block <b>1726</b> may include an optimizer/solver module to determine a set of current values, as shown by data block <b>1728</b>, based on a target force (e.g., data block <b>1720</b>), force constants (e.g., from block <b>1708</b> or block <b>1714</b>), any constraints from block <b>1722</b>, and any constants, thresholds, or other stored values (e.g., as shown by data block <b>1724</b>). Block <b>1732</b> may estimate a back emf, shown by data block <b>1734</b>, from one or more phases based on the measured position (e.g., as shown by data block <b>1710</b>), and a set of force constants (e.g., from block <b>1708</b> or <b>1714</b>). Block <b>1738</b> may take as input the set of current values determined by block <b>1726</b>, the back emf determined by block <b>1732</b>, and the previous set of current values shown by data block <b>1736</b> (e.g., from the previous iteration), and output a set of voltage values for the phases of the electromagnetic machine. Block <b>1726</b> may, for example, apply any of the illustrative techniques of flow diagrams <b>1100</b>-<b>1600</b> of <figref idref="DRAWINGS">FIGS. 11-16</figref> to determine a set of current values. Block <b>1742</b> may take as input the set of voltage values from block <b>1736</b> and the available bus and ground voltages (e.g., as shown by data block <b>1740</b>), and determine PWM duty cycles, which may be outputted to a power subsystem (e.g., one or more IGBTs) of the control system. The blocks shown in block diagram may perform one full calculation (e.g., taking a desired force or position, along with position information, and determining PWM duty cycles) at any suitable speed. For example, processing equipment of a control system may perform full calculations at a rate of 10 kHz.</p>
<p id="p-0102" num="0101"><figref idref="DRAWINGS">FIG. 18</figref> is a cross section view of an illustrative piston engine <b>1800</b> including an illustrative multiphase electromagnetic machine <b>1850</b>, in accordance with some embodiments of the present disclosure. Piston engine <b>1800</b> includes a cylinder <b>1822</b> having a bore <b>1834</b> and a combustion section <b>1830</b>, as well as a substantially rigid piston assembly <b>1810</b> configured to translate along axis <b>1850</b> of bore <b>1834</b>. In the illustrated embodiment, piston assembly <b>1810</b> includes piston <b>1812</b>, piston rod <b>1814</b>, translator <b>1852</b>, although any other suitable components that are not shown, or any combination thereof, may be included.</p>
<p id="p-0103" num="0102">Combustion, fluid compression, and fluid expansion of an engine fluid may occur in combustion section <b>1830</b>, with piston assembly <b>1810</b> providing mechanical work interactions with the engine fluid. Motion of piston assembly <b>1810</b>, and specifically translator <b>1852</b>, relative to the stator <b>1854</b> may allow electromagnetic work interactions. For example, electromagnetic work may be extracted from stator <b>1854</b> caused by relative motion of translator <b>1852</b> (e.g., to extract work from an expansion stroke of piston assembly <b>1810</b>). In a further example, electromagnetic work may be supplied to stator <b>1854</b> to cause relative motion of translator <b>1852</b> (e.g., to provide work input during a compression stroke of piston assembly <b>1810</b>). Multiphase electromagnetic machine <b>1850</b> may include a permanent magnet machine, an induction machine, a switched reluctance machine, any other suitable electromagnetic machine, or any combination thereof. For example, translator <b>1852</b> may include a permanent magnet, and stator <b>1854</b> may include a wire coil which may conduct an induced current generated by the motion of translator <b>1852</b>. In a further example, translator <b>1852</b> may include a conductive assembly without permanent magnets (e.g., having conductive linkages) in which induced currents may flow, and stator <b>1854</b> may include a wire coil which may conduct an induced current generated by the motion of translator <b>1852</b>.</p>
<p id="p-0104" num="0103">The foregoing is merely illustrative of the principles of this disclosure and various modifications may be made by those skilled in the art without departing from the scope of this disclosure. The above described embodiments are presented for purposes of illustration and not of limitation. The present disclosure also can take many forms other than those explicitly described herein. Accordingly, it is emphasized that this disclosure is not limited to the explicitly disclosed methods, systems, and apparatuses, but is intended to include variations to and modifications thereof, which are within the spirit of the following claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08624542-20140107-M00001.NB">
<img id="EMI-M00001" he="9.14mm" wi="76.20mm" file="US08624542-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08624542-20140107-M00002.NB">
<img id="EMI-M00002" he="6.69mm" wi="76.20mm" file="US08624542-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08624542-20140107-M00003.NB">
<img id="EMI-M00003" he="6.35mm" wi="76.20mm" file="US08624542-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08624542-20140107-M00004.NB">
<img id="EMI-M00004" he="9.14mm" wi="76.20mm" file="US08624542-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US08624542-20140107-M00005.NB">
<img id="EMI-M00005" he="9.14mm" wi="76.20mm" file="US08624542-20140107-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00006" nb-file="US08624542-20140107-M00006.NB">
<img id="EMI-M00006" he="9.14mm" wi="76.20mm" file="US08624542-20140107-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00007" nb-file="US08624542-20140107-M00007.NB">
<img id="EMI-M00007" he="3.89mm" wi="76.20mm" file="US08624542-20140107-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00008" nb-file="US08624542-20140107-M00008.NB">
<img id="EMI-M00008" he="19.73mm" wi="76.20mm" file="US08624542-20140107-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00009" nb-file="US08624542-20140107-M00009.NB">
<img id="EMI-M00009" he="9.14mm" wi="76.20mm" file="US08624542-20140107-M00009.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00010" nb-file="US08624542-20140107-M00010.NB">
<img id="EMI-M00010" he="9.14mm" wi="76.20mm" file="US08624542-20140107-M00010.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00011" nb-file="US08624542-20140107-M00011.NB">
<img id="EMI-M00011" he="7.03mm" wi="76.20mm" file="US08624542-20140107-M00011.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00012" nb-file="US08624542-20140107-M00012.NB">
<img id="EMI-M00012" he="6.35mm" wi="76.20mm" file="US08624542-20140107-M00012.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00013" nb-file="US08624542-20140107-M00013.NB">
<img id="EMI-M00013" he="6.35mm" wi="76.20mm" file="US08624542-20140107-M00013.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A system for controlling a multiphase electromagnetic machine, the system comprising:
<claim-text>processing equipment configured to determine desired currents to apply to respective phases of the multiphase electromagnetic machine; and</claim-text>
<claim-text>a power subsystem coupled to the processing equipment and configured to conduct currents to be applied to respective phases of the multiphase electromagnetic machine and to conduct a virtual phase current to be applied to a virtual phase, wherein the currents and the virtual phase current sum to substantially zero.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the sum of the currents is a non-zero current.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the phases and the virtual phase are coupled in a wye configuration.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:
<claim-text>the virtual phase comprises an electrical resistance;</claim-text>
<claim-text>the phases comprise respective electrical resistances; and</claim-text>
<claim-text>the electrical resistance of the virtual phase is less than any of the electrical resistances of the phases.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processing equipment is further configured to determine a desired virtual phase current and the power subsystem is further configured to conduct the virtual phase current based on the desired virtual phase current.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A method for controlling a multiphase electromagnetic machine, the method comprising:
<claim-text>determining desired currents to respectively apply to phases of the multiphase electromagnetic machine;</claim-text>
<claim-text>conducting respective currents to be applied to the phases based on the desired currents;</claim-text>
<claim-text>determining a desired virtual phase current; and</claim-text>
<claim-text>conducting a virtual phase current to be applied to a virtual phase based on the desired virtual phase current.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the sum of the desired currents is a non-zero current.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein determining the desired virtual phase current comprises determining the sum of the desired currents.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein determining the desired currents and determining the desired virtual phase current occurs substantially simultaneously.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the desired currents and the desired virtual phase current sum to substantially zero.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A system for controlling a multiphase electromagnetic machine, the system comprising:
<claim-text>a power subsystem; and</claim-text>
<claim-text>processing equipment coupled to the power subsystem and configured to:
<claim-text>identify at least one phase of multiple phases of the multiphase electromagnetic machine as being undesired or unavailable,</claim-text>
<claim-text>adjust one or more constraints associated with the at least one phase, and</claim-text>
<claim-text>determine desired respective currents to apply to the multiple phases by the power subsystem based on the adjusted one or more constraint of the at least one phase.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the processing equipment is further configured to reduce an allowable current for the at least one phase.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the processing equipment is further configured to constrain an allowable current for the at least one phase to zero.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein:
<claim-text>the power subsystem is configured to conduct a virtual phase current to be applied to a virtual phase; and</claim-text>
<claim-text>the processing equipment is further configured to determine a desired virtual phase current.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the processing equipment is further configured to adjust a desired force or a desired torque generated by one or more of the phases.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. A method for controlling a multiphase electromagnetic machine, the method comprising:
<claim-text>identifying at least one phase of the multiphase electromagnetic machine as being undesired or unavailable;</claim-text>
<claim-text>adjusting one or more constraints associated with the at least one phase independent of constraints of other phases;</claim-text>
<claim-text>determining, using processing equipment, desired currents to apply to respective phases of the multiphase electromagnetic machine by the power subsystem based on the adjusted one or more constraints; and</claim-text>
<claim-text>applying respective currents to the phases based on the desired currents.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein adjusting the one or more constraints comprises reducing the allowable current for the at least one phase.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein adjusting the one or more constraints comprises constraining the allowable current for the at least one phase to zero.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The method of <claim-ref idref="CLM-00016">claim 16</claim-ref>, further comprising:
<claim-text>determining a desired virtual phase current corresponding to a virtual phase; and</claim-text>
<claim-text>conducting a virtual phase current to be applied to the virtual phase based on the desired virtual phase current.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The method of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein adjusting the one or more constraints comprises adjusting a desired force or a desired torque generated by one or more of the phases.</claim-text>
</claim>
</claims>
</us-patent-grant>
