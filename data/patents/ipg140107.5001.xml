<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626098-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626098</doc-number>
<kind>B1</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13629633</doc-number>
<date>20120928</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>B</subclass>
<main-group>1</main-group>
<subgroup>06</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>4552401</main-classification>
<further-classification>455136</further-classification>
<further-classification>455138</further-classification>
<further-classification>455219</further-classification>
<further-classification>4552321</further-classification>
<further-classification>4552451</further-classification>
<further-classification>330  9</further-classification>
<further-classification>330 51</further-classification>
<further-classification>330 85</further-classification>
<further-classification>330253</further-classification>
<further-classification>330254</further-classification>
</classification-national>
<invention-title id="d2e43">Automatic gain control with programmable attack and decay times</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>2002/0149423</doc-number>
<kind>A1</kind>
<name>Prentice et al.</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>330 85</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2004/0014450</doc-number>
<kind>A1</kind>
<name>Yamamoto et al.</name>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455307</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2007/0098118</doc-number>
<kind>A1</kind>
<name>Muhammad et al.</name>
<date>20070500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375344</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>455130</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455136</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455138</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455219</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4552321</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4552341</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4552451</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4552471</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4552511</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455340</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455341</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4552411</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>330  9</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>330 51</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>330 85</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>330253</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>330254</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>4</number-of-drawing-sheets>
<number-of-figures>4</number-of-figures>
</figures>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Livezey</last-name>
<first-name>Darrell Lee</first-name>
<address>
<city>Auburn</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Livezey</last-name>
<first-name>Darrell Lee</first-name>
<address>
<city>Auburn</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Raj Abhyanker, P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Tahoe RF Semiconductor, Inc.</orgname>
<role>02</role>
<address>
<city>Auburn</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Pham</last-name>
<first-name>Tuan</first-name>
<department>2649</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A transconductance comparator includes a comparator having an output of a detector configured to sense an amplitude of an output of a Variable Gain Amplifier (VGA) of a receiver as a first input and a reference amplitude level as a second input. The comparator generates an error signal based on the first input and the second input. The transconductance comparator also includes a transconductance amplifier having a differential voltage input based on the error signal generated through the comparator and generating an output current. The transconductance amplifier includes current sources associated with programmable current limits thereof and differential pairs associated with the current sources, one or more of which is implemented with a size mismatch between transistors thereof to eliminate an offset error due to a mismatch between the current limits, thereby enabling programmability of an attack time and a decay time during automatic gain control of the VGA.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="133.52mm" wi="205.91mm" file="US08626098-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="203.96mm" wi="151.89mm" orientation="landscape" file="US08626098-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="176.95mm" wi="137.41mm" orientation="landscape" file="US08626098-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="207.94mm" wi="161.12mm" orientation="landscape" file="US08626098-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="249.09mm" wi="192.79mm" file="US08626098-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF TECHNOLOGY</heading>
<p id="p-0002" num="0001">This disclosure relates generally to automatic gain control circuits in Radio Frequency (RF) receivers and, more particularly, to automatic gain control with programmable attack and decay times.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">An Automatic Gain Control (AGC) circuit may be required when amplitude of an input signal of a Radio Frequency (RF) receiver varies over a wide dynamic range to provide a relatively constant amplitude so that circuitry of the RF receiver following the AGC circuit requires lesser dynamic range. For example, anti-jamming receivers may require the AGC circuit therein to be capable of increasing the amplitude of the input signal at one rate, and decreasing the amplitude at a significantly different rate. Attack time may refer to the time in which the AGC circuit decreases the gain of one or more Variable Gain Amplifiers (VGAs) in the RF receiver when an unwanted signal appears, and decay time refers to the time in which the AGC circuit increases the gain of the one or more VGAs when the unwanted signal disappears.</p>
<p id="p-0004" num="0003">A transconductance amplifier utilized in the AGC circuit may have an input offset that is strongly dependent on the ratio of current limits thereof. Moderate differences between the positive and the negative current limits of the transconductance amplifier may generate large offsets, thereby causing serious errors in the amplitude control. The amplitude control errors may degrade the overall performance of the RF receiver.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0005" num="0004">A method, a circuit and/or a system of automatic gain control with programmable attack and decay times are disclosed.</p>
<p id="p-0006" num="0005">In one aspect, a transconductance comparator includes a comparator having an output of a detector configured to sense an amplitude of an output of a Variable Gain Amplifier (VGA) of a receiver as a first input and a reference amplitude level as a second input thereto. The comparator is configured to generate an error signal based on the first input and the second input. The transconductance comparator also includes a transconductance amplifier configured to have a differential voltage input based on the error signal generated through the comparator and to generate an output current. The transconductance amplifier includes a first current source associated with a programmable lower current limit of the transconductance amplifier, and a second current source associated with a programmable upper current limit of the transconductance amplifier.</p>
<p id="p-0007" num="0006">The transconductance amplifier also includes a first differential pair coupled to the first current source and configured to have a first voltage of the differential voltage input applied to gate terminals of transistors thereof, and a second differential pair coupled to the second current source and configured to have a second voltage of the differential voltage input applied to gate terminals of transistors thereof. The transistors of the first differential pair and/or the transistors of the second differential pair are implemented with a size mismatch therebetween to eliminate an offset error in the transconductance amplifier due to a mismatch between the programmable lower current limit and the programmable upper current limit. The elimination of the offset error enables programmability of an attack time and a decay time during automatic gain control of the VGA over a wide range of the programmable current limits of the transconductance amplifier.</p>
<p id="p-0008" num="0007">In another aspect, an automatic gain control circuit of a VGA includes a detector to sense an amplitude of an output of the VGA, and a comparator having an output of the detector as a first input and a reference amplitude level as a second input thereto. The comparator is configured to generate an error signal based on the first input and the second input. The automatic gain control circuit also includes a transconductance amplifier configured to have a differential voltage input based on the error signal generated through the comparator and to generate an output current. An output of the transconductance amplifier is configured to be applied to the VGA to effect an automatic gain control.</p>
<p id="p-0009" num="0008">The transconductance amplifier includes a first current source associated with a programmable lower current limit of the transconductance amplifier, and a second current source associated with a programmable upper current limit of the transconductance amplifier. The transconductance amplifier also includes a first differential pair coupled to the first current source and configured to have a first voltage of the differential voltage input applied to gate terminals of transistors thereof, and a second differential pair coupled to the second current source and configured to have a second voltage of the differential voltage input applied to gate terminals of transistors thereof. The transistors of the first differential pair and/or the transistors of the second differential pair are implemented with a size mismatch therebetween to eliminate an offset error in the transconductance amplifier due to a mismatch between the programmable lower current limit and the programmable upper current limit.</p>
<p id="p-0010" num="0009">The elimination of the offset error enables programmability of an attack time and a decay time during the automatic gain control of the VGA over a wide range of the programmable current limits of the transconductance amplifier. Further, the automatic gain control circuit includes a capacitor coupled between the output of the transconductance amplifier and a ground terminal. The capacitor is configured to be charged and discharged by the transconductance amplifier.</p>
<p id="p-0011" num="0010">In yet another aspect, a Radio Frequency (RF) receiver includes a mixer, a VGA to amplify an output of the mixer, and an automatic gain control circuit to control a gain of the VGA. The automatic gain control circuit includes a detector to sense an amplitude of an output of the VGA, and a comparator having an output of the detector as a first input and a reference amplitude level as a second input thereto. The comparator is configured to generate an error signal based on the first input and the second input. The automatic gain control circuit also includes a transconductance amplifier configured to have a differential voltage input based on the error signal generated through the comparator and to generate an output current. An output of the transconductance amplifier is configured to be applied to the VGA to effect an automatic gain control.</p>
<p id="p-0012" num="0011">The transconductance amplifier includes a first current source associated with a programmable lower current limit of the transconductance amplifier, and a second current source associated with a programmable upper current limit of the transconductance amplifier. The transconductance amplifier also includes a first differential pair coupled to the first current source and configured to have a first voltage of the differential voltage input applied to gate terminals of transistors thereof, and a second differential pair coupled to the second current source and configured to have a second voltage of the differential voltage input applied to gate terminals of transistors thereof. The transistors of the first differential pair and/or the transistors of the second differential pair are implemented with a size mismatch therebetween to eliminate an offset error in the transconductance amplifier due to a mismatch between the programmable lower current limit and the programmable upper current limit. The elimination of the offset error enables programmability of an attack time and a decay time during the automatic gain control of the VGA over a wide range of the programmable current limits of the transconductance amplifier.</p>
<p id="p-0013" num="0012">Further, the automatic gain control circuit includes a capacitor coupled between the output of the transconductance amplifier and a ground terminal. The capacitor is configured to be charged and discharged by the transconductance amplifier.</p>
<p id="p-0014" num="0013">The methods and systems disclosed herein may be implemented in any means for achieving various aspects, and may be executed in a form of a machine-readable medium embodying a set of instructions that, when executed by a machine, cause the machine to perform any of the operations disclosed herein.</p>
<p id="p-0015" num="0014">Other features will be apparent from the accompanying drawings and from the detailed description that follows.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">DESCRIPTION OF THE DIAGRAMS</heading>
<p id="p-0016" num="0015">Example embodiments are illustrated by way of example and not limitation in the figures of the accompanying drawings, in which like references indicate similar elements and in which:</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic view of a Radio Frequency (RF) receiver, according to one or more embodiments.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic view of an Automatic Gain Control (AGC) circuit utilized in the RF receiver of <figref idref="DRAWINGS">FIG. 1</figref>, according to one or more embodiments.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 3</figref> is a schematic view of the RF receiver of <figref idref="DRAWINGS">FIG. 1</figref> including the AGC circuit of <figref idref="DRAWINGS">FIG. 2</figref>, with a transconductance amplifier and a comparator being part of the transconductance comparator of <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 4</figref> is a schematic view of the transconductance amplifier of <figref idref="DRAWINGS">FIG. 3</figref> having programmable current limits, according to one or more embodiments.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<p id="p-0021" num="0020">Other features of the present embodiments will be apparent from the accompanying drawings and from the disclosure of the various embodiments.</p>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0022" num="0021">A method, a circuit and/or a system of automatic gain control with programmable attack and decay times are disclosed. In the following description, for the purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the various embodiments. It will be evident, however to one skilled in the art that the various embodiments may be practiced without these specific details.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 1</figref> shows a Radio Frequency (RF) receiver <b>100</b>, according to one or more embodiments. In one or more embodiments, RF receiver <b>100</b> may include an input amplifier <b>102</b> to amplify an input RF signal before being mixed with a signal from a local oscillator (LO) <b>114</b> through RF mixer <b>104</b> into an Intermediate Frequency (IF) component (not shown). In one or more embodiments, the IF component may be amplified to a desired level through an IF Variable Gain Amplifier (VGA) <b>106</b> before being input to an IF mixer <b>108</b> and mixed with a signal from another LO <b>116</b>. In one or more embodiments, the output of IF mixer <b>108</b> may be amplified through a baseband VGA <b>110</b> before the undesired components thereof being filtered through a Low Pass Filter (LPF) <b>112</b>. In one or more embodiments, an Automatic Gain Control (AGC) circuit <b>150</b> may be located in a feedback portion of IF mixer <b>108</b> to adjust the gain of IF VGA <b>106</b> and/or baseband VGA <b>110</b> to an appropriate level. In other words, the baseband output (e.g., output of baseband VGA <b>110</b>, output of LPF <b>112</b>) may be coupled to an input of AGC circuit <b>150</b>, whose output is then applied to IF VGA <b>106</b> and baseband VGA <b>110</b>. In one or more embodiments, IF VGA <b>106</b> and baseband VGA <b>110</b> may, preferably, be controlled to the same gain level.</p>
<p id="p-0024" num="0023">In one or more embodiments, LO <b>114</b> and LO <b>116</b> may be generated through the same LO generator circuit. In one or more embodiments, AGC circuit <b>150</b> may be required when amplitude of the input RF signal of RF receiver <b>100</b> varies over a wide dynamic range. Thus, in one or more embodiments, AGC circuit <b>150</b> may provide a relatively constant amplitude at an output thereof so that circuitry of RF receiver <b>100</b> following AGC circuit <b>100</b> requires lesser dynamic range. For example, anti-jamming receivers (or, receivers in noisy environments) may require AGC circuit <b>150</b> to be capable of increasing the amplitude of the input RF signal at one rate, and decreasing the amplitude at a significantly different rate. Attack time may refer to the time in which AGC circuit <b>150</b> decreases the gain of IF VGA <b>106</b> and/or baseband VGA <b>110</b> when an unwanted signal appears, and decay time refers to the time in which AGC circuit <b>150</b> increases the gain of IF VGA <b>106</b> and/or baseband VGA <b>110</b> when the unwanted signal disappears.</p>
<p id="p-0025" num="0024">Other applications of AGC circuit <b>150</b> may include consumer systems such as mobile phone receivers and satellite communication receivers. In scenarios such as RF receiver <b>100</b> being in a noisy environment, the rates of change of signal amplitude may need to be independently programmable, accurate and capable of varying by several orders of magnitude. <figref idref="DRAWINGS">FIG. 2</figref> shows an example AGC circuit <b>150</b> having a current-limited transconductance comparator <b>202</b> with programmable current limits to charge/discharge a capacitor <b>204</b>. The output of transconductance comparator <b>202</b> may be applied to a VGA <b>214</b> (e.g., IF VGA <b>106</b>, baseband VGA <b>110</b>), and capacitor <b>204</b> may be coupled between a path coupling transconductance comparator <b>202</b> and VGA <b>214</b> and ground (e.g., ground terminal <b>206</b>). The output of VGA <b>214</b> may be fed back through a detector <b>210</b> (e.g., amplitude detector) as an input to transconductance comparator <b>202</b> that includes a desired amplitude level <b>208</b> as a reference input.</p>
<p id="p-0026" num="0025">Thus, an input signal to VGA <b>214</b> may be amplified therethrough, with the gain of VGA <b>214</b> being controlled by the output of transconductance comparator <b>202</b>. One or more parameters (e.g., amplitude) of the output of VGA <b>214</b> may be sensed through detector <b>210</b> and the output thereof compared with desired amplitude level <b>208</b> through transconductance comparator <b>202</b> to generate a control voltage as the output of transconductance comparator <b>202</b>. Based on the control voltage, the gain of VGA <b>214</b> may be adjusted.</p>
<p id="p-0027" num="0026">In one or more embodiments, transconductance comparator <b>202</b> may include a transconductance amplifier <b>252</b> coupled to a comparator <b>254</b> stage. <figref idref="DRAWINGS">FIG. 3</figref> shows RF receiver <b>100</b> as including AGC circuit <b>150</b> with transconductance amplifier <b>252</b> and comparator <b>254</b> as part of transconductance comparator <b>202</b>. In <figref idref="DRAWINGS">FIG. 3</figref>, desired amplitude level <b>208</b> may be input to comparator <b>254</b> that compares the output of detector <b>210</b> with desired amplitude level <b>208</b>. The generated error signal (or, the output of comparator <b>254</b>) may be amplified through transconductance amplifier <b>252</b> to generate the control voltage discussed above.</p>
<p id="p-0028" num="0027">A traditional transconductance amplifier may have an input offset that is strongly dependent on the ratio of current limits thereof. It is well known that a transconductance amplifier provides a positive or a negative current based on receiving a differential voltage as input thereto. In one or more embodiments, in order for programmability of the attack and decay times, the positive and the negative current limits of transconductance amplifier <b>252</b> may need to be made programmable to allow for differences therebetween in orders of magnitude. In the traditional transconductance amplifier, moderate differences between the positive and the negative current limits may generate large offsets, thereby causing serious errors in the amplitude control. The amplitude control errors may degrade the overall performance of a receiver including the traditional transconductance amplifier as part of automatic gain control therein.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 4</figref> shows transconductance amplifier <b>252</b> having programmable current limits, according to one or more embodiments. In one or more embodiments, transconductance amplifier <b>252</b> may include programmable current sources (<b>402</b>, <b>404</b>) to set the upper and lower current limits coupled to a differential amplifier configuration. In one or more embodiments, each of programmable current source <b>402</b> and programmable current source <b>404</b> may have a supply voltage (V<sub>s</sub>) <b>406</b> applied thereto and a programmable current output. For example, the current output of each programmable current source (<b>402</b>, <b>404</b>) may be programmable based on a varying reference voltage and/or a bias current. All possible configurations of the programmable current sources (<b>402</b>, <b>404</b>) are within the scope of the exemplary embodiments. In one or more preferable embodiments, programmable current sources (<b>402</b>, <b>404</b>) may be implemented in an integrated circuit (IC) based solution. In one or more embodiments, programmable current source <b>402</b> may be associated with the upper current limit and programmable current source <b>404</b> may be associated with the lower current limit.</p>
<p id="p-0030" num="0029">In one or more embodiments, the differential amplifier configuration of transconductance amplifier <b>252</b> providing a differential voltage to current gain function may include transistors Q<sub>1 </sub><b>412</b> and Q<sub>2 </sub><b>414</b> (e.g., n-channel Metal-Oxide-Semiconductor (MOS) transistors) in a differential pair configuration, with differential inputs V<sub>1 </sub><b>452</b> and V<sub>2 </sub><b>454</b> applied to the gate (G) terminals of Q<sub>1 </sub><b>412</b> and Q<sub>2 </sub><b>414</b> respectively. In one or more embodiments, differential inputs V<sub>1 </sub><b>452</b> and V<sub>2 </sub><b>454</b> may be derived based on the output of comparator <b>254</b>. In one or more embodiments, programmable current source <b>404</b> may provide a current (lower current limit) that is divided between Q<sub>1 </sub><b>412</b> and Q<sub>2 </sub><b>414</b>. In one or more embodiments, the current through each transistor Q<sub>1 </sub><b>412</b> and Q<sub>2 </sub><b>414</b> may be functions of V<sub>1 </sub><b>452</b> and V<sub>2 </sub><b>454</b>. Similarly, in one or more embodiments, transconductance amplifier <b>252</b> may include transistors Q<sub>3 </sub><b>416</b> and Q<sub>4 </sub><b>418</b> (e.g., p-channel MOS transistors) in a differential pair configuration, with differential inputs V<sub>1 </sub><b>452</b> and V<sub>2 </sub><b>454</b> also applied to gate (G) terminals of Q<sub>3 </sub><b>416</b> and Q<sub>4 </sub><b>418</b> respectively. In one or more embodiments, again, programmable current source <b>402</b> may provide a current (upper current limit) that is divided between Q<sub>3 </sub><b>416</b> and Q<sub>4 </sub><b>418</b>. Again, in one or more embodiments, the currents through each transistor Q<sub>3 </sub><b>416</b> and Q<sub>4 </sub><b>418</b> may be functions of V<sub>1 </sub><b>452</b> and V<sub>2 </sub><b>454</b>.</p>
<p id="p-0031" num="0030">In one or more embodiments, the output current (I<sub>out</sub>) <b>470</b> of transconductance amplifier <b>252</b> may be the difference between the current flowing through Q<sub>3 </sub><b>416</b> and the current flowing through Q<sub>1 </sub><b>412</b>. In one or more embodiments, I<sub>out </sub><b>470</b> may be a function of (V<sub>1</sub>&#x2212;V<sub>2</sub>). <figref idref="DRAWINGS">FIG. 4</figref> shows that while the drain (D) terminals of Q<sub>1 </sub><b>412</b> and Q<sub>3 </sub><b>416</b> may be coupled to each other, the drain (D) terminal of Q<sub>2 </sub><b>414</b> may be coupled to V<sub>s </sub><b>406</b> and the drain (D) terminal of Q<sub>4 </sub><b>418</b> may be coupled to a ground (GND) terminal. Further, the bulk (B) terminals of Q<sub>1 </sub><b>412</b> and Q<sub>2 </sub><b>414</b> may be coupled to substrate (SUB) terminals thereof. The bulk (B) terminals of Q<sub>3 </sub><b>416</b> and Q<sub>4 </sub><b>418</b> may be coupled to V<sub>s </sub><b>406</b>.</p>
<p id="p-0032" num="0031">In one or more embodiments, when the upper and the lower current limits provided through programmable current sources (<b>402</b>, <b>404</b>) do not match, an offset error (e.g., voltage offset) may be observed. In one or more embodiments, by deliberately introducing a mismatch in the sizes of transistors of the differential pairs (e.g., by implementing Q<sub>4 </sub><b>418</b> and Q<sub>2 </sub><b>414</b> as having larger sizes (e.g., 20 and 15 times respectively, at least 10 times) than that of Q<sub>3 </sub><b>416</b> and Q<sub>1 </sub><b>412</b> respectively), different currents may be made to flow through Q<sub>1 </sub><b>412</b> and Q<sub>2 </sub><b>414</b> as compared to the currents therethrough during matching upper and lower current limits. Similarly, in one or more embodiments, currents through Q<sub>3 </sub><b>416</b> and Q<sub>4 </sub><b>418</b> may be different from the currents therethrough during matching upper and lower current limits. In one or more embodiments, these current differences may enable tuning the knee voltage of I<sub>out </sub><b>470</b> vs. differential input voltage (V<sub>1</sub>&#x2212;V<sub>2</sub>) curve of transconductance amplifier <b>252</b> such that the aforementioned offset error observed during mismatches in the upper and lower current limits is considerably reduced.</p>
<p id="p-0033" num="0032">While <figref idref="DRAWINGS">FIG. 4</figref> discusses mismatches in sizes in both differential pairs, it is obvious that the concepts associated with exemplary embodiments are valid for a deliberate mismatch in transistor size introduced in merely one of the differential pairs. Further, it is obvious that variations in the type of the transistors (e.g., Bipolar Junction Transistors (BJTs) may be utilized instead of MOS transistors; NPN bipolar transistors may replace the n-channel MOS transistors and PNP bipolar transistors may replace the p-channel MOS transistors; combinations of MOS transistors and BJTs may also be possible) and the configurations (e.g., differential pair configurations of MOS and/or bipolar transistors) thereof are within the scope of the exemplary embodiments. Also, various implementations of programmable current sources (<b>402</b>, <b>404</b>) and RF receiver <b>100</b> are also within the scope of the exemplary embodiments.</p>
<p id="p-0034" num="0033">Thus, through the exemplary embodiments discussed above, the accuracy of amplitude control performed through AGC circuit <b>150</b> may not be degraded during mismatches in programmable upper and lower current limits of transconductance amplifier <b>252</b>. Further, programmability of attack and decay times during automatic gain control may be possible through the exemplary embodiments discussed above. In one or more embodiments, transconductance amplifier <b>252</b> may be implemented with significantly reduced offset errors over a wide range of current limits to allow for a large range of programmable attack and decay times without sacrificing accuracy of the amplitude control.</p>
<p id="p-0035" num="0034">Although the present embodiments has been described with reference to specific example embodiments, it will be evident that various modifications and changes may be made to these embodiments without departing from the broader spirit and scope of the various embodiments. For example, the various devices, modules, analyzers, generators, etc. described herein may be enabled and operated using hardware circuitry (e.g., CMOS based logic circuitry), firmware, software and/or any combination of hardware, firmware, and/or software (e.g., embodied in a machine readable medium).</p>
<p id="p-0036" num="0035">In addition, it will be appreciated that the various operations, processes, and methods disclosed herein may be embodied in a machine-readable medium and/or a machine accessible medium compatible with a data processing system (e.g., a computer system), and may be performed in any order (e.g., including using means for achieving the various operations). Accordingly, the specification and drawings are to be regarded in an illustrative rather than a restrictive sense.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A transconductance comparator comprising:
<claim-text>a comparator having an output of a detector configured to sense an amplitude of an output of a Variable Gain Amplifier (VGA) of a receiver as a first input and a reference amplitude level as a second input thereto, the comparator being configured to generate an error signal based on the first input and the second input; and</claim-text>
<claim-text>a transconductance amplifier configured to have a differential voltage input based on the error signal generated through the comparator and to generate an output current, the transconductance amplifier comprising:
<claim-text>a first current source associated with a programmable lower current limit of the transconductance amplifier;</claim-text>
<claim-text>a second current source associated with a programmable upper current limit of the transconductance amplifier;</claim-text>
<claim-text>a first differential pair coupled to the first current source and configured to have a first voltage of the differential voltage input applied to gate terminals of transistors thereof; and</claim-text>
<claim-text>a second differential pair coupled to the second current source and configured to have a second voltage of the differential voltage input applied to gate terminals of transistors thereof,</claim-text>
<claim-text>wherein at least one of: the transistors of the first differential pair and the transistors of the second differential pair are implemented with a size mismatch therebetween to eliminate an offset error in the transconductance amplifier due to a mismatch between the programmable lower current limit and the programmable upper current limit, the elimination of the offset error enabling programmability of an attack time and a decay time during automatic gain control of the VGA over a wide range of the programmable current limits of the transconductance amplifier.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The transconductance comparator of <claim-ref idref="CLM-00001">claim 1</claim-ref>,
<claim-text>wherein the first differential pair of the transconductance amplifier is implemented with at least one of n-channel Metal-Oxide-Semiconductor (MOS) transistors and NPN bipolar transistors, and</claim-text>
<claim-text>wherein the second differential pair of the transconductance amplifier is implemented with at least one of p-channel MOS transistors and PNP bipolar transistors.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The transconductance comparator of <claim-ref idref="CLM-00002">claim 2</claim-ref>,
<claim-text>wherein drain terminals of a transistor of the first differential pair and a transistor of the second differential pair are coupled to each other,</claim-text>
<claim-text>wherein source terminals of the transistors of the first differential pair are coupled to each other,</claim-text>
<claim-text>wherein source terminals of the transistors of the second differential pair are also coupled to each other,</claim-text>
<claim-text>wherein a drain terminal of another transistor of the first differential pair and bulk terminals of the transistors of the second differential pair are held at a supply voltage of each of the first current source and the second current source,</claim-text>
<claim-text>wherein a drain terminal of another transistor of the second differential pair is held at a ground potential, and</claim-text>
<claim-text>wherein bulk terminals of the transistors of the first differential pair are coupled to substrate terminals thereof.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The transconductance comparator of <claim-ref idref="CLM-00003">claim 3</claim-ref>,
<claim-text>wherein an output terminal of the transconductance amplifier is taken from a path coupling the drain terminals of the transistor of the first differential pair and the transistor of the second differential pair.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The transconductance comparator of <claim-ref idref="CLM-00003">claim 3</claim-ref>,
<claim-text>wherein at least one of the transistor of the first differential pair and the transistor of the second differential pair whose drain terminals are coupled to each other is at least 10 times smaller than the corresponding at least of the another transistor of the first differential pair and the another transistor of the second differential pair whose drain terminals are held at the supply voltage and the ground potential respectively.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The transconductance comparator of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the current limits of the transconductance amplifier are programmable based on one of: a varying reference voltage and a varying bias current.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. An automatic gain control circuit of a VGA comprising:
<claim-text>a detector to sense an amplitude of an output of the VGA;</claim-text>
<claim-text>a comparator having an output of the detector as a first input and a reference amplitude level as a second input thereto, the comparator being configured to generate an error signal based on the first input and the second input;</claim-text>
<claim-text>a transconductance amplifier configured to have a differential voltage input based on the error signal generated through the comparator and to generate an output current, an output of the transconductance amplifier being configured to be applied to the VGA to effect an automatic gain control, and the transconductance amplifier comprising:
<claim-text>a first current source associated with a programmable lower current limit of the transconductance amplifier;</claim-text>
<claim-text>a second current source associated with a programmable upper current limit of the transconductance amplifier;</claim-text>
<claim-text>a first differential pair coupled to the first current source and configured to have a first voltage of the differential voltage input applied to gate terminals of transistors thereof; and</claim-text>
<claim-text>a second differential pair coupled to the second current source and configured to have a second voltage of the differential voltage input applied to gate terminals of transistors thereof, at least one of: the transistors of the first differential pair and the transistors of the second differential pair being implemented with a size mismatch therebetween to eliminate an offset error in the transconductance amplifier due to a mismatch between the programmable lower current limit and the programmable upper current limit, and the elimination of the offset error enabling programmability of an attack time and a decay time during the automatic gain control of the VGA over a wide range of the programmable current limits of the transconductance amplifier; and</claim-text>
</claim-text>
<claim-text>a capacitor coupled between the output of the transconductance amplifier and a ground terminal, the capacitor being configured to be charged and discharged by the transconductance amplifier.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The automatic gain control circuit of <claim-ref idref="CLM-00007">claim 7</claim-ref>,
<claim-text>wherein the first differential pair of the transconductance amplifier is implemented with at least one of n-channel MOS transistors and NPN bipolar transistors, and</claim-text>
<claim-text>wherein the second differential pair of the transconductance amplifier is implemented with at least one of p-channel MOS transistors and PNP bipolar transistors.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The automatic gain control circuit of <claim-ref idref="CLM-00008">claim 8</claim-ref>,
<claim-text>wherein drain terminals of a transistor of the first differential pair of the transconductance amplifier and a transistor of the second differential pair of the transconductance amplifier are coupled to each other,</claim-text>
<claim-text>wherein source terminals of the transistors of the first differential pair of the transconductance amplifier are coupled to each other,</claim-text>
<claim-text>wherein source terminals of the transistors of the second differential pair of the transconductance amplifier are also coupled to each other,</claim-text>
<claim-text>wherein a drain terminal of another transistor of the first differential pair of the transconductance amplifier and bulk terminals of the transistors of the second differential pair of the transconductance amplifier are held at a supply voltage of each of the first current source and the second current source thereof,</claim-text>
<claim-text>wherein a drain terminal of another transistor of the second differential pair of the transconductance amplifier is held at a ground potential, and</claim-text>
<claim-text>wherein bulk terminals of the transistors of the first differential pair of the transconductance amplifier are coupled to substrate terminals thereof.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The automatic gain control circuit of <claim-ref idref="CLM-00009">claim 9</claim-ref>,
<claim-text>wherein an output terminal of the transconductance amplifier is taken from a path coupling the drain terminals of the transistor of the first differential pair and the transistor of the second differential pair thereof.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The automatic gain control circuit of <claim-ref idref="CLM-00009">claim 9</claim-ref>,
<claim-text>wherein at least one of the transistor of the first differential pair of the transconductance amplifier and the transistor of the second differential pair of the transconductance amplifier whose drain terminals are coupled to each other is at least 10 times smaller than the corresponding at least one of the another transistor of the first differential pair of the transconductance amplifier and the another transistor of the second differential pair of the transconductance amplifier whose drain terminals are held at the supply voltage and the ground potential respectively.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A Radio Frequency (RF) receiver comprising:
<claim-text>a mixer;</claim-text>
<claim-text>a VGA to amplify an output of the mixer; and</claim-text>
<claim-text>an automatic gain control circuit to control a gain of the VGA, the automatic gain control circuit comprising:
<claim-text>a detector to sense an amplitude of an output of the VGA;</claim-text>
<claim-text>a comparator having an output of the detector as a first input and a reference amplitude level as a second input thereto, the comparator being configured to generate an error signal based on the first input and the second input;</claim-text>
<claim-text>a transconductance amplifier configured to have a differential voltage input based on the error signal generated through the comparator and to generate an output current, an output of the transconductance amplifier being configured to be applied to the VGA to effect an automatic gain control, and the transconductance amplifier comprising:
<claim-text>a first current source associated with a programmable lower current limit of the transconductance amplifier;</claim-text>
<claim-text>a second current source associated with a programmable upper current limit of the transconductance amplifier;</claim-text>
<claim-text>a first differential pair coupled to the first current source and configured to have a first voltage of the differential voltage input applied to gate terminals of transistors thereof; and</claim-text>
<claim-text>a second differential pair coupled to the second current source and configured to have a second voltage of the differential voltage input applied to gate terminals of transistors thereof, at least one of: the transistors of the first differential pair and the transistors of the second differential pair being implemented with a size mismatch therebetween to eliminate an offset error in the transconductance amplifier due to a mismatch between the programmable lower current limit and the programmable upper current limit, and the elimination of the offset error enabling programmability of an attack time and a decay time during the automatic gain control of the VGA over a wide range of the programmable current limits of the transconductance amplifier; and</claim-text>
</claim-text>
<claim-text>a capacitor coupled between the output of the transconductance amplifier and a ground terminal, the capacitor being configured to be charged and discharged by the transconductance amplifier.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The RF receiver of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the mixer is an Intermediate Frequency (IF) mixer.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The RF receiver of <claim-ref idref="CLM-00013">claim 13</claim-ref>, further comprising:
<claim-text>a RF mixer to mix an RF input with a local oscillator (LO) signal; and</claim-text>
<claim-text>another VGA to amplify an output of the RF mixer,</claim-text>
<claim-text>wherein the automatic gain control circuit is also configured to control a gain of the another VGA.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The RF receiver of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the RF receiver is one of an anti-jamming receiver, a consumer system receiver and a satellite communication receiver.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The RF receiver of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the automatic gain control circuit to configured to control the gain of the VGA at a same level as the gain of the another VGA.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The RF receiver of <claim-ref idref="CLM-00012">claim 12</claim-ref>,
<claim-text>wherein the first differential pair of the transconductance amplifier is implemented with at least one of n-channel MOS transistors and NPN bipolar transistors, and</claim-text>
<claim-text>wherein the second differential pair of the transconductance amplifier is implemented with at least one of p-channel MOS transistors and PNP bipolar transistors.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The RF receiver of <claim-ref idref="CLM-00017">claim 17</claim-ref>,
<claim-text>wherein drain terminals of a transistor of the first differential pair of the transconductance amplifier and a transistor of the second differential pair of the transconductance amplifier are coupled to each other,</claim-text>
<claim-text>wherein source terminals of the transistors of the first differential pair of the transconductance amplifier are coupled to each other,</claim-text>
<claim-text>wherein source terminals of the transistors of the second differential pair of the transconductance amplifier are also coupled to each other,</claim-text>
<claim-text>wherein a drain terminal of another transistor of the first differential pair of the transconductance amplifier and bulk terminals of the transistors of the second differential pair of the transconductance amplifier are held at a supply voltage of each of the first current source and the second current source thereof,</claim-text>
<claim-text>wherein a drain terminal of another transistor of the second differential pair of the transconductance amplifier is held at a ground potential, and</claim-text>
<claim-text>wherein bulk terminals of the transistors of the first differential pair of the transconductance amplifier are coupled to substrate terminals thereof.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The RF receiver of <claim-ref idref="CLM-00018">claim 18</claim-ref>,
<claim-text>wherein an output terminal of the transconductance amplifier is taken from a path coupling the drain terminals of the transistor of the first differential pair and the transistor of the second differential pair thereof.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The RF receiver of <claim-ref idref="CLM-00018">claim 18</claim-ref>,
<claim-text>wherein at least one of the transistor of the first differential pair of the transconductance amplifier and the transistor of the second differential pair of the transconductance amplifier whose drain terminals are coupled to each other is at least 10 times smaller than the corresponding at least one of the another transistor of the first differential pair of the transconductance amplifier and the another transistor of the second differential pair of the transconductance amplifier whose drain terminals are held at the supply voltage and the ground potential respectively. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
