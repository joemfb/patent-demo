<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626158-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626158</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11599038</doc-number>
<date>20061114</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>CN</country>
<doc-number>2004 1 0094545</doc-number>
<date>20041108</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>1794</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20090101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>W</subclass>
<main-group>4</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>455433</main-classification>
<further-classification>4554321</further-classification>
<further-classification>4554322</further-classification>
<further-classification>4554323</further-classification>
<further-classification>455445</further-classification>
<further-classification>370352</further-classification>
<further-classification>37920102</further-classification>
<further-classification>37920112</further-classification>
</classification-national>
<invention-title id="d2e71">Method and system for providing users with intelligent services</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6374107</doc-number>
<kind>B1</kind>
<name>Boylan et al.</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6940847</doc-number>
<kind>B1</kind>
<name>Glitho et al.</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370352</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2002/0107038</doc-number>
<kind>A1</kind>
<name>Berg</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455466</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2004/0037407</doc-number>
<kind>A1</kind>
<name>Gourraud et al.</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>37920201</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2005/0050194</doc-number>
<kind>A1</kind>
<name>Honeisen et al.</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709224</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2007/0100981</doc-number>
<kind>A1</kind>
<name>Adamczyk et al.</name>
<date>20070500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709223</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>CN</country>
<doc-number>1406078</doc-number>
<kind>A</kind>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>CN</country>
<doc-number>1507254</doc-number>
<kind>A</kind>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>CN</country>
<doc-number>100488220</doc-number>
<kind>C</kind>
<date>20090500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>WO</country>
<doc-number>WO 98-36542</doc-number>
<date>19980800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>WO</country>
<doc-number>WO 00-78058</doc-number>
<date>20001200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>WO</country>
<doc-number>WO 03-032656</doc-number>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>WO</country>
<doc-number>WO 2006-047958</doc-number>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>Lucent Technologies White Paper, &#x201c;IP Multimedia Subsystem (IMS) Service Architecture.&#x201d; Jan. 23, 2004. XP-002407116, pp. 1-12.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00015">
<othercit>European Telecommunications Standards Institute (ETSI), ETSI Standards, &#x201c;Digital Cellular Telecommunications System (Phase 2+).&#x201d; Sep. 2004. XP014016511, vol. 3-CN2, No. V560.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00016">
<othercit>Liu, C.Z., et al, &#x201c;SIP-Based Services Architecture Across Wireless and Wireline Access.&#x201d; 2004. <i>Bell Labs Technical Journal</i>, vol. 9, No. 3, pp. 5-13.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00017">
<othercit>Foreign Communication from a Counterpart Application&#x2014;PCT Application PCT/CN2005/001847, English Translation of Written Opinion, Feb. 6, 2006, 3 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00018">
<othercit>Foreign Communication from a Counterpart Application&#x2014;European Application 05806955.0, European office action, Jan. 29, 2008, 5 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00019">
<othercit>Foreign Communication from a Counterpart Application&#x2014;European Application 05806955.0, European office action, May 13, 2009, 6 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00020">
<othercit>Foreign Communication from a Counterpart Application&#x2014;European Application 05806955.0, European office action, Dec. 10, 2009, 4 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00021">
<othercit>Foreign Communication from a Counterpart Application&#x2014;Chinese Application 200410094545.X, Office action dated Aug. 8, 2008, 3 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00022">
<othercit>Foreign Communication from a Counterpart Application&#x2014;Chinese Application 200410094545.X, English translation office action Aug. 8, 2008, 2 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00023">
<othercit>&#x201c;Intelligent Network Capability Set Two (CS-2)&#x2014;Intelligent Network Application Protocol (INAP),&#x201d; YD/T 1226-2002; dated Aug. 23, 2002, 407 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00024">
<othercit>&#x201c;Intelligent Network Capability Set Two (CS-2)&#x2014;Intelligent Network Application Protocol (INAP),&#x201d; English translation YD/T 1226-2002 Sections 10.1-10.5.2; dated Aug. 23, 2002, 17 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00025">
<othercit>&#x201c;Series Q: Switching and Signalling Intelligent Network&#x2014;Interface Recommendation for Intelligent Network Capability Set 2: Part 1,&#x201d; ITU-T Recommendation Q.1228&#x2014;Fascicle 1/5, Sep. 1997.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00026">
<othercit>&#x201c;Series Q: Switching and Signalling Intelligent Network&#x2014;Interface Recommendation for Intelligent Network Capability Set 2: Part 2,&#x201d; ITU-T Recommendation Q.1228&#x2014;Fascicle 2/5, Sep. 1997.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00027">
<othercit>&#x201c;Series Q: Switching and Signalling Intelligent Network&#x2014;Interface Recommendation for Intelligent Network Capability Set 2: Part 3,&#x201d; ITU-T Recommendation Q.1228&#x2014;Fascicle 3/5, Sep. 1997.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00028">
<othercit>&#x201c;Series Q: Switching and Signalling Intelligent Network&#x2014;Interface Recommendation for Intelligent Network Capability Set 2: Part 4,&#x201d; ITU-T Recommendation Q.1228&#x2014;Fascicle 4/5, Sep. 1997.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00029">
<othercit>&#x201c;Series Q: Switching and Signalling Intelligent Network&#x2014;Interface Recommendation for Intelligent Network Capability Set 2: Part 5,&#x201d; ITU-T Recommendation Q.1228&#x2014;Fascicle 5/5, Sep. 1997.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00030">
<othercit>3rd Generation Partnership Project; Technical Specification Group Core Network; Customised Applications for Mobile Network Enhanced Logic (CAMEL, Phase 4&#x2014;Stage 2 (Release 6), 3GPP TS 23.078, Sep. 2004.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00031">
<othercit>3rd Generation Partnership Project; Technical Specification Group Core Network; Customised Applications for Mobile Network Enhanced Logic (CAMEL, Phase 4&#x2014;Stage 2 IM CN Interworking (Release 5), 3GPP TS 23.278, Sep. 2004.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>21</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>455433</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>12</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>PCT/CN2005/001847</doc-number>
<date>20051104</date>
</document-id>
<parent-status>PENDING</parent-status>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>11599038</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20070133782</doc-number>
<kind>A1</kind>
<date>20070614</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Zhu</last-name>
<first-name>Dongming</first-name>
<address>
<city>Shenzhen</city>
<country>CN</country>
</address>
</addressbook>
<residence>
<country>CN</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Zhu</last-name>
<first-name>Dongming</first-name>
<address>
<city>Shenzhen</city>
<country>CN</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Conley Rose, P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Rodolph</last-name>
<first-name>Grant</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Huawei Technologies Co., Ltd.</orgname>
<role>03</role>
<address>
<city>Shenzhen</city>
<country>CN</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Appiah</last-name>
<first-name>Charles</first-name>
<department>2641</department>
</primary-examiner>
<assistant-examiner>
<last-name>Sabouri</last-name>
<first-name>Mazda</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method and system for providing a subscriber with an intelligent service provides the subscriber of an IP Multimedia Subsystem (IMS) domain with special intelligent services of multiple intelligent platforms or convergent services. In the present invention an IP Multimedia Service Switching Function (IM-SSF) that supports an intelligent control protocol other than a Customized Application for Mobile network Enhanced Logic (CAMEL) Application Part (CAP) protocol is added into the IMS. The IM-SSF triggers the intelligent services through the protocol other than CAP to a Service Control Function (SCF) of corresponding intelligent platform according to obtained subscription information upon receipt of a session establish request related to a served subscriber; the subscription information can be pre-configured in the IM-SSF, or downloaded by the IM-SSF from a Home Subscriber Server (HSS) of the subscriber.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="75.01mm" wi="143.51mm" file="US08626158-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="232.41mm" wi="134.87mm" file="US08626158-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="212.43mm" wi="167.89mm" file="US08626158-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="242.15mm" wi="142.41mm" file="US08626158-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="235.29mm" wi="175.18mm" file="US08626158-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="190.84mm" wi="114.64mm" file="US08626158-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE TECHNOLOGY</heading>
<p id="p-0002" num="0001">The present invention relates to the Intelligent Network (IN) service triggering technique, and particularly, to a method for providing subscribers of IP Multimedia Subsystem (IMS) with special intelligent services or convergent services of different intelligent platforms.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">The concept of IN was brought forward by Bell Communication Inc. and American Technology Corporation in 1984 and standardized by Consultative Committee for International Telephone and Telegraphy (CCITT) in 1992. It is a system that is able to generate and implement various new services in a fast, convenient, flexible, inexpensive and effective way. The objective of the IN is to serve all types of communication networks, including existed fixed communication networks such as a Public Switched Telephone Network (PSTN) and an Integrated Services Digital Network (ISDN) as well as mobile communication networks such as a Global System for Mobile Communication (GSM), a Wideband Code Division Multiple Access (WCDMA) system, a north America Code Division Multiple Access (CDMA) system and a CDMA2000 system.</p>
<p id="p-0004" num="0003">Along with the development of communication networks, users' requirements to services keep rising. The objective of the IN is to provide users with new services in a fast, convenient and inexpensive way. To achieve the objective, a characteristic in design of the IN is to separate service handling process from call handling process.</p>
<p id="p-0005" num="0004">In a network without an IN, every supplementary service for users is implemented through adding corresponding software and hardware in every network node. Therefore, exchangers in the network need to be upgraded accordingly to add or to modify a service.</p>
<p id="p-0006" num="0005">But in a network with an IN, exchanger acts as a Service Switching Function (SSF), which is just responsible for basic switching functions, while all the intelligent services are handled by another network layer, which is the intelligent network. The SSF in the TN is used for switching. It reports various events in a call to a Service Control Function (SCF) and can hang up the call, waiting for further instructions from the SCF. The SCF accomplishes a service logic control.</p>
<p id="p-0007" num="0006">The system structure of an IN is illustrated in <figref idref="DRAWINGS">FIG. 1</figref>. It should be noted that in a fixed IN in the prior art, the protocol adopted in the interface between a Service Control Point (SCP) and a Service Switching Point (SSP), as well as in the interface between the SCP and an Intelligence Peripheral (IP) is IN Application Protocol (INAP), which is defined by International Telecommunication Union Telecommunication Standardization Sector (ITU-T).</p>
<p id="p-0008" num="0007">In order to implement intelligent services in the GSM/WCDMA system, Customized Application for Mobile network Enhanced Logic (CAMEL) is introduced. To support CAMEL services, three entities named as gsmSCF, gsmSSF and gsmSRF are added into the GSM/WCDMA system besides the existing Home Location Register (HLR), Visitor Location Register (VLR), Mobile Switching Center (MSC) and Gateway Mobile Switching Centre (GMSC). The gsmSSF is used for receiving instructions from the gsmSCF and reporting information of call status to the gsmSCF; the gsmSCF is the core of the mobile IN, which is used for executing CAMEL service logic, controlling call switching and charging etc; the gsmSRF is used for providing dedicated resources for services such as playing announcement and collecting user information</p>
<p id="p-0009" num="0008">The functional architecture of a circuit switched domain that supports CAMEL in a WCDMA network is illustrated in <figref idref="DRAWINGS">FIG. 2A</figref>. It should be noted that the CAMEL service is implemented through the collaboration of a CAMEL Application Part (CAP) and a Mobile Application Part (MAP). The CAP protocol is used for the interaction among the gsmSCF, the gsmSSF and the gsmSRF. The CAP protocol is defined based on the INAP, while the capability set it supported in CAMEL Phase 1 to Phase 3 is a subset of IN Capability Set <b>2</b> (IN CS<b>2</b>) with special parameters or messages for mobile communication. In CAMEL Phase 4, the definition of Call Party Handling (CPH) capability is introduced, and the call model is developed to be consistent with that of IN CS<b>2</b>. And as the mobile application part, the MAP protocol is still used for supporting mobility-related features for users.</p>
<p id="p-0010" num="0009">The CDMA mobile communication system in north America adopts American National Standard Institute (ANSI) 41D protocol. Similarly, in order to support the IN services, a series of Wireless IN (WIN) protocols were defined by stages on the base of the signaling structure and signaling flow in the ANSI 41D protocol by the Telecommunications Industry Association/Electronics Industry Association (TIA/EIA) of ANSI according to the IN CS<b>2</b>. Where, IS771 protocol was put forward in WIN Phase I, it defines technical requirements for WIN and provides services including a Calling Name Presentation (CNAP), a Voice Controlled Services (VCS) and an Incoming Call Screening (ICS); IS826 protocol was put forward in WIN Phase II, it provides WIN capability for Pre-Paid Charging (PPC); and IS848 protocol which is related to WIN Phase II was put forward in WIN Phase III, it mainly defines the services including a Rejection of Undesired Annoying Calls (RUAC), a Premium Rate Charging (PRC), a Freephone Service (FPH) and an Advice Of Charging (AOC). All the above protocols are finally integrated into ANSI 41E Protocol, which makes the ANSI 41E Protocol be a core network protocol totally based on the IN.</p>
<p id="p-0011" num="0010">Both the CDMA ANSI-41 wireless IN and the GSM/WCDMA CAMEL mobile IN are derived from the fixed IN, therefore their system architectures are basically identical to that of the fixed IN: the intelligent layer is separated from the switching layer; service control is accomplished by the intelligent layer; the network includes the SSP (named as the gsmSSF in CAMEL architecture), the SCP (named as the gsmSCF in CAMEL architecture), the IP (named as the gsmSRF in CAMEL architecture), a Service Management System (SMS), a Service Creation Environment (SCE), etc; the functions of their functional entities are identical or similar although the service logics created and executed may be different.</p>
<p id="p-0012" num="0011">However, while in the GSM/WCDMA CAMEL mobile IN, the CAMEL services are implemented through the collaboration of the CAP and the MAP, and the gsmSCF, the gsmSSF and the gsmSRF interact with each other through the CAP protocol, in the CDMA ANSI-41 WIN, interactions between the SCP and the SSP and between the SCP and the IP are implemented through different protocols, i.e., the ANSI-41 WIN protocol is the supplement of the ANSI-41 MAP protocol. Besides, though the CDMA ANSI WIN and the GSM/WCDMA CAMEL mobile IN share similarities in call model, trigger mechanism, etc., they are more or less different.</p>
<p id="p-0013" num="0012">On the other hand, the IMS which adopts the IP packet switched domain as the bearer channel for its control signaling and media transmission, and adopts Session Initiation Protocol (SIP) as call control signaling, is introduced as an objective network of the WCDMA mobile network for implementing packet switched voice and packet switched data services and for providing uniform multimedia services and applications. In the IMS network, IP Multimedia (IM) value-added services are provided for IMS subscribers through various Application Servers (ASs), including an SIP AS, an Open Service Access Service Capability Server (OSA SCS) and an IP Multimedia Service Switching Function (IM-SSF), where, the IM-SSF provides mapping between the SIP protocol in the IMS and the CAP protocol in the circuit switched domain, and the SSP triggering capability, which enables IMS domain subscribers, e.g., subscribers of VoIP service, to seamlessly inherit the intelligent services provided in the WCDMA circuit switched domain.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 3</figref> is a schematic diagram illustrating the IM-SSF interfaces. The IM-SSF supports three interfaces: a CAP interface, an ISC interface and an Si interface, where, the CAP interface is used for the interaction between the IM-SSF and the CAMEL Service Environment including the gsmSCF enabling the service control of the gsmSCF, and the ISC interface is used for the interaction between the IM-SSF and a Serving-Call Session Control Function (S-CSCF) enabling the service control of IP multimedia sessions. Via these two interface, the gsmSCF can finally perform corresponding control according to inside intelligent service logic through the IM-SSF over the IP multimedia sessions which are transmitted through the S-CSCF; and the Si interface between the IM-SSF and a Home Subscriber Server (HSS) is based on the MAP, and is used for downloading and updating CAMEL subscription data from the HSS.</p>
<p id="p-0015" num="0014">In general, the foregoing technology in the prior art enables the IMS subscribers to seamlessly inherit the intelligent services of the WCDMA circuit switched domain through the mapping between the IMS SIP and the CAP protocol in the circuit switched domain and the SSP triggering capability provided by the IM-SSF.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0016" num="0015">The present invention provides a method and system for providing a subscriber with an intelligent service, which provides the subscriber in the IP Multimedia Subsystem (IMS) domain with special services of intelligent platforms which adopt intelligent control protocol other than Customized Application for Mobile network Enhanced Logic (CAMEL) Application Part (CAP) protocol in interaction, and convergent services controlled by various intelligent platforms jointly, and may entertain the subscriber with richer service experiences and improve the operation and development of the IMS network.</p>
<p id="p-0017" num="0016">A method for providing a subscriber of an Internet Protocol (IP) Multimedia Subsystem (IMS) with an intelligent service, wherein, the IMS includes an IP Multimedia Service Switching Function (IM-SSF) entity supporting an intelligent control protocol other than a Customized Application for Mobile network Enhanced Logic (CAMEL) Application Part (CAP) protocol, the method includes:</p>
<p id="p-0018" num="0017">upon receiving a session establish request related to the subscriber, the IM-SSF triggering the intelligent service to a Service Control Function (SCF) entity of a corresponding intelligent platform through the intelligent control protocol other than the CAP protocol according to obtained subscription information.</p>
<p id="p-0019" num="0018">A system for providing a subscriber with an intelligent service, including:</p>
<p id="p-0020" num="0019">a home Internet Protocol (IP) Multimedia Subsystem (IMS) of the subscriber and an intelligent platform adopting an intelligent control protocol other than a Customized Application for Mobile network Enhanced Logic (CAMEL) Application Part (CAP) protocol, wherein,</p>
<p id="p-0021" num="0020">the IMS includes at least an IP Multimedia Service Switching Function (IM-SSF) entity supporting the intelligent control protocol other than the CAP protocol, for triggering, according to obtained subscription information, the intelligent service to a Service Control Function (SCF) of a corresponding intelligent platform through the intelligent protocol other than the CAP protocol, upon receiving a session establish request related to the subscriber.</p>
<p id="p-0022" num="0021">Comparing the solution provided in the present invention with the solution in the prior art, it can be seen that the IM-SSF which supports the intelligent control protocol other than the CAP protocol is added into the IMS, and the IM-SSF triggers the intelligent services to the SCF of the corresponding intelligent platform through the intelligent control protocol other than the CAP protocol according to the obtained subscription information. The subscription information can be pre-configured in the IM-SSF, or downloaded from the HSS by the IM-SSF when a subscriber registers or a service request related to a subscriber is handled, e.g., when a request of registration or session establishment correlative with the served subscriber is received by the IM-SSF.</p>
<p id="p-0023" num="0022">The IM-SSF is an independent entity that supports one or multiple intelligent control protocols other than the CAP protocol, or an entity supports the CAP protocol and another intelligent control protocol at the same time, or an entity supports the CAP protocol and multiple other intelligent control protocols at the same time.</p>
<p id="p-0024" num="0023">When the IM-SSF supports multiple protocols including the CAP protocol and one or more other intelligent control protocols, or supports multiple intelligent control protocols other than the CAP protocol at the same time, it selectively use one of the supported intelligent control protocols to trigger relevant intelligent services of corresponding intelligent platform according to extended subscription information type, or according to protocol settings corresponding to the service keys or SCF addresses in the subscription information, or according to global protocol settings. The IM-SSF can support the intelligent control protocol other than the CAP protocol directly, or through a signaling conversion gateway between the CAP protocol and other intelligent control protocols.</p>
<p id="p-0025" num="0024">Such differences in technical solutions bring obvious benefits, i.e., the present invention provides a solution for the cooperation between the IMS services and the intelligent platforms adopting the intelligent control protocol other than the CAP protocol, e.g., the intelligent platform of the fixed IN and/or the ANSI-41 WIN intelligent platform. The solution enables the IMS domain subscribers to obtain not only the GSM/WCDMA CAMEL mobile intelligent services, but also special services provided by the intelligent platforms which adopt intelligent control protocol other than the CAP protocol, such as the fixed IN and/or the ANSI-41 WIN intelligent platform, or convergent services controlled by various intelligent platforms jointly. Moreover, the IM-SSF triggers the intelligent services to the SCFs of different intelligent platforms according to the intelligent service subscription information of the subscribers, and thus achieves an per-subscription-based and flexible triggering mechanism which enriches the intelligent service triggering methods in the fixed IN.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic diagram illustrating the system architecture of an IN;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 2A</figref> is a diagram illustrating the functional architecture of a WCDMA circuit switched domain that supports CAMEL;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 2B</figref> is a diagram illustrating the functional architecture of an ANSI-41 WIN;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 3</figref> is a schematic diagram illustrating the interfaces between an IM-SSF and other modules;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 4</figref> is a flowchart of an IM-SSF which is able to trigger the intelligent services to the fixed IN and/or the ANSI-41 WIN in accordance with an embodiment of the present invention;</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart of an IM-SSF which downloads intelligent service subscription information from an HSS in accordance with an embodiment of the present invention;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 6</figref> is a flowchart illustrating intelligent service triggering to corresponding intelligent platform performed by an IM-SSF which directly supports multiple intelligent control protocols in accordance with an embodiment of the present invention;</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 7</figref> is a flowchart illustrating the intelligent service triggering to corresponding intelligent platform performed by an IM-SSF which supports multiple intelligent control protocols through a gateway in accordance with an embodiment of the present invention;</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 8</figref> is a flowchart illustrating the intelligent service triggering to different intelligent platforms performed by paratactic IM-SSFs supportingg different intelligent protocol in accordance with an embodiment of the present invention;</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 9A</figref> is a schematic diagram illustrating the system architecture which provides the subscribers with the intelligent services in accordance with Embodiment 1 of the present invention;</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 9B</figref> is a schematic diagram illustrating the system architecture which provides the subscribers with the intelligent services in accordance with Embodiment 2 of the present invention;</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 9C</figref> is a schematic diagram illustrating the system architecture which provides the subscribers with the intelligent services in accordance with Embodiment 3 of the present invention;</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0038" num="0037">In order to make the objectives, technical solutions and advantages of the present invention more explicit, the present invention is described in detail with reference to the embodiments and the drawings hereinafter.</p>
<p id="p-0039" num="0038">Firstly the fundamental theory of the embodiment of the present invention is explained hereinafter. The embodiments of the present invention extends the function of a network element IM-SSF, enables the IM-SSF to support, either directly or through a gateway, mapping between the SIP and the intelligent control protocol other than the CAP protocol; after function extension, the IM-SSF can support either one intelligent control protocol other than the CAP protocol, or multiple protocols, e.g., multiple intelligent control protocols other than the CAP protocol, or the CAP protocol and another intelligent control protocol, or the CAP protocol and multiple intelligent control protocols. The embodiments of the present invention also offer a method for protocol selection for the IM-SSF which supports multiple intelligent protocols, in which the protocols are selected according to extended intelligent service subscription information types, or protocol settings in the IM-SSF for service keys or SCF addresses in the intelligent service subscription information, or global protocol settings in the IM-SSF, so that the IM-SSF can trigger corresponding intelligent services.</p>
<p id="p-0040" num="0039">The intelligent control protocols other than the CAP protocol include: the INAP, the ANSI-41 MAP protocol, various CoreINAPs defined by adding different extensions on the base of the INAP (e.g., the CoreINAP compiled by European Telecommunications Standards Institute [ETSI] Technical Committee on Signaling Protocol &#x26; Switch Technology in October 1994, the CoreINAP defined by Ericsson, Siemens, etc., by defining their private extensions), or any combination of the above.</p>
<p id="p-0041" num="0040">The present invention is described hereinafter in the aspects of function extension patterns, network element organization forms and protocol selection methods, with reference to an example in which the IM-SSF is able to support the INAP and/or the ANSI-41 MAP protocol.</p>
<p id="p-0042" num="0041">Firstly, the IM-SSF can extend functions to support the INAP and/or the ANSI-41 MAP protocol in two ways.</p>
<p id="p-0043" num="0042">The first function extension pattern is extending the local support capability of the IM-SSF: the IM-SSF directly maps multiple SIP messages to multiple Detection Points (DPs) in a Basic Call State Model (BCSM) defined by the INAP and/or the ANSI-41 WIN criteria, and supports the interface to the SCF of the corresponding intelligent platform; under the control of the SCF of the corresponding intelligent platform, the IM-SSF performs the service control over the SIP session triggered by the S-CSCF through the ISC interface. As explained above, the CAP protocol is defined on the base of the INAP, in another word, the CAP protocol is similar to the INAP with basically the same definitions on the DPs, and the IM-SSF can support the mapping between the SIP and the CAP in the prior art, therefore, it is easy to be understood that the IM-SSF can directly support the INAP after the above function extension. Concerning the support of the ANSI-41 WIN by the IM-SSF, it can be seen that although the CAP protocol and the ANSI-41 MAP protocol are different, the CDMA ANSI-41 wireless IN and the GSM/WCDMA CAMEL mobile IN are both derived from the fixed IN, which means they have similar concept models, identical or similar functions of the functional entities and a lot of similarities in the call model, the triggering mechanism, etc. of the fixed IN. On the other hand, as to the DPs defined by the BCSM for triggering the service control, in the CDMA ANSI-41 WIN, there only defined DPs of Origination_Attempt_Authorized, Collected_Information, Analyzed_Information, Originating_Answer O_Answer, Originating_Disconnect (O_Disconnect), Originating_Called_Party_Busy (O_Called_Party_Busy) and Originating_No_Answer (O_No_Answer) in an originating BCSM (O-BCSM) till IS848, while in GSM/WCDMA CAMEL, there exist other DPs including a Route_Select_Failure DP (4), an Originating_Not_Reachable DP (O_Not_Reachable DP) (50) and an Originating_Abandon DP (O_Abandon DP) (10) besides the above DPs in the O-BCSM. As to a Terminating BCSM (T-BCSM), the CDMA ANSI-41 WIN only defines 5 DPs for triggering the service control: the DPs of a Facility_Selected_and_Available, a Terminating_Answer (T_Answer), a Terminating_Disconnect (T_Disconnect), a Terminating_Busy (T_Busy) and a Terminating_No_Answer (T_No_Answer). However, in the T-BCSM of the GSM/WCDMA CAMEL, two more DPs, which are Terminating_Not_Reachable DP (T_Not_Reachable DP) (51) and Terminating_Abandon DP (T_Abandon DP) (18), are supported besides the above five ones. It can be seen that there are more DPs defined in the BCSM of the GSM/WCDMA CAMEL than in the CDMA ANSI-41 WIN, so it is also easy to be understood that the IM-SSF can directly support the ANSI-41 MAP protocol after the foregoing function extension.</p>
<p id="p-0044" num="0043">However, definitions of the DPs in the CDMA WIN criteria are still different from those in the GSM/WCDMA CAMEL criteria. Every DP in the CDMA ANSI-41 WIN has many triggers, which means a DP is valid only when the DP is equipped with the trigger. One DP can be equipped with more than one triggers, which enables the DP to detect various events and send messages to the SCF for many times. In the GSM CAMEL, a DP does not have triggers, and each DP is an estimation condition. Therefore in such situation the IM-SSF which has upgraded to support the ANSI-41 MAP protocol can be further enhanced to support estimation on the special triggers in the CDMA ANSI-41 WIN.</p>
<p id="p-0045" num="0044">The second function extension pattern is adopting a signaling conversion gateway which performs the protocol conversion between the CAP protocol and the INAP, and/or between the CAP protocol and the ANSI-41 MAP protocol: the IM-SSF accomplishes the mapping of multiple SIP messages to multiple CAMEL DPs and supports the CAP interface between itself and the gsmSCF, completes the mapping of the CAP protocol to the INAP and/or the ANSI-41 MAP protocol through the corresponding signaling conversion gateway which is logically independent, interacts with the SCF of the corresponding intelligent platform through the gateway, and further achieves the service control over the SIP session triggered by the S-CSCF through the ISC interface under the control of the SCF. The gateway can be implemented internally or externally. That is to say, the IM-SSF logically accomplishes the support from the SIP to the CAP protocol firstly in this pattern, and then the signaling conversion gateway completes the mapping of the CAP interface to the INAP and/or the ANSI-41 MAP interface. The whole process is the combination of the above two steps. According to the foregoing analysis, the similarities between the CAP protocol and the INAP, and between the CAMEL and the ANSI WIN, guarantee the support to the INAP and/or the ANSI-41 MAP protocol through this pattern. The signaling conversion gateway here is just logically independent from the IM-SSF, and physically, the IM-SSF and the signaling conversion gateway can be set either in one entity or in different entities.</p>
<p id="p-0046" num="0045">In the second function extension pattern, the triggering of the DP is performed exactly according to the GSM/WCDMA CAMEL criteria, therefore only the corresponding triggering capability is provided. As there are more DPs defined in the BCSM of the GSM/WCDMA CAMEL than in the CDMA ANSI-41 WIN, redundant messages can further be blocked in the gateway.</p>
<p id="p-0047" num="0046">It is understood by those skilled in the art that the IM-SSF can extend functions to support the INAP and/or the ANSI-41 MAP protocol through either of the two patterns described above without influencing the essence and scope of the present invention.</p>
<p id="p-0048" num="0047">Two different organization forms of the IM-SSF with the extended functions are hereinafter described.</p>
<p id="p-0049" num="0048">The first organization form is combining the IM-SSF which supports interaction with the fixed IN and/or the ANSI-41 WIN intelligent platform and the original IM-SSF which supports interaction with the GSM/WCDMA CAMEL mobile intelligent platform in the IMS network, that is to say, adding the function that supports interaction with the fixed IN and/or the ANSI-41 WIN intelligent platform into the original IM-SSF which supports interaction with the GSM/WCDMA CAMEL mobile intelligent platform, which means, putting two functions in one entity. Then there is a problem of protocol selection for an entity which has at least two protocol functions, which will be described in detail later.</p>
<p id="p-0050" num="0049">The second organization form is setting one IM-SSF which is independent from and paratactic with the original one, to support the INAP and/or the ANSI-41 MAP protocol and to interact with the fixed IN and/or the ANSI-41 MAP protocol intelligent platform. That is to say, setting up two entities, one is used for supporting the original CAP protocol, and the other is used for supporting the newly added INAP and/or the ANSI-41 MAP protocol; or setting up three entities, which are used for supporting the original CAP protocol, the newly added INAP and the newly added ANSI-41 MAP protocol respectively.</p>
<p id="p-0051" num="0050">The protocol selection is not needed in the second organization form in which one IM-SSF only supports one protocol, i.e., the paratactic and stand-alone IM-SSFs support the original CAP protocol, the newly added INAP and the newly added ANSI-41 MAP protocol respectively and interact with their corresponding intelligent platforms, yet there exists another problem that which IM-SSF should be triggered by the S-CSCF for interacting with intelligent platform to control the services for a certain session. Such problem is settled by the S-CSCF according to a matching result of initial Filter Criteria (iFC) in the subscription data of the subscribers. The S-CSCF can selectively trigger to either the IM-SSF that supports interaction with the GSM/WCDMA CAMEL mobile intelligent platform or the IM-SSF that supports interaction with the fixed IN and/or the ANSI-41 WIN intelligent platform, or trigger to both the IM-SSFs that support interaction with the GSM/WCDMA CAMEL mobile intelligent platform and interaction with the fixed IN and/or the ANSI-41 WIN intelligent platform respectively, so as to achieve combined control over the IMS session by the GSM/WCDMA CAMEL intelligent platform and the fixed IN and/or the ANSI-41 WIN intelligent platform, and thus to provide convergent services.</p>
<p id="p-0052" num="0051">A brief introduction of the iFC is given below. It is commonly known by those skilled in the art that the iFC is a major part in the subscriber data saved in the HSS, including matching condition, AS address, default handling in case of trigger failure, transparent service information, etc. There can be multiple iFCs with different priorities for a subscriber; the S-CSCF matches the SIP message of service request with the iFCs one by one according to their priorities. If the SIP message matches an iFC, the SIP message will be routed to the corresponding AS, and the message can be terminated or modified by the AS and may be returned after the AS finishes processing; if the SIP message does not match an iFC or is returned by the AS, the S-CSCF will match the SIP message with the next iFC in the descending priority sequence and perform the service triggering. If the next iFC also fails to match the SIP message, or the message is returned again by the AS after the triggering, then the S-CSCF will turn to the third iFC in the descending priority sequence and perform the service triggering, and the rest can be deducted by analogy. In this way the service can be triggered to multiple ASs from one node and is controlled in sequence.</p>
<p id="p-0053" num="0052">The protocol selection methods in the first organization form are listed below, in which an IM-SSF supports two or more protocols among the CAP protocol, the INAP and/or the ANSI-41 MAP protocol:</p>
<p id="p-0054" num="0053">The first protocol selection method is to extended define intelligent service subscription information types dedicated to different SCFs. That is to say, besides the original types of intelligent service subscription information (abbreviated as CSI which stands for CAMEL service subscription information) for the IMS domain, we can in addition define IMS INAP Originating CSI (O IM INAP CSI) used for session originating side service, IMS INAP Dialed Service CSI (D IM INAP CSI) used for dialed service, IMS INAP Visited Mobile Switch Center (VMSC) Terminating CSI (VT IM INAP CSI) used for session terminating side service, or any combination of the above, and use all of them as subscription information types dedicated to the intelligent services which are provided by collaborating with the SCF of the fixed IN; we can also define IMS ANSI Originating CSI (O IM ANSI CSI), IMS ANSI Dialed Service CSI (D IM ANSI CSI) and IMS ANSI VMSC Terminating CSI (VT IM ANSI CSI), as subscription information types dedicated to the intelligent services which are provided by collaborating with the ANSI-41 WIN SCF. The matching test for these types of subscription information is performed by the IM-SSF at corresponding DPs to trigger the services to the SCF of the fixed IN and/or the ANSI-41 WIN. The corresponding DPs refer to one or any combination of the following DPs: a DP Collected_Info, a DP Analysed_Information, a DP Route_Select_Failure, a DP Terminating_Attempt, a DP T_Busy and a DP T_No_Answer. It should be noted that the subscription information can be set in advance in the IM-SSF, or be downloaded from the HSS through the Si interface. If the subscription information is to be downloaded from the HSS, the HSS and the Si interface need to be extended to download and/or update above mentioned extended types of the subscription information.</p>
<p id="p-0055" num="0054">Moreover, compared with the original triggering methods in the fixed IN, the above method in which the IM-SSF can trigger the intelligent services to the fixed SCP based on the CSI so as to achieve a per-subscription-based and flexible triggering mechanism for the fixed IN, and thus enrich the intelligent service triggering methods in the fixed IN.</p>
<p id="p-0056" num="0055">The second protocol selection method is to select the protocols according to the service keys in three existing types of the CSI (the O IM CSI, the D IM CSI and the VT IM CSI). To do so, a match relationship between a specific service key in the CSI and an interface protocol is preset in the IM-SSF which supports two or more protocols. The IM-SSF selects a protocol for the interface to the SCF according to the specific service key in the CSI and its local settings of such service key, and further triggers the services to the SCF of the fixed IN and/or the ANSI-41 WIN. It should be noted that in this method the HSS and the Si interface are implemented completely according to 3rd Generation Partnership Project (3GPP) standards without any extra extension, in another word, the HSS and the Si interface does not need to be extended even if the subscription information needs to be downloaded from the HSS; but the IM-SSF needs extra configuration data to select the protocol for the interface to the SCF according to the specific information in the CSI.</p>
<p id="p-0057" num="0056">The third protocol selection method is to select the protocols according to the SCF address in the IM-SSF. To do so, configuration data of the match relationships between the SCF addresses and the interface protocols are added to the IM-SSF which supports two or more protocols. The IM-SSF selects the protocol for the interface to the SCF according to the SCF address designated by the original three types of CSIs and its local settings of such SCF address in the IM-SSF, and further triggers the services to the SCF of the fixed IN and/or the ANSI-41 WIN. In this method, similarly, the HSS and the Si can be implemented completely according to the 3GPP standards without any extra extension even if the subscription information needs to be downloaded from the HSS, but the IM-SSF needs to add the SCF address-related configuration data to select the protocol for the interface to the SCF according to the specific information in the CSI.</p>
<p id="p-0058" num="0057">The fourth protocol selection method is to select the protocol through the IM-SSF global settings. The global settings are made in the IM-SSF which supports two or more protocols, making the IM-SSF support only one protocol among the protocols it has capability to support in a certain period of time. In this method the HSS and the Si interface also can be implemented completely according to the 3GPP standards, and the IM-SSF selects the protocol for the interface to the SCF according to the global settings only. The difference between this method and the second and third methods is that the settings are independent from any specific information in the CSI in this method.</p>
<p id="p-0059" num="0058">Besides achieving the capabilities defined in 23.278 and the mapping of the INAP and/or the ANSI-41 MAP protocol, the IM-SSF also supports the CPH capability of the CAP protocol, the INAP and/or the ANSI-41 MAP protocol and maps the intelligent service control process belongs to the CPH capability to corresponding SIP session control process, and thus to achieve richer service control in cooperation with the SCF of the fixed IN and/or the ANSI-41 WIN.</p>
<p id="p-0060" num="0059">The working procedure of the IM-SSF that is able to trigger the intelligent services to the fixed IN and/or the ANSI-41 WIN is hereinafter described with reference to the accompanying Figures from <figref idref="DRAWINGS">FIG. 4</figref> to <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0061" num="0060">The working procedure of the IM-SSF platform that is able to trigger the intelligent services of the fixed IN and/or the ANSI-41 WIN can be divided into three parts, which are shown in <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0062" num="0061">As shown in <figref idref="DRAWINGS">FIG. 4</figref>, firstly, in Step <b>400</b>, the IM-SSF obtains the CSI. The CSI can be set in the IM-SSF in advance or be downloaded from the HSS, for example, when a subscriber registers or a subscriber service request is handled, the IM-SSF downloads the subscription information of the subscriber upon receiving a request of registration or session establishment correlative with the served subscriber. The process in which the IM-SSF downloads the CSI from the HSS is described in details with reference to <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0063" num="0062">Secondly, the protocol or the IM-SSF is selected in Step <b>401</b>. The selection process is distinguished according to different organization forms. If the first organization form is adopted by the platform, in which an IM-SSF supports two or more protocols among the INAP and/or the ANSI-41 MAP protocol and the CAP protocol, the protocol selection should be performed in such an IM-SSF, and the detailed selection procedure is shown in <figref idref="DRAWINGS">FIG. 6</figref> and <figref idref="DRAWINGS">FIG. 7</figref>; if the second organization form is adopted by the platform, in which different IM-SSFs support different protocols, e.g., as to the two IM-SSFs in the embodiment of the present invention shown in <figref idref="DRAWINGS">FIG. 8</figref>, IM-SSF (1) supports the INAP and/or the ANSI-41 MAP protocol, IM-SSF (2) supports the CAP protocol, an IM-SSF selection is needed. The detailed procedure of the IM-SSF selection is shown in <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0064" num="0063">Finally, the intelligent service is triggered in Step <b>402</b> based on the result of the selection process. The technique through which the IM-SSF triggers the service to the GSM/WCDMA CAMEL mobile intelligent platform is in the prior art, therefore the following embodiments of the present invention show only the intelligent service triggering to the fixed IN and/or the ANSI-41 WIN. It should be noted that there are two methods through which the IM-SSF can trigger the intelligent services to the SCF of the fixed IN and/or the ANSI-41 WIN, and the two methods are related to the function extension pattern of the IM-SSF to support the intelligent service control protocol other than the CAP. If the first function extension pattern is adopted, in which the IM-SSF directly supports the INAP and/or the ANSI-41 MAP protocol, the IM-SSF directly interacts with the SCP of the fixed IN and/or the ANSI-41 WIN, and the procedure of this pattern is shown in <figref idref="DRAWINGS">FIG. 6</figref>; if the second function extension pattern is adopted, in which the IM-SSF supports the INAP and/or the ANSI-41 MAP protocol through a signaling conversion gateway performing signaling conversion between the CAP protocol and the INAP, and/or between the CAP protocol and the ANSI-41 WIN, the IM-SSF interacts with the SCP of the fixed IN and/or the ANSI-41 WIN through the above mentioned gateway, and the procedure of this pattern is shown in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0065" num="0064">It should be noted that the procedure shown in <figref idref="DRAWINGS">FIG. 4</figref> is a preferred embodiment of the present invention. If different IM-SSFs supporting different protocols are adopted, and the IM-SSFs download the intelligent service subscription information only upon receiving a request of session establishment correlative with the served subscriber, Step <b>400</b> and Step <b>401</b> can be executed in a reversed order, which also belongs to the scope of the embodiments of the present invention.</p>
<p id="p-0066" num="0065">The process through which the IM-SSF requests to download the CSI from the HSS is described hereinafter with reference to <figref idref="DRAWINGS">FIG. 5</figref>. As a preferred embodiment of the present invention, the IM-SSF sends a download request to the HSS for the intelligent service subscription information of the subscriber when it receives from, the S-CSCF a request of the Third Party Registration which is initiated based on the iFC evaluation after the subscriber's register is handled, and then the IM-SSF returns a success message to the S-CSCF. The detailed steps are described below:</p>
<p id="p-0067" num="0066">Firstly, in Step <b>501</b>, S-CSCF <b>10</b> receives a request of registration from a subscriber. So S-CSCF <b>10</b> sends a request to HSS <b>20</b> for downloading subscriber data in Step <b>502</b>. In Step <b>503</b>, HSS <b>20</b> returns a response of the download request to S-CSCF <b>10</b>, and provides the subscriber data. Upon receiving such response, S-CSCF <b>10</b> sends a success response of registration to the subscriber in Step <b>504</b>.</p>
<p id="p-0068" num="0067">Then S-CSCF <b>10</b> runs an iFC evaluation on the subscriber data downloaded in Step <b>505</b>. After that, in Step <b>506</b>, S-CSCF <b>10</b> sends a request of Third Party Registration to the IM-SSF <b>30</b> according to the iFC evaluation result.</p>
<p id="p-0069" num="0068">IM-SSF <b>30</b> then requests to download the CSI from the HSS <b>20</b> through the Si interface which is based on the MAP protocol in Step <b>507</b>. Upon receiving the request, HSS <b>20</b> returns the required CSI to IM-SSF <b>30</b> in Step <b>508</b>. It should be noted that if IM-SSF <b>30</b> selects the protocol according to extended intelligent service subscription information types that are defined dedicated to the SCF of the fixed IN and/or the ANSI-41 WIN, HSS <b>20</b> and the Si interface both need to be extended to support the downloading and updating of the extended subscription information type; otherwise HSS <b>20</b> and the Si interface are implemented completely according to the 3GPP standards.</p>
<p id="p-0070" num="0069">Upon obtaining the CSI, IM-SSF <b>30</b> returns a success response to S-CSCF <b>10</b> in Step <b>509</b>.</p>
<p id="p-0071" num="0070">If the intelligent service subscription information is set in advance in the IM-SSF, the above process can be omitted.</p>
<p id="p-0072" num="0071">In this embodiment, the IM-SSF downloads the intelligent service subscription information upon receiving the request of the Third Party Registration initiated by the S-CSCF. Similarly, the IM-SSF can also perform Step <b>507</b> and Step <b>508</b> to download the intelligent service subscription information upon receiving the session establish request correlative with the served subscriber.</p>
<p id="p-0073" num="0072">The detailed process in which an IM-SSF that supports the INAP and/or the ANSI-41 MAP protocol and the CAP protocol at the same time triggers the intelligent service to the fixed IN and/or the ANSI-41 WIN is described hereinafter with reference to the accompanying drawings of <figref idref="DRAWINGS">FIG. 6</figref> and <figref idref="DRAWINGS">FIG. 7</figref>. To simplify the description, the intelligent service triggering process of an IM-SSF which supports only the INAP and the CAP protocol at the same time is described hereinafter. It can be deduced from the above description that the intelligent service triggering process of an IM-SSF which supports the ANSI-41 MAP protocol and the CAP protocol at the same time, or supports the ANSI-41 MAP protocol and the INAP at the same time, or supports the INAP, the ANSI-41 MAP protocol and the CAP protocol at the same time, is completely similar to the process described below.</p>
<p id="p-0074" num="0073">To be specific, <figref idref="DRAWINGS">FIG. 6</figref> illustrates the process in which the IM-SSF supports the INAP directly, and <figref idref="DRAWINGS">FIG. 7</figref> illustrates the process in which the IM-SSF supports the INAP through the CAP protocol/the INAP gateway.</p>
<p id="p-0075" num="0074">In <figref idref="DRAWINGS">FIG. 6</figref>, the first step of the process is Step <b>601</b>, in which S-CSCF <b>10</b> receives a request of session establishment correlative with the served subscriber. Then S-CSCF <b>10</b> runs the iFC evaluation on the subscriber data in Step <b>602</b>. After that, in Step <b>603</b>, S-CSCF <b>10</b> forwards the session establish request to IM-SSF <b>30</b> according to the iFC evaluation result.</p>
<p id="p-0076" num="0075">Upon receiving the session establish request, IM-SSF <b>30</b> proceeds to Step <b>604</b>, to select the interface protocol for the intelligent service triggering through one of the four protocol selection methods according to the CSI pre-configured in the IM-SSF or downloaded from the HSS.</p>
<p id="p-0077" num="0076">When the CSI is not pre-configured in IM-SSF <b>30</b> or downloaded by IM-SSF <b>30</b> during the subscriber registration, IM-SSF <b>30</b> can also download the CSI after the request is received before Step <b>604</b>.</p>
<p id="p-0078" num="0077">The four protocol selection methods here refer to:</p>
<p id="p-0079" num="0078">the first protocol selection method: defining extended intelligent service subscription information types that dedicated to the fixed SCF;</p>
<p id="p-0080" num="0079">the second protocol selection method: selecting the protocols according to the service keys in the CSI and the settings which correspond to the service keys in the IM-SSF;</p>
<p id="p-0081" num="0080">the third protocol selection method: selecting the protocols according to the SCF addresses in the CSI and the settings which correspond to the SCF addresses in the IM-SSF;</p>
<p id="p-0082" num="0081">the fourth protocol selection method: selecting the protocols according to the global settings in the IM-SSF.</p>
<p id="p-0083" num="0082">Upon selecting the protocol, the IM-SSF interacts with the corresponding SCF. The embodiment here only shows the interaction between the IM-SSF and the fixed IN SCF <b>40</b>. In Step <b>605</b>, IM-SSF <b>30</b> interacts with fixed IN SCF <b>40</b> through the INAP to trigger and control the intelligent service.</p>
<p id="p-0084" num="0083">Then in Step <b>606</b>, IM-SSF <b>30</b> continues with the following procedures according to the response from fixed IN SCF <b>40</b>, i.e., the result of service control according to intelligent service logic; that is to say, IM-SSF <b>30</b> returns to S-CSCF <b>10</b> the session establish request which is modified according to the service logic, and thus realizing the control of the intelligent service. And in Step <b>607</b>, S-CSCF <b>10</b> continues to send the session establish request to the called party.</p>
<p id="p-0085" num="0084"><figref idref="DRAWINGS">FIG. 7</figref> illustrates the procedure of the IM-SSF which supports the INAP through a CAP protocol/INAP gateway. The procedure is basically identical to the procedure illustrated in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0086" num="0085">The first step of the procedure is Step <b>701</b>, in which S-CSCF <b>10</b> receives a session establish request. Then S-CSCF <b>10</b> runs the iFC evaluation on the subscriber data in Step <b>702</b>. After that, in Step <b>703</b>, S-CSCF <b>10</b> forwards the session establish request to IM-SSF <b>30</b> according to the iFC evaluation result.</p>
<p id="p-0087" num="0086">Upon receiving the session establish request, IM-SSF <b>30</b> proceeds to Step <b>704</b>, to select the interface protocol for the intelligent service triggering through one of the four protocol selection methods according to the CSI pre-configured in the IM-SSF or downloaded from the HSS.</p>
<p id="p-0088" num="0087">Similarly, in case that the CSI is not pre-configured in IM-SSF <b>30</b> or downloaded by IM-SSF <b>30</b> during the subscriber registration, IM-SSF <b>30</b> can also download the CSI after the request is received before Step <b>704</b>.</p>
<p id="p-0089" num="0088">If the IM-SSF selects the INAP as the interface protocol, IM-SSF <b>30</b> sends a service trigger message to CAP protocol/INAP Gateway <b>50</b> through the CAP protocol in Step <b>705</b>. Upon finishing the conversion, CAP protocol/INAP Gateway <b>50</b> performs interaction such as service triggering and service controlling with fixed IN SCF <b>40</b> through the INAP in Step <b>706</b>. In Step <b>707</b> CAP protocol/INAP Gateway <b>50</b> returns a service control message to IM-SSF <b>30</b> through the CAP protocol. Then in Step <b>708</b>, IM-SSF <b>30</b> continues with the following procedures according to the service control result, that is to say, IM-SSF <b>30</b> returns to S-CSCF <b>10</b> the session establish request which is modified according to the service logic, and thus realizing the control of the intelligent service. And in Step <b>709</b>, S-CSCF <b>10</b> continues to send the session establish request to the called party.</p>
<p id="p-0090" num="0089">If the system adopts the second organization form, in which different IM-SSFs support different protocols, the IM-SSF selection process is needed. The S-CSCF sends the SIP session establish request to an IM-SSF selected according to the iFC evaluation result, or to several IM-SSFs in sequence. To simplify the description again, the IM-SSF selection process in which there are only two IM-SSFs that support the INAP and the CAP protocol respectively is described hereinafter. However, it can be deduced from the above description that the IM-SSF selection process, in which an IM-SSF that supports the ANSI-41 MAP protocol is added, or an IM-SSF that supports the ANSI-41 MAP protocol replaces either of the above two IM-SSFs, is completely identical to the process described below.</p>
<p id="p-0091" num="0090">It is shown in <figref idref="DRAWINGS">FIG. 8</figref> when IM-SSF <b>31</b> supports the INAP, IM-SSF <b>32</b> supports the CAP protocol, the IM-SSF selection process is needed and the detailed IM-SSF selection process is illustrated in <figref idref="DRAWINGS">FIG. 8</figref>. It should be noted that in such organization form, S-CSCF <b>10</b> sends the SIP session establish request to the selected one of the two IM-SSFs according to the iFC evaluation result, or to both the IM-SSFs in sequence. As a preferred embodiment of the present invention, the flow in which the request is sent to two IM-SSFs in sequence, is shown in <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0092" num="0091">Firstly in Step <b>801</b>, S-CSCF <b>10</b> receives the session establish request. Then in Step <b>802</b>, S-CSCF <b>10</b> runs the iFC evaluation according to the priorities of the iFCs in a descending order. Then as a result of successfully matching of the iFC<b>1</b> with the highest priority, S-CSCF <b>10</b> forwards the session establish request to IM-SSF (1) <b>31</b> which supports interaction with the intelligent platform of the fixed IN.</p>
<p id="p-0093" num="0092">Upon receiving the request, IM-SSF (<b>1</b>) <b>31</b> proceeds to Step <b>804</b>, to run the CSI evaluation and the triggering of the intelligent service according to the CSI pre-configured in the IM-SSF or downloaded from the HSS. In Step <b>805</b>, IM-SSF (<b>1</b>) <b>31</b> interacts with fixed IN SCF <b>40</b> through the INAP to trigger and control the intelligent service. Then in Step <b>806</b>, IM-SSF (<b>1</b>) <b>31</b> continues with the following procedures according to the service control result of fixed IN SCF <b>40</b>, and in this embodiment particularly, IM-SSF (<b>1</b>) <b>31</b> returns to S-CSCF <b>10</b> the session establish request which is modified according to the service logic, and thus realizing the control of the intelligent service on the fixed IN.</p>
<p id="p-0094" num="0093">Upon receiving the session establish request returned by IM-SSF (<b>1</b>) <b>31</b>, S-CSCF <b>10</b> proceeds to Step <b>807</b> to continue with the iFC evaluation for the left iFCs with lower priorities. And as a result of successfully matching of the iFC<b>2</b> with second highest priority, in Step <b>808</b>, S-CSCF <b>10</b> forwards the session establish request to IM-SSF (<b>2</b>) <b>32</b> which supports interaction with the GSM/WCDMA CAMEL mobile IN platform.</p>
<p id="p-0095" num="0094">Similarly, upon receiving the request, IM-SSF (<b>2</b>) <b>32</b> proceeds to Step <b>809</b>, to run the CSI evaluation and the triggering of the intelligent service according to the CSI pre-configured in the IM-SSF or downloaded from the HSS. In Step <b>810</b>, IM-SSF (<b>2</b>) <b>32</b> interacts with gsmSCF <b>60</b> through the CAP protocol to trigger and control the intelligent service. Then in Step <b>811</b>, IM-SSF (<b>2</b>) <b>32</b> continues with the following process according to the service control result of gsmSCF <b>60</b>, and in this embodiment particularly, IM-SSF (<b>2</b>) <b>32</b> returns to S-CSCF <b>10</b> the session establish request which is modified according to the service logic, and thus realizing the control of the GSM/WCDMA CAMEL mobile intelligent service.</p>
<p id="p-0096" num="0095">Upon receiving the session establish request returned by IM-SSF (<b>2</b>) <b>32</b>, S-CSCF <b>10</b> proceeds to Step <b>812</b> and to continue with the iFC evaluation for the third iFC in the priority sequence. Upon finishing the iFC evaluation in the descending order of the priority, S-CSCF <b>10</b> sends the session establish request to the called party in Step <b>813</b>.</p>
<p id="p-0097" num="0096">In this embodiment, it is supposed that the IM-SSF has obtained the CSI when the service request is received, either through pre-configuring in the IM-SSF in advance or through downloading during the subscriber registration. Similarly, if the CSI is not pre-configured in the IM-SSF or downloaded by IM-SSF (<b>1</b>) <b>31</b> and/or IM-SSF (<b>2</b>) <b>32</b> during the subscriber registration, IM-SSF (<b>1</b>) <b>31</b> and/or IM-SSF (<b>2</b>) <b>32</b> can also download the CSI upon receiving the service request from the S-CSCF respectively before the next step (Step <b>805</b> and Step <b>810</b> respectively).</p>
<p id="p-0098" num="0097">It is understood by those skilled in the art of the present invention that the alteration to the matching priority sequence does not affect the essence or the scope of the present invention; and in the practical implementation, it can be accepted on demand to trigger only the intelligent services of the fixed IN, or the GSM/WCDMA CAMEL mobile intelligent services, or the ANSI-41 WIN intelligent services.</p>
<p id="p-0099" num="0098">When an IM-SSF is able to trigger the intelligent services of the fixed IN and the ANSI-41 WIN, whatever the function extension pattern and the organization form it takes, the IM-SSF can adopt any of the above four protocol selection methods to select a protocol, therefore no further description will be given here.</p>
<p id="p-0100" num="0099">The architecture of the system which provides the intelligent services for the subscribers according to the embodiments of the present invention is illustrated in <figref idref="DRAWINGS">FIG. 9A</figref>, <figref idref="DRAWINGS">FIG. 9B</figref> and <figref idref="DRAWINGS">FIG. 9C</figref>. The system includes a home IMS of the subscriber and the intelligent platforms of the fixed IN and/or the ANSI-41 WIN. In <figref idref="DRAWINGS">FIG. 9A</figref>, the IMS at least includes an IM-SSF that supports the INAP to obtain the intelligent service subscription information and trigger the intelligent services to the SCF of the intelligent platform of the fixed IN through the INAP; in <figref idref="DRAWINGS">FIG. 9B</figref>, the IMS at least includes an IM-SSF that supports the ANSI-41 MAP protocol to obtain the intelligent service subscription information and trigger the intelligent services to the SCF of the ANSI-41 WIN intelligent platform through the ANSI-41 MAP protocol; in <figref idref="DRAWINGS">FIG. 9C</figref>, the IMS at least includes an IM-SSF that supports the INAP and the ANSI-41 MAP protocol to obtain the intelligent service subscription information and trigger the intelligent services to the SCF of the intelligent platform of the fixed IN through the INAP, and/or to the SCF of the ANSI-41 WIN intelligent platform through the ANSI-41 MAP protocol.</p>
<p id="p-0101" num="0100">Though the present invention has been illustrated and described by referring to some preferred embodiments of the present invention, a skilled person in the art should understand that various changes can be made in its form and detail without departing from the spirit or scope of the present invention defined in the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for providing a subscriber of an Internet Protocol (IP) Multimedia Subsystem (IMS) with an intelligent service, wherein, the IMS comprises an IP Multimedia Service Switching Function (IM-SSF) entity supporting an intelligent control protocol other than a Customized Application for Mobile network Enhanced Logic (CAMEL) Application Part (CAP) protocol, the method comprises:
<claim-text>selecting, by the IM-SSF, an intelligent control protocol upon receiving a session establish request related to the subscriber;</claim-text>
<claim-text>triggering, by the IM-SSF the intelligent service to a Service Control Function (SCF) entity of a corresponding intelligent platform through the selected intelligent control protocol when the selected intelligent control protocol is an intelligent control protocol other than the CAP protocol,</claim-text>
<claim-text>wherein the manner for selecting an intelligent control protocol is one of the following:</claim-text>
<claim-text>Manner A: selecting an intelligent control protocol according to an extended CAMEL Subscription Information (CSI) type, which is defined as dedicated to a SCF supporting the intelligent control protocol other than the CAP protocol, by performing a matching evaluation of the extended CSI type at a Detection Point (DP);</claim-text>
<claim-text>Manner B: selecting an intelligent control protocol according to a service key in a standard CSI associated with a match relationship between the service key and an intelligent control protocol configured in the IM-SSF in advance;</claim-text>
<claim-text>Manner C: selecting an intelligent control protocol according to a SCF address in a standard CSI associated with a match relationship between the SCF address and an intelligent control protocol configured in the IM-SSF in advance; or</claim-text>
<claim-text>Manner D: selecting an intelligent control protocol according to the settings in the IM-SSF that only one protocol is supported in a period of time.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the method further comprises: the IM-SSF obtaining the CSI of the subscriber, and the CSI is pre-configured in the IM-SSF, or downloaded from a Home Subscriber Server (HSS) of the subscriber by the IM-SSF when the subscriber registers or upon receiving the session establish request related to the subscriber.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein, the support of the IM-SSF to the intelligent control protocol other than the CAP protocol comprises:
<claim-text>the IM-SSF directly mapping a Session Initiation Protocol (SIP) to a Detection Point (DP) defined in the intelligent control protocol other than the CAP protocol, supporting the interface to the SCF of corresponding intelligent platform, and accomplishing service control over the SIP session under the control of the SCF;</claim-text>
<claim-text>or, the support of the IM-SSF to the intelligent control protocol other than the CAP protocol comprises:</claim-text>
<claim-text>the IM-SSF mapping the SIP to the DP defined in the CAP, supporting the CAP interface to a mobile SCF, implementing the mapping between the CAP interface and an interface of the intelligent control protocol other than the CAP protocol through a signaling conversion gateway, and accomplishing the service control over the SIP session through the signaling conversion gateway under the control of the SCF of the corresponding intelligent platform.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein, the IM-SSF supporting the intelligent control protocol other than the CAP protocol is an independent entity.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, further comprising:
<claim-text>before the IM-SSF triggers the intelligent service to the SCF of corresponding intelligent platform through the intelligent control protocol other than the CAP protocol, when receiving the session establish request related to the subscriber, a Serving-Call Session Control Function (S-CSCF) running an initial Filter Criteria (iFC) evaluation, and deciding, according to the result of the evaluation, whether to trigger the services to the IM-SSF, or to another IM-SSF supporting the CAP protocol.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, further comprising:
<claim-text>before the IM-SSF triggers the intelligent service to the SCF of corresponding intelligent platform through the intelligent control protocol other than the CAP protocol, when receiving the session establish request related to the subscriber, a S-CSCF respectively triggering the service to the IM-SSF and another IM-SSF supporting the CAP protocol.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein,
<claim-text>the IM-SSF supporting the intelligent control protocol other than the CAP protocol is achieved by adding the functionality for supporting the intelligent control protocol other than the CAP protocol into the original IM-SSF supporting the CAP protocol in the IMS;</claim-text>
<claim-text>before the IM-SSF triggers the intelligent service to the SCF of the corresponding intelligent platform through the intelligent control protocol other than the CAP protocol, the method further comprises:</claim-text>
<claim-text>the IM-SSF selecting a protocol from the protocols comprising the CAP protocol and the intelligent control protocol other than the CAP protocol, and triggering the intelligent service to the SCF of corresponding intelligent platform if an intelligent control protocol other than the CAP protocol is selected.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the extended CSI type comprises at least one of:
<claim-text>an Internet Protocol Multimedia Subsystem (IMS) Intelligent Network Application Protocol (INAP) Session Originating CSI, an IMS INAP Dialed Service CSI, and an IMS INAP Visited Mobile Switch Center (VMSC) Terminating CSI.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein, the extended CSI type comprises at least one of: an IMS American National Standard Institute-41 (ANSI-41) Originating CSI, an IMS ANSI-41 Dialed Service CSI, and an IMS ANSI VMSC Terminating CSI.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein a DP used for evaluating the CSI type comprises at least one of: a DP collected_information, a DP analysed_information, a DP Route_Select_Failure, a DP Terminating_Attempt, a DP Terminating_Busy (DP T_Busy), and a DP Terminating_No_Answer (DP T_No_Answer).</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the IM-SSF supports a Call Party Handling (CPH) capability defined in the CAP protocol and other intelligent control protocols, and maps the intelligent service control process belonging to the CPH capability to corresponding SIP session control process.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the intelligent control protocol other than the CAP protocol comprises at least one of:
<claim-text>the INAP applied in the intelligent platform of the fixed IN, the ANSI-41 MAP protocol applied in the intelligent platform of the ANSI-41 WIN, and the CoreINAP defined by adding various extensions based on the INAP.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A system for providing a subscriber with an intelligent service, comprising:
<claim-text>a home Internet Protocol (IP) Multimedia Subsystem (IMS) of the subscriber and an intelligent platform adopting an intelligent control protocol other than a Customized Application for Mobile network Enhanced Logic (CAMEL) Application Part (CAP) protocol, wherein,</claim-text>
<claim-text>the IMS comprises at least an IP Multimedia Service Switching Function (IM-SSF) entity supporting the intelligent control protocol other than the CAP protocol;</claim-text>
<claim-text>wherein the IM-SSF is capable of selecting an intelligent control protocol upon receiving a session establish request related to the subscriber, and triggering the intelligent service to a Service Control Function (SCF) of a corresponding intelligent platform through the selected intelligent control protocol when the selected intelligent control protocol is an intelligent control protocol other than the CAP protocol; and</claim-text>
<claim-text>selecting an intelligent control protocol is performed by one of the following manners:</claim-text>
<claim-text>Manner A: selecting an intelligent control protocol according to an extended CAMEL Subscription Information (CSI) type, which is defined as dedicated to a SCF supporting the intelligent control protocol other than the CAP protocol, by performing a matching evaluation of the extended CSI type at a Detection Point (DP);</claim-text>
<claim-text>Manner B: selecting an intelligent control protocol according to a service key in a standard CSI associated with a match relationship between the service key and an intelligent control protocol configured in the IM-SSF in advance;</claim-text>
<claim-text>Manner C: selecting an intelligent control protocol according to a SCF address in a standard CST associated with a match relationship between the SCF address and an intelligent control protocol configured in the IM-SSF in advance; or</claim-text>
<claim-text>Manner D: selecting an intelligent control protocol according to the settings in the IM-SSF that only one protocol is supported in a period of time.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The system according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein, the CSI is pre-configured in the IM-SSF, or downloaded from a Home Subscriber Server (HSS) of the subscriber by the IM-SSF when the subscriber registers or upon receiving the session establish request related to the subscriber.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The system according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein, the IM-SSF is used for directly mapping a Session Initiation Protocol (SIP) to a Detection Point (DP) defined in the intelligent control protocol other than the CAP protocol, and for supporting an interface to the SCF of corresponding intelligent platform in order to achieve the service control over the SIP session under the control of the SCF.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The system according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, further comprising: a signaling conversion gateway; wherein,
<claim-text>the IM-SSF is used for mapping the SIP to the DP defined in a CAMEL criteria, supporting the CAP interface to a mobile SCF, and interacting with the SCF of corresponding intelligent platform through the signaling conversion gateway, thus achieving the service control over the SIP session under the control of the SCF of corresponding intelligent platform through the signaling conversion gateway;</claim-text>
<claim-text>the signaling conversion gateway, is used for implementing a bidirectional mapping between the CAP protocol and the intelligent control protocol other than the CAP protocol.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The system according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the IM-SSF supporting the intelligent control protocol other than the CAP protocol is an independent entity, or the IM-SSF is achieved by adding the functionality for supporting the intelligent control protocol other than the CAP protocol into the original IM-SSF supporting the CAP protocol in the IMS.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The system according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the intelligent control protocol other than the CAP protocol comprises at least one of:
<claim-text>an IN Application Protocol (INAP) applied in the intelligent platform of a fixed IN, an American National Standard Institite-41 (ANSI-41) Mobile Application Part (MAP) protocol applied in the intelligent platform of the ANSI-41 WIN, and a CoreINAP defined by adding various extensions based on the INAP.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The system according to <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein, the DP defined in the intelligent control protocol other than the CAP protocol comprises one of: the DP defined in the INAP, and the DP defined in the ANSI-41 WIN criteria.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. A method for providing a subscriber of an Internet Protocol (IP) Multimedia Subsystem (IMS) with an intelligent service, wherein, the IMS comprises an IP Multimedia Service Switching Function (IM-SSF) entity supporting an intelligent control protocol other than a Customized Application for Mobile network Enhanced Logic (CAMEL) Application Part (CAP) protocol, the method comprises:
<claim-text>selecting, by the IM-SSF, an intelligent control protocol upon receiving a session establish request related to the subscriber;</claim-text>
<claim-text>triggering, by the IM-SSF the intelligent service to a Service Control Function (SCF) entity of a corresponding intelligent platform through the selected intelligent control protocol when the selected intelligent control protocol is an intelligent control protocol other than the CAP protocol;</claim-text>
<claim-text>wherein, the support of the IM-SSF to the intelligent control protocol other than the CAP protocol comprises:
<claim-text>the IM-SSF directly mapping a Session Initiation Protocol (SIP) to a Detection Point (DP) defined in the intelligent control protocol other than the CAP protocol, supporting the interface to the SCF of corresponding intelligent platform, and accomplishing service control over the SIP session under the control of the SCF; or</claim-text>
<claim-text>the IM-SSF mapping the SIP to the DP defined in the CAP, supporting the CAP interface to a mobile SCF, implementing the mapping between the CAP interface and an interface of the intelligent control protocol other than the CAP protocol through a signaling conversion gateway, and accomplishing the service control over the SIP session through the signaling conversion gateway under the control of the SCF of the corresponding intelligent platform;</claim-text>
</claim-text>
<claim-text>and the IM-SSF supporting the intelligent control protocol other than the CAP protocol is achieved by adding the functionality for supporting the intelligent control protocol other than the CAP protocol into the original IM-SSF supporting the CAP protocol in the IMS;</claim-text>
<claim-text>before the IM-SSF triggers the intelligent service to the SCF of the corresponding intelligent platform through the intelligent control protocol other than the CAP protocol, the method further comprises: the IM-SSF selecting a protocol from the protocols comprising the CAP protocol and the intelligent control protocol other than the CAP protocol, and triggering the intelligent service to the SCF of corresponding intelligent platform if an intelligent control protocol other than the CAP protocol is selected;</claim-text>
<claim-text>the protocol selection from the protocols comprising the CAP protocol and the intelligent control protocol other than the CAP protocol is performed according to the settings in the IM-SSF that only one protocol is supported in a period of time.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. A system for providing a subscriber with an intelligent service, comprising:
<claim-text>a home Internet Protocol (IP) Multimedia Subsystem (IMS) of the subscriber and an intelligent platform adopting an intelligent control protocol other than a Customized Application for Mobile network Enhanced Logic (CAMEL) Application Part (CAP) protocol, wherein,</claim-text>
<claim-text>the IMS comprises at least an IP Multimedia Service Switching Function (IM-SSF) entity supporting the intelligent control protocol other than the CAP protocol;</claim-text>
<claim-text>wherein the IM-SSF is capable of selecting an intelligent control protocol upon receiving a session establish request related to the subscriber, and triggering the intelligent service to a Service Control Function (SCF) of a corresponding intelligent platform through the selected intelligent control protocol when the selected intelligent control protocol is an intelligent control protocol other than the CAP protocol; and</claim-text>
<claim-text>the support of the IM-SSF to the intelligent control protocol other than the CAP protocol comprises:
<claim-text>the IM-SSF directly mapping a Session Initiation Protocol (SIP) to a Detection Point (DP) defined in the intelligent control protocol other than the CAP protocol, supporting the interface to the SCF of corresponding intelligent platform, and accomplishing service control over the SIP session under the control of the SCF; or</claim-text>
<claim-text>the IM-SSF mapping the SIP to the DP defined in the CAP, supporting the CAP interface to a mobile SCF, implementing the mapping between the CAP interface and an interface of the intelligent control protocol other than the CAP protocol through a signaling conversion gateway, and accomplishing the service control over the SIP session through the signaling conversion gateway under the control of the SCF of the corresponding intelligent platform;</claim-text>
</claim-text>
<claim-text>and the IM-SSF supporting the intelligent control protocol other than the CAP protocol is achieved by adding the functionality for supporting the intelligent control protocol other than the CAP protocol into the original IM-SSF supporting the CAP protocol in the IMS;</claim-text>
<claim-text>before the IM-SSF triggers the intelligent service to the SCF of the corresponding intelligent platform through the intelligent control protocol other than the CAP protocol, the method further comprises: the IM-SSF selecting a protocol from the protocols comprising the CAP protocol and the intelligent control protocol other than the CAP protocol, and triggering the intelligent service to the SCF of corresponding intelligent platform if an intelligent control protocol other than the CAP protocol is selected;</claim-text>
<claim-text>the protocol selection from the protocols comprising the CAP protocol and the intelligent control protocol other than the CAP protocol is performed according to the settings in the IM-SSF that only one protocol is supported in a period of time.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
