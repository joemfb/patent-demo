<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624533-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624533</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13416643</doc-number>
<date>20120309</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2011-054533</doc-number>
<date>20110311</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>119</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>K</subclass>
<main-group>5</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>02</class>
<subclass>H</subclass>
<main-group>7</main-group>
<subgroup>09</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>02</class>
<subclass>P</subclass>
<main-group>23</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>02</class>
<subclass>P</subclass>
<main-group>27</main-group>
<subgroup>04</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>31840013</main-classification>
<further-classification>31840022</further-classification>
<further-classification>318799</further-classification>
<further-classification>318801</further-classification>
<further-classification>318805</further-classification>
<further-classification>318807</further-classification>
<further-classification>318811</further-classification>
</classification-national>
<invention-title id="d2e71">Inverter power generator</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4315203</doc-number>
<kind>A</kind>
<name>Ibamoto et al.</name>
<date>19820200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>318807</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6005784</doc-number>
<kind>A</kind>
<name>Ikeshita</name>
<date>19991200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>363 37</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2009/0251103</doc-number>
<kind>A1</kind>
<name>Yamamoto et al.</name>
<date>20091000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>320133</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2010/0019740</doc-number>
<kind>A1</kind>
<name>Hashimoto et al.</name>
<date>20100100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>322 58</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2010/0277149</doc-number>
<kind>A1</kind>
<name>Furutani et al.</name>
<date>20101100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>323282</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2011/0307108</doc-number>
<kind>A1</kind>
<name>Nakano et al.</name>
<date>20111200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>700287</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>JP</country>
<doc-number>2003-111428</doc-number>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00008">
<othercit>English Language Abstract of JP 2003-111428 published Apr. 11, 2003.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00009">
<othercit>English Language Translation of JP 2003-111428 published Apr. 11, 2003.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>8</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>31840013</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>31840022</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318799</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318801</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318805</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318807</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318811</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>10</number-of-drawing-sheets>
<number-of-figures>11</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120229065</doc-number>
<kind>A1</kind>
<date>20120913</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Yokokawa</last-name>
<first-name>Narutoshi</first-name>
<address>
<city>Mishima</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Hoshikawa</last-name>
<first-name>Tomoyuki</first-name>
<address>
<city>Numazu</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Murata</last-name>
<first-name>Kazumi</first-name>
<address>
<city>Numazu</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="004" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Kanai</last-name>
<first-name>Junichi</first-name>
<address>
<city>Niigata</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="005" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Mashima</last-name>
<first-name>Naoyuki</first-name>
<address>
<city>Tsubame</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Yokokawa</last-name>
<first-name>Narutoshi</first-name>
<address>
<city>Mishima</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Hoshikawa</last-name>
<first-name>Tomoyuki</first-name>
<address>
<city>Numazu</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Murata</last-name>
<first-name>Kazumi</first-name>
<address>
<city>Numazu</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="004" designation="us-only">
<addressbook>
<last-name>Kanai</last-name>
<first-name>Junichi</first-name>
<address>
<city>Niigata</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="005" designation="us-only">
<addressbook>
<last-name>Mashima</last-name>
<first-name>Naoyuki</first-name>
<address>
<city>Tsubame</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>DLA Piper LLP (US)</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Toshiba Kikai Kabushiki Kaisha</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Donovan</last-name>
<first-name>Lincoln</first-name>
<department>2837</department>
</primary-examiner>
<assistant-examiner>
<last-name>Agared</last-name>
<first-name>Gabriel</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An inverter includes a voltage command generator generating a voltage command value according to an externally specified voltage value, a PWM signal generator generating a PWM signal according to the voltage command value and frequency command value, and a switching unit generating a three-phase AC power according to the PWM signal. The voltage command generator decreases the voltage command value if the output current increases, to prevent the rotation speed of a prime move from suddenly changing. If the output current exceeds a preset upper current threshold, the voltage command value is clamped at a preset minimum output voltage, thereby securing the minimum output voltage for an increase in the output current.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="172.04mm" wi="273.81mm" file="US08624533-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="256.71mm" wi="127.51mm" orientation="landscape" file="US08624533-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="177.63mm" wi="182.80mm" file="US08624533-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="274.57mm" wi="172.55mm" orientation="landscape" file="US08624533-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="239.69mm" wi="151.30mm" orientation="landscape" file="US08624533-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="251.63mm" wi="145.37mm" orientation="landscape" file="US08624533-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="249.09mm" wi="123.27mm" orientation="landscape" file="US08624533-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="164.08mm" wi="166.62mm" file="US08624533-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="253.32mm" wi="184.49mm" file="US08624533-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="226.14mm" wi="194.65mm" file="US08624533-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="184.49mm" wi="181.95mm" file="US08624533-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">The present invention relates to an inverter power generator that generates AC power with a synchronous motor driven by a prime mover such as an engine, converts the AC power into DC power, and inverts the DC power with an inverter into AC power of a required frequency.</p>
<p id="p-0004" num="0003">2. Description of Related Art</p>
<p id="p-0005" num="0004">The inverter power generator is widely used to generate electric power with the use of a prime mover such as an engine. The inverter power generator connects an output shaft of the engine to a rotary shaft of a synchronous motor, drives the synchronous motor with the engine to generate AC power, converts the AC power with a converter into DC power, and inverts the DC power with an inverter into AC output power of required voltage and frequency. The AC output power is supplied to a load such as a motor, a lamp, or the like that is connected to the inverter.</p>
<p id="p-0006" num="0005">If the load connected to the inverter of the inverter power generator is a motor (hereinafter referred to as &#x201c;load motor&#x201d;) such as an induction motor, there is a possibility that the load motor causes a rush current at startup to cause an excessive current to semiconductor elements arranged in a control unit of the inverter. If the excessive current is larger than a maximum rated current of the semiconductor elements, the semiconductor elements will malfunction to break the control unit.</p>
<p id="p-0007" num="0006">To prevent this problem, Japanese Unexamined Patent Application Publication No. 2003-111428 (Patent Document 1) discloses a technique of dropping an output voltage of the inverter according to the magnitude of an output current of the inverter, thereby suppressing a load current and a current passed to the control unit.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0008" num="0007">The related art disclosed in Patent Document 1, however, unreasonably drops the output voltage of the inverter power generator, to cause troubles such as disconnecting a load contactor such as an electromagnetic switch for starting and stopping the load motor and resetting a control unit in the load motor. Namely, the related art is unable to smoothly start and drive the load motor.</p>
<p id="p-0009" num="0008">To solve the problems of the related art, the present invention provides an inverter power generator capable of suppressing a rush current at startup of a load, thereby protecting internal circuits of the inverter power generator and preventing a contactor for the load from being unnecessarily disconnected.</p>
<p id="p-0010" num="0009">According to an aspect of the present invention, the inverter power generator includes a prime mover, a synchronous motor coupled with the prime mover, a converter connected to the synchronous motor, an inverter connected to the converter, and a capacitor arranged between the converter and the inverter. The prime mover rotates the synchronous motor to generate AC power, the converter converts the AC power into DC power, and the inverter inverts the DC power into AC power of a required frequency. The inverter includes a voltage command generator that generates a voltage command value according to an externally specified voltage value, a frequency command generator that generates a frequency command value according to an externally specified frequency value, a PWM signal generator that generates a PWM signal according to the voltage command value and frequency command value, a switching unit that includes a plurality of semiconductor elements, turns on/off the semiconductor elements according to the PWM signal, and generates the AC power of the required frequency, and a current detector that detects an output current (line current) of the switching unit. The voltage command generator includes a voltage command changer that generates a voltage value corresponding to the externally specified voltage value if it is a normal state in which the output current detected by the current detector is equal to or lower than a preset upper current threshold, and if the output current is higher the upper current threshold, a voltage value corresponding to a minimum output voltage that is preset to be lower than the externally specified voltage value. The voltage command generator outputs the voltage value generated by the voltage command changer as the voltage command value.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram illustrating an inverter power generator according to an embodiment of the present invention;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram illustrating an inverter of the inverter power generator of <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram illustrating a PWM signal generator and a current detector of the inverter of <figref idref="DRAWINGS">FIG. 2</figref>;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram illustrating a voltage command generator of the inverter of <figref idref="DRAWINGS">FIG. 2</figref>;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram illustrating a low-pass filter of the voltage command generator of <figref idref="DRAWINGS">FIG. 4</figref>;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram illustrating a frequency command generator of the inverter of <figref idref="DRAWINGS">FIG. 2</figref>;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 7</figref> is a view illustrating a correspondence table used by a power consumption calculator of the inverter of <figref idref="DRAWINGS">FIG. 2</figref>;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 8</figref> is a timing chart illustrating signals in the inverter of <figref idref="DRAWINGS">FIG. 2</figref>;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 9</figref> is a timing chart illustrating output currents from the inverter of <figref idref="DRAWINGS">FIG. 2</figref> with and without a voltage command value being changed;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 10</figref> is a timing chart illustrating output currents from the inverter of <figref idref="DRAWINGS">FIG. 2</figref> with different frequency multiplying factors; and</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 11</figref> is a circuit diagram illustrating a switching circuit arranged in the inverter of <figref idref="DRAWINGS">FIG. 2</figref>.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DESCRIPTION OF PREFERRED EMBODIMENTS</heading>
<p id="p-0022" num="0021">An inverter power generator according to an embodiment of the present invention will be explained with reference to the drawings. <figref idref="DRAWINGS">FIG. 1</figref> is a block diagram illustrating the inverter power generator <b>100</b> according to the embodiment. The inverter power generator <b>100</b> includes a prime mover, i.e., an engine <b>11</b> such as a diesel engine, a gasoline engine, or the like, a synchronous motor <b>13</b> that is driven by the engine <b>11</b> and generates three-phase (U, V, W) AC voltage, a coupling <b>12</b> that couples an output shaft of the engine <b>11</b> and a rotation shaft of the synchronous motor <b>13</b> with each other, a converter <b>14</b> that is connected to the synchronous motor <b>13</b> and converts the three-phase AC voltage into PN DC voltage, an inverter <b>15</b> that inverts the PN DC voltage into three-phase (R, S, T) AC voltage, a main-circuit capacitor <b>19</b> that is arranged in wiring between the converter <b>14</b> and the inverter <b>15</b>, and an LC filter <b>16</b> that is connected to the inverter <b>15</b> and reduces switching noise.</p>
<p id="p-0023" num="0022">The LC filter <b>16</b> is connected through a circuit breaker <b>17</b> to a load <b>18</b> such as an induction motor. Although <figref idref="DRAWINGS">FIG. 1</figref> illustrates one circuit breaker <b>17</b> and one load <b>18</b>, it is general to arrange a plurality of circuit breakers and loads after the LC filter <b>16</b>. If the load <b>18</b> is an induction motor, it is general to arrange a contactor <b>18</b><i>a </i>in a first stage of the load <b>1</b>, to start and stop the induction motor. The synchronous motor <b>13</b> may be an IPM motor that embeds permanent magnets in a rotor.</p>
<p id="p-0024" num="0023">The engine <b>11</b> is connected to an ECU (engine control unit) <b>20</b> that controls the rotation of the engine <b>11</b>.</p>
<p id="p-0025" num="0024">The converter <b>14</b> has semiconductor switching elements such as transistors, IGBTs, MOSFETs, or the like and diodes. With these switching elements, the converter <b>14</b> converts three-phase (U, V, W) AC voltage into PN DC voltage. According to power consumption of the load <b>18</b>, the converter <b>14</b> provides a proper current to the synchronous motor <b>13</b>, to generate required power without frequently changing the rotation speed of the engine <b>11</b>. Unlike a standard rectifier, the converter <b>14</b> converts the three-phase AC voltage generated by the synchronous motor <b>13</b> into PN DC voltage of a required magnitude, and at the same time, provides a current to the synchronous motor <b>13</b> according to output power to the load <b>18</b> so that the synchronous motor <b>13</b> may stably generate power in response to variations in the load <b>18</b>.</p>
<p id="p-0026" num="0025">The main-circuit capacitor <b>19</b> smoothes the PN DC voltage from the converter <b>14</b> and accumulates power so that the inverter <b>15</b> may output large power.</p>
<p id="p-0027" num="0026">Similar to the converter <b>14</b>, the inverter <b>15</b> has semiconductor switching elements such as transistors, IGBTs, MOSFETs, or the like and diodes. With these switching elements, the inverter <b>15</b> inverts the smoothed PN DC voltage into three-phase (R, S, T) AC voltage. By changing switching patterns of the switching elements from one to another, the inverter <b>15</b> is able to output an optional voltage value and an optional frequency value.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram illustrating the details of the inverter <b>15</b>. The inverter <b>15</b> includes a switching circuit (switching unit) <b>150</b> that employs semiconductor switching elements to invert PN DC voltage into three-phase AC voltage, a PN voltage detector <b>151</b> that detects a voltage of the main-circuit capacitor <b>19</b>, a frequency command generator <b>153</b> that outputs a frequency command value for the three-phase AC voltage to be generated by the switching circuit <b>150</b>, and a voltage command generator <b>154</b> that outputs a voltage command value for the three-phase AC voltage to be generated by the switching circuit <b>150</b>.</p>
<p id="p-0029" num="0028">The inverter <b>15</b> also includes a PWM signal generator <b>152</b> that generates a PWM signal according to the frequency command value from the frequency command generator <b>153</b>, the voltage command value from the voltage command generator <b>154</b>, and the detected PN voltage value from the PN voltage detector <b>151</b> and outputs the PWM signal to the switching circuit <b>150</b>.</p>
<p id="p-0030" num="0029">The inverter <b>15</b> also includes an ammeter (current detector) <b>157</b> that detects R-, S-, and T-phase line currents IR, IS, and IT outputted from the switching circuit <b>150</b>, a current detector <b>156</b> that provides two-phase axial (d-axis, q-axis) current signals according to the line currents IR, IS, and IT from the ammeter <b>157</b> and the PWM signal from the PWM signal generator <b>152</b>, and a power consumption calculator <b>155</b> that calculates power consumption of the load <b>18</b> (<figref idref="DRAWINGS">FIG. 1</figref>) according to the two-phase axial current signals from the current detector <b>156</b>.</p>
<p id="p-0031" num="0030">The switching circuit <b>150</b> includes, as illustrated in <figref idref="DRAWINGS">FIG. 11</figref>, six transistors Tr<b>1</b> to Tr<b>6</b> and diodes D<b>1</b> to D<b>6</b> connected in parallel with the transistors Tr<b>1</b> to Tr<b>6</b>, respectively. The transistors Tr<b>1</b> and Tr<b>2</b> are connected in series. A collector of the transistor Tr<b>1</b> is connected to a positive (P) electrode. An emitter of the transistor Tr<b>2</b> is connected to a negative (N) electrode. A connection point between the transistors Tr<b>1</b> and Tr<b>2</b> is an output point for providing an R-phase voltage Vr. Similarly, the transistors Tr<b>3</b> and Tr<b>4</b> are connected in series and a connection point between them is an output point for providing an S-phase voltage Vs. The transistors Tr<b>5</b> and Tr<b>6</b> are connected in series and a connection point between them is an output point for providing a T-phase voltage Vt.</p>
<p id="p-0032" num="0031">The switching circuit <b>150</b> also includes six AND gates AND<b>1</b> to AND<b>6</b>. A first input terminal of each of the AND gates AND<b>1</b> to AND<b>6</b> receives a gate signal to control power supply. Second terminals of the AND gates AND<b>1</b> to AND<b>6</b> receive PWM signals SigTu, SigSu, SigRu, SigRd, SigSd, and SigTd, respectively, from the PWM signal generator <b>152</b>. When the gate signal is ON (high level), the respective PWM signals drive the transistors Tr<b>1</b> to Tr<b>6</b>, to provide the three-phase AC voltages Vr, Vs, and Vt. When the gate signal is OFF (low level), the transistors Tr<b>1</b> to Tr<b>6</b> are inactive without regard to the PWM signals. The transistors Tr<b>1</b>, Tr<b>3</b>, and Tr<b>5</b> and diodes D<b>1</b>, D<b>3</b>, and D<b>5</b> on an upper side of the switching circuit <b>150</b> form an upper arm and the transistors Tr<b>2</b>, Tr<b>4</b>, and Tr<b>6</b> and diodes D<b>2</b>, D<b>4</b>, and D<b>6</b> on a lower side of the switching circuit <b>150</b> form a lower arm.</p>
<p id="p-0033" num="0032">The power consumption calculator <b>155</b> (<figref idref="DRAWINGS">FIG. 2</figref>) is provided with a correspondence table <b>155</b><i>a </i>that indicates a relationship between power consumption and rotational speed of engine. The power consumption calculator <b>155</b> calculates power consumption of the load <b>18</b>, and according to the calculated power consumption and the correspondence table <b>155</b><i>a</i>, finds rotational speed data for the engine <b>11</b>. The rotational speed data is transmitted to the ECU <b>20</b> of the engine <b>11</b>. According to the transmitted rotational speed data, the ECU <b>20</b> controls the engine <b>11</b> to a required engine speed.</p>
<p id="p-0034" num="0033">The correspondence table <b>155</b><i>a </i>indicates, as illustrated in <figref idref="DRAWINGS">FIG. 7</figref>, a relationship between power consumption of the load <b>18</b> and rotation speed of the engine <b>11</b>. The correspondence table <b>155</b><i>a </i>is prepared according to a fuel consumption curve of the engine <b>11</b> and is used to find a proper rotation speed of the engine <b>11</b> to generate power that meets the power consumption of the load <b>18</b> plus a predetermined margin. According to the embodiment, the engine <b>11</b> is set to an idle rotation speed if the power consumption of the load <b>18</b> is low or zero, and as the power consumption increases, is linearly increased and clamped at a maximum rotation speed.</p>
<p id="p-0035" num="0034">The details of the PWM signal generator <b>152</b> and current detector <b>156</b> will be explained with reference to <figref idref="DRAWINGS">FIG. 3</figref>. The PWM signal generator <b>152</b> includes a voltage corrector <b>31</b> that corrects a q-axis voltage contained in a two-phase (d-axis, q-axis) voltage command value, a 2-to-3 phase converter <b>32</b>, a PWM waveform converter <b>33</b> that generates a three-phase PWM signal according to a three-phase (R, S, T) voltage signal, and an electric angle generator <b>34</b>.</p>
<p id="p-0036" num="0035">The voltage corrector <b>31</b> multiplies the voltage command value by a ratio of (Set PN voltage value)/(Detected PN voltage value), i.e., a ratio of (Set PN voltage value)/(Feedback PN voltage value), thereby correcting the q-axis voltage contained in the voltage command value. The corrected q-axis voltage is supplied to the 2-to-3 phase converter <b>32</b>.</p>
<p id="p-0037" num="0036">The 2-to-3 phase converter <b>32</b> carries out 2-to-3 phase conversion according to the corrected q-axis voltage and a d-axis voltage contained in the voltage command value, so that the PWM signal generator <b>152</b> may generate three-phase (R, S, T), six-arm PWM signals. The generated PWM signals (SigTu, SigSu, SigRu, SigRd, SigSd, SigTd) are supplied to the switching circuit <b>150</b> (<figref idref="DRAWINGS">FIG. 2</figref>), to drive the transistors Tr<b>1</b> to Tr<b>6</b> (<figref idref="DRAWINGS">FIG. 11</figref>).</p>
<p id="p-0038" num="0037">The electric angle generator <b>34</b> finds an electric angle for the three-phase (R, S, T) voltage according to a frequency command value from the frequency command generator <b>153</b> (<figref idref="DRAWINGS">FIG. 2</figref>). The found electric angle is supplied to the 2-to-3 phase converter <b>32</b> and current detector <b>156</b>. The electric angle is determined so that an electric period agrees with an electric angle range of 0 to 360 degrees. If the frequency command value is 50 Hz, an electric period is 20 msec, and therefore, an electric angle is generated so that a period of 20 ms agrees with 0 to 360 degrees.</p>
<p id="p-0039" num="0038">The current detector <b>156</b> illustrated in <figref idref="DRAWINGS">FIG. 3</figref> includes a 3-to-2 phase converter <b>35</b> that uses the R-, S-, and T-phase currents IR, IS, and IT detected by the current meter <b>157</b> (<figref idref="DRAWINGS">FIG. 2</figref>) and the electric angle from the electric angle generator <b>34</b>, to provide two-phase current, i.e., d- and q-axis currents to the power consumption calculator <b>155</b> (<figref idref="DRAWINGS">FIG. 2</figref>).</p>
<p id="p-0040" num="0039">A power consumption calculating procedure carried out by the power consumption calculator <b>155</b> will be explained. With an externally specified voltage value Va (specified from outside the inverter <b>15</b>), the voltage command value Vb from the voltage command generator <b>154</b> (an output voltage of the inverter <b>15</b>), a three-phase line current I<b>1</b>, the q-axis current Iq, and the d-axis current Id, the power consumption calculator <b>155</b> calculates instantaneous power consumption P<b>1</b> of the load <b>18</b> as follows:</p>
<p id="p-0041" num="0040">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>P</mi>
          <mn>1</mn>
        </msub>
        <mo>=</mo>
        <mrow>
          <msqrt>
            <mn>3</mn>
          </msqrt>
          <mo>&#xd7;</mo>
          <mrow>
            <mfrac>
              <msup>
                <mi>Va</mi>
                <mn>2</mn>
              </msup>
              <mrow>
                <mi>Vb</mi>
                <mo>/</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <msub>
                      <mi>I</mi>
                      <mn>1</mn>
                    </msub>
                    <mo>&#xd7;</mo>
                    <mrow>
                      <msub>
                        <mi>I</mi>
                        <mi>q</mi>
                      </msub>
                      <mo>/</mo>
                      <msqrt>
                        <mrow>
                          <msubsup>
                            <mi>I</mi>
                            <mi>q</mi>
                            <mn>2</mn>
                          </msubsup>
                          <mo>+</mo>
                          <msubsup>
                            <mi>I</mi>
                            <mi>d</mi>
                            <mn>2</mn>
                          </msubsup>
                        </mrow>
                      </msqrt>
                    </mrow>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mfrac>
            <mo>.</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0042" num="0041">The denominator of the right side of the expression (1) indicates an impedance of effective power. Representing this impedance with Z, the expression (1) becomes as,</p>
<p id="p-0043" num="0042">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>P</mi>
          <mn>1</mn>
        </msub>
        <mo>=</mo>
        <mrow>
          <msqrt>
            <mn>3</mn>
          </msqrt>
          <mo>&#xd7;</mo>
          <mrow>
            <mfrac>
              <msup>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>Externally</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>specified</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>voltage</mi>
                  </mrow>
                  <mo>)</mo>
                </mrow>
                <mn>2</mn>
              </msup>
              <mi>Z</mi>
            </mfrac>
            <mo>.</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0044" num="0043">The expression (2) expresses the instantaneous power consumption P<b>1</b> of the load <b>18</b> with the externally specified voltage value Va and the impedance Z of effective power. Accordingly, even if a rush current occurs at startup of the load <b>18</b> to suddenly decrease the output voltage of the inverter <b>15</b>, the power consumption calculated by the power consumption calculator <b>155</b> will never suddenly drops. Namely, even if the output voltage of the inverter <b>15</b> suddenly changes, the rotation speed of the engine <b>11</b> is prevented from suddenly varying, and therefore, the engine <b>11</b> is stable. When calculating the power consumption P<b>1</b>, the power consumption calculator <b>155</b> does not use a voltage output value of the switching circuit <b>150</b>, and therefore, is not affected by ripples.</p>
<p id="p-0045" num="0044">The details of the voltage command generator <b>154</b> illustrated in <figref idref="DRAWINGS">FIG. 2</figref> will be explained with reference to <figref idref="DRAWINGS">FIG. 4</figref>. The voltage command generator <b>154</b> receives an externally specified voltage value and a minimum output voltage from the outside of the inverter <b>15</b> a line current obtained by (Iq<sup>2</sup>+Id<sup>2</sup>)<sup>1/2</sup>, and an upper current threshold. The voltage command generator <b>154</b> includes a multiplier <b>41</b> that multiplies the externally specified voltage value by a coefficient G<b>1</b>, a multiplier (corrector) <b>42</b> that multiplies an output signal from the multiplier <b>41</b> by a coefficient G<b>2</b>, an operation unit (voltage command changer) <b>43</b>, and a low-pass filter <b>44</b>.</p>
<p id="p-0046" num="0045">The minimum output voltage is set to be lower than the externally specified voltage value and to be insufficient to break the contactor <b>18</b><i>a </i>that controls the start and stop of the load <b>18</b>.</p>
<p id="p-0047" num="0046">The multiplier <b>41</b> multiplies the externally specified voltage value that is provided from the outside of the inverter <b>15</b> by the coefficient G<b>1</b> that is expressed by,
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>G</i><sub>1</sub>=1/{1&#x2212;(PWM frequency)&#xd7;(Dead time)&#xd7;2}&#x2003;&#x2003;(3).<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0048" num="0047">The coefficient G<b>1</b> expressed with the expression (3) is a coefficient that corrects dead time used when driving the transistors Tr<b>1</b>, Tr<b>3</b>, and Tr<b>5</b> of the upper aim and the transistors Tr<b>2</b>, Tr<b>4</b>, and Tr<b>6</b> of the lower aim in the switching circuit <b>150</b> of <figref idref="DRAWINGS">FIG. 11</figref>. The dead time is a period during which the upper and lower arms are both OFF and is used to avoid the upper and lower arms from being simultaneously ON. To correct the externally specified voltage value, the coefficient G<b>1</b> is applied thereto. The dead time may contain an ON/OFF time difference of the transistors of the upper and lower arms.</p>
<p id="p-0049" num="0048">The multiplier <b>42</b> multiplies an output signal from the multiplier <b>41</b> by the coefficient G<b>2</b> that is expressed by
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>G</i><sub>2</sub>=(Detected PN voltage value)/(Set PN voltage value)&#x2003;&#x2003;(4),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where the coefficient G<b>2</b> is set to satisfy a condition of 0&#x2266;G<b>2</b>&#x2266;1.
</p>
<p id="p-0050" num="0049">The detected PN voltage value in the expression (4) is a voltage value (detected voltage value) of the main-circuit capacitor <b>19</b>. The set PN voltage value in the expression (4) is a voltage value set to charge the main-circuit capacitor <b>19</b>. The coefficient G<b>2</b> of the expression (4) becomes smaller when the detected PN voltage value of the main-circuit capacitor <b>19</b> decreases relative to the set PN voltage value. Even if the power consumption of the load <b>18</b> increases when the detected PN voltage value decreases, the multiplication of the coefficient G<b>2</b> prevents the externally specified voltage value from suddenly increasing.</p>
<p id="p-0051" num="0050">This is to prevent a stall of the engine <b>11</b> that may occur if the inverter <b>15</b> increases, when the PN voltage of the main-circuit capacitor <b>19</b> is decreasing, output power to the load <b>18</b> in response to an increase in the power consumption of the load <b>18</b>. To prevent this, the embodiment multiplies the externally specified voltage value by the coefficient G<b>2</b> to decrease an output signal from the multiplier <b>42</b> when the detected PN voltage value is lower than the set PN voltage value. This results in decreasing an output voltage from the inverter <b>15</b> and preventing the engine <b>11</b> from stalling.</p>
<p id="p-0052" num="0051">The operation unit <b>43</b> of the voltage command generator <b>154</b> illustrated in <figref idref="DRAWINGS">FIG. 4</figref> includes input terminals IN<b>1</b> to IN<b>4</b> and an output terminal OUT<b>1</b>. The input terminal I<b>1</b> receives the output signal d<b>1</b> from the multiplier <b>42</b>, the input terminal IN<b>2</b> receives the minimum output voltage d<b>2</b> the inverter <b>15</b> can output, the input terminal IN<b>3</b> receives the line current d<b>3</b> passed to the load <b>18</b>, and the input terminal IN<b>4</b> receives the upper current threshold d<b>4</b> that defines an overcurrent. Based on these pieces of data, the operation unit <b>43</b> outputs the minimum output voltage d<b>2</b> from the output terminal OUT<b>1</b> in a case of &#x201c;d<b>3</b>&#x3e;d<b>4</b>&#x201d; and the signal d<b>1</b> in the other cases.</p>
<p id="p-0053" num="0052">If the line current d<b>3</b> exceeds the upper current threshold d<b>4</b>, i.e., if the current passing through the load <b>18</b> is an overcurrent, the minimum output voltage d<b>2</b> is outputted as a voltage command value to decrease a voltage supplied to the load <b>18</b> and prevent the overcurrent from passing to the load <b>18</b>.</p>
<p id="p-0054" num="0053">The output signal (d<b>1</b> or d<b>2</b>) from the operation unit <b>43</b> is supplied to the low-pass filter <b>44</b> that is capable of changing gain (G<b>3</b> and G<b>4</b> to be explained later).</p>
<p id="p-0055" num="0054">The low-pass filter <b>44</b> is arranged to suppress a rush current to the load <b>18</b> at the time of, for example, startup of the load <b>18</b>. If a rush current occurs, the low-pass filter <b>44</b> outputs a voltage command value to immediately decrease the output voltage of the inverter <b>15</b>, and thereafter, outputs voltage command values to gradually increase the decreased output voltage to the externally specified voltage value. The voltage command value from the low-pass filter <b>44</b> is supplied to the PWM signal generator <b>152</b> and power consumption calculator <b>155</b> illustrated in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0056" num="0055">The details of the low-pass filter <b>44</b> will be explained with reference to <figref idref="DRAWINGS">FIG. 5</figref>. The low-pass filter <b>44</b> carries out a filtering process according to the output signal (d<b>1</b> or d<b>2</b>) from the operation unit <b>43</b> and the minimum output voltage d<b>2</b> and outputs a voltage command value.</p>
<p id="p-0057" num="0056">As illustrated in <figref idref="DRAWINGS">FIG. 5</figref>, the low-pass filter <b>44</b> includes a multiplier <b>51</b> employing a coefficient G<b>3</b> (first coefficient), a multiplier <b>52</b> employing a coefficient G<b>4</b> (second coefficient), an operation unit <b>53</b>, a delay unit <b>54</b>, a subtracter <b>55</b>, an adder <b>56</b>, and a switch SW<b>1</b>. The coefficients G<b>3</b> and G<b>4</b> are set to satisfy a condition of &#x201c;G<b>4</b>&#x3e;G<b>3</b>&#x201d;, e.g. G<b>4</b> being about 10 to 30 times larger than G<b>3</b>.</p>
<p id="p-0058" num="0057">The subtracter <b>55</b> calculates a difference between an input signal (the output signal from the output terminal QUT<b>1</b> of the operation unit <b>43</b> illustrated in <figref idref="DRAWINGS">FIG. 4</figref>) and a feedback signal (a preceding output from the operation unit <b>53</b>) and outputs the difference as a deviation (error) Err.</p>
<p id="p-0059" num="0058">The multiplier <b>51</b> multiplies the deviation Err by the coefficient G<b>3</b> and outputs the product to a terminal T<b>1</b> of the switch SW<b>1</b>. The multiplier <b>52</b> multiplies the deviation Err by the coefficient G<b>4</b> and outputs the product to a terminal T<b>2</b> of the switch SW<b>1</b>.</p>
<p id="p-0060" num="0059">If the deviation Err is positive (Err&#x3e;0), the switch SW<b>1</b> connects the terminal T<b>1</b> to an output terminal OUT<b>2</b>, to output the output signal of the multiplier <b>51</b>. If the deviation Err is zero or negative (Err&#x2266;0), the switch SW<b>1</b> connects the terminal T<b>2</b> to the output terminal OUT<b>2</b>, to output the output signal of the multiplier <b>52</b>. The output terminal OUT<b>2</b> is connected to the adder <b>56</b>, which is connected to an input terminal IN<b>5</b> of the operation unit <b>53</b>. An input terminal IN<b>6</b> of the operation unit <b>53</b> receives the minimum output voltage d<b>2</b> illustrated in <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0061" num="0060">The adder <b>56</b> adds the signal from the output terminal OUT<b>2</b> of the switch SW<b>1</b> and the preceding output value from the delay unit <b>54</b> to each other and outputs a sum signal d<b>5</b> to the input terminal IN<b>5</b> of the operation unit <b>53</b>.</p>
<p id="p-0062" num="0061">In a case of d<b>5</b>&#x3c;d<b>2</b>, the operation unit <b>53</b> outputs d<b>2</b> from an output terminal OUT<b>3</b>, to clamp the output signal of the output terminal OUT<b>3</b> to the minimum output voltage d<b>2</b>. In a case of d<b>5</b>&#x2267;d<b>2</b>, the operation unit <b>53</b> outputs d<b>5</b> from the output terminal OUT<b>3</b>. The output signal from the output terminal OUT<b>3</b> is supplied as a voltage command value to the PWM signal generator <b>152</b> and power consumption calculator <b>155</b> illustrated in <figref idref="DRAWINGS">FIG. 2</figref>. The output signal is also supplied as a feedback signal to the delay unit <b>54</b> illustrated in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0063" num="0062">The output signal delayed by one sampling period in the delay unit <b>54</b> is supplied to the subtracter <b>55</b> and adder <b>56</b>. As mentioned above, the switch SW<b>1</b> multiplies the deviation Err by the coefficient G<b>3</b> if the deviation Err is positive (Err&#x3e;0) and by the coefficient G<b>4</b> (G<b>4</b>&#x3e;G<b>3</b>) if the deviation Err is zero or negative (Err&#x2266;0). Namely, if the externally specified voltage value tends to increase, the switch SW<b>1</b> uses the smaller coefficient (G<b>3</b>) than if the same tends to decrease. Accordingly, if the voltage command value (OUT<b>1</b> of <figref idref="DRAWINGS">FIG. 4</figref>) increases after, for example, the occurrence of a rush current, the low-pass filter <b>44</b> slows an increasing speed of the voltage command value.</p>
<p id="p-0064" num="0063">Namely, when the voltage command value (OUT<b>1</b>) tends to decrease, the low-pass filter <b>44</b> uses the larger coefficient G<b>4</b> to change the voltage command value at a first tracking speed. When the voltage command value (OUT<b>1</b>) tends to increase, the low-pass filter <b>44</b> used the smaller coefficient G<b>3</b> to change the voltage command value at a second tracking speed that is slower than the first tracking speed.</p>
<p id="p-0065" num="0064">The operation unit <b>53</b> of the low-pass filter <b>44</b> compares the output signal d<b>5</b> from the adder <b>56</b> with the minimum output voltage d<b>2</b>, and if d<b>5</b> is lower than d<b>2</b>, i.e., if the sum from the adder <b>56</b> is lower than the minimum output voltage d<b>2</b>, outputs the minimum output voltage d<b>2</b> as a voltage command value to be outputted from the output terminal OUT<b>3</b>. This clamps the externally specified voltage value to the minimum output voltage d<b>2</b>, to prevent, for example, the contactor <b>18</b><i>a</i>, which is attached to the load <b>18</b> and controls the ON/OFF of the load <b>18</b>, from being cut off.</p>
<p id="p-0066" num="0065">The details of the frequency command generator <b>153</b> illustrated in <figref idref="DRAWINGS">FIG. 2</figref> will be explained with reference to <figref idref="DRAWINGS">FIG. 6</figref>. The frequency command generator <b>153</b> includes a sweep unit (multiplying factor calculator) <b>61</b> that continuously changes, or sweeps, the externally specified frequency value within a predetermined range, a multiplier <b>62</b> that multiplies an output from the sweep unit <b>61</b> by a coefficient K (0&#x3c;K&#x2266;1), and a subtracter <b>63</b>.</p>
<p id="p-0067" num="0066">The sweep unit <b>61</b> calculates a multiplying factor B according to the externally specified frequency value specified from the outside of the inverter <b>15</b> and outputs the calculated multiplying factor B to the multiplier <b>62</b>. The multiplying factor B is calculated by
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>B=</i>1&#x2212;{(Voltage command value <i>V</i><sub>2</sub>)/(Specified voltage value <i>V</i><sub>1</sub>)}&#x2003;&#x2003;(5).<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0068" num="0067">A frequency command value f<sub>c </sub>to be outputted from the subtracter <b>63</b> is obtained by
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>(Frequency command value)=<i>f</i><sub>1</sub>&#xd7;(1&#x2212;<i>K&#xd7;B</i>)&#x2003;&#x2003;(6).<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0069" num="0068">In the expression (6), f<sub>1 </sub>is the externally specified frequency value and K is the coefficient set in the multiplier <b>62</b> and satisfies a relationship of 0&#x3c;K&#x2266;1.</p>
<p id="p-0070" num="0069">If the externally specified voltage value V<b>1</b> is 200 volts, the voltage command value V<b>2</b> is 140 volts, and the externally specified frequency value is f<sub>1</sub>, B will be 0.3 according to the expression (5). Accordingly, the sweep unit <b>61</b> outputs a signal of &#x201c;0.3&#xd7;f<sub>1</sub>&#x201d;. If the coefficient K set in the multiplier <b>62</b> is 0.5, the multiplier <b>62</b> provides an output signal of &#x201c;0.15&#xd7;f<sub>1</sub>&#x201d;, which is supplied to the subtracter <b>63</b>. The subtracter <b>63</b> provides an output signal of &#x201c;0.85&#xd7;f<sub>1</sub>&#x201d; that is 15% lower than the externally specified frequency value f<b>1</b> and is outputted as a frequency command value.</p>
<p id="p-0071" num="0070">Thereafter, the voltage command value V<b>2</b> increases to agree with the externally specified voltage value V<b>1</b>. Then, the multiplying factor B according to the expression (5) becomes zero, and therefore, the externally specified frequency value f<sub>1 </sub>is not subtracted by the subtracter <b>63</b> and is outputted as it is as a frequency command value. In this way, the externally specified frequency value is continuously changed or swept within the range of &#x201c;0.85&#xd7;f<sub>1</sub>&#x201d; to f<sub>1</sub>. Gradually increasing the frequency command value up to the externally specified frequency value f<sub>1 </sub>results in efficiently supplying energy to the load <b>18</b> when the load <b>18</b> is an induction load such as an induction motor. This results in shortening a startup time of the load <b>18</b> and reducing load on the engine <b>11</b> and converter <b>14</b>.</p>
<p id="p-0072" num="0071">Operation of the inverter power generator <b>100</b> having the above-mentioned configuration will be explained.</p>
<p id="p-0073" num="0072"><figref idref="DRAWINGS">FIG. 8</figref> is a timing chart illustrating waveforms in the inverter <b>15</b> of the inverter power generator <b>100</b>. In <figref idref="DRAWINGS">FIG. 8</figref>, (a) illustrates line current passing through wiring connected to the load <b>18</b>, (b) illustrates PN voltage across the main-circuit capacitor <b>19</b>, (c) illustrates output voltage from the inverter <b>15</b>, (d) illustrates frequency of the output voltage from the inverter <b>15</b>, and (e) illustrates estimated power consumption. In the following explanation, the load <b>18</b> is assumed to be an induction motor.</p>
<p id="p-0074" num="0073">In <figref idref="DRAWINGS">FIG. 8</figref>, a start switch (not illustrated) of the induction motor <b>18</b> is turned on at time t<b>1</b>. As illustrated in (a) of <figref idref="DRAWINGS">FIG. 8</figref>, q- and d-axis currents Iq and Id arise. The line current is the vector sum of the q- and d-axis currents Iq and Id and exceeds an upper current threshold just after the start switch is turned on, thereby satisfying the condition of &#x201c;d<b>3</b>&#x3e;d<b>4</b>&#x201d; illustrated in <figref idref="DRAWINGS">FIG. 4</figref>. As a result, the operation unit <b>43</b> provides the minimum output voltage (d<b>2</b>) as an output voltage from the output terminal OUT<b>1</b>. Due to this, the PN voltage becomes slightly lower than the set PN voltage as illustrated in (b) of <figref idref="DRAWINGS">FIG. 8</figref> and the output voltage from the inverter <b>15</b> decreases to the minimum output voltage as illustrated in (c) of <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0075" num="0074">The output voltage value becomes smaller than the externally specified voltage value, and therefore, the sweep unit <b>61</b> illustrated in <figref idref="DRAWINGS">FIG. 6</figref> provides an output signal of, for example, &#x201c;0.3&#xd7;f<sub>1</sub>&#x201d; and the subtracter <b>63</b> provides an output signal of &#x201c;0.85&#xd7;f<sub>1</sub>&#x201d;. As a result, the inverter <b>15</b> provides an output frequency that is slightly (for example, 15%) lower than the externally specified frequency value f<b>1</b>, as illustrated in (d) of <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0076" num="0075">Due to this, power consumption (estimated power consumption value) calculated by the power consumption calculator <b>155</b> becomes larger than a measured power consumption value, as illustrated in (e) of <figref idref="DRAWINGS">FIG. 8</figref>. According to this estimated power consumption value and the correspondence table <b>155</b><i>a </i>(<figref idref="DRAWINGS">FIG. 7</figref>), a rotation speed of the engine <b>11</b> is determined. Namely, the estimated power consumption value that is larger than the actual power consumption value of the load <b>18</b> is used to control the rotation speed of the engine <b>11</b>. This means that, just after the start of the load <b>18</b>, the engine <b>11</b> is driven at a rotation speed that is higher than a rotation speed corresponding to the actual power consumption value. This prevents the engine <b>11</b> from stalling.</p>
<p id="p-0077" num="0076">Thereafter, the current (line current) passing through the load (induction motor) <b>18</b> decreases, and at time t<b>2</b>, becomes lower than the upper current threshold. Then, the output voltage of the inverter <b>15</b> changes toward the externally specified voltage value.</p>
<p id="p-0078" num="0077">At this time, if the output voltage of the inverter <b>15</b> is suddenly changed to the externally specified voltage value, the line current will again exceed the upper current threshold. In addition, in an end period of the startup stage of the load <b>18</b>, the PN voltage is lower than the set PN voltage value as illustrated in (b) of <figref idref="DRAWINGS">FIG. 8</figref>. Accordingly, the embodiment gradually increases the output voltage of the inverter <b>15</b>. For this, the multiplier <b>42</b> illustrated in <figref idref="DRAWINGS">FIG. 4</figref> is used to multiply an output signal from the multiplier <b>41</b> by the coefficient G<b>2</b> of the expression (4), to gradually increase the output voltage of the inverter <b>15</b> to the externally specified voltage value in proportion to an increase in the PN voltage. This prevents the line current from suddenly increasing and the contactor <b>18</b><i>a </i>connected to the load (induction motor) <b>18</b> from being disconnected.</p>
<p id="p-0079" num="0078"><figref idref="DRAWINGS">FIG. 9</figref> is a timing chart illustrating the line current that changes as time passes and corresponds to (a) of <figref idref="DRAWINGS">FIG. 8</figref>. In <figref idref="DRAWINGS">FIG. 9</figref>, a curve S<b>1</b> is of the case that lowers the output voltage of the inverter <b>15</b> at startup of the load (induction motor) <b>18</b> and a curve S<b>2</b> is of the case that does not lower the output voltage of the inverter <b>15</b> at startup. Comparing the curves S<b>1</b> and S<b>2</b> with each other, it is understood that the curve S<b>1</b> suppresses a maximum value thereof lower than that of the curve S<b>2</b>. Namely, lowering the output voltage of the inverter <b>15</b> at startup of the load <b>18</b> results in suppressing an increase in the line current passed to the load <b>18</b>. This helps reduce the size of semiconductor elements used to control the inverter <b>15</b>.</p>
<p id="p-0080" num="0079"><figref idref="DRAWINGS">FIG. 10</figref> is a timing chart illustrating a rush current that changes depending on whether or not the output frequency of the inverter <b>15</b> is changed. In <figref idref="DRAWINGS">FIG. 10</figref>, a curve S<b>11</b> represents the case of K=1.0 with reference to <figref idref="DRAWINGS">FIG. 6</figref>, a curve S<b>12</b> of K=0.5, and a curve S<b>13</b> of K=0.3 in the same manner.</p>
<p id="p-0081" num="0080">As is understood from the curves S<b>11</b> to S<b>13</b>, the larger K shortens the startup time of the load <b>18</b> and increases the rush current. On the other hand, the smaller K reduces the rush current and extends the startup time. The embodiment properly sets the coefficient K to suppress the rush current at startup of the load <b>18</b>.</p>
<p id="p-0082" num="0081">In this way, the inverter power generator <b>100</b> according to the embodiment starts up the load motor <b>18</b> by setting a voltage command value to be outputted to the PWM signal generator <b>152</b> to a smaller value, thereby decreasing an AC voltage to be outputted from the inverter <b>15</b>. At this time, the embodiment maintains the minimum output voltage (<figref idref="DRAWINGS">FIG. 4</figref>) that is set not to cut off the contactor <b>18</b><i>a </i>attached to the load <b>18</b>.</p>
<p id="p-0083" num="0082">The embodiment is capable of preventing a sudden increase in a current passed to the load <b>18</b>, as well as an overcurrent. The embodiment, therefore, allows parts such as semiconductor elements of the inverter power generator <b>100</b> to have a lower withstand current. This results in reducing the size of semiconductor elements such as transistors used for the switching circuit <b>150</b>.</p>
<p id="p-0084" num="0083">At startup of the load <b>18</b>, the embodiment continuously changes or sweeps a frequency command value, to shorten a startup time of the load <b>18</b> when the load <b>18</b> is an induction motor. Shortening the startup time is equal to efficiently transferring energy to the load <b>18</b> and reducing load on the converter <b>14</b> and engine <b>11</b> that supply the energy.</p>
<p id="p-0085" num="0084">Although the present invention has been explained with reference to the embodiment, the present invention is not limited to the embodiment. The configuration of any part of the embodiment is replaceable with any other configuration that may provide like functions.</p>
<p id="p-0086" num="0085">For example, although the embodiment arranges the ammeter <b>157</b> for each phase as illustrated in <figref idref="DRAWINGS">FIG. 2</figref>, the ammeter may be arranged for only two phases.</p>
<p id="p-0087" num="0086">As mentioned above, the inverter power generator <b>100</b> according to the embodiment of the present invention chooses a predetermined minimum output voltage if an output current from the switching unit <b>150</b> exceeds an upper current threshold, generates a voltage command value and PWM signal based on the minimum output voltage, and drives the inverter <b>15</b> with the PWM signal. Accordingly, the present invention is capable of suppressing a current increase at startup of the load <b>18</b> and preventing the prime mover (engine) <b>11</b> from stalling.</p>
<p id="p-0088" num="0087">The prevent invention is applicable to improve the efficiency of any inverter power generator.</p>
<p id="p-0089" num="0088">This application claims benefit of priority under 35 USC &#xa7;119 to Japanese Patent Application No. 2011-054533, filed on Mar. 11, 2011, the entire contents of which are incorporated by reference herein. Although the invention has been described above by reference to certain embodiments of the invention, the invention is not limited to the embodiments described above. Modifications and variations of the embodiments described above will occur to those skilled in the art, in light of the teachings. The scope of the invention is defined with reference to the following claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08624533-20140107-M00001.NB">
<img id="EMI-M00001" he="9.14mm" wi="76.20mm" file="US08624533-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08624533-20140107-M00002.NB">
<img id="EMI-M00002" he="6.69mm" wi="76.20mm" file="US08624533-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08624533-20140107-M00003.NB">
<img id="EMI-M00003" he="6.69mm" wi="76.20mm" file="US08624533-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An inverter power generator having a prime mover, a synchronous motor coupled with the prime mover, a converter connected to the synchronous motor, an inverter connected to the converter, and a capacitor arranged between the converter and the inverter, the prime mover rotating the synchronous motor to generate AC power, the converter converting the AC power into DC power, and the inverter inverting the DC power into AC power of a required frequency, the inverter comprising:
<claim-text>a voltage command generator generating a voltage command value according to an externally specified voltage value and outputting the voltage command value;</claim-text>
<claim-text>a frequency command generator generating a frequency command value according to an externally specified frequency value and outputting the frequency command value;</claim-text>
<claim-text>a PWM signal generator generating a PWM signal according to the voltage command value and frequency command value;</claim-text>
<claim-text>a switching unit configured to turn on/off a plurality of semiconductor elements according to the PWM signal and generate the AC power of the required frequency; and</claim-text>
<claim-text>a current detector detecting an output current of the switching unit, wherein</claim-text>
<claim-text>the voltage command generator includes a voltage command changer configured to:</claim-text>
</claim-text>
<claim-text>(i) generate and output a voltage value corresponding to the externally specified voltage value in a normal state where the output current detected by the current detector is equal to or lower than a preset upper current threshold, and</claim-text>
<claim-text>(ii) output a voltage value corresponding to a minimum output voltage that is preset to be lower than the externally specified voltage value in a case where the output current is higher than the upper current threshold.</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The inverter power generator of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the minimum output voltage is preset to a voltage value that is lower than the externally specified voltage value and is suppressed in order not to cut off a contactor that controls the start and stop of a load driven with the AC power from the inverter.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The inverter power generator of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the voltage command generator further includes a corrector that calculates a ratio of a PN voltage value of the capacitor to a PN voltage value to charge the capacitor and multiplies the externally specified voltage value by the calculated ratio to calculate the voltage command value in the normal state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The inverter power generator of <claim-ref idref="CLM-00001">claims 1</claim-ref>, wherein
<claim-text>the voltage command generator further includes a filter after the voltage command changer,</claim-text>
<claim-text>the filter changes and outputs the voltage command value at a first tracking speed as the voltage command value from the voltage command changer tends to decrease,</claim-text>
<claim-text>changes and outputs the voltage command value at a second tracking speed that is slower than the first tracking speed as the voltage command value from the voltage command changer tends to increase.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The inverter power generator of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the filter comprises:
<claim-text>a multiplier configured to evaluate a deviation of the voltage command value of the voltage command changer from a preceding voltage command value of the voltage command generator, multiply the deviation by a first coefficient as the deviation is positive and multiply the same by a second coefficient that is greater than the first coefficient as the deviation is negative;</claim-text>
<claim-text>an adder configured to add a result of the multiplication of the multiplier to the preceding voltage command value and provide a result of the addition as a new voltage command value; and</claim-text>
<claim-text>an operation unit configured to compare the new voltage command value with a minimum voltage command value corresponding to the minimum output voltage, output the new voltage command value as the voltage command value from the voltage command generator if the new voltage command value is greater than the minimum voltage command value, and if the new voltage command value is equal to or lower than the minimum voltage command value, clamps the voltage command value to the minimum voltage command value so that the minimum voltage command value is outputted as the voltage command value from the voltage command generator.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The inverter power generator of <claim-ref idref="CLM-00001">claims 1</claim-ref>, wherein
<claim-text>the frequency command generator calculates a multiplying factor B according to:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>B=</i>1&#x2212;<i>V</i><sub>2</sub><i>/V</i><sub>1</sub>,<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
</claim-text>
<claim-text>where V<sub>1 </sub>is the externally specified voltage value and V<sub>2 </sub>is the voltage command value from the voltage command generator, and
<claim-text>generates the frequency command value f<sub>c </sub>according to:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>f</i><sub>c</sub><i>=f</i><sub>1</sub>&#xd7;(1<i>&#x2212;K&#xd7;B</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
</claim-text>
<claim-text>where f<sub>1 </sub>is the externally specified frequency value and K is a coefficient.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The inverter power generator of <claim-ref idref="CLM-00001">claims 1</claim-ref>, further comprising:
<claim-text>a power consumption calculator configured to calculate power consumption of the load according to the voltage command value of the voltage command generator and the output current value detected by the current detector, wherein</claim-text>
<claim-text>the power consumption calculator includes a correspondence table that indicates a relationship between calculated power consumption and rotation speed of the prime mover, determines a rotation speed of the prime mover according to the calculated power consumption and the correspondence table, and commands the prime mover with the determined rotation speed.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The inverter power generator of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein
<claim-text>the power consumption calculator finds an impedance Z of effective power according to a q-axis current, d-axis current, and line current detected by the current detector and an output voltage of the inverter and calculates the power consumption P<sub>1 </sub>of the load as a function of the impedance Z and externally specified voltage value according to a relationship of,</claim-text>
</claim-text>
<claim-text>
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>P</mi>
    <mn>1</mn>
  </msub>
  <mo>=</mo>
  <mrow>
    <msqrt>
      <mn>3</mn>
    </msqrt>
    <mo>&#xd7;</mo>
    <mrow>
      <mfrac>
        <msup>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>Externally</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>specified</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>voltage</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mn>2</mn>
        </msup>
        <mi>Z</mi>
      </mfrac>
      <mo>.</mo>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</claim-text>
</claim>
</claims>
</us-patent-grant>
