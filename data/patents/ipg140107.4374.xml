<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625446-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625446</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13000861</doc-number>
<date>20090715</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2008-209200</doc-number>
<date>20080815</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>403</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20090101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>W</subclass>
<main-group>24</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370252</main-classification>
<further-classification>370248</further-classification>
<further-classification>370516</further-classification>
<further-classification>370519</further-classification>
<further-classification>455 631</further-classification>
<further-classification>455 6711</further-classification>
<further-classification>455 6713</further-classification>
<further-classification>455 677</further-classification>
</classification-national>
<invention-title id="d2e71">Setup of measurement period of time and method for setting</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7168022</doc-number>
<kind>B2</kind>
<name>Miyake et al.</name>
<date>20070100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714748</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7864664</doc-number>
<kind>B2</kind>
<name>Akahori</name>
<date>20110100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370210</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2003/0061507</doc-number>
<kind>A1</kind>
<name>Xiong et al.</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2008/0062935</doc-number>
<kind>A1</kind>
<name>Nakagawa et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2009/0310500</doc-number>
<kind>A1</kind>
<name>Matsuda et al.</name>
<date>20091200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370252</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>CN</country>
<doc-number>1984057</doc-number>
<kind>A</kind>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>CN</country>
<doc-number>101162922</doc-number>
<kind>A</kind>
<date>20080400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>JP</country>
<doc-number>2000354271</doc-number>
<kind>A</kind>
<date>20001200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>JP</country>
<doc-number>2003283374</doc-number>
<kind>A</kind>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>JP</country>
<doc-number>2008067328</doc-number>
<kind>A</kind>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>TW</country>
<doc-number>200508902</doc-number>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00012">
<othercit>Chinese Office Action for CN200980130206.3 dated on Feb. 16, 2013 with English Translation.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00013">
<othercit>Taiwanese Office Action for TW098126943 mailed on Dec. 24, 2012.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>International Search Report for PCT/JP2009/062804 mailed Sep. 15, 2009.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>10</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>370252</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370248</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370516</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370508</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370519</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455 631</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455 6711</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455 6713</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455 6717</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455 677</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>14</number-of-drawing-sheets>
<number-of-figures>14</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110122790</doc-number>
<kind>A1</kind>
<date>20110526</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Ogawa</last-name>
<first-name>Takatoshi</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Ogawa</last-name>
<first-name>Takatoshi</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>NEC Corporation</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Cho</last-name>
<first-name>Un C</first-name>
<department>2413</department>
</primary-examiner>
<assistant-examiner>
<last-name>Liu</last-name>
<first-name>Siming</first-name>
</assistant-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/JP2009/062804</doc-number>
<kind>00</kind>
<date>20090715</date>
</document-id>
<us-371c124-date>
<date>20101222</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2010/018729</doc-number>
<kind>A </kind>
<date>20100218</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Both a first profile that represents relationships between delay times premeasured over transmission paths and occurrence frequencies of the delay times and measurement periods of time for which the delay times over the transmission paths are measured are stored such that the first profile and the measurement period of time are correlated; a measurement period of time correlated with the first profile is obtained from the storage section if a second profile that represents relationships between delay times measured to obtain the measurement period of time and occurrence frequencies of the delay times is the same profile as the first profile; the delay times over the transmission paths are measured; and a mean value of the delay times measured for the measurement period of time is computed.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="215.90mm" wi="99.23mm" file="US08625446-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="207.60mm" wi="279.40mm" file="US08625446-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="134.70mm" wi="136.23mm" file="US08625446-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="208.96mm" wi="137.92mm" orientation="landscape" file="US08625446-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="80.18mm" wi="146.47mm" file="US08625446-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="56.98mm" wi="71.20mm" file="US08625446-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="74.85mm" wi="137.33mm" file="US08625446-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="64.60mm" wi="76.62mm" file="US08625446-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="75.01mm" wi="128.10mm" file="US08625446-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="167.81mm" wi="141.73mm" file="US08625446-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="73.91mm" wi="115.99mm" file="US08625446-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="161.29mm" wi="143.43mm" orientation="landscape" file="US08625446-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="186.69mm" wi="115.65mm" file="US08625446-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="56.22mm" wi="79.76mm" file="US08625446-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="139.11mm" wi="102.53mm" file="US08625446-20140107-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<p id="p-0002" num="0001">The present application is the National Phase of PCT/JP2009/062804, filed Jul. 15, 2009, which claims priority based on Japanese Patent Application JP 2008-209200 filed on Aug. 15, 2008, the entire content of which being incorporated herein by reference in its entirety.</p>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0003" num="0002">The present invention relates to communication devices that synchronize an operation with another communication device in a communication system; communication systems; measurement period-of-time setup methods for delay times over transmission paths; delay time calculation methods over transmission paths; and programs.</p>
<heading id="h-0002" level="1">BACKGROUND ART</heading>
<p id="p-0004" num="0003">In recent years, communication devices provided with various communication functions have been developed. The communication devices transmit and receive various types of data to and from other communication devices that are individually connected to those communication devices.</p>
<p id="p-0005" num="0004">Among these communication devices that transmit and receive these types of data, there arises a difference between the time at which data were transmitted from one communication device (hereinafter referred to as the transmission device) and the time at which the data were received by another communication device (hereinafter referred to as the reception device). This is caused by both a delay time of transmitted data due to a constant transmission delay that takes place over the transmission path and a delay time due to a variable load delay depending on the traffic and so forth of the network.</p>
<p id="p-0006" num="0005">In the case in which a reception timing of data has been specified in the reception device, when the data are transmitted from the transmission device to the reception device, it is necessary to transmit the data by taking into consideration these delay times. For instance, in the case in which particular data need to be transmitted from a transmission device to a plurality of reception devices and the data need to be received simultaneously by the plurality of reception devices, it is necessary to consider delay times between the transmission device and each of the plurality of reception devices. In this case, the timings at which data are transmitted to individual reception devices are adjusted by the transmission device depending on the individual delay times that take place between the transmission device and each of the reception devices.</p>
<p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic diagram showing one aspect of an ordinary communication system.</p>
<p id="p-0008" num="0007">The communication system shown in <figref idref="DRAWINGS">FIG. 1</figref> is structured such that a plurality of communication devices <b>1001</b>-<b>1</b> to <b>1001</b>-<b>4</b> are mutually connected through network <b>1002</b>.</p>
<p id="p-0009" num="0008">Communication devices <b>1001</b>-<b>1</b> to <b>1001</b>-<b>4</b> are devices connected to network <b>1002</b> and individually have a communication function that can mutually transmit and receive data thereamong through network <b>1002</b>.</p>
<p id="p-0010" num="0009">In the communication system as shown in <figref idref="DRAWINGS">FIG. 1</figref> for instance, in the case in which the delay time of data is different between communication devices <b>1001</b>-<b>1</b> and each of communication device <b>1001</b>-<b>2</b> to <b>1001</b>-<b>4</b>, when data are transmitted from communication device <b>1001</b>-<b>1</b> such that the data are simultaneously received by communication devices <b>1001</b>-<b>2</b> to <b>1001</b>-<b>4</b>, it is necessary to decide the transmission timings at which the data are transmitted from communication device <b>1001</b>-<b>1</b> to transmission devices <b>1001</b>-<b>2</b> to <b>1001</b>-<b>4</b>.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic diagram showing the timings at which data are transmitted from communication device <b>1001</b>-<b>1</b> to communication devices <b>1001</b>-<b>2</b> to <b>1001</b>-<b>4</b> in the communication system shown in <figref idref="DRAWINGS">FIG. 1</figref>. In this instance, the case in which the delay time of data between communication device <b>1001</b>-<b>1</b> and communication device <b>1001</b>-<b>2</b> is 100 ms; the delay time of data between communication device <b>1001</b>-<b>1</b> and communication device <b>1001</b>-<b>3</b> is 400 ms; and the delay time of data between communication device <b>1001</b>-<b>1</b> and communication device <b>1001</b>-<b>4</b> is 500, will be described. The timing diagram shown in <figref idref="DRAWINGS">FIG. 2</figref> is a timing diagram showing that data transmitted from communication device <b>1001</b>-<b>1</b> are received simultaneously by communication devices <b>1001</b>-<b>2</b> to <b>1001</b>-<b>4</b>.</p>
<p id="p-0012" num="0011">First of all, data are transmitted from communication device <b>1001</b>-<b>1</b> to communication device <b>1001</b>-<b>4</b> that has the largest delay time of 500 ms.</p>
<p id="p-0013" num="0012">Then, another 100 ms later, data are transmitted from communication device <b>1001</b>-<b>1</b> to communication device <b>1001</b>-<b>3</b> that has the second largest delay time of 400 ms. Then, another 300 ms later, data are transmitted from communication device <b>1001</b>-<b>1</b> to communication device <b>1001</b>-<b>2</b> that has the smallest delay time of 100 ms.</p>
<p id="p-0014" num="0013">Communication device <b>1001</b>-<b>4</b> receives data 500 ms after the data are transmitted from communication device <b>1001</b>-<b>1</b> to communication device <b>1001</b>-<b>4</b>.</p>
<p id="p-0015" num="0014">On the other hand, communication device <b>1001</b>-<b>3</b> receives data 400 ms after the data are transmitted from communication device <b>1001</b>-<b>1</b> to communication device <b>1001</b>-<b>3</b>.</p>
<p id="p-0016" num="0015">On the other hand, communication device <b>1001</b>-<b>2</b> receives data 100 ms after the data are transmitted from communication device <b>1000</b>-<b>1</b> to communication device <b>1001</b>-<b>2</b>.</p>
<p id="p-0017" num="0016">In other words, since data are transmitted to communication devices <b>1001</b>-<b>2</b> to <b>1001</b>-<b>4</b> at transmission timings corresponding to individual delay times, the data are received simultaneously by communication devices <b>1001</b>-<b>2</b> to <b>1001</b>-<b>4</b>.</p>
<p id="p-0018" num="0017">Thus, in the case in which data are transmitted from communication device <b>1001</b>-<b>1</b> such that communication devices <b>1001</b>-<b>2</b> to <b>1001</b>-<b>4</b> simultaneously receive the data, the individual delay times of data become critical factors.</p>
<p id="p-0019" num="0018">Such a delay time, as described above, is composed of a constant delay time due to a constant transmission delay and a variable delay time due to a variable load delay depending on the traffic and so forth of the network. Their total time becomes a delay time.</p>
<p id="p-0020" num="0019">Constant delay times just depend on the distances between communication devices <b>1001</b>-<b>1</b> and each of communication devices <b>1001</b>-<b>2</b> to <b>1001</b>-<b>4</b> and the transmission medium for use.</p>
<p id="p-0021" num="0020">On the other hand, since variable delay times variably change depending on the traffic and so forth of the network, their mean value may be used as the delay time (for example, refer to JP2003-283374A).</p>
<p id="p-0022" num="0021">Here, the above-described delay time computation method will be described.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 3</figref> is a timing diagram showing the case in which measurement packet data, with which the delay time from a transmission device to a reception device is measured, is transmitted. In this case, the transmission device is referred to as the Time Master (PTP Server); the reception device is referred to as the Time Slave (PTP Client).</p>
<p id="p-0024" num="0023">Measurement packet data that were transmitted at a time t<sub>o </sub>from an application that operates in the transmission device were transmitted from a PHY layer to the reception device at a time t<sub>1</sub>. At this time, information that represents the time t<sub>o </sub>is added to measurement packet data that are transmitted from the transmission device to the reception device. In addition, the application is informed of the time t<sub>1 </sub>at which the measurement packet data were transmitted from the PHY layer such that an inner delay time A of the transmission device is computed by the application.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>A</i>=(<i>t</i><sub>1</sub><i>&#x2212;t</i><sub>o</sub>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0025" num="0024">Thereafter, the computed delay time &#x201c;A&#x201d; is transmitted to the reception device.</p>
<p id="p-0026" num="0025">Then, the measurement packet data transmitted from the transmission device are received at a time t<sub>2 </sub>by a PHY layer of the reception device. Thereafter, the measurement packet data received at the time t<sub>2 </sub>by the PHY layer are received at a time t<sub>3 </sub>by the application. Then, the application is informed of the time t<sub>2 </sub>at which the measurement packet data are received by the PHY layer from the PHY layer to the application.</p>
<p id="p-0027" num="0026">At this point, the application of the reception device computes a delay time C of the measurement packet data transmitted from the transmission device to the reception device.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>C=t</i><sub>3</sub><i>&#x2212;t</i><sub>0 </sub><?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0028" num="0027">Thereafter, the application of the reception device computes a compensation delay time B of the measurement packet data transmitted from the transmission device to the reception device.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>B=C&#x2212;A&#x2212;</i>(<i>t</i><sub>3</sub><i>&#x2212;t</i><sub>2</sub>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0029" num="0028">Here, the compensation delay time is the time after the measurement packet data are transmitted from the transmission device until they are received by the reception device and is a delay time due to external factors not caused by the transmission device and the reception device.</p>
<p id="p-0030" num="0029">Then, likewise, the application of the transmission device computes a compensation delay time D of the measurement packet data transmitted from the reception device to the transmission device.</p>
<p id="p-0031" num="0030">With the compensation delay times B and D computed in such a manner, the delay time of the measurement packet data between the transmission device and the reception device is computed.</p>
<p id="p-0032" num="0031">When the delay time is actually computed, the above-described computations are performed for a predetermined period of time (number of times) and the mean value of values obtained by the computations is calculated so as to obtain the means value as a delay time.</p>
<p id="p-0033" num="0032">However, when the mean value of delay times is computed, unless the delay times measured during a predetermined period are stable to some extent, if the delay times are unstable (largely fluctuate) due to the state of the transmission path (fluctuation of traffic), the accuracy degrades.</p>
<p id="p-0034" num="0033">Thus, the problem occurs in which, when an attempt is made to improve accuracy, the period that is required to measure time is likely to become longer, resulting in prolonging the amount of time that is need to collect sample periods of time that are necessary for computing the mean delay time.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 4</figref> is a graph showing a temporal change of delay times in the case where they are stable.</p>
<p id="p-0036" num="0035">As shown in <figref idref="DRAWINGS">FIG. 4</figref>, when delay times are stable, they are nearly constant as time passes. Thus, delay times do not largely differ depending on the timings at which measurement packets, with which delay times are measured, are transmitted.</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 5</figref> is a graph showing relationships between delay times and their occurrence frequencies in the case where the delay times are stable as shown in <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0038" num="0037">As shown in <figref idref="DRAWINGS">FIG. 5</figref>, in the case where delay times are stable, a profile that indicates which measured delay times concentrate at a particular time is obtained.</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 6</figref> is a graph showing a temporal change of delay times in the case where they fluctuate.</p>
<p id="p-0040" num="0039">As shown in <figref idref="DRAWINGS">FIG. 6</figref>, in the case where delay times fluctuate, delay times are not temporally constant as time passes. Thus, delay times largely differ depending on the timings at which measurement packets, with which delay times are measured, are transmitted.</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 7</figref> is a graph showing relationships between delay times and their occurrence frequencies in the case where the delay times fluctuate.</p>
<p id="p-0042" num="0041">In the case where delay times fluctuate as shown in <figref idref="DRAWINGS">FIG. 7</figref>, a profile that indicates which measured delay times spread is obtained. To compute the mean value of the spread delay times without sacrificing accuracy, the delay times need to be measured for a period of time longer than the case in which they are stable.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0043" num="0042">An object of the present invention is to provide communication devices, communication systems, measurement of period-of-time setup methods for delay times over transmission paths, delay time calculation methods over transmission paths, and programs that can solve the above-described problems.</p>
<p id="p-0044" num="0043">To accomplish the above-described object, the present invention includes:</p>
<p id="p-0045" num="0044">a storage section that stores both a first profile that represents relationships between delay times premeasured over transmission paths and occurrence frequencies of the delay times and measurement periods of time for which the delay times over said transmission paths are measured such that said first profile and the measurement period of time are correlated;</p>
<p id="p-0046" num="0045">a measurement period-of-time obtainment section that obtains a measurement period of time correlated with the first profile from said storage section if a second profile that represents relationships between, delay times measured to obtain said measurement period of time and occurrence frequencies of the delay times is the same profile as said first profile;</p>
<p id="p-0047" num="0046">a delay time computation section that measures the delay times over said transmission paths; and</p>
<p id="p-0048" num="0047">a mean value computation section that computes a mean value of the delay times that said delay time computation section measured for said measurement period of time.</p>
<p id="p-0049" num="0048">In addition, the present invention is a measurement period-of-time setup method for delay times over transmission paths, including:</p>
<p id="p-0050" num="0049">a step of storing a plurality of patterns correlating a first profile that represents relationships between delay times premeasured over said transmission paths and occurrence frequencies of the delay times and measurement periods of time for which the delay times over said transmission paths are measured;</p>
<p id="p-0051" num="0050">a step of generating a second profile based on the relationships between the delay times and the occurrence frequencies of the delay times measured over said transmission paths when data are transmitted over said transmission paths;</p>
<p id="p-0052" num="0051">a step of comparing the second profile with said first profile in said plurality of patterns; and</p>
<p id="p-0053" num="0052">a step of setting said measurement period of time correlated with the first profile for a measurement period of time for which the delay times of said transmission paths are measured if said first profile that matches said second profile is present.</p>
<p id="p-0054" num="0053">In addition, the present invention is a program that causes a computer to execute:</p>
<p id="p-0055" num="0054">a procedure of storing a plurality of patterns correlating a first profile that represents relationships between delay times premeasured over said transmission paths and occurrence frequencies of the delay times and measurement periods of time for which the delay times over said transmission paths are measured;</p>
<p id="p-0056" num="0055">a procedure of generating a second profile based on the relationships between the delay times and the occurrence frequencies of the delay times measured over said transmission paths when data are transmitted over said transmission paths;</p>
<p id="p-0057" num="0056">a procedure of comparing the second profile with said first profile in said plurality of patterns; and</p>
<p id="p-0058" num="0057">a procedure of setting said measurement period of time correlated with the first profile for a measurement period of time for which the delay times of said transmission paths are measured if said first profile that matches said second profile is present.</p>
<p id="p-0059" num="0058">As described above, in the present invention, since both a first profile that represents relationships between delay times premeasured over transmission paths and occurrence frequencies of the delay times and measurement periods of time for which the delay times over the transmission paths are measured are stored such that the first profile and the measurement period of time are correlated, a measurement period of time correlated with the first profile is obtained from the storage section if a second profile that represents relationships between delay times measured to obtain the measurement period of time and occurrence frequencies of the delay times is a same profile as the first profile; the delay times over the transmission paths are measured; and a mean value of the delay times measured for the measurement period of time is computed, periods of time for which delay times necessary to perform synchronization are measured can be shortened.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic diagram showing one aspect of an ordinary communication system.</p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic diagram showing timings at which data are transmitted from a communication device in a communication system shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. 3</figref> is a timing diagram showing the case in which measurement packet data with which delay times are measured are transmitted from a transmission device to a reception device.</p>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 4</figref> is a graph showing a temporal change of delay times in the case in which delay times are stable.</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. 5</figref> is a graph showing relationships between delay times and their occurrence frequencies in the case in which delay times are stable as shown in <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0065" num="0064"><figref idref="DRAWINGS">FIG. 6</figref> is a graph showing a temporal change of delay times in the case in which delay times fluctuate.</p>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. 7</figref> is a graph showing relationships between delay times and their occurrence frequencies in the case in which delay times fluctuate.</p>
<p id="p-0067" num="0066"><figref idref="DRAWINGS">FIG. 8</figref> is a schematic diagram showing an embodiment of a communication system to which communication devices of the present invention are connected.</p>
<p id="p-0068" num="0067"><figref idref="DRAWINGS">FIG. 9</figref> is a schematic diagram showing an internal exemplary structure of the communication device shown in <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0069" num="0068"><figref idref="DRAWINGS">FIG. 10</figref> is a schematic diagram showing exemplary correlations of profiles representing relationships between delay times and their occurrence frequencies and measurement periods of time for which delay times are measured, the profiles being stored in a storage section shown in <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="p-0070" num="0069"><figref idref="DRAWINGS">FIG. 11</figref> is a schematic diagram showing a plurality of exemplary patterns of profiles stored in the storage section shown in <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="p-0071" num="0070"><figref idref="DRAWINGS">FIG. 12</figref> is a flowchart describing a method that obtains measurement periods of time for which delay times are measured according to this embodiment.</p>
<p id="p-0072" num="0071"><figref idref="DRAWINGS">FIG. 13</figref> is a schematic diagram showing measurement periods of time for which measure delay times are measured.</p>
<p id="p-0073" num="0072"><figref idref="DRAWINGS">FIG. 14</figref> is a flowchart describing a delay time measurement method according to this embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">MODES FOR CARRYING OUT THE INVENTION</heading>
<p id="p-0074" num="0073">In the following, embodiments of the present invention will be described with reference to drawings.</p>
<p id="p-0075" num="0074"><figref idref="DRAWINGS">FIG. 8</figref> is a schematic diagram showing an embodiment of a communication system to which communication devices of the present invention are connected.</p>
<p id="p-0076" num="0075">As shown in <figref idref="DRAWINGS">FIG. 8</figref>, in this embodiment, communication devices <b>101</b>-<b>1</b> to <b>101</b>-<i>n </i>(where n is a natural number) are mutually connected through network <b>102</b>.</p>
<p id="p-0077" num="0076">Communication devices <b>101</b>-<b>1</b> to <b>101</b>-<i>n </i>are information processing devices having a communication function. Communication devices <b>101</b>-<i>i </i>to <b>101</b>-<i>n </i>may be servers or PCs (Personal Computers) having an ordinary communication function.</p>
<p id="p-0078" num="0077">Network <b>102</b> is an ordinary communication network that mutually connects communication devices <b>101</b>-<b>1</b> to <b>101</b>-<i>n </i>and may be a network that uses the WiMAX (Worldwide Interoperability for Microwave Access) technology.</p>
<p id="p-0079" num="0078"><figref idref="DRAWINGS">FIG. 9</figref> is a schematic diagram showing an exemplary internal structure of communication device <b>101</b>-<b>1</b> shown in <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0080" num="0079">Communication device <b>101</b>-<b>1</b> shown in <figref idref="DRAWINGS">FIG. 8</figref> is provided with packet transmission section <b>110</b>, packet reception section <b>111</b>, timer <b>112</b>, delay time computation section <b>113</b>, sample collection section <b>114</b>, comparison section <b>115</b>, storage section <b>116</b>, profile obtainment section <b>117</b>, measurement period-of-time obtainment section <b>118</b>, and mean value computation section <b>119</b> as shown in <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="p-0081" num="0080">Packet transmission section <b>110</b> transmits data packets (hereinafter referred to as packets) to communication devices <b>101</b>-<b>2</b> to <b>101</b>-<i>n </i>through network <b>102</b>. As packets that packet transmission section <b>110</b> transmits, there are packets that contain information with which communication devices <b>101</b>-<b>1</b> to <b>101</b>-<i>n </i>mutually control communication, ordinary communication packets, packets for which transmission delay times (hereinafter referred to as delay times) among communication devices <b>101</b>-<b>1</b> to <b>101</b>-<i>n </i>are measured (hereinafter referred to as delay time measurement packets), and so forth.</p>
<p id="p-0082" num="0081">Packet reception section <b>111</b> receives packets addressed to communication device <b>101</b>-<b>1</b> from communication devices <b>101</b>-<b>2</b> to <b>101</b>-<i>n </i>through network <b>102</b>.</p>
<p id="p-0083" num="0082">Timer <b>112</b> includes an ordinary clock that measures time and that instructs packet transmission section <b>110</b> to transmit delay time measurement packets. In addition, timer <b>112</b> instructs packet transmission section <b>110</b> to transmit packets with which a delay time profile used to decide measurement periods of time for delay times (hereinafter referred to as profile obtainment packets) is obtained. Furthermore, timer <b>112</b> outputs the times at which packet transmission section <b>110</b> transmitted the delay time measurement packets (hereinafter referred to as the delay time measurement packet transmission times) or the times at which it transmitted the profile obtainment packets (hereinafter referred to as the profile obtainment packet transmission times) and the times at which packet reception section <b>111</b> received delay time measurement packets (hereinafter the delay time measurement packet reception times) or the times at which it received the profile obtainment packets (hereinafter referred to as the profile obtainment reception times) to delay time computation section <b>113</b>.</p>
<p id="p-0084" num="0083">Delay time computation section <b>113</b> computes (measures) delay times on the basis of the delay time measurement packet transmission time and the delay time measurement packet reception time outputted from timer <b>112</b>. In addition, delay time computation section <b>113</b> computes the profile obtainment delay time at which a delay time profile is obtained on the basis of the profile obtainment packet transmission time and the profile obtainment packet reception time outputted from timer <b>112</b>. The computation method for the delay times and the profile obtainment delay times is the same as that described in BACKGROUND ART Section described with reference to <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0085" num="0084">Sample collection section <b>114</b> collects the delay times and the profile obtainment delay times computed by delay time computation section <b>113</b>. The period of time for which samples of delay times are collected is the time outputted from measurement period-of-time obtainment section <b>118</b>. In addition, the period of time for which samples of the profile obtainment delay times are collected is the period of time predetermined as a profile obtainment phase period of time. Furthermore, sample collection section <b>114</b> outputs the collected delay times to mean value computation section <b>119</b>. Moreover, sample collection section <b>114</b> outputs the collected profile obtainment delay times to comparison section <b>115</b>.</p>
<p id="p-0086" num="0085">Comparison section <b>115</b> generates a delay time profile on the basis of a profile obtainment delay time outputted from sample collection section <b>114</b> and compares the generated delay time profile (second profile) with the profile outputted from profile obtainment section <b>117</b> (first profile). Thereafter, comparison section <b>115</b> outputs the compared result to measurement period-of-time obtainment section <b>118</b>.</p>
<p id="p-0087" num="0086">Storage section <b>116</b> stores profiles that represent relationships between delay times and occurrence frequencies and the measurement periods of time at which delay times are measured such that the profiles and the measurement periods of time are correlated. In addition, storage section <b>116</b> stores a plurality of patterns of the profile.</p>
<p id="p-0088" num="0087"><figref idref="DRAWINGS">FIG. 10</figref> is a schematic diagram showing exemplary correlations of profiles that represent relationships between delay times and their occurrence frequencies and measurement periods of time for which delay times are measured, the profiles and measurement periods of time being stored in storage section <b>116</b> shown in <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="p-0089" num="0088">As shown in <figref idref="DRAWINGS">FIG. 10</figref>, storage section <b>116</b> shown in <figref idref="DRAWINGS">FIG. 9</figref> stores profiles and measurement periods of time such that the profiles and the measurement periods of time are correlated. The relationships between the profiles and the measurement periods of time are preset on the basis of data that are pre-measured. For instance, a profile a and a measurement period of time A are correlated. This means that over a transmission path having a relationship between delay times and their occurrence frequencies based on the profile a, the measurement period of time measured for the delay times over the transmission path is A. In addition, a profile b and a measurement period of time B are correlated. This means that over a transmission path having a relationship between delay times and their occurrence frequencies based on the profile b, the measurement period of time measured for the delay times over the transmission path is B. In addition, a profile c and a measurement period of time C are correlated. This means that over a transmission path having a relationship between delay times and their occurrence frequencies based on the profile c, the measurement period of time measured for the delay times over the transmission path is C. In addition, a profile d and a measurement period of time D are correlated. This means that over a transmission path having a relationship between delay times and their occurrence frequencies based on the profile d, the measurement period of time measured for the delay times over the transmission path is D. In addition, a profile e and a measurement period of time E are correlated. This means that over a transmission path having a relationship between delay times and their occurrence frequencies based on the profile e, the measurement period of time measured for the delay times over the transmission path is E.</p>
<p id="p-0090" num="0089">This measurement period of time is a measurement period of time necessary to compute a mean value over a transmission path having a distribution of delay times such as a profile and is predetermined through pre-conducted computations, experiments, or the like. In other words, by measuring delay times for only the measurement period of time and computing their mean value, the delay time over the transmission path can be obtained.</p>
<p id="p-0091" num="0090"><figref idref="DRAWINGS">FIG. 11</figref> is a schematic diagram showing a plurality of exemplary patterns of profiles stored in storage section <b>116</b> shown in <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="p-0092" num="0091">As shown in <figref idref="DRAWINGS">FIG. 11</figref>, a plurality of patterns of profiles are stored in storage section <b>116</b> shown in <figref idref="DRAWINGS">FIG. 9</figref>. In the examples shown in <figref idref="DRAWINGS">FIG. 11</figref>, profiles of five patterns, a profile a to a profile e, are stored.</p>
<p id="p-0093" num="0092">On the other hand, profile obtainment section <b>117</b> reads (obtains) a profile from storage section <b>116</b>. Profile obtainment section <b>117</b> outputs the obtained profile to comparison section <b>115</b>.</p>
<p id="p-0094" num="0093">Measurement period-of-time obtainment section <b>118</b> reads (obtains) a measurement period of time from storage section <b>116</b> on the basis of the compared result outputted from comparison section <b>115</b>. Specifically, measurement period-of-time obtainment section <b>118</b> obtains a measurement period of time correlated with a profile that is the same as the delay time profile generated by comparison section <b>115</b> from storage section <b>116</b>. Thereafter, measurement period-of-time obtainment section <b>118</b> outputs the obtained measurement period of time to mean value computation section <b>119</b>.</p>
<p id="p-0095" num="0094">Mean value computation section <b>119</b> computes the mean value of delay times on the basis of the delay times outputted from sample collection section <b>114</b> and the measurement periods of time outputted from measurement period-of-time obtainment section <b>118</b>.</p>
<p id="p-0096" num="0095"><figref idref="DRAWINGS">FIG. 9</figref> shows only constituent members related to the present invention among those of communication device <b>101</b>-<b>1</b> shown in <figref idref="DRAWINGS">FIG. 8</figref>. In the case where delay times are measured by communication devices <b>101</b>-<b>2</b> to <b>101</b>-<i>n </i>in the same manner as communication device <b>101</b>-<b>1</b>, communication devices <b>101</b>-<b>2</b> to <b>101</b>-<i>n </i>have the same internal structure as that of communication device <b>101</b>-<b>1</b> shown in <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="p-0097" num="0096">In the following, a delay time measurement method according to the above-described embodiment will be described. First of all, a measurement period-of-time obtainment method with which delay times are measured will be described. This phase is referred to as the profile obtainment phase and its period of time is referred to as the profile obtainment phase period of time. The profile obtainment phase period of time is the shortest period of time for which it can be determined whether or not a delay time profile is the same as a profile stored in storage section <b>116</b> and it is preset in timer <b>112</b>.</p>
<p id="p-0098" num="0097"><figref idref="DRAWINGS">FIG. 12</figref> is a flowchart describing a measurement period-of-time obtainment (setup) method with which delay times are measured according to this embodiment.</p>
<p id="p-0099" num="0098">First, timer <b>112</b> instructs packet transmission section <b>110</b> to transmit profile obtainment packets. At step <b>1</b>, profile obtainment packets are transmitted from packet transmission section <b>110</b>. The transmission targets are communication devices connected to transmission paths whose delay times are to be measured. In this case, the profile obtainment packets are not specified in their structure as long as the transmission targets can identify them as profile obtainment packets when receiving them. The times at which the profile obtainment packets were transmitted from packet transmission section <b>110</b> (profile obtainment packet transmission times) are stored in delay time computation section <b>113</b>.</p>
<p id="p-0100" num="0099">Thereafter, at step <b>2</b>, when packet reception section <b>111</b> receives profile obtainment packets, the times at which the profile obtainment packets were received by packet reception section <b>111</b> (profile obtainment packet reception times) are stored in delay time computation section <b>113</b>. In this case, the profile obtainment packets that are received are not specified as long as the packets can be identified as those that were transmitted from transmission sources corresponding to packets transmitted from packet transmission section <b>110</b> at step <b>1</b>. For instance, the profile obtainment packets may be the same as those transmitted from packet transmission section <b>110</b> at step <b>1</b> (note that they differ in information of the addresses and transmission sources in the packet headers).</p>
<p id="p-0101" num="0100">Thereafter, at step <b>3</b>, delay time computation section <b>113</b> computes the profile obtainment delay times on the basis of the profile obtainment packet transmission times and the profile obtainment packet reception times that are stored. The computation method for the profile obtainment delay times is the same as that described in the BACKGROUND ART Section with reference to <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0102" num="0101">The computed profile obtainment delay times are outputted from delay time computation section <b>113</b> to sample collection section <b>114</b> and collected as sample values at step <b>4</b>.</p>
<p id="p-0103" num="0102">Thereafter, at step <b>5</b>, it is determined whether or not timer <b>112</b> has timed out for the profile obtainment phase period of time. This timeout is determined by determining whether or not the profile obtainment phase period of time has elapsed after the time at which a profile obtainment packet was initially transmitted from packet transmission section <b>110</b>.</p>
<p id="p-0104" num="0103">In the case in which it is determined that timer <b>112</b> has not timed out for the profile obtainment phase period of time, timer <b>112</b> also instructs packet transmission section <b>110</b> to transmit profile obtainment packets and thereby packet transmission section <b>110</b> transmits the profile obtainment packets.</p>
<p id="p-0105" num="0104">In contrast, in the case in which it is determined that timer <b>112</b> has timed out for the profile obtainment phase period of time, the profile obtainment delay times collected by sample collection section <b>114</b> are outputted to comparison section <b>115</b>.</p>
<p id="p-0106" num="0105">Thereafter, comparison section <b>115</b> generates delay time profiles on the basis of the profile obtainment delay times outputted from sample collection section <b>114</b>. The delay time profiles represent relationships between the profile obtainment delay times and their occurrence frequencies.</p>
<p id="p-0107" num="0106">When comparison section <b>115</b> generates the delay time profiles, profile obtainment section <b>117</b> reads (obtains) the profiles from storage section <b>116</b> and the obtained profiles are outputted from profile obtainment section <b>117</b> to comparison section <b>115</b>. Thereafter, at step <b>6</b>, comparison section <b>115</b> compares the delay time profiles and the profiles outputted from profile obtainment section <b>117</b>. In the case in which there are a plurality of profiles outputted from profile obtainment section <b>117</b> as shown in <figref idref="DRAWINGS">FIG. 11</figref>, these profiles and the delay time profiles are individually compared. These comparisons are performed by comparing at least a part of each delay time profile with at least a part of each profile outputted from profile obtainment section <b>117</b> so as to determine whether or not each delay time profile is the same as each profile outputted from profile obtainment section <b>117</b>. In other words, in the case in which at least a part of each delay time profile matches at least a part of each profile outputted from profile obtainment section <b>117</b>, it is determined (assumed) that each delay time profile is the same as each profile outputted from profile obtainment section <b>117</b>.</p>
<p id="p-0108" num="0107">In the case in which it is determined that there is a profile that is the same as a delay time profile, information that represents this situation is outputted from comparison section. <b>115</b> to measurement period-of-time obtainment section <b>118</b>. Thereafter, at step <b>7</b>, the measurement period of time correlated with the profile that is determined to be the same as the delay time profile is read (obtained) from storage section <b>116</b> by measurement period-of-time obtainment section <b>118</b>.</p>
<p id="p-0109" num="0108">Then, the measurement period of time obtained by measurement period-of-time obtainment section <b>118</b> is set for timer <b>112</b> at step <b>8</b>.</p>
<p id="p-0110" num="0109">In contrast, in the case in which it is determined that there is no profile that is the same as a delay time profile, information that represents this situation is outputted from comparison section <b>115</b> to measurement period-of-time obtainment section <b>118</b>. Thereafter, measurement period-of-time obtainment section <b>118</b> sets a measurement period of time as the preset initial value for timer <b>112</b></p>
<p id="p-0111" num="0110">Here, the measurement period of time will be described.</p>
<p id="p-0112" num="0111"><figref idref="DRAWINGS">FIG. 13</figref> is a schematic diagram showing a measurement period of time for which delay times are measured.</p>
<p id="p-0113" num="0112">As shown in <figref idref="DRAWINGS">FIG. 13</figref>, a measurement period of time is a period of time for which a delay time that changes as time passes is measured. This measurement period of time changes (is limited) on the basis of a delay time profile measured/generated in the profile obtainment phase.</p>
<p id="p-0114" num="0113">Next, a delay time Measurement method for a measurement period of time that is set for timer <b>112</b> in the foregoing manner will be described.</p>
<p id="p-0115" num="0114"><figref idref="DRAWINGS">FIG. 14</figref> is a flowchart describing the delay time measurement method according to this embodiment.</p>
<p id="p-0116" num="0115">First, timer <b>112</b> instructs packet transmission section <b>110</b> to transmit delay time measurement packets. At step <b>11</b>, delay time measurement packets are transmitted from packet transmission section <b>110</b>. These transmission destinations are communication devices connected to transmission paths whose delay times are to be measured. The delay time measurement packets are not specified here in the structure as long as the packets received by the transmission destinations can be identified as delay time measurement packets. The times at which the delay time measurement packets were transmitted from packet transmission section <b>110</b> (delay time measurement packet transmission times) are stored in delay time computation section <b>113</b>.</p>
<p id="p-0117" num="0116">Thereafter, when packet reception section <b>111</b> receives the delay time measurement packets at step <b>12</b>, the times at which the delay time measurement packets were received by packet reception section <b>111</b> (delay time measurement packet reception times) are stored in delay time computation section <b>113</b>. In this case, the received delay time measurement packets are not specified here as long as the received delay time measurement packets can be identified as those transmitted from packet transmission section <b>110</b> at step <b>11</b>. For instance, the received delay time measurement packets may be the same as packets transmitted from packet transmission section <b>110</b> at step <b>11</b> (note that they differ in information of the addressees and transmission sources in packet headers).</p>
<p id="p-0118" num="0117">Thereafter, at step <b>13</b>, the delay times are computed by delay time computation section <b>113</b> on the basis of the delay time measurement packet transmission times and the delay time measurement packet reception times that are stored. The delay time measurement method is the same as that described in the BACKGROUND ART Section with reference to <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0119" num="0118">The computed delay times are outputted from delay time computation section <b>113</b> to sample collection section <b>114</b> and collected as a sample value at step <b>14</b>.</p>
<p id="p-0120" num="0119">In addition, at step <b>15</b>, it is determined whether or not tinier <b>112</b> has timed out for the measurement period of time. The determination of the timeout is performed by determining whether or not the measurement period of time has elapsed form the time at which a delay time measurement packet was initially transmitted from packet transmission section <b>110</b>. On the other hand, the measurement period of time is a period of time that was set for timer <b>112</b> described at step <b>8</b> shown in <figref idref="DRAWINGS">FIG. 12</figref>.</p>
<p id="p-0121" num="0120">In the case in which it is determined that timer <b>112</b> has not timed out for the measurement period of time, it also instructs packet transmission section <b>110</b> to transmit delay time measurement packets and thereby packet transmission section <b>110</b> transmits the delay time measurement packets.</p>
<p id="p-0122" num="0121">In contrast, in the case in which it is determined that timer <b>112</b> has timed out for the measurement period of time, the delay times collected by sample collection section <b>114</b> are outputted to mean value computation section <b>119</b>.</p>
<p id="p-0123" num="0122">Thereafter, at step <b>16</b>, a means delay time (mean value) for the measurement periods of time is computed for the delay times outputted from sample collection section <b>114</b> by mean value computation section <b>119</b>.</p>
<p id="p-0124" num="0123">When measured for a measurement period of time as the initial value, a delay profile based on the measured delay times is stored in storage section <b>116</b>.</p>
<p id="p-0125" num="0124">The process of communication device <b>101</b>-<b>1</b> described above may be performed by a logic circuit produced so that a predetermined purpose is satisfied. A program that codes a process as a procedure may be recorded to a record medium from which the program is readable by communication device <b>101</b>-<b>1</b>, the program recorded on the record medium may be read by communication device <b>101</b>-<b>1</b>, and may be executed thereby. The record medium from which the program is readable by communication device <b>101</b>-<b>1</b> is a movable record medium such as a floppy disk (registered trademark), a magnetic optical disc, a DVD, or a CD; a memory built in communication device <b>101</b>-<b>1</b>, such as a ROM or a RAM; a HDD; or the like. The program recorded on the record medium is read by a CPU (not shown) disposed in communication device <b>101</b>-<b>1</b> and a process similar to one described above is performed under the control of the CPU. In this case, the CPU operates as a computer that executes a program that is read from a record medium on which the program is recorded.</p>
<p id="p-0126" num="0125">By measuring a distribution (profile) of delay times and computing the mean value of delay times in a measurement period of time on the basis of the profile, wasteful measurement periods of time can be omitted. As a result, measurement periods of time measured for which delay times necessary to synchronize a transmission source and transmission destinations are measured can be shortened.</p>
<p id="p-0127" num="0126">Now, with reference to the embodiments, the present invention has been described. However, it should be understood by those skilled in the art that the structure and details of the present invention may be changed in various manners without departing from the scope of the present invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A communication device, comprising:
<claim-text>a storage section that stores both a first profile that represents relationships between delay times premeasured over a transmission path and occurrence frequencies of the delay times and measurement periods of time for which the delay times over said transmission path are measured such that said first profile and the measurement periods of time are correlated;</claim-text>
<claim-text>a measurement period-of-time obtainment section that obtains a measurement period of time correlated with the first profile from said storage section if a second profile that represents relationships between delay times measured to obtain said measurement period of time and occurrence frequencies of the delay times matches said first profile;</claim-text>
<claim-text>a delay time computation section that measures the delay times over said transmission path;</claim-text>
<claim-text>a mean value computation section that computes a mean value of the delay times measured to obtain said measurement period of time and that said delay time computation section measured for said measurement period of time; and</claim-text>
<claim-text>a comparison section that compares said first profile and said second profile, wherein</claim-text>
<claim-text>said comparison section compares at least a part of said first profile and at least a part of said second profile, and</claim-text>
<claim-text>said measurement period-of-time obtainment section obtains said measurement period of time correlated with said first profile from said storage section if at least the part of said first profile and at least said part of said second profile compared by said communication device are same.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The communication device as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a packet transmission section that transmits delay time measurement packets with which said delay times are measured; and</claim-text>
<claim-text>a timer that measures said delay times,</claim-text>
<claim-text>wherein said timer instructs said packet transmission section to transmit delay time measurement packets for the measurement period of time that said measurement period-of-time obtainment section has obtained.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The communication device as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>said comparison section generates said second profile based on the delay times measured in a phase in which said measurement period of time is obtained.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The communication device as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a profile obtainment section that obtains said first profile from said storage section,</claim-text>
<claim-text>wherein said comparison section compares said second profile with the first profile that said profile obtainment section has obtained.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The communication device as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, the communication device is connected to a WiMAX network.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A communication system, comprising:
<claim-text>a communication device as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>; and</claim-text>
<claim-text>a network connected to the communication device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The communication system as set forth in <claim-ref idref="CLM-00006">claim 6</claim-ref>,
<claim-text>characterized in that said network is a WiMAX network.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A measurement period-of-time setup method for delay times over a transmission path, comprising:
<claim-text>a step of storing a plurality of patterns correlating a first profile that represents relationships between delay times premeasured over said transmission path and occurrence frequencies of the delay times and measurement periods of time for which the delay times over said transmission path are measured;</claim-text>
<claim-text>a step of generating a second profile based on the relationships between the delay times measured over said transmission path and the occurrence frequencies of the delay times measured over said transmission path when data are transmitted over said transmission path;</claim-text>
<claim-text>a step of comparing the second profile with said first profile in said plurality of patterns; and</claim-text>
<claim-text>a step of setting said measurement periods of time correlated with the first profile for a measurement period of time for which the delay times of said transmission path are measured if said first profile matches said second profile, wherein</claim-text>
<claim-text>said step of comparing is performed by comparing at least a part of said first profile and at least a part of said second profile, and</claim-text>
<claim-text>said step of setting is performed by considering that said first profile and said second profile match if at least the part of said first profile and at least the part of said second profile that are compared are same.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A delay time computation method for a transmission path, comprising:
<claim-text>a step of measuring delay times over said transmission path for said measurement period of time that is set up based on a measurement period-of-time setup method for delay times as set forth in <claim-ref idref="CLM-00008">claim 8</claim-ref>;</claim-text>
<claim-text>a step of computing a mean value of said delay times that have been measured; and</claim-text>
<claim-text>a step of designating the mean value of the delay times as the delay time of said transmission path that is premeasured.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The delay time computation method for said transmission path as set forth in <claim-ref idref="CLM-00009">claim 9</claim-ref>, further comprising:
<claim-text>a step of transmitting delay time measurement packets with which said delay times are measured for said measurement period of time. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
