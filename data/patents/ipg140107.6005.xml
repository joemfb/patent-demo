<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08627128-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08627128</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12942475</doc-number>
<date>20101109</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>433</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>1</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>713322</main-classification>
<further-classification>713300</further-classification>
<further-classification>713323</further-classification>
</classification-national>
<invention-title id="d2e53">Power management for processing capacity upgrade on demand</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5483656</doc-number>
<kind>A</kind>
<name>Oprescu et al.</name>
<date>19960100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7275164</doc-number>
<kind>B2</kind>
<name>Hottelet et al.</name>
<date>20070900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7389435</doc-number>
<kind>B2</kind>
<name>Barr et al.</name>
<date>20080600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>7702931</doc-number>
<kind>B2</kind>
<name>Goodrum et al.</name>
<date>20100400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2005/0050373</doc-number>
<kind>A1</kind>
<name>Orenstien et al.</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713320</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2007/0028129</doc-number>
<kind>A1</kind>
<name>Schumacher et al.</name>
<date>20070200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2008/0072079</doc-number>
<kind>A1</kind>
<name>Bieswanger et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713300</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2008/0082844</doc-number>
<kind>A1</kind>
<name>Ghiasi et al.</name>
<date>20080400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713323</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2009/0328055</doc-number>
<kind>A1</kind>
<name>Bose et al.</name>
<date>20091200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>718105</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2010/0037038</doc-number>
<kind>A1</kind>
<name>Bieswanger et al.</name>
<date>20100200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00011">
<othercit>Carstens, Auto-adaptive memory speed to voltage scaling, IP.com, http://www.ip.com/pubview/IPCOM000133183D.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00012">
<othercit>&#x201c;Method to improve utilization of test system time&#x201d;, IBM, Nov. 14, 2008, IPCOM000176532D, pp. 1-3.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>25</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>11</number-of-drawing-sheets>
<number-of-figures>11</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120117403</doc-number>
<kind>A1</kind>
<date>20120510</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Bieswanger</last-name>
<first-name>Andreas</first-name>
<address>
<city>Ehningen</city>
<country>DE</country>
</address>
</addressbook>
<residence>
<country>DE</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Geissler</last-name>
<first-name>Andrew J.</first-name>
<address>
<city>Pflugerville</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>McCreary</last-name>
<first-name>Hye-Young</first-name>
<address>
<city>Liberty Hill</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="004" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Rawson</last-name>
<first-name>Freeman L.</first-name>
<address>
<city>Austin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="005" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Ware</last-name>
<first-name>Malcolm S.</first-name>
<address>
<city>Austin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Bieswanger</last-name>
<first-name>Andreas</first-name>
<address>
<city>Ehningen</city>
<country>DE</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Geissler</last-name>
<first-name>Andrew J.</first-name>
<address>
<city>Pflugerville</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>McCreary</last-name>
<first-name>Hye-Young</first-name>
<address>
<city>Liberty Hill</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="004" designation="us-only">
<addressbook>
<last-name>Rawson</last-name>
<first-name>Freeman L.</first-name>
<address>
<city>Austin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="005" designation="us-only">
<addressbook>
<last-name>Ware</last-name>
<first-name>Malcolm S.</first-name>
<address>
<city>Austin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Yee &#x26; Associates, P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Mims, Jr.</last-name>
<first-name>David A.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>International Business Machines Corporation</orgname>
<role>02</role>
<address>
<city>Armonk</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Yanchus, III</last-name>
<first-name>Paul</first-name>
<department>2116</department>
</primary-examiner>
<assistant-examiner>
<last-name>Chang</last-name>
<first-name>Vincent</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method, computer program product, and apparatus for managing power in a data processing system are presented. A core is activated in the data processing system and configured to operate at a frequency in response to receiving a request to increase a processing capacity of a set of resources in the data processing system. A determination whether a use of power resulting from activating the core configured to operate at the frequency meets a policy for the use of the power in the data processing system is made. A set of parameters associated with devices in the set of resources are adjusted to meet the policy for the use of power in the data processing system in response to a determination that the use of power does not meet the policy. A determination whether a number of operations performed per unit of time by a set of cores associated with the set of resources increased after activating the core is made. An indication that the request to increase the processing capacity of the set of resources is unavailable is made in response to a determination that the number of operations performed per unit of time by the set of cores associated with the set of resources has not increased.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="237.41mm" wi="184.66mm" file="US08627128-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="229.19mm" wi="175.51mm" file="US08627128-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="262.13mm" wi="197.36mm" orientation="landscape" file="US08627128-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="267.89mm" wi="194.14mm" orientation="landscape" file="US08627128-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="224.96mm" wi="165.35mm" orientation="landscape" file="US08627128-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="251.21mm" wi="187.79mm" file="US08627128-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="186.52mm" wi="153.16mm" file="US08627128-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="250.53mm" wi="171.11mm" file="US08627128-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="253.75mm" wi="166.62mm" file="US08627128-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="157.65mm" wi="135.21mm" file="US08627128-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="252.48mm" wi="183.90mm" file="US08627128-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="219.20mm" wi="191.01mm" file="US08627128-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0002" num="0001">1. Field</p>
<p id="p-0003" num="0002">The present disclosure relates to managing power and in particular to managing power use in a data processing system. Still more particularly, the present disclosure relates to a method and apparatus for managing power use while increasing a processing capacity of a data processing system upon demand.</p>
<p id="p-0004" num="0003">2. Description of the Related Art</p>
<p id="p-0005" num="0004">Operations in a data processing system are performed using a processing unit. The operations performed may include, for example without limitations fetch, decode, execute, and write-back. The number of operations performed by the cores in the processing unit over a period of time can be referred to as processing capacity. The demand for processing capacity in a data processing system can vary over time. For example, a data processing system may experience higher demand for processing capacity on weekdays rather than on weekends. In another example, as a business grows the business may have an increased demand for processing capacity.</p>
<p id="p-0006" num="0005">In certain situations, the frequency of the cores in the processing unit can be increased to increase processing capacity. A core is the part of the processor unit that performs the operations. The frequency of a processing unit is the number of clock cycles of the processing unit per second. A clock cycle is a period of time that a core in the processor unit takes to perform one operation. Thus, the cores in the processing unit may perform more operations per second when the frequency of the processing unit is increased.</p>
<p id="p-0007" num="0006">In other examples, processing capacity may be increased with the use of additional cores in a processing unit. Often times, processing units include more than one core. For example, a processing unit having more than one core may be able to perform more than one operation at the same time.</p>
<p id="p-0008" num="0007">However, increasing the frequency of the processor unit may result in an increase in an amount of power used by the processor unit. Additionally, adding cores may result in an increase in the amount of power used in the data processing system. When the use of power in the data processing system increases, the heat produced in the data processing system increases. The production of heat may cause the temperature of the devices in the data processing system to increase. When devices in the data processing system reach a certain temperature, the data processing system may not perform properly.</p>
<p id="p-0009" num="0008">Accordingly, it would be advantageous to have a method and apparatus which takes into account one or more of the issues discussed above as well as possibly other issues.</p>
<heading id="h-0002" level="1">SUMMARY</heading>
<p id="p-0010" num="0009">The different illustrative embodiments provide a method, computer program product, and apparatus for managing power in a data processing system. In an illustrative embodiment, a core is activated in the data processing system and configured to operate at a frequency in response to receiving a request to increase a processing capacity of a set of resources in the data processing system. A determination whether a use of power resulting from activating the core configured to operate at the frequency meets a policy for the use of the power in the data processing system is made. A set of parameters associated with devices in the set of resources are adjusted to meet the policy for the use of power in the data processing system in response to a determination that the use of power does not meet the policy. A determination whether a number of operations performed per unit of time by a set of cores associated with the set of resources increased after activating the core is made. An indication that the request to increase the processing capacity of the set of resources is unavailable is made in response to a determination that the number of operations performed per unit of time by the set of cores associated with the set of resources has not increased.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE SEVERAL VIEWS OF THE DRAWINGS</heading>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 1</figref> is an illustration of a block diagram of a data processing system depicted in accordance with an illustrative embodiment;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 2</figref> is an illustration of a block diagram of a power management environment depicted in accordance with an illustrative embodiment;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3</figref> is an illustration of a block diagram of a power management system in a data processing system depicted in accordance with an illustrative embodiment;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 4</figref> is an illustration of a block diagram of a set of partitions in a data processing system is depicted in accordance with an illustrative embodiment;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart of a process for a process for managing power in a data processing system depicted in accordance with an illustrative embodiment;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 6</figref> is a flowchart of a process for determining use of power in a data processing system depicted in accordance with an illustrative embodiment;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 7</figref> is a flowchart of a process for increasing a frequency of a core in a data processing system depicted in accordance with an illustrative embodiment;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 8</figref> is a flowchart of a process for adjusting frequencies in a set of resources depicted in accordance with an illustrative embodiment;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 9</figref> is a flowchart of a process for selecting a core in a data processing system depicted in accordance with an illustrative embodiment;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 10</figref> is a flowchart of a process for determining capacity in a data processing system depicted in accordance with an illustrative embodiment; and</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 11</figref> is a flowchart of a process for managing cores in a set of resources depicted in accordance with an illustrative embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0022" num="0021">As will be appreciated by one skilled in the art, the present invention may be embodied as a system, method or computer program product. Accordingly, the present invention may take the form of an entirely hardware embodiment, an entirely software embodiment (including firmware, resident software, micro-code, etc.) or an embodiment combining software and hardware aspects that may all generally be referred to herein as a &#x201c;circuit,&#x201d; &#x201c;module&#x201d; or &#x201c;system.&#x201d; Furthermore, the present invention may take the form of a computer program product embodied in any tangible medium of expression having computer usable program code embodied in the medium.</p>
<p id="p-0023" num="0022">Any combination of one or more computer usable or computer readable medium(s) may be utilized. The computer-usable or computer-readable medium may be, for example, but not limited to, an electronic, magnetic, optical, electromagnetic, infrared, or semiconductor system, apparatus, device, or propagation medium. More specific examples (a non-exhaustive list) of the computer-readable medium would include the following: an electrical connection having one or more wires, a portable computer diskette, a hard disk, a random access memory (RAM), a read-only memory (ROM), an erasable programmable read-only memory (EPROM or Flash memory), an optical fiber, a portable compact disc read-only memory (CDROM), an optical storage device, a transmission media such as those supporting the Internet or an intranet, or a magnetic storage device.</p>
<p id="p-0024" num="0023">Note that the computer-usable or computer-readable medium could even be paper or another suitable medium upon which the program is printed, as the program can be electronically captured, via, for instance, optical scanning of the paper or other medium, then compiled, interpreted, or otherwise processed in a suitable manner, if necessary, and then stored in a computer memory. In the context of this document, a computer-usable or computer-readable medium may be any medium that can contain, store, communicate, propagate, or transport the program for use by or in connection with the instruction execution system, apparatus, or device. The computer-usable medium may include a propagated data signal with the computer-usable program code embodied therewith, either in baseband or as part of a carrier wave. The computer usable program code may be transmitted using any appropriate medium, including but not limited to wireless, wireline, optical fiber cable, RF, etc.</p>
<p id="p-0025" num="0024">Computer program code for carrying out operations of the present invention may be written in any combination of one or more programming languages, including an object oriented programming language such as Java, Smalltalk, C++ or the like, and conventional procedural programming languages, such as the &#x201c;C&#x201d; programming language or similar programming languages. The program code may execute entirely on the user's computer, partly on the user's computer, as a stand-alone software package, partly on the user's computer and partly on a remote computer or entirely on the remote computer or server. In the latter scenario, the remote computer may be connected to the user's computer through any type of network, including a local area network (LAN) or a wide area network (WAN), or the connection may be made to an external computer (for example, through the Internet using an Internet Service Provider).</p>
<p id="p-0026" num="0025">The present invention is described below with reference to flowchart illustrations and/or block diagrams of methods, apparatus (systems) and computer program products according to embodiments of the invention. It will be understood that each block of the flowchart illustrations and/or block diagrams, and combinations of blocks in the flowchart illustrations and/or block diagrams, can be implemented by computer program instructions.</p>
<p id="p-0027" num="0026">These computer program instructions may be provided to a processor of a general purpose computer, special purpose computer, or other programmable data processing apparatus to produce a machine, such that the instructions, which execute via the processor of the computer or other programmable data processing apparatus, create means for implementing the functions/acts specified in the flowchart and/or block diagram block or blocks. These computer program instructions may also be stored in a computer-readable medium that can direct a computer or other programmable data processing apparatus to function in a particular manner, such that the instructions stored in the computer-readable medium produce an article of manufacture including instruction means which implement the function/act specified in the flowchart and/or block diagram block or blocks.</p>
<p id="p-0028" num="0027">The computer program instructions may also be loaded onto a computer or other programmable data processing apparatus to cause a series of operational steps to be performed on the computer or other programmable apparatus to produce a computer implemented process such that the instructions which execute on the computer or other programmable apparatus provide processes for implementing the functions/acts specified in the flowchart and/or block diagram block or blocks.</p>
<p id="p-0029" num="0028">Turning now to <figref idref="DRAWINGS">FIG. 1</figref>, a block diagram of a data processing system is depicted in accordance with an illustrative embodiment. In this illustrative example, data processing system <b>100</b> includes communications fabric <b>102</b>, which provides communications between processor unit <b>104</b>, memory <b>106</b>, persistent storage <b>108</b>, communications unit <b>110</b>, input/output (I/O) unit <b>112</b>, and display <b>114</b>.</p>
<p id="p-0030" num="0029">Processor unit <b>104</b> serves to execute instructions for software that may be loaded into memory <b>106</b>. Processor unit <b>104</b> may be a number of processors, a multi-processor core, or some other type of processor, depending on the particular implementation. A number, as used herein with reference to an item, means one or more items. Further, processor unit <b>104</b> may be implemented using a number of heterogeneous processor systems in which a main processor is present with secondary processors on a single chip. As another illustrative example, processor unit <b>104</b> may be a symmetric multi-processor system containing multiple processors of the same type.</p>
<p id="p-0031" num="0030">Memory <b>106</b> and persistent storage <b>108</b> are examples of storage devices <b>116</b>. A storage device is any piece of hardware that is capable of storing information, such as, for example without limitation, data, program code in functional form, and/or other suitable information either on a temporary basis and/or a permanent basis. Memory <b>106</b>, in these examples, may be, for example, a random access memory or any other suitable volatile or non-volatile storage device. Persistent storage <b>108</b> may take various forms depending on the particular implementation.</p>
<p id="p-0032" num="0031">For example, persistent storage <b>108</b> may contain one or more components or devices. For example, persistent storage <b>108</b> may be a hard drive, a flash memory, a rewritable optical disk, a rewritable magnetic tape, or some combination of the above. The media used by persistent storage <b>108</b> also may be removable. For example, a removable hard drive may be used for persistent storage <b>108</b>.</p>
<p id="p-0033" num="0032">Communications unit <b>110</b>, in these examples, provides for communications with other data processing systems or devices. In these examples, communications unit <b>110</b> is a network interface card. Communications unit <b>110</b> may provide communications through the use of either or both physical and wireless communications links.</p>
<p id="p-0034" num="0033">Input/output unit <b>112</b> allows for input and output of data with other devices that may be connected to data processing system <b>100</b>. For example, input/output unit <b>112</b> may provide a connection for user input through a keyboard, a mouse, and/or some other suitable input device. Further, input/output unit <b>112</b> may send output to a printer. Display <b>114</b> provides a mechanism to display information to a user.</p>
<p id="p-0035" num="0034">Instructions for the operating system, applications and/or programs may be located in storage devices <b>116</b>, which are in communication with processor unit <b>104</b> through communications fabric <b>102</b>. In these illustrative examples the instructions are in a functional form on persistent storage <b>108</b>. These instructions may be loaded into memory <b>106</b> for execution by processor unit <b>104</b>. The processes of the different embodiments may be performed by processor unit <b>104</b> using computer implemented instructions, which may be located in a memory, such as memory <b>106</b>.</p>
<p id="p-0036" num="0035">These instructions are referred to as program code, computer usable program code, or computer readable program code that may be read and executed by a processor in processor unit <b>104</b>. The program code in the different embodiments may be embodied on different physical or tangible computer readable media, such as memory <b>106</b> or persistent storage <b>108</b>.</p>
<p id="p-0037" num="0036">Program code <b>118</b> is located in a functional form on computer readable media <b>120</b> that is selectively removable and may be loaded onto or transferred to data processing system <b>100</b> for execution by processor unit <b>104</b>. Program code <b>118</b> and computer readable media <b>120</b> form computer program product <b>122</b> in these examples. In one example, computer readable media <b>120</b> may be computer readable storage media <b>124</b> or computer readable signal media <b>126</b>. Computer readable storage media <b>124</b> may include, for example, an optical or magnetic disk that is inserted or placed into a drive or other device that is part of persistent storage <b>108</b> for transfer onto a storage device, such as a hard drive, that is part of persistent storage <b>108</b>. Computer readable storage media <b>124</b> also may take the form of a persistent storage, such as a hard drive, a thumb drive, or a flash memory, that is connected to data processing system <b>100</b>. In some instances, computer readable storage media <b>124</b> may not be removable from data processing system <b>100</b>. In these illustrative examples, computer readable storage media <b>124</b> is a non-transitory computer readable storage medium.</p>
<p id="p-0038" num="0037">Alternatively, program code <b>118</b> may be transferred to data processing system <b>100</b> using computer readable signal media <b>126</b>. Computer readable signal media <b>126</b> may be, for example, a propagated data signal containing program code <b>118</b>. For example, computer readable signal media <b>126</b> may be an electromagnetic signal, an optical signal, and/or any other suitable type of signal. These signals may be transmitted over communications links, such as wireless communications links, optical fiber cable, coaxial cable, a wire, and/or any other suitable type of communications link. In other words, the communications link and/or the connection may be physical or wireless in the illustrative examples.</p>
<p id="p-0039" num="0038">In some illustrative embodiments, program code <b>118</b> may be downloaded over a network to persistent storage <b>108</b> from another device or data processing system through computer readable signal media <b>126</b> for use within data processing system <b>100</b>. For instance, program code stored in a computer readable storage medium in a server data processing system may be downloaded over a network from the server to data processing system <b>100</b>. The data processing system providing program code <b>118</b> may be a server computer, a client computer, or some other device capable of storing and transmitting program code <b>118</b>.</p>
<p id="p-0040" num="0039">The different components illustrated for data processing system <b>100</b> are not meant to provide architectural limitations to the manner in which different embodiments may be implemented. The different illustrative embodiments may be implemented in a data processing system including components in addition to or in place of those illustrated for data processing system <b>100</b>. Other components shown in <figref idref="DRAWINGS">FIG. 1</figref> can be varied from the illustrative examples shown. The different embodiments may be implemented using any hardware device or system capable of running program code. As one example, the data processing system may include organic components integrated with inorganic components and/or may be comprised entirely of organic components excluding a human being. For example, a storage device may be comprised of an organic semiconductor.</p>
<p id="p-0041" num="0040">In another illustrative example, processor unit <b>104</b> may take the form of a hardware unit that has circuits that are manufactured or configured for a particular use. This type of hardware may perform operations without needing program code to be loaded into a memory from a storage device to be configured to perform the operations.</p>
<p id="p-0042" num="0041">For example, when processor unit <b>104</b> takes the form of a hardware unit, processor unit <b>104</b> may be a circuit system, an application specific integrated circuit (ASIC), a programmable logic device, or some other suitable type of hardware configured to perform a number of operations. With a programmable logic device, the device is configured to perform the number of operations. The device may be reconfigured at a later time or may be permanently configured to perform the number of operations. Examples of programmable logic devices include, for example, a programmable logic array, programmable array logic, a field programmable logic array, a field programmable gate array, and other suitable hardware devices. With this type of implementation, program code <b>118</b> may be omitted because the processes for the different embodiments are implemented in a hardware unit.</p>
<p id="p-0043" num="0042">In still another illustrative example, processor unit <b>104</b> may be implemented using a combination of processors found in computers and hardware units. Processor unit <b>104</b> may have a number of hardware units and a number of processors that are configured to run program code <b>118</b>. With this depicted example, some of the processes may be implemented in the number of hardware units, while other processes may be implemented in the number of processors.</p>
<p id="p-0044" num="0043">As another example, a storage device in data processing system <b>100</b> is any hardware apparatus that may store data. Memory <b>106</b>, persistent storage <b>108</b>, and computer readable media <b>120</b> are examples of storage devices in a tangible form.</p>
<p id="p-0045" num="0044">In another example, a bus system may be used to implement communications fabric <b>102</b> and may be comprised of one or more buses, such as a system bus or an input/output bus. Of course, the bus system may be implemented using any suitable type of architecture that provides for a transfer of data between different components or devices attached to the bus system. Additionally, a communications unit may include one or more devices used to transmit and receive data, such as a modem or a network adapter. Further, a memory may be, for example, memory <b>106</b>, or a cache, such as found in an interface and memory controller hub that may be present in communications fabric <b>102</b>.</p>
<p id="p-0046" num="0045">As another example, a storage device in data processing system <b>100</b> is any hardware apparatus that may store data. Memory <b>106</b>, persistent storage <b>108</b>, and computer readable media <b>120</b> are examples of storage devices in a tangible form.</p>
<p id="p-0047" num="0046">In another example, a bus system may be used to implement communications fabric <b>102</b> and may be comprised of one or more buses, such as a system bus or an input/output bus. Of course, the bus system may be implemented using any suitable type of architecture that provides for a transfer of data between different components or devices attached to the bus system. Additionally, a communications unit may include one or more devices used to transmit and receive data, such as a modem or a network adapter. Further, a memory may be, for example, memory <b>106</b>, or a cache such as found in an interface and memory controller hub that may be present in communications fabric <b>102</b>.</p>
<p id="p-0048" num="0047">The different illustrative embodiments recognize and take into account a number of different considerations. For example, the different illustrative embodiments recognize that attempts to increase processing capacity in a data processing system may not meet expectations. For example, a data processing system may have processor units with more than one core. Some cores in the processor units may be inactive. The processing capacity in the data processing system may be increased by activating cores that are inactive. A core may be activated at a frequency having a value. One may expect that the number of operations increased per second would be equal to the value of the frequency.</p>
<p id="p-0049" num="0048">However, the different illustrative embodiments recognize that activating cores increases the use of power in the data processing system. A data processing system may have limitations on an amount of power that may be used. To prevent the use of power from exceeding the limitations, the frequency of the cores that are active may be decreased. Decreasing the frequency may decrease the processing capacity of the cores.</p>
<p id="p-0050" num="0049">In another example, memory may operate slower to save power. With memory operating slower, cores may have to wait to read data from or write data to memory. Cores having to wait may also decrease the processing capacity of the cores.</p>
<p id="p-0051" num="0050">The different advantageous embodiments further recognize that devices within the data processing system may be affected by the increase in the use of power. For example, a data processing system may have separate partitions. An increase in the use of power by one partition may cause the use of power by another partition to be decreased.</p>
<p id="p-0052" num="0051">Thus, the different illustrative embodiments provide a method, computer program product, and apparatus for managing power in a data processing system. In an illustrative embodiment, a core is activated in the data processing system and configured to operate at a frequency in response to receiving a request to increase a processing capacity of a set of resources in the data processing system. A determination whether a use of power resulting from activating the core configured to operate at the frequency meets a policy for the use of the power in the data processing system is made. A set of parameters associated with devices in the set of resources are adjusted to meet the policy for the use of power in the data processing system in response to a determination that the use of power does not meet the policy. A determination whether a number of operations performed per unit of time by a set of cores associated with the set of resources increased after activating the core is made. An indication that the request to increase the processing capacity of the set of resources is unavailable is made in response to a determination that the number of operations performed per unit of time by the set of cores associated with the set of resources has not increased.</p>
<p id="p-0053" num="0052">As used herein, a set when referring to objects means one or more objects. Also as used herein, a first component may be considered to be associated with a second component by being secured to the second component, bonded to the second component, fastened to the second component, and/or connected to the second component in some other suitable manner. The first component also may be connected to the second component through using a third component. The first component may also be considered to be associated with the second component by being formed as part of and/or an extension of the second component.</p>
<p id="p-0054" num="0053">With reference now to <figref idref="DRAWINGS">FIG. 2</figref>, an illustration of a block diagram of a power management environment is depicted in accordance with an illustrative embodiment. Power management environment <b>200</b> is an environment in which illustrative embodiments may be implemented. In an illustrative embodiment power management environment <b>200</b> is implemented in data processing system <b>202</b>. Data processing system <b>202</b> may be an example of one implementation of data processing system <b>100</b> in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0055" num="0054">Data processing system <b>202</b> includes power management module <b>203</b> and set of resources <b>206</b>. Power management module <b>203</b> manages the use of power in data processing system <b>202</b>. For example, power management module <b>203</b> may manage the use of power by set of resources <b>206</b>. Power management module <b>203</b> may include any combination of hardware and/or software to manage the use of power is data processing system <b>202</b>. For example, power management module <b>203</b> may manage the use of power using hardware without the need for program code. In other examples, power management process <b>204</b> in power management module <b>203</b> may contain program code for management of the use of power in data processing system.</p>
<p id="p-0056" num="0055">Set of resources <b>206</b> includes devices <b>208</b>. Devices <b>208</b> may include any number of different devices that may be present in set of resources <b>206</b> in data processing system <b>202</b>. Devices <b>208</b> may include devices such as for example without limitation, processor unit <b>104</b>, memory <b>106</b>, persistent storage <b>108</b>, communications unit <b>110</b>, input/output (I/O) unit <b>112</b>, and display <b>114</b> in <figref idref="DRAWINGS">FIG. 1</figref>. Devices <b>208</b> may also include devices that are external to data processing system <b>202</b>. For example without limitation, devices <b>208</b> may include devices connected to data processing system such as a camera or external storage device connected by a universal serial bus (USB) or other suitable connector, for example.</p>
<p id="p-0057" num="0056">In these illustrative embodiments, power management process <b>204</b> receives request <b>210</b>. Power management process <b>204</b> may receive request <b>210</b> from a user via user interface <b>214</b>. In these examples, request <b>210</b> is a request for an increase in capacity or performance in set of resources <b>206</b>. For example, request <b>210</b> may be a request for capacity upgrade on demand (CUoD).</p>
<p id="p-0058" num="0057">In one example, request <b>210</b> is a request to increase processing capacity <b>212</b> of set of resources <b>206</b>. In another example, request <b>210</b> is a request for an increase in memory <b>216</b> for set of resources <b>206</b>. In yet another illustrative example, request <b>210</b> may be a request for an increase in set of input/output devices <b>218</b> for set of resources <b>206</b>.</p>
<p id="p-0059" num="0058">When power management process <b>204</b> receives request <b>210</b> to increase processing capacity <b>212</b> of set of resources <b>206</b>, power management process <b>204</b> may decide whether to activate core <b>220</b> and approve request <b>210</b>. In these examples, core <b>220</b> is a core in plurality of cores <b>222</b> in set of processor units <b>224</b>. For example, set of cores <b>226</b> in plurality of cores <b>222</b> are active in set of processing units <b>224</b>. As used herein, &#x201c;active&#x201d; when referring to a core in a processor means that the core is presently available to operate and execute instructions and perform operations for the processor. Core <b>220</b> may be inactive within set of processor units <b>224</b>. As used herein, &#x201c;inactive&#x201d; when referring to a core in a processor means that the core is not presently available to execute instructions and perform operations for the processor. For example, core <b>220</b> have inactive state <b>221</b> and active state <b>223</b>. Inactive state <b>221</b> of core <b>220</b> is when core <b>220</b> is not presently available to execute instructions. For example, core <b>220</b> may be in a sleep state while in inactive state <b>221</b> in set of processor units <b>206</b>.</p>
<p id="p-0060" num="0059">Activating core <b>220</b> in set of resources <b>206</b> may increase processing capacity <b>212</b> in set of resources <b>206</b>. However, before activating core <b>220</b>, power management process <b>204</b> may determine an impact that activating core <b>220</b> may have on devices <b>208</b> in set of resources <b>206</b>. For example, core <b>220</b> may be configured to operate at first frequency <b>228</b>. In this example, power management process <b>204</b> may select first frequency <b>228</b> to match second frequency <b>232</b> of set of cores <b>226</b>. Operating at first frequency <b>228</b>, core <b>220</b> may use amount of power <b>229</b>. Power management process <b>204</b> may determine amount of power <b>229</b> from activating core <b>220</b> at first frequency <b>228</b> using data known about core <b>220</b>. For example, amount of power <b>229</b> used by core <b>220</b> may be calculated using first frequency <b>228</b> and the voltage applied to core <b>220</b>.</p>
<p id="p-0061" num="0060">Power management process <b>204</b> may determine whether the use of power from activating core <b>220</b> meets power use policy <b>230</b> in data processing system <b>202</b>. In these illustrative example, power use policy <b>230</b> includes and rules on the use of power in data processing system <b>202</b>. For example, only a certain amount of power may be available for use in data processing system <b>202</b>. Power use policy <b>230</b> may include rules regarding which devices may use certain amounts of the power available in data processing system <b>202</b>. In another example, limitations on the use of power in data processing system <b>202</b> may be created. Uses of power in data processing system <b>202</b> that exceed limitations may cause devices <b>208</b> in data processing system <b>202</b> to operate improperly. For example, the use of power by devices <b>208</b> in data processing system <b>202</b> may produce heat. When devices <b>208</b> reach certain temperatures, devices <b>208</b> may not operate properly. In these examples, the limitations in power use policy <b>230</b> may be specific to devices <b>208</b>. For example, limitations on the use of power may be specific to set of resources <b>206</b> and set of processor units <b>224</b>.</p>
<p id="p-0062" num="0061">If power management process <b>204</b> determines that the use of power resulting from activating core <b>220</b> at first frequency <b>228</b> does meet power use policy <b>230</b>, power management process <b>204</b> will activate core <b>220</b> at first frequency <b>228</b>. For example, power management process <b>204</b> will activate core <b>220</b> by establishing first frequency <b>228</b> and scheduling instructions on core <b>220</b>. On the other hand, if the use of power does not meet power use policy <b>230</b>, then power management process <b>204</b> will deny request <b>210</b> to increase processing capacity <b>212</b>. Power management process <b>204</b> may provide indication <b>227</b> that request <b>210</b> to increase processing capacity <b>212</b> is unavailable. Power management process <b>204</b> may provide indication <b>227</b> to a user via user interface <b>214</b>.</p>
<p id="p-0063" num="0062">In another example, power management process <b>204</b> may activate core <b>220</b> at first frequency <b>228</b> and monitor an effect of the use of power in data processing system <b>202</b>. In this example, first frequency <b>228</b> has a value that is lower than a desired value for core <b>220</b>. For example, power management process <b>204</b> may activate core <b>220</b> at a minimum operating frequency of core <b>220</b>. Power management process <b>204</b> then monitors the increase in the use of power resulting from activating core <b>220</b> at first frequency <b>228</b>.</p>
<p id="p-0064" num="0063">In these examples, a minimum operating frequency is the lowest frequency that the core can operate at. The minimum frequency may be a physical property of the core, the result of its logical design, or due to other property of the system such as the size of the busses interconnecting the various components of the system. No matter what the cause of the limitation, there is a well-defined minimum operating frequency.</p>
<p id="p-0065" num="0064">Power management process <b>204</b> then increases first frequency <b>228</b> of core <b>220</b>. Each time first frequency <b>228</b> is increased, power management process <b>204</b> monitors the use of power in data processing system <b>202</b> to determine whether the increase in power from increasing first frequency <b>228</b> meets power use policy <b>230</b>. As long as, the use of power meets power use policy <b>230</b>, power management process <b>204</b> will continue to increase first frequency <b>228</b>. If the value for first frequency <b>228</b> reaches the desired value for first frequency <b>228</b>, power management process <b>204</b> will approve request <b>210</b> to increase processing capacity <b>212</b>. Power management process <b>204</b> will allow core <b>220</b> and set of cores <b>226</b> to operate at first frequency <b>228</b>. The increase in processing capacity <b>212</b> of set of resources <b>206</b> is successful and meets expectations.</p>
<p id="p-0066" num="0065">In these illustrative examples, the desire value for first frequency <b>228</b> is selected based on an amount of increase in processing capacity <b>212</b> for set of resources <b>206</b>. Power management process <b>204</b> monitors the use of power from activating core <b>228</b> and increasing first frequency <b>228</b> to determine an effect the use of power may have on cores in set of cores <b>226</b>. For example, power consumption by core <b>220</b> may cause a decrease in power consumption available for cores in of set of cores <b>226</b> in order for the use of power by set of resources <b>206</b> to meet power use policy <b>230</b>. The decrease in power consumption available for set of cores <b>226</b> may cause a decrease in second frequency <b>232</b>. The decrease in second frequency <b>232</b> means that fewer operations are performed by set of cores <b>226</b> per unit of time, which may result in request <b>210</b> for increase in processing capacity <b>212</b> not meeting expectations. Thus, power management process <b>204</b> monitors the effect activating core <b>220</b> has on set of cores <b>226</b>.</p>
<p id="p-0067" num="0066">If however, before reaching the desired value for first frequency <b>228</b>, the use of power from increasing first frequency <b>228</b> does not meet power use policy <b>230</b>, power management process <b>204</b> may deny request <b>210</b> to increase processing capacity <b>212</b> of set of resources <b>206</b>. For example, if the use of power from increasing first frequency <b>228</b> causes a decrease in the processing capacity of set of cores <b>226</b>, power management process <b>204</b> may determine that the use of power from increasing first frequency <b>228</b> does not meet power use policy <b>230</b>. Power management process <b>204</b> will deactivate core <b>220</b>. For example, increasing first frequency <b>228</b> of core <b>220</b> may result in an increase in the use of power that does not meet power use policy <b>230</b>. Since the value of first frequency <b>228</b> has not reached the value of second frequency <b>232</b> of set of cores <b>226</b> not all of the cores within set of resources <b>206</b> can operate at the same frequency. Core <b>220</b> operating at first frequency <b>228</b> less than second frequency <b>232</b> will result in a lower increased in processing capacity <b>212</b> than expected. As a result, power management process <b>204</b> may provide indication <b>227</b> that request <b>210</b> to increase processing capacity <b>212</b> is unavailable under power use policy <b>230</b>.</p>
<p id="p-0068" num="0067">In a further example, power management process <b>204</b> may decrease second frequency <b>232</b> of set of cores <b>226</b> while increasing first frequency <b>228</b> of core <b>220</b>. For example, power management process <b>204</b> may again activate core <b>220</b> at first frequency <b>228</b> having a value lower than the value for second frequency <b>232</b>. In this example, power management process <b>204</b> may alternate between increasing first frequency <b>228</b> and decreasing second frequency <b>232</b>. Each time a frequency is adjusted, power management process <b>204</b> monitors the use of power in set of resources <b>206</b>. Power management process <b>204</b> will continue to move first frequency <b>228</b> and second frequency <b>232</b> towards each other as long as the use of power meets power use policy <b>230</b>.</p>
<p id="p-0069" num="0068">If the value for first frequency <b>228</b> reaches the value for second frequency <b>232</b>, power management process <b>204</b> will determine whether number of operations performed per unit of time <b>234</b> in set of resources <b>206</b> increased. If the number of operations performed per unit of time <b>234</b> in set of resources <b>206</b> increased, power management process <b>204</b> will allow request <b>210</b> for an increase in processing capacity <b>212</b> in set of resources <b>206</b>. Number of operations performed per unit of time <b>234</b> increasing results in processing capacity <b>212</b> of set of resources <b>206</b> increasing. Request <b>210</b> to increase processing capacity <b>212</b> was successful. Core <b>220</b> will remain in active state <b>223</b> in set of resources <b>206</b>.</p>
<p id="p-0070" num="0069">In this example, core <b>220</b> and set of cores <b>226</b> operate at the same frequency. However, this same frequency may be lower than second frequency <b>232</b> of set of cores <b>226</b> before activation of core <b>220</b>. While the amount of increase in processing capacity <b>212</b> may not meet expectations, the increase may be all that is available under power use policy <b>230</b>. If however, increasing first frequency <b>228</b> of core <b>220</b> results in a use of power that does not meet power use policy <b>230</b>, power management process <b>204</b> will deny request <b>210</b> and deactivate core <b>220</b>. Additionally, if the number of operations performed per unit of time <b>234</b> in set of resources <b>206</b> did not increase, power management process <b>204</b> will deny request <b>210</b> and deactivate core <b>220</b>.</p>
<p id="p-0071" num="0070">In yet another example, power management process <b>204</b> may select which core in number of cores <b>238</b> to activate in data processing system <b>202</b>. Power management process <b>204</b> may determine relationship between power and frequency <b>236</b> for number of cores <b>238</b> in data processing system <b>202</b>. For example, different cores in number of cores <b>238</b> may respond differently to increases in frequency. Generally speaking, as frequency increases the power consumed by the core increases as well. However, different cores in number of cores <b>238</b> may have different values for capacitance and voltage. Changes in the values for these parameters affects relationship between power and frequency <b>236</b>. Additionally, power management process <b>204</b> may identify a relationship between power and frequency <b>236</b> based on monitoring the power usage in of number of cores <b>238</b> while adjusting the frequency.</p>
<p id="p-0072" num="0071">Power management process <b>204</b> may select core <b>240</b> having lowest relationship <b>242</b> between power and frequency from among number of cores <b>238</b>. For example, lowest relationship <b>242</b> may be that core <b>240</b> have the lowest increase among number of cores <b>238</b> in the amount of power used as frequency is increased. In another example, power management process <b>204</b> may develop an equation representing a plot of power versus frequency for each of number of cores <b>238</b>. Power management process <b>204</b> may determine lowest relationship <b>242</b> by core <b>240</b> as the core having the equation with the smallest derivative from among number cores <b>238</b>. Power management process <b>204</b> then activates core <b>240</b> as core <b>220</b> to be activated in set of resources <b>206</b>. The frequency for core <b>240</b> may be selected and increased as discussed above with regard to first frequency <b>228</b> of core <b>220</b>.</p>
<p id="p-0073" num="0072">In these illustrative examples, request <b>210</b> may also be a request for an increase in memory <b>216</b> in set of resources <b>206</b>. For example, a user may request additional memory in a capacity upgrade on demand. Power management process <b>204</b> will determine an increase in the use of power that will result from increasing memory <b>216</b> in set of resources <b>206</b>.</p>
<p id="p-0074" num="0073">For example, power management process <b>204</b> may identify rate <b>244</b> that data is written to and read from memory <b>216</b>. Rate <b>244</b> affects the use of power in memory <b>216</b>. Power management process <b>204</b> may adjust rate <b>244</b> by throttling. Throttling is a process of inserting rest periods in operations performed on memory <b>216</b>. For example, for certain periods of time memory <b>216</b> may be inactive. The inactivity of memory <b>216</b> reduces rate <b>244</b> that data is written to and read from memory <b>216</b>. Reducing rate <b>244</b> also reduces the use of power by memory <b>216</b> because memory may be inactive for periods of time.</p>
<p id="p-0075" num="0074">Power management process <b>204</b> then determines whether the increase in the use of power meets power use policy <b>230</b>. If the increase meets power use policy <b>230</b>, power management process <b>204</b> will grant request <b>210</b> for the increase in memory <b>216</b> in set of resources <b>206</b>. For example, memory <b>216</b> may be part of set of resources <b>206</b>. Memory <b>216</b> may have portions that are inactive. Power management process <b>204</b> may increase memory <b>216</b> in set of resources <b>206</b> by activating portions of memory <b>216</b> that are inactive.</p>
<p id="p-0076" num="0075">If however, the increase does not meet power use policy <b>230</b>, power management process <b>204</b> will deny request <b>210</b> for the increase in memory <b>216</b>. Power management process <b>204</b> may provide indication <b>227</b> that request <b>210</b> is unavailable. Power management process <b>204</b> may provide indication <b>227</b> to a user via user interface <b>214</b>.</p>
<p id="p-0077" num="0076">In these illustrative examples, request <b>210</b> may also be a request for an increase in set of input/output devices <b>218</b> for set of resources <b>206</b>. For example, a user may request additional input/output devices in a capacity upgrade on demand. Set of input/output devices <b>218</b> may include, for example without limitation, persistent storage and/or communications units such as persistent storage <b>108</b> and communications unit <b>110</b> in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0078" num="0077">Power management process <b>204</b> determines an increase in the use of power that will result from an increase in set of input/output devices <b>218</b> for set of resources <b>206</b>. Power management process <b>204</b> then determines whether the increase in the use of power meets power use policy <b>230</b>. If the increase meets power use policy <b>230</b>, power management process <b>204</b> will grant request <b>210</b> for the increase in set of input/output devices <b>218</b> for set of resources <b>206</b>.</p>
<p id="p-0079" num="0078">For example, set of input/output devices <b>218</b> may be part of set of resources <b>206</b>. Set of input/output devices <b>218</b> may include devices that are inactive. Power management process <b>204</b> may increase set of input/output devices <b>218</b> in set of resources <b>206</b> by activating the devices in set of input/output devices <b>218</b> that are inactive.</p>
<p id="p-0080" num="0079">If however, the increase in the use of power does not meet power use policy <b>230</b>, power management process <b>204</b> will deny request <b>210</b> for the increase in set of input/output devices <b>218</b> for set of resources <b>206</b>. Power management process <b>204</b> may provide indication <b>227</b> that request <b>210</b> is unavailable. Power management process <b>204</b> may provide indication <b>227</b> to a user via user interface <b>214</b>.</p>
<p id="p-0081" num="0080">In these illustrative embodiments, power management process <b>204</b> can provide feedback to a user regarding request <b>210</b>. For example, power management process <b>204</b> may predict results of implementing request <b>210</b> before granting request <b>210</b>. Power management process <b>204</b> may provide a user with the results. The user is then enabled to decide whether to proceed with request <b>210</b> having knowledge of what may be expected.</p>
<p id="p-0082" num="0081">For example, request <b>210</b> may be a request to increase processing capacity <b>212</b> in set of resources by activating core <b>220</b>. Prior to granting request <b>210</b>, power management process <b>204</b> can determine results of activating core <b>220</b>. As discussed previously, power management process <b>204</b> can determine number of operations performed per unit of time <b>234</b> for set of cores <b>226</b> operating at second frequency <b>232</b> before activation of core <b>220</b>. Power management process <b>204</b> can also predict a frequency that set of cores <b>226</b> and core <b>220</b> can operate at while meeting power use policy <b>230</b> for data processing system <b>202</b>. Based on the frequency predicted, power management process <b>204</b> can predict predicted number of operations performed per unit of time <b>234</b>.</p>
<p id="p-0083" num="0082">Power management process <b>204</b> can then present the user with the difference between number of operations performed per unit of time <b>234</b> and predicted number of operations performed per unit of time <b>246</b>. The difference represents an amount of increase in processing capacity <b>212</b> that can be expected by activating core <b>220</b>. With this information, the user may decide whether to proceed with request <b>210</b> to increase processing capacity <b>212</b>.</p>
<p id="p-0084" num="0083">Power management process <b>204</b> can also present the user with an impact activating core <b>220</b> may have on other devices in set of resources <b>206</b>. For example, to meet power use policy <b>230</b>, power management process <b>204</b> may adjust rate <b>244</b> of memory <b>216</b>. Adjusting rate <b>244</b> of memory <b>216</b> may reduce the use of power in set of resources <b>206</b> to allow core <b>220</b> to operate at first frequency <b>228</b>. Power management process <b>204</b> may present the user with the adjustment to rate <b>244</b> of memory <b>216</b> that allows the increase in processing capacity <b>212</b>. With this information, the user may decide whether to proceed with request <b>210</b> to increase processing capacity <b>212</b>.</p>
<p id="p-0085" num="0084">In another example, if request <b>210</b> for increased capacity fails, power management process <b>204</b> can provide the user with feedback regarding the cause of the failure. As discussed above, power management process <b>204</b> may deny request <b>210</b>. Additionally, power management process <b>204</b> may provide feedback via user interface <b>214</b> regarding why request <b>210</b> was denied. For example, power management process <b>204</b> may indicate that an increase in processing capacity <b>212</b> is unavailable under power use policy <b>230</b>. In one example, the user may then be able to change power use policy <b>230</b> so that request <b>210</b> may be granted.</p>
<p id="p-0086" num="0085">In these illustrative examples, power management process <b>204</b> may monitor set of resources <b>206</b> and manage request <b>210</b>. Power management process <b>204</b> monitors use of power in data processing system following request <b>210</b> being granted. If the use of power does not meet power use policy <b>230</b>, power management process <b>204</b> can adjust set of parameters <b>248</b> of devices <b>208</b> in set of resources <b>206</b>. For example, power management process <b>204</b> may adjust rate <b>244</b> for memory <b>216</b>. Power management process <b>204</b> may adjust second frequency <b>232</b> of set of cores <b>226</b> or the voltage supplied to set of cores <b>206</b>. The adjustments to the frequency and the voltage may be referred to as scaling. Power management process <b>204</b> may scale the frequency and the voltage to meet power use policy <b>230</b>. Power management process <b>204</b> may also deactivate cores in set of cores <b>226</b>, portions of memory <b>216</b>, and/or devices in set of input/output devices <b>218</b>.</p>
<p id="p-0087" num="0086">In one illustrative example, power management process <b>204</b> may identify the number of cores that should be in active state <b>223</b> in set of resources <b>206</b> to maintain processing capacity <b>212</b>. Power management process <b>204</b> monitors second frequency <b>232</b> that set of cores <b>226</b> are operating. Power management process <b>204</b> can then compare second frequency <b>232</b> with nominal frequency <b>250</b> for set of cores <b>226</b>. Nominal frequency <b>250</b> is the expected frequency that set of cores <b>226</b> can operate at without reductions in frequency. If second frequency <b>232</b> is less that nominal frequency <b>250</b>, power management process <b>204</b> may predict results of deactivation of at least one core in set of cores <b>226</b>. For example, power management process <b>204</b> may identify third frequency <b>252</b> that set of cores <b>226</b> can operate at while maintaining processing capacity <b>212</b> with at least one core deactivated in set of cores <b>226</b>. Thus, set of resources <b>206</b> can maintain processing capacity with fewer cores activated. Having fewer cores activated may result in power savings and cost savings.</p>
<p id="p-0088" num="0087">In another example, power management process <b>204</b> may monitor for adjustments to power use policy <b>230</b>. For example, if limitations in power use policy <b>230</b> are increased, power management process <b>204</b> may reduce the amount of power used by set of resources <b>206</b>. As discussed, power management process <b>204</b> may adjust set of parameters <b>248</b> for devices <b>208</b> in set of resources <b>206</b> to meet changes in power use policy <b>230</b>.</p>
<p id="p-0089" num="0088">The illustration of power management environment <b>200</b> in <figref idref="DRAWINGS">FIG. 2</figref> is not meant to imply physical or architectural limitations to the manner in which different features may be implemented. Other components in addition to and/or in place of the ones illustrated may be used. Some components may be unnecessary in some illustrative embodiments. Also, the blocks are presented to illustrate some functional components. One or more of these blocks may be combined and/or divided into different blocks when implemented in different illustrative embodiments.</p>
<p id="p-0090" num="0089">For example, without limitation, in some illustrative embodiments, set of resources <b>206</b> in data processing system <b>200</b> may be a partition within data processing system <b>202</b>. Set of resources <b>206</b> may be a physical partition with devices <b>208</b> located within a common housing. Memory <b>216</b> and set of input/output devices <b>218</b> may also be located within the common housing. In other illustrative embodiments, set of processor units <b>224</b>, memory <b>216</b>, and set of input/output devices <b>218</b> may all be part of a pool of resources that are connected via one or more communications unit and located externally to one another. Power management process <b>204</b> may allocate devices <b>208</b> to form set of resources <b>206</b>. Set of resources <b>206</b> may be used by one or more users at the same time.</p>
<p id="p-0091" num="0090">In another example, core <b>220</b> may not be part of set of resources <b>206</b>. All cores within set of resources <b>206</b> may be operating when power management process <b>204</b> receives request <b>210</b> to increase processing capacity <b>212</b>. Power management process <b>204</b> may allocate core <b>220</b> to set or resources <b>206</b> from a different set of resources. In a similar manner, memory <b>216</b> and set of input/output devices <b>218</b> may also be allocated to set of resources <b>206</b>.</p>
<p id="p-0092" num="0091">In yet another example, request <b>210</b> may be a temporary request. Request <b>210</b> may be a request for increased capacity for only a period of time. After the period of time, power management process <b>204</b> may deactivate devices that were activated to grant request <b>210</b>.</p>
<p id="p-0093" num="0092">With reference now to <figref idref="DRAWINGS">FIG. 3</figref>, an illustration of a block diagram of a power management system in a data processing system is depicted in accordance with an illustrative embodiment. Data processing system <b>300</b> is an example of one implementation of data processing system <b>202</b> in <figref idref="DRAWINGS">FIG. 2</figref>. As depicted, data processing system <b>300</b> includes power management system <b>302</b>. Power management system <b>302</b> manages the use of power in data processing system <b>300</b>.</p>
<p id="p-0094" num="0093">In these illustrative embodiments, power management system <b>302</b> includes power management process <b>304</b> and upgrade management process <b>306</b>. Power management process <b>304</b> and upgrade management process <b>306</b> may be examples of implementations of power management process <b>204</b> in <figref idref="DRAWINGS">FIG. 2</figref>. For example, power management process <b>304</b> may manage the use of power by devices in data processing system <b>300</b>. Upgrade management process <b>306</b> may manage a request for an increased capacity such as request <b>210</b> in <figref idref="DRAWINGS">FIG. 2</figref>, for example.</p>
<p id="p-0095" num="0094">Data processing system <b>300</b> further includes set of resources <b>308</b>. Set of resources <b>308</b> includes set of boards <b>310</b>, memory <b>312</b>, and set of input/output devices <b>314</b>. Set of boards <b>310</b>, memory <b>312</b>, and set of input/output devices <b>314</b> are all resources in set of resources <b>308</b> in these examples. Set of boards <b>310</b> includes a number of processors. For example, set of boards <b>310</b> includes processor <b>316</b>, processor <b>318</b>, processor <b>320</b>, and processor <b>322</b>. In other examples, set of boards <b>310</b> can include any number of processors. In these examples, set of boards <b>310</b> may be any surface for placement of and providing connections between components in a data processing system. For example without limitation, set of boards <b>310</b> may be a printed circuit board, a motherboard, a breadboard and/or other suitable surfaces.</p>
<p id="p-0096" num="0095">In these illustrative examples, set of boards <b>310</b> also includes controller <b>324</b>. Controller <b>324</b> controls processors <b>316</b>, <b>318</b>, <b>320</b>, and <b>322</b>. For example, controller <b>324</b> can activate processor <b>316</b> or one of the cores in plurality of cores <b>326</b> inside processor <b>316</b>. Controller <b>324</b> can also control the frequency that each of the cores in plurality of cores <b>326</b> operate. Controller <b>324</b> can also control the voltage applied to the cores in plurality of cores <b>326</b>. Controller <b>324</b> may include hardware devices such as, for example without limitation, a microcontroller, a processor, voltage and frequency sensors, an oscillator and/or and other suitable devices. In other examples, controller <b>324</b> may be a software process that includes program code for controlling processors <b>316</b>, <b>318</b>, <b>320</b>, and <b>322</b>.</p>
<p id="p-0097" num="0096">In these illustrative examples, power management process <b>304</b> and upgrade management process <b>306</b> communicate with controller <b>324</b> to manage resources in set of resources <b>308</b>. For example, power management system <b>302</b> may receive a request to increase capacity in set of resources <b>308</b> via user interface <b>328</b>. The request may be a request to increase processing capacity by activating cores in plurality of cores <b>326</b>. Some cores in plurality of cores <b>326</b> may be in inactive state <b>221</b>. Set of resources <b>308</b> may only be allowed to have a certain number of cores active. In other words, set of resources may only be licensed to use a certain number of cores in plurality of cores <b>326</b>.</p>
<p id="p-0098" num="0097">In this example, the request may include a license code. The license code may include an identifier of a core and a key to activate the core. Power management system <b>302</b> may receive the license code and communicate with hypervisor <b>330</b> to determine which cores are licensed in plurality of cores <b>326</b>. In these examples, hypervisor <b>330</b> is a module which allows multiple operating systems to run on a data processing system.</p>
<p id="p-0099" num="0098">Hypervisor <b>330</b> may then compare the license code from the request with set of license cores <b>332</b> stored in storage device <b>334</b>. In these examples, each core in plurality of cores <b>326</b> has a license code in set of license codes <b>332</b>. If the license code from the request matches a license code in set of license codes <b>332</b>, hypervisor <b>330</b> determines which core in plurality of cores <b>326</b> corresponds to the license code matched in set of license codes <b>332</b>. The core determined is core <b>333</b> to be licensed in set of resources <b>308</b>. Hypervisor <b>330</b> communicates core <b>333</b> to be licensed in set of resources <b>308</b> to power management system <b>302</b>. On the other hand, if the license code in the request does not match a license code in set of license codes <b>332</b>, the request is denied.</p>
<p id="p-0100" num="0099">Additionally, if set of resources <b>308</b> is a partition within data processing system <b>300</b>, hypervisor <b>330</b> may communicate with partition manager <b>334</b> to determine which resources are part of the partition. For example, the request to increase the capacity may be a request to increase a capacity in a particular partition. Hypervisor <b>330</b> may confirm that core <b>333</b> requested to be licensed in plurality of cores <b>326</b> is part of the partition. Partition manager <b>334</b> may maintain a listing of resources that are part of particular partitions. If core <b>333</b> requested to be licensed is not part of the partition requesting the capacity increase, partition manager <b>334</b> may allocate core <b>333</b> to the partition. Then hypervisor <b>330</b> can communicate the core to be licensed in set of resources <b>308</b> to power management system <b>302</b>.</p>
<p id="p-0101" num="0100">In these illustrative examples, power management system <b>302</b> receives information identifying the core to be licensed in plurality of cores <b>326</b>. Upgrade management process <b>306</b> may then send instructions to controller <b>324</b> to activate the core to be licensed in plurality of cores <b>326</b>. In this example, upgrade management process includes core performance sensor <b>336</b>. Core performance sensor <b>336</b> monitors performance of cores in plurality of cores <b>326</b>. For example, core performance sensor <b>336</b> may monitor a frequency that cores active in plurality of cores <b>326</b> operate. Upgrade management process <b>306</b> may activate core <b>333</b> at the same frequency the other active cores in plurality of cores <b>326</b>, as previously discussed with regard to core <b>220</b> in <figref idref="DRAWINGS">FIG. 2</figref>. In other examples, upgrade management process <b>306</b> may activate the core at a first frequency and adjust the frequency to increase the processing capacity of plurality of cores <b>326</b> in set of resources <b>308</b>.</p>
<p id="p-0102" num="0101">Power management process <b>304</b> includes power use sensor <b>338</b>. Power use sensor <b>338</b> monitors use of power by the resources in set of resources <b>308</b>. As discussed previously with regard to power management process <b>204</b> in <figref idref="DRAWINGS">FIG. 2</figref>, power management process <b>304</b> may adjust parameters associated with resources in set of resources to meet a power use policy, such as power use policy <b>230</b> in <figref idref="DRAWINGS">FIG. 2</figref>, for example. For example, power management process <b>304</b> may scale the frequencies of cores in plurality of cores <b>326</b> using controller <b>324</b>. Upgrade management process <b>306</b> will continually monitor the processing capacity in set of resources <b>308</b>. Additionally, upgrade management process may determine whether processing capacity has increased by activating core <b>333</b>.</p>
<p id="p-0103" num="0102">The illustration of power management system <b>302</b> in data processing system <b>300</b> is not meant to imply physical or architectural limitations to the manner in which different features may be implemented. Other components in addition to and/or in place of the ones illustrated may be used. Some components may be unnecessary in some illustrative embodiments. Also, the blocks are presented to illustrate some functional components. One or more of these blocks may be combined and/or divided into different blocks when implemented in different illustrative embodiments.</p>
<p id="p-0104" num="0103">For example, without limitation, in some illustrative embodiments power management system <b>302</b> may not be part of data processing system <b>300</b>. Power management system <b>302</b> may be located remotely from data processing system <b>300</b>. For example, power management process <b>304</b> and upgrade management process <b>306</b> may be running on a computing system located remotely from data processing system. Power management process <b>304</b> and upgrade management process <b>306</b> may communicate with data processing to monitor and control the use of power in data processing system <b>300</b>.</p>
<p id="p-0105" num="0104">In other illustrative embodiments, set of resources <b>308</b> may include any number of boards. Each board in set of resources <b>308</b> may have a separate controller, such as controller <b>324</b> for example. Controller <b>324</b> may also control processors on more than one board in set of resources <b>308</b>. In some illustrative embodiments, sensors such as core performance sensor <b>336</b> and power use sensor <b>338</b> may be located on each board in set of resources. In other examples, set of resources <b>308</b> may include sensors for each resource. Sensors in core performance sensor <b>336</b> and power use sensor <b>338</b> may be part of individual processors in processor <b>316</b> as well as cores in plurality of cores <b>326</b>.</p>
<p id="p-0106" num="0105">With reference now to <figref idref="DRAWINGS">FIG. 4</figref>, an illustration of a block diagram of a set of partitions a data processing system is depicted in accordance with an illustrative embodiment. Data processing system <b>400</b> includes set of partitions <b>402</b> and power management system <b>404</b>. Power management system <b>404</b> may be an example of one implementation of power management system <b>302</b> in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0107" num="0106">In these illustrative examples, power management system <b>404</b> includes power use policy <b>406</b> for set of partitions <b>402</b> in data processing system <b>400</b>. Power use policy <b>406</b> is a policy that specifies the use of power in data processing system <b>400</b>. For example, power use policy <b>406</b> may include power limit <b>408</b>. Power limit <b>408</b> may be a limitation on an amount of power that is available for use in data processing system <b>400</b>. Power limit <b>408</b> may also be a limitation on the amount of power that can be consumed in data processing system <b>400</b>. Consumption of power in data processing system <b>400</b> produces heat. The heat produced may be able to be removed at a rate of time. Thus, power limit <b>408</b> can be based on how quickly heat produced in data processing system <b>400</b> can be removed.</p>
<p id="p-0108" num="0107">Power use policy <b>406</b> may include power cap <b>410</b>. Power cap <b>410</b> may include limitations for the use of power in data processing system <b>400</b>. For example, power cap <b>410</b> may include a number of user selected values for the use of power in data processing system <b>400</b>. The values may be selected to achieve goals for the use of power in data processing system <b>400</b>. For example, values in power cap <b>410</b> may be selected based on a cost of using a certain amount of power. Values in power cap <b>410</b> may be selected based on properties of devices in data processing system <b>400</b>. For example, certain devices in data processing system <b>400</b> may operate less efficiently at certain temperatures. Values in power cap <b>410</b> may be selected such that the devices do not reach those temperatures.</p>
<p id="p-0109" num="0108">In these illustrative examples, power use policy <b>406</b> may include set of thresholds <b>412</b> for partition <b>414</b>. Set of thresholds <b>412</b> may include power use thresholds for devices in partition <b>414</b>. For example, set of thresholds <b>412</b> may include power use thresholds for each of set of boards <b>416</b>, memory <b>418</b>, and set of input/output devices <b>420</b>. Thus, power use thresholds in set of thresholds <b>412</b> may be specific to devices in partition <b>414</b>. Similarly, each processor in set of processors <b>422</b> and each core in set of cores <b>424</b> may have thresholds in set of thresholds <b>412</b> for the use of power.</p>
<p id="p-0110" num="0109">Power management system <b>404</b> may monitor power use by devices in partition <b>414</b>. Power management system <b>404</b> may determine whether the use of power by devices in partition <b>414</b> is within thresholds in set of thresholds <b>412</b>. If the use of power is not within the thresholds, power management system <b>404</b> may determine that the use of power does not meet power use policy <b>406</b> for data processing system <b>400</b>.</p>
<p id="p-0111" num="0110">Power management system <b>404</b> also monitors power use in partitions <b>426</b> and <b>428</b>. For example, power use policy <b>406</b> may include set of thresholds <b>430</b> for the use of power by devices in partition <b>426</b>. Set of thresholds <b>430</b> may limit the use of power in partition <b>426</b>. For example, power management system <b>404</b> receives a request to increase a capacity in partition <b>426</b>. Power management system <b>404</b> may grant the request of the use of power resulting from granting the request is within set of thresholds <b>430</b> and meets power use policy <b>406</b>. Set of thresholds <b>430</b> for partition <b>426</b> may insure that increases in the use of power by devices in partition <b>426</b> will not affect the use of power by devices in partitions <b>414</b> and <b>428</b>. Thus, power management system <b>404</b> may not grant requests to increase capacity in one partition when the request will cause capacity in another partition to be affected.</p>
<p id="p-0112" num="0111">The illustration of set of partitions <b>402</b> in data processing system <b>400</b> is not meant to imply physical or architectural limitations to the manner in which different features may be implemented. Other components in addition to and/or in place of the ones illustrated may be used. Some components may be unnecessary in some illustrative embodiments. Also, the blocks are presented to illustrate some functional components. One or more of these blocks may be combined and/or divided into different blocks when implemented in different illustrative embodiments.</p>
<p id="p-0113" num="0112">For example, without limitation, in some illustrative embodiments power management system <b>404</b> may not be part of data processing system <b>400</b>. Power management system <b>404</b> may be located remotely from data processing system <b>400</b>. For example, power management process <b>404</b> may communicate with data processing system <b>400</b> to monitor the use of power in data processing system <b>400</b>. In other embodiments, set of partitions <b>402</b> may be a set of resources that are available within data processing system <b>400</b>.</p>
<p id="p-0114" num="0113">With reference now to <figref idref="DRAWINGS">FIG. 5</figref>, a flowchart of a process for managing power in a data processing system is depicted in accordance with an illustrative embodiment. The process may be performed by power management process <b>204</b> running on data processing system <b>202</b> in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0115" num="0114">The process begins by receiving a request to increase a processing capacity of a set of resources in a data processing system (step <b>502</b>). The process then activates a core in the data processing system at a frequency (step <b>504</b>). In step <b>504</b>, the core may be configured to operate at the frequency. The process may also select the frequency.</p>
<p id="p-0116" num="0115">Thereafter the process determines whether a use of power resulting from activating the core at the frequency meets a policy for the use of the power in the data processing system (step <b>506</b>). If the process determines that the use of power does not meet the policy, the process adjusts a set of parameters associated with devices in the set of resources to meet the policy for the use of power in the data processing system (step <b>508</b>). The process then determines whether a number of operations performed per unit of time by a set of cores associated with the set of resources increased after activating the core (step <b>510</b>). In step <b>510</b>, the core activated may be included in the set of cores for the determination.</p>
<p id="p-0117" num="0116">If the process then determines that the number of operations performed per unit of time increased after activating the core the process allows the request (step <b>512</b>), with the process terminating thereafter. In step <b>512</b>, the core remains active operating at the frequency and the request for increase in processing capacity is achieved. If the process determines that the number of operations performed per unit of time has not increased after activating the core, the process indicates that the request to increase the processing capacity of the set of resources is unavailable (step <b>514</b>), with the process terminating thereafter. In step <b>514</b>, the core may also be deactivated.</p>
<p id="p-0118" num="0117">With reference now to <figref idref="DRAWINGS">FIG. 6</figref>, a flowchart of a process for determining use of power in a data processing system is depicted in accordance with an illustrative embodiment. The process may be performed by power management process <b>304</b> implemented in power management system <b>302</b> in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0119" num="0118">The process begins by receiving a request to increase a processing capacity of a set of resources (step <b>602</b>). The process then determines a frequency of a set of cores in the set of resources (step <b>604</b>). In step <b>604</b>, the frequency may be determined using a core performance sensor such as core performance sensor <b>336</b> in <figref idref="DRAWINGS">FIG. 3</figref>, for example.</p>
<p id="p-0120" num="0119">Thereafter, the process determines whether the use of power resulting from activating a core at the frequency meets a policy for the use of the power in the set of resources before activating the core (step <b>606</b>). If the process determines that the use of power meets the policy, the process activates the core in the set of resources at the frequency (step <b>608</b>). In step <b>608</b>, the core may be activated using a controller such as controller <b>324</b> in <figref idref="DRAWINGS">FIG. 3</figref>, for example. If the process determines that the use of power does not meet the policy, the process indicates that the request to increase the processing capacity of the set of resources is unavailable (step <b>610</b>), with the process terminating thereafter.</p>
<p id="p-0121" num="0120">With reference now to <figref idref="DRAWINGS">FIG. 7</figref>, a flowchart of a process for increasing a frequency of a core in a data processing system is depicted in accordance with an illustrative embodiment. The process may be performed by upgrade management process <b>306</b> implemented in power management system <b>302</b> in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0122" num="0121">The process begins by receiving a request to increase a processing capacity of a set of resources (step <b>702</b>). The process then determines a set frequency of a set of cores in the set of resources (step <b>704</b>). In step <b>704</b>, the set of cores are cores that are active in set of resources. Thereafter, the process activates a core in the set of resources at a core frequency (step <b>706</b>). In step <b>706</b>, the core frequency is less than the set frequency. For example, the core frequency may be a minimum frequency for the core. The process then increases the core frequency (step <b>708</b>). In step <b>708</b>, the core frequency may be incremented by a predetermined amount.</p>
<p id="p-0123" num="0122">Thereafter the process determines whether the use of power resulting from operating the core at the core frequency reached a threshold in a policy for the use of power in the set of resources (step <b>710</b>). For example, in step <b>710</b>, the threshold may be a limit for the core, a board the core is positioned on, the set of resources, or the data processing system. If the process determines that the use of power has reached the threshold, the process indicates that the request to increase the processing capacity is unavailable and deactivates the core (step <b>712</b>) with the process terminating thereafter.</p>
<p id="p-0124" num="0123">If the process determines that the use of power has not reached the threshold, the process determines whether a value of the core frequency has reached a value of the set frequency (step <b>714</b>). In step <b>714</b>, the core frequency may have passed the set frequency or be within some nominal range of the set frequency. Either occurrence may result in a determination that the core frequency has reached the set frequency. If the process determines that the core frequency has not reached the set frequency, the process returns to step <b>708</b> and increases the core frequency. If the process determines that the core frequency has reached the set frequency, the process allows the core in the set of resources to operate at the set frequency (step <b>716</b>) with the process terminating thereafter.</p>
<p id="p-0125" num="0124">With reference now to <figref idref="DRAWINGS">FIG. 8</figref>, a flowchart of a process for adjusting frequencies in a set of resources is depicted in accordance with an illustrative embodiment. The process may be performed by upgrade management process <b>304</b> implemented in power management system <b>302</b> in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0126" num="0125">The process begins by receiving a request to increase a processing capacity of a set of resources (step <b>802</b>). The process then determines a set frequency of the set of cores in the set of resources (step <b>804</b>). Thereafter, the process activates a core in the set of resources at a core frequency (step <b>806</b>). In step <b>806</b>, the core frequency is less than the set frequency. For example, the core frequency may be a minimum frequency for the core. The process then decreases the set frequency and increases the core frequency (step <b>808</b>). In step <b>808</b>, the process may step the set frequency and the core frequency together at predetermined intervals. For example, the process may increase the core frequency as discussed with regard to step <b>706</b> in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0127" num="0126">Thereafter, the process then determines whether the use of power resulting from operating the core at the core frequency has reached a threshold in a policy for the use of power in the set of resources (step <b>810</b>). For example, in step <b>810</b>, the threshold in the policy may be a limit for the core, a board the core is positioned on, the set of resources, or the data processing system. If the process determines that the use of power has reached the threshold, the process indicates that the request to increase the processing capacity is unavailable and deactivates the core (step <b>812</b>), with the process terminating thereafter.</p>
<p id="p-0128" num="0127">If the process determines that the use of power has not reached the threshold, the process determines whether a value of the core frequency has reached a value of the set frequency (step <b>814</b>). In step <b>814</b>, the core frequency may have passed the set frequency or be within some nominal range of the set frequency. Either occurrence may result in a determination that the core frequency has reached the set frequency. If the process determines that the core frequency has not reached the set frequency, the process returns to step <b>808</b> and decreases the set frequency and increases the core frequency.</p>
<p id="p-0129" num="0128">If the process determines that the core frequency has reached the set frequency, the process determines whether a number of operations performed per unit of time by a set of cores associated with the set of resources increased after activating the core (step <b>816</b>). If the process determines that the number has not increased after activating the core, the process indicates that the request to increase the processing capacity of the set of resources is unavailable and deactivates the core (step <b>812</b>), with the process terminating thereafter. If the process determines that the number has increased after activating the core, the process allows the core in the set of resources to operate in the set of resources (step <b>818</b>), with the process terminating thereafter.</p>
<p id="p-0130" num="0129">With reference now to <figref idref="DRAWINGS">FIG. 9</figref>, a flowchart of a process for selecting a core in a data processing system is depicted in accordance with an illustrative embodiment. The process may be performed by power management process <b>304</b> implemented in power management system <b>302</b> in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0131" num="0130">The process begins by receiving a request to increase a processing capacity of a set of resources (step <b>902</b>). The process then determines a relationship between power and frequency for each of a number of cores in the data processing system (step <b>904</b>). In step <b>904</b>, the number of cores are inactive within the data processing system. The process may determine an equation for the relationship based on a plot of power versus frequency. The process then selects a first core having a lowest relationship between power and frequency among cores in the number of cores as the core to be activated in the data processing system (step <b>906</b>). In step <b>906</b>, the core selected may be the core that has the lowest derivative of the equation among the number of cores.</p>
<p id="p-0132" num="0131">Thereafter, the process allocates the core to the set of resources (step <b>908</b>). The process then establishes the frequency that the core will operate at in set of resources (step <b>910</b>), with the process terminating thereafter. For example, in step <b>908</b>, the frequency may be established as discussed in <figref idref="DRAWINGS">FIG. 7</figref> and steps <b>706</b> through <b>716</b>. The frequency may also be established as discussed in <figref idref="DRAWINGS">FIG. 8</figref> and steps <b>806</b> through <b>824</b>.</p>
<p id="p-0133" num="0132">With reference now to <figref idref="DRAWINGS">FIG. 10</figref>, a flowchart of a process for determining capacity in a data processing system is depicted in accordance with an illustrative embodiment. The process may be performed by power management process <b>304</b> implemented in power management system <b>302</b> in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0134" num="0133">The process begins by receiving a request to increase the processing capacity of the set of resources in the data processing system (step <b>1002</b>). The process then determines a set frequency of a set of cores in the set of resources (step <b>1004</b>). Thereafter, the process determines a current number of operations performed per unit of time by the set of cores operating at the set frequency (step <b>1006</b>).</p>
<p id="p-0135" num="0134">The process then determines a third frequency that the set of cores and the core can operate at while meeting the policy for the use of the power in the data processing system (step <b>1008</b>). In step <b>1008</b>, the third frequency may have a same value as a value for the set frequency. The value of the third frequency may also be lower than the value for the set frequency. Thereafter, the process determines a predicted number of operations performed per unit of time for the set of cores and the core operating at the third frequency (step <b>1010</b>).</p>
<p id="p-0136" num="0135">The process then presents a difference between the current number and the predicted number (step <b>1012</b>). In step <b>1012</b>, the difference may be presented to a user that requested the increase in the processing capacity. Thereafter, the process requests approval for activating the core (step <b>1014</b>). If the process receives the approval (step <b>1016</b>), the process activates the core at the third frequency (step <b>1018</b>). The process then establishes the third frequency as the set frequency the set of cores operate (step <b>1020</b>), with the process terminating thereafter. In step <b>1020</b>, the third frequency may have a same value as a value for the set frequency. Thus step <b>1020</b> may consist of doing nothing. If the process does not receive the approval, the process does not activate the core (step <b>1022</b>), with the process terminating thereafter.</p>
<p id="p-0137" num="0136">With reference now to <figref idref="DRAWINGS">FIG. 11</figref>, a flowchart of a process for managing cores in a set of resources is depicted in accordance with an illustrative embodiment. The process may be performed by power management process <b>304</b> implemented in power management system <b>302</b> in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0138" num="0137">The process begins by determining whether a frequency a set of cores in a set of resources are operating at is less than a nominal frequency for cores within the set of cores (step <b>1102</b>). If the process determines that the frequency is not less than the nominal frequency, the process indicates that the proper number of cores are activated in the set of resources (step <b>1104</b>), with the process terminating thereafter. If the process determines that that the frequency is less than the nominal frequency, the process determines a predicted frequency for the set of cores that will maintain a number of operations performed per unit of time while one core in the set of cores is deactivated (step <b>1106</b>).</p>
<p id="p-0139" num="0138">Thereafter, the process determines whether a use of power resulting from the set of cores operating at the predicted frequency while the one core in the set of cores is deactivated meets a policy for the use of power in the set of resources (step <b>1108</b>). If the process determines that the use of power does not meet the policy, the process returns to step <b>1104</b>, with the process terminating thereafter. If the process determines that the use of power does meet the policy, the process deactivates the one core (step <b>1110</b>). Thereafter, the process returns to step <b>1102</b> to determine whether additional cores may be deactivated.</p>
<p id="p-0140" num="0139">The flowchart and block diagrams in the figures illustrate the architecture, functionality, and operation of possible implementations of systems, methods and computer program products according to various embodiments of the present invention. In this regard, each block in the flowchart or block diagrams may represent a module, segment, or portion of code, which comprises one or more executable instructions for implementing the specified logical function(s). It should also be noted that, in some alternative implementations, the functions noted in the block may occur out of the order noted in the figures.</p>
<p id="p-0141" num="0140">For example, two blocks shown in succession may, in fact, be executed substantially concurrently, or the blocks may sometimes be executed in the reverse order, depending upon the functionality involved. It will also be noted that each block of the block diagrams and/or flowchart illustration, and combinations of blocks in the block diagrams and/or flowchart illustration, can be implemented by special purpose hardware-based systems that perform the specified functions or acts, or combinations of special purpose hardware and computer instructions.</p>
<p id="p-0142" num="0141">Thus, the different illustrative embodiments allow for management of power while handling requests for increased capacity in a set of resources. The different illustrative embodiments recognize that power management can determine whether request for increased capacity may be achieved in set of resources. The parameters of devices in the set of resources can be adjusted to meet power use policies for the set of resources. Additionally, the requestor can be provided with information regarding whether the request can be granted and what type of increase may be expected. With this information the requestor can determine whether the expectations are worth the cost of the request.</p>
<p id="p-0143" num="0142">Additionally, different illustrative embodiments manage requests for increased capacity. The different illustrative embodiments provide several processes to scale parameters of devices in the set of resources to increase capacity while meeting the power use policies in place. The different illustrative embodiments also provide processes for determine a number of resources that should be active within the set of resources to meet capacity expectations. If capacity expectations may be met with fewer resources, resources may be deactivated. Resources being deactivated may save in licensing costs. Resources being deactivate may also result in reductions in use power of power while still meeting capacity expectations.</p>
<p id="p-0144" num="0143">Thus, the different illustrative embodiments provide a method, computer program product, and apparatus for managing power in a data processing system. In an illustrative embodiment, a core is activated in the data processing system and configured to operate at a frequency in response to receiving a request to increase a processing capacity of a set of resources in the data processing system. A determination whether a use of power resulting from activating the core configured to operate at the frequency meets a policy for the use of the power in the data processing system is made. A set of parameters associated with devices in the set of resources are adjusted to meet the policy for the use of power in the data processing system in response to a determination that the use of power does not meet the policy. A determination whether a number of operations performed per unit of time by a set of cores associated with the set of resources increased after activating the core is made. An indication that the request to increase the processing capacity of the set of resources is unavailable is made in response to a determination that the number of operations performed per unit of time by the set of cores associated with the set of resources has not increased.</p>
<p id="p-0145" num="0144">The terminology used herein is for the purpose of describing particular embodiments only and is not intended to be limiting of the invention. As used herein, the singular forms &#x201c;a&#x201d;, &#x201c;an&#x201d; and &#x201c;the&#x201d; are intended to include the plural forms as well, unless the context clearly indicates otherwise. It will be further understood that the terms &#x201c;comprises&#x201d; and/or &#x201c;comprising,&#x201d; when used in this specification, specify the presence of stated features, integers, steps, operations, elements, and/or components, but do not preclude the presence or addition of one or more other features, integers, steps, operations, elements, components, and/or groups thereof.</p>
<p id="p-0146" num="0145">The corresponding structures, materials, acts, and equivalents of all means or step plus function elements in the claims below are intended to include any structure, material, or act for performing the function in combination with other claimed elements as specifically claimed. The description of the present invention has been presented for purposes of illustration and description, but is not intended to be exhaustive or limited to the invention in the form disclosed. Many modifications and variations will be apparent to those of ordinary skill in the art without departing from the scope and spirit of the invention. The embodiment was chosen and described in order to best explain the principles of the invention and the practical application, and to enable others of ordinary skill in the art to understand the invention for various embodiments with various modifications as are suited to the particular use contemplated.</p>
<p id="p-0147" num="0146">The invention can take the form of an entirely hardware embodiment, an entirely software embodiment or an embodiment containing both hardware and software elements. In a preferred embodiment, the invention is implemented in software, which includes but is not limited to firmware, resident software, microcode, etc.</p>
<p id="p-0148" num="0147">Furthermore, the invention can take the form of a computer program product accessible from a computer-usable or computer-readable medium providing program code for use by or in connection with a computer or any instruction execution system. For the purposes of this description, a computer-usable or computer readable medium can be any tangible apparatus that can contain, store, communicate, propagate, or transport the program for use by, or in connection with, the instruction execution system, apparatus, or device.</p>
<p id="p-0149" num="0148">The medium can be an electronic, magnetic, optical, electromagnetic, infrared, semiconductor system (apparatus or device), or a propagation medium. Examples of a computer-readable medium include a semiconductor or solid state memory, magnetic tape, a removable computer diskette, a random access memory (RAM), a read-only memory (ROM), a rigid magnetic disk and an optical disk. Current examples of optical disks include compact disk-read only memory (CD-ROM), compact disk-read/write (CD-R/W) and DVD.</p>
<p id="p-0150" num="0149">A data processing system suitable for storing and/or executing program code will include at least one processor coupled directly or indirectly to memory elements through a system bus. The memory elements can include local memory employed during actual execution of the program code, bulk storage, and cache memories which provide temporary storage of at least some program code in order to reduce the number of times code must be retrieved from bulk storage during execution.</p>
<p id="p-0151" num="0150">Input/output, or I/O devices (including but not limited to keyboards, displays, pointing devices, etc.), can be coupled to the system either directly or through intervening I/O controllers.</p>
<p id="p-0152" num="0151">Network adapters may also be coupled to the system to enable the data processing system to become coupled to other data processing systems or remote printers or storage devices through intervening private or public networks. Modems, cable modem and Ethernet cards are just a few of the currently available types of network adapters.</p>
<p id="p-0153" num="0152">The description of the present invention has been presented for purposes of illustration and description, and is not intended to be exhaustive or limited to the invention in the form disclosed. Many modifications and variations will be apparent to those of ordinary skill in the art. The embodiment was chosen and described in order to best explain the principles of the invention, the practical application, and to enable others of ordinary skill in the art to understand the invention for various embodiments with various modifications as are suited to the particular use contemplated.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for managing power in a data processing system, the method comprising:
<claim-text>responsive to receiving a request to increase a processing capacity of a set of resources in the data processing system, activating a core in the data processing system configured to operate at a first frequency, wherein the core is part of the set of resources, and determining a second frequency of a set of cores in the set of resources, wherein the first frequency is less than the second frequency;</claim-text>
<claim-text>determining whether a use of power resulting from activating the core configured to operate at the first frequency meets a policy for the use of the power in the data processing system by increasing the first frequency of the core until the use of power resulting from operating the core at the first frequency reaches a threshold in the policy for the use of power in the data processing system and a first value of the first frequency reaches a second value of the second frequency of the set of cores; and</claim-text>
<claim-text>responsive to the use of power resulting from operating the core at the first frequency reaching the threshold before the first value of the first frequency reaches the second value of the second frequency of the set of cores, indicating that the request to increase the processing capacity is unavailable and deactivating the core.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the core is part of the set of resources, the frequency is a first frequency, and further comprising:
<claim-text>responsive to receiving the request to increase the processing capacity of the set of resources, determining a second frequency of the set of cores in the set of resources;</claim-text>
<claim-text>determining whether the use of power resulting from activating the core at the second frequency meets the policy for the use of the power in the data processing system before activating the core; and</claim-text>
<claim-text>wherein activating the core in the data processing system comprises:</claim-text>
<claim-text>activating the core in the data processing system at the second frequency in response to a determination that the use of power meets the policy.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the core is part of the set of resources, the frequency is a first frequency, and further comprising:
<claim-text>responsive to receiving the request to increase the processing capacity of the set of resources, activating the core in the set of resources at the first frequency;</claim-text>
<claim-text>determining a second frequency of the set of cores in the set of resources, wherein the first frequency is less than the second frequency; and</claim-text>
<claim-text>decreasing the second frequency of the set of cores while increasing the first frequency of the core until a first value associated with the first frequency reaches a second value associated with the second frequency.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>determining a relationship between power and frequency for each of a number of cores in the data processing system, wherein the number of cores are inactive within the data processing system;</claim-text>
<claim-text>selecting a core having a lowest relationship between power and frequency among cores in the number of cores as the core to be activated in the data processing system; and</claim-text>
<claim-text>allocating the core to the set of resources.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>responsive to receiving a request for memory in the set of resources, determining whether the use of power resulting from adding the memory meets the policy for the use of the power in the data processing system; and</claim-text>
<claim-text>responsive to a determination that the use of power resulting from activating the memory will not meet the policy, adjusting a rate at which data is written to and read from the memory to meet the policy for the use of power in data processing system.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>responsive to receiving a request to add a set of input/output devices to the set of resources, determining whether the use of power resulting from adding the set of input/output devices to the set of resources the policy for the use of the power in the data processing system; and</claim-text>
<claim-text>responsive to a determination that the increase in power caused by adding the set of input/output devices will exceed a power threshold associated with the set of resources, indicating that the request to add the set of input/output devices to the set of resources is unavailable.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the frequency is a first frequency and further comprising:
<claim-text>responsive to receiving the request to increase the processing capacity of the set of resources in the data processing system, determining a second frequency of the set of cores in the set of resources and a current number of operations performed per unit of time by the set of cores operating at the second frequency;</claim-text>
<claim-text>determining a third frequency that the set of cores and the core can operate at while meeting the policy for the use of the power in the data processing system;</claim-text>
<claim-text>determining a predicted number of operations performed per unit of time for the set of cores and the core operating at the third frequency;</claim-text>
<claim-text>presenting a difference between the current number and the predicted number; and</claim-text>
<claim-text>requesting approval for activating the core before activating the core in the data processing system.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the frequency is a first frequency, wherein the core is part of the set of cores in the set of resources, wherein the set of cores operate at the first frequency, and further comprising:
<claim-text>determining whether the first frequency of the set of cores is less than a nominal frequency for cores within the set of cores;</claim-text>
<claim-text>responsive to a determination that the first frequency is less than the nominal frequency, determining a second frequency for the set of cores that will maintain the number of operations performed per unit of time while at least one core in the set of cores is deactivated;</claim-text>
<claim-text>responsive to determining the second frequency for the set of cores that will maintain the number of operations performed per unit of time while the at least one core in the set of cores is deactivated, determining whether the use of power resulting from the set of cores operating at the second frequency while the at least one core in the set of cores is deactivated meets the policy for the use of power in the data processing system; and</claim-text>
<claim-text>responsive to a determination that the use of power resulting from the set of cores operating at the second frequency while the at least one core in the set of cores is deactivated meets the policy, deactivating the at least one core.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the set of resources is a partition within the data processing system and wherein the core is one of a plurality of cores in a processor unit.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A computer program product for managing power in a data processing system, the computer program product comprising:
<claim-text>a non-transitory computer readable storage medium:</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for activating a core in the data processing system configured to operate at a first frequency in response to receiving a request to increase a processing capacity of a set of resources in the data processing system, wherein the core is part of the set of resources, and determining a second frequency of a set of cores in the set of resources, wherein the first frequency is less than the second frequency;</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for determining whether a use of power resulting from activating the core configured to operate at the first frequency meets a policy for the use of the power in the data processing system by increasing the first frequency of the core until the use of power resulting from operating the core at the first frequency reaches a threshold in the policy for the use of power in the data processing system and a first value of the first frequency reaches a second value of the second frequency of the set of cores; and</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for indicating that the request to increase the processing capacity is unavailable and deactivating the core in response to the use of power resulting from operating the core at the first frequency reaching the threshold before the first value of the first frequency reaches the second value of the second frequency of the set of cores.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The computer program product of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the core is in the set of resources, the frequency is a first frequency, and further comprising:
<claim-text>program code, stored on the computer readable storage medium, for determining a second frequency of the set of cores in the set of resources in response to receiving the request to increase the processing capacity of the set of resources;</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for determining whether the use of power resulting from activating the core at the second frequency meets the policy for the use of the power in the data processing system before activating the core; and</claim-text>
<claim-text>wherein the program code for activating the core in the data processing system comprises:</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for activating the core in the data processing system at the second frequency in response to a determination that the use of power meets the policy.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The computer program product of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the core is part of the set of resources, the frequency is a first frequency, and further comprising:
<claim-text>program code, stored on the computer readable storage medium, for activating the core in the set of resources at the first frequency in response to receiving the request to increase the processing capacity of the set of resources;</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for determining a second frequency of the set of cores in the set of resources, wherein the first frequency is less than the second frequency; and</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for decreasing the second frequency of the set of cores while increasing the first frequency of the core until a first value associated with the first frequency reaches a second value associated with the second frequency.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The computer program product of <claim-ref idref="CLM-00010">claim 10</claim-ref> further comprising:
<claim-text>program code, stored on the computer readable storage medium, for determining a relationship between power and frequency for each of a number of cores in the data processing system, wherein the number of cores are inactive within the data processing system;</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for selecting a core having a lowest relationship between power and frequency among cores in the number of cores as the core to be activated in the data processing system; and</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for allocating the core to the set of resources.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The computer program product of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the frequency is a first frequency and further comprising:
<claim-text>program code, stored on the computer readable storage medium, for determining a second frequency of the set of cores in the set of resources and a current number of operations performed per unit of time by the set of cores operating at the second frequency in response to receiving the request to increase the processing capacity of the set of resources in the data processing system;</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for determining a third frequency that the set of cores and the core can operate at while meeting the policy for the use of the power in the data processing system;</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for determining a predicted number of operations performed per unit of time for the set of cores and the core operating at the third frequency;</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for presenting a difference between the current number and the predicted number; and</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for requesting approval for activating the core before activating the core in the data processing system.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The computer program product of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the frequency is a first frequency, wherein the core is part of the set of cores in the set of resources, wherein the set of cores operate at the first frequency, and further comprising:
<claim-text>program code, stored on the computer readable storage medium, for determining whether the first frequency of the set of cores is less than a nominal frequency for cores within the set of cores;</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for determining a second frequency for the set of cores that will maintain the number of operations performed per unit of time while at least one core in the set of cores is deactivated in response to a determination that the first frequency is less than the nominal frequency;</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for determining whether the use of power resulting from the set of cores operating at the second frequency while the at least one core in the set of cores is deactivated meets the policy for the use of power in the data processing system in response to determining the second frequency for the set of cores that will maintain the number of operations performed per unit of time while the at least one core in the set of cores is deactivated; and</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for deactivating the at least one core in response to a determination that the use of power resulting from the set of cores operating at the second frequency while the at least one core in the set of cores is deactivated meets the policy.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. An apparatus comprising:
<claim-text>a data processing system; and</claim-text>
<claim-text>a power management module in communication with the data processing system and configured to activate a core in the data processing system configured to operate at a first frequency in response to receiving a request to increase a processing capacity of a set of resources in the data processing system, wherein the core is part of the set of resources, and determining a second frequency of a set of cores in the set of resources, wherein the first frequency is less than the second frequency; to determine whether a use of power resulting from activating the core configured to operate at the first frequency meets a policy for the use of the power in the data processing system by increasing the first frequency of the core until the use of power resulting from operating the core at the first frequency reaches a threshold in the policy for the use of power in the data processing system and a first value of the first frequency reaches a second value of the second frequency of the set of cores; and to indicate that the request to increase the processing capacity is unavailable and deactivating the core in response to the use of power resulting from operating the core at the first frequency reaching the threshold before the first value of the first frequency reaches the second value of the second frequency of the set of cores.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The apparatus of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the core is part of the set of resources, the frequency is a first frequency, and wherein the power management module is further configured to determine a second frequency of the set of cores in the set of resources in response to receiving the request to increase the processing capacity of the set of resources, determine whether the use of power resulting from activating the core at the second frequency meets the policy for the use of the power in the data processing system before activating the core, and wherein in activating the core in the data processing system the power management module is further configured to activate the core in the data processing system at the second frequency in response to a determination that the use of power meets the policy.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The apparatus of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the core is part of the set of resources, the frequency is a first frequency, and wherein the power management module is further configured to activate the core in the set of resources at the first frequency in response to receiving the request to increase the processing capacity of the set of resources, determine a second frequency of the set of cores in the set of resources, wherein the first frequency is less than the second frequency, and decrease the second frequency of the set of cores while increasing the first frequency of the core until a first value associated with the first frequency reaches a second value associated with the second frequency.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The apparatus of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the power management module is further configured to determine a relationship between power and frequency for each of a number of cores in the data processing system, wherein the number of cores are inactive within the data processing system, select a core having a lowest relationship between power and frequency among cores in the number of cores as the core to be activated in the data processing system, and allocate the core to the set of resources.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. An apparatus comprising:
<claim-text>a controller configured to activate a core in a data processing system configured to operate at a first frequency in response to receiving a request to increase a processing capacity of the set of resources in the data processing system, wherein the core is part of the set of resources, and determining a second frequency of a set of cores in the set of resources, wherein the first frequency is less than the second frequency;</claim-text>
<claim-text>an power management system configured to determine whether a use of power resulting from activating the core configured at the first frequency meets a policy for the use of the power in the data processing system by increasing the first frequency of the core until the use of power resulting from operating the core at the first frequency reaches a threshold in the policy for the use of power in the data processing system and a first value of the first frequency reaches a second value of the second frequency of the set of cores and configured to deactivate the core in response to the use of power resulting from operating the core at the first frequency reaching the threshold before the first value of the first frequency reaches the second value of the second frequency of the set of cores; and</claim-text>
<claim-text>a user interface configured to indicate that the request to increase the processing capacity of the set of resources is unavailable in response to the use of power resulting from operating the core at the first frequency reaching the threshold before the first value of the first frequency reaches the second value of the second frequency of the set of cores.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The apparatus of <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein the core is part of the set of resources and the frequency is a first frequency, wherein the upgrade management system is configured to determine a second frequency of the set of cores in the set of resources in response to receiving the request to increase the processing capacity of the set of resources, wherein the power management system is configured to determine whether the use of power resulting from activating the core at the second frequency meets the policy for the use of the power in the data processing system before activating the core, and wherein the controller is configured to activate the core in the data processing system at the second frequency in response to a determination that the use of power meets the policy.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>responsive to a determination that the use of power does not meet the policy, adjusting a set of parameters associated with devices in the set of resources to meet the policy for the use of power in the data processing system;</claim-text>
<claim-text>determining whether a number of operations performed per unit of time by the set of cores associated with the set of resources increased after activating the core; and</claim-text>
<claim-text>responsive to a determination that the number of operations performed per unit of time by the set of cores associated with the set of resources has not increased, indicating that the request to increase the processing capacity of the set of resources is unavailable.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The computer program product of <claim-ref idref="CLM-00010">claim 10</claim-ref> further comprising:
<claim-text>program code, stored on the computer readable storage medium, for adjusting a set of parameters associated with devices in the set of resources to meet the policy for the use of power in the data processing system in response to a determination that the use of power does not meet the policy;</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for determining whether a number of operations performed per unit of time by a set of cores associated with the set of resources increased after activating the core; and</claim-text>
<claim-text>program code, stored on the computer readable storage medium, for indicating that the request to increase the processing capacity of the set of resources is unavailable in response to a determination that the number of operations performed per unit of time by the set of cores associated with the set of resources has not increased.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. The apparatus of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the power management module is further configured: to adjust a set of parameters associated with devices in the set of resources to meet the policy for the use of power in the data processing system in response to a determination that the use of power does not meet the policy; to determine whether a number of operations performed per unit of time by a set of cores associated with the set of resources increased after activating the core; and to indicate that the request to increase the processing capacity of the set of resources is unavailable in response to a determination that the number of operations performed per unit of time by the set of cores associated with the set of resources has not increased.</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The apparatus of <claim-ref idref="CLM-00020">claim 20</claim-ref> further comprising:
<claim-text>the power management system further configured to adjust a set of parameters associated with devices in the set of resources to meet the policy for the use of power in the data processing system in response to a determination that the use of power does not meet the policy;</claim-text>
<claim-text>an upgrade management system configured to determine whether a number of operations performed per unit of time by a set of cores associated with the set of resources increased; and</claim-text>
<claim-text>the user interface further configured to indicate that the request to increase the processing capacity of the set of resources is unavailable in response to a determination that the number of operations performed per unit of time by the set of cores associated with the set of resources has not increased. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
