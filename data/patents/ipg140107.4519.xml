<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625603-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625603</doc-number>
<kind>B1</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13104554</doc-number>
<date>20110510</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>121</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>12</main-group>
<subgroup>28</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>9</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>3703953</main-classification>
<further-classification>370401</further-classification>
<further-classification>726 15</further-classification>
</classification-national>
<invention-title id="d2e53">Systems and methods for multicast switching in a private VLAN</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5959989</doc-number>
<kind>A</kind>
<name>Gleeson et al.</name>
<date>19990900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370390</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6041358</doc-number>
<kind>A</kind>
<name>Huang et al.</name>
<date>20000300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>709238</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6236643</doc-number>
<kind>B1</kind>
<name>Kerstein</name>
<date>20010500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370254</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6563832</doc-number>
<kind>B1</kind>
<name>Stuart et al.</name>
<date>20030500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370403</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6741592</doc-number>
<kind>B1</kind>
<name>Edsall et al.</name>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370389</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6765914</doc-number>
<kind>B1</kind>
<name>Jain et al.</name>
<date>20040700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>37039531</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6813250</doc-number>
<kind>B1</kind>
<name>Fine et al.</name>
<date>20041100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370256</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6839348</doc-number>
<kind>B2</kind>
<name>Tang et al.</name>
<date>20050100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370390</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6873602</doc-number>
<kind>B1</kind>
<name>Ambe</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370254</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6907036</doc-number>
<kind>B1</kind>
<name>Malalur</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370382</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6937576</doc-number>
<kind>B1</kind>
<name>Di Benedetto et al.</name>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370256</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>6975581</doc-number>
<kind>B1</kind>
<name>Medina et al.</name>
<date>20051200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370401</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>6993033</doc-number>
<kind>B1</kind>
<name>Williams</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370400</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>7006431</doc-number>
<kind>B1</kind>
<name>Kanekar et al.</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370217</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>7436804</doc-number>
<kind>B2</kind>
<name>O'Neill</name>
<date>20081000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370331</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>RE40999</doc-number>
<kind>E</kind>
<name>Frantz et al.</name>
<date>20091100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>3703953</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>7693158</doc-number>
<kind>B1</kind>
<name>Carrie</name>
<date>20100400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>37039553</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>7944846</doc-number>
<kind>B1</kind>
<name>Cai et al.</name>
<date>20110500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370252</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>2002/0009078</doc-number>
<kind>A1</kind>
<name>Wilson et al.</name>
<date>20020100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370389</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>2002/0027906</doc-number>
<kind>A1</kind>
<name>Athreya et al.</name>
<date>20020300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370386</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>2002/0091795</doc-number>
<kind>A1</kind>
<name>Yip</name>
<date>20020700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>709218</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>2002/0181465</doc-number>
<kind>A1</kind>
<name>Tsuchiya et al.</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370392</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>2003/0018715</doc-number>
<kind>A1</kind>
<name>O'Neill</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709204</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>2003/0120763</doc-number>
<kind>A1</kind>
<name>Volpano</name>
<date>20030600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709223</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00025">
<document-id>
<country>US</country>
<doc-number>2003/0165140</doc-number>
<kind>A1</kind>
<name>Tang et al.</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370393</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00026">
<document-id>
<country>US</country>
<doc-number>2003/0223402</doc-number>
<kind>A1</kind>
<name>Sanchez et al.</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370351</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00027">
<document-id>
<country>US</country>
<doc-number>2003/0235191</doc-number>
<kind>A1</kind>
<name>Heggarty et al.</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370389</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00028">
<document-id>
<country>US</country>
<doc-number>2004/0032868</doc-number>
<kind>A1</kind>
<name>Oda et al.</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370389</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00029">
<document-id>
<country>US</country>
<doc-number>2004/0047320</doc-number>
<kind>A1</kind>
<name>Eglin</name>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370338</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00030">
<document-id>
<country>US</country>
<doc-number>2004/0081171</doc-number>
<kind>A1</kind>
<name>Finn</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>37039553</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00031">
<document-id>
<country>US</country>
<doc-number>2004/0081180</doc-number>
<kind>A1</kind>
<name>De Silva et al.</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370402</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00032">
<document-id>
<country>US</country>
<doc-number>2004/0100951</doc-number>
<kind>A1</kind>
<name>O'neill</name>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370389</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00033">
<document-id>
<country>US</country>
<doc-number>2004/0111529</doc-number>
<kind>A1</kind>
<name>Parmar</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709245</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00034">
<document-id>
<country>US</country>
<doc-number>2004/0174828</doc-number>
<kind>A1</kind>
<name>Elie-Dit-Cosaque et al.</name>
<date>20040900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370254</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00035">
<document-id>
<country>US</country>
<doc-number>2004/0202171</doc-number>
<kind>A1</kind>
<name>Hama</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>3703951</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00036">
<document-id>
<country>US</country>
<doc-number>2004/0205215</doc-number>
<kind>A1</kind>
<name>Kouvelas et al.</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709231</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00037">
<document-id>
<country>US</country>
<doc-number>2005/0055573</doc-number>
<kind>A1</kind>
<name>Smith</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713201</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00038">
<document-id>
<country>US</country>
<doc-number>2005/0074006</doc-number>
<kind>A1</kind>
<name>Ambe et al.</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370390</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00039">
<document-id>
<country>US</country>
<doc-number>2005/0076140</doc-number>
<kind>A1</kind>
<name>Fung</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709245</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00040">
<document-id>
<country>US</country>
<doc-number>2005/0083933</doc-number>
<kind>A1</kind>
<name>Fine et al.</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370390</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00041">
<document-id>
<country>US</country>
<doc-number>2005/0091313</doc-number>
<kind>A1</kind>
<name>Zhou et al.</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>709204</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00042">
<document-id>
<country>US</country>
<doc-number>2005/0120378</doc-number>
<kind>A1</kind>
<name>Jalonen</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>725 97</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00043">
<document-id>
<country>US</country>
<doc-number>2005/0147094</doc-number>
<kind>A1</kind>
<name>Malalur</name>
<date>20050700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370389</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00044">
<document-id>
<country>US</country>
<doc-number>2005/0154790</doc-number>
<kind>A1</kind>
<name>Nagata et al.</name>
<date>20050700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>709223</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00045">
<document-id>
<country>US</country>
<doc-number>2005/0195811</doc-number>
<kind>A1</kind>
<name>Wu et al.</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370389</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00046">
<document-id>
<country>US</country>
<doc-number>2005/0198383</doc-number>
<kind>A1</kind>
<name>Rose et al.</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>709245</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00047">
<document-id>
<country>US</country>
<doc-number>2005/0265328</doc-number>
<kind>A1</kind>
<name>Bettink</name>
<date>20051200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370389</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00048">
<document-id>
<country>US</country>
<doc-number>2005/0265356</doc-number>
<kind>A1</kind>
<name>Kawarai et al.</name>
<date>20051200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>37039553</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00049">
<document-id>
<country>US</country>
<doc-number>2006/0002311</doc-number>
<kind>A1</kind>
<name>Iwanaga et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370254</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00050">
<document-id>
<country>US</country>
<doc-number>2006/0018253</doc-number>
<kind>A1</kind>
<name>Windisch et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370216</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00051">
<document-id>
<country>US</country>
<doc-number>2006/0018333</doc-number>
<kind>A1</kind>
<name>Windisch et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370432</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00052">
<document-id>
<country>US</country>
<doc-number>2006/0023724</doc-number>
<kind>A1</kind>
<name>Na et al.</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>37039553</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00053">
<document-id>
<country>US</country>
<doc-number>2006/0029001</doc-number>
<kind>A1</kind>
<name>Mensch et al.</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370254</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00054">
<document-id>
<country>US</country>
<doc-number>2006/0039378</doc-number>
<kind>A1</kind>
<name>Medina et al.</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370392</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00055">
<document-id>
<country>US</country>
<doc-number>2006/0114906</doc-number>
<kind>A1</kind>
<name>Bowes et al.</name>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370392</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00056">
<document-id>
<country>US</country>
<doc-number>2006/0182118</doc-number>
<kind>A1</kind>
<name>Lam et al.</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>37039542</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00057">
<document-id>
<country>US</country>
<doc-number>2006/0221960</doc-number>
<kind>A1</kind>
<name>Borgione</name>
<date>20061000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370390</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00058">
<document-id>
<country>US</country>
<doc-number>2006/0221975</doc-number>
<kind>A1</kind>
<name>Lo et al.</name>
<date>20061000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>3703955</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00059">
<document-id>
<country>US</country>
<doc-number>2006/0251065</doc-number>
<kind>A1</kind>
<name>Hamamoto et al.</name>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370389</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00060">
<document-id>
<country>US</country>
<doc-number>2007/0019646</doc-number>
<kind>A1</kind>
<name>Bryant et al.</name>
<date>20070100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370390</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00061">
<document-id>
<country>US</country>
<doc-number>2007/0071011</doc-number>
<kind>A1</kind>
<name>de Heer et al.</name>
<date>20070300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>37039553</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00062">
<document-id>
<country>US</country>
<doc-number>2007/0097639</doc-number>
<kind>A1</kind>
<name>de Heer et al.</name>
<date>20070500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>361697</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00063">
<document-id>
<country>US</country>
<doc-number>2007/0127414</doc-number>
<kind>A1</kind>
<name>Sridhar et al.</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370331</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00064">
<document-id>
<country>US</country>
<doc-number>2007/0127459</doc-number>
<kind>A1</kind>
<name>Lo et al.</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370389</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00065">
<document-id>
<country>US</country>
<doc-number>2007/0140107</doc-number>
<kind>A1</kind>
<name>Eckert et al.</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370216</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00066">
<document-id>
<country>US</country>
<doc-number>2007/0150614</doc-number>
<kind>A1</kind>
<name>Ramachandran et al.</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709238</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00067">
<document-id>
<country>US</country>
<doc-number>2007/0211722</doc-number>
<kind>A1</kind>
<name>Subramanian</name>
<date>20070900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370390</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00068">
<document-id>
<country>US</country>
<doc-number>2008/0022390</doc-number>
<kind>A1</kind>
<name>Volpano et al.</name>
<date>20080100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>726 15</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00069">
<document-id>
<country>US</country>
<doc-number>2008/0165705</doc-number>
<kind>A1</kind>
<name>Umayabashi et al.</name>
<date>20080700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>370256</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00070">
<document-id>
<country>US</country>
<doc-number>2010/0260178</doc-number>
<kind>A1</kind>
<name>Huang et al.</name>
<date>20101000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370390</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>15</number-of-claims>
<us-exemplary-claim>7</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>10</number-of-figures>
</figures>
<us-related-documents>
<division>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>11434728</doc-number>
<date>20060516</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>7953089</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13104554</doc-number>
</document-id>
</child-doc>
</relation>
</division>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Ramakrishnan</last-name>
<first-name>Vijayan</first-name>
<address>
<city>Santa Clara</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Foschiano</last-name>
<first-name>Marco E.</first-name>
<address>
<city>Pinerolo</city>
<country>IT</country>
</address>
</addressbook>
<residence>
<country>IT</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Naik</last-name>
<first-name>Chickayya G.</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Ramakrishnan</last-name>
<first-name>Vijayan</first-name>
<address>
<city>Santa Clara</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Foschiano</last-name>
<first-name>Marco E.</first-name>
<address>
<city>Pinerolo</city>
<country>IT</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Naik</last-name>
<first-name>Chickayya G.</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Campbell Stephenson LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Cisco Technology, Inc.</orgname>
<role>02</role>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Hamza</last-name>
<first-name>Faruk</first-name>
<department>2466</department>
</primary-examiner>
<assistant-examiner>
<last-name>Oh</last-name>
<first-name>Andrew</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A Multicast Listener Discovery (MLD) protocol query and/or report snooping process is modified to appropriately map secondary PVLAN identifiers to corresponding primary PVLAN identifiers, thereby accommodating other system elements that are otherwise unaware of primary/secondary PVLAN distinctions. Special cases are also accommodated where reverse path forwarding (RPF) checks in support of multicast operation might otherwise fail due to primary/secondary PVLAN distinctions. Additional steps are taken to ensure that PVLAN information properly accounts for changes in configuration and/or location of various network hosts.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="177.72mm" wi="142.49mm" file="US08625603-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="235.54mm" wi="172.89mm" file="US08625603-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="232.49mm" wi="173.31mm" file="US08625603-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="228.35mm" wi="163.75mm" file="US08625603-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="234.61mm" wi="165.02mm" file="US08625603-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="238.17mm" wi="155.02mm" file="US08625603-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">The present patent application is a divisional of U.S. patent application Ser. No. 11/434,728, filed on May 16, 2006, now U.S. Pat. No. 7,953,089, entitled &#x201c;Systems and Methods for Multicast Switching in a Private VLAN&#x201d; and is incorporated by reference herein in its entirety and for all purposes.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">This invention relates to private virtual local area networks (PVLANs) and, more particularly, to multicast switching in a PVLAN environment.</p>
<heading id="h-0003" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0004" num="0003">Telecommunications networks facilitate exchange of numerous types of data (e.g., computer data, voice data, video data, etc.). Local area networks (LANs) of devices may be formed within a telecommunications network in order to increase network bandwidth usage efficiency by segregating network traffic within such a LAN. In particular, a group of devices in relatively close physical proximity and sharing a common administrative purpose may be designated as members of a LAN.</p>
<p id="p-0005" num="0004">More recently, virtual LANs (&#x201c;VLANs&#x201d;) have been developed. A VLAN is a switched network arbitrarily and logically segmented according to some criteria that is not necessarily related to the physical relationship of network nodes, e.g. function, project team, application, etc. Thus, a VLAN includes a grouping of network nodes (typically defined in terms of the ports on a switching device to which the nodes are connected) virtually constructed regardless of real physical connection. In general, any switch port can belong to a VLAN, and unlike LANs, VLANs contain broadcast and multicast traffic within a predefined group to limit unnecessary bandwidth use in the overall network. Unicast, broadcast, and multicast packets are forwarded and flooded only to stations in the VLAN. Each VLAN is considered a logical network, and packets destined for stations that do not belong to the VLAN are forwarded through a router or bridge. Because a VLAN is considered a separate logical network, it contains its own bridge Management Information Base (MIB) information and can support its own implementation of the Spanning Tree Protocol (STP).</p>
<p id="p-0006" num="0005">To provide further segmentation and control, so-called private VLANs (PVLANs) can be defined based on one or more VLANs. PVLANs provide Layer 2 isolation between ports within the same private VLAN. A PVLAN consists of one primary VLAN and optionally one or more secondary VLANs. The primary VLAN is a basic representation of the entire PVLAN. It has a Layer 3 interface at a router, and contains by default all ports in the PVLAN. Typically, a single IP subnet address mask is assigned to a primary VLAN. There are three types of private VLAN ports: (1) promiscuous&#x2014;a promiscuous port can communicate with all interfaces, including the community and isolated ports within a private VLAN; (2) isolated&#x2014;an isolated port has complete layer 2 separation from other ports within the same private VLAN except for the promiscuous port (private VLANs block all traffic to isolated ports except traffic from promiscuous ports, and traffic received from an isolated port is forwarded only to promiscuous ports); (3) community&#x2014;community ports communicate among themselves and with their promiscuous ports, and these interfaces are isolated at layer 2 from all other interfaces in other communities or isolated ports within their private VLAN. Secondary VLANs are used to achieve traffic isolation within the PVLAN. Depending on various security requirements, multiple secondary VLANs may be deployed.</p>
<p id="p-0007" num="0006">When a packet is routed from an outside network to a PVLAN, it is put in the primary VLAN. In other words, the primary VLAN is the basis for all Layer 3 activities, such as routing, ACL, NAT, etc. Router functionality typically only operates in terms of primary VLANs, and not secondary VLANs. In contrast, the isolated and community VLANs used as secondary VLANs are purely Layer 2 entities. Their existence and configuration only affects switching behavior, and they are generally transparent from a routing point of view.</p>
<p id="p-0008" num="0007">The different levels of PVLAN awareness among switching and routing devices operating in the same network device, or for that matter the same network, can complicate operation of certain network technologies. For example, one approach to providing the benefits of inter-VLAN routing and also ensuring a certain level of performance for the associated LAN has been to implement Layer 3 switches, which are essentially Layer 2 switches with a routing engine that is designed to specifically route traffic between VLANs in a LAN environment. Thus, Layer 3 switches make switching decisions based on both Layer 2 and Layer 3 information, a technique sometimes referred to as multi-layer switching (MLS).</p>
<p id="p-0009" num="0008">Internet Protocol (IP) multicast is a bandwidth-conserving technology that reduces traffic by simultaneously delivering a single stream of packets to multiple recipients. IP Multicast delivers source traffic to multiple receivers without adding any additional burden on the source or the receivers while using the least network bandwidth of any competing technology. Multicast packets are replicated in the network by routers enabled with suitable multicast protocols. Although IP multicast is essentially a Layer 3 technology, the different protocols and techniques used to support IP multicast operate at different layers. Thus, the differing Layer 2 and Layer 3 treatment of PVLANs can be at odds with support requirements for IP multicast.</p>
<p id="p-0010" num="0009">Accordingly, it is desirable to ensure that PVLAN implementations interoperate with IP multicast, and particularly with multicast functionality provided by IP version 6 (Ipv6).</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0011" num="0010">A more complete understanding of the present invention and advantages thereof may be acquired by referring to the following description and the accompanying drawings, in which like reference numbers indicate like features.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a simplified block diagram of a network system including a multi-layer switch in accordance with embodiments of the present invention and having various attached hosts and defined PVLANs.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 2</figref> illustrates a simplified block diagram of the router logic of the multi-layer switch of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 3</figref> illustrates a simplified block diagram of the switch logic of the multi-layer switch of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a simplified example of a VLAN mapping table for use by the multi-layer switch of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a simplified example of an L2 forwarding table for use by the multi-layer switch of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 6</figref> is a flow chart illustrating techniques of the present invention.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 7</figref> illustrates a simplified example of an L3 forwarding table for use by the multi-layer switch of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 8</figref> illustrates a simplified example of a Neighbor Discovery Protocol (NDP) table for use by the multi-layer switch of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 9</figref> is a flow chart illustrating additional techniques of the present invention.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 10</figref> is a flow chart illustrating still other techniques of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0022" num="0021">The following sets forth a detailed description of at least the best contemplated mode for carrying out the one or more devices and/or processes described herein. As will also be apparent to one of skill in the art, the operations disclosed herein may be implemented in a number of ways, and such changes and modifications may be made without departing from this invention and its broader aspects. The description is intended to be illustrative and should not be taken to be limiting.</p>
<p id="p-0023" num="0022">The systems, methods, devices, and techniques of the present application emphasize accommodating the use of private VLANs (PVLANs) in the context of Internet Protocol version 6 (IPv6) multicast operation. Consequently, various related protocols, data formats, message formats, and the like will be known to those skilled in the art. Such protocols and formats are, for example, described in numerous standards documents, IETF documents, RFCs, and the like. Although the present application emphasizes PVLAN operation in IPv6 multicast environments, the disclosed systems, methods, devices, and techniques can be extended for use in other areas of PVLAN operation, and to future multicast implementations.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a simplified block diagram of a network system including a multi-layer switch in accordance with embodiments of the present invention and having various attached hosts and defined PVLANs. Although multi-layer switch architectures are emphasized in the examples of the present application, the disclosed systems, methods, devices, and techniques can be use in numerous different types of network devices including switches, switch-routers, routers, router-switches and storage network devices. The term &#x201c;switch&#x201d; is used in this specification to describe equipment used to direct information over a network based on address information. Those skilled in the art will understand that such equipment includes, for example, switches, multi-layer switches, and routers. For example, a switch may direct an information packet based on address information contained within the packet. However, embodiments of the present invention are not limited to use in a switch, but may be used at any point in a network. Thus, the term &#x201c;network&#x201d; as used herein is to be broadly construed to mean any communication system in which carried information has a characteristic subject to monitoring.</p>
<p id="p-0025" num="0024">As noted above, multi-layer switches or layer 3 switches make switching decisions based on both layer 2 and layer 3 information. The interplay of L2 and L3 based operations in multi-layer switch <b>100</b> means that different parts of the device will typically have different awareness levels of different protocol layer information. Multi-layer switch <b>100</b> includes a number of functional blocks such as network management processor <b>110</b>, router logic <b>200</b>, and switch logic <b>300</b>. Multi-layer switch <b>100</b> also includes numerous ports <b>101</b>-<b>108</b>, for facilitating intercommunication among various network stations such as multi-layer switch <b>100</b> and hosts <b>151</b>-<b>158</b> (e.g., computer systems, other network devices, etc.).</p>
<p id="p-0026" num="0025">Note that <figref idref="DRAWINGS">FIG. 1</figref> is schematic in nature, and many common components are not shown for simplicity. For example, ports <b>101</b>-<b>108</b> can be implemented in various ways, such as dedicated ports (including all necessary physical layer hardware), modular ports or line cards, and the like. Both data and control information is sent between various switch components over one or more bus lines and may include a specialized switch fabric. Well known interface details, memory structures, and support logic are also not illustrated. Moreover, the various components of multi-layer switch <b>100</b> can be organized in different ways. For example, the functionality of <b>110</b>, <b>200</b>, and <b>300</b> can be provided by one or more integrated circuits on a single printed circuit board, or divided among several circuit boards. Similarly, the functionality can be built into specialized hardware components (e.g., ASICs and FPGAs), provided via software executing on one or more general purpose integrated circuits (e.g., embedded processors), or some combination of the two.</p>
<p id="p-0027" num="0026">Thus, the system of <figref idref="DRAWINGS">FIG. 1</figref> generally illustrates a network (or portion thereof) based on a collection of interconnected communication links and subnetworks attached to the various stations. The stations might be so-called end stations, e.g., computer systems or hosts <b>151</b>-<b>158</b> or intermediate stations such as multi-layer switch <b>100</b>. Moreover, various stations might be further divided into sub-components. For example, switch logic <b>300</b> can be designed to operate independently of router logic <b>200</b>, thereby guaranteeing that multi-layer switch <b>100</b> provide desired L2 functionality. As such, switch logic <b>300</b> might itself be considered an intermediate station. Communication among the various network components occurs by exchanging data frames or packets according to one or more predefined protocols, as is well known in the art.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 1</figref> also illustrates several PVLANs <b>160</b>-<b>166</b>. In this example, all of ports <b>101</b>-<b>108</b> are configured to be members of PVLAN <b>160</b> which is also configured as a primary PVLAN. Although all the illustrated ports of multi-layer switch <b>100</b> are shown as part of PVLAN <b>160</b>, this need not be the case, and various different primary PVLANs can be configured. Secondary PVLANs <b>162</b>-<b>166</b> are configured to include ports <b>101</b>-<b>102</b>, <b>103</b>-<b>106</b>, and <b>107</b>-<b>108</b>, respectively. The secondary PVLANs <b>162</b>-<b>166</b> can include various assortments of secondary PVLAN ports, i.e., community, isolated, and promiscuous, as desired. Again, the particular configuration of ports and corresponding PVLANs is arbitrary, and numerous different configurations, e.g., including ports on other devices, can be utilized.</p>
<p id="p-0029" num="0028">Network management processor <b>110</b> provides for system control and configuration including loading of runtime code to various line cards and modules, as well as system diagnostic services. Processor <b>110</b> is also typically configured to execute and manage instances of the spanning tree protocol (STP) for each of the VLANs configured by multi-layer switch <b>100</b>. Furthermore, processor <b>110</b> provides various support services such as execution of an SNMP agent that facilitates the exchange of management information between network devices. Finally, processor <b>110</b> is typically responsible for executing other portions of the TCP/IP stack and communicating relevant configuration information to/from other switch components such as router logic <b>200</b> and switch logic <b>300</b>.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 2</figref> illustrates router logic <b>200</b> in greater detail. Router logic <b>200</b> implements various portions of the multicast PVLAN accommodation techniques of the present application. In the example shown, router logic <b>200</b> includes one or more bus interfaces <b>210</b> for communicating with other components of multi-layer switch <b>200</b>, a route processor <b>230</b>, a header parser ASIC <b>220</b> for extracting relevant packet header information and forwarding it to route processor <b>230</b>, and memory <b>240</b>. Memory <b>240</b> includes storage locations addressable by processor <b>230</b> (and potentially other components of multi-layer switch <b>100</b>) for storing software and data structures associated routing operations. Examples of such software (not shown) include operating systems, routing algorithm implementations, routing protocol implementations, user interfaces providing access to router functionality, and the like. Such software (or at least portions thereof) is executed by route processor <b>230</b>. Examples of the data structures stored in memory <b>240</b> include neighbor discovery protocol (NDP) table <b>242</b>, unicast routing table <b>244</b>, and multicast routing table <b>246</b>.</p>
<p id="p-0031" num="0030">NDP is a protocol used by IPv6 network nodes (hosts and routers) to determine the link-layer addresses for neighbors known to reside on attached links and to quickly purge cached values that become invalid. Hosts also use NDP to find neighboring routers that are willing to forward packets on their behalf. Finally, nodes use the protocol to actively keep track of which neighbors are reachable and which are not, and to detect changed link-layer addresses. When a router or the path to a router fails, a host actively searches for functioning alternates. NDP table <b>242</b> includes various types of information about nodes accessible by the router logic, and is extended in embodiments of the present invention to include information needed for properly accommodating PVLANs. Tables <b>244</b> and <b>246</b> are used by route processor <b>230</b>, which performs unicast and multicast look-up operations against the tables to find appropriate entries specifying outgoing interfaces for the packet. For multicast look-ups, table entries are typically accessed based on IP source address or IP destination address (e.g., a multicast group address). Unicast table <b>244</b> is used in a similar manner to determine which port or interface is used to reach a requested IP destination address, and is also used in the course of performing reverse path forwarding (RPF) checks as described below.</p>
<p id="p-0032" num="0031">Router logic <b>200</b> can be configured to implement numerous other types of router functionality, and thus may include various other hardware, software, and data structure components, as is well known to those skilled in the art.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 3</figref> is a functional block diagram of switch logic <b>300</b>, which also implements various portions of the multicast PVLAN accommodation techniques of the present application. Switch logic <b>300</b> includes one or more bus interfaces <b>310</b>, layer 3 forwarding engine <b>320</b>, layer 2 forwarding engine <b>330</b>, and memory <b>340</b>. Memory <b>340</b> includes storage locations addressable by both engine <b>320</b> and engine <b>330</b> (and potentially other components of multi-layer switch <b>100</b>) for storing software and data structures associated switching operations. In general, L2 forwarding engine <b>330</b> determines L2 based switching operations by searching L2 forwarding tables such as table <b>342</b>. It can also be configured to provide related functionality such as access control list (ACL) and quality of service (QoS) look-ups for classification matching/filtering and performing subsequent actions. Similarly, L3 forwarding engine <b>320</b> searches various L3 forwarding tables (<b>344</b>) such as forwarding information base (FIB) tables, adjacent tables, etc., to make L3 switching decisions. Such L3 forwarding tables are generally populated with information provided by router logic <b>200</b>.</p>
<p id="p-0034" num="0033">In a typical implementation, L2 forwarding engine <b>330</b> and L3 forwarding engine <b>320</b> make forwarding decisions for frames/packets passing through multi-layer switch <b>100</b> and drive those decisions to port control circuitry to implement the forwarding decisions by transferring frames over the appropriate port. Engines <b>320</b> and <b>330</b> can be implemented in a number of different ways including: one or more general purpose processors executing specialized software, one or more ASICs, one or more FPGAs, or the like. Thus, switch logic <b>300</b> cooperates with the route logic <b>200</b> to execute software programs and/or manipulate data structures in accordance with the present invention. Other common multi-layer switch components (not shown) can include packet/frame replication circuits, additional header parsers, port interfaces, specialized memory circuits (e.g., CAMs, and TCAMs), additional processors, etc.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIGS. 4 and 5</figref> illustrate in greater detail examples of VLAN mapping table <b>346</b> and L2 forwarding table <b>342</b>, respectively. VLAN mapping table <b>346</b> provides association information among primary PVLANs and corresponding secondary PVLANs. This information is used, for example, by L2 forwarding engine <b>330</b>, to translate PVLAN identifier information from a secondary identifier to primary identifier as needed. As such, table <b>346</b> can be organized in various ways. As shown, table <b>346</b> is indexed by secondary PVLAN identifier, so that a search based on secondary PVLAN identifier yields the corresponding primary PVLAN to which the secondary PVLAN belongs. In such an example, the look-up logic would either (1) need to know that the PVLAN identifier it is searching for is a secondary PVLAN identifier (e.g., because table <b>346</b> is indexed only by secondary PVLAN identifier), or (2) need to know that failure to find the target PVLAN identifier in the table means that the identifier is in fact a primary PVLAN identifier. Numerous different search schemes and table organization schemes can be implemented. For example, table <b>346</b> could have index values for all PVLAN identifiers (both primary and secondary), but for primary PVLANS the corresponding primary PVLAN identifier is the same value. However table <b>346</b> is organized, and however corresponding search logic is implemented, PVLAN mapping table <b>346</b> is used to ensure that the appropriate type of PVLAN identifier is used in various other data structures (e.g., L2 forwarding table <b>342</b>) and messages.</p>
<p id="p-0036" num="0035">PVLAN mapping table <b>346</b> is typically populated with information from the software responsible for configuring (or allowing a user to configure) VLANs and PVLANs. This software might be the operating system executing in router logic <b>200</b>, the software executing on network management processor <b>110</b>, software on some other programmable logic, or even hard-coded logic. As changes are made to PVLAN configurations, those changes are propagated to PVLAN mapping table <b>346</b> by a suitable mechanism.</p>
<p id="p-0037" num="0036">L2 forwarding table <b>342</b> is accessed by L2 forwarding engine <b>330</b> to render a forwarding decision for frames passing through multi-layer switch <b>100</b>. As shown, L2 forwarding table <b>342</b> includes a variety of entries such as MAC address, VLAN ID, and corresponding ports. Entries in table <b>342</b> are typically accessed by searching on the pair of index values represented by the MAC address and VLAN ID. This value pair is sometimes referenced by the designation (G, C), i.e., the group (G) MAC destination address and the subnetwork color (C) VLAN ID. In addition to (or instead of) the one or more corresponding port values included in table <b>342</b>, each L2 (G, C) entry can include other index values such as indexes values pointing to port select signal maps used by local target logic. Thus, L2 forwarding table <b>342</b> is generally used to associate a (G, C) pair with a corresponding switch interface.</p>
<p id="p-0038" num="0037">As illustrated in table <b>342</b>, all VLAN IDs are presented in terms of primary PVLAN identifiers, i.e., for VLANs that are configured to be private, only the corresponding primary PVLAN identifier is recorded. Using only one VLAN ID is common because it simplifies system implementation, many VLANs will not be implemented as private VLANs, and certain other elements of the system need only track PVLANs in terms of the primary PVLAN designation. However, there are many instances where information used to populate the L2 forwarding table <b>342</b> arrives at the switch with a secondary PVLAN identifier.</p>
<p id="p-0039" num="0038">As will be appreciated by those skilled in the art, tables <b>342</b> and <b>346</b>, are merely exemplary, and numerous variations can be implemented in keeping with the techniques of the present invention. For example, the tables can include various other pieces of information, they can be maintained by/in other components of switch <b>100</b>, etc.</p>
<p id="p-0040" num="0039">Since primary and secondary PVLAN identifiers are merged in L2 forwarding table <b>342</b>, PVLAN mapping table <b>346</b> is used to perform the mapping from secondary PVLAN identifiers to primary PVLAN identifiers. L2 forwarding engine <b>300</b> performs this mapping both when learning the L2 entry, i.e., so that it always stores entries in terms of the primary PVLAN identifier, and when looking up MAC and VLAN information to forward the packet. In this phase, the VLAN identifier of the packet is not changed, but the forwarding decision is made based on the primary PVLAN identifier. <figref idref="DRAWINGS">FIG. 6</figref> illustrates a process for converting secondary PVLAN identifiers to primary VLAN identifiers and accordingly populating the L2 forwarding table <b>342</b>.</p>
<p id="p-0041" num="0040">The type of mapping afforded by table <b>346</b> is particularly important in support of multicast operations. An IPv6 multicast group is an arbitrary group of receivers that want to receive a particular data stream. Like other multicast groups, this group has no physical or geographical boundaries&#x2014;receivers can be located anywhere on the Internet or in any private network. Receivers that are interested in receiving data flowing to a particular group must join the group by signaling their local router. This signaling is achieved with the multicast listener discovery (MLD) protocol. Routers use the MLD protocol to learn whether members of a group are present on their directly attached subnets. Hosts join multicast groups by sending MLD report messages. The network then delivers data to a potentially unlimited number of receivers, using only one copy of the multicast data on each subnet. IPv6 hosts that wish to receive the traffic are known as group members. The packets delivered to group members are identified by a single multicast group address. Membership in a multicast group is dynamic; hosts can join and leave at any time, and there is generally no restriction on the location or number of members in a multicast group. Moreover, a host can be a member of more than one multicast group at a time.</p>
<p id="p-0042" num="0041">MLD snooping allows switches to examine MLD packets and make forwarding decisions based on their content. MLD snooping constrains IPv6 multicast traffic at layer 2 by configuring layer 2 LAN ports dynamically to forward IPv6 multicast traffic only to those ports that want to receive it. MLD uses various types of messages including multicast listener reports. These reports (including current state records, filter mode change records, and source list change records) specify whether a particular host should be included or excluded for specified multicast groups. A switch snoops these reports, updates relevant tables, and forwards the reports to a multicast router.</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 6</figref> is a flow chart illustrating PVLAN mapping and L2 forwarding table construction techniques. Operation begins at <b>600</b> where it is assumed that relevant PVLANs are configured, the PVLAN map is populated, and the switch is performing MLD snooping in support of IPv6 functionality. The switch receives some type of MLD report (<b>605</b>). That report can be in response to a query sent out by a router such as routing logic <b>300</b> or some other router attached to the switch. The report can also be an unsolicited report sent to the router by a host that wishes to join a multicast group. Switch hardware can distinguish MLD information packets from other packets for the multicast group. However the report arrives at the switch, the report is parsed and relevant information extracted in <b>610</b>. The extracted information typically includes some indication whether the host is requesting to join or leave a group, the corresponding group address, and a VLAN identifier. The switch also tracks information describing the port or interface through which the report arrived.</p>
<p id="p-0044" num="0043">Next, as shown in <b>615</b>, the VLAN identifier is mapped as necessary using, for example, a table such as PVLAN mapping table <b>346</b>. As noted above, not all VLAN identifiers associated with received MLD reports will be PVLANs. For those that are, VLAN identifiers that represent secondary PVLANs are mapped to the corresponding primary PVLAN identifier. The format of the mapping table and the logic for searching the able can vary in numerous ways. So, for example, if host <b>152</b> of <figref idref="DRAWINGS">FIG. 1</figref> transmitted an MLD report requesting inclusion in group GDA<b>1</b>, the switch would receive the report on port <b>102</b> and the report would carry the identifier of secondary PVLAN <b>162</b>. Thus, operation <b>615</b> involves a look-up against table <b>346</b> to determine the primary PVLAN (<b>160</b>) corresponding to secondary PVLAN <b>162</b>.</p>
<p id="p-0045" num="0044">If it is determined in <b>620</b> that the report is requesting inclusion of the host in the specified multicast group, e.g., the MLD message has an INCLUDE indicator, operation transitions to <b>630</b> where port information (i.e., the port on which the message arrived) is added to the corresponding group address/VLAN entry in the L2 forwarding table. Again, the VLAN ID used in this case is the primary PVLAN identifier (if there is one) identified in <b>615</b>. If there is no L2 forwarding table entry corresponding to the group address/VLAN, one is created. If such an entry already exists, the new port identifier is added to the portmask for the entry. Next, in <b>635</b>, the changes to the L2 forwarding table are propagated to other tables as necessary. If it is determined in <b>620</b> that the report is requesting that the host leave the specified multicast group, e.g., the MLD message has an EXCLUDE indicator, operation transitions to <b>625</b> where port information (i.e., the port on which the message arrived) is removed from the corresponding group address/VLAN entry in the L2 forwarding table. The changes are propagated to other tables as desired/necessary, and the process ends at <b>640</b>. Note that various other operations associated with MLD implementation and multicast operation generally are not shown in <figref idref="DRAWINGS">FIG. 6</figref>, but will be known to those having ordinary skill in the art.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIGS. 7 and 8</figref> illustrate in greater detail examples of L3 Forwarding table <b>344</b> and NDP table <b>242</b>, respectively for use in the present invention. Layer 3 switched multicast packets rely on L3 forwarding table <b>344</b> which is indexed by the triplet: source IP address (S), multicast group address (G), and VLAN identifier (C) (S, G, C). These (S, G, C) entries are typically populated by router logic <b>200</b>. Table <b>344</b> can include other information such as other IP or MAC addresses, index fields such as the aforementioned LTL index, control fields, and the like. In still other examples, table <b>344</b> provides pointers to entries in a multicast expansion table (not shown) used to implement various multicast shortcut techniques. Certain entries in table <b>344</b> are specifically made (as described below) to accommodate proper multicast operation in a PVLAN environment.</p>
<p id="p-0047" num="0046">As noted above, NDP is used by IPv6 hosts or routers to find the link layer address of neighbors and to quickly update cached values of link layer addresses (e.g., in table <b>242</b>) when neighbor configurations change. NDP is also used to discover neighboring routers and the services provided by those routers. If a router becomes unreachable, an alternative is searched for immediately. Thus, NDP and the information collected using NDP are used to perform or assist in: router discovery, address prefix discovery, IPv6 routing parameter discovery (e.g., link MTU, hop limit values, etc.), automatic address configuration, address resolution, next hop determination, neighbor reachability determination, duplicate address detection, and redirect operations. To accomplish this, NDP uses various ICMP messages: router solicitation, router advertisements, neighbor solicitation, neighbor advertisement, and redirect. Consequently, the contents of table <b>242</b> can be varied, and NDP tables can be maintained as multiple different tables. However, NDP table <b>242</b> includes a special extension for managing secondary PVLANS, namely secondary PVLAN identifier information for each entry that has a corresponding secondary PVLAN.</p>
<p id="p-0048" num="0047">NDP table <b>242</b> is typically maintained by system router functionality, such as router logic <b>200</b>. However, that functionality is often not designed to track secondary PVLAN information. Router software is therefore modified to explicitly cause secondary PVLAN information to be added to extended NDP table <b>242</b>. This information can be provided by other switch components, e.g., the switch components that build/maintain PVLAN mapping table <b>346</b>, or the secondary PVLAN information can be provided by the software responsible for allowing users to configure PVLANs. By whatever mechanism is appropriate or convenient, such information is used by router functionality in a variety of ways.</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 9</figref> is a flow chart illustrating one of the ways in which the extended NDP table is used. More specifically, <figref idref="DRAWINGS">FIG. 9</figref> illustrates techniques for ensuring that correct information (designed to accommodate PVLAN operation in the context of IPv6 multicast operation) is in the L3 forwarding table used during an RPF checking process.</p>
<p id="p-0050" num="0049">The RPF check is performed by switch or router functionality at an incoming interface to determine whether the packet should be replicated for multicast transmission over outgoing interfaces. The RPF check is performed in multicast forwarding operations to ensure that copies of a multicast packet are not unnecessarily forwarded. This can occur because the network device might receive the same multicast packet from different ports. RPF implementations ensure proper distribution of multicast packets down a distribution tree by using the existing unicast routing table to determine &#x201c;upstream&#x201d; and &#x201c;downstream&#x201d; neighbors. In general, the RPF check procedure is: (1) the switch/router receives a multicast packet on an interface; (2) the RPF check implementation looks up the source address of the packet in a router's unicast routing table to determine whether the packet arrived on the interface that is on the reverse pack back to the source; (3) if the packet arrived on the interface leading back to the source (sometimes referred to as the RPF interface), the RPF check is successful and the packet is forwarded (according to information in a multicast routing table); and (4) if the check fails the packet is discarded.</p>
<p id="p-0051" num="0050">Conventional RPF checking will erroneously fail in certain circumstances involving secondary PVLANs. For example, if host <b>151</b> is directly attached to multi-layer switch <b>100</b>, its multicast packets will arrive with the VLAN identifier for the secondary PVLAN to which port <b>101</b> belongs, i.e., secondary PVLAN <b>162</b>. However, conventional router processes for populating L3 forwarding table <b>344</b> would use the port's primary PVLAN identifier, and the lookup for the RPF check would thus fail because no entry based on the secondary PVLAN identifier would exist in the table. The process of <figref idref="DRAWINGS">FIG. 9</figref> illustrates techniques for avoiding this problem using the extended NDP table of <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0052" num="0051">Operation begins at <b>900</b> where it is assumed that router software is operating and acquiring data about network stations through some well defined mechanism such as NDP, and the relevant data tables are already established. In step <b>905</b>, the router software prepares one or more type/length/value (TLV) data structures having a format that defines the source IP address, group address, and VLAN identifier (S, G, C). This data structure is used to propagate the information to various switch components such as network management processor <b>110</b>. An example of a TLV structure that can be transmitted is a TLV data structure for updating the L3 forwarding table. As part of the process, a determination is made (<b>910</b>) whether the relevant RPF interface (e.g., the interface on which a multicast packet will be received and thus an interface that will be checked) is a port that is part of a PVLAN. For example, a flag or other attribute value can be checked to determine PVLAN status. If the interface is a PVLAN interface, operation transitions to <b>915</b> where it is determined whether PVLAN information is available for the entry being prepared. If not, an NDP solicitation message is prepared and transmitted to the relevant host (<b>920</b>) in order to gather missing PVLAN information. In this case, operation returns to <b>915</b>.</p>
<p id="p-0053" num="0052">If it is determined that PVLAN information is available (e.g., there are entries for one or both of the primary and secondary PVLAN identifiers), operation transitions to <b>925</b>. At this point, it has been determined that (<b>1</b>) the relevant RPF interface is part of a PVLAN, and that PVLAN identifier information is available, so the secondary PVLAN identifier is used in the TLV (<b>925</b>). This set of circumstances can occur, for example, when the host corresponding to the source IP address upon which the TLV is based is directly attached. If it was determined in <b>910</b> that the relevant RPF interface is not part of a PVLAN, the regular VLAN identifier is used in the TLV (<b>930</b>). In either case, operation proceeds to <b>935</b> where the properly formed TLV data structure is transmitted to relevant system components. Once received, the TLV information is used by those switch components to update various tables, such as the L3 forwarding table (<b>940</b>). The process ends at <b>945</b>. In this way, the aforementioned erroneous RPF check failure is avoided by ensuring that the L3 forwarding table has the proper type of PVLAN identifier for each type of host.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 10</figref> illustrates a solution to yet another problem associated with IPv6 multicast operation in conjunction with PVLANs. The problem stems from the fact that PVLAN source/host movement or configuration change are layer 2 events, and the layer 3 routing protocols are generally not aware of the change. The solution is based using RPF check failures as an indicator of possible PVLAN movement or configuration change.</p>
<p id="p-0055" num="0054">Operation begins at <b>1000</b> where it is assumed that router software's RPF check software (or other router software functionality) has access to relevant data (e.g., NDP table <b>242</b>) and is configured to take certain action upon detection of an RPF check failure. In step <b>1005</b>, some source movement of configuration change occurs that affects PVLAN identification. At some point subsequent to the failure, an IPv6 multicast packet received at the switch fails its RPF check. As noted above, RPF check failure can legitimately occur for several reasons, so operation transitions to <b>1015</b> where it is determined whether the RPF check failure involved a secondary PVLAN. For example, the current entry in the L3 forwarding table might have the wrong secondary PVLAN identifier for the relevant host because the host has changed secondary PVLANs.</p>
<p id="p-0056" num="0055">If no secondary PVLAN is involved, operation transitions to <b>1020</b> where a normal RPF check failure process is followed. In some embodiments, there may in fact be no further operations to perform, e.g., the IPv6 multicast packet that failed the RPF check has already been discarded. However, in some embodiments the packet may still need to be discarded, and other procedures followed. If the RPF check failure did involve a secondary PVLAN, the NDP table is then queried (<b>1025</b>). The purpose of this query is to ascertain (to some degree) why the RPF check failed. For example, a determination can be made (<b>1030</b>) whether there has been a change in the information that the router has about neighboring stations or if information is no longer to be trusted because it is stale. If the information is good or it has changed (i.e., the NDP table has already been properly updated), then the process terminates <b>1045</b>). If instead it is determined that new information is needed for the NDP table, an NDP solicitation message is prepared and transmitted to the relevant host (<b>1035</b>) in order to gather new PVLAN information. That information is then used to update both the NDP table, and the L3 forwarding table (<b>1040</b>), and the process terminates (<b>1045</b>).</p>
<p id="p-0057" num="0056">The flow charts of <figref idref="DRAWINGS">FIGS. 6</figref>, <b>9</b>, and <b>10</b> illustrate many techniques that can be used to accommodate IPv6 multicast in PVLAN environments. Those having ordinary skill in the art will readily recognize that certain steps or operations illustrated in <figref idref="DRAWINGS">FIGS. 6</figref>, <b>9</b>, and <b>10</b> can be eliminated or taken in an alternate order. Moreover, the methods described throughout this application (including <figref idref="DRAWINGS">FIGS. 6</figref>, <b>9</b>, and <b>10</b>) are typically implemented as application specific integrated circuits, programmable logic devices, and/or as one or more software programs or microcode elements encoded in a computer readable medium as instructions executable on one or more processors, FPGAs, ASICs, or the like. The computer readable medium can be any one of an electronic storage medium, a magnetic storage medium, an optical storage medium, and a communications medium conveying signals encoding the instructions. Separate instances of these modules, logic entities, and programs can be executed on separate devices in keeping with the methods described above. Thus, although certain steps have been described as being performed by certain devices, software programs, processes, or entities, this need not be the case and a variety of alternative implementations will be understood by those having ordinary skill in the art.</p>
<p id="p-0058" num="0057">Although the present invention has been described with respect to a specific preferred embodiment thereof, various changes and modifications may be suggested to one skilled in the art and it is intended that the present invention encompass such changes and modifications that fall within the scope of the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method comprising:
<claim-text>detecting a reverse path forwarding (RPF) check failure, wherein the detecting is performed in response to receipt of a multicast packet via an incoming port, and wherein the RPF check failure indicates that the incoming port is not a RPF port on a reverse path back to a multicast source that sent the multicast packet;</claim-text>
<claim-text>determining that the incoming port via which the multicast packet was received is part of a virtual local area network (VLAN), in response to the RPF check failure;</claim-text>
<claim-text>querying a table for information about the VLAN, wherein the table comprises data derived from neighborhood discovery protocol (NDP) messages, in response to the determining; and</claim-text>
<claim-text>causing an NDP message to be sent to at least one network node, wherein the NDP message causes new VLAN information to be provided for inclusion in the table, in response to a result of the querying indicating that the new VLAN information is needed.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the VLAN is a secondary private VLAN (PVLAN) having a corresponding secondary PVLAN identifier.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the at least one network node further comprises a host coupled to the incoming port.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising at least one of:
<claim-text>determining whether information corresponding to the VLAN in the table has changed; and</claim-text>
<claim-text>determining whether information corresponding to the VLAN in the table has expired.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>receiving a second NDP message in response to the NDP message; and</claim-text>
<claim-text>updating information in the table based on the second NDP message.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the determining further comprises:
<claim-text>performing a lookup operation against at least one of the table and a second table, wherein the lookup operation uses at least one of: a source IP address value, a destination IP address value; a group address value; a port identifier value; a VLAN identifier value; and a PVLAN identifier value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A network device comprising:
<claim-text>a processor;</claim-text>
<claim-text>a memory coupled to the processor;</claim-text>
<claim-text>a plurality of ports coupled to the processor; wherein the processor is configured to:
<claim-text>detect a reverse path forwarding (RPF) check failure, wherein the RPF check failure is detected in response to receipt of a multicast packet via an incoming port of the plurality of ports, and wherein the RPF check failure indicates that the incoming port is not a RPF port on a reverse path back to a multicast source that sent the multicast packet;</claim-text>
<claim-text>determine that the incoming port via which the multicast packet was received is part of a virtual local area network (VLAN), in response to the RPF check failure;</claim-text>
<claim-text>query a table stored in the memory for information about the VLAN, in response to a determination that the RPF check failure occurred on the incoming port, wherein the table comprises data derived from neighborhood discovery protocol (NDP) messages; and</claim-text>
<claim-text>cause an NDP message to be sent to at least one network node, wherein the NDP message causes the at least one network node to provide new VLAN information for inclusion in the table, in response to a result of the querying indicating that the new VLAN information is needed.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The network device of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the network device is at least one of a switch, a multi-layer switch, and a router.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The network device of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the processor is one of an embedded processor, an ASIC, and an FPGA.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The network device of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the VLAN is a secondary private VLAN (PVLAN) having a corresponding secondary PVLAN identifier.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The network device of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the at least one network node further comprises a host coupled to the one of the plurality of ports.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The network device of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the processor is further configured to at least one of:
<claim-text>determine whether information in the table has changed; and</claim-text>
<claim-text>determine whether information in the table has expired.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The network device of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the processor is further configured to:
<claim-text>receive a second NDP message in response to the NDP message; and</claim-text>
<claim-text>update information in the table based on the second NDP message.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The network device of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the processor is further configured to:
<claim-text>perform a lookup operation against at least one of the table and another table, wherein the lookup operation uses at least one of: a source IP address value, a destination IP address value; a group address value; a port identifier value; a VLAN identifier value; and a PVLAN identifier value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The network device of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the NDP message is sent to the at least one network node in response to a determination that the table needs new VLAN information.</claim-text>
</claim>
</claims>
</us-patent-grant>
