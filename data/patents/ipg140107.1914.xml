<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08623098-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08623098</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13150773</doc-number>
<date>20110601</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>A</section>
<class>61</class>
<subclass>F</subclass>
<main-group>2</main-group>
<subgroup>70</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>623 25</main-classification>
</classification-national>
<invention-title id="d2e43">Systems and method for volitional control of jointed mechanical devices based on surface electromyography</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5246465</doc-number>
<kind>A</kind>
<name>Rincoe et al.</name>
<date>19930900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2008/0071386</doc-number>
<kind>A1</kind>
<name>McBean et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>623 25</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2009/0143870</doc-number>
<kind>A1</kind>
<name>Bedard et al.</name>
<date>20090600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2009/0265018</doc-number>
<kind>A1</kind>
<name>Goldfarb et al.</name>
<date>20091000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>WO</country>
<doc-number>2011/066940</doc-number>
<kind>A1</kind>
<date>20110600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00006">
<othercit>Dudley S. Childress, Ph. D., Engineering in Medicine and Biology Magazine, &#x201c;Myoelectric Control of Powered Prosthesis&#x201d;, Dec. 1982.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00007">
<othercit>Max Donath, B. Eng., McGill University, &#x201c;Proportional EMG Control for Above Knee Prosthesis&#x201d;, Aug. 1974.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00008">
<othercit>PCT international Search Report and Written Opinion mailed Oct. 19, 2011. In corresponding application No. PCT/US2011/038705.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>9</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>623 24</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>623 25</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>623 40</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>623 47</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>623 50</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>11</number-of-drawing-sheets>
<number-of-figures>16</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61360676</doc-number>
<date>20100701</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120004736</doc-number>
<kind>A1</kind>
<date>20120105</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Goldfarb</last-name>
<first-name>Michael</first-name>
<address>
<city>Franklin</city>
<state>TN</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Varol</last-name>
<first-name>Huseyin Atakan</first-name>
<address>
<city>Nashville</city>
<state>TN</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Ha</last-name>
<first-name>Kevin</first-name>
<address>
<city>Nashville</city>
<state>TN</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Goldfarb</last-name>
<first-name>Michael</first-name>
<address>
<city>Franklin</city>
<state>TN</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Varol</last-name>
<first-name>Huseyin Atakan</first-name>
<address>
<city>Nashville</city>
<state>TN</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Ha</last-name>
<first-name>Kevin</first-name>
<address>
<city>Nashville</city>
<state>TN</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Novak Druce Connolly Bove + Quigg LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Vanderbilt University</orgname>
<role>02</role>
<address>
<city>Nashville</city>
<state>TN</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Snow</last-name>
<first-name>Bruce E</first-name>
<department>3738</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Systems and methods for controlling a weight bearing member having at least one powered joint are provided. A system includes a velocity reference module for receiving myoelectric control signals from a user during a non-weight bearing mode for the powered joint and generating a velocity reference for the powered joint based on the myoelectric control signals. The system further includes a volitional impedance module for generating a torque control signal for actuating the powered joint based at least on the velocity reference.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="240.79mm" wi="346.37mm" file="US08623098-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="233.17mm" wi="137.67mm" orientation="landscape" file="US08623098-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="240.71mm" wi="158.67mm" orientation="landscape" file="US08623098-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="162.31mm" wi="178.99mm" file="US08623098-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="164.68mm" wi="183.39mm" file="US08623098-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="162.64mm" wi="178.56mm" file="US08623098-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="234.78mm" wi="136.06mm" orientation="landscape" file="US08623098-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="242.65mm" wi="112.18mm" file="US08623098-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="239.44mm" wi="109.05mm" orientation="landscape" file="US08623098-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="237.91mm" wi="115.32mm" orientation="landscape" file="US08623098-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="233.51mm" wi="110.91mm" orientation="landscape" file="US08623098-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="236.05mm" wi="109.64mm" orientation="landscape" file="US08623098-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading>
<p id="p-0002" num="0001">This application claims the benefit of Provisional Application Ser. No. 61/360,676 entitled &#x201c;VOLITIONAL CONTROL OF PROSTHETIC AND ORTHOTIC LOWER LIMB DEVICES USING MYOELECTRIC SIGNALS&#x201d;, filed Jul. 1, 2010, which is herein incorporated by reference in its entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?GOVINT description="Government Interest" end="lead"?>
<heading id="h-0002" level="1">STATEMENT REGARDING FEDERALLY SPONSORED RESEARCH</heading>
<p id="p-0003" num="0002">This invention was made with U.S. government support under grant number NIH RO1EB005684. MG which was awarded by the National Institutes of Health. The U.S. government has certain rights in the invention.</p>
<?GOVINT description="Government Interest" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0003" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0004" num="0003">The present invention relates to control of jointed mechanical devices, and more specifically to systems and methods for controlling jointed mechanical devices based on surface electromyography.</p>
<heading id="h-0004" level="1">BACKGROUND</heading>
<p id="p-0005" num="0004">Although prosthetic knee joints for transfemoral prostheses have traditionally been energetically passive devices, powered, semi-autonomous knee joints have recently started to emerge in the research community and on the commercial market. Typically, passive knee prostheses can only react to mechanical energy imparted by the amputee, while powered knee prostheses have the ability to act independently of mechanical energy from the user. As such, the nature of the user communication with the powered prosthesis and control of the powered prosthesis is substantially different from the control of a traditional, energetically passive prosthesis.</p>
<p id="p-0006" num="0005">Various methods have been proposed for the control of powered knee prostheses. These approaches typically utilize instrumentation on at least one of the prosthesis or a sound leg. Such instrumentation can include inertial measurement sensors (accelerometers and/or gyroscopes) at the foot, shank or thigh of the prosthesis and/or sound side. Additionally, joint angular position, velocity and torque sensors for ankle, knee and hip joints of the prosthesis and/or sound side can also be used as instrumentation for prosthesis control. Further, ground force detecting load cells or load switches can also be used to detect events such as heel strike or toe-off. This instrumentation is used to form knee joint angle trajectories or impedances for the powered knee prosthesis during activities involving the prosthesis. For example, while standing, walking, or transitioning between sitting and standing.</p>
<p id="p-0007" num="0006">In general, activities such as standing, walking, or transitioning between sitting and standing all involve physical input and/or energy exchange between the residual limb and prosthesis. Therefore, most conventional methods rely on some form of physical input from the user for communication with the powered knee prosthesis. That is, although the user need not provide the energy for movement, as is the case with traditional dissipative knee prostheses, the user must still provide some physical input that can be measured by instrumentation on the prosthesis and/or sound leg. Such physical inputs include measuring weight bearing on the prosthesis, torque and/or acceleration from the affected-side hip joint, movement of the sound-side leg, to name a few.</p>
<p id="p-0008" num="0007">An important class of movement, however, which does not involve any significant physical input from the user, is the task of non-weight-bearing or volitional control of knee movement while sitting or standing. That is, people regularly shift their body while sitting, which involves significant movement of the knee joints. Such movement has both physiological and practical purposes. Regarding the former, weight shifting during sitting is known to play an important role in ensuring healthy circulation of blood in weight-bearing tissues during sitting. Regarding the latter, sitting in confined areas, such as in automobiles, airplanes, theatres, and classrooms, often requires shifting of body position (particularly of the knee joints) in order to accommodate a particular ergonomic space and/or the movement of other individuals into or out of that space. Such movement is referred to herein as volitional control of the knee joint during non-weight-bearing activity. Note that such volitional control is also useful in non-weight-bearing standing, such as when flexing the knee to look at the bottom of a shoe, or when placing the foot on an elevated surface (such as a chair) to tie or untie, or don or doff a shoe. In the case of a traditional, energetically passive prosthesis, an amputee typically achieves &#x201c;volitional&#x201d; control functionality by manipulating the prosthetic knee leg with his or her hands.</p>
<heading id="h-0005" level="1">SUMMARY</heading>
<p id="p-0009" num="0008">The various embodiments present systems and methods for the volitional control of the knee joint during non-weight-bearing activity which utilizes a pair of surface electromyogram (EMG) electrodes (on the ventral and dorsal aspects of the thigh, respectively), such as that integrated into the amputee's socket interface. Such an approach can be integrated with the impedance-based weight-bearing controllers for standing, walking, and transitioning between sitting and standing in order to provide volitional control of the knee joint during non-weight-bearing activity.</p>
<p id="p-0010" num="0009">Researchers have investigated the use of surface EMG for the control of lower limb prostheses and orthoses. In the case of passive knee prostheses, Some groups have developed a prosthesis with an electrically activated knee flexion lock, and used surface EMG from the residual limb of a transfemoral amputee to trigger the engagement and disengagement of the lock. Other groups developed a computer-controllable passive knee prosthesis based on an electrically modulated brake, and utilized surface EMG from three sites on the residual limb of a transfemoral amputee for gait mode recognition, which in turn was used to switch the prosthesis into the appropriate gait mode. Yet other groups utilized surface EMG from multiple electrodes on transfemoral amputees to classify movement intents while walking. With regard to using EMG for the real-time control of a powered knee prosthesis, one group has attempted to use surface EMG from the quadriceps and hamstrings to control the motion of a hydraulically actuated powered knee prosthesis during walking. However, this group concluded that use of such an approach during gait would be challenging, due in part to difficulty in obtaining reliable EMG measurement, &#x201c;due to noise pick up and movement artifact.&#x201d; Other groups have used surface EMG measured from the lower leg for the control of powered ankle joints in transtibial prostheses, or powered joints in ankle-foot-orthoses (AFOs). For example, one group has proposed the use of EMG measured from the lower leg to control the assistive pressure in a pneumatically actuated AFO. Another group has proposed a control system for an assistive exoskeleton with powered hip and knee joints, in which the assistive torque from the exoskeleton is proportional to the measured EMG from the associated flexion or extension muscle group. However, the methods and techniques described above do not disclose utilizing EMG for the volitional control of knee or ankle joint motion in a powered prostheses.</p>
<p id="p-0011" num="0010">In contrast, the various embodiments of the invention concern systems and methods for controlling jointed mechanical devices, such as prostheses and orthoses, based on surface electromyography. In particular, providing volitional control of powered joints. In a first embodiment, a myoelectric controller for a weight bearing member having at least one powered joint is provided. The myoelectric controller includes a velocity reference module for receiving myoelectric control signals from a user during a non-weight bearing mode for the powered joint and generating a velocity reference for the powered joint based on the myoelectric control signals. The controller further includes a volitional impedance module for generating a torque control signal for actuating the powered joint based at least on the velocity reference.</p>
<p id="p-0012" num="0011">In a second embodiment of the invention, a method for controlling at least one powered joint in a weight bearing member is provided. The method includes the step of receiving myoelectric control signals from user during a non-weight bearing mode for the powered joint. The method also includes generating a velocity reference for the powered joint based on the myoelectric control signals. The method further includes generating a torque control signal for actuating the powered joint based at least on the velocity reference.</p>
<p id="p-0013" num="0012">In a third embodiment of the invention, a jointed mechanical device is provided. The device includes a weight bearing member comprising at least one powered joint. The device also includes a controller for actuating the powered joint. In the device, the controller is configured for actuating the joint in at least one of a semi-autonomous weight bearing mode and a non-weight bearing mode for actuating the powered joint responsive to myoelectric control signals.</p>
<p id="p-0014" num="0013">In a fourth embodiment of the invention, a computer-readable medium is provided, storing instructions for controlling a computing device to control a powered joint. The instructions include instructions for receiving myoelectric control signals from user during a non-weight bearing mode for the powered joint, generating a velocity reference for the powered joint based on the myoelectric control signals, and generating a torque control signal for actuating the powered joint based at least on the velocity reference.</p>
<p id="p-0015" num="0014">Thus, a control approach is provided that not only provides the above-mentioned benefits of volitional control for amputees, but also provides such volitional control in a manner that the trajectory tracking performance is close to that observed in intact or sound joints.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0006" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 1</figref> shows a block diagram of a myoelectric volitional impedance controller for controlling a powered knee joint in accordance with an embodiment.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 2</figref> shows a block diagram of a myoelectric volitional impedance controller for controlling a powered knee joint and a powered ankle joint in accordance with an embodiment.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 3A</figref> is an x-y plot of extension and flexion reference signals for a first amputee subject showing classification using quadratic discriminant analysis (QDA) and linear discriminant analysis (LDA)methods in accordance with the various embodiments.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 3B</figref> is an x-y plot of extension and flexion reference signals for a second amputee subject showing classification using QDA and LDA methods in accordance with the various embodiments.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 3C</figref> is an x-y plot of extension and flexion reference signals for a third amputee subject showing classification using QDA and LDA methods in accordance with the various embodiments.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 4A</figref> is an x-y plot of actual measurements and PCA projections of extension reference signals for the first amputee subject in <figref idref="DRAWINGS">FIG. 3A</figref>.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 4B</figref> is an x-y plot of actual measurements and PCA projections of flexion reference signals for the first amputee subject in <figref idref="DRAWINGS">FIG. 3A</figref>.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 5</figref> is a schematic illustration of an exemplary powered transfemoral prosthesis that can be configured for using a control system in accordance with the various embodiments.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIGS. 6A-6D</figref> show x-y plots of EMG-controlled powered prosthesis knee position for trajectories A-D, respectively, of the third amputee subject in <figref idref="DRAWINGS">FIG. 3C</figref>.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 7A-7D</figref> show x-y plots of sound-side knee position for trajectories A-D, respectively, of the third amputee subject in <figref idref="DRAWINGS">FIG. 3C</figref>.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0007" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0026" num="0025">The present invention is described with reference to the attached figures, wherein like reference numerals are used throughout the figures to designate similar or equivalent elements. The figures are not drawn to scale and they are provided merely to illustrate the instant invention. Several aspects of the invention are described below with reference to example applications for illustration. It should be understood that numerous specific details, relationships, and methods are set forth to provide a full understanding of the invention. One having ordinary skill in the relevant art, however, will readily recognize that the invention can be practiced without one or more of the specific details or with other methods. In other instances, well-known structures or operations are not shown in detail to avoid obscuring the invention. The present invention is not limited by the illustrated ordering of acts or events, as some acts may occur in different orders and/or concurrently with other acts or events. Furthermore, not all illustrated acts or events are required to implement a methodology in accordance with the present invention.</p>
<p id="p-0027" num="0026">As described above, in a traditional, energetically passive prosthesis, an amputee can achieve volitional control functionality by manipulating the prosthetic knee leg with his or her hands. However, since a powered knee prosthesis has the capability to move itself, such artificial manipulation should not be required for volitional movement of the knee joint. Nonetheless, since such volitional movements do not involve significant physical input from the amputee, conventional control approaches do not provide an effective means of communication with the prosthesis for this purpose.</p>
<p id="p-0028" num="0027">In view of the limitations of conventional control approaches and conventional prostheses, the various embodiments provide a new method for the volitional control of the knee joint during non-weight-bearing activities. More generally, the various embodiments provide systems and methods controlling jointed mechanical devices, such as prostheses and orthoses, during non-weight bearing activities based on a volitional impedance control framework.</p>
<p id="p-0029" num="0028">For example, in the case of a leg prosthesis, this allows a transfemoral amputee to control the motion of a powered knee prosthesis during non-weight-bearing activity (e.g., while sitting.). The control is based on an impedance framework wherein the joint exhibits programmable joint stiffness and damping characteristics. Knee movement is provided by commanding the joint stiffness equilibrium angle. The time rate of change of this angle (which is the desired angular velocity set-point) is provided by measurement of the surface EMG, using a pair of surface electromyogram (EMG) electrodes. In one embodiment, the electrodes can be on the ventral and dorsal aspects of the thigh. For example these electrodes can be integrated into the amputee's socket interface so as to measure the surface EMG of the hamstring and quadriceps muscle groups. However, rather than directly associate the hamstring EMG with knee flexion and the quadriceps with knee extension, which would require the user to artificially isolate contraction of these muscle groups, the various embodiments incorporate a combination of pattern classification and principal component projection to align the measured EMG with the user's desire to flex or extend the knee joint. The resulting control approach provides trajectory tracking performance close to that of intact knee joints, thus providing an approach for effective control of knee joint motion during non-weight-bearing activity. Further, this approach can be integrated with existing impedance-based weight-bearing controllers for standing, walking, and transitioning between sitting and standing. For example, this approach can be integrated into the controller described in U.S. patent application Ser. No. 12/427,384 to Goldfarb et al, filed Apr. 21, 2009, the contents of which are herein incorporated in their entirety.</p>
<p id="p-0030" num="0029">Although exemplary embodiments will be described primarily with respect to providing volitional control for a prosthesis including at least a powered knee, the various embodiments are not limited in this regard. Rather, the framework described herein can be used for volitional control of any type of powered joint in a prosthesis or an orthosis.</p>
<p id="p-0031" num="0030">The use of surface EMG for the control of lower limb prostheses and orthoses has been widely investigated. In the case of passive knee prostheses, one existing approach provides a prosthesis with an electrically activated knee flexion lock that uses surface EMG from the residual limb of a transfemoral amputee to trigger the engagement and disengagement of the lock. A similar approach includes a computer-controllable passive knee prosthesis based on an electrically modulated brake, and utilizes surface EMG from three sites on the residual limb of a transfemoral amputee for gait mode recognition, which in turn was used to switch the prosthesis into the appropriate gait mode. More recently, surface EMG from multiple electrodes on transfemoral amputees has been utilized to classify movement intents while walking. However, with regard to using EMG for the real-time control of a powered knee prosthesis, only limited investigation into the use of surface EMG from the quadriceps and hamstrings to control the motion of a hydraulically actuated powered knee prosthesis during walking has occurred. Further, such research concluded that use of such an approach during gait would be challenging, due in part to difficulty in obtaining reliable EMG measurement, &#x201c;due to noise pick up and movement artifact.&#x201d;</p>
<p id="p-0032" num="0031">Other conventional control methodologies using surface EMG measured from the lower leg have been generally directed to the control of powered ankle joints in transtibial prostheses or control of powered joints in ankle-foot-orthoses (AFOs). With regard to the former, one approach provides for using a real-time state-based controller for the powered ankle based on physical input (rather EMG input) from the user and which utilizes EMG measured from the lower leg to switch between gait modes. With regard to powered AFOs, one approach uses EMG measured from the lower leg to control the assistive pressure in a pneumatically actuated AFO. Additionally, a control system for an assistive exoskeleton with powered hip and knee joints has been proposed, in which the assistive torque from the exoskeleton is proportional to the measured EMG from the associated flexion or extension muscle group. However, none of these approaches utilize EMG for the volitional control of knee joint motion in a powered knee prosthesis.</p>
<p id="p-0033" num="0032">Volitional Control of Powered Knee</p>
<p id="p-0034" num="0033">A. Volitional Control Structure</p>
<p id="p-0035" num="0034">In a first exemplary embodiment, a control framework is provided for volitional control of the knee with a joint output impedance similar to that of the native limb. As such, rather than using the measured EMG to prescribe joint torque, angle, or angular velocity, the presented framework utilizes measured EMG to prescribe the angular velocity of an equilibrium point of joint impedance that consists of the combination of a joint stiffness and damping. In this manner, the knee moves to a desired position with a joint output stiffness and damping prescribed by the controller, thus presumably moving in a more natural manner (relative to a high-output-impedance position controller), and resulting in a more natural interaction between the user, prosthesis, and environment.</p>
<p id="p-0036" num="0035">The structure of the proposed volitional controller is shown in <figref idref="DRAWINGS">FIG. 1</figref>. <figref idref="DRAWINGS">FIG. 1</figref> shows a block diagram of a myoelectric volitional controller <b>100</b> for controlling a powered knee joint in a prosthesis <b>102</b> based on EMG signals from a user <b>104</b> in accordance with an embodiment. In this controller, a real-time intent recognizer, such as the one described in U.S. patent application Ser. No. 12/427,384 to Goldfarb et al, filed Apr. 21, 2009, or in Varol, H. A., Sup, F., and Goldfarb, M. Multiclass Real-Time Intent Recognition of a Powered Lower Limb Prosthesis. IEEE Transactions on Biomedical Engineering, vol. 57, no. 3, pp. 742-751, 2009 would be used to switch between this (volitional) controller and other weight-bearing control structures.</p>
<p id="p-0037" num="0036">With reference to <figref idref="DRAWINGS">FIG. 1</figref>, the controller <b>100</b> operates as follows. First, during a non-weight bearing activity, based on an intent recognizer (not shown), EMG signals (EMG<sub>1</sub>, EMG<sub>2</sub>) are received by controller <b>100</b> from the residual limb of the user <b>104</b>. Thereafter, a pre-processing module <b>106</b> processes the EMG signals. The pre-processed signals are then used for generation of reference velocity (i.e., the joint angular velocity reference, &#x3c9;<sub>emg</sub>). As shown in <figref idref="DRAWINGS">FIG. 1</figref>, &#x3c9;<sub>emg </sub>is generated by a velocity reference generation module <b>108</b> based on the pre-processed the EMG signals, the current angle for the joint (&#x3b8;<sub>k</sub>), the derivative or rate of change of angle for the joint ({dot over (&#x3b8;)}<sub>k</sub>), and the user's intent to flex or extend the knee. The intent can be obtained from a flexing extending classification module <b>110</b>. Thereafter, an equilibrium point joint angle {dot over (&#x3b8;)}<sub>emg </sub>can be obtained from &#x3c9;<sub>emg </sub>using conversion module <b>112</b>. The equilibrium point joint angle, &#x3b8;<sub>k</sub>, and {dot over (&#x3b8;)}<sub>k </sub>can then be used in a volitional impedance controller module <b>114</b> to generate a joint torque command (&#x3c4;) for the prosthesis <b>102</b> to cause motion of the knee joint. Additionally, &#x3b8;<sub>k </sub>and {dot over (&#x3b8;)}<sub>k </sub>are updated based on the torque command. The control process then repeats. It should be noted though that since &#x3b8;<sub>k </sub>and {dot over (&#x3b8;)}<sub>k</sub>, are the measurements of the knee angle and velocity of the prosthesis, the update is not done computationally, rather it is a physical process. The operation of these various modules is described below in greater detail.</p>
<p id="p-0038" num="0037">B. Volitional Impedance Controller</p>
<p id="p-0039" num="0038">In the various embodiments, EMG is used to generate an angular velocity command (as is commonly the case in upper extremity myoelectric control) rather than a position command, so that the user contracts the residual limb musculature only to move the joint and can relax when maintaining any given knee joint angle. Specifically, the joint torque command at controller module <b>114</b> can be given by a model mimicking the behavior of a spring and dashpot element. For example, one model in accordance with the various elements can be:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x3c4;=<i>k</i>(&#x3b8;&#x2212;&#x3b8;<sub>emg</sub>)+<i>b{dot over (&#x3b8;)}</i>&#x2003;&#x2003;(1)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where the equilibrium point &#x3b8;<sub>emg </sub>is given by module <b>112</b> using
</p>
<p id="p-0040" num="0039">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>&#x3b8;</mi>
          <mi>emg</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <msub>
            <mi>&#x3b8;</mi>
            <mn>0</mn>
          </msub>
          <mo>+</mo>
          <mrow>
            <munder>
              <mo>&#x222b;</mo>
              <mi>t</mi>
            </munder>
            <mo>&#x2062;</mo>
            <mrow>
              <msub>
                <mi>&#x3c9;</mi>
                <mi>emg</mi>
              </msub>
              <mo>&#x2062;</mo>
              <mrow>
                <mo>&#x2146;</mo>
                <mi>t</mi>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where k is the prescribed joint stiffness, b is the prescribed joint damping coefficient, &#x3b8; is the knee joint angle, and &#x3b8;<sub>o </sub>is the initial angle when the control system switches to the volitional (non-weight bearing) controller and &#x3c9;<sub>emg </sub>is the angular velocity reference generated from the quadriceps and hamstring EMG, as described in the following section.
</p>
<p id="p-0041" num="0040">C. Reference Velocity Generation</p>
<p id="p-0042" num="0041">The controller module <b>114</b> utilizes the measured surface EMG from the quadriceps and hamstring groups to generate a joint angular velocity reference, &#x3c9;<sub>emg</sub>, to drive the joint angular impedance equilibrium point, &#x3b8;<sub>emg</sub>, and thus to drive the motion of the knee. One method for doing so at module <b>108</b> would be to use</p>
<p id="p-0043" num="0042">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>&#x3c9;</mi>
          <mi>emg</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mtable>
            <mtr>
              <mtd>
                <mrow>
                  <msub>
                    <mi>k</mi>
                    <mi>h</mi>
                  </msub>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>e</mi>
                    <mi>h</mi>
                  </msub>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>if</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>e</mi>
                      <mi>h</mi>
                    </msub>
                  </mrow>
                  <mo>&#x2265;</mo>
                  <msub>
                    <mi>e</mi>
                    <mi>q</mi>
                  </msub>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mo>-</mo>
                    <msub>
                      <mi>k</mi>
                      <mi>q</mi>
                    </msub>
                  </mrow>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>e</mi>
                    <mi>q</mi>
                  </msub>
                </mrow>
              </mtd>
              <mtd>
                <mi>otherwise</mi>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where e<sub>h </sub>and e<sub>q </sub>represent the measured (i.e., rectified and filtered) EMG from the hamstring and quadriceps muscles, respectively, and k<sub>h </sub>and k<sub>q </sub>are simple gains. Equation (3) also assumes that an appropriate dead-band is applied to the measured EMG, to avoid &#x201c;jitter&#x201d; in the angular velocity reference command. Equation (3) is similar to the method used for the control of myoelectric upper extremity prostheses.
</p>
<p id="p-0044" num="0043">However, as shown below, use of equation (3) provided only marginal performance in the proposed volitional controller. Specifically, as described subsequently (and indicated in <figref idref="DRAWINGS">FIGS. 3A-3C</figref>), two of the three amputee subjects on which the approach was implemented demonstrated a significant degree of co-contraction when attempting to contract either the hamstrings or quadriceps in an isolated manner. With sufficient training, these subjects could possibly be trained to avoid co-contraction. Co-contraction, however, is a natural neuromuscular response (particularly in the lower limb musculature). As such, in an effort to render the proposed controller as natural as possible, in the various embodiments, the controller is trained to properly interpret co-contraction, rather than train the subjects to avoid it. Therefore, as indicated in the control structure of <figref idref="DRAWINGS">FIG. 1</figref> and described below, the controller <b>100</b> first utilizes pattern classification to classify the user's intent with regard to flexion or extension of the knee, then utilizes a projection operator to extract the desired magnitude of the joint angular velocity reference from the measured EMG data.</p>
<p id="p-0045" num="0044">D. Flexion-Extension Classification</p>
<p id="p-0046" num="0045">As described above, rather than train the subjects to avoid co-contraction while commanding flexion or extension of the knee, the various embodiments utilize a pattern classification approach to distinguish user intent to flex or extend the knee. In one embodiment, module <b>110</b> can be implemented using a quadratic discriminant analysis (QDA) classifier to distinguish between the user's intent to flex or extend. A linear discriminant analysis (LDA) classifier can also applied to the classification problem in other embodiments, although the QDA was chosen due to improved classification accuracy (based on the mean accuracy obtained with a five-fold cross-validation for each subject), and because the QDA is not significantly more complex (or computationally expensive) than the LDA classifier. Specifically, QDA uses the quadratic decision boundary of the form c<sub>1</sub>+c<sub>2</sub>e<sub>h</sub>+c<sub>3</sub>e<sub>q</sub>+c<sub>4</sub>e<sup>2</sup><sub>h</sub>+c<sub>5</sub>e<sub>h</sub>e<sub>q</sub>+c<sub>6</sub>e<sup>2</sup><sub>q</sub>=0 to classify the sample consisting of the processed EMG data from the two channels, e<sub>h </sub>and e<sub>q</sub>, to the extension (&#x3c9;<sub>E</sub>) and flexion (&#x3c9;<sub>F</sub>) classes where the coefficients c<sub>i</sub>, i=1, 2, . . . , 6, are generated during the training of the QDA classifier. Details of the LDA and QDA methods can be found in several pattern classification references. Further, this embodiment utilizes a database of EMG (versus intent) data to parameterize the flexion/extension classifier, as described below.</p>
<p id="p-0047" num="0046">E. EMG Measurement and Preprocessing</p>
<p id="p-0048" num="0047">In the various embodiments, the electrodes can be implemented in various ways. For example, as described above, surface EMG electrodes can be embedded into the prosthesis socket. In another implementation, separate surface electrodes can be placed on the amputee to acquire EMG signals from the residual quadriceps and hamstring muscles of the amputee subjects. To improve acquisition of such signals, the signals from each muscle group can amplified, filtered, and/or rectified at module <b>106</b>. In other words, the EMG preprocessing attempts to discern an envelope of the raw EMG signal.</p>
<p id="p-0049" num="0048">In the various embodiments, each EMG signal is acquired from a single bipolar electrode. Such signals are generally very small in magnitude and can have both positive and negative values when the muscle contracts. An instrumentation amplifier can then be used to increase the voltage levels of these signals. Thereafter, high pass filtering can be applied to remove the baseline noise and rectification can be done to remove the negative values. Finally, the signal can be low pass filtered to create an envelope of the signal. This way, the muscle contraction EMG signals will be converted to a unidirectional multilevel signal in expense of some phase delay due to the filtering. In other words, the preprocessing is done to convert the noisy raw EMG data to a less noisy form that is more suitable for controls and pattern recognition.</p>
<p id="p-0050" num="0049">For example, in one embodiment, the signal can be processed using an instrumentation amplifier with a gain of 200 and filtered using an analog second order low pass filter with 5 Hz cutoff frequency. The filtered signals can then be digitized for use. For example, using a computer running MATLAB Real Time Workshop with a digital-to-analog converter card and operating at 1000 Hz sampling frequency. The digital signals can then be further processed using additional signal processing. For example, signals can be processed using a first order high-pass filter with 20 Hz cutoff frequency, a rectifier, and a first order low-pass filter with 2 Hz cutoff frequency.</p>
<p id="p-0051" num="0050">F. EMG Intent Database Generation</p>
<p id="p-0052" num="0051">Classifier training database generation can be performed by recording EMG data associated with an amputee. For example, in one embodiment, a training database can be generated for an amputee by recording 100 seconds of EMG data for knee flexion and 100 seconds for knee extension. For ease of the subject, a one-minute rest in between the recordings can be provided. Thus the entire training session can be configured to last less than five minutes. To generate a complete set of training data for each flexion/extension class, each subject can be asked to visualize extending the knee on the amputated side at 0, 25, 50, 75 and 100 percent of full effort, several times for durations ranging from 1 to 5 seconds, over the total data collection period of 100 seconds at a 100 Hz sampling frequency. The extension data can be recorded first, followed by a rest period of approximately one minute, followed by the same procedure for flexion data. All EMG data can be normalized into the interval [0, 1]. The data can be additionally thresholded at 20% maximum effort, such that samples in the interval [0, 0.2] are effectively removed from the database and in order to mitigate baseline EMG noise and muscular tonicity. Based on this thresholded database, the QDA classifier can be parameterized to classify each subject's preprocessed EMG as intent to either flex or extend the knee joint.</p>
<p id="p-0053" num="0052">G. Reference Velocity Magnitude</p>
<p id="p-0054" num="0053">The QDA essentially provides a probabilistic optimal separation boundary of the EMG data to the flexion and extension classes. Within a given class (in this case flexion or extension), the &#x201c;magnitude&#x201d; of the data is the projection along the principal axis of that class. In the control approach described herein, this projection can be generated via principal component analysis (PCA), which essentially projects the two-dimensional EMG data along a principal (either flexion or extension) axis. Using the data belonging to each class, two 2&#xd7;2 PCA projection matrices W<sub>E </sub>and W<sub>F </sub>can be computed. In the real-time implementation, one of these projection matrices can be used to extract the &#x201c;magnitude&#x201d; information, based on the result of QDA classification as follows:</p>
<p id="p-0055" num="0054">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msup>
          <mrow>
            <mo>[</mo>
            <mrow>
              <msub>
                <mi>x</mi>
                <mi>p</mi>
              </msub>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <msub>
                <mi>x</mi>
                <mi>s</mi>
              </msub>
            </mrow>
            <mo>]</mo>
          </mrow>
          <mi>T</mi>
        </msup>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mtable>
            <mtr>
              <mtd>
                <msup>
                  <mrow>
                    <msub>
                      <mi>W</mi>
                      <mi>E</mi>
                    </msub>
                    <mo>&#x2061;</mo>
                    <mrow>
                      <mo>[</mo>
                      <mrow>
                        <msub>
                          <mi>x</mi>
                          <mi>h</mi>
                        </msub>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.8em" height="0.8ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <msub>
                          <mi>x</mi>
                          <mi>q</mi>
                        </msub>
                      </mrow>
                      <mo>]</mo>
                    </mrow>
                  </mrow>
                  <mi>T</mi>
                </msup>
              </mtd>
              <mtd>
                <mrow>
                  <mi>if</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>&#x3c9;</mi>
                    <mi>E</mi>
                  </msub>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <msup>
                  <mrow>
                    <msub>
                      <mi>W</mi>
                      <mi>F</mi>
                    </msub>
                    <mo>&#x2061;</mo>
                    <mrow>
                      <mo>[</mo>
                      <mrow>
                        <msub>
                          <mi>x</mi>
                          <mi>h</mi>
                        </msub>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.8em" height="0.8ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <msub>
                          <mi>x</mi>
                          <mi>q</mi>
                        </msub>
                      </mrow>
                      <mo>]</mo>
                    </mrow>
                  </mrow>
                  <mi>T</mi>
                </msup>
              </mtd>
              <mtd>
                <mrow>
                  <mi>if</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>&#x3c9;</mi>
                    <mi>F</mi>
                  </msub>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>4</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0056" num="0055">The magnitude of the angular velocity reference for the joint impedance set-point, &#x3c9;<sub>emg</sub>, can therefore be the PCA-based projection of the two-dimensional EMG data along the principal axis of either the flexion or extension data. Details of PCA can be found in several references. The projected EMG data can be scaled between zero and maximum reference velocity to generate the desired angular velocity reference. The maximum reference velocity can be determined as the maximum reasonable angular velocity command for volitional control of the knee joint.</p>
<p id="p-0057" num="0056">In contrast with (3), which obtains a reference angular velocity (for the volitional control impedance set-point) by projecting data along a hamstring/quadriceps set of measurement axes, the approach combining QDA classification with PCA projection of the two-dimensional EMG data establishes a probabilistically optimal linear transformation from a hamstring/quadriceps set of axes to a flexion/extension set of axes (based on the training dataset). As such, the subject need not be trained to isolate the contraction of individual muscle groups, but rather is free to co-contract the hamstring and quadriceps groups in a natural manner when intending knee flexion or extension.</p>
<p id="p-0058" num="0057">II. Volitional Control of Powered Knee and Powered Ankle</p>
<p id="p-0059" num="0058">A. Volitional Control Structure</p>
<p id="p-0060" num="0059">Although the volitional control structure above describes how to provide volitional control of a powered knee joint, volitional control of a powered knee and a powered joint is desirable in many circumstances. In particular, volitional control of both the knee and ankle allows more natural motion and provides the user the option to manipulate the foot. Accordingly, in some embodiments, a control framework can be provided that is intended to provide volitional control of both the knee and ankle joints with a joint output impedance similar to that of the native limb. As such, rather than using the measured EMG solely to prescribe joint torque, angle, or angular velocity, the presented framework can utilize measured EMG to prescribe the angular velocity of an equilibrium point of joint impedance that consists of the combination of a joint stiffness and damping. In this manner, the knee can move to a desired position with a joint output stiffness and damping prescribed by the controller, thus presumably moving in a more natural manner (relative to a high-output-impedance position controller), and resulting in a more natural interaction between the user, prosthesis, and environment.</p>
<p id="p-0061" num="0060">The structure of the volitional controller for knee and ankle joints is shown in <figref idref="DRAWINGS">FIG. 2</figref>. <figref idref="DRAWINGS">FIG. 2</figref> shows a block diagram of a myoelectric volitional controller <b>200</b> for controlling a prosthesis <b>202</b> having powered knee joint or a powered ankle joint in accordance with an embodiment. In many respects, the controller <b>200</b> operates in a substantially similar fashion to controller <b>100</b> in <figref idref="DRAWINGS">FIG. 1</figref>. That is, during a non-weight bearing activity, based on an intent recognizer (not shown), EMG signals (EMG<sub>1</sub>, EMG<sub>2</sub>) are received by controller <b>200</b> from the residual limb of the user <b>204</b>. Thereafter, a pre-processing module <b>206</b> processes the EMG signals. The pre-processed signals are then used for generation of reference velocities for the knee or the ankle joints (i.e., one of joint angular velocity references, &#x3c9;<sub>knee</sub><sub><sub2>&#x2014;</sub2></sub><sub>emg </sub>and &#x3c9;<sub>ankle</sub><sub><sub2>&#x2014;</sub2></sub><sub>emg</sub>, respectively). As shown in <figref idref="DRAWINGS">FIG. 2</figref>, the one of &#x3c9;<sub>knee</sub><sub><sub2>&#x2014;</sub2></sub><sub>emg </sub>and &#x3c9;<sub>ankle</sub><sub><sub2>&#x2014;</sub2></sub><sub>emg </sub>is generated by a velocity reference generation module <b>208</b> based on the pre-processed EMG signals, the user's intent to flex or extend the knee, a user selection of a joint, and a corresponding current angle for the joint to be controlled (&#x3b8;<sub>kne </sub>or &#x3b8;<sub>ank</sub>), the derivative or rate of change of angle for the joint to be controlled ({dot over (&#x3b8;)}<sub>kne </sub>or {dot over (&#x3b8;)}<sub>ank</sub>). The intent can be obtained from a flexing extending classification module <b>210</b>. The user selection can be based on detection of co-contraction or a &#x201c;twitch&#x201d; using module <b>211</b>. Thereafter, an equilibrium point joint angle for the one of the knee (&#x3b8;kne<sub><sub2>&#x2014;</sub2></sub><sub>emg</sub>) or the ankle (&#x3b8;<sub>ank</sub><sub><sub2>&#x2014;</sub2></sub><sub>emg</sub>) can be obtained from a corresponding one of &#x3c9;<sub>knee</sub><sub><sub2>&#x2014;</sub2></sub><sub>emg </sub>and &#x3c9;<sub>ankle</sub><sub><sub2>&#x2014;</sub2></sub><sub>emg </sub>using conversion module <b>212</b>. The one equilibrium point joint angle can then be used in a volitional impedance controller module <b>214</b> to generate a joint torque command (&#x3c4;) for the prosthesis <b>102</b> to cause motion of the knee or ankle joint. Additionally, the resulting values for &#x3b8;<sub>kne</sub>, &#x3b8;<sub>ank</sub>, {dot over (&#x3b8;)}<sub>kne </sub>and {dot over (&#x3b8;)}<sub>ank </sub>are updated. The control process then repeats. The operation of these various modules is described below in greater above and below, as necessary.</p>
<p id="p-0062" num="0061">B. Volitional Impedance Controller</p>
<p id="p-0063" num="0062">Controller module <b>214</b> here operates in a manner substantially similar to that of controller module <b>114</b> in <figref idref="DRAWINGS">FIG. 1</figref>. Again, it is noted that the EMG is used to generate an angular velocity command (as is commonly the case in upper extremity myoelectric control) rather than a position command, so that the user contracts the residual limb musculature only to move the joint and can relax when maintaining any given knee joint angle. Specifically, the joint torque command at controller module <b>214</b> is given by:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x3c4;<sub>kne</sub><i>=k</i><sub>kne</sub>(&#x3b8;<sub>kne</sub>&#x2212;&#x3b8;<sub>emg</sub><sub><sub2>&#x2014;</sub2></sub><sub>kne</sub>)+<i>b</i><sub>kne</sub>{dot over (&#x3b8;)}<sub>kne </sub><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x3c4;<sub>ank</sub><i>=k</i><sub>ank</sub>(&#x3b8;<sub>ank</sub>&#x2212;&#x3b8;<sub>emg</sub><sub><sub2>&#x2014;</sub2></sub><sub>ank</sub>)+<i>b</i><sub>ank</sub>{dot over (&#x3b8;)}<sub>ank</sub>&#x2003;&#x2003;(5)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where the knee and ankle equilibrium points &#x3b8;<sub>kne</sub><sub><sub2>&#x2014;</sub2></sub><sub>emg </sub>and &#x3b8;<sub>ank</sub><sub><sub2>&#x2014;</sub2></sub><sub>emg </sub>are given by
</p>
<p id="p-0064" num="0063">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>&#x3b8;</mi>
            <mrow>
              <mi>kne</mi>
              <mo>&#x2062;</mo>
              <mi>_</mi>
              <mo>&#x2062;</mo>
              <mi>emg</mi>
            </mrow>
          </msub>
          <mo>=</mo>
          <mrow>
            <msub>
              <mi>&#x3b8;</mi>
              <mrow>
                <mi>o</mi>
                <mo>&#x2062;</mo>
                <mi>_</mi>
                <mo>&#x2062;</mo>
                <mi>kne</mi>
              </mrow>
            </msub>
            <mo>+</mo>
            <mrow>
              <munder>
                <mo>&#x222b;</mo>
                <mi>t</mi>
              </munder>
              <mo>&#x2062;</mo>
              <mrow>
                <msub>
                  <mi>&#x3c9;</mi>
                  <mrow>
                    <mi>kne</mi>
                    <mo>&#x2062;</mo>
                    <mi>_</mi>
                    <mo>&#x2062;</mo>
                    <mi>emg</mi>
                  </mrow>
                </msub>
                <mo>&#x2062;</mo>
                <mrow>
                  <mo>&#x2146;</mo>
                  <mi>t</mi>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
        <mo>&#x2062;</mo>
        <mstyle>
          <mtext>
</mtext>
        </mstyle>
        <mo>&#x2062;</mo>
        <mrow>
          <msub>
            <mi>&#x3b8;</mi>
            <mrow>
              <mi>ank</mi>
              <mo>&#x2062;</mo>
              <mi>_</mi>
              <mo>&#x2062;</mo>
              <mi>emg</mi>
            </mrow>
          </msub>
          <mo>=</mo>
          <mrow>
            <msub>
              <mi>&#x3b8;</mi>
              <mrow>
                <mi>o</mi>
                <mo>&#x2062;</mo>
                <mi>_</mi>
                <mo>&#x2062;</mo>
                <mi>ank</mi>
              </mrow>
            </msub>
            <mo>+</mo>
            <mrow>
              <munder>
                <mo>&#x222b;</mo>
                <mi>t</mi>
              </munder>
              <mo>&#x2062;</mo>
              <mrow>
                <msub>
                  <mi>&#x3c9;</mi>
                  <mrow>
                    <mi>ank</mi>
                    <mo>&#x2062;</mo>
                    <mi>_</mi>
                    <mo>&#x2062;</mo>
                    <mi>emg</mi>
                  </mrow>
                </msub>
                <mo>&#x2062;</mo>
                <mrow>
                  <mo>&#x2146;</mo>
                  <mi>t</mi>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>6</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where k<sub>kne </sub>and k<sub>ank </sub>are the prescribed joint stiffnesses, b<sub>kne </sub>and b<sub>ank </sub>are the prescribed joint damping coefficient, &#x3b8;<sub>kne </sub>and &#x3b8;<sub>ank </sub>are the knee and ankle joint angles, and &#x3b8;<sub>o</sub><sub><sub2>&#x2014;</sub2></sub><sub>kne </sub>and &#x3b8;<sub>o</sub><sub><sub2>&#x2014;</sub2></sub><sub>ank </sub>are the initial knee and ankle angles when the control system switches to the volitional (non-weight bearing) controller. &#x3c9;<sub>kne</sub><sub><sub2>&#x2014;</sub2></sub><sub>emg </sub>and &#x3c9;<sub>ank</sub><sub><sub2>&#x2014;</sub2></sub><sub>emg </sub>are the knee and ankle angular velocity references generated from the quadriceps and hamstring EMG, as described in the following section.
</p>
<p id="p-0065" num="0064">C. Active Joint Selection Using Twitch</p>
<p id="p-0066" num="0065">In this embodiment, two unidirectional EMG channels are used to generate two bidirectional joint velocity references, one for the ankle joint and one for the knee joint of the prosthesis. In one embodiment, one bidirectional signal for one of the joints is generated at a single instant. In order to achieve this, a short duration co-contraction (twitch) of the both EMG electrode sites can be utilized to select the active joint. A twitch can be detected when the filtered and rectified EMG signals on both channels exceed a threshold for a short duration of time. Once a twitch is detected the active joint of the prosthesis can be toggled. One of the two tactors (e.g. cellphone vibration motor) on the residual limb (or in the socket as shown in <figref idref="DRAWINGS">FIG. 5</figref> below) can then be activated for a short duration to notify the user which joint is active.</p>
<p id="p-0067" num="0066">D. Flexion-Extension Classification</p>
<p id="p-0068" num="0067">Once the active joint is selected, the user intent to flex or extend can be detected using a pattern classification algorithm in module <b>210</b>, as described above with respect to module <b>110</b> in <figref idref="DRAWINGS">FIG. 1</figref>. For example, such algorithms can include linear discriminant analysis (LDA), quadratic discriminant analysis (QDA), support vector machines (SVM) or artificial neural networks (ANN). In order to generate the flexion extension classification boundaries (or functions) a database of different intensity flexion and extension EMG data from hamstring and quadriceps muscles need to be collected, as described above. This data can then be used to train the pattern classifiers.</p>
<p id="p-0069" num="0068">D. Reference Velocity Magnitude</p>
<p id="p-0070" num="0069">Once the user intent to flex and extend is inferred, the joint velocity reference magnitude can be obtained at module <b>208</b> as a function of the filtered EMG signals. One possible way to generate the velocity references might be to use principal component analysis to project the two dimensional filtered EMG signals to the one dimensional principal component.</p>
<p id="p-0071" num="0070">III. Experimental Implementation</p>
<p id="p-0072" num="0071">A. EMG-Based Reference Velocity Generation</p>
<p id="p-0073" num="0072">The proposed volitional knee joint controller of <figref idref="DRAWINGS">FIG. 1</figref> was implemented on three transfemoral amputee subjects. The subjects were all male, between the ages of 20 and 60, and between 3 months and 4 years post amputation. Two of the subjects were unilateral transfemoral amputees, while one subject (subject <b>3</b>) was a bilateral amputee, with a transfemoral amputation on one leg and a transtibial on the other. In all cases, all subjects were characterized by a prosthetic knee on one limb and an intact knee on the other.</p>
<p id="p-0074" num="0073"><figref idref="DRAWINGS">FIGS. 3A-3C</figref> shows the EMG intent databases corresponding to each subject. In particular, <figref idref="DRAWINGS">FIG. 3A</figref> is an x-y plot of extension and flexion reference signals for a first amputee subject (subject <b>1</b>) showing classification using QDA and LDA methods in accordance with the various embodiments. <figref idref="DRAWINGS">FIG. 3B</figref> is an x-y plot of extension and flexion reference signals for a second amputee subject (subject <b>2</b>) showing classification using QDA and LDA methods in accordance with the various embodiments. <figref idref="DRAWINGS">FIG. 3C</figref> is an x-y plot of extension and flexion reference signals for a third amputee subject (subject <b>3</b>) showing classification using QDA and LDA methods in accordance with the various embodiments.</p>
<p id="p-0075" num="0074">These databases, as described above, correspond to 100 seconds of flexion data at various degrees of (muscular) effort, and 100 seconds of extension data, also at various degrees of effort. Note that the x<sub>q </sub>axis represents the measured, preprocessed, normalized, and thresholded EMG for the quadriceps group, while the x<sub>h </sub>axis represents the EMG measured for the hamstring group. As seen in <figref idref="DRAWINGS">FIGS. 3A-3C</figref>, two of the three subjects (subjects <b>1</b> and <b>3</b>) demonstrated a significant amount of muscular co-contraction when intending volitional movement of the prosthetic knee. Interestingly, subject <b>1</b> primarily demonstrated significant co-contraction during intent to extend the knee, while subject <b>3</b> primarily demonstrated significant co-contraction during intent to flex the knee. For all subjects, the LDA and QDA boundaries between classes along with the pseudo-classification boundary described by (<b>3</b>) are shown in the figures. Recall that, based on a five-fold cross-validation of classification accuracy, QDA classification in general provided higher classification accuracies, and therefore was used in the control experiments to classify intent to flex or extend the knee. Specifically, the mean accuracies of the classifiers over 5 CV-fold for each of the three subjects are 0.99, 0.80 and 0.86 for the LDA and 1.0, 0.86 and 0.90 for the QDA. Note that, particularly in the cases of subjects <b>1</b> and <b>3</b>, the simple thresholding approach (described by (<b>3</b>)) entails a considerable amount of erroneous &#x201c;classification&#x201d; of intent, even in the case of large amplitude EMG (x<sub>i</sub>&#x3e;0.3). In contrast, the QDA classification boundaries entail little to no classification error, particularly in large amplitude EMG.</p>
<p id="p-0076" num="0075">Once intent to flex or extend the knee is known, the magnitude of the angular velocity for the impedance set-point is obtained by projecting the corresponding data point onto its principal axis via PCA. A representative example of the corresponding PCA projections for subject <b>1</b> is shown in <figref idref="DRAWINGS">FIGS. 4A and 4B</figref>. <figref idref="DRAWINGS">FIG. 4A</figref> is an x-y plot of actual measurements and PCA projections of extension reference signals for the first amputee subject in <figref idref="DRAWINGS">FIG. 3A</figref>. <figref idref="DRAWINGS">FIG. 4B</figref> is an x-y plot of actual measurements and PCA projections of flexion reference signals for the first amputee subject in <figref idref="DRAWINGS">FIG. 3A</figref>. In the figures, the x<sub>p </sub>axis corresponds to the PCA projection of the flexion and extension data along the principal component of that data. As such, the angular velocity for the impedance set-point of the volitional knee joint controller can be given by:</p>
<p id="p-0077" num="0076">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>&#x3c9;</mi>
          <mi>emg</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mtable>
            <mtr>
              <mtd>
                <mn>0</mn>
              </mtd>
              <mtd>
                <mrow>
                  <mi>if</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>&#x3c9;</mi>
                    <mi>F</mi>
                  </msub>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mi>and</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>x</mi>
                        <mi>P</mi>
                      </msub>
                      <mo>&#x3c;</mo>
                      <mi>&#x3b3;</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mi>&#x3b1;</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mfrac>
                      <mrow>
                        <msub>
                          <mi>x</mi>
                          <mi>P</mi>
                        </msub>
                        <mo>-</mo>
                        <mi>&#x3b3;</mi>
                      </mrow>
                      <mrow>
                        <mn>1</mn>
                        <mo>-</mo>
                        <mi>&#x3b3;</mi>
                      </mrow>
                    </mfrac>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mi>if</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>&#x3c9;</mi>
                    <mi>F</mi>
                  </msub>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mi>and</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>x</mi>
                        <mi>P</mi>
                      </msub>
                      <mo>&#x2265;</mo>
                      <mi>&#x3b3;</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mn>0</mn>
              </mtd>
              <mtd>
                <mrow>
                  <mi>if</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>&#x3c9;</mi>
                    <mi>E</mi>
                  </msub>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mi>and</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>x</mi>
                        <mi>P</mi>
                      </msub>
                      <mo>&#x3c;</mo>
                      <mi>&#x3b3;</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mo>-</mo>
                  <mrow>
                    <mi>&#x3b1;</mi>
                    <mo>&#x2061;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mfrac>
                        <mrow>
                          <msub>
                            <mi>x</mi>
                            <mi>P</mi>
                          </msub>
                          <mo>-</mo>
                          <mi>&#x3b3;</mi>
                        </mrow>
                        <mrow>
                          <mn>1</mn>
                          <mo>-</mo>
                          <mi>&#x3b3;</mi>
                        </mrow>
                      </mfrac>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mi>if</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>&#x3c9;</mi>
                    <mi>E</mi>
                  </msub>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mi>and</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>x</mi>
                        <mi>P</mi>
                      </msub>
                      <mo>&#x2265;</mo>
                      <mi>&#x3b3;</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>7</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where &#x3b1; is the maximum desired set-point velocity (corresponding to maximum muscular effort), &#x3b3; is the value at which the normalized EMG is thresholded (in this case &#x3b3;=0.2), x<sub>p </sub>is the PCA projection along the principal axis. For the actual samples, x<sub>q </sub>and x<sub>h </sub>denote the normalized EMG signals for the quadriceps and hamstrings muscles, respectively. For the PCA projections, x<sub>p </sub>and x<sub>s </sub>denote the first principal and second principal components, respectively.
</p>
<p id="p-0078" num="0077">B. Volitional Trajectory Tracking of a Powered Knee Prosthesis</p>
<p id="p-0079" num="0078">The volitional knee controller of <figref idref="DRAWINGS">FIG. 1</figref> was implemented on each of the three amputee subjects with the powered transfemoral prosthesis <b>500</b> shown in <figref idref="DRAWINGS">FIG. 5</figref> and described in detail in U.S. patent application Ser. No. 12/427,384 to Goldfarb et al, filed Apr. 21, 2009, the contents of which are herein incorporated in their entirety. However, the various embodiments are not limited to any particular design of a prosthesis. Thus, other designs can be used with the various embodiments.</p>
<p id="p-0080" num="0079">As shown in <figref idref="DRAWINGS">FIG. 5</figref>, prosthesis <b>500</b> includes a knee actuation unit <b>502</b> for actuating a knee joint <b>514</b>, an ankle actuation unit <b>504</b> for actuating an ankle joint <b>508</b>, and an embedded system <b>506</b> housing, for example, a battery and the controller module or system. Both the knee joint <b>514</b> and ankle joint <b>508</b> can incorporate integrated potentiometers for joint angle position. The ankle actuation unit can include a spring <b>505</b>. One 3-axis accelerometer is located on the embedded system <b>506</b> and a second is located below the ankle joint <b>508</b> on the ankle pivot member <b>510</b>. A strain based sagittal plane moment sensor <b>512</b> can located between the knee joint <b>514</b> and the socket connector <b>516</b>, which measures the moment between a socket <b>524</b> and the prosthesis <b>500</b>. Prosthesis also includes a foot <b>518</b> designed to measure the ground reaction force components at the ball <b>520</b> of the foot and heel <b>522</b>. Each of heel <b>522</b> and ball <b>520</b> incorporates a full bridge of semiconductor strain gages that measure the strains resulting from the respective ground contact forces. The prosthetic foot can be designed to be housed in a soft prosthetic foot shell (not shown).</p>
<p id="p-0081" num="0080">As noted above, The prosthesis used in these experiments also contains a powered ankle, although the ankle was not explicitly commanded in these experiments, but rather remained in a &#x201c;neutral&#x201d; configuration. In order to characterize the effectiveness of the volitional controller for purposes of moving the knee joint, an experiment was developed which required each subject to track various types of knee joint angle movements. During these experiments, each amputee was presented with a computer monitor that showed in real-time a desired knee angle, along with the knee angle of the powered prosthesis, as measured by the joint angle sensor on the prosthesis.</p>
<p id="p-0082" num="0081">Prosthesis sockets with embedded EMG electrodes for each subject were not available for these experiments. Normally, such EMG electrodes would be disposed similarly to the configuration illustrated in <figref idref="DRAWINGS">FIG. 5</figref> in order to correspond with locations of the residual portions of the hamstring and/or quadriceps on an amputee. That is, referring back to <figref idref="DRAWINGS">FIG. 5</figref>, the socket <b>524</b> for prosthesis <b>500</b> would be configured to include electrodes <b>526</b> positioned along inner surfaces of socket <b>524</b> and at locations such that the user's hamstring and/or quadriceps would come into contact with electrodes <b>526</b>. Signals from electrodes <b>526</b> would then be provided to the embedded system <b>506</b>. Additionally, to allow the embedded system <b>506</b> to provide feedback to the user as to which joint is active, a tactor <b>528</b>, coupled to embedded system <b>506</b>, would be embedded into socket <b>524</b>, as described above.</p>
<p id="p-0083" num="0082">However, since the various embodiments of the volitional controller are intended for non-weight-bearing activity such as sitting, the subjects did not wear the powered prosthesis during the knee control experiments, but rather the subjects were seated in a chair and the powered knee prosthesis was mounted to a bench immediately next to the subject. The prosthesis was mounted in an orientation that was consistent with the seated position of the subjects.</p>
<p id="p-0084" num="0083">Aside from the QDA and PCA parameters extracted from the EMG intent database, all subjects utilized the same set of volitional control parameters for the powered prosthesis. Specifically, the stiffness of the impedance controller was selected as k=1.0 Nm/deg, the damping as b=0.01 Nm/deg/s, the maximum set-point velocity &#x3b1;=50 deg/s. These parameters were selected experimentally to provide an acceptable bandwidth of motion, while maintaining a natural appearance of motion and a stable interaction with obstacles in the environment (e.g., the leg of a chair).</p>
<p id="p-0085" num="0084">In order to characterize volitional control of various types of motion, four different desired trajectories were constructed (referred herein as trajectories A through D). The trajectory A joint angle tracking task consisted of set point trajectories requiring the subject to quickly change the knee angle in 8 to 45 degree increments and to hold it for 5 to 10 seconds. Trajectory B consisted of sloped trajectories, which were intended to measure the subject's ability to move the prosthesis at different constant velocities. Trajectories C and D consisted of sinusoidal waves at 0.2 and 0.33 Hz, respectively (i.e., five-second and three-second periods, respectively), which were intended to measure the subject's ability to move the leg up and down smoothly at continuously varying velocities. Trajectories A and B lasted for a total duration of 160 and 180 seconds, respectively, while trajectories C and D lasted for a total duration of 60 seconds each.</p>
<p id="p-0086" num="0085">For each amputee subject, three sessions of experiments were conducted, each on a different day, with each successive session approximately one week apart. During the experimental sessions, the amputee spent approximately one hour practicing the tracking of the four trajectories (A through D), during which the various trajectories were presented to the amputee in an arbitrary order. After completion of the third session (i.e., after approximately one hour of practice in the third session), the subject's performance was evaluated in a single set of performance tests, consisting of one trial each of trajectories A through D. Representative trajectory tracking performance data corresponding to subject <b>3</b>, whose average performance was between that of subjects <b>1</b> and <b>2</b>, is shown in <figref idref="DRAWINGS">FIGS. 6A-6D</figref>. <figref idref="DRAWINGS">FIG. 6</figref> show x-y plots of EMG-controlled powered prosthesis knee position for trajectories A-D, respectively, of the third amputee subject in <figref idref="DRAWINGS">FIG. 3C</figref>.</p>
<p id="p-0087" num="0086">The root-mean-square (RMS) trajectory tracking error for all amputee subjects for each of the four trajectories is summarized in Table I. As seen in the table, the average RMS tracking error across all subjects and all trajectories was 6.2 deg.</p>
<p id="p-0088" num="0087">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE I</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>RMS ERROR FOR EMG CONTROL OF POWERED KNEE</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="5">
<colspec colname="offset" colwidth="49pt" align="left"/>
<colspec colname="1" colwidth="35pt" align="center"/>
<colspec colname="2" colwidth="42pt" align="center"/>
<colspec colname="3" colwidth="35pt" align="center"/>
<colspec colname="4" colwidth="56pt" align="center"/>
<tbody valign="top">
<row>
<entry/>
<entry>Subject 1</entry>
<entry>Subject 2</entry>
<entry>Subject 3</entry>
<entry>EMG Control</entry>
</row>
<row>
<entry/>
<entry>EMG</entry>
<entry>EMG</entry>
<entry>EMG</entry>
<entry>Avg.</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="4" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="5">
<colspec colname="1" colwidth="49pt" align="left"/>
<colspec colname="2" colwidth="35pt" align="center"/>
<colspec colname="3" colwidth="42pt" align="center"/>
<colspec colname="4" colwidth="35pt" align="center"/>
<colspec colname="5" colwidth="56pt" align="center"/>
<tbody valign="top">
<row>
<entry>Trajectory A</entry>
<entry>6.8</entry>
<entry>8.2</entry>
<entry>8.0</entry>
<entry>7.7</entry>
</row>
<row>
<entry>Trajectory B</entry>
<entry>2.5</entry>
<entry>3.9</entry>
<entry>3.7</entry>
<entry>3.4</entry>
</row>
<row>
<entry>Trajectory C</entry>
<entry>4.4</entry>
<entry>7.2</entry>
<entry>5.3</entry>
<entry>5.6</entry>
</row>
<row>
<entry>Trajectory D</entry>
<entry>8.4</entry>
<entry>8.3</entry>
<entry>7.1</entry>
<entry>7.9</entry>
</row>
<row>
<entry>Subject Avg.</entry>
<entry>5.5</entry>
<entry>6.9</entry>
<entry>6.0</entry>
<entry>6.2</entry>
</row>
<row>
<entry namest="1" nameend="5" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0089" num="0088">B. Comparison to Intact Knee Trajectory Tracking</p>
<p id="p-0090" num="0089">In order to provide context for the trajectory tracking data summarized in Table I, corresponding experiments were conducted to assess the ability of each amputee to track the same set of knee joint angle trajectories with his sound knee. These experiments were conducted in a single session, since familiarization with the prosthesis and volitional impedance controller was not necessary (i.e., each subject was already quite familiar with the movement control of his sound knee). As such, each subject spent approximately 15 minutes practicing each set of trajectories, until each was comfortable with his ability to track the trajectories. Once sufficiently comfortable, each subject's performance was evaluated in a single set of performance tests, consisting of one trial each of trajectories A through D. Movement of the subjects' sound knee was measured by using a knee brace instrumented with a goniometer. The knee brace did not impose any significant constraints on knee movement. Representative data corresponding to subject <b>3</b> (whose prosthetic side data is shown in <figref idref="DRAWINGS">FIGS. 6A-6D</figref>) is shown in <figref idref="DRAWINGS">FIGS. 7A-7D</figref>. <figref idref="DRAWINGS">FIGS. 7A-7D</figref> shows x-y plots of sound-side knee position for trajectories A-D, respectively, of the third amputee subject in <figref idref="DRAWINGS">FIG. 3C</figref>.</p>
<p id="p-0091" num="0090">The RMS trajectory tracking error for sound side knee angle tracking for all subjects for each of the four trajectories is summarized in Table II.</p>
<p id="p-0092" num="0091">
<tables id="TABLE-US-00002" num="00002">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE II</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>RMS ERROR FOR VOLITIONAL</entry>
</row>
<row>
<entry>CONTROL OF INTACT KNEE</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="5">
<colspec colname="offset" colwidth="49pt" align="left"/>
<colspec colname="1" colwidth="42pt" align="center"/>
<colspec colname="2" colwidth="42pt" align="center"/>
<colspec colname="3" colwidth="35pt" align="center"/>
<colspec colname="4" colwidth="49pt" align="center"/>
<tbody valign="top">
<row>
<entry/>
<entry>Subject 1</entry>
<entry>Subject 2</entry>
<entry>Subject 3</entry>
<entry>Sound Side</entry>
</row>
<row>
<entry/>
<entry>Sound</entry>
<entry>Sound</entry>
<entry>Sound</entry>
<entry>Avg.</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="4" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="5">
<colspec colname="1" colwidth="49pt" align="left"/>
<colspec colname="2" colwidth="42pt" align="center"/>
<colspec colname="3" colwidth="42pt" align="center"/>
<colspec colname="4" colwidth="35pt" align="center"/>
<colspec colname="5" colwidth="49pt" align="center"/>
<tbody valign="top">
<row>
<entry>Trajectory A</entry>
<entry>6.1</entry>
<entry>6.8</entry>
<entry>7.6</entry>
<entry>6.8</entry>
</row>
<row>
<entry>Trajectory B</entry>
<entry>1.4</entry>
<entry>1.8</entry>
<entry>3.1</entry>
<entry>2.1</entry>
</row>
<row>
<entry>Trajectory C</entry>
<entry>4.6</entry>
<entry>6.1</entry>
<entry>6.4</entry>
<entry>5.7</entry>
</row>
<row>
<entry>Trajectory D</entry>
<entry>4.5</entry>
<entry>6.4</entry>
<entry>7.7</entry>
<entry>6.2</entry>
</row>
<row>
<entry>Subject Avg.</entry>
<entry>4.2</entry>
<entry>5.3</entry>
<entry>6.2</entry>
<entry>5.2</entry>
</row>
<row>
<entry namest="1" nameend="5" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0093" num="0092">As seen in Table II, the average RMS tracking error across all subjects and all trajectories for sound knee tracking was 5.2 deg. Recall from Table I that the average RMS tracking error across all subjects and all trajectories for the EMG-based prosthesis knee tracking was 6.2 deg, thus indicating a difference in tracking error between the prosthetic and intact knee joints of one degree. As such, as indicated collectively by the tracking data, the ability of the amputee to control non-weight-bearing knee joint motion of the powered prosthesis (with the EMG-based impedance controller) is nearly as good as their ability to control non-weight-bearing knee joint motion in their intact knee. Further, the performance differences were fairly invariant with respect to movement type. Specifically, the average RMS errors for trajectory <b>4</b> (steps) were 7.7 deg and 6.8 deg, respectively, for the prosthetic and intact joints, and thus the difference in average error was 0.9 deg. The average RMS errors for trajectory B (ramps) were 3.4 deg and 2.1 deg, respectively, for the prosthetic and intact joints, and thus the difference in average error was 1.3 deg. For trajectory C (the slower sinusoid), the average RMS errors were 5.6 deg and 5.7 deg, respectively, for the prosthetic and intact joints, and thus the tracking performance for the slower sinusoid was essentially the same for the prosthetic and intact joint control. Finally, for trajectory D (the faster sinusoid), the average RMS errors were 7.9 deg and 6.2 deg, respectively, for the prosthetic and intact joints, and thus the prosthesis controller demonstrated 1.7 deg more error on average than the intact joint.</p>
<p id="p-0094" num="0093">The resulting control approach shows that the resulting volitional control provides trajectory tracking performance close to that of their respective intact knee joints, thus indicating that the approach provides effective control of knee joint motion during non-weight-bearing activity.</p>
<p id="p-0095" num="0094">While various embodiments of the present invention have been described above, it should be understood that they have been presented by way of example only, and not limitation. Numerous changes to the disclosed embodiments can be made in accordance with the disclosure herein without departing from the spirit or scope of the invention. Thus, the breadth and scope of the present invention should not be limited by any of the above described embodiments. Rather, the scope of the invention should be defined in accordance with the following claims and their equivalents.</p>
<p id="p-0096" num="0095">Although the invention has been illustrated and described with respect to one or more implementations, equivalent alterations and modifications will occur to others skilled in the art upon the reading and understanding of this specification and the annexed drawings. In addition, while a particular feature of the invention may have been disclosed with respect to only one of several implementations, such feature may be combined with one or more other features of the other implementations as may be desired and advantageous for any given or particular application.</p>
<p id="p-0097" num="0096">The terminology used herein is for the purpose of describing particular embodiments only and is not intended to be limiting of the invention. As used herein, the singular forms &#x201c;a&#x201d;, &#x201c;an&#x201d; and &#x201c;the&#x201d; are intended to include the plural forms as well, unless the context clearly indicates otherwise. Furthermore, to the extent that the terms &#x201c;including&#x201d;, &#x201c;includes&#x201d;, &#x201c;having&#x201d;, &#x201c;has&#x201d;, &#x201c;with&#x201d;, or variants thereof are used in either the detailed description and/or the claims, such terms are intended to be inclusive in a manner similar to the term &#x201c;comprising.&#x201d;</p>
<p id="p-0098" num="0097">Unless otherwise defined, all terms (including technical and scientific terms) used herein have the same meaning as commonly understood by one of ordinary skill in the art to which this invention belongs. It will be further understood that terms, such as those defined in commonly used dictionaries, should be interpreted as having a meaning that is consistent with their meaning in the context of the relevant art and will not be interpreted in an idealized or overly formal sense unless expressly so defined herein.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08623098-20140107-M00001.NB">
<img id="EMI-M00001" he="8.47mm" wi="76.20mm" file="US08623098-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08623098-20140107-M00002.NB">
<img id="EMI-M00002" he="8.13mm" wi="76.20mm" file="US08623098-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08623098-20140107-M00003.NB">
<img id="EMI-M00003" he="8.81mm" wi="76.20mm" file="US08623098-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08623098-20140107-M00004.NB">
<img id="EMI-M00004" he="18.03mm" wi="76.20mm" file="US08623098-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US08623098-20140107-M00005.NB">
<img id="EMI-M00005" he="20.83mm" wi="76.20mm" file="US08623098-20140107-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A myoelectric controller for a weight bearing member having at least one powered joint, comprising:
<claim-text>a non-transitory computer-readable medium;</claim-text>
<claim-text>a velocity reference module stored in the computer-readable medium and configured for receiving myoelectric control signals from a user during a non-weight bearing mode for the at least one powered joint and generating a velocity reference for the at least one powered joint based on the myoelectric control signals;</claim-text>
<claim-text>a volitional impedance module stored in the computer-readable medium and configured for generating a torque control signal for actuating the at least one powered joint based at least on the velocity reference; and</claim-text>
<claim-text>a classification module stored in the computer-readable medium and configured for determining an intent of the user based on one of quadratic discriminant analysis of the myoelectric control signals and linear discriminant analysis of the myoelectric control signals,</claim-text>
<claim-text>wherein the velocity reference module uses the intent of the user determined by the classification module to generate the velocity reference.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The myoelectric controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the volitional impedance module generates the torque control signal using a model based on a behavior of a spring and dashpot element.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The myoelectric controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the velocity reference module is further configured for generating the velocity reference based on a principal component analysis of the myoelectric control signals.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The myoelectric controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a pre-processing module stored in the computer-readable medium and configured for receiving raw myoelectric signals from the user and processing the raw myoelectric signals to yield the myoelectric control signals.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The myoelectric controller of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the pre-processing module is configured for processing the raw myoelectric signals using at least one of amplification, filtering, or rectification.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The myoelectric controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the volitional impedance module generates the torque control signal based on an equilibrium point derived from the velocity reference.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The myoelectric controller of <claim-ref idref="CLM-00006">claim 6</claim-ref>, further comprising a conversion module stored in the computer-readable medium and configured for determining the equilibrium point based at least one of the velocity reference or an initial angle of the at least one powered joint.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A method for controlling for a weight bearing member having at least one powered joint, comprising:
<claim-text>receiving myoelectric control signals from a user during a non-weight bearing mode for the at least one powered joint and generating a velocity reference for the at least one powered joint based on the myoelectric control signals;</claim-text>
<claim-text>generating a torque control signal for actuating the at least one powered joint based at least on the velocity reference; and</claim-text>
<claim-text>determining an intent of the user based on one of quadratic discriminant analysis of the myoelectric control signals and linear discriminant analysis of the myoelectric control signals,</claim-text>
<claim-text>wherein the intent of the user is used to generate the velocity reference.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A non-transitory computer-readable medium having stored thereon a plurality of instructions for causing a computing device to control a weight bearing member having at least one powered joint, the plurality of instructions comprising code sections for causing the computing device to:
<claim-text>receive myoelectric control signals from a user during a non-weight bearing mode for the at least one powered joint and generating a velocity reference for the at least one powered joint based on the myoelectric control signals;</claim-text>
<claim-text>generate a torque control signal for actuating the at least one powered joint based at least on the velocity reference; and</claim-text>
<claim-text>determine an intent of the user based on one of quadratic discriminant analysis of the myoelectric control signals and linear discriminant analysis of the myoelectric control signals,</claim-text>
<claim-text>wherein the intent of the user is used to generate the velocity reference.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
