<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626772-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626772</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13121214</doc-number>
<date>20080929</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>175</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>7</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>707748</main-classification>
<further-classification>707749</further-classification>
<further-classification>707752</further-classification>
<further-classification>707776</further-classification>
<further-classification>707780</further-classification>
</classification-national>
<invention-title id="d2e53">Double weighted correlation scheme</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>2006/0136589</doc-number>
<kind>A1</kind>
<name>Konig et al.</name>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709224</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2006/0190225</doc-number>
<kind>A1</kind>
<name>Brand</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>703  2</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>EP</country>
<doc-number>1903460</doc-number>
<kind>A1</kind>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00004">
<othercit>Author: Chunhui Piao, Jing Zhao, Jun Feng; Title: Research on Entropy-based Collaborative Filtering Algorithm; Date: Oct. 2007; Publisher: IEEE; Pertinent pp. 213-220 (as attached pdf file).</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00005">
<othercit>Author: Anna Huang; Title: Similarity Measures for Text Document Clustering; Date: Apr. 2008; Publisher: NZCSRSC; Pertinent pp. 49-56 (as attached pdf file).</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00006">
<othercit>Piao, C., et al., &#x201c;Research on Entropy-based Collaborative Filtering Algorithm&#x201d;, 2007 IEEE International Conference on E-Business Engineering (ICEBE 2007), Oct. 24-26, 2007, Hong Kong, pp. 213-220, XP031190099.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00007">
<othercit>McLaughlin, M. et al., A Collaborative Filtering Algorithm and Evaluation Metric that Accurately Model the User Experience, Proceedings of the 27th Annual International ACM SIGIR Conference on Research and Development in Information Retrieval (SIGIR '04), Jul. 25-29, 2004, Sheffield, South Yorkshire, UK, 2004, pp. 329-336, XP002521918.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00008">
<othercit>Baltrunas, L., et al. &#x201c;Dynamic Item Weighting and Selection for Collaborative Filtering&#x201d;, Proceedings of the Workshops: Prior Conceptual Knowledge in Machine Learning and Data Mining and Web Mining 2.0 (PRICKL '07 &#x26; Web Mining 2.0), Sep. 21, 2007, Warsaw, Poland, [Online] 2007, 12 pages, XP002521919.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00009">
<othercit>Sandvig, J.J., et al., &#x201c;Impact of Relevance Measures on the Robustness and Accuracy of Collaborative Filtering&#x201d;, Lecture Notes in Computer Science&#x2014;Proceedings 8th International Conference on E-Commerce and Web Technologies (EC-Web 2007), Sep. 3-7, 2007, Regensburg, Germany, vol. 4655, 2007, pp. 99-108, XP019099024.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00010">
<othercit>Breese, J.S., et al. Empirical Analysis of Predictive Algorithms for Collaborative Filtering, Proceedings of the Fourteenth Conference on Uncertainty in Artificial Intelligence, Jul. 1998, Madison, WI, USA, Jul. 24, 1998, pp. 43-52, XP002278494.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00011">
<othercit>Vozalis, E., et al., &#x201c;Analysis of Recommender Systems' Algorithms&#x201d;, Proceedings of the 6th Hellenic European Conference on Computer Mathematics and its Applications, Sep. 25-27, 2003, Athens. Greece, [Online] 2003, 14 pages, XP002521920.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>12</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>7</number-of-drawing-sheets>
<number-of-figures>11</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110179043</doc-number>
<kind>A1</kind>
<date>20110721</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Lidstrom</last-name>
<first-name>Mattias</first-name>
<address>
<city>Stockholm</city>
<country>SE</country>
</address>
</addressbook>
<residence>
<country>SE</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Bjork</last-name>
<first-name>Jonas</first-name>
<address>
<city>Stockholm</city>
<country>SE</country>
</address>
</addressbook>
<residence>
<country>SE</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Soderberg</last-name>
<first-name>Joakim</first-name>
<address>
<city>Solna</city>
<country>SE</country>
</address>
</addressbook>
<residence>
<country>SE</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Lidstrom</last-name>
<first-name>Mattias</first-name>
<address>
<city>Stockholm</city>
<country>SE</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Bjork</last-name>
<first-name>Jonas</first-name>
<address>
<city>Stockholm</city>
<country>SE</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Soderberg</last-name>
<first-name>Joakim</first-name>
<address>
<city>Solna</city>
<country>SE</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Rothwell, Figg, Ernst &#x26; Manbeck, P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Telefonaktiebolaget L M Ericsson (publ)</orgname>
<role>03</role>
<address>
<city>Stockholm</city>
<country>SE</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Tran</last-name>
<first-name>Anh Tai</first-name>
<department>2168</department>
</primary-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/SE2008/051096</doc-number>
<kind>00</kind>
<date>20080929</date>
</document-id>
<us-371c124-date>
<date>20110328</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2010/036164</doc-number>
<kind>A </kind>
<date>20100401</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method is provided for determining a correlation between a reference user and another user on the basis of two sets of ratings, where each rating is associated with a respective user. In response to a trigger, user ratings associated with the reference user and user ratings associated with the other user are collected, and all co-rated items of these two sets are correlated in the basis of an adjusted cosine correlation function which is weighted by a first and a second weighting function. The correlation is then stored and may be repeated for a plurality of users. The stored correlations may be used e.g. for ranking purposes.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="226.65mm" wi="125.39mm" file="US08626772-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="239.69mm" wi="166.45mm" file="US08626772-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="244.09mm" wi="130.56mm" file="US08626772-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="165.86mm" wi="167.89mm" file="US08626772-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="227.16mm" wi="155.70mm" file="US08626772-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="241.38mm" wi="144.19mm" file="US08626772-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="231.82mm" wi="148.17mm" file="US08626772-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="113.37mm" wi="117.35mm" file="US08626772-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading>
<p id="p-0002" num="0001">This application is a 35 U.S.C. &#xa7;371 National Phase Entry Application from PCT/SE2008/051096, filed Sep. 29, 2008, and designating the United States.</p>
<heading id="h-0002" level="1">TECHNICAL FIELD</heading>
<p id="p-0003" num="0002">The present invention relates generally to a method for executing correlation on the basis of an improved correlation scheme, and an apparatus for executing such a correlation scheme.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">There are many situations where it is useful to be able to distinguish and interpret patterns in data sets and to be able to use such a pattern for selecting or ranking a set of items or users. In a typical situation, automatic predictions of different users interests or preferences may be used for obtaining some kind of ranking or intelligent selection between a range of alternatives. Such predictions typically rely on collected information which is filtered, using some filtering mechanism, and on the underlying assumption that those users who had a similar taste in the past often tend to agree also in the near future. This principle may be used for various recommendation systems where preferences of a number of users having a similar &#x201c;preference pattern&#x201d; as a reference user may be useful for recommending a selection of items to the reference user. Such a recommendation system, may typically be directed to music, movies, restaurants travelling destinations, etc.</p>
<p id="p-0005" num="0004">Collaborative filtering is one of the most successful methods used in present product recommendation systems. The collaborative filtering concept is heavily based on finding correlations between users or items. The methods normally used to find these correlations typically refer to traditional distance and vector correlation measures, such as e.g. the Cosine correlation method, the Adjusted cosine correlation method, the Pearson correlation method, and the Spearman correlation method. When using any of the mentioned measures, a correlation is derived in the interval [&#x2212;1,1], where &#x2212;1 represents a decreasing linear relationship, while 1 represents an increasing linear relationship between correlated items or users. The higher the absolute correlation value, the stronger the correlation between the users or items is.</p>
<p id="p-0006" num="0005">A correlation between two independent users or items will result in perpendicular vectors and a correlation which equals 0. Variables which have correlation 0 are, however, not necessarily independent. Since the described correlation coefficients only detect linear dependencies, it may therefore be difficult to interpret a result in a correct and reliable way in this type of situations.</p>
<p id="p-0007" num="0006">In collaborative filtering the data to be processed is typically represented by a user-item matrix, R, as illustrated with <figref idref="DRAWINGS">FIG. 1</figref>. In the figure matrix R comprises rating data, typically provided from m users, u<sub>1 </sub>. . . u<sub>m</sub>, where each user is represented by a row-vector, i<sub>1 </sub>. . . i<sub>n</sub>, in an n-dimensional space capable of covering n items. For each of the items in the matrix a rating, R<sub>1,1 </sub>. . . R<sub>m,n</sub>, respectively, can be specified by a respective user, where each item in the matrix is represented by a column-vector in an m-dimensional space. In a typical scenario each position in the matrix will either comprise a rating that has been given to the respective item by a specific user, or be blank, for the occasion that the user for some reason has not rated that particular item. From hereinafter, this document will refer only to correlations between users. It should, however, be obvious to any person skilled in the art that correlations between users only is given as one possible exemplification, and that also the alternative approach of instead performing correlations between different items may be applicable in a corresponding way.</p>
<p id="p-0008" num="0007">An example of a vector representation of a user which has given a number of ratings for a specific series of items is illustrated below, where a user, k, has given certain items, e.g. some watched films, out of a series, i<sub>1 </sub>. . . i<sub>n</sub>, of items available for rating, a rating on a predefined scale. In this case the scale is a 1 to 5 scale, where 1 may represent the lowest rate, and 5 the highest rate. Items 1, 3 and n&#x2212;1 have not been rated at all, and, thus are left blank.</p>
<p id="p-0009" num="0008">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
    <mtd>
      <msub>
        <mi>i</mi>
        <mn>1</mn>
      </msub>
    </mtd>
    <mtd>
      <msub>
        <mi>i</mi>
        <mn>2</mn>
      </msub>
    </mtd>
    <mtd>
      <msub>
        <mi>i</mi>
        <mn>3</mn>
      </msub>
    </mtd>
    <mtd>
      <msub>
        <mi>i</mi>
        <mn>4</mn>
      </msub>
    </mtd>
    <mtd>
      <msub>
        <mi>i</mi>
        <mn>5</mn>
      </msub>
    </mtd>
    <mtd>
      <mi>&#x2026;</mi>
    </mtd>
    <mtd>
      <msub>
        <mi>i</mi>
        <mrow>
          <mi>n</mi>
          <mo>-</mo>
          <mn>1</mn>
        </mrow>
      </msub>
    </mtd>
    <mtd>
      <msub>
        <mi>i</mi>
        <mi>n</mi>
      </msub>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mi>k</mi>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
    <mtd>
      <mn>5</mn>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
    <mtd>
      <mn>4</mn>
    </mtd>
    <mtd>
      <mn>3</mn>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
    <mtd>
      <mn>2</mn>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0010" num="0009">By correlating user vectors associated with two respective users, two by two, the users that have the most similar taste, or which have the taste that differ the most between each other, may be identified. Once identified this information may be used, e.g. for ranking and for recommending additional items to the user at focus, on the basis of the ranking.</p>
<p id="p-0011" num="0010">However, only the correlations between co-rated items, i.e. those items for which both users have given a rating, can be used in the calculations for obtaining a measure of the interrelationship between the two users. Such a set of co-rated items can be denoted by:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>|i&#x3b5;I<sub>u</sub>&#x2229;I<sub>v</sub>|&#x2003;&#x2003;(1)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0012" num="0011">Often the group of co-rated items is relatively small compared to the whole set of items, i.e. only a limited number of items which can be rated have actually been rated by a user. A situation, where the executed correlations are based on a relatively small set of data, may imply a false linear dependency, and, thus, an incorrect indication of corresponding, or deviating, user preferences in the particular field considered.</p>
<p id="p-0013" num="0012">Even though each one of the different correlation methods mentioned above have their own strength of finding correlations between users, they all also have their weaknesses, which make it difficult to choose an overall suitable correlation method or scheme which will give a reliable result for a wide variety of possible scenarios. Tests show that all of the mentioned correlation methods tend to be more or less inaccurate when the Euclidean distance between at least some of the co-rated items of two vectors is large, or in other words, when one or a few co-rated items deviate from the majority of co-rated items. Inaccuracy also appears in many situations where a sparse set of rated items are correlated. As already mentioned the different correlation methods known from prior art solutions only find and use linear correlations between the users or items.</p>
<heading id="h-0004" level="1">SUMMARY</heading>
<p id="p-0014" num="0013">The object of the present invention is to address at least some of the problems outlined above. In particular, it is an object to provide a solution which enables more reliable collaborative filtering of different users or items.</p>
<p id="p-0015" num="0014">According to one aspect, a method of determining a correlation between a reference user and another user on the basis of two sets of ratings each associated with the respective user is provided.</p>
<p id="p-0016" num="0015">Upon recognising a trigger for determining a correlation between the two users, a first set of user ratings associated with the reference user, and a second set of user ratings associated with the other user are collected and all co-rated items of these two sets are identified as a set of co-rated user-pairs for the two users. For the set of co-rated user-pairs a correlation is then calculated on the basis of an adjusted cosine correlation function, which is weighted by a first and a second weighting function. The first weighting function has the main purpose of compensating for the Euclidean distance of the respective set of ratings while the second weighting function has the main purpose of compensating for high correlations in case the set of co-rated user-pairs is a small set. Once the correlation has been calculated, the result is stored.</p>
<p id="p-0017" num="0016">The suggested correlation procedure may be repeated for a first reference user, u and a plurality of other users, v<sub>1 </sub>. . . v<sub>n</sub>, where n&#x2267;2, such that the collecting step comprises collecting a set of user ratings for each of the other users, and such that the calculating step and the storing step are repeated for each set of co-rated user pairs. The result obtained from a repeated correlation procedure may be used for ranking the users, v<sub>1 </sub>. . . v<sub>n</sub>, on the basis of the correlations.</p>
<p id="p-0018" num="0017">The correlation procedure may be initiated from any of a PC, a laptop, a PDA, a set-top box, or a mobile telephone.</p>
<p id="p-0019" num="0018">According to another aspect, an arrangement of a communication network which is adapted to execute the suggested method is also provided.</p>
<p id="p-0020" num="0019">The suggested method is an overall applicable scheme, which is suitable for handling correlations in various situations where there is a considerable risk that other correlation schemes will fail, or give an unreliable result. The suggested correlation scheme takes the number of items that the calculations are actually based upon into consideration, thereby abolishing the high correlations that other correlation schemes tend to indicate for small sets of co-rated items.</p>
<p id="p-0021" num="0020">In addition, the suggested correlation scheme will not only take into consideration whether two users have similar deviations compared to the general public's opinion, but also whether or co-rated items deviate from each other.</p>
<p id="p-0022" num="0021">These objects and others can be achieved primarily by a solution according to the appended independent claims.</p>
<p id="p-0023" num="0022">Further features and benefits of the present invention will become apparent from the detailed description below.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0024" num="0023">The present invention will now be described in more detail by means of exemplary embodiments and with reference to the accompanying drawings, in which:</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 1</figref> is an exemplary illustration of a user-item matrix R, for storing ratings of n items associated with m users, or vice versa, according to the prior art.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic illustration of a correlation engine, according to one exemplary embodiment.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 3</figref> is a flow chart illustrating an execution of a double weighted correlation according to one exemplary embodiment.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 4</figref> is a schematic illustration of a system architecture, according to one exemplary embodiment, of a recommendation system which is based on a double weighted correlation scheme.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 5</figref><i>a</i>-<i>g </i>is a series of diagrams illustrating exemplified correlations for a series of co-rated items derived by different correlation schemes in seven different rating-scenarios.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0030" num="0029">Briefly described, a new correlation scheme is suggested, and more specifically a double weighted correlation scheme is suggested which better compensates both for one or a few ratings that deviate a lot from an otherwise relatively similar pattern, as well as for deficiencies due to correlations made on the basis of a small data set or co-rated items or users.</p>
<p id="p-0031" num="0030">As already mentioned above, correlation schemes used today only take a small amount of information that is available and needed into consideration in the correlation computations. The conventional Adjusted cosine correlation method computes the correlation between the deviations of two users, using the items average ratings as a reference. In those cases where the user preferences of two users deviate &#x201c;in the same direction&#x201d; this may be a good approach, since a result of a correlation in such a scenario will indicate that the respective users have similar preferences. The more the two users deviate from the item averages the higher the correlation will be. A deficiency with such a scheme is, however, that it fails to consider also the deviation between the two user's ratings, and, thus, the result of a correlation may give a false indication of the user's relative preferences. If for example an item's average rating on a scale from 1 to 5 is 1.9 and one user has rated a respective item 2, while another user has rated a 5 for the same item, both users deviate in the same direction from the item average, while one of them even deviate a lot. As a result, this particular example will indicate a high correlation between the two users. It is, however, obvious that these two users did not have a similar opinion about the rated item. This is one reason why a modified adjusted cosine correlation method, which takes also this type of information into consideration, is required. In order to overcome, or at least diminish, at least some of the deficiencies mentioned above a weighted adjusted cosine scheme, which will be described in further detail below, is suggested.</p>
<p id="p-0032" num="0031">According to the conference paper &#x201c;An open architecture for collaborative filtering of netnews&#x201d;, Jonathan L. Herlocker et al, CSCW '94:Proceedings of the 1994 ACM conference on computer supported cooperative work, pages 175-186, New York, USA, 1994, the Pearson correlation scheme is a scheme that is robust with respect to differences of interpretation of the used rating scale. Assume for example that two users are perfectly correlated. If one user rates a number of items between 1 and 3, and another user rates the same items between 3 and 5, a prediction of 3 for the first user will result in a prediction of 5 for the second. If one of the users uses the grading scale in increasing order and the other in decreasing order, that is, one user interprets the highest rating as 5, while the other user interprets the highest rating as 1, the users will be negatively correlated. This means that a 5 from the first user will result in a 1 for the second. This property might be desirable in a recommendation system used internationally where different cultures have different perceptions of the rating scale. However, unless the users have the same perception in such a scenario, the computed strong correlation between the users will most likely be false. The idea of the suggested method is therefore to create a combined weighting correlation scheme in order to diminish at least some of the weaknesses described above.</p>
<p id="p-0033" num="0032">In order to be able to compare how the ratings for a set of co-rated items for a first user, u, and a second user, v, respectively, deviate from the average rating of an item, each item's average rating is subtracted from each rating of the set. Multiplying the user's deviations with each other will result in a positive result if they deviate in the same direction, while it will result in a negative result otherwise. The result from multiplying the deviations with each other will also be greater, the greater the deviations are.</p>
<p id="p-0034" num="0033">What has been described so far is a correlation executed using the regular Adjusted cosine correlation method. A major drawback with this method is, however, that it only considers the linear dependency between the two correlated users, neglecting to recognise also the Euclidean distances of the two ratings. This deficiency can be diminished by introducing a first weighting function into the conventional adjusted cosine correlation scheme. In order to be able to compensate for correlations made on the basis of a small set of data, also a second weighting function is introduced, resulting in the following double weighted adjusted cosine correlation method:</p>
<p id="p-0035" num="0034">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>corr</mi>
            <mn>1</mn>
          </msub>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>u</mi>
              <mo>,</mo>
              <mi>v</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mrow>
              <munder>
                <mo>&#x2211;</mo>
                <mrow>
                  <mi>i</mi>
                  <mo>&#x2208;</mo>
                  <mrow>
                    <msub>
                      <mi>I</mi>
                      <mi>u</mi>
                    </msub>
                    <mo>&#x22c2;</mo>
                    <msub>
                      <mi>I</mi>
                      <mi>v</mi>
                    </msub>
                  </mrow>
                </mrow>
              </munder>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mrow>
                <mrow>
                  <msub>
                    <mi>w</mi>
                    <mn>1</mn>
                  </msub>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>u</mi>
                      <mo>,</mo>
                      <mi>v</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>&#x2062;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <msub>
                      <mi>R</mi>
                      <mrow>
                        <mi>u</mi>
                        <mo>,</mo>
                        <mi>i</mi>
                      </mrow>
                    </msub>
                    <mo>-</mo>
                    <msub>
                      <mover>
                        <mi>R</mi>
                        <mi>_</mi>
                      </mover>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                  <mo>)</mo>
                </mrow>
                <mo>&#x2062;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <msub>
                      <mi>R</mi>
                      <mrow>
                        <mi>v</mi>
                        <mo>,</mo>
                        <mi>i</mi>
                      </mrow>
                    </msub>
                    <mo>-</mo>
                    <msub>
                      <mover>
                        <mi>R</mi>
                        <mi>_</mi>
                      </mover>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <msqrt>
              <mrow>
                <munder>
                  <mo>&#x2211;</mo>
                  <mrow>
                    <mi>i</mi>
                    <mo>&#x2208;</mo>
                    <mrow>
                      <msub>
                        <mi>I</mi>
                        <mi>u</mi>
                      </msub>
                      <mo>&#x22c2;</mo>
                      <msub>
                        <mi>I</mi>
                        <mi>v</mi>
                      </msub>
                    </mrow>
                  </mrow>
                </munder>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mrow>
                  <mrow>
                    <msub>
                      <mi>w</mi>
                      <mn>1</mn>
                    </msub>
                    <mo>&#x2061;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <mi>u</mi>
                        <mo>,</mo>
                        <mi>v</mi>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                  <mo>&#x2062;</mo>
                  <msup>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>R</mi>
                          <mrow>
                            <mi>u</mi>
                            <mo>,</mo>
                            <mi>i</mi>
                          </mrow>
                        </msub>
                        <mo>-</mo>
                        <msub>
                          <mover>
                            <mi>R</mi>
                            <mi>_</mi>
                          </mover>
                          <mi>i</mi>
                        </msub>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                    <mn>2</mn>
                  </msup>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <munder>
                      <mo>&#x2211;</mo>
                      <mrow>
                        <mi>i</mi>
                        <mo>&#x2208;</mo>
                        <mrow>
                          <msub>
                            <mi>I</mi>
                            <mi>u</mi>
                          </msub>
                          <mo>&#x22c2;</mo>
                          <msub>
                            <mi>I</mi>
                            <mi>v</mi>
                          </msub>
                        </mrow>
                      </mrow>
                    </munder>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mrow>
                      <mrow>
                        <msub>
                          <mi>w</mi>
                          <mn>1</mn>
                        </msub>
                        <mo>&#x2061;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mrow>
                            <mi>u</mi>
                            <mo>,</mo>
                            <mi>v</mi>
                          </mrow>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                      <mo>&#x2062;</mo>
                      <msup>
                        <mrow>
                          <mo>(</mo>
                          <mrow>
                            <msub>
                              <mi>R</mi>
                              <mrow>
                                <mi>v</mi>
                                <mo>,</mo>
                                <mi>i</mi>
                              </mrow>
                            </msub>
                            <mo>-</mo>
                            <msub>
                              <mover>
                                <mi>R</mi>
                                <mi>_</mi>
                              </mover>
                              <mi>i</mi>
                            </msub>
                          </mrow>
                          <mo>)</mo>
                        </mrow>
                        <mn>2</mn>
                      </msup>
                    </mrow>
                  </mrow>
                </mrow>
              </mrow>
            </msqrt>
          </mfrac>
          <mo>&#xb7;</mo>
          <mrow>
            <msub>
              <mi>w</mi>
              <mn>2</mn>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>u</mi>
                <mo>,</mo>
                <mi>v</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0036" num="0035">where the weighting function, w<sub>1</sub>(u,v) is defined as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>w</i><sub>1</sub>(<i>u,v</i>)=&#x3b1;<sup>(&#x3b4;&#x2212;&#x3b3;)|R</sup><sup><sub2>u,i</sub2></sup><sup>&#x2212;R</sup><sup><sub2>v,i</sub2></sup><sup>|</sup>&#x2003;&#x2003;(3)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0037" num="0036">where &#x3b1; is a scaling factor greater than one, which is chosen on the basis of the desired scaling factor between the reduced items and the enhanced items. A typical value of &#x3b1; is two. &#x3b4; is the average divergence of all Euclidean distances of the respective data set of co-rated items, i.e. of |R<sub>u,i</sub>&#x2212;R<sub>v,i</sub>|, while &#x3b3; is a parameter indicating the median of all possible divergences of the correlated data set.</p>
<p id="p-0038" num="0037">In an exemplified scenario where the rates for a certain category of items may be given in a range from 1 to 5, the possible values of the Euclidean distances are any of {0,1,2,3,4}. In this case &#x3b3; will be equal to 2. If instead the possible rates range from 1 to 10, with all possible values of the Euclidean distance given as {0,1,2,3,4,5,6,7,8,9}, &#x3b3; will instead be equal to 4,5. The second weighting function, w<sub>2 </sub>is defined as:</p>
<p id="p-0039" num="0038">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>w</mi>
            <mn>2</mn>
          </msub>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>u</mi>
              <mo>,</mo>
              <mi>v</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mn>1</mn>
          <mo>-</mo>
          <mfrac>
            <mn>1</mn>
            <mrow>
              <mo>&#xf603;</mo>
              <mrow>
                <mi>i</mi>
                <mo>&#x2208;</mo>
                <mrow>
                  <msub>
                    <mi>I</mi>
                    <mi>u</mi>
                  </msub>
                  <mo>&#x22c2;</mo>
                  <msub>
                    <mi>I</mi>
                    <mi>v</mi>
                  </msub>
                </mrow>
              </mrow>
              <mo>&#xf604;</mo>
            </mrow>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0040" num="0039">The main purpose with w<sub>2 </sub>is to compensate for high correlations that may be based on a small set of co-rated items. A consequence of the second weighting function is that the correlation's interval will change to [&#x2212;1,1], since the result of this function will be a limit value that converges towards the original correlation as the set of co-rated item increases towards infinity, i.e. the larger the set of co-rated items is, the smaller compensational effect w<sub>2 </sub>will have on the correlation, and vice versa.</p>
<p id="p-0041" num="0040">There will be three different cases for the weighting function w<sub>1</sub>, namely:</p>
<p id="p-0042" num="0041">1. &#x3b4;&#x3c;&#x3b3;
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0042">This case is an indication that the preferences of the two correlated users are relatively similar. In such a situation ratings close to each other will be enhanced, while ratings far from each other will be reduced by the weighting factor. The smaller the average of all Euclidean distances is, the greater the enhancement will be.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0043" num="0043">2. &#x3b4;=&#x3b3;
<ul id="ul0003" list-style="none">
    <li id="ul0003-0001" num="0000">
    <ul id="ul0004" list-style="none">
        <li id="ul0004-0001" num="0044">This is an indication that two correlated users have similar preferences for about half of the items and opposite preferences for the other half. The correlation will therefore be un-weighted, with regard to w<sub>1</sub>, i.e. w<sub>1 </sub>will be set to 1, and hence the result of the correlation will be equal to the regular adjusted cosine correlation method, possibly adjusted by w<sub>2</sub>.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0044" num="0045">3. &#x3b4;&#x3e;&#x3b3;
<ul id="ul0005" list-style="none">
    <li id="ul0005-0001" num="0000">
    <ul id="ul0006" list-style="none">
        <li id="ul0006-0001" num="0046">This situation indicates that the correlated user's preferences to a large extent are opposite to each other. In such a situation, ratings far from each other will be enhanced, while ratings close to each other will be reduced.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0045" num="0047">The weighting function w<sub>1 </sub>ensures that the factors between the reduced and the enhanced items are symmetric with respect to &#x3b3;. In one of the scenarios, exemplified above, where the rating ranged between 1 and 5, and hence &#x3b3;=2, the maximum enhancement and reduction will occur at the two extremes, where &#x3b4; is either 0 or 4 (&#x3b3;&#xb1;2). If &#x3b4;=0 all items with equal ratings will have a weighting factor that equals &#x3b1;<sup>0</sup>, i.e. w<sub>1</sub>=1, while for ratings that have a maximal difference, i.e. a difference of 4, the weighting factor will be &#x3b1;<sup>&#x2212;8</sup>. Consequently, the scaling factor between the most enhanced and the most reduced item will equal to &#x3b1;<sup>8</sup>.</p>
<p id="p-0046" num="0048">If &#x3b4;=4, the items with equal ratings will also have a weighting factor that equals &#x3b1;<sup>0</sup>=1, while ratings that that have a maximal difference, i.e. 4, will have a weighting factor that equals &#x3b1;<sup>8</sup>. The scaling factor is therefore &#x3b1;<sup>8 </sup>between the most enhanced and the most reduced item also in this case. The same symmetry applies for all values of x if &#x3b3;&#xb1;x, where 0&#x2266;x&#x2266;2. The procedure described above illustrates how the correlation between two users, u and v can be calculated using a double weighted correlation scheme.</p>
<p id="p-0047" num="0049">In a typical scenario, it is of interest to obtain a correlation measure between a reference user u and a plurality of other users, v<sub>1 </sub>. . . v<sub>n</sub>. Once a correlation has been computed for each user pair, i.e. for user pair u and v<sub>1</sub>, u and v<sub>2</sub>, . . . u and v<sub>n</sub>, the resulting correlation values may be used e.g. for ranking users v<sub>1 </sub>to v<sub>n </sub>and for determining which users have the most similar preferences with regard to a specific set of items as the reference user, u. Such a procedure can be achieved by repeating the described correlation procedure once for all users v<sub>1 </sub>to v<sub>n</sub>, where each respective set of co-rated user pairs are correlated one co-rated user pair at a time. The repeated correlations will result in a correlation vector, V[corr<sub>1</sub>(u,v<sub>1</sub>) . . . corr<sub>n</sub>(u,v<sub>n</sub>)] which gives an indication of the respective correlation between user u and each other user v<sub>1 </sub>to v<sub>n</sub>. The correlation vector, V may then be used for ranking the users in a required manner, e.g. such that the highest correlations are given the highest rankings, i.e. such that the users who's preferences are most similar to the ones of the reference user u for a respective type of items will be considered when other types of items are to be recommended to user u.</p>
<p id="p-0048" num="0050">The modified correlation scheme described above may be used in a number of situations where it is a desire to obtain a reliable indication of the correlation between co-rated items or users, no matter if the correlated data set is large of small. The correlation scheme may then be used e.g. in a recommendation system, which may be adapted to offer a recommendation service to users.</p>
<p id="p-0049" num="0051">In order to execute the method described above a device for performing the suggested correlation method has to be adapted accordingly. The device may be a standalone device, adapted to execute the suggested double weighted correlation method on the basis of data provided from one or more databases, upon receiving a trigger from an external device, such as e.g. a triggering or a recommending device.</p>
<p id="p-0050" num="0052">Alternatively such a device may be provided as an integrated part of a complete correlation or recommending system, which may comprise e.g. storage facilities and triggering means that are normally required for initiating a correlation process and for providing reliable correlation/rating data to a user.</p>
<p id="p-0051" num="0053">A correlation device according to one embodiment, here referred to as a correlation engine, will now be described in further detail with reference to <figref idref="DRAWINGS">FIG. 2</figref>. It is to be understood that the correlation engine described in <figref idref="DRAWINGS">FIG. 2</figref> is a simplified illustration of a functional entity adapted for executing the correlation method suggested above, which only represents one possible implementation, and that a device providing the suggested functionality may be implemented in a variety of other alternative ways. It is also to be understood that although denoted correlation engine, the device may be referred to in a number of alternative ways, such as e.g. a predicting engine, especially if implemented as an integrated part of a correlation and/or rating entity.</p>
<p id="p-0052" num="0054">As a final remark, only units providing functionality which is necessary for the understanding of the described correlation engine have been presented in the figure, thereby omitting any other commonly known units which are normally necessary for enabling this type of functional entity to operate and communicate in a normal manner in a conventional communication system.</p>
<p id="p-0053" num="0055">The correlation engine <b>200</b> of <figref idref="DRAWINGS">FIG. 2</figref> comprises a conventional communication unit <b>201</b> which enables the correlation engine <b>200</b> to be triggered to execute a correlation procedure by any type of external triggering entity <b>202</b>, such as e.g. what us normally referred to as a Recommender. Via the communication unit <b>201</b> the correlation engine <b>200</b> can also communicate with one or more external databases, such as rating database <b>203</b><i>a</i>, from which rating data can be retrieved. Alternatively, the correlation engine <b>200</b> may instead comprise an internal rating database <b>203</b><i>b. </i>The rating data of any of the alternative rating databases <b>203</b><i>a,b </i>may have been provided to the respective rating database <b>203</b> from the respective users via any kind of conventional communication system and/or user interface (not shown).</p>
<p id="p-0054" num="0056">The correlation engine <b>200</b> also comprises a collecting unit <b>204</b>, which is adapted to collect relevant rating data either from the internal, or the external rating database <b>203</b><i>a</i>, <b>203</b><i>b</i>, in response to recognising a trigger message received from the trigger entity <b>202</b>. The collecting unit <b>204</b> is also adapted to store collected rating data in a storing unit <b>205</b>. Once the rating data has been retrieved and stored, the collecting unit <b>204</b> is adapted to initiate an execution of a correlation procedure at a calculating unit <b>206</b>. The calculating unit <b>206</b> is adapted to respond to such a command by retrieving the relevant rating data from the storing unit <b>205</b>, to execute a correlation for each co-rated user-pair identified in the trigger, and to store the result in the storing unit <b>205</b>. The collecting unit <b>204</b> is also adapted to collect resulting correlations from the storing unit <b>205</b>, once the correlation procedure is completed by the calculating unit <b>206</b>. Such a procedure may e.g. be triggered by a notification which is sent from the calculating unit <b>206</b> to the collecting unit <b>204</b>. The collecting unit <b>204</b> having access to a set of correlation results associated with a requested set of users is also adapted to provide this result to the requesting trigger entity <b>202</b>, or to any other entity, thereby enabling the receiving entity to use the correlation results for further processing, such as e.g. for executing a ranking of the correlated set of users.</p>
<p id="p-0055" num="0057">Execution of the described double weighted correlation method on an entity, such as the correlation engine described above, or on any other entity having corresponding functionality, can be described as the flow chart of <figref idref="DRAWINGS">FIG. 3</figref>, which will now be described in further detail below.</p>
<p id="p-0056" num="0058">In a first step <b>300</b> the correlation engine receives or recognises a trigger which is configured to initiate a correlation procedure for a particular reference user. The trigger, typically originates from an external entity, but may alternatively originate from an internal process of the correlation engine, if it is part of an integrated system. In response to the trigger, the correlation engine collects and stores relevant rated data from an external or internal rating database, as indicated with another step <b>301</b>.</p>
<p id="p-0057" num="0059">In subsequent steps <b>302</b>,<b>303</b> and <b>304</b>, the correlation engine calculates an average divergence, a first weighting function and a second weighting function, respectively, for a first co-rated user-pair. In a next step <b>305</b>, a double weighted correlation is calculated for the co-rated user-pair, on the basis of the two weighting functions, one of which is dependent on the calculated average divergence. The resulting correlation is then stored in another step <b>306</b>.</p>
<p id="p-0058" num="0060">By repeating the described procedure for a plurality of users for which there are co-rated items available, a correlation result for each co-rated user pair will be obtained. Such a repeated process is illustrated with a step <b>307</b> and <b>308</b>. Which users to consider in such a repeated procedure is typically indicated in the trigger, recognised in step <b>300</b>.</p>
<p id="p-0059" num="0061">Once a correlation has been calculated and stored for all relevant user-pairs, the correlation procedure is terminated, as indicated with a step <b>309</b>. Whenever required, the stored correlations may then be retrieved from the storing means and used for any type of suitable computation and/or comparison, such as e.g. a ranking procedure.</p>
<p id="p-0060" num="0062">Without any limitation thereto, one example of a system architecture suitable for providing a recommending service to a number of users on the basis of a correlation engine and a correlation method, such as the one described above, will now be described with reference to <figref idref="DRAWINGS">FIG. 4</figref>. In addition to the previously described correlation engine <b>200</b>, the described system architecture also comprises a triggering device <b>400</b>, which may be equivalent to a Recommender if the described system is a recommender system.</p>
<p id="p-0061" num="0063">The triggering device <b>400</b> is responsible for initiating an execution of the suggested correlation procedure according to any kind of predefined rules and constraints. Such rules may be dependent on one or more external or internal events. However, in its simplest form the triggering device may respond to a request sent from a user device. Two user devices, <b>401</b><i>a </i>and <b>401</b><i>b</i>, which may be any of e.g. a PC, a laptop, a PDA, a set-top-box and/or a mobile telephone, are adapted to use any of the services provided by the triggering device <b>400</b>. Although the system of <figref idref="DRAWINGS">FIG. 4</figref> is limited to two user devices, it is to be understood that this type of system normally is dimensioned to handle a large amount of user devices, and a vast number of users each of which may have access to correlation based services, such as e.g. recommending services, provided by the network. A rating engine <b>402</b> is used for collecting ratings provided by the connected users, via any kind of suitable application. Such an application may e.g. be a conventional voting application presented to the user on a TV screen, or a voting feature presented on a web page, e.g. in association with a web based purchase. In the described example the rating engine <b>402</b> stores the ratings in a rating database <b>403</b>, typically as a matrix, as described above with reference to <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0062" num="0064">The system also comprises a database <b>405</b>, here referred to as an Asset Database, for storing information about assets or items to be identified by a device, typically the triggering device <b>400</b>, when making use of a result from the correlation procedure, e.g. for recommending items.</p>
<p id="p-0063" num="0065">As an illustrative example of how the described system may operate, ratings of any type of asset or item, such as e.g. movies, music, restaurants or books, entered to the user devices <b>401</b><i>a </i>and <b>401</b><i>b </i>are provided to a rating engine <b>402</b> in the two steps <b>4</b>:<b>1</b><i>a </i>and <b>4</b>:<b>1</b><i>b</i>. In another step <b>4</b>:<b>1</b><i>c</i>, a request for a rating service is sent from user device <b>401</b><i>b </i>to the triggering device <b>400</b>. Normally, rating information is continuously updated from a large number of different users. The rating engine <b>402</b> stores the rated data in one or more rating databases <b>403</b>, as indicated with a next step <b>4</b>:<b>2</b>. In another step <b>4</b>:<b>3</b>, triggering device <b>400</b> is notified of the rating data, and in a subsequent step <b>4</b>:<b>4</b>, the trigger device <b>400</b> initiates a correlation procedure at the correlation engine <b>200</b>. The trigger, which will indicate for which users correlations are to be executed, may e.g. have been initiated manually by a user, as indicated in the present example, or automatically in response to any pre-configured process of the triggering device <b>400</b>, or of any external device. In another step <b>4</b>:<b>5</b>, relevant rated data is collected by the correlation engine <b>200</b> from the rating database <b>403</b>, and in yet another step <b>4</b>:<b>6</b>, the correlation procedure is repeatedly executed for each co-rated user pair and a resulting correlation value is stored for each of these user-pairs. Once a correlation has been calculated and stored for every co-rated user-pair identified by the trigger, the correlations are accessible for the trigger device <b>400</b>. As indicated with a subsequent step <b>4</b>:<b>7</b>, the result of the correlation is therefore provided to the triggering device <b>400</b>, for further processing.</p>
<p id="p-0064" num="0066">As exemplified with a next step <b>4</b>:<b>8</b>, the triggering device <b>400</b> may use the correlations retrieved from the correlation engine <b>200</b> to rank users and to retrieve additional items from the asset database <b>405</b>. In a final step <b>4</b>:<b>9</b>, the result of a requested or scheduled service, e.g. a request for a recommended set of items, is provided to a respective reference user, in this case by forwarding the result to user terminal <b>401</b><i>b</i>. Alternatively, the result may be stored in a database or data record for later retrieval by a respective user or process.</p>
<p id="p-0065" num="0067">As already mentioned, the double weighted correlation method described with reference to the examples above is an improvement of the well known and commonly used Adjusted cosine correlation scheme. The improved overall performance of such a correlation scheme will now be illustrated with reference to seven different scenarios, each of which are based on synthetic rating data for a group of users, illustrating an item average for all ratings and the specific ratings given by two users, where each figure is representing a typical rating pattern. Each one of <figref idref="DRAWINGS">FIGS. 5</figref><i>a</i>-<i>g </i>describes a scenario which is based on ratings that has been given by the two users for ten different items. For each of these series of co-rated items, the corresponding result of correlations, based on the suggested double weighted correlation method and three alternative correlation methods, namely, the Cosine-, the Adjusted cosine and the Pearson method are presented and commented. In addition, a Single weighted method, i.e. the suggested correlation scheme, including the first weighting function, w<sub>1</sub>, but omitting the second weighting function, w<sub>2</sub>, here referred to as Single weight, has also been calculated.</p>
<p id="p-0066" num="0068"><figref idref="DRAWINGS">FIG. 5</figref><i>a </i>refers to a first exemplified scenario where ratings given by two users having distinctive opposite preferences have been correlated. The result of the correlations given for the different measures are:</p>
<p id="p-0067" num="0069">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="49pt" align="left"/>
<colspec colname="1" colwidth="56pt" align="left"/>
<colspec colname="2" colwidth="112pt" align="char"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>Cosine</entry>
<entry>0.3846</entry>
</row>
<row>
<entry/>
<entry>Adjusted cosine</entry>
<entry>&#x2212;0.7913</entry>
</row>
<row>
<entry/>
<entry>Pearson</entry>
<entry>&#x2212;1.0000</entry>
</row>
<row>
<entry/>
<entry>Single weight</entry>
<entry>&#x2212;0.7913</entry>
</row>
<row>
<entry/>
<entry>Double weight</entry>
<entry>&#x2212;0.7122</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0068" num="0070">Since the users in this example have totally opposite preferences according to the given rates, it is obvious that a representative correlation measure for such a co-rated series should indicate towards the negative end of the correlation scale [&#x2212;1,1]. As indicated in the list this is definitely obtained by the double weighted correlation scheme.</p>
<p id="p-0069" num="0071"><figref idref="DRAWINGS">FIG. 5</figref><i>b</i>, illustrates another scenario, where all but one of the given rates, namely the rate for co-rated item 7, are equal. This is a typical example of how equal ratings will be enhanced, while the opposite one will be reduced when using the double weighted correlation scheme. The results of the correlations for this co-rated set are:</p>
<p id="p-0070" num="0072">
<tables id="TABLE-US-00002" num="00002">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="49pt" align="left"/>
<colspec colname="1" colwidth="56pt" align="left"/>
<colspec colname="2" colwidth="112pt" align="center"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>Cosine</entry>
<entry>0.9553</entry>
</row>
<row>
<entry/>
<entry>Adjusted cosine</entry>
<entry>0.3962</entry>
</row>
<row>
<entry/>
<entry>Pearson</entry>
<entry>0.2750</entry>
</row>
<row>
<entry/>
<entry>Single weight</entry>
<entry>0.9887</entry>
</row>
<row>
<entry/>
<entry>Double weight</entry>
<entry>0.8899</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0071" num="0073">In this example all the correlations addends that are based on equal preferences have been enhanced, while the correlation addend from item 7 has been reduced due to differences in preference, when correlating using the double weighted correlation scheme. A representative correlation value for this type of scenario should indicate a high positive value. This is achieved with the suggested double weighted correlation scheme.</p>
<p id="p-0072" num="0074"><figref idref="DRAWINGS">FIG. 5</figref><i>c </i>shows yet another example, where the ratings given by the two users distinguish from each other in the sense that one user has consequently given high ratings, while the other user consequently has given low ratings for a series of co-rated items. For this example, the resultant correlations read as follows:</p>
<p id="p-0073" num="0075">
<tables id="TABLE-US-00003" num="00003">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="49pt" align="left"/>
<colspec colname="1" colwidth="56pt" align="left"/>
<colspec colname="2" colwidth="112pt" align="char"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>Cosine</entry>
<entry>0.9778</entry>
</row>
<row>
<entry/>
<entry>Adjusted cosine</entry>
<entry>&#x2212;0.6354</entry>
</row>
<row>
<entry/>
<entry>Pearson</entry>
<entry>1.0000</entry>
</row>
<row>
<entry/>
<entry>Single weight</entry>
<entry>&#x2212;0.6354</entry>
</row>
<row>
<entry/>
<entry>Double weight</entry>
<entry>&#x2212;0.5719</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0074" num="0076">Since the users in the latest example consequently have different preferences regarding the rated items, representative correlation values should instinctively show a value towards the negative end of the correlation scale. Also in this example the double weighted correlation scheme gives a reliable result.</p>
<p id="p-0075" num="0077">Another example, illustrated with <figref idref="DRAWINGS">FIG. 5</figref><i>d, </i>instead shows a scenario where two users with similar preferences have given their rates for a set of co-rated items. The result of these correlations are:</p>
<p id="p-0076" num="0078">
<tables id="TABLE-US-00004" num="00004">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="49pt" align="left"/>
<colspec colname="1" colwidth="56pt" align="left"/>
<colspec colname="2" colwidth="112pt" align="center"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>Cosine</entry>
<entry>0.9794</entry>
</row>
<row>
<entry/>
<entry>Adjusted cosine</entry>
<entry>0.8911</entry>
</row>
<row>
<entry/>
<entry>Pearson</entry>
<entry>0.8894</entry>
</row>
<row>
<entry/>
<entry>Single weight</entry>
<entry>0.9257</entry>
</row>
<row>
<entry/>
<entry>Double weight</entry>
<entry>0.8332</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0077" num="0079">In this case the correlations should show a high positive result, which is achieved also when using the double weighted correlation scheme.</p>
<p id="p-0078" num="0080">According to yet another alternative scenario, illustrated with reference to <figref idref="DRAWINGS">FIG. 5</figref><i>e</i>, ratings have been given by two users with preferences that reflects each other. The correlation results for this example read as:</p>
<p id="p-0079" num="0081">
<tables id="TABLE-US-00005" num="00005">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="49pt" align="left"/>
<colspec colname="1" colwidth="56pt" align="left"/>
<colspec colname="2" colwidth="112pt" align="char"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>Cosine</entry>
<entry>0.6364</entry>
</row>
<row>
<entry/>
<entry>Adjusted cosine</entry>
<entry>&#x2212;0.6258</entry>
</row>
<row>
<entry/>
<entry>Pearson</entry>
<entry>&#x2212;1.0000</entry>
</row>
<row>
<entry/>
<entry>Single weight</entry>
<entry>&#x2212;0.7072</entry>
</row>
<row>
<entry/>
<entry>Double weight</entry>
<entry>&#x2212;0.6356</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0080" num="0082">Since most preferences of the co-rated items are opposite each other in the latest example, a representative result from such a correlation should instinctively be negative. Also in this case, the double weighted correlation scheme proves to be a reliable alternative.</p>
<p id="p-0081" num="0083">In a further example, illustrated in <figref idref="DRAWINGS">FIG. 5</figref><i>f</i>, the ratings given by two users are instead opposite, except for one item, for which the ratings given by the two users are equal. This example is an illustration of the suggested double weighted correlation schemes ability to enhance opposite references and to reduce an equal reference. The results for this example are:</p>
<p id="p-0082" num="0084">
<tables id="TABLE-US-00006" num="00006">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="49pt" align="left"/>
<colspec colname="1" colwidth="56pt" align="left"/>
<colspec colname="2" colwidth="112pt" align="char"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>Cosine</entry>
<entry>0.9409</entry>
</row>
<row>
<entry/>
<entry>Adjusted cosine</entry>
<entry>&#x2212;0.5197</entry>
</row>
<row>
<entry/>
<entry>Pearson</entry>
<entry>0.1111</entry>
</row>
<row>
<entry/>
<entry>Single weight</entry>
<entry>&#x2212;0.9404</entry>
</row>
<row>
<entry/>
<entry>Double weight</entry>
<entry>&#x2212;0.8464</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0083" num="0085">The relatively large difference between the preferences of the rates given by the two users for the co-rated items in this example is an indication that the correlation should point towards the negative end of the correlation scale. Also in this example this is achieved with the double weighted correlation scheme.</p>
<p id="p-0084" num="0086">A final example, which exemplifies a series of ratings given by two users which have equal preferences regarding all items of a co-rated set, is illustrated in <figref idref="DRAWINGS">FIG. 5</figref><i>g</i>. Since the users have equal preferences, the correlation for the co-rated items should be close to one. The result of this correlation is:</p>
<p id="p-0085" num="0087">
<tables id="TABLE-US-00007" num="00007">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="49pt" align="left"/>
<colspec colname="1" colwidth="56pt" align="left"/>
<colspec colname="2" colwidth="112pt" align="center"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>Cosine</entry>
<entry>1.0000</entry>
</row>
<row>
<entry/>
<entry>Adjusted cosine</entry>
<entry>1.0000</entry>
</row>
<row>
<entry/>
<entry>Pearson</entry>
<entry>1.0000</entry>
</row>
<row>
<entry/>
<entry>Single weight</entry>
<entry>1.0000</entry>
</row>
<row>
<entry/>
<entry>Double weight</entry>
<entry>0.9000</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0086" num="0088">This example show that the double weighted correlation is accurate also for this type of scenario.</p>
<p id="p-0087" num="0089">On the basis of the described examples one can draw the conclusions that the proposed correlation scheme is an overall applicable scheme, which is suitable for handling correlations in various situations where there is a considerable risk that other correlation schemes will fail, or give an unreliable result and that the double weighted correlation method is a reliable alternative to prior art correlation methods. As already mentioned, the suggested correlation scheme takes into account the number of items that the calculations are actually based upon. These considerations will abolish the high correlations that other correlation schemes tend to indicate for small sets of co-rated items.</p>
<p id="p-0088" num="0090">In addition, the suggested correlation scheme will not only take into consideration whether two users have similar deviations compared to the general public's opinion, but also whether or not they deviate from each other.</p>
<p id="p-0089" num="0091">A realistic resulting correlation will never indicate a perfect correlation between two users, which in reality is impossible to claim, no matter of the size of the set of co-rated items. The suggested double weighted correlation scheme meets with this requirement.</p>
<p id="p-0090" num="0092">In addition, as indicated in the examples referring to <figref idref="DRAWINGS">FIGS. 5</figref><i>b </i>and <b>5</b><i>f</i>, the proposed double weighted correlation scheme manages to scale down small deviant ratings, and hence to prevent biased results.</p>
<p id="p-0091" num="0093">According to the results given above, the double weighted correlation scheme also offers a 5-7 percent improvement over a Pearson correlation.</p>
<p id="p-0092" num="0094">Through out this document, the terms used for expressing functional devices, entities or nodes, such as e.g. &#x201c;correlation engine&#x201d;, &#x201c;triggering device&#x201d; and &#x201c;recommender&#x201d;, as well as various units of the described devices, entities or nodes, such as e.g. &#x201c;calculating unit&#x201d; or &#x201c;collecting unit&#x201d; should be interpreted and understood in a broad sense to represent any type of devices, entities, nodes or units which have been adapted to process and/or handle correlation data, accordingly.</p>
<p id="p-0093" num="0095">In addition, while the invention has been described with reference to specific exemplary embodiments, the description is generally only intended to illustrate the inventive concept and should not be taken as limiting the scope of the invention, which is defined by the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08626772-20140107-M00001.NB">
<img id="EMI-M00001" he="7.45mm" wi="76.20mm" file="US08626772-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08626772-20140107-M00002.NB">
<img id="EMI-M00002" he="23.62mm" wi="76.20mm" file="US08626772-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08626772-20140107-M00003.NB">
<img id="EMI-M00003" he="6.69mm" wi="76.20mm" file="US08626772-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08626772-20140107-M00004.NB">
<img id="EMI-M00004" he="6.35mm" wi="76.20mm" file="US08626772-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US08626772-20140107-M00005.NB">
<img id="EMI-M00005" he="23.62mm" wi="76.20mm" file="US08626772-20140107-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method of a correlation engine of determining a correlation between a reference user and a plurality of other users, v<sub>1 </sub>. . . v<sub>n</sub>, where n&#x2267;2, on the basis of respective sets of ratings, each associated with the respective user, said method comprising the following steps:
<claim-text>a) recognizing a trigger provided from a triggering entity, for determining a correlation between said users,</claim-text>
<claim-text>b) collecting from a rating database a first set of user ratings associated with said reference user and a second set of user ratings associated with each of said other users and identifying all co-rated items as a set of co-rated user-pairs for said users,</claim-text>
<claim-text>c) correlating a set of co-rated user-pairs by applying them in an adjusted cosine correlation function which is weighted by a first and a second weighting function, said first weighting function, compensating for the Euclidean distance of the respective set of ratings and said second weighting function, compensating for high correlations in case said set of co-rated user-pairs is a small set,</claim-text>
<claim-text>d) storing the result of said correlation in a storing unit,</claim-text>
<claim-text>e) repeating steps c) and d) for each set of co-rated user pairs, thereby enabling the correlated co-rated user pairs to be used for at least one of ranking and recommendation purposes, wherein</claim-text>
<claim-text>said first weighting function is defined as:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>w</i><sub>1</sub>(<i>u,v</i>)=&#x3b1;<sup>(&#x3b4;&#x2212;&#x3b3;)|R</sup><sup><sub2>u,i</sub2></sup><sup>&#x2212;R</sup><sup><sub2>v,i</sub2></sup><sup>|</sup><?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
<claim-text>where u is said reference user, v is said other user, &#x3b1; is a scaling factor, &#x3b4; is the average of all distances, |R<sub>u,i</sub>&#x2212;R<sub>v,i</sub>|, of said co-rated user pair and &#x3b3; is the median of all possible divergences of said set of co-rated user pairs.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said second weighting function is defined as:</claim-text>
<claim-text>
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mrow>
  <mrow>
    <msub>
      <mi>w</mi>
      <mn>2</mn>
    </msub>
    <mo>&#x2061;</mo>
    <mrow>
      <mo>(</mo>
      <mrow>
        <mi>u</mi>
        <mo>,</mo>
        <mi>v</mi>
      </mrow>
      <mo>)</mo>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mn>1</mn>
    <mo>-</mo>
    <mfrac>
      <mn>1</mn>
      <mrow>
        <mo>&#xf603;</mo>
        <mrow>
          <mi>i</mi>
          <mo>&#x2208;</mo>
          <mrow>
            <msub>
              <mi>I</mi>
              <mi>u</mi>
            </msub>
            <mo>&#x22c2;</mo>
            <msub>
              <mi>I</mi>
              <mi>v</mi>
            </msub>
          </mrow>
        </mrow>
        <mo>&#xf604;</mo>
      </mrow>
    </mfrac>
  </mrow>
</mrow>
</math>
</maths>
</claim-text>
<claim-text>where u is said specified user, v is said second user, and i &#x3b5; I<sub>u </sub>&#x2229;I<sub>v </sub>is a set of co-rated items.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said correlation function is defined as:</claim-text>
<claim-text>
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>corr</mi>
    <mo>&#x2061;</mo>
    <mrow>
      <mo>(</mo>
      <mrow>
        <mi>u</mi>
        <mo>,</mo>
        <mi>v</mi>
      </mrow>
      <mo>)</mo>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mfrac>
      <mrow>
        <munder>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>i</mi>
            <mo>&#x2208;</mo>
            <mrow>
              <msub>
                <mi>I</mi>
                <mi>u</mi>
              </msub>
              <mo>&#x22c2;</mo>
              <msub>
                <mi>I</mi>
                <mi>v</mi>
              </msub>
            </mrow>
          </mrow>
        </munder>
        <mo>&#x2062;</mo>
        <mstyle>
          <mspace width="0.3em" height="0.3ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mrow>
          <mrow>
            <msub>
              <mi>w</mi>
              <mn>1</mn>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>u</mi>
                <mo>,</mo>
                <mi>v</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>&#x2062;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <msub>
                <mi>R</mi>
                <mrow>
                  <mi>u</mi>
                  <mo>,</mo>
                  <mi>i</mi>
                </mrow>
              </msub>
              <mo>-</mo>
              <msub>
                <mover>
                  <mi>R</mi>
                  <mi>_</mi>
                </mover>
                <mi>i</mi>
              </msub>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mo>&#x2062;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <msub>
                <mi>R</mi>
                <mrow>
                  <mi>v</mi>
                  <mo>,</mo>
                  <mi>i</mi>
                </mrow>
              </msub>
              <mo>-</mo>
              <msub>
                <mover>
                  <mi>R</mi>
                  <mi>_</mi>
                </mover>
                <mi>i</mi>
              </msub>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
      <msqrt>
        <mrow>
          <munder>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>i</mi>
              <mo>&#x2208;</mo>
              <mrow>
                <msub>
                  <mi>I</mi>
                  <mi>u</mi>
                </msub>
                <mo>&#x22c2;</mo>
                <msub>
                  <mi>I</mi>
                  <mi>v</mi>
                </msub>
              </mrow>
            </mrow>
          </munder>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mrow>
            <mrow>
              <msub>
                <mi>w</mi>
                <mn>1</mn>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>u</mi>
                  <mo>,</mo>
                  <mi>v</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <msup>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <msub>
                    <mi>R</mi>
                    <mrow>
                      <mi>u</mi>
                      <mo>,</mo>
                      <mi>i</mi>
                    </mrow>
                  </msub>
                  <mo>-</mo>
                  <msub>
                    <mover>
                      <mi>R</mi>
                      <mi>_</mi>
                    </mover>
                    <mi>i</mi>
                  </msub>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mn>2</mn>
            </msup>
            <mo>&#x2062;</mo>
            <mrow>
              <munder>
                <mo>&#x2211;</mo>
                <mrow>
                  <mi>i</mi>
                  <mo>&#x2208;</mo>
                  <mrow>
                    <msub>
                      <mi>I</mi>
                      <mi>u</mi>
                    </msub>
                    <mo>&#x22c2;</mo>
                    <msub>
                      <mi>I</mi>
                      <mi>v</mi>
                    </msub>
                  </mrow>
                </mrow>
              </munder>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mrow>
                <mrow>
                  <msub>
                    <mi>w</mi>
                    <mn>1</mn>
                  </msub>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>u</mi>
                      <mo>,</mo>
                      <mi>v</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>&#x2062;</mo>
                <msup>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>R</mi>
                        <mrow>
                          <mi>v</mi>
                          <mo>,</mo>
                          <mi>i</mi>
                        </mrow>
                      </msub>
                      <mo>-</mo>
                      <msub>
                        <mover>
                          <mi>R</mi>
                          <mi>_</mi>
                        </mover>
                        <mi>i</mi>
                      </msub>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                  <mn>2</mn>
                </msup>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </msqrt>
    </mfrac>
    <mo>&#xb7;</mo>
    <mrow>
      <msub>
        <mi>w</mi>
        <mn>2</mn>
      </msub>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>u</mi>
          <mo>,</mo>
          <mi>v</mi>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</claim-text>
<claim-text>where u is said specified user, v is said second user, R<sub>u,i </sub>is the rate given to an item i by user u, R<sub>v,i </sub>is the rate given to item i by user v, w<sub>1</sub>(u,v) is the first weighting function, w<sub>2</sub>(u,v) is the second weighting function, and <o ostyle="single">R</o><sub>i </sub>is the average rating of item i.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising the further step of:
<claim-text>providing said correlations to a requesting entity, enabling said requesting entity to rank said users, v<sub>1 </sub>. . . v<sub>n</sub>, on the basis of said correlations.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said method is triggered from any of a:
<claim-text>PC,</claim-text>
<claim-text>laptop,</claim-text>
<claim-text>PDA,</claim-text>
<claim-text>set-top box, or</claim-text>
<claim-text>a mobile telephone.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A correlation system of a communication network for determining a correlation between a reference user and a plurality of other users, v<sub>1 </sub>. . . v<sub>n</sub>, where n&#x2267;2, on the basis of respective sets of ratings, each associated with the respective user, comprising:
<claim-text>a collecting unit for collecting from a rating database a first set of user ratings associated with said reference user and a second set of user ratings associated with each of said other users and for identifying all co-rated items as a set of co-rated user-pairs for said users, in response to having recognized a trigger for determining a correlation between said users,</claim-text>
<claim-text>a calculating unit for correlating a set of co-rated user-pairs by applying them in an adjusted cosine correlation function, said correlating procedure being weighted by a first and a second weighting function, said first weighting function, compensating for the Euclidean distance of the respective set of ratings and said second weighting function, compensating for high correlations in case said set of co-rated user-pairs is a small set, wherein said calculating unit is further adapted to repeat said correlating a first reference user, u and a plurality of other users, v<sub>1 </sub>. . . v<sub>n</sub>, where n&#x2267;2, and</claim-text>
<claim-text>a hardware storing apparatus comprising a non-transitory computer readable medium for storing the result of said correlations, wherein</claim-text>
<claim-text>said first weighting function is defined as:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>w</i><sub>1</sub>(<i>u,v</i>)=&#x3b1;<sup>(&#x3b4;&#x2212;&#x3b3;)|R</sup><sup><sub2>u,i</sub2></sup><sup>&#x2212;R</sup><sup><sub2>v,i</sub2></sup><sup>|</sup><?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
<claim-text>where u is said reference user, v is said other user, &#x3b1; is a scaling factor, &#x3b4; is the average of all distances, |R<sub>u,i</sub>&#x2212;R<sub>v,i</sub>|, of said co-rated user pair and &#x3b3; is the median of all possible divergences of said set of co-rated user pairs.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The correlation system of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein said collecting unit is further adapted to provide said stored correlation results to a requesting entity, enabling ranking of said other users on the basis of said correlations.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The correlation system of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein said collecting unit is adapted to collect said ratings from an external database.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The correlation system of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein said collecting unit is adapted to collect said ratings from an internal database.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The correlation system of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein said collecting unit is adapted to recognize a trigger from any of a:
<claim-text>PC,</claim-text>
<claim-text>laptop,</claim-text>
<claim-text>set-top box, or</claim-text>
<claim-text>mobile telephone.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The correlation system of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein said correlation system is a correlation engine.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A method of a correlation engine of determining a correlation between a reference user and a plurality of other users, v<sub>1 </sub>. . . v<sub>n</sub>, where n&#x2267;2, on the basis of respective sets of ratings, each associated with the respective user, comprising:
<claim-text>a) recognizing a trigger provided from a triggering entity, for determining a correlation between said users;</claim-text>
<claim-text>b) collecting from a rating database a first set of user ratings associated with said reference user and a second set of user ratings associated with each of said other users and identifying all co-rated items as a set of co-rated user-pairs for said users;</claim-text>
<claim-text>c) correlating a set of co-rated user-pairs by applying them in an adjusted cosine correlation function which is weighted by a first and a second weighting function, said first weighting function, compensating for the Euclidean distance of the respective set of ratings and being defined as:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>w</i><sub>1</sub>(<i>u,v</i>)=&#x3b1;<sup>(&#x3b4;&#x2212;&#x3b3;)|R</sup><sup><sub2>u,i</sub2></sup><sup>&#x2212;R</sup><sup><sub2>v,i</sub2></sup><sup>|</sup><?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
</claim-text>
<claim-text>where u is said reference user, v is said-other user, &#x3b1; is a scaling factor, &#x3b4; is the average of all distances, |R<sub>u,i</sub>&#x2212;R<sub>v,i</sub>|, of said co-rated user pair and &#x3b3; is the median of all possible divergences of said set of co-rated user pairs, and
<claim-text>said second weighting function, compensating for high correlations in case said set of co-rated user-pairs is a small set;</claim-text>
<claim-text>d) storing the result of said correlation in a storing unit; and</claim-text>
<claim-text>e) repeating steps c) and d) for each set of co-rated user pairs, thereby enabling the correlated co-rated user pairs to be used for ranking or recommendation purposes. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
