<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08627157-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08627157</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13051617</doc-number>
<date>20110318</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2010-077997</doc-number>
<date>20100330</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>356</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>C</subclass>
<main-group>29</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>714710</main-classification>
<further-classification>714723</further-classification>
</classification-national>
<invention-title id="d2e71">Storing apparatus</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5812639</doc-number>
<kind>A</kind>
<name>Bartholomew et al.</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370352</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6411394</doc-number>
<kind>B1</kind>
<name>Nakamura et al.</name>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  115</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6629123</doc-number>
<kind>B1</kind>
<name>Hunt</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>718106</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6829190</doc-number>
<kind>B1</kind>
<name>Snyder et al.</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>365211</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7343514</doc-number>
<kind>B2</kind>
<name>Yamato et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714  612</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7813176</doc-number>
<kind>B2</kind>
<name>Hunt</name>
<date>20101000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>36518508</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>7920200</doc-number>
<kind>B2</kind>
<name>Azuma</name>
<date>20110400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348335</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>7944501</doc-number>
<kind>B2</kind>
<name>Suzuki</name>
<date>20110500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348370</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>8276018</doc-number>
<kind>B2</kind>
<name>Kursun et al.</name>
<date>20120900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714 10</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>8286028</doc-number>
<kind>B2</kind>
<name>Matsuda et al.</name>
<date>20121000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714  624</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2001/0043761</doc-number>
<kind>A1</kind>
<name>Shimizu et al.</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382325</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2002/0040433</doc-number>
<kind>A1</kind>
<name>Kondo</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713180</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2002/0101257</doc-number>
<kind>A1</kind>
<name>Kawahara et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>326 38</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2003/0171850</doc-number>
<kind>A1</kind>
<name>Kobayashi et al.</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>700272</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2003/0179712</doc-number>
<kind>A1</kind>
<name>Kobayashi et al.</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370249</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>2004/0044649</doc-number>
<kind>A1</kind>
<name>Yamato et al.</name>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707  1</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>2004/0141204</doc-number>
<kind>A1</kind>
<name>Sakai et al.</name>
<date>20040700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  116</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>2004/0237103</doc-number>
<kind>A1</kind>
<name>Kondo et al.</name>
<date>20041100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>725 37</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>2005/0034041</doc-number>
<kind>A1</kind>
<name>Casarsa</name>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714733</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>2005/0134942</doc-number>
<kind>A1</kind>
<name>Kondo et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358479</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>2006/0002199</doc-number>
<kind>A1</kind>
<name>Nakajima et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>36518912</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>2006/0015508</doc-number>
<kind>A1</kind>
<name>Kondo et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707 10</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>2006/0067164</doc-number>
<kind>A1</kind>
<name>Takai et al.</name>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>367198</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>2007/0146529</doc-number>
<kind>A1</kind>
<name>Suzuki</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>34833301</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00025">
<document-id>
<country>US</country>
<doc-number>2007/0286244</doc-number>
<kind>A1</kind>
<name>Koyabu et al.</name>
<date>20071200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370498</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00026">
<document-id>
<country>US</country>
<doc-number>2008/0147961</doc-number>
<kind>A1</kind>
<name>Seki et al.</name>
<date>20080600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711100</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00027">
<document-id>
<country>US</country>
<doc-number>2008/0155133</doc-number>
<kind>A1</kind>
<name>Honjo et al.</name>
<date>20080600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>710 19</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00028">
<document-id>
<country>US</country>
<doc-number>2008/0220724</doc-number>
<kind>A1</kind>
<name>Roh et al.</name>
<date>20080900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455 661</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00029">
<document-id>
<country>US</country>
<doc-number>2008/0263667</doc-number>
<kind>A1</kind>
<name>Kondo</name>
<date>20081000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>726 23</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00030">
<document-id>
<country>US</country>
<doc-number>2008/0320317</doc-number>
<kind>A1</kind>
<name>Funahashi et al.</name>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713189</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00031">
<document-id>
<country>US</country>
<doc-number>2009/0070543</doc-number>
<kind>A1</kind>
<name>Oh et al.</name>
<date>20090300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711170</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00032">
<document-id>
<country>US</country>
<doc-number>2009/0111486</doc-number>
<kind>A1</kind>
<name>Burstrom</name>
<date>20090400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554563</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00033">
<document-id>
<country>US</country>
<doc-number>2009/0113485</doc-number>
<kind>A1</kind>
<name>Inukai</name>
<date>20090400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>725 58</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00034">
<document-id>
<country>US</country>
<doc-number>2009/0235103</doc-number>
<kind>A1</kind>
<name>Yamashiro</name>
<date>20090900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713324</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00035">
<document-id>
<country>US</country>
<doc-number>2010/0023672</doc-number>
<kind>A1</kind>
<name>Gorobets et al.</name>
<date>20100100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711103</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00036">
<document-id>
<country>US</country>
<doc-number>2010/0318844</doc-number>
<kind>A1</kind>
<name>Matsuda et al.</name>
<date>20101200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714  6</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00037">
<document-id>
<country>US</country>
<doc-number>2011/0007901</doc-number>
<kind>A1</kind>
<name>Ikeda et al.</name>
<date>20110100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>380270</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00038">
<document-id>
<country>US</country>
<doc-number>2011/0019974</doc-number>
<kind>A1</kind>
<name>Konoshima</name>
<date>20110100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>386284</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00039">
<document-id>
<country>US</country>
<doc-number>2011/0055481</doc-number>
<kind>A1</kind>
<name>Murakami</name>
<date>20110300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711118</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00040">
<document-id>
<country>US</country>
<doc-number>2011/0157319</doc-number>
<kind>A1</kind>
<name>Mashitani et al.</name>
<date>20110600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348 49</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00041">
<document-id>
<country>US</country>
<doc-number>2011/0193861</doc-number>
<kind>A1</kind>
<name>Mashitani et al.</name>
<date>20110800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345419</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00042">
<document-id>
<country>US</country>
<doc-number>2011/0238927</doc-number>
<kind>A1</kind>
<name>Hatano</name>
<date>20110900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711145</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00043">
<document-id>
<country>JP</country>
<doc-number>2003-085054</doc-number>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>11</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>714721</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714710</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714723</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>4</number-of-drawing-sheets>
<number-of-figures>7</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110246841</doc-number>
<kind>A1</kind>
<date>20111006</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Honda</last-name>
<first-name>Hirofumi</first-name>
<address>
<city>Machida</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Hamada</last-name>
<first-name>Naru</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Koba</last-name>
<first-name>Toshinori</first-name>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="004" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Ogaki</last-name>
<first-name>Koji</first-name>
<address>
<city>Koza-gun</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="005" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Inoue</last-name>
<first-name>Keiichi</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Honda</last-name>
<first-name>Hirofumi</first-name>
<address>
<city>Machida</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Hamada</last-name>
<first-name>Naru</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Koba</last-name>
<first-name>Toshinori</first-name>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="004" designation="us-only">
<addressbook>
<last-name>Ogaki</last-name>
<first-name>Koji</first-name>
<address>
<city>Koza-gun</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="005" designation="us-only">
<addressbook>
<last-name>Inoue</last-name>
<first-name>Keiichi</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Cowan, Liebowitz &#x26; Latman, P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Canon Kabushiki Kaisha</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Britt</last-name>
<first-name>Cynthia</first-name>
<department>2117</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A storing apparatus, equipped with a control unit configured to control the writing of data into a memory and to communicate a notice to an external device with a communication unit if the remaining amount of substitute blocks becomes equal to or less than a threshold value specified by stored threshold value information, includes the control unit configured to change the threshold value information, used for the notice communicated by the control unit, by the use of threshold value information received from the external device with the communication unit.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="146.64mm" wi="100.84mm" file="US08627157-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="240.45mm" wi="179.15mm" file="US08627157-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="175.77mm" wi="111.00mm" file="US08627157-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="226.14mm" wi="193.46mm" file="US08627157-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="241.13mm" wi="184.57mm" file="US08627157-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">The present invention relates to a storing apparatus, and more particularly to a storing apparatus equipped with a flash memory.</p>
<p id="p-0004" num="0003">2. Description of the Related Art</p>
<p id="p-0005" num="0004">In recent years, a semiconductor storing apparatus having a large storage capacity, such as a flash memory, has been used in various devices in order to store data.</p>
<p id="p-0006" num="0005">A flash memory performs the writing and the reading of data on a unit basis of what is called a block, and may happen to include a defective block to which data writing cannot effected normally owing to the manufacturing process of the memory or a subsequently happened cause. Accordingly, the flash memory is arranged to have a portion of a storage area thereof as a substitute block for such a defective block so that the data to be written into the defective block is written instead into the substitute block. Moreover, the technique of informing a user of a warning when the remaining amount of substitute blocks becomes smaller than a set value was also proposed (see, for example, Japanese Patent Application Laid-Open Publication No. 2003-085054).</p>
<p id="p-0007" num="0006">A detachable storing apparatus, such as a memory card, equipped with a flash memory is used to be mounted on various host devices. A host device has its specific type of data to be treated, size of data to be written, data rate, and the like, which are different from those of other host devices, respectively. Even if the lowering of the remaining amount of substitute blocks is, consequently, warned in the conventional manner, it may happen depending on the host device that the remaining amount of the substitute blocks is really not enough for the capacity to be secured at the time of writing data to cause a writing error.</p>
<p id="p-0008" num="0007">For example, in the case of a host device in which the amount of data to be written at one time is large, the probability of using many substitute blocks at one time of writing is higher than that of a device in which the amount of data to be written at one time is small.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0009" num="0008">A scope of the invention is to solve the problem like this and provide an apparatus capable of suitably informing a user of the state of the remaining amount of substitute blocks in accordance with a host device.</p>
<p id="p-0010" num="0009">A storing apparatus of the present invention comprises: a communication unit configured to communicate with an external device; a register arranged to store information temporarily; a memory having a plurality of blocks including substitute blocks for defective blocks; and a control unit configured to control writing data into the memory, and to communicate a notice to the external device with the communication unit if a remaining amount of the substitute blocks becomes equal to or less than a threshold value specified by threshold value information stored in the register, wherein the control unit reads out threshold value information from the memory to store the read-out threshold value information into the register, and changes the threshold value information stored in the register by using threshold value information received from the external device with the communication unit.</p>
<p id="p-0011" num="0010">Further features of the present invention will become apparent from the following description of exemplary embodiments with reference to the attached drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIGS. 1A and 1B</figref> are diagrams illustrating the configuration of a system composed of a storing apparatus according to an embodiment of the present invention and a host device, and the configuration of the storing area of a flash memory.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 2</figref> is diagram illustrating a flow chart of data writing process into the storing apparatus of the present invention.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram illustrating a flow chart of substitution process executed in the data writing process into the storing apparatus of the present invention.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIGS. 4A and 4B</figref> are diagrams illustrating flow charts of the setting process of threshold value information used in the substitution process of the present invention.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 5</figref> is a diagram illustrating the configuration of a system composed of a storing apparatus according to the other embodiment of the present invention and a host device.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DESCRIPTION OF THE EMBODIMENTS</heading>
<p id="p-0017" num="0016">Exemplary embodiments of the present invention will now be described in detail in accordance with the accompanying drawings.</p>
<heading id="h-0005" level="1">First Embodiment</heading>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 1A</figref> is a block diagram illustrating the configuration of a system using a storing apparatus <b>100</b> according to the present embodiment. The system of <figref idref="DRAWINGS">FIG. 1A</figref> is composed of the storing apparatus <b>100</b> and a host device <b>200</b>. The storing apparatus <b>100</b> executes the process such as writing and reading out data in accordance with various commands from the host device <b>200</b>. The storing apparatus <b>100</b> may, moreover, take a form of a memory card or the like, and the host device <b>200</b> is equipped with a not-illustrated mounting and ejecting mechanism which can easily attain mounting and ejecting the storing apparatus <b>100</b> on and from the host device <b>200</b>.</p>
<p id="p-0019" num="0018">In the storing apparatus <b>100</b>, a host interface (I/F) <b>101</b> communicates commands and data between the host device <b>200</b> and the storing apparatus <b>100</b>. In the present embodiment, the host I/F <b>102</b> communicates with the host device <b>200</b> in conformity with the specifications of Advanced Technology Attachment (ATA). A controller <b>102</b> includes a central processing unit (CPU) to control the operation of the storing apparatus <b>100</b> in accordance with a command received from the host device <b>200</b>. A ROM <b>103</b> is a read-only memory, and stores a control program to be executed by the controller <b>102</b>. The data stored in the ROM <b>103</b> cannot be rewritten by the host device <b>200</b>. An internal register <b>104</b> temporarily stores the register information defined by a standard under the control of the controller <b>102</b>. The controller <b>102</b> refers to the register information stored in the internal register <b>104</b> as the occasion demands to rewrite the resister information. The controller <b>102</b> moreover includes a flash memory interface (not illustrated) for transmitting and receiving data to and from a flash memory <b>105</b>. The flash memory <b>105</b> is composed of a publicly known flash memory chip, and writes and reads out data under the control of the controller <b>102</b>.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 1B</figref> is a diagram illustrating the configuration of the storing area of the flash memory <b>105</b>. The storing area of the flash memory <b>105</b> is divided into a management information area <b>105</b><i>a</i>, a user area <b>105</b><i>b</i>, and a substitute area <b>105</b><i>c </i>in accordance with the addresses of the flash memory <b>105</b>. The management information area <b>105</b><i>a </i>stores the information of a file managing table for managing the areas of stored data, a conversion table for showing the correspondences between address spaces of logical addresses and physical addresses, a substitute area managing table for managing usage statuses of substitute areas, and the like. The management information area <b>105</b><i>a </i>further stores threshold value information to be used at the time of warning the lowering of the remaining amount of substitute blocks; specific information such as the identifier (ID), the manufacturer code, a password, and the like of the storing apparatus <b>100</b>; and information indicating performances, such as a memory size, an access speed, and the like. Moreover, the management information area <b>105</b><i>a </i>also stores backup data including control information to be used for communicating with the host device <b>200</b>, such as the number of defective blocks and the number of remaining substitute areas.</p>
<p id="p-0021" num="0020">At the time of mount processing of the storing apparatus <b>100</b>, the controller <b>102</b> reads out these pieces of management information from the management information area <b>105</b><i>a </i>to store the read-out management information into the internal register <b>104</b> as register information. Moreover, the controller <b>102</b> updates the management information stored in the internal register <b>104</b> at the time of the writing or the reading-out of data by the host device <b>200</b>. The controller <b>102</b> further copies the updated management information stored in the internal register <b>104</b> into the management information area <b>105</b><i>a </i>at suitable timing to backup the information. As described later, the controller <b>102</b> does, however, not copy the threshold value information stored in the internal register <b>104</b> into the management information area <b>105</b><i>a</i>. The timing of copying is, for example, every time for a regular interval or the time of a disconnection of the communication between the storing apparatus <b>100</b> and the host device <b>200</b>.</p>
<p id="p-0022" num="0021">The user area <b>105</b><i>b </i>is an area for storing the data transmitted from the host device <b>200</b>. The substitute area <b>105</b><i>c </i>is assigned as an area in which the data to be recorded in a defective block is written when the defective block has been produced in the user area <b>105</b><i>b. </i></p>
<p id="p-0023" num="0022">A writing process of data in the storing apparatus <b>100</b> will next be described. <figref idref="DRAWINGS">FIG. 2</figref> is a flow chart illustrating the writing process. The process illustrated in <figref idref="DRAWINGS">FIG. 2</figref> is attained by the control of the controller <b>102</b> according to, for example, a control program stored in the ROM <b>103</b> or a control program loaded from an external apparatus.</p>
<p id="p-0024" num="0023">When the host I/F <b>101</b> receives a data writing command and the data from the host device <b>200</b>, the controller <b>102</b> starts the flow. The controller <b>102</b>, first, confirms the received writing address (S<b>201</b>). The controller <b>102</b> then writes the received data into the designated address of the flash memory <b>105</b> (S<b>202</b>). The controller <b>102</b> next checks whether any writing errors of the written data have occurred or not (S<b>203</b>). A publicly known method can be used for the checking process of the writing errors.</p>
<p id="p-0025" num="0024">If a writing error has occurred, the controller <b>102</b> executes substitution process (S<b>204</b>). Moreover, if no writing errors have occurred and the data writing has normally been completed, the controller <b>102</b> waits the next command. The controller <b>102</b> assigns an address of the flash memory <b>105</b> (physical address) to an address (logical address) instructed from the external device, and produces a conversion table showing the correspondences between each logical address and each physical address. Then, when a defective block occurs, the controller <b>102</b> changes the conversion table in order that the physical address of a substitute block may be assigned to the designated logical address. The controller <b>102</b> saves the changed conversion table into the management information area <b>105</b><i>a. </i></p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 3</figref> is a flow chart illustrating the substitution process at the step S<b>204</b>. The controller <b>102</b> first detects the remaining amount of substitute blocks in the substitute area <b>105</b><i>c </i>of the flash memory <b>105</b> (S<b>301</b>). In the present embodiment, when the storing apparatus <b>100</b> is mounted on the host device <b>200</b>, or when the power source of the host device <b>200</b> is activated, the controller <b>102</b> reads out the remaining amount information of the substitute blocks from the management information area <b>105</b><i>a </i>to stored the read-out information into the internal register <b>104</b>. In the present embodiment, the remaining amount is, consequently, detected by the remaining amount information of the substitute blocks stored in the internal register <b>104</b>.</p>
<p id="p-0027" num="0026">The controller <b>102</b> checks whether the substitute blocks have enough capacity to write the data thereinto or not in a case in which the result of the detection of the remaining amount of the substitute blocks shows that the remaining amount of the substitute blocks exists (not zero) (S<b>302</b>). If the remaining amount of substitute blocks does not exist, the controller <b>102</b> transmits a report indicating the writing error to the host device <b>200</b> through the host I/F <b>101</b> (S<b>307</b>).</p>
<p id="p-0028" num="0027">On the other hand, if the remaining amount of substitute blocks exists to be enough to write the data, the controller <b>102</b> writes the data into any one of the remaining substitute blocks (S<b>303</b>). Then, the controller <b>102</b> updates the content of the remaining amount information of the substitute blocks which information is stored in the internal register <b>104</b> in order to decrease the remaining amount by the number of used substitute blocks (S<b>304</b>). The controller <b>102</b> next compares the remaining amount of the substitute blocks after the update and a threshold value to check whether the remaining amount of the substitute blocks is larger than the threshold value or not (S<b>305</b>). The threshold value will be described later. The internal register <b>104</b> is a volatile memory in order to store data temporarily. When the information of the internal register <b>104</b> changes, the controller <b>102</b> performs the backup of the information into the management information area <b>105</b><i>a </i>of the flash memory <b>105</b>.</p>
<p id="p-0029" num="0028">If the remaining amount of the substitute blocks is larger than the threshold value, the controller <b>102</b> terminates the process as it is. On the other hand, if the remaining amount of the substitute blocks is equal to or less than the threshold value, the controller <b>102</b> transmits warning information indicating that the remaining amount of the substitute blocks is small to the host device <b>200</b> through the host I/F <b>101</b> (alarming unit) (S<b>306</b>).</p>
<p id="p-0030" num="0029">The processing of the threshold value information of a remaining amount of substitute blocks in the storing apparatus <b>100</b> will, next, be described. In the storing apparatus <b>100</b>, when the storing apparatus <b>100</b> is mounted on the host device <b>200</b>, or when the storing apparatus <b>100</b> performs mount process at the time of the power activation thereof, the storing apparatus <b>100</b> reads out the threshold value information stored in the management information area <b>105</b><i>a </i>of the flash memory <b>105</b> beforehand to store the read-out threshold value information into the internal register <b>104</b>. Furthermore, if the storing apparatus <b>100</b> receives a rewrite request of the threshold value information from the host device <b>200</b>, the storing apparatus <b>100</b> rewrites the threshold value information stored in the internal register <b>104</b> by using the threshold value information transmitted from the host device <b>200</b>.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 4A</figref> is a flow chart illustrating a threshold value information storing process executed in a mount process of the storing apparatus <b>100</b>. Incidentally, the mount process is the process of reading out various pieces of management information from the management information area <b>105</b><i>a </i>of the flash memory <b>105</b> and storing the read-out management information into the internal register <b>104</b> to put the storing apparatus <b>100</b> in a state capable of communicating with the host device <b>200</b>.</p>
<p id="p-0032" num="0031">In the mount process, the controller <b>102</b> reads out threshold value information of substitute blocks from the management information area <b>105</b><i>a </i>of the flash memory <b>105</b> (S<b>401</b>). The controller <b>102</b> then stores the read-out threshold value information into the internal register <b>104</b> (S<b>402</b>). At this time, the controller <b>102</b> stores the threshold value information into the vender unique area of the internal register <b>104</b>. Moreover, a previously determined value in consideration of the characteristics and the like of the storing apparatus <b>100</b> is set the threshold value designated by the threshold value information.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 4B</figref> is a flow chart illustrating the change process of the threshold value information based on a change instruction of the threshold value information from the host device <b>200</b>. In the present embodiment, the host device <b>200</b> requests the storing apparatus <b>100</b> to perform the change of the threshold value information by using a Self-Monitoring, Analysis and Reporting Technology (SMART) command of an ATA interface.</p>
<p id="p-0034" num="0033">In <figref idref="DRAWINGS">FIG. 4B</figref>, if the host I/F <b>101</b> receives a change command of threshold value information from the host device <b>200</b>, the controller <b>102</b> detects the threshold value information transmitted together with the command (S<b>403</b>). The controller <b>102</b> then changes the threshold value information stored in the internal register <b>104</b> with the detected threshold value information (S<b>404</b>). Specifically, the controller <b>102</b> changes the threshold value information stored in the internal register into the threshold value information transmitted from the host device <b>200</b>. At this time, the controller <b>102</b> does not updates the threshold value information stored in the management information area <b>105</b><i>a </i>with the threshold value information rewritten by the host device <b>200</b>.</p>
<p id="p-0035" num="0034">The controller <b>102</b> next compares the changed threshold value with the remaining amount of the substitute blocks to check whether the remaining amount of the substitute blocks is larger than the threshold value or not (S<b>405</b>). If the remaining amount of the substitute blocks is larger than the threshold value, the controller <b>102</b> terminates the process as it is. On the other hand, if the remaining amount of the substitute blocks is equal to or less than the threshold value, the controller <b>102</b> transmits warning information indicating that the remaining amount of the substitute blocks is small to the host device <b>200</b> through the host I/F <b>101</b> (S<b>406</b>).</p>
<p id="p-0036" num="0035">On and after this step, the threshold value to be compared in the processing at the step S<b>305</b> will be the threshold value designated by the threshold value information changed by the host device <b>200</b>. Consequently, it is possible to set the threshold value suitable for the size of data written by the host device <b>200</b> and the type of the data.</p>
<p id="p-0037" num="0036">The threshold value information set by the host device <b>200</b> in such a way is not copied into the management information area <b>105</b><i>a </i>by the controller <b>102</b>. Consequently, if the storing apparatus <b>100</b> having the threshold value information set by the host device <b>200</b> is ejected by the host device <b>200</b> and is mounted on another host device, then the storing apparatus <b>100</b> again reads out threshold value information from the management information area <b>105</b><i>a </i>of the flash memory <b>105</b> to store the read-out threshold value into the internal register <b>104</b>. That is, the storing apparatus <b>100</b> reads out the threshold value information from the management information area <b>105</b><i>a </i>to store the read-out threshold value information into the internal register <b>104</b> as the initial value of the threshold value at every mount process of the storing apparatus <b>100</b>. There will consequently be no chances of comparing a threshold value set by another host device with a remaining amount of substitute blocks.</p>
<p id="p-0038" num="0037">Incidentally, although a piece of threshold value information is stored in the management information area <b>105</b><i>a </i>in the present embodiment, the present embodiment may also be arranged to prepare a plurality of pieces of threshold value information indicating values different from one another and to automatically change the threshold value to be set according to the size of data to be written at one time by the host device <b>200</b>.</p>
<p id="p-0039" num="0038">For example, two pieces of threshold value information indicating a threshold value <b>1</b> and a threshold value <b>2</b> (threshold value <b>1</b>&#x3e;threshold value <b>2</b>), respectively, are arranged to be stored in the management information area <b>105</b><i>a</i>. Then, if the size of the data to be written in conformity with a data writing command from the host device <b>200</b> is larger than a predetermined size, the threshold value <b>1</b> is written into the internal register <b>104</b>; otherwise the threshold value <b>2</b> is stored in the internal register <b>104</b>.</p>
<p id="p-0040" num="0039">Moreover, the plurality of pieces of threshold value information may also be selected according to the type of data to be written by the host device <b>200</b>. The storing apparatus <b>100</b> may also be configured as follows: for example, if the data to be written is image data of a moving image, a still image, or the like, then the controller <b>102</b> selects the threshold value <b>1</b>; if the data is document data, then the controller <b>102</b> selects the threshold value <b>2</b>. Moreover, three or more pieces of threshold value information may be prepared.</p>
<p id="p-0041" num="0040">Moreover, the storing apparatus <b>100</b> may also be arranged as follows: zero is set as the threshold value information stored in the management information area <b>105</b><i>a</i>, and then zero is stored in the internal register <b>104</b> as the initial value of the threshold value at the time of mount process. This case results in transmitting no warnings to the host device <b>200</b> until the remaining amount of substitute blocks becomes zero. Because some host devices need no warnings, the storing apparatus <b>100</b> configured as described above may avoid transmitting warnings hollowly to such host devices.</p>
<p id="p-0042" num="0041">As described above, the present embodiment rewrites the threshold value information stored in the internal register <b>104</b> by using the threshold value information transmitted from the host device <b>200</b> at the time of mount processing. The threshold value of the remaining amount of substitute blocks suitable for the host device <b>200</b> can consequently be set.</p>
<p id="p-0043" num="0042">Moreover, because the present embodiment reads out threshold value information from the management information area <b>105</b><i>a </i>to store the read-out threshold value information into the internal register <b>104</b> at every mount process, the present embodiment may avoid also comparing the threshold value set by the host device <b>200</b> beforehand with the remaining amount of substitute blocks.</p>
<heading id="h-0006" level="1">Second Embodiment</heading>
<p id="p-0044" num="0043">A second embodiment will, next, be described. <figref idref="DRAWINGS">FIG. 5</figref> is a diagram illustrating the configuration of a system according to the second embodiment, and the same components as those illustrated in <figref idref="DRAWINGS">FIG. 1</figref> are denoted by the same numerals as those illustrated in <figref idref="DRAWINGS">FIG. 1</figref>. The storing apparatus <b>100</b> of the present embodiment is not equipped with the internal register <b>104</b> of the storing apparatus <b>100</b> illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0045" num="0044">The present embodiment is arranged to store threshold value information into the ROM <b>103</b> beforehand in addition to the control program of the controller <b>102</b>. The threshold value information is then read-out from the ROM <b>103</b>, and the threshold value information stored in the management information area <b>105</b><i>a </i>is updated at the time of the mount process of the storing apparatus <b>100</b> of the present embodiment. After that, if the storing apparatus <b>100</b> receives a change request of the threshold value information from the host device <b>200</b>, the storing apparatus <b>100</b> changes the threshold value information stored in the management information area <b>105</b><i>a </i>by using the threshold value information transmitted from the host device <b>200</b>. At the time of the substitution process illustrated in <figref idref="DRAWINGS">FIG. 3</figref>, the storing apparatus <b>100</b> compares the threshold value information stored in the management information area <b>105</b><i>a </i>and the remaining amount of substitute blocks to inform the host device <b>200</b> of warning information.</p>
<p id="p-0046" num="0045">As described above, in the present embodiment, threshold value information is read-out from the ROM <b>103</b> and the threshold value information stored in the management information area <b>105</b><i>a </i>of the flash memory <b>105</b> is updated at the time of mount process. So, the threshold value information stored in the management information area <b>105</b><i>a </i>of the flash memory is reset to the threshold value information stored in the ROM <b>103</b> every time the mount process is executed. Then, the threshold value information stored in the management information area <b>105</b><i>a </i>is changed by the host device <b>200</b>, and thereby the threshold value of the remaining amount of substitute blocks suitable for the host device <b>200</b> can be set.</p>
<heading id="h-0007" level="1">Third Embodiment</heading>
<p id="p-0047" num="0046">In the second embodiment, threshold value information is read out from the ROM <b>103</b> at the time of mount processing of the storing apparatus <b>100</b> to update the threshold value information stored in the management information area <b>105</b><i>a</i>. On the other hand, in the present embodiment, threshold value information is read out from the ROM <b>103</b> at the time of unmount process of the storing apparatus <b>100</b> to update the threshold value information stored in the management information area <b>105</b><i>a </i>Incidentally, the system configuration of the present embodiment is the same as that of the second embodiment, and the description thereof is accordingly omitted here. Moreover, the unmount process is the process for disconnecting the communication with the host device <b>200</b> when the power source of the host device <b>200</b> is turned off or when the storing apparatus <b>100</b> is ejected from the host device <b>200</b>.</p>
<p id="p-0048" num="0047">Incidentally, also in the present embodiment, if the storing apparatus <b>100</b> receives a request of changing the threshold value information from the host device <b>200</b> while the system is operating, the storing apparatus <b>100</b> changes the threshold value information stored in the management information area <b>105</b><i>a </i>at the time of unmount process. Then, in the substitution process illustrated in <figref idref="DRAWINGS">FIG. 3</figref>, the storing apparatus <b>100</b> compares the threshold value information stored in the management information area <b>105</b><i>a </i>with the remaining amount of substitute blocks to inform the host device <b>200</b> of warning information.</p>
<p id="p-0049" num="0048">As described above, in the present embodiment, threshold value information is read out from the ROM <b>103</b> at the time of unmount process to update the threshold value information stored in the management information area <b>105</b><i>a </i>of the flash memory <b>105</b>. Consequently, even if the threshold value information stored in the management information area <b>105</b><i>a </i>is erased or changed by mistake by the host device <b>200</b>, the threshold value information stored in the management information area <b>105</b><i>a </i>can be initialize by the threshold value information stored in the ROM <b>103</b>.</p>
<p id="p-0050" num="0049">Moreover, the second and the third embodiments may also be arranged to store a plurality of pieces of threshold value information into the ROM <b>103</b>, select and read out any one piece of the plurality of pieces of threshold value information, and store the read-out piece of threshold value information into the management information area <b>105</b><i>a </i>similarly to the first embodiment.</p>
<p id="p-0051" num="0050">Moreover, the process of the embodiments described above may also be carried out by the program codes of software realizing the respective functions, which software is recorded on a storing medium provided to the system or the apparatus. The computer (or the CPU or the microprocessor unit (MPU)) of the system or the apparatus then reads out and executes the program codes stored in the storing medium, and thereby the functions of the embodiments described above can be realized. In this case, the program codes read-out from the storing medium themselves result in realizing the functions of the embodiments described above, and the storing medium storing the program codes constitutes the present invention. As the storing medium for supplying such program codes, for example, a floppy (registered trademark) disk, a hard disk, an optical disk, or a magneto-optical disk can be used. Alternatively, a compact disc read-only memory (CD-ROM), a compact disc-recordable (CD-R), magnetic tape, a nonvolatile memory card, a ROM, or the like can also be used.</p>
<p id="p-0052" num="0051">The present invention has hereinbefore been described in detail on the basis of its preferable embodiments, but the present invention is not limited to those specific embodiments. Various modes without departing from the spirit and scope of the invention are also included in the present invention. Furthermore, each embodiment described above expresses only an embodiment of the present invention, and it is also possible to suitably combine each embodiment.</p>
<p id="p-0053" num="0052">While the present invention has been described with reference to exemplary embodiments, it is to be understood that the invention is not limited to the disclosed exemplary embodiments. The scope of the following claims is to be accorded the broadest interpretation so as to encompass all such modifications and equivalent structures and functions.</p>
<p id="p-0054" num="0053">This application claims the benefit of Japanese Patent Application No. 2010-077997 filed on Mar. 30, 2010, which is hereby incorporated by reference herein in its entirety.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A storing apparatus, comprising:
<claim-text>a communication unit configured to communicate with an external device;</claim-text>
<claim-text>a register arranged to store information temporarily;</claim-text>
<claim-text>a memory configured to have a plurality of blocks including substitute blocks for defective blocks and to store threshold value information, which is used for warning lowering of a remaining amount of the substitute blocks in the memory, indicating a predetermined value;</claim-text>
<claim-text>a control unit configured to control writing data into the memory,</claim-text>
<claim-text>wherein the control unit reads out the threshold value information from the memory and stores the read-out threshold value information into the register,</claim-text>
<claim-text>wherein the control unit updates, in accordance with an update instruction from the external device received by the communication unit, the threshold value information read-out from the memory and stored in the resister with threshold value information received from the external device,</claim-text>
<claim-text>wherein the control unit compares a threshold value indicated by the updated threshold value information stored in the resister and a remaining amount of the substitute blocks in the memory and transmits a predetermined notice to the external device by the communication unit in accordance with the remaining amount of the substitute blocks being equal to or less than the threshold value indicated by the updated threshold value information stored in the register, and</claim-text>
<claim-text>wherein the updated threshold value is inhibited from being copied from the resister to the memory by the control unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The storing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the memory stores a plurality of pieces of the threshold value information, and the control unit selects any one of the plurality of pieces of the threshold value information and reads out the selected threshold value information from the memory to store the read-out threshold value information into the register.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The storing apparatus according <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control unit further reads out control information used for the communication by the communication unit from the memory to store the read-out control information into the register, and changes the control information stored in the register in accordance with writing data into the memory.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The storing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control unit reads out threshold value information from the memory to store the read-out threshold value information into the register in accordance with executing a mount process for starting the communication between the communication unit and the external device.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The storing apparatus according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the control unit reads out the threshold value information from the read-only memory to update the threshold value information in the storing unit updated by the external device with the read-out threshold value information in accordance with executing a mount process for starting the communication between the communication unit and the external device.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The storing apparatus according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the control unit reads out the threshold value information from the read-only memory to update the threshold value information in the storing unit updated by the external device with the read-out threshold value information in accordance with executing an unmount process for disconnecting the communication between the communication unit and the external device.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The storing apparatus according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the read-only memory stores a plurality of pieces of the threshold value information, and the control unit selects any one of the plurality of pieces of the threshold value information and reads out the selected threshold value information from the read-only memory to store the read-out threshold value information into the storing unit.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The storing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein if the update instruction from the external device is not received, the control unit compares the predetermined value indicated by the threshold value information read out from the memory and stored into the resister and the remaining amount of the substitute blocks in the storing unit and to transmit the predetermined notice by the communication unit.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A storing apparatus, comprising:
<claim-text>a communication unit configured to communicate with an external device;</claim-text>
<claim-text>a storing unit configured to have a plurality of blocks including substitute blocks for defective blocks;</claim-text>
<claim-text>a read-only memory configured to store threshold value information, which is used for warning lowering of a remaining amount of the substitute blocks in the storing unit, indicating a predetermined value; and</claim-text>
<claim-text>a control unit configured to control writing data into the storing unit,</claim-text>
<claim-text>wherein the control unit reads out the threshold value information from the read-only memory and stores the read-out threshold value information into the storing unit,</claim-text>
<claim-text>wherein the control unit updates, in accordance with an update instruction from the external device received by the communication unit, the threshold value information read-out from the read-only memory and stored in the storing unit with threshold value information received from the external device,</claim-text>
<claim-text>wherein the control unit compares a threshold value indicated by the updated threshold value information stored in the storing unit and a remaining amount of the substitute blocks in the storing unit and to transmit a predetermined notice to the external device by the communication unit in accordance with the remaining amount of the substitute blocks being equal to or less than the threshold value indicated by the updated threshold value information stored in the storing unit, and</claim-text>
<claim-text>wherein the control unit reads out the threshold value information from the read-only memory at a predetermined timing and updates the threshold value in the storing unit updated by the external device, with the read-out threshold value information.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A control method of a storing apparatus including
<claim-text>a communication unit configured to perform communication with an external device, a register arranged to store information temporarily, a memory configured to have a plurality of blocks including substitute blocks for defective blocks and to store threshold value information, which is used for warning lowering of a remaining amount of the substitute blocks in the memory, indicating a predetermined value, and a control unit configured to control writing data into the memory, the method comprising the steps of:</claim-text>
<claim-text>reading out, by the control unit, the threshold value information from the memory to store the read-out threshold value information into the register;</claim-text>
<claim-text>updating, by the control unit in accordance with an update instruction from the external device received by the communication unit, the threshold value information read-out from the memory and stored in the resister with threshold value information received from the external device, and</claim-text>
<claim-text>comparing, by the control unit, a threshold value indicated by the updated threshold value information stored in the resister and a remaining amount of the substitute blocks in the memory and transmits a predetermined notice to the external device by the communication unit in accordance with the remaining amount of the substitute blocks being equal to or less than the threshold value indicated by the updated threshold value information stored in the register,</claim-text>
<claim-text>wherein the updated threshold value is inhibited from being copied from the resister to the memory by the control unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A control method of a storing apparatus including
<claim-text>a communication unit configured to communicate with an external device, a register arranged to communicate with an temporarily, a storing unit configured to have a plurality of blocks including substitute blocks for defective blocks, a read-only memory configured to store threshold value information, which is used for warning lowering of a remaining amount of the substitute blocks in the storing unit, indicating a predetermined value, and a control unit configured to control writing data into the storing unit, the method comprising the steps of:</claim-text>
<claim-text>reading out, by the control unit, the threshold value information from the read-only memory to store the read-out threshold value information into the storing unit;</claim-text>
<claim-text>updating, by the control unit in accordance with an update instruction from the external device received by the communication unit, the threshold value information read-out from the read-only memory and stored in the storing unit with threshold value information received from the external device, and</claim-text>
<claim-text>comparing, by the control unit, a threshold value indicated by the updated threshold value information stored in the storing unit and a remaining amount of the substitute blocks in the storing unit and to transmit a predetermined notice to the external device by the communication unit in accordance with the remaining amount of the substitute blocks being equal to or less than the threshold value indicated by the updated threshold value information stored in the storing unit,</claim-text>
<claim-text>wherein the threshold value information is read out by the control unit from the read-only memory at a predetermined timing to update the threshold value in the storing unit updated by the external device, with the read-out threshold value information. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
