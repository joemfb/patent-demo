<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08627354-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08627354</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11305379</doc-number>
<date>20051216</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<us-term-of-grant>
<us-term-extension>1888</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>7</main-group>
<subgroup>10</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>7</main-group>
<subgroup>025</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>725 34</main-classification>
<further-classification>725 35</further-classification>
</classification-national>
<invention-title id="d2e53">Tiered subscription broadcast system</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4083003</doc-number>
<kind>A</kind>
<name>Haemmig</name>
<date>19780400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>4135156</doc-number>
<kind>A</kind>
<name>Sanders et al.</name>
<date>19790100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>4217588</doc-number>
<kind>A</kind>
<name>Freeny, Jr.</name>
<date>19800800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>4344171</doc-number>
<kind>A</kind>
<name>Lin</name>
<date>19820800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>4720873</doc-number>
<kind>A</kind>
<name>Goodman et al.</name>
<date>19880100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>725 32</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>4744024</doc-number>
<kind>A</kind>
<name>Potash et al.</name>
<date>19880500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5365569</doc-number>
<kind>A</kind>
<name>Witsaman et al.</name>
<date>19941100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>5387927</doc-number>
<kind>A</kind>
<name>Look et al.</name>
<date>19950200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>5438423</doc-number>
<kind>A</kind>
<name>Lynch et al.</name>
<date>19950800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>386109</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>5592471</doc-number>
<kind>A</kind>
<name>Briskman</name>
<date>19970100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>5649284</doc-number>
<kind>A</kind>
<name>Yoshinobu</name>
<date>19970700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>5677918</doc-number>
<kind>A</kind>
<name>Tran et al.</name>
<date>19971000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>5686954</doc-number>
<kind>A</kind>
<name>Yoshinobu et al.</name>
<date>19971100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>5768527</doc-number>
<kind>A</kind>
<name>Zhu et al.</name>
<date>19980600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>5784376</doc-number>
<kind>A</kind>
<name>Le Gall</name>
<date>19980700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>5790937</doc-number>
<kind>A</kind>
<name>Gutle</name>
<date>19980800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>5815671</doc-number>
<kind>A</kind>
<name>Morrison</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>5896555</doc-number>
<kind>A</kind>
<name>Yoshinobu</name>
<date>19990400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>6011509</doc-number>
<kind>A</kind>
<name>Dutka</name>
<date>20000100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>6061760</doc-number>
<kind>A</kind>
<name>Huang</name>
<date>20000500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>6163683</doc-number>
<kind>A</kind>
<name>Dunn et al.</name>
<date>20001200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>6167235</doc-number>
<kind>A</kind>
<name>Sibecas et al.</name>
<date>20001200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>6177960</doc-number>
<kind>B1</kind>
<name>Van Luyt</name>
<date>20010100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>6192340</doc-number>
<kind>B1</kind>
<name>Abecassis</name>
<date>20010200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00025">
<document-id>
<country>US</country>
<doc-number>6249532</doc-number>
<kind>B1</kind>
<name>Yoshikawa et al.</name>
<date>20010600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00026">
<document-id>
<country>US</country>
<doc-number>6272190</doc-number>
<kind>B1</kind>
<name>Campana, Jr.</name>
<date>20010800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00027">
<document-id>
<country>US</country>
<doc-number>6289455</doc-number>
<kind>B1</kind>
<name>Kocher et al.</name>
<date>20010900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00028">
<document-id>
<country>US</country>
<doc-number>6307487</doc-number>
<kind>B1</kind>
<name>Luby</name>
<date>20011000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00029">
<document-id>
<country>US</country>
<doc-number>6320520</doc-number>
<kind>B1</kind>
<name>Luby</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00030">
<document-id>
<country>US</country>
<doc-number>6373406</doc-number>
<kind>B2</kind>
<name>Luby</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00031">
<document-id>
<country>US</country>
<doc-number>6411223</doc-number>
<kind>B1</kind>
<name>Haken et al.</name>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00032">
<document-id>
<country>US</country>
<doc-number>6434622</doc-number>
<kind>B1</kind>
<name>Monteiro et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00033">
<document-id>
<country>US</country>
<doc-number>6463585</doc-number>
<kind>B1</kind>
<name>Hendricks et al.</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00034">
<document-id>
<country>US</country>
<doc-number>6486803</doc-number>
<kind>B1</kind>
<name>Luby et al.</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00035">
<document-id>
<country>US</country>
<doc-number>6564003</doc-number>
<kind>B2</kind>
<name>Marko et al.</name>
<date>20030500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00036">
<document-id>
<country>US</country>
<doc-number>6587127</doc-number>
<kind>B1</kind>
<name>Leeke et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00037">
<document-id>
<country>US</country>
<doc-number>6594794</doc-number>
<kind>B1</kind>
<name>De Marzi et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00038">
<document-id>
<country>US</country>
<doc-number>6600908</doc-number>
<kind>B1</kind>
<name>Chan</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00039">
<document-id>
<country>US</country>
<doc-number>6608994</doc-number>
<kind>B1</kind>
<name>Wegener et al.</name>
<date>20030800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00040">
<document-id>
<country>US</country>
<doc-number>6609097</doc-number>
<kind>B2</kind>
<name>Costello et al.</name>
<date>20030800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00041">
<document-id>
<country>US</country>
<doc-number>6614366</doc-number>
<kind>B2</kind>
<name>Luby</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00042">
<document-id>
<country>US</country>
<doc-number>6640305</doc-number>
<kind>B2</kind>
<name>Kocher et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00043">
<document-id>
<country>US</country>
<doc-number>6697608</doc-number>
<kind>B2</kind>
<name>King-Smith</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00044">
<document-id>
<country>US</country>
<doc-number>6704556</doc-number>
<kind>B1</kind>
<name>Eaton et al.</name>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00045">
<document-id>
<country>US</country>
<doc-number>6725022</doc-number>
<kind>B1</kind>
<name>Clayton et al.</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00046">
<document-id>
<country>US</country>
<doc-number>6785656</doc-number>
<kind>B2</kind>
<name>Patsiokas et al.</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00047">
<document-id>
<country>US</country>
<doc-number>6834156</doc-number>
<kind>B1</kind>
<name>Marko et al.</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>386 94</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00048">
<document-id>
<country>US</country>
<doc-number>6845230</doc-number>
<kind>B2</kind>
<name>Syed</name>
<date>20050100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00049">
<document-id>
<country>US</country>
<doc-number>6873629</doc-number>
<kind>B2</kind>
<name>Morris</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00050">
<document-id>
<country>US</country>
<doc-number>6876835</doc-number>
<kind>B1</kind>
<name>Marko et al.</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00051">
<document-id>
<country>US</country>
<doc-number>6944142</doc-number>
<kind>B2</kind>
<name>Grieco</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00052">
<document-id>
<country>US</country>
<doc-number>6961370</doc-number>
<kind>B2</kind>
<name>Chappell</name>
<date>20051100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00053">
<document-id>
<country>US</country>
<doc-number>7024685</doc-number>
<kind>B1</kind>
<name>Foster et al.</name>
<date>20060400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00054">
<document-id>
<country>US</country>
<doc-number>7026957</doc-number>
<kind>B2</kind>
<name>Rubenstein</name>
<date>20060400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00055">
<document-id>
<country>US</country>
<doc-number>7117075</doc-number>
<kind>B1</kind>
<name>Larschan et al.</name>
<date>20061000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00056">
<document-id>
<country>US</country>
<doc-number>7180917</doc-number>
<kind>B1</kind>
<name>Marko et al.</name>
<date>20070200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370535</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00057">
<document-id>
<country>US</country>
<doc-number>7197234</doc-number>
<kind>B1</kind>
<name>Chatterton</name>
<date>20070300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00058">
<document-id>
<country>US</country>
<doc-number>7216358</doc-number>
<kind>B1</kind>
<name>Vantalon et al.</name>
<date>20070500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00059">
<document-id>
<country>US</country>
<doc-number>7474621</doc-number>
<kind>B2</kind>
<name>Mimura et al.</name>
<date>20090100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00060">
<document-id>
<country>US</country>
<doc-number>7486640</doc-number>
<kind>B2</kind>
<name>Borsos et al.</name>
<date>20090200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00061">
<document-id>
<country>US</country>
<doc-number>7490053</doc-number>
<kind>B1</kind>
<name>Emerson et al.</name>
<date>20090200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 14</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00062">
<document-id>
<country>US</country>
<doc-number>7505966</doc-number>
<kind>B2</kind>
<name>Kato</name>
<date>20090300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00063">
<document-id>
<country>US</country>
<doc-number>7720432</doc-number>
<kind>B1</kind>
<name>Colby et al.</name>
<date>20100500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00064">
<document-id>
<country>US</country>
<doc-number>7840178</doc-number>
<kind>B2</kind>
<name>Hellman</name>
<date>20101100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00065">
<document-id>
<country>US</country>
<doc-number>2001/0019310</doc-number>
<kind>A1</kind>
<name>Luby</name>
<date>20010900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00066">
<document-id>
<country>US</country>
<doc-number>2001/0036224</doc-number>
<kind>A1</kind>
<name>Demello et al.</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375220</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00067">
<document-id>
<country>US</country>
<doc-number>2002/0087685</doc-number>
<kind>A1</kind>
<name>Lassen et al.</name>
<date>20020700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00068">
<document-id>
<country>US</country>
<doc-number>2002/0107968</doc-number>
<kind>A1</kind>
<name>Horn et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00069">
<document-id>
<country>US</country>
<doc-number>2002/0116277</doc-number>
<kind>A1</kind>
<name>Kraft</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00070">
<document-id>
<country>US</country>
<doc-number>2002/0129159</doc-number>
<kind>A1</kind>
<name>Luby et al.</name>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00071">
<document-id>
<country>US</country>
<doc-number>2002/0129362</doc-number>
<kind>A1</kind>
<name>Chang et al.</name>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>725 32</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00072">
<document-id>
<country>US</country>
<doc-number>2002/0132575</doc-number>
<kind>A1</kind>
<name>Kesling et al.</name>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00073">
<document-id>
<country>US</country>
<doc-number>2002/0184038</doc-number>
<kind>A1</kind>
<name>Costello et al.</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00074">
<document-id>
<country>US</country>
<doc-number>2002/0190878</doc-number>
<kind>A1</kind>
<name>Luby</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00075">
<document-id>
<country>US</country>
<doc-number>2003/0014767</doc-number>
<kind>A1</kind>
<name>Stumphauzer</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00076">
<document-id>
<country>US</country>
<doc-number>2003/0058958</doc-number>
<kind>A1</kind>
<name>Shokrollahi et al.</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00077">
<document-id>
<country>US</country>
<doc-number>2003/0122959</doc-number>
<kind>A1</kind>
<name>Ishida et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>3484261</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00078">
<document-id>
<country>US</country>
<doc-number>2003/0129941</doc-number>
<kind>A1</kind>
<name>Kawamata et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00079">
<document-id>
<country>US</country>
<doc-number>2003/0192060</doc-number>
<kind>A1</kind>
<name>Levy</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>725133</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00080">
<document-id>
<country>US</country>
<doc-number>2003/0226089</doc-number>
<kind>A1</kind>
<name>Rasmussen et al.</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00081">
<document-id>
<country>US</country>
<doc-number>2003/0236843</doc-number>
<kind>A1</kind>
<name>Weber et al.</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00082">
<document-id>
<country>US</country>
<doc-number>2004/0003399</doc-number>
<kind>A1</kind>
<name>Cooper</name>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>725 38</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00083">
<document-id>
<country>US</country>
<doc-number>2004/0021588</doc-number>
<kind>A1</kind>
<name>Luby</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00084">
<document-id>
<country>US</country>
<doc-number>2004/0075593</doc-number>
<kind>A1</kind>
<name>Shokrollahi et al.</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00085">
<document-id>
<country>US</country>
<doc-number>2004/0083487</doc-number>
<kind>A1</kind>
<name>Collens et al.</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00086">
<document-id>
<country>US</country>
<doc-number>2004/0101274</doc-number>
<kind>A1</kind>
<name>Foisy et al.</name>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00087">
<document-id>
<country>US</country>
<doc-number>2004/0110468</doc-number>
<kind>A1</kind>
<name>Perlman</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00088">
<document-id>
<country>US</country>
<doc-number>2004/0116069</doc-number>
<kind>A1</kind>
<name>Fadavi-Ardekani et al.</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00089">
<document-id>
<country>US</country>
<doc-number>2004/0116070</doc-number>
<kind>A1</kind>
<name>Fishman et al.</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455  302</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00090">
<document-id>
<country>US</country>
<doc-number>2004/0163135</doc-number>
<kind>A1</kind>
<name>Giaccherini</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00091">
<document-id>
<country>US</country>
<doc-number>2004/0199654</doc-number>
<kind>A1</kind>
<name>Juszkiewicz</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00092">
<document-id>
<country>US</country>
<doc-number>2004/0205028</doc-number>
<kind>A1</kind>
<name>Verosub et al.</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00093">
<document-id>
<country>US</country>
<doc-number>2004/0225519</doc-number>
<kind>A1</kind>
<name>Martin</name>
<date>20041100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00094">
<document-id>
<country>US</country>
<doc-number>2004/0266336</doc-number>
<kind>A1</kind>
<name>Patsiokas et al.</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00095">
<document-id>
<country>US</country>
<doc-number>2005/0172329</doc-number>
<kind>A1</kind>
<name>Kim et al.</name>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00096">
<document-id>
<country>US</country>
<doc-number>2006/0008256</doc-number>
<kind>A1</kind>
<name>Khedouri et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00097">
<document-id>
<country>US</country>
<doc-number>2006/0070095</doc-number>
<kind>A1</kind>
<name>Newton et al.</name>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00098">
<document-id>
<country>US</country>
<doc-number>2006/0136967</doc-number>
<kind>A1</kind>
<name>Hellman</name>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00099">
<document-id>
<country>US</country>
<doc-number>2006/0190970</doc-number>
<kind>A1</kind>
<name>Hellman</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00100">
<document-id>
<country>US</country>
<doc-number>2007/0014536</doc-number>
<kind>A1</kind>
<name>Hellman</name>
<date>20070100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00101">
<document-id>
<country>US</country>
<doc-number>2007/0065122</doc-number>
<kind>A1</kind>
<name>Chatterton</name>
<date>20070300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00102">
<document-id>
<country>US</country>
<doc-number>2007/0237329</doc-number>
<kind>A1</kind>
<name>Qawami et al.</name>
<date>20071000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00103">
<othercit>A.J. McAuley, &#x201c;Reliable Broadband Communication Using a Burst Erasure Correcting Code&#x201d;; ACM 1990.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00104">
<othercit>U.S. Appl. No. 09/695,226, Marko et al.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00105">
<othercit>U.S. Appl. No. 09/695,228, Marko et al.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00106">
<othercit>U.S. Appl. No. 60/698,786, Hellman.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00107">
<othercit>U.S. Appl. No. 60/714,539, Hellman.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00108">
<othercit>NIST FIPS PUB-197 &#x201c;Announcing the Advanced Encryption Standard (AES),&#x201d; Nov. 26, 2001, pp. i-iii and 1-26. Available from NTIS, 5285 Port Royal Road, Springfield, VA 22161 and on-line at http://csrc.nist.gov/publications/fips/fips197/fips-197.pdf.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00109">
<othercit>NIST Special Publication 800-38A &#x201c;Recommendation for Block Cipher Modes of Operation,&#x201d; Dec. 2001, pp. i-vii and 1-16. Available from Superintendant of Documents, US Govt Printing Office, Mail: Stop SSOP, Washington, DC 20402-0001.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00110">
<othercit>NIST FIPS PUB 186-2 &#x201c;Digital Signature Standard (DSS),&#x201d; Jan. 27, 2000, pp. i-ii, 1-2 and 7-10. Available from NTIS at above address.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00111">
<othercit>NIST FIPS PUB 180-2, &#x201c;Announcing the Secure Hash Standard,&#x201d; Aug. 1, 2002, pp. i-iii and 3-16. Available from NTIS at above address.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00112">
<othercit>Layer, David H, Digital Radio Takes to the Road, IEEE Spectrum, Jul. 2001, pp. 40-46.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00113">
<othercit>Office Action for U.S. Appl. No. 11/303,605 mailed Nov. 24, 2009.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>37</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>348731</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>725  1- 47</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>6</number-of-drawing-sheets>
<number-of-figures>7</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60698786</doc-number>
<date>20050712</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60714539</doc-number>
<date>20041217</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20070140318</doc-number>
<kind>A1</kind>
<date>20070621</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Hellman</last-name>
<first-name>Martin E</first-name>
<address>
<city>Stanford</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Hellman</last-name>
<first-name>Martin E</first-name>
<address>
<city>Stanford</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Rosenfeld</last-name>
<first-name>Dov</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<orgname>Inventek</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<last-name>Hellman</last-name>
<first-name>Martin E.</first-name>
<role>04</role>
<address>
<city>Stanford</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Chung</last-name>
<first-name>Jason J</first-name>
<department>2421</department>
</primary-examiner>
<assistant-examiner>
<last-name>Marandi</last-name>
<first-name>James R</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A broadcast system is disclosed that allows a broadcaster to provide multiple levels of subscription services. Subscribers have the option of listening to fewer (or no) commercials if they pay a higher fee, or listening to more commercials if they pay a lower (or no) fee. Commercials can be demographically targeted, cannot be skipped, and can be audited for billing purposes.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="120.90mm" wi="211.50mm" file="US08627354-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="209.72mm" wi="139.36mm" orientation="landscape" file="US08627354-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="207.43mm" wi="128.19mm" orientation="landscape" file="US08627354-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="212.43mm" wi="147.32mm" orientation="landscape" file="US08627354-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="215.82mm" wi="154.18mm" orientation="landscape" file="US08627354-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="216.49mm" wi="63.67mm" orientation="landscape" file="US08627354-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="217.17mm" wi="144.86mm" orientation="landscape" file="US08627354-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS AND DISCLOSURE DOCUMENT</heading>
<p id="p-0002" num="0001">This Patent Application claims the benefit of U.S. patent application Ser. No. 11/015634 &#x201c;Broadcast System with Differentiated Receivers&#x201d; filed Dec. 17, 2004 and converted to U.S. Provisional Patent Application Ser. No. 60/714,539, the contents of which are incorporated by reference herein. This Patent Application is related to U.S. Patent Disclosure Document No. 572293 &#x201c;Preloaded Media Distribution System&#x201d; filed Mar. 8, 2005, the contents of which are incorporated by reference herein. This Patent Application also claims the benefit of U.S. Provisional Patent Application Ser. No. 60/698786 &#x201c;Storage-Based Media Broadcasting and Distribution System&#x201d; filed Jul. 12, 2005, the contents of which are incorporated by reference herein. Related subject matter is disclosed and claimed in U.S. patent Application Ser. Nos. 11/305,097 and 11/303,605 to Martin E. Hellman filed even date herewith and titled &#x201c;SECURITY ENHANCED TIERED SUBSCRIPTION BROADCAST SYSTEM&#x201d; and &#x201c;Dropout-Resistant Media Broadcasting System,&#x201d; respectively, now U.S. Pat. Nos. 7,865,917 and 8,270,901, respectively. The contents of said U.S. patent application Nos. 11/305,097 and 11/303,605 are incorporated by reference herein.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">The present invention relates to a broadcast system which offers subscribers a tiered approach to subscription fees.</p>
<heading id="h-0003" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0004" num="0003">Sirius Satellite Radio and XM Satellite Radio are two companies currently providing subscription digital satellite radio services. Such services are referred to as S-DARS, for Satellite Digital Audio Radio Service, or more succinctly as satellite radio. In both the case of Sirius and XM, it is inherent in their design to simultaneously transmit signals to radio receivers from multiple satellites and a network of &#x201c;terrestrial repeaters&#x201d; (multiple ground-based transmitters, located for example in large cities, where tall buildings often block satellite reception). See for example, David H. Layer, &#x201c;Digital Radio Takes to the Road,&#x201d; IEEE Spectrum, July <b>2001</b>, pages 40-46. Such satellite transmission, per se, is not the subject of the instant invention.</p>
<p id="p-0005" num="0004">Subscription fees for service with no advertising need to be higher than subscription fees for service with advertising since the full cost of the service must be borne by the user when there is no advertising revenue. Initially, Sirius offered commercial-free music at a monthly subscription fee of $12.95 and XM offered partly commercial-free music at a monthly subscription fee of $<b>9</b>.<b>95</b>. Sirius' totally commercial-free music was a competitive advantage for many potential subscribers and, on Feb. 1, 2004, XM's music channels also became totally commercial-free. However, XM could not immediately raise its subscription fee without alienating much of its existing subscriber base and had to suffer a loss of revenue for over a year before it was able to raise its rates to match those of Sirius.</p>
<p id="p-0006" num="0005">Terrestrial radio, particularly in the 88-108 MHz FM band, faces a similar problem as it converts to a digital format known as HD radio. If a network of stations goes commercial-free, it alienates subscribers who do not wish to pay a subscription fee. But, if the network maintains its current, commercial-supported approach, it loses to satellite radio the significant fraction of its listener base which prefers commercial-free radio.</p>
<p id="p-0007" num="0006">The dilemma faced by XM and terrestrial radio can be solved by offering tiered subscription services, ranging from totally commercial-free to totally commercial-supported. Then each subscriber can choose the plan that best meets his or her needs.</p>
<p id="p-0008" num="0007">A system for providing such a tiered subscription service can be easily, but inefficiently, accomplished by having two versions broadcast for each channel: one with commercials and one without. The version that contains commercials clearly also has less entertainment content, since some time is being used by the commercials. In the case of popular music, the content usurped by the commercials can be one or more entire songs since each song lasts approximately three minutes and commercial breaks typically last at least about that long.</p>
<p id="p-0009" num="0008">The above-described two tier system, which transmits two versions of each channel, one with and one without commercials, has a major drawback in that it would halve the number of channels that the broadcaster could offer. Effectively, each channel has become two channels, one with commercials and one without.</p>
<p id="p-0010" num="0009">The present invention allows a broadcaster to deliver two or more tiers of services over a single channel and charge subscribers different or no subscription fees, with fewer or no commercials being delivered to the highest tier subscribers. To accomplish this, the present invention uses memory located at the receiver to store commercials and has the broadcaster transmit receiver commands telling lower tiered subscribers' radios which content segments of the normal program are to be deleted and which commercials are to be inserted in their place.</p>
<p id="p-0011" num="0010">The use of memory at a receiver is well known in the art. DirectTV, for example, offers a TiVo equipped satellite television receiver, which can store programs on a hard drive and play them back at a later time. In U.S. Pat. No. 6,785,656 &#x201c;Method and apparatus for digital audio playback using local stored content&#x201d; Patsiokas et al describe a similar system for use with satellite radio. Since TiVo and its competitors are called PVR's (Personal Video Recorders), Patsiokas' invention might be called a PAR (Personal Audio Recorder).</p>
<p id="p-0012" num="0011">In U.S. Pat. No. 6,564,003 Marko et al describe another use of memory with satellite radio. Marko demodulates the bit stream from a broadcaster, such as XM Satellite Radio, and records it on a memory medium (e.g., a recordable CD) for later playback at a location that either cannot receive the satellite signal or does not need real time reception. As in Patsiokas, the selection of the recorded program to be played back is subscriber controlled.</p>
<p id="p-0013" num="0012">In contrast to Patsiokas and Marko, the present invention has the broadcaster, not the subscriber, determine when to access stored content and which stored content is accessed. These determinations are done in a manner substantially different from the cited prior art and for a totally different purpose. Whereas Patsiokas and Marko used memory at the receiver to enhance the subscriber's listening experience, this aspect of the present invention uses such memory to allow tiered subscription services.</p>
<p id="p-0014" num="0013">In US Patent Application 2004/0116070 &#x201c;Method, system, and computer program product for providing multi-tiered broadcasting services,&#x201d; filed Nov. 20, 2003, Fishman et al describe a tiered subscription system for use with satellite radio. The present invention gives the broadcaster greater control than Fishman, thereby providing a better experience for the subscriber and more effective exposure for the advertiser. For example, in the present invention, specific songs can be deleted to make room for ads, ads can be targeted to specific subscribers, ads are less likely to be lost in transmission, ads that are lost in transmission are replaced by similar ads, audit information is provided to the broadcaster and advertiser, and the radio receiver is more secure.</p>
<p id="p-0015" num="0014">In U.S. Pat. No. 5,815,671 &#x201c;Method and apparatus for encoding and storing audio/video information for subsequent predetermined retrieval,&#x201d; issued Sep. 29, 1998, Morrison describes a system for customizing entertainment for individual subscribers which includes the possibility of offering commercial-free service to some subscribers and commercial-supported service to other subscribers. Unlike the present invention, Morrison's system is designed to work in non-real-time, utilizing stored program material, and is thus not usable with real-time broadcast systems such as satellite radio. Morrison's system is also designed to work with a totally new class of receivers and did not, as the present invention, have to allow pre-existing receivers to continue to function. The advantages of the present invention listed above relative to Fishman (specific songs can be deleted to make room for ads, ads can be targeted to specific subscribers, ads are less likely to be lost in transmission, ads that are lost in transmission are replaced by similar ads, audit information is provided to the broadcaster and advertiser, and the radio receiver is more secure) are also advantages over Morrison.</p>
<p id="p-0016" num="0015">In U.S. Pat. No. 6,289,455 &#x201c;Method and apparatus for preventing piracy of digital content&#x201d; Kocher et al describe a secure CryptoFirewall which protects critical portions of memory so that cryptographic keys used by a cryptoprocessor are inaccessible to all other parts of the system. These keys are made inaccessible to avoid the danger of a pirate attempting to learn them, creating a CryptoFirewall in Kocher's terminology. This architecture prevents the frequent error in the implementation of cryptograpic systems of storing keys in normal read-write memory where the keys are potentially accessible to piracy. The thinking behind this frequent error is that keys need to be written when entered and read when used for encryption or decryption. While this is true, allowing keys to be read by parts of the system which have no need for them other than for piracy, is extremely dangerous. Kocher, however, makes no use of commercials or of tiered subscription services.</p>
<p id="p-0017" num="0016">In U.S. Pat. No. 6,434,622 &#x201c;Multicasting method and apparatus&#x201d; Monteiro et al use multicasting over the Internet to target advertising based on user demographics.</p>
<p id="p-0018" num="0017">In US Patent Application 2004/0083487 Collens et al describe a media distribution system which delivers content to a user in encrypted form and then delivers keys to unlock the content on a specific playback device.</p>
<heading id="h-0004" level="1">DEFINITIONS</heading>
<p id="p-0019" num="0018">For ease of exposition within the claims of this patent, the word subset has its normal mathematical meaning, and means a proper subset or the entire set. Similarly, the word portion means a proper portion (i.e., less than the whole) or the whole; and some includes the possibility of all. If a subset must be a proper subset, the term proper subset will explicitly be used; if a portion must be a proper portion, the term proper portion will explicitly be used; and, if some does not include the possibility of all, some, but not all will explicitly be used.</p>
<p id="p-0020" num="0019">For ease of exposition within the claims of this patent the word portion includes the union of one or more subportions. For example, if a signal lasts from 0 to 100 seconds, a first portion of the signal might last from 0 to 1 seconds, and a second portion of the signal might last from 10 to 11 seconds. The first portion and second portion, taken together, also constitute a portion of the signal.</p>
<p id="p-0021" num="0020">For ease of exposition within the claims of this patent, phrases such as &#x201c;inserting content A into content B&#x201d; includes both the possibility that some of content B is deleted to make room for inserted content A, and the possibility that all of content B is retained when content A is inserted.</p>
<p id="p-0022" num="0021">For ease of exposition within the claims of this patent, in terms such as &#x201c;reproduce substantially all program content transmitted on said current program channel during the time periods receivers in said first proper subset are specifying said current program channel,&#x201d; the phrase substantially all is used to account for minor losses of the program content, such as unavoidably occur due to delays in tuning to a new channel.</p>
<heading id="h-0005" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0023" num="0022">While the invention is illustrated using specific technologies and examples, all such technologies and examples are intended solely for clarity of illustration, and not by way of limitation. Similar technologies and examples known in the art or developed in the future can be substituted without departing from the spirit of the invention. Unless otherwise stated, all descriptions below are of the preferred embodiment. For clarity of exposition, that limitation will not be repeated each time it applies and is tacit.</p>
<p id="p-0024" num="0023">Similarly, whenever an embodiment is said to use any method or device known to accomplish a goal, that includes both methods known currently or developed in the future. Again for clarity of exposition, the inclusion of methods developed in the future is tacit.</p>
<p id="p-0025" num="0024">According to the present invention, a broadcaster can offer subscribers a tiered approach to subscription fees and subscriber (or receiver) privileges in which subscribers have the option of fewer (or no) commercials if they pay a higher fee, or more commercials if they pay a lower (or no) fee. Pre-existing receivers, which were built without thought to such tiered service, will continue to work, but all such pre-existing receivers are assigned to the same tier.</p>
<p id="p-0026" num="0025">While the present invention lends itself to any plurality of tiers of receiver privileges and with any level of commercials on each tier, for simplicity of exposition, much of the description uses two tiers, one with no commercials and one with commercials. It should be understood, however, that with minor modifications that would be obvious to one skilled in the art, the same description applies to three or more tiers.</p>
<p id="p-0027" num="0026">To improve the efficiency of the system, commercials and other additional information are sent on an auxiliary channel, typically a digital sub-channel of the primary broadcast channel, and stored in memory (preferably flash semiconductor memory, but alternatively a hard disk drive, optical memory, or any other kind of memory) in the receiver. The normal channel contains the commercial free version of the program. A receiver controller, implemented via a microprocessor and associated software, receives receiver commands from the transmitter which allow pre-existing receivers and subscribers at the higher tier to receive the commercial free version uninterrupted, but substitutes stored commercials for a portion of the normal program broadcast for lower tier subscribers. The portion of the normal program that is deleted to make room for commercials is specified by the broadcaster as part of the receiver commands that the broadcaster sends to the receiver.</p>
<p id="p-0028" num="0027">The above-described method requires much less additional bandwidth than the doubling required by the simple &#x201c;two broadcasts for each channel&#x201d; method. This is because commercials or other additionally transmitted information are recorded in memory. Such stored commercials can be repeated a number of times and can be used on numerous channels, but need to be transmitted only once on the auxiliary channel. It is even possible to have no bandwidth expansion by using receiver commands to tell the receiver to record specific commercials from existing program channels. For example, both Sirius and XM currently have commercials on their talk channels, with only their music channels being commercial free. Even in this event, the recorded commercials will be regarded as &#x201c;additional information&#x201d; since they are in addition to the program content of the commercial free program channels.</p>
<p id="p-0029" num="0028">Cryptographic and physical security precautions are used to deter even sophisticated thieves from pirating the higher tier privileges without paying the associated subscription fee.</p>
<p id="p-0030" num="0029">Broadcasts of songs particularly lend themselves to inserting stored commercials in place of some program content since a typical song is about three minutes long, allowing commercial breaks of that length, or approximate multiples thereof. The lengths of the commercials can be chosen (both initially on recording and later on playback) to allow seamless continuity of the broadcast to both tiers of subscribers. For example, by having commercials of varying lengths, the receiver controller can be directed (from a central control at the broadcast studio) or decide (on its own) or use some combination thereof, to determine which commercials to insert in place of a given song of a particular length in order to have virtually no dead space or overlap. Short overlaps are not annoying and can be made even more pleasing by using a &#x201c;fade-in/fade-out&#x201d; transition.</p>
<p id="p-0031" num="0030">The present invention allows different stored commercials to be chosen for different subscribers. The receiver controller can either access (if stored locally) or be directed by (if stored remotely) a subscriber database which indicates which commercials are likely to be of most interest to each subscriber or class of subscribers and therefore of most value to advertisers. Because a local database can be updated over the broadcast channel (by directing the update to a specific receiver or a specific class of receivers), even a local database can contain information not directly accessible at the receiver.</p>
<p id="p-0032" num="0031">The database can make use of the subscriber's listening habits. For example, subscribers who listen to classical stations are more likely to buy books, so that ads for bookstores can be directed to those subscribers. As another example, using the zip code of the subscriber allows subscribers from wealthy communities to receive more brokerage house ads, while subscribers from economically deprived communities could receive more ads from discount stores. More elaborate databases can make use of on-line searches, on-line browsing habits, buying patterns, credit reports, etc. as allowed by law and custom. Such finely tuned advertising is attracting an ever larger share of available funds as evidenced by Google's financial success, and the present invention allows broadcasters to compete in that market.</p>
<p id="p-0033" num="0032">Subscribers can be grouped into classes (e.g., all subscribers in a particular zip code) or assigned commercials on an individual basis.</p>
<p id="p-0034" num="0033">For use with broadcast radio, either terrestrial- or satellite-based, any dead space after insertion of the additional information is filled with short segments of music, DJ patter, etc. which can be stored along with commercials in the receiver's memory, and are also considered &#x201c;additional information&#x201d; herein.</p>
<p id="p-0035" num="0034">Television broadcast of news also lends itself to inserting stored commercials in place of some content since news segments of several minutes are typical, again allowing commercial breaks of that duration or multiples thereof.</p>
<p id="p-0036" num="0035">Some radio and most television broadcasts consist of longer segments, requiring a slightly different approach. Using a 20-minute TV sitcom in a 30-minute time slot as an example, the channel could broadcast the uninterrupted sitcom in the first 20 minutes and non-commercial material of interest to the viewer (e.g., best scenes from previous episodes of the sitcom, or interviews with the actors) during the final 10 minutes of the 30-minute slot. The receiver controller in each subscriber's receiver would allow higher tier subscribers to receive the material as broadcast, but would interrupt the first 20 minutes of broadcast at appropriate points and insert commercials sent over an auxiliary channel, while buffering the rest of the sitcom in memory for playback after the commercials. With current technology, such content buffering would preferably be on hard disk, but any form of memory that is or becomes economically viable can be used.</p>
<p id="p-0037" num="0036">The present invention includes a reverse channel from the receiver to the broadcaster for auditing which commercials have been listened to by which subscribers. This information allows advertisers to be billed on the basis of how many and what type of subscriber has heard their ads. It also eliminates the cost of Arbitron, Nielsen, or similar ratings organizations and provides more accurate and timely information. The present invention includes mechanisms that prevent subscribers who are commercial-supported from skipping over commercials or turning to other sources of entertainment (e.g., a CD player) when commercials are scheduled.</p>
<p id="p-0038" num="0037">As described thus far, pre-existing receivers that do not have the receiver controller for inserting commercials would receive commercial-free service since that is what is broadcast on the normal content channel. It is possible to reverse the order and broadcast content with commercials in the normal channel and have stored non-commercial material inserted by the receiver controller for higher tier subscribers. In that case, pre-existing receivers would receive content with commercials.</p>
<heading id="h-0006" level="1">Multiplexing</heading>
<p id="p-0039" num="0038">Multiplexing techniques known in the art are used in the present invention to share the data rate of the channel to deliver commercials, database updates, receiver commands and other material for storage in the receiver's memory while still delivering normal program content. Multiplexing techniques include, for example, time-division multiple access (TDMA), frequency-division multiple access (FDMA), code-division multiple access (CDMA, also known as spread spectrum modulation), and the use of packet-based protocols such as the TCP/IP (Transmission Control Protocol/Internet Protocol).</p>
<p id="p-0040" num="0039">Sirius and XM already use multiplexing to send approximately 100 channels of program entertainment over the spectrum licensed to them by the FCC. XM also uses multiplexing to send real-time weather information to aircraft and other users who have paid for this service. Sirius has promised to add video services and will use multiplexing techniques to send this new content.</p>
<p id="p-0041" num="0040">Sirius and XM each have approximately 10 Mbps (megabits per second) of digital transmission bandwidth available to them. Using 10 Mbps for illustrative purposes, this data rate can be used to provide 100 program channels at 100 kbps each, but both services make use of the fact that talk channels sound acceptable at lower data rates than music channels and allocate less bandwidth per talk channel. Because classical music and its listeners are even more demanding than other music offerings, classical music channels are often allocated a higher data rate than rock and roll.</p>
<p id="p-0042" num="0041">Sirius even dynamically allocates its data rate, using different data rates at different times on each channel. For example, a classical music channel which has been allocated a larger than normal data rate can be backed off to a lower data rate when the announcer is telling listeners the details of the next piece to be played. Conversely, a talk channel can be allocated extra data rate when a short piece of music is being played, for example as part of a commercial.</p>
<p id="p-0043" num="0042">In the present invention such multiplexing techniques are used to communicate the normal program broadcast, additional information (e.g., commercials) for storage at the receiver, and receiver commands (e.g., commands telling the receiver the tier of service to which it is entitled, local database updates, which songs to delete to make room for commercials, which commercials to insert, which commercials to record, etc.). In the case of Sirius and XM, this involves allocating some of their approximately 10 Mbps total data rate for communicating additional information, particularly commercials, needed by the present invention. However, it will also be obvious to one skilled in the art that other channels (e.g., an auxiliary radio channel, a CD-ROM sent by mail, the Internet) can also be used to communicate the additional information required provided that the receiver includes an input port to accept information over one of these other channels. Also, as noted earlier, commercials can be recorded from existing program channels which contain commercials.</p>
<heading id="h-0007" level="1">Encryption Operations</heading>
<p id="p-0044" num="0043">The preferred embodiment uses NIST's Advanced Encryption Standard (AES) for all required conventional (symmetric) encryption operations. AES is specified in FIPS PUB 197 available from the Government Printing Office. AES allows 128, 192 and 256-bit keys. AES has a 128-bit block size, meaning that plaintext (unencrypted data) is operated on in 128-bit portions to produce 128-bit ciphertext portions, and vice versa.</p>
<p id="p-0045" num="0044">If a plaintext, other than a key which is to be encrypted, is longer than 128 bits, the plaintext is broken into 128-bit blocks and encrypted using AES in cipher block chaining (CBC) mode as defined in NIST Special Publication 800-38A &#x201c;Recommendation for Block Cipher Modes of Operation.&#x201d; For example, a content segment (CS) consisting of three minutes of audio encoded at 128 kbps is 23,040,000 bits long and will be broken into 180,000 plaintext content segment blocks, each 128 bits long, denoted CS<sub>1</sub>, CS<sub>2</sub>, . . . CS<sub>180000 </sub>which are encrytped into encrypted content segments (ECS's) consisting of 180,000 128-bit blocks ECS<sub>1</sub>, ECS<sub>2</sub>, . . . ECS<sub>180000 </sub>via the relation
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>ECS</i><sub>i</sub><i>=E</i><sub>KOM</sub>(<i>CS</i><sub>i</sub><i>+ECS</i><sub>i-1</sub>) for <i>i=</i>1, 2, . . . , 180000<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where E<sub>K</sub>(P) denotes AES encryption of the 128-bit quantity P under key K, + denotes the XOR operation (bit-by-bit addition mod-2), KOM is a 128-bit Key Of the Month used to encrypt content segments within a given set (e.g., intended for a given tier of subscribers), and ECS<sub>0 </sub>is an initialization vector as defined in NIST Special Publication 800-38A &#x201c;Recommendation for Block Cipher Modes of Operation.&#x201d; The inverse, decrypting operation is
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>CS</i><sub>i=D</sub><sub>KOM</sub>(<i>ECS</i><sub>i</sub>)+<i>ECS</i><sub>i-1 </sub>for <i>i=</i>1, 2, . . . , 180000<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where D<sub>K</sub>(C) denotes AES decryption of the 128-bit quantity C under key K.
</p>
<p id="p-0046" num="0045">While not used in the preferred embodiment, any keys longer than 128 bits are encrypted using AES's Counter Mode, as described in NIST Special Publication 800-38A &#x201c;Recommendation for Block Cipher Modes of Operation.&#x201d; Counter mode has the advantage that the resultant ciphertext is the same length as the plaintext, even if the plaintext is not a multiple of the 128-bit AES block size. In contrast, CBC mode pads out any partial plaintext blocks since CBC must act on multiples of the block size.</p>
<p id="p-0047" num="0046">Keys, such as keys of the month, which are 128 bits in length are encrypted using AES's Electronic Code Book (ECB) Mode, as described in NIST Special Publication 800-38A &#x201c;Recommendation for Block Cipher Modes of Operation.&#x201d;</p>
<p id="p-0048" num="0047">User authorization messages are sent monthly to each subscriber's receiver indicating the tier of service to which that user's receiver is entitled and providing one or more keys of the month to give that receiver access to all encrypted content segments included on that tier of service's programs for that month. A user authorization message consists of the following fields:
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0048">a 48-bit field specifying the serial number of the user's receiver;</li>
        <li id="ul0002-0002" num="0049">a 32-bit field specifying the current date and time;</li>
        <li id="ul0002-0003" num="0050">a 4-bit field specifying the month for which the authorization is valid;</li>
        <li id="ul0002-0004" num="0051">a 4-bit field specifying the tier of service to which the user is entitled;</li>
        <li id="ul0002-0005" num="0052">a 128-bit field specifying the key of the month for the authorized tier of service; and</li>
        <li id="ul0002-0006" num="0053">a 160-bit field providing a digital signature, produced by the broadcaster, proving that the user authorization message is legitimate.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0049" num="0054">In the preferred embodiment, each receiver is manufactured with a unique serial number (accessible to its microprocessor) and a 256-bit cryptographic key (hereafter its device key) so that messages can be addressed to a particular receiver and, when appropriate, be encrypted in a manner that only that receiver can decrypt. (In alternative embodiments serial numbers and/or cryptographic keys may be shared by more than one unit, for example when all billed to the same account. In another alternative embodiment, each receiver has mulitple device keys.) Since 2<sup>48 </sup>is approximately 280 trillion, a 48-bit serial number allows as many receivers as desired to be manufactured without running out of serial numbers.</p>
<p id="p-0050" num="0055">A receiver's device key is also used to authenticate information received by the broadcaster from that receiver over the reverse channel, using a message authentication code (MAC) such as NIST's CMAC Mode with AES, specified in NIST Special Publication 800-38B &#x201c;Recommendation for Block Modes of Operation: The CMAC Mode for Authentication&#x201d; and available from the US Government Printing Office.</p>
<p id="p-0051" num="0056">The current date and time, accurate to one second in 100 years, can be specified by a 32-bit number. The month for which the authorization is valid can be specified by a 4-bit number, allowing authorizations up to 16 months beyond the month of the current date and time. Time can either be absolute or relative.</p>
<p id="p-0052" num="0057">Under the reasonable assumption that there are no more than 16 tiers of service, another 4-bit number can specify the tier of service to which the user is entitled.</p>
<p id="p-0053" num="0058">A key of the month for the authorized tier of service is a 128-bit quantity and is sent to each receiver encrypted in Electronic Code Book Mode by AES in that receiver's 256-bit device key so that the key of the month cannot be used by receivers other than the one for which the user authorization message was intended. In the preferred embodiment, higher tier subscribers who receiver fewer or no commercials are sent more than one key of the month because program content segments which are replaced by additional information content segments (e.g., commercials) are encrypted in a different key of the month from program content segments that are accessible to lower tiers of subscribers. In embodiments with N tiers of service, this gives rise to the need for N keys of the month, with the lowest tier of subscribers getting only one (lowest value) key of the month, and highest tier subscribers getting all N keys of the month. (In an alternative embodiment, the lowest tier subscribers do not need a key of the month and program content segments accessible to the lowest tier are not encrypted.) The use of multiple keys of the month for higher tier subscribers allows higher tier subscribers to access more program content segments than lower tier subscribers. It also prevents lower tier subscribers from gaining access to unauthorized content even if they hack their receivers and override receiver commands which substitute commercials for some program content.</p>
<p id="p-0054" num="0059">The 160-bit digital signature is used to prevent opponents from injecting spurious messages which might cause receivers to use an incorrect key of the month, thereby sabotaging the broadcasting service in a form of denial of service attack. (The digital signature is not needed to prevent receivers from accessing tiers of service to which they are not legitimately entitled because the keys of the month for those tiers of service will not be known to an unauthorized receiver). Digital signatures are known in the art and are described for example in NIST's FIPSPUB 186-2 &#x201c;Digital Signature Standard (DSS)&#x201d;, available on-line at NIST's web site or through the Government Printing Office. FIPSPUB 186-2 requires the use of the Secure Hash Algorithm (SHA) described in NIST's FIPSPUB 180-1, &#x201c;Secure Hash Standard&#x201d;, also available on-line at NIST's web site or through the Government Printing Office. The variant of SHA described in FIPSPUB 180-1 is called SHA-1 since it is slightly different from, and more secure than, the original FIPSPUB 180's SHA without the -1 suffix. While the DSS allows variants, the preferred embodiment uses 160-bit signatures as specified therein. The preferred embodiment uses public key cryptography's digital signatures instead of conventional cryptography's message authentication codes (MAC's) to avoid placing the broadcaster's secret key in any receiver. This way, even if an opponent takes apart a receiver and learns the broadcaster's public key used to authenticate the digital signature, the opponent is unable to generate new digital signatures from it. Alternative embodiments can use other digital signatures (e.g., RSA) or MAC's.</p>
<heading id="h-0008" level="1">Reasons for Different Key Lengths</heading>
<p id="p-0055" num="0060">As noted above, device keys are 256 bits long and keys of the month are 128 bits long. There are two reasons for these different key lengths. First, the value of the information protected by each class of key is different and the use of longer keys to protect more valuable data is standard practice. In order of their economic value the keys are:
<ul id="ul0003" list-style="none">
    <li id="ul0003-0001" num="0000">
    <ul id="ul0004" list-style="none">
        <li id="ul0004-0001" num="0061">256-bit device keys protect keys of the month,</li>
        <li id="ul0004-0002" num="0062">128-bit keys of the month protect content segments.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0056" num="0063">Second, as will be described in detail later, the present invention is designed to make sure that the two classes of protected data (keys of the month and content segments) are directed only to those portions of the receiver where they are intended to go. Using different key sizes prevents an opponent who is able to hijack less secure portions of the receiver (e.g., its microprocessor) from issuing commands which might allow him to see a class of protected data in a portion of the receiver where it is not intended. For example, if the key size were the same for both classes of protected data, the opponent might be able to trick the cryptoprocessor into decrypting a key of the month as if it were a content segment and thereby have it appear in the less secure portion of the receiver where decrypted content segments reside. In that way, he might then be able to learn the key of the month for dissemination to a large group of pirate users not authorized to have access to that tier of service.</p>
<heading id="h-0009" level="1">Missing Content Segments</heading>
<p id="p-0057" num="0064">As described in detail later, the preferred embodiment uses a Reed-Solomon erasure-correcting code to increase the probability that each receiver has received and stored in memory all addditional information content segments (e.g., commercials) before they are needed. Even so, there is a chance that a receiver command sent by the broadcaster will instruct a receiver to use an addditional information content segment from memory that has not yet been received, for example due to a prolonged signal dropout. The preferred embodiment is designed so that such a missing content segment causes little or no disruption to the listening experience.</p>
<p id="p-0058" num="0065">For example, if a receiver command instructs a receiver to substitute a specific commercial for a portion of the program content and that commercial is not yet available at the receiver, then an earlier commercial for the same product which is in memory is used instead. In the preferred embodiment, commercials for a given product are numbered consecutively, in which case the receiver uses the highest numbered commercial for a specified product if the specified commercial is missing. If no commercials for the specified product are available at the receiver, the receiver use a commercial for the same advertiser. If none of those are available, the receiver uses a sequence of generic station announcements usable on any channel and that were stored in non-volatile memory at the time the receiver was manufactured. Software at the receiver chooses the sequence of generic station announcements to minimize dead space or overlap and uses fade-in-fade-out techniques on any overlap of content segments thus produced.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0010" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0059" num="0066">The foregoing and other objects of the invention will be more clearly understood from reading the following description of the invention in conjunction with the accompanying drawings in which:</p>
<p id="p-0060" num="0067"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic diagram illustrating a broadcast satellite radio system;</p>
<p id="p-0061" num="0068"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram of an exemplary embodiment of a radio transmitter;</p>
<p id="p-0062" num="0069"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram of an exemplary embodiment of a receiver;</p>
<p id="p-0063" num="0070"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram of an exemplary embodiment of a transmitter communication protocol;</p>
<p id="p-0064" num="0071"><figref idref="DRAWINGS">FIG. 5</figref> depicts the structure of an exemplary embodiment of an erasure-correcting code;</p>
<p id="p-0065" num="0072"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram of an exemplary embodiment of a receiver (receiver) communication protocol; and</p>
<p id="p-0066" num="0073"><figref idref="DRAWINGS">FIG. 7</figref> is a block diagram of an exemplary embodiment of a cryptoprocessor.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0011" level="1">DETAILED DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0067" num="0074">Having generally described the present invention, a further understanding can be obtained by reference to the specific preferred embodiments, which are provided herein for purposes of illustration only and are not intended to limit the scope of the appended claims.</p>
<p id="p-0068" num="0075"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a broadcast satellite radio service in which broadcaster <b>100</b> sends a signal to ground transmitting antenna <b>101</b>. The signal sent from ground transmitting antenna <b>101</b> is received by satellite receiving antenna <b>102</b> located on communication satellite <b>103</b>. The signal received by satellite receiving antenna <b>102</b> is processed (e.g., frequency translated and amplified) in transponder <b>104</b> located within communication satellite <b>103</b>. The output of transponder <b>104</b> is fed to satellite transmitting antenna <b>105</b> for broadcast to subscribers.</p>
<p id="p-0069" num="0076">While a typical system will have thousands or millions of subscribers, both stationary and mobile, for illustrative purposes <figref idref="DRAWINGS">FIG. 1</figref> shows one mobile subscriber in an automobile with roof mounted automobile receiving antenna <b>106</b>. The signal received by automobile receiving antenna <b>106</b> is input to receiver <b>107</b> to produces an audio frequency signal that is output by loudspeaker <b>108</b>.</p>
<p id="p-0070" num="0077">The preferred embodiment of the present invention includes a reverse channel <b>112</b> for communicating information from receiver <b>107</b> to broadcaster <b>100</b>, utilizing reverse channel transmitting antenna <b>110</b>. While reverse channel <b>112</b> can be any channel known in the art, in a mobile environment such as that depicted in <figref idref="DRAWINGS">FIG. 1</figref>, the preferred embodiment reverse channel <b>112</b> is a cell phone channel; and in a fixed environment, the preferred embodiment reverse channel <b>112</b> is the Internet, in which case reverse channel transmitting antenna <b>110</b> is not needed.</p>
<p id="p-0071" num="0078">The preferred embodiment also includes a demographic information aggragator <b>120</b> (abbreviated as Demo Info Agg <b>120</b> in <figref idref="DRAWINGS">FIG. 1</figref>) which provides demographic information to broadcaster <b>100</b> which allows finely targeted advertising to individual subscribers based on on-line searches, on-line browsing habits, buying patterns, and credit reports.</p>
<p id="p-0072" num="0079">While <figref idref="DRAWINGS">FIG. 1</figref> shows a typical realization, clearly, other possibilities, known in the art are possible within the spirit of the present invention. For example, loudspeaker <b>108</b> could be replaced by a headset, or a terrestrial repeater could be transmitting the signal received by automobile receiving antenna <b>106</b>. The receiving antenna <b>106</b>, receiver <b>107</b>, and loudspeaker <b>108</b> can be located in a home, office, or other location.</p>
<p id="p-0073" num="0080">For the sake of clarity, while these and other modifications to the figures are possible and will be obvious to one skilled in the art, the remainder of this description will deal solely with the system shown in <figref idref="DRAWINGS">FIG. 1</figref>, it being understood that such modifications are included in the scope of the present invention. Similarly, for sake of clarity, aspects of the system not germane to the present invention and well understood in the art, are not shown.</p>
<p id="p-0074" num="0081"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram providing a more detailed view of broadcaster <b>100</b> of <figref idref="DRAWINGS">FIG. 1</figref>. Broadcaster controller <b>200</b> accesses and updates information, preferably in digital form, in multiple databases. While the number and type of databases can vary, for purposes of illustration, <figref idref="DRAWINGS">FIG. 2</figref> shows a subscriber database <b>201</b>, a program content database <b>202</b>, an advertisement database <b>203</b>, and an other inputs database <b>204</b>. Broadcaster controller <b>200</b> also receives information from reverse channel <b>112</b> such as the listening habits of different subscribers.</p>
<p id="p-0075" num="0082">Subscriber database <b>201</b> contains a listing of unique identifying numbers (e.g., serial numbers) built into each receiver <b>107</b>; the tier of service authorized for each receiver <b>107</b> (e.g., with or without commercials); demographic information for the user(s) of each receiver <b>107</b> (e.g., zip code, occupation, etc., as well as which channels are listened to, as communicated via reverse channel <b>112</b>); and a list of device keys stored in each receiver <b>107</b>, used to encrypt certain information communicated to and from broadcaster <b>100</b> and receiver <b>107</b>. The device keys can be for a conventional (symmetric) cryptosystem such as the Data Encryption Standard (DES) or the newer Advanced Encryption Standard (AES), or for a public key system such as RSA or the Digital Signature Standard (DSS). The preferred embodiment uses an AES device key. Also in the preferred embodiment, the device key stored in a particular receiver <b>107</b> will be different from the device keys stored in all other receivers <b>107</b>, and subscriber data base <b>201</b> includes information supplied by a third party, such as a web portal or search engine company, to allow finely targeted demographic advertising.</p>
<p id="p-0076" num="0083">Program content database <b>202</b> contains program content <b>211</b>, abbreviated PC <b>211</b> in <figref idref="DRAWINGS">FIG. 2</figref> and consisting in the preferred embodiment of music, talk shows, etc., which form the program content of the approximately one hundred channels offered by broadcaster <b>100</b>. (Alternative embodiments can have as few as one channel or more than one hundred.) Program content <b>211</b> is divided into program content segments, each identified by a unique 32-bit program content segment number header. Program content segment numbers are used by broadcaster controller <b>200</b> to designate which program content segments are to be deleted to make room for commercials and other additional information for various tiers of subscribers.</p>
<p id="p-0077" num="0084">Program content database <b>202</b> also contains information communicated over reverse channel <b>112</b> telling broadcaster <b>100</b> statistics on the listening history of receiver <b>107</b>. (This information can be obtained for each receiver or, at reduced cost but with some sampling error, on a subset of all receivers.) When combined with demographic information contained in subscriber database <b>201</b>, this eliminates the need for Arbitron, Nielsen or similar outside ratings agencies. Ratings information derived via reverse channel <b>112</b> is also available on an almost real-time basis, whereas outside agencies often have long delays in providing ratings.</p>
<p id="p-0078" num="0085">Other inputs database <b>204</b> is optional and, for example, can contain real-time studio broadcasts or sporting events which forms a part of program content <b>211</b>.</p>
<p id="p-0079" num="0086">Advertisement database <b>203</b> contains additional information <b>212</b> to be transmitted to and stored by receiver <b>107</b>. Additional information <b>212</b> includes commercials and other material that are substituted for a portion of program content <b>211</b> for one or more tiers of subscribers. To facilitate such substitution, additional information <b>212</b> is divided into additional information content segments, each identified by a unique 32-bit additional information content segment number header. Additional information content segment numbers are used by broadcaster controller <b>200</b> to designate which additional information content segments are to be inserted in place of deleted program content segments for various tiers of subscribers. Additional information content segments are communicated using transmitter communication protocol software <b>220</b>. (Program content segments may also be communicated using transmitter communication protocol software <b>220</b> if pre-existing receivers can support that protocol.)</p>
<p id="p-0080" num="0087">For billing advertisers, advertisement database <b>203</b> also stores information received over reverse channel <b>112</b> indicating how often each commercial has been listened to by various demographic subsets of subscribers.</p>
<p id="p-0081" num="0088">Based on the contents of databases <b>201</b>, <b>202</b>, <b>203</b> and <b>204</b>, broadcaster controller <b>200</b> generates receiver commands <b>210</b> (abbreviated RCs <b>210</b> in <figref idref="DRAWINGS">FIG. 2</figref>) which are transmitted to the plurality of receivers <b>107</b> along with program content <b>211</b> (abbreviated PC <b>211</b> in <figref idref="DRAWINGS">FIG. 2</figref>) and additional information <b>212</b> (abbreviated AI <b>212</b> in <figref idref="DRAWINGS">FIG. 2</figref>).</p>
<p id="p-0082" num="0089">Receiver commands <b>210</b> include the tier of service to which a subscriber's receiver <b>107</b> is entitled, which additional information content segments are to be substituted for which program content segments for which demographic subsets of subscribers (including the possibility of subsets consisting of just one subscriber, and subsets that consist of one or more entire tiers of subscribers). Program content <b>211</b> is the normal program for each channel of entertainment, and additional information <b>212</b> consists primarily of commercials, but also filler material, and in some embodiments demographic data.</p>
<p id="p-0083" num="0090">Broadcaster controller <b>200</b> uses multiplexing techniques known in the art (e.g., see Patsiokas U.S. Pat. No. 6,785,656) to combine receiver commands <b>210</b>, program content <b>211</b> and additional information <b>212</b> into a digital bit stream which is presented to modulator <b>205</b> so that the digital bit stream can be modulated onto an RF carrier signal. This modulated signal is then amplified by RF amplifier <b>206</b> and transmitted to communication satellite <b>103</b> via ground transmitting antenna <b>101</b>.</p>
<p id="p-0084" num="0091"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram providing a more detailed view of receiver <b>107</b> of <figref idref="DRAWINGS">FIG. 1</figref>. Automobile receiving antenna <b>106</b> is connected to RF tuner <b>310</b> so that an appropriate signal strength is presented to digital demodulator <b>315</b>. Filtering, to minimize the effects of out-of-band signals also takes place in RF tuner <b>310</b> and/or digital demodulator <b>315</b>. Digital demodulator <b>315</b> outputs a digital bit stream to buffer <b>320</b>. Digital demodulator also outputs a signal quality indicator <b>340</b> to microprocessor <b>325</b>, for example the signal-to-noise ratio, so that microprocessor <b>325</b> knows when good and bad data are likely to be received. In alternative embodiments signal quality indicator <b>340</b> can be created by RF tuner <b>310</b> or microprocessor <b>325</b>. For example, as described later, microprocessor <b>325</b> uses an error-correcting and detecting code on each received packet. Also also described later, if this code indicates an uncorrectable error, microprocessor <b>325</b> has an extremely strong indication that signal quality was poor.</p>
<p id="p-0085" num="0092">Using techniques known in the art (e.g., see Patsiokas U.S. Pat. No. 6,785,656), packet header or similar information allows microprocessor <b>325</b> to demultiplex the digital bit stream into separate substreams representing program content <b>211</b>, receiver commands <b>210</b>, and additional information <b>212</b> (including commercials). Receiver commands <b>210</b> (see <figref idref="DRAWINGS">FIG. 2</figref>) transmitted by broadcaster <b>100</b> divide each demultiplexed channel of program content into program content segments, each identified by its associated program content segment number so that other receiver commands <b>210</b> can specify which program content segments are to be deleted to make room for additional information content segments such as commercials.</p>
<p id="p-0086" num="0093">Optionally, microprocessor <b>325</b> can provide tuning instructions <b>345</b> to RF tuner <b>310</b> and digital demodulator <b>315</b>, telling them which program channel(s) of the received signal to demodulate. For example, if the subscriber has specified that she wants to listen to the 60's music channel, microprocessor <b>325</b> can provide this information to the digital demodulator <b>315</b> so that it need not expend any resources decoding content that is not of interest. In embodiments where RF tuner <b>310</b> and digital demodulator <b>315</b> are capable of demodulating more than one channel at a time, microprocessor <b>325</b> provides tuning instructions <b>345</b> instructing them to tune to and demodulate the current channel specified by the subscriber plus one or more other channels that, based on past behavior, are likely to be requested in the future. The other demodulated channels are stored in memory <b>332</b> for use in non-real-time listening.</p>
<p id="p-0087" num="0094">Microprocessor <b>325</b> directs a first substream of the received bit stream to memory <b>332</b> consisting of flash memory in the preferred embodiment, but in alternative embodiments, consisting of any form of memory or any combination of memories (e.g., RAM and a hard disk drive). The first substream stored in memory <b>332</b> includes a subset of receiver commands <b>210</b>, a subset of program content <b>211</b> (for use in non-real-time applications), and additional information <b>212</b> such as commercials and &#x201c;filler&#x201d; content used to fill any dead space after commercials are inserted for lower tier subscribers. Filler content includes short segments of music, channel announcements (e.g., &#x201c;You're listening to the 60's channel.&#x201d;) DJ patter, etc.</p>
<p id="p-0088" num="0095">Microprocessor <b>325</b> directs a second substream of the received bit stream to D/A converter <b>365</b> to be converted into an analog signal for amplification by audio amplifier <b>370</b> and output to loudspeaker <b>108</b>. This second substream of the received bitstream includes unencrypted program content <b>211</b> that the subscriber has requested, for example unencrypted portions of the 60's music channel.</p>
<p id="p-0089" num="0096">Microprocessor <b>325</b> directs a third substream of the received bit stream to cryptoprocessor <b>335</b>. This third substream of the received bitstream includes encrypted program content <b>211</b> that the subscriber has requested, for example encrypted portions of the 60's music channel. This third substream of the received bitstream also includes other encrypted data, such as encrypted keys of the month (described later) contained in certain receiver commands <b>210</b> known as user authorization messages.</p>
<p id="p-0090" num="0097">A fourth substream of the received bitstream, are receiver commands <b>210</b> retained by microprocessor <b>325</b>. Not all of the four described substreams are necessary for the present invention. For example, the second substream (consisting of unencrypted content segements) is absent in alternative embodiments in which all content segments are encrypted.</p>
<p id="p-0091" num="0098">If receiver commands <b>210</b> indicate that the subscriber is in a lower tier and is therefore to receive commercials in place of part of program content <b>211</b> in the second and/or third substreams, receiver commands <b>210</b> tell microprocessor <b>325</b> which portion of the program content substream to delete to make room for commercials and which commercials (and other additional information such as filler content) are to be inserted. In an alternative embodiment, microprocessor <b>325</b> can participate in or make the decision on which program content segments to delete and which additional information content segments to insert.</p>
<p id="p-0092" num="0099">When receiver commands <b>210</b> tell microprocessor <b>325</b> that one or more additional information content segments are to be substituted for one or more program content segments, microprocessor <b>325</b> accesses the specified additional information content segments stored in memory <b>332</b> and substitutes the bit sequence representing the specified additional information content segments for the specified portion of the program content bitstream. Lower tier listeners thus hear only part of the normal content interrupted by commercials, while higher tier listeners hear all of the program content for the channel that they have selected, without any commercial interruptions.</p>
<p id="p-0093" num="0100">In the preferred embodiment, receiver commands <b>210</b> that instruct microprocessor <b>325</b> to substitue one or more additional information content segments for one or more program content segments are of the following form:
<ul id="ul0005" list-style="none">
    <li id="ul0005-0001" num="0000">
    <ul id="ul0006" list-style="none">
        <li id="ul0006-0001" num="0101">(SUBSET, CH, T<b>1</b>, T<b>2</b>, N<b>1</b>, N<b>2</b>, P<sub>1</sub>, P<sub>2</sub>, . . . , P<sub>N1</sub>, AI<sub>1</sub>, AI<sub>2</sub>, . . . , AI<sub>N2</sub>)</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0094" num="0102">SUBSET delimits the set of subscribers to which the receiver command <b>210</b> applies, using any of the techniques known in the art. For example, a single subscriber can be specified by the unique identifying number of his receiver <b>107</b>; an entire tier of subscribers can be specified by their tier number; and the set of subscribers with a given billing zip code can be specified by their zip code. A prefix within the SUBSET field specifies which method of specifying a subset (e.g., zip code vs. a receiver's unique identifying number) is being used. For example, when an 8-bit portion of SUBSET is reserved, then 256 different kinds of descriptions can be used with 00000000 specifying that the rest of SUBSET is the unique identifying number of a receiver <b>107</b>; with 00000001 specifying that the rest of SUBSET is a zip code; etc. The SUBSET field is made large enough so that the longest possible specification can be accommodated.</p>
<p id="p-0095" num="0103">CH is the channel number to which receiver command <b>210</b> applies (alternative embodiments can specify a set of channels), T<b>1</b> is the start time of the program material to be deleted, T<b>2</b> is the end time of the program material to be deleted, N<b>1</b> is the number of program content segments specified to be delted, N<b>2</b> is the number of additional information content segments specified to be substituted (inserted), P<sub>1 </sub>is the program content segment number of the first program content segment specified to be deleted, P<sub>2 </sub>is the program content segment number of the second program content segment specified to be deleted, . . . , P<sub>N1 </sub>is the program content segment number of the last program content segment specified to be deleted, AI<sub>1 </sub>is the additional information content segment number of the first additional information content segment specified to be substituted, AI<sub>2 </sub>is the additional information content segment number of the second additional information content segment specified to be substituted, . . . and AI<sub>N2 </sub>is the additional information content segment number the last additional information content segment specified to be substitured.</p>
<p id="p-0096" num="0104">Periodically, broadcaster <b>100</b> transmits a real-time clock signal as a sequence of receiver commands <b>210</b> so that microprocessor <b>325</b> knows when T<b>1</b> and T<b>2</b> occur. Microprocessor <b>325</b> checks that the program content segments in the time interval T<b>1</b>-T<b>2</b> have program content segment numbers (included as part of the header of the transmitted program content segments) equal to P<sub>1</sub>, P<sub>2</sub>, . . . , P<sub>N1</sub>. If a discrepancy is observed, microprocessor <b>325</b> ignores receiver command <b>210</b> and neither deletes any program content nor substitutes any additional information content based on the erroneous receiver command <b>210</b>. Such a discrepancy is logged as an error condition in an error log in memory <b>332</b>.</p>
<p id="p-0097" num="0105">If no discrepancy is observed, microprocessor <b>325</b> checks that the specified additional information content segments AI<sub>1</sub>, AI<sub>2</sub>, . . . , AI<sub>N2 </sub>are in memory <b>332</b>. If one or more of the specified additional information content segments are missing, microprocessor <b>325</b> substitutes alternative additional information content segments for the missing specified additional information content segments, using the techniques described earlier (e.g., using an older commercial for the same product), and logs the problem in error log in memory <b>332</b>. Microprocessor <b>325</b> then carries out receiver command <b>210</b> and logs this event in a commercial log in memory <b>332</b>.</p>
<p id="p-0098" num="0106">While this substitution is in progress, microprocessor <b>325</b> monitors the audio signal picked up by digital microphone <b>350</b> (i.e., it includes a D/A converter) and uses pattern recognition techniques (signature analysis) known in the art to determine whether or not the additional information content segment(s) specified by receiver command <b>210</b> were output through loudspeaker <b>108</b>. Such monitoring provides assurance that commercials really were played and that the subscriber did not turn down the volume of receiver <b>107</b> or switch to another audio source (e.g., a CD) during the substituted additional information content segments. The results of this monitoring are also recorded in the commercial log in memory <b>332</b>.</p>
<p id="p-0099" num="0107">The preferred pattern recognition/signature analysis technique is for microprocessor <b>325</b> to compute the mean squared error between the signal output by digital microphone <b>350</b>, normalized to have unit power, and the signal representing the additional information content segment (typically an advertisement) specified by receiver command <b>210</b>, also normalized to have unit power. Because the time series representing these two signals is subject to an unknown delay, the mean squared error is computed on the Fourier series amplitude spectrum of these same two normalized signals. (The Fourier series amplitude spectrum of a signal is essentially invariant under small time shifts.)</p>
<p id="p-0100" num="0108">Non-real-time playback of audio broadcasts is finding wider application as described, for example, by Marko in U.S. Pat. No. 6,564,003 and Hellman in U.S. Provisional Patent Application Ser. No. 60/698786 &#x201c;Storage-Based Media Broadcasting and Distribution System.&#x201d; When audio broadcasts are played back from memory in non-real-time, the subscriber usually has the option of skipping or repeating content segments. The present invention is applicable both to real-time and non-real-time audio broadcasts. When used with non-real-time audio broadcasts, the preferred embodiment records the real-time clock signals transmitted as receiver commands <b>210</b> by broadcaster <b>100</b> and associates them with the corresponding point (bit or byte) within the content segment being broadcast at that point in time. Thus a receiver command <b>210</b> of the form specified above
<ul id="ul0007" list-style="none">
    <li id="ul0007-0001" num="0000">
    <ul id="ul0008" list-style="none">
        <li id="ul0008-0001" num="0109">(CH, T<b>1</b>, T<b>2</b>, N<b>1</b>, N<b>2</b>, P<sub>1</sub>, P<sub>2</sub>, . . . , P<sub>N1</sub>, AI<sub>1</sub>, AI<sub>2</sub>, . . . , AI<sub>N2</sub>)
<br/>
can be used by the present invention in both real-time and non-real-time (recorded) applications. In non-real-time use, T<b>1</b> and T<b>2</b> refer to the time of broadcast, not the time of playback.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0101" num="0110">User interface <b>360</b> includes
<ul id="ul0009" list-style="none">
    <li id="ul0009-0001" num="0000">
    <ul id="ul0010" list-style="none">
        <li id="ul0010-0001" num="0111">visual output (via visual display <b>380</b>) to communicate information to the user;</li>
        <li id="ul0010-0002" num="0112">audio output (via D/A converter <b>365</b>, audio amplifier <b>370</b> and loudspeaker <b>108</b>) to communicate information to the user and to output program content segments and additional information content segments (collectively &#x201c;content segments&#x201d;) for audio reproduction;</li>
        <li id="ul0010-0003" num="0113">a an ON/OFF switch;</li>
        <li id="ul0010-0004" num="0114">a volume control;</li>
        <li id="ul0010-0005" num="0115">a channel selector;</li>
        <li id="ul0010-0006" num="0116">ten preset buttons for rapidly choosing among ten channels set by the user (e.g., by holding a preset button for more than two seconds to set it to the currently active channel);</li>
        <li id="ul0010-0007" num="0117">a band button for moving the ten preset buttons to one of three bands denoted A, B, and C, thereby expanding the presets from ten to thirty with the addition of just one button;</li>
        <li id="ul0010-0008" num="0118">a pause button which, when depressed momentarily, tells receiver <b>107</b> to pause playing the current content segment (also muting receiver <b>107</b>) and, when depressed again, tells receiver <b>107</b> to resume playing the current content segment;</li>
        <li id="ul0010-0009" num="0119">a skip button which, when depressed momentarily, tells receiver <b>107</b> to skip the remainder of the current content segment or, when held down, to fast forward through the current content segment (the skip button is disabled during certain content segments, such as commercials);</li>
        <li id="ul0010-0010" num="0120">a repeat button which, when depressed momentarily, tells receiver <b>107</b> to return to the beginning of the current content segment or, when held down, to rapidly rewind back through the current content segment;</li>
        <li id="ul0010-0011" num="0121">a menu button to bring up menus for various user preferences (e.g., changing display characteristics, etc.); and</li>
        <li id="ul0010-0012" num="0122">a buy button which, when activated, indicates the user wishes to purchase the audio content currently being played.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0102" num="0123">The pause, skip and repeat buttons may be absent from a receiver <b>107</b> designed solely for real-time broadcast reception.</p>
<p id="p-0103" num="0124">The skip and fast forward operations are disabled when certain content segments such as commercials are being played. These content segments are specified by setting a DoNotSkip bit in the content segment header to 1, while all other content segments have this bit set to 0. When the skip button is depressed, microprocessor <b>325</b> checks the DoNotSkip bit of the currently playing content segment and only carries out the requested operation if that bit is set to 0. To prevent the subscriber from thinking that his receiver <b>107</b> is broken when it fails to respond to the skip button, microprocessor <b>325</b> causes a message to be communicated to the user (e.g., by playing an audio announcement) which states that the skip button is currently disabled and suggesting that the subscriber purchase a higher tier subscription, after which microprocessor <b>325</b> causes the interrupted content segment to restart from its beginning. Optionally, microprocessor <b>325</b> can also cause commercials which are muted to be replayed until they are loud enough to be detected by digital microphone <b>350</b>.</p>
<p id="p-0104" num="0125">Microprocessor <b>325</b> maintains a program log in memory <b>332</b> which tracks which program channels were listened to and for how long. The program log also maintains information tracking which content segments were repeated or rewound (via the repeat button of user interface <b>360</b>) and which content segments were skipped or fast forwarded (via the skip button of user interface <b>360</b>). This part of the program log is used to produce ratings for each channel, programs within a channel, and content segments within a program.</p>
<p id="p-0105" num="0126">Microprocessor <b>325</b> maintains a purchase log in memory <b>332</b> which tracks which audio content segments have been purchased by the subscriber.</p>
<p id="p-0106" num="0127">Periodically, microprocessor <b>325</b> causes the error log, commercial log, program log, and purchase log stored in memory <b>332</b> along with receiver <b>107</b>'s unique identifying number (e.g., serial number) to be transmitted to broadcaster <b>100</b> via reverse channel transmitter <b>390</b> and reverse channel transmitting antenna <b>110</b>. Receipt of the error log allows broadcaster <b>100</b> to improve and debug the system. Receipt of the commercial log allows broadcaster <b>100</b> to bill advertisers, including billing based on subscriber demographics. Receipt of the program log allows almost real-time ratings to be assigned to each channel, to each program within a channel, and to each content segment within a program. Receipt of the purchase log allows broadcaster <b>100</b> to bill subscribers for purchased music, to send keys or other unlocking mechanisms to allow access to purchased music, and to make royalty payments to music publishers.</p>
<p id="p-0107" num="0128">The channel log also provides additional demographic information (e.g., subscribers who listen primarily to classical music have different statistical demographics from those who listen primarily to hard rock) to broadcaster <b>100</b> which is used in choosing which additional information content segments, including commercials, to substitute for each subscriber who is in a tier of service which receives additional information content segments.</p>
<p id="p-0108" num="0129"><figref idref="DRAWINGS">FIG. 4</figref> depicts the preferred embodiment of transmitter communication protocol software <b>220</b>. A data segment (e.g., a commercial) is operated on by basic packetizer <b>410</b> to output a sequence of raw packets <b>415</b>, denoted R<sub>1</sub>, R<sub>2</sub>, . . . R<sub>k</sub>. For example, if data segment <b>405</b> consists of a three minute audio content segment encoded at 128 kbps, it is 2,880,000 bytes (2.88 MB) long. The packet length utilized by basic packetizer <b>410</b> is optimized based on the characteristics of the satellite radio channel over which the packets will be sent, with a 10 kilobyte (10 kB) packet length being typical. Such a packet is 80 kbits long and takes slightly over half a second to send at a typical data rate of 150 kbps. This is short enough that a fade out (as in driving through a null in the signal) during transmission of a packet is not likely, yet long enough that packet overhead, discussed below, is not an undue burden. Under these assumptions, the 2.88 MB data segment <b>405</b> is broken into two hundred eighty-eight raw packets <b>415</b> denoted R<sub>1</sub>, R<sub>2</sub>, . . . R<sub>288</sub>, each 10 kB long, so that k=288.</p>
<p id="h-0012" num="0000">Erasure-Correcting Code</p>
<p id="p-0109" num="0130">Raw packets <b>415</b> are encoded by erasure-correcting encoder <b>420</b> to produce processed packets <b>425</b>, denoted P<sub>1</sub>, P<sub>2</sub>, . . . P<sub>n</sub>. In the preferred embodiment, processed packets <b>425</b> are the same length as raw packets <b>415</b> but n&#x3e;k. To a first approximation, the satellite radio channel is either error-free (or has few enough errors that the forward-error-correcting code, or FEC, discussed later can correct them) or totally noisy. The essentially error-free state occurs when receiver <b>107</b> has a clear view of satellite transmitting antenna <b>105</b>, while the totally noisy state occurs when receiver <b>107</b> is in a garage or tunnel or otherwise cannot see satellite transmitting antenna <b>105</b>. The totally noisy state also occurs when receiver <b>107</b> is turned off. However, the preferred embodiment uses low power electronics and/or a backup battery so that receiver <b>107</b> can be turned on all the time for purposes of receiving the portion of the bitstream to be stored in memory <b>332</b>. This &#x201c;totally error-free or totally noisy&#x201d; approximation to the satellite radio channel is an erasure channel (i.e., receiver <b>107</b> knows when errors can occur). A minor exception is the few packets that occur at the transitions between these two states. They are only partially erased but, in the preferred embodiment, are treated as total erasures.</p>
<p id="p-0110" num="0131">Any erasure-correcting code known in the art can be used by erasure-correcting encoder <b>420</b>, with the preferred embodiment using Reed-Solomon codes over GF(2<sup>16</sup>). Some alternative embodiments are random codes, Tornado codes, and Luby Transform codes. See, for example, U.S. Pat. Nos. 6,614,366, 6,486,803, 6,411,223, 6,373,406, 6,320,520, and 6,307,487 and US Patent Applications 2001/0019310, 2002/0087685, 2002/0107968, 2002/0129159, 2002/0190878, 2003/0058958, 2003/0226089, 2004/0021588, 2004/0075593, and 2004/0101274. Another alternative embodiment uses the Reed-Solomon code in burst-error-correcting mode rather than erasure-correcting mode, which embodiment makes better use of partially erased packets.</p>
<p id="p-0111" num="0132">Reed-Solomon codes are used to correct erasures on audio CD's. Erasures on audio CD's occur in blocks where a manufacturing defect or a speck of dust obliterates a small area of the CD. This small area, however, contains a large number of bits. The defect can be identified either by the SNR at the analog level or by error detecting bits after demodulation, transforming the problem into one of erasure correction. CD erasure correction uses a Reed-Solomon code over GF(2<sup>8</sup>) coupled with interleaving.</p>
<p id="p-0112" num="0133">In the case of transmission of data packets over the satellite radio channel, erasures will mostly be packets lost due to the receiver <b>107</b> being unable to see satellite transmitting antenna <b>105</b> and again can be identified either by SNR at the analog level (e.g., signal quality indicator <b>340</b> of <figref idref="DRAWINGS">FIG. 3</figref>) and/or by error-correcting/detecting bits after demodulation. Reed-Solomon codes are in widespread use so that custom IC decoders (e.g., Philips Semiconductors part number SAA7207H_C1) are available and can be integrated into the preferred custom chip implementation of receiver <b>107</b>'s electronics. See also De Marzi et al U.S. Pat. No. 6,594,794 &#x201c;Reed-Solomon decoding of data read from DVD or CD supports&#x201d; and Huang U.S. Pat. No. 6,061,760 &#x201c;Controller circuit apparatus for CD-ROM drives.&#x201d;</p>
<p id="p-0113" num="0134">Unlike audio CD erasure correction, the preferred embodiment uses Reed-Solomon codes over GF(2<sup>16</sup>) and is able to eliminate interleaving because of the stronger erasure-correcting properties of the larger field. Codeword symbols are 16 bits (2 bytes) long, and the block length of the code is (2<sup>16</sup>&#x2212;1)=65,535. For reasons described below, this code will usually be shortened by only sending some of the 65,535 possible symbols.</p>
<p id="p-0114" num="0135"><figref idref="DRAWINGS">FIG. 5</figref> depicts the structure of the preferred Reed-Solomon encoding performed by erasure-correcting encoder <b>420</b> on a 2.88 MB data segment <b>405</b>, broken into 288 packets with 10 kB in each packet, such as the three minute audio content segment considered above. Since the Reed-Solomon code operates on symbols consisting of 2 bytes each, each 10 kB packet is 5,000 symbols long and is shown as a row in <figref idref="DRAWINGS">FIG. 5</figref>. The first raw packet <b>415</b> is the same as the first processed packet <b>425</b> (i.e., R<sub>1</sub>=P<sub>1</sub>) and consists of the first 10 kB or 5,000 2-byte-symbols of the 2.88 MB data segment <b>405</b>. The second raw packet <b>415</b> is the same as the second processed packet <b>425</b> (i.e., R<sub>2</sub>=P<sub>2</sub>) and consists of the next 10 kB of the 2.88 MB data segment <b>405</b>. The same is true up to and including the 288<sup>th </sup>packet, which consists of the last 10 kB of the 2.88 MB data segment <b>405</b>. The 289<sup>th </sup>through 65535<sup>th </sup>processed packets <b>425</b> (i.e., P<sub>289 </sub>through P<sub>65535</sub>) are functions of the 2.88 MB data segment <b>405</b> and, in general, are not equal to any raw packets. Rather, they are formed by treating each column of <figref idref="DRAWINGS">FIG. 5</figref> as a Reed-Solomon codeword over GF(2<sup>16</sup>), with each column encoded by the same Reed-Solomon encoder.</p>
<p id="p-0115" num="0136">When a Reed-Solomon code with the above parameters is used on an erasure channel it is capable of recovering all 288 information symbols in a column when any 288 of the transmitted symbols in that same column have been received. Thus for example, the first column of <figref idref="DRAWINGS">FIG. 5</figref> consists of the Reed-Solomon codeword (s<sub>1,1</sub>, s<sub>2,1</sub>, s<sub>3,1</sub>, . . . s<sub>65535,1</sub>) with information symbols (s<sub>1,1</sub>, s<sub>2,1</sub>, s<sub>3,1</sub>, . . . s<sub>288,1</sub>), and any 288 of the 65,535 encoded symbols (s<sub>1,1</sub>, s<sub>2,1</sub>, s<sub>3,1</sub>, . . . s<sub>65535,1</sub>) determine the information symbols (s<sub>1,1</sub>, s<sub>2,1</sub>, s<sub>3,1</sub>, . . . s<sub>288,1</sub>). The same is true for each column, so any 288 processed packets <b>425</b> determine the 288 raw packets <b>415</b> which constitute the 2.88 MB data segment <b>405</b>. Reed-Solomon codes are optimal in this application since it is impossible to recover 2.88 MB of information with less than 2.88 MB of received data.</p>
<p id="p-0116" num="0137">Luby et al (e.g., U.S. Pat. Nos. 6,614,366, 6,486,803, 6,411,223, 6,373,406, 6,320,520, and 6,307,487 and US Patent Applications 2001/0019310, 2002/0087685, 2002/0107968, 2002/0129159, 2002/0190878, 2003/0058958, 2003/0226089, 2004/0021588, 2004/0075593, and 2004/0101274) have developed other erasure-correcting codes sometimes called Luby Transform (LT) codes or digital fountain codes. These codes may require less decoding effort than Reed-Solomon codes, but at the expense of being slightly suboptimal in that they typically require 1-10% more than 2.88 MB of received data to reconstruct the 2.88 MB data segment <b>405</b>. The preferred embodiment of the present invention uses Reed-Solomon codes because:
<ul id="ul0011" list-style="none">
    <li id="ul0011-0001" num="0000">
    <ul id="ul0012" list-style="none">
        <li id="ul0012-0001" num="0138">Bandwidth is a scarce resource and is likely to become even dearer relative to computational costs, making the bandwidth optimal Reed-Solomon codes a better choice than the computationally more efficient digital fountain codes.</li>
        <li id="ul0012-0002" num="0139">Because the columns of <figref idref="DRAWINGS">FIG. 5</figref> are all encoded with the same Reed-Solomon code and packets are either received error-free or erased, the decoding effort can be amortized over the 5,000 rows of <figref idref="DRAWINGS">FIG. 5</figref>, effectively dividing most of the computational burden by a factor of 5,000. This greatly reduces the advantage of more computationally efficient, but less bandwidth efficient codes.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0117" num="0140">Different strategies are used by transmitter communication protocol software <b>220</b> for different types of data segments <b>405</b> and, in particular, to determine the times, if any, that transmitter communication protocol software <b>220</b> transmits processed packets <b>425</b>, P<sub>1</sub>-P<sub>65535</sub>. (For clarity of exposition, it will sometimes be said that transmitter communication protocol software <b>220</b> transmits packets whereas, to be precise, it causes them to be transmitted by modulator <b>205</b> and RF amplifier <b>206</b>. Also for clarity of exposition, one or more processed packets <b>425</b> {P<sub>i</sub>} will sometimes be referred to merely as packets {P<sub>i</sub>}.)</p>
<p id="p-0118" num="0141">First consider the case where the 2.88 MB data segment <b>405</b> consists of a three-minute audio content segment that is of low priority (e.g., a commercial that is to be used a week or more in the future). Transmitter communication protocol software <b>220</b> first transmits P<sub>1</sub>-P<sub>289</sub>, the first 289 rows depicted in <figref idref="DRAWINGS">FIG. 5</figref>. When transmitting all but the last such packet, P<sub>289</sub>, this strategy is no different from the simple method of transmitting data segment <b>405</b> with no encoding (other than that provided by transmitter packet processor <b>430</b> of <figref idref="DRAWINGS">FIG. 4</figref>, discussed in the section &#x201c;Packet Overhead&#x201d; below) since, as shown in <figref idref="DRAWINGS">FIG. 5</figref>, P<sub>1</sub>-P<sub>288 </sub>constitute the unencoded 2.88 MB song (the 288 raw packets R<sub>1</sub>-R<sub>288</sub>). The last packet of this first transmission, P<sub>289</sub>, is redundant and is only of value if one or more of packets P<sub>1</sub>-P<sub>288 </sub>are erased (e.g., if receiver <b>107</b> cannot see satellite transmitting antenna <b>105</b> during part of this transmission).</p>
<p id="p-0119" num="0142">If receiver <b>107</b> can see satellite transmitting antenna <b>105</b> at the time of these transmissions and at most one packet of P<sub>1</sub>-P<sub>289 </sub>is erased by a momentary fade (e.g., multipath), then at least 288 of these 289 transmitted processed packets <b>425</b> are received. A Reed-Solomon decoder in receiver <b>107</b> (stored as software in memory <b>332</b> of <figref idref="DRAWINGS">FIG. 3</figref>, or implemented in special purpose hardware in receiver <b>107</b>) can then recover the 2.88 MB data segment <b>405</b> and make it available to receiver <b>107</b> whenever a receiver command <b>210</b> calls for it to be played.</p>
<p id="p-0120" num="0143">The redundant P<sub>289 </sub>was included in this first transmission since occasional fades occur on the satellite radio channel. If P<sub>289 </sub>had not been included, a much larger fraction of receivers <b>107</b> would not have access to the 2.88 MB data segment <b>405</b> based on just this first transmission. Alternative embodiments transmit more than one or no redundant processed packets <b>425</b>, depending on the characteristics of the satellite radio channel and the time urgency of receiver <b>107</b> receiving this data segment <b>405</b>.</p>
<p id="p-0121" num="0144">If receiver <b>107</b> can see satellite transmitting antenna <b>105</b> at the time of these transmissions (of P<sub>1</sub>-P<sub>289</sub>) but more than one packet of P<sub>1</sub>-P<sub>289 </sub>is erased by momentary fades, then less than 288 of these 289 transmitted processed packets <b>425</b> are received, less than 2.88 MB of information is received, and it is clearly impossible for the Reed-Solomon decoder in receiver <b>107</b> to recover the 2.88 MB data segment <b>405</b>. However, in the case of multiple fades while receiver <b>107</b> can see satellite transmitting antenna <b>105</b>, receiver <b>107</b> will typically need only a few additional packets from those not yet transmitted (i.e., P<sub>290</sub>-P<sub>65535</sub>).</p>
<p id="p-0122" num="0145">If receiver <b>107</b> cannot see satellite transmitting antenna <b>105</b> at the time of these transmissions (of P<sub>1</sub>-P<sub>289</sub>), then none of P<sub>1</sub>-P<sub>289 </sub>are received and receiver <b>107</b> knows nothing about the 2.88 MB data segment <b>405</b>.</p>
<p id="p-0123" num="0146">After transmitter communication protocol software <b>220</b>'s first attempt to communicate the data segment <b>405</b> by transmitting P<sub>1</sub>-P<sub>289</sub>, it waits 1-2 days before making additional transmissions. The time separation between these transmissions is randomized as opposed to, for example, once every 24 hours since some users will always be out of range of FM transmitter <b>130</b> at a particular time of day (e.g., when they are in an underground parking garage during work hours). Transmitter communication protocol software <b>220</b>'s second attempt to communicate the song transmits packets P<sub>290</sub>-P<sub>578 </sub>of <figref idref="DRAWINGS">FIG. 5</figref>. The 289 packets are just as informative about the song as were P<sub>1</sub>-P<sub>289 </sub>and the Reed-Solomon decoder is able to reconstruct the song from any 288 of the total 578 total packets transmitted in the first and second attempts. Thus, for example, receiver <b>107</b> can reconstruct the 2.88 MB data segment <b>405</b> if
<ul id="ul0013" list-style="none">
    <li id="ul0013-0001" num="0000">
    <ul id="ul0014" list-style="none">
        <li id="ul0014-0001" num="0147">receiver <b>107</b> could not see satellite transmitting antenna <b>105</b> during the first attempted transmission, but loses at most one packet from the second attempted transmission; or</li>
        <li id="ul0014-0002" num="0148">there were multiple fades during both attempted transmissions, but at least 288 packets are received in total.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0124" num="0149">Additional attempts at transmitting the 2.88 MB data segment <b>405</b> proceed in a similar manner to the first and second. At some point in this process (the third in the preferred embodiment) fewer than 289 packets are sent since most receivers <b>107</b> will have received either enough or almost enough packets to reconstruct the 2.88 MB data segment <b>405</b>.</p>
<p id="p-0125" num="0150">In the above example, transmitter communication protocol software <b>220</b> used only a small fraction of the 65,535 possible packets shown in <figref idref="DRAWINGS">FIG. 5</figref>. Hence erasure-correcting encoder <b>420</b> uses a shortened Reed-Solomon code as opposed to a complete Reed-Solomon code. Operating over GF(2<sup>16</sup>) allows a larger number of packets than will be needed in all or almost all situations. Alternative embodiments can operate over smaller or larger finite fields than GF(2<sup>16</sup>).</p>
<p id="p-0126" num="0151">The above example was illustrative of transmitter communication protocol software <b>220</b> transmitting a low priority data segment <b>405</b>. Transmitter communication protocol software <b>220</b> transmits different numbers of packets on each transmission attempt, depending on the time urgency of data segment <b>405</b>, bandwidth availability, characteristics of the satellite radio channel, etc. If a 2.88 MB data segment <b>405</b> had a high time urgency (e.g., a commercial for which the advertiser is paying a premium and which needs to air the next day), more than 289 packets are sent on the first attempt to allow reconstruction with more than one erased packet, and additional attempts at transmission are done within hours, rather than the 1-2 days of the former example.</p>
<p id="h-0013" num="0000">Transmitter Packet Processing</p>
<p id="p-0127" num="0152">Transmitter packet processor <b>430</b> of <figref idref="DRAWINGS">FIG. 4</figref> operates on processed packets <b>425</b> (P<sub>1</sub>, P<sub>2</sub>, . . . P<sub>n</sub>) to produce data packets <b>435</b>, denoted D<sub>1</sub>, D<sub>2</sub>, . . . D<sub>n</sub>. Data packets <b>435</b> are then transmitted to receivers <b>107</b> at the times specified in the immediately preceding section using modulator <b>205</b>, RF amplifier <b>206</b>, and ground transmitting antenna <b>101</b> of <figref idref="DRAWINGS">FIG. 2</figref> via the satellite radio channel.</p>
<p id="p-0128" num="0153">Each data packet <b>325</b> is slightly longer than each processed packet <b>425</b> due to overhead introduced by transmitter packet processor <b>430</b>. In the preferred embodiment the overhead is contained in a packet header which consists of:
<ul id="ul0015" list-style="none">
    <li id="ul0015-0001" num="0000">
    <ul id="ul0016" list-style="none">
        <li id="ul0016-0001" num="0154">an 11-bit Barker code synchronization field (e.g. 11100010010);</li>
        <li id="ul0016-0002" num="0155">a 5-bit version number field specifying the protocol version number;</li>
        <li id="ul0016-0003" num="0156">an 8-bit packet type field;</li>
        <li id="ul0016-0004" num="0157">a 16-bit packet length field;</li>
        <li id="ul0016-0005" num="0158">a 32-bit data segment ID field;</li>
        <li id="ul0016-0006" num="0159">a 16-bit data segment length field;</li>
        <li id="ul0016-0007" num="0160">a 16-bit packet ID field; and</li>
        <li id="ul0016-0008" num="0161">a 64-bit error correction and detection field.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0129" num="0162">Barker codes, also called Barker sequences, are known in the art as having desirable properties for synchronization. Digital demodulator <b>315</b> of <figref idref="DRAWINGS">FIG. 3</figref> includes an analog or digital matched filter for the Barker code used. In the absence of noise, the matched filter outputs a large signal only at the end of the Barker code which digital demodulator <b>315</b> uses in known techniques to acquire synchronization with broadcaster <b>100</b> of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0130" num="0163">The 5-bit protocol version number field is used so that receiver <b>107</b> can tell if it is using outdated protocol software, in which case receiver <b>107</b> must wait for an update of the protocol software, which update will be transmitted using an earlier protocol. If binary protocol number 11111 is reached, the next protocol number is taken cyclically to be number 00000. Protocols change infrequently enough that this cyclic nature of protocol numbering has virtually no chance of confusing receiver <b>107</b>.</p>
<p id="p-0131" num="0164">The 8-bit packet type field allows up to 256 different types of packets, for example additional information content segments, software updates, and various types of receiver commands.</p>
<p id="p-0132" num="0165">The 16-bit packet length field gives the length of the packet in bytes, allowing packet lengths up to 65,535 bytes. In alternative embodiments, packet lengths are specified in multiples of some fixed number of bytes, bits or other entities. If, for example, this fixed number is 2 and represents 2 bytes, then the 16-bit packet length field specifies half of the packet length in bytes, rounded up. Partial packets are filled with zeros or using other techniques known in the art.</p>
<p id="p-0133" num="0166">For packets conveying content segments the 32-bit data segment ID field specifies a content segment number for the content segment being conveyed. For packets conveying information other than content segments, the 32-bit data segment ID field can be used for other purposes or filled with zeros or any other value.</p>
<p id="p-0134" num="0167">The Reed-Solomon decoder in receiver <b>107</b> which corrects erasures needs to know k, the number of raw packets associated with data segment <b>405</b> of <figref idref="DRAWINGS">FIG. 4</figref> (e.g., k=288 in <figref idref="DRAWINGS">FIG. 5</figref>). The number of raw packets associated with data segment <b>405</b> is specified by the 16-bit data segment length field, allowing up to 2<sup>16</sup>=65,536 packets per data segment.</p>
<p id="p-0135" num="0168">The 16-bit packet ID field specifies the packet number within a data segment <b>405</b>. For example, <figref idref="DRAWINGS">FIG. 5</figref> depicts the 65,535 packets that can be used to convey a 2.88 MB data segment, and this field will contain the index of the packet (e.g., <b>290</b> for P<sub>290 </sub>shown in <figref idref="DRAWINGS">FIG. 5</figref>).</p>
<p id="p-0136" num="0169">The 64-bit error correction and detection field is redundant information used to correct single errors and detect virtually all multiple errors. When receiver <b>107</b> can see satellite transmitting antenna <b>105</b>, the satellite radio channel typically has a bit error rate (BER) on the order of 1E-6. Processed packets <b>425</b> are 80,168 bits long (80,000 bits of data plus 168 bits of overhead as specified above for the various header fields), so the probability that a packet is received error-free is 0.999999<sup>80168</sup>=92.3%; the probability of a single error is 80168* 0.999999<sup>80167</sup>*1E-6=7.4%; and the probability of two or more errors is 0.3%. Hence 99.7% of received packets are error-free after application of a single error-correcting decoder, and only about one packet in 300 has uncorrectable errors.</p>
<p id="p-0137" num="0170">In almost all situations, the undetected error rate P(e) can be upper-bounded by computing P(e) for a totally noisy channel. On a totally noisy channel, all 2<sup>80168 </sup>possible received points are equally likely, there are 2<sup>80104 </sup>codewords, and each codeword has a decoding region of volume 80169 (1 point for the codeword plus 80168 points that differ in one position from the codeword). Hence, on a totally noisy channel
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>P</i>(<i>e</i>)=2<sup>8104</sup>* 80169/2<sup>80168</sup>=80169*2<sup>&#x2212;64</sup>=4.3<i>E</i>-15<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
and undetected errors are virtually non-existent.
</p>
<p id="p-0138" num="0171">Any error-correcting and detecting code known in the art can be used, with the preferred embodiment being a shortened binary BCH code. Since unshortened binary BCH codes have lengths which are one less than a power of two and processed packets <b>425</b> are 80,168 bits long, the unshortened block length of the BCH code is one less than the next highest power of two, or 2<sup>17</sup>&#x2212;1=131,071 bits. As is known in the art, the BCH code is shortened by taking the first 131,071&#x2212;80,153=50,918 bits to be zero and not sending them since they are known a priori. Methods for choosing the generator polynomial of this code and implementing the code in hardware are also known in the art. See, for example, R. Gallager, <i>Information Theory and Reliable Communication</i>, Wiley, N.Y., 1968, pp. 224-225 for the encoding circuitry (FIG. <b>6</b>.<b>5</b>.<b>5</b> being preferred) and pp. 238-239 for choosing the generator polynomial.</p>
<p id="h-0014" num="0000">Receiver (Receiver) Packet Processing</p>
<p id="p-0139" num="0172"><figref idref="DRAWINGS">FIG. 6</figref> depicts the operation of receiver communication protocol software <b>326</b> of <figref idref="DRAWINGS">FIG. 3</figref> and largely mirrors <figref idref="DRAWINGS">FIG. 4</figref> which depicts the transmitter communication protocol software <b>220</b>. Received data packets <b>605</b>, RD<sub>1</sub>-RD<sub>n</sub>, are noisy versions of (transmitted) data packets <b>435</b>, D<sub>1</sub>-D<sub>n</sub>, and are input to receiver packet processor <b>610</b> for processing. While the preferred embodiment makes use of signal quality indicator <b>340</b> of <figref idref="DRAWINGS">FIG. 3</figref> to only input received data packets <b>605</b> that are of sufficient quality, for simplicity of exposition the embodiment depicted in <figref idref="DRAWINGS">FIG. 6</figref> presents all received data packets <b>605</b>.</p>
<p id="p-0140" num="0173">Receiver packet processor <b>610</b> makes use of various fields in the 168-bit packet header described in the section &#x201c;Transmitter Packet Processing&#x201d; immediately above.</p>
<p id="p-0141" num="0174">To acquire synchronization, receiver packet processor <b>610</b> first computes the Hamming distance (number of bit differences) between the received and transmitted versions of the 11-bit Barker code synchronization field 11100010010 and uses these differences in known techniques to correct any synchronization errors. For example, if the receiver should slip one bit late the leftmost bit is lost and instead of 11100010010 it will see 1100010010X where X is the first bit of the next field. Depending on the value of X, this will cause five or six errors in the received Barker code and a perceived bit error rate (BER) of approximately 50%. In contrast, when the receiver is synchronized with the transmitter, the perceived BER will be the BER of the satellite radio channel, typically 1E-6.</p>
<p id="p-0142" num="0175">Microprocessor <b>325</b> can use any technique known in the art for acquiring synchronization. For example, when receiver <b>107</b> is first powered up, microprocessor <b>325</b> can wait for signal quality indicator <b>340</b> to indicate that receiver <b>107</b> can see satellite transmitting antenna <b>105</b>, at which point microprocessor <b>325</b> looks for occurences of the 11 bit Barker code 11100010010 in the received bit stream stored in buffer <b>320</b>. Whenever this sequence occurs, microprocessor <b>325</b> then uses the other fields in the presumed packet header to process the presumed packet under direction of receiver packet processor software <b>610</b> as detailed below. If the error correction and detection decoder described below does not indicate an uncorrectable error, then the presumed packet is taken as a valid packet and synchronization is acquired. Since, as derived in the immediately preceding section, the error correction and detection decoder has at most a 4.3E-15 probability of not detecting an uncorrectable error, the probability of a false synchronization is also at most 4.3E-15 which, for all practical purposes, is zero.</p>
<p id="p-0143" num="0176">Once initial synchronization is acquired in this manner, microprocessor <b>325</b> monitors the BER on the Barker code portion of successive packets and, if this BER is greater than a threshhold, 1E-3 in the preferred embodiment, microprocessor <b>325</b> tries moving synchronization plus or minus one bit, then plus or minus two bits, looking for a BER less than the threshhold. If none of these attempts produces a BER less than the threshhold, microprocessor <b>325</b> assumes synchronization has been totally lost and reverts to the synchronization acquisition strategy outlined above.</p>
<p id="p-0144" num="0177">Receiver packet processor <b>610</b> next uses the 16-bit packet length field to determine the end of the packet and computes the syndrome of the received packet as the XOR of the computed 64-bit error correction and detection field with the received value, again using the circuitry depicted in Gallager, op cit, page 225, FIG. <b>6</b>.<b>5</b>.<b>5</b>. If the 64-bit syndrome is all 0's then the received packet is error free or has undetectable errors, but since the undetected error rate is less than 4.3E-15, the packet can safely be assumed to be error-free.</p>
<p id="p-0145" num="0178">If the syndrome has any 1's then an error correction phase is attempted by microprocessor <b>325</b> (or, in alternative embodiments, special purpose circuitry). The error-correcting phase can use any method known in the art, with the preferred embodiment using the known technique of a table lookup on non-zero syndromes to specify the single bit location to correct. Any such corrected packets then have their syndromes recomputed and accepted as valid only if the recomputed syndrome is all 0's. Any packets which fail to pass this test are discarded, considered erased, and not operated on further. (Alternative embodiments make use of these packets instead of discarding them, for example, by using the Reed-Solomon code in burst error-correcting mode instead of erasure-correcting mode.)</p>
<p id="p-0146" num="0179">Receiver packet processor <b>610</b> next compares the 5-bit protocol number field with the operative protocol number that receiver <b>107</b> was last instructed to use by a receiver command <b>210</b>. Except in rare circumstances, the two values will agree. If they disagree, receiver <b>107</b> knows that it has missed a protocol update and must wait until the protocol update is received. Until the protocol is updated receiver <b>107</b> also indicates an error condition on visual display <b>380</b>.</p>
<p id="p-0147" num="0180">After the above operations, receiver packet processor <b>610</b> waits until it has k (e.g., k=288 in <figref idref="DRAWINGS">FIG. 5</figref>) unerased processed packets <b>612</b>, denoted P<sub>i(1)</sub>, P<sub>i(2)</sub>, . . . , P<sub>i(k)</sub>, and passes these unerased processed packets <b>612</b> to erasure-correcting decoder <b>615</b>. If there were no erasures (uncorrectable errors) on the satellite radio channel, P<sub>i(1)</sub>, P<sub>i(2)</sub>, . . . , P<sub>i(k) </sub>are the same as processed packets <b>425</b> in <figref idref="DRAWINGS">FIG. 4</figref>. But because the satellite radio channel is subject to erasures, the indices of these packets [i(<b>1</b>), i(<b>2</b>), . . . , i(k)] specified by their 16-bit packet ID fields are not necessarily consecutive integers. Erasure-correcting decoder <b>615</b> uses techniques known in the art for correcting erasures with a Reed-Solomon code, for example solving k simultaneous equations in k unknowns over GF(2<sup>16</sup>) via a matrix inversion. Since each column in <figref idref="DRAWINGS">FIG. 5</figref> (where k=288) represents a Reed-Solomon codeword, once the equations are solved for column 1, the same solution coefficients can be applied to the remaining 4,999 columns, so that portion of the computational effort per recovered symbol is reduced by a factor of 5,000.</p>
<p id="p-0148" num="0181">After correcting erasures, the output of erasure-correcting decoder <b>615</b> is (R<sub>1</sub>, R<sub>2</sub>, . . . R<sub>k</sub>), the sequence of raw packets <b>415</b>, also depicted in <figref idref="DRAWINGS">FIG. 4</figref> prior to transmission. Raw packets <b>415</b> are then assembled into data segment <b>405</b> by data segment reconstructer <b>620</b> and stored in memory <b>332</b> of <figref idref="DRAWINGS">FIG. 3</figref>, along with data segment <b>405</b>'s type (determined from the 8-bit packet type field in the packet header), data segment ID number (determined from the 32-bit data segment ID field in the packet header), and length in bytes (obtained as the product of the 16-bit packet length and the 16-bit data segment length fields in the packet header, or in an alternative embodiment, by including this length as a data segment header). Data segment <b>405</b> may be in encrypted or unencrypted form, depending on its type and economic value. For example, commercials will typically be transmitted and stored in unencrypted form, while music will typically be encrypted.</p>
<p id="h-0015" num="0000">Cryptoproccesor Detail</p>
<p id="p-0149" num="0182"><figref idref="DRAWINGS">FIG. 7</figref> depicts cryptoprocessor <b>335</b> of <figref idref="DRAWINGS">FIG. 3</figref> in greater detail. Cryptoprocessor <b>335</b> is preferably part of a custom chip implementation of the electronic portion of receiver <b>107</b>. AES engine <b>700</b> implements NIST's AES algorithm as specified in FIPS PUB 197. As previously defined in the section &#x201c;Encryption Operations,&#x201d; C=E<sub>K</sub>(P) denotes the ciphertext C produced by AES encrypting the 128-bit plaintext block P under action of key K; and P=D<sub>K</sub>(C) denotes the plaintext P produced by AES decrypting the 128-bit ciphertext block C under action of key K. As implied by this notation P=D<sub>K</sub>(E<sub>K</sub>(P)) since decryption under key K is the inverse operation to encryption under key K. As described previously, receiver <b>107</b> receives the following encrypted data:
<ul id="ul0017" list-style="none">
    <li id="ul0017-0001" num="0000">
    <ul id="ul0018" list-style="none">
        <li id="ul0018-0001" num="0183">E<sub>DK</sub>(KOM) where DK is receiver <b>107</b>'s Device Key written into WORM (Write Once, Read Many times) memory <b>730</b> at the time of manufacture and KOM is one of the Keys Of the Month for the tier of service to which receiver <b>107</b> is entitled. (Alternative embodiments can entitle a receiver <b>107</b> to multiple tiers of service.) E<sub>DK</sub>(KOM) is transmitted as part of a receiver command <b>210</b>, in this case a user authorization message.</li>
        <li id="ul0018-0002" num="0184">E<sub>KOM </sub>(CS) where CS is a Content Segment such as a song.
<br/>
Receiver <b>107</b> recovers an encrypted Content Segment by:
</li>
        <li id="ul0018-0003" num="0185">first decrypting an encrypted Key Of the Month using its Device Key and storing the result in KOM protected memory <b>735</b>; and</li>
        <li id="ul0018-0004" num="0186">then decrypting the encrypted Content Segment using the now decrypted Key Of the Month and storing the result in CS protected memory <b>745</b> for output on protected bus <b>385</b> also depicted <figref idref="DRAWINGS">FIG. 3</figref>.
<br/>
As can be seen from the above two operations, receiver <b>107</b> performs only decryption operations. (Broadcaster <b>100</b> performs the corresponding encryption operations.) Therefore, while alternative embodiments also use AES in encryption mode, the preferred embodiment of receiver <b>107</b> depicted in <figref idref="DRAWINGS">FIG. 7</figref> only uses AES in decryption mode.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0150" num="0187">AES engine <b>700</b> has four ports:
<ul id="ul0019" list-style="none">
    <li id="ul0019-0001" num="0000">
    <ul id="ul0020" list-style="none">
        <li id="ul0020-0001" num="0188">a plaintext port <b>705</b>;</li>
        <li id="ul0020-0002" num="0189">a ciphertext port <b>710</b>;</li>
        <li id="ul0020-0003" num="0190">a key port <b>715</b>; and</li>
        <li id="ul0020-0004" num="0191">an instruction port <b>720</b>.
<br/>
Since receiver <b>107</b>'s AES engine <b>700</b> operates only in decryption mode, ciphertext port <b>710</b> is an input port (i.e., no data can flow out of it) and plaintext port <b>705</b> is an output port (i.e., no data can flow into it). Key port <b>710</b> is an input port since no other element of receiver <b>107</b> has a legitimate reason for trying to read a key out of AES engine <b>700</b>. Rather, once a key is input to key port <b>710</b>, it is stored in key register <b>716</b>, internal to AES engine <b>700</b> and which can only be read by AES engine <b>700</b> when instructed to decrypt a 128-bit ciphertext block by an instruction input to instruction port <b>720</b>. Instruction port <b>720</b> is also an input port.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0151" num="0192">Preferably, as depicted in <figref idref="DRAWINGS">FIG. 7</figref>, AES engine <b>700</b>'s plaintext port has two physically distinct data paths connected to two physically distinct plaintext registers. Key of the month plaintext register <b>706</b> (abbreviated as KOM PR <b>706</b>) and content segment plaintext register <b>708</b> (abbreviated as CS PR <b>708</b>). These two plaintext registers are used to temporarily store the result of decryptions by AES engine <b>700</b>. As indicated by the names of their associated plaintext registers, these two plaintext registers and data paths are used to store and communicate two different types of computed plaintexts with different economic values:
<ul id="ul0021" list-style="none">
    <li id="ul0021-0001" num="0000">
    <ul id="ul0022" list-style="none">
        <li id="ul0022-0001" num="0193">Keys Of the Month (KOMs) and</li>
        <li id="ul0022-0002" num="0194">Content Segments (CSs) or other data.
<br/>
The reason for having two physically distinct plaintext registers and data paths is to segregate these different computed plaintexts to minimize the probability that an opponent can learn the extremely valuable KOM. Further, the custom chip implementation of receiver <b>107</b>'s electronics is preferably designed with higher security (e.g., masking of data paths by metal layers) on the more valuable KOM PR <b>706</b> and its data path.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0152" num="0195">A receiver <b>107</b>'s Device Key (DK) is the most sensitive data that it stores since, if a pirate were to learn DK, he could compute KOMs for every month and tier of service to which that receiver <b>107</b> was authorized to have access. These computed KOMs could then be shared with specially produced &#x201c;pirate receivers&#x201d; which bypass any other security mechanisms (e.g., checking that the digital signature with a user authorization message is valid).While a separate plaintext register is not needed for DK since it is burned into WORM memory <b>730</b> at the factory and therefore never computed, WORM memory <b>730</b> must be protected. In particular, the data path from WORM memory <b>730</b> to key port <b>715</b> is given a high level of protection (e.g., a grounded metal overlay to foil attempts to tap into this data path with a microprobe).</p>
<p id="p-0153" num="0196">AES engine <b>700</b> is a special purpose microprocessor which performs only cryptographic operations. Hence the name &#x201c;cryptoprocessor&#x201d; for element <b>335</b> of <figref idref="DRAWINGS">FIG. 3</figref>. (Cryptoprocessor <b>335</b> includes all of the elements of <figref idref="DRAWINGS">FIG. 7</figref>, not just AES engine <b>700</b>, just as a normal microprocessor typically includes internal memory and registers.) The instruction set for AES engine <b>700</b> is extremely small and specific, allowing for a much higher level of security than with a normal microprocessor. Instructions executed by AES engine <b>700</b> are specified by microprocessor <b>325</b> of <figref idref="DRAWINGS">FIG. 3</figref> and microprocessor <b>325</b> carries out corresponding operations on public (as opposed to secret) information.</p>
<p id="p-0154" num="0197">The first instruction in AES engine <b>700</b>'s instruction set computes a 128-bit Key Of the Month for the tier of service that broadcaster <b>100</b> has authorized receiver <b>107</b> to receive. This instruction takes the form
<ul id="ul0023" list-style="none">
    <li id="ul0023-0001" num="0000">
    <ul id="ul0024" list-style="none">
        <li id="ul0024-0001" num="0198">DECRYPT_KOM(LOCATION, KOM#)
<br/>
which causes microprocessor <b>325</b> to:
</li>
        <li id="ul0024-0002" num="0199">retrieve the 128-bit Encrypted Key Of the Month EKOM, 4-bit tier of service TIER, and 4-bit month relative to the current date and time MONTH from the location in memory <b>332</b> specified by the bit string LOCATION,</li>
        <li id="ul0024-0003" num="0200">use the date and time that EKOM was received to translate the relative 4-bit MONTH field into an absolute 16-bit month field (allowing 65,536 months or over 5,000 years before cycling),</li>
        <li id="ul0024-0004" num="0201">store TIER and the computed 16-bit month field in a table of KOM information stored in memory <b>332</b> along with the location KOM# in KOM protected memory <b>735</b> where the decrypted KOM will be stored (see immediately below and note that KOM itself is never stored in memory <b>332</b>), and</li>
        <li id="ul0024-0005" num="0202">communicate EKOM to AES engine <b>700</b>'s ciphertext port <b>710</b> via bus <b>750</b> (to enhance security bus <b>750</b> can convey information from less secure parts of receiver <b>107</b> to AES engine <b>700</b>'s ciphertext port, but to no other part of AES engine <b>700</b>, and bus <b>750</b> cannot be used to retrieve information from any part of AES engine <b>700</b>);
<br/>
and causes AES engine <b>700</b> to
</li>
        <li id="ul0024-0006" num="0203">store the 128 bits of EKOM in primary ciphertext register (Primary CR) <b>711</b>,</li>
        <li id="ul0024-0007" num="0204">communicate the 256-bit Device Key DK from WORM memory <b>730</b> to AES engine <b>700</b>'s key port <b>715</b> and store DK in key register <b>716</b>,</li>
        <li id="ul0024-0008" num="0205">execute an Electronic Code Book AES decryption to produce D<sub>DK</sub>(EKOM) which stores the resulting 128-bit decrypted Key Of the Month KOM in KOM PR <b>706</b>, and</li>
        <li id="ul0024-0009" num="0206">communicate KOM from KOM plaintext register <b>706</b> via plaintext port <b>705</b> to KOM protected memory <b>735</b> where it is stored in location KOM#, erasing any previous contents of that location.
<br/>
KOM protected memory <b>735</b> can hold more than one Key Of the Month for two reasons:
</li>
        <li id="ul0024-0010" num="0207">As noted earlier, higher tier subscribers will need more than one KOM since content segments accessible to both higher tier and lower tier subscribers will be encrypted in a lower tier KOM.</li>
        <li id="ul0024-0011" num="0208">KOM's for one or more future months can be predelivered to subscribers who have paid in advance and be ready for use immediately when the month changes.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0155" num="0209">WORM memory <b>730</b> is a write-once semiconductor memory so that, after its Device Key DK is burned into it at the factory, its contents cannot be changed. This prevents a group of pirate users from changing their DK's to all be the same and then illegally sharing user authorization messages with one another, with only one of them paying for service. WORM memory technology is known in the art of semiconductor fabrication and is used, for example to burn unalterable serial numbers into microprocessors, and to increase memory chip yields by burning in information on defective portions of memory which can then be avoided. One such WORM approach is to use fuses which are blown (written to) by a higher than normal voltage. It is &#x201c;write once&#x201d; since, once a fuse is blown, it cannot be returned to its original state.</p>
<p id="p-0156" num="0210">The second instruction in AES engine <b>700</b>'s instruction set produces a decrypted Content Segment Block CSB which is part of a content segment CS for the tier of service that broadcaster <b>100</b> has authorized receiver <b>107</b> to receive in a given month, and then stores that decrypted Content Segment Block in CS protected memory <b>745</b> for output on protected bus <b>385</b> which also is depicted in <figref idref="DRAWINGS">FIG. 3</figref>. This instruction takes the form
<ul id="ul0025" list-style="none">
    <li id="ul0025-0001" num="0000">
    <ul id="ul0026" list-style="none">
        <li id="ul0026-0001" num="0211">DECRYPT_CSB(LOCATION<b>1</b>, LOCATION<b>2</b>, KOM#)
<br/>
which causes microprocessor <b>325</b> to:
</li>
        <li id="ul0026-0002" num="0212">retrieve the 128-bit Encrypted Content Segment Block ECSB from the location in memory <b>332</b> specified by the bit string LOCATION<b>1</b>,</li>
        <li id="ul0026-0003" num="0213">if LOCATION<b>2</b>&#x2260;0, retrieve a 128-bit Initialization Vector (as defined in Cipher Block Chaining or CBC mode) IV from the location in memory <b>332</b> specified by the bit string LOCATION<b>2</b> (LOCATION<b>2</b>=0 indicates that this Encrypted Content Segment Block is not the first so that an IV is not needed for its decryption; rather the preceding Encrypted Content Segment Block, which will already be stored in AES engine <b>700</b> from the previous instruction, is used in place of IV),</li>
        <li id="ul0026-0004" num="0214">communicate ECSB to AES engine <b>700</b>'s ciphertext port <b>710</b></li>
        <li id="ul0026-0005" num="0215">if LOCATION<b>2</b>&#x2260;0, communicate IV to AES engine <b>700</b>'s ciphertext port <b>710</b>,</li>
        <li id="ul0026-0006" num="0216">if LOCATION<b>2</b>=0, communicate IV=0 to AES engine <b>700</b>'s ciphertext port <b>710</b> (IV=0 is not allowed as an Initialization Vector, so this tells AES engine <b>700</b> that an IV is not being used);
<br/>
and causes AES engine <b>700</b> to
</li>
        <li id="ul0026-0007" num="0217">store ECSB in primary ciphertext register <b>711</b>,</li>
        <li id="ul0026-0008" num="0218">if IV&#x2260;0, store IV in auxiliary ciphertext register <b>712</b>,</li>
        <li id="ul0026-0009" num="0219">if IV=0, do not disturb the current contents of ciphertext register <b>712</b>,</li>
        <li id="ul0026-0010" num="0220">if KOM# differs from the previous value used, communicate a 128-bit Key of the Month KOM from location KOM# in KOM protected memory <b>735</b> to AES engine <b>700</b>'s key port <b>715</b> and store KOM in key register <b>716</b> (if KOM# is the same as the previously used value, the required KOM is already in key register <b>716</b>),</li>
        <li id="ul0026-0011" num="0221">execute an AES decryption D<sub>KOM</sub>(ECSB) which stores the resulting CBC decrypted Content Segment Block CBC_CSB in CS plaintext register <b>708</b>,</li>
        <li id="ul0026-0012" num="0222">XOR the contents of CS plaintext register <b>708</b> (CBC_CSB) with the contents of auxiliary ciphertext register <b>712</b> to produce the original Content Segment Block CSB and store the result in CS plaintext register <b>708</b> (since CBC mode encrypts the current plaintext block XORed with the previous ciphertext block, which previous ciphertext block is now stored in auxiliary ciphertext register <b>712</b>),</li>
        <li id="ul0026-0013" num="0223">communicate CS from CS plaintext register <b>708</b> via plaintext port <b>705</b> to CS protected memory <b>745</b> where it is then output on protected bus <b>385</b> which, as shown in <figref idref="DRAWINGS">FIG. 3</figref>, will convey it to D/A converter <b>365</b>, and</li>
        <li id="ul0026-0014" num="0224">transfer ECSB from primary ciphertext register <b>711</b> to auxiliary ciphertext register <b>712</b> (since in CBC mode, auxiliary ciphertext register <b>712</b> stores the previous ciphertext block).</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0157" num="0225">The third (and in the preferred embodiment, the last) instruction in AES engine <b>700</b>'s instruction set causes AES Engine <b>700</b> to erase a KOM from KOM protected memory <b>735</b>. This instruction takes the form
<ul id="ul0027" list-style="none">
    <li id="ul0027-0001" num="0000">
    <ul id="ul0028" list-style="none">
        <li id="ul0028-0001" num="0226">ERASE_KOM(KOM#)
<br/>
which causes microprocessor <b>325</b> to erase the entry corresponding to KOM# in the table of KOM information stored in memory <b>332</b> and causes AES Engine <b>700</b> to erase the contents of KOM# in KOM protected memory <b>735</b>. Erasing KOMs that are not needed in the immediate future inhances security. An alternative, less secure embodiment keeps KOMs until protected KOM memory <b>735</b> is full, at which point unneeded KOMs are erased, for example on a FIFO basis.
<br/>
Alternative Embodiments
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0158" num="0227">The foregoing descriptions of specific embodiments of the present invention are presented for the purposes of illustration and description. They are not intended to be exhaustive or to limit the scope of the invention and many modifications and variations are possible in view of the above teachings. The embodiments were chosen and described in order to best explain the principles of the invention and its practical applications, to thereby enable others skilled in the art to best utilize the invention and various embodiments with various modifications as are suited to the particular use contemplated. For example:</p>
<p id="p-0159" num="0228">Although the present invention has been illustrated in connection with satellite radio, it can be used in connection with any broadcast or media distribution system and, in particular with terrestrial radio and television services. The present invention is also applicable to Internet radio and similar methods of broadcast, in which case multiplexing is accomplished via packetization and what is herein termed the receiver's demodulator is part of its modem (modulator-demodulator pair) or other signal reconstruction apparatus. Hence, used herein:
<ul id="ul0029" list-style="none">
    <li id="ul0029-0001" num="0000">
    <ul id="ul0030" list-style="none">
        <li id="ul0030-0001" num="0229">the term &#x201c;multiplex&#x201d; and its various derivatives (multiplixed, multiplexor, etc.) includes any method of combining two or more types of information, or two or more data streams, in any manner whatsoever, whether or not the method includes the word root &#x201c;multiplex&#x201d;;</li>
        <li id="ul0030-0002" num="0230">the term &#x201c;demodulator&#x201d; and its various derivatives (demodulate, demodulated, etc.) includes any device for reconstructing a signal, whether or not the device includes the word root &#x201c;demodulate&#x201d;;</li>
        <li id="ul0030-0003" num="0231">the term &#x201c;receiver&#x201d; includes devices, whether or not the the word &#x201c;receiver&#x201d; is included in their names (e.g., PC's, playback devices, iPod, MP3 player, etc.);</li>
        <li id="ul0030-0004" num="0232">the term &#x201c;transmitter&#x201d; includes devices, whether or not the the word &#x201c;transmitter&#x201d; is included in their names (e.g., head end, distribution center, etc.); and</li>
        <li id="ul0030-0005" num="0233">the term &#x201c;broadcast system&#x201d; includes media distribution systems, whether or not the the word &#x201c;broadcast&#x201d; is included in their names (e.g., Internet radio, music subscription services, etc.).
<br/>
Other names and words used herein are intended to be interpreted in a similar manner. For example, the digital microphone <b>350</b> can be any acoustic transducer.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0160" num="0234">While the preferred embodiment utilizes an extremely secure cryptoprocessor, alternative embodiments can use less secure cryptoprocessors (e.g., a conventional microprocessor and encryption software), with an attendant reduction in security level. While the preferred embodiment utilizes push buttons for sensing user input to user interface <b>360</b>, other means such as voice commands may be used instead. While the preferred embodiment utilizes receiver commands <b>210</b> that are communicated as separate entities, receiver commands <b>210</b> can be embedded in other commands, program content, or other data. It is the effect that receiver commands <b>210</b> have on receiver <b>107</b> that makes them receiver commands <b>210</b>, not their existence as a separate entity.</p>
<p id="p-0161" num="0235">With many other variations also possible within the spirit of the present invention, it is therefore intended that the scope of the invention be defined by the following claims and their equivalents.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A broadcast system comprising:
<claim-text>one or more transmitters which transmit one or more signals, such that said one or more signals, combined if more than one, comprise:
<claim-text>program content for one or more complete programs, wherein each complete program can include advertising and is playable at a receiver in unmodified form;</claim-text>
<claim-text>substitution content that can include substitution advertising and/or advertising-free substitution program content; and</claim-text>
<claim-text>receiver commands including receiver commands directed at specific receivers or classes of receivers; and</claim-text>
</claim-text>
<claim-text>a plurality of receivers, including a first receiver, a second receiver, and a third receiver, each respective receiver configured to:
<claim-text>demodulate a respective portion of said program content; and</claim-text>
<claim-text>create a respective output program,</claim-text>
</claim-text>
<claim-text>wherein each respective receiver of said first and second receivers is further configured to:
<claim-text>demodulate a respective portion of said substitution content;</claim-text>
<claim-text>store a portion of said substitution content;</claim-text>
<claim-text>demodulate a portion of said receiver commands; and</claim-text>
<claim-text>replace, in response to at least one of said receiver commands, a respective selected non-null portion of said demodulated program content with a respective selected non-null portion of said substitution content stored in the respective receiver to form said respective output program containing a respective replacement portion of substitution content,</claim-text>
</claim-text>
<claim-text>wherein said third receiver is not configured to carry out said replacing in response to one or more receiver commands,</claim-text>
<claim-text>such that said first, second, and third receivers create a first output program, a second output program, and a third output program respectively when simultaneously tuned to be receiving a particular program of said program content, such that said first, second, and third output programs can be different, and such that said third output program comprises said particular program of said complete programs without any substitution content, including any advertising included in said particular program,</claim-text>
<claim-text>wherein at least one of A and B is true,</claim-text>
<claim-text>A being that in the case said first receiver is operating at a first tier, and said second receiver is operating at a second tier lower than said first tier, as a result of one or more different respective receiver commands directed to said first and second receivers, said first output program includes less advertising than said second output program when said first and second receivers are simultaneously tuned to be receiving the particular program, and</claim-text>
<claim-text>B being that at least one of said receiver commands that cause said replacing is targeted to one or more particular receivers according to one or more demographic characteristics such that said first and second output programs can be different as a result of at least one of said one or more demographic characteristics being different for said first and second receivers when said first and second receivers are simultaneously tuned to be receiving the particular program.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A broadcast system as in <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein at least one of said respective replacement portions of substitution content comprises advertising.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A broadcast system as in <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein at least one of said selected non-null portions of said demodulated program content comprises advertising.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A broadcast system as in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least one of said receiver commands that cause said replacing is targeted to one or more particular receivers according to one or more demographic characteristics such that said first and second output programs can be different as a result of at least one of said one or more demographic characteristics being different for said first and second receivers when said first and second receivers are simultaneously tuned to be receiving the particular program.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The broadcast system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least a portion of said substitution content comprises demographically targeted advertising.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The broadcast system of <claim-ref idref="CLM-00005">claim 5</claim-ref> wherein said receiver commands include demographically related receiver commands that cause substituting according to a set of one or more demographic characteristics of a receiving receiver, wherein said first and second receivers have at least one characteristic of said set different, and wherein said substituting by said first and second receivers responsive to at least one of said demographically related receiver commands causes different demographically targeted advertising to be included in said first and second programs produced when said first and second receivers are simultaneously tuned to be receiving said particular program.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The broadcast system of <claim-ref idref="CLM-00006">claim 6</claim-ref> in which at least one of said demographically related receiver commands is directed to a single one of said receivers.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A broadcast system as in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein in the case said first receiver is operating at a first tier, and said second receiver is operating at a second tier lower than said first tier, as a result of one or more different respective receiver commands directed to said first and second receivers, said first output program includes less advertising than said second output program when said first and second receivers are simultaneously tuned to be receiving the particular program.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The broadcast system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least a portion of one or both of said substitution content and said receiver commands is encoded with an erasure-correcting code to protect data included therein.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The broadcast system of <claim-ref idref="CLM-00009">claim 9</claim-ref> in which said data protected by said erasure-correcting code is transmitted in segments, at least one of said segments being transmitted at two or more points in time with a time separation between the two or more transmissions.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The broadcast system of <claim-ref idref="CLM-00010">claim 10</claim-ref> in which the time separation(s) between said two or more points in time are at least partially randomized.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The broadcast system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein a portion of said program content is transmitted within the 88-108 MHz band, within the 540-1700 kHz band, or within a Digital Audio Radio Satellite band.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A broadcast system as in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said first receiver is operating at a first tier, and said second receiver is operating at a second tier lower than said first tier, as a result of one or more different respective receiver commands directed to said first and second receivers, said first output program includes less advertising than said second output program when said first and second receivers are simultaneously tuned to be receiving the particular program.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. A broadcast system as in <claim-ref idref="CLM-00001">claim 1</claim-ref> in which at least one of said receiver commands depends on information communicated by at least one of said plurality of receivers over a reverse channel.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. A broadcast system as in <claim-ref idref="CLM-00001">claim 1</claim-ref> such that, for one or both of said first and second receivers, said substituting in the respective receiver depends at least in part on information stored in a local database located at the respective receiver, said information representing one or more characteristics of one or more users of the respective receiver.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. A broadcast system comprising:
<claim-text>(a) one or more transmitters configured to transmit at least (i) program content that may include advertising, (ii) substitution content that may include advertising content, and (iii) receiver commands; and</claim-text>
<claim-text>(b) a plurality of receivers, including a subset consisting of some but not all of said plurality of receivers, each receiver in said subset including:
<claim-text>(i) memory for storing a portion of said substitution content to form stored substitution content; and</claim-text>
<claim-text>(ii) a controller responsive to at least one of said receiver commands and configured to select a portion of said stored substitution content; and to replace a portion of said program content with said selected portion of said stored substitution content;</claim-text>
<claim-text>wherein said subset includes a first receiver that when tuned to be receiving a particular program of said program content produces as output a first program, and a second receiver that when simultaneously tuned to be receiving said particular program produces as output a second program;</claim-text>
</claim-text>
<claim-text>wherein said receiver commands include:
<claim-text>at least one receiver command that indicates how said first receiver is to carry out replacing, and</claim-text>
<claim-text>at least one receiver command that indicates how said second receiver is to carry out replacing,</claim-text>
</claim-text>
<claim-text>wherein said program content sent by said one or more transmitters includes one or more complete programs playable by each of said plurality of receivers in unmodified form, each of said complete programs including one or both of:</claim-text>
<claim-text>(i) advertising-free content such that at least some of said advertising-free content can be replaced by each receiver of said subset that receives said program content with substitution content comprising advertising, and</claim-text>
<claim-text>(ii) content that includes sent advertising such that at least some of said sent advertising can be replaced by each receiver of said subset that receives said program content with substitution content comprising advertising-free content,</claim-text>
<claim-text>such that different substitution content can be played back at said first receiver and said second receiver when first receiver and said second receiver are simultaneously tuned to be receiving said particular program, and</claim-text>
<claim-text>such that a third receiver that is configured to receive said program content sent by said one or more transmitters and that (i) is not part of said subset, or (ii) unable to be configured to replace a portion of said program content with a portion of said substitution content, can play back said program content sent by said one or more transmitters,</claim-text>
<claim-text>wherein at least A or B is true,.</claim-text>
<claim-text>A being that the at least one receiver command for the first and the second receiver that respectively indicates how said first receiver and second receiver is to carry out replacing include at least one receiver command that indicates how said first receiver and second receiver, respectively, is to carry out replacing in a manner related to one or more characteristics of said first receiver and second receiver, respectively, including one or more items of demographic information related to said first receiver and said second receiver, respectively, such that the type of and/or amount of substitution content in said first and second programs can be targeted to said first and second receivers, respectively, according to one or more of said items of demographic information about said first and second receivers, respectively, and</claim-text>
<claim-text>B being that said first receiver is operating at a first tier, and said second receiver is operating at a second tier lower than said first tier, and that said receiver commands sent by said one or more transmitters include at least one receiver command related to the tier of service, such that the replacing in response to said at least one receiver command related to the tier of service differs according to the tier of service, such that said first program includes less advertising than said second program.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The broadcast system of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein transmitting by the one or more transmitters includes broadcasting by a broadcaster, wherein at least one receiver command for the first and the second receiver that respectively indicates how said first receiver and second receiver is to carry out replacing includes at least one receiver command that indicates how said first receiver and second receiver, respectively, is to carry out replacing in a manner related to one or more characteristics of said first receiver and second receiver, respectively, including one or more items of demographic information related to said first receiver and said second receiver, respectively,
<claim-text>the broadcast system further comprising:</claim-text>
<claim-text>a reverse channel for communicating information to said broadcaster;</claim-text>
<claim-text>wherein at least some of said receiver commands are based on demographic information about the receiver and depend at least in part on information communicated to said broadcaster over said reverse channel such that the type of and/or amount of substitution content played back by said first and/or second receiver can be targeted to said respective first and/or second receiver according to one or more items of demographic information gathered by said broadcaster about said respective first and/or second receiver.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. A broadcast system as in <claim-ref idref="CLM-00017">claim 17</claim-ref> in which at least one of said receiver commands based on demographic information about the receiver is directed to a single one of said receivers.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The broadcast system of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein said broadcast system is a tiered subscription broadcast system, wherein said first receiver is operating at a first tier, and said second receiver is operating at a second tier lower than said first tier, and that said receiver commands sent by said one or more transmitters include at least one receiver command related to the tier of service, such that the replacing in response to said at least one receiver command related to the tier of service differs according to the tier of service, such that said first program includes less advertising than said second program.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. A broadcast system as in <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein said selecting by the controller is responsive to at least one receiver command that specifies the selected portion of the substitution content.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. A broadcast system as in <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein said selecting by the controller is responsive to at least one receiver command that specifies the selected portion of the substitution content, and wherein said replacing includes said controller checking if said memory contains said specified selected portion of the substitution content, and if said memory does not contain said specified selected portion, selecting an alternate portion of stored substitution content, and replacing said portion of said program content with said selected alternate portion.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. A broadcast system as in <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein said portion of the program content that is replaced with said selected portion of substitution content is specified in one or more of said receiver commands. .</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. A broadcast system as in <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein at least one of said receiver commands for said first receiver is based on demographic information about the first receiver and depends on information communicated by said first receiver over a reverse channel.</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. A broadcast system comprising:
<claim-text>a broadcaster broadcasting at least program content comprising one or more complete programs that can include advertising, substitution content that can include advertising, and demographically related receiver commands;</claim-text>
<claim-text>a plurality of receivers; and</claim-text>
<claim-text>a demographic information aggregator which provides information to said broadcaster about at least some of said plurality of receivers,</claim-text>
<claim-text>wherein each of a subset but not all of said plurality of receivers comprises:</claim-text>
<claim-text>(i) one or more demodulators for demodulating a portion of said program content, a portion of said substitution content, and a portion of said demographically related receiver commands;</claim-text>
<claim-text>(ii) memory for storing the demodulated portion of substitution content to form stored substitution content; and</claim-text>
<claim-text>(iii) a receiver controller for:
<claim-text>selecting a portion of the stored substitution content; and</claim-text>
<claim-text>while tuned to a particular program of the program content, forming an output program for the particular program including replacing a portion of said program content with the selected portion of the stored substitution content, such that the output program includes the selected portion of the stored substitution content,</claim-text>
</claim-text>
<claim-text>wherein:</claim-text>
<claim-text>said demographically related receiver commands depend at least in part on the information provided by said demographic information aggregator to said broadcaster;</claim-text>
<claim-text>said receiver controller's selection of said selected stored substitution content depends at least in part on said demographically related receiver commands, and</claim-text>
<claim-text>wherein said program content broadcast by said broadcaster includes one or more complete programs playable by each of said plurality of receivers in unmodified form, each of said complete programs including one or both of:
<claim-text>(i) advertising-free content such that at least some of said advertising-free content can be replaced by each receiver of said subset that receives said program content with substitution content comprising advertising, and</claim-text>
<claim-text>(ii) content that includes sent advertising such that at least some of said sent advertising can be replaced by each receiver of said subset that receives said program content with substitution content comprising advertising-free content,</claim-text>
</claim-text>
<claim-text>such that a particular receiver that is configured to receive said program content broadcast by said broadcaster and that (i) is not part of said subset, or (ii) unable to be configured to replace a portion of said program content with a portion of said substitution content, can play back said program content broadcast by said broadcaster without any replacing.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The broadcast system of <claim-ref idref="CLM-00024">claim 24</claim-ref> in which said broadcast system is a tiered subscription broadcast system in which:
<claim-text>a first receiver of said plurality of receivers, associated with a first tier of receiver privileges, tuned to be receiving a particular program, produces as output a first program;</claim-text>
<claim-text>a second receiver of said plurality of receivers in a second tier of receiver privileges lower than said first tier, simultaneously tuned to be receiving said particular program, produces as output a second program, and</claim-text>
<claim-text>said first program includes less advertising than said second program as a result of said replacing in said first receiver being different than said replacing in said second receiver.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The broadcast system of <claim-ref idref="CLM-00025">claim 25</claim-ref> in which the information provided by said demographic information aggregator to said broadcaster depends at least in part on Internet based observations of subscriber behavior.</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. The broadcast system of <claim-ref idref="CLM-00024">claim 24</claim-ref> in which the information provided by said demographic information aggregator to said broadcaster depends at least in part on Internet based observations.</claim-text>
</claim>
<claim id="CLM-00028" num="00028">
<claim-text>28. A broadcast system as in <claim-ref idref="CLM-00024">claim 24</claim-ref> in which at least one of said demographically related receiver commands depends on information communicated by at least one of said plurality of receivers over a reverse channel.</claim-text>
</claim>
<claim id="CLM-00029" num="00029">
<claim-text>29. A broadcast system comprising:
<claim-text>one or more transmitters configured to transmit:
<claim-text>(i) program content that may include advertising;</claim-text>
<claim-text>(ii) substitution content that may include advertising; and</claim-text>
<claim-text>(iii) receiver commands;</claim-text>
</claim-text>
<claim-text>wherein the one or more transmitters are configured to transmit to a plurality of receivers configured to receive at least the program content, each receiver in a subset consisting of some but not all of said plurality of receivers being configured to:
<claim-text>demodulate a portion of said program content;</claim-text>
<claim-text>demodulate a portion of said substitution content;</claim-text>
<claim-text>store a portion of the demodulated substitution content to form stored substitution content;</claim-text>
<claim-text>demodulate a portion of said receiver commands; and</claim-text>
<claim-text>in response to at least one of said receiver commands that specifies a portion of said substitution content, checks whether the specified portion of the substitution content is accessible by said receiver,</claim-text>
<claim-text>if said check is affirmative replace a portion of said demodulated program content with said specified portion of the substitution content, and</claim-text>
<claim-text>if said check is negative, insert a different portion of stored substitution content into said demodulated program content, said different portion of substitution content being related to said specified portion of the substitution content,</claim-text>
</claim-text>
<claim-text>wherein said program content sent by said one or more transmitters includes one or more complete programs playable by each of said plurality of receivers in unmodified form, each of said complete programs including one or both of:</claim-text>
<claim-text>(i) advertising-free content such that at least some of said advertising-free content can be replaced by each receiver of said subset that receives said program content with substitution content comprising advertising, and</claim-text>
<claim-text>(ii) content that includes sent advertising such that at least some of said sent advertising can be replaced by each receiver of said subset that receives said program content with substitution content comprising advertising-free content,</claim-text>
<claim-text>such that a particular receiver that is configured to receive said program content sent by said one or more transmitters and that (i) is not part of said subset, or (ii) unable to be configured to replace a portion of said program content with a portion of said substitution content, can play back said program content sent by said one or more transmitters without any replacing.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00030" num="00030">
<claim-text>30. The broadcast system of <claim-ref idref="CLM-00029">claim 29</claim-ref> wherein said different portion of stored substitution content includes advertising related to advertising included in said specified portion of substitution content.</claim-text>
</claim>
<claim id="CLM-00031" num="00031">
<claim-text>31. The broadcast system of <claim-ref idref="CLM-00029">claim 29</claim-ref> in which said receiver commands comprise demographically related receiver commands, and at least one of said demographically related receiver commands is directed to a single one of said receivers.</claim-text>
</claim>
<claim id="CLM-00032" num="00032">
<claim-text>32. A broadcast system comprising:
<claim-text>a plurality of receivers; and</claim-text>
<claim-text>one or more transmitters which, combined if more than one, transmit at least:
<claim-text>(i) program content that may include advertising, (ii) substitution content that may include advertising, and (iii) receiver commands;</claim-text>
</claim-text>
<claim-text>wherein each of a subset that includes some but not all of said plurality of receivers comprises:
<claim-text>memory for storing a portion of said substitution content to form stored substitution content; and</claim-text>
<claim-text>a controller for forming a respective output program, the forming comprising, responsive to at least one of said receiver commands, including a selected portion of the stored substitution content in place of a portion of said program content;</claim-text>
</claim-text>
<claim-text>such that, during a time period at which a first receiver and a second receiver of said subset of the plurality of receivers are simultaneously tuned to be receiving a particular program of said program content, and to output a first and a second output program:
<claim-text>the first receiver has a first selected portion of the stored substitution content included in place of a portion of said particular program;</claim-text>
</claim-text>
<claim-text>the second receiver has a second selected portion of the stored substitution content included in place of a portion of said program content;</claim-text>
<claim-text>said first selected portion of the stored substitution content being different than said second selected portion of the stored substitution content,</claim-text>
<claim-text>wherein said program content sent by said one or more transmitters includes one or more complete programs playable by each of said plurality of receivers in unmodified form, each of said complete programs including one or both of:
<claim-text>(i) advertising-free content such that at least some of said advertising-free content can be replaced by each receiver of said subset that receives said program content with substitution content comprising advertising, and</claim-text>
<claim-text>(ii) content that includes sent advertising such that at least some of said sent advertising can be replaced by each receiver of said subset that receives said program content with substitution content comprising advertising-free content,</claim-text>
</claim-text>
<claim-text>such that a particular receiver that is configured to receive said program content sent by said one or more transmitters and that (i) is not part of said subset, or (ii) unable to be configured to replace a portion of said program content with a portion of said substitution content, can play back said program content sent by said one or more transmitters without any replacing,</claim-text>
<claim-text>wherein at least one of A and B is true,</claim-text>
<claim-text>A being that in the case said first receiver is operating at a first tier, and said second receiver is operating at a second tier lower than said first tier, as a result of one or more different respective receiver commands directed to said first and second receivers, said first output program includes less advertising than said second output program when said first and second receivers are simultaneously tuned to be receiving the particular program, and</claim-text>
<claim-text>B being that at least one of said receiver commands that cause forming an output program using a selected portion of the stored substitution content in place of a portion of the particular program is targeted to one or more particular receivers according to one or more demographic characteristics such that said first and second output programs can be different as a result of at least one of said one or more demographic characteristics being different for said first and second receivers when said first and second receivers are simultaneously tuned to be receiving the particular program.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00033" num="00033">
<claim-text>33. A broadcast system as in <claim-ref idref="CLM-00032">claim 32</claim-ref> in which said at least one of said receiver commands comprises a demographically targeted receiver command.</claim-text>
</claim>
<claim id="CLM-00034" num="00034">
<claim-text>34. A broadcast system as in <claim-ref idref="CLM-00033">claim 33</claim-ref> in which at least one demographically targeted receiver command is directed to a single one of said subset of receivers.</claim-text>
</claim>
<claim id="CLM-00035" num="00035">
<claim-text>35. A broadcast system as in <claim-ref idref="CLM-00032">claim 32</claim-ref> in which:
<claim-text>at least one receiver in of said plurality of receivers that is not in said subset produces an output program which is independent of said substitution content.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00036" num="00036">
<claim-text>36. A broadcast system as in <claim-ref idref="CLM-00032">claim 32</claim-ref>, wherein said including a selected portion of the stored substitution content in place of a portion of said program content is responsive to at least one receiver command that specifies the selected portion of the substitution content.</claim-text>
</claim>
<claim id="CLM-00037" num="00037">
<claim-text>37. A broadcast system as in <claim-ref idref="CLM-00036">claim 36</claim-ref>, wherein said including a selected portion of the stored substitution content in place of the portion of said program content further includes checking if the specified selected portion is stored in the receiver, and if not stored, including alternate substitution content stored in the receiver in place of the portion of said program content rather than the specified selected portion of the substitution content.</claim-text>
</claim>
</claims>
</us-patent-grant>
