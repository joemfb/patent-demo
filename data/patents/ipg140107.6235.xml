<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08627372-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08627372</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12931734</doc-number>
<date>20110209</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>P2010-032996</doc-number>
<date>20100217</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>300</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20110101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>5</main-group>
<subgroup>445</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>725 46</main-classification>
<further-classification>725 48</further-classification>
</classification-national>
<invention-title id="d2e71">Information processing apparatus, information processing method, and program</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6791119</doc-number>
<kind>B2</kind>
<name>Slater et al.</name>
<date>20040900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>257 99</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6971119</doc-number>
<kind>B1</kind>
<name>Arsenault et al.</name>
<date>20051100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>725 89</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7292692</doc-number>
<kind>B2</kind>
<name>Bonan et al.</name>
<date>20071100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>380212</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2001/0046295</doc-number>
<kind>A1</kind>
<name>Sako et al.</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>380201</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2001/0049822</doc-number>
<kind>A1</kind>
<name>Yoshida et al.</name>
<date>20011200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2005/0144499</doc-number>
<kind>A1</kind>
<name>Narahara et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714  1</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2008/0147487</doc-number>
<kind>A1</kind>
<name>Hirshberg</name>
<date>20080600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 10</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>JP</country>
<doc-number>2001-160955</doc-number>
<kind>A</kind>
<date>20010600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>JP</country>
<doc-number>2005-167628</doc-number>
<kind>A</kind>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>12</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>725 37- 61</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>14</number-of-drawing-sheets>
<number-of-figures>14</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110202962</doc-number>
<kind>A1</kind>
<date>20110818</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Kanda</last-name>
<first-name>Satoshi</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Kanda</last-name>
<first-name>Satoshi</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Lerner, David, Littenberg, Krumholz &#x26; Mentlik, LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Sony Corporation</orgname>
<role>03</role>
<address>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Tran</last-name>
<first-name>Hai V</first-name>
<department>2423</department>
</primary-examiner>
<assistant-examiner>
<last-name>Huang</last-name>
<first-name>Jen-Shi</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A package identifier generating unit generates, for each unique combination of information on specific items included in a package, a package identifier identifying the combination. A first table registering unit extracts information on the specific items from the obtained package, and registers the information on the specific items, a user identifier identifying a user of a program reproducing apparatus being a transfer source of the package, and the generated package identifier in correspondence with each other, in a first table. A second table registering unit extracts a correspondence relation between the user identifier and the package identifier from the first table, and registers the package identifier corresponding to the user identifier, as a program view history for each user, in a second table. A determining unit determines the package identifier being a difference between program view histories similar to each other registered in the second table.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="167.13mm" wi="224.11mm" file="US08627372-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="146.39mm" wi="160.87mm" file="US08627372-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="249.94mm" wi="175.18mm" orientation="landscape" file="US08627372-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="242.65mm" wi="122.00mm" orientation="landscape" file="US08627372-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="224.71mm" wi="141.73mm" orientation="landscape" file="US08627372-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="205.49mm" wi="144.44mm" file="US08627372-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="238.08mm" wi="176.28mm" orientation="landscape" file="US08627372-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="239.44mm" wi="149.86mm" orientation="landscape" file="US08627372-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="189.57mm" wi="122.34mm" orientation="landscape" file="US08627372-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="191.26mm" wi="137.24mm" orientation="landscape" file="US08627372-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="245.79mm" wi="181.36mm" orientation="landscape" file="US08627372-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="255.78mm" wi="169.50mm" orientation="landscape" file="US08627372-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="251.12mm" wi="171.70mm" orientation="landscape" file="US08627372-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="225.81mm" wi="166.12mm" orientation="landscape" file="US08627372-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="244.69mm" wi="186.44mm" orientation="landscape" file="US08627372-20140107-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading>
<p id="p-0002" num="0001">The present application claims priority from Japanese Patent Application No. JP 2010-032996 filed in the Japanese Patent Office on Feb. 17, 2010, the entire content of which is incorporated herein by reference.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The present invention relates to an information processing apparatus used as a server apparatus offering a program recommendation service, an information processing method, and a program.</p>
<p id="p-0005" num="0004">2. Description of the Related Art</p>
<p id="p-0006" num="0005">In recent years, there is proposed a system of estimating a program in conformity with preference of a user from various programs broadcasted or delivered via transmission media such as broadcast waves and the Internet, and recommending the program to the user. In such a system, representative examples of the method of estimating a program in conformity with preference of a user include, for example, Content-Based-Filtering (CBF), Collaborative-Filtering (CF), and the like.</p>
<p id="p-0007" num="0006">In Content-Based-Filtering, information on programs viewed by a user before is stored as preference information of the user, similarities between the preference information and information on programs being broadcasted and to be broadcasted are calculated, and a program of high similarity is determined as a recommended program (for example, Japanese Patent Application laid-open No. 2001-160955, hereinafter, referred to as Patent Document 1). Meanwhile, in Collaborative-Filtering method, program view histories of a plurality of users are stored as preference information of the users, and a recommended program for each of the users is determined based on differences of the program view histories of a plurality of users whose program view histories are similar to each other (for example, Japanese Patent Application laid-open No. 2005-167628, hereinafter, referred to as Patent Document 2).</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0008" num="0007">In the both methods of Content-Based-Filtering and Collaborative-Filtering, to identify a program, a program. ID being a program-unique identifier determined under a broadcast standard is used. The program ID is structured by network_id, transport_stream_id, service_id, event_id, and the like. Of those, network_id, transport_stream_id, and service_id are identifiers identifying a program offering target. Event_id is an identifier identifying a program. Uniqueness of the program ID is only ensured in countries and territories employing the same broadcast standard. Therefore, in a case where a target area of a program recommendation service by a server is enlarged to a plurality of countries and territories whose broadcast standards are different from each other, to identify a program with a program ID will actually be difficult.</p>
<p id="p-0009" num="0008">In view of the above, a method of adding and using, not only a program ID, but also a title, contents, and the like of a program as information for identifying the program is conceived. However, in this case, there is a high possibility that secondary use of information such as a title, contents, and the like of a program is limited by its intellectual property rights such as trademark rights or copyrights, and such information is communicated between a user apparatus and a server via an IP network. Therefore, it is predicted that actual introduction of the system is hampered because, for example, licenses of secondary use should be issued by right holders in the world with regard to secondary use of information such as titles, contents, and the like of a number of programs.</p>
<p id="p-0010" num="0009">In view of the above-mentioned circumstances, it is desirable to provide an information processing apparatus, an information processing method, and a program with which a program recommendation service targeting a plurality of countries and territories whose broadcast standards are different from each other is well performed, without using information such as a title, contents, and the like of a program, the possibility that secondary use of which is limited by its intellectual property right is high.</p>
<p id="p-0011" num="0010">In view of the above-mentioned circumstances, according to an embodiment of the present invention, there is provided an information processing apparatus, including: a package obtaining unit configured to obtain, from at least one program reproducing apparatus, the at least one program reproducing apparatus being configured to obtain program information including information on a plurality of items for each broadcast program, to selectively receive and reproduce the broadcast program, and to transfer a package including information on a plurality of previously-determined specific items failing to include, as a content, information whose secondary use is limited by its intellectual property right, in the program information on a program viewed by a user, the package; a first table storing unit configured to store a first table; a package identifier generating unit configured to generate, for each unique combination of information on the plurality of specific items included in the obtained package, a package identifier identifying the combination; a first table registering unit configured to extract information on the plurality of specific items from the obtained package, and to register the information on the plurality of specific items, a user identifier identifying a user of a program reproducing apparatus being a transfer source of the package, and the generated package identifier in correspondence with each other, in the first table; a second table storing unit configured to store a second table; a second table registering unit configured to extract a correspondence relation between the user identifier and the package identifier from the first table, and to register the at least one package identifier corresponding to the user identifier, as a program view history for each user, in the second table; a determining unit configured to determine the at least one package identifier being a difference between a plurality of program view histories similar to each other registered in the second table; and a notifying unit configured to notify a program reproducing apparatus of a recommendation-target-user of at least part of information on the plurality of specific items registered in the first table corresponding to the package identifier determined by the determining unit.</p>
<p id="p-0012" num="0011">Although each piece of information on a plurality of previously-determined specific items failing to include, as a content, information whose secondary use is limited by its intellectual property right is not enough to identify a program, a combination of information on a plurality of items may be enough to identify a program. In view of the above, according to the information processing apparatus according to this embodiment of the present invention, the second table registering unit uses a package identifier generated for each unique combination of information on the above-mentioned plurality of specific items as information corresponding to a program, and registers a program view history for each user in the second table. The determining unit determines at least one package identifier being a difference between a plurality of program view histories similar to each other registered in the second table. Further, the notifying unit notifies a program reproducing apparatus of a recommendation-target-user of at least part of information on a plurality of specific items registered in the first table corresponding to the determined package identifier. Therefore, according to this embodiment of the present invention, a program recommendation service targeting a plurality of countries and territories whose broadcast standards are different from each other is well performed, without using information such as a title, contents, and the like of a program, the possibility that secondary use of which is limited by its intellectual property right is high.</p>
<p id="p-0013" num="0012">The information processing apparatus according to an embodiment of the present invention may further include an obtaining number managing unit configured to manage an obtaining number of the package for each package identifier. The second table registering unit may be configured to extract a correspondence relation between the package identifier of the package whose obtaining number reaches a threshold and the user identifier. Therefore, a package identifier corresponding to a combination of information on a plurality of specific items whose obtaining number is low is not registered in the second table. So the load of processing is reduced, and registering a package identifier corresponding to a combination of information on a plurality of specific items, which is ungeneratable under normal circumstances, in the second table in error is avoided. Therefore, reliability of the program recommendation service is improved.</p>
<p id="p-0014" num="0013">In the information processing apparatus according to an embodiment of the present invention, the determining unit may be configured to refer to the second table according to a program recommendation request including the user identifier from a program reproducing apparatus of a program-recommendation-request-source-user, and determine another user whose program view history is similar to the program view history of the program-recommendation-request-source-user, and to determine, as the difference, at least one package identifier in the program view history of the other user, the at least one package identifier failing to be included in the program view history of the program-recommendation-request-source-user. The notifying unit may be configured to notify the program reproducing apparatus of the program-recommendation-request-source-user of at least part of information on the plurality of specific items registered in the first table corresponding to the package identifier determined by the determining unit. Therefore, it is possible to notify, with respect to a program recommendation request including the user identifier from the program reproducing apparatus of the program-recommendation-request-source-user, the program reproducing apparatus of the program-recommendation-request-source-user of information on a plurality of specific items corresponding to the determined recommended program. Meanwhile, the program reproducing apparatus compares the notified information on a plurality of specific items and program information stored in the program reproducing apparatus, to thereby identify a recommended program.</p>
<p id="p-0015" num="0014">The plurality of specific items in the program information may at least include an item of a program identifier uniquely allocated to each program in conformity with broadcast standard, and an item of information on broadcast date and time. In a case where the target area of the program recommendation service is enlarged to a plurality of countries and territories whose broadcast standards are different from each other, there is a possibility that a plurality of different programs of the same program ID coexist, but there is little probability that the broadcast date and time of the plurality of programs is the same. Therefore, by using a combination of information on a plurality of specific items at least including an item of a program identifier and an item of information on broadcast date and time, the program recommendation service targeting a plurality of countries and territories whose broadcast standards are different from each other is well performed.</p>
<p id="p-0016" num="0015">In the information processing apparatus according to an embodiment of the present invention, the package identifier generating unit may be configured to generate a package identifier identifying each unique combination of information on the plurality of specific items included in the obtained package and user-country information previously set to the program reproducing apparatus. The first table registering unit may be configured to register information on the plurality of specific items, the user identifier, the user-country information, and the generated package identifier in correspondence with each other, in the first table. Therefore, the program recommendation service targeting a plurality of countries and territories whose broadcast standards are different from each other is also well performed.</p>
<p id="p-0017" num="0016">In the information processing apparatus according to an embodiment of the present invention, the determining unit may be configured to refer to the second table, and determine two users whose program view histories are similar to each other, to determine, based on a difference of the program view histories of the users, a package identifier for each user corresponding to a program recommended to each of the users, and to extract information on the plurality of specific items corresponding to the package identifier for each user from the first table. The notifying unit may be configured to notify a program reproducing apparatus of each of the users of information on the plurality of specific items corresponding to the package identifier for each of the users extracted by the determining unit. Therefore, it is possible to automatically notify the program reproducing apparatus of information on a plurality of specific items corresponding to a recommended program, without depending on a program recommendation request from the program reproducing apparatus by the user.</p>
<p id="p-0018" num="0017">In the information processing apparatus according to an embodiment of the present invention, a piece of information on the plurality of specific items may be a program identifier uniquely allocated to each program in conformity with broadcast standard. The information processing apparatus may further include a program-information-for-countries obtaining unit configured to obtain program information for a plurality of countries/territories in a target area, and a program-information-for-countries storing unit configured to store the obtained program information for the plurality of countries/territories. The determining unit may be configured to refer to the second table according to a program recommendation request including the user identifier and the user-country information from a program reproducing apparatus of a program-recommendation-request-source-user, and determine another user whose program view history is similar to the program view history of the program-recommendation-request-source-user, to determine, as a package identifier of a recommended program, at least one package identifier in the program view history of the other user, the at least one package identifier failing to be included in the program view history of the program-recommendation-request-source-user, to determine, based on user-country information included in the program recommendation request, program information for a corresponding country/territory in program information for the plurality of countries/territories stored in the program-information-for-countries storing unit, and to determine a consistency between information on a plurality of specific items corresponding to a package identifier of the recommended program and the determined program information for the country/territory. The notifying unit may be configured to notify, in a case where the determining unit determines the consistency, a program reproducing apparatus of the program-recommendation-request-source-user of the program identifier in information on the plurality of specific items corresponding to a package identifier of the recommended program.</p>
<p id="p-0019" num="0018">According to another embodiment of the present invention, there is provided an information processing method, including: obtaining, by a package obtaining unit, from at least one program reproducing apparatus, the at least one program reproducing apparatus being configured to obtain program information including information on a plurality of items for each broadcast program, to selectively receive and reproduce the broadcast program, and to transfer a package including information on a plurality of previously-determined specific items failing to include, as a content, information whose secondary use is limited by its intellectual property right, in the program information on a program viewed by a user, and a user identifier of the user, the package; generating, by a package identifier generating unit, for each unique combination of information on the plurality of specific items included in the obtained package, a package identifier identifying the combination; extracting, by a first table registering unit, information on the plurality of specific items from the obtained package, and registering the information on the plurality of specific items, a user identifier identifying a user of a program reproducing apparatus being a transfer source of the package, and the generated package identifier in correspondence with each other, in a first table; extracting, by a second table registering unit, a correspondence relation between the user identifier and the package identifier from the first table, and registering the at least one package identifier corresponding to the user identifier, as a program view history for each user, in a second table; determining, by a determining unit, the at least one package identifier being a difference between a plurality of program view histories similar to each other registered in the second table; and notifying, by a notifying unit, a program reproducing apparatus of a recommendation-target-user of at least part of information on the plurality of specific items registered in the first table corresponding to the determined package identifier.</p>
<p id="p-0020" num="0019">According to another embodiment of the present invention, there is provided a program, causing a computer to function as: a package obtaining unit configured to obtain, from at least one program reproducing apparatus, the at least one program reproducing apparatus being configured to obtain program information including information on a plurality of items for each broadcast program, to selectively receive and reproduce the broadcast program, and to transfer a package including information on a plurality of previously-determined specific items failing to include, as a content, information whose secondary use is limited by its intellectual property right, in the program information on a program viewed by a user, the package; a first table storing unit configured to store a first table; a package identifier generating unit configured to generate, for each unique combination of information on the plurality of specific items included in the obtained package, a package identifier identifying the combination; a first table registering unit configured to extract information on the plurality of specific items from the obtained package, and to register the information on the plurality of specific items, a user identifier identifying a user of a program reproducing apparatus being a transfer source of the package, and the generated package identifier in correspondence with each other, in the first table; a second table storing unit configured to store a second table; a second table registering unit configured to extract a correspondence relation between the user identifier and the package identifier from the first table, and to register the at least one package identifier corresponding to the user identifier, as a program view history for each user, in the second table; a determining unit configured to determine the at least one package identifier being a difference between a plurality of program view histories similar to each other registered in the second table; and a notifying unit configured to notify a program reproducing apparatus of a recommendation-target-user of at least part of information on the plurality of specific items registered in the first table corresponding to the package identifier determined by the determining unit.</p>
<p id="p-0021" num="0020">Further, according to another embodiment of the present invention, there is provided an information processing apparatus, including: a package obtaining unit configured to obtain, from at least one program reproducing apparatus, the at least one program reproducing apparatus being configured to obtain program information including information on a plurality of items including a program identifier uniquely allocated to each program in conformity with broadcast standard, for each broadcast program, to selectively receive and reproduce the broadcast program, and to transfer a package including the program identifier in the program information on a program viewed by a user, the package; a first table storing unit configured to store a first table; a package identifier generating unit configured to generate, for each unique combination of the program identifier included in the obtained package and user-country information previously set to the program reproducing apparatus, a package identifier identifying the combination; a first table registering unit configured to extract the program identifier from the obtained package, and to register the program identifier, the user-country information, and the generated package identifier in correspondence with each other, in the first table; a second table storing unit configured to store a second table; a second table registering unit configured to extract a correspondence relation between the user identifier and the package identifier from the first table, and to register the at least one package identifier corresponding to the user identifier, as a program view history for each user, in the second table; a determining unit configured to determine the at least one package identifier being a difference between a plurality of program view histories similar to each other registered in the second table; and a notifying unit configured to notify a program reproducing apparatus of a recommendation-target-user of the program identifier and the user-country information registered in the first table corresponding to the package identifier determined by the determining unit.</p>
<p id="p-0022" num="0021">According to the embodiments of the present invention, a program recommendation service targeting a plurality of countries and territories whose broadcast standards are different from each other is well performed, without using information such as a title, contents, and the like of a program, the possibility that secondary use of which is limited by its intellectual property right is high.</p>
<p id="p-0023" num="0022">These and other objects, features and advantages of the present invention will become more apparent in light of the following detailed description of best mode embodiments thereof, as illustrated in the accompanying drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram showing the structure of an entire system including an information processing apparatus according to a first embodiment of the present invention;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 2</figref> is a diagram showing the structure of a program reproducing apparatus of <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram showing the structure of a broadcast signal processing unit of <figref idref="DRAWINGS">FIG. 2</figref>;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram showing a functional structure for the program recommendation service by a recommending server of <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart showing operation steps of generating/transferring a view history package by the program reproducing apparatus of <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 6</figref> is a flowchart showing steps of managing a view history for each user by the recommending server;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 7</figref> shows an example of a package table;</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 8</figref> shows an example of a CF table;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 9</figref> shows an example of updating the CF table;</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 10</figref> is a flowchart showing steps of an operation of estimating a recommended program by the recommending server of <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 11</figref> is a flowchart showing steps of an operation of estimating a recommended program by a recommending server according to a second embodiment;</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 12</figref> is a diagram showing the structure of a program reproducing apparatus according to a third embodiment;</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 13</figref> is a block diagram showing a functional structure for the program recommendation service of a recommending server according to the third embodiment; and</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 14</figref> is a flowchart showing steps of an operation of estimating a recommended program by the recommending server according to the third embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DESCRIPTION OF PREFERRED EMBODIMENTS</heading>
<p id="p-0038" num="0037">Hereinafter, embodiments of the present invention will be described with reference to the drawings.</p>
<heading id="h-0006" level="1">First Embodiment</heading>
<p id="p-0039" num="0038">(System Structure)</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram showing the structure of an entire system including an information processing apparatus according to an embodiment of the present invention. As shown in <figref idref="DRAWINGS">FIG. 1</figref>, the system includes at least one program offering apparatus <b>1</b>, a plurality of program reproducing apparatuses <b>2</b> (<b>2</b>-<b>1</b>, <b>2</b>-<b>2</b>), and a recommending server <b>3</b> (information processing apparatus).</p>
<p id="p-0041" num="0040">The program offering apparatus <b>1</b> is, for example, a broadcast station, a server apparatus, or the like. The program offering apparatus <b>1</b> transfers digital broadcast programs (hereinafter, referred to as &#x201c;programs&#x201d;) via communication media such as, for example, terrestrial waves, satellite waves, and an IP network. The program offering apparatus <b>1</b> is capable of multiplexing and transferring stream packets of a program and packets of program information including various information on a program currently broadcasted.</p>
<p id="p-0042" num="0041">The program reproducing apparatus <b>2</b> receives digital broadcast signals of a program from the program offering apparatus <b>1</b> via the communication media such as the terrestrial waves, the satellite waves, and the IP network (Internet), separates transport stream packets of the program from the digital broadcast signals, decodes the transport stream packets, to thereby decompress video signals and audio signals of the program, and outputs the video signals and the audio signals through a display unit and a speaker unit. Further, the program reproducing apparatus <b>2</b> is capable of separating packets of program information from the received digital broadcast signals, decoding the packets, and storing the packets as data that the program reproducing apparatus <b>2</b> is capable of using appropriately.</p>
<p id="p-0043" num="0042">The recommending server <b>3</b> is a server offering, to a user of each of the program reproducing apparatuses <b>2</b> connected via the IP network, a service for recommending a program in conformity with preference of the user.</p>
<p id="p-0044" num="0043">Note that, the program reproducing apparatus <b>2</b> is, more specifically, a television apparatus, a personal computer, a recording apparatus, a reproducing apparatus, a game apparatus, a mobile terminal (including mobile phone), or the like. An arbitrary product mode is applied to the embodiments of the present invention.</p>
<p id="h-0007" num="0000">(Structure of Program Reproducing Apparatus <b>2</b>)</p>
<p id="p-0045" num="0044">Next, the structure of the program reproducing apparatus <b>2</b> of this embodiment will be described.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 2</figref> is a diagram showing the structure of the program reproducing apparatus <b>2</b>.</p>
<p id="p-0047" num="0046">As shown in <figref idref="DRAWINGS">FIG. 2</figref>, the program reproducing apparatus <b>2</b> includes a broadcast signal processing unit <b>21</b>, a display unit <b>22</b>, an input unit <b>23</b>, a speaker unit <b>24</b>, and a program recommendation processing unit <b>25</b>.</p>
<p id="p-0048" num="0047">The broadcast signal processing unit <b>21</b> receives digital broadcast signals from the program offering apparatus <b>1</b> via communication media such as the terrestrial waves, the satellite waves, and the IP network, separates stream packets of the program from the digital broadcast signals, decodes the stream packets, to thereby decompress (reproduce) the video signals and the audio signals of the program, and outputs the video signals and the audio signals through the display unit <b>22</b> and the speaker unit <b>24</b>. The broadcast signal processing unit <b>21</b> will be described in detail.</p>
<p id="p-0049" num="0048">The display unit <b>22</b> outputs the video signals decompressed from the digital broadcast signals by the broadcast signal processing unit <b>21</b> as visible information. The input unit <b>23</b> receives various operation instructions and data input by a user. The speaker unit <b>24</b> outputs sounds based on audio signals decompressed from the digital broadcast signals by the broadcast signal processing unit <b>21</b>. The display unit <b>22</b>, the input unit <b>23</b>, and the speaker unit <b>24</b> may be built-in units or external units.</p>
<p id="p-0050" num="0049">The program recommendation processing unit <b>25</b> performs necessary processing for accepting a program recommendation service offered by the recommending server <b>3</b>. The program recommendation processing unit <b>25</b> is, more specifically, implemented by typical computer hardware including a CPU (Central Processing Unit) and a main memory, and a program running the computer hardware.</p>
<p id="p-0051" num="0050">Further, the program reproducing apparatus <b>2</b> may include a nonvolatile storage unit such as a hard disk drive or a flash drive. In this case, the program reproducing apparatus <b>2</b> is capable of recording video signals and audio signals of a received program in the storage unit. Further, the program reproducing apparatus <b>2</b> is also capable of reproducing video signals and audio signals of the program recorded in the storage unit.</p>
<p id="p-0052" num="0051">Here, the broadcast signal processing unit <b>21</b> will be described in detail.</p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram showing the structure of the broadcast signal processing unit <b>21</b>.</p>
<p id="p-0054" num="0053">The broadcast signal processing unit <b>21</b> includes a broadcast signal receiving unit <b>211</b>, a demodulation/decoding unit <b>212</b>, a transport stream (TS) reproducing unit <b>213</b>, a demultiplexer <b>214</b>, a video decoding unit <b>215</b>, an audio decoding unit <b>216</b>, a data decoding unit <b>217</b>, and the like. The structure thereof is similar to the structure of a typical receiving apparatus receiving programs via communication media such as terrestrial waves, satellite waves, and the IP network.</p>
<p id="p-0055" num="0054">The broadcast signal receiving unit <b>211</b> is, more specifically, a tuner tuning and receiving, via antennas, digital broadcast signals transferred from broadcast stations via broadcast media such as terrestrial waves and satellite waves, or an IP network connector unit receiving IP multicast broadcast signals via the IP network.</p>
<p id="p-0056" num="0055">The demodulation/decoding unit <b>212</b> demodulates and decodes the digital broadcast signals received by the broadcast signal receiving unit <b>211</b> using a method according to transmission modes (modulation system, encoding ratio, and the like), and supplies the signals to the transport stream reproducing unit <b>213</b>.</p>
<p id="p-0057" num="0056">The transport stream reproducing unit <b>213</b> reproduces a transport stream based on signals supplied from the demodulation/decoding unit <b>212</b>, to supply to the demultiplexer <b>214</b>.</p>
<p id="p-0058" num="0057">The demultiplexer <b>214</b> separates data streams and the like such as a video stream, an audio stream, and program information from the transport stream supplied from the transport stream reproducing unit <b>213</b>, and supplies them to the video decoding unit <b>215</b>, the audio decoding unit <b>216</b>, and the data decoding unit <b>217</b>, respectively.</p>
<p id="p-0059" num="0058">The video decoding unit <b>215</b> decodes the video stream supplied from the demultiplexer <b>214</b>, and supplies video signals to the display unit <b>22</b>. The audio decoding unit <b>216</b> decodes the audio stream supplied from the demultiplexer <b>214</b>, and supplies audio signals to the speaker unit <b>24</b>. The data decoding unit <b>217</b> decodes the data stream of the program information and the like supplied from the demultiplexer <b>214</b>, and supplies decode results of the program information to the program recommendation processing unit <b>25</b>.</p>
<p id="h-0008" num="0000">(Structure of Program Recommendation Processing Unit <b>25</b>)</p>
<p id="p-0060" num="0059">Referring back to <figref idref="DRAWINGS">FIG. 2</figref>, the structure of the program recommendation processing unit <b>25</b> will be described. The program recommendation processing unit <b>25</b> includes a program information obtaining unit <b>251</b>, a program information storing unit <b>252</b>, a user-country information/user ID storing unit <b>253</b>, a view history package generating unit <b>254</b>, a view history package transferring unit <b>255</b>, a recommended program package obtaining unit <b>256</b>, and a recommended program information outputting unit <b>257</b>.</p>
<p id="p-0061" num="0060">The program information obtaining unit <b>251</b> obtains program information from the broadcast signal processing unit <b>21</b>, and causes the program information storing unit <b>252</b> to store the program information. The program information storing unit <b>252</b> is a storage area storing program information.</p>
<p id="p-0062" num="0061">The user-country information/user ID storing unit <b>253</b> is a storing unit storing user-country information and a user ID (user identifying information). The user-country information is information preset in the user-country information/user ID storing unit <b>253</b> before shipment of the program reproducing apparatus <b>2</b>. For example, in the user-country information/user ID storing unit <b>253</b> of an information processing apparatus shipped in Japan, &#x201c;Japan&#x201d; is recorded as the user-country information. The user ID is an ID for identifying a user, allocated to a user through a user registration process performed by the user of the program reproducing apparatus <b>2</b> with respect to the recommending server <b>3</b>.</p>
<p id="p-0063" num="0062">The view history package generating unit <b>254</b> extracts information on a plurality of previously-determined specific items from the program information stored in the program information storing unit <b>252</b> with regard to a program viewed by a user, and produces a view history package by packaging the information on the plurality of specific items, and the user-country information and the user ID stored in the user-country information/user ID storing unit <b>253</b>. The information on the plurality of specific items will be described later.</p>
<p id="p-0064" num="0063">The view history package transferring unit <b>255</b> transfers the view history package generated by the view history package generating unit <b>254</b> to the recommending server <b>3</b> via the IP network.</p>
<p id="p-0065" num="0064">The recommended program package obtaining unit <b>256</b> obtains a recommended program package being a program recommendation result from the recommending server <b>3</b>, and supplies the recommended program package to the recommended program information outputting unit <b>257</b>.</p>
<p id="p-0066" num="0065">The recommended program information outputting unit <b>257</b> compares the recommended program package supplied from the recommended program package obtaining unit <b>256</b> and the program information stored in the program information storing unit <b>252</b>, to thereby identify a recommended program, and presents information on the identified recommended program to a user through the display unit <b>22</b>.</p>
<p id="h-0009" num="0000">(Structure of Recommending Server <b>3</b>)</p>
<p id="p-0067" num="0066">Next, the structure of the recommending server <b>3</b> will be described.</p>
<p id="p-0068" num="0067">The recommending server <b>3</b> is structured by typical computer hardware including a CPU (Central Processing Unit), a main memory, a ROM (Read Only Member), a storage unit, an input unit, a display unit, an IP network connector unit, and the like, and software such as an OS (Operating System) and an application program running the computer hardware. The storage unit is, for example, a hard disk drive, a flash drive, or the like, and stores, in addition to the OS, the application program for causing a computer to execute the program recommendation service, and various data. The OS and the application program is appropriately loaded from the storage unit to the main memory, and interpreted and executed by the CPU, to thereby cause the computer to function as the recommending server <b>3</b> performing the program recommendation service.</p>
<p id="p-0069" num="0068"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram showing a functional structure for the program recommendation service by the recommending server <b>3</b>.</p>
<p id="p-0070" num="0069">As shown in <figref idref="DRAWINGS">FIG. 4</figref>, the recommending server <b>3</b> includes, as a functional structure for the program recommendation service, a view history package obtaining unit (package obtaining unit), a package table storing unit <b>32</b> (first table storing unit), a package table managing unit <b>33</b> (package identifier generating unit, first table registering unit), a CF table storing unit <b>34</b> (second table storing unit), a CF engine <b>35</b> (second table registering unit, determining unit), a recommended program package transferring unit <b>36</b> (notifying unit), and the like.</p>
<p id="p-0071" num="0070">The view history package obtaining unit <b>31</b> obtains the view history package from the plurality of program reproducing apparatuses <b>2</b> via the IP network, and transfers the view history package to the package table managing unit <b>33</b>.</p>
<p id="p-0072" num="0071">The package table storing unit <b>32</b> stores a package table (first table). The package table is a table in which information on a plurality of specific items, user-country information, and user ID included in the view history package obtained by the view history package obtaining unit <b>31</b>, package ID, obtaining number, and the like are stored in correspondence with each other as one record. At least one record is stored in the table. Here, the package ID is an identifier (package identifier) uniquely allocated to a unique combination of information on a plurality of specific items and user-country information included in the view history package.</p>
<p id="p-0073" num="0072">The package table managing unit <b>33</b> generates a package ID for identifying each unique combination of information on a plurality of specific items and user-country information included in the view history package supplied from the view history package obtaining unit <b>31</b>. Further, the package table managing unit <b>33</b> extracts information on a plurality of specific items and a user ID from the view history package supplied from the view history package obtaining unit <b>31</b>, and registers them in the package table so as to be in correspondence with the above-mentioned package ID. Further, the package table managing unit <b>33</b> supplies contents of a record whose obtaining number reaches a threshold in the package table stored in the package table storing unit <b>32</b>, to the CF engine <b>35</b>.</p>
<p id="p-0074" num="0073">The CF table storing unit <b>34</b> stores a CF table (second table) registering at least one package ID as information corresponding to a program view history of each user of the program reproducing apparatus <b>2</b>.</p>
<p id="p-0075" num="0074">The CF engine <b>35</b> updates the CF table stored in the CF table storing unit <b>34</b> based on contents of the record supplied from the package table managing unit <b>33</b>. More specifically, the CF engine <b>35</b> searches a record corresponding to the program view history of the corresponding user in the CF table based on the user ID in the record supplied from the package table managing unit <b>33</b>, and adds the package ID included in the record supplied from the package table managing unit <b>33</b> to the record. Therefore, the combination of the package IDs registered in correspondence with the user ID in the CF table is updated, and the program view history of the user is updated.</p>
<p id="p-0076" num="0075">Further, when the CF engine <b>35</b> receives a program recommendation request including a user ID from the program reproducing apparatus <b>2</b>, the CF engine <b>35</b> refers to the CF table, calculates similarity of the combination of the package IDs of the program-recommendation-request-source-user and the combinations of the package IDs of other users, and determines another user of high similarity. The CF engine <b>35</b> determines at least one package ID being a difference between the combination of the package IDs of the program-recommendation-request-source-user and the combination of the package IDs of the determined other user. More specifically, the CF engine <b>35</b> determines, in the combination of the package IDs included in the record in the CF table corresponding to the user ID of the determined other user, package IDs other than the package IDs included in the record in the CF table corresponding to the user ID of the program-recommendation-request-source-user, as the above-mentioned difference. Further, the CF engine <b>35</b> packages information on a plurality of specific items and user-country information included in the record corresponding to the package ID in the package table as one recommended program package, and supplies the recommended program package to the recommended program package transferring unit <b>36</b>.</p>
<p id="p-0077" num="0076">The recommended program package transferring unit <b>36</b> transfers the recommended program package supplied from the CF engine <b>35</b> to the program reproducing apparatus <b>2</b> of the program-recommendation-request-source-user via the IP network.</p>
<p id="h-0010" num="0000">(Information on a Plurality of Specific Items and User-Country Information)</p>
<p id="p-0078" num="0077">The program information includes information on a plurality of items such as a program ID, title, information on broadcast date and time, and program contents, and is used to identify a program being broadcasted or a program to be broadcasted by a user or a computer. The program information is multiplexed as SI (Service Information), an EIT (Event Information Table), or the like with the transport stream of a broadcast program, and broadcasted/delivered. In the information on a plurality of items structuring the program information, for example, title, program contents, and the like may include information whose secondary use is limited by its intellectual property rights such as trademark rights or copyrights. Therefore, in a case of exchanging such information between the program reproducing apparatus <b>2</b> and the recommending server <b>3</b>, it is predicted that actual introduction of the system is greatly hampered because, for example, licenses of secondary use should be issued by right holders in the world.</p>
<p id="p-0079" num="0078">Meanwhile, secondary use of information such as a program ID and information on broadcast date and time is not limited by its intellectual property right. However, each piece of information is not enough to identify a program constitutionally. For example, a program ID is an identifier uniquely allocated to each program in conformity with a broadcast standard, and the uniqueness of the program ID is only ensured in one country or territory. Therefore, in a case where service targets are a plurality of countries or territories whose broadcast standards are different from each other, it is impossible to identify a program with only a program ID.</p>
<p id="p-0080" num="0079">In view of the above, the program recommendation system of this embodiment uses a combination of information on a plurality of previously-determined specific items never including, as contents, information whose secondary use is limited by its intellectual property right in program information, as information for identifying a program. More specifically, information on a plurality of previously-determined specific items at least including an item of a program ID and an item of information on broadcast date and time is used. A reason for using information on at least the two items of the program ID and the information on broadcast date and time is as follows. In a case where the target area of the program recommendation service is enlarged to a plurality of countries and territories whose broadcast standards are different from each other, there is a possibility that a plurality of different programs of the same program ID coexist, but there is little probability that the broadcast date and time of the plurality of programs is the same. According to the program recommendation system of this embodiment, without using information whose secondary use may be limited by its intellectual property right, the target area of the program recommendation service is enlarged to a plurality of countries and territories whose broadcast standards are different from each other, and generation of a predetermined restriction on program identify accuracy and recommended program estimation accuracy is accepted.</p>
<p id="p-0081" num="0080">Further, the program information includes, in addition to the program ID and information on broadcast date and time, many pieces of information on items never including, as contents, information whose secondary use is limited by its intellectual property right. Information on at least one item in information on the plurality of items may be combined with the program ID and information on broadcast date and time, to be used. Larger the number of information to be combined, the program identify accuracy and the recommended program estimation accuracy may be increased.</p>
<p id="p-0082" num="0081">In order to further increase the program identify accuracy and the recommended program estimation accuracy, not only information on a plurality of specific items in the program information, but also user-country information previously set to the program reproducing apparatus <b>2</b> may be used.</p>
<p id="p-0083" num="0082">Further, the combination of the program ID and the user-country information may be used. In this case also, the program recommendation service targeting a plurality of countries and territories whose broadcast standards are different from each other may be performed well. However, the following problem may occur. That is, there is a possibility that a plurality of different programs to which the same program ID is allocated exist in one country or territory. This is because a method of reusing IDs in a case where types of IDs have run dry, and a rule of, in a case of rebroadcasting an old program, using a program ID previously allocated to the program as it is or newly reallocating a program ID are not internationally-standardized, and the like. If, in a case where program IDs have run dry, IDs are reused from the default, and if, in a case of rebroadcasting an old program, a program ID previously allocated to the program is used as it is, there is a high possibility that a plurality of different programs to which the same program ID is allocated coexist. Therefore, in such a case, there is fear that a program identify error might generate. However, according to the program recommendation system of this embodiment, without using information whose secondary use may be limited by its intellectual property right, the target area of the program recommendation service is enlarged to a plurality of countries and territories whose broadcast standards are different from each other, and generation of a predetermined restriction on program identify accuracy and recommended program estimation accuracy is accepted.</p>
<p id="p-0084" num="0083">As a specific example of information on a plurality of specific items in the program information, a case where program information on DVB (European broadcast standard) is targeted will be described.</p>
<p id="p-0085" num="0084">The DVB program information includes information on a plurality of items such as title, broadcast station name, staff/cast information, program details, program ID, broadcast start time, program length, genre, video image/audio information, rating, and the like. Here, the program ID is structured by network_id, transport_stream_id, service_id, event_id, and the like. Of those, the network_id, transport_stream_id, and service_id are identifiers for identifying a program offering target. Event_id is an identifier for identifying a program. The broadcast start time (start_time) is information on time that broadcasting of a program is started (local time of a territory where the broadcast station exists). The program length (duration) is a length of a program broadcast time period. The genre (content_nibble_level<sub>&#x2014;</sub>1/2) is information indicating a program genre. The video image/audio information (component_type) is information indicating the kind of video image data (number of scanning lines, aspect ratio, and the like), the kind of audio data (monaural/stereo), and the like. The rating is information on a parental lock.</p>
<p id="p-0086" num="0085">In the information on the above-mentioned items, the items of title, broadcast station name, and staff/cast information may include, as contents, information whose secondary use is limited by their intellectual property rights. Meanwhile, the items of program ID, broadcast start time, program length, genre, video image/audio information, and rating never include, as contents, information whose secondary use is limited. Note that, the broadcast start time corresponds to information on the above-mentioned broadcast date and time. Therefore, in a case of DVB also, the combination of information on a plurality of specific items including at least two items of program ID and broadcast start time may be used as information for identifying a program.</p>
<p id="p-0087" num="0086">Next, operations of the system of this embodiment will be described.</p>
<p id="h-0011" num="0000">(Generation/Transfer of View History Package)</p>
<p id="p-0088" num="0087"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart showing operation steps of generating/transferring a view history package by the program reproducing apparatus <b>2</b>.</p>
<p id="p-0089" num="0088">Note that, in the operations, the combination of information on the items of program ID, broadcast start time, program length, genre, video image/audio information, and rating in the DVB program information and user-country information is used as information for identifying a program.</p>
<p id="p-0090" num="0089">The program reproducing apparatus <b>2</b> performs the following operation to accept the program recommendation service offered by the recommending server <b>3</b>.</p>
<p id="p-0091" num="0090">(Step S<b>101</b>) First, the view history package generating unit <b>254</b> of the program reproducing apparatus <b>2</b> determines a program that the broadcast signal processing unit <b>21</b> continuously reproduces, for example, for a predetermined period of time, as a program viewed by a user. Here, the predetermined period of time is a time period with which actual view is distinguished from zapping of selecting a program by a user (for example, a few minutes).</p>
<p id="p-0092" num="0091">(Step S<b>102</b>) Determining program view by a user, the view history package generating unit <b>254</b> extracts, from program information on the viewed program stored in the program information storing unit <b>252</b>, information on the items of program ID, broadcast start time, program length, genre, video image/audio information, and rating, as information on a plurality of specific items.</p>
<p id="p-0093" num="0092">(Step S<b>103</b>) Next, the view history package generating unit <b>254</b> packages the extracted information on the plurality of specific items, and the user-country information and the user ID previously stored in the user-country information/user ID storing unit <b>253</b>, as one view history package, and supplies the view history package to the view history package transferring unit <b>255</b>.</p>
<p id="p-0094" num="0093">(Step S<b>104</b>) Receiving the view history package, the view history package transferring unit <b>255</b> transfers the view history package to the recommending server <b>3</b> via the IP network.</p>
<p id="p-0095" num="0094">The above-mentioned generation and transfer of a view history package may be performed, as described above, every time a program viewed by a user is determined. Alternatively, information capable of internally and uniquely identifying a program viewed by a user may be stored, and generation and transfer of a view history package may be time-periodically performed in a batch.</p>
<p id="h-0012" num="0000">(Management of Program View History for Each User)</p>
<p id="p-0096" num="0095">The recommending server <b>3</b> identifies a program based on the combination of information on a plurality of specific items and user-country information included in the view history package obtained from the program reproducing apparatus <b>2</b>. The recommending server <b>3</b> generates a package ID with regard to the combination of the information, and registers, based on the user ID included in the view history package, the package ID in the CF table for storing a program view history for each user. Hereinafter, management of a program view history for each user by the recommending server <b>3</b> will be described in detail.</p>
<p id="p-0097" num="0096"><figref idref="DRAWINGS">FIG. 6</figref> is a flowchart showing steps of managing a view history for each user by the recommending server <b>3</b>.</p>
<p id="p-0098" num="0097">(Step S<b>201</b>) First, the view history package obtaining unit <b>31</b> obtains a view history package transferred to the recommending server <b>3</b> from one of the program reproducing apparatuses <b>2</b> via the IP network. The view history package obtaining unit <b>31</b> supplies the obtained view history package to the package table managing unit <b>33</b>.</p>
<p id="p-0099" num="0098">Receiving the view history package from the view history package obtaining unit <b>31</b>, the package table managing unit <b>33</b> updates the package table stored in the package table storing unit <b>32</b> as follows.</p>
<p id="p-0100" num="0099"><figref idref="DRAWINGS">FIG. 7</figref> shows an example of the package table. As shown in <figref idref="DRAWINGS">FIG. 7</figref>, the package table is a table in which information on a plurality of specific items and user-country information extracted from the view history package, package ID, obtaining number, user ID, and the like are stored in correspondence with each other as one record. At least one record is stored in the table. The package ID is an identifier uniquely allocated to a unique combination of information on a plurality of specific items and user-country information. The obtaining number is a count number of an obtaining value of the view history package for each package ID. The user ID is a user ID included in the view history package. Note that, in <figref idref="DRAWINGS">FIG. 7</figref>, &#x201c;***&#x201d; shows any registered information. The user ID may be managed by another table in correspondence with the package ID.</p>
<p id="p-0101" num="0100">(Step S<b>202</b>) The package table managing unit <b>33</b> determines, in order to secure uniqueness of the combination of information on the plurality of specific items and user-country information in each record registered in the package table, if the combination of information on the plurality of specific items and user-country information included in the obtained view history package is already registered in the package table.</p>
<p id="p-0102" num="0101">(Step S<b>203</b>) In a case where the combination of information on the plurality of specific items and user-country information included in the view history package is not registered in the package table, the package table managing unit <b>33</b> generates a new package ID with regard to the combination of information on the plurality of specific items and user-country information included in the view history package supplied from the view history package obtaining unit <b>31</b>.</p>
<p id="p-0103" num="0102">(Step S<b>204</b>) Subsequently, the package table managing unit <b>33</b> registers information on a plurality of specific items, user-country information, and user ID included in the view history package supplied from the view history package obtaining unit <b>31</b> in correspondence with the above-mentioned new package ID in the package table as a new record. Further, the package table managing unit <b>33</b> sets &#x201c;1&#x201d; being a default as the obtaining number in the new record. Here, the processing of obtaining a view history package is finished.</p>
<p id="p-0104" num="0103">(Step S<b>205</b>) Further, the following is an operation in a case where the combination of information on a plurality of specific items and user-country information included in the view history package is already registered in any record in the package table. In this case, the package table managing unit <b>33</b> increments the obtaining number value in the data package record. Further, the package table managing unit <b>33</b> adds the user ID included in the view history package to the record. Note that, in a case where the same user ID is already registered, increment of the obtaining number value is only performed.</p>
<p id="p-0105" num="0104">(Step S<b>206</b>) Subsequently, the package table managing unit <b>33</b> determines if the incremented obtaining number reaches a threshold. In a case where the incremented obtaining number does not reach the threshold, the processing of obtaining a view history package is finished.</p>
<p id="p-0106" num="0105">(Step S<b>207</b>) In a case where the incremented obtaining number reaches the threshold, the package table managing unit <b>33</b> retrieves package IDs and user ID (all user IDs in records) included in the record whose obtaining number reaches the threshold, and notifies the CF engine <b>35</b> of a CF table update request including them.</p>
<p id="p-0107" num="0106">(Step S<b>208</b>) Receiving the CF table update request, the CF engine <b>35</b>A adds the package ID included in the CF table update request to the record in the CF table corresponding to each user ID included in the CF table update request.</p>
<p id="p-0108" num="0107"><figref idref="DRAWINGS">FIG. 8</figref> shows an example of the CF table. As shown in <figref idref="DRAWINGS">FIG. 8</figref>, the CF table is a table capable of registering a plurality of package IDs as information corresponding to a program view history for each of the users of the plurality of the program reproducing apparatuses <b>2</b> capable of accepting the service offered by the recommending server <b>3</b>. Note that, in <figref idref="DRAWINGS">FIG. 8</figref>, &#x201c;- -&#x201d; shows a package ID unregistered area. In the CF table, for example, three package IDs=1, 10, and 12 correspond to the user ID=1. The combinations of the three package IDs are information corresponding to a program view history of the user.</p>
<p id="p-0109" num="0108">A specific example of updating the CF table will be described.</p>
<p id="p-0110" num="0109">Here, the recommending server <b>3</b> assumes that the combination of information on a plurality of specific items and user-country information included in the view history package obtained from the program reproducing apparatus <b>2</b> of a user (user ID=1) coincides with the combination of information included in the record of the package ID=23 included in the package table of <figref idref="DRAWINGS">FIG. 7</figref>. Then, a case where, as the result of incrementing the obtaining number value in the record, the obtaining number value reaches the threshold (in this example, 100,000) is assumed. Receiving a CF table update request including the package ID (=23) and the user ID (=1, 4) included in the record whose obtaining number reaches the threshold from the package table managing unit <b>33</b>, the CF engine <b>35</b> updates the CF table. For example, in a case where the unupdated CF table is as shown in <figref idref="DRAWINGS">FIG. 8</figref>, the package ID (=23) is added to each record corresponding to the user ID (=1, 4) in the CF table, whereby the updated CF table is as shown in <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="h-0013" num="0000">(Estimation of Recommended Program)</p>
<p id="p-0111" num="0110">In the CF table, a plurality of users whose combinations of package IDs are similar to each other have program view histories similar to each other. Therefore, there is a high validity that a program viewed by only part of users of a plurality of users having the similar program view histories is a recommended program for other users. From the above-mentioned viewpoint, the recommending server <b>3</b> estimates a recommended program as follows.</p>
<p id="p-0112" num="0111"><figref idref="DRAWINGS">FIG. 10</figref> is a flowchart showing steps of an operation of estimating a recommended program by the recommending server <b>3</b>.</p>
<p id="p-0113" num="0112">(Step S<b>301</b>) The recommended program package obtaining unit <b>256</b> of the program reproducing apparatus <b>2</b> transfers a program recommendation request including a user ID to the recommending server <b>3</b> via the IP network.</p>
<p id="p-0114" num="0113">(Step S<b>302</b>) The CF engine <b>35</b> of the recommending server <b>3</b> receives the program recommendation request including the user ID transferred from the program reproducing apparatus <b>2</b>.</p>
<p id="p-0115" num="0114">(Step S<b>303</b>) Receiving the program recommendation request including the user ID, the CF engine <b>35</b> refers to the CF table, and determines, based on the similarity of the combinations of package IDs between a request source user and respective other users, another user whose program view history is similar to the program view history of the request source user.</p>
<p id="p-0116" num="0115">A specific example of the operation will be described. For example, it is assumed that the CF engine <b>35</b> of the recommending server <b>3</b> receives a program recommendation request from the program reproducing apparatus <b>2</b> of a user of user ID=1. The state of the CF table in this case is as shown in <figref idref="DRAWINGS">FIG. 9</figref>. The CF engine <b>35</b> obtains similarity of the combination of package IDs of the request source user (user ID=1) in the CF table and the combinations of package IDs of the respective users other than the request source user in the CF table. Making it simple, here, a case of obtaining similarity of six users having user ID=1 to 6 in the CF table of <figref idref="DRAWINGS">FIG. 9</figref> will be described. Note that, there are various methods as specific calculation methods of similarity. The specific calculation methods include, for example, a method based on the number of coincided package IDs, a method based on a ratio of the number of coincided package IDs, and the like are. Here, a case where similarity is obtained based on the number of coincided package IDs, and another user whose program view history is similar to a program view history of a request source user will be described.</p>
<p id="p-0117" num="0116">The numbers of coincided package IDs between the combination of the package IDs (<b>1</b>, <b>10</b>, <b>12</b>, <b>23</b>) corresponding to user ID=1 of the request source user and the combinations of the package IDs of other users are examined:</p>
<p id="p-0118" num="0117">the coincided number with the user of user ID=2 is 1;</p>
<p id="p-0119" num="0118">the coincided number with the user of user ID=3 is 0;</p>
<p id="p-0120" num="0119">the coincided number with the user of user ID=4 is 3;</p>
<p id="p-0121" num="0120">the coincided number with the user of user ID=5 is 0; and</p>
<p id="p-0122" num="0121">the coincided number with the user of user ID=6 is 0.</p>
<p id="p-0123" num="0122">Here, in a case where criteria for determining another user having a similar program view history are that the number of coincided package IDs is 3 or more and the largest, a user of user ID=4 is determined as another user having a program view history similar to the program view history of the request source user. Therefore, a plurality of other users having program view histories similar to the program view history of the request source user may be determined.</p>
<p id="p-0124" num="0123">(Step S<b>304</b>) After other users having program view histories similar to the program view history of the request source user are determined as described above, the CF engine <b>35</b> determines, for each of the determined other users, from a plurality of package IDs corresponding to the user ID of each user, package IDs other than the package IDs corresponding to the user ID of the request source user. For example, in the above-mentioned operation example, it is determined that one user of user ID=4 is determined as another user having a program view history similar to the program view history of the request source user. Here, as shown in <figref idref="DRAWINGS">FIG. 9</figref>, since a plurality of package IDs corresponding to user ID=4 are &#x201c;10&#x201d;, &#x201c;12&#x201d;, &#x201c;19&#x201d;, and &#x201c;23&#x201d;, and package IDs corresponding to user ID=1 of the request source user are &#x201c;1&#x201d;, &#x201c;10&#x201d;, &#x201c;12&#x201d;, and &#x201c;23&#x201d;, package ID=19 is obtained as the result of determination. Note that, the kinds of package ID being a determination result is not limited to one, but a plurality of package IDs may be obtained. Further, in a case where there are a plurality of other users having program view histories similar to the program view history of the request source user, the CF engine <b>35</b> obtains the sum of the determined package IDs in the user IDs of the respective other users as a conclusive determination result.</p>
<p id="p-0125" num="0124">(Step S<b>305</b>) After that, the CF engine <b>35</b> packages information on a plurality of specific items included in the records in the package table corresponding to the determined package IDs, to thereby produce a recommended program package. Therefore, a recommended program package in which information on programs having a high possibility that the programs fit the program view history of the request source user and are not viewed by the request source user yet are organized into one is obtained.</p>
<p id="p-0126" num="0125">(Step S<b>306</b>) The CF engine <b>35</b> supplies the generated recommended program package to the recommended program package transferring unit <b>36</b>. The recommended program package transferring unit <b>36</b> transfers the recommended program package supplied from the CF engine <b>35</b> to the program reproducing apparatus <b>2</b> of the request source user via the IP network.</p>
<p id="p-0127" num="0126">(Step S<b>307</b>) The recommended program package obtaining unit <b>256</b> of the program reproducing apparatus <b>2</b> obtains the recommended program package transferred from the CF engine <b>35</b> of the recommending server <b>3</b>, and supplies the recommended program package to the recommended program information outputting unit <b>257</b>.</p>
<p id="p-0128" num="0127">(Step S<b>308</b>) The recommended program information outputting unit <b>257</b> compares information on a plurality of specific items included in the recommended program package and program information stored in the program information storing unit <b>252</b>, identifies a recommended program, and presents program information on the identified recommended program to the user through the display unit <b>22</b>. In this case, the presented program information may include, in addition to program ID and information on broadcast date and time, information whose secondary use is limited by its intellectual property right such as title, broadcast station name, and program contents. That is, displaying the information is primary use of program information stored of the program reproducing apparatus <b>2</b>.</p>
<p id="p-0129" num="0128">As a method of displaying program information on a recommended program by the display unit <b>22</b>, for example, in a case where there is an information display area for navigating program tuning or apparatus operation by a user other than an area for displaying a program tuned by a user on the screen of the display unit <b>22</b>, program information on a recommended program may be displayed on the information display area. Alternatively, program information on the recommended program may be displayed in an area for displaying a program tuned by a user in an overlapped manner.</p>
<p id="p-0130" num="0129">As described above, according to this embodiment, without exchanging information on items which may include information whose secondary use is limited by its intellectual property right such as, for example, title, broadcast station name, and staff/cast information in the program information, between the information the program reproducing apparatus <b>2</b> and the recommending server <b>3</b>, the program recommendation service targeting a plurality of countries and territories whose broadcast standards are different from each other is well performed.</p>
<p id="p-0131" num="0130">Further, according to this embodiment, since, in the package table, the CF table is updated with regard to the package ID and user ID included in the record whose obtaining number reaches the threshold, the number of updating the CF table is reduced to thereby reduce the load of processing, and registering a package ID corresponding to a combination of information on a plurality of specific items, which is ungeneratable under normal circumstances, in the CF table in error is avoided. Therefore, reliability of the program recommendation service is improved.</p>
<heading id="h-0014" level="1">Second Embodiment</heading>
<p id="p-0132" num="0131">Next, a second embodiment according to the present invention will be described.</p>
<p id="p-0133" num="0132">In the first embodiment, when the CF engine <b>35</b> of the recommending server <b>3</b> receives a program recommendation request including a user ID from the program reproducing apparatus <b>2</b>, the operation of estimating a recommended program is started. As a modified embodiment thereof, the recommending server <b>3</b> may automatically and time-periodically start the operation of estimating a recommended program.</p>
<p id="p-0134" num="0133"><figref idref="DRAWINGS">FIG. 11</figref> is a flowchart showing steps of an operation of estimating a recommended program by the recommending server <b>3</b> according to the second embodiment.</p>
<p id="p-0135" num="0134">(Step S<b>401</b>) The CF engine <b>35</b> time-periodically refers to the CF table, and determines two users, the similarity of combinations of package IDs of which reaches a threshold.</p>
<p id="p-0136" num="0135">For, example, in a state where the CF table of <figref idref="DRAWINGS">FIG. 9</figref> exists, the numbers of coincided package IDs between two users are:</p>
<p id="p-0137" num="0136">1 between users of user IDs=1 and 2;</p>
<p id="p-0138" num="0137">0 between users of user IDs=1 and 3;</p>
<p id="p-0139" num="0138">3 between users of user IDs=1 and 4;</p>
<p id="p-0140" num="0139">0 between users of user IDs=1 and 5;</p>
<p id="p-0141" num="0140">0 between users of user IDs=1 and 6;</p>
<p id="p-0142" num="0141">2 between users of user IDs=2 and 3;</p>
<p id="p-0143" num="0142">0 between users of user IDs=2 and 4;</p>
<p id="p-0144" num="0143">1 between users of user IDs=2 and 5;</p>
<p id="p-0145" num="0144">0 between users of user IDs=2 and 6;</p>
<p id="p-0146" num="0145">0 between users of user IDs=3 and 4;</p>
<p id="p-0147" num="0146">1 between users of user IDs=3 and 5;</p>
<p id="p-0148" num="0147">0 between users of user IDs=3 and 6;</p>
<p id="p-0149" num="0148">0 between users of user IDs=4 and 5;</p>
<p id="p-0150" num="0149">0 between users of user IDs=4 and 6; and</p>
<p id="p-0151" num="0150">0 between users of user IDs=5 and 6.</p>
<p id="p-0152" num="0151">In a case where a threshold is 3, users of user IDs=1 and 4 are determined as two users, the similarity of combinations of package IDs of which reaches a threshold.</p>
<p id="p-0153" num="0152">(Step S<b>402</b>) Next, the CF engine <b>35</b> determines, with regard to the determined two users, package identifiers corresponding to programs recommended to the respective users based on a difference of the program view histories of the users. Specifically, the CF engine <b>35</b> determines, from a plurality of package IDs corresponding to a user ID of one user of the two users, package IDs other than package IDs corresponding to the other user. For example, in the above-mentioned example, the package IDs corresponding to user ID=1 are &#x201c;1&#x201d;, &#x201c;10&#x201d;, &#x201c;12&#x201d;, and &#x201c;23&#x201d;, and the package IDs corresponding to user ID=4 are &#x201c;10&#x201d;, &#x201c;12&#x201d;, &#x201c;19&#x201d;, and &#x201c;23&#x201d;. Therefore, package ID=19 is determined to the user of user ID=1, and package ID=1 is determined to the user of user ID=4.</p>
<p id="p-0154" num="0153">(Step S<b>403</b>) After that, the CF engine <b>35</b> packages information on a plurality of specific items included in a record in the package table corresponding to the determined package ID for each user, and produces a recommended program package for each user. The CF engine <b>35</b> requests the recommended program package transferring unit <b>36</b> to transfer recommended program packages for the respective users to the program reproducing apparatuses <b>2</b> (the program reproducing apparatuses <b>2</b>-<b>1</b>, <b>2</b>-<b>2</b> in <figref idref="DRAWINGS">FIG. 11</figref>) of the corresponding users.</p>
<p id="p-0155" num="0154">(Step S<b>404</b>) According to the request from the CF engine <b>35</b>, the recommended program package transferring unit <b>36</b> transfers recommended program packages for respective users to the program reproducing apparatuses <b>2</b> (program reproducing apparatuses <b>2</b>-<b>1</b>, <b>2</b>-<b>2</b>) of the corresponding users via the IP network.</p>
<p id="p-0156" num="0155">(Step S<b>405</b>A, S<b>405</b>B) Similar to the first embodiment, the recommended program package obtaining unit <b>256</b> in each of the program reproducing apparatuses <b>2</b> (<b>2</b>-<b>1</b>, <b>2</b>-<b>2</b>) obtains a recommended program package transferred from the CF engine <b>35</b> of the recommending server <b>3</b>, and supplies the recommended program package to the recommended program information outputting unit <b>257</b>.</p>
<p id="p-0157" num="0156">(Step S<b>406</b>A, S<b>406</b>B) In each of the program reproducing apparatuses <b>2</b> (<b>2</b>-<b>1</b>, <b>2</b>-<b>2</b>), the recommended program information outputting unit <b>257</b> compares information on a plurality of specific items included in the recommended program package and program information stored in the program information storing unit <b>252</b>, identifies a recommended program, and presents program information on the identified recommended program to the user through the display unit <b>22</b>.</p>
<p id="p-0158" num="0157">For example, in the above-mentioned example, in a case where a user of the program reproducing apparatus <b>2</b>-<b>1</b> is a user of user ID=1, program information on the recommended program is presented to the user of the program reproducing apparatus <b>2</b>-<b>1</b> where the recommended program is a program corresponding to package ID=19 in the package table. Similarly, in a case where a user of the program reproducing apparatus <b>2</b>-<b>2</b> is a user of user ID=4, program information on the recommended program is presented to the user of the program reproducing apparatus <b>2</b>-<b>2</b> where the recommended program is a program corresponding to package ID=1 in the package table.</p>
<p id="p-0159" num="0158">As described above, according to the second embodiment, without depending on a program recommendation request from the program reproducing apparatuses <b>2</b> (<b>2</b>-<b>1</b>, <b>2</b>-<b>2</b>), the recommending server <b>3</b> is capable of time-periodically and automatically determining two users, the similarity of combinations of package IDs of which reaches a threshold, and transferring a recommended program package to each of the program reproducing apparatuses <b>2</b> (<b>2</b>-<b>1</b>, <b>2</b>-<b>2</b>) of respective users.</p>
<heading id="h-0015" level="1">Third Embodiment</heading>
<p id="p-0160" num="0159">Next, a third embodiment according to the present invention will be described.</p>
<p id="p-0161" num="0160">In the above-mentioned first embodiment, the recommending server <b>3</b> transfers a recommended program package including information on a plurality of specific items in program information as a program recommendation result to the program reproducing apparatus <b>2</b>, and the program reproducing apparatus <b>2</b> compares information on the plurality of specific items included in the recommended program package and program information stored in the program information storing unit <b>252</b>, to thereby identify a recommended program. In the third embodiment, the recommending server <b>3</b> also identifies a recommended program.</p>
<p id="h-0016" num="0000">(Structure of Program Reproducing Apparatus <b>2</b><i>a</i>)</p>
<p id="p-0162" num="0161"><figref idref="DRAWINGS">FIG. 12</figref> is a diagram showing the structure of a program reproducing apparatus <b>2</b>A according to the third embodiment.</p>
<p id="p-0163" num="0162">As shown in <figref idref="DRAWINGS">FIG. 12</figref>, the program reproducing apparatus <b>2</b>A includes the broadcast signal processing unit <b>21</b>, the display unit <b>22</b>, the input unit <b>23</b>, the speaker unit <b>24</b>, and a program recommendation processing unit <b>25</b>A. The structure other than the structure of the program recommendation processing unit <b>25</b>A is similar to that of the program reproducing apparatus <b>2</b> of the first embodiment. The program recommendation processing unit <b>25</b>A includes the program information obtaining unit <b>251</b>, the program information storing unit <b>252</b>, the user-country information/user ID storing unit <b>253</b>, the view history package generating unit <b>254</b>, the view history package transferring unit <b>255</b>, a recommended program ID obtaining unit <b>256</b>A, and a recommended program information outputting unit <b>257</b>A. Here, the structure other than the structure of the recommended program ID obtaining unit <b>256</b>A and the recommended program information outputting unit <b>257</b>A is similar to that of the program recommendation processing unit <b>25</b> of the first embodiment, so the description thereof will be omitted.</p>
<p id="p-0164" num="0163">The recommended program ID obtaining unit <b>256</b>A transfers a program recommendation request including a user ID and user-country information to the recommending server <b>3</b> via the IP network, obtains a program ID of a recommended program as a program recommendation result from a recommending server <b>3</b>A as the response, and supplies the program ID to the recommended program information outputting unit <b>257</b>A.</p>
<p id="p-0165" num="0164">The recommended program information outputting unit <b>257</b>A extracts, based on a program ID of a recommended program supplied from the recommended program ID obtaining unit <b>256</b>A, program information on the corresponding program from the program information storing unit <b>252</b>, and presents the program information to a user via the display unit <b>22</b>.</p>
<p id="h-0017" num="0000">(Structure of Recommending Server <b>3</b><i>a</i>)</p>
<p id="p-0166" num="0165"><figref idref="DRAWINGS">FIG. 13</figref> is a block diagram showing a functional structure for the program recommendation service of the recommending server <b>3</b>A.</p>
<p id="p-0167" num="0166">As shown in <figref idref="DRAWINGS">FIG. 13</figref>, the recommending server <b>3</b>A includes, as the functional structure for the program recommendation service, the view history package obtaining unit <b>31</b>, the package table storing unit <b>32</b>, the package table managing unit <b>33</b>, the CF table storing unit <b>34</b>, a CF engine <b>35</b>A, a recommended program ID transferring unit <b>36</b>A, a program-information-for-countries obtaining unit <b>37</b>A, a program-information-for-countries storing unit <b>38</b>A, and the like.</p>
<p id="p-0168" num="0167">The program-information-for-countries obtaining unit <b>37</b>A obtains program information in all the countries/territories in a service target area via transmission media such as broadcast waves and the IP network, and causes the program-information-for-countries storing unit <b>38</b>A to store the program information. The program-information-for-countries storing unit <b>38</b>A stores program information in each of the countries/territories obtained by the program-information-for-countries obtaining unit <b>37</b>A in correspondence with country/territory information.</p>
<p id="p-0169" num="0168">The CF engine <b>35</b>A determines another user having a program view history similar to that of a program-recommendation-request-source-user, and determines, in package IDs included in a record in a CF table corresponding to a user ID of the determined other user, package IDs other than the package IDs included in the record in the CF table corresponding to a user ID of the program-recommendation-request-source-user. Further, the CF engine <b>35</b>A determines, based on user-country information included in a program recommendation request, in program information on respective countries/territories stored in the program-information-for-countries storing unit <b>38</b>A in correspondence with country/territory information, program information on the corresponding country/territory. Then, the CF engine <b>35</b>A compares information on a plurality of specific items in a record corresponding to the above-mentioned determined package ID and the above-mentioned determined program information, to thereby determine their consistency, and supplies, in a case where consistency is ensured, only program ID in information on a plurality of specific items to the recommended program ID transferring unit <b>36</b>A.</p>
<p id="p-0170" num="0169">The recommended program ID transferring unit <b>36</b>A transfers the program ID supplied from the CF engine <b>35</b>A to the program reproducing apparatus <b>2</b>A of a request source user via the IP network as a program ID of a recommended program.</p>
<heading id="h-0018" level="1">Operation of Third Embodiment</heading>
<p id="p-0171" num="0170">Next, an operation of the third embodiment will be described.</p>
<p id="p-0172" num="0171">Generating/transferring a view history package by the program reproducing apparatus <b>2</b>A is similar to that of the first embodiment, so the description will be omitted.</p>
<p id="p-0173" num="0172">Managing a program view history for each user by the recommending server <b>3</b>A is similar to that of the first embodiment, so the description will be omitted.</p>
<p id="p-0174" num="0173">An operation of estimating a recommended program by the recommending server <b>3</b>A according to this embodiment is as follows.</p>
<p id="p-0175" num="0174"><figref idref="DRAWINGS">FIG. 14</figref> is a flowchart showing steps of an operation of estimating a recommended program by the recommending server <b>3</b>A.</p>
<p id="p-0176" num="0175">(Step S<b>301</b>A) The recommended program ID obtaining unit <b>256</b>A of the program reproducing apparatus <b>2</b>A transfers a program recommendation request including a user ID and user-country information to the recommending server <b>3</b>A via the IP network.</p>
<p id="p-0177" num="0176">(Step S<b>302</b>A) The CF engine <b>35</b>A of the recommending server <b>3</b>A receives the program recommendation request including a user ID and user-country information transferred from the program reproducing apparatus <b>2</b>A.</p>
<p id="p-0178" num="0177">(Step S<b>303</b>A) Receiving the program recommendation request including a user ID and user-country information, the CF engine <b>35</b>A refers to a CF table, and determines, based on the similarity of the combinations of package IDs between a request source user and respective other users, another user whose program view history is similar to the program view history of the request source user.</p>
<p id="p-0179" num="0178">(Step S<b>304</b>A) Next, the CF engine <b>35</b>A determines, for each determined user, from a plurality of package IDs corresponding to a user ID of the user, a package ID other than a package ID corresponding to a user ID of the request source user as a package ID of a recommended program.</p>
<p id="p-0180" num="0179">(Step S<b>305</b>A) After that, the CF engine <b>35</b>A determines, based on user-country information included in the program recommendation request, from program information on the respective countries/territories stored in the program-information-for-countries storing unit <b>38</b>A, program information on the corresponding country/territory.</p>
<p id="p-0181" num="0180">(Step S<b>306</b>A) Next, the CF engine <b>35</b>A compares information on a plurality of specific items in a record corresponding to package ID of a recommended program determined in Step S<b>304</b>A and program information on a country/territory determined in Step S<b>305</b>A, to thereby determine their consistency.</p>
<p id="p-0182" num="0181">(Step S<b>307</b>A) In a case where consistency is not ensured, the CF engine <b>35</b>A finishes the processing as a program recommendation determination error.</p>
<p id="p-0183" num="0182">(Step S<b>308</b>A) In a case where consistency is ensured, the CF engine <b>35</b>A supplies only a program ID in information on a plurality of specific items to the recommended program ID transferring unit <b>36</b>A. The recommended program ID transferring unit <b>36</b>A transfers the recommended program ID supplied from the CF engine <b>35</b>A to the program reproducing apparatus <b>2</b>A of the request source user via the IP network.</p>
<p id="p-0184" num="0183">(Step S<b>309</b>A) The recommended program ID obtaining unit <b>256</b>A of the program reproducing apparatus <b>2</b>A obtains the recommended program ID transferred from the recommending server <b>3</b>A, and supplies the recommended program ID to the recommended program information outputting unit <b>257</b>A.</p>
<p id="p-0185" num="0184">(Step <b>310</b>A) The recommended program information outputting unit <b>257</b> extracts, based on a program ID of a recommended program supplied from the recommended program ID obtaining unit <b>256</b>A, program information on the corresponding program from the program information storing unit <b>252</b>, and presents the program information to a user through the display unit <b>22</b>. In this case, the presented program information may include, in addition to program ID and information on broadcast date and time, information whose secondary use is limited such as title, broadcast station name, and program contents.</p>
<p id="p-0186" num="0185">As described above, also according to this embodiment, without exchanging information on items which may include information whose secondary use is limited by their intellectual property rights such as, for example, title, broadcast station name, and staff/cast information in the program information, between the information the program reproducing apparatus <b>2</b>A and the recommending server <b>3</b>A, the program recommendation service by the recommending server <b>3</b>A is well performed.</p>
<heading id="h-0019" level="1">Modified Example 1</heading>
<p id="p-0187" num="0186">Note that, in the above-mentioned third embodiment, the program-information-for-countries storing unit <b>38</b>A stores country/territory information in correspondence with program information, and the country/territory information and user-country information included in a program recommendation request from the program reproducing apparatus <b>2</b>A are compared. Alternatively, in a specification in which program information includes country/territory information, country/territory information included in the program information and user-country information included in a program recommendation request may be compared.</p>
<heading id="h-0020" level="1">Modified Example 2</heading>
<p id="p-0188" num="0187">In the above-mentioned embodiments, the program reproducing apparatus supplies information on a plurality of specific items never including, as contents, information whose secondary use is limited by its intellectual property right in program information and user-country information to the recommending server, to thereby identify a program. However, as described in (Information on a plurality of specific items and user-country information), the program reproducing apparatus may supply only information on a plurality of specific items never including, as contents, information whose secondary use is limited by its intellectual property right to the recommending server, to thereby identify a program. Further, the program reproducing apparatus may supply only a program ID in program information and user-country information to the recommending server to thereby identify a program.</p>
<heading id="h-0021" level="1">Modified Example 3</heading>
<p id="p-0189" num="0188">In the above-mentioned embodiments, the program reproducing apparatus packages information on a plurality of specific items in program information, user-country information, and a user ID into one view history package, and transfers the view history package to the recommending server. However, the present invention is not limited to this. The transferring timings of information on a plurality of specific items in program information, user-country information, and a user ID may not be the same. For example, in one communication session managing start, continuation, end, and the like of a series of communication, the program reproducing apparatus may transfer information on a plurality of specific items, user-country information, and a user ID to the recommending server. In this case, the program reproducing apparatus transfers a view history package only including information on a plurality of specific items to the recommending server. User-country information and a user ID are transferred before or after transferring the view history package. The recommending server registers information on a plurality of specific items, user-country information, and a user ID obtained from the program reproducing apparatus in one communication session in the package table in correspondence with each other.</p>
<p id="p-0190" num="0189">It should be understood by those skilled in the art that various modifications, combinations, sub-combinations and alterations may occur depending on design requirements and other factors insofar as they are within the scope of the appended claims or the equivalents thereof.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An information processing apparatus, comprising:
<claim-text>a package obtaining unit to obtain, from at least one program reproducing apparatus, the at least one program reproducing apparatus being configured to obtain program information including information on a plurality of items for each broadcast program, to selectively receive and reproduce the broadcast program, and to transfer a package including information on a plurality of previously-determined specific items failing to include, as a content, information whose secondary use is limited by an intellectual property right, in the program information on a program viewed by a user, the package;</claim-text>
<claim-text>a first table storing unit to store a first table;</claim-text>
<claim-text>a package identifier generating unit to generate, for each unique combination of information on the plurality of specific items included in the obtained package, a package identifier identifying the combination;</claim-text>
<claim-text>a first table registering unit to extract information on the plurality of specific items from the obtained package, and to register the information on the plurality of specific items, a user identifier identifying a user of a program reproducing apparatus being a transfer source of the package, and the generated package identifier in correspondence with each other, in the first table;</claim-text>
<claim-text>a second table storing unit to store a second table;</claim-text>
<claim-text>a second table registering unit to extract a correspondence relation between the user identifier and the package identifier from the first table, and to register the at least one package identifier corresponding to the user identifier, as a program view history for each user, in the second table;</claim-text>
<claim-text>a determining unit to determine the at least one package identifier being a difference between a plurality of program view histories similar to each other registered in the second table; and</claim-text>
<claim-text>a notifying unit to notify a program reproducing apparatus of a recommendation-target-user of at least part of information on the plurality of specific items registered in the first table corresponding to the package identifier determined by the determining unit</claim-text>
<claim-text>in which the plurality of specific items in the program information at least includes (i) an item of a program identifier uniquely allocated to each program in conformity with a broadcast standard which excludes any identifier whose secondary use is limited by the intellectual property right, and (ii) an item of information on broadcast date and time.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The information processing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>an obtaining number managing unit to manage an obtaining number of the package for each package identifier,</claim-text>
<claim-text>wherein the second table registering unit is to extract a correspondence relation between the package identifier of the package whose obtaining number reaches a threshold and the user identifier.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The information processing apparatus according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein:
<claim-text>the determining unit to refer to the second table according to a program recommendation request including the user identifier from a program reproducing apparatus of a program-recommendation-request-source-user, and determine another user whose program view history is similar to the program view history of the program-recommendation-request-source-user, and</claim-text>
<claim-text>to determine, as the difference, at least one package identifier in the program view history of the other user, the at least one package identifier failing to be included in the program view history of the program-recommendation-request-source-user, and</claim-text>
<claim-text>the notifying unit to notify the program reproducing apparatus of the program-recommendation-request-source-user of at least part of information on the plurality of specific items registered in the first table corresponding to the package identifier determined by the determining unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The information processing apparatus according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein:
<claim-text>the package identifier generating unit to generate a package identifier identifying each unique combination of information on the plurality of specific items included in the obtained package and user-country information previously set to the program reproducing apparatus, and</claim-text>
<claim-text>the first table registering unit to register information on the plurality of specific items, the user identifier, the user-country information, and the generated package identifier in correspondence with each other, in the first table.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The information processing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:
<claim-text>the determining unit</claim-text>
<claim-text>to refer to the second table, and determine two users whose program view histories are similar to each other, to determine, based on a difference of the program view histories of the users, a package identifier for each user corresponding to a program recommended to each of the users, and</claim-text>
<claim-text>to extract information on the plurality of specific items corresponding to the package identifier for each user from the first table, and</claim-text>
<claim-text>the notifying unit to notify a program reproducing apparatus of each of the users of information on the plurality of specific items corresponding to the package identifier for each of the users extracted by the determining unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The information processing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:
<claim-text>a piece of information on the plurality of specific items is a program identifier uniquely allocated to each program in conformity with broadcast standard,</claim-text>
<claim-text>the information processing apparatus further comprises</claim-text>
<claim-text>a program-information-for-countries obtaining unit to obtain program information for a plurality of countries/territories in a target area, and</claim-text>
<claim-text>a program-information-for-countries storing unit to store the obtained program information for the plurality of countries/territories,</claim-text>
<claim-text>the determining unit</claim-text>
<claim-text>to refer to the second table according to a program recommendation request including the user identifier and the user-country information from a program reproducing apparatus of a program-recommendation-request-source-user, and determine another user whose program view history is similar to the program view history of the program-recommendation-request-source-user,</claim-text>
<claim-text>to determine, as a package identifier of a recommended program, at least one package identifier in the program view history of the other user, the at least one package identifier failing to be included in the program view history of the program-recommendation-request-source-user,</claim-text>
<claim-text>to determine, based on user-country information included in the program recommendation request, program information for a corresponding country/territory in program information for the plurality of countries/territories stored in the program-information-for-countries storing unit, and</claim-text>
<claim-text>to determine a consistency between information on a plurality of specific items corresponding to a package identifier of the recommended program and the determined program information for the country/territory, and</claim-text>
<claim-text>the notifying unit to notify, in a case where the determining unit determines the consistency, a program reproducing apparatus of the program-recommendation-request-source-user of the program identifier in information on the plurality of specific items corresponding to a package identifier of the recommended program.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. An information processing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,
<claim-text>in which the any identifier whose secondary use is limited by the intellectual property right includes a title of a respective program.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. An information processing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,
<claim-text>in which the any identifier whose secondary use is limited by the intellectual property right includes a name of a respective broadcast station.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. An information processing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,
<claim-text>in which the any identifier whose secondary use is limited by the intellectual property right includes information on staff or cast of a respective broadcast station.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The information processing method, comprising:
<claim-text>obtaining, by a package obtaining unit, from at least one program reproducing apparatus, the at least one program reproducing apparatus to obtain program information including information on a plurality of items for each broadcast program, to selectively receive and reproduce the broadcast program, and to transfer a package including information on a plurality of previously-determined specific items failing to include, as a content, information whose secondary use is limited by an intellectual property right, in the program information on a program viewed by a user, and a user identifier of the user, the package;</claim-text>
<claim-text>generating, by a package identifier generating unit, for each unique combination of information on the plurality of specific items included in the obtained package, a package identifier identifying the combination;</claim-text>
<claim-text>extracting, by a first table registering unit, information on the plurality of specific items from the obtained package, and registering the information on the plurality of specific items, a user identifier identifying a user of a program reproducing apparatus being a transfer source of the package, and the generated package identifier in correspondence with each other, in a first table;</claim-text>
<claim-text>extracting, by a second table registering unit, a correspondence relation between the user identifier and the package identifier from the first table, and registering the at least one package identifier corresponding to the user identifier, as a program view history for each user, in a second table;</claim-text>
<claim-text>determining, by a determining unit, the at least one package identifier being a difference between a plurality of program view histories similar to each other registered in the second table; and</claim-text>
<claim-text>notifying, by a notifying unit, a program reproducing apparatus of a recommendation-target-user of at least part of information on the plurality of specific items registered in the first table corresponding to the determined package identifier, in which the plurality of specific items in the program information at least includes (i) an item of a program identifier uniquely allocated to each program in conformity with a broadcast standard which excludes any identifier whose secondary use is limited by the intellectual property right, and (ii) an item of information on broadcast date and time.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A program encoded on a non-transitory computer readable medium, causing a computer to function as:
<claim-text>a package obtaining unit to obtain, from at least one program reproducing apparatus, the at least one program reproducing apparatus being configured to obtain program information including information on a plurality of items for each broadcast program, to selectively receive and reproduce the broadcast program, and to transfer a package including information on a plurality of previously-determined specific items failing to include, as a content, information whose secondary use is limited by an intellectual property right, in the program information on a program viewed by a user, the package;</claim-text>
<claim-text>a first table storing unit to store a first table;</claim-text>
<claim-text>a package identifier generating unit to generate, for each unique combination of information on the plurality of specific items included in the obtained package, a package identifier identifying the combination;</claim-text>
<claim-text>a first table registering unit to extract information on the plurality of specific items from the obtained package, and to register the information on the plurality of specific items, a user identifier identifying a user of a program reproducing apparatus being a transfer source of the package, and the generated package identifier in correspondence with each other, in the first table;</claim-text>
<claim-text>a second table storing unit to store a second table;</claim-text>
<claim-text>a second table registering unit to extract a correspondence relation between the user identifier and the package identifier from the first table, and to register the at least one package identifier corresponding to the user identifier, as a program view history for each user, in the second table;</claim-text>
<claim-text>a determining unit to determine the at least one package identifier being a difference between a plurality of program view histories similar to each other registered in the second table; and</claim-text>
<claim-text>a notifying unit to notify a program reproducing apparatus of a recommendation-target-user of at least part of information on the plurality of specific items registered in the first table corresponding to the package identifier determined by the determining unit,</claim-text>
<claim-text>in which the plurality of specific items in the program information at least includes (i) an item of a program identifier uniquely allocated to each program in conformity with a broadcast standard which excludes any identifier whose secondary use is limited by the intellectual property right, and (ii) an item of information on broadcast date and time.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. An information processing apparatus, comprising:
<claim-text>a package obtaining unit to obtain, from at least one program reproducing apparatus, the at least one program reproducing apparatus being configured to obtain program information including information on a plurality of items including a program identifier uniquely allocated to each program in conformity with broadcast standard, for each broadcast program, to selectively receive and reproduce the broadcast program, and to transfer a package including the program identifier in the program information on a program viewed by a user, the package;</claim-text>
<claim-text>a first table storing unit to store a first table;</claim-text>
<claim-text>a package identifier generating unit to generate, for each unique combination of the program identifier included in the obtained package and user-country information previously set to the program reproducing apparatus, a package identifier identifying the combination;</claim-text>
<claim-text>a first table registering unit to extract the program identifier from the obtained package, and to register the program identifier, the user-country information, and the generated package identifier in correspondence with each other, in the first table;</claim-text>
<claim-text>a second table storing unit to store a second table;</claim-text>
<claim-text>a second table registering unit to extract a correspondence relation between the user identifier and the package identifier from the first table, and to register the at least one package identifier corresponding to the user identifier, as a program view history for each user, in the second table;</claim-text>
<claim-text>a determining unit to determine the at least one package identifier being a difference between a plurality of program view histories similar to each other registered in the second table; and</claim-text>
<claim-text>a notifying unit to notify a program reproducing apparatus of a recommendation-target-user of the program identifier and the user-country information registered in the first table corresponding to the package identifier determined by the determining unit, in which the plurality of specific items in the program information at least includes (i) an item of a program identifier uniquely allocated to each program in conformity with a broadcast standard which excludes any identifier whose secondary use is limited by an intellectual property right, and (ii) an item of information on broadcast date and time. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
