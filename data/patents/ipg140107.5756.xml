<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626860-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626860</doc-number>
<kind>B1</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13606012</doc-number>
<date>20120907</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<disclaimer>
<text>This patent is subject to a terminal disclaimer.</text>
</disclaimer>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>16</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>709206</main-classification>
<further-classification>709224</further-classification>
<further-classification>709233</further-classification>
<further-classification>709235</further-classification>
</classification-national>
<invention-title id="d2e51">Defined delays to support consistent tiered messaging performance</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5042027</doc-number>
<kind>A</kind>
<name>Takase et al.</name>
<date>19910800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5381546</doc-number>
<kind>A</kind>
<name>Servi et al.</name>
<date>19950100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5673256</doc-number>
<kind>A</kind>
<name>Maine</name>
<date>19970900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6385168</doc-number>
<kind>B1</kind>
<name>Davis et al.</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370230</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6473622</doc-number>
<kind>B1</kind>
<name>Meuronen</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455466</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6567855</doc-number>
<kind>B1</kind>
<name>Tubbs et al.</name>
<date>20030500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709232</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6781991</doc-number>
<kind>B1</kind>
<name>Anderlind</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370394</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>7263065</doc-number>
<kind>B1</kind>
<name>Cahn</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370235</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>7852849</doc-number>
<kind>B2</kind>
<name>Davidson et al.</name>
<date>20101200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>37039521</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>8065424</doc-number>
<kind>B2</kind>
<name>Foresti et al.</name>
<date>20111100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>8321515</doc-number>
<kind>B1</kind>
<name>Gailloux et al.</name>
<date>20121100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2003/0028640</doc-number>
<kind>A1</kind>
<name>Malik</name>
<date>20030200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709226</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2003/0065724</doc-number>
<kind>A1</kind>
<name>Clark</name>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2008/0082678</doc-number>
<kind>A1</kind>
<name>Lorch et al.</name>
<date>20080400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709230</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2008/0198875</doc-number>
<kind>A1</kind>
<name>Qin et al.</name>
<date>20080800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370468</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00016">
<othercit>FAIPP Pre-Interview Communication dated Jan. 27, 2012, U.S. Appl. No. 12/428,276, filed Apr. 22, 2009.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00017">
<othercit>FAIPP Office Action dated Apr. 20, 2012, U.S. Appl. No. 12/428,276, filed Apr. 22, 2009.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00018">
<othercit>Notice of Allowance dated Jul. 19, 2012, U.S. Appl. No. 12/428,276, filed Apr. 22, 2009.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>709206</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>7</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>12428276</doc-number>
<date>20090422</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8321515</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13606012</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Gailloux</last-name>
<first-name>Michael A.</first-name>
<address>
<city>Overland Park</city>
<state>KS</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Samson</last-name>
<first-name>Kenneth W.</first-name>
<address>
<city>Belton</city>
<state>MO</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Shah</last-name>
<first-name>Gautam M.</first-name>
<address>
<city>Lake Forest</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Gailloux</last-name>
<first-name>Michael A.</first-name>
<address>
<city>Overland Park</city>
<state>KS</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Samson</last-name>
<first-name>Kenneth W.</first-name>
<address>
<city>Belton</city>
<state>MO</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Shah</last-name>
<first-name>Gautam M.</first-name>
<address>
<city>Lake Forest</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Sprint Communications Company L.P.</orgname>
<role>02</role>
<address>
<city>Overland Park</city>
<state>KS</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Biagini</last-name>
<first-name>Christopher</first-name>
<department>2445</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method for defining delays to support consistent tiered messaging performance is provided. The method comprises a query server receiving a message and the query server analyzing a class of service associated with the message. The method also comprises the query server injecting a defined delay prior to initiating processing of the message and the query server processing the message and storing the processed message in an outgoing queue. The method also comprises the query server sending a notification to a destination component that the message is available for retrieval and the query server releasing the message to the destination component upon request of the destination component.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="225.47mm" wi="164.93mm" file="US08626860-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="235.54mm" wi="163.83mm" file="US08626860-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="219.37mm" wi="147.32mm" file="US08626860-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="226.14mm" wi="156.04mm" file="US08626860-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="213.53mm" wi="151.89mm" file="US08626860-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="245.62mm" wi="171.03mm" file="US08626860-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="225.81mm" wi="166.45mm" file="US08626860-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="165.18mm" wi="116.84mm" file="US08626860-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application is a continuation of and claims priority under 35 U.S.C. &#xa7;120 to U.S. patent application Ser. No. 12/428,276, filed on Apr. 22, 2009, entitled &#x201c;Defined Delays to Support Consistent Tiered Messaging Performance,&#x201d; by Michael A. Gailloux, et al., which is incorporated herein by reference for all purposes.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">STATEMENT REGARDING FEDERALLY SPONSORED RESEARCH OR DEVELOPMENT</heading>
<p id="p-0003" num="0002">Not applicable.</p>
<heading id="h-0003" level="1">REFERENCE TO A MICROFICHE APPENDIX</heading>
<p id="p-0004" num="0003">Not applicable.</p>
<heading id="h-0004" level="1">BACKGROUND</heading>
<p id="p-0005" num="0004">Electronic mail, short message service (SMS), and other electronic messages may be subject to a variety of delays during transmission from originating to receiving station. When messages pass through the infrastructure of a plurality of service providers, delays may occur at several points and may be unpredictable in duration.</p>
<heading id="h-0005" level="1">SUMMARY</heading>
<p id="p-0006" num="0005">In an embodiment, a system for defining delays to support consistent tiered messaging performance is provided. The system comprises a computer system and an application, that when executed on the computer system receives a first message from a first originating device and determines a first service classification associated with the first message. The system also stores the first message in a first delay queue for a first time period, receives a second message from a second originating device, and determines a second service classification associated with the second message. The system also stores the second message in an incoming queue to await processing. At the expiration of the first time period, the system also moves the first message from the first delay queue to the incoming queue to await processing. The system also processes the first message and the second message and stores the first message in an outgoing queue and sends a notification to a first destination device that the first message is available for retrieval. The system also stores the second message in a second delay queue for a second time period. At the expiration of the second time period, the system also moves the second message from the second delay queue to the outgoing queue and sends a notification to a second destination device that the second message is available for retrieval. The system also receives a first request from the first destination device requesting release of the first message and releases the first message to the first destination device. The system also receives a second request from the second destination device requesting release of the second message and releases the second message to the second destination device.</p>
<p id="p-0007" num="0006">In another embodiment, a method for defining delays to support consistent tiered messaging performance is provided. The method comprises a query server receiving a message, the query server analyzing a class of service associated with the message, and the query server injecting a defined delay prior to initiating processing of the message. The method also comprises the query server processing the message and storing the processed message in an outgoing queue. The method also comprises the query server sending a notification to a destination component that the message is available for retrieval. The method also comprises the query server releasing the message to the destination component upon request of the destination component.</p>
<p id="p-0008" num="0007">In another embodiment, a processor-implemented method for defining delays to support consistent tiered messaging performance is provided. The method comprises a query server receiving a first message and the query server determining a first service classification of the first message. The method also comprises the query server delaying the processing of the first message for a defined time period based on at least one of current and projected network traffic conditions. At the expiration of the defined time period, the method also comprises the query server processing the first message and storing the first message in an outgoing queue. The method also comprises the query server sending a first notification to a first destination component that the first message is available for retrieval. The method also comprises the query server releasing the first message to the first destination component upon receiving a request from the first destination component. The method also comprises the query server receiving a second message and the query server determining a second service classification of the second message, wherein the second service classification is different from the first service classification. The method also comprises the query server processing the second message without a delay and storing the second message in the outgoing queue. The method also comprises the query server sending a second notification to a second destination component that the second message is available for retrieval and the query server releasing the second message to the second destination component upon receiving a request from the second destination component.</p>
<p id="p-0009" num="0008">These and other features will be more clearly understood from the following detailed description taken in conjunction with the accompanying drawings and claims.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0006" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0010" num="0009">For a more complete understanding of the present disclosure, reference is now made to the following brief description, taken in connection with the accompanying drawings and detailed description, wherein like reference numerals represent like parts.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of a system according to an embodiment of the disclosure.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 2</figref> is a flow chart illustrating a method according to an embodiment of the disclosure.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3</figref><i>a </i>and <figref idref="DRAWINGS">FIG. 3</figref><i>b </i>are two stages of a flow chart illustrating another method according to an embodiment of the disclosure.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 4</figref> is an illustration of a mobile device according to an embodiment of the disclosure.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram of a mobile device according to an embodiment of the disclosure.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram of a software configuration for a mobile device according to an embodiment of the disclosure.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 7</figref> illustrates an exemplary computer system suitable for implementing some aspects of the several embodiments of the disclosure.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0007" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0018" num="0017">It should be understood at the outset that although illustrative implementations of one or more embodiments are illustrated below, the disclosed systems and methods may be implemented using any number of techniques, whether currently known or in existence. The disclosure should in no way be limited to the illustrative implementations, drawings, and techniques illustrated below, but may be modified within the scope of the appended claims along with their full scope of equivalents.</p>
<p id="p-0019" num="0018">Several embodiments of a system of defined delays to support consistent tiered messaging performance enable the selective insertion of time delays into the processing steps of electronic messages to standardize the expected total wait time for various classes of service. Time delays of varying lengths are intentionally inserted to supplement the expected normal variable delays that accompany electronic messages to achieve a consistent average total delay for each class of service. By building consistency into total message delivery wait times for various classes of services, a provider may differentiate quality of service levels and effectively manage perceptions about the value of service offerings. A provider may use the repeatedly reinforced and observable differences in service levels to monetize the higher speed delivery of premium messaging service. Reliable service delivery with consistent wait times may build customer loyalty across all service offerings. More extended regular delivery times for non-premium messaging may allow a provider to control and use expectations about that service to give non-premium customers incentives to upgrade their service to a higher level.</p>
<p id="p-0020" num="0019">Further, in some embodiments, it is thought that adding delays in even the premium tier to produce a more consistent response time may actually improve satisfaction and reduce service calls. For example, if most messaging is complete within ten seconds and occasionally a message or two takes fifteen seconds, a customer is likely to be less concerned than when most messages take five seconds but then several messages take fifteen seconds (three times longer). The latter circumstance is more likely to lead to a call to customer care exploring what might be wrong.</p>
<p id="p-0021" num="0020">The present disclosure teaches the insertion of time delays at various points during the intake, processing, and forwarding stages of an electronic message. At times of heavy traffic, non-premium messages may be delayed before processing to permit premium messages to receive processing priority and faster overall throughput. Delays may be inserted after processing to permit delivery time for various messages to reach the total expected wait times for each message's service classification. Once expectations have been properly set, a service provider may seek to avoid needlessly disrupting perceptions about service classifications. In an embodiment, a service provider may rely on a plurality of other service providers to process, forward, and deliver a message. The service provider may periodically send test messages across their own networks and across other providers' networks to determine transport times. The service provider may use this feedback loop to make adjustments to delays the provider inserts into messages to account for external congestion and other observed network conditions. When transport delays are long, the service provider may reduce or eliminate the inserted delays to some or all classes of messages to achieve target delivery times.</p>
<p id="p-0022" num="0021">A standard initial delay, for example ten seconds, may be inserted into messages shortly after they are received by a service provider. The initial delay is a baseline delay upon which the service provider may layer on any additional imposed delays later during the handling of the message. When the service classification associated with the message is determined upon receipt, the provider may schedule additional delays to be added while the message is waiting to be processed as well as after the message has been processed and is awaiting retrieval by the destination device. Through the fundamental stages of queuing for processing, receiving processing, and post-processing, the service provider may make adjustments to scheduled delays it had been planning to insert into a message's path through its system.</p>
<p id="p-0023" num="0022">Changes may be made to scheduled delays to raise or lower the total anticipated handling time for a message to meet the target of the customer's expected wait time. Unexpected delays may prompt a service provider to reduce a scheduled delay to maintain the targeted wait time expected by the customer and preserve the customer's service experience. In a contrasting scenario, an unexpected drop in message volume or sudden increase in network capacity may permit messages to be processed far faster than expected. A service provider may increase the length of one or more scheduled delays to compensate for the reduction in anticipated delay. This action again may permit the service provider to deliver the same expected wait time to the customer, and maintain service experience.</p>
<p id="p-0024" num="0023">When a service provider has several classes of service, each with an expected wait time, changes in volume or network conditions may indicate adjustments to message delays to balance expected wait times across the service classifications. The service provider's objective is to achieve the targeted wait times set for each service classification and expected by the subscriber base. Consistency of messaging delivery time and quality across service tiers may reinforce positive perceptions about the value proposition of a service provider's suite of offerings.</p>
<p id="p-0025" num="0024">Turning now to <figref idref="DRAWINGS">FIG. 1</figref>, a system <b>100</b> for defined delays to support consistent message delivery performance is provided. The system <b>100</b> comprises a queuing server <b>110</b>, a queuing application <b>120</b>, a first delay queue <b>130</b>, a second delay queue <b>140</b>, an incoming queue <b>150</b>, a notification queue <b>160</b>, a processing function <b>170</b>, sending devices <b>180</b>, <b>182</b>, receiving devices <b>190</b>, <b>192</b>, a network <b>195</b>, and base transceiver stations <b>197</b>, <b>198</b>.</p>
<p id="p-0026" num="0025">The queuing application <b>120</b> receives a plurality of incoming messages from sending devices <b>180</b>, <b>182</b>. A message placement component <b>122</b> of the queuing application <b>120</b> determines the service classification associated with the messages and may store the messages in the first delay queue <b>130</b> for an initial delay, about ten seconds. After the initial delay, the queuing application <b>120</b> moves some messages immediately to the incoming queue <b>150</b>. In an embodiment, other messages remain in the first delay queue <b>130</b> for an additional delay period and are then moved to the incoming queue <b>150</b>. Messages are then drawn from the incoming queue <b>150</b> to the processing function <b>170</b> where they are processed. When processing is complete, messages are then either moved to a second delay queue <b>140</b> or directly to the notification queue <b>160</b>. Messages moved to the second delay queue <b>140</b> remain there for a period of time and are then moved to the notification queue <b>160</b>. Once messages arrive in the notification queue <b>160</b>, a notification component <b>128</b> of the queuing application <b>120</b> sends notice to the intended receiving device <b>190</b>, <b>192</b> that a message is waiting and releases the message to the receiving device <b>190</b>, <b>192</b> upon request. In an embodiment, a capacity monitoring component <b>124</b> of the queuing application <b>120</b> tracks the current processing activity and capacities of the system <b>100</b> and of external service providers (not shown) that may assist in transporting messages. A delay component <b>126</b> of the queuing application <b>120</b> works with the other components of the queuing application <b>120</b> and system <b>100</b> to determine the classifications of messages that should be delayed, where they should be delayed, and the duration of delays.</p>
<p id="p-0027" num="0026">The queuing server <b>110</b> may be a computer system. Computer systems are discussed in greater detail hereinafter. The queuing server <b>110</b> may comprise one computer or a plurality of computers, for example, a server farm wherein many server computers cooperate to share a processing load. The queuing server <b>110</b> may comprise a plurality of computers that are located at different places, for example, to provide geographical diversity and increased service reliability. The queuing server <b>110</b> executes one or more applications that provide services including hosting of the queuing application <b>120</b>.</p>
<p id="p-0028" num="0027">The queuing application <b>120</b> executes on the queuing server <b>110</b> and provides a suite of message queuing and delay services that receive, classify, and queue messages before and after processing as well as monitoring traffic internal and external to the system <b>100</b> that may impact message queuing, delay and forwarding operations. Messages may comprise electronic mail, short message service (SMS) messages, text and multi-media messages, text messages, and/or other messages.</p>
<p id="p-0029" num="0028">The queuing application <b>120</b> comprises a message placement component <b>122</b> that takes delivery of messages and determines a service classification associated with the messages. A provider of wireless messaging services may sell services under a plurality of subscription plans providing a range of service classifications. Some service plans may call for payment for services in advance and allow basic messaging while more expensive plans allow payment after the conclusion of a service period and provide higher speed message delivery. The message placement component <b>122</b> associates the classification of service with each incoming message received and places the message in the first delay queue <b>130</b> or the incoming queue <b>150</b>. The message placement component <b>122</b> in placing messages may follow general policies prescribed for the placement of messages in queues and the delays to which messages may be subjected while in queues. In addition to enforcing standard policies regarding the scheduling and duration of delays for various message classifications, the message placement component <b>122</b> may also follow specific directives for message placement that may arise from transport delay.</p>
<p id="p-0030" num="0029">The message placement component <b>122</b> may determine a service classification for a received message by detecting a flag placed in the message by the sending device <b>180</b>, <b>182</b> or other component. The flag itself may identify a service classification or its presence instead may alert the message placement component <b>122</b> to consult the subscription level of the sending device <b>180</b>, <b>182</b> that the message placement component <b>122</b> may periodically check. Alternatively, the message placement component <b>122</b> may, upon receipt of a message, determine a service classification for the message by observing an attribute or other characteristic of the sending device <b>180</b>, <b>182</b>. The former alternative, that of the sending device <b>180</b>, <b>182</b> or another component setting a flag in the message and thereby alerting the message placement component <b>122</b> upon receipt to check the subscription service associated with the sending device <b>180</b>, <b>182</b>, may result in less processing overhead for the system <b>100</b>.</p>
<p id="p-0031" num="0030">The capacity monitoring component <b>124</b> of the queuing application <b>120</b> observes the receipt and throughput of messaging activity through the system <b>100</b> by the various service classifications of messages and provides information to the other components of the system <b>100</b>. Information about the volume and service classifications of messages being received and flowing through the system <b>100</b> may be useful to the delay component <b>126</b> in determining whether certain or all classifications of messages should be delayed in the first delay queue <b>130</b> before processing, in the second delay queue <b>140</b> after processing, in both queues, or in neither queue. The capacity monitoring component <b>124</b> observes message processing operations in the processing function <b>170</b> to determine the length of time consumed for messages of various classifications to be fully processed and exit the processing function <b>170</b>. The capacity monitoring component <b>124</b> also monitors activity on the networks of external service providers as they may be involved in assisting the delivery or processing of a message. The capacity monitoring component <b>124</b> provides a feedback loop back to the queuing server <b>110</b> about external network conditions. In an embodiment, a service provider may have account relationships with other service providers and periodically send test messages through the other service providers' networks to determine capacity and processing speed. This input, as well as information about activity and capacity on the service provider's own network, may be useful in determining the type and duration of delays to which various classifications of messages should be subjected at different times.</p>
<p id="p-0032" num="0031">The delay component <b>126</b> of the queuing application <b>120</b> determines delays to be enforced in the handling of messages prior to processing in the first delay queue <b>130</b>, after processing in the second delay queue <b>140</b>, or at another time. The present disclosure teaches that consistent, tolerable total message wait times for various classes of messaging services may be achieved by supplementing the normal varying delays experienced in message processing with intentionally inserted delays to maintain an acceptable average total message wait time. The delay component <b>126</b>, using real time input received from the capacity monitoring component <b>124</b> as well as historical information, determines the amount of time delay that should be added to a message for the total wait time to reach the predetermined total wait time for a message, given the message's service classification. The delay component <b>126</b> may at other times determine how much a previously scheduled delay should be reduced given total volume through the system <b>100</b> and specific activity in the processing function <b>170</b> during specific times. The delay component <b>126</b> sets standard delay policy at various times of the day and days of the week for different service classifications as well as making real time increases or decreases to scheduled delays when warranted by current observed activity in the system <b>100</b> or external to it.</p>
<p id="p-0033" num="0032">The delay component <b>126</b> may under normal conditions subject messages of each service classification to a brief initial delay, for example ten seconds, in the first delay queue <b>130</b> to establish a baseline. The delay component <b>126</b> may hold non-premium messages in the first delay queue <b>130</b> for an additional period to permit premium messages to pass through and enter the incoming queue <b>150</b> first and thereby receive processing more rapidly. The delay component <b>126</b> may hold messages of all service classifications in the first delay queue <b>130</b> for an additional period as part of normal scheduling and selectively decrease or eliminate that time period as necessary when unexpected transport delays elsewhere are identified. When messages of various classifications have passed through the first delay queue <b>130</b>, have then waited in the incoming queue <b>150</b>, and finally been processed in the processing function <b>170</b>, then they may be delayed again after processing by the delay component <b>126</b> in the second delay queue <b>140</b>. In an embodiment, messages may be delayed after processing in the second delay queue <b>140</b> if additional time is added for the total wait time for the service classification of a particular message to reach the expected wait time. The additional wait time in the second delay queue <b>140</b> may have been previously scheduled and may be standard for one or more service classifications or instead it may have been necessitated by an unexpected drop-off in volume that resulted in messages processing more quickly than expected. The delay component <b>126</b> receives regular information from the capacity monitoring component <b>124</b> about volume and processing activity within the system <b>100</b> and network activity external to the system <b>100</b>. The delay component <b>126</b> also communicates with the message placement component <b>122</b> about the receipt, classification, and placement of messages at various points in the system <b>100</b>.</p>
<p id="p-0034" num="0033">The notification component <b>128</b> of the queuing application <b>120</b> observes as processed messages are entered into the notification queue <b>160</b> in a state ready for retrieval by the intended receiving device <b>190</b>, <b>192</b>. Messages entering the notification queue <b>160</b> have been processed by the processing function <b>170</b> and then been delayed for a time period in the second delay queue <b>140</b> for a time period or come directly from the processing function <b>170</b>. When a processed message enters the notification queue <b>160</b>, the notification component <b>128</b> sends a notification to the intended receiving device <b>190</b>, <b>192</b> notifying it that it has a message waiting. When the notification component <b>128</b> receives a reply from the receiving device <b>190</b>, <b>192</b>, it allows the receiving device <b>190</b>, <b>192</b> to retrieve the message and the message leaves the notification queue <b>160</b>. In an embodiment, when a message is small in size, for example a text message comprising a few characters, the notification component <b>128</b> may send the message to the intended receiving device <b>190</b>, <b>192</b> with the initial notification rather than waiting for the intended receiving device <b>190</b>, <b>192</b> to retrieve the message in a reply transmission.</p>
<p id="p-0035" num="0034">The first delay queue <b>130</b> is associated with the queuing server <b>110</b> and is a queue in which an incoming message may be placed by the message placement component <b>122</b> after the service classification of the message has been determined. Messages are held in the first delay queue <b>130</b> before they are released into the incoming queue <b>150</b> and subsequently processed by the processing function <b>170</b>. In an embodiment, the first delay queue <b>130</b> may comprise a plurality of component queues dedicated to individual service classifications of messages.</p>
<p id="p-0036" num="0035">The second delay queue <b>140</b> is associated with the queuing server <b>110</b> and is a queue in which a message may be placed after the message has been processed by the processing function <b>170</b> but before the processed message is placed into the notification queue <b>160</b>. Processed messages may be held in the second delay queue <b>140</b> for a plurality of reasons, including the intentional addition of a delay to permit the total wait time for a message to reach the total expected wait time for the message given the service classification of the message. In an embodiment, the second delay queue <b>140</b> may comprise a plurality of sub-queues with each sub-queue dedicated to an individual service classification of messages and each service classification assigned an individual delay time.</p>
<p id="p-0037" num="0036">The incoming queue <b>150</b> is associated with the queuing server <b>110</b> and is a queue in which a message is placed while awaiting the processing function <b>170</b> to commence processing operations on the message. In an embodiment, the incoming queue <b>150</b> may comprise a plurality of component sub-queues with each sub-queue dedicated to specific service classifications of messages, for example.</p>
<p id="p-0038" num="0037">The notification queue <b>160</b> is associated with the queuing server <b>110</b> and is a queue in which a message is placed after receiving processing by the processing function <b>170</b> and after receiving a delay, if any, in the second delay queue <b>140</b>. Once a message has been transitioned to the notification queue <b>160</b>, the notification component <b>128</b> may send notice to the receiving device <b>190</b> that a message is waiting and may be retrieved. In an embodiment, as messages enter the notification queue <b>160</b>, they may be prioritized by service classification and notices may be sent to receiving devices <b>190</b>, <b>192</b> according to this priority.</p>
<p id="p-0039" num="0038">In an embodiment, the system <b>100</b> may not employ the first delay queue <b>130</b> to temporarily delay some messages before passage to the incoming queue <b>150</b> and after processing may not employ the second delay queue <b>140</b> to temporarily delay some messages before passage to the notification queue <b>160</b>. In an embodiment, processing logic may be added to the incoming queue <b>150</b> and the notification queue <b>160</b> enabling these components to choose when to release specific messages to the processing function <b>170</b> and release specific messages to receiving devices <b>190</b>, <b>192</b>, respectively. This alternative embodiment may result in more processing overhead for certain processors in the system <b>100</b>. Alternatively, in an embodiment, a single queue may be employed to receive messages and delay the messages before sending notification to receiving devices <b>190</b>, <b>192</b> to retrieve the messages. For example, timers and/or time-out values may be associated with each message and employed to manage appropriate delays for each subject message.</p>
<p id="p-0040" num="0039">The processing function <b>170</b> is associated with the queuing server <b>110</b> and comprises actions including billing, switching, and determination of routing information related to the path of a message to its intended receiving device <b>190</b>, <b>192</b>. The processing activities taking place and any accompanying delays within the processing function <b>170</b> are monitored by the capacity monitoring component <b>124</b> and reported to the delay component <b>126</b> for its use in making adjustments to previously scheduled delays. Unexpected delays or extended processing times occurring at stages of the processing function <b>170</b> may result in the delay component <b>126</b> reducing scheduled delays in one or the other or both the first delay queue <b>130</b> and the second delay queue <b>140</b>. Likewise, if the processing function <b>170</b> completes its processing operations on one or more messages more quickly than had been expected, the delay component <b>126</b> may increase the scheduled delays for some or all classifications of messages.</p>
<p id="p-0041" num="0040">The sending devices <b>180</b>, <b>182</b> and the receiving devices <b>190</b>, <b>192</b> may comprise portable electronic devices including mobile telephones, laptop computers, media players, personal digital assistants (PDA), and tablet computers. The sending devices <b>180</b>, <b>182</b> and the receiving devices <b>190</b>, <b>192</b> may also comprise desktop computers. In an embodiment, sending devices <b>180</b>, <b>182</b> may be able to specify a priority for some messages.</p>
<p id="p-0042" num="0041">The network <b>195</b> promotes communication between the components of the system <b>100</b>. The network <b>195</b> may be any communication network including a public data network (PDN), a public switched telephone network (PSTN), a private network, and/or a combination thereof.</p>
<p id="p-0043" num="0042">The wireless base stations <b>197</b>, <b>198</b> may be any of a cellular wireless base station, for example a Code Division Multiple Access (CDMA), Global System for Mobile Communications (GSM), and/or Universal Mobile Communications System (UMTS) cellular wireless base station; a World-wide Interoperable Microwave Access (WiMAX) base station; a WiFi access point; or other wireless access device.</p>
<p id="p-0044" num="0043">Turning now to <figref idref="DRAWINGS">FIG. 2</figref>, a method <b>200</b> for defining delays to support consistent tiered messaging performance is provided. Beginning at block <b>202</b>, the message placement component <b>122</b> of the queuing application <b>120</b> receives a message.</p>
<p id="p-0045" num="0044">At block <b>204</b>, the message placement component <b>122</b> analyzes a class of service associated with the message. The message may include a header portion or other coding that indicates the classification of service of the party that sent the message. In some cases, such as in an emergency, a message may have a class of service unrelated to a user's subscription plan and the message is processed according to coding indicating the emergency or other exceptional situation.</p>
<p id="p-0046" num="0045">At block <b>206</b>, the message placement component <b>122</b> injects a defined delay prior to initiating processing of the message. This action may take the form of placing the message in the first delay queue <b>130</b>. In an embodiment, messages of every service classification may receive a brief initial delay, for example ten seconds, to establish a baseline delay for all messages. After the initial delay, messages may receive additional delays of varying lengths or no additional delay before passing to the incoming queue <b>150</b>. The length of any scheduled additional delay in the first delay queue <b>130</b> may be related to extending the total wait time to an expected wait time. However, if the capacity monitoring component <b>124</b> should determine, for example, that the processing function <b>170</b> or an external service provider is operating very slowly with internal delays and bottlenecks, the scheduled additional delay may be intentionally reduced by the delay component <b>126</b> so as not to exceed the total expected wait time for messages of the service classifications flowing through the system <b>100</b>.</p>
<p id="p-0047" num="0046">A delay duration normally scheduled in the first delay queue <b>130</b> may be set at a level that permits user expectations to be met while also being available for significant reduction or even elimination should the need arise. In an embodiment, the duration of an initial delay and an additional delay for a message in the first delay queue <b>130</b> prior to processing may be fixed and may depend on the service classification of the message. In an embodiment, an the delay for a message in the first delay queue <b>130</b> prior to processing may be variable and based at least in part on current message transport conditions.</p>
<p id="p-0048" num="0047">At block <b>208</b>, the message is released from the first delay queue <b>130</b>. The message then passes through the incoming queue <b>150</b>, is processed by the processing function <b>170</b>, and is stored in the notification queue <b>160</b>. At block <b>210</b>, the notification component <b>128</b> sends a notification to the destination component or receiving device <b>190</b> that a message is being held in the notification queue <b>160</b> for the receiving device <b>190</b>. At block <b>212</b>, the notification component <b>128</b> releases the message to the receiving device <b>190</b> upon request of the receiving device <b>190</b>.</p>
<p id="p-0049" num="0048">Turning now to <figref idref="DRAWINGS">FIG. 3</figref><i>a </i>and <figref idref="DRAWINGS">FIG. 3</figref><i>b</i>, a method <b>300</b> for defining delays to support consistent tiered messaging performance is provided. Blocks <b>302</b> through <b>312</b> of the method <b>300</b> are substantially similar to the method <b>200</b>. At block <b>302</b> a first message is received and at block <b>304</b>, the message placement component <b>122</b> determines the first service classification of the first message. At block <b>306</b>, the first message is placed in the first delay queue <b>130</b> for a defined time period. The defined time period may be based on current and/or projected network traffic conditions. At the expiration of the defined time period, the first message at block <b>308</b> is removed from the first delay queue <b>130</b>, is passed through the incoming queue <b>150</b>, is processed by the processing function <b>170</b>, and is placed in the notification queue <b>160</b>. At block <b>310</b>, the notification component <b>128</b> notifies the receiving device <b>190</b> that the first message is waiting for the receiving device <b>190</b> in the notification queue <b>160</b>, and at block <b>312</b>, the first message is released to the receiving device <b>190</b> upon request of the receiving device <b>190</b>.</p>
<p id="p-0050" num="0049">At block <b>314</b>, a second message is received in the system <b>100</b>. At block <b>316</b>, the message placement component <b>122</b> determines the second service classification of the second message wherein the second service classification is different from the first service classification associated with the first message received earlier in the method <b>300</b> at block <b>302</b>. In an embodiment, it may be determined that the second service classification is associated with a premium subscription account with a service provider and the first service classification is associated with a non-premium subscription account with the service provider.</p>
<p id="p-0051" num="0050">At block <b>318</b>, the queuing application <b>120</b> processes the second message without any additional delay beyond a standard delay to which all messages may be subject. The action at block <b>318</b> stands in contrast to the action at block <b>306</b> wherein the first message was held in the first delay queue <b>130</b> for a period that may have been extended beyond the aforementioned standard delay. In an embodiment, messages of the first service classification, a non-premium classification, may be held in the first delay queue <b>130</b> while messages of the second service classification, a premium classification, may be given priority, bypass the first delay queue <b>130</b>, and go immediately through the incoming queue <b>150</b> to the processing function <b>170</b>. At block <b>318</b>, when processing of the second message has been completed, the second message is placed in the notification queue <b>160</b>.</p>
<p id="p-0052" num="0051">At block <b>320</b>, the notification component <b>128</b> notifies the receiving device <b>190</b> that the second message is waiting for the receiving device <b>190</b> in the notification queue <b>160</b> and at block <b>322</b>, the second message is released to the receiving device <b>190</b> upon request of the receiving device <b>190</b>.</p>
<p id="p-0053" num="0052">After block <b>318</b> and before block <b>320</b>, the second message may, upon the determination of the delay component <b>126</b>, be held in the second delay queue <b>140</b> before passing into the notification queue <b>160</b> for release to the receiving device <b>190</b>. This action may take place if the processing of the second message took place more quickly than expected and releasing the second message would take place materially earlier than the time expected for messages of the second classification. The present disclosure teaches the adoption and adherence to targeted wait times for various service classifications of messages. Adherence suggests not delivering messages beyond the expected wait time but also not delivering messages significantly earlier than the expected wait time as maintaining steady expectations is a teaching of some embodiments of the present disclosure. The tiered approach suggested herein teaches maintaining different and separate expectations for each tier or level of messaging service and working to avoid disturbing perceptions about such service expectations. The second delay queue <b>140</b> may be used to delay the availability of processed messages to allow wait time to reach the expected wait times and maintain previously set expectations.</p>
<p id="p-0054" num="0053">Because the second service classification is associated with a premium subscription plan and the first service classification is associated with a non-premium subscription plan, in an embodiment, delays associated with the first delay queue <b>130</b> may be greater than delays associated with the second delay queue <b>140</b>. Messages associated with the first service classification may therefore receive longer delays than messages associated with the second service classification to permit messages associated with the second service classification to be more rapidly processed and made accessible to their intended receiving devices <b>190</b>, <b>192</b> in the notification queue <b>160</b>.</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 4</figref> shows a wireless communications system including the mobile device <b>102</b>. <figref idref="DRAWINGS">FIG. 4</figref> depicts the mobile device <b>102</b>, which is operable for implementing aspects of the present disclosure, but the present disclosure should not be limited to these implementations. The mobile device <b>102</b> may be an exemplary embodiment of the sending devices <b>180</b>, <b>182</b> and the receiving devices <b>190</b>, <b>192</b> described herein. Though illustrated as a mobile phone, the mobile device <b>102</b> may take various forms including a wireless handset, a pager, a personal digital assistant (PDA), a gaming device, an inventory control device, a media player, a digital camera, a digital calculator, a portable computer, a tablet computer, a laptop computer, and/or other. Many suitable handsets combine some or all of these functions. In some embodiments of the present disclosure, the mobile device <b>102</b> is a special-purpose communications device such as a mobile phone, wireless handset, pager, or PDA. The mobile device <b>102</b> may support specialized activities such as gaming, inventory control, job control, and/or task management functions, and so on.</p>
<p id="p-0056" num="0055">The mobile device <b>102</b> includes a display <b>402</b> and a touch-sensitive surface or keys <b>404</b> for input by a user. The mobile device <b>102</b> may present options for the user to select, controls for the user to actuate, and/or cursors or other indicators for the user to direct. The mobile device <b>102</b> may further accept data entry from the user, including numbers to dial or various parameter values for configuring the operation of the handset. The mobile device <b>102</b> may further execute one or more software or firmware applications in response to user commands. These applications may configure the mobile device <b>102</b> to perform various customized functions in response to user interaction. Additionally, the mobile device <b>102</b> may be programmed and/or configured over-the-air, for example from a wireless base station, a wireless access point, or a peer mobile device <b>102</b>.</p>
<p id="p-0057" num="0056">The mobile device <b>102</b> may execute a web browser application which enables the display <b>402</b> to show a web page. The web page may be obtained via wireless communications with a base transceiver station (BTS) <b>406</b>, a wireless network access node, a peer mobile device <b>102</b> or any other wireless communication network or system. While a single base transceiver station <b>406</b> is illustrated, it is understood that the wireless communication system may comprise additional base transceiver stations. In some instances, the mobile device <b>102</b> may be in communication with multiple base transceiver stations <b>406</b> at the same time. The base transceiver station <b>406</b> (or wireless network access node) is coupled to a wired network <b>408</b>, such as the Internet. Via the wireless link and the wired network, the mobile device <b>102</b> has access to information on various servers, such as a server <b>410</b>. The server <b>410</b> may provide content that may be shown on the display <b>402</b>. Alternately, the mobile device <b>102</b> may access the base transceiver station <b>406</b> through a peer mobile device <b>102</b> acting as an intermediary, in a relay type or hop type of connection.</p>
<p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. 5</figref> shows a block diagram of the mobile device <b>102</b>. While a variety of known components of handsets <b>102</b> are depicted, in an embodiment a subset of the listed components and/or additional components not listed may be included in the mobile device <b>102</b>. The mobile device <b>102</b> includes a digital signal processor (DSP) <b>502</b> and a memory <b>504</b>. As shown, the mobile device <b>102</b> may further include an antenna and front end unit <b>506</b>, a radio frequency (RF) transceiver <b>508</b>, an analog baseband processing unit <b>510</b>, a microphone <b>512</b>, an earpiece speaker <b>514</b>, a headset port <b>516</b>, an input/output interface <b>518</b>, a removable memory card <b>520</b>, a universal serial bus (USB) port <b>522</b>, an infrared port <b>524</b>, a vibrator <b>526</b>, a keypad <b>528</b>, a touch screen liquid crystal display (LCD) with a touch sensitive surface <b>530</b>, a touch screen/LCD controller <b>532</b>, a charge-coupled device (CCD) camera <b>534</b>, a camera controller <b>536</b>, and a global positioning system (GPS) sensor <b>538</b>. In an embodiment, the mobile device <b>102</b> may include another kind of display that does not provide a touch sensitive screen. In an embodiment, the DSP <b>502</b> may communicate directly with the memory <b>504</b> without passing through the input/output interface <b>518</b>.</p>
<p id="p-0059" num="0058">The DSP <b>502</b> or some other form of controller or central processing unit operates to control the various components of the mobile device <b>102</b> in accordance with embedded software or firmware stored in memory <b>504</b> or stored in memory contained within the DSP <b>502</b> itself. In addition to the embedded software or firmware, the DSP <b>502</b> may execute other applications stored in the memory <b>504</b> or made available via information carrier media such as portable data storage media like the removable memory card <b>520</b> or via wired or wireless network communications. The application software may comprise a compiled set of machine-readable instructions that configure the DSP <b>502</b> to provide the desired functionality, or the application software may be high-level software instructions to be processed by an interpreter or compiler to indirectly configure the DSP <b>502</b>.</p>
<p id="p-0060" num="0059">The antenna and front end unit <b>506</b> may be provided to convert between wireless signals and electrical signals, enabling the mobile device <b>102</b> to send and receive information from a radio access network (RAN) or some other available wireless communications network or from a peer mobile device <b>102</b>. In an embodiment, the antenna and front end unit <b>506</b> may include multiple antennas to support beam forming and/or multiple input multiple output (MIMO) operations. As is known to those skilled in the art, MIMO operations may provide spatial diversity which can be used to overcome difficult channel conditions and/or increase channel throughput. The antenna and front end unit <b>506</b> may include antenna tuning and/or impedance matching components, RF power amplifiers, and/or low noise amplifiers.</p>
<p id="p-0061" num="0060">The RF transceiver <b>508</b> provides frequency shifting, converting received RF signals to baseband and converting baseband transmit signals to RF. In some descriptions a radio transceiver or RF transceiver may be understood to include other signal processing functionality such as modulation/demodulation, coding/decoding, interleaving/deinterleaving, spreading/despreading, inverse fast Fourier transforming (IFFT)/fast Fourier transforming (FFT), cyclic prefix appending/removal, and other signal processing functions. For the purposes of clarity, the description here separates the description of this signal processing from the RF and/or radio stage and conceptually allocates that signal processing to the analog baseband processing unit <b>510</b> and/or the DSP <b>502</b> or other central processing unit. In some embodiments, the RF transceiver <b>408</b>, portions of the antenna and front end <b>506</b>, and the analog baseband processing unit <b>510</b> may be combined in one or more processing units and/or application specific integrated circuits (ASICs).</p>
<p id="p-0062" num="0061">The analog baseband processing unit <b>510</b> may provide various analog processing of inputs and outputs, for example analog processing of inputs from the microphone <b>512</b> and the headset port <b>516</b> and outputs to the earpiece speaker <b>514</b> and the headset port <b>516</b>. To that end, the analog baseband processing unit <b>510</b> may have ports for connecting to the built-in microphone <b>512</b> and the earpiece speaker <b>514</b> that enable the mobile device <b>102</b> to be used as a mobile phone. The analog baseband processing unit <b>510</b> may further include a port for connecting to a headset or other hands-free microphone and speaker configuration. The analog baseband processing unit <b>510</b> may provide digital-to-analog conversion in one signal direction and analog-to-digital conversion in the opposing signal direction. In some embodiments, at least some of the functionality of the analog baseband processing unit <b>510</b> may be provided by digital processing components, for example by the DSP <b>502</b> or by other central processing units.</p>
<p id="p-0063" num="0062">The DSP <b>502</b> may perform modulation/demodulation, coding/decoding, interleaving/deinterleaving, spreading/despreading, inverse fast Fourier transforming (IFFT)/fast Fourier transforming (FFT), cyclic prefix appending/removal, and other signal processing functions associated with wireless communications. In an embodiment, for example in a code division multiple access (CDMA) technology application, for a transmitter function the DSP <b>502</b> may perform modulation, coding, interleaving, and spreading, and for a receiver function the DSP <b>502</b> may perform despreading, deinterleaving, decoding, and demodulation. In another embodiment, for example in an orthogonal frequency division multiplex access (OFDMA) technology application, for the transmitter function the DSP <b>502</b> may perform modulation, coding, interleaving, inverse fast Fourier transforming, and cyclic prefix appending, and for a receiver function the DSP <b>502</b> may perform cyclic prefix removal, fast Fourier transforming, deinterleaving, decoding, and demodulation. In other wireless technology applications, yet other signal processing functions and combinations of signal processing functions may be performed by the DSP <b>502</b>.</p>
<p id="p-0064" num="0063">The DSP <b>502</b> may communicate with a wireless network via the analog baseband processing unit <b>510</b>. In some embodiments, the communication may provide Internet connectivity, enabling a user to gain access to content on the Internet and to send and receive e-mail or text messages. The input/output interface <b>518</b> interconnects the DSP <b>502</b> and various memories and interfaces. The memory <b>504</b> and the removable memory card <b>520</b> may provide software and data to configure the operation of the DSP <b>502</b>. Among the interfaces may be the USB port <b>522</b> and the infrared port <b>524</b>. The USB port <b>522</b> may enable the mobile device <b>102</b> to function as a peripheral device to exchange information with a personal computer or other computer system. The infrared port <b>524</b> and other optional ports such as a Bluetooth interface or an IEEE 802.11 compliant wireless interface may enable the mobile device <b>102</b> to communicate wirelessly with other nearby handsets and/or wireless base stations.</p>
<p id="p-0065" num="0064">The input/output interface <b>518</b> may further connect the DSP <b>502</b> to the vibrator <b>526</b> that, when triggered, causes the mobile device <b>102</b> to vibrate. The vibrator <b>526</b> may serve as a mechanism for silently alerting the user to any of various events such as an incoming call, a new text message, and an appointment reminder.</p>
<p id="p-0066" num="0065">The keypad <b>528</b> couples to the DSP <b>502</b> via the interface <b>518</b> to provide one mechanism for the user to make selections, enter information, and otherwise provide input to the mobile device <b>102</b>. Another input mechanism may be the touch screen LCD <b>530</b>, which may also display text and/or graphics to the user. The touch screen LCD controller <b>532</b> couples the DSP <b>502</b> to the touch screen LCD <b>530</b>.</p>
<p id="p-0067" num="0066">The CCD camera <b>534</b> enables the mobile device <b>102</b> to take digital pictures. The DSP <b>502</b> communicates with the CCD camera <b>534</b> via the camera controller <b>536</b>. The GPS sensor <b>538</b> is coupled to the DSP <b>502</b> to decode global positioning system signals, thereby enabling the mobile device <b>102</b> to determine its position. In another embodiment, a camera operating according to a technology other than charge coupled device cameras may be employed. Various other peripherals may also be included to provide additional functions, e.g., radio and television reception.</p>
<p id="p-0068" num="0067"><figref idref="DRAWINGS">FIG. 6</figref> illustrates a software environment <b>602</b> that may be implemented by the DSP <b>502</b>. The DSP <b>502</b> executes operating system drivers <b>604</b> that provide a platform from which the rest of the software operates. The operating system drivers <b>604</b> provide drivers for the handset hardware with standardized interfaces that are accessible to application software. The operating system drivers <b>604</b> include application management services (&#x201c;AMS&#x201d;) <b>606</b> that transfer control between applications running on the mobile device <b>102</b>. Also shown in <figref idref="DRAWINGS">FIG. 6</figref> are a web browser application <b>608</b>, a media player application <b>610</b>, and JAVA applets <b>612</b>. The web browser application <b>608</b> configures the mobile device <b>102</b> to operate as a web browser, allowing a user to enter information into forms and select links to retrieve and view web pages. The media player application <b>610</b> configures the mobile device <b>102</b> to retrieve and play audio or audiovisual media. The JAVA applets <b>612</b> configure the mobile device <b>102</b> to provide games, utilities, and other functionality. The messaging application <b>614</b> comprises at least one software application used to generate and send messages as taught herein.</p>
<p id="p-0069" num="0068">Some aspects of the system described above may be implemented on any computer with sufficient processing power, memory resources, and network throughput capability to handle the necessary workload placed upon it. <figref idref="DRAWINGS">FIG. 7</figref> illustrates a typical computer system suitable for implementing one or more embodiments disclosed herein. The computer system <b>780</b> includes a processor <b>782</b> (which may be referred to as a central processor unit or CPU) that is in communication with memory devices including secondary storage <b>784</b>, read only memory (ROM) <b>786</b>, random access memory (RAM) <b>788</b>, input/output (I/O) devices <b>790</b>, and network connectivity devices <b>792</b>. The processor <b>782</b> may be implemented as one or more CPU chips.</p>
<p id="p-0070" num="0069">It is understood that by programming and/or loading executable instructions onto the computer system <b>780</b>, at least one of the CPU <b>782</b>, the RAM <b>788</b>, the ROM <b>786</b> are changed, transforming the computer system <b>780</b> in part into a particular machine or apparatus having the novel functionality taught by the present disclosure. It is fundamental to the electrical engineering and software engineering arts that functionality that can be implemented by loading executable software into a computer can be converted to a hardware implementation by well known design rules. Decisions between implementing a concept in software versus hardware typically hinge on considerations of stability of the design and numbers of units to be produced rather than any issues involved in translating from the software domain to the hardware domain. Generally, a design that is still subject to frequent change may be preferred to be implemented in software, because re-spinning a hardware implementation is more expensive than re-spinning a software design. Generally, a design that is stable that will be produced in large volume may be preferred to be implemented in hardware, for example in an application specific integrated circuit (ASIC), because for large production runs the hardware implementation may be less expensive than the software implementation. Often a design may be developed and tested in a software form and later transformed, by well known design rules, to an equivalent hardware implementation in an application specific integrated circuit that hardwires the instructions of the software. In the same manner as a machine controlled by a new ASIC is a particular machine or apparatus, likewise a computer that has been programmed and/or loaded with executable instructions may be viewed as a particular machine or apparatus.</p>
<p id="p-0071" num="0070">The secondary storage <b>784</b> is typically comprised of one or more disk drives or tape drives and is used for non-volatile storage of data and as an over-flow data storage device if RAM <b>788</b> is not large enough to hold all working data. Secondary storage <b>784</b> may be used to store programs which are loaded into RAM <b>788</b> when such programs are selected for execution. The ROM <b>786</b> is used to store instructions and perhaps data which are read during program execution. ROM <b>786</b> is a non-volatile memory device which typically has a small memory capacity relative to the larger memory capacity of secondary storage <b>784</b>. The RAM <b>788</b> is used to store volatile data and perhaps to store instructions. Access to both ROM <b>786</b> and RAM <b>788</b> is typically faster than to secondary storage <b>784</b>.</p>
<p id="p-0072" num="0071">I/O devices <b>790</b> may include printers, video monitors, liquid crystal displays (LCDs), touch screen displays, keyboards, keypads, switches, dials, mice, track balls, voice recognizers, card readers, paper tape readers, or other well-known input devices.</p>
<p id="p-0073" num="0072">The network connectivity devices <b>792</b> may take the form of modems, modem banks, Ethernet cards, universal serial bus (USB) interface cards, serial interfaces, token ring cards, fiber distributed data interface (FDDI) cards, wireless local area network (WLAN) cards, radio transceiver cards such as code division multiple access (CDMA), global system for mobile communications (GSM), and/or worldwide interoperability for microwave access (WiMAX) radio transceiver cards, and other well-known network devices. These network connectivity devices <b>792</b> may enable the processor <b>782</b> to communicate with an Internet or one or more intranets. With such a network connection, it is contemplated that the processor <b>782</b> might receive information from the network, or might output information to the network in the course of performing the above-described method steps. Such information, which is often represented as a sequence of instructions to be executed using processor <b>782</b>, may be received from and outputted to the network, for example, in the form of a computer data signal embodied in a carrier wave.</p>
<p id="p-0074" num="0073">Such information, which may include data or instructions to be executed using processor <b>782</b> for example, may be received from and outputted to the network, for example, in the form of a computer data baseband signal or signal embodied in a carrier wave. The baseband signal or signal embodied in the carrier wave generated by the network connectivity devices <b>792</b> may propagate in or on the surface of electrical conductors, in coaxial cables, in waveguides, in optical media, for example optical fiber, or in the air or free space. The information contained in the baseband signal or signal embedded in the carrier wave may be ordered according to different sequences, as may be desirable for either processing or generating the information or transmitting or receiving the information. The baseband signal or signal embedded in the carrier wave, or other types of signals currently used or hereafter developed, referred to herein as the transmission medium, may be generated according to several methods well known to one skilled in the art.</p>
<p id="p-0075" num="0074">The processor <b>782</b> executes instructions, codes, computer programs, scripts which it accesses from hard disk, floppy disk, optical disk (these various disk based systems may all be considered secondary storage <b>784</b>), ROM <b>786</b>, RAM <b>788</b>, or the network connectivity devices <b>792</b>. While only one processor <b>780</b> is shown, multiple processors may be present. Thus, while instructions may be discussed as executed by a processor, the instructions may be executed simultaneously, serially, or otherwise executed by one or multiple processors.</p>
<p id="p-0076" num="0075">While several embodiments have been provided in the present disclosure, it should be understood that the disclosed systems and methods may be embodied in many other specific forms without departing from the spirit or scope of the present disclosure. The present examples are to be considered as illustrative and not restrictive, and the intention is not to be limited to the details given herein. For example, the various elements or components may be combined or integrated in another system or certain features may be omitted or not implemented.</p>
<p id="p-0077" num="0076">Also, techniques, systems, subsystems, and methods described and illustrated in the various embodiments as discrete or separate may be combined or integrated with other systems, modules, techniques, or methods without departing from the scope of the present disclosure. Other items shown or discussed as directly coupled or communicating with each other may be indirectly coupled or communicating through some interface, device, or intermediate component, whether electrically, mechanically, or otherwise. Other examples of changes, substitutions, and alterations are ascertainable by one skilled in the art and could be made without departing from the spirit and scope disclosed herein.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for defining delays to support consistent tiered messaging performance for two or more classes of service, comprising:
<claim-text>receiving, by a query server, messages from one or more sources;</claim-text>
<claim-text>analyzing, by the query server, the messages in order to identify a class of service associated with each of the messages;</claim-text>
<claim-text>injecting in each message associated with a first class of service, by the query server, a first defined delay prior to initiating processing of the message, wherein the duration of the first defined delay is based on at least the first class of service and a first maximum expected wait time;</claim-text>
<claim-text>processing, by the query server, each message;</claim-text>
<claim-text>injecting in each message associated with a second class of service, by the query server, a second defined delay subsequent to completing processing of the message, wherein the duration of the second defined delay is based on at least the second class of service and a second maximum expected wait time;</claim-text>
<claim-text>storing each processed message in an outgoing queue;</claim-text>
<claim-text>sending, by the query server, a notification to the destination component that a processed message is available for retrieval; and</claim-text>
<claim-text>releasing, by the query server, the processed message to the destination component based upon a request by the destination component.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least one defined delay is fixed based on an associated class of service.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least one defined delay is variable and based at least on current message transport conditions.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising the query server receiving information from a feedback loop about transport conditions between a plurality of message originating and destination areas.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein processing each message comprises billing and determining a routing path of the message to the destination component.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processed message is one of an electronic mail message or a short message service (SMS) message.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the query server sending the notification to the destination component occurs without delay after storing the processed message in the outgoing queue.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least one defined delay is at least ten seconds.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the current message transport conditions are determined in part based on a service provider sending test messages across a network to determine transport times.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A system for providing consistent message delivery delays for two or more classes of service, comprising:
<claim-text>a memory;</claim-text>
<claim-text>a processor; and</claim-text>
<claim-text>an application stored in the memory that, when executed by the processor,
<claim-text>receives messages that are generated by one or more source electronic devices outside the system,</claim-text>
<claim-text>analyzes the messages in order to identify a class of service associated with each of the messages,</claim-text>
<claim-text>injects in each message associated with a first class of service a first delay prior to initiating processing of the message, wherein the duration of the first delay is based at least on the first class of service and a first maximum expected wait time,</claim-text>
<claim-text>processes each message,</claim-text>
<claim-text>injects in each message associated with a second class of service a second delay subsequent to completing processing of the message, wherein the duration of the second delay is based at least on the second class of service and a second maximum expected wait time,</claim-text>
<claim-text>stores each processed message in an outgoing queue of the memory,</claim-text>
<claim-text>sends a notification to a destination electronic device outside the system, and</claim-text>
<claim-text>releases a processed message to the destination electronic device.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The system of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein at least one delay is at least ten seconds.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The system of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the processed message is one of a short message service (SMS) message, a multi-media message, a text message, or an electronic mail message.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The system of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein at least one delay is fixed based on the class of service.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The system of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein at least one delay is variable and based at least in part on current message transport conditions.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The system of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the current message transport conditions are determined in part based on a service provider sending test messages across a network to determine transport times.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The system of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising a first delay queue, wherein the application places one of the messages on the first delay queue after analyzing the class of service and before processing the one of the messages, and wherein the application injects at least one delay based on an associated class of service at least in part using the first delay queue.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The system of <claim-ref idref="CLM-00016">claim 16</claim-ref>, further comprising a second delay queue, wherein the application places one of the messages on the second delay queue after processing and before sending the notification, and wherein the application injects at least one delay based on an associated class of service at least in part using the second delay queue.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The system of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein each of the messages received by the application comprises a service classification indication, and wherein analyzing the class of service associated with each of the messages comprises reading the service classification indication contained in the corresponding message.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The system of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein analyzing the class of service associated with each of the messages comprises the application observing one of an attribute or characteristic of the one or more source electronic devices.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The system of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the one or more source electronic devices are one or more of a mobile phone, media player, or personal digital assistant (PDA). </claim-text>
</claim>
</claims>
</us-patent-grant>
