<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625613-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625613</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12953236</doc-number>
<date>20101123</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>CN</country>
<doc-number>2010 1 0293804</doc-number>
<date>20100927</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>444</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>12</main-group>
<subgroup>66</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>29</main-group>
<subgroup>06</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>29</main-group>
<subgroup>08</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370401</main-classification>
<further-classification>370352</further-classification>
</classification-national>
<invention-title id="d2e71">Cable modem and priority setting method thereof</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5343473</doc-number>
<kind>A</kind>
<name>Cidon et al.</name>
<date>19940800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370465</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6890675</doc-number>
<kind>B2</kind>
<name>Koschany</name>
<date>20050500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>429439</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7460476</doc-number>
<kind>B1</kind>
<name>Morris et al.</name>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>3702301</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2003/0142664</doc-number>
<kind>A1</kind>
<name>Gerszberg et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370354</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2004/0073946</doc-number>
<kind>A1</kind>
<name>Kobayashi</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>725132</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2005/0025105</doc-number>
<kind>A1</kind>
<name>Rue</name>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370338</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2005/0226156</doc-number>
<kind>A1</kind>
<name>Keating et al.</name>
<date>20051000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370235</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2006/0177020</doc-number>
<kind>A1</kind>
<name>Huart et al.</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>379 8813</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2007/0230361</doc-number>
<kind>A1</kind>
<name>Choudhury</name>
<date>20071000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370250</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>8</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>3</number-of-drawing-sheets>
<number-of-figures>3</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120076130</doc-number>
<kind>A1</kind>
<date>20120329</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Kuo</last-name>
<first-name>Tien-Ting</first-name>
<address>
<city>Taipei Hsien</city>
<country>TW</country>
</address>
</addressbook>
<residence>
<country>TW</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Lo</last-name>
<first-name>Yew-Min</first-name>
<address>
<city>Taipei</city>
<country>TW</country>
</address>
</addressbook>
<residence>
<country>TW</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Kuo</last-name>
<first-name>Tien-Ting</first-name>
<address>
<city>Taipei Hsien</city>
<country>TW</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Lo</last-name>
<first-name>Yew-Min</first-name>
<address>
<city>Taipei</city>
<country>TW</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Altis Law Group, Inc.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Hon Hai Precision Industry Co., Ltd.</orgname>
<role>03</role>
<address>
<city>New Taipei</city>
<country>TW</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Nawaz</last-name>
<first-name>Asad</first-name>
<department>2468</department>
</primary-examiner>
<assistant-examiner>
<last-name>Harley</last-name>
<first-name>Jason</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A cable modem and a priority setting method thereof receive signaling packets from telephone interfaces and local area network (LAN) interfaces, and preset the signaling packets from telephone interfaces as VoIP packets with a first priority and the signaling packets from the LAN interfaces as LAN packets with a second priority. The cable modem and the priority setting method pick out RTP packets from the VoIP and LAN packets, and classify the RTP packets as VoIP RTP packets and LAN RTP packets. The cable modem and the priority setting method determine whether all of the IP phones are on-hook, and update the LAN RTP packets from the second priority to the first priority in response to all of the IP phones being on-hook. The cable modem and the priority setting method allocate bandwidths for the signaling packets corresponding to the first priority and the second priority.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="180.00mm" wi="171.03mm" file="US08625613-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="205.74mm" wi="165.52mm" file="US08625613-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="235.03mm" wi="177.80mm" file="US08625613-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="224.11mm" wi="171.03mm" file="US08625613-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0002" num="0001">1. Technical Field</p>
<p id="p-0003" num="0002">Embodiments of the present disclosure relate to cable modems, and particularly to a cable modem and a priority setting method of the cable modem.</p>
<p id="p-0004" num="0003">2. Description of Related Art</p>
<p id="p-0005" num="0004">A cable modem generally sets various priorities for signaling packets when transmitting the signaling packets between customer premise equipments (CPEs) and Internet protocol (IP) phones to Internet, in order to meet particular efficiency requirements of the signaling packets. For example, real-time transport protocol (RTP) packets are set with high priority, and non real-time transport protocol (nRTP) packets are set with low priority. The priority setting method is important for the cable modem, since it has a great impact on bandwidth allocation.</p>
<p id="p-0006" num="0005">However, the previous setting method is too simple to set priorities properly. For example, too much signaling packets are unnecessarily set with the high priority or improperly set with the low priority. Therefore, an unaddressed need exists in the cable modem to provide a priority setting method to improve network quality of service (QoS).</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0002" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic diagram of one exemplary embodiment of an environment of a cable modem of the present disclosure;</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram of one exemplary embodiment of the cable modem of the present disclosure; and</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart of one exemplary embodiment of a priority setting method of the cable modem of the present disclosure.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0003" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0010" num="0009">Referring to <figref idref="DRAWINGS">FIG. 1</figref>, a schematic diagram of one exemplary embodiment of an environment of a cable modem <b>20</b> is shown. In one embodiment, the cable modem <b>20</b> is an embedded multimedia terminal adapter (MTA) with telephone interfaces <b>21</b>. The cable modem <b>20</b> comprises the telephone interfaces <b>21</b> to connect to Internet protocol (IP) phones <b>11</b>, local area network (LAN) interfaces <b>22</b> to connect to CPEs <b>12</b> in a small office or home LAN <b>120</b>, and a wide area network (WAN) interface <b>23</b> to connect to Internet <b>30</b>.</p>
<p id="p-0011" num="0010">The telephone interfaces <b>21</b> are also called multimedia terminal adapter (MTA) interfaces, or VoIP interfaces. In one embodiment, the telephone interfaces <b>21</b> may be RJ-11 interfaces. It should noted that the number of the telephone interfaces <b>21</b> are not restricted to one, and may be two or more.</p>
<p id="p-0012" num="0011">The LAN interfaces <b>22</b> may be RJ-45 interfaces. It should noted that the number of the LAN interfaces <b>22</b> are not restricted to one, and may be four or more.</p>
<p id="p-0013" num="0012">The WAN interface <b>23</b>, also called a cable interface, connects to the Internet <b>30</b> by way of cable or hybrid of fiber and cable (HFC) networks.</p>
<p id="p-0014" num="0013">Referring to <figref idref="DRAWINGS">FIG. 2</figref>, a block diagram of one exemplary embodiment of the cable modem <b>20</b> is shown. The cable modem <b>20</b> bridges the IP phones <b>11</b> and the CPEs <b>12</b> in the LAN <b>120</b> to the Internet <b>30</b>, as shown in <figref idref="DRAWINGS">FIG. 1</figref>, to transceive signaling packets therebetween. The cable modem <b>20</b> comprises the telephone interfaces <b>21</b>, the LAN interfaces <b>22</b>, the WAN interface <b>23</b>, a storage system <b>207</b>, at least one processor <b>208</b>, and a plurality of functional modules <b>201</b>-<b>206</b>.</p>
<p id="p-0015" num="0014">The functional modules <b>201</b>-<b>206</b> may comprise computerized code in the form of one or more programs that are stored in the storage system <b>207</b>. The computerized code includes instructions that are executed by the at least one processor <b>208</b> to provide functions for functional modules <b>201</b>-<b>206</b>. In one embodiment, the storage system <b>207</b> may include hard disk drives, flash memories, random access memory (RAM), read-only memory (ROM), caches, or external storage mediums such as compact discs. In one embodiment, the functional modules <b>201</b>-<b>206</b> comprise a communication module <b>201</b>, a presetting module <b>202</b>, a picking module <b>203</b>, a classification module <b>204</b>, an update module <b>205</b>, and a bandwidth allocation module <b>206</b>.</p>
<p id="p-0016" num="0015">The communication module <b>201</b> is operable to receive signaling packets from the telephone interfaces <b>21</b> and the LAN interfaces <b>22</b> synchronously. In one embodiment, the signaling packets comprise the RTP packets and the nRTP packets. The nRTP packets are received from the LAN interfaces <b>22</b> over nRTP service flows, and the RTP packets are received both from the telephone interfaces <b>21</b> and from the LAN interfaces <b>22</b> over RTP service flows. In one embodiment, the RTP packets comprise media gateway control protocol (MGCP) packets and session initiation protocol (SIP) packets.</p>
<p id="p-0017" num="0016">Each of the signaling packets comprises a source port field, a source address, and receiving interface. The source port field records a source port of corresponding one of the signaling packets, such as 2427 port or 5060 port. In one embodiment, the 2427 port is a default port to transmit media gateway control protocol (MGCP) packets, the 5060 port is a default port to transmit session initiation protocol (SIP) packets, and the other ports besides these two are default port to transmit the nRTP packets. The source address records a source device of corresponding one of the signaling packets, such as the CPEs <b>12</b> or the IP phones <b>11</b>. The receiving interface records which interface the signaling packets received from, such as telephone interfaces <b>21</b> or the LAN interfaces <b>22</b>.</p>
<p id="p-0018" num="0017">The presetting module <b>202</b> is operable to classify the signaling packets according to the receiving interfaces or the source addresses of the signaling packets, and preset priority based on the classification. In one embodiment, the presetting module <b>202</b> classifies those signaling packets received from the telephone interfaces <b>21</b> and/or the source addresses of the signaling packets being the IP phones <b>11</b> as VoIP packets, and presets the VoIP packets with a first priority. The presetting module <b>202</b> classifies those signaling packets received from the LAN interfaces <b>22</b> and/or the source addresses of the signaling packets are the CPEs <b>12</b> as LAN packets, and presets the LAN packets with a second priority. In one embodiment, the first priority is higher than the second priority.</p>
<p id="p-0019" num="0018">The picking module <b>203</b> is operable to pick out RTP packets from the LAN packets and the VoIP packets according to the source port fields thereof. In one embodiment, if the source port field of one of the LAN and VoIP packets is 5060 port or 2427 port, the one packet is confirmed as an RTP packet, otherwise the one packet is a nRTP packet. In the embodiment, all the VoIP packets are RTP packets. Therefore, only one or more LAN packets would be determined as nRTP packets.</p>
<p id="p-0020" num="0019">The classification module <b>204</b> is operable to classify the RTP packets as VoIP RTP packets and LAN RTP packets, according to the receiving interfaces or source addresses thereof. The presetting module <b>202</b> maintains the VoIP RTP packets as the first priority.</p>
<p id="p-0021" num="0020">The update module <b>205</b> is operable to determine whether all of the IP phones <b>11</b> connected to the telephone interfaces <b>21</b> are on-hook. The update module <b>205</b> updates the LAN RTP packets from the second priority to the first priority in response to all of the IP phones <b>11</b> being on-hook. In one embodiment, if at least one IP phone <b>11</b> is not on-hook, the presetting module <b>202</b> maintains the LAN RTP packets as the second priority.</p>
<p id="p-0022" num="0021">In one embodiment, the cable modem <b>20</b> sets priorities flexibly for the LAN RTP packets in accordance with working states of the IP phones <b>11</b>, the source port field and the receiving interfaces of the signaling packets, such as the RTP packets, the nRTP packets, the telephone interfaces <b>21</b>, or the LAN interfaces <b>22</b>.</p>
<p id="p-0023" num="0022">The bandwidth allocation module <b>206</b> allocates bandwidths for the signaling packets corresponding to the first priority and the second priority. In one embodiment, the bandwidth allocation module <b>206</b> allocates the bandwidths for the VoIP RTP packets corresponding to the first priority and the LAN nRTP packets corresponding to the second priority. The bandwidth allocation module <b>206</b> further allocates the LAN RTP packets corresponding to the second priority in response to at least one IP phone <b>11</b> being not on-hook, and the LAN RTP packets corresponding to the first priority in response to all of the IP phones <b>11</b> being on-hook.</p>
<p id="p-0024" num="0023">The communication module <b>201</b> further transmits the signaling packets in the allocated bandwidths to the WAN interface <b>23</b>, in accordance with the first and second priorities in sequence of time.</p>
<p id="p-0025" num="0024">In one embodiment, the cable modem <b>20</b> sets priorities flexibly for the LAN RTP packets, therefore, MGCP or SIP packets received from the LAN interfaces <b>22</b> have the chance to use the first (high) priority bandwidths, and the first (high) priority bandwidths can be utilized efficiently.</p>
<p id="p-0026" num="0025">Referring to <figref idref="DRAWINGS">FIG. 3</figref>, a flowchart of one exemplary embodiment of a priority setting method of the cable modem <b>20</b> is shown. The cable modem <b>20</b> bridges the IP phones <b>11</b> and the CPEs <b>12</b> in the LAN <b>120</b> to the Internet <b>30</b>, as shown in <figref idref="DRAWINGS">FIG. 1</figref>, to transceive signaling packets therebetween. The priority setting method sets various priorities for the signaling packets from the IP phones <b>11</b> and the CPEs <b>12</b> and is executed by the cable modem <b>20</b> shown in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0027" num="0026">In block S<b>301</b>, the communication module <b>201</b> receives the signaling packets from the telephone interfaces <b>21</b> and the LAN interfaces <b>22</b> synchronously. In one embodiment, the signaling packets comprise the RTP packets and the nRTP packets. The nRTP packets are received from the LAN interfaces <b>22</b> over nRTP service flows, and the RTP packets are received both from the telephone interfaces <b>21</b> and from the LAN interfaces <b>22</b> over RTP service flows. In one embodiment, the RTP packets comprise media gateway control protocol (MGCP) packets and session initiation protocol (SIP) packets.</p>
<p id="p-0028" num="0027">Each of the signaling packets comprises a source port field, a source address, and receiving interface. The source port field records a source port of corresponding one of the signaling packets, such as 2427 port or 5060 port. In one embodiment, the 2427 port is a default port to transmit media gateway control protocol (MGCP) packets, the 5060 port is a default port to transmit session initiation protocol (SIP) packets, and the other ports besides these two are default port to transmit the nRTP packets. The source address records a source device of corresponding one of the signaling packets, such as the CPEs <b>12</b> or the IP phones <b>11</b>. The receiving interface records which interface the signaling packets received from, such as telephone interfaces <b>21</b> or the LAN interfaces <b>22</b>.</p>
<p id="p-0029" num="0028">In block S<b>302</b>, the presetting module <b>202</b> classifies the signaling packets according to the receiving interfaces or the source addresses thereof, and presets priority based on the classification. In one embodiment, the presetting module <b>202</b> classifies those signaling packets received from the telephone interfaces <b>21</b> and/or the source addresses of the signaling packets being the IP phones <b>11</b> as VoIP packets, and presets the VoIP packets with a first priority. The presetting module <b>202</b> classifies those signaling packets received from the LAN interfaces <b>22</b> and/or the source addresses of the signaling packets are the CPEs <b>12</b> as LAN packets, and presets the LAN packets with a second priority. In one embodiment, the first priority is higher than the second priority.</p>
<p id="p-0030" num="0029">In block S<b>303</b>, the picking module <b>203</b> picks out RTP packets from the LAN and VoIP packets according to the source port fields thereof. In one embodiment, if the source port field of one of the LAN and VoIP packets is 5060 port or 2427 port, the one packet is confirmed as a RTP packet, otherwise the one packet is a nRTP packet. In the embodiment, the VoIP packets are RTP packets. Therefore, only one or more LAN packets would be determined as nRTP packets.</p>
<p id="p-0031" num="0030">If the picking module <b>203</b> determines one or more LAN packets are the nRTP packets, the presetting module <b>202</b> maintains the one or more LAN packets as the second priority, and the flow goes to block S<b>304</b>. Those RTP packets confirmed by the picking module <b>203</b> would be processed following block S<b>306</b>.</p>
<p id="p-0032" num="0031">In block S<b>304</b>, the bandwidth allocation module <b>206</b> allocates limited bandwidths for the nRTP packets corresponding to the second priority.</p>
<p id="p-0033" num="0032">In block S<b>305</b>, the communication module <b>201</b> further transmits the nRTP packets in the allocated bandwidths to the WAN interface <b>23</b>, in according with the second priorities and in sequence of time.</p>
<p id="p-0034" num="0033">In block S<b>306</b>, the classification module <b>204</b> classifies the RTP packets as VoIP RTP packets and LAN RTP packets, according to the receiving interfaces or source addresses thereof.</p>
<p id="p-0035" num="0034">If the RTP packets are VoIP RTP packets, the presetting module <b>202</b> maintains the VoIP RTP packets as the first priority, and the flow goes to block S<b>307</b>.</p>
<p id="p-0036" num="0035">In block S<b>307</b>, the bandwidth allocation module <b>206</b> allocates the bandwidths for the signaling packets in the first priority.</p>
<p id="p-0037" num="0036">In block S<b>308</b>, the update module <b>205</b> determines whether all of the IP phones <b>11</b> connected to the telephone interfaces <b>21</b> are on-hook.</p>
<p id="p-0038" num="0037">If at least one IP phone <b>11</b> is not on-hook, the presetting module <b>202</b> maintains the second priority for the VoIP RTP packets, and the flow goes to block S<b>304</b> to allocate the bandwidths for the signaling packets in second priority.</p>
<p id="p-0039" num="0038">If all of the IP phones <b>11</b> are on-hook, in block S<b>309</b>, the update module <b>205</b> updates the LAN RTP packets from the second priority to the first priority and the flow goes to block S<b>307</b> to allocate the bandwidths for the signaling packets in the first priority.</p>
<p id="p-0040" num="0039">In one embodiment, the priority setting method of the cable modem <b>20</b> sets priority flexibly for the LAN RTP packet, therefore, MGCP or SIP packets from the LAN interfaces <b>22</b> have the chances to use first (high) priority bandwidths, and the first (high) priority bandwidths can be utilized efficiently.</p>
<p id="p-0041" num="0040">The description of the present disclosure has been presented for purposes of illustration and description, and is not intended to be exhaustive or limited to the disclosure in the form disclosed. Many modifications and variations will be apparent to those of ordinary skill in the art. Various embodiments were chosen and described in order to best explain the principles of the disclosure, the practical application, and to enable others of ordinary skill in the art to understand the disclosure for various embodiments with various modifications as are suited to the particular use contemplated.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A cable modem to set priority for signaling packets received from at least one Internet protocol (IP) phone and at least one customer premise equipment (CPE), the signaling packets comprising real-time transport protocol (RTP) packets and non real-time transport protocol (nRTP) packets, the cable modem comprising:
<claim-text>telephone interfaces to connect to the at least one IP phone;</claim-text>
<claim-text>local area network (LAN) interfaces to connect to the at least one CPE;</claim-text>
<claim-text>a wide area network (WAN) interface to connect to the Internet;</claim-text>
<claim-text>at least one processor;</claim-text>
<claim-text>a storage system; and</claim-text>
<claim-text>one or more programs that are stored in the storage system and are executed by the at least one processor to perform a method, the method comprising:
<claim-text>receiving the signaling packets from the telephone interfaces and the LAN interfaces synchronously, wherein the signaling packets comprise the nRTP packets from the LAN interfaces over nRTP service flows, and the RTP packets from the telephone interfaces and the LAN interfaces over RTP service flows;</claim-text>
<claim-text>presetting the signaling packets from the telephone interfaces as VoIP packets with a first priority and presetting the signaling packets from the LAN interfaces as LAN packets with a second priority, wherein the first priority is higher than the second priority;</claim-text>
<claim-text>picking out RTP packets from the VoIP packets and the LAN packets;</claim-text>
<claim-text>classifying the RTP packets as VoIP RTP packets and LAN RTP packets;</claim-text>
<claim-text>determining whether all of the IP phones are on-hook, and updating the LAN RTP packets from the second priority to the first priority in response to all of the IP phones being on-hook;</claim-text>
<claim-text>allocating bandwidths for the signaling packets according to the first priority and the second priority.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The cable modem as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the presetting priority step classifies the signaling packets from the telephone interfaces and/or source addresses of the signaling packets being IP phones as the VoIP packets, and the signaling packets from the LAN interface and/or the source addresses being CPEs as the LAN packets.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The cable modem as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the allocating bandwidths step further allocates the bandwidths for the VoIP RTP packets corresponding to the first priority, the LAN nRTP packets corresponding to the second priority, and the LAN RTP packets corresponding to the second priority in response to at least one IP phone being not on-hook.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The cable modem as claimed in <claim-ref idref="CLM-00003">claim 3</claim-ref>, further comprising step of transmitting the signaling packets in the allocated bandwidth, in accordance with the first and second priorities in sequence of time.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A priority setting method of a cable modem, to set various priorities for signaling packets from Internet protocol (IP) phones and customer premise equipments (CPEs) to a local area network (LAN) to Internet, the signaling packets comprising real-time transport protocol (RTP) packets and non real-time transport protocol (nRTP) packets, the cable modem comprising telephone interfaces to connect to the IP phones, LAN interfaces to connect to the CPEs, a WAN interface to connect to the Internet, the priority setting method comprising:
<claim-text>receiving the signaling packets from the telephone interfaces and the LAN interfaces, wherein the signaling packets comprise the nRTP packets from the LAN interfaces over RTP service flows, and the RTP packets from the telephone interfaces and the LAN interfaces over nRTP service flows;</claim-text>
<claim-text>presetting the signaling packets from the telephone interfaces as VoIP packets with a first priority and presetting the signaling packets from the LAN interfaces as LAN packets with a second priority, wherein the first priority is higher than the second priority;</claim-text>
<claim-text>picking out RTP packets from the VoIP packets and the LAN packets;</claim-text>
<claim-text>classifying the RTP packets as VoIP RTP packets and LAN RTP packets;</claim-text>
<claim-text>determining whether all of the IP phones are on-hook, and update the LAN RTP packets from the second priority to the first priority in response to all of the IP phones being on-hook; and allocating bandwidths for the signaling packets according to the first priority and the second priority.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The priority setting method as claimed in <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the presetting priority step classifies the signaling packets from the telephone interfaces and/or source addresses of the signaling packets being IP phones as the VoIP packets, and the signaling packets from the LAN interface and/or the source addresses being CPEs as the LAN packets.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The priority setting method as claimed in <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the allocating bandwidths step comprises:
<claim-text>allocating the bandwidths for the VoIP RTP packets corresponding to the first priority;</claim-text>
<claim-text>allocating the bandwidths for the nRTP packets corresponding to the second priority; and</claim-text>
<claim-text>allocating the bandwidths for the LAN RTP packets corresponding to the second priority in response to at least one IP phone being not on-hook.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The priority setting method as claimed in <claim-ref idref="CLM-00007">claim 7</claim-ref>, further comprising step of transmitting the signaling packets in the allocated bandwidth, in accordance with the first and second priorities in sequence of time. </claim-text>
</claim>
</claims>
</us-patent-grant>
