<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624633-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624633</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13495131</doc-number>
<date>20120613</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2011-138439</doc-number>
<date>20110622</date>
</priority-claim>
</priority-claims>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>B</subclass>
<main-group>5</main-group>
<subgroup>30</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>327 87</main-classification>
<further-classification>331116 R</further-classification>
<further-classification>331116 FE</further-classification>
<further-classification>331160</further-classification>
</classification-national>
<invention-title id="d2e61">Oscillator circuit</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5047734</doc-number>
<kind>A</kind>
<name>Newell et al.</name>
<date>19910900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>331 46</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6175284</doc-number>
<kind>B1</kind>
<name>Sakurai et al.</name>
<date>20010100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>331116 FE</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7123113</doc-number>
<kind>B1</kind>
<name>Brennan et al.</name>
<date>20061000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>331158</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>8044731</doc-number>
<kind>B2</kind>
<name>Arai</name>
<date>20111000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>331116 FE</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2006/0071730</doc-number>
<kind>A1</kind>
<name>Nagatomo et al.</name>
<date>20060400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2008/0136541</doc-number>
<kind>A1</kind>
<name>Yoshinaga</name>
<date>20080600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2012/0126907</doc-number>
<kind>A1</kind>
<name>Nakamoto et al.</name>
<date>20120500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>331155</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2012/0242419</doc-number>
<kind>A1</kind>
<name>Tsai et al.</name>
<date>20120900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>331109</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>JP</country>
<doc-number>2006-129459</doc-number>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>JP</country>
<doc-number>2008-147815</doc-number>
<date>20080600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>5</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>327291</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327292</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327295</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327296</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327299</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327101</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327102</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327113</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327119</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327140</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327171</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327178</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327179</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327306</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327309</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327311</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327312</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327323</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331107 R</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331108 R</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331109</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331114</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331116 R</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331116 FE</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331108 A</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331108 C</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331138</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331139</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331154</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331155</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331158</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331160</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>9</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120326762</doc-number>
<kind>A1</kind>
<date>20121227</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Sakai</last-name>
<first-name>Minoru</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Nakamura</last-name>
<first-name>Takayuki</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Komiya</last-name>
<first-name>Akira</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Sakai</last-name>
<first-name>Minoru</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Nakamura</last-name>
<first-name>Takayuki</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Komiya</last-name>
<first-name>Akira</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>IPUSA, PLLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Mitsumi Electric Co., Ltd.</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Donovan</last-name>
<first-name>Lincoln</first-name>
<department>2816</department>
</primary-examiner>
<assistant-examiner>
<last-name>Kim</last-name>
<first-name>Jung H</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An oscillator circuit includes an oscillator output signal generating circuit configured to generate an oscillator output signal using an oscillator as a resonator, an amplitude detection circuit configured to detect the amplitude of the oscillator output signal and compare the detected amplitude with a threshold; and a boost circuit configured to boost the oscillator output signal according to the result of the comparison at the amplitude detection circuit. The amplitude detection circuit includes an absolute value circuit configured to obtain an absolute value signal of the oscillator output signal, a low-pass filter configured to convert the absolute value signal into a low-frequency signal, and a comparator configured to compare the low-frequency signal with the threshold.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="172.72mm" wi="186.27mm" file="US08624633-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="98.38mm" wi="157.48mm" file="US08624633-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="232.33mm" wi="180.68mm" orientation="landscape" file="US08624633-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="214.04mm" wi="179.58mm" orientation="landscape" file="US08624633-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="259.76mm" wi="194.73mm" file="US08624633-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="263.65mm" wi="189.48mm" file="US08624633-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading>
<p id="p-0002" num="0001">The present application is based upon and claims the benefit of priority of Japanese Patent Application No. 2011-138439, filed on Jun. 22, 2011, the entire contents of which are incorporated herein by reference.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">An aspect of this disclosure is related to an oscillator circuit.</p>
<p id="p-0005" num="0004">2. Description of the Related Art</p>
<p id="p-0006" num="0005">Japanese Laid-Open Patent Publication 2008-147815, for example, discloses an oscillator circuit that generates an oscillator output signal using an oscillator as a resonator. The disclosed oscillator circuit includes two inverter circuits used as amplifier circuits and connected in parallel with the oscillator, and a timer for counting time from the start of oscillation. In the oscillator circuit, both of the inverter circuits are caused to operate for a predetermined period of time from the start of oscillation. After the predetermined period of time passes, only one of the inverter circuits is caused to operate and the other one of the inverter circuits is stopped. This configuration is intended to reduce the time necessary for the oscillation to stabilize and also to reduce power consumption.</p>
<p id="p-0007" num="0006">Thus, according to the disclosed technology, boosting of the oscillator output signal is stopped when the time from the start of oscillation counted by the timer exceeds a predetermined value. However, characteristics of oscillators may vary depending on their types and individual differences. Therefore, if the timer is not properly set, boosting of the oscillator output signal may be stopped before the oscillator output signal stabilizes.</p>
<p id="p-0008" num="0007">This problem may be prevented, for example, by using a method where boosting of an oscillator output signal is stopped when the amplitude of the oscillator output signal exceeds a predetermined value. Here, this method needs an amplitude detection circuit for outputting a signal Vs that changes when the amplitude of an oscillator output signal becomes greater than a predetermined value.</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 1</figref> illustrates an exemplary amplitude detection circuit that outputs a signal Vs. The amplitude detection circuit of <figref idref="DRAWINGS">FIG. 1</figref> outputs the signal Vs using a pulse-width detection circuit. A comparator <b>4</b> of the amplitude detection circuit compares amplitude Vin of an oscillator output signal with a threshold voltage Vbias. Here, to monitor a high-frequency oscillation amplitude with a comparator as in this configuration, the comparator needs to have a high slew rate to be able to follow changes in input oscillation amplitude.</p>
<p id="p-0010" num="0009">When Vout indicates the output voltage of a comparator, C indicates the capacitance of the comparator, and I indicates an electric current for charging and discharging the capacitance, the slew rate is expressed by formula (1) below.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>SR</i>=dVout/<i>dt&#x2212;I/C</i>&#x2003;&#x2003;(1)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0011" num="0010">As is apparent from formula (1), to increase the slew rate, it is necessary to increase the electric current I. Accordingly, increasing the slew rate of a comparator increases the power consumption of the comparator.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0012" num="0011">In an aspect of this disclosure, there is provided an oscillator circuit that includes an oscillator output signal generating circuit configured to generate an oscillator output signal using an oscillator as a resonator, an amplitude detection circuit configured to detect the amplitude of the oscillator output signal and compare the detected amplitude with a threshold; and a boost circuit configured to boost the oscillator output signal according to the result of the comparison at the amplitude detection circuit. The amplitude detection circuit includes an absolute value circuit configured to obtain an absolute value signal of the oscillator output signal, a low-pass filter configured to convert the absolute value signal into a low-frequency signal, and a comparator configured to compare the low-frequency signal with the threshold.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 1</figref> is a circuit diagram of an amplitude detection circuit that outputs a signal Vs using a pulse-width detection circuit;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 2</figref> is a circuit diagram of an oscillator circuit according to an embodiment;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 3</figref> is a circuit diagram of an amplitude detection circuit;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIGS. 4A through 4D</figref> are time charts of signals;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 5</figref> is a graph illustrating results of simulating the start-up time of an oscillator circuit having no boost circuit; and</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 6</figref> is a graph illustrating results of simulating the start-up time of an oscillator circuit having a boost circuit.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0019" num="0018">Preferred embodiments of the present invention are described below with reference to the accompanying drawings. <figref idref="DRAWINGS">FIG. 2</figref> is a circuit diagram of an oscillator circuit <b>100</b> according to an embodiment. The oscillator circuit <b>100</b> may include an oscillator output signal generating circuit <b>11</b> that generates an oscillator output signal Vx to be output from a terminal OSCOUT by using an crystal oscillator <b>1</b> as a resonator, an amplitude detection circuit <b>15</b> for detecting the amplitude of the oscillator output signal Vx, and a boost circuit <b>16</b> for boosting the oscillator output signal Vx according to an output signal Vs of the amplitude detection circuit <b>15</b>. The amplitude detection circuit <b>15</b> may include an absolute value circuit <b>12</b> that receives the oscillator output signal Vx, a low-pass filter <b>13</b> that receives an output signal Vabs (absolute value signal) from the absolute value circuit <b>12</b>, and a comparator <b>14</b> that receives an input signal Vin from the low-pass filter <b>13</b>.</p>
<p id="p-0020" num="0019">In the oscillator circuit <b>100</b> configured as described above, the high-frequency output signal Vabs (see <figref idref="DRAWINGS">FIG. 4B</figref>), which is the absolute value of the oscillator output signal Vx output from the absolute value circuit <b>12</b>, is converted by the low-pass filter <b>13</b> into a low-frequency signal, and the low-frequency signal is input to the comparator <b>14</b> as the input signal Vin (see <figref idref="DRAWINGS">FIG. 4C</figref>). Converting the high-frequency oscillator output signal Vx into the low-frequency input signal Vin makes it possible to correctly detect the amplitude of the high-frequency oscillator output signal Vx even when the slew rate of the comparator <b>14</b> is low. This in turn makes it possible to reduce the electric current necessary to charge the parasitic capacitance in the comparator <b>14</b> and thereby makes it possible to reduce the power consumption of the comparator <b>14</b>.</p>
<p id="p-0021" num="0020">The configuration of the oscillator circuit <b>100</b> is described in more detail below.</p>
<p id="p-0022" num="0021">As illustrated in <figref idref="DRAWINGS">FIG. 2</figref>, the oscillator circuit <b>100</b> is composed of semiconductor integrated circuits (IC), and includes the oscillator output signal generating circuit <b>11</b>, the amplitude detection circuit <b>15</b>, and the boost circuit <b>16</b>. The crystal oscillator <b>1</b> is externally connected to the oscillator output signal generating circuit <b>11</b> of the oscillator circuit <b>100</b> via an input terminal XT<b>1</b> and an output terminal XT<b>2</b>. The oscillator output signal generating circuit <b>11</b>, the amplitude detection circuit <b>15</b>, and the boost circuit <b>16</b> are driven by a constant reference voltage Vref supplied from a common power supply <b>2</b> as a supply voltage. Transistors illustrated in <figref idref="DRAWINGS">FIG. 2</figref> may be implemented, for example, by metal-oxide-semiconductor field-effect transistors (MOSFET).</p>
<p id="p-0023" num="0022">The oscillator output signal generating circuit <b>11</b> may include a CMOS inverter S<b>1</b>, a capacitor C<b>11</b>, a capacitor C<b>12</b>, and a feedback resistor R<b>1</b>, and generates the output signal Vx having a constant oscillation frequency and to be output from the terminal OSCOUT.</p>
<p id="p-0024" num="0023">The CMOS inverter S<b>1</b> includes a p-channel transistor M<b>1</b> and an n-channel transistor M<b>2</b>, and is driven by the reference voltage Vref supplied from the power supply <b>2</b> as a supply voltage. The CMOS inverter S<b>1</b> is connected in parallel with the crystal oscillator <b>1</b>.</p>
<p id="p-0025" num="0024">The capacitor C<b>11</b> is connected between an input node &#x201c;a&#x201d; of the CMOS inverter S<b>1</b> and a ground GND. The node &#x201c;a&#x201d; is connected to the terminal XT<b>1</b>.</p>
<p id="p-0026" num="0025">The capacitor C<b>12</b> is connected between an output node &#x201c;b&#x201d; of the CMOS inverter S<b>1</b> and the ground GND. The node &#x201c;b&#x201d; is connected to the terminal XT<b>2</b>. The capacitor C<b>12</b> may be connected between the output node &#x201c;b&#x201d; of the CMOS inverter S<b>1</b> and the ground GND via a damping resistor R<b>2</b>. When the damping resistor R<b>2</b> is inserted between the output node &#x201c;b&#x201d; and the ground GND, a node &#x201c;c&#x201d; between the damping resistor R<b>2</b> and the capacitor C<b>12</b> is connected to the terminal XT<b>2</b>. With the damping resistor R<b>2</b> added, it is possible to reduce unintended spurious oscillations and to prevent an excessive increase in the amplitude of the oscillator output signal Vx.</p>
<p id="p-0027" num="0026">The feedback resistor R<b>1</b> is connected in parallel with the CMOS inverter S<b>1</b>, and is inserted between the node &#x201c;a&#x201d; and the node &#x201c;b&#x201d;. DC voltages at the ends of the crystal oscillator <b>1</b> are substantially the same due to the feedback resistor R<b>1</b>. Also, voltages Vx<b>1</b> and Vx<b>2</b> at the corresponding ends of the crystal oscillator <b>1</b> can be adjusted to have the same amplitude by adjusting the capacitors C<b>11</b> and C<b>12</b>.</p>
<p id="p-0028" num="0027">The amplitude detection circuit <b>15</b> may include the absolute value circuit <b>12</b>, the low-pass filter <b>13</b>, and the comparator <b>14</b>. The absolute value circuit <b>12</b> obtains the absolute value of the oscillator output signal Vx. The absolute value circuit <b>12</b> receives the voltages Vx<b>1</b> and Vx<b>2</b> at the corresponding ends of the crystal oscillator <b>1</b>, extracts positive parts of the voltages Vx<b>1</b> and Vx<b>2</b> with respect to the center of oscillation, and outputs the signal Vabs that is the absolute value of the oscillator output signal Vx, i.e., a signal that varies according to the amplitude of the oscillator output signal Vx. The low-pass filter <b>13</b> rectifies the output signal Vabs with large amplitude variations into a signal with small amplitude variations by averaging the output signal Vabs using a predetermined filter constant, and thereby generates the input signal Vin to be input to the comparator <b>14</b>. The comparator <b>14</b> compares the input signal Vin with the threshold voltage Vbias, and outputs the comparison result as the signal Vs. More specifically, the comparator <b>14</b> sets the signal Vs at the low level when the input signal Vin is less than or equal to the threshold voltage Vbias, and sets the signal Vs at the high level when the input signal Vin is greater than the threshold voltage Vbias (see <figref idref="DRAWINGS">FIG. 4D</figref>). Here, since the amplitude of the input signal Vin is attenuated by the rectification and becomes smaller than that of the oscillation waveform, the threshold voltage Vbias is adjusted in proportion to the amount of attenuation.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 3</figref> is a circuit diagram of the amplitude detection circuit <b>15</b>. <figref idref="DRAWINGS">FIG. 3</figref> illustrates detailed configurations of the absolute value circuit <b>12</b>, the low-pass filter <b>13</b>, and the comparator <b>14</b>.</p>
<p id="p-0030" num="0029">The absolute value circuit <b>12</b> includes re-channel transistors M<b>11</b> and M<b>12</b> whose sources are commonly connected to an output node of the absolute value circuit <b>12</b>. The gate of the transistor M<b>11</b> is connected to the input terminal XT<b>1</b> of the crystal oscillator <b>1</b> (see <figref idref="DRAWINGS">FIG. 2</figref>), and the gate of the transistor M<b>12</b> is connected to the output terminal XT<b>2</b> of the crystal oscillator <b>1</b> (see <figref idref="DRAWINGS">FIG. 2</figref>).</p>
<p id="p-0031" num="0030">With this configuration, the absolute value circuit <b>12</b> receives the voltages Vx<b>1</b> and Vx<b>2</b> of the corresponding ends of the crystal oscillator <b>1</b> that have opposite phases (see <figref idref="DRAWINGS">FIG. 4A</figref>), and outputs the signal Vabs that is the absolute value of the oscillator output signal Vx (see <figref idref="DRAWINGS">FIG. 4B</figref>).</p>
<p id="p-0032" num="0031">Also with the above configuration, the transistors M<b>11</b> and M<b>12</b> draw electric current from the power supply <b>2</b> at the same timing as the oscillator output signal generating circuit <b>11</b> and the boost circuit <b>16</b>. Therefore, although the drains of the transistors M<b>11</b> and M<b>12</b> are supplied with the reference voltage Vref from the same power supply <b>2</b> that supplies power to the oscillator output signal generating circuit <b>11</b> and the boost circuit <b>16</b>, the influence of ON/OFF of the transistors M<b>11</b> and M<b>12</b> on the operations of the oscillator output signal generating circuit <b>11</b> and the boost circuit <b>16</b> can be reduced compared with the circuit of <figref idref="DRAWINGS">FIG. 1</figref>. This in turn makes it possible to reduce the risk of causing a problem such as discontinuation of the oscillator output signal.</p>
<p id="p-0033" num="0032">With the circuit configuration of <figref idref="DRAWINGS">FIG. 1</figref>, since pulses with a duty ratio different from that of the oscillator output signal Vx (the duty ratio of the oscillator output signal Vx is about 50%) are generated, a current source <b>8</b> draws electric current from the power supply <b>2</b> at a timing different from the oscillator output signal generating circuit <b>11</b> and the boost circuit <b>16</b>. This may result in ripples in the reference voltage Vref which may influence the operations of the oscillator output signal generating circuit <b>11</b> and the boost circuit <b>16</b>.</p>
<p id="p-0034" num="0033">The low-pass filter <b>13</b> is a CR filter including a capacitor C<b>1</b> and a resistor R<b>4</b>. One end of the resistor R<b>4</b> is connected to the output node of the absolute value circuit <b>12</b>. The node between the resistor R<b>4</b> and the capacitor C<b>1</b> is connected to the drain of an output transistor M<b>14</b> of a current mirror that uses the reference voltage Vref as the operating voltage. With this configuration, the low-pass filter <b>13</b> outputs the signal Vin obtained by removing high-frequency components from the absolute value signal Vabs using the CR filter (see <figref idref="DRAWINGS">FIG. 4C</figref>). The current mirror also limits the amount of discharge of the capacitor C<b>1</b> and limits the electric current of the absolute value circuit <b>12</b>. In <figref idref="DRAWINGS">FIG. 3</figref>, the resistor R<b>4</b> is provided between the absolute value circuit <b>12</b> and the current mirror. As a variation, the resistor R<b>4</b> may be provided between the capacitor C<b>1</b> and a node between the absolute value circuit <b>12</b> and the current mirror.</p>
<p id="p-0035" num="0034">The comparator <b>14</b> includes a differential pair and a current mirror. The input signal Vin is input to the gate of a transistor M<b>18</b> of the differential pair, and the threshold voltage Vbias is input to the gate of a transistor M<b>19</b> of the differential pair. Since the comparator <b>14</b> is configured to compare the low-frequency input signal Vin with the threshold voltage Vbias, the slew rate of the comparator <b>14</b> may be low. This in turn makes it possible to reduce electric currents I<b>1</b> and <b>12</b> necessary to charge the parasitic capacitance in the comparator <b>14</b> and thereby makes it possible to reduce the power consumption of the comparator <b>14</b>.</p>
<p id="p-0036" num="0035">The comparator <b>14</b> may also include a hysteresis circuit that provides hysteresis to the threshold voltage Vbias. The hysteresis circuit includes an n-channel transistor M<b>24</b> whose gate is connected to the output node of the comparator <b>14</b>. Turning the transistor M<b>24</b> on and off changes the voltage division ratio of the resistors and thereby changes the threshold voltage Vbias. This configuration makes it possible to prevent a malfunction caused by unsmoothed ripples in the input signal Vin.</p>
<p id="p-0037" num="0036">In <figref idref="DRAWINGS">FIG. 2</figref>, the boost circuit <b>16</b> stops boosting the oscillator output signal Vx when it is detected by the comparator <b>14</b> that the amplitude of the oscillator output signal Vx has exceeded a predetermined reference value. In other words, when a high-level signal Vs indicating that the input signal Vin has exceeded the threshold voltage Vbias is input, the boost circuit <b>16</b> stops boosting the oscillator output signal Vx.</p>
<p id="p-0038" num="0037">The boost circuit <b>16</b> may include a CMOS inverter S<b>2</b> for boosting the oscillator output signal Vx and a stop circuit (including an inverting circuit <b>3</b>, a p-channel transistor M<b>5</b>, and an n-channel transistor M<b>6</b>) for stopping the operation of the CMOS inverter S<b>2</b>.</p>
<p id="p-0039" num="0038">The gate of the transistor M<b>5</b> is connected to the output node of the comparator <b>14</b>, the source is connected to the reference voltage Vref, and the drain is connected to the source of a transistor M<b>3</b> of the CMOS inverter S<b>2</b>. The gate of the transistor M<b>6</b> is connected via the inverting circuit <b>3</b> to the output node of the comparator <b>14</b>, the source is connected to the ground GND, and the drain is connected to the source of a transistor M<b>4</b> of the CMOS inverter S<b>2</b>. This configuration makes it possible to control and stop the boosting operation of the CMOS inverter S<b>2</b> of the boost circuit <b>16</b> according to the output signal Vs from the comparator <b>14</b>.</p>
<p id="p-0040" num="0039">The CMOS inverter S<b>2</b> includes the p-channel transistor M<b>3</b> and the n-channel transistor M<b>4</b>, and is driven by the reference voltage Vref supplied from the power supply <b>2</b> as a supply voltage. Input terminals of the CMOS inverter S<b>2</b> (i.e., the gates of the transistors M<b>3</b> and M<b>4</b>) are connected to the input terminals of the CMOS inverter S<b>1</b>. Output terminals of the CMOS inverter S<b>2</b> (i.e., the drains of the transistors M<b>3</b> and M<b>4</b>) are connected to the output terminals of the CMOS inverter S<b>1</b>. The output node &#x201c;c&#x201d; of the CMOS inverter S<b>2</b> is connected to the capacitor <b>12</b> and the terminal XT<b>2</b>.</p>
<p id="p-0041" num="0040">In the example of <figref idref="DRAWINGS">FIG. 2</figref>, the CMOS inverter S<b>2</b> is connected in parallel with the CMOS inverter S<b>1</b> via the damping resistor R<b>2</b>. The output node &#x201c;b&#x201d; of the CMOS inverter S<b>1</b> is connected via the damping resistor R<b>2</b> to the capacitor C<b>12</b>, and the output node &#x201c;c&#x201d; of the CMOS inverter S<b>12</b> is directly connected to the capacitor C<b>12</b> with no intervening damping resistor. The damping resistor R<b>2</b> makes it possible to reduce unintended spurious oscillations. However, the damping resistor R<b>2</b> causes loss and therefore reduces negative resistance. Here, as the negative resistance increases, the amplitude of the oscillator output signal Vx increases faster. According to the present embodiment, the node &#x201c;c&#x201d; of the CMOS inverter S<b>2</b> of the boost circuit <b>16</b>, which operates only during the startup, is connected to the capacitor C<b>12</b> and the terminal XT<b>2</b> with no intervening damping resistor. Compared with a case where the node &#x201c;c&#x201d; is also connected via a damping resistor, this configuration makes is possible to increase the speed or rate at which the amplitude of the oscillator output signal Vx increases. In other words, this configuration makes it possible to reduce the time necessary for the oscillation to stabilize.</p>
<p id="p-0042" num="0041">The size of the transistors M<b>3</b>, M<b>4</b>, M<b>5</b>, and M<b>6</b> of the boost circuit <b>16</b> may be smaller than the size of the transistors M<b>1</b> and M<b>2</b> of the CMOS inverter S<b>1</b> of the oscillator output signal generating circuit <b>11</b>. This configuration makes it possible to reduce the parasitic capacitance of the transistors M<b>3</b>, M<b>4</b>, M<b>5</b>, and M<b>6</b>, increase flicker noise that serves as initial noise for generating oscillations, and thereby increase the speed or rate at which the amplitude of the oscillator output signal Vx increases. The size of a transistor is defined by a gate length and a gate width. The gate length of the transistors M<b>3</b>, M<b>4</b>, M<b>5</b>, and ME is preferably 0.05-0.15 times greater than the gate length of the transistors M<b>1</b> and M<b>2</b>. The gate width of the transistors M<b>3</b>, M<b>4</b>, M<b>5</b>, and M<b>6</b> is preferably 0.06-0.2 times greater than the gate width of the transistors M<b>1</b> and M<b>2</b>.</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIGS. 5 and 6</figref> illustrate results of simulating the start-up time necessary for the oscillator output signal Vx to stabilize. <figref idref="DRAWINGS">FIG. 5</figref> illustrates the simulation results for an oscillator circuit of a comparative example that has a configuration where the amplitude detection circuit <b>15</b>, the boost circuit <b>16</b>, and the damping resistor R<b>2</b> are removed from the oscillator circuit <b>100</b> of <figref idref="DRAWINGS">FIG. 2</figref>. <figref idref="DRAWINGS">FIG. 6</figref> illustrates the simulation results for the oscillator circuit <b>100</b> of <figref idref="DRAWINGS">FIG. 2</figref>. In the simulation of <figref idref="DRAWINGS">FIGS. 5 and 6</figref>, the reference voltage Vref is set at 1.6 V, and the start-up time from when the reference voltage Vref is turned on until when the amplitude of the oscillator output signal Vx reaches 90% of the normal amplitude is measured. As illustrated in <figref idref="DRAWINGS">FIGS. 5 and 6</figref>, the start-up time of the oscillator circuit <b>100</b> of <figref idref="DRAWINGS">FIG. 2</figref> is about 40% shorter than the start-up time of the oscillator circuit of the comparative example.</p>
<p id="p-0044" num="0043">An aspect of this disclosure provides an oscillator circuit that makes it possible to detect the amplitude of a high-frequency oscillator output signal while reducing the power consumption of a comparator.</p>
<p id="p-0045" num="0044">An oscillator circuit according to the embodiments is described above. However, the present invention is not limited to the specifically disclosed embodiments, and variations and modifications may be made without departing from the scope of the present invention.</p>
<p id="p-0046" num="0045">For example, instead of a crystal oscillator, a ceramic oscillator may be used as a resonator for generating oscillations.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An oscillator circuit, comprising:
<claim-text>an oscillator output signal generating circuit configured to generate an oscillator output signal using an oscillator as a resonator;</claim-text>
<claim-text>an amplitude detection circuit configured to detect an amplitude of the oscillator output signal and compare the detected amplitude with a threshold; and</claim-text>
<claim-text>a boost circuit configured to boost the oscillator output signal according to a result of the comparison at the amplitude detection circuit,</claim-text>
<claim-text>wherein the amplitude detection circuit includes
<claim-text>an absolute value circuit configured to obtain an absolute value signal of the oscillator output signal,</claim-text>
<claim-text>a low-pass filter configured to convert the absolute value signal into a low-frequency signal, and</claim-text>
<claim-text>a comparator configured to compare the low-frequency signal with the threshold.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The oscillator circuit as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the absolute value circuit includes a first transistor and a second transistor that are commonly connected to an output node of the absolute value circuit;</claim-text>
<claim-text>a gate of the first transistor is connected to an input terminal of the oscillator; and</claim-text>
<claim-text>a gate of the second transistor is connected to an output terminal of the oscillator.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The oscillator circuit as claimed in <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the first transistor and the second transistor are configured to be supplied with power from a same power supply that supplies power to the oscillator output signal generating circuit and the boost circuit.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The oscillator circuit as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the oscillator output signal generating circuit includes a first CMOS inverter connected in parallel with the oscillator;</claim-text>
<claim-text>the boost circuit includes a second CMOS inverter configured to boost the oscillator output signal;</claim-text>
<claim-text>an output node of the first CMOS inverter is connected via a damping resistor to a capacitor provided at an output side of the oscillator; and</claim-text>
<claim-text>an output node of the second CMOS inverter is connected directly to the capacitor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The oscillator circuit as claimed in <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein a size of transistors constituting the second CMOS inverter is less than a size of transistors constituting the first CMOS inverter.</claim-text>
</claim>
</claims>
</us-patent-grant>
