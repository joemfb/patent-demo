<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625725-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625725</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13423585</doc-number>
<date>20120319</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>CN</country>
<doc-number>2011 1 0189869</doc-number>
<date>20110630</date>
</priority-claim>
</priority-claims>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>D</subclass>
<main-group>1</main-group>
<subgroup>04</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>D</subclass>
<main-group>1</main-group>
<subgroup>06</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>K</subclass>
<main-group>5</main-group>
<subgroup>01</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>K</subclass>
<main-group>6</main-group>
<subgroup>04</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>B</subclass>
<main-group>1</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>25</main-group>
<subgroup>08</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>375346</main-classification>
<further-classification>375316</further-classification>
</classification-national>
<invention-title id="d2e61">LIN receiver providing immunity against ISO pulses</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>2009/0222603</doc-number>
<kind>A1</kind>
<name>Den Besten</name>
<date>20090900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>710106</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2009/0262567</doc-number>
<kind>A1</kind>
<name>Shin et al.</name>
<date>20091000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2012/0169376</doc-number>
<kind>A1</kind>
<name>Himpe</name>
<date>20120700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327 34</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00004">
<othercit>Office Action mailed Aug. 22, 2013 for U.S. Appl. No. 13/483,796 (5 pages).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>26</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>375346</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>21</number-of-drawing-sheets>
<number-of-figures>26</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130003805</doc-number>
<kind>A1</kind>
<date>20130103</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Zeng</last-name>
<first-name>Ni</first-name>
<address>
<city>Shenzhen</city>
<country>CN</country>
</address>
</addressbook>
<residence>
<country>CN</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Lin</last-name>
<first-name>Dasong</first-name>
<address>
<city>Shenzhen</city>
<country>CN</country>
</address>
</addressbook>
<residence>
<country>CN</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Zeng</last-name>
<first-name>Ni</first-name>
<address>
<city>Shenzhen</city>
<country>CN</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Lin</last-name>
<first-name>Dasong</first-name>
<address>
<city>Shenzhen</city>
<country>CN</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Gardere Wynne Sewell LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>STMicroelectronics (Shenzhen) R&#x26;D Co. Ltd.</orgname>
<role>03</role>
<address>
<city>Shenzhen</city>
<country>CN</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>File</last-name>
<first-name>Erin</first-name>
<department>2632</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A LIN receiver circuit includes filtering circuitry receiving an input signal and producing a filtered signal, a first comparator comparing the filtered signal to a threshold voltage, and a driver block producing the receiver output signal. The receiver circuit further includes an input comparator, signal-adjusting circuitry, and deglitching circuitry. The input comparator detects a low voltage on the input signal, and the signal-adjusting circuitry drives the filtered signal to a particular value to shorten the length of a glitch at the output of the first comparator. Meanwhile, the deglitching circuitry detects and removes the glitch to produce a deglitcher output signal. The deglitcher output signal is received by the driver block, which outputs the receiver output signal, wherein the receiver output signal contains no glitches, and is delayed by no more than 7.5 &#x3bc;s, thus providing immunity to ISO pulses.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="122.68mm" wi="211.92mm" file="US08625725-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="242.49mm" wi="175.60mm" orientation="landscape" file="US08625725-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="217.17mm" wi="143.00mm" orientation="landscape" file="US08625725-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="226.65mm" wi="169.67mm" orientation="landscape" file="US08625725-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="237.91mm" wi="162.73mm" orientation="landscape" file="US08625725-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="241.81mm" wi="136.06mm" orientation="landscape" file="US08625725-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="231.65mm" wi="144.27mm" orientation="landscape" file="US08625725-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="236.56mm" wi="159.17mm" orientation="landscape" file="US08625725-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="212.51mm" wi="137.41mm" orientation="landscape" file="US08625725-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="240.88mm" wi="143.34mm" orientation="landscape" file="US08625725-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="229.28mm" wi="174.33mm" file="US08625725-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="233.60mm" wi="163.07mm" orientation="landscape" file="US08625725-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="229.02mm" wi="135.13mm" file="US08625725-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="171.96mm" wi="128.86mm" file="US08625725-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="244.18mm" wi="181.53mm" orientation="landscape" file="US08625725-20140107-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="220.73mm" wi="166.03mm" orientation="landscape" file="US08625725-20140107-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="227.33mm" wi="167.72mm" orientation="landscape" file="US08625725-20140107-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="239.86mm" wi="166.03mm" file="US08625725-20140107-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="243.84mm" wi="178.22mm" orientation="landscape" file="US08625725-20140107-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="244.77mm" wi="167.39mm" file="US08625725-20140107-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="244.77mm" wi="169.33mm" orientation="landscape" file="US08625725-20140107-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00021" num="00021">
<img id="EMI-D00021" he="244.52mm" wi="174.58mm" orientation="landscape" file="US08625725-20140107-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">PRIORITY CLAIM</heading>
<p id="p-0002" num="0001">This application claims priority from Chinese Application for Patent No. 201110189869.1 filed Jun. 30, 2011, the disclosure of which is hereby incorporated by reference.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">1. Technical Field</p>
<p id="p-0004" num="0003">The present invention relates generally to Local Interconnect Network (LIN) circuitry and, more specifically, to LIN receiver providing immunity against Interrupt Source Output (ISO) pulses.</p>
<p id="p-0005" num="0004">2. Introduction</p>
<p id="p-0006" num="0005">Local Interconnect Networks (LIN) typically implement a transmitter and a receiver for communicating within the network. Receiver circuitry is susceptible to interference on the input signal which results in incorrect receiver output. Specifically, receivers are susceptible to radio frequency (RF) pulses and ISO pulses, which result in incorrect low states occurring on the receiver output signal. In an attempt to mitigate incorrect receiver output, known receiver circuits have been designed in accordance with conformance testing and proper emission criteria to provide immunity to RF pulses. However, these known receiver circuits are still susceptible to ISO pulses. As such, there exists a need for a LIN receiver circuit that produces an output signal that is immune to the effects of ISO pulses occurring on the input signal of the receiver.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0007" num="0006">The present disclosure provides a LIN receiver circuit that provides immunity to ISO pulses. In one embodiment, the LIN receiver comprises comparator circuitry operable to compare a filtered input signal to a first or second hysteresis threshold value and output a hysteresis signal having a first state if said filtered signal is less than or equal to said first hysteresis threshold value and having a second state if said filtered signal is greater than or equal to said second hysteresis threshold value; circuitry operable to detect a low transient voltage of an unfiltered input signal, wherein said low transient voltage would produce an effective glitch lasting for a first length of time on said hysteresis signal; voltage-adjusting circuitry operable, in response to the detection of said low transient voltage, to adjust a voltage of said filtered signal to shorten said effective glitch to a second length of time less than said first length of time; and deglitcher circuitry operable to detect and remove said shortened effective glitch from said hysteresis signal and generate an output signal.</p>
<p id="p-0008" num="0007">In another embodiment, the LIN receiver circuit comprises a comparator circuit receiving an input signal and a first reference voltage, and outputting a comparator signal indicating the presence of a low transient voltage on said input signal; voltage-adjusting circuitry receiving said comparator signal and a second reference voltage, and outputting an adjustment current when said comparator signal indicates the presence of said low transient voltage on said input signal, said adjustment current driving a filtered input signal toward said second reference voltage when said filtered input signal is less than said second reference voltage; a hysteresis circuit comparing said filtered input signal to first or second hysteresis threshold values and producing a hysteresis signal having a first state if said filtered input signal is less than or equal to said first hysteresis threshold value and having a second state if said filtered input signal is greater than or equal to said second hysteresis threshold value, wherein said hysteresis signal would have an effective glitch as a result of said low transient voltage, and wherein a length of said effective glitch on said hysteresis signal is shortened by said adjustment current driving said filtered input signal to said second reference voltage when said filtered input signal is less than said second reference voltage; and a deglitcher circuit receiving said hysteresis signal and said comparator signal, and producing an output signal by removing the shortened effective glitch.</p>
<p id="p-0009" num="0008">The present disclosure also provides a method comprising filtering an input signal to produce a filtered signal; comparing said filtered signal to a first or second hysteresis value; outputting a hysteresis signal having a first state if said filtered signal is less than or equal to said first hysteresis value and having a second state if said filtered signal is greater than or equal to said second hysteresis value; detecting a low transient voltage on said input signal, wherein said low transient voltage would produce an effective glitch lasting for a first length of time on said hysteresis signal; in response to the detection of said low transient voltage, adjusting a voltage of said filtered signal to shorten said effective glitch to a second length of time less than said first length of time; detecting said shortened effective glitch on said hysteresis signal; and removing said shortened effective glitch from said hysteresis signal to produce an output signal.</p>
<p id="p-0010" num="0009">The foregoing and other features and advantages of the present disclosure will become further apparent from the following detailed description of the embodiments, read in conjunction with the accompanying drawings. The detailed description and drawings are merely illustrative of the disclosure, rather than limiting the scope of the invention as defined by the appended claims and equivalents thereof.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0011" num="0010">Embodiments are illustrated by way of example in the accompanying figures not drawn to scale, in which like reference numbers indicate similar parts, and in which:</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIGS. 1A</figref>, <b>1</b>B, <b>1</b>C, and <b>1</b>D illustrate an example configuration for testing circuitry for immunity to injected RF and ISO pulses, an example embodiment of the LIN bus, and corresponding timing parameters and voltage levels;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIGS. 2A</figref>, <b>2</b>B, <b>2</b>C, and <b>2</b>D illustrate waveforms of ISO pulses ISO<b>1</b>, ISO<b>2</b><i>a</i>, ISO<b>3</b><i>a</i>, and ISO<b>3</b><i>b</i>, respectively;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 3</figref> illustrates a conventional LIN receiver circuit;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIGS. 4A</figref>, <b>4</b>B, and <b>4</b>C illustrate waveforms corresponding to an input signal received by the conventional LIN receiver circuit illustrated in <figref idref="DRAWINGS">FIG. 3</figref>;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 5</figref> illustrates an example embodiment of the disclosed LIN receiver circuit;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIGS. 6A and 6B</figref> illustrate a detailed view of the delay circuit provided in <figref idref="DRAWINGS">FIG. 5</figref> and waveforms corresponding to an input signal received at the delay circuit, respectively;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 7</figref> illustrates a detailed view of the adjustment circuit provided in the receiver circuit shown in <figref idref="DRAWINGS">FIG. 5</figref>;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIGS. 8A and 8B</figref> illustrate a comparison of the waveforms of various components of the disclosed LIN receiver circuit shown in <figref idref="DRAWINGS">FIG. 5</figref> with and without an adjustment circuit;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 9</figref> illustrates a detailed view of the deglitching circuitry provided in the receiver circuit shown in <figref idref="DRAWINGS">FIG. 5</figref>;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIGS. 10A</figref>, <b>10</b>B, and <b>10</b>C illustrate example circuit conditions to demonstrate operation of the deglitching circuitry shown in <figref idref="DRAWINGS">FIG. 9</figref>;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 11</figref> shows simulation results of the LIN receiver circuit provided in <figref idref="DRAWINGS">FIG. 3</figref> with an ISO<b>1</b> pulse occurring on the input signal when the input signal is in a recessive state;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 12</figref> shows simulation results of the LIN receiver circuit provided in <figref idref="DRAWINGS">FIG. 5</figref> with an ISO<b>1</b> pulse occurring on the input signal when the input signal is in a recessive state;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 13</figref> shows simulation results of the LIN receiver circuit provided in <figref idref="DRAWINGS">FIG. 3</figref> with ISO<b>3</b><i>b </i>pulses occurring on the input signal when the input signal is in a dominant state, recessive state, and transitioning between recessive and dominant states; and</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 14</figref> shows simulation results of the LIN receiver circuit provided in <figref idref="DRAWINGS">FIG. 5</figref> with ISO<b>3</b><i>b </i>pulses occurring on the input signal when the input signal is in a dominant state, recessive state, and transitioning between recessive and dominant states.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0026" num="0025">The receiver circuitry discussed herein is tested for immunity to both RF and ISO pulses under a supply voltage VBAT of 14V. An example test configuration <b>100</b> is shown in <figref idref="DRAWINGS">FIG. 1A</figref>. The test configuration <b>100</b> includes receiver circuitry <b>102</b> to be tested, wherein the receiver circuitry <b>102</b> is connected at a LIN bus <b>103</b> in series with a resistor Ri, capacitor C, and interruption source <b>104</b>. The resistor Ri is an internal resistor of the interruption source <b>104</b>, and the capacitor C is a coupling capacitor connected to the LIN bus <b>103</b>. In an example embodiment, the LIN bus <b>103</b> may be a LIN as described and illustrated in accordance with LIN Specification Package Revision 2.1, released Nov. 24, 2006 by the LIN Consortium, the contents of which are hereby incorporated by reference. As such, an example of the LIN bus <b>103</b> is illustrated in greater detail in <figref idref="DRAWINGS">FIG. 1B</figref>, and example waveforms and signals associated with the example LIN bus <b>103</b> are illustrated in <figref idref="DRAWINGS">FIG. 1C</figref>.</p>
<p id="p-0027" num="0026">The test configuration <b>100</b> shown in <figref idref="DRAWINGS">FIG. 1A</figref> is designed to introduce an interrupt pulse (either RF or ISO) at the LIN bus <b>103</b>. The interruption source <b>104</b> provides the pulses to be injected into the receiver circuitry <b>102</b> (at the LIN bus <b>103</b>), wherein the pulses may be either RF or ISO pulses. The RF pulses are in a range of 1 MHz to 1000 MHz, and the ISO pulses may be ISO<b>1</b>, ISO<b>2</b><i>a</i>, ISO<b>3</b><i>a</i>, and ISO<b>3</b><i>b </i>pulses. These pulses are shown in greater detail in respective <figref idref="DRAWINGS">FIGS. 2A</figref>, <b>2</b>B, <b>2</b>C, and <b>2</b>D, and are discussed briefly below. In general, the test configuration <b>100</b> operates by injecting an ISO or RF pulse into the LIN bus <b>103</b>. As is explained below, the LIN bus <b>103</b> provides an input signal LIN_bus to the receiver circuitry <b>102</b>, and the receiver circuitry <b>102</b> produces a receiver output signal RXD. The output signal RXD of the receiver circuitry <b>102</b> is then analyzed to determine if the receiver circuitry <b>102</b> is immune to the interrupt pulse provided by the interruption source <b>104</b> at the LIN bus <b>103</b>.</p>
<p id="p-0028" num="0027">As mentioned above, an example of the LIN bus <b>103</b> is shown in <figref idref="DRAWINGS">FIG. 1B</figref>. The LIN bus <b>103</b> provides a connection between transmitter circuitry (not shown) and the receiver circuitry <b>102</b> in a network such as, for example, an automotive network. <figref idref="DRAWINGS">FIG. 1C</figref> illustrates the timing parameters of the LIN bus <b>103</b> shown in <figref idref="DRAWINGS">FIG. 1B</figref>, wherein TXD is the input signal received from the transmitter circuitry (again, not shown), and LIN_bus is the open-drain output of the transmitter circuitry, which also happens to be the LIN input signal provided to the receiver circuitry <b>102</b>. For correct transmission and reception of a bit, it is presumed that the LIN_bus signal is available with the correct voltage level (dominant or recessive) at the bit sampling time t<sub>Bit </sub>of the receiver (in one embodiment, t<sub>Bit</sub>=50 &#x3bc;s. The dominant and recessive states of the LIN_bus signal are illustrated in <figref idref="DRAWINGS">FIG. 1D</figref>, wherein V<sub>SUP </sub>represents the internal voltage supply for electronic components within the LIN <b>103</b>. It should be understood that the internal supply V<sub>SUP </sub>may be different than the supply voltage VBAT. This may be the result of protection filter elements and dynamic voltage changes on the bus. Additionally, the example LIN circuit <b>103</b> is designed in accordance with the specifications provided in the LIN Specification Package Revision 2.1, previously incorporated by reference, in order to satisfy proper conformance testing.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 2A</figref> illustrates an example ISO<b>1</b> pulse <b>201</b> and a chart <b>202</b> describing its parameters. As will be made apparent in the subsequent description, the ISO<b>1</b> pulse <b>201</b> is a negative pulse that causes the receiver to produce an incorrect low output on RXD when the input signal LIN_bus is in a recessive state.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 2B</figref> illustrates an example ISO<b>2</b><i>a </i>pulse <b>203</b> and a chart <b>204</b> describing its parameters. The ISO<b>2</b><i>a </i>pulse <b>203</b> is a positive pulse that causes the receiver to produce a premature low output on RXD when the input signal LIN_bus is transitioning from a recessive state to a dominant state.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 2C</figref> illustrates an example ISO<b>3</b><i>a </i>pulse <b>205</b> and a chart <b>206</b> describing its parameters. The ISO<b>3</b><i>a </i>pulse <b>205</b> is a negative pulse with a falling edge that may be too quick to be detected. However, its rising edge is slower, so it affects the LIN_bus signal as a positive pulse, similar to the ISO<b>2</b><i>a </i>pulse. As such, the ISO<b>3</b><i>a </i>pulse <b>205</b> causes the receiver to produce a premature low output on RXD when the input signal LIN_bus is transitioning from a recessive state to a dominant state. The ISO<b>3</b><i>a </i>pulse <b>205</b> is narrower than the ISO<b>1</b> and ISO<b>2</b><i>a </i>pulses shown in <figref idref="DRAWINGS">FIGS. 2A and 2B</figref>, and may sometimes be removed by internal filters. However, these internal filters may be ineffective for high amplitude ISO<b>3</b><i>a </i>pulses. <figref idref="DRAWINGS">FIG. 2C</figref> also provides another waveform <b>207</b> illustrating the t<sub>r</sub>, t<sub>d</sub>, and U<sub>s </sub>parameters shown in the chart <b>206</b>.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 2D</figref> illustrates an example ISO<b>3</b><i>b </i>pulse <b>208</b> and a chart <b>209</b> describing its parameters. The ISO<b>3</b><i>b </i>pulse <b>208</b> is a positive pulse with a rising edge that may be too quick to be detected. However, its falling edge is slower, so it affects the LIN_bus signal as a negative pulse, similar to the ISO<b>1</b> pulse. As such the ISO<b>3</b><i>b </i>pulse <b>208</b> causes the receiver to produce an incorrect low output on RXD when the input signal LIN_bus is in a recessive state. Similar to the ISO<b>3</b><i>a </i>pulse, the ISO<b>3</b><i>b </i>pulse <b>208</b> is narrower than the ISO<b>1</b> and ISO<b>2</b><i>a </i>pulses, and may be sometimes be removed by internal filters. However, these internal filters may be ineffective for high amplitude ISO<b>3</b><i>b </i>pulses. <figref idref="DRAWINGS">FIG. 2D</figref> also provides another waveform <b>210</b> illustrating the t<sub>r</sub>, t<sub>d</sub>, and U<sub>s </sub>parameters shown in the chart <b>209</b>.</p>
<p id="p-0033" num="0032">Analysis of the output signal RXD produced by the receiver circuitry <b>102</b> consists of two criteria for assessing immunity of the receiver circuitry <b>102</b> to ISO pulses: damage and function. If both the damage and function criteria are satisfied, then the receiver circuitry <b>102</b> provides sufficient immunity to ISO pulses. Damage is generally assessed in accordance with the voltage duration of devices connected to the LIN bus <b>103</b>. Since ISO and RF pulses may cause drastic voltage fluctuation at the LIN bus <b>103</b>, devices coupled thereto should be able to handle these fluctuations without damaging the LIN_bus signal. Although damage to other devices may be related to ISO and RF pulses occurring on the LIN bus <b>103</b> and the resulting receiver circuit output signal RXD, the damage may be assessed independently from the function criteria. Therefore, for purposes of demonstrating immunity to ISO and RF pulses, the receiver circuits disclosed herein are understood to satisfy the damage criteria, and the receiver output signals RXD of the receiver circuits disclosed herein are assessed in accordance with the function criteria.</p>
<p id="p-0034" num="0033">Assessment of function is twofold. First, the time difference between the receiver output signal RXD without an injected pulse and the receiver output signal RXD with an injected pulse (also referred to herein as the interrupted RXD signal) should be less than 7.5 &#x3bc;s. In other words, the output signal RXD of the receiver circuitry <b>102</b> should not be delayed by more than 7.5 &#x3bc;s when an ISO pulse is injected. Second, the voltage level of the interrupted RXD signal should not be error triggered, meaning glitches should not be present on the output signal RXD. If both of these conditions are satisfied, then the function assessment is successful. It should be appreciated that although subsequent figures may not illustrate the test configuration shown in <figref idref="DRAWINGS">FIG. 1A</figref>, the test configuration may be applied to the various embodiments of receiver circuitry in order to provide appropriate immunity testing.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 3</figref> illustrates a conventional LIN receiver circuit <b>300</b> coupled to pull-up circuitry <b>302</b> and a data bus LIN input pin <b>303</b>, wherein the receiver circuit <b>300</b> is powered by a battery supply VBAT. The receiver <b>300</b> corresponds to the receiver circuitry <b>102</b> in <figref idref="DRAWINGS">FIG. 1A</figref> and includes a LIN input signal LIN_bus received from the data bus input pin <b>303</b>, an RC filter <b>304</b> providing a filtered LIN signal LIN_filter, a hysteresis comparator <b>306</b> producing a logic output signal RXI, and a driver block <b>308</b> providing the receiver output signal RXD.</p>
<p id="p-0036" num="0035">The RC filter <b>304</b> comprises a resistor R<b>1</b> and capacitor C<b>1</b>. The RC filter <b>304</b> receives the LIN input signal LIN_bus from the input pin <b>303</b> and filters the signal to produce filtered input signal LIN_filter at an input of the hysteresis comparator <b>306</b>.</p>
<p id="p-0037" num="0036">The hysteresis comparator <b>306</b> receives the filtered input signal LIN_filter from the RC filter <b>304</b> at a first input, compares it to a threshold voltage Vth received at a second input, and produces the logic output signal RXI. The threshold voltage Vth shown in <figref idref="DRAWINGS">FIG. 3</figref> is representative of either a high threshold voltage Vth(high) or a low threshold voltage Vth(low). It should be understood by those of ordinary skill in the art that a comparator circuit may be converted to a hysteresis circuit designed such that an input (e.g., Vth) may be one of two different values (e.g., Vth(high) or Vth(low)). The hysteresis comparator <b>306</b> provides a hysteresis function having an upper threshold voltage Vth(high) and a lower threshold voltage Vth(low). When the input signal LIN_bus goes to a dominant state, the filtered input signal LIN_filter falls to a voltage below or equal to Vth(low), and the comparator output signal RXI goes low. When the input signal LIN_bus goes to a recessive state, the filtered input signal LIN_filter rises to a voltage greater than or equal to Vth(high), and the comparator output signal RXI goes high. The foregoing is further explained below in connection with <figref idref="DRAWINGS">FIGS. 4A</figref>, <b>4</b>B, and <b>4</b>C.</p>
<p id="p-0038" num="0037">The driver block <b>308</b> receives the logic output signal RXI from the hysteresis comparator <b>306</b>, and produces the receiver output signal RXD. The driver block <b>308</b> acts as a driver stage for the receiver circuit <b>300</b>, and comprises a NOT gate <b>310</b> and a transistor <b>312</b> providing an open-drain output of the receiver output signal RXD. The driver block <b>308</b> is coupled to the pull-up circuitry <b>302</b>, wherein the pull-up circuitry <b>302</b> comprises a pull-up resistor <b>314</b> forcing the output signal RXD at the open-drain and an external voltage supply <b>316</b> acting as a level shift between inner logic supply voltage and external logic supply voltage. When the RXI signal is high, the gate of the transistor <b>312</b> is off, meaning the transistor <b>312</b> is off and RXD is equal to the external voltage supply <b>316</b>. When RXI is low, the gate of the transistor <b>312</b> is on and the transistor <b>312</b> pulls the RXD signal to ground.</p>
<p id="p-0039" num="0038">The RC filter <b>304</b> and hysteresis comparator <b>306</b> provide the receiver <b>300</b> illustrated in <figref idref="DRAWINGS">FIG. 3</figref> with decent immunity to radio frequency (RF) pulse injections; however, the circuit <b>300</b> is vulnerable to ISO pulses (e.g., ISO<b>1</b>, ISO<b>3</b><i>b</i>, etc.) as explained below. When ISO pulses are injected into the LIN input pin <b>303</b>, the input signal LIN_bus is typically driven to a lower voltage value, generally below ground (see <figref idref="DRAWINGS">FIGS. 4B and 4C</figref>). If the ISO pulse occurs when the input signal LIN_bus is in the dominant state, the filtered input signal LIN_filter is at or below the Vth(low) threshold voltage, therefore the comparator output signal RXI is already low, and the ISO pulse generally does not affect the receiver output signal RXD. However, if the ISO pulse occurs when the input signal LIN_bus is in a recessive state (see <figref idref="DRAWINGS">FIG. 4B</figref>) or in transition between recessive and dominant states (i.e, the ISO pulse occurs as the LIN_bus signal falls from recessive state to dominant state, and the correct comparator output signal RXI is still high&#x2014;see <figref idref="DRAWINGS">FIG. 4C</figref>), the ISO pulse causes the filtered input signal LIN_filter to prematurely drop below the lower threshold voltage Vth(low), thus causing the logic output signal RXI to incorrectly go low, resulting in a premature low receiver output signal RXD. The incorrect low states occurring (or periods of time in which the premature low states occur) on the receiver output signal RXD and logic output signal RXI are considered glitches.</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIGS. 4A</figref>, <b>4</b>B, and <b>4</b>C are provided to illustrate the above disclosure, wherein <figref idref="DRAWINGS">FIG. 4A</figref> illustrates operation of the receiver circuit <b>300</b> without any injected ISO pulses, <figref idref="DRAWINGS">FIG. 4B</figref> illustrates operation of the receiver circuit <b>300</b> with an injected ISO pulse occurring when the input signal LIN_bus is in a recessive state, and <figref idref="DRAWINGS">FIG. 4C</figref> illustrates operation of the receiver circuit <b>300</b> with an injected ISO pulse occurring when the input signal LIN_bus is in transition between recessive and dominant states. <figref idref="DRAWINGS">FIG. 4A</figref> shows an example LIN_bus waveform <b>402</b>, example LIN_filter waveform <b>404</b>, and example RXI/RXD waveform <b>406</b>. In the embodiment illustrated in <figref idref="DRAWINGS">FIG. 3</figref>, the RXI and RXD signals have the same waveform and, therefore, are shown as a single RXI/RXD waveform in <figref idref="DRAWINGS">FIGS. 4A</figref>, <b>4</b>B, and <b>4</b>C. When the input signal LIN_bus waveform <b>402</b> changes, the filtered input signal LIN_filter waveform <b>404</b> also changes. As explained above, the hysteresis comparator <b>306</b> provides a hysteresis function wherein, the RXI/RXD waveform <b>406</b> goes high when the filtered input signal LIN_filter waveform <b>404</b> is greater than or equal to the upper threshold voltage Vth(high), and goes low when the filtered input signal LIN_filter waveform <b>404</b> is less than or equal to the lower threshold voltage Vth(low).</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 4B</figref> illustrates an example input signal LIN_bus waveform <b>408</b> with an ISO pulse <b>410</b> occurring when the input signal LIN_bus is in a recessive state. The ISO pulse <b>410</b> is reflected in the LIN_filter signal waveform <b>412</b> by driving the LIN_filter signal below the low threshold voltage Vth(low) before it rises again above the high threshold voltage Vth(high). When ISO pulse <b>410</b> drives the LIN_filter signal waveform <b>412</b> below the low threshold voltage Vth(low), it results in an inaccurate low output <b>414</b> (i.e., a glitch) in the RXI/RXD waveform <b>416</b> for a period of time T. Since a glitch <b>410</b> is present on the RXD waveform <b>416</b>, the receiver circuit <b>300</b> fails at least one of the function conditions. As such, the receiver circuit <b>300</b> shown in <figref idref="DRAWINGS">FIG. 3</figref>, fails to provide immunity against ISO pulses occurring when the input signal LIN_bus is in a recessive state.</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 4C</figref> illustrates an example input signal LIN_bus waveform <b>418</b> with an ISO pulse <b>420</b> occurring when the input signal LIN_bus is transitioning from a recessive state to a dominant state. The ISO pulse <b>420</b> is reflected in the LIN_filter signal waveform <b>422</b> by driving the LIN_filter signal below the low threshold voltage Vth(low) prematurely at point <b>424</b>. As shown in the corresponding RXI/RXD waveform <b>426</b>, the premature crossing of the low threshold voltage Vth(low), causes the RXI/RXD signal to go low prematurely. Referring again to the LIN_filter waveform <b>422</b>, after the ISO pulse <b>420</b> occurs, the LIN_filter waveform <b>422</b> rises again to reach its intended signal path (i.e., the signal path that would have otherwise occurred had the ISO pulse not been present on the input signal LIN_bus), wherein it crosses the low voltage threshold Vth(low) at point <b>428</b>. Accordingly, the correct RXI/RXD signal would have gone low at point <b>428</b>, rather than at point <b>424</b>. As such, the RXI/RXD waveform <b>426</b> contains an incorrect (premature) low state <b>430</b> between points <b>424</b> and <b>426</b>, for a period of time T&#x2032;. Since a glitch <b>430</b> is present on the RXD waveform <b>426</b>, the receiver circuit <b>300</b> again fails at least one of the function conditions. As such, the receiver circuit <b>300</b> shown in <figref idref="DRAWINGS">FIG. 3</figref>, fails to provide immunity against ISO pulses occurring when the input signal LIN_bus is transitioning from a recessive state to a dominant state.</p>
<p id="p-0043" num="0042">The present disclosure provides a LIN receiver circuit that provides immunity against ISO pulses. <figref idref="DRAWINGS">FIG. 5</figref> illustrates an example embodiment of the disclosed LIN receiver circuit <b>500</b> in accordance with the present disclosure, wherein the receiver circuit <b>500</b> is coupled to pull-up circuitry <b>502</b> and a data bus LIN input pin <b>503</b> (also referred to herein as the LIN input pin or input pin). The disclosed receiver circuit <b>500</b> includes circuitry similar to that comprising the receiver <b>300</b> shown in <figref idref="DRAWINGS">FIG. 3</figref> and described above. For example, the disclosed receiver circuit <b>500</b> is powered by a battery supply VBAT, receives a LIN input signal LIN_bus from the LIN bus <b>503</b>, and includes an RC filter <b>504</b> receiving the LIN input signal LIN_bus and producing a filtered LIN signal LIN_filter, a hysteresis comparator <b>506</b> receiving the LIN_filter signal, comparing it to a threshold voltage Vth, and producing a logic output signal RXI, and a driver block <b>508</b> producing the receiver output signal RXD. The RC filter <b>504</b> operates similar to the RC filter <b>304</b> as described above.</p>
<p id="p-0044" num="0043">The hysteresis comparator <b>506</b> operates similar to the comparator <b>306</b> as described above. As such, the hysteresis comparator <b>506</b> provides a hysteresis function having an upper threshold voltage Vth(high) and a lower threshold voltage Vth(low), wherein the upper threshold voltage Vth(high) and lower threshold voltage Vth(low) are represented in <figref idref="DRAWINGS">FIG. 5</figref> as Vth. Although the upper and lower threshold voltages Vth(high) and Vth(low) may vary depending upon various design preferences, in the example embodiment illustrated in <figref idref="DRAWINGS">FIG. 5</figref>, the upper threshold voltage Vth(high) is equal to 0.55*VBAT, and the lower threshold voltage Vth(low) is equal to 0.45*VBAT. Accordingly, when the filtered LIN signal LIN_filter is equal to or greater than Vth(high), the logic output signal RXI goes high. Conversely, when the filtered LIN signal LIN_filter is less than or equal to Vth(low), the logic output signal RXI goes low. It should be understood that the values assigned herein to the threshold voltages Vth(high) and Vth(low) are examples, and the threshold voltages Vth(high) and Vth(low) are not limited to the example values disclosed herein.</p>
<p id="p-0045" num="0044">The driver block <b>508</b> operates similar to the output block <b>308</b> as described above. As such, the driver block <b>508</b> acts as a driver stage for the receiver circuit <b>500</b>, and comprises a NOT gate <b>509</b> and a transistor <b>510</b> providing the open-drain output of the receiver output signal RXD. The driver block <b>508</b> is coupled to the pull-up circuitry <b>502</b>, wherein the pull-up circuitry <b>502</b> comprises a pull-up resistor <b>511</b> forcing the output signal RXD at the open-drain and an external voltage supply <b>512</b> acting as a level shift between inner logic supply voltage and external logic supply voltage. In the example embodiment illustrated in <figref idref="DRAWINGS">FIG. 5</figref>, the external voltage supply <b>512</b> may be approximately 3-5V thus acting as a level shifter between the voltage supply VBAT and external circuitry (not shown) receiving the receiver output signal RXD. It should be understood that the voltage at the external voltage supply <b>512</b> is an example value, and that this example voltage value is not intended to limit the scope of the present disclosure.</p>
<p id="p-0046" num="0045">In addition to the aforementioned circuitry, the receiver circuit <b>500</b> illustrated in <figref idref="DRAWINGS">FIG. 5</figref> further comprises an input comparator <b>514</b>, signal-adjusting circuitry <b>516</b>, and deglitching circuitry <b>518</b>. In general, the input comparator <b>514</b> determines when the LIN pin <b>503</b> is driven to the low voltage value (presumably by ISO pulses). Responsive to this determination, the signal-adjusting circuitry <b>516</b> may drive the LIN_filter signal to a particular value greater than the voltage at LIN_bus, thereby shortening the length of time that an incorrect value (i.e., glitch) is output on the RXI signal. Meanwhile, the deglitching circuitry <b>518</b> detects the glitch on RXI and produces a deglitcher output signal RXO. The deglitcher output signal RXO is received by the driver block <b>508</b>, which outputs the receiver output signal RXD. In order to satisfy the function conditions of the ISO immunity test, the receiver output signal RXD contains no glitches, and is time-shifted (i.e., delayed) by no more than 7.5 &#x3bc;s. As such, the disclosed LIN receiver circuit <b>500</b> provides immunity to both ISO pulses and RF pulses.</p>
<p id="p-0047" num="0046">The input comparator <b>514</b> is operable to detect the presence of ISO pulses by determining when the voltage at the input pin <b>503</b> falls below a predetermined voltage Vin. The predetermined voltage Vin may be set to be a particular low voltage value (e.g., a negative value) such that when LIN_bus falls below the predetermined voltage value Vin, it is presumed that an ISO pulse has occurred. As shown in <figref idref="DRAWINGS">FIG. 5</figref>, the input comparator <b>514</b> receives the LIN input signal LIN_bus from the input pin <b>503</b>, and compares the LIN input signal LIN_bus to the predetermined voltage value Vin. The input comparator <b>514</b> then produces a logic output signal MD indicating whether or not LIN_bus is greater than the predetermined voltage value Vin. For example, for Vin=&#x2212;2.5V, the input comparator <b>514</b> compares LIN_bus to &#x2212;2.5V. If LIN_bus&#x3e;&#x2212;2.5V, MD=0. If LIN_bus&#x3c;&#x2212;2.5V, MD=1. It should be appreciated that the predetermined voltage value Vin provided at the input comparator <b>514</b> may be selected according to various factors. For example, the predetermined voltage value Vin may be set to a particular value so as to satisfy the requirements of the battery/ground shift in the conformance test.</p>
<p id="p-0048" num="0047">The signal-adjusting circuitry <b>516</b> is operable to drive the voltage of LIN_filter (at the first input to hysteresis comparator <b>506</b>) to be a particular voltage when the input comparator <b>514</b> detects the presence of an ISO pulse. Generally, this forced voltage value (VREF, as explained below) is selected to be greater than the predetermined voltage value Vin connected at the input to the input comparator <b>514</b>. For example, in accordance with the previous example, if Vin=&#x2212;2.5V, then LIN_filter may be forced to 0.5*VBAT, wherein VBAT=14V. In essence, by forcing the voltage at LIN_filter to be a greater value, the amount of time required for the LIN_filter signal to recover, or rather, equal the high threshold voltage Vth(high) (thus producing the correct high state on RXI), is decreased. In this example, instead of recovering from &#x2212;2.5V to Vth(high), the LIN_filter signal effectively recovers from 0.5*VBAT to Vth(high). Indeed, the adjustment of the LIN_filter signal eliminates the time it would have taken for the LIN_filter signal to recover from &#x2212;2.5V to 0.5*VBAT. As such, the signal-adjusting circuitry <b>516</b> effectively shortens the length of time that an error occurs on the logic output signal RXI as a result of an ISO pulse. Specifically, the forced voltage value VREF is selected so that it effectively shortens the error on RXI such that the error may be detected and removed by the deglitching circuitry <b>518</b> as explained in greater detail below, so that the error does not appear on the deglitcher output signal RXO or receiver output signal RXD.</p>
<p id="p-0049" num="0048">The signal-adjusting circuitry <b>516</b> is comprised of a delay circuit <b>520</b> receiving the input comparator output signal MD and providing an enable signal EN_MP to an adjustment circuit <b>522</b>. In some embodiments, the adjustment circuit <b>522</b> may be accidentally triggered by RF pulses in the range of 1 MHz-1000 MHz if the rising edge of the enable signal EN_MP is not delayed for a period of time greater than 1.0 &#x3bc;s. Therefore, in the example embodiment illustrated in <figref idref="DRAWINGS">FIGS. 6A and 6B</figref>, the delay circuit <b>520</b> comprises a first signal delay circuit <b>610</b> for delaying a rising edge of the enable signal EN_MP by approximately 1.2 &#x3bc;s. Additionally, since the signal-adjusting circuitry <b>516</b> is sensitive to the filtered signal LIN_filter at the output of the RC filter <b>504</b>, the falling edge of the enable signal EN_MP is delayed for a sufficient amount of time to allow for the filtered signal LIN_filter to stabilize. As such, the delay circuit <b>520</b> also includes a second signal delay circuit <b>620</b> for delaying the falling edge of the enable signal EN_MP by approximately 3.0 &#x3bc;s (this embodiment presumes that the LIN_filter signal stabilizes in less than 3.0 &#x3bc;s). The outputs of the first and second signal delay circuits <b>610</b> and <b>620</b> are input to an OR gate <b>630</b>, which produces the enable signal EN_MP.</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 6B</figref> illustrates waveforms for an example LIN_bus input signal <b>640</b>, an example input comparator output signal MD <b>642</b>, and an example enable signal EN_MP <b>644</b> in accordance with the delay circuit <b>520</b> illustrated in <figref idref="DRAWINGS">FIG. 6A</figref>. The waveforms in <figref idref="DRAWINGS">FIG. 6B</figref> are provided as example waveforms to illustrate the effects of the delay circuit <b>520</b> provided in <figref idref="DRAWINGS">FIG. 6A</figref>. When the LIN_bus input signal <b>640</b> is below the predetermined voltage value Vin provided at the input of the input comparator <b>514</b> (shown at point <b>645</b> in <figref idref="DRAWINGS">FIG. 6B</figref>), the input comparator output signal MD <b>642</b> goes high, and the first signal delay circuit <b>610</b> delays the rising edge of the enable signal EN_MP <b>644</b> by 1.2 &#x3bc;s. When the LIN_bus input signal <b>640</b> rises above the predetermined voltage value Vin (shown at point <b>650</b> in <figref idref="DRAWINGS">FIG. 6B</figref>), the input comparator output signal MD <b>642</b> goes low, and the second signal delay circuit <b>620</b> delays the falling edge of the enable signal EN_MP <b>644</b> by 3 &#x3bc;s. It should be appreciated by those of ordinary skill in the art that the delay times provided herein are example times provided to illustrate and describe the present disclosure and may vary according to several factors including, but not limited to, time width parameters of ISO pulses, the frequency of RF pulses, and signal delay time between components within the circuit.</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 7</figref> provides a more detailed illustration of the adjustment circuit <b>522</b> shown in <figref idref="DRAWINGS">FIG. 5</figref>. The adjustment circuit <b>522</b> is operable to receive (a) the enable signal EN_MP from the delay circuit <b>520</b>, and (b) a reference voltage VREF (briefly mentioned above), which may be applied to the filtered input signal LIN_filter. When the enable signal EN_MP is low, the adjustment circuit <b>522</b> is not active and, thus, does not produce any adjustment to the filtered input signal LIN_filter. Additionally, if the filtered input signal LIN_filter is greater than the reference voltage VREF at the time the enable signal EN_MP goes high, no adjustment is made to the filtered input signal LIN_filter. However, if the enable signal EN_MP goes high and the filtered input signal LIN_filter is less than the reference voltage VREF, then a current through transistor M<b>4</b> and diode D<b>2</b> causes the reference voltage VREF to be applied to the filtered input signal LIN_filter. Accordingly, the adjustment circuit <b>522</b> forces the filtered input signal LIN_filter to be adjusted or &#x201c;pulled up&#x201d; to the value of the reference voltage VREF. The effect of the adjustment circuit <b>522</b> is described in greater detail below in connection with the waveforms provided in <figref idref="DRAWINGS">FIGS. 8A and 8B</figref>.</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIGS. 8A and 8B</figref> are provided, in part, to illustrate the effects of the adjustment circuit <b>522</b> on the filtered input signal LIN_filter and the corresponding RXI signal when an ISO pulse occurs when the input signal LIN_bus is in the recessive state. <figref idref="DRAWINGS">FIG. 8A</figref> illustrates an example input signal LIN_bus waveform <b>802</b> having an ISO<b>1</b> pulse <b>804</b> injected during a recessive state, the corresponding input comparator output signal MD waveform <b>806</b>, the enable signal EN_MP waveform <b>808</b>, the corresponding filtered input signal LIN_filter waveform <b>810</b>, and the corresponding RXI signal waveform <b>812</b>. The waveforms provided in <figref idref="DRAWINGS">FIG. 8A</figref> are designed to illustrate how the receiver circuit <b>500</b> would operate without the adjustment circuit <b>522</b>. <figref idref="DRAWINGS">FIG. 8B</figref> illustrates the same waveforms as in <figref idref="DRAWINGS">FIG. 8A</figref>, but the waveforms in <figref idref="DRAWINGS">FIG. 8B</figref> correspond to the disclosed LIN receiver circuit <b>500</b> shown in <figref idref="DRAWINGS">FIG. 5</figref> and, thus, illustrate the effects of the adjustment circuit <b>522</b>.</p>
<p id="p-0053" num="0052">In both <figref idref="DRAWINGS">FIGS. 8A and 8B</figref>, when the input signal LIN_bus waveform <b>802</b> falls below the predetermined voltage value Vin, the input comparator output signal MD goes high, essentially signaling the presence of an ISO pulse, and then goes low again once the input signal LIN_bus waveform <b>802</b> exceeds Vin. In accordance with the foregoing discussion, when the MD waveform <b>806</b> goes high, the enable signal EN_MP waveform <b>808</b> goes high after a first delay D<b>1</b>. When MD goes low, the enable signal EN_MP waveform <b>808</b> goes low after a second delay D<b>2</b>.</p>
<p id="p-0054" num="0053">As previously stated, the waveforms shown in <figref idref="DRAWINGS">FIG. 8A</figref> correspond to an example embodiment of the LIN receiver without the adjustment circuit <b>522</b>. Therefore, the filtered input signal LIN_filter waveform <b>810</b> (shown in <figref idref="DRAWINGS">FIG. 8A</figref>) is not adjusted and the RXI signal waveform <b>812</b> produces a glitch <b>814</b> occurring for a period of time T, wherein, for example, T&#x2248;3.8 &#x3bc;s. Since the waveforms shown in <figref idref="DRAWINGS">FIG. 8B</figref> correspond to the disclosed LIN receiver circuit <b>500</b> having the adjustment circuit <b>522</b>, when the enable signal EN_MP waveform <b>808</b> goes high, the filtered input signal LIN_filter waveform <b>810</b> (shown in <figref idref="DRAWINGS">FIG. 8B</figref>) is adjusted. When the enable signal EN_MP waveform <b>808</b> goes high, the filtered input signal LIN_filter waveform <b>810</b> is less than the reference voltage value VREF. Therefore, the adjustment circuit <b>522</b> drives the filtered input signal LIN_filter to the reference voltage value VREF as shown at reference numeral <b>816</b>. By adjusting the filtered input signal LIN_filter, the time occurring from the point at which the filtered input signal LIN_filter falls below Vth(low), and RXI subsequently goes low (see reference numeral <b>818</b>), and the point at which the filtered input signal LIN_filter rises above Vth(high), and RXI subsequently goes high (see reference numeral <b>820</b>), is also adjusted. When the reference voltage value VREF is greater than the voltage at LIN_filter when the enable signal EN_MP goes high, then the length of time occurring between point <b>818</b> and point <b>820</b> is shortened. Accordingly, the length of the glitch <b>814</b> occurring on the RXI waveform <b>812</b> is also shortened to a period of time P, wherein P&#x3c;T&#x2248;3.8 &#x3bc;s. As shown in <figref idref="DRAWINGS">FIG. 8B</figref>, the adjustment circuit <b>522</b> effectively shortens the length of the glitch <b>814</b> occurring on the RXI signal <b>812</b>.</p>
<p id="p-0055" num="0054">As discussed above, the hysteresis comparator <b>506</b> in the disclosed LIN receiver circuit <b>500</b> operates similar to the hysteresis comparator <b>306</b> provided in <figref idref="DRAWINGS">FIG. 3</figref>. The hysteresis comparator <b>506</b> receives the filtered input signal LIN_filter, compares it to the threshold voltage Vth, and produces the logic output signal RXI. The logic output signal RXI is then received by the deglitching circuitry <b>518</b>, wherein the deglitching circuitry <b>518</b> is operable to detect a glitch produced on the RXI signal by an ISO pulse and produce a deglitcher output signal RXO. In general, when the deglitching circuitry <b>518</b> detects a glitch on the RXI signal, the deglitching circuitry <b>518</b> removes the glitch from the RXI signal by delaying the falling edge of the RXI signal by a sufficient amount of time to effectively remove the incorrect low output (i.e., glitch) on RXI. A detailed description of the deglitching circuitry <b>518</b> is provided below in connection with <figref idref="DRAWINGS">FIGS. 9</figref>, <b>10</b>A, <b>10</b>B, and <b>10</b>C.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 9</figref> provides a detailed illustration of the deglitching circuitry <b>518</b> provided in the receiver circuit <b>500</b> shown in <figref idref="DRAWINGS">FIG. 5</figref>. The deglitching circuitry <b>518</b> receives input signals ENABLE, RXI, and MD, wherein ENABLE is the enable signal for the deglitching circuitry <b>518</b>, RXI is the hysteresis comparator <b>506</b> output signal, and MD is the input comparator <b>514</b> output signal. The deglitching circuitry <b>518</b> outputs a deglitcher output signal RXO, wherein the deglitcher output signal RXO may be either the original RXI signal (if no glitch is present on RXI) or a delayed RXI signal RXI_delay (if a glitch is detected on RXI).</p>
<p id="p-0057" num="0056">The RXI signal is received at delay circuitry <b>902</b>, wherein the delay circuitry <b>902</b> delays a falling edge of the RXI signal by 3.8 &#x3bc;s to produce the RXI_delay signal, as illustrated in <figref idref="DRAWINGS">FIG. 10A</figref>. The delay time provided by the delay circuitry <b>902</b> is designed to be a sufficient amount of time such that the RXI_delay signal has a falling edge that is delayed by enough time to compensate for an incorrect low output occurring on the RXI signal as a result of an ISO pulse (this is further discussed below in connection with <figref idref="DRAWINGS">FIG. 10B</figref>). In accordance with the embodiments described above and illustrated in connection with <figref idref="DRAWINGS">FIG. 8B</figref>, the signal-adjusting circuitry <b>516</b> shortens the length of a glitch occurring on RXI to a period of time P, wherein P&#x3c;T&#x2248;3.8 &#x3bc;s; therefore, in this embodiment, the delay time of the delay circuitry <b>902</b> is set to 3.8 &#x3bc;s. Since the receiver output signal RXD is equal to the deglitcher output signal RXO, and the deglitcher output signal RXO may be equal to the RXI_delay signal, it should be appreciated that the delay time provided by the delay circuitry <b>902</b> may, in some cases, cause a direct delay of the RXD signal. Therefore, in order to satisfy the output signal RXD delay time condition of the function criterion for determining ISO pulse immunity, the delay time provided by the delay circuitry <b>902</b> should be no greater than 7.5 &#x3bc;s. It should be appreciated that the 3.8 &#x3bc;s delay provided by the delay circuitry <b>902</b> is provided as an example amount of time sufficient to compensate for glitches occurring on the RXI signal. Accordingly, in some embodiments, the delay circuitry <b>902</b> may provide other delay times less than approximately 7.5 &#x3bc;s (provided that the delay time remains sufficient for glitch compensation).</p>
<p id="p-0058" num="0057">The RXI signal is also received at the input pin of a flip-flop <b>904</b>, wherein operation of the flip-flop <b>904</b> and, consequentially, the deglitching circuitry <b>518</b> is enabled by the ENABLE signal. The flip-flop <b>904</b> receives the input comparator output signal MD at its clock pin, and produces a signal EN_GLITCH. The EN_GLITCH signal is received at a MUX <b>906</b>, and is used to select the appropriate deglitcher output signal RXO. By default, RXO=RXI. Therefore, if EN_GLITCH=0, then the MUX <b>906</b> selects RXO=RXI, and if EN_GLITCH=1, then the MUX <b>906</b> selects RXO=RXI_delay. In general, when the deglitching circuitry <b>518</b> is enabled, the EN_GLITCH signal goes high when a) RXI is high, and b) the input comparator output signal MD goes high. Additionally, EN_GLITCH goes low when a) a subsequent rising edge of the RXI signal occurs (e.g., at the end of a glitch), or b) a subsequent falling edge of the RXI_delay signal occurs. It should be appreciated that when RXI is low, the input signal LIN_bus is in a dominant state or transitioning from a dominant to recessive state. When this happens, an ISO pulse causes the LIN_bus signal to drop, but will not result in a glitch on RXI since RXI is already low. Therefore, the disclosed circuit <b>500</b> is not concerned with such a situation. Operation of the deglitching circuitry <b>518</b> shown in <figref idref="DRAWINGS">FIG. 9</figref> is further described below in accordance with example circuit conditions illustrated in <figref idref="DRAWINGS">FIGS. 10A</figref>, <b>10</b>B, and <b>10</b>C.</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 10A</figref> illustrates an example RXI signal and the corresponding RXI_delay signal produced by the delay circuitry <b>902</b> illustrated in <figref idref="DRAWINGS">FIG. 9</figref>. As shown in <figref idref="DRAWINGS">FIG. 10A</figref>, the RXI_delay signal has a rising edge <b>1002</b> occurring at substantially the same time as the rising edge <b>1004</b> of the RXI signal, and has a falling edge <b>1006</b> occurring 3.8 &#x3bc;s after the falling edge <b>1008</b> of the RXI signal. As previously explained, the delayed falling edge <b>1006</b> of the RXI_delay signal is designed to exceed the length of time P of any glitches occurring on the RXI signal. Although it is not explicitly indicated in <figref idref="DRAWINGS">FIGS. 10B and 10C</figref>, it should be understood that the falling edges of the RXI_delay signals are delayed by 3.8 &#x3bc;s with respect to the falling edges of their respective RXI signals.</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 10B</figref> illustrates an example RXI signal, the corresponding RXI_delay signal, an example input comparator output signal MD, the corresponding EN_GLITCH signal, and the deglitcher output signal RXO for an example in which an ISO pulse occurs during the recessive state of the input signal (similar to the condition illustrated in <figref idref="DRAWINGS">FIG. 8B</figref>). As shown in <figref idref="DRAWINGS">FIG. 10B</figref>, the RXI signal has a glitch <b>1010</b> (i.e., incorrect low state) occurring for a period of time P, wherein P&#x3c;3.8 &#x3bc;s. In the example illustrated in <figref idref="DRAWINGS">FIG. 10B</figref>, the EN_GLITCH signal has a rising edge <b>1012</b> occurring at substantially the same time as a rising edge <b>1014</b> of the MD signal, and a falling edge <b>1016</b> occurring at substantially the same time as a rising edge <b>1018</b> of the RXI signal (at the end of the glitch <b>1010</b>). When EN_GLITCH is low, RXO=RXI, and when EN_GLITCH is high, RXO=RXI_delay. As shown in <figref idref="DRAWINGS">FIG. 10B</figref>, since falling edges of the RXI_delay signal are delayed by 3.8 &#x3bc;s, and the length P of the glitch <b>1010</b> is shorter than 3.8 &#x3bc;s, then the glitch <b>1010</b> does not show up in the RXI_delay signal. Therefore, during the time in which the glitch <b>1010</b> is present on RXI, the EN_GLITCH signal is high, and RXO=RXI_delay. As such, the deglitcher output signal RXO essentially provides a filtered, or deglitched, version of the RXI signal. Therefore, as shown in <figref idref="DRAWINGS">FIG. 10B</figref>, the disclosed receiver circuit <b>500</b> provides immunity to ISO pulses occurring during the recessive state of the input signal LIN_bus.</p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 10C</figref> illustrates an example in which an ISO pulse occurs during a period of time in which the input signal LIN_bus is transitioning from recessive state to dominant state. In this example, <figref idref="DRAWINGS">FIG. 10C</figref> illustrates an example LIN_bus signal waveform <b>1020</b>, the corresponding MD signal waveform <b>1022</b>, the adjustment circuit enable signal EN_MP waveform <b>1024</b>, the LIN_filter waveform <b>1026</b>, the RXI signal waveform <b>1028</b>, the corresponding RXI_delay signal waveform <b>1030</b>, the EN_GLITCH signal waveform <b>1032</b>, and the deglitcher output signal RXO waveform <b>1034</b>. The LIN_bus signal has an example ISO pulse <b>1036</b>, causing the MD signal to go high and, after a first delay, the EN_MP signal to go high. The pulse <b>1036</b> is reflected on the LIN_filter signal waveform <b>1026</b> by causing the LIN_filter signal to fall prematurely, which results in a premature falling edge <b>1038</b> on the RXI signal waveform <b>1028</b>. In accordance with <figref idref="DRAWINGS">FIG. 9</figref>, when the MD signal goes high, the EN_GLITCH signal also goes high since RXI is also high at that time. The EN_GLITCH signal waveform <b>1032</b> remains high until either a) the RXI signal goes high, or b) the RXI_delay signal goes low; therefore, when the RXI_delay signal waveform <b>1030</b> goes low at falling edge <b>1040</b>, the EN_GLITCH signal waveform <b>1032</b> goes low at falling edge <b>1042</b>. As shown in <figref idref="DRAWINGS">FIG. 10C</figref>, the RXO waveform <b>1034</b> is equal to RXI when the EN_GLITCH signal waveform <b>1032</b> is low, and is equal to RXI_delay when the EN_GLITCH signal waveform <b>1032</b> is high.</p>
<p id="p-0062" num="0061">In the embodiment illustrated in <figref idref="DRAWINGS">FIG. 10C</figref>, the adjustment circuit <b>522</b> forces the LIN_filter signal waveform <b>1026</b> to VREF at point <b>1044</b>. However, since VREF is less than Vth(high), the RXI signal waveform <b>1028</b> remains low. Therefore, the RXI signal waveform <b>1028</b> contains a premature low state occurring at its falling edge <b>1038</b>, wherein this premature low state is an incorrect low state having a starting point at the falling edge <b>1038</b>, and having an end point that is difficult to detect without having the rising edge caused by the adjustment circuit <b>522</b>. However, since the start of the premature low state is generally known, the EN_GLITCH signal waveform <b>1032</b> goes high when the MD signal goes high, and the RXO signal is equal to RXI_delay until the falling edge <b>1040</b> of the RXI_delay signal waveform <b>1030</b> occurs. In this example, the delay in the correct output signal RXO is equal to 3.8 &#x3bc;s&#x2212;T&#x2032;, wherein T&#x2032; is the length of the premature low state. In other words, T&#x2032; is equal to the amount of time between the point at which the filtered LIN_filter signal is driven below Vth(low) by the ISO pulse <b>1036</b>, and the point at which the filtered LIN_filter signal would have otherwise fallen below Vth(low) had the ISO pulse <b>1036</b> not occurred. In a situation in which the ISO pulse <b>1036</b> does not cause a glitch (i.e., T&#x2032;=0), the longest period of time that the correct RXO signal could be delayed would be 3.8 &#x3bc;s. Such a situation may include, for example, a situation in which the ISO pulse <b>1036</b> causes the LIN_filter signal to reach Vth(low) at the same time it would have otherwise reached Vth(low) had the ISO pulse not been present. Since this worst-case scenario results in a delay of 3.8 &#x3bc;s, and 3.8 &#x3bc;s is less than the 7.5 &#x3bc;s delay limitation, then the disclosed receiver circuit <b>500</b> also provides immunity to ISO pulses occurring when the input signal LIN_bus is transitioning from a recessive state to a dominant state.</p>
<p id="p-0063" num="0062">Referring again to <figref idref="DRAWINGS">FIG. 5</figref>, once the deglitcher output signal RXO is received from the deglitching circuitry <b>518</b>, the driver block <b>508</b> outputs the receiver output signal RXD. When RXO=1, the gate of the transistor <b>510</b> is off, meaning the transistor <b>510</b> is off and RXD is equal to the external voltage supply <b>512</b>. When RXO=0, the gate of the transistor <b>510</b> is on and the transistor <b>510</b> pulls the RXD to ground. In accordance with the foregoing, the receiver output signal RXD satisfies both the damage and the function criteria for determining immunity to ISO pulses. As previously stated, the receiver circuit <b>500</b> is understood to satisfy the damage assessment. Since the receiver output signal RXD contains no incorrect low states and is not delayed by more than 7.5 &#x3bc;s, the function assessment is also satisfied. As such, the disclosed receiver circuit <b>500</b> provides sufficient immunity to ISO pulses.</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIGS. 11-14</figref> provide simulation results illustrating operation of the receiver circuit <b>300</b> provided in <figref idref="DRAWINGS">FIG. 3</figref>, and the disclosed receiver circuit <b>500</b> provided in <figref idref="DRAWINGS">FIG. 5</figref>. <figref idref="DRAWINGS">FIG. 11</figref> shows simulation results <b>1100</b> of the circuit <b>300</b> in <figref idref="DRAWINGS">FIG. 3</figref> with an ISO<b>1</b> pulse <b>1102</b> occurring on the input signal LIN_bus when the input signal LIN_bus is in a recessive state. In this simulation (and that illustrated in <figref idref="DRAWINGS">FIG. 12</figref>), the amplitude of the ISO<b>1</b> pulse is set to &#x2212;100V, which is the worst-case scenario for an ISO<b>1</b> pulse. In accordance with the foregoing disclosure, the simulation results <b>1100</b> indicate that the receiver circuit <b>300</b> in <figref idref="DRAWINGS">FIG. 3</figref> produces an incorrect low output <b>1104</b> on the RXD signal and, thus, is not immune to ISO<b>1</b> pulses occurring during a recessive state of the input signal LIN_bus.</p>
<p id="p-0065" num="0064"><figref idref="DRAWINGS">FIG. 12</figref> shows simulation results <b>1200</b> of the disclosed receiver circuit <b>500</b> provided in <figref idref="DRAWINGS">FIG. 5</figref> with an ISO<b>1</b> pulse <b>1202</b> occurring on the input signal LIN_bus when the input signal LIN_bus is in a recessive state. The conditions of this simulation are similar to those provided in <figref idref="DRAWINGS">FIG. 11</figref> so that the output signals RXD in each of the simulations may be compared. The simulation results <b>1200</b> provided in <figref idref="DRAWINGS">FIG. 12</figref> indicate that the receiver circuit <b>500</b> in <figref idref="DRAWINGS">FIG. 5</figref> produces no incorrect low states on the RXD signal and does not delay the RXD signal by more than 7.5 &#x3bc;s. Therefore, the receiver circuit <b>500</b> is immune to ISO<b>1</b> pulses occurring during a recessive state of the input signal LIN_bus.</p>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. 13</figref> shows simulation results <b>1300</b> of the LIN receiver circuit <b>300</b> provided in <figref idref="DRAWINGS">FIG. 3</figref> with ISO<b>3</b><i>b </i>pulses <b>1302</b> occurring on the input signal LIN_bus when the input signal LIN_bus is in a dominant state, a recessive state, and transitioning between recessive and dominant states. In this simulation (and that illustrated in <figref idref="DRAWINGS">FIG. 14</figref>), the amplitude of the ISO<b>3</b><i>b </i>pulses is set to +100V, which is the worst-case scenario for ISO<b>3</b><i>b </i>pulses. As shown in the simulation results <b>1300</b>, the occurrence of ISO<b>3</b><i>b </i>pulses <b>1302</b> results in an incorrect low state <b>1304</b> on the output signal RXD. As such, the receiver circuit <b>300</b> provided in <figref idref="DRAWINGS">FIG. 3</figref> fails to provide immunity to ISO<b>3</b><i>b </i>pulses <b>1302</b> occurring on the input signal LIN_bus.</p>
<p id="p-0067" num="0066"><figref idref="DRAWINGS">FIG. 14</figref> shows simulation results <b>1400</b> of the LIN receiver circuit <b>500</b> provided in <figref idref="DRAWINGS">FIG. 5</figref> with ISO<b>3</b><i>b </i>pulses <b>1402</b> occurring on the input signal LIN_bus when the input signal LIN_bus is in a dominant state, a recessive state, and transitioning between recessive and dominant states. The conditions of this simulation are similar to those provided in <figref idref="DRAWINGS">FIG. 13</figref> so that the output signals RXD in each of the simulations may be compared. The simulation results <b>1400</b> provided in <figref idref="DRAWINGS">FIG. 14</figref> indicate that the receiver circuit <b>500</b> in <figref idref="DRAWINGS">FIG. 5</figref> produces no incorrect low states on the RXD signal and does not delay the RXD signal by more than 7.5 &#x3bc;s. Therefore, the receiver circuit <b>500</b> is immune to ISO<b>3</b><i>b </i>pulses occurring on the input signal LIN_bus.</p>
<p id="p-0068" num="0067">It should be appreciated that the receiver circuit disclosed herein contains several aspects that may be changed or altered without departing from the spirit and scope of the present disclosure as set forth in the claims provided below.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A circuit comprising:
<claim-text>comparator circuitry operable to compare a filtered input signal to a first or second hysteresis threshold value and output a hysteresis signal having a first state if said filtered signal is less than or equal to said first hysteresis threshold value and having a second state if said filtered signal is greater than or equal to said second hysteresis threshold value;</claim-text>
<claim-text>circuitry operable to detect a low transient voltage of an unfiltered input signal, wherein said low transient voltage would produce an effective glitch lasting for a first length of time on said hysteresis signal;</claim-text>
<claim-text>voltage-adjusting circuitry operable, in response to the detection of said low transient voltage, to adjust a voltage of said filtered signal to shorten said effective glitch to a second length of time less than said first length of time; and</claim-text>
<claim-text>deglitcher circuitry operable to detect and remove said shortened effective glitch from said hysteresis signal and generate an output signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The circuit as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said deglitcher circuitry comprises delay circuitry operable to receive said hysteresis signal and output a delayed signal having a first falling edge delayed after a falling edge of said hysteresis signal, wherein said first falling edge is delayed by a third length of time less than said first length of time.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The circuit as set forth in <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein said third length of time is greater than or equal to said second length of time.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The circuit as set forth in <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein said deglitcher circuitry further comprises output circuitry operable to output said hysteresis signal as the output signal when said shortened effective glitch is not detected and output said delayed signal as the output signal when said shortened effective glitch is detected.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The circuit as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said circuit further comprises a filter operable to receive said unfiltered input signal and produce said filtered input signal.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The circuit as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said circuitry operable to detect a low transient voltage comprises a comparator operable to receive said unfiltered input signal and compare said unfiltered input signal to a first reference voltage.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The circuit as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said voltage-adjusting circuitry comprises an adjustment circuit operable to receive a second reference voltage and an enable signal indicating the detection of said low transient voltage, wherein said adjustment circuit drives said filtered input signal towards said second reference voltage when said low transient voltage is detected and said filtered input signal is less than said second reference voltage.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The circuit as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said low transient voltage is indicative of an interrupt source output pulse affecting said unfiltered input signal.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The circuit as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said effective glitch is an incorrect second state on said hysteresis signal.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The circuit as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said circuit is a receiver circuit in a Local Interconnect Network.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A receiver circuit comprising:
<claim-text>a comparator circuit configured to receive an input signal and a first reference voltage and output a comparator signal indicating the presence of a low transient voltage on said input signal;</claim-text>
<claim-text>voltage-adjusting circuitry configured to receive said comparator signal and a second reference voltage and output an adjustment current when said comparator signal indicates the presence of said low transient voltage on said input signal, said adjustment current driving a filtered input signal toward said second reference voltage when said filtered input signal is less than said second reference voltage;</claim-text>
<claim-text>a hysteresis circuit configured to compare said filtered input signal to first or second hysteresis threshold values and produce a hysteresis signal having a first state if said filtered input signal is less than or equal to said first hysteresis threshold value and having a second state if said filtered input signal is greater than or equal to said second hysteresis threshold value, wherein said hysteresis signal would have an effective glitch as a result of said low transient voltage, and wherein a length of said effective glitch on said hysteresis signal is shortened by said adjustment current driving said filtered input signal to said second reference voltage when said filtered input signal is less than said second reference voltage; and</claim-text>
<claim-text>a deglitcher circuit configured to receive said hysteresis signal and said comparator signal and produce an output signal by removing said shortened effective glitch.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The receiver circuit as set forth in <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein said low transient voltage is indicative of an interrupt source output pulse affecting said input signal.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The receiver circuit as set forth in <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein said effective glitch on said hysteresis signal is an incorrect second state.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The receiver circuit as set forth in <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising a driver stage configured to receive said output signal from said deglitcher circuit and output a receiver circuit output signal.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The receiver circuit as set forth in <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising a filter circuit configured to receive said input signal and produce said filtered input signal.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The receiver circuit as set forth in <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein said receiver circuit comprises a receiver in a Local Interconnect Network.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The receiver circuit as set forth in <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein said output signal is equal to said hysteresis signal when said comparator signal does not indicate the presence of said low transient voltage on said input signal, and is equal to said hysteresis signal having a delayed falling edge when said comparator signal indicates the presence of said low transient voltage on said input signal and said hysteresis signal is said first state.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The receiver circuit as set forth in <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein said delayed falling edge is delayed by an amount of time greater than or equal to the shortened effective glitch.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The receiver circuit as set forth in <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein said delayed falling edge is delayed by an amount of time less than said effective glitch.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. A method, comprising:
<claim-text>filtering an input signal to produce a filtered signal;</claim-text>
<claim-text>comparing said filtered signal to a first or second hysteresis value;</claim-text>
<claim-text>outputting a hysteresis signal having a first state if said filtered signal is less than or equal to said first hysteresis value and having a second state if said filtered signal is greater than or equal to said second hysteresis value;</claim-text>
<claim-text>detecting a low transient voltage on said input signal, wherein said low transient voltage would produce an effective glitch lasting for a first length of time on said hysteresis signal;</claim-text>
<claim-text>in response to the detection of said low transient voltage, adjusting a voltage of said filtered signal to shorten said effective glitch to a second length of time less than said first length of time;</claim-text>
<claim-text>detecting said shortened effective glitch on said hysteresis signal; and</claim-text>
<claim-text>removing said shortened effective glitch from said hysteresis signal to produce an output signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The method as set forth in <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein adjusting a voltage of said filtered signal further comprises adjusting said filtered signal voltage towards said reference voltage if said filtered signal is less than said reference voltage.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The method as set forth in <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein removing said shortened effective glitch on said hysteresis signal comprises:
<claim-text>outputting a corrected signal having a first falling edge delayed after a falling edge of said hysteresis signal by a third length of time less than said first length of time.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The method as set forth in <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein said third length of time is greater than or equal to said second length of time.</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. The method as set forth in <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein said low transient voltage is indicative of an interrupt source output pulse affecting said input signal.</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The method as set forth in <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein said effective glitch is an incorrect second state of said hysteresis signal.</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The method as set forth in <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein said receiver circuit comprises a receiver in a Local Interconnect Network. </claim-text>
</claim>
</claims>
</us-patent-grant>
