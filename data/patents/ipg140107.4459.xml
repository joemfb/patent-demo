<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625541-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625541</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13057718</doc-number>
<date>20090807</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>CN</country>
<doc-number>2008 1 0118275</doc-number>
<date>20080812</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>311</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20090101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>W</subclass>
<main-group>4</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370332</main-classification>
<further-classification>370436</further-classification>
</classification-national>
<invention-title id="d2e71">Seamless session switching method and mobile terminal</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>2007/0178932</doc-number>
<kind>A1</kind>
<name>Miklos et al.</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455525</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2009/0022103</doc-number>
<kind>A1</kind>
<name>Shatsky</name>
<date>20090100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370331</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2012/0327899</doc-number>
<kind>A1</kind>
<name>Kalbag et al.</name>
<date>20121200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370331</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>CN</country>
<doc-number>1784864</doc-number>
<kind>A</kind>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>CN</country>
<doc-number>1817007</doc-number>
<kind>A</kind>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>CN</country>
<doc-number>101340722</doc-number>
<kind>A</kind>
<date>20090100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>WO</country>
<doc-number>2006076694</doc-number>
<kind>A2</kind>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>12</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>5</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110149871</doc-number>
<kind>A1</kind>
<date>20110623</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Liu</last-name>
<first-name>Haijun</first-name>
<address>
<city>Shenzhen</city>
<country>CN</country>
</address>
</addressbook>
<residence>
<country>CN</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Hong</last-name>
<first-name>Ling</first-name>
<address>
<city>Shenzhen</city>
<country>CN</country>
</address>
</addressbook>
<residence>
<country>CN</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Liu</last-name>
<first-name>Haijun</first-name>
<address>
<city>Shenzhen</city>
<country>CN</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Hong</last-name>
<first-name>Ling</first-name>
<address>
<city>Shenzhen</city>
<country>CN</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>McGarry Bair PC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>ZTE Corporation</orgname>
<role>03</role>
<address>
<city>Shenzhen, Guangdong Province</city>
<country>CN</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Pham</last-name>
<first-name>Chi</first-name>
<department>2471</department>
</primary-examiner>
<assistant-examiner>
<last-name>Adhami</last-name>
<first-name>Mohammad</first-name>
</assistant-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/CN2009/073141</doc-number>
<kind>00</kind>
<date>20090807</date>
</document-id>
<us-371c124-date>
<date>20110204</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2010/017752</doc-number>
<kind>A </kind>
<date>20100218</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A seamless session switching method and a mobile terminal are provided in the present invention. The method includes: a first mobile terminal establishing a first VOIP session with a second terminal via an initial wireless network; the first mobile terminal acquiring a target wireless network when the first mobile terminal detects that a switching event occurs; the first terminal transmitting a second session request to the second terminal via the target wireless network, and keeping the first VOIP session continued; and the first mobile terminal establishing a second VOIP session with the second terminal via the target wireless network after receiving an acknowledge message for the second session request from the second terminal, and terminating the first VOIP session after the second VOIP session is established. The present invention can realize the seamless free switching, and use a better wireless network for the session, so as to increase the session quality of the user.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="222.59mm" wi="169.25mm" file="US08625541-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="213.53mm" wi="152.57mm" file="US08625541-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="234.27mm" wi="172.97mm" file="US08625541-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="158.50mm" wi="174.33mm" file="US08625541-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="135.13mm" wi="155.87mm" file="US08625541-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="151.21mm" wi="159.17mm" file="US08625541-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application is a National Phase application of International Application No. PCT/CN2009/073141, filed Aug. 7, 2009, which claims the benefit of Chinese Patent Application No. 200810118275.X, filed Aug. 12, 2008, both of which are incorporated herein by reference in their entirety.</p>
<heading id="h-0002" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">The present invention generally relates to communication field, in particular to a seamless switching method in a VOIP session and a mobile terminal.</p>
<heading id="h-0003" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0004" num="0003">Voice Over Internet Protocol (VOIP) is a packetized and digitized transmission technology based on the Internet protocol (IP) technology. The basic principle of VOIP is as follows: compressing and encoding the voice by voice compression algorithm, then packaging the compressed voice data according to relevant protocol(s) (e.g., IP protocol), then transmitting the packages to a destination via the IP network, then connecting these voice data packets in series, and restoring these voice data packets to the original voice signal after decoding and decompressing process, so as to achieve the purpose of transmitting voice over IP network.</p>
<p id="p-0005" num="0004">An IP Phone System transforms analog signals of an ordinary phone into IP packets which can be transmitted by a computer through accessing the Internet; meanwhile, it also transforms the received IP packets into analog electronic signals of the voice. The application of voice communication between a computer network and the fixed network by using VOIP software in a personal computer (PC) has been well developed.</p>
<p id="p-0006" num="0005">With the rapid development of mobile communications, due to the increase of equipment capacity and the network bandwidth of a mobile terminal, it is possible to realize a real-time voice data intercommunication between a computer network terminal and a mobile communication network terminal and between mobile communication network terminals. By using VOIP technology, IP phone applications can be carried out on an IP-based data communication network, such as the enterprise Local Area Network (LAN), Wide Area Network (WAN), Worldwide Internet and so on. Making the international and domestic long-distance call by IP phone has low cost, which reduces communication costs, and ensures a good voice quality at the same time. With the development of the network communication and wireless technology, a mobile phone can simultaneously support multiple wireless technologies for accessing a telephone service network. With the support of the multiple wireless technologies, a mobile phone can support VOIP session function, for example, a mobile phone supports General Packet Radio Service (GPRS), Enhanced Data Charge for GSM Evolution (EDGE), Wireless LAN based on the IEEE 802.11b standard (Wireless Fidelity, abbreviated as WIFI), Worldwide Interoperability Network for Microwave Access (WIMAX), and it accesses an IP link of the core network via these networks, so as to provide VOIP services. As the coverage construction, charges and quality of service (QOS) differ in different wireless networks, during communicating via a wireless network, if a user departs from the current wireless network coverage, or wants to switch to another wireless network, it leads to a session interruption. Therefore, there is a need for a seamless switching method which can ensure that the originally initiated session will not be interrupted when the user switches among different wireless networks, and that the switch can be freely realized.</p>
<heading id="h-0004" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0007" num="0006">In view of the above, the object of the embodiments of the present invention is to provide a seamless switching method that a mobile terminal which supports multiple wireless networks realizes un-interrupted VOIP session.</p>
<p id="p-0008" num="0007">To achieve the above-mentioned purpose, in accordance with one aspect of the invention, a seamless session switching method is provided.</p>
<p id="p-0009" num="0008">The seamless session switching method in accordance with the present invention, which is used in a VOIP session, comprises:</p>
<p id="p-0010" num="0009">a first mobile terminal establishing a first VOIP session with a second terminal via an initial wireless network;</p>
<p id="p-0011" num="0010">the first mobile terminal acquiring a target wireless network when the first mobile terminal detects that a switching event occurs;</p>
<p id="p-0012" num="0011">the first terminal transmitting a second session request to the second terminal via the target wireless network, and keeping the first VOIP session continued; and</p>
<p id="p-0013" num="0012">the first mobile terminal establishing a second VOIP session with the second terminal via the target wireless network after receiving an acknowledge message for the second session request from the second terminal, and terminating the first VOIP session after the second VOIP session is established.</p>
<p id="p-0014" num="0013">Preferably, the above-mentioned method further comprises:</p>
<p id="p-0015" num="0014">the first mobile terminal transmitting test information to wireless networks, determining and recording status information of the wireless networks supported by the first mobile terminal according to feedback information, and updating a network list; and</p>
<p id="p-0016" num="0015">the first mobile terminal acquiring the target wireless network according to the status information of the wireless networks in the network list.</p>
<p id="p-0017" num="0016">Preferably, the wireless networks establish priority levels according to preset parameters, and the target wireless network acquired by the first mobile terminal is the wireless network with the highest priority level in the network list.</p>
<p id="p-0018" num="0017">Preferably, the preset parameters comprise network quality of the wireless networks, charge of the wireless networks, quality of service (QOS) of the wireless networks, session requirements of a user.</p>
<p id="p-0019" num="0018">Preferably, the above-mentioned method comprises: presetting a time threshold, every other time threshold the first mobile terminal transmitting the test information to the wireless networks to acquire the feedback information of each of the wireless networks, and updating the network list of the first mobile terminal according to the feedback information.</p>
<p id="p-0020" num="0019">Preferably, the switching event comprises: current wireless network quality being lower than a preset threshold, a switching request of a user, and departure from the coverage of the wireless network.</p>
<p id="p-0021" num="0020">Preferably, the wireless network comprises:</p>
<p id="p-0022" num="0021">WIFI network, WIMAX network, LTE network, and EDGE network.</p>
<p id="p-0023" num="0022">To achieve the above-mentioned purposes, in accordance with another aspect of the invention, a mobile terminal is provided.</p>
<p id="p-0024" num="0023">In accordance with the present invention, the mobile terminal comprises:</p>
<p id="p-0025" num="0024">a detection unit, configured to detect whether a switching event occurs;</p>
<p id="p-0026" num="0025">a selection unit, configured to select a target wireless network;</p>
<p id="p-0027" num="0026">a VOIP session unit, configured to transmit/receive a VOIP session request, to establish a first VIOP session with a second terminal via an initial wireless network and an IP core network, and establish a second VOIP session with the second terminal via the target wireless network selected by the selection unit and the IP core network, after the detection unit detects that a switching event occurs; and</p>
<p id="p-0028" num="0027">a switching unit, configured to terminate the first VOIP session after the second VOIP session is established, and perform a switching from the initial wireless network to the target wireless network.</p>
<p id="p-0029" num="0028">Preferably, the above-mentioned mobile terminal further comprises:</p>
<p id="p-0030" num="0029">a management unit, configured to transmit test information to wireless networks, and determine and record status information of the wireless networks supported by the first mobile terminal according to feedback information, and update a network list; and</p>
<p id="p-0031" num="0030">a storage unit, configured to store the network list which comprises wireless networks supported by the mobile terminal and the status information thereof, wherein the selection unit selects the target wireless network from the network list of the storage unit.</p>
<p id="p-0032" num="0031">Preferably, the wireless networks in the network list establish priority levels according to preset parameters; and the target wireless network is the wireless network with the highest priority level in the network list.</p>
<p id="p-0033" num="0032">Preferably, the switching event comprises: current wireless network quality being lower than a preset parameter, a switching request of a user, departure from the coverage of the wireless network.</p>
<p id="p-0034" num="0033">Preferably, the wireless network comprises: WIFI network, WIMAX network, LTE network, and EDGE network.</p>
<p id="p-0035" num="0034">According to the technical solution provided by the present invention, when the current wireless network quality is declined which leads to the decline of session quality of the user, or when departing from the current wireless network, or when other switching event occurs, the session of the user will not be interrupted, seamless free switching can be realized, and a better wireless network can be used for the session, so as to increase the session quality of the user, through selecting a wireless network with better quality as a target wireless network, transmitting a second session request on the target wireless network to establish a second VOIP session, and switching from the initial wireless network to the target wireless network after the second VOIP session is established.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0036" num="0035">The drawings illustrated here provide a further understanding of the present invention and form a part of the present application. The exemplary embodiments and the description thereof are used to explain the present invention without unduly limiting the scope of the present invention, wherein:</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 1</figref> is a flowchart of the seamless session switching method according to Embodiment 1 of the present invention;</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 2</figref> is a flowchart of the seamless session switching method according to Embodiment 2 of the present invention;</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 3</figref> is a schematic diagram of the SIP signaling flow according to an embodiment of the present invention;</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 4</figref> is a schematic diagram of the composite structure of a mobile terminal according to Embodiment 3 of the present invention; and</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 5</figref> is a schematic diagram of the composite structure of a mobile terminal according to Embodiment 4 of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION OF THE EMBODIMENTS</heading>
<p id="p-0042" num="0041">Functionality Overview</p>
<p id="p-0043" num="0042">In the technical solution provided in accordance with the embodiments of the present invention, when a mobile terminal detects a switching event, the mobile terminal obtains a target wireless network through which a second session request is initiated, and establishes a second VOIP session and afterwards switches from the initial wireless network to the target wireless network, so that the session of the user is not interrupted and seamless free switching can be realized.</p>
<p id="p-0044" num="0043">A detailed description will be given in connection with drawings and embodiments. It is to be noted that, the embodiments of the application and the features in the embodiments can be combined with each other if there is no conflicts.</p>
<heading id="h-0007" level="1">Method Embodiments</heading>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 1</figref> is a flowchart of the a seamless session switching method according to preferable Embodiment 1 of the present invention, and as shown in <figref idref="DRAWINGS">FIG. 1</figref>, the above-mentioned method comprises Step <b>101</b> to Step <b>107</b>:</p>
<p id="p-0046" num="0045">Step <b>101</b>, establishing, by a first mobile terminal, a first VOIP session with a second terminal via an initial wireless network, and then entering Step <b>102</b>.</p>
<p id="p-0047" num="0046">The seamless session switching method described in the embodiments of the present invention is implemented in a mobile terminal, which can be a mobile phone. In prior art, a VOIP session can be established between mobile phones, between a mobile phone and a fixed phone, and between a mobile phone and a computer via a wireless network and an IP core network. For the purpose of conciseness, the principle of a VOIP session establishment process is not described in detail herein. From the above description, it can be known that the second terminal may be a fixed phone, a mobile phone, or a computer. In the embodiment of the present invention, the second terminal is preferably a mobile phone which supports the VOIP session.</p>
<p id="p-0048" num="0047">Step <b>102</b>, determining whether the session is terminated, wherein if yes, the flow is ended, and otherwise, it enters Step <b>103</b>.</p>
<p id="p-0049" num="0048">Step <b>103</b>, determining whether a switching event occurs, wherein if yes, it enters Step <b>104</b>, and otherwise, it goes back to Step <b>102</b>.</p>
<p id="p-0050" num="0049">Those skilled in the art can understand that the switching event described in the embodiment of the present invention comprises, but is not limited to, the current wireless network quality being lower than a preset threshold, the switching request of the user, departure from the coverage of the wireless network, in which the preset threshold can be configured according to practical requirement; such as the user can not make a phone call, the quality of the session has a substantial decline or the like.</p>
<p id="p-0051" num="0050">Step <b>104</b>, determining whether there is an available target wireless network, wherein if yes, it enters Step <b>105</b>, and otherwise, the present step is repeated.</p>
<p id="p-0052" num="0051">It can be easily understood that the network quality or other parameters of the target wireless network are better than those of the current wireless network, and better session quality can be achieved.</p>
<p id="p-0053" num="0052">Step <b>105</b>, transmitting a second session request to the second terminal via the target wireless network.</p>
<p id="p-0054" num="0053">The first mobile terminal (i.e., the mobile phone) transmits to the second terminal the second session request via the target wireless network and IP core network, to request for establishing a second VOIP session, and then waits for the feedback of the second terminal, wherein the second session request carries the information used in a switching, such as an IP address or the like.</p>
<p id="p-0055" num="0054">Step <b>106</b>, entering Step <b>107</b> after receiving an acknowledge message for the second session request from the second terminal.</p>
<p id="p-0056" num="0055">The mobile terminal transmits a session request to the second terminal. Before receiving the acknowledge message from the second terminal and establishing a second VOIP session, the first VOIP session is kept uninterrupted, and the first mobile terminal continues the session with the second terminal via the first VOIP session.</p>
<p id="p-0057" num="0056">Step <b>107</b>, establishing a second VOIP session with the second terminal via the target wireless network, and switching from the initial wireless network to the target wireless network.</p>
<p id="p-0058" num="0057">After the first mobile terminal receives the acknowledge message from the second terminal, it represents that the VOIP session can be established. The first mobile terminal establishes the second VOIP session with the second terminal via the target wireless network and the IP core network, and after the second VOIP session is established, the first mobile terminal terminates the first VOIP session and switches from the initial wireless network to the target wireless network.</p>
<p id="p-0059" num="0058">Those skilled in the art can understand that the wireless network described in the embodiments of the present invention comprises, but is not limited to, WIFI network, WIMAX network, LTE network, and EDGE network.</p>
<p id="p-0060" num="0059">In the technical solution provided by the embodiments of the present invention, when the current wireless network quality is declined which leads to the decline of session quality of the user, or when departing from the current wireless network, or when other switching event occurs, the session of the user will not be interrupted, seamless free switching can be realized, and a better wireless network can be used for the session, so as to increase the session quality of the user, through selecting a wireless network with better quality as a target wireless network, transmitting a second session request on the target wireless network, establishing a second VOIP session, and switching from the initial wireless network to the target wireless network after the second VOIP session is established.</p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 2</figref> is a flowchart of a seamless session switching method according to Embodiment 2 of the present invention, and the above method comprises Step <b>201</b> to Step <b>208</b>:</p>
<p id="p-0062" num="0061">Step <b>201</b>, establishing, by a first mobile terminal, a first VOIP session with a second terminal via an initial wireless network, and entering Step <b>202</b>.</p>
<p id="p-0063" num="0062">The seamless session switching method described in the embodiments of the present invention is implemented in a mobile terminal, which may be a mobile phone. In prior art, a VOIP session can be established between mobile phones, between a mobile phone and a fixed phone, and between a mobile phone and a computer via a wireless network and an IP core network. For the purpose of conciseness, the principle of a VOIP session establishment process is not described in detail herein. From the above description, it can be known that the second terminal may be a fixed phone, a mobile phone, or a computer, and the second terminal is preferably a mobile phone which supports the VOIP session in the embodiments of the present invention.</p>
<p id="p-0064" num="0063">Step <b>202</b>, determining whether the session is ended, wherein if yes, the flow is ended, and otherwise, it enters Step <b>203</b>.</p>
<p id="p-0065" num="0064">Step <b>203</b>, testing the wireless network.</p>
<p id="p-0066" num="0065">The first mobile terminal transmits test information to each wireless network, and determines the wireless networks supported by the first mobile terminal and the status information of these wireless networks according to feedback information from each wireless network. When discovering a new available wireless network, the first mobile terminal registers to the core network via the new wireless network, establishes a network list on the first mobile terminal and obtains a target wireless network from the network list.</p>
<p id="p-0067" num="0066">Those skilled in the art can understand that, it is not necessary to limit Step <b>203</b> to be performed after Step <b>202</b> and before Step <b>204</b>. Step <b>203</b> can be carried out at any time, and it will not affect the realization of the technical solution of the embodiments of the present invention, if Step <b>203</b> is carried out when there is not any session made on the mobile phone. There should not be any limitations imposed to the sequence of the steps according its serial number.</p>
<p id="p-0068" num="0067">Each of the wireless networks in the network list establishes priority level according to preset parameters. The target wireless network acquired by the first mobile terminal is the wireless network which has the highest priority level in the network list.</p>
<p id="p-0069" num="0068">The preset parameters comprise, but are not limited to: the network quality of the wireless network, the charge of the wireless network, the quality of service of the wireless network, and the session requirement of the user.</p>
<p id="p-0070" num="0069">A mobile phone tests each of the wireless networks, and preferably presets a time threshold. The first mobile terminal transmits test information to the wireless network every other time threshold, obtains the feedback information from each of the wireless networks, and updates the network list of the first mobile terminal according to the above feedback information. The practical network condition and the requirement of the user can be used for setting the time threshold which can be 1s, 10s, 100s, . . . (which is not limited in the embodiments of the present invention), so that the network list of the mobile terminal can be updated according to the practical condition.</p>
<p id="p-0071" num="0070">In the present step, when the mobile terminal discovers a new available wireless network, it registers to the core network through the newly discovered wireless network, and maintains the network list on the mobile terminal, i.e., records the newly discovered wireless network parameter in the network list.</p>
<p id="p-0072" num="0071">Step <b>204</b>, determining whether a switching event occurs, wherein if yes, it enters Step <b>205</b>, and otherwise, it goes back to Step <b>202</b>.</p>
<p id="p-0073" num="0072">Those skilled in the art can understand that the switching event described in the embodiment of the present invention comprises, but is not limited to, the current wireless network quality being lower than a preset threshold, the switching request of the user, and departure from the coverage of the wireless network, in which the preset threshold can be configured according to practical requirement; such as the user can not make a phone call, the quality of the session has a substantial decline or the like.</p>
<p id="p-0074" num="0073">Step <b>205</b>, determining whether there is an available target wireless network in the network list, wherein if yes, it enters Step <b>206</b>, and otherwise, the current step is repeated.</p>
<p id="p-0075" num="0074">It is easy to understand that when there is a plurality of available target wireless networks in the network list, the first mobile terminal selects the wireless network with the highest priority level as the target wireless network; wherein the priority level can be arranged according to different parameters set by different requirements. For example, it may be arranged according to the charges of the wireless networks, the current network quality, the network coverage, and be arranged comprehensively according to all these parameters.</p>
<p id="p-0076" num="0075">Step <b>206</b>, transmitting a second session request to the second terminal via the target wireless network.</p>
<p id="p-0077" num="0076">The first mobile terminal (i.e., the mobile phone) transmits to the second terminal the second session request via the target wireless network and IP core network, to request for establishing a second VOIP session, and then waits for the feedback of the second terminal, wherein the second session request carries the information used in a switching, such as an IP address or the like.</p>
<p id="p-0078" num="0077">Step <b>207</b>, entering Step <b>208</b>, after receiving an acknowledge message for the second session request from the second terminal,.</p>
<p id="p-0079" num="0078">The mobile terminal transmits a session request to the second terminal. Before receiving the acknowledge message from the second terminal and establishing a second VOIP session, the first VOIP session is kept uninterrupted, and the first mobile terminal continues the session with the second terminal via the first VOIP session.</p>
<p id="p-0080" num="0079">Step <b>208</b>, establishing a second VOIP session with the second terminal via the target wireless network, and switching from the initial wireless network to the target wireless network.</p>
<p id="p-0081" num="0080">After the first mobile terminal receives the acknowledge message from the second terminal, it represents that the VOIP session can be established. The first mobile terminal establishes the second VOIP session with the second terminal via the target wireless network and the IP core network. After the second VOIP session is established, the first mobile terminal terminates the first VOIP session and switches from the initial wireless network to the target wireless network, and the session between users can be continued in the new network.</p>
<p id="p-0082" num="0081">Those skilled in the art can understand that the wireless network described in the embodiments of the present invention comprises, but is not limited to, WIFI network, WIMAX network, LTE network, and EDGE network.</p>
<p id="p-0083" num="0082">In the technical solution provided by the embodiment of the present invention, when the current wireless network quality is declined which leads to the decline of session quality of the user, or when departing from the current wireless network, or when other switching event occurs, the session of the user will not be interrupted, and seamless free switching can be realized, through selecting the wireless network with highest priority level as the target wireless network, and initiating a second session request in the target wireless network to establish a second VOIP session, and switching from the initial wireless network to the target wireless network after the second VOIP session is established. Besides, the mobile terminal can updates the network list in time via testing each of the wireless networks continuously, so as to find a currently optimal wireless network, and switch to the wireless network with a higher priority in time.</p>
<p id="p-0084" num="0083"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart of the SIP signaling flow according to the embodiment of the present invention. As shown in <figref idref="DRAWINGS">FIG. 3</figref>, it comprises the following Step <b>301</b> to Step <b>306</b>:</p>
<p id="p-0085" num="0084">Step <b>301</b>, terminal A and terminal B establish a VOIP session by the SIP signaling, and after the session is established successfully, media messages are transmitted for communication.</p>
<p id="p-0086" num="0085">Step <b>302</b>, when an event of requiring switching occurs to terminal A, such as, the current network signal is weakened and/or the signal of another wireless network is better, terminal A transmits an SIP REFER message which carries the information used in switching, such as an IP address or the like.</p>
<p id="p-0087" num="0086">Step <b>303</b>, terminal B replies an SIP 202 message to accept the request.</p>
<p id="p-0088" num="0087">Step <b>304</b>, the terminal B transmits an SIP NOTIFY message to the terminal B.</p>
<p id="p-0089" num="0088">Step <b>305</b>, the terminal A replies an SIP 200 OK message to the terminal B.</p>
<p id="p-0090" num="0089">Step <b>306</b>, the two parties then establish a new session, and after the establishment is successful, the original session is terminated, media messages are transmitted in the new session, and the two parties keep on the communication.</p>
<p id="p-0091" num="0090">The technical solution described in the embodiments of the present invention is applicable to 3GPP IMS domain, and 3GPP2 MMD domain.</p>
<p id="p-0092" num="0091">From the above description, it can be seen that the seamless session switching method provided in the embodiments of the present invention can realize the seamless free switching, and use a better wireless network for communication, so as to increase the session quality of user.</p>
<p id="p-0093" num="0092">According to the embodiments of the present invention, a kind of computer readable medium is provided for storing computer executable instructions. When the instructions are executed by a computer or a processor, the computer or processor can execute each of the steps as shown in <figref idref="DRAWINGS">FIG. 1</figref>, <figref idref="DRAWINGS">FIG. 2</figref>, and <figref idref="DRAWINGS">FIG. 3</figref>, and preferably, it can execute one or more of the above-mentioned embodiments.</p>
<heading id="h-0008" level="1">Device Embodiments</heading>
<p id="p-0094" num="0093"><figref idref="DRAWINGS">FIG. 4</figref> is a schematic diagram of the composite structure of a mobile terminal according to preferable Embodiment 3 of the present invention, and as shown in <figref idref="DRAWINGS">FIG. 4</figref>, the mobile terminal comprises:</p>
<p id="p-0095" num="0094">a detection unit <b>401</b>, configured to detect whether a switching event occurs;</p>
<p id="p-0096" num="0095">a VOIP session unit <b>402</b>, configured to transmit/receive a VOIP session request, to establish a first VIOP session with a second terminal via an initial wireless network and an IP core network, and establish a second VOIP session with the second terminal via the target wireless network and the IP core network after the detection unit detects that a switching event occurs;</p>
<p id="p-0097" num="0096">a switching unit <b>403</b>, configured to terminate the first VOIP session after the second VOIP session is established, and perform a switching from the initial wireless network to the target wireless network; and</p>
<p id="p-0098" num="0097">a selection unit <b>404</b>, configured to select the target wireless network.</p>
<p id="p-0099" num="0098">Those skilled in the art can easily understand that, the mobile terminal described in the embodiments of the present invention further comprises universal units in a mobile terminal, such as a central processing unit, a display unit, an antenna unit, a button unit, and so on. For the purpose of conciseness, the detailed description of the universal composition of the mobile terminal and the work principle and the work process of each part is omitted herein.</p>
<p id="p-0100" num="0099">The work process and work principle of the above-mentioned mobile terminal will be detailed hereinafter.</p>
<p id="p-0101" num="0100">The mobile terminal first transmits a session request to the second terminal via the VOIP session unit. The first VOIP session is established after the acknowledgement of the second terminal. During the communication between the first mobile terminal and the second terminal, the detection unit of the mobile terminal detects whether a switching event occurs. If a switching event occurs, the selection unit selects one target wireless network, and transmits a second session request to the second terminal via the target wireless network, to request for establishing a second VOIP session. After receiving the acknowledge message from the second terminal, the mobile terminal establishes a second VOIP session with the second terminal. After the second VOIP session is established, the switching unit performs the switching from the initial wireless network to the target wireless network. The session between the users continues in the new network, so as to realize the seamless switching of the VOIP session.</p>
<p id="p-0102" num="0101">Those skilled in the art can understand that the switching event described in the embodiment of the present invention comprises, but is not limited to, the current wireless network quality being lower than a preset threshold, the switching request of the user, and departure from the coverage of the wireless network, in which the preset threshold can be configured according to practical requirement; such as the user can not make a phone call, the quality of the session has a substantial decline or the like.</p>
<p id="p-0103" num="0102">The above-mentioned wireless network comprises, but is not limited to, WIFI network, WIMAX network, LTE network, and EDGE network.</p>
<p id="p-0104" num="0103">In the technical solution provided by the embodiments of the present invention, when the current wireless network quality is declined which leads to the decline of session quality of the user, or when departing from the current wireless network, or when other switching event occurs, the session of the user will not be interrupted, seamless free switching can be realized, and a better wireless network can be used for the session, so as to increase the session quality of the user, through selecting a wireless network with better quality as a target wireless network, transmitting a second session request on the target wireless network, establishing a second VOIP session, and switching from the initial wireless network to the target wireless network after the second VOIP session is established.</p>
<p id="p-0105" num="0104"><figref idref="DRAWINGS">FIG. 5</figref> is a schematic diagram of the composite structure of a mobile terminal according to preferable Embodiment 4 of the present invention, and as shown in <figref idref="DRAWINGS">FIG. 5</figref>, the mobile terminal comprises:</p>
<p id="p-0106" num="0105">a detection unit <b>401</b>, configured to detect whether a switching event occurs;</p>
<p id="p-0107" num="0106">a VOIP session unit <b>402</b>, configured to transmit/receive a VOIP session request, to establish a first VIOP session with a second terminal via an initial wireless network and an IP core network, and establish a second VOIP session with the second terminal via the target wireless network and the IP core network after the detection unit detects that a switching event occurs;</p>
<p id="p-0108" num="0107">a switching unit <b>403</b>, configured to terminate the first VOIP session after the second VOIP session is established, and perform a switching from the initial wireless network to the target wireless network;</p>
<p id="p-0109" num="0108">a selection unit <b>404</b>, configured to select a target wireless network from a network list;</p>
<p id="p-0110" num="0109">a management unit <b>501</b>, configured to transmit test information to wireless networks, and determine the wireless networks supported by the mobile terminal and the status information of each of the wireless networks according to feedback information, wherein when discovering a new available wireless network, it registers to the core network via the new wireless network;</p>
<p id="p-0111" num="0110">a storage unit <b>502</b>, configured to store the network list, wherein the above-mentioned network list comprises the wireless networks supported by the mobile terminal and the status information of each wireless network.</p>
<p id="p-0112" num="0111">The above-mentioned selection unit selects the target wireless network from the network list of the storage unit.</p>
<p id="p-0113" num="0112">Those skilled in the art can easily understand that, the mobile terminal described in the embodiments of the present invention further comprises universal units in a mobile terminal, such as a central processing unit, a display unit, an antenna unit, a button unit, and so on. For the purpose of conciseness, the detailed description of the universal composition of the mobile terminal and the work principle and the work process of each part is omitted herein.</p>
<p id="p-0114" num="0113">The differences between the technical solution of the present embodiment and the technical solution of the preferable Embodiment 3 lies in that: the mobile terminal transmits test information to the wireless network via the management unit, and determines the wireless networks supported by the mobile terminal and the status information of each of wireless networks according to the feedback information. When discovering a new available wireless network, it registers to the core network via the new wireless network. In addition, the mobile terminal stores the network list in the storage unit with the network list comprising the wireless networks supported by the mobile terminal and the status information of each of the wireless networks. Such that the wireless networks supported by the mobile terminal and the status information of each of wireless networks can be updated in real time, and a better target wireless network can be provided for the switching of the mobile terminal.</p>
<p id="p-0115" num="0114">Each of the wireless networks in the above-mentioned network list establishes the priority level according to the preset parameter. The target wireless network obtained by the first mobile terminal is the wireless network with the highest priority level in the network list.</p>
<p id="p-0116" num="0115">The above preset parameters comprise, but are not limited to: the network quality of the wireless network, the charge of the wireless network, the quality of service of the wireless network, and the session requirement of user.</p>
<p id="p-0117" num="0116">A mobile phone tests each of the wireless networks, and preferably presets a time threshold. The first mobile terminal transmits test information to the wireless network every other time threshold, obtains the feedback information from each of the wireless networks, and updates the network list of the first mobile terminal according to the above feedback information. The practical network condition and the requirement of the user can be used for setting the time threshold which can be 1s, 10s, 100s, . . . , and is not limited in the embodiments of the present invention, so that the network list of the mobile terminal can be updated according to the practical condition.</p>
<p id="p-0118" num="0117">It is easy to understand that when there is a plurality of available target wireless networks in the network list, the first mobile terminal selects the wireless network with the highest priority level as the target wireless network, and the priority level can be arranged according to different parameters set by different requirements. For example, it may be arranged according to the charges of the wireless networks, the current network quality, the network coverage, and be arranged comprehensively according to all these parameters.</p>
<p id="p-0119" num="0118">Those skilled in the art can understand that the switching event described in the embodiment of the present invention comprises, but is not limited to, the current wireless network quality being lower than a preset threshold, the switching request of the user, and departure from the coverage of the wireless network, in which, the above preset threshold can be configured according to practical requirement; such as the user can not make a phone call, the quality of the session has a substantial decline or the like.</p>
<p id="p-0120" num="0119">The above-mentioned wireless network comprises, but is not limited to, WIFI network, WIMAX network, LTE network, and EDGE network.</p>
<p id="p-0121" num="0120">In the technical solution provided by the embodiment of the present invention, when the current wireless network quality is declined which leads to the decline of session quality of the user, or when departing from the current wireless network, or when other switching event occurs, the session of the user will not be interrupted, seamless free switching can be realized, through selecting the wireless network with highest priority level as the target wireless network, and transmitting a second session request in the target wireless network to establish a second VOIP session, and switching from the initial wireless network to the target wireless network after the second VOIP session is established. Besides, the mobile terminal can updates the network list in time by testing each of the wireless networks continuously, so as to find a currently optimal wireless network, and switch to the wireless network with a higher priority in time.</p>
<p id="p-0122" num="0121">The technical solution described in the embodiments of the present invention is applicable to 3GPP IMS domain, and 3GPP2 MMD domain.</p>
<p id="p-0123" num="0122">In addition, the system architecture and the current processing flow are not modified during the realization of the present invention, thus it is easy to be realized, and convenient to be popularized in the technical field, therefore the present invention has a strong industrial applicability.</p>
<p id="p-0124" num="0123">Obviously, those skilled in the art shall understand that the above-mentioned modules and steps of the present invention can be realized by using general purpose calculating device, can be integrated in one calculating device or distributed on a network which consists of a plurality of calculating devices. Alternatively, the modules and the steps of the present invention can be realized by using the executable program code of the calculating device. Consequently, they can be stored in the storing device and executed by the calculating device, or they are made into integrated circuit module respectively, or a plurality of modules or steps thereof are made into one integrated circuit module. In this way, the present invention is not restricted to any particular hardware and software combination.</p>
<p id="p-0125" num="0124">Above description is only to illustrate the preferred embodiments but not to limit the present invention. Various alterations and changes to the present invention are apparent to those skilled in the art. The scope defined in claims shall comprise any modification, equivalent substitution and improvement within the spirit and principle of the present invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A seamless session switching method used in a VOIP session, comprising:
<claim-text>a first mobile terminal establishing a first VOIP session with a second terminal via an initial wireless network;</claim-text>
<claim-text>the first mobile terminal acquiring a target wireless network when the first mobile terminal detects that a switching event occurs;</claim-text>
<claim-text>the first terminal transmitting a second session request to the second terminal via the target wireless network, and keeping the first VOIP session continued;</claim-text>
<claim-text>the first mobile terminal establishing a second VOIP session with the second terminal via the target wireless network after receiving an acknowledge message for the second session request from the second terminal, and terminating the first VOIP session after the second VOIP session is established;</claim-text>
<claim-text>the first mobile terminal transmitting test information to wireless networks, determining and recording status information of the wireless networks supported by the first mobile terminal according to feedback information, and updating a network list; and</claim-text>
<claim-text>the first mobile terminal acquiring the target wireless network according to the status information of the wireless networks in the network list;</claim-text>
<claim-text>wherein the wireless networks establish priority levels according to preset parameters, and the target wireless network acquired by the first mobile terminal is the wireless network with the highest priority level in the network list.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the preset parameters comprise at least one of:
<claim-text>network quality of the wireless networks, charge of the wireless networks, quality of service (QOS) of the wireless networks, and session requirements of a user.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>presetting a time threshold, every other time threshold the first mobile terminal transmitting the test information to the wireless networks to acquire the feedback information of each of the wireless networks, and updating the network list of the first mobile terminal according to the feedback information.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the switching event comprises:
<claim-text>current wireless network quality being lower than a preset threshold, a switching request of a user, or departure from the coverage of the initial wireless network.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the initial and the target wireless networks comprise:
<claim-text>WIFI network, WIMAX network, LTE network, or EDGE network.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A mobile terminal, comprising:
<claim-text>a detection unit, configured to detect whether a switching event occurs;</claim-text>
<claim-text>a selection unit, configured to select a target wireless network;</claim-text>
<claim-text>a VOIP session unit, configured to transmit/receive a VOIP session request, to establish a first VIOP session with a second terminal via an initial wireless network and an IP core network, and establish a second VOIP session with the second terminal via the target wireless network selected by the selection unit and the IP core network, after the detection unit detects that a switching event occurs;</claim-text>
<claim-text>a switching unit, configured to terminate the first VOIP session after the second VOIP session is established, and perform a switching from the initial wireless network to the target wireless network;</claim-text>
<claim-text>a management unit, configured to transmit test information to wireless networks, and determine and record status information of the wireless networks supported by the first mobile terminal according to feedback information, and update a network list; and</claim-text>
<claim-text>a storage unit, configured to store the network list which comprises wireless networks supported by the mobile terminal and the status information thereof, wherein the selection unit selects the target wireless network from the network list of the storage unit;</claim-text>
<claim-text>wherein the wireless networks in the network list establish priority levels according to preset parameters; and the target wireless network is the wireless network with the highest priority level in the network list.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The mobile terminal according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the switching event comprises:
<claim-text>current wireless network quality being lower than a preset parameter, a switching request of a user, or departure from the coverage of the initial wireless network.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the initial and the target wireless networks comprise:
<claim-text>WIFI network, WIMAX network, LTE network, or EDGE network.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the initial and the target wireless networks comprise:
<claim-text>WIFI network, WIMAX network, LTE network, or EDGE network.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the initial and the target wireless networks comprise:
<claim-text>WIFI network, WIMAX network, LTE network, or EDGE network.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the initial and the target wireless networks comprise:
<claim-text>WIFI network, WIMAX network, LTE network, or EDGE network.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the initial and the target wireless networks comprise:
<claim-text>WIFI network, WIMAX network, LTE network, or EDGE network.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
