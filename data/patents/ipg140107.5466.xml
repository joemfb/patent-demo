<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626566-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626566</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13329360</doc-number>
<date>20111219</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>62</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20120101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>Q</subclass>
<main-group>10</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>705  735</main-classification>
</classification-national>
<invention-title id="d2e53">Market design for a resource exchange system</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6085164</doc-number>
<kind>A</kind>
<name>Smith et al.</name>
<date>20000700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7080034</doc-number>
<kind>B1</kind>
<name>Reams</name>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7133835</doc-number>
<kind>B1</kind>
<name>Fusz et al.</name>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>7257561</doc-number>
<kind>B1</kind>
<name>Abe</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7707248</doc-number>
<kind>B2</kind>
<name>Simard et al.</name>
<date>20100400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>8196186</doc-number>
<kind>B2</kind>
<name>Mityagin et al.</name>
<date>20120600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2001/0037311</doc-number>
<kind>A1</kind>
<name>McCoy et al.</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 65</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2005/0195743</doc-number>
<kind>A1</kind>
<name>Rochberger et al.</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370235</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2008/0040481</doc-number>
<kind>A1</kind>
<name>Joshi et al.</name>
<date>20080200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709226</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2008/0080396</doc-number>
<kind>A1</kind>
<name>Meijer et al.</name>
<date>20080400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370254</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2008/0243710</doc-number>
<kind>A1</kind>
<name>Borts</name>
<date>20081000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2009/0290714</doc-number>
<kind>A1</kind>
<name>Charles et al.</name>
<date>20091100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2010/0228598</doc-number>
<kind>A1</kind>
<name>Seuken et al.</name>
<date>20100900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 10</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>Gerke, et al., &#x201c;Peer-to-Peer Market Management&#x201d;, Retrieved at &#x3c;&#x3c;http://hausheer.osola.com/publications/market-management-final.pdf&#x3e;&#x3e;, Aug. 2005, pp. 1-19.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00015">
<othercit>Aperjis, et al., &#x201c;A Peer-to-Peer System as an Exchange Economy&#x201d;, Retrieved at &#x3c;&#x3c;http://www.stanford.edu/group/reputation/draft<sub>&#x2014;</sub>tr.pdf&#x3e;&#x3e;, Oct. 2006, pp. 1-13.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00016">
<othercit>Vishnumurthy, et al., &#x201c;KARMA: A Secure Economic Framework for Peer-to-Peer Resource Sharing&#x201d;, Retrieved at &#x3c;&#x3c;http://www.cs.comell.edu/-vivi/karma.pdf&#x3e;&#x3e;, 2003, pp. 1-6.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00017">
<othercit>Yeo, et al., &#x201c;A Taxonomy of Market-based Resource Management Systems for Utility-Driven Cluster Computing&#x201d;, Retrieved at &#x3c;&#x3c;http://www.buyya.com/papers/UtilityClusterRMSTaxonomy.pdf&#x3e;&#x3e;, Jun. 8, 2006, pp. 1381-1419.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00018">
<othercit>Turner, et al., &#x201c;A Lightweight Currency Paradigm for the P2P Resource Market&#x201d;, Retrieved at &#x3c;&#x3c;http://cis.poly.edu/-ross/papers/LightweightParadigm.pdf&#x3e;&#x3e;, Sep. 9, 2003, pp. 1-15.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00019">
<othercit>Unknown, &#x201c;Wuala&#x2014;Technology&#x201d;, Retrieved at &#x3c;&#x3c;http://wuala.com/en/learn/technology&#x3e;&#x3e;, Jan. 13, 2009, pp. 1-2.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00020">
<othercit>&#x201c;Notice of Allowance&#x201d;, Received for U.S. Appl. No. 12/399,043, Mailed Date: Oct. 18, 2011, pp. 16.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>705  11</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>705  5</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>12399043</doc-number>
<date>20090306</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8108248</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13329360</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120089439</doc-number>
<kind>A1</kind>
<date>20120412</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Seuken</last-name>
<first-name>Sven</first-name>
<address>
<city>Cambridge</city>
<state>MA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Charles</last-name>
<first-name>Denis Xavier</first-name>
<address>
<city>Bellevue</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Chickering</last-name>
<first-name>David Maxwell</first-name>
<address>
<city>Bellevue</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="004" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Puri</last-name>
<first-name>Siddhartha</first-name>
<address>
<city>Sammamish</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Seuken</last-name>
<first-name>Sven</first-name>
<address>
<city>Cambridge</city>
<state>MA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Charles</last-name>
<first-name>Denis Xavier</first-name>
<address>
<city>Bellevue</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Chickering</last-name>
<first-name>David Maxwell</first-name>
<address>
<city>Bellevue</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="004" designation="us-only">
<addressbook>
<last-name>Puri</last-name>
<first-name>Siddhartha</first-name>
<address>
<city>Sammamish</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Microsoft Corporation</orgname>
<role>02</role>
<address>
<city>Redmond</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Campbell</last-name>
<first-name>Shannon</first-name>
<department>3628</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Providing a market design for a peer-to-peer resource exchange system. Prices for a plurality of resources such as storage space, upload bandwidth, and download bandwidth are calculated and balanced based on previous resource prices, a supply of the resources, and a demand for the resources. Further, prices for operations such as storage and retrieval are determined such that a total of the payments to resource suppliers equals a total of the payments received from the resource consumers. In some embodiments, incoming data operation requests are allocated to the peers such that equilibrium among the peers is achieved.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="179.75mm" wi="122.09mm" file="US08626566-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="271.10mm" wi="166.20mm" orientation="landscape" file="US08626566-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="276.61mm" wi="190.08mm" orientation="landscape" file="US08626566-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="265.68mm" wi="171.70mm" orientation="landscape" file="US08626566-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="266.36mm" wi="173.74mm" orientation="landscape" file="US08626566-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="168.91mm" wi="136.23mm" file="US08626566-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="222.76mm" wi="133.52mm" file="US08626566-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="193.46mm" wi="129.46mm" file="US08626566-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="243.16mm" wi="175.09mm" file="US08626566-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading>
<p id="p-0002" num="0001">This application is a continuation of commonly-owned, co-pending U.S. patent application Ser. No. 12/399,043, filed Mar. 6, 2009, the entire disclosure of which is hereby incorporated by reference herein for all purposes.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">Individuals often lack the infrastructure to set up and maintain remote computer-readable storage media. Existing systems provide a business model that provides access to remote computer-readable storage media to multiple individual consumers via common networking protocols and mechanisms, such as the ubiquitous World Wide Web (WWW). Traditionally, those offering such remote backup services to individual consumers maintain one or more data centers comprising the computer-readable storage media that is being used to remotely store the consumers' computer-readable data.</p>
<p id="p-0004" num="0003">In existing peer-to-peer (P2P) resource exchange systems, individual users (e.g., peers) provide resources in exchange for resources from other users. To incentivize users to provide their resources, an accounting system keeps track of how many resources each user has supplied and consumed, to make sure this is balanced in the long run. These systems get more complicated, however, when the resources from different supplying peers are bundled before they can be consumed by other peers. If the system is flexible enough such that different peers can supply different amounts of the resources, simply balancing each user's account per resource is inefficient because it ignores the different users' preferences. Existing systems fail to elicit user preferences and to determine the optimal exchange rate or prices between the different resources such that system efficiency is maximized.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0005" num="0004">Embodiments of the invention provide a market design for a peer-to-peer resource exchange system. A supply of each of a plurality of resources is determined. The demand for each of the plurality of resources is determined. A plurality of previous prices for each of the plurality of resources is accessed. A ratio of the determined supply to the determined demand is defined for each of the plurality of resources. A price for each of the plurality of resources is calculated based on the accessed prices and the defined ratio such that the defined ratios for the plurality of resources are equal. In some embodiments, a user interface allows a user to interact with the market without being made aware of the prices.</p>
<p id="p-0006" num="0005">This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter, nor is it intended to be used as an aid in determining the scope of the claimed subject matter.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. 1</figref> is an exemplary block diagram illustrating a plurality of computing devices operating within a peer-to-peer resource exchange system.</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 2</figref> is an exemplary block diagram illustrating communications to identify peer computing devices for resource exchange.</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 3</figref> is an exemplary block diagram illustrating the resource exchange system converting unreliable storage into reliable storage.</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 4</figref> is an exemplary user interface illustrating entry of resource settings and corresponding available storage space.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 5</figref> is an exemplary block diagram illustrating a computing device having computer-executable components implementing aspects of the invention.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 6</figref> is an exemplary flow chart illustrating determination of prices for operations to achieve equilibrium between operations prices and resource prices.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 7</figref> is an exemplary flow chart illustrating determination of price updates for the resources.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 8</figref> is an exemplary block diagram illustrating splitting of operations.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<p id="p-0015" num="0014">Corresponding reference characters indicate corresponding parts throughout the drawings.</p>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0016" num="0015">Referring to the figures, embodiments of the disclosure provide, at least, a peer-to-peer resource exchange system having consumers and suppliers. Each of a plurality of available resources, operations, or services has a price at which the resource can be traded. In each transaction, the suppliers are paid for providing the resources and the consumers are charged for consuming the resources. Prices are updated regularly according to current supply and demand in the system to bring prices into equilibrium.</p>
<p id="p-0017" num="0016">In some embodiments, the resource exchange system is a storage exchange system. Instead of storing data on centralized servers, the data is stored in a distributed fashion on other computing devices. Distributed backup systems save costs for a centralized data center because unused or free resources (e.g., storage space, inbound bandwidth, and outbound bandwidth) can be utilized. Further, the reliability and accessibility of the system may be greater than that of centralized backup systems. To provide availability, the data is replicated to a certain degree. Aspects of the disclosure use erasure coding where individual file fragments are intelligently distributed over multiple peers devices to minimize the replication factor as much as possible. In some embodiments, the disclosure uses an architecture that is a hybrid between a peer-to-peer system and a server-based system. Backup data is directly transferred between two peer devices, but a dedicated server coordinates operations and maintains meta-data on each backup.</p>
<p id="p-0018" num="0017">While embodiments of the disclosure are described with reference to storage resources being exchanged, the disclosure is not limited to the exchange of storage space. Other computing resources that can be shared and distributed are within the scope of the disclosure. Other resources include, for example, upload bandwidth and download bandwidth. Further, the resource exchange system may be implemented as a centralized mechanism, or distributed among a plurality of computing devices. In some embodiments, the consumers are linked with the suppliers to enable the exchange of resources through peer-to-peer communication.</p>
<p id="p-0019" num="0018">Further, computational capacity may be one of the resources that is shared and distributed among peers. In such an embodiment, the system is a computational exchange service where jobs are submitted to be performed on a quantity of peers. The jobs are paid for by downloading jobs, working on the downloaded jobs, and uploading the results of the completed jobs.</p>
<p id="h-0006" num="0000">Exemplary Storage Exchange System</p>
<p id="p-0020" num="0019">Referring again to <figref idref="DRAWINGS">FIG. 1</figref>, an exemplary block diagram illustrates a plurality of computing devices operating within the peer-to-peer resource exchange system. In the example of <figref idref="DRAWINGS">FIG. 1</figref>, the resource exchange system is a distributed data backup system. An exemplary network system <b>99</b> is illustrated comprising the network <b>90</b> itself, personal computing devices <b>10</b> and <b>20</b>, a public computing device <b>30</b>, a server computing device <b>40</b>, and a distributed storage management device <b>50</b>, all connected to the network <b>90</b>. Each of the computing devices <b>10</b>, <b>20</b>, <b>30</b> and <b>40</b> comprise storage devices <b>11</b>, <b>21</b>, <b>31</b> and <b>41</b>, respectively, that can be co-located with the computing devices. Examples of such co-located storage devices include both computer-readable storage media that is internal to a computing device case and computer-readable storage media that can be connected to the computing device via local cabling.</p>
<p id="p-0021" num="0020">In some embodiments, some or all of the storage capacity of the storage devices <b>11</b>, <b>21</b>, <b>31</b> and <b>41</b> can be offered by the respective computing device <b>10</b>, <b>20</b>, <b>30</b> and <b>40</b> to the other computing devices connected to the network <b>90</b>. Such a decision may be made by administrators of the computing devices <b>10</b>, <b>20</b>, <b>30</b> and <b>40</b>, or, in multi-user environments, each user of the computing devices <b>10</b>, <b>20</b>, <b>30</b> and <b>40</b> offers some or all of the storage capacity that is allocated to that user from the storage devices <b>11</b>, <b>21</b>, <b>31</b> and <b>41</b>. Similarly, some or all of the processing capability of the computing devices <b>10</b>, <b>20</b>, <b>30</b> and <b>40</b> may be offered for use by other computing devices connected to the network <b>90</b>.</p>
<p id="p-0022" num="0021">A centralized server, such as the distributed storage management device <b>50</b>, receives offers to share storage space, processing capability, or other sharable computing resources from the computing devices <b>10</b>, <b>20</b>, <b>30</b> and <b>40</b> or, more precisely, from one or more users or administrators of those computing devices. The distributed storage management device <b>50</b> maintains account information for each user and credits each user's account an appropriate amount of credits based on the amount of resources used from that user, the length of time such resources were offered or available, the reliability of such resources, and/or other information. The amount of credits given based on such resources may be further influenced by a conversion factor that can be adjusted by the distributed storage management device <b>50</b> based, at least in part, on the balance within the system <b>99</b> between outstanding credits and offered, but unused, resources. Consumers pay credits to the distributed storage management device <b>50</b> and the distributed storage management device <b>50</b> pays credits to the suppliers. Each user starts out with a balance of zero and is allowed to take on a certain maximal deficit. Once the user reaches that deficit level, the user is not allowed to make further backups before the balance increases again. Accounting for the resources may be done in the following units:</p>
<p id="p-0023" num="0022">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE 1</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>Definition of units for each resource.</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="21pt" align="left"/>
<colspec colname="1" colwidth="98pt" align="left"/>
<colspec colname="2" colwidth="98pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>Resource</entry>
<entry>Minimal Unit</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry/>
<entry>1. Upload Bandwidth</entry>
<entry>1 Fragment (64 KB)</entry>
</row>
<row>
<entry/>
<entry>2. Download Bandwidth</entry>
<entry>1 Fragment (64 KB)</entry>
</row>
<row>
<entry/>
<entry>3. Storage Space</entry>
<entry>1 Fragment (64 KB)/day</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0024" num="0023">In some embodiments, a server account balance is also maintained. That balance starts out at zero and goes negative or positive. For example, if a tax is charged on each operation and the tax revenue goes to the server, the server's account balance increases over time. Those credits are then used, for example, to sell backup services on a secondary market.</p>
<p id="p-0025" num="0024">Referring next to <figref idref="DRAWINGS">FIG. 2</figref>, an exemplary block diagram illustrates identification of peer computing devices for resource exchange. The distributed storage management device <b>50</b> matches a peer computing device that seeks to use a distributed resource with a peer computing device that is offering such a resource for use. The distributed storage management device <b>50</b> identifies such peers to one another, thereby enabling peer-to-peer communication to implement the resource sharing. In some embodiments, the distributed storage management device <b>50</b> does not handle or store the shared data; instead, such sharing occurs strictly between identified peers.</p>
<p id="p-0026" num="0025">In operation, to offer shared resources, a user, such as user A, uses a computing device, such as A's personal computing device <b>10</b>, to offer shared resources to a management device, such as the distributed storage management device <b>50</b>. A message <b>230</b> from the computing device <b>10</b> requests that the distributed storage management device <b>50</b> create a new entry in the database <b>210</b> reflecting the addition of the account of user A. Included with the message <b>230</b> also includes information regarding the amount of resources being shared, such as the amount of storage capacity being shared <b>12</b>. And, in addition to sending message <b>230</b>, the computing device <b>10</b> can also set aside the shared storage capacity <b>12</b> of the storage device <b>11</b>, thereby separating it from the storage capacity <b>13</b> being retained for local access by the computing device.</p>
<p id="p-0027" num="0026">Upon receipt of a notification of shared resources, such as message <b>230</b>, the distributed storage management device <b>50</b> creates an appropriate account for the requesting user within the database <b>210</b>. Thus, a new account for user A is created by the distributed storage management device <b>50</b>. The distributed storage management device <b>50</b> also identifies one or more computing devices, such as computing device <b>20</b>, that may have requested a shared resource, and can identify both the sharing and requesting computing devices to one another. For example, the distributed storage management device <b>50</b> notifies the computing device <b>10</b>, via message <b>260</b>, of the computing device <b>20</b> that may have requested the use of remote storage capacity. Similarly, via message <b>265</b>, the distributed storage management device <b>50</b> notifies computing device <b>20</b> of the computing device <b>10</b> that has volunteered to host shared storage capacity <b>12</b>.</p>
<p id="p-0028" num="0027">In response to such messages from the distributed storage management device <b>50</b>, client software on the computing devices <b>10</b> and <b>20</b> initiates peer-to-peer communication <b>270</b> and transfers data from the requesting computing device <b>20</b> to the sharing computing device <b>10</b>. For example, in the exemplary system <b>250</b>, the computing device <b>20</b> may comprise a locally stored file <b>220</b> that it seeks to backup remotely. Consequently, once it receives a message, such as message <b>265</b>, client code on the computing device <b>20</b> can, transparently to the user B, transfer some or all of the data of the file <b>220</b> to the shared portion <b>12</b> offered by the computing device <b>10</b>. File <b>221</b> on storage device <b>41</b>, is meant to represent some or all of file <b>220</b> that can be remotely stored in a secure and fault-tolerant manner.</p>
<p id="p-0029" num="0028">In some embodiments, erasure coding is used for the backup, although other forms of coding are contemplated. Using an erasure code, a file having k fragments such as F=(F1, . . . , Fk) is transformed into G=(G1, . . . , Gn) where n&#x2267;k such that any k fragments of G are enough to reconstruct F. The fraction n/k is the replication factor. The difference between n and k depends on the availability of the individual peers. If all peers were continuously online, n equals k and the replication factor is 1. The smaller the availability of the individual peers, the larger the resulting replication factor. A peer's availability is represented by the variable a and is between zero (e.g., corresponding to never being online) and one (e.g., corresponding to continuously being online). If all of the peers have an availability of a and to guarantee that the backed up file can be reconstructed with probability 1&#x2212;&#x3b5;, the following Equation (1) describes how many fragments are produced.</p>
<p id="p-0030" num="0029">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>n</mi>
          <mn>0</mn>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mi>arg</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mrow>
              <munder>
                <mi>min</mi>
                <mi>n</mi>
              </munder>
              <mo>&#x2062;</mo>
              <mrow>
                <munder>
                  <mo>&#x2211;</mo>
                  <mrow>
                    <mi>k</mi>
                    <mo>&#x2264;</mo>
                    <mi>i</mi>
                  </mrow>
                </munder>
                <mo>&#x2062;</mo>
                <mrow>
                  <mrow>
                    <mo>(</mo>
                    <mtable>
                      <mtr>
                        <mtd>
                          <mi>n</mi>
                        </mtd>
                      </mtr>
                      <mtr>
                        <mtd>
                          <mi>i</mi>
                        </mtd>
                      </mtr>
                    </mtable>
                    <mo>)</mo>
                  </mrow>
                  <mo>&#x2062;</mo>
                  <msup>
                    <mrow>
                      <msup>
                        <mi>a</mi>
                        <mi>i</mi>
                      </msup>
                      <mo>&#x2061;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <mn>1</mn>
                          <mo>-</mo>
                          <mi>a</mi>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                    <mrow>
                      <mi>n</mi>
                      <mo>-</mo>
                      <mi>i</mi>
                    </mrow>
                  </msup>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
          <mo>&#x2265;</mo>
          <mrow>
            <mn>1</mn>
            <mo>-</mo>
            <mi>&#x25b;</mi>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
If a&#x3c;1, the replication factor is larger than 1 (e.g., for every gigabyte of data that the user wants to backup, the peers that the server chooses as suppliers give up more than a gigabyte of combined storage space).
</p>
<p id="p-0031" num="0030">In some embodiments, client software, such as on the computing device <b>20</b> that is remotely backing up the file <b>220</b>, encrypts the file <b>220</b> and then divides the encrypted file into segments such that, even if some segments were to be lost, the encrypted file could be reconstructed and decrypted into file <b>220</b>.</p>
<p id="p-0032" num="0031">While the above descriptions have included the operation of the distributed storage management device <b>50</b> as an explicit computing device, in some embodiments the operations of the distributed storage management device <b>50</b> are performed by one or more server applications executing in a distributed fashion on one or more of the computing devices <b>10</b>, <b>20</b>, <b>30</b> and <b>40</b>. For example, using consensus algorithms, such as the known Paxos algorithms, computing devices <b>10</b>, <b>20</b>, <b>30</b> and <b>40</b> could independently maintain databases equivalent to the database <b>390</b>, such that, so long as a majority of the computing devices <b>10</b>, <b>20</b>, <b>30</b> and <b>40</b> remained operational, the overall system <b>370</b> could continue to function and continue to update the database appropriately.</p>
<p id="p-0033" num="0032">Referring next to <figref idref="DRAWINGS">FIG. 3</figref>, an exemplary block diagram illustrates the resource exchange system converting unreliable storage into reliable storage. The storage exchange system buys unreliable storage and produces reliable storage. Aspects of the invention find the optimal prices at which to buy each bundle from the suppliers and to find the optimal prices at which to sell bundles to the customers. Each user (e.g., consumer or supplier) has full control over how many resources to supply, and is simultaneously both a supplier and consumer. A particular supply of resources allows the user to consume a particular amount of resources (e.g., backup services) in exchange, defined via the current prices for all resources. Because each user has different preferences regarding the resources to supply and the resources to consume, each user supplies a different bundle of resources. For example, for every backup, there are multiple peers on the supplier side offering their resources and a single peer on the consumer side asking for these resources.</p>
<p id="p-0034" num="0033">Each peer on the supplier side is offering a different bundle of resources/services (i.e., different storage space, different availability, different bandwidth speeds) while each peer on the consumer side gets the same product (e.g., a backup service with the same reliability). Thus, embodiments of the invention use heterogeneous input goods and produce a homogeneous output good. In some embodiments, a bundle B=(s, bu, bd, a) where s is storage space (e.g., measured in quantity of fragments), bu is upload bandwidth (e.g., measured in KB/s), bd is download bandwidth (e.g., measured in KB/s), and a is a probability of being available (e.g., a value between zero and one where one corresponds to 24 hours/day).</p>
<p id="p-0035" num="0034">The user controls s, bd and bu explicitly via aspects of the invention by defining caps on the maximum supply of these resources. A user's availability, however, is determined over time depending on how long the user is online every day. In some embodiments, a user's bundle has four components while there are only three resources. The user gets paid for availability indirectly. The price a user is paid for storage is dependent on that user's availability. The price a user is paid for upload and download traffic is not dependent on availability, however, the user's bandwidth can be used if the user is available and thus the user can earn credits for bandwidth use when online.</p>
<p id="h-0007" num="0000">Operations</p>
<p id="p-0036" num="0035">In some embodiments, for every backed up file, five operations are performed by individual peers. During a backup operation, when the user initiates a new backup, file fragments are moved from the consumer to the suppliers. During a storage operation, the suppliers persistently store the fragments received on a hard drive or other storage medium. During a retrieval operation, when the user wants to retrieve a backup, file fragments are moved from the suppliers that previously stored the fragments to the consumer. During a testing operation, the system periodically checks each file fragment and determines whether it is still available on the supplier's machine. This is done by initiating the testing operation where one peer downloads the fragment from the supplier. During a repair operation, when a backup has been determined to be unhealthy (e.g., because too many fragments are no longer available or the availability of the suppliers has decreased), the backup is rejuvenated. This is done via the repair operation where a peer downloads fragments for reconstructing the backup, then creates new fragments using erasure coding, and then distributes the new fragments to new suppliers. Each of these operations uses a particular set of resources from the suppliers.</p>
<p id="p-0037" num="0036">As such, aspects of the disclosure are characterized by an asymmetry. For the user to back up 1 GB of data, the user stores more than 1 GB of data in exchange. For the bandwidth resources, the user backs up data once and retrieves it once, but the periodic testing and repair operations performed to maintain the health of the backup also consume bandwidth, even if those operations are not directly initiated by the consumer.</p>
<p id="p-0038" num="0037">
<tables id="TABLE-US-00002" num="00002">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE 2</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>Operations and their resources.</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="21pt" align="left"/>
<colspec colname="1" colwidth="70pt" align="left"/>
<colspec colname="2" colwidth="126pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>Operation</entry>
<entry>Resources Required from Suppliers</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry/>
<entry>1. Backup</entry>
<entry>Download Bandwidth</entry>
</row>
<row>
<entry/>
<entry>2. Storage</entry>
<entry>Space</entry>
</row>
<row>
<entry/>
<entry>3. Retrieval</entry>
<entry>Upload Bandwidth</entry>
</row>
<row>
<entry/>
<entry>4. Testing</entry>
<entry>Download and Upload Bandwidth</entry>
</row>
<row>
<entry/>
<entry>5. Repair</entry>
<entry>Download and Upload Bandwidth</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0039" num="0038">In some embodiments, the supplying peers provide their download bandwidth when a file is backed up, hard disk space to store the file, and upload bandwidth when the user wants to retrieve the backup.</p>
<p id="p-0040" num="0039">There is a correlation between the amounts of different resources from an individual peer. For example, the more backups an individual supplier has stored on a hard disk, the more often one of the corresponding consumers retrieves the backup and thus uses the supplier's upload bandwidth.</p>
<p id="p-0041" num="0040">Each user has different preferences regarding how much of each resource to supply. Some users are very constrained regarding the free space on a hard drive but might have a high bandwidth connection and would prefer to give up bandwidth rather than storage space. Other users might have very large hard drives but use their bandwidth for many other services like voice over Internet protocol (VOIP), file sharing, or the like. In some embodiments, the server has control over which peers a consumer uses for a retrieval operation. Thus, the server assigns more or less upload work to a particular supplier if desired. The testing and repair operations give the server another opportunity to optimize the resource usage for different peers. The server chooses who performs the testing and repair and thus the download bandwidth of that peer is used more or less. Embodiments optimize the resource usage based on the hotness or coldness of the backup data is known (e.g., whether the data is retrieved often or rarely). For example, a user who has a lot of space but would prefer not to give up much bandwidth would get more of the cold backups.</p>
<p id="h-0008" num="0000">User Interface</p>
<p id="p-0042" num="0041">Referring next to <figref idref="DRAWINGS">FIG. 4</figref>, an exemplary user interface illustrates entry of resource settings and corresponding available storage space. In general, the user interface has at least a first portion and a second portion. In the first portion, the user provides resource settings for each of a plurality of resources. The resource settings indicate portions or allocations of the resources made available to the resource exchange system. The provided resource settings are provided for display in the first portion of the user interface.</p>
<p id="p-0043" num="0042">The second portion shows how much of the resource the user gets (e.g., a resource balance) in return for the provided resource settings. The resource balance for the user is determined based on the resource settings. The calculated resource balance indicates the storage space available to the user in the resource exchange system. In some embodiments, the resource balance is calculated by calculating an average consumption of the resources, and a maximum consumption of the resources. The calculated resource balance is provided for display to the user in the second portion of the user interface.</p>
<p id="p-0044" num="0043">Via the first portion of the user interface, the user adjusts one or more of the resource settings. Responsive to the adjustment, the resource exchange system recalculates the resource balance and updates the displayed resource balance in the second portion of the user interface with the recalculated resource balance.</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 4</figref> displays a &#x201c;settings window&#x201d; that the user opens to control resources and look at a resource balance. This tab has two distinct areas in some embodiments. On the left side, the user controls resources and on the right side, the user sees the resource balance (e.g., the pie chart). On the left, for each of the resources, the user sets a maximum cap for that resource by moving the sliders to specify how much of that resource is to be maximally used from the user. That usage includes operations that use this peer as a supplier and operations where this peer is the consumer. The maximum value for these sliders is determined by embodiments of the disclosure. The maximum value for the storage space can be determined by looking at how much space is left on the user's hard drive for storing backups. The maximum values for upload and download bandwidth may be determined via a speed test or through direct user input. An alternative includes not displaying any maximum values and instead using a user interface for the sliders that lets the user choose the position without a maximum.</p>
<p id="p-0046" num="0045">When moving the sliders, the user's resource balance on the right side of the user interface increases or decreases. The current usage of resources is displayed (e.g., how much of those resources the user is currently supplying). For the caps, this includes both usages: those that are initiated by the user and those that are not. Those supply values are averaged over a time period (e.g., one month). For availability, the user does not have a slider but instead the average availability over the last month is measured or estimated and then displayed. The user clicks on the availability and a graph shows the amount of online backup space the user would get for each possible availability.</p>
<p id="p-0047" num="0046">The resource balance on the right side of the user interface is determined by two numbers, in some embodiments: 1) the user's current usage of storage (in GB) and 2) the storage space available to that user (in GB). The available storage space represents a prediction regarding how much more data that user could backup before hitting the resource caps taking into account that user's past behavior regarding the frequency of backup and retrieval operations. Intuitively, the distance between the bars and the sliders in the user interface represent the amount of resources the user is willing to supply but are currently unused. The resource balance pie chart on the right side of the user interface tries to aggregate all three resources into one resource (e.g., storage) if the user would increase his resource consumption.</p>
<p id="p-0048" num="0047">The user interface allows the user to see and experience current market prices simply by moving the sliders and looking at the pie chart. If the user moves the slider a little and the resource balance only moves a little, this means that the current price for that resource is relatively low. If the user moves another slider a little and the pie chart moves a lot, this implies that the current market price for that resource is relatively high. In the user interface, the account balance is the current number of credits the user has (e.g., negative or positive) which is close to zero. The resource balance includes two quantities: 1) the amount of data the user has backed up and 2) the amount of data the user could still back up given the current resource caps.</p>
<p id="p-0049" num="0048">If the user wants to specify the resource balance, without having to move all three sliders, the user directly adjusts or moves the pie chart. The user moves the line between the available space and the used space regions of the pie chart up or down. All three sliders are automatically moved proportionally to their original positions.</p>
<p id="p-0050" num="0049">Aspects of the disclosure are operable with multiple machines. For example, the user could use a home machine primarily for supplying resources, while using a laptop to backup personal data. To indicate to the user that the pie chart is an aggregated view based on all the machines, the user interface shows one tab for each of the machines. On each tab, the user can inspect and adjust the sliders for the particular machine.</p>
<p id="p-0051" num="0050">If the user keeps increasing one slider towards the maximum while the other two sliders are relatively low, the resource balance pie chart at some point stops increasing. For example, if the user limits upload bandwidth to 5 kbps, increasing space from 50 GB to 100 GB does not increase the maximum amount allowed to be consumes because the system would not store more than 100 GB on this user because 5 kbps would not be enough to have a reasonable retrieval rate. In the user interface, the area where the slider has an effect on the resource balance is shown as a thick black line. Once the user moves one slider beyond the point where the line is thick, the resource balance on the right does not change any more. Moreover, when the user moves one slider, the effective slider regions for the other resources (e.g., the thick lines) change accordingly. When one slider is moved up, the effective slider regions for the other two resources increase. When one slider is moved down, the effective slider regions for the other two resources decrease.</p>
<p id="p-0052" num="0051">In computing the resource balance, one or more variables are calculated by, for example, the server and sent to the client once a day. In the following definitions, S denotes space, U denotes upload bandwidth, D denotes download bandwidth and A denotes availability. Each user i knows how much data is backed up (e.g., compressed or uncompressed, before the data is streamed to the suppliers). This is represented by the variable consSi.</p>
<p id="p-0053" num="0052">For each user, the server determines how much of each resource that user has supplied over the last month and what the average availability was. This information is transmitted from the server to the user once a day via the following four variables: supplySi, supplyUi, supplyDi, supplyAi.</p>
<p id="p-0054" num="0053">The server knows exactly how much bandwidth was used on the supplier side (e.g., aggregated for all peers) over the last month and how much storage space is being used up on the suppliers. The following three variables denote this information: demandS, demandU, demandD. These variables are transmitted from the server to the client once a day.</p>
<p id="p-0055" num="0054">The server also transmits the &#x201c;time period&#x201d; over which the average supply variables and the demand variables were determined or measured.</p>
<p id="p-0056" num="0055">Via client software, the user controls the maximum amount of each resource that the user provides. The user sets maximum user caps on each resource that determines the following three variables: userCapSi, userCapUi, userCapDi. The user may set the userCap for each resource differently. The system determines the maximum caps that are taken into account for each resource as a function of the current userCaps: sysCapSi, sysCapUi, sysCapDi. In general, the sysCaps are a function of the userCaps and the flexibility of the system in assigning work to different peers. For each resource combination (e.g., six combinations in total) there is a &#x201c;slack factor&#x201d; greater than one that is multiplied with the resource ratio determined by system-wide demand. Each of these slack factors is determined (e.g., learned) by the server over time and transmitted to the client once a day. The following is an exemplary C# implementation of the method that computes the resource balance using the parameters described herein. The object &#x201c;sp&#x201d; holds the variables transmitted from the server:</p>
<p id="p-0057" num="0056">
<tables id="TABLE-US-00003" num="00003">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="14pt" align="left"/>
<colspec colname="1" colwidth="203pt" align="left"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>int userCapS = userSettings.MaxStorage;//in # of</entry>
</row>
<row>
<entry/>
<entry>fragments</entry>
</row>
<row>
<entry/>
<entry>int userCapU = (int) (userSettings.MaxBandwidthUp *</entry>
</row>
<row>
<entry/>
<entry>sp.MeasurementTimePeriod *</entry>
</row>
<row>
<entry/>
<entry>testAvailability / 64);//in # of fragments</entry>
</row>
<row>
<entry/>
<entry>int userCapD = (int) (userSettings.MaxBandwidthDown *</entry>
</row>
<row>
<entry/>
<entry>sp.MeasurementTimePeriod *</entry>
</row>
<row>
<entry/>
<entry>testAvailability / 64); //in # of fragments</entry>
</row>
<row>
<entry/>
<entry>double sysCapS = Math.Min(sp.slack1 * (sp.DemandStorage /</entry>
</row>
<row>
<entry/>
<entry>sp.DemandBandwidthUp) *</entry>
</row>
<row>
<entry/>
<entry>userCapU, sp.slack2 * (sp.DemandStorage /</entry>
</row>
<row>
<entry/>
<entry>sp.DemandBandwidthDown) * userCapD);</entry>
</row>
<row>
<entry/>
<entry>double sysCapU = Math.Min(sp.slack3 *</entry>
</row>
<row>
<entry/>
<entry>(sp.DemandBandwidthUp / sp.DemandStorage) *</entry>
</row>
<row>
<entry/>
<entry>userCapS, sp.slack4 * (sp.DemandBandwidthUp /</entry>
</row>
<row>
<entry/>
<entry>sp.DemandBandwidthDown) * userCapD);</entry>
</row>
<row>
<entry/>
<entry>double sysCapD = Math.Min(sp.slack5 *</entry>
</row>
<row>
<entry/>
<entry>(sp.DemandBandwidthDown / sp.DemandStorage) *</entry>
</row>
<row>
<entry/>
<entry>userCapS, sp.slack6 * (sp.DemandBandwidthDown /</entry>
</row>
<row>
<entry/>
<entry>sp.DemandBandwidthUp) * userCapU);</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0058" num="0057">Once the suppliers prices P<sup>S</sup><sub>X</sub>, all usages, all sysCaps and all userCaps have been determined, the following two values are determined in Equation (2):
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>maxConsumption<sub>i</sub><i>=P</i><sub>S</sub><sup>S</sup>(userCap<i>P</i><sub>i</sub>)&#xb7;min{userCap<i>S</i><sub>i,sys</sub>Cap<i>S</i><sub>i</sub><i>}+P</i><sub>U</sub><sup>S</sup>&#xb7;min{userCap<i>U</i><sub>i,sys</sub>Cap<i>U</i><sub>i</sub><i>}+P</i><sub>D</sub><sup>S</sup>&#xb7;min{userCap<i>U</i><sub>i,sys</sub>Cap<i>D</i><sub>i</sub>}avgConsumption<sub>i</sub><i>=P</i><sub>S</sub><sup>S</sup>(supply<i>P</i><sub>i</sub>)&#xb7;supply<i>S</i><sub>i</sub><i>+P</i><sub>U</sub><sup>S</sup>&#xb7;supply<i>U</i><sub>i</sub><i>+P</i><sub>D</sub><sup>S</sup>&#xb7;supply<i>D</i><sub>i</sub>&#x2003;&#x2003;(2)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0059" num="0058">An exemplary C# implementation is shown below.</p>
<p id="p-0060" num="0059">
<tables id="TABLE-US-00004" num="00004">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="14pt" align="left"/>
<colspec colname="1" colwidth="203pt" align="left"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>double maxConsumption =</entry>
</row>
<row>
<entry/>
<entry>GetAdjustedPrice(sp.PriceSupplyStorage, testAvailability)</entry>
</row>
<row>
<entry/>
<entry>*</entry>
</row>
<row>
<entry/>
<entry>Math.Min(userCapS, sysCapS)</entry>
</row>
<row>
<entry/>
<entry>+ sp.PriceSupplyBandwidthUp * Math.Min(userCapU, sysCapU)</entry>
</row>
<row>
<entry/>
<entry>+ sp.PriceSupplyBandwidthDown * Math.Min(userCapD,</entry>
</row>
<row>
<entry/>
<entry>sysCapD);</entry>
</row>
<row>
<entry/>
<entry>double avgConsumption =</entry>
</row>
<row>
<entry/>
<entry>GetAdjustedPrice(sp.PriceSupplyStorage,</entry>
</row>
<row>
<entry/>
<entry>sp.CurrentAvailability)</entry>
</row>
<row>
<entry/>
<entry>* MySupplyStorage</entry>
</row>
<row>
<entry/>
<entry>+ sp.PriceSupplyBandwidthUp * MySupplyBandwidthUp</entry>
</row>
<row>
<entry/>
<entry>+ sp.PriceSupplyBandwidthDown * MySupplyBandwidthDown;</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0061" num="0060">The variable &#x3b5; denotes the ratio of these two values which represents the percentage of how much of the maximum consumption user i is currently using, as shown in Equation (3) below.</p>
<p id="p-0062" num="0061">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>&#x25b;</mi>
        <mo>=</mo>
        <mfrac>
          <mi>avgConsumption</mi>
          <mi>maxConsumpion</mi>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0063" num="0062">Knowing &#x3b5;, the pie chart can be drawn. The annotations are determined, in some embodiments, for the used space and the free space. For the used space, the amount of storage space that the user currently consumes is displayed. For the free space, the amount of free space is calculated as shown in Equation (4) below.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>FreeSpace=1/&#x3b5;*UsedSpace&#x2003;&#x2003;(4)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0064" num="0063">An exemplary C# implementation is shown below.</p>
<p id="p-0065" num="0064">
<tables id="TABLE-US-00005" num="00005">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="14pt" align="left"/>
<colspec colname="1" colwidth="203pt" align="left"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>double resourceRatio = maxConsumption / avgConsumption;</entry>
</row>
<row>
<entry/>
<entry>ResourceBalance rb = new ResourceBalance( );</entry>
</row>
<row>
<entry/>
<entry>rb.CurrentStorage = sp.CurrentConsumptionStorage;</entry>
</row>
<row>
<entry/>
<entry>rb.MaxStorage = Math.Max(sp.CurrentConsumptionStorage *</entry>
</row>
<row>
<entry/>
<entry>resourceRatio,</entry>
</row>
<row>
<entry/>
<entry>sp.CurrentConsumptionStorage);</entry>
</row>
<row>
<entry/>
<entry>rb.sysCapStorage = sysCapS;</entry>
</row>
<row>
<entry/>
<entry>rb.sysCapBandwidthUp = sysCapU;</entry>
</row>
<row>
<entry/>
<entry>rb.sysCapBandwidthDown = sysCapD;</entry>
</row>
<row>
<entry/>
<entry>return rb;</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
<br/>
Handling Low Account Balances
</p>
<p id="p-0066" num="0065">The maximum deficit a user can take on is bounded but adaptive. The bound increases when a peer uses the system more (e.g., similar to a credit card line). However, for each user, there is a maximum bound at a pre-defined point in time. At that point, the system does not allow the user to backup any more files. Generally, a user's account balance can be in one of three states: healthy (e.g., balance close to zero or larger than zero), weak (e.g., balance quite negative, far from zero), and unhealthy (e.g., balance very far from zero, either close to the maximum deficit or equal to the maximum deficit). Handling a low account balance may be handled in one or more ways, alone or in combination. For example, when the user's account balance is weak or unhealthy, the system automatically sends an email alerting the user to increase the resource caps or to stay online longer. As another example, on the user interface, the user sees a current status in the form of a light where the colors green, orange, and red correspond to the three possible states of the account balance. As another example, next to the status light, a button is displayed for the user to click to automatically fix a bad balance (e.g., that automatically increases the resource caps proportionally to the current settings). In another example, the user selects (e.g., via checking a checkbox) that the client automatically increases the resource caps when the balance gets too low.</p>
<p id="h-0009" num="0000">Work Allocation</p>
<p id="p-0067" num="0066">Referring next to <figref idref="DRAWINGS">FIG. 5</figref>, an exemplary block diagram illustrates a computing device <b>502</b> having computer-executable components implementing aspects of the invention. The computing device <b>502</b> includes a processor <b>506</b> and a memory area <b>504</b>. The processor <b>506</b> is programmed to execute computer-executable instructions for implementing aspects of the disclosure. In some embodiments, the processor <b>506</b> is programmed to execute instructions such as those illustrated in the figures (e.g., <figref idref="DRAWINGS">FIG. 6</figref> and <figref idref="DRAWINGS">FIG. 7</figref>).</p>
<p id="p-0068" num="0067">In the example of <figref idref="DRAWINGS">FIG. 5</figref>, the memory area <b>504</b> is within the computing device <b>502</b>. However, the memory area <b>504</b> or any of the data stored thereon may be associated with any server or other computer, local or remote from the computing device <b>502</b> (e.g., accessible via a network).</p>
<p id="p-0069" num="0068">The memory area <b>504</b>, or other computer-readable media, stores resource prices <b>508</b> for a plurality of resources in a peer-to-peer resource exchange system. The resource exchange system includes consumers and suppliers. The memory area <b>504</b> further stores operation prices <b>510</b> for operations performed by the resource exchange system. The memory area <b>504</b> also stores a value representing an amount of data to be stored by the resource exchange system (not shown). The value represents the amount of the resource consumed by the consumer. The consumer is charged based on the current prices and the amount of resources the consumers consume or the operations the consumers perform.</p>
<p id="p-0070" num="0069">The memory area <b>504</b> further stores one or more computer-executable components. The components include, for example, an accounting component <b>512</b>, an interface component <b>514</b>, and an allocation component <b>516</b>. The accounting component <b>512</b> maintains one or more tables, databases, and/or queues of resource suppliers in the resource exchange system. Each of the queues corresponds to one of a plurality of the data operations to be performed in the resource exchange system. Each of the resource suppliers has an account balance corresponding thereto. In some embodiments, the accounting component orders the resource suppliers within the plurality of the queues based on the account balance corresponding to each of the resource suppliers. For example, the system maintains a queue of peers with a negative account balance, ordered such that the peers with the most negative account balance are at the top of the queue. For example, this is determined by looking at the difference of the user's current supply of each resource and the maximum cap put on each resource. When a new request comes in, the server assigns the work to the user at the top of the queue. While described with respect to a queue, the accounting component is operable with any form of data structure for storing and ordering requests for the data operations.</p>
<p id="p-0071" num="0070">The interface component <b>514</b> receives a request from the user. The request identifies at least one of the plurality of data operations to perform. The allocation component <b>516</b> identifies a plurality of the resource suppliers based at least on the data operation to perform and the account balance corresponding to each of the resource suppliers. For example, the resource suppliers may be identified based on one or more of the following: a geographical location of each of the resource suppliers, a time of day during which the resource suppliers are online, a computing system associated with each of the resource suppliers, and a network connection associated with each of the resource suppliers. In some embodiments, the allocation component <b>516</b> identifies the plurality of the resource suppliers by selecting the resource suppliers having the most negative account balances. In this manner, the allocation component <b>516</b> attempts to achieve equilibrium. For example, the server tries to allocate work to those users with the lowest account balances to drive the accounts to zero.</p>
<p id="p-0072" num="0071">The interface component <b>514</b> provides the identified plurality of the resource suppliers to the user. For example, a list of the resource suppliers is provided to the user in a user interface. The user selects at least one of the identified resource suppliers (e.g., to supply resources which are used to produce the operations that are then consumed by the user).</p>
<p id="p-0073" num="0072">In operation, for each operation, the server either gets to directly choose which peers act as suppliers or at least gets to suggest a list of potential suppliers. For backup operations, the server sends a list of peers to the consumer. The consumer contacts peers from that list to serve as suppliers for the backup operation. For storage operations, peers that received fragments in the backup operation serve as peers for the storage operation. For retrieval operations, the server sends a list of peers that have stored relevant fragments to the consumer. The consumer contacts peers from that list to serve as suppliers for the retrieval operation. For the testing operations, the server decides which peer downloads the fragment to be tested. For the repair operations, the server decides which peer downloads the fragments to be reconstructed. That peer receives a list of peers that are holding fragments of the file and the peer contacts peers from that list for the repair operation.</p>
<p id="p-0074" num="0073">Each operation in the market transfers credits from consumers to suppliers and potentially transfers some tax credits from consumers to the server. Because the users start out with a zero account balance, the sum of the account balances equals zero. For every user who has a positive account balance, at least one other user has a negative account balance. Over time, the balances are driven to approximately zero to so that the users can continue using the system (e.g., have enough credits to pay for new consumptions).</p>
<p id="h-0010" num="0000">Determining Operation and Resource Prices</p>
<p id="p-0075" num="0074">Referring next to <figref idref="DRAWINGS">FIG. 6</figref>, an exemplary flow chart illustrates determination of prices for operations to achieve equilibrium between operations prices and resource prices. In the example of <figref idref="DRAWINGS">FIG. 6</figref>, the resource is storage space. However, the operations illustrated in <figref idref="DRAWINGS">FIG. 6</figref> are applicable when exchanging other resources such as computation or bandwidth.</p>
<p id="p-0076" num="0075">At <b>602</b>, the resource prices and the size of the data to be stored by the resource exchange system are accessed. At <b>604</b>, an amount to charge one of the consumers for at least one of the operations is determined based at least on the size of the data to be stored and the operation price corresponding to the operations. The data from the consumer is stored in the resource exchange system. At <b>606</b>, a size of the data stored by the resource exchange system is determined. As described herein, the size of the data actually stored by the resource exchange system is greater than the size of the data to be stored by the resource exchange system (e.g., provided by the consumer).</p>
<p id="p-0077" num="0076">At <b>608</b>, an amount to pay the supplier(s) to perform the operation is determined based at least on the determined size of the stored data. At <b>610</b>, an amount to pay the consumer for use of the consumer's resources (e.g., upload and download bandwidth) is determined based on the determined size of the data stored.</p>
<p id="p-0078" num="0077">At <b>612</b>, an operation price for each of the operations is determined such that a total of the operation prices for operations performed by the resource exchange system equals a total of the resource prices for the supplied resources. The determination at <b>602</b> is performed based on, for example, the determined amount to pay the consumer and the determined amount to pay the supplier(s). In the example of <figref idref="DRAWINGS">FIG. 6</figref>, the system makes neither a profit nor a loss. In other embodiments, the system charges a tax or other fee on operations to allow the system to make a profit over time. In such embodiments, the operation prices and the resource prices are adjusted to generate a profit for the resource exchange system, as described herein.</p>
<p id="p-0079" num="0078">The determined amount to pay the suppliers and the determined amount to pay the consumer are represented by credits internal to the resource exchange system. In some embodiments, a conversion rate (e.g., stored by the memory area <b>504</b>) defines the relationship between the credits and currency external to the resource exchange system. In this manner, consumers can buy resources with dollars instead of bartering resources. Similarly, consumers can earn dollars by offering resources.</p>
<p id="p-0080" num="0079">In some embodiments, each of the operations has an operation type associated therewith. Aspects of the disclosure balance the operation prices with the resource prices for each operation type. For example, the resource exchange system determines the operation price for each of the operations of a same operation type such that the total of the operation prices for performed operations of the same operation type equals the total of the resource prices for the supplied resources.</p>
<p id="p-0081" num="0080">The payments may be instantaneous, continuous, or daily. For example, the user can be paid a) immediately after an operation finished, b) once a day, or c) in the middle of ongoing operations (e.g., when partial logs about the operation are reported to the server). For backup and retrieval operations, the user may be paid immediately after the operation has finished. For storage operations, the user may be paid once a day.</p>
<p id="p-0082" num="0081">Examples and a further description of <figref idref="DRAWINGS">FIG. 6</figref> are next described. The original file size (e.g., k fragments) is known to the server as well as the backed up file size (e.g., measured in fragments, n). The users are charged for all operations based on k and paid based on n. To determine n, the peer reports where the fragments are stored to the server after a backup operation completes so that the user will be able to retrieve the fragments when appropriate. However, k is simply reported from the user to the server. To prevent fraud, when a backup completes, a heuristic check may be performed to determine whether the n and k have an unreasonable ratio. In addition, when a user retrieves a backup and requests significantly more than k decryption keys from the server, this is an indication of possible fraud. If either fraud prevention test is positive, the server asks a peer to reconstruct the file based on the number of fragments stored on the suppliers to determine whether k was reported truthfully or not.</p>
<p id="p-0083" num="0082">The ratio of n to k can vary significantly from backup to backup because of the different availabilities of the peers that the consumer happens to get as suppliers (and that are currently online). As such, embodiments of the invention pay the consumer for the usage of the user's resources (e.g., upload bandwidth for a backup operation and download bandwidth for a retrieval operation). In such embodiments, the consumer pays for an operation based on an original file size k. The consumer is paid for the usage of the consumer's resources involved in the operation, based on n. The suppliers are paid for the usage of their resources based on n. The payments back to the consumer as treated as paying the supplier. Thus, for a backup operation, the suppliers are paid for their download bandwidth and the consumer is paid for upload bandwidth. Even though the consumer is paid for using the consumer's resources, the total payment for an operation is generally positive.</p>
<p id="p-0084" num="0083">If the consumer uses low-availability peers in a backup operation and is thus paid a large amount for the usage of the consumer's resources, the systems reacts by assigning less work (e.g., testing or repair work) to that same consumer in the future.</p>
<p id="p-0085" num="0084">An example of a perfectly balanced pricing system (e.g., no profit or loss) is next described.</p>
<p id="p-0086" num="0085">
<tables id="TABLE-US-00006" num="00006">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE 3</entry>
</row>
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>Example notation for resource and operation prices.</entry>
</row>
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="21pt" align="left"/>
<colspec colname="1" colwidth="49pt" align="left"/>
<colspec colname="2" colwidth="147pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>p<sub>S</sub></entry>
<entry>The price for storage.</entry>
</row>
<row>
<entry/>
<entry>p<sub>U</sub></entry>
<entry>The price for upload bandwidth</entry>
</row>
<row>
<entry/>
<entry>p<sub>D</sub></entry>
<entry>The price for download bandwidth</entry>
</row>
<row>
<entry/>
<entry>p<sub>B</sub></entry>
<entry>The price for a backup operation.</entry>
</row>
<row>
<entry/>
<entry>p<sub>SO</sub></entry>
<entry>The price for a storage operation.</entry>
</row>
<row>
<entry/>
<entry>p<sub>R</sub></entry>
<entry>The price for a retrieval operation.</entry>
</row>
<row>
<entry/>
<entry>k<sup>B</sup><sub>i</sub></entry>
<entry>The number of fragments of the files that</entry>
</row>
<row>
<entry/>
<entry/>
<entry>user i backed up.</entry>
</row>
<row>
<entry/>
<entry>k<sup>R</sup><sub>i</sub></entry>
<entry>The number of fragments of the files that</entry>
</row>
<row>
<entry/>
<entry/>
<entry>user i retrieved.</entry>
</row>
<row>
<entry/>
<entry>k<sup>S</sup><sub>i</sub></entry>
<entry>The number of fragments of the files that</entry>
</row>
<row>
<entry/>
<entry/>
<entry>are stored for user i.</entry>
</row>
<row>
<entry/>
<entry>n<sup>S</sup><sub>i</sub></entry>
<entry>The number of fragments user i stored.</entry>
</row>
<row>
<entry/>
<entry>n<sup>U</sup><sub>i</sub></entry>
<entry>The number of fragments user i uploaded.</entry>
</row>
<row>
<entry/>
<entry>n<sup>D</sup><sub>i</sub></entry>
<entry>The number of fragments user i</entry>
</row>
<row>
<entry/>
<entry/>
<entry>downloaded</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0087" num="0086">The variables are measured over the time period of one day, in some embodiments. At the end of the day, the system charges users, makes payments and updates the account balances. The consumer is charged as shown in Equation (5).
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>k</i><sub>i</sub><sup>B</sup><i>&#xb7;p</i><sub>B</sub><i>+k</i><sub>i</sub><sup>R</sup><i>&#xb7;p</i><sub>R</sub><i>+k</i><sub>i</sub><sup>S</sup><i>&#xb7;p</i><sub>SO</sub>&#x2003;&#x2003;(5)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0088" num="0087">The supplier is paid as shown in Equation (6).
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>n</i><sub>i</sub><sup>U</sup><i>&#xb7;p</i><sub>U</sub><i>+n</i><sub>i</sub><sup>D</sup><i>&#xb7;p</i><sub>D</sub><i>+n</i><sub>i</sub><sup>S</sup><i>&#xb7;p</i><sub>S</sub>&#xb7;adjust(<i>a</i><sub>i</sub>)&#x2003;&#x2003;(6)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0089" num="0088">The price for storage is adjusted for each user according to that user's availability. The lower the user's availability the less the system pays per fragment stored. For example, the adjustment may simply be a multiplication with that user's availability. However, because the relationship between the user's contribution and the user's availability is not linear, a look-up table for adjustment factors may be employed. For each availability, the table provides an adjustment factor (e.g., less than 1).</p>
<p id="p-0090" num="0089">The resource prices pD, pU and pS are market prices and updated regularly. Aspects of the invention determine the operation prices pB, pR and pSO such that the aggregate resource cost equals the aggregate operation cost. An exemplary balance equation is shown in Equation (7) below.</p>
<p id="p-0091" num="0090">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mrow>
            <munder>
              <mo>&#x2211;</mo>
              <mi>i</mi>
            </munder>
            <mo>&#x2062;</mo>
            <mrow>
              <msubsup>
                <mi>k</mi>
                <mi>i</mi>
                <mi>B</mi>
              </msubsup>
              <mo>&#xb7;</mo>
              <msub>
                <mi>p</mi>
                <mi>B</mi>
              </msub>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <msubsup>
              <mi>k</mi>
              <mi>i</mi>
              <mi>R</mi>
            </msubsup>
            <mo>&#xb7;</mo>
            <msub>
              <mi>p</mi>
              <mi>R</mi>
            </msub>
          </mrow>
          <mo>+</mo>
          <mrow>
            <msubsup>
              <mi>k</mi>
              <mi>i</mi>
              <mi>S</mi>
            </msubsup>
            <mo>&#xb7;</mo>
            <msub>
              <mi>p</mi>
              <mi>SO</mi>
            </msub>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <munder>
              <mo>&#x2211;</mo>
              <mi>i</mi>
            </munder>
            <mo>&#x2062;</mo>
            <mrow>
              <msubsup>
                <mi>n</mi>
                <mi>i</mi>
                <mi>U</mi>
              </msubsup>
              <mo>&#xb7;</mo>
              <msub>
                <mi>p</mi>
                <mi>U</mi>
              </msub>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <msubsup>
              <mi>n</mi>
              <mi>i</mi>
              <mi>D</mi>
            </msubsup>
            <mo>&#xb7;</mo>
            <msub>
              <mi>p</mi>
              <mi>D</mi>
            </msub>
          </mrow>
          <mo>+</mo>
          <mrow>
            <msubsup>
              <mi>n</mi>
              <mi>i</mi>
              <mi>S</mi>
            </msubsup>
            <mo>&#xb7;</mo>
            <msub>
              <mi>p</mi>
              <mi>S</mi>
            </msub>
            <mo>&#xb7;</mo>
            <mrow>
              <mi>adjust</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <msub>
                  <mi>a</mi>
                  <mi>i</mi>
                </msub>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>7</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0092" num="0091">From Equation (7), to balance the left and right side, the corresponding aggregate values are considered. The following three variables are defined for the consumer side in Equations (8), (9), and (10).</p>
<p id="p-0093" num="0092">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>K</mi>
          <mi>B</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <munder>
            <mo>&#x2211;</mo>
            <mi>i</mi>
          </munder>
          <mo>&#x2062;</mo>
          <msubsup>
            <mi>k</mi>
            <mi>i</mi>
            <mi>B</mi>
          </msubsup>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>8</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>K</mi>
          <mi>R</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <munder>
            <mo>&#x2211;</mo>
            <mi>i</mi>
          </munder>
          <mo>&#x2062;</mo>
          <msubsup>
            <mi>k</mi>
            <mi>i</mi>
            <mi>R</mi>
          </msubsup>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>9</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>K</mi>
          <mi>S</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <munder>
            <mo>&#x2211;</mo>
            <mi>i</mi>
          </munder>
          <mo>&#x2062;</mo>
          <msubsup>
            <mi>k</mi>
            <mi>i</mi>
            <mi>S</mi>
          </msubsup>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>10</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0094" num="0093">The following three variables are defined for the supplier side in Equations (11), (12), and (13).</p>
<p id="p-0095" num="0094">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>N</mi>
          <mi>U</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <munder>
            <mo>&#x2211;</mo>
            <mi>i</mi>
          </munder>
          <mo>&#x2062;</mo>
          <msubsup>
            <mi>n</mi>
            <mi>i</mi>
            <mi>U</mi>
          </msubsup>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>11</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>N</mi>
          <mi>D</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <munder>
            <mo>&#x2211;</mo>
            <mi>i</mi>
          </munder>
          <mo>&#x2062;</mo>
          <msubsup>
            <mi>n</mi>
            <mi>i</mi>
            <mi>D</mi>
          </msubsup>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>12</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msubsup>
          <mi>N</mi>
          <mi>S</mi>
          <mi>a</mi>
        </msubsup>
        <mo>=</mo>
        <mrow>
          <munder>
            <mo>&#x2211;</mo>
            <mi>i</mi>
          </munder>
          <mo>&#x2062;</mo>
          <mrow>
            <msubsup>
              <mi>n</mi>
              <mi>i</mi>
              <mi>S</mi>
            </msubsup>
            <mo>&#xb7;</mo>
            <mrow>
              <mi>adjust</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <msub>
                  <mi>a</mi>
                  <mi>i</mi>
                </msub>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>13</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0096" num="0095">The balance equation may be rewritten as shown in Equation (14).
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>K</i><sub>B</sub><i>&#xb7;p</i><sub>B</sub><i>+K</i><sub>R</sub><i>&#xb7;p</i><sub>R</sub><i>+K</i><sub>S</sub><i>&#xb7;p</i><sub>SO</sub>=<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>N</i><sub>U</sub><i>&#xb7;p</i><sub>U</sub><i>+N</i><sub>D</sub><i>&#xb7;p</i><sub>D</sub><i>+N</i><sub>S</sub><sup>S</sup><i>&#xb7;p</i><sub>s</sub>&#x2003;&#x2003;(14)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0097" num="0096">The balancing equation in Equation (14) includes choices for how to price the operations (e.g., backup, storage and retrieval). In some embodiments, the prices balance per operation type. The amount charged to consumers for a particular type of operation equals the amount paid to suppliers for that type of operation. For example, when pricing the backup operation, the current market prices for upload and download bandwidth, and how much bandwidth was actually consumed and supplied for all backup operations are considered.</p>
<p id="p-0098" num="0097">To price individual operations, aspects of the disclosure further differentiate for the supply variables for which operation each resource was used. The variable B is for backup, R is for retrieval, and T/R is for testing and repair, as shown in Equation (15) and (16) below.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>N</i><sub>U</sub><i>=N</i><sub>U,B</sub><i>+N</i><sub>U,R</sub><i>+N</i><sub>U,T/R</sub>&#x2003;&#x2003;(15)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where N<sub>U,B </sub>is the number of fragments that all users uploaded for backup operations, N<sub>U,R </sub>is the number of fragments that all users uploaded for retrieval operations, and N<sub>U,T/R </sub>is the number of fragments that all users uploaded for testing or repair operations.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>N</i><sub>D</sub><i>=N</i><sub>D,B</sub><i>+N</i><sub>D,R</sub><i>+N</i><sub>D,T/R</sub>&#x2003;&#x2003;(16)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where N<sub>D,B </sub>is the number of fragments that all users downloaded for backup operations, N<sub>D,R </sub>is the number of fragments that all users downloaded for retrieval operations, and N<sub>D,T/R </sub>is the number of fragments that all users downloaded for testing/repair operations.
</p>
<p id="p-0099" num="0098">In some embodiments, N<sub>U,B</sub>=N<sub>D,B</sub>. The number of fragments that were uploaded for backup operations equals the number of operations that were downloaded for backup operations. The analogous equivalence holds true for the retrieval operation: N<sub>U,R</sub>=N<sub>D,R </sub>and for testing and repair N<sub>U,T/R</sub>=N<sub>D,T/R</sub>. Equations (17), (18), (19), and (20) are shown below.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>N</i><sub>B</sub><i>=N</i><sub>U,B</sub><i>=N</i><sub>D,B</sub>&#x2003;&#x2003;(17)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>N</i><sub>R</sub><i>=N</i><sub>U,R</sub><i>=N</i><sub>D,R</sub>&#x2003;&#x2003;(18)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>N</i><sub>T/R</sub><i>=N</i><sub>U,T/R</sub><i>=N</i><sub>D,T/R</sub>&#x2003;&#x2003;(19)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0100" num="0099">
<maths id="MATH-US-00006" num="00006">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>N</mi>
          <mi>S</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <msubsup>
            <mi>N</mi>
            <mi>S</mi>
            <mi>a</mi>
          </msubsup>
          <mo>=</mo>
          <mrow>
            <munder>
              <mo>&#x2211;</mo>
              <mi>i</mi>
            </munder>
            <mo>&#x2062;</mo>
            <mrow>
              <msubsup>
                <mi>n</mi>
                <mi>i</mi>
                <mi>S</mi>
              </msubsup>
              <mo>&#xb7;</mo>
              <mrow>
                <mi>adjust</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <msub>
                    <mi>a</mi>
                    <mi>i</mi>
                  </msub>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>20</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0101" num="0100">For a backup operation, the price is determined as shown in Equation (21) below.</p>
<p id="p-0102" num="0101">
<maths id="MATH-US-00007" num="00007">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>K</mi>
            <mi>B</mi>
          </msub>
          <mo>&#xb7;</mo>
          <msub>
            <mi>p</mi>
            <mi>B</mi>
          </msub>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mrow>
              <mrow>
                <msub>
                  <mi>N</mi>
                  <mrow>
                    <mi>U</mi>
                    <mo>,</mo>
                    <mi>B</mi>
                  </mrow>
                </msub>
                <mo>&#xb7;</mo>
                <msub>
                  <mi>p</mi>
                  <mi>U</mi>
                </msub>
              </mrow>
              <mo>+</mo>
              <mrow>
                <msub>
                  <mi>N</mi>
                  <mrow>
                    <mi>D</mi>
                    <mo>,</mo>
                    <mi>B</mi>
                  </mrow>
                </msub>
                <mo>&#xb7;</mo>
                <msub>
                  <mi>p</mi>
                  <mi>D</mi>
                </msub>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>
</mtext>
            </mstyle>
            <mo>&#x21d4;</mo>
            <mrow>
              <msub>
                <mi>K</mi>
                <mi>B</mi>
              </msub>
              <mo>&#xb7;</mo>
              <msub>
                <mi>p</mi>
                <mi>B</mi>
              </msub>
            </mrow>
          </mrow>
          <mo>=</mo>
          <mrow>
            <mrow>
              <mrow>
                <msub>
                  <mi>N</mi>
                  <mi>B</mi>
                </msub>
                <mo>&#xb7;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <msub>
                      <mi>p</mi>
                      <mi>U</mi>
                    </msub>
                    <mo>+</mo>
                    <msub>
                      <mi>p</mi>
                      <mi>D</mi>
                    </msub>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>&#x2062;</mo>
              <mstyle>
                <mtext>
</mtext>
              </mstyle>
              <mo>&#x21d4;</mo>
              <msub>
                <mi>p</mi>
                <mi>B</mi>
              </msub>
            </mrow>
            <mo>=</mo>
            <mrow>
              <mfrac>
                <msub>
                  <mi>N</mi>
                  <mi>B</mi>
                </msub>
                <msub>
                  <mi>K</mi>
                  <mi>B</mi>
                </msub>
              </mfrac>
              <mo>&#xb7;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <msub>
                    <mi>p</mi>
                    <mi>U</mi>
                  </msub>
                  <mo>+</mo>
                  <msub>
                    <mi>p</mi>
                    <mi>D</mi>
                  </msub>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>21</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0103" num="0102">For a retrieval operation, the price is determined as shown in Equation (22) below.</p>
<p id="p-0104" num="0103">
<maths id="MATH-US-00008" num="00008">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>K</mi>
            <mi>R</mi>
          </msub>
          <mo>&#xb7;</mo>
          <msub>
            <mi>p</mi>
            <mi>R</mi>
          </msub>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mrow>
              <mrow>
                <msub>
                  <mi>N</mi>
                  <mrow>
                    <mi>U</mi>
                    <mo>,</mo>
                    <mi>R</mi>
                  </mrow>
                </msub>
                <mo>&#xb7;</mo>
                <msub>
                  <mi>p</mi>
                  <mi>U</mi>
                </msub>
              </mrow>
              <mo>+</mo>
              <mrow>
                <msub>
                  <mi>N</mi>
                  <mrow>
                    <mi>D</mi>
                    <mo>,</mo>
                    <mi>R</mi>
                  </mrow>
                </msub>
                <mo>&#xb7;</mo>
                <msub>
                  <mi>p</mi>
                  <mi>D</mi>
                </msub>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>
</mtext>
            </mstyle>
            <mo>&#x21d4;</mo>
            <mrow>
              <msub>
                <mi>K</mi>
                <mi>R</mi>
              </msub>
              <mo>&#xb7;</mo>
              <msub>
                <mi>p</mi>
                <mi>R</mi>
              </msub>
            </mrow>
          </mrow>
          <mo>=</mo>
          <mrow>
            <mrow>
              <mrow>
                <msub>
                  <mi>N</mi>
                  <mi>R</mi>
                </msub>
                <mo>&#xb7;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <msub>
                      <mi>p</mi>
                      <mi>U</mi>
                    </msub>
                    <mo>+</mo>
                    <msub>
                      <mi>p</mi>
                      <mi>D</mi>
                    </msub>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>&#x2062;</mo>
              <mstyle>
                <mtext>
</mtext>
              </mstyle>
              <mo>&#x21d4;</mo>
              <msub>
                <mi>p</mi>
                <mi>R</mi>
              </msub>
            </mrow>
            <mo>=</mo>
            <mrow>
              <mfrac>
                <msub>
                  <mi>N</mi>
                  <mi>R</mi>
                </msub>
                <msub>
                  <mi>K</mi>
                  <mi>R</mi>
                </msub>
              </mfrac>
              <mo>&#xb7;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <msub>
                    <mi>p</mi>
                    <mi>U</mi>
                  </msub>
                  <mo>+</mo>
                  <msub>
                    <mi>p</mi>
                    <mi>D</mi>
                  </msub>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>22</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0105" num="0104">For the retrieval operation, the number of fragments of the file the consumer wants to download and the number of fragments that the suppliers supply are almost equal.</p>
<p id="p-0106" num="0105">For a store operation, continuous costs are taken into account (e.g., storage, periodic testing and periodic repair), as shown in Equation (23) below.</p>
<p id="p-0107" num="0106">
<maths id="MATH-US-00009" num="00009">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>K</mi>
            <mi>S</mi>
          </msub>
          <mo>&#xb7;</mo>
          <msub>
            <mi>p</mi>
            <mi>SO</mi>
          </msub>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mrow>
              <mrow>
                <msub>
                  <mi>N</mi>
                  <mi>S</mi>
                </msub>
                <mo>&#xb7;</mo>
                <msub>
                  <mi>p</mi>
                  <mi>S</mi>
                </msub>
              </mrow>
              <mo>+</mo>
              <mrow>
                <msub>
                  <mi>N</mi>
                  <mrow>
                    <mi>T</mi>
                    <mo>/</mo>
                    <mi>R</mi>
                  </mrow>
                </msub>
                <mo>&#xb7;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <msub>
                      <mi>p</mi>
                      <mi>U</mi>
                    </msub>
                    <mo>+</mo>
                    <msub>
                      <mi>p</mi>
                      <mi>D</mi>
                    </msub>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>
</mtext>
            </mstyle>
            <mo>&#x21d4;</mo>
            <msub>
              <mi>p</mi>
              <mi>SO</mi>
            </msub>
          </mrow>
          <mo>=</mo>
          <mrow>
            <mrow>
              <mfrac>
                <msub>
                  <mi>N</mi>
                  <mi>S</mi>
                </msub>
                <msub>
                  <mi>K</mi>
                  <mi>S</mi>
                </msub>
              </mfrac>
              <mo>&#xb7;</mo>
              <msub>
                <mi>p</mi>
                <mi>S</mi>
              </msub>
            </mrow>
            <mo>+</mo>
            <mrow>
              <mfrac>
                <msub>
                  <mi>N</mi>
                  <mrow>
                    <mi>T</mi>
                    <mo>/</mo>
                    <mi>R</mi>
                  </mrow>
                </msub>
                <msub>
                  <mi>K</mi>
                  <mi>S</mi>
                </msub>
              </mfrac>
              <mo>&#xb7;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <msub>
                    <mi>p</mi>
                    <mi>U</mi>
                  </msub>
                  <mo>+</mo>
                  <msub>
                    <mi>p</mi>
                    <mi>D</mi>
                  </msub>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>23</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0108" num="0107">In embodiments in which a tax is charged, the following amount is charged and the payments to the suppliers are left unchanged, as shown in Equation (24).
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>k</i><sub>i</sub><sup>B</sup><i>&#xb7;p</i><sub>B</sub>&#xb7;(1+tax<sub>B</sub>)+<i>k</i><sub>i</sub><sup>R</sup><i>&#xb7;p</i><sub>R</sub>&#xb7;(1+tax<sub>R</sub>)+<i>k</i><sub>i</sub><sup>S</sup><i>&#xb7;p</i><sub>SO</sub>&#xb7;(1+tax<sub>S</sub>)&#x2003;&#x2003;(24)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0109" num="0108">The additional income is paid to the server's account, as shown in Equation (25) below.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>k</i><sub>i</sub><sup>B</sup><i>&#xb7;p</i><sub>B</sub>&#xb7;tax<sub>B</sub><i>+k</i><sub>i</sub><sup>R</sup><i>&#xb7;p</i><sub>R</sub>&#xb7;tax<sub>R</sub><i>+k</i><sub>i</sub><sup>S</sup><i>&#xb7;p</i><sub>SO</sub>&#xb7;tax<sub>S</sub>&#x2003;&#x2003;(25)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0110" num="0109">The server's profit is shown in Equation (26) below.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>K</i><sub>B</sub><i>&#xb7;p</i><sub>B</sub>&#xb7;tax<sub>B</sub><i>+K</i><sub>R</sub><i>&#xb7;p</i><sub>R</sub>&#xb7;tax<sub>R</sub><i>+K</i><sub>S</sub><i>&#xb7;p</i><sub>SO</sub>&#xb7;tax<sub>S</sub>&#x2003;&#x2003;(26)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0111" num="0110">In general, the tax variables can be chosen arbitrarily from [&#x2212;1,&#x221e;]. A negative tax corresponds to a subsidization of the market, e.g., the server is pumping money into the market that may occur to attract customers. The higher the tax, the more costly are the individual operations for the consumers. The consumers have to supply more of their own resources in return for their consumption.</p>
<p id="p-0112" num="0111">While the taxing system allows perfect balancing (e.g., the sum of all user account balances plus the server's account balance equals zero), it is not too rigid for the server to react to certain demands on a secondary market spontaneously. In particular, the server does not have to first charge taxes for a while before the tax revenue can be used to buy services and sell them on the secondary market. Instead, the server may take on a deficit. Thus, at any point in time, the server can act as a regular consumer, initiate operations (e.g., backup for a user from a secondary market), and pay for operations. If the server does not have enough credits on the server's account balance, the balance becomes negative.</p>
<p id="p-0113" num="0112">In some embodiments, user accounts are not updated for 24 hours. Thus, if the user has a negative balance, it remains negative for 24 hours even if that user has already done much more work than needed to get the balance into the positive area. The same holds true for the user who has a positive balance and starts consuming. The server does not assign any work to that user for 24 hours (e.g., before the account is updated and the server notices that it is negative). In such embodiments, a temporary balance is maintained. Every time the user's account balance is updated, the temporary balance is set equal to the real balance. Then, during the day, after an operation is finished, the user's temporary balance is immediately updated using the last set of prices calculated. This puts the user who has done a lot of work out of the supplier queue and the user who has been consuming a lot into the supplier queue. In some embodiments, within one day the temporary balance and the regular account balance do not diverge too much such that the work allocation method can be based on the temporary balance.</p>
<p id="h-0011" num="0000">Price Updates</p>
<p id="p-0114" num="0113">Referring next to <figref idref="DRAWINGS">FIG. 7</figref>, an exemplary flow chart illustrates determination of price updates for the resources. At <b>702</b>, a supply of the resources is determined. At <b>704</b>, a demand for each of the resources is determined. At <b>706</b>, a plurality of previous prices for the resources is accessed. At <b>708</b>, a ratio of the determined supply to the determined demand is defined for each of the resources. At <b>710</b>, the resource price for each of the resources is calculated based on the accessed prices and defined ratios. The resource prices are calculated such that the defined ratios for each of the resources are equal.</p>
<p id="p-0115" num="0114">In an example operation, the market prices for the resources (e.g., storage, upload, and download bandwidth) are updated when the supply and demand changes. The following notation is shown for the three prices: pS represents the price for storage, pU is the price for upload bandwidth, and pD is the price for download bandwidth. The whole price vector is represented as {right arrow over (p)} gas shown in the Equation (27) below.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>{right arrow over (p)}</i>=(<i>p</i><sub>S</sub><i>,p</i><sub>U</sub><i>,p</i><sub>D</sub>)&#x2003;&#x2003;(27)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0116" num="0115">Aspects of the disclosure measure user i's usage of a resource X via the variable supplyXi. The total demand in the system for resource X is the sum of the users' supply of that resource. The maximum amount of resource X that user i is willing to supply is captured via the variable sysCapXi. The system-wide supply of resource X is thus the sum of all sysCaps. Thus, the system-wide notions of supply and demand given a particular price vector {right arrow over (p)} are described in the following Equations (28) and (29).</p>
<p id="p-0117" num="0116">
<maths id="MATH-US-00010" num="00010">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>Demand</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>:</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mrow>
            <msub>
              <mi>d</mi>
              <mi>X</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mover>
                <mi>p</mi>
                <mo>-&#x3e;</mo>
              </mover>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <munder>
            <mo>&#x2211;</mo>
            <mi>i</mi>
          </munder>
          <mo>&#x2062;</mo>
          <mrow>
            <mi>supply</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mrow>
              <msub>
                <mi>X</mi>
                <mi>i</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mover>
                  <mi>p</mi>
                  <mo>-&#x3e;</mo>
                </mover>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>28</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>Supply</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>:</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mrow>
            <msub>
              <mi>s</mi>
              <mi>X</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mover>
                <mi>p</mi>
                <mo>-&#x3e;</mo>
              </mover>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <munder>
            <mo>&#x2211;</mo>
            <mi>i</mi>
          </munder>
          <mo>&#x2062;</mo>
          <mrow>
            <msub>
              <mi>sysCapX</mi>
              <mi>i</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mover>
                <mi>p</mi>
                <mo>-&#x3e;</mo>
              </mover>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>29</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0118" num="0117">In some embodiments, the aggregate demand function is generally price-inelastic. That is, the consumer behavior does not change significantly as prices change, while the aggregate supply function is price elastic. That is, as resource prices change, the users change their user caps and thus aggregate supply changes.</p>
<p id="p-0119" num="0118">The aggregate supply function is relatively price-elastic. In some embodiments, a significant subset of users has a price-elastic supply function. The users adjust their resource caps when prices change. For this to happen, the user opens a settings tab in the user interface, moves the individual sliders to see the current market prices, and then adjust the sliders to a new position, according to the current price vector.</p>
<p id="p-0120" num="0119">Price changes influence supply. When prices increase for one resource, the supply of that resource goes up and the supply of the other resources goes down (e.g., the gross substitutes condition). When prices are updated, the buffer for some resources increases and decreases for others. Aspects of the disclosure maximize the minimum buffer between supply and demand for any resource. An equilibrium, in some embodiments, is the price vector {right arrow over (p)}, an aggregate supply vector s({right arrow over (p)})=s<sub>S</sub>({right arrow over (p)}), s<sub>U</sub>({right arrow over (p)}), s<sub>D</sub>({right arrow over (p)}), and aggregate demand d({right arrow over (p)})=d<sub>S</sub>({right arrow over (p)}), d<sub>U</sub>({right arrow over (p)}), d<sub>D</sub>({right arrow over (p)}) such that equilibrium occurs as shown in Equation (30) below. The buffer between aggregate demand and aggregate supply is the same for each resource.</p>
<p id="p-0121" num="0120">
<maths id="MATH-US-00011" num="00011">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <mrow>
            <msub>
              <mi>s</mi>
              <mi>S</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mover>
                <mi>p</mi>
                <mo>&#x2192;</mo>
              </mover>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mrow>
            <msub>
              <mi>d</mi>
              <mi>S</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mover>
                <mi>p</mi>
                <mo>&#x2192;</mo>
              </mover>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mfrac>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mrow>
              <msub>
                <mi>s</mi>
                <mi>U</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mover>
                  <mi>p</mi>
                  <mo>&#x2192;</mo>
                </mover>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mrow>
              <msub>
                <mi>d</mi>
                <mi>U</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mover>
                  <mi>p</mi>
                  <mo>&#x2192;</mo>
                </mover>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mfrac>
          <mo>=</mo>
          <mfrac>
            <mrow>
              <msub>
                <mi>s</mi>
                <mi>D</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mover>
                  <mi>p</mi>
                  <mo>&#x2192;</mo>
                </mover>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mrow>
              <msub>
                <mi>d</mi>
                <mi>D</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mover>
                  <mi>p</mi>
                  <mo>&#x2192;</mo>
                </mover>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>30</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0122" num="0121">Instead of searching for the equilibrium price vector in three dimensions (e.g., R<sup>3</sup>), aspects of the disclosure look at the projective space R<img id="CUSTOM-CHARACTER-00001" he="3.13mm" wi="2.12mm" file="US08626566-20140107-P00001.TIF" alt="custom character" img-content="character" img-format="tif"/><sup>2 </sup>as shown in Equation (31) below.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>RP</i><sup>2</sup>:=((<i>p</i><sub>S</sub><i>,p</i><sub>U</sub><i>,p</i><sub>D</sub>)&#x3b5;<i>R</i><sup>3</sup>\{0})/&#x2dc;,<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>with(<i>p</i><sub>S</sub><i>,p</i><sub>U</sub><i>,p</i><sub>D</sub>)&#x2dc;&#x3bb;(<i>p</i><sub>S</sub><i>,p</i><sub>U</sub><i>,p</i><sub>D</sub>)&#x2200;&#x3bb;&#x3b5;<i>R</i><sup>+</sup>&#x2003;&#x2003;(31)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0123" num="0122">If the price of one arbitrary good (e.g., the numeraire) is fixed at one, and the price of storage space is set to one, the price vector may be represented with homogenous coordinates as shown in Equation (32) below.</p>
<p id="p-0124" num="0123">
<maths id="MATH-US-00012" num="00012">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mover>
          <mi>p</mi>
          <mo>&#x2192;</mo>
        </mover>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mo>(</mo>
            <mrow>
              <msub>
                <mi>p</mi>
                <mi>S</mi>
              </msub>
              <mo>,</mo>
              <msub>
                <mi>p</mi>
                <mi>U</mi>
              </msub>
              <mo>,</mo>
              <msub>
                <mi>p</mi>
                <mi>D</mi>
              </msub>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mo>&#x223c;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mn>1</mn>
              <mo>,</mo>
              <mfrac>
                <msub>
                  <mi>p</mi>
                  <mi>U</mi>
                </msub>
                <msub>
                  <mi>p</mi>
                  <mi>S</mi>
                </msub>
              </mfrac>
              <mo>,</mo>
              <mfrac>
                <msub>
                  <mi>p</mi>
                  <mi>D</mi>
                </msub>
                <msub>
                  <mi>p</mi>
                  <mi>S</mi>
                </msub>
              </mfrac>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mo>&#x223c;</mo>
          <mrow>
            <mo>[</mo>
            <mrow>
              <msub>
                <mi>p</mi>
                <mi>S</mi>
              </msub>
              <mo>&#x2237;</mo>
              <msub>
                <mi>p</mi>
                <mi>U</mi>
              </msub>
              <mo>&#x2237;</mo>
              <msub>
                <mi>p</mi>
                <mi>D</mi>
              </msub>
            </mrow>
            <mo>]</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>32</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0125" num="0124">Aspects of the disclosure find prices such that the supply vector is a multiple of the demand vector, i.e., s({right arrow over (p)})=&#x3bb;d({right arrow over (p)}) for any &#x3bb;&#x3b5;R<sup>+</sup>. Thus, to find equilibrium prices, the projective space for the aggregate supply and demand vectors is analyzed. In affine space, the supply vector is a multiple of the demand vector (see Equation (33) below). In projective space, the supply vector equals the demand vector.</p>
<p id="p-0126" num="0125">
<maths id="MATH-US-00013" num="00013">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo>&#x2203;</mo>
          <mrow>
            <mi>&#x3bb;</mi>
            <mo>&#x2208;</mo>
            <mrow>
              <msup>
                <mi>R</mi>
                <mo>+</mo>
              </msup>
              <mo>&#x2062;</mo>
              <mstyle>
                <mtext>&#x2237;</mtext>
              </mstyle>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mrow>
                <mo>(</mo>
                <mtable>
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>s</mi>
                        <mi>S</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>s</mi>
                        <mi>U</mi>
                      </msub>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>s</mi>
                        <mi>D</mi>
                      </msub>
                    </mtd>
                  </mtr>
                </mtable>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mi>&#x3bb;</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mtable>
              <mtr>
                <mtd>
                  <msub>
                    <mi>d</mi>
                    <mi>S</mi>
                  </msub>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <msub>
                    <mi>d</mi>
                    <mi>U</mi>
                  </msub>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <msub>
                    <mi>d</mi>
                    <mi>D</mi>
                  </msub>
                </mtd>
              </mtr>
            </mtable>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>33</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0127" num="0126">If the supply and demand of storage space is normalized to one, the following Equation (34) applies.</p>
<p id="p-0128" num="0127">
<maths id="MATH-US-00014" num="00014">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo>&#x2203;</mo>
          <mrow>
            <msup>
              <mi>&#x3bb;</mi>
              <mi>&#x2032;</mi>
            </msup>
            <mo>&#x2208;</mo>
            <mrow>
              <msup>
                <mi>&#x211c;</mi>
                <mo>+</mo>
              </msup>
              <mo>&#x2062;</mo>
              <mstyle>
                <mtext>:</mtext>
              </mstyle>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mrow>
                <mo>(</mo>
                <mtable>
                  <mtr>
                    <mtd>
                      <mn>1</mn>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <mfrac>
                        <msub>
                          <mi>s</mi>
                          <mi>U</mi>
                        </msub>
                        <msub>
                          <mi>s</mi>
                          <mi>S</mi>
                        </msub>
                      </mfrac>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <mfrac>
                        <msub>
                          <mi>s</mi>
                          <mi>D</mi>
                        </msub>
                        <msub>
                          <mi>s</mi>
                          <mi>S</mi>
                        </msub>
                      </mfrac>
                    </mtd>
                  </mtr>
                </mtable>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <msup>
            <mi>&#x3bb;</mi>
            <mi>&#x2032;</mi>
          </msup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mtable>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mfrac>
                    <msub>
                      <mi>d</mi>
                      <mi>U</mi>
                    </msub>
                    <msub>
                      <mi>d</mi>
                      <mi>S</mi>
                    </msub>
                  </mfrac>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mfrac>
                    <msub>
                      <mi>d</mi>
                      <mi>D</mi>
                    </msub>
                    <msub>
                      <mi>d</mi>
                      <mi>S</mi>
                    </msub>
                  </mfrac>
                </mtd>
              </mtr>
            </mtable>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>34</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0129" num="0128">The above Equation (34) is true for &#x3bb;&#x2032;=1. In R<img id="CUSTOM-CHARACTER-00002" he="3.13mm" wi="2.12mm" file="US08626566-20140107-P00001.TIF" alt="custom character" img-content="character" img-format="tif"/><sup>2 </sup>the following Equation (35) applies.</p>
<p id="p-0130" num="0129">
<maths id="MATH-US-00015" num="00015">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo>(</mo>
          <mtable>
            <mtr>
              <mtd>
                <mfrac>
                  <msub>
                    <mi>s</mi>
                    <mi>U</mi>
                  </msub>
                  <msub>
                    <mi>s</mi>
                    <mi>S</mi>
                  </msub>
                </mfrac>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mfrac>
                  <msub>
                    <mi>s</mi>
                    <mi>D</mi>
                  </msub>
                  <msub>
                    <mi>s</mi>
                    <mi>S</mi>
                  </msub>
                </mfrac>
              </mtd>
            </mtr>
          </mtable>
          <mo>)</mo>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mrow>
              <mo>(</mo>
              <mtable>
                <mtr>
                  <mtd>
                    <mfrac>
                      <msub>
                        <mi>d</mi>
                        <mi>U</mi>
                      </msub>
                      <msub>
                        <mi>d</mi>
                        <mi>S</mi>
                      </msub>
                    </mfrac>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mfrac>
                      <msub>
                        <mi>d</mi>
                        <mi>D</mi>
                      </msub>
                      <msub>
                        <mi>d</mi>
                        <mi>S</mi>
                      </msub>
                    </mfrac>
                  </mtd>
                </mtr>
              </mtable>
              <mo>)</mo>
            </mrow>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>
</mtext>
            </mstyle>
            <mo>&#x21d4;</mo>
            <mrow>
              <mrow>
                <mo>(</mo>
                <mtable>
                  <mtr>
                    <mtd>
                      <mfrac>
                        <msub>
                          <mi>s</mi>
                          <mi>U</mi>
                        </msub>
                        <msub>
                          <mi>s</mi>
                          <mi>S</mi>
                        </msub>
                      </mfrac>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <mfrac>
                        <msub>
                          <mi>s</mi>
                          <mi>D</mi>
                        </msub>
                        <msub>
                          <mi>s</mi>
                          <mi>S</mi>
                        </msub>
                      </mfrac>
                    </mtd>
                  </mtr>
                </mtable>
                <mo>)</mo>
              </mrow>
              <mo>-</mo>
              <mrow>
                <mo>(</mo>
                <mtable>
                  <mtr>
                    <mtd>
                      <mfrac>
                        <msub>
                          <mi>d</mi>
                          <mi>U</mi>
                        </msub>
                        <msub>
                          <mi>d</mi>
                          <mi>S</mi>
                        </msub>
                      </mfrac>
                    </mtd>
                  </mtr>
                  <mtr>
                    <mtd>
                      <mfrac>
                        <msub>
                          <mi>d</mi>
                          <mi>D</mi>
                        </msub>
                        <msub>
                          <mi>d</mi>
                          <mi>S</mi>
                        </msub>
                      </mfrac>
                    </mtd>
                  </mtr>
                </mtable>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>=</mo>
          <mn>0</mn>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>35</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0131" num="0130">A vector-valued function &#x192;({right arrow over (p)})=&#x192;<sub>1</sub>({right arrow over (p)}), &#x192;<sub>2</sub>({right arrow over (p)}) is created such that Equations (26) and (27) below apply.</p>
<p id="p-0132" num="0131">
<maths id="MATH-US-00016" num="00016">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>f</mi>
            <mn>1</mn>
          </msub>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mover>
              <mi>p</mi>
              <mo>&#x2192;</mo>
            </mover>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mfrac>
              <mrow>
                <msub>
                  <mi>s</mi>
                  <mi>U</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mover>
                    <mi>p</mi>
                    <mo>&#x2192;</mo>
                  </mover>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mrow>
                <msub>
                  <mi>s</mi>
                  <mi>S</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mover>
                    <mi>p</mi>
                    <mo>&#x2192;</mo>
                  </mover>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mfrac>
            <mo>-</mo>
            <mfrac>
              <mrow>
                <msub>
                  <mi>d</mi>
                  <mi>U</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mover>
                    <mi>p</mi>
                    <mo>&#x2192;</mo>
                  </mover>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mrow>
                <msub>
                  <mi>d</mi>
                  <mi>S</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mover>
                    <mi>p</mi>
                    <mo>&#x2192;</mo>
                  </mover>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mfrac>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>36</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>f</mi>
            <mn>2</mn>
          </msub>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mover>
              <mi>p</mi>
              <mo>&#x2192;</mo>
            </mover>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mfrac>
              <mrow>
                <msub>
                  <mi>s</mi>
                  <mi>D</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mover>
                    <mi>p</mi>
                    <mo>&#x2192;</mo>
                  </mover>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mrow>
                <msub>
                  <mi>s</mi>
                  <mi>S</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mover>
                    <mi>p</mi>
                    <mo>&#x2192;</mo>
                  </mover>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mfrac>
            <mo>-</mo>
            <mfrac>
              <mrow>
                <msub>
                  <mi>d</mi>
                  <mi>D</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mover>
                    <mi>p</mi>
                    <mo>&#x2192;</mo>
                  </mover>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mrow>
                <msub>
                  <mi>d</mi>
                  <mi>S</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mover>
                    <mi>p</mi>
                    <mo>&#x2192;</mo>
                  </mover>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mfrac>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>37</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0133" num="0132">Using the projective spaces for the price vector and the supply and demand vectors, an equilibrium function is defined as the price vector {right arrow over (p)} and &#x192;({right arrow over (p)}) such that Equation (38) applies.</p>
<p id="p-0134" num="0133">
<maths id="MATH-US-00017" num="00017">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>f</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mover>
              <mi>p</mi>
              <mo>&#x2192;</mo>
            </mover>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mo>(</mo>
          <mtable>
            <mtr>
              <mtd>
                <mn>0</mn>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mn>0</mn>
              </mtd>
            </mtr>
          </mtable>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>38</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0135" num="0134">Thus, to find equilibrium prices, aspects of the disclosure find the root of the function &#x192;({right arrow over (p)}).</p>
<p id="p-0136" num="0135">An exemplary price update rule may be defined based on the definition of the Secant method for a one-dimensional function &#x192; as shown below in Equation (39).</p>
<p id="p-0137" num="0136">
<maths id="MATH-US-00018" num="00018">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>x</mi>
          <mrow>
            <mi>n</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>=</mo>
        <mrow>
          <msub>
            <mi>x</mi>
            <mi>n</mi>
          </msub>
          <mo>-</mo>
          <mrow>
            <mfrac>
              <mrow>
                <msub>
                  <mi>x</mi>
                  <mi>n</mi>
                </msub>
                <mo>-</mo>
                <msub>
                  <mi>x</mi>
                  <mrow>
                    <mi>n</mi>
                    <mo>-</mo>
                    <mn>1</mn>
                  </mrow>
                </msub>
              </mrow>
              <mrow>
                <mrow>
                  <mi>f</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <msub>
                      <mi>x</mi>
                      <mi>n</mi>
                    </msub>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>-</mo>
                <mrow>
                  <mi>f</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <msub>
                      <mi>x</mi>
                      <mrow>
                        <mi>n</mi>
                        <mo>-</mo>
                        <mn>1</mn>
                      </mrow>
                    </msub>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
            </mfrac>
            <mo>&#xb7;</mo>
            <mrow>
              <mi>f</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <msub>
                  <mi>x</mi>
                  <mi>n</mi>
                </msub>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>39</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0138" num="0137">Generalizing the secant method to multiple dimensions, Equation (40) listed below is applicable.</p>
<p id="p-0139" num="0138">
<maths id="MATH-US-00019" num="00019">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msubsup>
          <mi>p</mi>
          <mi>X</mi>
          <mrow>
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msubsup>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mtable>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mn>1</mn>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>for</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>X</mi>
                  </mrow>
                  <mo>=</mo>
                  <mi>S</mi>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mrow>
                      <msubsup>
                        <mi>p</mi>
                        <mi>X</mi>
                        <mi>t</mi>
                      </msubsup>
                      <mo>-</mo>
                      <mrow>
                        <mrow>
                          <mfrac>
                            <mrow>
                              <msubsup>
                                <mi>p</mi>
                                <mi>X</mi>
                                <mi>t</mi>
                              </msubsup>
                              <mo>-</mo>
                              <msubsup>
                                <mi>p</mi>
                                <mi>X</mi>
                                <mrow>
                                  <mi>t</mi>
                                  <mo>-</mo>
                                  <mn>1</mn>
                                </mrow>
                              </msubsup>
                            </mrow>
                            <mrow>
                              <mrow>
                                <msub>
                                  <mi>f</mi>
                                  <mi>X</mi>
                                </msub>
                                <mo>&#x2061;</mo>
                                <mrow>
                                  <mo>(</mo>
                                  <mover>
                                    <mi>p</mi>
                                    <mrow>
                                      <mo>&#x2192;</mo>
                                      <mi>t</mi>
                                    </mrow>
                                  </mover>
                                  <mo>)</mo>
                                </mrow>
                              </mrow>
                              <mo>-</mo>
                              <mrow>
                                <msub>
                                  <mi>f</mi>
                                  <mi>X</mi>
                                </msub>
                                <mo>&#x2061;</mo>
                                <mrow>
                                  <mo>(</mo>
                                  <mover>
                                    <mi>p</mi>
                                    <mrow>
                                      <mo>&#x2192;</mo>
                                      <mrow>
                                        <mi>t</mi>
                                        <mo>-</mo>
                                        <mn>1</mn>
                                      </mrow>
                                    </mrow>
                                  </mover>
                                  <mo>)</mo>
                                </mrow>
                              </mrow>
                            </mrow>
                          </mfrac>
                          <mo>&#xb7;</mo>
                          <mrow>
                            <msub>
                              <mi>f</mi>
                              <mi>X</mi>
                            </msub>
                            <mo>&#x2061;</mo>
                            <mrow>
                              <mo>(</mo>
                              <mover>
                                <mi>p</mi>
                                <mrow>
                                  <mo>&#x2192;</mo>
                                  <mi>t</mi>
                                </mrow>
                              </mover>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                        </mrow>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.8em" height="0.8ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>for</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.8em" height="0.8ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>X</mi>
                      </mrow>
                    </mrow>
                    <mo>=</mo>
                    <mi>U</mi>
                  </mrow>
                  <mo>,</mo>
                  <mi>D</mi>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>40</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0140" num="0139">In some embodiments, the following three cases as shown by Equations (41), (42), and (43) may apply.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x192;<sub>x</sub>(<i>{right arrow over (p)}</i><sup>t+1</sup>)=&#x192;<sub>x</sub>(<i>{right arrow over (p)}</i><sup>t</sup>)&#x2003;&#x2003;(41)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0141" num="0140">In Equation (41), the difference between the buffers happened to stay the same.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x192;<sub>x</sub>(<i>{right arrow over (p)}</i>)=0&#x2003;&#x2003;(42)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0142" num="0141">In Equation (42), the equilibrium was reached.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>p</i><sub>x</sub><sup>t+1</sup><i>=p</i><sub>x</sub><sup>t</sup>&#x2003;&#x2003;(43)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0143" num="0142">In Equation (43), the price for good X stayed the same for two iterations.</p>
<p id="p-0144" num="0143">Over time, demand can change and prices that were previously in equilibrium are no longer in equilibrium. Thus, the price update rule can get out of equilibrium again. A very small wiggle parameter &#x3b5;&#x3e;0 is inserted into the price update rule. In these cases, the modified price update rule for the cases is shown in Equation (44) below.</p>
<p id="p-0145" num="0144">
<maths id="MATH-US-00020" num="00020">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msubsup>
            <mi>p</mi>
            <mi>X</mi>
            <mrow>
              <mi>t</mi>
              <mo>+</mo>
              <mn>1</mn>
            </mrow>
          </msubsup>
          <mo>=</mo>
          <mrow>
            <msubsup>
              <mi>p</mi>
              <mi>X</mi>
              <mi>t</mi>
            </msubsup>
            <mo>-</mo>
            <mrow>
              <mfrac>
                <mrow>
                  <msubsup>
                    <mi>p</mi>
                    <mi>X</mi>
                    <mi>t</mi>
                  </msubsup>
                  <mo>-</mo>
                  <msubsup>
                    <mi>p</mi>
                    <mi>X</mi>
                    <mrow>
                      <mi>t</mi>
                      <mo>-</mo>
                      <mn>1</mn>
                    </mrow>
                  </msubsup>
                  <mo>+</mo>
                  <mi>&#x25b;</mi>
                </mrow>
                <mrow>
                  <mrow>
                    <mi>fx</mi>
                    <mo>&#x2061;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mover>
                        <mi>p</mi>
                        <mrow>
                          <mo>&#x2192;</mo>
                          <mi>t</mi>
                        </mrow>
                      </mover>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                  <mo>-</mo>
                  <mrow>
                    <mi>fx</mi>
                    <mo>&#x2061;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mover>
                        <mi>p</mi>
                        <mrow>
                          <mo>&#x2192;</mo>
                          <mrow>
                            <mi>t</mi>
                            <mo>-</mo>
                            <mn>1</mn>
                          </mrow>
                        </mrow>
                      </mover>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </mfrac>
              <mo>&#xb7;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mrow>
                    <mi>fx</mi>
                    <mo>&#x2061;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mover>
                        <mi>p</mi>
                        <mrow>
                          <mo>&#x2192;</mo>
                          <mi>t</mi>
                        </mrow>
                      </mover>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                  <mo>+</mo>
                  <mi>&#x25b;</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
        <mo>&#x2062;</mo>
        <mstyle>
          <mtext>
</mtext>
        </mstyle>
        <mo>&#x2062;</mo>
        <mrow>
          <mrow>
            <mrow>
              <mi>for</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>X</mi>
            </mrow>
            <mo>=</mo>
            <mi>U</mi>
          </mrow>
          <mo>,</mo>
          <mi>D</mi>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>44</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0146" num="0145">An example of the price update rule in operation is described in Appendix A.</p>
<p id="h-0012" num="0000">Pricing Ongoing Operations</p>
<p id="p-0147" num="0146">Referring next to <figref idref="DRAWINGS">FIG. 8</figref>, an exemplary block diagram illustrates splitting of operations. When the consumer initiates a backup, the consumer reports the size of the file (e.g., ki). If the consumer initiates a retrieval, the server already knows ki. The consumer is charged for operations based on ki.</p>
<p id="p-0148" num="0147">In some embodiments, each ticket that the consumer gets from the server has a 24-hour time limit. Thus, within 24 hours, the consumer reports to which peers fragments (backup) have been sent or from which peers fragments have been received, even if the consumer has not yet finished the operation. After the consumer reports a new log to the server, the bandwidth used according to the current set of prices is priced, and the temporary account balances are updated.</p>
<p id="p-0149" num="0148">Whenever the pricing mechanism is performed and a new set of prices is computed, partial operations from the last 24 hours including those that involve storage are priced and the temporary account balances are set to the real account balances again. Suppliers are paid for ongoing operations because the quantity of supplied fragments is known. To charge the consumer, the fraction of the file corresponding to the quantity of fragments already uploaded/downloaded is estimated using the ratios shown in Equation (45) below from the previous pricing iteration.</p>
<p id="p-0150" num="0149">
<maths id="MATH-US-00021" num="00021">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <msubsup>
            <mi>N</mi>
            <mi>B</mi>
            <mi>t</mi>
          </msubsup>
          <msubsup>
            <mi>K</mi>
            <mi>B</mi>
            <mi>t</mi>
          </msubsup>
        </mfrac>
        <mo>,</mo>
        <mrow>
          <mfrac>
            <msubsup>
              <mi>N</mi>
              <mi>R</mi>
              <mi>t</mi>
            </msubsup>
            <msubsup>
              <mi>K</mi>
              <mi>R</mi>
              <mi>t</mi>
            </msubsup>
          </mfrac>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mi>and</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mfrac>
            <msubsup>
              <mi>N</mi>
              <mi>S</mi>
              <mi>t</mi>
            </msubsup>
            <msubsup>
              <mi>K</mi>
              <mi>S</mi>
              <mi>t</mi>
            </msubsup>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>45</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
These ratios are computed from operations that have completely finished (e.g., the server knows the true final values of each ki and ni).
</p>
<p id="p-0151" num="0150">Exemplary mechanisms for pricing ongoing backup, retrieval, and storage operations are shown in Appendix B.</p>
<p id="h-0013" num="0000">Alternative Market Embodiments</p>
<p id="p-0152" num="0151">The embodiments herein are described within a setting where no monetary trades are made. Aspects of the disclosure, however, are also applicable in other markets. For example, aspects of the disclosure are operable in closed virtual currency market, a virtual currency market with a secondary market, half-open virtual currency market with fixed buy-in prices and a secondary market, half-open virtual currency market with floating buy-in prices and a secondary market, and full market economy with a secondary market.</p>
<p id="p-0153" num="0152">In the closed virtual currency market, resources are exchanged, but no real money flows into or out of the system. Any user who consumes resources also supplies resources. Trades are done with virtual currency called &#x201c;credits&#x201d;.</p>
<p id="p-0154" num="0153">In the virtual currency market with a secondary market, the system charges a &#x201c;tax&#x201d; on all trades and accumulates credits. Those credits are used to sell backup services on a secondary market (e.g., to users who are not direct customers of the system, for real money at a price that is determined by the system).</p>
<p id="h-0014" num="0000">Exemplary Operating Environment</p>
<p id="p-0155" num="0154">While aspects of the invention are described with reference to the computing device, embodiments of the invention are operable with any computing device. For example, aspects of the invention are operable with devices such as laptop computers, gaming consoles (including handheld gaming consoles), hand-held or vehicle-mounted navigation devices, portable music players, a personal digital assistant, an information appliance, a personal communicator, a handheld television, or any other type of electronic device.</p>
<p id="p-0156" num="0155">By way of example and not limitation, computer readable media comprise computer storage media and communication media. Computer storage media store information such as computer readable instructions, data structures, program modules or other data. Communication media typically embody computer readable instructions, data structures; program modules, or other data in a modulated data signal such as a carrier wave or other transport mechanism and include any information delivery media. Combinations of any of the above are also included within the scope of computer readable media.</p>
<p id="p-0157" num="0156">Although described in connection with an exemplary computing system environment, embodiments of the invention are operational with numerous other general purpose or special purpose computing system environments or configurations. Examples of well known computing systems, environments, and/or configurations that may be suitable for use with aspects of the invention include, but are not limited to, mobile computing devices, personal computers, server computers, hand-held or laptop devices, multiprocessor systems, gaming consoles, microprocessor-based systems, set top boxes, programmable consumer electronics, mobile telephones, network PCs, minicomputers, mainframe computers, distributed computing environments that include any of the above systems or devices, and the like.</p>
<p id="p-0158" num="0157">Embodiments of the invention may be described in the general context of computer-executable instructions, such as program modules, executed by one or more computers or other devices. The computer-executable instructions may be organized into one or more computer-executable components or modules. Generally, program modules include, but are not limited to, routines, programs, objects, components, and data structures that perform particular tasks or implement particular abstract data types. Aspects of the invention may be implemented with any number and organization of such components or modules. For example, aspects of the invention are not limited to the specific computer-executable instructions or the specific components or modules illustrated in the figures and described herein. Other embodiments of the invention may include different computer-executable instructions or components having more or less functionality than illustrated and described herein.</p>
<p id="p-0159" num="0158">Aspects of the invention transform a general-purpose computer into a special-purpose computing device when configured to execute the instructions described herein.</p>
<p id="p-0160" num="0159">The embodiments illustrated and described herein as well as embodiments not specifically described herein but within the scope of aspects of the invention constitute exemplary means for handling a low account balance of the consumers, and exemplary means for calculating the operation prices and the resource prices.</p>
<p id="p-0161" num="0160">The order of execution or performance of the operations in embodiments of the invention illustrated and described herein is not essential, unless otherwise specified. That is, the operations may be performed in any order, unless otherwise specified, and embodiments of the invention may include additional or fewer operations than those disclosed herein. For example, it is contemplated that executing or performing a particular operation before, contemporaneously with, or after another operation is within the scope of aspects of the invention.</p>
<p id="p-0162" num="0161">When introducing elements of aspects of the invention or the embodiments thereof, the articles &#x201c;a,&#x201d; &#x201c;an,&#x201d; &#x201c;the,&#x201d; and &#x201c;said&#x201d; are intended to mean that there are one or more of the elements. The terms &#x201c;comprising,&#x201d; &#x201c;including,&#x201d; and &#x201c;having&#x201d; are intended to be inclusive and mean that there may be additional elements other than the listed elements.</p>
<p id="p-0163" num="0162">Having described aspects of the invention in detail, it will be apparent that modifications and variations are possible without departing from the scope of aspects of the invention as defined in the appended claims. As various changes could be made in the above constructions, products, and methods without departing from the scope of aspects of the invention, it is intended that all matter contained in the above description and shown in the accompanying drawings shall be interpreted as illustrative and not in a limiting sense.</p>
<heading id="h-0015" level="1">APPENDIX A</heading>
<p id="p-0164" num="0163">Listed below is an example of the price update rule.</p>
<p id="p-0165" num="0164">Let the supply of storage be S<sub>S</sub>=23*10<sup>3</sup>, the units of these quantities does not matter for this computation (you can assume that it is GB for storage, Mbps for upload and download bandwidth). Let the demand of storage be D<sub>S</sub>=5*10<sup>3</sup>.</p>
<p id="p-0166" num="0165">Let the supply of upload bandwidth be S<sub>U</sub>=5*10<sup>9 </sup>and the demand of upload bandwidth be D<sub>U</sub>=2*10<sup>9</sup>.</p>
<p id="p-0167" num="0166">Let the supply of download bandwidth be S<sub>D</sub>=25*10<sup>9 </sup>and the demand of download bandwidth be D<sub>D</sub>=2*10<sup>9</sup>.</p>
<p id="p-0168" num="0167">The demand function for upload bandwidth at the current time be</p>
<p id="p-0169" num="0168">
<maths id="MATH-US-00022" num="00022">
<math overflow="scroll">
<mrow>
  <mrow>
    <msubsup>
      <mi>g</mi>
      <mi>U</mi>
      <mi>t</mi>
    </msubsup>
    <mo>=</mo>
    <mrow>
      <mrow>
        <mfrac>
          <msub>
            <mi>S</mi>
            <mi>U</mi>
          </msub>
          <msub>
            <mi>S</mi>
            <mi>S</mi>
          </msub>
        </mfrac>
        <mo>-</mo>
        <mfrac>
          <msub>
            <mi>D</mi>
            <mi>U</mi>
          </msub>
          <msub>
            <mi>D</mi>
            <mi>S</mi>
          </msub>
        </mfrac>
      </mrow>
      <mo>=</mo>
      <mrow>
        <mrow>
          <mfrac>
            <mrow>
              <mn>5</mn>
              <mo>*</mo>
              <msup>
                <mn>10</mn>
                <mn>9</mn>
              </msup>
            </mrow>
            <mrow>
              <mn>23</mn>
              <mo>*</mo>
              <msup>
                <mn>10</mn>
                <mn>3</mn>
              </msup>
            </mrow>
          </mfrac>
          <mo>-</mo>
          <mfrac>
            <mrow>
              <mn>2</mn>
              <mo>*</mo>
              <msup>
                <mn>10</mn>
                <mn>9</mn>
              </msup>
            </mrow>
            <mrow>
              <mn>5</mn>
              <mo>*</mo>
              <msup>
                <mn>10</mn>
                <mn>3</mn>
              </msup>
            </mrow>
          </mfrac>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mo>-</mo>
          <mn>182608.7</mn>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
</maths>
<br/>
and similarly the demand function for download bandwidth
</p>
<p id="p-0170" num="0169">
<maths id="MATH-US-00023" num="00023">
<math overflow="scroll">
<mrow>
  <msubsup>
    <mi>g</mi>
    <mi>D</mi>
    <mi>t</mi>
  </msubsup>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mfrac>
        <msub>
          <mi>S</mi>
          <mi>D</mi>
        </msub>
        <msub>
          <mi>S</mi>
          <mi>S</mi>
        </msub>
      </mfrac>
      <mo>-</mo>
      <mfrac>
        <msub>
          <mi>D</mi>
          <mi>D</mi>
        </msub>
        <msub>
          <mi>D</mi>
          <mi>S</mi>
        </msub>
      </mfrac>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mrow>
        <mfrac>
          <mrow>
            <mn>25</mn>
            <mo>*</mo>
            <msup>
              <mn>10</mn>
              <mn>9</mn>
            </msup>
          </mrow>
          <mrow>
            <mn>23</mn>
            <mo>*</mo>
            <msup>
              <mn>10</mn>
              <mn>3</mn>
            </msup>
          </mrow>
        </mfrac>
        <mo>-</mo>
        <mfrac>
          <mrow>
            <mn>2</mn>
            <mo>*</mo>
            <msup>
              <mn>10</mn>
              <mn>9</mn>
            </msup>
          </mrow>
          <mrow>
            <mn>5</mn>
            <mo>*</mo>
            <msup>
              <mn>10</mn>
              <mn>3</mn>
            </msup>
          </mrow>
        </mfrac>
      </mrow>
      <mo>=</mo>
      <mn>686956.522</mn>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0171" num="0170">Also, let us assume that in the previous time unit the excess demand function for upload bandwidth g<sub>U</sub><sup>t&#x2212;1</sup>=&#x2212;365217 and the excess demand function for download was g<sub>D</sub><sup>t&#x2212;1</sup>=&#x2212;1373913.</p>
<p id="p-0172" num="0171">Also, we obtain the prices for the previous two time units: the price of storage is fixed at one. Say that price of upload bandwidth was p<sub>U</sub><sup>t</sup>=0.30 and p<sub>U</sub><sup>t&#x2212;1</sup>=0.25 and the price of the download bandwidth at the previous two time units was p<sub>D</sub><sup>t</sup>=0.04 and p<sub>D</sub><sup>t&#x2212;1</sup>=0.05.</p>
<p id="p-0173" num="0172">Then the price update rule states that the new price of upload bandwidth is</p>
<p id="p-0174" num="0173">
<maths id="MATH-US-00024" num="00024">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>p</mi>
    <mi>U</mi>
  </msub>
  <mo>=</mo>
  <mrow>
    <msubsup>
      <mi>p</mi>
      <mi>U</mi>
      <mi>t</mi>
    </msubsup>
    <mo>-</mo>
    <mrow>
      <mfrac>
        <mrow>
          <msubsup>
            <mi>p</mi>
            <mi>U</mi>
            <mi>t</mi>
          </msubsup>
          <mo>-</mo>
          <msubsup>
            <mi>p</mi>
            <mi>U</mi>
            <mrow>
              <mi>t</mi>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </msubsup>
        </mrow>
        <mrow>
          <msubsup>
            <mi>g</mi>
            <mi>U</mi>
            <mi>t</mi>
          </msubsup>
          <mo>-</mo>
          <msubsup>
            <mi>g</mi>
            <mi>U</mi>
            <mrow>
              <mi>t</mi>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </msubsup>
        </mrow>
      </mfrac>
      <mo>&#x2062;</mo>
      <mrow>
        <msubsup>
          <mi>g</mi>
          <mi>U</mi>
          <mi>t</mi>
        </msubsup>
        <mo>.</mo>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
Substituting the quantities, this turns out to be 0.35.
</p>
<p id="p-0175" num="0174">The price update rule states that the new price of download bandwidth is</p>
<p id="p-0176" num="0175">
<maths id="MATH-US-00025" num="00025">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>p</mi>
    <mi>D</mi>
  </msub>
  <mo>=</mo>
  <mrow>
    <msubsup>
      <mi>p</mi>
      <mi>U</mi>
      <mi>t</mi>
    </msubsup>
    <mo>-</mo>
    <mrow>
      <mfrac>
        <mrow>
          <msubsup>
            <mi>p</mi>
            <mi>D</mi>
            <mi>t</mi>
          </msubsup>
          <mo>-</mo>
          <msubsup>
            <mi>p</mi>
            <mi>D</mi>
            <mrow>
              <mi>t</mi>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </msubsup>
        </mrow>
        <mrow>
          <msubsup>
            <mi>g</mi>
            <mi>D</mi>
            <mi>t</mi>
          </msubsup>
          <mo>-</mo>
          <msubsup>
            <mi>g</mi>
            <mi>D</mi>
            <mrow>
              <mi>t</mi>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </msubsup>
        </mrow>
      </mfrac>
      <mo>&#x2062;</mo>
      <mrow>
        <msubsup>
          <mi>g</mi>
          <mi>D</mi>
          <mi>t</mi>
        </msubsup>
        <mo>.</mo>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
Substituting the quantities, this turns out to be 0.05. For simplicity, &#x3b5;=0, which means the system is not yet in equilibrium prices. As such, the new price of upload bandwidth is 0.35, and the new price of download bandwidth=0.05. The price of storage remains the same.
</p>
<heading id="h-0016" level="1">APPENDIX B</heading>
<p id="p-0177" num="0176">Listed below are example mechanisms for pricing ongoing operations.</p>
<p id="h-0017" num="0000">Backup Operation</p>
<p id="p-0178" num="0177">Temporary Pricing: Adjusting Temporary Account Balances (after every log report for an individual file):
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0178">n<sub>i,j</sub><sup>B</sup>: The # of fragments consumer i has backed up to supplier j according to this log report.</li>
        <li id="ul0002-0002" num="0179">We temporarily pay each supplier j: n<sub>i,j</sub><sup>B</sup>&#xb7;p<sub>D</sub><sup>t </sup></li>
        <li id="ul0002-0003" num="0180">We temporarily charge the consumer i:</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0179" num="0181">
<maths id="MATH-US-00026" num="00026">
<math overflow="scroll">
<mrow>
  <munderover>
    <mo>&#x2211;</mo>
    <mi>j</mi>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
  </munderover>
  <mo>&#x2062;</mo>
  <mstyle>
    <mspace width="0.3em" height="0.3ex"/>
  </mstyle>
  <mo>&#x2062;</mo>
  <mrow>
    <msubsup>
      <mi>n</mi>
      <mrow>
        <mi>i</mi>
        <mo>,</mo>
        <mi>j</mi>
      </mrow>
      <mi>B</mi>
    </msubsup>
    <mo>&#xb7;</mo>
    <mfrac>
      <msubsup>
        <mi>K</mi>
        <mi>B</mi>
        <mi>t</mi>
      </msubsup>
      <msubsup>
        <mi>N</mi>
        <mi>B</mi>
        <mi>t</mi>
      </msubsup>
    </mfrac>
    <mo>&#xb7;</mo>
    <msubsup>
      <mi>p</mi>
      <mi>B</mi>
      <mi>t</mi>
    </msubsup>
  </mrow>
</mrow>
</math>
</maths>
<ul id="ul0003" list-style="none">
    <li id="ul0003-0001" num="0000">
    <ul id="ul0004" list-style="none">
        <li id="ul0004-0001" num="0182">We temporarily pay the consumer for his supplier role:</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0180" num="0183">
<maths id="MATH-US-00027" num="00027">
<math overflow="scroll">
<mrow>
  <munder>
    <mo>&#x2211;</mo>
    <mi>j</mi>
  </munder>
  <mo>&#x2062;</mo>
  <mrow>
    <msubsup>
      <mi>n</mi>
      <mrow>
        <mi>i</mi>
        <mo>,</mo>
        <mi>j</mi>
      </mrow>
      <mi>B</mi>
    </msubsup>
    <mo>&#xb7;</mo>
    <msubsup>
      <mi>p</mi>
      <mi>U</mi>
      <mi>t</mi>
    </msubsup>
  </mrow>
</mrow>
</math>
</maths>
<ul id="ul0005" list-style="none">
    <li id="ul0005-0001" num="0000">
    <ul id="ul0006" list-style="none">
        <li id="ul0006-0001" num="0184">These temporary payments/charges go to the temporary accounts, and obviously won't balance.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0181" num="0185">Final Pricing Adjusting Real Account Balances (every 24 h):
<ul id="ul0007" list-style="none">
    <li id="ul0007-0001" num="0000">
    <ul id="ul0008" list-style="none">
        <li id="ul0008-0001" num="0186">The price update rule computed a new price vector
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>{right arrow over (p)}</i><sup>t+1</sup>=(<i>p</i><sub>S</sub><sup>1+1</sup><i>,p</i><sub>U</sub><sup>1+1</sup><i>,p</i><sub>D</sub><sup>1+1</sup>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</li>
        <li id="ul0008-0002" num="0187"> <o ostyle="single">k<sub>i</sub><sup>B</sup></o>: The total file size of all backups that consumer i completed in the last 24 h.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0182" num="0188">
<maths id="MATH-US-00028" num="00028">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>_</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <msubsup>
      <mi>K</mi>
      <mi>B</mi>
      <mrow>
        <mi>t</mi>
        <mo>+</mo>
        <mn>1</mn>
      </mrow>
    </msubsup>
  </mrow>
  <mo>=</mo>
  <mrow>
    <munder>
      <mo>&#x2211;</mo>
      <mi>i</mi>
    </munder>
    <mo>&#x2062;</mo>
    <mover>
      <msubsup>
        <mi>k</mi>
        <mi>i</mi>
        <mi>B</mi>
      </msubsup>
      <mi>_</mi>
    </mover>
  </mrow>
</mrow>
</math>
</maths>
<ul id="ul0009" list-style="none">
    <li id="ul0009-0001" num="0000">
    <ul id="ul0010" list-style="none">
        <li id="ul0010-0001" num="0189"> <o ostyle="single">n<sub>i</sub><sup>B</sup></o>: The total number of fragments supplier i received (over the last x days) for backup operations that completed during the last 24 h.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0183" num="0190">
<maths id="MATH-US-00029" num="00029">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>_</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <msubsup>
      <mi>N</mi>
      <mi>B</mi>
      <mrow>
        <mi>t</mi>
        <mo>+</mo>
        <mn>1</mn>
      </mrow>
    </msubsup>
  </mrow>
  <mo>=</mo>
  <mrow>
    <munder>
      <mo>&#x2211;</mo>
      <mi>i</mi>
    </munder>
    <mo>&#x2062;</mo>
    <mover>
      <msubsup>
        <mi>n</mi>
        <mi>i</mi>
        <mi>B</mi>
      </msubsup>
      <mi>_</mi>
    </mover>
  </mrow>
</mrow>
</math>
</maths>
<ul id="ul0011" list-style="none">
    <li id="ul0011-0001" num="0000">
    <ul id="ul0012" list-style="none">
        <li id="ul0012-0001" num="0191">n<sub>i,j</sub><sup>B</sup>: The # of fragments consumer i has backed up to supplier j in the last 24 h.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0184" num="0192">
<maths id="MATH-US-00030" num="00030">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>_</mi>
    <mo>&#x2062;</mo>
    <msubsup>
      <mover>
        <mi>k</mi>
        <mo>^</mo>
      </mover>
      <mi>i</mi>
      <mi>B</mi>
    </msubsup>
  </mrow>
  <mo>=</mo>
  <mrow>
    <munderover>
      <mo>&#x2211;</mo>
      <mi>j</mi>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </munderover>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mrow>
      <msubsup>
        <mi>n</mi>
        <mrow>
          <mi>i</mi>
          <mo>,</mo>
          <mi>j</mi>
        </mrow>
        <mi>B</mi>
      </msubsup>
      <mo>&#xb7;</mo>
      <mfrac>
        <msubsup>
          <mi>K</mi>
          <mi>B</mi>
          <mrow>
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msubsup>
        <msubsup>
          <mi>N</mi>
          <mi>B</mi>
          <mrow>
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msubsup>
      </mfrac>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
estimating the original file size of all backups from consumer i in the last 24 h.
</p>
<p id="p-0185" num="0193">
<maths id="MATH-US-00031" num="00031">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>_</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <msubsup>
      <mi>N</mi>
      <mrow>
        <mi>U</mi>
        <mo>,</mo>
        <mi>B</mi>
      </mrow>
      <mo>*</mo>
    </msubsup>
  </mrow>
  <mo>=</mo>
  <mrow>
    <msubsup>
      <mi>N</mi>
      <mrow>
        <mi>D</mi>
        <mo>,</mo>
        <mi>B</mi>
      </mrow>
      <mo>*</mo>
    </msubsup>
    <mo>=</mo>
    <mrow>
      <munder>
        <mo>&#x2211;</mo>
        <mi>i</mi>
      </munder>
      <mo>&#x2062;</mo>
      <mrow>
        <munder>
          <mo>&#x2211;</mo>
          <mi>j</mi>
        </munder>
        <mo>&#x2062;</mo>
        <msubsup>
          <mi>n</mi>
          <mrow>
            <mi>i</mi>
            <mo>,</mo>
            <mi>j</mi>
          </mrow>
          <mi>B</mi>
        </msubsup>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<ul id="ul0013" list-style="none">
    <li id="ul0013-0001" num="0000">
    <ul id="ul0014" list-style="none">
        <li id="ul0014-0001" num="0194">The new balance equation is:</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0186" num="0195">
<maths id="MATH-US-00032" num="00032">
<math overflow="scroll">
<mrow>
  <mrow>
    <msubsup>
      <mi>K</mi>
      <mi>B</mi>
      <mo>*</mo>
    </msubsup>
    <mo>&#xb7;</mo>
    <msubsup>
      <mi>p</mi>
      <mi>B</mi>
      <mrow>
        <mi>t</mi>
        <mo>+</mo>
        <mn>1</mn>
      </mrow>
    </msubsup>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mrow>
        <mrow>
          <msubsup>
            <mi>N</mi>
            <mrow>
              <mi>U</mi>
              <mo>,</mo>
              <mi>B</mi>
            </mrow>
            <mo>*</mo>
          </msubsup>
          <mo>&#xb7;</mo>
          <msubsup>
            <mi>p</mi>
            <mi>U</mi>
            <mrow>
              <mi>t</mi>
              <mo>+</mo>
              <mn>1</mn>
            </mrow>
          </msubsup>
        </mrow>
        <mo>+</mo>
        <mrow>
          <msubsup>
            <mi>N</mi>
            <mrow>
              <mi>D</mi>
              <mo>,</mo>
              <mi>B</mi>
            </mrow>
            <mo>*</mo>
          </msubsup>
          <mo>&#xb7;</mo>
          <msubsup>
            <mi>p</mi>
            <mi>D</mi>
            <mrow>
              <mi>t</mi>
              <mo>+</mo>
              <mn>1</mn>
            </mrow>
          </msubsup>
        </mrow>
      </mrow>
      <mo>&#x2062;</mo>
      <mstyle>
        <mtext>
</mtext>
      </mstyle>
      <mo>&#x21d4;</mo>
      <mrow>
        <msubsup>
          <mi>K</mi>
          <mi>B</mi>
          <mo>*</mo>
        </msubsup>
        <mo>&#xb7;</mo>
        <msubsup>
          <mi>p</mi>
          <mi>B</mi>
          <mrow>
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msubsup>
      </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mrow>
        <mrow>
          <msubsup>
            <mi>N</mi>
            <mi>B</mi>
            <mo>*</mo>
          </msubsup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <msubsup>
                <mi>p</mi>
                <mi>U</mi>
                <mrow>
                  <mi>t</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
              </msubsup>
              <mo>+</mo>
              <msubsup>
                <mi>p</mi>
                <mi>D</mi>
                <mrow>
                  <mi>t</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
              </msubsup>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>&#x2062;</mo>
        <mstyle>
          <mtext>
</mtext>
        </mstyle>
        <mo>&#x21d4;</mo>
        <msubsup>
          <mi>p</mi>
          <mi>B</mi>
          <mrow>
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msubsup>
      </mrow>
      <mo>=</mo>
      <mrow>
        <mfrac>
          <msubsup>
            <mi>N</mi>
            <mi>B</mi>
            <mo>*</mo>
          </msubsup>
          <msubsup>
            <mi>K</mi>
            <mi>B</mi>
            <mo>*</mo>
          </msubsup>
        </mfrac>
        <mo>&#x2062;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <msubsup>
              <mi>p</mi>
              <mi>U</mi>
              <mrow>
                <mi>t</mi>
                <mo>+</mo>
                <mn>1</mn>
              </mrow>
            </msubsup>
            <mo>+</mo>
            <msubsup>
              <mi>p</mi>
              <mi>D</mi>
              <mrow>
                <mi>t</mi>
                <mo>+</mo>
                <mn>1</mn>
              </mrow>
            </msubsup>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<ul id="ul0015" list-style="none">
    <li id="ul0015-0001" num="0000">
    <ul id="ul0016" list-style="none">
        <li id="ul0016-0001" num="0196">We pay each supplier as before (dependent on the true number of fragments)</li>
        <li id="ul0016-0002" num="0197">We charge each consumer: {circumflex over (k)}<sub>i</sub><sup>B</sup>&#xb7;p<sub>B</sub><sup>t+1 </sup>
<br/>
Retrieval Operation
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0187" num="0198">The retrieval operation works analogously to the backup operation.</p>
<p id="h-0018" num="0000">Storage Operation</p>
<p id="p-0188" num="0199">Temporary Pricing: we do not do temporary pricing for storage operations.</p>
<p id="p-0189" num="0200">Final Pricing:
<ul id="ul0017" list-style="none">
    <li id="ul0017-0001" num="0000">
    <ul id="ul0018" list-style="none">
        <li id="ul0018-0001" num="0201">The price update rule computers a new price vector
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>{right arrow over (p)}</i><sup>t+1</sup>=(<i>p</i><sub>S</sub><sup>t+1</sup><i>,p</i><sub>U</sub><sup>t+1</sup><i>,p</i><sub>D</sub><sup>t+1</sup>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</li>
        <li id="ul0018-0002" num="0202">k<sub>i</sub><sup>S </sup>is the total size of the files consumer i has backed up, where the backup operation has already completed and where the files are still stored in the system.</li>
        <li id="ul0018-0003" num="0203">n<sub>i,j</sub><sup>S</sup>: The # of fragments consumer i has backed up to supplier j but where the backup operation has not yet finished.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0190" num="0204">
<maths id="MATH-US-00033" num="00033">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>_</mi>
    <mo>&#x2062;</mo>
    <msubsup>
      <mover>
        <mi>k</mi>
        <mo>^</mo>
      </mover>
      <mi>i</mi>
      <mi>S</mi>
    </msubsup>
  </mrow>
  <mo>=</mo>
  <mrow>
    <munderover>
      <mo>&#x2211;</mo>
      <mi>j</mi>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </munderover>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mrow>
      <msubsup>
        <mi>n</mi>
        <mrow>
          <mi>i</mi>
          <mo>,</mo>
          <mi>j</mi>
        </mrow>
        <mi>S</mi>
      </msubsup>
      <mo>&#xb7;</mo>
      <mfrac>
        <msubsup>
          <mi>K</mi>
          <mi>S</mi>
          <mi>t</mi>
        </msubsup>
        <msubsup>
          <mi>N</mi>
          <mi>S</mi>
          <mi>t</mi>
        </msubsup>
      </mfrac>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
an estimated fraction of the files whose backup operation is still ongoing.
</p>
<p id="p-0191" num="0205">
<maths id="MATH-US-00034" num="00034">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>_</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <msubsup>
      <mi>K</mi>
      <mi>S</mi>
      <mo>*</mo>
    </msubsup>
  </mrow>
  <mo>=</mo>
  <mrow>
    <munder>
      <mo>&#x2211;</mo>
      <mi>i</mi>
    </munder>
    <mo>&#x2062;</mo>
    <mrow>
      <mo>(</mo>
      <mrow>
        <msubsup>
          <mi>k</mi>
          <mi>i</mi>
          <mi>S</mi>
        </msubsup>
        <mo>+</mo>
        <msubsup>
          <mover>
            <mi>k</mi>
            <mo>^</mo>
          </mover>
          <mi>i</mi>
          <mi>S</mi>
        </msubsup>
      </mrow>
      <mo>)</mo>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<ul id="ul0019" list-style="none">
    <li id="ul0019-0001" num="0000">
    <ul id="ul0020" list-style="none">
        <li id="ul0020-0001" num="0206">the total number of fragments (or partial fragments) we include in the pricing</li>
        <li id="ul0020-0002" num="0207">N<sub>S</sub><sup>* </sup>the number of fragments currently stored on the suppliers (backed up at any time, not just in the last 24 h), now including fragments from unfinished backup operations.</li>
        <li id="ul0020-0003" num="0208">N<sub>T/R</sub><sup>* </sup>the number of fragments that were uploaded (=downloaded) in the last 24 h for testing or retrieval operations.</li>
        <li id="ul0020-0004" num="0209">The new balance equation is:</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0192" num="0210">
<maths id="MATH-US-00035" num="00035">
<math overflow="scroll">
<mrow>
  <mrow>
    <msubsup>
      <mi>K</mi>
      <mi>S</mi>
      <mo>*</mo>
    </msubsup>
    <mo>&#xb7;</mo>
    <msubsup>
      <mi>p</mi>
      <mi>SO</mi>
      <mrow>
        <mi>t</mi>
        <mo>+</mo>
        <mn>1</mn>
      </mrow>
    </msubsup>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mrow>
        <mrow>
          <msubsup>
            <mi>N</mi>
            <mi>S</mi>
            <mo>*</mo>
          </msubsup>
          <mo>&#xb7;</mo>
          <msubsup>
            <mi>p</mi>
            <mi>S</mi>
            <mrow>
              <mi>t</mi>
              <mo>+</mo>
              <mn>1</mn>
            </mrow>
          </msubsup>
        </mrow>
        <mo>+</mo>
        <mrow>
          <msubsup>
            <mi>N</mi>
            <mrow>
              <mi>T</mi>
              <mo>/</mo>
              <mi>R</mi>
            </mrow>
            <mo>*</mo>
          </msubsup>
          <mo>&#xb7;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <msubsup>
                <mi>p</mi>
                <mi>U</mi>
                <mrow>
                  <mi>t</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
              </msubsup>
              <mo>+</mo>
              <msubsup>
                <mi>p</mi>
                <mi>D</mi>
                <mrow>
                  <mi>t</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
              </msubsup>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
      <mo>&#x2062;</mo>
      <mstyle>
        <mtext>
</mtext>
      </mstyle>
      <mo>&#x21d4;</mo>
      <msubsup>
        <mi>p</mi>
        <mi>SO</mi>
        <mrow>
          <mi>t</mi>
          <mo>+</mo>
          <mn>1</mn>
        </mrow>
      </msubsup>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mrow>
        <mfrac>
          <msubsup>
            <mi>N</mi>
            <mi>S</mi>
            <mo>*</mo>
          </msubsup>
          <msubsup>
            <mi>K</mi>
            <mi>S</mi>
            <mo>*</mo>
          </msubsup>
        </mfrac>
        <mo>&#xb7;</mo>
        <msubsup>
          <mi>p</mi>
          <mi>S</mi>
          <mrow>
            <mi>t</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msubsup>
      </mrow>
      <mo>+</mo>
      <mrow>
        <mfrac>
          <msubsup>
            <mi>N</mi>
            <mrow>
              <mi>T</mi>
              <mo>/</mo>
              <mi>R</mi>
            </mrow>
            <mo>*</mo>
          </msubsup>
          <msubsup>
            <mi>K</mi>
            <mi>S</mi>
            <mo>*</mo>
          </msubsup>
        </mfrac>
        <mo>&#xb7;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <msubsup>
              <mi>p</mi>
              <mi>U</mi>
              <mrow>
                <mi>t</mi>
                <mo>+</mo>
                <mn>1</mn>
              </mrow>
            </msubsup>
            <mo>+</mo>
            <msubsup>
              <mi>p</mi>
              <mi>D</mi>
              <mrow>
                <mi>t</mi>
                <mo>+</mo>
                <mn>1</mn>
              </mrow>
            </msubsup>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<ul id="ul0021" list-style="none">
    <li id="ul0021-0001" num="0000">
    <ul id="ul0022" list-style="none">
        <li id="ul0022-0001" num="0211">We charge each consumer (k<sub>i</sub><sup>S</sup>+k<sub>i</sub><sup>S</sup>)&#x2dc;p<sub>SO </sub>
<br/>
The element that we introduced is K<sub>O</sub><sup>*</sup>, i.e., an estimate regarding how much of ongoing operation O has already completed. This estimate is inserted into the pricing equation such that it is forced to balance out:
<br/>
We now charge the consumer: k<sub>i</sub><sup>B</sup>&#xb7;p<sub>B</sub>+k<sub>i</sub><sup>R</sup>&#xb7;p<sub>R</sub>+(k<sub>i</sub><sup>S</sup>+k<sub>i</sub><sup>S</sup>)&#xb7;p<sub>SO </sub>
<br/>
We now pay the supplier: n<sub>i</sub><sup>U</sup>&#xb7;p<sub>U</sub>+n<sub>i</sub><sup>D</sup>&#xb7;p<sub>D</sub>+n<sub>i</sub><sup>S</sup>&#xb7;p<sub>S</sub>&#xb7;adjust(a<sub>i</sub>)(finished+unfinished operations)
<br/>
New Balance Equation:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>K</i><sub>B</sub><sup>*</sup><i>&#xb7;p</i><sub>B</sub><i>+K</i><sub>R</sub><sup>*</sup><i>&#xb7;p</i><sub>R</sub><i>+K</i><sub>S</sub><sup>*</sup><i>&#xb7;p</i><sub>SO</sub><i>=N</i><sub>U</sub><sup>*</sup><i>&#xb7;p</i><sub>U</sub><i>+N</i><sub>D</sub><sup>*</sup><i>&#xb7;p</i><sub>D</sub><i>+N</i><sub>S</sub><sup>*</sup><i>&#xb7;p</i><sub>S </sub><?in-line-formulae description="In-line Formulae" end="tail"?>
</li>
    </ul>
    </li>
</ul>
</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08626566-20140107-M00001.NB">
<img id="EMI-M00001" he="9.14mm" wi="76.20mm" file="US08626566-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08626566-20140107-M00002.NB">
<img id="EMI-M00002" he="7.03mm" wi="76.20mm" file="US08626566-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08626566-20140107-M00003.NB">
<img id="EMI-M00003" he="14.48mm" wi="76.20mm" file="US08626566-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08626566-20140107-M00004.NB">
<img id="EMI-M00004" he="23.96mm" wi="76.20mm" file="US08626566-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US08626566-20140107-M00005.NB">
<img id="EMI-M00005" he="23.96mm" wi="76.20mm" file="US08626566-20140107-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00006" nb-file="US08626566-20140107-M00006.NB">
<img id="EMI-M00006" he="7.03mm" wi="76.20mm" file="US08626566-20140107-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00007" nb-file="US08626566-20140107-M00007.NB">
<img id="EMI-M00007" he="14.82mm" wi="76.20mm" file="US08626566-20140107-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00008" nb-file="US08626566-20140107-M00008.NB">
<img id="EMI-M00008" he="14.82mm" wi="76.20mm" file="US08626566-20140107-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00009" nb-file="US08626566-20140107-M00009.NB">
<img id="EMI-M00009" he="10.92mm" wi="76.20mm" file="US08626566-20140107-M00009.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00010" nb-file="US08626566-20140107-M00010.NB">
<img id="EMI-M00010" he="16.26mm" wi="76.20mm" file="US08626566-20140107-M00010.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00011" nb-file="US08626566-20140107-M00011.NB">
<img id="EMI-M00011" he="8.13mm" wi="76.20mm" file="US08626566-20140107-M00011.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00012" nb-file="US08626566-20140107-M00012.NB">
<img id="EMI-M00012" he="6.35mm" wi="76.20mm" file="US08626566-20140107-M00012.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00013" nb-file="US08626566-20140107-M00013.NB">
<img id="EMI-M00013" he="11.26mm" wi="76.20mm" file="US08626566-20140107-M00013.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00014" nb-file="US08626566-20140107-M00014.NB">
<img id="EMI-M00014" he="17.61mm" wi="76.20mm" file="US08626566-20140107-M00014.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00015" nb-file="US08626566-20140107-M00015.NB">
<img id="EMI-M00015" he="29.63mm" wi="76.20mm" file="US08626566-20140107-M00015.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00016" nb-file="US08626566-20140107-M00016.NB">
<img id="EMI-M00016" he="17.61mm" wi="76.20mm" file="US08626566-20140107-M00016.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00017" nb-file="US08626566-20140107-M00017.NB">
<img id="EMI-M00017" he="7.45mm" wi="76.20mm" file="US08626566-20140107-M00017.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00018" nb-file="US08626566-20140107-M00018.NB">
<img id="EMI-M00018" he="6.35mm" wi="76.20mm" file="US08626566-20140107-M00018.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00019" nb-file="US08626566-20140107-M00019.NB">
<img id="EMI-M00019" he="13.38mm" wi="76.20mm" file="US08626566-20140107-M00019.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00020" nb-file="US08626566-20140107-M00020.NB">
<img id="EMI-M00020" he="13.80mm" wi="76.20mm" file="US08626566-20140107-M00020.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00021" nb-file="US08626566-20140107-M00021.NB">
<img id="EMI-M00021" he="7.45mm" wi="76.20mm" file="US08626566-20140107-M00021.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00022" nb-file="US08626566-20140107-M00022.NB">
<img id="EMI-M00022" he="7.03mm" wi="76.20mm" file="US08626566-20140107-M00022.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00023" nb-file="US08626566-20140107-M00023.NB">
<img id="EMI-M00023" he="7.03mm" wi="76.20mm" file="US08626566-20140107-M00023.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00024" nb-file="US08626566-20140107-M00024.NB">
<img id="EMI-M00024" he="7.45mm" wi="76.20mm" file="US08626566-20140107-M00024.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00025" nb-file="US08626566-20140107-M00025.NB">
<img id="EMI-M00025" he="7.45mm" wi="76.20mm" file="US08626566-20140107-M00025.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00026" nb-file="US08626566-20140107-M00026.NB">
<img id="EMI-M00026" he="9.91mm" wi="76.20mm" file="US08626566-20140107-M00026.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00027" nb-file="US08626566-20140107-M00027.NB">
<img id="EMI-M00027" he="7.45mm" wi="76.20mm" file="US08626566-20140107-M00027.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00028" nb-file="US08626566-20140107-M00028.NB">
<img id="EMI-M00028" he="7.03mm" wi="76.20mm" file="US08626566-20140107-M00028.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00029" nb-file="US08626566-20140107-M00029.NB">
<img id="EMI-M00029" he="7.03mm" wi="76.20mm" file="US08626566-20140107-M00029.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00030" nb-file="US08626566-20140107-M00030.NB">
<img id="EMI-M00030" he="9.91mm" wi="76.20mm" file="US08626566-20140107-M00030.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00031" nb-file="US08626566-20140107-M00031.NB">
<img id="EMI-M00031" he="7.45mm" wi="76.20mm" file="US08626566-20140107-M00031.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00032" nb-file="US08626566-20140107-M00032.NB">
<img id="EMI-M00032" he="14.82mm" wi="76.20mm" file="US08626566-20140107-M00032.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00033" nb-file="US08626566-20140107-M00033.NB">
<img id="EMI-M00033" he="9.91mm" wi="76.20mm" file="US08626566-20140107-M00033.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00034" nb-file="US08626566-20140107-M00034.NB">
<img id="EMI-M00034" he="7.45mm" wi="76.20mm" file="US08626566-20140107-M00034.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00035" nb-file="US08626566-20140107-M00035.NB">
<img id="EMI-M00035" he="11.68mm" wi="76.20mm" file="US08626566-20140107-M00035.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A system comprising:
<claim-text>a memory area storing a plurality of queues of resource suppliers in a resource exchange system, each of said queues corresponding to one of a plurality of data operations to be performed in the resource exchange system, each of said resource suppliers having an account balance corresponding thereto; and</claim-text>
<claim-text>a processor programmed to:
<claim-text>determine a supply of each of a plurality of resources in the resource exchange system;</claim-text>
<claim-text>determine a demand for each of the plurality of resources;</claim-text>
<claim-text>access a plurality of previous prices for each of the plurality of resources;</claim-text>
<claim-text>define a ratio of the determined supply to the determined demand for each of the plurality of resources;</claim-text>
<claim-text>calculate a price for each of the plurality of resources based on the accessed plurality of previous prices and the defined ratio to make values of the defined ratios for the plurality of resources equal;</claim-text>
<claim-text>receive a request from a user, said received request identifying at least one of the plurality of data operations to perform;</claim-text>
<claim-text>identify a plurality of the resource suppliers based at least on the account balance corresponding to each of the resource suppliers and the identified at least one of the plurality of data operations to perform;</claim-text>
<claim-text>provide the identified plurality of the resource suppliers to the user, wherein the user selects at least one of the identified plurality of the resource suppliers to perform the at least one of the plurality of data operations; and</claim-text>
<claim-text>update the account balances based on performance of the at least one of the plurality of data operations and the calculated prices for the plurality of resources.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processor is programmed to determine the supply of each of the plurality of resources by determining a supply of one or more of the following resources: storage space, upload bandwidth, download bandwidth, and computational capacity.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processor is programmed to define the ratio by defining a ratio of an aggregate supply to an aggregate demand for each of the plurality of resources.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processor is programmed to access the plurality of previous prices by accessing the prices for each of the plurality of resources from two previous iterations of said calculating.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processor is programmed to identify the plurality of the resource suppliers based on one or more of the following: a geographical location of each of the resource suppliers, and a time of day during which the resource suppliers are online.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processor is programmed to identify the plurality of the resource suppliers based on one or more of the following: a computing system associated with each of the resource suppliers, and a network connection associated with each of the resource suppliers.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a user interface, and wherein the processor is further programmed to receive from the user via the user interface, resource settings for each of the plurality of resources, said resource settings indicating portions of the resources available to the resource exchange system.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The system of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the processor is further programmed to display the resource settings in the user interface.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A method comprising:
<claim-text>determining, by at least one processor, a supply of each of a plurality of resources in a resource exchange system;</claim-text>
<claim-text>determining, by at least one processor, a demand for each of the plurality of resources;</claim-text>
<claim-text>accessing, by at least one processor, a plurality of previous prices for each of the plurality of resources;</claim-text>
<claim-text>defining, by at least one processor, a ratio of the determined supply to the determined demand for each of the plurality of resources; and</claim-text>
<claim-text>calculating, by at least one processor, a price for each of the plurality of resources based on the accessed plurality of previous prices and the defined ratio to make values of the defined ratios for the plurality of resources equal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein determining the supply of each of the plurality of resources comprises determining a supply of one or more of the following resources: upload bandwidth, and download bandwidth.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein determining the supply of each of the plurality of resources comprises determining a supply of one or more of the following resources: storage space, and computational capacity.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein defining the ratio comprises defining a ratio of an aggregate supply to an aggregate demand for each of the plurality of resources.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein accessing the plurality of previous prices comprises accessing the prices for each of the plurality of resources from two previous iterations of said calculating.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. One or more computer-readable devices having computer-executable components, the computer-readable devices excluding data signals, said components comprising:
<claim-text>an accounting component for maintaining a plurality of queues of resource suppliers in a resource exchange system, each of said queues corresponding to one of a plurality of data operations to be performed in the resource exchange system, each of said resource suppliers having an account balance corresponding thereto;</claim-text>
<claim-text>an interface component for receiving a request from a user, said received request identifying at least one of the plurality of data operations to perform; and</claim-text>
<claim-text>an allocation component for defining a ratio of a supply and a demand of each of a plurality of resources that are required to perform the identified at least one of the plurality of data operations, identifying a plurality of the resource suppliers based at least on the account balance corresponding to each of the resource suppliers and the identified at least one of the plurality of data operations to perform, accessing a previous price for each of the plurality of resources, and calculating a price for each of the plurality of resources based on the accessed previous prices and the defined ratio to make values of the defined ratios for the plurality of resources equal, wherein the interface component provides the identified plurality of the resource suppliers to the user, and wherein the user selects at least one of the identified resource suppliers to perform the data operation using the plurality of resources supplied by the selected resource supplier.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The computer-readable devices of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the allocation component identifies the plurality of the resource suppliers based on one or more of the following: a geographical location of each of the resource suppliers, and a time of day during which the resource suppliers are online.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The computer-readable devices of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the allocation component identifies the plurality of the resource suppliers based on one or more of the following: a computing system associated with each of the resource suppliers, and a network connection associated with each of the resource suppliers.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The computer-readable devices of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the accounting component orders the resource suppliers within the plurality of the queues based on the account balance corresponding to each of the resource suppliers.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The computer-readable devices of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the interface component provides the identified plurality of the resource suppliers to the user by providing the identified plurality of the resource suppliers for display on a personal computing device.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The computer-readable devices of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the accounting component maintains the plurality of queues of resource suppliers in a database.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The computer-readable devices of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein each of the plurality of data operations has an operation price associated therewith.</claim-text>
</claim>
</claims>
</us-patent-grant>
