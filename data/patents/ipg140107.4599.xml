<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625687-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625687</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12464799</doc-number>
<date>20090512</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>GB</country>
<doc-number>0808872.6</doc-number>
<date>20080515</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>1212</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>27</main-group>
<subgroup>28</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>375260</main-classification>
</classification-national>
<invention-title id="d2e71">Ultra-wideband receiver</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7324437</doc-number>
<kind>B1</kind>
<name>Czylwik et al.</name>
<date>20080100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370210</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7881391</doc-number>
<kind>B2</kind>
<name>Kalluri et al.</name>
<date>20110200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375260</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2007/0198719</doc-number>
<kind>A1</kind>
<name>Su et al.</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709226</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2009/0316803</doc-number>
<kind>A1</kind>
<name>Paker et al.</name>
<date>20091200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375260</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>38</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>375259</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375260</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375316</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>6</number-of-drawing-sheets>
<number-of-figures>11</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20090285263</doc-number>
<kind>A1</kind>
<date>20091119</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Seller</last-name>
<first-name>Olivier</first-name>
<address>
<city>Auribeau sur Siagne</city>
<country>FR</country>
</address>
</addressbook>
<residence>
<country>FR</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Seller</last-name>
<first-name>Olivier</first-name>
<address>
<city>Auribeau sur Siagne</city>
<country>FR</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Novak Druce Connolly Bove + Quigg LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>DeLuca</last-name>
<first-name>Vincent M</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Cambridge Silicon Radio Limited</orgname>
<role>03</role>
<address>
<city>Cambridge</city>
<country>GB</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Burd</last-name>
<first-name>Kevin M</first-name>
<department>2632</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A receiver for receiving a signal that is representative of a plurality of sub-carriers modulated in dependence on transmit data, the receiver being arranged to determine a plurality of candidate vectors in dependence on the received signal, each of the candidate vectors being indicative of a modulation applied to a respective one of the sub-carriers, the receiver being further arranged to determine that the received signal incorporates a predetermined level of interference in respect of one or more of the sub-carriers and adjust one or more of the candidate vectors in dependence on that determination and determine the transmit data in dependence on the one or more adjusted candidate vectors, the receiver being arranged to adjust the one or more candidate vectors so as to reduce an influence that the candidate vectors indicative of the one or more sub-carriers would otherwise have had on the determination of the transmit data.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="108.37mm" wi="178.14mm" file="US08625687-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="221.40mm" wi="176.95mm" file="US08625687-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="218.44mm" wi="158.83mm" file="US08625687-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="241.47mm" wi="179.24mm" file="US08625687-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="217.76mm" wi="180.26mm" file="US08625687-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="217.59mm" wi="161.80mm" file="US08625687-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="200.91mm" wi="127.25mm" file="US08625687-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">PRIORITY STATEMENT</heading>
<p id="p-0002" num="0001">This application claims the benefit, under 35 U.S.C. 119, of copending Application No. GB 0808872.6 filed 15 May 2008, entitled &#x201c;UWB Receiver.&#x201d;</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">The invention relates to a receiver and in particular to a UWB receiver that receives signals that represent a plurality of sub-carriers modulated by transmit data.</p>
<p id="p-0004" num="0003">Ultra-wideband (UWB) is a radio technology that transmits data at very low energy levels over a wide bandwidth. UWB may be used for short-range, high-bandwidth communications such as those in personal area networks. Conventional UWB devices are permitted to use the spectrum from 3.1 GHz to 10.6 GHz, although in practice conventional UWB transmissions are limited to between 3.1 GHz and 4.8 GHz for practical reasons. One way of transmitting data using UWB would be to spread a transmission over the entire 1.7 GHz available spectrum by means of spread spectrum techniques. However, implementing circuits that are capable of processing such a wideband signal is challenging. Instead, a multi-band approach has been developed in which the available spectrum has been divided into three sub-bands that each have a bandwidth of approximately 500 MHz, as shown in <figref idref="DRAWINGS">FIG. 1</figref>. <figref idref="DRAWINGS">FIG. 2</figref> shows an example of how frames of data may be transmitted across the three different sub-bands. In this example, the first frame is transmitted over the first sub-band, the second frame is transmitted over the third sub-band, the third frame over the second-sub-band, the fourth frame over the first sub-band and so on. Each frame of data <b>201</b> is separated from the preceding frame by a guard interval <b>204</b>. Each frame may include a cyclic prefix <b>202</b> inserted before the transmit data <b>203</b>. The transmit data may include one or more symbols.</p>
<p id="p-0005" num="0004">UWB systems may transmit data using orthogonal frequency division multiplexing techniques (OFDM) to transmit information on each of the sub-bands. OFDM offers high spectral efficiency, is resilient to RF interference and is able to efficiently capture multi-path energy. An OFDM signal is typically a composite of a number of orthogonal sub-carriers modulated with baseband data. Each sub-carrier may be independently modulated using some type of phase-shift keying or quadrature amplitude modulation, or a combination of the two. The composite baseband signal is then used to modulate a main RF carrier for transmission.</p>
<p id="p-0006" num="0005">Part of an OFDM transmitter is shown in <figref idref="DRAWINGS">FIG. 3</figref>. This section of the transmitter receives a single input data stream <b>301</b> that is converted into N parallel data streams <b>303</b> by means of a switching unit <b>302</b>. A mapping unit may also be provided for mapping the parallel bit streams into parallel symbol streams, but this is not shown in <figref idref="DRAWINGS">FIG. 3</figref>. Each of the parallel data streams represents a signal in the frequency domain. An inverse Fourier transform is performed by processing block <b>304</b> to transform the parallel data streams into real and imaginary time domain signals that can be used to modulate an RF carrier signal <b>307</b>.</p>
<p id="p-0007" num="0006">Part of an OFDM receiver is shown in <figref idref="DRAWINGS">FIG. 4</figref>. This section of the receiver receives a signal and mixes it down to baseband <b>401</b> to generate real <b>402</b> and imaginary <b>403</b> data streams. These data streams represent a time domain signal and are input into a processing block <b>404</b> that performs a Fourier transform to recover N parallel data streams <b>405</b> in the frequency domain. A switching unit <b>406</b> receives the N parallel data streams and forms a single data stream <b>407</b> therefrom. Symbol demapping may also be performed at this point.</p>
<p id="p-0008" num="0007">UWB transmitters typically use 128 sub-carriers or tones on each sub-band. Each symbol to be transmitted may be mapped onto a point on a modulation constellation for a particular sub-carrier. This point indicates the combination of phase and/or modulation to be applied to that sub-carrier. If N sub-carriers are used, and each sub-carrier is modulated by M alternative symbols, the OFDM symbol alphabet consists of M<sup>N </sup>combined symbols. The time domain signal can then be calculated as:</p>
<p id="p-0009" num="0008">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mrow>
            <mi>v</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>t</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>=</mo>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>k</mi>
                <mo>=</mo>
                <mn>0</mn>
              </mrow>
              <mrow>
                <mi>N</mi>
                <mo>-</mo>
                <mn>1</mn>
              </mrow>
            </munderover>
            <mo>&#x2062;</mo>
            <mrow>
              <msub>
                <mi>X</mi>
                <mi>k</mi>
              </msub>
              <mo>&#x2062;</mo>
              <msup>
                <mi>&#x2147;</mi>
                <mrow>
                  <mi>j</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mn>2</mn>
                  <mo>&#x2062;</mo>
                  <mi>&#x3c0;</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <mi>kt</mi>
                    <mo>/</mo>
                    <mi>T</mi>
                  </mrow>
                </mrow>
              </msup>
            </mrow>
          </mrow>
        </mrow>
        <mo>,</mo>
        <mrow>
          <mn>0</mn>
          <mo>&#x2264;</mo>
          <mi>t</mi>
          <mo>&#x3c;</mo>
          <mi>T</mi>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where v(t) is the time domain signal, {X<sub>k</sub>} are the data symbols, N is the number of sub-carriers and T is the OFDM symbol time.
</p>
<p id="p-0010" num="0009">The original frequency domain signal can be recovered by calculating the Fourier transform of the time domain signal:</p>
<p id="p-0011" num="0010">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>X</mi>
            <mi>k</mi>
          </msub>
          <mo>=</mo>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>t</mi>
                <mo>=</mo>
                <mn>0</mn>
              </mrow>
              <mi>T</mi>
            </munderover>
            <mo>&#x2062;</mo>
            <mrow>
              <mrow>
                <mi>v</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>t</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>&#x2062;</mo>
              <msup>
                <mi>&#x2147;</mi>
                <mrow>
                  <mi>j</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mn>2</mn>
                  <mo>&#x2062;</mo>
                  <mi>&#x3c0;</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <mi>kt</mi>
                    <mo>/</mo>
                    <mi>T</mi>
                  </mrow>
                </mrow>
              </msup>
            </mrow>
          </mrow>
        </mrow>
        <mo>,</mo>
        <mrow>
          <mn>0</mn>
          <mo>&#x2264;</mo>
          <mi>k</mi>
          <mo>&#x2264;</mo>
          <mrow>
            <mi>N</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
UWB receivers may encounter difficulties when one or more of the sub-carriers in the sub-band being used is subject to interference. This situation is shown in <figref idref="DRAWINGS">FIG. 5</figref>, which shows a UWB signal that is obscured by interference over some of its frequency spectrum. This interference can cause the output of the FFT to saturate for the affected sub-carriers. If the interference is extensive, it might even cause either or both of the in-phase and quadrature components generated by mixing the received signal down to baseband to saturate. Existing receivers deal with saturated sub-carriers by simply setting the FFT output for that sub-carrier to the maximum magnitude possible. However, if the reason for the saturation is that the saturated sub-carriers were subject to interference, then the interference will influence the decoding of the signal and may cause bit errors. Therefore, there is a need for an improved UWB receiver that is capable of limiting the impact that interference has on the decoding of a received signal.
</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0012" num="0011">According to a first embodiment of the invention, there is provided a receiver for receiving a signal that is representative of a plurality of sub-carriers modulated in dependence on transmit data, the receiver being arranged to determine a plurality of candidate vectors in dependence on the received signal, each of the candidate vectors being indicative of a modulation applied to a respective one of the sub-carriers, the receiver being further arranged to determine that the received signal incorporates a predetermined level of interference in respect of one or more of the sub-carriers and adjust one or more of the candidate vectors in dependence on that determination and determine the transmit data in dependence on the one or more adjusted candidate vectors, the receiver being arranged to adjust the one or more candidate vectors so as to reduce an influence that the candidate vectors indicative of the one or more sub-carriers would otherwise have had on the determination of the transmit data.</p>
<p id="p-0013" num="0012">The receiver may be arranged to determine that a received signal incorporates the predetermined level of interference in respect of a sub-carrier if the candidate vector indicative of a modulation applied to that sub-carrier has a magnitude that exceeds a predetermined threshold.</p>
<p id="p-0014" num="0013">The receiver may be arranged to form in-phase and quadrature signals from the received signal, the receiver being arranged to determine that the received signal incorporates the predetermined level of interference in respect of all of the sub-carriers if either of the in-phase or quadrature signals has an amplitude that exceeds a predetermined threshold.</p>
<p id="p-0015" num="0014">The receiver may be arranged to form in-phase and quadrature signals from the received signal, the receiver being arranged to determine the plurality of candidate vectors by means of a Fourier transform performed on those in-phase and quadrature signals.</p>
<p id="p-0016" num="0015">The receiver may be arranged to determine the transmit data in dependence on the magnitude of the adjusted and non-adjusted candidate vectors such that each candidate vector exerts an influence on the determination that is dependent on the magnitude of that vector.</p>
<p id="p-0017" num="0016">The receiver may be arranged to adjust the one or more candidate vectors by changing the magnitude of those one or more candidate vectors.</p>
<p id="p-0018" num="0017">The receiver may be arranged to adjust the one or more candidate vectors by decreasing the magnitude of the candidate vectors that are indicative of a modulation applied to sub-carriers in respect of which the received signal is determined to incorporate the predetermined level of interference.</p>
<p id="p-0019" num="0018">The receiver may be arranged to decrease the magnitude of the candidate vectors indicative of a modulation applied to sub-carriers in respect of which the received signal is determined to incorporate the predetermined level of interference in accordance with a predetermined, non-linear function that relates the magnitude of a candidate vector with the magnitude of the adjusted candidate vector to be formed from that candidate vector, such that the larger the magnitude of the candidate vector, the greater the proportion by which the magnitude of that vector is reduced to form the adjusted candidate vector.</p>
<p id="p-0020" num="0019">The receiver may be arranged to decrease the magnitude of the candidate vectors indicative of a modulation applied to sub-carriers in respect of which the received signal is determined to incorporate the predetermined level of interference by multiplying each of those candidate vectors by a multiplier.</p>
<p id="p-0021" num="0020">The receiver may be arranged to select the multiplier in dependence on an amplitude of the received signal and/or on a channel estimation associated with a transmit channel over which the received signal was received.</p>
<p id="p-0022" num="0021">The receiver may be arranged to adjust the one or more candidate vectors by decreasing to zero the candidate vectors that are indicative of a modulation applied to sub-carriers in respect of which the received signal is determined to incorporate the predetermined level of interference.</p>
<p id="p-0023" num="0022">The receiver may be arranged to adjust the one or more candidate vectors by increasing the magnitude of candidate vectors that are indicative of a modulation applied to sub-carriers in respect of which the received signal does not incorporate the predetermined level of interference.</p>
<p id="p-0024" num="0023">The receiver may be arranged to increase the magnitude of those candidate vectors by multiplying each of those candidate vectors by a multiplier.</p>
<p id="p-0025" num="0024">The receiver may be arranged to multiply every candidate vector that is indicative of a modulation applied to sub-carriers in respect of which the received signal does not incorporate the predetermined level of interference by the same multiplier.</p>
<p id="p-0026" num="0025">The receiver may be arranged to multiply one of the candidate vectors that is indicative of a modulation applied to sub-carriers in respect of which the received signal does not incorporate the predetermined level of interference by a different multiplier from another of those candidate vectors.</p>
<p id="p-0027" num="0026">The receiver may be arranged to increase the magnitude of the candidate vectors indicative of a modulation applied to sub-carriers in respect of which the received signal is determined not to incorporate the predetermined level of interference in accordance with a predetermined, non-linear function that relates the magnitude of a candidate vector with the magnitude of the adjusted candidate vector to be formed from that candidate vector, such that the smaller the magnitude of the candidate vector, the greater the proportion by which the magnitude of that vector is increased to form the adjusted candidate vector.</p>
<p id="p-0028" num="0027">The receiver may be arranged to generate data strings that correspond to each sub-carrier, each data string comprising a plurality of bits, and to select a subset of that plurality of bits to form each candidate vector.</p>
<p id="p-0029" num="0028">The receiver may be arranged to generate the data strings by performing a Fourier transform on the in-phase and quadrature signals.</p>
<p id="p-0030" num="0029">The receiver may be arranged to adjust the one or more candidate vectors by shifting the bits of the data strings that form those one or more candidate vectors in a first direction until each of the one or more candidate vectors contains a bit of predetermined value at a predetermined position within that vector.</p>
<p id="p-0031" num="0030">The receiver may be arranged to shift the bits contained within each data string until the leftmost, non-zero bit of every candidate vector is located at the same position in each candidate vector.</p>
<p id="p-0032" num="0031">The receiver may be arranged to determine that a candidate vector is indicative of a modulation applied to a sub-carrier that is adjacent in a frequency spectrum to a sub-carrier in respect of which the received signal incorporates the predetermined level of interference and to, responsive to that determination, adjust that candidate vector so as to reduce an influence that the candidate vector would otherwise have had on the determination of the transmit data.</p>
<p id="p-0033" num="0032">According to a second aspect of the invention, there is provided a receiver for receiving a signal that is representative of a plurality of sub-carriers modulated in dependence on transmit data, the receiver being arranged to determine a plurality of candidate vectors in dependence on the received signal, each of the candidate vectors being indicative of a modulation applied to a respective one of the sub-carriers, the receiver comprising a signal processor that is arranged to determine that the received signal incorporates a predetermined level of interference in respect of one or more of the sub-carriers and adjust one or more of the candidate vectors in dependence on that determination and determine the transmit data in dependence on the one or more adjusted candidate vectors, the receiver being arranged to adjust the one or more candidate vectors so as to reduce an influence that the candidate vectors indicative of the one or more sub-carriers would otherwise have had on the determination of the transmit data.</p>
<p id="p-0034" num="0033">According to a third aspect of the invention, there is provided a method for decoding a signal that is representative of a plurality of sub-carriers modulated in dependence on transmit data, the method comprising determining a plurality of candidate vectors in dependence on the received signal, each of the candidate vectors being indicative of a modulation applied to a respective one of the sub-carriers, determining that the received signal incorporates a predetermined level of interference in respect of one or more of the sub-carriers and adjusting one or more of the candidate vectors in dependence on that determination and determining the transmit data in dependence on the one or more adjusted candidate vectors, wherein the one or more candidate vectors are adjusted so as to reduce an influence that the candidate vectors indicative of the one or more sub-carriers would otherwise have had on the determination of the transmit data.</p>
<p id="p-0035" num="0034">The method may comprise determining that a received signal incorporates the predetermined level of interference in respect of a sub-carrier if the candidate vector indicative of a modulation applied to that sub-carrier has a magnitude that exceeds a predetermined threshold.</p>
<p id="p-0036" num="0035">The method may comprise forming in-phase and quadrature signals from the received signal and determining that the received signal incorporates the predetermined level of interference in respect of all of the sub-carriers if either of the in-phase or quadrature signals has an amplitude that exceeds a predetermined threshold.</p>
<p id="p-0037" num="0036">The method may comprise forming in-phase and quadrature signals from the received signal and determining the plurality of candidate vectors by means of a Fourier transform performed on those in-phase and quadrature signals.</p>
<p id="p-0038" num="0037">The method may comprise determining the transmit data in dependence on the magnitude of the adjusted and non-adjusted candidate vectors such that each candidate vector exerts an influence on the determination that is dependent on the magnitude of that vector.</p>
<p id="p-0039" num="0038">The method may comprise adjusting the one or more candidate vectors by changing the magnitude of those one or more candidate vectors.</p>
<p id="p-0040" num="0039">The method may comprise adjusting the one or more candidate vectors by decreasing the magnitude of the candidate vectors that are indicative of a modulation applied to sub-carriers in respect of which the received signal is determined to incorporate the predetermined level of interference.</p>
<p id="p-0041" num="0040">The method may comprise decreasing the magnitude of the candidate vectors indicative of a modulation applied to sub-carriers in respect of which the received signal is determined to incorporate the predetermined level of interference in accordance with a predetermined, non-linear function that relates the magnitude of a candidate vector with the magnitude of the adjusted candidate vector to be formed from that candidate vector, such that the larger the magnitude of the candidate vector, the greater the proportion by which the magnitude of that vector is reduced to form the adjusted candidate vector.</p>
<p id="p-0042" num="0041">The method may comprise decreasing the magnitude of the candidate vectors that are indicative of a modulation applied to sub-carriers in respect of which the received signal is determined to incorporate the predetermined level of interference by multiplying each of those candidate vectors by a multiplier.</p>
<p id="p-0043" num="0042">The method may comprise selecting the multiplier in dependence on an amplitude of the received signal and/or on a channel estimation associated with a transmit channel over which the received signal was received.</p>
<p id="p-0044" num="0043">The method may comprise adjusting the one or more candidate vectors by decreasing to zero the candidate vectors that are indicative of a modulation applied to sub-carriers in respect of which the received signal is determined to incorporate the predetermined level of interference.</p>
<p id="p-0045" num="0044">The method may comprise adjusting the one or more candidate vectors by increasing the magnitude of candidate vectors that are indicative of a modulation applied to sub-carriers in respect of which the received signal does not incorporate the predetermined level of interference.</p>
<p id="p-0046" num="0045">The method may comprise increasing the magnitude of those candidate vectors by multiplying each of those candidate vectors by a multiplier.</p>
<p id="p-0047" num="0046">The method may comprise multiplying every candidate vector that is indicative of a modulation applied to sub-carriers in respect of which the received signal does not incorporate the predetermined level of interference by the same multiplier.</p>
<p id="p-0048" num="0047">The method may comprise multiplying one of the candidate vectors that is indicative of a modulation applied to sub-carriers in respect of which the received signal does not incorporate the predetermined level of interference by a different multiplier from another of those candidate vectors.</p>
<p id="p-0049" num="0048">The method may comprise increasing the magnitude of the candidate vectors indicative of a modulation applied to sub-carriers in respect of which the received signal is determined not to incorporate the predetermined level of interference in accordance with a predetermined, non-linear function that relates the magnitude of a candidate vector with the magnitude of the adjusted candidate vector to be formed from that candidate vector, such that the smaller the magnitude of the candidate vector, the greater the proportion by which the magnitude of that vector is increased to form the adjusted candidate vector.</p>
<p id="p-0050" num="0049">The method may comprise generating data strings that correspond to each sub-carrier, each data string comprising a plurality of bits, and to select a subset of that plurality of bits to form each candidate vector.</p>
<p id="p-0051" num="0050">The method may comprise generating the data strings by performing a Fourier transform on the in-phase and quadrature signals.</p>
<p id="p-0052" num="0051">The method may comprise adjusting the one or more candidate vectors by shifting the bits of the data strings that form those one or more candidate vectors in a first direction until each of the one or more candidate vectors contains a bit of predetermined value at a predetermined position within that vector.</p>
<p id="p-0053" num="0052">The method may comprise shifting the bits contained within each data string until the leftmost, non-zero bit of every candidate vector is located at the same position in each candidate vector.</p>
<p id="p-0054" num="0053">The method may comprise determining that a candidate vector is indicative of a modulation applied to a sub-carrier that is adjacent in a frequency spectrum to a sub-carrier in respect of which the received signal incorporates the predetermined level of interference and, responsive to that determination, adjusting that candidate vector so as to reduce an influence that the candidate vector would otherwise have had on the determination of the transmit data.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0055" num="0054">The present invention will now be described by way of example only, with reference to the accompanying drawings. In the drawings:</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 1</figref> shows the three sub-bands in a UWB spectrum;</p>
<p id="p-0057" num="0056"><figref idref="DRAWINGS">FIG. 2</figref> shows a frequency-hopping scheme for a UWB system;</p>
<p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. 3</figref> shows an OFDM transmitter;</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 4</figref> shows an OFDM receiver;</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 5</figref> shows a UWB signal that is subject to interference;</p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 6</figref> shows an example of a UWB receiver;</p>
<p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. 7</figref> shows an adjustment unit;</p>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 8</figref> shows a frequency spectrum in which sections of the signal subject to interference have been adjusted to zero;</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. 9</figref> shows a selection window for selecting the candidate vector;</p>
<p id="p-0065" num="0064"><figref idref="DRAWINGS">FIG. 10</figref> shows a bit shift for scaling all sub-carriers to roughly the same value; and</p>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. 11</figref> shows a method of decoding a received signal.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0067" num="0066">A receiver may be arranged to receive a signal that is representative of a plurality of sub-carriers modulated in dependence on transmit data. The receiver may determine a plurality of candidate vectors in dependence on the received signal, such that each candidate vector is indicative of a modulation applied to a respective one of the sub-carriers. If the receiver determines that the received signal incorporates a level of interference in respect of one or more of the sub-carriers that exceeds a predetermined threshold, it may adjust one or more of the candidate vectors accordingly. The adjusted candidate vectors may be associated with sub-carriers that were subject to inference and/or were not subject to interference. The receiver is suitably arranged to perform the adjustment in such a way that an influence that the candidate vectors associated with interfered sub-carriers would otherwise have had on the determination of the transmit data is reduced.</p>
<p id="p-0068" num="0067">Adjusting the candidate vectors in this way is a simple way of addressing the problem of interference on one or more of the sub-carriers that does not require complex processing of the received signal. It may be particularly effective in receivers that have well-adjusted gain control, so that the presence of interference on one or more of the sub-carriers can be determined with a high degree of success.</p>
<p id="p-0069" num="0068">The adjustment applied to one or more of the candidate vectors is suitably in accordance with some predetermined function and may include, for example, addition, subtraction, multiplication or division. An aim of the adjustment may be to reduce an influence of interference on the determination of the transmit data. One way of achieving this is to reduce the magnitude of candidate vectors associated with sub-carriers that have been subject to interference and/or to increase the magnitude of candidate vectors associated with sub-carriers that have not been subject to interference. This is because the determination of the transmit data is typically dependent on the magnitude of the candidate vectors, so that adjusting their magnitude in dependence on the interference suffered by one or more of the sub-carriers may reduce an influence of that interference on the decoding process. Therefore, the number of bit errors caused by the interference may be reduced.</p>
<p id="p-0070" num="0069">An example of a receiver according to an embodiment of the invention is shown in <figref idref="DRAWINGS">FIG. 6</figref>. The receiver is arranged to receive a signal via receiver <b>601</b>. The receiver may be arranged to pass the received signal to a synchroniser for the first few symbols of the signal. If the first few symbols of the signal are known to the receiver, then the receiver may be able to estimate the starting point of the frame by correlating the received signal with the known symbol sequence. When the starting point of the frame has been identified, the receiver typically disables the synchroniser. The synchroniser is therefore not shown in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0071" num="0070">The signal received by the antenna is passed to the mixing circuit <b>604</b> to generate in-phase and quadrature baseband signals. These signals are passed to the transform unit <b>605</b> that computes a fast Fourier transform on the baseband signals. The Fourier transform outputs a data strings corresponding to each sub-carriers or tone that are output to the adjustment units <b>606</b>. The candidate vectors may be formed of the whole or a subset of these data strings.</p>
<p id="p-0072" num="0071">The transform unit may perform an overlap-and-add operation when computing the Fourier transform. For example, for a given symbol, the receiver may receive 165 bits, with bits <b>1</b> to <b>128</b> representing the symbol and bits <b>129</b> to <b>165</b> being zero (if the signal has not been subject to multipath effects). The FFT may then be performed over bits <b>1</b>:<b>128</b>. However, this may not capture all the channel energy if multipath effects have occurred. To address this problem, an overlap and add operation may be performed by overlapping segments of the received signal. For example, an overlap-and-add of length <b>20</b> would give a segment of essentially three parts: bits <b>1</b>:<b>20</b>; bits <b>21</b>:<b>128</b>; bits <b>129</b>:<b>148</b>. Bits <b>1</b>:<b>20</b> and bits <b>129</b>:<b>148</b> may be overlapped with other segments of the received signal. This may be advantageous because incorporating bits <b>1</b>:<b>148</b> into the FFT may allow all the channel energy to be captured. This is because any echoes will typically be present in bits <b>129</b>:<b>148</b>.</p>
<p id="p-0073" num="0072">The candidate vectors formed from the output of the FFT represent a modulation applied to each of the sub-carriers. This modulation may incorporate any modulation intentionally applied to the sub-carrier signals at the transmitter (e.g. any phase, amplitude or frequency modulation) together with any modulation caused by distortion, interference etc encountered by the signal during transmission.</p>
<p id="p-0074" num="0073">The adjustment units are controlled by control unit <b>607</b> to make any adjustments to the candidate vectors that are required. These will be described in more detail below.</p>
<p id="p-0075" num="0074">Some of the transmitted data symbols may be repeated in the frequency domain (e.g. by being transmitted over two or more sub-carriers) and/or in the time domain (e.g. by the same data being transmitted as symbols N and N+1). Therefore, in order to determine the transmitted data, the candidate vectors may be supplied to a combining unit <b>608</b> that combines, as required, candidate vectors corresponding to different sub-carriers and/or different symbols. The combining unit may use Maximum Ratio Combining techniques to perform this function. The data stream output by the combining unit is then received by a decoding unit <b>609</b>. The functions performed by the decoding unit may include e.g. demapping, degrouping, deinterleaving and decoding. The demapping process may involve a Log Likelihood Ratio calculation, which results in a &#x2018;soft bit&#x2019; representation of the transmit data. The decoder is suitably one that accepts such soft bits at its input, e.g. the decoder may be a Viterbi decoder.</p>
<p id="p-0076" num="0075">As an example, a complex value X<sub>k </sub>has been sent on each sub-carrier k. After synchronisation, overlap-and-add, FFT etc, a candidate vector Y<sub>k </sub>is generated in respect of each sub-carrier. The candidate vector can be represented by:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Y</i><sub>k</sub><i>=X</i><sub>k</sub><i>*H</i><sub>k</sub><i>+N</i><sub>k</sub>&#x2003;&#x2003;(3)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where H<sub>k </sub>is the complex channel coefficient for carrier k and N<sub>k </sub>is the complex noise experienced by that carrier.
</p>
<p id="p-0077" num="0076">The candidate vectors may be passed to an equalisation step that forms the basis for demodulation. This equalisation step involves calculating Y<sub>k</sub>*conj(H<sub>k</sub>). If X<sub>k </sub>was formed using QPSK modulation, then by applying the definition of the Log Likelihood Ratio and a noise distribution function, soft values for the two transmitted bits can be calculated as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>LLR</i><sub>k</sub><sub><sub2>0</sub2></sub>=real(<i>Y</i><sub>k</sub>*conj(<i>H</i><sub>k</sub>))&#x2003;&#x2003;(4)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>LLR</i><sub>k</sub><sub><sub2>1</sub2></sub>=imag(<i>Y</i><sub>k</sub>*conj(<i>H</i><sub>k</sub>))&#x2003;&#x2003;(5)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0078" num="0077">Because the same information is received via more than one sub-carrier, the accuracy of the decoding can be improved by combining the candidate vectors corresponding to the different sub-carriers. For example, in a system that uses two sub-carriers, two candidate vectors Y<sub>k1 </sub>and Y<sub>k2 </sub>may represent the same transmitted symbol. The transmitted symbol can be determined by performing Maximum Ratio Combining on the two candidate vectors, e.g. by calculating:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Y</i><sub>k</sub><sub><sub2>1</sub2></sub>*conj(<i>H</i><sub>k</sub><sub><sub2>1</sub2></sub>)+<i>Y</i><sub>k</sub><sub><sub2>2</sub2></sub>*conj(<i>H</i><sub>k</sub><sub><sub2>2</sub2></sub>)&#x2003;&#x2003;(6)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0079" num="0078">To compute LLRk<b>0</b> and LLRk<b>1</b> the real and imaginary parts of equation 6 are taken, in a similar way to that shown in equations 4 and 5.</p>
<p id="p-0080" num="0079">The above demapping scheme is optimal if the channel coefficients are known, and even in real systems in which the channel coefficients are not known exactly, the above scheme may still be the best option when the channel coefficients are known to a reasonable degree of accuracy.</p>
<p id="p-0081" num="0080">In the above scheme, the higher the received power of a particular sub-carrier, the more weight is given to that sub-carrier during the demapping. In particular, the Log Likelihood Ratios are proportional to the square of the estimated channel amplitude. If a sub-carrier is subject to interference, the amplitude of its channel is overestimated and so the Log Likelihood Ratio will incorporate an error (typically this will be an overestimation). The Log Likelihood Ratios may be fed into a viterbi decoder that adds the Log Likelihood Ratios together to find a path of maximum weight on a trellis. Therefore, if a Log Likelihood Ratio is overestimated, the weight given to that Log Likelihood Ratio during the search for the best path through the trellis will also be overestimated.</p>
<p id="p-0082" num="0081">In one example, the ADC in each of the in-phase and quadrature receive chains may be a 6 bit ASC. I/Q compensation may be performed on each of the in-phase and quadrature signals, which adds two precision bits. The FFT is then performed on the resulting 8 bits. The FFT adds more bits, because of the 128 sub-carriers or tones that need to be considered in a typical UWB system. This introduces a further 7 bits, giving a total of 15 bits. Out of these 15 bits, typically 8 are selected for further processing. In this example, those 8 bits form the candidate vector.</p>
<p id="p-0083" num="0082">An example of an adjustment unit for forming the adjusted candidate vectors is shown in <figref idref="DRAWINGS">FIG. 7</figref>. The adjustment unit is arranged to receive a data string <b>701</b> associated with a particular sub-carrier from the transform unit and a control signal <b>702</b> from the control unit. The adjustment unit comprises a check unit <b>703</b> and an adjustor <b>704</b>. The check unit may be arranged to receive the data string and check that the sub-carrier has not been subject to interference. The check unit may be arranged to determine that the sub-carrier has been subject to interference if the magnitude of the candidate vector that will be selected from that data string exceeds a predetermined threshold. The predetermined threshold may be determined to have been exceeded if the candidate vector is saturated. The check unit may be arranged to inform the control unit via control line <b>702</b> that the sub-carrier has been subject to interference. Similarly, the check unit may also be arranged to inform the control unit that the sub-carrier has not been subject to interference.</p>
<p id="p-0084" num="0083">If the check unit determines that a sub-carrier has been subject to interference it may automatically pass the data string to the adjustor so that the candidate vector can be adjusted according to a predetermined function. Alternatively, the check unit may wait for instructions from the control unit. The check unit may be instructed by the control unit to adjust the candidate vector irrespective of whether the candidate vector was indicative of its associated sub-carrier being subject to interference or not.</p>
<p id="p-0085" num="0084">If the check unit determines that the candidate vector is to be adjusted, or if it is instructed by the control unit to do so, it may pass the data string to the adjustor for the adjustment to be performed. Alternatively, the data string may be read directly into the adjustor from the transform unit, with the check unit checking whether or not the sub-carrier was subject to interference. The adjustor performs the required adjustment (if any) of the candidate vector and supplies it to the output of the adjustment unit <b>705</b>.</p>
<p id="p-0086" num="0085">In one embodiment, the adjustor may be a bit-shifter. This enables the candidate vectors to be multiplied or divided. Also, if each candidate vector comprises a subset of the data string, the bits that from the candidate vector can be selected by shifting bits in or out of a selection &#x2018;window&#x2019;.</p>
<p id="p-0087" num="0086">The receiver may comprise a signal processor that is arranged to receive and process the in-phase and quadrature baseband signals. For example, the signal processor may implement one or more of: the transform unit, the adjustment units, the control unit, the combining unit and the decoding unit.</p>
<p id="p-0088" num="0087">Some examples of functions that may be applied to the candidate vectors to reduce the influence that interference has on the determination of the transmit data will now be described. However, this is for the purposes of example only, and it should be understood that any suitable function or algorithm might be employed.</p>
<p id="p-0089" num="0088">In one example, if a sub-carrier is determined to have been subject to the predetermined level of interference, the candidate vector corresponding to that sub-carrier is set to zero. This example is shown in <figref idref="DRAWINGS">FIG. 8</figref>, which illustrates a frequency spectrum corresponding to the spectrum shown in <figref idref="DRAWINGS">FIG. 5</figref> but with the interference removed by setting those parts of the spectrum to zero. This does result in some loss of information. However, this may be preferable to the risk of decoding the transmit data incorrectly due to the interference. Removing the interference by setting the affected sub-carriers to zero may be particularly suitable for receivers that use some form of statistical processing during the decoding process (for example, receivers that use Maximum Ratio Combining for despreading and/or soft-inputs for decoding) because the value of zero indicates that there is no information associated with that sub-carrier, which may be preferable to passing on incorrect information to the later processing stages.</p>
<p id="p-0090" num="0089">The FFT may output a first number of bits, with a subset of those bits being selected as candidate vectors for further processing. The subset of bits taken for further processing may always be located at the same position within the first number of bits. The receiver may determine that the subset of bits should be adjusted to zero if that subset if saturated. For example, the FFT may output 15 bits in respect of each sub-carrier, with 8 of those bits being selected for further processing. If a sub-carrier saturates those 8 bits, they are set to zero in the candidate vector that is passed on for further processing.</p>
<p id="p-0091" num="0090">It may be that all of the sub-carriers have been subject to interference. This may happen if interference occurs in the middle of a transmission (otherwise gain control should typically prevent ADC saturation). In this situation, either or both of the in-phase or quadrature signals may saturate. The receiver may set all of the candidate vectors to zero if either the in-phase or quadrature signals saturate. In practice, this may mean that all of the candidate vectors are set to zero if the output of the ADC in either the in-phase or quadrature paths saturates.</p>
<p id="p-0092" num="0091">In a refinement to the algorithm described above, sub-carriers that are adjacent to a saturated sub-carrier may also be assumed to have been subject to interference. Therefore, the candidate vectors corresponding to these adjacent sub-carriers may also be set to zero.</p>
<p id="p-0093" num="0092">Rather than setting all sub-carriers that have been subject to interference to zero, a sliding scale may be employed in which the magnitude of each of the carrier vectors corresponding to interfered sub-carriers is reduced, but not necessarily to zero and not necessarily by the same amount. For example, each of the candidate vectors corresponding to interfered sub-carriers might be multiplied by a multiplier having a value between 0 and 1. The multiplier might be a vector. It may be advantageous to choose multiples that can be implemented by a bit shift.</p>
<p id="p-0094" num="0093">The multiplier might be selected in dependence on the amplitude or energy level of the received signal. For example, the greater the energy of the received signal, the lower the multiplier that may be used to adjust the candidate vectors corresponding to each of the interfered sub-carriers. The multiplier may decay according to a non-linear function, so that it decays quickly to zero with increasing energy in the received signal. Another option is for the selection of the multiplier to be dependent on an estimation of the channel. For example, the magnitude of the affected candidate vectors might be reduced dependent on a difference between the amplitude/energy level of the received signal compared with the amplitude/energy level predicted by the channel estimator. This option may be suitable for interferences that appear in the middle of a received frame.</p>
<p id="p-0095" num="0094">The adjustment might also be selected in dependence on each of the sub-carriers. For example, the multipliers might be selected in dependence on the output of each FFT. In this case, different adjustments may be applied to each candidate vector.</p>
<p id="p-0096" num="0095">The selection of a suitable multiplier might be performed by the control unit shown in <figref idref="DRAWINGS">FIG. 6</figref>. This selection might be performed in dependence on a predetermined function (which may be non-linear) relating candidate vectors and their corresponding adjusted candidate vectors, information from the adjustments units, information from a monitoring unit (not shown) that monitors the amplitude or energy levels of the received signal and/or information from the channel estimator etc. The control unit may inform the adjustment units of how each of the candidate vectors is to be adjusted, e.g. a number of bit shifts to be performed.</p>
<p id="p-0097" num="0096">In addition to adjusting the candidate vectors that are indicative of interference by a suitable multiplier, similar adjustments may be made to candidate vectors for adjacent sub-carriers, i.e. adjacent sub-carriers need not be reduced to zero, but may be decreased according to some predetermined function in a similar way to that described above.</p>
<p id="p-0098" num="0097">In a further example, the subset of bits that is selected from the bits output by the FFT for further processing may not always be in the same position. The receiver may be able to vary the &#x201c;selection window&#x201d; as a form of gain control. For example, a form of time domain gain control may be implemented in which the subset of bits is selected in dependence on the average power of the received signal across all sub-carriers. So, for example, if the average power is relatively high, this may cause the selection window to effectively move to the left, while if the average power is relatively low, this may cause the selection window to effectively move to the right. This is illustrated in <figref idref="DRAWINGS">FIG. 9</figref>. The same effect may be achieved by bit shifting the output of the FFT right or left, as appropriate, and keeping the selection window unchanged.</p>
<p id="p-0099" num="0098">If many of the sub-carriers are saturated, this will cause the average power across all sub-carriers to be relatively high, causing the selection window shown in <figref idref="DRAWINGS">FIG. 9</figref> to effectively shift to the left. This means that the magnitude of the candidate vectors for the other sub-carriers will be relatively low. Therefore, rather than keeping the position of the selection window constant, it may be advantageous to move the selection window to the right for the sub-carriers that have not been subject to interference. This may improve resolution for the non-saturated carriers.</p>
<p id="p-0100" num="0099">Instead of reducing the influence of interference on the determination of the transmit data by reducing the magnitude of the candidate vectors corresponding to interfered sub-carriers, it is also possible to reduce this influence by increasing the magnitude of the candidate vectors corresponding to sub-carriers that have not been subject to interference. One way of doing this is by shifting the bits output by the FFT to the left. This may be performed for each sub-carrier, with the FFT bits shifted to the left until the first non-zero bit for each FFT output is in the same position. An example of such a bit shift is shown in <figref idref="DRAWINGS">FIG. 10</figref>.</p>
<p id="p-0101" num="0100">In <figref idref="DRAWINGS">FIG. 10</figref>, the data strings on the left-hand side represent the FFT outputs corresponding to four sub-carriers. The data strings on the right-hand side represent the FFT outputs corresponding to those same four sub-carriers after a bit shift. The FFT outputs <b>1002</b> and <b>1003</b> are considered to correspond to sub-carriers that are subject to interference that exceeds the predetermined threshold because the 8 bits located within the selection window are saturated. The FFT outputs <b>1001</b> and <b>1004</b> correspond to sub-carriers that have not been subject to interference that exceeds the predetermined threshold because the 8 bits within the selection window are not saturated. A bit shift is then performed on the non-saturated carriers so that the first non-zero bit for those sub-carriers is located in the leftmost bit of the selection window. In this example, only data string <b>1004</b> requires adjustment. After bit selection, all sub-carriers have roughly the same value because each has its leading non-zero value located in the same position.</p>
<p id="p-0102" num="0101">An example of a method for decoding received signals is illustrated in <figref idref="DRAWINGS">FIG. 11</figref>. The steps of the method include receiving a signal (step S<b>1102</b>), forming candidate vectors from that received signal (step S<b>1104</b>) and determining whether one or more of the sub-carriers in the received signal was subject to interference (step S<b>1106</b>). If no, the signal is decoded using the existing candidate vectors (step S<b>1108</b>). If yes, one or more of the candidate vectors is adjusted (step S<b>1110</b>) and the signal is decoded using the adjusted candidate vectors (step S<b>1112</b>).</p>
<p id="p-0103" num="0102">The examples above describe various ways in which candidate vectors might be adjusted to counteract the influence of interference on the determination of transmit data. Each of these examples need not be taken in isolation. Instead, elements of one example (e.g. decreasing saturated sub-carriers) may be combined with elements of another example (e.g. increasing non-saturated sub-carriers).</p>
<p id="p-0104" num="0103">The above examples have mainly concentrated on multiplication/division of the candidate vectors. However, the receiver might equally implement adjustments involving subtraction and/or addition.</p>
<p id="p-0105" num="0104">A receiver according to embodiments of the invention has been described above mainly with reference to UWB transmission systems. This is for the purposes of example only and it should be understood that the principles described herein might equally be implemented in receivers for transmission systems other than UWB systems.</p>
<p id="p-0106" num="0105">The applicant hereby discloses in isolation each individual feature described herein and any combination of two or more such features, to the extent that such features or combinations are capable of being carried out based on the present specification as a whole in light of the common general knowledge of a person skilled in the art, irrespective of whether such features or combinations of features solve any problems disclosed herein, and without limitation to the scope of the claims. The applicant indicates that aspects of the present invention may consist of any such feature or combination of features. In view of the foregoing description it will be evident to a person skilled in the art that various modifications may be made within the scope of the invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08625687-20140107-M00001.NB">
<img id="EMI-M00001" he="9.14mm" wi="76.20mm" file="US08625687-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08625687-20140107-M00002.NB">
<img id="EMI-M00002" he="8.81mm" wi="76.20mm" file="US08625687-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A receiver for receiving a signal that is representative of a plurality of sub-carriers modulated in dependence on transmit data, the receiver being arranged to determine a plurality of candidate vectors in dependence on the received signal, each of the candidate vectors being indicative of a modulation applied to a respective one of the sub-carriers, the receiver comprising:
<claim-text>means for determining that the received signal incorporates a predetermined level of interference in respect of one or more of the sub-carriers, and for adjusting one or more of the candidate vectors in dependence on that determination; and</claim-text>
<claim-text>means for determining the transmit data in dependence on the one or more adjusted candidate vectors;</claim-text>
<claim-text>the receiver being arranged to adjust the one or more candidate vectors so as to reduce an influence that the candidate vectors indicative of the one or more sub-carriers would otherwise have had on the determination of the transmit data,</claim-text>
<claim-text>wherein the receiver is arranged to adjust the one or more candidate vectors by decreasing the magnitude of the candidate vectors that are indicative of a modulation applied to sub-carriers in respect of which the received signal is determined to incorporate the predetermined level of interference in accordance with a predetermined, non-linear function that relates the magnitude of a candidate vector with the magnitude of the adjusted candidate vector to be formed from that candidate vector, such that the larger the magnitude of the candidate vector, the greater the proportion by which the magnitude of that vector is reduced to form the adjusted candidate vector.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A receiver as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the receiver is arranged to determine that a received signal incorporates the predetermined level of interference in respect of a sub-carrier if the candidate vector indicative of a modulation applied to that sub-carrier has a magnitude that exceeds a predetermined threshold.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A receiver as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the receiver is arranged to form in-phase and quadrature signals from the received signal, the receiver being arranged to determine that the received signal incorporates the predetermined level of interference in respect of all of the sub-carriers if either of the in-phase or quadrature signals has an amplitude that exceeds a predetermined threshold.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A receiver as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the receiver is arranged to form in-phase and quadrature signals from the received signal, the receiver being arranged to determine the plurality of candidate vectors by means of a Fourier transform performed on those in-phase and quadrature signals.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A receiver as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the receiver is arranged to determine the transmit data in dependence on the magnitude of the adjusted and non-adjusted candidate vectors such that each candidate vector exerts an influence on the determination that is dependent on the magnitude of that vector.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A receiver as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the receiver is arranged to adjust the one or more candidate vectors by changing the magnitude of those one or more candidate vectors.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A receiver as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the receiver is arranged to decrease the magnitude of the candidate vectors indicative of a modulation applied to sub-carriers in respect of which the received signal is determined to incorporate the predetermined level of interference by multiplying each of those candidate vectors by a multiplier.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A receiver as claimed in <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the receiver is arranged to select the multiplier in dependence on an amplitude of the received signal.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A receiver as claimed in <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the receiver is arranged to select the multiplier in dependence on a channel estimation associated with a transmit channel over which the received signal was received.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A receiver as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the receiver is arranged to adjust the one or more candidate vectors by decreasing to zero the candidate vectors that are indicative of a modulation applied to sub-carriers in respect of which the received signal is determined to incorporate the predetermined level of interference.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A receiver as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the receiver is arranged to adjust the one or more candidate vectors by increasing the magnitude of candidate vectors that are indicative of a modulation applied to sub-carriers in respect of which the received signal does not incorporate the predetermined level of interference.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A receiver as claimed in <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the receiver is arranged to increase the magnitude of those candidate vectors by multiplying each of those candidate vectors by a multiplier.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A receiver as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the receiver is arranged to generate data strings that correspond to each sub-carrier, each data string comprising a plurality of bits, and to select a subset of that plurality of bits to form each candidate vector.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. A receiver as claimed in <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the receiver is arranged to form in-phase and quadrature signals from the received signal, the receiver being arranged to determine the plurality of candidate vectors by means of a Fourier transform performed on those in-phase and quadrature signals, and
<claim-text>wherein the receiver is arranged to generate the data strings by performing a Fourier transform on the in-phase and quadrature signals.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. A receiver as claimed in <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the receiver is arranged to adjust the one or more candidate vectors by shifting the bits of the data strings that form those one or more candidate vectors in a first direction until each of the one or more candidate vectors contains a bit of predetermined value at a predetermined position within that vector.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. A receiver as claimed in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the receiver is arranged to shift the bits contained within each data string until the leftmost, non-zero bit of every candidate vector is located at the same position in each candidate vector.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. A method for decoding a signal that is representative of a plurality of sub-carriers modulated in dependence on transmit data, the method comprising:
<claim-text>determining a plurality of candidate vectors in dependence on the received signal, each of the candidate vectors being indicative of a modulation applied to a respective one of the sub-carriers;</claim-text>
<claim-text>determining that the received signal incorporates a predetermined level of interference in respect of one or more of the sub-carriers and adjusting one or more of the candidate vectors in dependence on that determination; and</claim-text>
<claim-text>determining the transmit data in dependence on the one or more adjusted candidate vectors;</claim-text>
<claim-text>wherein the one or more candidate vectors are adjusted so as to reduce an influence that the candidate vectors indicative of the one or more sub-carriers would otherwise have had on the determination of the transmit data,</claim-text>
<claim-text>wherein the method further comprises:</claim-text>
<claim-text>adjusting the one or more candidate vectors by decreasing the magnitude of the candidate vectors that are indicative of a modulation applied to sub-carriers in respect of which the received signal is determined to incorporate the predetermined level of interference in accordance with a predetermined, non-linear function that relates the magnitude of a candidate vector with the magnitude of the adjusted candidate vector to be formed from that candidate vector, such that the larger the magnitude of the candidate vector, the greater the proportion by which the magnitude of that vector is reduced to form the adjusted candidate vector.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. A method as claimed in <claim-ref idref="CLM-00017">claim 17</claim-ref>, comprising determining that a received signal incorporates the predetermined level of interference in respect of a sub-carrier if the candidate vector indicative of a modulation applied to that sub-carrier has a magnitude that exceeds a predetermined threshold.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. A method as claimed in <claim-ref idref="CLM-00017">claim 17</claim-ref>, comprising forming in-phase and quadrature signals from the received signal and determining that the received signal incorporates the predetermined level of interference in respect of all of the sub-carriers if either of the in-phase or quadrature signals has an amplitude that exceeds a predetermined threshold.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. A method as claimed in <claim-ref idref="CLM-00017">claim 17</claim-ref>, comprising forming in-phase and quadrature signals from the received signal and determining the plurality of candidate vectors by means of a Fourier transform performed on those in-phase and quadrature signals.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. A method as claimed in <claim-ref idref="CLM-00017">claim 17</claim-ref>, comprising determining the transmit data in dependence on the magnitude of the adjusted and non-adjusted candidate vectors such that each candidate vector exerts an influence on the determination that is dependent on the magnitude of that vector.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. A method as claimed in <claim-ref idref="CLM-00017">claim 17</claim-ref>, comprising adjusting the one or more candidate vectors by changing the magnitude of those one or more candidate vectors.</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. A method as claimed in <claim-ref idref="CLM-00017">claim 17</claim-ref>, comprising decreasing the magnitude of the candidate vectors that are indicative of a modulation applied to sub-carriers in respect of which the received signal is determined to incorporate the predetermined level of interference by multiplying each of those candidate vectors by a multiplier.</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. A method as claimed in <claim-ref idref="CLM-00023">claim 23</claim-ref>, comprising selecting the multiplier in dependence on an amplitude of the received signal.</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. A method as claimed in <claim-ref idref="CLM-00023">claim 23</claim-ref>, comprising selecting the multiplier in dependence on a channel estimation associated with a transmit channel over which the received signal was received.</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. A method as claimed in <claim-ref idref="CLM-00017">claim 17</claim-ref>, comprising adjusting the one or more candidate vectors by decreasing to zero the candidate vectors that are indicative of a modulation applied to sub-carriers in respect of which the received signal is determined to incorporate the predetermined level of interference.</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. A method as claimed in <claim-ref idref="CLM-00017">claim 17</claim-ref>, comprising generating data strings that correspond to each sub-carrier, each data string comprising a plurality of bits, and to select a subset of that plurality of bits to form each candidate vector.</claim-text>
</claim>
<claim id="CLM-00028" num="00028">
<claim-text>28. A method as claimed in <claim-ref idref="CLM-00027">claim 27</claim-ref> as dependent directly or indirectly on <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein the receiver is arranged to generate the data strings by performing a Fourier transform on the in-phase and quadrature signals.</claim-text>
</claim>
<claim id="CLM-00029" num="00029">
<claim-text>29. A method as claimed in <claim-ref idref="CLM-00027">claim 27</claim-ref>, comprising adjusting the one or more candidate vectors by shifting the bits of the data strings that form those one or more candidate vectors in a first direction until each of the one or more candidate vectors contains a bit of predetermined value at a predetermined position within that vector.</claim-text>
</claim>
<claim id="CLM-00030" num="00030">
<claim-text>30. A method as claimed in <claim-ref idref="CLM-00029">claim 29</claim-ref>, comprising shifting the bits contained within each data string until the leftmost, non-zero bit of every candidate vector is located at the same position in each candidate vector.</claim-text>
</claim>
<claim id="CLM-00031" num="00031">
<claim-text>31. A receiver for receiving a signal that is representative of a plurality of sub-carriers modulated in dependence on transmit data, the receiver being arranged to determine a plurality of candidate vectors in dependence on the received signal, each of the candidate vectors being indicative of a modulation applied to a respective one of the sub-carriers, the receiver comprising:
<claim-text>means for determining that the received signal incorporates a predetermined level of interference in respect of one or more of the sub-carriers, and for adjusting one or more of the candidate vectors in dependence on that determination; and</claim-text>
<claim-text>means for determining the transmit data in dependence on the one or more adjusted candidate vectors;</claim-text>
<claim-text>the receiver being arranged to adjust the one or more candidate vectors so as to reduce an influence that the candidate vectors indicative of the one or more sub-carriers would otherwise have had on the determination of the transmit data,</claim-text>
<claim-text>wherein the receiver is arranged to adjust the one or more candidate vectors by increasing the magnitude of candidate vectors that are indicative of a modulation applied to sub-carriers in respect of which the received signal does not incorporate the predetermined level of interference by multiplying each of those candidate vectors by a multiplier, and</claim-text>
<claim-text>wherein the receiver is arranged to multiply every candidate vector that is indicative of a modulation applied to sub-carriers in respect of which the received signal does not incorporate the predetermined level of interference by the same multiplier.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00032" num="00032">
<claim-text>32. A receiver as claimed in <claim-ref idref="CLM-00031">claim 31</claim-ref>, wherein the receiver is arranged to multiply one of the candidate vectors that is indicative of a modulation applied to sub-carriers in respect of which the received signal does not incorporate the predetermined level of interference by a different multiplier from another of those candidate vectors.</claim-text>
</claim>
<claim id="CLM-00033" num="00033">
<claim-text>33. A receiver as claimed in <claim-ref idref="CLM-00031">claim 31</claim-ref>, wherein the receiver is arranged to increase the magnitude of the candidate vectors indicative of a modulation applied to sub-carriers in respect of which the received signal is determined not to incorporate the predetermined level of interference in accordance with a predetermined, non-linear function that relates the magnitude of a candidate vector with the magnitude of the adjusted candidate vector to be formed from that candidate vector, such that the smaller the magnitude of the candidate vector, the greater the proportion by which the magnitude of that vector is increased to form the adjusted candidate vector.</claim-text>
</claim>
<claim id="CLM-00034" num="00034">
<claim-text>34. A receiver for receiving a signal that is representative of a plurality of sub-carriers modulated in dependence on transmit data, the receiver being arranged to determine a plurality of candidate vectors in dependence on the received signal, each of the candidate vectors being indicative of a modulation applied to a respective one of the sub-carriers, the receiver comprising:
<claim-text>means for determining that the received signal incorporates a predetermined level of interference in respect of one or more of the sub-carriers, and for adjusting one or more of the candidate vectors in dependence on that determination; and</claim-text>
<claim-text>means for determining the transmit data in dependence on the one or more adjusted candidate vectors;</claim-text>
<claim-text>the receiver being arranged to adjust the one or more candidate vectors so as to reduce an influence that the candidate vectors indicative of the one or more sub-carriers would otherwise have had on the determination of the transmit data,</claim-text>
<claim-text>wherein the receiver is arranged to determine that a candidate vector is indicative of a modulation applied to a sub-carrier that is adjacent in a frequency spectrum to a sub-carrier in respect of which the received signal incorporates the predetermined level of interference and to, responsive to that determination, adjust that candidate vector so as to reduce an influence that the candidate vector would otherwise have had on the determination of the transmit data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00035" num="00035">
<claim-text>35. A method for decoding a signal that is representative of a plurality of sub-carriers modulated in dependence on transmit data, the method comprising:
<claim-text>determining a plurality of candidate vectors in dependence on the received signal, each of the candidate vectors being indicative of a modulation applied to a respective one of the sub-carriers;</claim-text>
<claim-text>determining that the received signal incorporates a predetermined level of interference in respect of one or more of the sub-carriers and adjusting one or more of the candidate vectors in dependence on that determination; and</claim-text>
<claim-text>determining the transmit data in dependence on the one or more adjusted candidate vectors;</claim-text>
<claim-text>wherein the one or more candidate vectors are adjusted so as to reduce an influence that the candidate vectors indicative of the one or more sub-carriers would otherwise have had on the determination of the transmit data by increasing the magnitude of candidate vectors that are indicative of a modulation applied to sub-carriers in respect of which the received signal does not incorporate the predetermined level of interference, wherein increasing the magnitude of those candidate vectors comprises multiplying each of those candidate vectors by a multiplier, the method further comprising multiplying every candidate vector that is indicative of a modulation applied to sub-carriers in respect of which the received signal does not incorporate the predetermined level of interference by the same multiplier.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00036" num="00036">
<claim-text>36. A method as claimed in <claim-ref idref="CLM-00035">claim 35</claim-ref>, comprising multiplying one of the candidate vectors that is indicative of a modulation applied to sub-carriers in respect of which the received signal does not incorporate the predetermined level of interference by a different multiplier from another of those candidate vectors.</claim-text>
</claim>
<claim id="CLM-00037" num="00037">
<claim-text>37. A method as claimed in <claim-ref idref="CLM-00035">claim 35</claim-ref>, comprising increasing the magnitude of the candidate vectors indicative of a modulation applied to sub-carriers in respect of which the received signal is determined not to incorporate the predetermined level of interference in accordance with a predetermined, non-linear function that relates the magnitude of a candidate vector with the magnitude of the adjusted candidate vector to be formed from that candidate vector, such that the smaller the magnitude of the candidate vector, the greater the proportion by which the magnitude of that vector is increased to form the adjusted candidate vector.</claim-text>
</claim>
<claim id="CLM-00038" num="00038">
<claim-text>38. A method for decoding a signal that is representative of a plurality of sub-carriers modulated in dependence on transmit data, the method comprising:
<claim-text>determining a plurality of candidate vectors in dependence on the received signal, each of the candidate vectors being indicative of a modulation applied to a respective one of the sub-carriers;</claim-text>
<claim-text>determining that the received signal incorporates a predetermined level of interference in respect of one or more of the sub-carriers and adjusting one or more of the candidate vectors in dependence on that determination; and</claim-text>
<claim-text>determining the transmit data in dependence on the one or more adjusted candidate vectors;</claim-text>
<claim-text>wherein the one or more candidate vectors are adjusted so as to reduce an influence that the candidate vectors indicative of the one or more sub-carriers would otherwise have had on the determination of the transmit data, the method further comprising:</claim-text>
<claim-text>determining that a candidate vector is indicative of a modulation applied to a sub-carrier that is adjacent in a frequency spectrum to a sub-carrier in respect of which the received signal incorporates the predetermined level of interference and, responsive to that determination, adjusting that candidate vector so as to reduce an influence that the candidate vector would otherwise have had on the determination of the transmit data. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
