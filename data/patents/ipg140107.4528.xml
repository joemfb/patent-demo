<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625612-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625612</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12826014</doc-number>
<date>20100629</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>385</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>12</main-group>
<subgroup>28</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370401</main-classification>
</classification-national>
<invention-title id="d2e53">Management of serving gateways for enhanced performance</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6594468</doc-number>
<kind>B1</kind>
<name>Ramanathan</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6925082</doc-number>
<kind>B2</kind>
<name>Buhrke et al.</name>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370393</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2007/0192495</doc-number>
<kind>A1</kind>
<name>Marais et al.</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2010/0080172</doc-number>
<kind>A1</kind>
<name>Jin et al.</name>
<date>20100400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2010/0208698</doc-number>
<kind>A1</kind>
<name>Lu et al.</name>
<date>20100800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370331</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2010/0215019</doc-number>
<kind>A1</kind>
<name>Velev et al.</name>
<date>20100800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370331</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2012/0106508</doc-number>
<kind>A1</kind>
<name>Zhou et al.</name>
<date>20120500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370331</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>WO</country>
<doc-number>2010048979</doc-number>
<date>20100500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>WO</country>
<doc-number>2010069601</doc-number>
<kind>A1</kind>
<date>20100600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00010">
<othercit>ETSI TS 129 212, &#x201c;Universal Mobile Telecommunications System (UMTS); LTE; Policy and Charging Control Over Gx Reference Point (3GPP TS 29.212 version 9.2.0 Release 9)&#x201d;, 2010.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00011">
<othercit>ETSI TS 129 213, &#x201c;Digital Cellular Telecommunications System (Phase 2+); Universal Mobile Telecommunications System (UMTS); LTE; Policy and Charging Control Signalling Flows and Quality of Service (QoS) Parameter Mapping (3GPP TS 29.213 version 9.2.0 Release 9)&#x201d;, 2010.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00012">
<othercit>ETSI TS 129 214, &#x201c;Universal Mobile Telecommunications System (UMTS); LTE; Policy and Charging Control Over Rx Reference Point (3GPP TS 29,214 version 9.3.0 Release 9)&#x201d;, 2010.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00013">
<othercit>International Search Report for PCT/IB2011/001783 dated Feb. 7, 2012.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>22</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>4</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110317709</doc-number>
<kind>A1</kind>
<date>20111229</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Cuervo</last-name>
<first-name>Fernando</first-name>
<address>
<city>Dunrobin</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Robinson</last-name>
<first-name>Allen</first-name>
<address>
<city>Ottawa</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Cutler</last-name>
<first-name>Kevin Scott</first-name>
<address>
<city>Carp</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Cuervo</last-name>
<first-name>Fernando</first-name>
<address>
<city>Dunrobin</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Robinson</last-name>
<first-name>Allen</first-name>
<address>
<city>Ottawa</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Cutler</last-name>
<first-name>Kevin Scott</first-name>
<address>
<city>Carp</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Kramer &#x26; Amado P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Alcatel Lucent</orgname>
<role>03</role>
<address>
<city>Paris</city>
<country>FR</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Wilson</last-name>
<first-name>Robert</first-name>
<department>2475</department>
</primary-examiner>
<assistant-examiner>
<last-name>Davis</last-name>
<first-name>Ronald H</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Various embodiments relate to a system and related method for managing a connection of a user device to a communications network. Various embodiments relate to a Policy and Charging Rules Node (PCRN) receiving a user requests through multiple serving gateways. The PCRN may assign one of the serving gateways as a primary serving gateway when the serving gateway sends a Gateway Control Session that binds to an IP-CAN session established in the PCRN. When the PCRN receives a subsequent message from another serving gateway, the PCRN may reassign the new serving gateway as primary when its Gateway Control Session matches. The PCRN may then mark the former serving gateway as pending termination and signal the marked gateway to terminate. After sending rules to serving gateways not pending termination, the PCRN may delete those serving gateways marked for termination.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="136.82mm" wi="200.32mm" file="US08625612-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="221.74mm" wi="149.94mm" orientation="landscape" file="US08625612-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="204.64mm" wi="150.71mm" orientation="landscape" file="US08625612-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="246.04mm" wi="156.38mm" file="US08625612-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="188.38mm" wi="156.38mm" file="US08625612-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="251.21mm" wi="169.16mm" file="US08625612-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0002" num="0001">Various exemplary embodiments disclosed herein relate generally to policy and charging in telecommunications networks.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">As the demand increases for varying types of applications within mobile telecommunications networks, service providers must constantly upgrade their systems in order to reliably provide this expanded functionality. What was once a system designed solely for voice communications has recently grown into a heterogeneous system that enables access to communications platforms such as text messaging, multimedia streaming along with general Internet access. To support such applications, service and infrastructure providers have built new networks over existing voice communication infrastructure. As evidenced by second and third generation networks, voice services must be carried over dedicated voice channels toward a traditional circuit-switched core, while other services, such as IP-enabled data and communications may be transmitted over a different packet-switched core, following Internet protocol (IP). This has led to unique problems, including, for example, application provision, metering and charging, and quality of experience (QoE) assurance.</p>
<p id="p-0004" num="0003">One recent attempt to enhance the dual-core approach of the second (2G, 2.5G) and third generations (3G) of mobile telecommunications standards defined by the International Telecommunications Union has been in the form of a new set of standards. The Third Generation Partnership Project (3GPP) has recommended a new network scheme deemed &#x2018;Long Term Evolution&#x2019; (LTE). Under the new standards, all communications in an LTE network are carried over an IP channel from user equipment (UE), such as a mobile phone or smartphone, to an all-IP core named the Evolved Packet Core (EPC). The EPC may then provide gateway access to other networks, while also ensuring an acceptable QoE for a user's network activity and properly charging the subscriber for such activity.</p>
<p id="p-0005" num="0004">The 3GPP generally describes the components of the EPC and their interactions with each other in some technical specifications, specifically, 3GPP TS 29.212, 3GPP TS 29.213, and 3GPP TS 29.214, which describe components such as a Policy and Charging Rules Function (PCRF), Policy and Charging Enforcement Function (PCEF), and Bearer Binding and Event Reporting Function (BBERF) of the EPC. These technical specifications also provided some details regarding the interactions between these components. These specifications gave some guidance on how the EPC could provide reliable data services to users, while also reliably charging subscribers for use of the IP network.</p>
<p id="p-0006" num="0005">For example, 3GPP TS 29.212, 3GPP TS 29.213, and 3GPP TS 29.214 provide some guidance on handling connectivity when multiple gateways may be used to connect a specific user device to the EPC. Specifically, the specifications provide some guidance on an algorithm to assign the user device to one of the candidate gateways. However, the algorithm outlined by the specifications may not always work and the specification does not consider such instances.</p>
<p id="p-0007" num="0006">In view of the foregoing, it would be desirable to provide a system and method more capable of handling such occurrences. In particular, it would be desirable to provide a system that may take appropriate action when an algorithm to choose a specific gateway is unsuccessful.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0008" num="0007">In light of the present need for a method for handling the designation of candidate gateways by the PCRN, a brief summary of various exemplary embodiments is presented. Some simplifications and omissions may be made in the following summary, which is intended to highlight and introduce some aspects of the various exemplary embodiments, but not to limit the scope of the invention. Detailed descriptions of a preferred exemplary embodiment adequate to allow those of ordinary skill in the art to make and use the inventive concepts will follow in the later sections.</p>
<p id="p-0009" num="0008">Various embodiments may relate to a method performed by a Policy Charging and Rules Node (PCRN) to manage a connection of a user device to a communications network. The method includes one or more of the following steps, such as receiving a user request from the user device through at least a first serving gateway for connection to the communications network, generating a rule based on the information included in the user request received from the user device through the first serving gateway, pushing the rule to at least the first serving gateway, wherein the first serving gateway is not pending termination, and assigning the first serving gateway as the primary serving gateway. The method may also include receiving the user request from the user device through at least a second serving gateway for connection to the communications network, signaling the second serving gateway to terminate when the first serving gateway is assigned as the primary serving gateway, wherein the second serving gateway is signaled to remove the rule, and deleting the second serving gateway from a database in the PCRN when the second serving gateway does not respond to the signal to terminate.</p>
<p id="p-0010" num="0009">Various embodiments may also relate to a system for handling a user device in a communications network. The system may include one or more of the following, such as a user device for establishing a connection with the communications network, the user device generating a user request for said establishing, a Packet Data Network Gateway (PGW) for generating an establishing message to establish an IP-CAN (Internet Protocol Connectivity Access Network) session, at least a first and second serving gateway for receiving the user request from the user device, the first serving gateway generating a first binding message and the second serving gateway generating the second binding message, and a Policy Charging and Rules Node (PCRN) for receiving at least the establishing message from the PGW and the first and second binding messages from the first and second gateways.</p>
<p id="p-0011" num="0010">The PCRN of various embodiments receives the user request from the user device for connection to the communications network, generates a rule based on the information included in the user request received from the user device through the first binding message generated by the first serving gateway, pushes the rule to at least the first serving gateway, wherein the first serving gateway is not pending termination, assigns the first serving gateway as the primary serving gateway, signals the second serving gateway to terminate when the first serving gateway is assigned as the primary serving gateway, the second serving gateway signaled to remove the rule, and deletes the second serving gateway from a database in the PCRN when the second serving gateway does not respond to the signal to terminate.</p>
<p id="p-0012" num="0011">It should be apparent that, in this manner, various exemplary embodiments enable dynamic handling of message from multiple sources. Particularly, by enabling the PCRN to control connections with multiple gateways, the PCRN may reduce processing load without sacrifice quality of service.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0013" num="0012">In order to better understand various exemplary embodiments, reference is made to the accompanying drawings wherein:</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 1</figref> illustrates an exemplary subscriber network for providing various data services;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 2</figref> illustrates an exemplary network for a PCRN to receive multiple requests from a plurality of serving gateways;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 3</figref>, illustrates an exemplary flowchart for binding an established IP-CAN session to a target gateway control session; and</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 4</figref>, illustrates another exemplary flowchart for binding an established IP-CAN session to a target gateway control session.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0018" num="0017">Referring now to the drawings, in which like numerals refer to like components or steps, there are disclosed broad aspects of various exemplary embodiments.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 1</figref> illustrates an exemplary subscriber network <b>100</b> for providing various data services. Exemplary subscriber network <b>100</b> may be a telecommunications network or other network for providing access to various services. Exemplary subscriber network <b>100</b> may include at least one piece of user equipment (UE) <b>110</b>, a base station <b>120</b>, an evolved packet core (EPC) <b>130</b>, a packet data network <b>140</b>, and an application node (AN) <b>150</b>.</p>
<p id="p-0020" num="0019">User equipment (UE) <b>110</b> may be a device that communicates with the packet data network <b>140</b> for providing the end-user with a data service. Such data service may include, for example, voice communication, text messaging, multimedia streaming, and Internet access. Specifically, in various exemplary embodiments, UE <b>110</b> is a personal or laptop computer, wireless e-mail device, cellular phone, television set-top box, or any other device capable of communicating with other devices via the EPC <b>130</b>.</p>
<p id="p-0021" num="0020">Base station <b>120</b> may be a device that enables communication between UE <b>110</b> and the EPC <b>130</b>. For example, the base station <b>120</b> may be a base transceiver station such as an evolved nodeB (eNodeB) as defined by 3GPP standards. Thus, the base station <b>120</b> may be a device that communicates with the UE <b>110</b> via a first medium, such as radio communication, and communicates with the EPC <b>130</b> via a second medium, such as an Ethernet cable. Base station <b>120</b> may be in direct communication with the EPC <b>130</b> or may communicate via a number of intermediate nodes (not shown in <figref idref="DRAWINGS">FIG. 1</figref>). In various embodiments, multiple base stations (not shown) similar to the base station <b>120</b> may be present to provide mobility to the UE <b>110</b>. In various alternative embodiments, UE <b>110</b> may communicate directly with the EPC <b>130</b>. In such embodiments, the base station <b>120</b> may not be present.</p>
<p id="p-0022" num="0021">Evolved packet core (EPC) <b>130</b> may be a device or network of devices that provides the UE <b>110</b> with gateway access to the packet data network <b>140</b>. EPC <b>130</b> may further charge a subscriber for use of provided data services and ensure that particular quality of experience (QoE) standards are met. Thus, the EPC <b>130</b> may be implemented, at least in part, according to the 3GPP TS 29.212, 29.213, 29.214 technical specifications. Accordingly, the EPC <b>130</b> may include a serving gateway (SGW) <b>132</b>, a packet data network gateway (PGW) <b>134</b>, a policy and charging rules node (PCRN) <b>136</b>, and a subscription profile repository (SPR) <b>138</b>.</p>
<p id="p-0023" num="0022">Serving gateway (SGW) <b>132</b> may be a device that provides gateway access to the EPC <b>130</b>. SGW <b>132</b> may be the first device within the EPC <b>130</b> that receives packets sent by the UE <b>110</b>. SGW <b>132</b> may forward such packets towards the PGW <b>134</b>. SGW <b>132</b> may perform a number of functions such as, for example, managing mobility of user equipment <b>110</b> between multiple base stations (not shown) and enforcing particular quality of service (QoS) characteristics, such as guaranteed bit rate, for each flow being served. In various implementations, such as those implementing the Proxy Mobile Internet Protocol (PMIP) standard, the SGW <b>132</b> may include a Bearer Binding and Event Reporting Function (BBERF). In various exemplary embodiments, the EPC <b>140</b> may include multiple SGW (not shown) similar to the SGW <b>132</b> and each SGW may communicate with multiple base stations (not shown) similar to the base station <b>120</b>.</p>
<p id="p-0024" num="0023">Packet data network gateway (PGW) <b>134</b> may be a device that provides gateway access to the packet data network <b>140</b>. PGW <b>134</b> may be the final device within the EPC <b>130</b> that receives packets sent by user equipment <b>110</b> toward the packet data network <b>140</b> via the SGW <b>132</b>. PGW <b>134</b> may include a policy and charging enforcement function (PCEF) that enforces policy and charging control (FCC) rules for each service data flow (SDF). Thus, the PGW <b>134</b> may be a policy and charging enforcement node (PCEN). PGW <b>134</b> may include a number of additional features, such as, for example, packet filtering, deep packet inspection, and subscriber charging support.</p>
<p id="p-0025" num="0024">Policy and charging rules node (PCRN) <b>136</b> may be a device that receives requests for services, generates PCC rules, and provides PCC rules to the PGW <b>134</b> and/or other PCENs (not shown). PCRN <b>136</b> may be in communication with application node (AN) <b>150</b> via an Rx interface. PCRN <b>136</b> may receive requests from AN <b>150</b>, SGW <b>132</b>, or PGW <b>134</b>. Upon receipt of a service request, PCRN <b>136</b> may generate at least one new PCC rule for fulfilling the service request.</p>
<p id="p-0026" num="0025">PCRN <b>136</b> may also be in communication with SGW <b>132</b> and PGW <b>134</b> via a Gxx and a Gx interface, respectively. Upon creating a new PCC rule or upon request by the PGW <b>134</b>, PCRN <b>136</b> may provide a PCC rule to PGW <b>134</b> via the Gx interface. In various embodiments, such as those implementing the PMIP standard for example, PCRN <b>136</b> may also generate QoS rules. Upon creating a new QoS rule or upon request by the SGW <b>132</b>, PCRN <b>136</b> may provide a QoS rule to SGW <b>132</b> via the Gxx interface.</p>
<p id="p-0027" num="0026">PCRN <b>136</b> may receive messages from SGW <b>132</b> and PGW <b>134</b>. These messages may both, for example, originate as a single request from the UE <b>110</b>. For example, the UE <b>110</b> may generate a service request that requires both access to the EPC <b>130</b> and the PGW <b>134</b>. PCRN <b>136</b> may create sessions for messages received through the SGW <b>132</b> and PGW <b>134</b> and may also bind these sessions together when the messages are related to each other. PCRN <b>136</b> may then ensure proper service for the UE <b>110</b> when, fo example, the UE <b>110</b> moves and communicates with a new SGW (not shown). The PCRN <b>136</b> may regulate the binding of newly-established session from the new SGW so that the UE <b>110</b> still has access to the packet data network through the PGW <b>134</b>, while ensuring a binding between the session (e.g., IP-CAN session) through PGW <b>134</b> and various other sessions (e.g., gateway control sessions) through various SGWs <b>132</b>.</p>
<p id="p-0028" num="0027">Subscription profile repository (SPR) <b>138</b> may be a device that stores information related to subscribers to the subscriber network <b>100</b>. Thus, SPR <b>138</b> may include a machine-readable storage medium such as read-only memory (ROM), random-access memory (RAM), magnetic disk storage media, optical storage media, flash-memory devices, and/or similar storage media. SPR <b>138</b> may be a component of PCRN <b>136</b> or may constitute an independent node within EPC <b>130</b>. In other embodiments, the SPR <b>138</b> may be a device separate from the EPC <b>130</b>. Data stored by SPR <b>138</b> may include an identifier of each subscriber and indications of subscription information for each subscriber such as bandwidth limits, charging parameters, and subscriber priority.</p>
<p id="p-0029" num="0028">Packet data network <b>140</b> may be any network for providing data communications between user equipment <b>110</b> and other devices connected to packet data network <b>140</b>, such as AN <b>150</b>. Packet data network <b>140</b> may further provide, for example, phone and/or Internet service to various user devices in communication with packet data network <b>140</b>.</p>
<p id="p-0030" num="0029">Application node (AN) <b>150</b> may be a device that includes an application function (AF) and provides an application service to user equipment <b>110</b>. Thus, AN <b>150</b> may be a server or other device that provides, for example, a video streaming or voice communication service to user equipment <b>110</b>. AN <b>150</b> may further be in communication with the PCRN <b>136</b> of the EPC <b>130</b> via an Rx interface. When AN <b>150</b> is to begin providing application service to user equipment <b>110</b>, AN <b>150</b> may generate a request message, such as an AA-Request (AAR) according to the Diameter protocol, to notify the PCRN <b>136</b>. This request message may include information such as an identification of the subscriber using the application service and an identification of the particular service data flows that must be established in order to provide the requested service. AN <b>150</b> may communicate such an application request to the PCRN <b>136</b> via the Rx interface.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 2</figref> illustrates an exemplary network for a PCRN to receive multiple requests from a plurality of serving gateways. The exemplary network <b>200</b> may include components of the EPC <b>130</b>, including a policy and charging rules node (PCRN) <b>201</b> a packet data network gateway (PGW) <b>202</b>, a plurality of serving gateways <b>203</b>-<b>209</b> and at least one piece of user equipment (UE) <b>211</b>. The plurality of serving gateways <b>203</b>-<b>209</b> may include a primary serving gateway (P-SGW) <b>203</b> and a plurality of secondary serving gateways (SGW) <b>205</b>-<b>209</b>.</p>
<p id="p-0032" num="0031">The PCRN <b>201</b> may be similar to PCRN <b>136</b> of network <b>100</b>. The PCRN <b>201</b> may receive multiple requests from the plurality of serving gateways <b>203</b>-<b>209</b>. In various embodiments, the requests from the serving gateways <b>2032</b>-<b>209</b> may be generated in response to a user request generated by UE <b>211</b>. When multiple gateways <b>203</b>-<b>209</b> are capable of enabling connectivity for the UE <b>211</b>, the PCRN <b>201</b> may designate one serving gateway from the plurality of serving gateways <b>203</b>-<b>209</b> to serve as the primary serving gateway (P-SGW) <b>203</b>. PCRN <b>201</b> may also designate the other candidate serving gateways as non-primary serving gateways (SGW) <b>205</b>-<b>209</b>.</p>
<p id="p-0033" num="0032">PCRN <b>201</b> may base the assignment of the primary serving gateway on the best match with an established IP-CAN session within the PCRN <b>201</b> according to various attributes. Such attributes may be included in a Session Binding Identifier (SBI) that was created and subsequently stored when the IP-CAN session was established. Other attributes may include, for example, a matching IP-CAN Type. Various embodiments may involve the PCRN <b>201</b> using other methods to determine the primary gateway using various criteria associated with each respective serving gateway <b>203</b>-<b>209</b> such as, for example, distance to the UE <b>211</b> and/or PCRN <b>201</b>, propagation time, time shift, available capacity, and device load, among others.</p>
<p id="p-0034" num="0033">Primary serving gateway (P-SGW) <b>203</b> may be assigned as the primary serving gateway by the PCRN <b>201</b> after transmitting a request to the PCRN <b>201</b>. P-SGW <b>203</b> may generate a request in response to a received user request sent by UE <b>211</b>. The request generated by P-SGW <b>203</b> may be a Gateway Control Session Establishment Request. The PCRN <b>201</b> may match the request transmitted by the P-SGW <b>203</b> to an established IP-CAN session stored in the PCRN <b>201</b>. The IP-CAN session may be associated with a connection to a packet data network gateway (PGW) <b>202</b>, similar to the PGW <b>134</b> in system <b>100</b>.</p>
<p id="p-0035" num="0034">Over time, the User Equipment (UE) <b>211</b> may change locations. In some embodiments, the UE <b>211</b> may change locations while connected to the network. In these instances, multiple serving gateways <b>203</b>-<b>209</b>, which may include the primary serving gateway (P-SGW) <b>203</b> and at least one secondary serving gateway (SGW) <b>205</b>-<b>209</b>, may attempt to enable UE <b>211</b> connectivity to the network through PCRN <b>201</b>. In some embodiments, PCRN <b>201</b> may not initially determine which one of the candidate gateways <b>203</b>-<b>209</b> should act as the primary serving gateway. This may occur when the PCRN <b>201</b> uses an algorithm to determine a primary serving gateway (i.e., P-SGW <b>203</b>), but does not produce an actual gateway from the candidate gateways <b>203</b>-<b>209</b> to serve as the primary.</p>
<p id="p-0036" num="0035">In some instances, multiple serving gateways <b>205</b>-<b>209</b> may attempt connectivity with the PCRN <b>201</b> for the UE <b>211</b> as non-primary or backup serving gateways. While the PCRN <b>201</b> may allow connectivity through non-primary gateways, simultaneous connection to a high number of redundant non-primary serving gateways may place a strain on the PCRN <b>201</b> and cause a loss in the PCRN's <b>201</b> processing speed. In some embodiments, the build-up of extraneous SGWs <b>205</b>-<b>209</b> may be the result of an SGW <b>205</b> failing to report to the PCRN <b>201</b>, which may maintain the gateway control session established in SGW <b>205</b> while also establishing a new gateway control session in SGW <b>207</b>.</p>
<p id="p-0037" num="0036">In some embodiments, the PCRN <b>201</b> may avoid the problem of extraneous serving gateways <b>205</b>-<b>209</b> due to handovers through exclusion, where the PCRN <b>201</b> only pushes PCC rules and QoS rules to SGWs <b>205</b>-<b>209</b> that are not pending termination. After the handover of the primary serving gateway takes place, for example from the SGW <b>203</b> to the SGW <b>205</b>, the PCRN <b>201</b> may force the other serving gateways <b>203</b>, <b>207</b>, <b>209</b> to terminate any potential gateway control sessions generated to handle the UE <b>211</b>. The serving gateways <b>203</b>, <b>207</b>, <b>209</b> may mark their respective gateway control sessions as pending termination, so that the serving gateways <b>203</b>, <b>207</b>, <b>209</b> no longer receive further rules from the PCRN <b>201</b>. The serving gateways <b>203</b>, <b>207</b>, <b>209</b> may respond to the request made by the PCRN <b>201</b> by terminating the generated sessions associated with the UE <b>211</b>. However, if the serving gateways <b>203</b>, <b>207</b>, <b>209</b> fail to respond to the request by the PCRN <b>201</b>, the PCRN may delete records of the serving gateways <b>203</b>, <b>207</b>, <b>209</b> from its database so that it ignores any requests received through those serving gateways <b>203</b>, <b>207</b>, <b>209</b>.</p>
<p id="p-0038" num="0037">Referring now to <figref idref="DRAWINGS">FIG. 3</figref>, an exemplary flowchart for binding an established IP-CAN session to a target gateway control session is illustrated. In steps <b>301</b>-<b>303</b>, the PCRN <b>201</b> may receive a message from the PGW <b>202</b> that may include information to establish an IP-CAN session at the PCRN <b>201</b>. The establishing message sent by the PGW <b>202</b> may also include information that the PCRN <b>201</b> may also use to construct a Session Binding Identifier (SBI). The information used to construct the SBI may be, for example, a message's session identification, IPv4 address, IPv6 prefix, at least one subscription identifier, and Access Point Name (APN). In step <b>305</b>, the PCRN <b>201</b> may establish the IP-CAN session in the PCRN <b>201</b>. The PCRN <b>201</b> may then in step <b>307</b> construct an SBI for the IP-CAN session using the information included in the establishing message. In some embodiments, the message may not include all possible attributes that may be included in the SBI. For example, PGW <b>202</b> may send an establishing message for an IP-CAN session that only includes information regarding the IPv4 address and IPv6 prefix. The PCRN <b>201</b> may construct an SBI using the information available. If there is no existing SBI matching the SBI constructed for the IP-CAN session, the PCRN <b>201</b> may then in step <b>309</b> store the newly-constructed SBI in SPR <b>138</b> via the Sp interface.</p>
<p id="p-0039" num="0038">In step <b>311</b>, the PCRN <b>201</b> may receive a first binding message from one of the serving gateways <b>203</b>-<b>209</b>. In some embodiments, the PCRN <b>201</b> might attempt to appoint a primary serving gateway. The PCRN <b>201</b> may determine whether to assign the serving gateway <b>203</b> that sent the first binding message as the primary serving gateway, for example, by determining whether the gateway control session contained in the first binding message matches the established IP-CAN session. This may include, for example, comparing in step <b>313</b> the IP-CAN Type included in the message with the established IP-CAN session. In some embodiments, the IP-CAN Type must match the IP-CAN session in order for the gateway control session to bind with the established IP-CAN session.</p>
<p id="p-0040" num="0039">In some embodiments, the PCRN <b>201</b> may also construct an SBI from the information included in the binding message and compare the SBI of the binding message with the SBI of the establishing message. The comparison of the IP-CAN session's SBI with the gateway control session's SBI in step <b>313</b> may involve the PCRN <b>201</b> first determining if a respective SBI contains an attribute value, such as, for example, an IPv6 prefix. The PCRN <b>201</b> may then use the attributes included in the gateway control session's SBI and compare those attributes with that of the IP-CAN session's SBI to determine if they both refer to the same subscriber. When making such a comparison, all available attributes must match (i.e., the IPv4 address and the IPv6 prefix must match, the subscription IDs must refer to the same subscriber, etc.) in order for the gateway control session to bind with the IP-CAN session.</p>
<p id="p-0041" num="0040">If the potential gateway control session SBI matches with the SBI of the established IP-CAN session, the PCRN <b>201</b> may in step <b>315</b> bind the potential gateway control session to the established IP-CAN session, while the PCRN <b>201</b> may store a record of the binding in a database. Otherwise, when the IP-CAN Type or an SBI attribute fails to match (e.g., the SBIs do not refer to the same subscriber), the method <b>300</b> may proceed to step <b>317</b>, where the potential gateway control session remains unbound from the established IP-CAN session. In some embodiments, the PCRN may also mark the serving gateway that transmitted the message as ready for termination. For example, if SGW <b>205</b> sends a gateway control message that does not match the IP-CAN session established in the PCRN <b>201</b> for the UE <b>211</b>, the PCRN <b>201</b> may mark the gateway control session in SGW <b>205</b> as ready for termination. In some embodiments, the PCRN <b>201</b> may terminate the session through a Re-Authorization Request (RAR), such as a session-abort-cause attribute-value pair (AVP). In some embodiments, the PCRN <b>201</b> may signal the SGW <b>205</b> to terminate the session through a message, such as a Command-Code Request (CCR) message. In other embodiments, the PCRN <b>201</b> may kill the session if it was established in the PCRN <b>201</b>.</p>
<p id="p-0042" num="0041">Following either step <b>315</b> or <b>317</b>, in step <b>319</b>, the PCRN <b>201</b> may determine whether there are other potential gateway control sessions that may bind to the IP-CAN session. In some embodiments, the PCRN <b>201</b> may wait for a pre-determined period before checking for other gateway control sessions. In other embodiments, the PCRN <b>201</b> may wait until it receives a subsequent binding message from a second serving gateway while the first gateway control session remains bound to the IP-CAN session.</p>
<p id="p-0043" num="0042">When there is a subsequent potential gateway control session, the PCRN in step <b>321</b> may compare the IP-CAN Type and SBI attributes of the subsequent potential gateway control session with the established IP-CAN session, with step <b>321</b> being similar to step <b>313</b>. If the IP-CAN Type and available SBI attributes match the established IP-CAN session, the PCRN in step <b>323</b> bind the subsequent potential gateway control session with the IP-CAN session. In some embodiments, the PCRN <b>201</b> may also unbind the previous gateway control session from the IP-CAN session. In these embodiments, the PCRN <b>201</b> may also delete the previously bound gateway control session in the PCRN <b>201</b> and/or the serving gateway. The PCRN <b>201</b> may signal the serving gateway to delete the gateway control session through a Re-Authorization Request (RAR), which may be, for example, a session-abort-cause AVP. The serving gateway may subsequently remove the gateway control session.</p>
<p id="p-0044" num="0043">In step <b>325</b>, the PCRN <b>201</b> may reassign the serving gateway that transmitted the message containing the subsequent potential gateway control session as the primary serving gateway. In some embodiments, the PCRN <b>201</b> may reassign the former primary serving as a non-primary serving gateway. In other embodiments, the PCRN <b>201</b> may mark the former primary serving gateway as pending termination. The PCRN <b>201</b> may mark the serving gateway through a Re-Authorization Request (RAR), which may be, for example, a session-abort-cause AVP.</p>
<p id="p-0045" num="0044">After step <b>325</b>, method <b>300</b> may return back to step <b>319</b>, where the PCRN <b>201</b> may wait to receive another gateway control session. Alternatively, method <b>300</b> may return back to step <b>325</b> when, at step <b>321</b>, the PCRN <b>201</b> determines upon comparison of the IP-CAN Type and SBI attributes of the subsequent potential gateway control session against the IP-CAN session, the subsequent potential gateway control session did not match. At step <b>319</b>, when the PCRN <b>201</b> determines that there are no longer any subsequent potential gateway sessions to bind with the IP-CAN session, the PCRN <b>201</b> may proceed to step <b>327</b>, ending method <b>300</b>.</p>
<p id="p-0046" num="0045">As an example, a P-SGW <b>203</b> may serve as a primary serving gateway after the PCRN <b>201</b> bound an established IP-CAN session for UE <b>211</b> with a first gateway control session (GCS<b>1</b>), which was included in a first binding message sent by the P-SGW <b>203</b>. The PCRN <b>201</b>, after determining that the GCS<b>1</b> matched the IP-CAN session, may have assigned the P-SGW <b>203</b> as the primary service gateway. After this establishment, the UE <b>211</b> may move, or other events known to a person of skill in the art may cause a second serving gateway SGW <b>207</b> to also transmit a second binding message from UE <b>211</b> to the PCRN <b>201</b>. The second binding message may also include a second gateway control session (GCS<b>2</b>) that may be a subsequent potential gateway control session. The PCRN <b>201</b> may have taken no action between the binding of the GCS<b>1</b> with the IP-CAN session and the receipt of the GCS<b>2</b>. The PCRN <b>201</b> may have also waited for a pre-determined time to receive a message from the SGW <b>207</b>.</p>
<p id="p-0047" num="0046">Upon receipt of the GCS<b>2</b>, the PCRN <b>201</b> may determine that the GCS<b>2</b> also matches the IP-CAN Type and SBI of the IP-CAN session. When the GCS<b>2</b> matches, the PCRN <b>201</b> may bind the GCS<b>2</b> to the IP-CAN session. The PCRN <b>201</b> may also substitute the SGW <b>203</b> with SGW <b>207</b> as the primary serving gateway, as the SGW <b>207</b> transmitted the second binding message. In some embodiments, the PCRN <b>201</b> may keep the GCS<b>1</b> bound to the IP-CAN session as non-primary. In other embodiments, the PCRN <b>201</b> may unbind the GCS<b>1</b> from the IP-CAN session once the latter GCS<b>2</b> binds to the IP-CAN session and is assigned as primary. In some embodiments, the PCRN <b>201</b> may delete the GCS<b>1</b> in the PCRN <b>201</b> and/or SGW <b>203</b>. In some embodiments, the PCRN <b>201</b> may mark the SGW <b>203</b> as pending termination.</p>
<p id="p-0048" num="0047">Referring now to <figref idref="DRAWINGS">FIG. 4</figref>, another exemplary flowchart for binding an established IP-CAN session to a target gateway control session is illustrated. Method <b>400</b> in <figref idref="DRAWINGS">FIG. 4</figref> may be similar to method <b>300</b> in <figref idref="DRAWINGS">FIG. 3</figref>, with the PCRN <b>201</b> in method <b>400</b> pushing messages to all relevant serving gateways that are not marked for termination. This may still allow the PCRN <b>201</b> to support a limited number of non-primary serving gateways without overly limiting processing speed, as the systematic marking of serving gateways for termination may limit the number of serving gateways connected for a given UE <b>211</b>.</p>
<p id="p-0049" num="0048">Steps <b>401</b>-<b>423</b> are similar to <b>301</b>-<b>323</b>, with the PCRN <b>201</b> receiving an establishing message from PGW <b>202</b> containing an IP-CAN session, the PCRN <b>201</b> establishing the IP-CAN session, constructing an SBI from information included in the establishing message, and storing the SBI in the SPR <b>138</b>. At step <b>411</b>, the PCRN <b>201</b> may receive one or more binding messages simultaneously. In either instance, the PCRN in step <b>413</b> may compare of the potential gateway control sessions with the IP-CAN session, comparing, for example, the IP-CAN Type and available SBI attributes with the IP-CAN session and its SBI. If it matches, the PCRN <b>201</b> may bind the gateway control session to the IP-CAN session in step <b>415</b>. If the gateway control session does not match, the PCRN <b>201</b> may proceed to step <b>417</b>, where the sessions remain unbound. The PCRN <b>201</b> may wait to receive another message containing a gateway control session in step <b>419</b>.</p>
<p id="p-0050" num="0049">When there is another gateway control session, the PCRN may in step <b>421</b> compare the subsequent potential gateway control session to the IP-CAN session. If the subsequent gateway control session matches, in step <b>423</b>, the IP-CAN session may bind the subsequent potential gateway control session with the IP-CAN session. In some embodiments, the PCRN <b>201</b> may unbind the previous gateway control session and mark the session for removal in the PCRN <b>201</b> and the serving gateway. The PCRN <b>201</b> may mark the gateway control session for termination in the PRCN <b>201</b> and/or serving gateway through a Re-Authorization Request (RAR), which may be, for example, a session-abort-cause AVP.</p>
<p id="p-0051" num="0050">In step <b>425</b>, the PCRN <b>201</b> may reassign the serving gateway that sent the message containing the subsequent potential gateway control session, now bound to the IP-CAN session, as the primary gateway control session. The PCRN <b>201</b> in step <b>427</b> may then reassign the previous primary serving gateway that sent the message containing the previously-bound gateway control session. In some embodiments, the PCRN <b>201</b> may mark the previous serving gateway as a non-primary serving gateway, where the previous gateway control session may still be bound to the IP-CAN session as non-primary. In some embodiments, the PCRN <b>201</b> may mark previous gateways as pending termination. In some embodiments, the PCRN <b>201</b> may only mark the previous primary serving gateway as pending termination. In other embodiments, the PCRN <b>201</b> may mark one or more serving gateways as pending termination, up to an including the previous primary termination. The PCRN <b>201</b> may not, however, in step <b>427</b> mark the current primary serving gateway as pending termination.</p>
<p id="p-0052" num="0051">In step <b>428</b>, the PCRN <b>201</b> may determine whether to send a rule to the applicable gateways. If the PCRN <b>201</b> decides to send a rule, the PCRN <b>201</b> may proceed to step <b>429</b>; otherwise, the PCRN <b>201</b> may proceed to step <b>431</b>. In step <b>429</b>, the PCRN <b>201</b> may send a rule to all serving gateways not pending termination. The PCRN <b>201</b> may send, for example, a Quality-of-Service (QoS) rule or a Policy Charging and Control (PCC) rule. The PCRN <b>201</b> may therefore exclude all serving gateways marked as pending termination from receiving the transmitted rule. The PCRN <b>201</b> in step <b>431</b> may then ask the serving gateways marked as pending termination to terminate. The PCRN <b>201</b> may send the request in the form of an RAR or CCR that contains a session-abort-cause AVP.</p>
<p id="p-0053" num="0052">In step <b>433</b>, the PCRN <b>201</b> may wait for the serving gateways to terminate. In some embodiments, the PCRN <b>201</b> may wait for an indeterminate time or until a trigger event occurs for the marked serving gateways to terminate. A person of ordinary skill in the art would be aware of trigger events that would cause a reaction by the PCRN <b>201</b>. In some embodiments, the PCRN <b>201</b> may wait for a pre-determined period before checking the marked serving gateways. In step <b>435</b>, the PCRN <b>201</b> may check whether the serving gateways were actually terminated. If not, the PCRN <b>201</b> may in step <b>437</b> delete the marked serving gateways from the database. Such manual action by the PCRN <b>201</b> may prevent a hanging condition.</p>
<p id="p-0054" num="0053">After step <b>437</b> or if in step <b>435</b>, the PCRN <b>201</b> determines that all the marked serving gateways were in fact deleted, the method <b>400</b> may return to step <b>419</b> to check for other subsequent potential gateways. Similarly, if in step <b>421</b>, the PCRN <b>201</b> determines that the subsequent gateway control session did not match the IP-CAN session, the PCRN <b>201</b> may return to step <b>419</b> to check for other subsequent gateway control sessions. When the PCRN <b>201</b> in step <b>419</b> determines that there are no other subsequent potential gateway control sessions, method <b>400</b> ends at step <b>439</b>.</p>
<p id="p-0055" num="0054">It should be apparent from the foregoing description that various exemplary embodiments of the invention may be implemented in hardware and/or firmware. Furthermore, various exemplary embodiments may be implemented as instructions stored on a machine-readable storage medium, which may be read and executed by at least one processor to perform the operations described in detail herein. A machine-readable storage medium may include any mechanism for storing information in a form readable by a machine, such as a personal or laptop computer, a server, or other computing device. Thus, a machine-readable storage medium may include read-only memory (ROM), random-access memory (RAM), magnetic disk storage media, optical storage media, flash-memory devices, and similar storage media.</p>
<p id="p-0056" num="0055">It should be appreciated by those skilled in the art that any block diagrams herein represent conceptual views of illustrative circuitry embodying the principals of the invention. Similarly, it will be appreciated that any flow charts, flow diagrams, state transition diagrams, pseudo code, and the like represent various processes which may be substantially represented in machine readable media and so executed by a computer or processor, whether or not such computer or processor is explicitly shown.</p>
<p id="p-0057" num="0056">Although the various exemplary embodiments have been described in detail with particular reference to certain exemplary aspects thereof, it should be understood that the invention is capable of other embodiments and its details are capable of modifications in various obvious respects. As is readily apparent to those skilled in the art, variations and modifications can be affected while remaining within the spirit and scope of the invention. Accordingly, the foregoing disclosure, description, and figures are for illustrative purposes only and do not in any way limit the invention, which is defined only by the claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>We claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method performed by a Policy Charging and Rules Node (PCRN) to manage a connection of a user device to a communications network, the method comprising:
<claim-text>receiving a user request from the user device through a first serving gateway for connection to the communications network;</claim-text>
<claim-text>receiving the user request from the user device through at least a second serving gateway for connection to the communications network;</claim-text>
<claim-text>generating a rule based on the information included in the user request received from the user device through the first serving gateway;</claim-text>
<claim-text>assigning the first serving gateway as a primary serving gateway; and signaling the second serving gateway to terminate at least one session associated with the user device when the first serving gateway is assigned as the primary serving gateway.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first serving gateway comprises a serving gateway with a Gateway Control Session that matches an Internet Protocol Connectivity Access Network (IP-CAN) session established in the PCRN.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the Gateway Control Session matches the IP-CAN session when a session binding identifier (SBI) included in a received binding message containing the Gateway Control Session and an SBI included in a received establishing message containing the IP-CAN session are associated with a common subscriber.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the SBI of the Gateway Control Session and the SBI of the IP-CAN session are comprised of a set of attributes, the attributes including at least one of:
<claim-text>a session identification;</claim-text>
<claim-text>an Ipv4 address;</claim-text>
<claim-text>an Ipv6 address;</claim-text>
<claim-text>an Access Point Name (APN); and</claim-text>
<claim-text>at least one subscriber identifier (SID);</claim-text>
<claim-text>wherein the attributes comprising the SBI of the Gateway Control Session and the SBI of the IP-CAN session also comprise attributes in at least one subscriber profile.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the Gateway Control Session matches the IP-CAN session when an IP-CAN Type included in a received binding message containing the Gateway Control Session matches the IP-CAN session.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>pushing the rule to at least the first serving gateway, when the first serving gateway is not pending termination.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref> wherein the first and second serving gateways are connected to nodes configured to receive communications from the user device after a handover from a third serving gateway.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the PCRN receives the user request from the user device through the third serving gateway.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, further comprising:
<claim-text>reassigning the third serving gateway from the primary serving gateway to a secondary serving gateway after pushing the rule to at least the first and third serving gateways.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>waiting for a response from the second serving gateway for a pre-determined period after the signaling to the second gateway to terminate at least one session associated with the user device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the signaling of the second gateway to terminate at least one session associated with the user device further comprises:
<claim-text>sending a session-abort-cause Attribute-Value Pair (AVP) in response to assigning the first serving gateway as the primary serving gateway.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>deleting the second serving gateway from a database in the PCRN when the second serving gateway does not respond to the signal to terminate at least one session associated with the user device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A system for handling a user device in a communications network, the system comprising:
<claim-text>at least a first and second serving gateway that receive a user request generated from the user device for establishing a connection with the communications network, the first serving gateway generating a first binding message and the second serving gateway generating a second binding message;</claim-text>
<claim-text>a Packet Data Network Gateway (PGW) that generates an establishing message to establish an Internet Protocol Connectivity Access Network (IP-CAN) session; and</claim-text>
<claim-text>a Policy Charging and Rules Node (PCRN) that receives at least the establishing message from the PGW and the first and second binding messages from the first and second gateways, wherein the PCRN:
<claim-text>receives the user request from the user device through the first serving gateway for connection to the communications network;</claim-text>
<claim-text>generates a rule based on the information included in the user request received from the user device through the first binding message generated by the first serving gateway;</claim-text>
<claim-text>assigns the first serving gateway as a primary serving gateway; and</claim-text>
</claim-text>
<claim-text>signals the second serving gateway to terminate at least one session associated with the user device when the first serving gateway is assigned as the primary serving gateway.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the first serving gateway comprises a serving gateway with a Gateway Control Session that matches an IP-CAN session established in the PCRN.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The system of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the Gateway Control Session matches the IP-CAN session when an IP-CAN Type included in the first binding message containing the Gateway Control Session matches the IP-CAN session.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the PCRN deletes the second serving gateway from a database in the PCRN when the second serving gateway does not respond to the signal to terminate the at least one session associated with the user device.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the PCRN further:
<claim-text>pushes the rule to at least the first serving gateway, wherein the first serving gateway is not pending termination.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The system of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the first and second serving gateways are connected to nodes configured to receive communications from the user device after a handover from a third server gateway.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The system of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the PCRN receives the user request from the user device through the third server gateway.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The system of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the PCRN reassigns the third serving gateway from the primary serving gateway to a secondary serving gateway after pushing the rule to at least the first and third serving gateways.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the PCRN waits for a response from the second serving gateway for a pre-determined period after the signaling to the second gateway to terminate at least one session associated with the user device.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the PCRN signaling of the second gateway to terminate at least one session associated with the user device comprises sending a session-abort-cause Attribute-Value Pair (AVP) in response to assigning the first serving gateway as the primary serving gateway. </claim-text>
</claim>
</claims>
</us-patent-grant>
