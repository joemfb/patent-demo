<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624932-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624932</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13593355</doc-number>
<date>20120823</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>09</class>
<subclass>G</subclass>
<main-group>5</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>345676</main-classification>
<further-classification>345156</further-classification>
<further-classification>345157</further-classification>
<further-classification>382126</further-classification>
<further-classification>382151</further-classification>
<further-classification>382291</further-classification>
</classification-national>
<invention-title id="d2e43">Video-based image control system</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4146924</doc-number>
<kind>A</kind>
<name>Birk et al.</name>
<date>19790300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5351044</doc-number>
<kind>A</kind>
<name>Mathur et al.</name>
<date>19940900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5446548</doc-number>
<kind>A</kind>
<name>Gerig et al.</name>
<date>19950800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5475422</doc-number>
<kind>A</kind>
<name>Mori et al.</name>
<date>19951200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5531044</doc-number>
<kind>A</kind>
<name>Wallenius</name>
<date>19960700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5534917</doc-number>
<kind>A</kind>
<name>MacDougall</name>
<date>19960700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5559695</doc-number>
<kind>A</kind>
<name>Daily</name>
<date>19960900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>5594469</doc-number>
<kind>A</kind>
<name>Freeman et al.</name>
<date>19970100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>5652616</doc-number>
<kind>A</kind>
<name>Chen et al.</name>
<date>19970700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>5714997</doc-number>
<kind>A</kind>
<name>Anderson</name>
<date>19980200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>5745126</doc-number>
<kind>A</kind>
<name>Jain et al.</name>
<date>19980400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>5748199</doc-number>
<kind>A</kind>
<name>Palm</name>
<date>19980500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>5760823</doc-number>
<kind>A</kind>
<name>Brunson et al.</name>
<date>19980600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>5769640</doc-number>
<kind>A</kind>
<name>Jacobus et al.</name>
<date>19980600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>5844392</doc-number>
<kind>A</kind>
<name>Peurach et al.</name>
<date>19981200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>5907328</doc-number>
<kind>A</kind>
<name>Brush, II et al.</name>
<date>19990500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>5917937</doc-number>
<kind>A</kind>
<name>Szeliski et al.</name>
<date>19990600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>5986675</doc-number>
<kind>A</kind>
<name>Anderson et al.</name>
<date>19991100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>6002808</doc-number>
<kind>A</kind>
<name>Freeman</name>
<date>19991200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>6072494</doc-number>
<kind>A</kind>
<name>Nguyen</name>
<date>20000600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>6075895</doc-number>
<kind>A</kind>
<name>Qiao et al.</name>
<date>20000600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>6088035</doc-number>
<kind>A</kind>
<name>Sudarsky et al.</name>
<date>20000700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>6125198</doc-number>
<kind>A</kind>
<name>Onda</name>
<date>20000900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>6173066</doc-number>
<kind>B1</kind>
<name>Peurach et al.</name>
<date>20010100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00025">
<document-id>
<country>US</country>
<doc-number>6191773</doc-number>
<kind>B1</kind>
<name>Maruno et al.</name>
<date>20010200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345158</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00026">
<document-id>
<country>US</country>
<doc-number>6191796</doc-number>
<kind>B1</kind>
<name>Tarr</name>
<date>20010200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345581</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00027">
<document-id>
<country>US</country>
<doc-number>6198485</doc-number>
<kind>B1</kind>
<name>Mack et al.</name>
<date>20010300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00028">
<document-id>
<country>US</country>
<doc-number>6215890</doc-number>
<kind>B1</kind>
<name>Matsuo et al.</name>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382103</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00029">
<document-id>
<country>US</country>
<doc-number>6215898</doc-number>
<kind>B1</kind>
<name>Woodfill et al.</name>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00030">
<document-id>
<country>US</country>
<doc-number>6222465</doc-number>
<kind>B1</kind>
<name>Kumar et al.</name>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>341 20</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00031">
<document-id>
<country>US</country>
<doc-number>6249600</doc-number>
<kind>B1</kind>
<name>Reed et al.</name>
<date>20010600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00032">
<document-id>
<country>US</country>
<doc-number>6256400</doc-number>
<kind>B1</kind>
<name>Takata et al.</name>
<date>20010700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382103</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00033">
<document-id>
<country>US</country>
<doc-number>6272231</doc-number>
<kind>B1</kind>
<name>Maurer et al.</name>
<date>20010800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00034">
<document-id>
<country>US</country>
<doc-number>6396509</doc-number>
<kind>B1</kind>
<name>Cheng</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>715706</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00035">
<document-id>
<country>US</country>
<doc-number>6456728</doc-number>
<kind>B1</kind>
<name>Doi et al.</name>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382103</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00036">
<document-id>
<country>US</country>
<doc-number>6456737</doc-number>
<kind>B1</kind>
<name>Woodfill et al.</name>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00037">
<document-id>
<country>US</country>
<doc-number>6611242</doc-number>
<kind>B1</kind>
<name>Hongo et al.</name>
<date>20030800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00038">
<document-id>
<country>US</country>
<doc-number>6624833</doc-number>
<kind>B1</kind>
<name>Kumar et al.</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>715863</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00039">
<document-id>
<country>US</country>
<doc-number>6661918</doc-number>
<kind>B1</kind>
<name>Gordon et al.</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00040">
<document-id>
<country>US</country>
<doc-number>6693666</doc-number>
<kind>B1</kind>
<name>Baker et al.</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00041">
<document-id>
<country>US</country>
<doc-number>6792358</doc-number>
<kind>B2</kind>
<name>Rojas et al.</name>
<date>20040900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>702 33</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00042">
<document-id>
<country>US</country>
<doc-number>6842175</doc-number>
<kind>B1</kind>
<name>Schmalstieg et al.</name>
<date>20050100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345427</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00043">
<document-id>
<country>US</country>
<doc-number>6976216</doc-number>
<kind>B1</kind>
<name>Peskin et al.</name>
<date>20051200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00044">
<document-id>
<country>US</country>
<doc-number>7058204</doc-number>
<kind>B2</kind>
<name>Hildreth et al.</name>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00045">
<document-id>
<country>US</country>
<doc-number>7227526</doc-number>
<kind>B2</kind>
<name>Hildreth et al.</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00046">
<document-id>
<country>US</country>
<doc-number>7339580</doc-number>
<kind>B2</kind>
<name>Westerman et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00047">
<document-id>
<country>US</country>
<doc-number>7619618</doc-number>
<kind>B2</kind>
<name>Westerman et al.</name>
<date>20091100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00048">
<document-id>
<country>US</country>
<doc-number>7898522</doc-number>
<kind>B2</kind>
<name>Hildreth et al.</name>
<date>20110300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00049">
<document-id>
<country>US</country>
<doc-number>2001/0003712</doc-number>
<kind>A1</kind>
<name>Roelofs</name>
<date>20010600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>463 37</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00050">
<document-id>
<country>US</country>
<doc-number>2001/0017651</doc-number>
<kind>A1</kind>
<name>Baker et al.</name>
<date>20010800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00051">
<document-id>
<country>US</country>
<doc-number>2001/0033675</doc-number>
<kind>A1</kind>
<name>Maurer et al.</name>
<date>20011000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00052">
<document-id>
<country>US</country>
<doc-number>2002/0135581</doc-number>
<kind>A1</kind>
<name>Russell et al.</name>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345474</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00053">
<document-id>
<country>US</country>
<doc-number>2002/0181773</doc-number>
<kind>A1</kind>
<name>Higaki et al.</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382190</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00054">
<document-id>
<country>US</country>
<doc-number>2003/0138130</doc-number>
<kind>A1</kind>
<name>Cohen et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00055">
<document-id>
<country>US</country>
<doc-number>2004/0046736</doc-number>
<kind>A1</kind>
<name>Pryor et al.</name>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00056">
<document-id>
<country>US</country>
<doc-number>2004/0104935</doc-number>
<kind>A1</kind>
<name>Williamson et al.</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00057">
<document-id>
<country>US</country>
<doc-number>2004/0135886</doc-number>
<kind>A1</kind>
<name>Baker et al.</name>
<date>20040700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00058">
<document-id>
<country>US</country>
<doc-number>2005/0100207</doc-number>
<kind>A1</kind>
<name>Konolige</name>
<date>20050500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00059">
<document-id>
<country>US</country>
<doc-number>2005/0131660</doc-number>
<kind>A1</kind>
<name>Yadegar et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00060">
<document-id>
<country>US</country>
<doc-number>2006/0013473</doc-number>
<kind>A1</kind>
<name>Woodfill et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00061">
<document-id>
<country>US</country>
<doc-number>2006/0098873</doc-number>
<kind>A1</kind>
<name>Hildreth et al.</name>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00062">
<document-id>
<country>US</country>
<doc-number>2006/0238519</doc-number>
<kind>A1</kind>
<name>Westerman et al.</name>
<date>20061000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00063">
<document-id>
<country>US</country>
<doc-number>2008/0018595</doc-number>
<kind>A1</kind>
<name>Hildreth et al.</name>
<date>20080100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00064">
<document-id>
<country>EP</country>
<doc-number>0905644</doc-number>
<kind>A2</kind>
<date>19990300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00065">
<document-id>
<country>JP</country>
<doc-number>2000056916</doc-number>
<kind>A</kind>
<date>20000200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00066">
<document-id>
<country>WO</country>
<doc-number>WO9934276</doc-number>
<kind>A2</kind>
<date>19990700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00067">
<document-id>
<country>WO</country>
<doc-number>WO9935633</doc-number>
<kind>A2</kind>
<date>19990700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00068">
<document-id>
<country>WO</country>
<doc-number>WO0030023</doc-number>
<kind>A1</kind>
<date>20000500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00069">
<othercit>Kato, H.; Billinghurst, M.; Poupyrev, I.; Imamoto, K.; Tachibana, K., &#x201c;Virtual object manipulation on a table-top AR environment,&#x201d; Augmented Reality, 2000. (ISAR 2000). Proceedings. IEEE and ACM International Symposium on , vol., No., pp. 111,119, 2000 doi: 10.1109/ISAR.2000.880934.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00070">
<othercit>European Patent Office Communication, European Application No. 01959142.0, 4 pages, Jul. 11, 2006.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00071">
<othercit>Extended European Search Report for Application No. 08010963.0 dated Oct. 16, 2008 (8 pages).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00072">
<othercit>Fukumoto, et al., &#x201c;Finger-Pointer: Pointing Interface by Image Processing,&#x201d; Computer &#x26; Graphics, vol. 18, No. 5, pp. 633-642, 1994.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00073">
<othercit>International Search Report&#x2014;PCT/US2001/023224&#x2014;ISA/EPO&#x2014;Jan. 8, 2003.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00074">
<othercit>Jennings, C. &#x201c;Robust Finger Tracking with Multiple Cameras&#x201d;, Proceedings, International Workshop on Recognition, Analysis, and Tracking of Faces and Gestures in Real-Time Systems, Jul. 20, 1999, (http://www.cs.ubc.ca/spider/jennings/ratfg-rts99/cj99.html).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00075">
<othercit>Kato, et al., &#x201c;Virtual Object Manipulation on a Table-Top AR Environment&#x201d;, Augmented Reality, 2000. (ISAR 2000). Proceedings. IEEE and ACM International Symposium on., vol., No., pp. 111-119, 2000 doi: 10.1109/ISAR.2000.880934 URL: http://ieeexplore.ieee.org/stamp/stamp.jsp&#x2033;tp=&#x26;arnumber=88093.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00076">
<othercit>Morrison, et al,. &#x201c;Machine Vision Passive Touch Technology for Interactive Displays,&#x201d; SID 01 Digest, Jun. 2001, pp. 74-77.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00077">
<othercit>Non-Final Office Action issued in U.S. Appl. No. 11/840,550, mailed Jul. 26, 2010, 29 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00078">
<othercit>Office Action for U.S. Appl. No. 09/909,857 mailed May 4, 2005 (45 pages).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00079">
<othercit>Office Action for U.S. Appl. No. 09/909,857 mailed Jul. 10, 2006 (13 pages).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00080">
<othercit>Office Action for U.S. Appl. No. 09/909,857 mailed Aug. 23, 2004 (41 pages).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00081">
<othercit>Office Action for U.S. Appl. No. 09/909,857 mailed Nov. 28, 2005 (44 pages).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00082">
<othercit>Okutomi, et al., &#x201c;A Multiple-baseline Stereo,&#x201d; IEEE Transactions of Pattern Analysis and machine Intelligence, vol. 14, No. 4, Apr. 1993, pp. 355-363.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00083">
<othercit>Pavlovic, et al., &#x201c;Visual Interpretation of Hand Gestures for Human-Computer Interaction: A Review,&#x201d; IEEE Transactions on Pattern Analysis and Machine Intelligence, vol. 19, No. 7, Jul. 1997,pp. 36.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00084">
<othercit>Point Grey Research Inc. Digiclops&#x2014;http://www.ptgrey.com/.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00085">
<othercit>Remagnino, et al., &#x201c;Correlation Techniques in adaptive template matching with uncalibrated cameras&#x201d;, Lafia-Inria Rhoned-Alpes, France, 1994.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00086">
<othercit>Scharstein D. et al., &#x201c;Stereo Matching with Non-Linear Diffusion&#x201d; which was published in Proceedings of the 1996 Conference on Computer Vision and Pattern Recognition (CVPR '96) middlebury.edu/.about.schar/papers/diffusion.ps.gz.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00087">
<othercit>Small Vision Systems Stereo Developer Kit, http://www.videredesign.com.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00088">
<othercit>USPTO Non-Final Office Action issued in U.S. Appl. No. 11/757,180, mailed Jan. 29, 2010, 24 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00089">
<othercit>Urmson, &#x201c;A Comparison of Pt. Grey Research's Digiclops and Videre Design's Small Vision System for Sensing on the Hypeion Robot,&#x201d; (http://www.videredesign.com), Nov. 2000.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00090">
<othercit>Watanabe, et al., &#x201c;Real-Time Gesture Recognition Using Maskable Template Model,&#x201d; pp. 341-348, 1996.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00091">
<othercit>Zhang, &#x201c;A Flexible New Technique for Camera Calibration&#x201d;, IEEE Transactions on Pattern Analysis and Machine Intelligence, vol. 22, No. 11, pp. 1330-1334, 1998.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00092">
<othercit>Zhang, &#x201c;Determining the Epipolar Geometry and its Uncertainty&#x201d;, International Journal of Computer Vision, vol. 27, No. 2, pp. 161-198, 1998.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00093">
<othercit>Huber E., &#x201c;3-D real-time gesture recognition using proximity spaces&#x201d;, Proceedings of the IEEE Workshop on Applications of Computervision, XX, XX, Dec. 1, 1996, pp. 136-141, XP002135707.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>28</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>345158</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382103</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>16</number-of-drawing-sheets>
<number-of-figures>23</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>11840550</doc-number>
<date>20070817</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8274535</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13593355</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>11757180</doc-number>
<date>20070601</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>7898522</doc-number>
<date>20110301</date>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>11840550</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>09909857</doc-number>
<date>20010723</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>7227526</doc-number>
<date>20070605</date>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>11757180</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60220223</doc-number>
<date>20000724</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130147790</doc-number>
<kind>A1</kind>
<date>20130613</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Hildreth</last-name>
<first-name>Evan</first-name>
<address>
<city>Ottawa</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>MacDougall</last-name>
<first-name>Francis</first-name>
<address>
<city>Ottawa</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Hildreth</last-name>
<first-name>Evan</first-name>
<address>
<city>Ottawa</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>MacDougall</last-name>
<first-name>Francis</first-name>
<address>
<city>Ottawa</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Kilpatrick Townsend &#x26; Stockton LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Qualcomm Incorporated</orgname>
<role>02</role>
<address>
<city>San Diego</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Hoang</last-name>
<first-name>Phi</first-name>
<department>2678</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method of using stereo vision to interface with a computer is provided. The method includes capturing a stereo image, and processing the stereo image to determine position information of an object in the stereo image. The object is controlled by a user. The method also includes communicating the position information to the computer to allow the user to interact with a computer application.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="198.46mm" wi="193.12mm" file="US08624932-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="197.95mm" wi="194.73mm" file="US08624932-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="237.91mm" wi="159.17mm" file="US08624932-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="244.18mm" wi="215.82mm" file="US08624932-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="189.06mm" wi="151.21mm" file="US08624932-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="240.37mm" wi="174.07mm" file="US08624932-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="214.71mm" wi="161.46mm" file="US08624932-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="116.25mm" wi="131.57mm" file="US08624932-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="140.38mm" wi="165.35mm" file="US08624932-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="224.96mm" wi="175.60mm" file="US08624932-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="194.90mm" wi="171.70mm" file="US08624932-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="242.23mm" wi="148.00mm" file="US08624932-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="278.38mm" wi="181.19mm" file="US08624932-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="228.35mm" wi="163.07mm" file="US08624932-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="120.23mm" wi="144.95mm" file="US08624932-20140107-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="226.82mm" wi="174.92mm" file="US08624932-20140107-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="230.12mm" wi="170.26mm" file="US08624932-20140107-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application is a continuation of prior U.S. patent application Ser. No. 11/840,550, filed Aug. 17, 2007, which is a continuation of prior U.S. patent application Ser. No. 11/757,180, filed on Jun. 1, 2007, which is a continuation of prior U.S. patent application Ser. No. 09/909,857, filed Jul. 23, 2001, which issued as U.S. Pat. No. 7,227,526 on Jun. 5, 2007, which claims the benefit of U.S. Provisional Patent Application No. 60/220,223, filed Jul. 24, 2000, and all of the foregoing applications are incorporated by reference herein in their entirety for all purposes.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">TECHNICAL FIELD</heading>
<p id="p-0003" num="0002">This invention relates to an image processing system, and more particularly to a video-based image control system for processing stereo image data.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">A variety of operating systems are currently available for interacting with and controlling a computer system. Many of these operating systems use standardized interfaces based on commonly accepted graphical user interface (GUI) functions and control techniques. As a result, different computer platforms and user applications can be easily controlled by a user who is relatively unfamiliar with the platform and/or application, as the functions and control techniques are generally common from one GUI to another.</p>
<p id="p-0005" num="0004">One commonly accepted control technique is the use of a mouse or trackball style pointing device to move a cursor over screen objects. An action, such as clicking (single or double) on the object, executes a GUI function. However, for someone who is unfamiliar with operating a computer mouse, selecting GUI functions may present a challenge that prevents them from interfacing with the computer system. There also exist situations where it becomes impractical to provide access to a computer mouse or trackball, such as in front of a department store display window on a city street, or where the user is physically challenged.</p>
<heading id="h-0004" level="1">SUMMARY</heading>
<p id="p-0006" num="0005">In one general aspect, a method of using stereo vision to interface with a computer is disclosed. The method includes capturing a stereo image and processing the stereo image to determine position information of an object in the stereo image. The object may be controlled by a user. The method further includes using the position information to allow the user to interact with a computer application.</p>
<p id="p-0007" num="0006">The step of capturing the stereo image may include capturing the stereo image using a stereo camera. The method also may include recognizing a gesture associated with the object by analyzing changes in the position information of the object, and controlling the computer application based on the recognized gesture. The method also include determining an application state of the computer application, and using the application state in recognizing the gesture. The object may be the user. In another instance, the object is a part of the user. The method may include providing feedback to the user relative to the computer application.</p>
<p id="p-0008" num="0007">In the above implementation, processing the stereo image to determine position information of the object may include mapping the position information from position coordinates associated with the object to screen coordinates associated with the computer application. Processing the stereo image also may include processing the stereo image to identify feature information and produce a scene description from the feature information.</p>
<p id="p-0009" num="0008">Processing the stereo image also may include analyzing the scene description to identify a change in position of the object and mapping the change in position of the object. Processing the stereo image to produce the scene description also may include processing the stereo image to identify matching pairs of features in the stereo image, and calculating a disparity and a position for each matching feature pair to create a scene description.</p>
<p id="p-0010" num="0009">The method may include analyzing the scene description in a scene analysis process to determine position information of the object.</p>
<p id="p-0011" num="0010">Capturing the stereo image may include capturing a reference image from a reference camera and a comparison image from a comparison camera, and processing the stereo image also may include processing the reference image and the comparison image to create pairs of features.</p>
<p id="p-0012" num="0011">Processing the stereo image to identify matching pairs of features in the stereo image also may include identifying features in the reference image, generating for each feature in the reference image a set of candidate matching features in the comparison image, and producing a feature pair by selecting a best matching feature from the set of candidate matching features for each feature in the reference image. Processing the stereo image also may include filtering the reference image and the comparison image.</p>
<p id="p-0013" num="0012">Producing the feature pair may include calculating a match score and rank for each of the candidate matching features, and selecting the candidate matching feature with the highest match score to produce the feature pair.</p>
<p id="p-0014" num="0013">Generating for each feature in the reference image, a set of candidate matching features may include selecting candidate matching features from a predefined range in the comparison image.</p>
<p id="p-0015" num="0014">Feature pairs may be eliminated based upon the match score of the candidate matching feature. Feature pairs also may be eliminated if the match score of the top ranking candidate matching feature is below a predefined threshold. The feature pair may be eliminated if the match score of the top ranking candidate matching feature is within a predefined threshold of the match score of a lower ranking candidate matching feature.</p>
<p id="p-0016" num="0015">Calculating the match score may include identifying those feature pairs that are neighboring, adjusting the match score of feature pairs in proportion to the match score of neighboring candidate matching features at similar disparity, and selecting the candidate matching feature with the highest adjusted match score to create the feature pair.</p>
<p id="p-0017" num="0016">Feature pairs may be eliminated by applying the comparison image as the reference image and the reference image as the comparison image to produce a second set of feature pairs, and eliminating those feature pairs in the original set of feature pairs which do not have a corresponding feature pair in the second set of feature pairs.</p>
<p id="p-0018" num="0017">The method may include for each feature pair in the scene description, calculating real world coordinates by transforming the disparity and position of each feature pair relative to the real world coordinates of the stereo image. Selecting features may include dividing the reference image and the comparison image of the stereo image into blocks. The feature may be described by a pattern of luminance of the pixels contained with the blocks. Dividing also may include dividing the images into pixel blocks having a fixed size. The pixel blocks may be 8&#xd7;8 pixel blocks.</p>
<p id="p-0019" num="0018">Analyzing the scene description to determine the position information of the object also may include cropping the scene description to exclude feature information lying outside of a region of interest in a field of view. Cropping may include establishing a boundary of the region of interest.</p>
<p id="p-0020" num="0019">Analyzing the scene description to determine the position information of the object also may include clustering the feature information in a region of interest into clusters having a collection of features by comparison to neighboring feature information within a predefined range, and calculating a position for each of the clusters. Analyzing the scene description also may include eliminating those clusters having less than a predefined threshold of features.</p>
<p id="p-0021" num="0020">Analyzing the scene description also may include selecting the position of the clusters that match a predefined criteria, recording the position of the clusters that match the predefined criteria as object position coordinates, and outputting the object position coordinates. The method also may include determining the presence of a user from the clusters by checking features within a presence detection region. Calculating the position for each of the clusters may exclude those features in the clusters that are outside of an object detection region.</p>
<p id="p-0022" num="0021">The method may include defining a dynamic object detection region based on the object position coordinates. Additionally, the dynamic object detection region may be defined relative to a user's body.</p>
<p id="p-0023" num="0022">The method may include defining a body position detection region based on the object position coordinates. Defining the body position detection region also may include detecting a head position of the user. The method also many include smoothing the motion of the object position coordinates to eliminate jitter between consecutive image frames.</p>
<p id="p-0024" num="0023">The method may include calculating hand orientation information from the object position coordinates. Outputting the object position coordinates may include outputting the hand orientation information. Calculating hand orientation information also may include smoothing the changes in the hand orientation information.</p>
<p id="p-0025" num="0024">Defining the dynamic object detection region also may include identifying a position of a torso-divisioning plane from the collection of features, and determining the position of a hand detection region relative to the torso-divisioning plane in the axis perpendicular to the torso divisioning plane.</p>
<p id="p-0026" num="0025">Defining the dynamic object detection region may include identifying a body center position and a body boundary position from the collection of features, identifying a position indicating part of an arm of the user from the collection of features using the intersection of the feature pair cluster with the torso divisioning plane, and identifying the arm as either a left arm or a right arm using the arm position relative to the body position.</p>
<p id="p-0027" num="0026">This method also may include establishing a shoulder position from the body center position, the body boundary position, the torso-divisioning plane, and the left arm or the right arm identification. Defining the dynamic object detection region may include determining position data for the hand detection region relative to the shoulder position.</p>
<p id="p-0028" num="0027">This technique may include smoothing the position data for the hand detection region. Additionally, this technique may include determining the position of the dynamic object detection region relative to the torso divisioning plane in the axis perpendicular to the torso divisioning plane, determining the position of the dynamic object detection region in the horizontal axis relative to the shoulder position, and determining the position of the dynamic object detection region in the vertical axis relative to an overall height of the user using the body boundary position.</p>
<p id="p-0029" num="0028">Defining the dynamic object detection region may include establishing the position of a top of the user's head using topmost feature pairs of the collection of features unless the topmost feature pairs are at the boundary, and determining the position of a hand detection region relative to the top of the user's head.</p>
<p id="p-0030" num="0029">In another aspect, a method of using stereo vision to interface with a computer is disclosed. The method includes capturing a stereo image using a stereo camera, and processing the stereo image to determine position information of an object in the stereo image, wherein the object is controlled by a user. The method further includes processing the stereo image to identify feature information, to produce a scene description from the feature information, and to identify matching pairs of features in the stereo image. The method also includes calculating a disparity and a position for each matching feature pair to create the scene description, and analyzing the scene description in a scene analysis process to determine position information of the object. The method may include clustering the feature information in a region of interest into clusters having a collection of features by comparison to neighboring feature information within a predefined range, calculating a position for each of the clusters, and using the position information allow the user to interact with a computer application.</p>
<p id="p-0031" num="0030">Additionally, this technique may include mapping the position of the object from the feature information from camera coordinates to screen coordinates associated with the computer application, and using the mapped position to interface with the computer application.</p>
<p id="p-0032" num="0031">The method may include recognizing a gesture associated with the object by analyzing changes in the position information of the object in the scene description, and combining the position information and the gesture to interface with the computer application. The step of capturing the stereo image may include capturing the stereo image using a stereo camera.</p>
<p id="p-0033" num="0032">In another aspect, a stereo vision system for interfacing with an application program running on a computer is disclosed. The stereo vision system includes first and second video cameras arranged in an adjacent configuration and operable to produce a series of stereo video images. A processor is operable to receive the series of stereo video images and detect objects appearing in an intersecting field of view of the cameras. The processor executes a process to define an object detection region in three-dimensional coordinates relative to a position of the first and second video cameras, select a control object appearing within the object detection region, and map position coordinates of the control object to a position indicator associated with the application program as the control object moves within the object detection region.</p>
<p id="p-0034" num="0033">The process may select as a control object a detected object appearing closest to the video cameras and within the object detection region. The control object may be a human hand.</p>
<p id="p-0035" num="0034">A horizontal position of the control object relative to the video cameras may be mapped to a x-axis screen coordinate of the position indicator. A vertical position of the control object relative to the video cameras may be mapped to a y-axis screen coordinate of the position indicator.</p>
<p id="p-0036" num="0035">The processor may be configured to map a horizontal position of the control object relative to the video cameras to a x-axis screen coordinate of the position indicator, map a vertical position of the control object relative to the video cameras to a y-axis screen coordinate of the position indicator, and emulate a mouse function using the combined x-axis and y-axis screen coordinates provided to the application program.</p>
<p id="p-0037" num="0036">The processor may be configured to emulate buttons of a mouse using gestures derived from the motion of the object position. The processor may be configured to emulate buttons of a mouse based upon a sustained position of the control object in any position within the object detection region for a predetermined time period. In other instances, the processor may be configured to emulate buttons of a mouse based upon a position of the position indicator being sustained within the bounds of an interactive display region for a predetermined time period. The processor may be configured to map a z-axis depth position of the control object relative to the video cameras to a virtual z-axis screen coordinate of the position indicator.</p>
<p id="p-0038" num="0037">The processor may be configured to map a x-axis position of the control object relative to the video cameras to a x-axis screen coordinate of the position indicator, map a y-axis position of the control object relative to the video cameras to a y-axis screen coordinate of the position indicator, and map a z-axis depth position of the control object relative to the video cameras to a virtual z-axis screen coordinate of the position indicator.</p>
<p id="p-0039" num="0038">A position of the position indicator being within the bounds of an interactive display region may trigger an action within the application program. Movement of the control object along a z-axis depth position that covers a predetermined distance within a predetermined time period may trigger a selection action within the application program.</p>
<p id="p-0040" num="0039">A position of the control object being sustained in any position within the object detection region for a predetermined time period may trigger part of a selection action within the application program.</p>
<p id="p-0041" num="0040">In another aspect, a stereo vision system for interfacing with an application program running on a computer is disclosed. The stereo vision system includes first and second video cameras arranged in an adjacent configuration and operable to produce a series of stereo video images. A processor is operable to receive the series of stereo video images and detect objects appearing in the intersecting field of view of the cameras. The processor executes a process to define an object detection region in three-dimensional coordinates relative to a position of the first and second video cameras, select as a control object a detected object appearing closest to the video cameras and within the object detection region, define sub regions within the object detection region, identify a sub region occupied by the control object, associate with that sub region an action that is activated when the control object occupies that sub region, and apply the action to interface with a computer application.</p>
<p id="p-0042" num="0041">The action associated with the sub region is further defined to be an emulation of the activation of keys associated with a computer keyboard. A position of the control object being sustained in any sub region for a predetermined time period may trigger the action.</p>
<p id="p-0043" num="0042">In yet another aspect, a stereo vision system for interfacing with an application program running on a computer is disclosed. First and second video cameras are arranged in an adjacent configuration and are operable to produce a series of stereo video images. A processor is operable to receive the series of stereo video images and detect objects appearing in an intersecting field of view of the cameras. The processor executes a process to identify an object perceived as the largest object appearing in the intersecting field of view of the cameras and positioned at a predetermined depth range, select the object as an object of interest, determine a position coordinate representing a position of the object of interest, and use the position coordinate as an object control point to control the application program.</p>
<p id="p-0044" num="0043">The process also may cause the processor to determine and store a neutral control point position, map a coordinate of the object control point relative to the neutral control point position, and use the mapped object control point coordinate to control the application program.</p>
<p id="p-0045" num="0044">The process may cause the processor to define a region having a position based upon the position of the neutral control point position, map the object control point relative to its position within the region, and use the mapped object control point coordinate to control the application program. The process also may cause the processor to transform the mapped object control point to a velocity function, determine a viewpoint associated with a virtual environment of the application program, and use the velocity function to move the viewpoint within the virtual environment.</p>
<p id="p-0046" num="0045">The process may cause the processor to map a coordinate of the object control point to control a position of an indicator within the application program. In this implementation the indicator may be an avatar.</p>
<p id="p-0047" num="0046">The process may cause the processor to map a coordinate of the object control point to control an appearance of an indicator within the application program. In this implementation the indicator may be an avatar. The object of interest may be a human appearing within the intersecting field of view.</p>
<p id="p-0048" num="0047">In another aspect, a stereo vision system for interfacing with an application program running on a computer is disclosed. The stereo vision system includes first and second video cameras arranged in an adjacent configuration and operable to produce a series of stereo video images. A processor is operable to receive the series of stereo video images and detect objects appearing in an intersecting field of view of the cameras. The processor executes a process to identify an object perceived as the largest object appearing in the intersecting field of view of the cameras and positioned at a predetermined depth range, select the object as an object of interest, define a control region between the cameras and the object of interest, the control region being positioned at a predetermined location and having a predetermined size relative to a size and a location of the object of interest, search the control region for a point associated with the object of interest that is closest to the cameras and within the control region, select the point associated with the object of interest as a control point if the point associated with the object of interest is within the control region, and map position coordinates of the control point, as the control point moves within the control region, to a position indicator associated with the application program.</p>
<p id="p-0049" num="0048">The processor may be operable to map a horizontal position of the control point relative to the video cameras to a x-axis screen coordinate of the position indicator, map a vertical position of the control point relative to the video cameras to a y-axis screen coordinate of the position indicator, and emulate a mouse function using a combination of the x-axis and the y-axis screen coordinates.</p>
<p id="p-0050" num="0049">Alternatively, the processor also may be operable to map a x-axis position of the control point relative to the video cameras to a x-axis screen coordinate of the position indicator, map a y-axis position of the control point relative to the video cameras to a y-axis screen coordinate of the position indicator, and map a z-axis depth position of the control point relative to the video cameras to a virtual z-axis screen coordinate of the position indicator.</p>
<p id="p-0051" num="0050">In the stereo vision system, the object of interest may be a human appearing within the intersecting field of view. Additionally, the control point may be associated with a human hand appearing within the control region.</p>
<p id="p-0052" num="0051">In yet another aspect, a stereo vision system for interfacing with an application program running on a computer is disclosed. First and second video cameras are arranged in an adjacent configuration and are operable to produce a series of stereo video images. A processor is operable to receive the series of stereo video images and detect objects appearing in an intersecting field of view of the cameras. The processor executes a process to define an object detection region in three-dimensional coordinates relative to a position of the first and second video cameras, select up to two hand objects from the objects appearing in the intersecting field of view that are within the object detection region, and map position coordinates of the hand objects, as the hand objects move within the object detection region, to positions of virtual hands associated with an avatar rendered by the application program.</p>
<p id="p-0053" num="0052">The process may select the up to two hand objects from the objects appearing in the intersecting field of view that are closest to the video cameras and within the object detection region. The avatar may take the form of a human-like body. Additionally, the avatar may be rendered in and interact with a virtual environment forming part of the application program. The processor may execute a process to compare the positions of the virtual hands associated with the avatar to positions of virtual objects within the virtual environment to enable a user to interact with the virtual objects within the virtual environment.</p>
<p id="p-0054" num="0053">The processor also may execute a process to detect position coordinates of a user within the intersecting field of view, and map the position coordinates of the user to a virtual torso of the avatar rendered by the application program. The process may move at least one of the virtual hands associated with the avatar to a neutral position if a corresponding hand object is not selected.</p>
<p id="p-0055" num="0054">The processor also may execute a process to detect position coordinates of a user within the intersecting field of view, and map the position coordinates of the user to a velocity function that is applied to the avatar to enable the avatar to roam through a virtual environment rendered by the application program. The velocity function may include a neutral position denoting zero velocity of the avatar. The processor also may execute a process to map the position coordinates of the user relative to the neutral position into torso coordinates associated with the avatar so that the avatar appears to lean.</p>
<p id="p-0056" num="0055">The processor also may execute a process to compare the position of the virtual hands associated with the avatar to positions of virtual objects within the virtual environment to enable the user to interact with the virtual objects while roaming through the virtual environment.</p>
<p id="p-0057" num="0056">As part of the stereo vision system, a virtual knee position associated with the avatar may be derived by the application program and used to refine an appearance of the avatar. Additionally, a virtual elbow position associated with the avatar may be derived by the application program and used to refine an appearance of the avatar.</p>
<p id="p-0058" num="0057">The details of one or more implementations are set forth in the accompanying drawings and the description below. Other features and advantages will be apparent from the description and drawings, and from the claims.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">DESCRIPTION OF DRAWINGS</heading>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 1</figref> shows the hardware components and environment of a typical implementation of a video-based image control system.</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 2</figref> is a flow diagram generally describing the processing technique employed by the system of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram showing the field of view of each camera associated with the video-based image control system of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. 4</figref> shows a common point of interest and epipolar lines appearing in a pair of video images produced by a stereo camera device.</p>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 5</figref> is a flow diagram showing a stereo processing routine used to produce scene description information from stereo images.</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. 6</figref> is a flow diagram showing a process for transforming scene description information into position and orientation data.</p>
<p id="p-0065" num="0064"><figref idref="DRAWINGS">FIG. 7</figref> is a graph showing the degree of damping S as a function of distance D expressed in terms of change in position.</p>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. 8</figref> shows an implementation of the image control system in which an object or hand detection region is established directly in front of a computer monitor screen.</p>
<p id="p-0067" num="0066"><figref idref="DRAWINGS">FIG. 9</figref> is a flow diagram showing an optional process of dynamically defining a hand detection region relative to a user's body.</p>
<p id="p-0068" num="0067"><figref idref="DRAWINGS">FIGS. 10A-10C</figref> illustrate examples of the process of <figref idref="DRAWINGS">FIG. 9</figref> for dynamically defining the hand detection region relative to the user's body.</p>
<p id="p-0069" num="0068"><figref idref="DRAWINGS">FIG. 11A</figref> shows an exemplary user interface and display region associated with the video-based image control system.</p>
<p id="p-0070" num="0069"><figref idref="DRAWINGS">FIG. 11B</figref> shows a technique for mapping a hand or pointer position to a display region associated with the user interface of <figref idref="DRAWINGS">FIG. 11A</figref>.</p>
<p id="p-0071" num="0070"><figref idref="DRAWINGS">FIG. 12A</figref> illustrates an exemplary three-dimensional user interface represented in a virtual reality environment.</p>
<p id="p-0072" num="0071"><figref idref="DRAWINGS">FIG. 12B</figref> illustrates the three-dimensional user interface of <figref idref="DRAWINGS">FIG. 12A</figref> in which contents of a virtual file folder have been removed for viewing.</p>
<p id="p-0073" num="0072"><figref idref="DRAWINGS">FIG. 13A</figref> illustrates an exemplary representation of a three-dimensional user interface for navigating through a virtual three-dimensional room.</p>
<p id="p-0074" num="0073"><figref idref="DRAWINGS">FIG. 13B</figref> is a graph showing coordinate regions which are represented in the image control system as dead zones, in which there is no implied change in virtual position.</p>
<p id="p-0075" num="0074"><figref idref="DRAWINGS">FIG. 14</figref> shows an exemplary implementation of a video game interface in which motions and gestures are interpreted as joystick type navigation control functions for flying through a virtual three-dimensional cityscape.</p>
<p id="p-0076" num="0075"><figref idref="DRAWINGS">FIG. 15A</figref> is a diagram showing an exemplary hand detection region divided into detection planes.</p>
<p id="p-0077" num="0076"><figref idref="DRAWINGS">FIG. 15B</figref> is a diagram showing an exemplary hand detection region divided into detection boxes.</p>
<p id="p-0078" num="0077"><figref idref="DRAWINGS">FIGS. 15C and 15D</figref> are diagrams showing an exemplary hand detection region divided into two sets of direction detection boxes, and further show a gap defined between adjacent direction detection boxes.</p>
<p id="p-0079" num="0078">Like reference symbols in the various drawings indicate like elements.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0080" num="0079"><figref idref="DRAWINGS">FIG. 1</figref> shows one implementation of a video-based image control system <b>100</b>. A person (or multiple people) <b>101</b> locates him or herself in, or reaching with his hand or hands into, a region of interest <b>102</b>. The region of interest <b>102</b> is positioned relative to an image detector <b>103</b> so as to be in the overall field of view <b>104</b> of the image detector. The region of interest <b>102</b> contains a hand detection region <b>105</b> within which parts of the person's body, if present and detectable, are located and their positions and motions measured. The regions, positions and measures are expressed in a three-dimensional x, y, z coordinate or world-coordinate system <b>106</b> which does not need to be aligned to the image detector <b>103</b>. A series of video images generated by the image detector <b>103</b> are processed by a computing apparatus <b>107</b>, such as a personal computer, capable of displaying a video image on a video display <b>108</b>.</p>
<p id="p-0081" num="0080">As will be described in greater detail below, the computing apparatus <b>107</b> processes the series of video images in order to analyze the position and gestures of an object such as the user's hand. The resulting position and gesture information then is mapped into an application program, such as a graphical user interface (GUI) or a video game. A representation of the position and gestures of the user's hand (such as a screen pointer or cursor) is presented on the video display <b>108</b> and allows functions within the GUI or video game to be executed and/or controlled. An exemplary function is moving the cursor over a screen button and receiving a &#x201c;click&#x201d; or &#x201c;press&#x201d; gesture to select the screen button. The function associated with the button may then be executed by the computing apparatus <b>107</b>. The image detector <b>103</b> is described in greater detail below. System <b>100</b> may be implemented in a variety of configurations including a desktop configuration where the image detector <b>103</b> is mounted on a top surface of the video display <b>108</b> for viewing the region of interest <b>102</b>, or alternatively an overhead camera configuration where the image detector <b>103</b> is mounted on a support structure and positioned above the video display <b>108</b> for viewing the region of interest <b>102</b>.</p>
<p id="p-0082" num="0081"><figref idref="DRAWINGS">FIG. 2</figref> shows the video image analysis process <b>200</b>, that may be implemented through computer software or alternatively computer hardware, involved in a typical implementation of the system <b>100</b>. The image detector or video camera <b>103</b> acquires stereo images <b>201</b> of the region of interest <b>102</b> and the surrounding scene. These stereo images <b>201</b> are conveyed to the computing apparatus <b>107</b> (which may optionally be incorporated into the image detector <b>103</b>), which performs a stereo analysis process <b>202</b> on the stereo images <b>201</b> to produce a scene description <b>203</b>. From the scene description <b>203</b>, computing apparatus <b>107</b> or a different computing device, uses a scene analysis process <b>204</b> to calculate and output hand/object position information <b>205</b> of the person's (or people's) hand(s) or other suitable pointing device and optionally the positions or measures of other features of the person's body. The hand/object position information <b>205</b> is a set of three-dimensional coordinates that are provided to a position mapping process <b>207</b> that maps or transforms the three-dimensional coordinates to a scaled set of screen coordinates. These screen coordinates produced by the position mapping process <b>207</b> can then be used as screen coordinate position information by an application program <b>208</b> that runs on the computing apparatus <b>107</b> and provides user feedback <b>206</b>.</p>
<p id="p-0083" num="0082">Certain motions made by the hand(s), which are detected as changes in the position of the hand(s) and/or other features represented as the hand/object position information <b>205</b>, may also be detected and interpreted by a gesture analysis and detection process <b>209</b> as gesture information or gestures <b>211</b>. The screen coordinate position information from the position mapping process <b>207</b> along with the gesture information <b>211</b> is then communicated to, and used to control, the application program <b>208</b>.</p>
<p id="p-0084" num="0083">The detection of gestures may be context sensitive, in which case an application state <b>210</b> may be used by the gesture detection process <b>209</b>, and the criteria and meaning of gestures may be selected by the application program <b>208</b>. An example of an application state <b>210</b> is a condition where the appearance of the cursor changes depending upon its displayed location on the video screen <b>108</b>. Thus, if the user moves the cursor from one screen object to a different screen object, the icon representing the cursor may for example change from a pointer icon to a hand icon. Typically, the user receives feedback <b>206</b> as changes in the image presented on the video display <b>108</b>. In general, the feedback <b>206</b> is provided by the application program <b>208</b> and pertains to the hand position and the state of the application on the video display <b>108</b>.</p>
<p id="p-0085" num="0084">The image detector <b>103</b> and the computing device <b>107</b> produce scene description information <b>203</b> that includes a three-dimensional position, or information from which the three-dimensional position is implied, for all or some subset of the objects or parts of the objects that make up the scene. Objects detected by the stereo cameras within the image detector <b>103</b> may be excluded from consideration if their positions lie outside the region of interest <b>102</b>, or if they have shape or other qualities inconsistent with those expected of a person in a pose consistent with the typical use of the system <b>100</b>. As a result, few limitations are imposed on the environment in which the system may operate. The environment may even contain additional people who are not interacting with the system. This is a unique aspect of the system <b>100</b> relative to other tracking systems that require that the parts of the image(s) that do not make up the user, that is the background, be static and/or modeled.</p>
<p id="p-0086" num="0085">Also, few limitations are imposed on the appearance of the user and hand, as it is the general three-dimensional shape of the person and arm that is used to identify the hand. The user <b>101</b> may even wear a glove or mitten while operating system <b>100</b>. This is also a unique aspect of system <b>100</b>, as compared to other tracking systems that make use of the appearance of the hand, most commonly skin color, to identify the hand. Thus, system <b>100</b> can be considered more robust than methods relying on the appearance of the user and hand, because the appearance of bodies and hands are highly variable among poses and different people. However, it should be noted that appearance may be used by some implementations of the stereo analysis process <b>202</b> that are compatible with the system <b>100</b>.</p>
<p id="p-0087" num="0086">Typically, the scene description information <b>203</b> is produced through the use of stereo cameras. In such a system, the image detector <b>103</b> consists of two or more individual cameras and is referred to as a stereo camera head. The cameras may be black and white video cameras or may alternatively be color video cameras. Each individual camera acquires an image of the scene from a unique viewpoint and produces a series of video images. Using the relative positions of parts of the scene of each camera image, the computing device <b>107</b> can infer the distance of the object from the image detector <b>103</b>, as desired for the scene description <b>203</b>.</p>
<p id="p-0088" num="0087">An implementation of a stereo camera image detector <b>103</b> that has been used for this system is described in greater detail below. Other stereo camera systems and algorithms exist that produce a scene description suitable for this system, and it should be understood that it is not intended that this system be limited to using the particular stereo system described herein.</p>
<p id="p-0089" num="0088">Turning to <figref idref="DRAWINGS">FIG. 3</figref> each camera <b>301</b>, <b>302</b> of the image detector or stereo camera head <b>103</b> detects and produces an image of the scene that is within that camera's field of view <b>304</b>, <b>305</b> (respectively). The overall field of view <b>104</b> is defined as the intersection of all the individual field of views <b>304</b>, <b>305</b>. Objects <b>307</b> within the overall field of view <b>104</b> have the potential to be detected, as a whole or in parts, by all the cameras <b>301</b>, <b>302</b>. The objects <b>307</b> may not necessarily lie within the region of interest <b>102</b>. This is permissible because the scene description <b>203</b> is permitted to contain objects, or features of objects, that are outside the region of interest <b>102</b>. With respect to <figref idref="DRAWINGS">FIG. 3</figref>, it should be noted that the hand detection region <b>105</b> is a subset of the region of interest <b>102</b>.</p>
<p id="p-0090" num="0089">With respect to <figref idref="DRAWINGS">FIG. 4</figref>, each image <b>401</b> and <b>402</b> of the pair of images <b>201</b>, is detected by the pair of cameras <b>103</b>. There exists a set of lines in the image <b>401</b>, such that for each line <b>403</b> of that set, there exists a corresponding line <b>404</b> in the other image <b>402</b>. Further, any common point <b>405</b> in the scene that is located on the line <b>403</b>, will also be located on the corresponding line <b>404</b> in the second camera image <b>402</b>, so long as that point is within the overall field of view <b>104</b> and visible by both cameras <b>301</b>, <b>302</b> (for example, not occluded by another object in the scene). These lines <b>403</b>, <b>404</b> are referred to as epipolar lines. The difference in position of the point on each of the epipolar lines of the pair is referred to as disparity. Disparity is inversely proportional to distance, and therefore provides information required to produce the scene description <b>203</b>.</p>
<p id="p-0091" num="0090">The epipolar line pairs are dependent on the distortion in the cameras' images and the geometric relationship between the cameras <b>301</b>, <b>302</b>. These properties are determined and optionally analyzed through a pre-process referred to as calibration. The system must account for the radial distortion introduced by the lenses used on most cameras. One technique for resolving those camera characteristics that describe this radial distortion is presented in Z. Zhang, A Flexible New Technique for Camera Calibration, Microsoft Research, http://research.microsoft.com/&#x2dc;zhang, which is incorporated by reference, and may be used as the first step of calibration. This technique will not find the epipolar lines, but it causes the lines to be straight, which simplifies finding them. A subset of the methods described in Z. Zhang, Determining the Epipolar Geometry and its Uncertainty: A Review, <i>The International Journal of Computer Vision </i>1997, and Z. Zhang, Determining the Epipolar Geometry and its Uncertainty: A review, Technical Report 2927, INRIA Sophia Antipolis, France, July 1996, both of which are incorporated by reference, may be applied to solve the epipolar lines, as the second step of calibration.</p>
<p id="p-0092" num="0091">One implementation of a stereo analysis process <b>202</b> that has been used to produce the scene description <b>203</b> is described in <figref idref="DRAWINGS">FIG. 5</figref>. The image pair <b>201</b> includes a reference image <b>401</b> and a comparison image <b>402</b>. Individual images <b>401</b> and <b>402</b> are filtered by an image filter <b>503</b> and broken into features at block <b>504</b>. Each feature is represented as an 8&#xd7;8 block of pixels. However it should be understood that the features may be defined in pixel blocks that are larger or smaller than 8&#xd7;8 and processed accordingly.</p>
<p id="p-0093" num="0092">A matching process <b>505</b> seeks a match for each feature in the reference image. To this end, a feature comparison process <b>506</b> compares each feature in the reference image to all features that lie within a predefined range along the corresponding epipolar line, in the second or comparison image <b>402</b>. In this particular implementation, a feature is defined as an 8&#xd7;8 pixel block of the image <b>401</b> or <b>402</b>, where the block is expected to contain a part of an object in the scene, represented as a pattern of pixel intensities (which, due to the filtering by the image filter <b>503</b>, may not directly represent luminance) within the block. The likelihood that each pair of features matches is recorded and indexed by the disparity. Blocks within the reference image <b>401</b> are eliminated by a feature pair filter <b>507</b> if the best feature pair's likelihood of a match is weak (as compared to a predefined threshold), or if multiple feature pairs have similar likelihood of being the best match (where features are considered similar if the difference in their likelihood is within a predefined threshold). Of remaining reference features, the likelihood of all feature pairs is adjusted by a neighborhood support process <b>508</b> by an amount proportional to the likelihood found for neighboring reference features with feature pairs of similar disparity. For each reference feature, the feature pair with the best likelihood may now be selected by a feature pair selection process <b>509</b>, providing a disparity (and hence, distance) for each reference feature.</p>
<p id="p-0094" num="0093">Due to occlusion, a reference feature (produced by process <b>504</b>) may not be represented in the second or comparison image <b>402</b> and the most likely matching feature that is present will be erroneous. Therefore, in a two camera system, the features selected in comparison image <b>402</b> are examined by a similar procedure (by applying processes <b>506</b>, <b>507</b>, <b>508</b>, and <b>509</b> in a second parallel matching process <b>510</b>) to determine the best matching features of those in reference image <b>401</b>, a reversal of the previous roles for images <b>401</b> and <b>402</b>. In a three camera system (i.e., a third camera is used in addition to cameras <b>301</b> and <b>302</b>), the third camera's image replaces the comparison image <b>402</b>, and the original reference image <b>401</b> continues to be used as the reference image, by a similar procedure (by applying processes <b>506</b>, <b>507</b>, <b>508</b>, and <b>509</b> in the second parallel matching process <b>510</b>) to determine the best matching features of those in the third image. If more than three cameras are available, this process can be repeated for each of the additional camera images. Any reference feature whose best matching paired feature has a more likely matching feature in the reference image <b>401</b> is eliminated in a comparison process <b>511</b>. As a result, many erroneous matches, and therefore erroneous distances, caused by occlusion are eliminated.</p>
<p id="p-0095" num="0094">The result of the above procedure is a depth description map <b>512</b> that describes the position and disparity of features relative to the images <b>401</b>, <b>402</b>. These positions and disparities (measured in pixels) are transformed by a coordinate system transformation process <b>513</b> to the arbitrary three-dimensional world coordinate system (x, y, z coordinate system) (<b>106</b> of <figref idref="DRAWINGS">FIG. 1</figref>) by applying Eq. 1, Eq. 2 and Eq. 3, which are presented below. Disparity can be difficult to work with because it is non-linearly related to distance. For this reason, these equations generally are applied at this time so that the coordinates of the scene description <b>203</b> are described in terms of linear distance relative to the world coordinate system <b>106</b>. Application of these equations, however, will re-distribute the coordinates of the features in such a way that the density of features in a region will be affected, which makes the process of clustering features (performed in a later step) more difficult. Therefore, the original image-based coordinates typically are maintained along with the transformed coordinates.</p>
<p id="p-0096" num="0095">This transformed depth description map produced by transformation process <b>513</b> is the scene description <b>203</b> (of <figref idref="DRAWINGS">FIG. 2</figref>). It is the task of the scene analysis process <b>204</b> to make sense of this information and extract useful data. Typically, the scene analysis process <b>204</b> is dependent on the particular scenario in which this system is applied.</p>
<p id="p-0097" num="0096"><figref idref="DRAWINGS">FIG. 6</figref> presents a flow diagram that summarizes an implementation of the scene analysis process <b>204</b>. In the scene analysis process <b>204</b>, features within the scene-description <b>203</b> are filtered by a feature cropping module <b>601</b> to exclude features with positions that indicate that the features are unlikely to belong to the user or are outside the region of interest <b>102</b>. Module <b>601</b> also eliminates the background and other &#x201c;distractions&#x201d; (for example, another person standing behind the user).</p>
<p id="p-0098" num="0097">Typically, the region of interest <b>102</b> is defined as a bounding box aligned to the world-coordinate system <b>106</b>. When this is the case, module <b>601</b> may easily check whether the coordinates of each feature are within the bounding box.</p>
<p id="p-0099" num="0098">Often, parts of the background can be detected to be within the region of interest <b>102</b>, or a box-shaped region of interest may be incapable of definitively separating the user <b>101</b> from the background (particularly in confined spaces). When it is known that no user is within the region of interest <b>102</b>, the scene description <b>203</b> is optionally sampled and modified by a background sampling module <b>602</b> to produce a background reference <b>603</b>. The background reference <b>603</b> is a description of the shape of the scene that is invariant to changes in the appearance of the scene (for example, changes in illumination). Therefore, it is typically sufficient to sample the scene only when the system <b>100</b> is setup, and that reference will remain valid as long as the structure of the scene remains unchanged. The position of a feature forming part of the scene may vary by a small amount over time, typically due to signal noise. To assure that the observed background remains within the shape defined by the background reference <b>603</b>, the background sampling module <b>602</b> may observe the scene description <b>203</b> for a short period of time (typically 1 to 5 seconds), and record the features nearest to the cameras <b>103</b> for all locations. Furthermore, the value defined by those features is expanded further by a predetermined distance (typically the distance corresponding to a one pixel change in disparity at the features' distances). Once sampling is complete, this background reference <b>603</b> can be compared to scene descriptions <b>203</b>, and any features within the scene description <b>203</b> that are on or behind the background reference are removed by the feature cropping module <b>601</b>.</p>
<p id="p-0100" num="0099">After feature cropping, the next step is to cluster the remaining features into collections of one or more features by way of a feature clustering process <b>604</b>. Each feature is compared to its neighbors within a predefined range. Features tend to be distributed more evenly in their image coordinates than in their transformed coordinates, so the neighbor distance typically is measured using the image coordinates. The maximum acceptable range is pre-defined, and is dependent on the particular stereo analysis process, such as stereo analysis process <b>202</b>, that is used. The stereo analysis process <b>202</b> described above produces relatively dense and evenly distributed features, and therefore its use leads to easier clustering than if some other stereo processing techniques are used. Of those feature pairs that meet the criteria to be considered neighbors, their nearness in the axis most dependent on disparity (z-axis in those scenarios where the cameras are positioned in front of the region of interest, or the y-axis in those scenarios where the cameras are positioned above the region of interest) is checked against a predefined range. A cluster may include pairs of features that do not meet these criteria if there exists some path through the cluster of features that joins those features such that the pairs of features along this path meet the criteria.</p>
<p id="p-0101" num="0100">Continuing with this implementation, clusters are filtered using a cluster filtering process <b>605</b> to assure that the cluster has qualities consistent with objects of the kinds expected to be present within the region of interest <b>102</b>, and are not the result of features whose position (or disparity) has been erroneously identified in the stereo processing routine. Also, as part of the cluster filtering process <b>605</b>, clusters that contain too few features to provide a confident measure of their size, shape, or position are eliminated. Measurements of the cluster's area, bounding size, and count of features are made and compared to predefined thresholds that describe minimum quantities of these measures. Clusters, and their features, that do not pass these criteria are removed from further consideration.</p>
<p id="p-0102" num="0101">The presence or absence of a person is determined by a presence detection module <b>606</b> in this implementation. The presence detection module <b>606</b> is optional because the information that this component provides is not required by all systems. In its simplest form, the presence detection module <b>606</b> need only check for the presence of features (not previously eliminated) within the bounds of a predefined presence detection region <b>607</b>. The presence detection region <b>607</b> is any region that is likely to be occupied in part by some part of the user <b>101</b>, and is not likely to be occupied by any object when the user is not present. The presence detection region <b>607</b> is typically coincident to the region of interest <b>102</b>. In specific installations of this system, however, the presence detection region <b>607</b> may be defined to avoid stationary objects within the scene. In implementations where this component is applied, further processing may be skipped if no user <b>101</b> is found.</p>
<p id="p-0103" num="0102">In the described implementation of system <b>100</b>, a hand detection region <b>105</b> is defined. The method by which this region <b>105</b> is defined (by process <b>609</b>) is dependent on the scenario in which the system is applied, and is discussed in greater detail below. That procedure may optionally analyze the user's body and return additional information including body position(s)/measure(s) information <b>610</b>, such as the position of the person's head.</p>
<p id="p-0104" num="0103">The hand detection region <b>105</b> is expected to contain nothing or only the person's hand(s) or suitable pointer. Any clusters that have not been previously removed by filtering and that have features within the hand detection region <b>105</b> are considered to be, or include, hands or pointers. A position is calculated (by process <b>611</b>) for each of these clusters, and if that position is within the hand detection region <b>105</b>, it is recorded (in memory) as hand position coordinates <b>612</b>. Typically, the position is measured as a weighted mean. The cluster's feature (identified by <b>1005</b> of the example presented in <figref idref="DRAWINGS">FIG. 10</figref>) that is furthest from side of entry (<b>1002</b> in that example) of the hand detection region <b>105</b> is identified, and its position is given a weight of 1 based on the assumption that it is likely to represent the tip of a finger or pointer. The remaining weights of cluster features are based on the distance back from this feature, using the formula of Eq. 4 provided below. If only one hand position is required by the application and multiple clusters have features within the hand detection region <b>105</b>, the position that is furthest from the side of entry <b>1002</b> is provided as the hand position <b>612</b> and other positions are discarded. Therefore, the hand that reaches furthest into the hand detection region <b>105</b> is used. Otherwise, if more than two clusters have features within the hand detection region <b>105</b>, the position that is furthest from the side of entry <b>1002</b> and the position that is second furthest from the side of entry <b>1002</b> are provided as the hand positions <b>612</b> and other positions are discarded. Whenever these rules cause a cluster to be included in place of a different cluster, the included clusters are tagged as such in the hand position data <b>612</b>.</p>
<p id="p-0105" num="0104">In those scenarios where the orientation of the cameras is such that the person's arm is detectable, the orientation is represented as hand orientation coordinates <b>613</b> of the arm or pointer, and may optionally be calculated by a hand orientation calculation module <b>614</b>. This is the case if the elevation of the cameras <b>103</b> is sufficiently high relative to the hand detection region <b>105</b>, including those scenarios where the cameras <b>103</b> are directly above the hand detection region <b>105</b>. The orientation may be represented by the principal axis of the cluster, which is calculated from the moments of the cluster.</p>
<p id="p-0106" num="0105">An alternative method that also yields good results, in particular when the features are not evenly distributed, is as follows. The position where the arm enters the hand detection region <b>105</b> is found as the position where the cluster is dissected by the plane formed by that boundary of the hand detection region <b>105</b>. The vector between that position and the hand position coordinates <b>612</b> provides the hand orientation coordinates <b>613</b>.</p>
<p id="p-0107" num="0106">A dynamic smoothing process <b>615</b> may optionally be applied to the hand position coordinate(s) <b>612</b>, the hand orientation(s) coordinates <b>613</b> (if solved), and any additional body positions or measures <b>610</b>. Smoothing is a process of combining the results with those solved previously so that motion is steady from frame to frame. The one particular of smoothing for these particular coordinate values, each of the components of the coordinate, that is x, y, and z, are smoothed independently and dynamically. The degree of dampening S is calculated by Eq. 5, which is provided below, where S is dynamically and automatically adjusted in response to the change in position. Two distance thresholds, D<sub>A </sub>and D<sub>B</sub>, as shown in <figref idref="DRAWINGS">FIG. 7</figref>, define three ranges of motion. For a change in position that is less than D<sub>A</sub>, motion is heavily dampened in region <b>701</b> by S<sub>A</sub>, thereby reducing the tendency of a value to switch back and forth between two nearby values (a side effect of the discrete sampling of the images). A change in position greater than D<sub>B </sub>is lightly dampened in region <b>702</b> by S<sub>B</sub>, or not dampened. This reduces or eliminates lag and vagueness that is introduced in some other smoothing procedures. The degree of dampening is varied for motion between D<sub>A </sub>and D<sub>B</sub>, the region marked as <b>703</b>, so that the transition between light and heavy dampening is less noticeable. Eq. 6, which is provided below, is used to solve the scalar a, which is used in Eq. 7 (also provided below) to modify the coordinate(s). The result of dynamic smoothing process <b>615</b> is the hand/object position information <b>205</b> of <figref idref="DRAWINGS">FIG. 2</figref>. Smoothing is not applied when process <b>611</b> has tagged the position as belonging to a different cluster than the previous position, since the current and previous positions are independent.</p>
<p id="p-0108" num="0107">The described method by which the hand detection region <b>105</b> is determined at step <b>609</b> is dependent on the scenario in which the image control system <b>100</b> is applied. Two scenarios are discussed here.</p>
<p id="p-0109" num="0108">The simplest hand detection region <b>105</b> is a predetermined fixed region that is expected to contain either nothing or only the person's hand(s) or pointer. One scenario where this definition applies is the use of system <b>100</b> for controlling the user interface of a personal computer, where the hand detection region <b>105</b> is a region in front of the computer's display monitor <b>108</b>, and above the computer's keyboard <b>802</b>, as depicted in <figref idref="DRAWINGS">FIG. 8</figref>. In the traditional use of the computer, the user's hands or other objects do not normally enter this region. Therefore, any object found to be moving within the hand detection region <b>105</b> may be interpreted as an effort by the user <b>101</b> to perform the action of &#x201c;pointing&#x201d;, using his or her hand or a pointer, where a pointer may be any object suitable for performing the act of pointing, including, for example, a pencil or other suitable pointing device. It should be noted that specific implementation of the stereo analysis process <b>202</b> may impose constraints on the types or appearance of objects used as pointers. Additionally, the optional presence detection region, discussed above, may be defined as region <b>801</b>, to include, in this scenario, the user's head. The image detector <b>103</b> may be placed above the monitor <b>108</b>.</p>
<p id="p-0110" num="0109">In some scenarios, the hand detection region <b>105</b> may be dynamically defined relative to the user's body and expected to contain either nothing or only the person's hand(s) or pointer. The use of a dynamic region removes the restriction that the user be positioned at a predetermined position. <figref idref="DRAWINGS">FIG. 1</figref> depicts a scenario in which this implementation may be employed.</p>
<p id="p-0111" num="0110"><figref idref="DRAWINGS">FIG. 9</figref> shows an implementation of the optional dynamic hand detection region positioning process <b>609</b> in greater detail. In this process, the position of the hand detection region <b>105</b> on each of three axes is solved, while the size and orientation of the hand detection region <b>105</b> are dictated by predefined specifications. <figref idref="DRAWINGS">FIGS. 10-10C</figref> present an example that is used to help illustrate this process.</p>
<p id="p-0112" num="0111">Using the cluster data <b>901</b> (the output of the cluster filtering process <b>605</b> of <figref idref="DRAWINGS">FIG. 6</figref>), the described procedure involves finding, in block <b>902</b>, the position of a plane <b>1001</b> (such as a torso-divisioning plane illustrated in the side view depicted in <figref idref="DRAWINGS">FIG. 10C</figref>) whose orientation is parallel to the boundary <b>1002</b> of the hand detection region <b>105</b> through which the user <b>101</b> is expected to reach. If the features are expected to be evenly distributed over the original images (as is the case when the implementation of the stereo analysis process <b>202</b> described above is used), then it is expected that the majority of the remaining features will belong to the user's torso, and not his hand. In this case, the plane <b>1001</b> may be positioned so that it segments the features into two groups of equal count. If the features are expected to be unevenly distributed (as is the case when some alternative implementations of the stereo analysis process <b>202</b> are used), then the above assumption may not be true. However, the majority of features that form the outer bounds of the cluster are still expected to belong to the torso. In this case, the plane <b>1001</b> may be positioned so that it segments the outer-most features into two groups of equal count. In either case, the plane <b>1001</b> will be positioned by the torso-divisioning process in block <b>902</b> so that it is likely to pass through the user's torso.</p>
<p id="p-0113" num="0112">Process block <b>903</b> determines the position of the hand detection region <b>105</b> along the axis that is defined normal to plane <b>1001</b> found above. The hand detection region <b>105</b> is defined to be a predetermined distance <b>1004</b> in front of plane <b>1001</b>, and therefore in front of the user's body. In the case of <figref idref="DRAWINGS">FIG. 1</figref>, distance <b>1004</b> determines the position of the hand detection region <b>105</b> along the z-axis.</p>
<p id="p-0114" num="0113">If the user's head is entirely within the region of interest <b>102</b>, then the position of the topmost feature of the cluster is expected to represent the top of the user's head (and therefore to imply the user's height), and is found in process block <b>904</b> of this implementation. In process block <b>905</b>, the hand detection region <b>105</b> is positioned based on this head position, a predefined distance below the top of the user's head. In the case of <figref idref="DRAWINGS">FIG. 1</figref>, the predefined distance determines the position of the hand detection region along the y-axis. If the user's height cannot be measured, or if the cluster reaches the border of the region of interest <b>102</b> (implying that the person extends beyond the region of interest <b>102</b>), then the hand detection region <b>105</b> is placed at a predefined height.</p>
<p id="p-0115" num="0114">In many scenarios, it can be determined whether the user's left or right arm is associated with each hand that is detected in the position calculation block <b>611</b> of <figref idref="DRAWINGS">FIG. 6</figref>. In process block <b>906</b>, the position where the arm intersects a plane that is a predefined position in front of plane <b>1001</b> is determined. Typically, this plane is coincident to the hand detection region boundary indicated by <b>1002</b>. If no features are near this plane, but if some features are found in front of this plane, then it is likely that those features occlude the intersection with that plane, and the position of intersection may be assumed to be behind the occluding features. By shortest neighbor distances between the features of the blocks, each intersection is associated with a hand point.</p>
<p id="p-0116" num="0115">The position of the middle of the user's body and the bounds of the user's body are also found in process block <b>907</b>. Typically, this position is, given evenly distributed features, the mean position of all the features in the cluster. If features are not expected to be evenly distributed, the alternative measure of the position halfway between the cluster's bounds may be used.</p>
<p id="p-0117" num="0116">In process block <b>908</b>, the arm-dependent position found by process block <b>906</b> is compared to the body centric position found by process block <b>907</b>. If the arm position is sufficiently offset (e.g., by greater than a predefined position that may be scaled by the cluster's overall width) to either the left or right of the body-center position, then it may be implied that the source of the arm comes from the left or right shoulder of the user <b>101</b>. If two hands are found but only one hand may be labeled as &#x201c;left&#x201d; or &#x201c;right&#x201d; with certainty, the label of the other hand may be implied. Therefore, each hand is labeled as &#x201c;left&#x201d; or &#x201c;right&#x201d; based on the cluster's structure, assuring proper labeling in many scenarios where both hands are found and the left hand position is to the right of the right hand position.</p>
<p id="p-0118" num="0117">If one hand is identified by process block <b>908</b>, then the hand detection region <b>105</b> may be placed (by process block <b>909</b>) so that all parts of the hand detection region <b>105</b> are within an expected range of motion associated with the user's hand. The position of the hand detection region <b>105</b> along the remaining axis may be biased towards the arm of the arm as defined by Eq. 8 (which is provided below). If process block <b>908</b> failed to identify the arm, or if it is otherwise desired, the position of the hand detection region <b>105</b> along the remaining axis may be positioned at the center of the user's body as found by <b>907</b>. In scenarios where tracking of both hands is desired, the hand detection region <b>105</b> may be positioned at the center of the user's body.</p>
<p id="p-0119" num="0118">Process blocks <b>903</b>, <b>906</b> and <b>909</b> each solve the position of the hand detection region <b>105</b> in one axis, and together define the position of the hand detection region <b>105</b> within three-dimensional space. That position is smoothed by a dynamic smoothing process <b>910</b> by the same method used by component <b>615</b> (using Eq. 5, Eq. 6, and Eq. 7). However, a higher level of dampening may be used in process <b>910</b>.</p>
<p id="p-0120" num="0119">The smoothed position information output from the dynamic smoothing process <b>910</b>, plus predefined size and orientation information <b>911</b>, completely defines the bounds of the hand detection region <b>105</b>. In solving the position of the hand detection region <b>105</b>, process blocks <b>905</b>, <b>907</b>, and <b>908</b> find a variety of additional body position measures <b>913</b> (<b>610</b> of <figref idref="DRAWINGS">FIG. 6</figref>) of the user.</p>
<p id="p-0121" num="0120">In summary, the above implementation described by <figref idref="DRAWINGS">FIG. 6</figref>, using all the optional components including those of <figref idref="DRAWINGS">FIG. 9</figref>, produces a description of person(s) in the scene (represented as the hand/object position information <b>205</b> of <figref idref="DRAWINGS">FIG. 2</figref>) that includes the following information:</p>
<p id="p-0122" num="0121">Presence/absence or count of users</p>
<p id="p-0123" num="0122">For each present user:</p>
<p id="p-0124" num="0123">Left/Right bounds of the body or torso</p>
<p id="p-0125" num="0124">Center point of the body or torso</p>
<p id="p-0126" num="0125">Top of the head (if the head is within the region of interest)</p>
<p id="p-0127" num="0126">For each present hand:</p>
<p id="p-0128" num="0127">The hand detection region</p>
<p id="p-0129" num="0128">A label of &#x201c;Left&#x201d;, &#x201c;Right&#x201d; (if detectable)</p>
<p id="p-0130" num="0129">The position of the tip of the hand</p>
<p id="p-0131" num="0130">The orientation of the hand or forearm</p>
<p id="p-0132" num="0131">Given improvements in the resolution of the scene description <b>203</b>, the implementations described here may be expanded to describe the user in greater detail (for example, identifying elbow positions).</p>
<p id="p-0133" num="0132">This hand/object position information <b>205</b>, a subset of this information, or further information that may be implied from the above information, is sufficient to allow the user to interact with and/or control a variety of application programs <b>208</b>. The control of three applications is described in greater detail below.</p>
<p id="p-0134" num="0133">Through processing the above information, a variety of human gestures can be detected that are independent of the application <b>208</b> and the specific control analogy described below. An example of such a gesture is &#x201c;drawing a circle in the air&#x201d; or &#x201c;swiping the hand off to one side&#x201d;. Typically, these kinds of gestures be detected by the gesture analysis and detection process <b>209</b> using the hand/object position information <b>205</b>.</p>
<p id="p-0135" num="0134">A large subset of these gestures may be detected using heuristic techniques. The detection process <b>209</b> maintains a history of the hand and body positions. One approach to detecting gestures is to check if the positions pass explicit sets of rules. For example, the gesture of &#x201c;swiping the hand off to one side&#x201d; can be identified if the following gesture detection rules are satisfied:</p>
<p id="p-0136" num="0135">1. The change in horizontal position is greater than a predefined distance over a time span that is less than a predefined limit.</p>
<p id="p-0137" num="0136">2. The horizontal position changes monotonically over that time span.</p>
<p id="p-0138" num="0137">3. The change in vertical position is less than a predefined distance over that time span.</p>
<p id="p-0139" num="0138">4. The position at the end of the time span is nearer to (or on) a border of the hand detection region than the position at the start of the time span.</p>
<p id="p-0140" num="0139">Some gestures require that multiple rule sets are satisfied in an explicit order, whereby the satisfaction of a rule set causes the system to change to a state where a different rule set is applied. This system may be unable to detect subtle gestures, in which case Hidden Markov Models may be used, as these models still allow for chains of specific motions to be detected, but also consider the overall probability that the motions sufficiently fit a gesture.</p>
<p id="p-0141" num="0140">An implementation of this system provides a method of user interaction whereby the user causes a representation of an indicator to move within an image (user feedback <b>206</b>) that is presented to the user on a video display <b>108</b>. The indicator is made to move in a way that reflects the movements of the user's hand.</p>
<p id="p-0142" num="0141">In one variation of this form of user interface, the indicator is shown in front of other graphics, and its movements are mapped to the two dimensional space defined by the surface of the video display screen <b>108</b>. This form of control is analogous to that provided by a mouse commonly used with desktop computers. <figref idref="DRAWINGS">FIG. 11A</figref> shows an example of a feedback image <b>206</b> of an application program <b>208</b> that uses this style of control.</p>
<p id="p-0143" num="0142">The following describes a method by which, in the position mapping process <b>207</b>, a hand position <b>205</b>, detected by the scene analysis process <b>204</b> as previously described, is mapped into the position where the screen pointer or cursor <b>1101</b> is overlaid onto the screen image <b>206</b> presented on the video display <b>108</b>. When one hand is detected and found to be within the hand detection region <b>105</b>, then the hand position <b>205</b> relative to the hand detection region <b>105</b> is mapped by the position mapping process <b>207</b> into coordinates relative to the video display <b>108</b> before it is conveyed to the application program <b>208</b>. One method of mapping the coordinates is through the application of Eq. 9 (which is shown below) for the x coordinate and the equivalent for the y coordinate. As illustrated in <figref idref="DRAWINGS">FIG. 11B</figref>, the entire display region <b>1102</b> is represented by a sub-region <b>1103</b> contained entirely within the hand detection region <b>1104</b> (analogous to hand detection region <b>105</b>). Positions (for example, hand position <b>1105</b>) within the sub-region <b>1103</b> are linearly mapped to positions (for example, <b>1106</b>) within the display region <b>1102</b>. Positions (for example, <b>1107</b>) outside the sub-region <b>1103</b> but still within the hand detection region <b>1104</b> are mapped to the nearest position (for example, <b>1108</b>) on the border of the display region <b>1102</b>. This reduces the likelihood of the user unintentionally removing the hand from the sub-region <b>1103</b> while attempting to move the cursor <b>1101</b> to a position near a border of the display. If both of the user's hands are detected within the hand detection region <b>105</b>, then one hand is selected in position mapping process <b>207</b>. Typically, the hand that is reaching furthest into the hand detection region <b>105</b> is selected. That hand is detectable as the hand that has, depending on the configuration of this system and the definition of the world coordinate system <b>106</b>, either the largest or smallest x, y, or z coordinate value.</p>
<p id="p-0144" num="0143">An application that uses this style of interaction typically presents graphic representations of data or controls (for example, a button <b>1109</b>). The user is expected to cause the indicator <b>1101</b> to be positioned over one of these objects. This condition may be detected by comparing the remapped indicator position <b>1106</b> to the bounds (for example, <b>1110</b>) of the graphic representation of the object, where this condition is true if the indicator position is within the object bounds. The user optionally receives feedback indicating that the cursor is positioned over an object. Feedback may be of a variety of forms, including an audio cue and/or a change in the graphical representation of either or both the cursor and the object. The user then may activate, manipulate, or move the object that is under the cursor.</p>
<p id="p-0145" num="0144">The user is expected to indicate his intention to activate, manipulate, or move the object by performing a gesture. In the implementation of this system presented here, the gesture analysis process <b>209</b> identifies as gestures patterns in the changes of the hand position or other positions and measures provided by either or both of scene analysis process <b>204</b> and position mapping process <b>207</b>. For example, the user may indicate an intention to activate the object that is under the cursor is to cause the cursor to remain over the object for longer than a predefined duration. Detection of this gesture requires that the state <b>210</b> of the application, in particular the bounds and/or state of the object, be fed back into the gesture analysis process <b>209</b>. The application need not be created specifically for this system, as techniques exist that can unobtrusively monitor an application's state <b>210</b> and, using the coordinates provided by the position mapping process <b>207</b>, emulate other interface devices such a computer mouse.</p>
<p id="p-0146" num="0145">In some scenarios, the application state information <b>210</b> may not be available and may not be monitored. In this case, gestures that indicate the intention to activate the object under the cursor include holding the hand stationary (&#x201c;hovering&#x201d;), or poking the hand quickly forward and back.</p>
<p id="p-0147" num="0146">A method by which &#x201c;hovering&#x201d; has been detected is by keeping a history of the position of the hand, where that history contains all records of the hand position and state for a predefined duration of time that ends with the most recent sample. That duration represents the minimum duration that the user must hold the hand stationary. The minimum and maximum position, separately in each of the three (x, y, z) dimensions, is found within the history. If the hand was present in all samples of the history, and the distance between the minimum and maximum is within a predefined threshold for each of the three dimensions, then the &#x201c;hovering&#x201d; gesture is reported. Those distance thresholds represent the maximum amount that the hand is allowed to move, plus the maximum amount of variation (or &#x201c;jitter&#x201d;) expected to be introduced into the hand position by the various components of the system. The typical method in which this gesture is reported, where the system is emulating a mouse as described above, is to emulate a mouse &#x201c;click&#x201d;. Gestures representing additional operations of the mouse, &#x201c;double clicks&#x201d; and &#x201c;dragging&#x201d;, have also been detected and those operations have been emulated.</p>
<p id="p-0148" num="0147">In addition, gestures that are independent of the position of the indicator relative to an object may optionally be detected and given meaning by the application, either with or without regard to the application's state. An application that uses this style of interaction typically does not explicitly use or display the user's hand or other positions. These applications can be wholly or primarily controlled with only the interpretations of the positions made by this system. These applications also need not be created specifically for this system because the interpretations made by this system can be used to simulate an action that would be performed on a traditional user input device, such as a keyboard or joystick.</p>
<p id="p-0149" num="0148">Many useful interpretations depend directly on the absolute position of the hand within the hand detection region <b>105</b>. One method of making these interpretations is to define boxes, planes, or other shapes. A state is triggered on if the hand position is found to be within a first box (or beyond the border defined by the first plane), and had not been in the immediately preceding observation (either because it was elsewhere within the hand detection region <b>105</b>, or was not detected). This state is maintained until the hand position is not found to be within a second box (or beyond the border defined by the second plane), at which time the state is triggered off. The second box must contain the entire first box, and, in general, is slightly larger. The use of a slightly larger box reduces occurrences of the state unintentionally triggering on and off when the hand position is held near the border of the boxes. Typically, one of three methods of interpreting this state is used, depending on the intended use of the gesture. In one method, the gesture directly reflects the state with an on and off trigger. When emulating a keyboard key or joystick fire button, the button is &#x201c;pressed&#x201d; when the state is triggered on, and &#x201c;released&#x201d; when the state is triggered off. In the other common method, the gesture is only triggered by the transition of the state from off to on. When emulating a keyboard key or joystick button, the key is &#x201c;clicked&#x201d;. Although the duration and off state are not reported to the application, they are maintained so that the gesture will not be repeated until after the state is triggered off, so that each instance of the gesture requires a clearly defined intent by the user. The third method typically employed is to trigger the gesture by the transition of the state from off to on, and to periodically re-trigger the gesture at predefined intervals so long as the state remains on. This emulates the way in which holding a key down on a keyboard causes the character to repeat in some applications.</p>
<p id="p-0150" num="0149">One way in which boxes or planes for the above techniques may be defined within the hand detection region <b>105</b> is as follows. By defining a first plane (<b>1501</b> in <figref idref="DRAWINGS">FIG. 15A</figref>) and second plane <b>1502</b> that divides the hand detection region <b>105</b> into &#x201c;fire&#x201d; <b>1503</b> and &#x201c;neutral&#x201d; <b>1504</b> regions (the gesture reported when the hand is in the region <b>1505</b> between the planes depends on the previous positions of the hand, as described above), the above technique can detect a hand &#x201c;jabbing&#x201d; forward, which is one gesture for emulating a fire button on a joystick, or causing the application to respond in a way that is commonly associated with the pressing of a joystick button (for example, the firing of a weapon in a video game).</p>
<p id="p-0151" num="0150">Another way in which boxes or planes for the above techniques may be defined within the hand detection region <b>105</b> is as follows. Planes of the first type <b>1506</b>, <b>1507</b>, <b>1508</b>, <b>1509</b> are defined that separate each of the left, right, top and bottom portions of the hand detection region <b>105</b>, overlapping in the corner regions as illustrated in <figref idref="DRAWINGS">FIG. 15B</figref>. Planes of the second type are labeled as <b>1510</b>, <b>1511</b>, <b>1512</b>, <b>1513</b>. Each pair of first and second planes is processed independently. This combination of planes emulates the four directional cursor keys, where a hand in a corner triggers two keys, commonly interpreted by many applications as the four secondary 45 degree (diagonal) directions.</p>
<p id="p-0152" num="0151">Referring to <figref idref="DRAWINGS">FIG. 15C</figref>, an alternative method is shown for emulating control of discrete directions and applies for applications that expect the four 45 degree direction states to be explicitly represented. Boxes <b>1514</b>, <b>1515</b>, <b>1516</b>, <b>1517</b> are defined for each of the four primary (horizontal and vertical) directions, with additional boxes <b>1518</b>, <b>1519</b>, <b>1520</b>, <b>1521</b> defined for each of the secondary 45 degree (diagonal) directions. For clarity, only boxes of the first type are illustrated. A gap is placed between these boxes. <figref idref="DRAWINGS">FIG. 15D</figref> illustrates how neighboring boxes are defined. The gap between boxes of the first type <b>1522</b>, <b>1523</b> assures that the user intentionally enters the box, while the gap <b>1524</b> is filled by overlapping boxes of the second type <b>1525</b>, <b>1526</b>, so that the system will report the previous gesture until the user was clearly intended to move into the neighboring box. This combination of buttons can be used to emulate an eight-directional joystick pad.</p>
<p id="p-0153" num="0152">A wider class of gestures depend on motion instead of or in addition to position. An example is the gesture of &#x201c;swiping the hand to the left&#x201d;. This gesture may be used to convey to an application that it is to return to a previous page or state. Through emulation of a keyboard and mouse, this gesture causes presentation software, in particular PowerPoint, to go to the previous slide of a presentation sequence. Through emulation of a keyboard and mouse, this gesture causes a web browser to perform the action associated with its &#x201c;back&#x201d; button. Similarly, the gesture of &#x201c;swiping the hand to the right&#x201d; is a gesture that may be used to convey to an application that the user desires to go to the next page or state. For example, this gesture causes presentation software to go to the next slide of a presentation sequence, and causes browser software to go to the next page.</p>
<p id="p-0154" num="0153">Using the method of dividing the hand detection region <b>105</b> into regions by separated planes, a method for detecting the &#x201c;swiping the hand to the left&#x201d; gesture that is simpler than that presented earlier is as follows. A thin stripe along the leftmost part of the hand detection region <b>105</b> is defined as the left-edge region. The hand position is represented as the following three states:</p>
<p id="p-0155" num="0154">1. The hand is present and not inside the left-edge region</p>
<p id="p-0156" num="0155">2. The hand is present and inside the left-edge region</p>
<p id="p-0157" num="0156">3. The hand is not present within the hand detection region</p>
<p id="p-0158" num="0157">A transition from state 1 to state 2 above causes the gesture detection process <b>209</b> to enter a state whereby it starts a timer and waits for the next transition. If a transition to state 3 is observed within a predetermined duration of time, the &#x201c;swiping the hand off to the left&#x201d; gesture is reported to have occurred. This technique is typically duplicated for the right, upper, and lower edges, and, because the hand position is found in three dimensions, also duplicated to detect &#x201c;pulling the hand back&#x201d;. All of the above gestures may be detected using the position of either the head or torso instead of the hand.</p>
<p id="p-0159" num="0158">In another variation of this system, the user causes a representation of an indicator, or two indicators (one for each hand), to move within a representation (user feedback <b>206</b>) of a three-dimensional virtual environment. The feedback may be provided by stereoscopic means whereby each of the user's eyes view a unique image creating an illusion of depth, although this type of system is impractical in many scenarios, and is therefore optional. It is otherwise possible, however, to imply the depth of objects by rendering the virtual environment using projective transforms. An example of use of this type of rendering is provided in <figref idref="DRAWINGS">FIGS. 12A</figref>, <b>12</b>B, and <b>13</b>A.</p>
<p id="p-0160" num="0159">Referring to <figref idref="DRAWINGS">FIG. 12A</figref>, the following describes a method by which, in the position mapping process <b>207</b>, a hand position <b>205</b>, detected by the scene analysis process <b>204</b> as previously described, is mapped into the position where the indicator <b>1201</b> is positioned within the virtual environment. Hand position(s) <b>205</b> relative to the hand detection region <b>105</b> are mapped by the position mapping process <b>207</b> into coordinates relative to the video display <b>108</b> before being conveyed to the application program <b>208</b>. One method of mapping the coordinates is through the application of Eq. 9 for the x coordinate and the equivalent for the y and z coordinates. This is similar to the method described previously, except that a third dimension has been added.</p>
<p id="p-0161" num="0160">Given the ability of the user to manipulate the position of the indicator <b>1201</b> in all three dimensions, the user <b>101</b> may cause the indicator(s) to touch objects (for example, <b>1202</b>) within the virtual environment like he would in the real environment. This is one method of user interaction with a virtual environment. The bounds (for example, <b>1203</b> and <b>1204</b>), which may be represented as a cube or sphere, of the indicator and object are compared. The condition where the two bounds intersect indicates that the indicator is touching the object. It is possible, given well laid out objects, for the user to cause the indicator to move to a position that &#x201c;touches&#x201d; an object, where the path of the indicator avoids &#x201c;touching&#x201d; any other objects. Therefore, a &#x201c;touch&#x201d; generally signals the user's intention to activate, manipulate, or move the object. Therefore, unlike two-dimensional control, three-dimensional control of the indicator <b>1201</b> eliminates the need for an explicit gesture to initiate one of these actions. Also, unlike two-dimensional control, objects may be laid out at different depths (as are the file folders in <figref idref="DRAWINGS">FIG. 12A</figref>), to provide an interface that is a closer analogy to actions that the user may be familiar with performing in the real world. In addition, gestures that are independent of the position of the indicator <b>1201</b> relative to an object may optionally be detected to indicate the intention to perform an action.</p>
<p id="p-0162" num="0161">It is possible for the user to navigate within a virtual environment using this system. Navigation allows the user access to more objects or information than may be represented in the user feedback <b>206</b> at one time, by allowing the user to cause the selection of a subset of the objects or information to be represented. Navigation may optionally be of a form whereby the user <b>101</b> roams within a virtual environment and the subset of objects or information available to the user is dependent on the user's positions within the virtual environment. An example is presented in <figref idref="DRAWINGS">FIG. 13A</figref>, where the user may roam within the virtual room to reach any of several collections of objects that are represented as filing cabinets.</p>
<p id="p-0163" num="0162">Next, a method by which the user roams within a virtual environment is described. The video display image <b>206</b> is rendered in such a way that it represents the virtual environment as viewed by a virtual camera, whereby any objects within the field of view of the virtual camera, and not occluded by other virtual objects, are presented to the user. In one option, referred to as &#x201c;first person&#x201d;, the position of the camera represents the position of the user within the virtual environment. In another option, an indicator represents the position of the user within the virtual environment. This indicator may optionally be an avatar (presented on the video display <b>108</b>) that represents the user <b>101</b>. The virtual camera position is caused to follow the indicator so that the indicator and all objects accessible to the user from the current user position are within the virtual camera's field of view.</p>
<p id="p-0164" num="0163">Either the user's hand, body or head position may affect the user's virtual position when roaming. A position representing the center of the user's torso or the top of his head is found in some implementations of this system, in particular those implementations in which the optional gesture analysis process <b>609</b> is performed in its entirety as outlined by <figref idref="DRAWINGS">FIG. 9</figref>. The use of either of these positions allows the user <b>101</b> to perform the action of roaming independently of the position of his hands, permitting the hands to be used to &#x201c;touch&#x201d; virtual objects while roaming. Note that these touchable objects may be fixed in position relative to the virtual environment, or fixed in position relative to the virtual camera and therefore always available to the user. If these positions are not available, or it is otherwise desired, the user's hand position may be used to control roaming. In this case, the system may automatically switch to the touch context when the user has roamed near touchable virtual objects, or has preformed a predefined gesture.</p>
<p id="p-0165" num="0164">To provide a region where no change to the virtual position is implied, called a dead zone, the position (either hand, torso, or head) may be remapped by application of Eq. 10, (and similar equations for the y and z coordinates), which results in the relationship illustrated by the graphs in <figref idref="DRAWINGS">FIG. 13B</figref>. Note that the bounds and neutral position may be coincident to the hand detection region <b>105</b> and its center, or another region that is dynamically adjusted to accommodate the user.</p>
<p id="p-0166" num="0165">When the torso or head is used, the bounds and neutral position, as used in Eq. 10 may be adjusted to accommodate the user as follows. First, the neutral position x<sub>c</sub>, y<sub>c</sub>, z<sub>c </sub>used in Eq. 10 may correspond to the neutral position of the user's body. All users, after approaching the system, may not stand in the exact same location. After the user <b>101</b> has been given time to enter the region of interest <b>102</b>, the user's torso or head position is sampled and used as the neutral position. The maximum range of motion, that is the distance in which a user is expected to comfortably move (or &#x201c;lean&#x201d;) in each axis, is predefined. To assure that the user remains within the region of interest <b>102</b> while moving to these extreme positions, the neutral position x, is bounded to within the region of interest <b>102</b> by a minimum of one half of the maximum range of motion described above, plus one half the typical body size, in each of the x, y, and z dimensions. The bounds b<sub>l </sub>and b<sub>r </sub>are placed relative to the neutral position, with each being one half the maximum range of motion from the neutral position.</p>
<p id="p-0167" num="0166">Gestures, as discussed earlier, may be based on the position and/or motion of the head or torso instead of the hand. In this case, the region defined by these bounds is used instead of the hand detection region <b>105</b>.</p>
<p id="p-0168" num="0167">Horizontal motions of the user (along the axis labeled x in the example of <figref idref="DRAWINGS">FIG. 1</figref>) cause the view of the virtual environment to look left or right. The horizontal position, transformed by Eq. 10, is applied as a velocity function onto rotation about the virtual vertical axis, causing the indicator and/or camera to yaw. It is optional that vertical motions of the user (along the axis labeled y in the example of <figref idref="DRAWINGS">FIG. 1</figref>) cause the virtual view to look up or down. The vertical position, transformed by Eq. 10, is interpreted directly as the angle of rotation about the horizontal axis, causing the indicator and/or camera to pitch. Motions of the user <b>101</b> to or from (along the axis labeled z in the example of <figref idref="DRAWINGS">FIG. 1</figref>) the display cause the virtual position to move forward or backwards. One style of motion is analogous to &#x201c;walking&#x201d;, where the indicator and/or camera remains a predefined height above a virtual &#x201c;floor&#x201d;, and follows any contours of the floor (for example, move up a set of virtual stairs). The transformed position is applied as a velocity onto the vector that is the projection of the indicator and/or camera's orientation onto the plane defined by the &#x201c;floor&#x201d;. Another style of motion is analogous to &#x201c;flying&#x201d;. If this is desired, the transformed position is applied as a velocity onto the vector defined by the indicator and/or camera's orientation. An example of a virtual environment, which is navigated by the &#x201c;flying&#x201d; method of control as described, is shown in <figref idref="DRAWINGS">FIG. 14</figref>. The user's torso position, found by the methods described earlier and using the mapping of Eq. 10 and adaptive neutral position as described previously, is used in this example.</p>
<p id="p-0169" num="0168">The indicator used in the virtual environment, whether or not the above method by which the user controls or roams in the virtual environment is utilized, may take the form of an avatar. An avatar typically takes the form of a human-like body, as in <b>1401</b> of <figref idref="DRAWINGS">FIG. 14</figref>. The positions found by this system provide sufficient information to animate the virtual human-like form.</p>
<p id="p-0170" num="0169">This system finds both of the user's hands when they are within the hand detection region <b>105</b>. These positions are remapped to corresponding positions in front of the avatar's torso, allowing the avatar's hands to reach to the same positions as the user is reaching to. A user's hand is not found or selected when the hand is not within the hand detection region <b>105</b>. In this case, the avatar's corresponding virtual hand may be moved to a neutral position along that side of the avatar's body.</p>
<p id="p-0171" num="0170">In implementations of this system that utilize &#x201c;roaming&#x201d;, a control position is found relative to a neutral position. In these implementation, the avatar's feet may remain in fixed positions and the relative control position is used directly to determine the position of the avatar's torso over the fixed feet (the stance). <figref idref="DRAWINGS">FIG. 14</figref> shows an avatar controlled in this manner. In implementations not using &#x201c;roaming&#x201d;, the avatar's torso position may be determined directly by the position representing the center of the user's torso or alternatively a position relative to the top of the head, as found in optional component <b>609</b>.</p>
<p id="p-0172" num="0171">Additional details such the positions of secondary joints may be found through inverse kinematics techniques. In particular, the orientation data <b>613</b> associated with the forearm can be used to constrain the inverse kinematics solution to position the elbow to be near to the region from which the forearm originates within the hand detection region <b>105</b>. The orientation data <b>613</b> constrains the elbow to a plane. The elbow's position on that plane is determined as the intersection of the arcs, with radii representing the length of the avatar's upper and lower arm segments, one centered on the avatar's hand position (in the virtual environment) and the other centered on a position relative to the avatar's torso representing the shoulder. Similarly the avatar's knee positions may be determined by the application program. By placing the avatar's feet in a fixed position and assuming the avatar's ankles cannot twist, the plane in which the knee bends is also fixed, and the knee position is determined by a similar intersection calculation as the elbows. Moreover, using the fixed foot position, the position of the avatar may be calculated such that the avatar appears to lean in a desired direction. With these calculations, the positions of the avatar's torso, hands, elbows, feet and knees are found, which is sufficient to animate the avatar.</p>
<p id="p-0173" num="0172">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>X</mi>
        <mo>=</mo>
        <mfrac>
          <mi>Ix</mi>
          <mi>D</mi>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>.</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mn>1</mn>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0174" num="0173">where</p>
<p id="p-0175" num="0174">I is the inter-camera distance</p>
<p id="p-0176" num="0175">D is the disparity</p>
<p id="p-0177" num="0176">x is the image position</p>
<p id="p-0178" num="0177">X is the world coordinate position</p>
<p id="p-0179" num="0178">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>Y</mi>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>sFI</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>sin</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>&#x3b1;</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mo>+</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>Iy</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>cos</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>&#x3b1;</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mi>D</mi>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>.</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mn>2</mn>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0180" num="0179">where</p>
<p id="p-0181" num="0180">I is the inter-camera distance</p>
<p id="p-0182" num="0181">D is the disparity</p>
<p id="p-0183" num="0182">F is the average focal length</p>
<p id="p-0184" num="0183">s is a unit-conversion factor applied to the focal length</p>
<p id="p-0185" num="0184">&#x3b1; is the angle of tilt between the cameras and the world coordinate z-axis</p>
<p id="p-0186" num="0185">y is the image position</p>
<p id="p-0187" num="0186">Y is the world coordinate position</p>
<p id="p-0188" num="0187">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>Z</mi>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>sFI</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>cos</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>&#x3b1;</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mo>+</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>Iy</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>sin</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>&#x3b1;</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mi>D</mi>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>.</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mn>3</mn>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0189" num="0188">where</p>
<p id="p-0190" num="0189">I is the inter-camera distance</p>
<p id="p-0191" num="0190">D is the disparity</p>
<p id="p-0192" num="0191">F is the average focal length</p>
<p id="p-0193" num="0192">s is a unit-conversion factor applied to the focal length</p>
<p id="p-0194" num="0193">&#x3b1; is the angle of tilt between the cameras and the world coordinate z-axis</p>
<p id="p-0195" num="0194">z is the image position</p>
<p id="p-0196" num="0195">Z is the world coordinate position</p>
<p id="p-0197" num="0196">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>w</mi>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mtable>
            <mtr>
              <mtd>
                <mfrac>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>d</mi>
                      <mo>+</mo>
                      <msub>
                        <mi>d</mi>
                        <mi>h</mi>
                      </msub>
                      <mo>-</mo>
                      <msub>
                        <mi>d</mi>
                        <mn>0</mn>
                      </msub>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                  <msub>
                    <mi>d</mi>
                    <mi>h</mi>
                  </msub>
                </mfrac>
              </mtd>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>if</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>d</mi>
                  </mrow>
                  <mo>&#x3e;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>d</mi>
                        <mn>0</mn>
                      </msub>
                      <mo>-</mo>
                      <msub>
                        <mi>d</mi>
                        <mi>h</mi>
                      </msub>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mn>0</mn>
              </mtd>
              <mtd>
                <mi>otherwise</mi>
              </mtd>
            </mtr>
          </mtable>
          <mo>}</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>.</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mn>4</mn>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0198" num="0197">where</p>
<p id="p-0199" num="0198">w is the weight, measured 0 to 1</p>
<p id="p-0200" num="0199">d is the distance of the feature into the hand detection region</p>
<p id="p-0201" num="0200">d<sub>0 </sub>is the distance of the feature that is furthest into the hand detection region</p>
<p id="p-0202" num="0201">d<sub>h </sub>is a predefined distance representing the expected size of the hand</p>
<p id="p-0203" num="0202">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>S</mi>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mtable>
            <mtr>
              <mtd>
                <msub>
                  <mi>S</mi>
                  <mi>A</mi>
                </msub>
              </mtd>
              <mtd>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
              </mtd>
              <mtd>
                <mrow>
                  <mi>if</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>D</mi>
                      <mo>&#x2264;</mo>
                      <msub>
                        <mi>D</mi>
                        <mi>A</mi>
                      </msub>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>&#x3b1;</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>SB</mi>
                  </mrow>
                  <mo>+</mo>
                  <mrow>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <mn>1</mn>
                        <mo>-</mo>
                        <mi>&#x3b1;</mi>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>S</mi>
                      <mi>A</mi>
                    </msub>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>where</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="1.1em" height="1.1ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>&#x3b1;</mi>
                  </mrow>
                  <mo>=</mo>
                  <mfrac>
                    <mrow>
                      <mi>D</mi>
                      <mo>-</mo>
                      <msub>
                        <mi>D</mi>
                        <mi>A</mi>
                      </msub>
                    </mrow>
                    <mrow>
                      <msub>
                        <mi>D</mi>
                        <mi>B</mi>
                      </msub>
                      <mo>-</mo>
                      <msub>
                        <mi>D</mi>
                        <mi>A</mi>
                      </msub>
                    </mrow>
                  </mfrac>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mi>if</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>D</mi>
                        <mi>A</mi>
                      </msub>
                      <mo>&#x3c;</mo>
                      <mi>D</mi>
                      <mo>&#x3c;</mo>
                      <msub>
                        <mi>D</mi>
                        <mi>B</mi>
                      </msub>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <msub>
                  <mi>S</mi>
                  <mi>B</mi>
                </msub>
              </mtd>
              <mtd>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
              </mtd>
              <mtd>
                <mrow>
                  <mi>if</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>D</mi>
                      <mo>&#x2265;</mo>
                      <msub>
                        <mi>D</mi>
                        <mi>B</mi>
                      </msub>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>.</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mn>5</mn>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0204" num="0203">where
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>D=|r</i>(<i>t</i>)&#x2212;<i>s</i>(<i>t&#x2212;</i>1)|<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0205" num="0204">s(t) is the smoothed value at time t</p>
<p id="p-0206" num="0205">r(t) is the raw value at time t</p>
<p id="p-0207" num="0206">D<sub>A </sub>and D<sub>B </sub>are thresholds</p>
<p id="p-0208" num="0207">S<sub>A </sub>and S<sub>B </sub>define degrees of dampening</p>
<p id="p-0209" num="0208">
<maths id="MATH-US-00006" num="00006">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>a</mi>
        <mo>=</mo>
        <mfrac>
          <mi>e</mi>
          <mi>S</mi>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>.</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mn>6</mn>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0210" num="0209">where a is bound such that 0&#x2266;a&#x2266;1</p>
<p id="p-0211" num="0210">where</p>
<p id="p-0212" num="0211">S is dampening found by Eq. 8</p>
<p id="p-0213" num="0212">e is the elapsed time since the previous sample</p>
<p id="p-0214" num="0213">a is a scalar
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>s</i>(<i>t</i>)=(<i>a&#xd7;r</i>(<i>t</i>))+((1<i>&#x2212;a</i>)&#xd7;<i>s</i>(<i>t&#x2212;</i>1))&#x2003;&#x2003;Eq. 7<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0215" num="0214">where</p>
<p id="p-0216" num="0215">s(t) is the smoothed value at time t</p>
<p id="p-0217" num="0216">r(t) is the raw value at time t</p>
<p id="p-0218" num="0217">a is a scalar where 0&#x2266;a&#x2266;1</p>
<p id="p-0219" num="0218">
<maths id="MATH-US-00007" num="00007">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>x</mi>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mtable>
            <mtr>
              <mtd>
                <mrow>
                  <msub>
                    <mi>b</mi>
                    <mi>c</mi>
                  </msub>
                  <mo>+</mo>
                  <mrow>
                    <mi>&#x3b2;</mi>
                    <mo>&#x2061;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>b</mi>
                          <mi>l</mi>
                        </msub>
                        <mo>-</mo>
                        <msub>
                          <mi>b</mi>
                          <mi>c</mi>
                        </msub>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mi>if</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mi>left</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mtext>-</mtext>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mi>arm</mi>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <msub>
                    <mi>b</mi>
                    <mi>c</mi>
                  </msub>
                  <mo>+</mo>
                  <mrow>
                    <mi>&#x3b2;</mi>
                    <mo>&#x2061;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>b</mi>
                          <mi>r</mi>
                        </msub>
                        <mo>-</mo>
                        <msub>
                          <mi>b</mi>
                          <mi>c</mi>
                        </msub>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mi>if</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mi>right</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mtext>-</mtext>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mi>arm</mi>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <msub>
                  <mi>b</mi>
                  <mi>c</mi>
                </msub>
              </mtd>
              <mtd>
                <mrow>
                  <mi>if</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mi>unknown</mi>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
          <mo>}</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>.</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mn>8</mn>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0220" num="0219">where</p>
<p id="p-0221" num="0220">x is the position of the hand detection region</p>
<p id="p-0222" num="0221">b<sub>c </sub>is the position of the body's center</p>
<p id="p-0223" num="0222">b<sub>l </sub>and b<sub>r </sub>are the positions of the left and right bounds of the body</p>
<p id="p-0224" num="0223">&#x3b2; is a scalar representing the amount by which the hand detection region position is biased to the left or right side</p>
<p id="p-0225" num="0224">
<maths id="MATH-US-00008" num="00008">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>x</mi>
          <mi>c</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mtable>
            <mtr>
              <mtd>
                <mn>0</mn>
              </mtd>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>if</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>x</mi>
                      <mi>h</mi>
                    </msub>
                  </mrow>
                  <mo>&#x3c;</mo>
                  <msub>
                    <mi>b</mi>
                    <mi>l</mi>
                  </msub>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mfrac>
                  <mrow>
                    <msub>
                      <mi>x</mi>
                      <mi>h</mi>
                    </msub>
                    <mo>-</mo>
                    <msub>
                      <mi>b</mi>
                      <mi>l</mi>
                    </msub>
                  </mrow>
                  <mrow>
                    <msub>
                      <mi>b</mi>
                      <mi>r</mi>
                    </msub>
                    <mo>-</mo>
                    <msub>
                      <mi>b</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                </mfrac>
              </mtd>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>if</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>b</mi>
                      <mi>l</mi>
                    </msub>
                  </mrow>
                  <mo>&#x2264;</mo>
                  <msub>
                    <mi>x</mi>
                    <mi>h</mi>
                  </msub>
                  <mo>&#x2264;</mo>
                  <msub>
                    <mi>b</mi>
                    <mi>r</mi>
                  </msub>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mn>1</mn>
              </mtd>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>if</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>x</mi>
                      <mi>h</mi>
                    </msub>
                  </mrow>
                  <mo>&#x3e;</mo>
                  <msub>
                    <mi>b</mi>
                    <mi>r</mi>
                  </msub>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
          <mo>}</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>.</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mn>9</mn>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0226" num="0225">where</p>
<p id="p-0227" num="0226">x<sub>h </sub>is the hand position in the world coordinate system</p>
<p id="p-0228" num="0227">x<sub>c </sub>is the cursor position on the screen, mapped 0-1</p>
<p id="p-0229" num="0228">b<sub>l </sub>and b<sub>r </sub>are the positions of the left and right bounds of a sub-region within the hand detection region, w.r.t. the world coordinate system</p>
<p id="p-0230" num="0229">
<maths id="MATH-US-00009" num="00009">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>X</mi>
          <mi>v</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mtable>
            <mtr>
              <mtd>
                <mrow>
                  <mo>-</mo>
                  <msub>
                    <mi>X</mi>
                    <mi>m</mi>
                  </msub>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>if</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>x</mi>
                      <mi>h</mi>
                    </msub>
                  </mrow>
                  <mo>&#x3c;</mo>
                  <msub>
                    <mi>b</mi>
                    <mi>l</mi>
                  </msub>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mo>-</mo>
                    <msub>
                      <mi>X</mi>
                      <mi>m</mi>
                    </msub>
                  </mrow>
                  <mo>&#x2062;</mo>
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>x</mi>
                        <mi>h</mi>
                      </msub>
                      <mo>-</mo>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <msub>
                            <mi>x</mi>
                            <mi>c</mi>
                          </msub>
                          <mo>-</mo>
                          <mfrac>
                            <msub>
                              <mi>x</mi>
                              <mi>d</mi>
                            </msub>
                            <mn>2</mn>
                          </mfrac>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                    <mrow>
                      <msub>
                        <mi>b</mi>
                        <mi>l</mi>
                      </msub>
                      <mo>-</mo>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <msub>
                            <mi>x</mi>
                            <mi>c</mi>
                          </msub>
                          <mo>-</mo>
                          <mfrac>
                            <msub>
                              <mi>x</mi>
                              <mi>d</mi>
                            </msub>
                            <mn>2</mn>
                          </mfrac>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                  </mfrac>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>if</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>b</mi>
                      <mi>l</mi>
                    </msub>
                  </mrow>
                  <mo>&#x3c;</mo>
                  <msub>
                    <mi>x</mi>
                    <mi>h</mi>
                  </msub>
                  <mo>&#x3c;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>x</mi>
                        <mi>c</mi>
                      </msub>
                      <mo>-</mo>
                      <mfrac>
                        <msub>
                          <mi>x</mi>
                          <mi>d</mi>
                        </msub>
                        <mn>2</mn>
                      </mfrac>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mn>0</mn>
              </mtd>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>if</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>x</mi>
                          <mi>c</mi>
                        </msub>
                        <mo>-</mo>
                        <mfrac>
                          <msub>
                            <mi>x</mi>
                            <mi>d</mi>
                          </msub>
                          <mn>2</mn>
                        </mfrac>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                  <mo>&#x2264;</mo>
                  <msub>
                    <mi>x</mi>
                    <mi>h</mi>
                  </msub>
                  <mo>&#x2264;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>x</mi>
                        <mi>c</mi>
                      </msub>
                      <mo>+</mo>
                      <mfrac>
                        <msub>
                          <mi>x</mi>
                          <mi>d</mi>
                        </msub>
                        <mn>2</mn>
                      </mfrac>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <msub>
                    <mi>X</mi>
                    <mi>m</mi>
                  </msub>
                  <mo>&#x2062;</mo>
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>x</mi>
                        <mi>h</mi>
                      </msub>
                      <mo>-</mo>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <msub>
                            <mi>x</mi>
                            <mi>c</mi>
                          </msub>
                          <mo>+</mo>
                          <mfrac>
                            <msub>
                              <mi>x</mi>
                              <mi>d</mi>
                            </msub>
                            <mn>2</mn>
                          </mfrac>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                    <mrow>
                      <msub>
                        <mi>b</mi>
                        <mi>r</mi>
                      </msub>
                      <mo>-</mo>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <msub>
                            <mi>x</mi>
                            <mi>c</mi>
                          </msub>
                          <mo>+</mo>
                          <mfrac>
                            <msub>
                              <mi>x</mi>
                              <mi>d</mi>
                            </msub>
                            <mn>2</mn>
                          </mfrac>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                  </mfrac>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>if</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>x</mi>
                          <mi>c</mi>
                        </msub>
                        <mo>+</mo>
                        <mfrac>
                          <msub>
                            <mi>x</mi>
                            <mi>d</mi>
                          </msub>
                          <mn>2</mn>
                        </mfrac>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                  <mo>&#x3c;</mo>
                  <msub>
                    <mi>x</mi>
                    <mi>h</mi>
                  </msub>
                  <mo>&#x3c;</mo>
                  <msub>
                    <mi>b</mi>
                    <mi>r</mi>
                  </msub>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <msub>
                  <mi>X</mi>
                  <mi>m</mi>
                </msub>
              </mtd>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>if</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>x</mi>
                      <mi>h</mi>
                    </msub>
                  </mrow>
                  <mo>&#x2265;</mo>
                  <msub>
                    <mi>b</mi>
                    <mi>r</mi>
                  </msub>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
          <mo>}</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>.</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mn>10</mn>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0231" num="0230">where</p>
<p id="p-0232" num="0231">X<sub>v </sub>is the velocity applied in the virtual coordinate system</p>
<p id="p-0233" num="0232">X<sub>m </sub>is the maximum magnitude of velocity that may be applied in the virtual coordinate system</p>
<p id="p-0234" num="0233">x<sub>h </sub>is the position in the world coordinate system</p>
<p id="p-0235" num="0234">x<sub>c </sub>is the neutral position in the world coordinate system.</p>
<p id="p-0236" num="0235">x<sub>d </sub>is the width of the &#x201c;dead zone&#x201d; in the world coordinate system</p>
<p id="p-0237" num="0236">b<sub>l </sub>and b<sub>r </sub>are the positions of the left and right bounds of a sub-region w.r.t. the world coordinate system</p>
<p id="p-0238" num="0237">A number of implementations have been described. Nevertheless, it will be understood that various modifications may be made. Accordingly, other implementations are within the scope of the following claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08624932-20140107-M00001.NB">
<img id="EMI-M00001" he="6.35mm" wi="76.20mm" file="US08624932-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08624932-20140107-M00002.NB">
<img id="EMI-M00002" he="6.35mm" wi="76.20mm" file="US08624932-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08624932-20140107-M00003.NB">
<img id="EMI-M00003" he="6.35mm" wi="76.20mm" file="US08624932-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08624932-20140107-M00004.NB">
<img id="EMI-M00004" he="10.58mm" wi="76.20mm" file="US08624932-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US08624932-20140107-M00005.NB">
<img id="EMI-M00005" he="14.48mm" wi="76.20mm" file="US08624932-20140107-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00006" nb-file="US08624932-20140107-M00006.NB">
<img id="EMI-M00006" he="6.01mm" wi="76.20mm" file="US08624932-20140107-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00007" nb-file="US08624932-20140107-M00007.NB">
<img id="EMI-M00007" he="12.70mm" wi="76.20mm" file="US08624932-20140107-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00008" nb-file="US08624932-20140107-M00008.NB">
<img id="EMI-M00008" he="14.48mm" wi="76.20mm" file="US08624932-20140107-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00009" nb-file="US08624932-20140107-M00009.NB">
<img id="EMI-M00009" he="37.08mm" wi="76.20mm" file="US08624932-20140107-M00009.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method comprising:
<claim-text>determining position information of a control object in an image;</claim-text>
<claim-text>causing a display to display a first virtual object and a second virtual object located at a different depth than the first virtual object;</claim-text>
<claim-text>mapping the position information of the control object to three-dimensional coordinates, wherein the three-dimensional coordinates comprise a depth coordinate;</claim-text>
<claim-text>determining that the three-dimensional coordinates of the control object are within three-dimensional bounds of the first virtual object if the depth coordinate of the control object indicates that the control object is located at a first depth relative to the display;</claim-text>
<claim-text>determining that the three-dimensional coordinates of the control object are within three-dimensional bounds of the second virtual object if the depth coordinate of the control object indicates that the control object is located at a second depth relative to the display;</claim-text>
<claim-text>creating a history of three-dimensional coordinates using position information of the control object, wherein:
<claim-text>the history is for a predefined duration of time, and</claim-text>
<claim-text>the history comprises three-dimensional coordinates associated with the control object from during the duration of time;</claim-text>
</claim-text>
<claim-text>identifying a minimum position and maximum position in each dimension of the history;</claim-text>
<claim-text>determining a distance between the minimum position and the maximum position for each dimension of the history;</claim-text>
<claim-text>for each dimension, determining that the distance is within a predefined threshold distance; and</claim-text>
<claim-text>after determining that the distance is within the predefined threshold distance for each dimension, outputting an indication of a hover gesture.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>controlling an application based on the three-dimensional coordinates of the control object being determined to be within the three-dimensional bounds of the first virtual object.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>controlling an application based on the three-dimensional coordinates of the control object being determined to be within the three-dimensional bounds of the second virtual object.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>displaying, by the display, an avatar representing the control object.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the avatar comprises a virtual human-like form.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein determining the position information of the control object in the image comprises:
<claim-text>identifying features in the image, wherein the image is of a scene;</claim-text>
<claim-text>determining a three-dimensional position for each feature of a plurality of features in the scene; and</claim-text>
<claim-text>analyzing the three-dimensional position of each feature of the plurality of features to determine position information of the control object.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, further comprising:
<claim-text>identifying a position of a torso-divisioning plane based on the features in the scene; and</claim-text>
<claim-text>determining a position of a hand detection region relative to the torso-divisioning plane.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref>, further comprising:
<claim-text>identifying a body center position and a body boundary position based on the features in the scene;</claim-text>
<claim-text>identifying an arm position indicating at least part of an arm based on the features in the scene; and</claim-text>
<claim-text>identifying the arm as either a left arm or a right arm based on the arm position indicating at least the part of the arm relative to the body center position.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>calculating hand orientation information based on the three-dimensional coordinates of the control object.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>selecting an object from a plurality of objects present in the image as the control object, wherein selection of the object is at least partially based on the object being within an object detection region and being closest to one or more cameras used to capture the image.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>mapping the three-dimensional coordinates of the control object relative to a neutral control point position; and</claim-text>
<claim-text>transforming the mapped three-dimensional coordinates to a velocity function.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising:
<claim-text>using the velocity function to move a viewpoint associated with the display.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A system comprising:
<claim-text>one or more processors; and</claim-text>
<claim-text>a memory communicatively coupled with and readable by the one or more processors and having stored therein processor-readable instructions which, when executed by the one or more processors, cause the one or more processors to:
<claim-text>determine position information of a control object in an image;</claim-text>
<claim-text>cause a display to display a first virtual object and a second virtual object located at a different depth than the first virtual object;</claim-text>
<claim-text>map the position information of the control object to three-dimensional coordinates, wherein the three-dimensional coordinates comprise a depth coordinate;</claim-text>
<claim-text>determine that the three-dimensional coordinates of the control object are within three-dimensional bounds of the first virtual object if the depth coordinate of the control object indicates that the control object is located at a first depth relative to the display;</claim-text>
<claim-text>determine that the three-dimensional coordinates of the control object are within three-dimensional bounds of the second virtual object if the depth coordinate of the control object indicates that the control object is located at a second depth relative to the display;</claim-text>
<claim-text>create a history of three-dimensional coordinates using position information of the control object, wherein:
<claim-text>the history is for a predefined duration of time, and</claim-text>
<claim-text>the history comprises three-dimensional coordinates associated with the control object from during the duration of time;</claim-text>
</claim-text>
<claim-text>identify a minimum position and maximum position in each dimension of the history;</claim-text>
<claim-text>determine a distance between the minimum position and the maximum position for each dimension of the history;</claim-text>
<claim-text>for each dimension, determine that the distance is within a predefined threshold distance; and</claim-text>
<claim-text>after determining that the distance is within the predefined threshold distance for each dimension, output an indication of a hover gesture.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the processor-readable instructions, when executed by the one or more processors, further cause the one or more processors to:
<claim-text>control an application based on the three-dimensional coordinates of the control object being determined to be within the three-dimensional bounds of the first virtual object.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the processor-readable instructions, which when executed by the one or more processors, further cause the one or more processors to:
<claim-text>control an application based on the three-dimensional coordinates of the control object being determined to be within the three-dimensional bounds of the second virtual object.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the processor-readable instructions, which when executed by the one or more processors, further cause the one or more processors to:
<claim-text>cause an avatar representing the control object to be displayed.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The system of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the avatar comprises a virtual human-like form.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the processor-readable instructions that cause the one or more processors to determine the position information of the control object in the image further comprise processor-readable instructions, which when executed by the one or more processors, cause the one or more processors to:
<claim-text>identify features in the image, wherein the image is of a scene;</claim-text>
<claim-text>determine a three-dimensional position for each feature of a plurality of features in the scene; and</claim-text>
<claim-text>analyze the three-dimensional position of each feature of the plurality of features to determine position information of the control object.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The system of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the processor-readable instructions, when executed by the one or more processors, further cause the one or more processors to:
<claim-text>identify a position of a torso-divisioning plane based on the features in the scene; and</claim-text>
<claim-text>determine a position of a hand detection region relative to the torso-divisioning plane.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The system of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the processor-readable instructions, when executed by the one or more processors, further cause the one or more processors to:
<claim-text>identify a body center position and a body boundary position based on the features in the scene;</claim-text>
<claim-text>identify an arm position indicating at least part of an arm based on the features in the scene; and</claim-text>
<claim-text>identify the arm as either a left arm or a right arm based on the arm position indicating at least the part of the arm relative to the body center position.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the processor-readable instructions, when executed by the one or more processors, further cause the one or more processors to:
<claim-text>calculate hand orientation information based on the three-dimensional coordinates of the control object.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the processor-readable instructions, when executed by the one or more processors, further cause the one or more processors to:
<claim-text>select an object from a plurality of objects present in the image as the control object, wherein selection of the object is at least partially based on the object being within an object detection region and being closest to one or more cameras used to capture the image.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the processor-readable instructions, when executed by the one or more processors, further cause the one or more processors to:
<claim-text>map the three-dimensional coordinates of the control object relative to a neutral control point position; and</claim-text>
<claim-text>transform the mapped three-dimensional coordinates to a velocity function.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. The system of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the processor-readable instructions, when executed by the one or more processors, further cause the one or more processors to:
<claim-text>use the velocity function to move a viewpoint associated with the display.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. A non-transitory processor-readable storage medium, the medium comprising processor-readable instructions configured to cause a processing system to:
<claim-text>determine position information of a control object in an image;</claim-text>
<claim-text>cause a display to display a first virtual object and a second virtual object located at a different depth than the first virtual object;</claim-text>
<claim-text>map the position information of the control object to three-dimensional coordinates, wherein the three-dimensional coordinates comprise a depth coordinate;</claim-text>
<claim-text>determine that the three-dimensional coordinates of the control object are within three-dimensional bounds of the first virtual object if the depth coordinate of the control object indicates that the control object is located at a first depth relative to the display;</claim-text>
<claim-text>determine that the three-dimensional coordinates of the control object are within three-dimensional bounds of the second virtual object if the depth coordinate of the control object indicates that the control object is located at a second depth relative to the display;</claim-text>
<claim-text>create a history of three-dimensional coordinates using position information of the control object, wherein:
<claim-text>the history is for a predefined duration of time, and</claim-text>
<claim-text>the history comprises three-dimensional coordinates associated with the control object from during the duration of time;</claim-text>
</claim-text>
<claim-text>identify a minimum position and maximum position in each dimension of the history;</claim-text>
<claim-text>determine a distance between the minimum position and the maximum position for each dimension of the history;</claim-text>
<claim-text>for each dimension, determine that the distance is within a predefined threshold distance; and</claim-text>
<claim-text>after determining that the distance is within the predefined threshold distance for each dimension, output an indication of a hover gesture.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The medium of <claim-ref idref="CLM-00025">claim 25</claim-ref>, wherein the processor-readable instructions are further configured to cause a processing system to:
<claim-text>control an application based on the three-dimensional coordinates of the control object being determined to be within the three-dimensional bounds of the first virtual object.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. An apparatus comprising:
<claim-text>means for determining position information of a control object in an image;</claim-text>
<claim-text>means for causing a display to display a first virtual object and a second virtual object located at a different depth than the first virtual object;</claim-text>
<claim-text>means for mapping the position information of the control object to three-dimensional coordinates, wherein the three-dimensional coordinates comprise a depth coordinate;</claim-text>
<claim-text>means for determining that the three-dimensional coordinates of the control object are within three-dimensional bounds of the first virtual object if the depth coordinate of the control object indicates that the control object is located at a first depth relative to the display;</claim-text>
<claim-text>means for determining that the three-dimensional coordinates of the control object are within three-dimensional bounds of the second virtual object if the depth coordinate of the control object indicates that the control object is located at a second depth relative to the display;</claim-text>
<claim-text>means for creating a history of three-dimensional coordinates using position information of the control object, wherein:
<claim-text>the history is for a predefined duration of time, and</claim-text>
<claim-text>the history comprises three-dimensional coordinates associated with the control object from during the duration of time;</claim-text>
</claim-text>
<claim-text>means for identifying a minimum position and maximum position in each dimension of the history;</claim-text>
<claim-text>means for determining a distance between the minimum position and the maximum position for each dimension of the history;</claim-text>
<claim-text>means for determining that the distance is within a predefined threshold distance for each dimension; and</claim-text>
<claim-text>means for outputting an indication of a hover gesture after determining that the distance is within the predefined threshold distance for each dimension.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00028" num="00028">
<claim-text>28. The apparatus of <claim-ref idref="CLM-00027">claim 27</claim-ref>, further comprising:
<claim-text>means for controlling an application based on the three-dimensional coordinates of the control object being determined to be within the three-dimensional bounds of the first virtual object. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
