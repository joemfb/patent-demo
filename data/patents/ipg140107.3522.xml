<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624587-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624587</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12936906</doc-number>
<date>20090408</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="regional">
<country>EP</country>
<doc-number>08103446</doc-number>
<date>20080408</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>577</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>B</subclass>
<main-group>7</main-group>
<subgroup>14</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>32420722</main-classification>
<further-classification>32420721</further-classification>
<further-classification>324251</further-classification>
<further-classification>32420711</further-classification>
<further-classification>3242072</further-classification>
<further-classification>32420713</further-classification>
</classification-national>
<invention-title id="d2e71">Magnetic field sensor measuring a direction of a magnetic field in a plane and current sensor</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4752733</doc-number>
<kind>A</kind>
<name>Petr et al.</name>
<date>19880600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5747995</doc-number>
<kind>A</kind>
<name>Spies</name>
<date>19980500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5874848</doc-number>
<kind>A</kind>
<name>Drafts et al.</name>
<date>19990200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6064202</doc-number>
<kind>A</kind>
<name>Steiner et al.</name>
<date>20000500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>324251</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6542068</doc-number>
<kind>B1</kind>
<name>Drapp et al.</name>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6545462</doc-number>
<kind>B2</kind>
<name>Schott et al.</name>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>7038448</doc-number>
<kind>B2</kind>
<name>Schott et al.</name>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>7235968</doc-number>
<kind>B2</kind>
<name>Popovic et al.</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>7259556</doc-number>
<kind>B2</kind>
<name>Popovic et al.</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2003/0155912</doc-number>
<kind>A1</kind>
<name>Motz</name>
<date>20030800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2006/0011999</doc-number>
<kind>A1</kind>
<name>Schott et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2006/0152388</doc-number>
<kind>A1</kind>
<name>Legrand</name>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2009/0121707</doc-number>
<kind>A1</kind>
<name>Schott</name>
<date>20090500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2010/0164491</doc-number>
<kind>A1</kind>
<name>Kejik et al.</name>
<date>20100700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>324251</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>CH</country>
<doc-number>664632</doc-number>
<kind>A5</kind>
<date>19880300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>DE</country>
<doc-number>10062292</doc-number>
<kind>A1</kind>
<date>20020300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>EP</country>
<doc-number>0766066</doc-number>
<kind>A1</kind>
<date>19970400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>EP</country>
<doc-number>0954085</doc-number>
<kind>A1</kind>
<date>19991100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>EP</country>
<doc-number>1182461</doc-number>
<kind>A2</kind>
<date>20020200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>EP</country>
<doc-number>1260825</doc-number>
<kind>A</kind>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>EP</country>
<doc-number>1387179</doc-number>
<kind>A2</kind>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>EP</country>
<doc-number>1637898</doc-number>
<kind>A1</kind>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00023">
<document-id>
<country>EP</country>
<doc-number>1739444</doc-number>
<kind>A2</kind>
<date>20070100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00024">
<document-id>
<country>EP</country>
<doc-number>2000813</doc-number>
<kind>A1</kind>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00025">
<document-id>
<country>JP</country>
<doc-number>2002333456</doc-number>
<kind>A</kind>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00026">
<document-id>
<country>WO</country>
<doc-number>WO 98/10302</doc-number>
<kind>A2</kind>
<date>19980300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00027">
<document-id>
<country>WO</country>
<doc-number>WO 2004/013645</doc-number>
<kind>A1</kind>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00028">
<document-id>
<country>WO</country>
<doc-number>WO 2004/025742</doc-number>
<kind>A1</kind>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00029">
<document-id>
<country>WO</country>
<doc-number>WO 2005/029106</doc-number>
<kind>A1</kind>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00030">
<document-id>
<country>WO</country>
<doc-number>WO 2005/073744</doc-number>
<kind>A1</kind>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00031">
<document-id>
<country>WO</country>
<doc-number>WO 2006/074989</doc-number>
<kind>A2</kind>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00032">
<document-id>
<country>WO</country>
<doc-number>WO 2008/030129</doc-number>
<kind>A2</kind>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00033">
<othercit>International Preliminary Report on Patentability for PCT/EP2009/054225 dated Oct. 12, 2010.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00034">
<othercit>P.J.A. Munter, &#x201c;A Low-Offset Spinning-Current Hall Plate,&#x201d; Sensors and Actuators A, Elsevier Sequoia S.A., Lausanne, CH, vol. A22, No. 1, Mar. 3, 1990, pp. 743-746, XP000358524, ISSN: 0924-4247.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00035">
<othercit>P.J.A. Munter, &#x201c;Electronic Circuitry for a Smart Spinning-Current Hall Plate with Low Offset,&#x201d; Sensors and Actuators A, Elsevier Sequoia S.A., Lausanne, CH, vol. A27, No. 1-3, May 1991, pp. 747-751, XP000216815, ISSN: 0924-4247.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00036">
<othercit>Sandra Bellekom, et al., &#x201c;Offset Reduction of Hall Plates in Three Different Crystal Planes,&#x201d; Sensors and Actuators A, Elsevier Sequoia S.A., Lausanne, CH, vol. 66, No. 1-3, Apr. 1998, pp. 23-28, XP004143964, ISSN: 0924-4247.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00037">
<othercit>R.S. Popovic, &#x201c;Not-Plate-Like Hall Magnetic Sensors and their Applications,&#x201d; Sensors and Actuators A, Elsevier Sequoia S.A., Lausanne, CH, vol. 85, No. 1-3, Aug. 2000, pp. 9-17, XP004214441, ISSN: 0924-4247.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00038">
<othercit>Eric Favre, &#x201c;Capteurs de Courant: a Chacun son Argument,&#x201d; Mesures, No. 763, Mar. 2004.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00039">
<othercit>P.L.C. Simon, &#x201c;Autocalibration of Silicon Hall Devices,&#x201d; Transducers '95, Eurosensors IX, 8<sup>th </sup>International Conference on Solid-State Sensors and Actuators, Stockholm, Sweden, 291-Al2, pp. 337-240, Jun. 1995.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00040">
<othercit>Janez Trontelj, &#x201c;Optimization of Integrated Magnetic Sensor by Mixed Signal Processing,&#x201d; IEEE Instrumentation and Measurement Technology Conference, vol. 1, pp. 299-302, May 1999.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00041">
<othercit>Michael Demierre, &#x201c;Improvements of CMOS Hall Microsystems and Application for Absolute Angular Position Measurements,&#x201d; PhD Thesis, EPFL, Sep. 2003.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00042">
<othercit>P. Kejik, et al., &#x201c;Circular Hall Transducer for Angular Position Sensing,&#x201d; Transducers &#x26; Eurosensors '07. XXI Conference, Jun. 10-14, 2007, Lyon, France, Digest of Technical Papers vol. 2, pp. 2593-2596.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00043">
<othercit>P. Kejik, et al., &#x201c;A New Compact 2D Planar Fluxgate Sensor with Amorphous Metal Core,&#x201d; Sensors and Actuators A: Physical, vol. 81, Issues 1-3, Apr. 2000, pp. 180-183.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00044">
<othercit>Toshikatsu Sonoda, et al., &#x201c;An AC and DC Current Sensor of High Accuracy,&#x201d; IEEE Transactions on Industry Applications, IEEE Service Center, Piscataway, NJ, US, vol. 28, No. 5, Sep. 1992, pp. 1087-1093, XP000311409, ISSN: 0093-9994.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00045">
<othercit>F. Burger, et al., &#x201c;New fully integrated 3-D silicon Hall sensor for precise angular-position measurements,&#x201d; Sensors and Actuators A: Physical, vol. 67, Issues 1-3, pp. 72-76, May 1998.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00046">
<othercit>Vincent Hiligsmann, et al., &#x201c;Monolithic 360 Degrees Rotary Position Sensor IC,&#x201d; Proceedings of IEEE Sensors 2004, vol. 3, pp. 1137-1142, Oct. 2004.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00047">
<othercit>Novotechnik U S , Inc., &#x201c;Vert-X Technology,&#x201d; 1 page, Dec. 2001.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00048">
<othercit>M. Paranjape, et al., &#x201c;A CMOS-compatible 2-D vertical Hall magnetic-field sensor using active carrier confinement and post-process micromachining,&#x201d; Sensors and Actuators A: Physical, vol. 53, Issues 1-3, pp. 278-283, May 1996.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00049">
<othercit>CH.S. Roumenin, &#x201c;Magnetic sensors continue to advance towards perfection,&#x201d; Sensors and Actuators A: Physical, vol. 46, Issues 1-3, pp. 273-279, Jan.-Feb. 1995.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00050">
<othercit>Chavdar Roumenin, et al., &#x201c;Vertical Hall Effect Devices in the Basis of Smart Silicon Sensors,&#x201d; IEEE Workshop on Intelligent Data Acquisition and Advanced Computing Systems: Technology and Applications, pp. 55-58, Sep. 5-7, 2005.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00051">
<othercit>Sentron, &#x201c;Angular position sensing with 2-Axis Hall IC 2SA-10,&#x201d; pp. 1-7, Feb. 12, 2004.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00052">
<othercit>Jack E. Volder, &#x201c;The CORDIC Trigonometric Computing Technique,&#x201d; IRE Transactions on Electronic Computers, pp. 330-334, Sep. 1959.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00053">
<othercit>International Search Report for PCT/EP2009/054225 dated Jul. 9, 2009.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00054">
<othercit>International Search Report for PCT/EP2008/056517 dated Jul. 17, 2008.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>17</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>32420721</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>32420722</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>32420726</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>324173-174</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>324160</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>32420711</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>32420715</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>32420716</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>32420723</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>32420724</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>32420725</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>324228</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3242072</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>324251</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>324249</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>384446</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>384448</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>384490</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>384494</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>384548</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>384482</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>384485</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327510</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327511</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>9</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110101975</doc-number>
<kind>A1</kind>
<date>20110505</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Popovic</last-name>
<first-name>Radivoje</first-name>
<address>
<city>Zug</city>
<country>CH</country>
</address>
</addressbook>
<residence>
<country>CH</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Banjevic</last-name>
<first-name>Mirjana</first-name>
<address>
<city>Lausanne</city>
<country>CH</country>
</address>
</addressbook>
<residence>
<country>CH</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Popovic</last-name>
<first-name>Radivoje</first-name>
<address>
<city>Zug</city>
<country>CH</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Banjevic</last-name>
<first-name>Mirjana</first-name>
<address>
<city>Lausanne</city>
<country>CH</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Nixon Peabody LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Ritchie</last-name>
<first-name>David B.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Senis AG</orgname>
<role>03</role>
<address>
<city>Zug</city>
<country>CH</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Vazquez</last-name>
<first-name>Arleen M</first-name>
<department>2858</department>
</primary-examiner>
<assistant-examiner>
<last-name>Le</last-name>
<first-name>Son</first-name>
</assistant-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/EP2009/054225</doc-number>
<kind>00</kind>
<date>20090408</date>
</document-id>
<us-371c124-date>
<date>20101220</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2009/124969</doc-number>
<kind>A </kind>
<date>20091015</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A magnetic field sensor for measuring a direction of a magnetic field in a plane having two sensing structures (<b>1</b>A; <b>1</b>B) that can be operated as a rotating Hall element. The two Hall elements are rotated in discrete steps in opposite directions. Such a magnetic field sensor can be used as current sensor for measuring a primary current flowing through a conductor (<b>15</b>).</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="101.01mm" wi="271.53mm" file="US08624587-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="238.08mm" wi="187.71mm" file="US08624587-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="223.27mm" wi="183.81mm" file="US08624587-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="256.62mm" wi="98.72mm" file="US08624587-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="230.72mm" wi="170.86mm" file="US08624587-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="183.81mm" wi="183.05mm" file="US08624587-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">The present application is a National Phase Application of and claims priority to PCT patent application no. PCT/EP2009/054225 entitled &#x201c;MAGNETIC FIELD SENSOR MEASURING A DIRECTION OF A MAGNETIC FIELD IN A PLANE AND CURRENT SENSOR&#x201d;, filed Apr. 8, 2009, which in turn claims priority to European patent application no. 08103446.4 filed Apr. 8, 2008, the entireties of which are hereby incorporated by reference.</p>
<p id="p-0003" num="0002">The present application is also related to U.S. patent application Ser. No. 12/601,818, filed Nov. 24, 2009, which is a National Phase Application of PCT/EP2008/056517 entitled &#x201c;MAGNETIC FIELD SENSOR FOR MEASURING DIRECTION OF A MAGNETIC FIELD IN A PLANE&#x201d;, filed May 28, 2008, which claims priority to European patent application no. 07109063.3 filed May 29, 2007, the entireties of which are hereby incorporated by reference.</p>
<heading id="h-0002" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0004" num="0003">The invention concerns a magnetic field sensor measuring a direction of a magnetic field in a plane and a current sensor having such a magnetic field sensor.</p>
<heading id="h-0003" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0005" num="0004">The measurement principle of the present invention is based on the one hand on the measurement of a magnetic field produced by the current to be measured which is called the primary current and on the other hand on the measurement of an auxiliary magnetic field produced by a secondary current flowing through a coil. The current sensor therefore comprises a magnetic field sensor, such as e.g. a Hall device, a fluxgate sensor or a magnetoresistive sensor like an AMR or GMR sensor. In the prior art, the magnetic field produced by the current to be measured and the auxiliary magnetic field produced by the secondary current flowing through the coil run in the same direction and the magnetic sensor is a single axis sensor the sensitive axis of which is collinear with this direction. The prior art distinguishes mainly between two different implementations of this measurement principle. With the first implementation which is called open-loop type, the auxiliary magnetic field is used to calibrate the magnetic field sensor. The drawback of this implementation is that the value of the auxiliary magnetic field is low, that the auxiliary magnetic field runs in the same direction as the primary current's magnetic field, which makes it difficult to selectively measure it in a signal comprising both the primary current's magnetic field and the auxiliary magnetic field. With the second implementation which is called closed-loop type the auxiliary magnetic field is used to compensate the magnetic field produced by the current to be measured. An advantage of this second implementation is that the output signal of the current sensor does not depend on the characteristics of the magnetic field sensor but the drawback is that the auxiliary magnetic field must be of equal size as the magnetic field produced by the primary current. A closed-loop current sensor without a magnetic yoke, where the electrical signal containing the information on the measured magnetic field is counterbalanced by the electrical signal containing the information on a reference field created by a current flowing through a reference coil is known from JP 2001136921.</p>
<heading id="h-0004" level="1">DISCLOSURE OF THE INVENTION</heading>
<p id="p-0006" num="0005">The object of the invention is to develop a current sensor without the above named drawbacks.</p>
<p id="p-0007" num="0006">In the following, the terms &#x201c;primary current&#x201d; and &#x201c;primary magnetic field&#x201d; are used to designate the magnetic field produced by the current to be measured, and the terms &#x201c;reference current&#x201d; and &#x201c;reference magnetic field&#x201d; are used to designate the auxiliary magnetic field and the current running through a coil to produce the auxiliary magnetic field. The primary magnetic field and the reference magnetic field add up to a total magnetic field. The present invention proposes to align the reference magnetic field with a different direction, preferably perpendicularly, to the primary magnetic field and to use a magnetic field sensor which measures the direction of the total magnetic field or the angle which the total magnetic field includes with the direction defined by the reference magnetic field, respectively. The magnetic field sensor delivers one output signal. The current sensor further comprises electronic circuitry for the operation of the magnetic field sensor and for the generation of the reference magnetic field, preferably for the operation in the so-called open-loop.</p>
<p id="p-0008" num="0007">The magnetic field sensor is designed for measuring a direction of a magnetic field in a plane and comprises
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0008">a first sensing structure and a second sensing structure, each comprising</li>
        <li id="ul0002-0002" num="0009">a ring-shaped, electrically conductive well, and</li>
        <li id="ul0002-0003" num="0010">a predefined number N of at least eight contacts of equal size placed at equal distance from each other along the ring-shaped well and contacting the ring-shaped well, and</li>
        <li id="ul0002-0004" num="0011">an electronic circuit comprising</li>
        <li id="ul0002-0005" num="0012">at least one current source,</li>
        <li id="ul0002-0006" num="0013">a first processing block for processing a first Hall voltage, a second processing block for processing a second Hall voltage, and an exclusive OR gate having a first and a second input, each processing block comprising a voltage difference amplifier, a bandpass filter and a comparator, wherein an output of the first and second processing block is coupled directly or indirectly to the first or the second input of the exclusive OR gate,</li>
        <li id="ul0002-0007" num="0014">a switching block comprising a first plurality of electronic switches associated with the contacts of the first sensing structure and a second plurality of electronic switches associated with the contacts of the second sensing structure,</li>
        <li id="ul0002-0008" num="0015">a timing circuit providing a clock signal for opening and closing the switches of the switching blocks and according to a predetermined time scheme such that a predetermined number of contacts of the plurality of contacts of the first sensing structure form a first Hall element moving in a clockwise direction along the ring-shaped well of the first sensing structure in a predefined number of steps per turn and such that a predetermined number of contacts of the plurality of contacts of the second sensing structure form a second Hall element moving in a counterclockwise direction along the ring-shaped well of the second sensing structure in the same predefined number of steps per turn, wherein the first and second Hall element are supplied with current from the at least one current source and deliver each at least one Hall voltage to the processing blocks.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0009" num="0016">Preferably, the number N of contacts is eight and the first switching block is adapted to close and open the first plurality of electronic switches such that at each step all eight contacts of the first sensing structure are connected either to the at least one current source or directly or indirectly to one of the processing blocks, and the second switching block is adapted to close and open the second plurality of electronic switches such that at each step all eight contacts of the second sensing structure are connected either to the at least one current source or directly or indirectly to one of the processing blocks.</p>
<p id="p-0010" num="0017">The switching blocks are preferably configured to move the first Hall element and the second Hall element along their respective ring-shaped well in turns consisting of 8 steps or in turns consisting of 4 steps.</p>
<p id="p-0011" num="0018">Preferably, each step comprises a number of two or four sub-steps wherein the contacts for feeding the current and the contacts for measuring the respective Hall voltage are exchanged according to the so-called spinning current method.</p>
<p id="p-0012" num="0019">Preferably, at least one further switching block for alternately exchanging the first and second processing block is provided.</p>
<p id="p-0013" num="0020">A current sensor for measuring a primary current flowing through a conductor can be formed of such a magnetic field sensor, a coil and a current source feeding a reference current to the coil. The windings of the coil are oriented with respect to a direction of the primary current such that a primary magnetic field generated by the primary current and a reference magnetic field generated by the reference current include an angle &#x3b2; that is different from zero. The current sensor further comprises an electronic circuit coupled to the output of the exclusive OR gate of the magnetic field sensor that generates an output signal proportional to the primary current.</p>
<p id="p-0014" num="0021">This electronic circuit can for example be an analog circuit comprising an integrator configured to generate an output signal proportional to the tangent function, the integrator comprising an operational amplifier, a number of M switches and resistors, and a capacitor, wherein the M switches and resistors are arranged as parallel sets of one switch and one resistor arranged in series having one terminal of the switch connected to a voltage source and one terminal of the resistor connected to an input of the operational amplifier.</p>
<p id="p-0015" num="0022">With a magnetic field sensor with which the number of contacts of the first sensing structure is eight, the number of contacts of the second sensing structure is eight and which is operated such that the Hall elements complete each term in four steps and with individual amplification factors of the amplifiers and/or individual currents flowing through the Hall elements in each step it is possible to achieve a high accuracy even if the reference magnetic field is small compared to the primary magnetic field.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0016" num="0023">The accompanying drawings, which are incorporated into and constitute a part of this specification, illustrate one or more embodiments of the present invention and, together with the detailed description, serve to explain the principles and implementations of the invention. The figures are not to scale. In the drawings:</p>
<p id="p-0017" num="0024"><figref idref="DRAWINGS">FIG. 1</figref>, <b>2</b> show a planar sensing structure operateable as moving Hall element in different operating conditions,</p>
<p id="p-0018" num="0025"><figref idref="DRAWINGS">FIG. 3</figref> shows a Hall voltage diagram,</p>
<p id="p-0019" num="0026"><figref idref="DRAWINGS">FIG. 4</figref> shows a block scheme of an angle sensor comprising two sensing structures,</p>
<p id="p-0020" num="0027"><figref idref="DRAWINGS">FIG. 5</figref> shows different voltage diagrams,</p>
<p id="p-0021" num="0028"><figref idref="DRAWINGS">FIG. 6</figref> shows a block scheme of a further angle sensor,</p>
<p id="p-0022" num="0029"><figref idref="DRAWINGS">FIG. 7</figref> shows an assembly group for current measurement,</p>
<p id="p-0023" num="0030"><figref idref="DRAWINGS">FIG. 8</figref> shows an analog circuit for generating the tangent function, and</p>
<p id="p-0024" num="0031"><figref idref="DRAWINGS">FIG. 9</figref> shows the planar sensing structure in a certain operating conditions.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0025" num="0032"><figref idref="DRAWINGS">FIG. 1</figref> shows a planar sensing structure <b>1</b> consisting of a ring-shaped, electrically conductive well <b>2</b> and a number N of at least eight contacts <b>3</b> of equal size placed at equal distance from each other along the ring-shaped well <b>2</b> and contacting the ring-shaped well <b>2</b>. The ring-shaped well <b>2</b> has a first conductivity type and is embedded in a well or a substrate of a second conductivity type. The sensing structure <b>1</b> lies in a plane, the axis of which are designated as x and y. Such a sensing structure <b>1</b> and its operation as a moving Hall element are known from the international patent application WO 2008145662. With a preferred embodiment, as shown in <figref idref="DRAWINGS">FIG. 1</figref>, the number N of the contacts <b>3</b> is N=8. The eight contacts <b>3</b> are labeled as C<sub>1 </sub>to C<sub>8</sub>. In this embodiment, the eight contacts <b>3</b> are&#x2014;as seen from the center of the ring-shaped well <b>2</b>&#x2014;angularly displaced by 45&#xb0;.</p>
<p id="p-0026" num="0033">Although the number N of the contacts <b>3</b> is very small, five contacts lying adjacent each other, i.e. a first, second, third, fourth and fifth contact, are combined to form a vertical Hall element in that a current is supplied to the first and the fifth contact and discharged from the third contact and in that a Hall voltage U<sub>H1 </sub>appearing between the second and the fourth contact is measured. The vertical Hall element thus formed is then moved in steps along the ring-shaped well <b>2</b>, either in the clockwise direction or in the counterclockwise direction. The number of steps to complete one turn is equal to the number N of contacts <b>3</b>. So when moving in the clockwise direction, in the first step the contacts labeled C<sub>1 </sub>to C<sub>5 </sub>form the vertical Hall element, in the second step, the contacts labeled C<sub>2 </sub>to C<sub>6 </sub>form the vertical Hall element, and so on. For doing so, a current source <b>4</b>, which is preferably a DC current source, a voltage difference amplifier <b>5</b>, which is preferably a differential difference amplifier, a switching block <b>6</b> comprising a plurality of electronic switches associated with the contacts <b>3</b> and a timing circuit <b>7</b> providing a clock signal for controlling the switches of the switching block are provided. The switches of the switching block <b>6</b> are opened and closed according to a predetermined time scheme to connect the five neighboring contacts of the vertical Hall element to the current source <b>4</b> and the voltage difference amplifier <b>5</b> as required in each step or, if the spinning current method is applied as explained below, each sub-step.</p>
<p id="p-0027" num="0034">The number N=8 of contacts <b>3</b> allows another, more efficient mode of operation. As can be seen in <figref idref="DRAWINGS">FIG. 1</figref>, the first and fifth contact always lie opposite each other. Therefore, the fifth, sixth, seventh, eighth and first contact can be combined to a second vertical Hall element. As can be seen, the first and fifth contact belong to both vertical Hall elements. In this case, the current is supplied to the first and the fifth contact and discharged from the third and seventh contact, and a first Hall voltage U<sub>H1 </sub>appearing between the second and the fourth contact and a second Hall voltage U<sub>H2 </sub>appearing between the eighth and the sixth contact are sensed. The two Hall voltages U<sub>H1 </sub>and U<sub>H2 </sub>are first fed each to a voltage difference amplifier and then added in a summing junction. So when moving in the clockwise direction in the first step, the contacts labeled C<sub>1 </sub>to C<sub>5 </sub>form the first vertical Hall element and the contacts labeled C<sub>5 </sub>to C<sub>8 </sub>and C<sub>1 </sub>form the second vertical Hall element, in the second step, the contacts labeled C<sub>2 </sub>to C<sub>6 </sub>form the first vertical Hall element and the contacts labeled C<sub>6 </sub>to C<sub>8</sub>, C<sub>1 </sub>and C<sub>2 </sub>form the second vertical Hall element, and so on.</p>
<p id="p-0028" num="0035">The first and second vertical Hall element share some current contacts. Therefore the eight contacts <b>3</b> of the sensing structure <b>1</b> can be considered to form one single Hall element that is supplied with a current and that is rotated in a number of N steps during operation wherein each contact is either connected to the current source or to an amplifier. This Hall element delivers the two Hall voltages U<sub>H1 </sub>and U<sub>H2 </sub>which have&#x2014;apart from measurement errors and manufacturing tolerances&#x2014;the same magnitude. Therefore these two Hall voltages U<sub>H1 </sub>and U<sub>H2 </sub>can be processed by two voltage difference amplifiers and the outputs of them can be added in a summing junction to deliver a single processed Hall voltage U<sub>H </sub>ready for further processing.</p>
<p id="p-0029" num="0036">In order to reduce the offset of the Hall element(s), the well known spinning current method is preferably applied. This means, that each step is divided into two or four sub-steps, wherein the current and voltage contacts are exchanged. While <figref idref="DRAWINGS">FIG. 1</figref> shows the switching configuration of the first sub-step of the first step, <figref idref="DRAWINGS">FIG. 2</figref> shows the switching configuration of the second sub-step of the first step. In this second sub-step, the current is supplied to the contacts labeled C<sub>2 </sub>and C<sub>8 </sub>and discharged from the contacts C<sub>4 </sub>and C<sub>6</sub>, the first Hall voltage is measured between the contact C<sub>3 </sub>and the short-circuited contacts C<sub>1 </sub>and C<sub>5 </sub>and the second Hall voltage is measured between the contact C<sub>7 </sub>and the short-circuited contacts C<sub>1 </sub>and C<sub>5</sub>. If the number of sub-steps is four, then in sub-step <b>3</b> the current flows in the reverse direction and the voltage contacts are exchanged with respect to sub-step <b>1</b> and in sub-step <b>4</b> the current flows in the reverse direction and the voltage contacts are exchanged with respect to sub-step <b>2</b>. So the number of steps to rotate the Hall element is still N=8, but the total number of switching cycles is either 2*8=16 or 2*4=32.</p>
<p id="p-0030" num="0037"><figref idref="DRAWINGS">FIG. 3</figref> shows the Hall voltage U<sub>H </sub>appearing at each of the N=8 steps during one complete turn if a magnetic field pointing into the x-direction is applied. The Hall voltage U<sub>H </sub>is a step cosine wave (approximation of a cosine wave). Similarly, the Hall voltage U<sub>H </sub>is a step sine wave if the applied magnetic field points into the y-direction. Finally, the Hall voltage U<sub>H </sub>induced by any in-plane magnetic field is a linear combination of a step sine wave and a step cosine wave.</p>
<p id="p-0031" num="0038">The sensing structure <b>1</b> of <figref idref="DRAWINGS">FIG. 1</figref> can be combined with electronic circuitry to form an angle sensor wherein the angle sensor delivers an output signal that is proportional to the angle &#x3b1; that a magnetic field lying in the xy-plane includes with the x-axis. The angle sensor is therefore a magnetic field sensor for measuring a direction of a magnetic field in a plane. In a preferred embodiment, the angle sensor comprises two sensing structures <b>1</b>A and <b>1</b>B wherein the first sensing structure <b>1</b>A is operated as a Hall element moving in the clockwise direction and the second sensing structure <b>1</b>B is operated as a Hall element moving in the counterclockwise direction. <figref idref="DRAWINGS">FIG. 4</figref> shows a block scheme of such an angle sensor <b>8</b> with the complete electronic circuit. The angle sensor <b>8</b> essentially comprises the first sensing structure <b>1</b>A, a first switching block <b>6</b>A, a first processing block <b>9</b>A comprising a first voltage difference amplifier <b>5</b>A, a first bandpass filter <b>10</b>A and a first comparator <b>11</b>A, the second sensing structure <b>1</b>B, a second switching block <b>6</b>B, a second processing block <b>9</b>B comprising a second voltage difference amplifier <b>5</b>B, a second bandpass filter <b>10</b>B and a second comparator <b>11</b>B, a timing circuit <b>7</b>, a first current source <b>4</b>A and a second current source <b>4</b>B. As each of the sensing structures <b>1</b>A and <b>1</b>B delivers two Hall voltages U<sub>H1 </sub>and U<sub>H2</sub>, the first and second voltage difference amplifiers <b>5</b>A and <b>5</b>B are configured to process both Hall voltages U<sub>H1 </sub>and U<sub>H2 </sub>and provide an output signal that is proportional to their sum. The output signals of the two processing blocks <b>9</b>A and <b>9</b>B are fed to an exclusive OR gate <b>12</b> having two inputs and an output. The exclusive OR gate <b>12</b> delivers an output signal that is a pulse width modulated (PWM) signal. With this example, the outputs of the processing blocks <b>9</b>A and <b>9</b>B are coupled directly to the inputs of the exclusive OR gate <b>12</b>.</p>
<p id="p-0032" num="0039">The first switching block <b>6</b>A comprises a first plurality of electronic switches associated with the contacts <b>3</b> of the first sensing structure <b>1</b>A and the second switching block <b>6</b>B comprises a second plurality of electronic switches associated with the contacts <b>3</b> of the second sensing structure <b>1</b>B. The timing circuit <b>7</b> provides a clock signal for opening and closing the switches of the switching blocks <b>6</b>A and <b>6</b>B according to a predetermined time scheme, so that the eight contacts <b>3</b> of the sensing structures <b>1</b>A and <b>1</b>B are connected either to the constant current sources <b>4</b>A and <b>4</b>B or to the processing blocks <b>9</b>A and <b>9</b>B as described above in order to move a first Hall element in clockwise direction along the ring-shaped well <b>2</b> of the first sensing structure <b>1</b>A and a second Hall element in the counterclockwise direction along the ring-shaped well <b>2</b> of the second sensing structure <b>1</b>B. Each Hall element delivers two Hall voltages U<sub>H1 </sub>and U<sub>H2 </sub>which are processed and added to a sum Hall voltage U<sub>H </sub>in the respective voltage difference amplifier <b>5</b>A or <b>5</b>B of the first or second processing block <b>9</b>A or <b>9</b>B. The Hall elements may be supplied with current from one single current source or as shown from different current sources <b>4</b>A and <b>4</b>B.</p>
<p id="p-0033" num="0040"><figref idref="DRAWINGS">FIG. 5</figref> shows different voltages V<sub>1 </sub>to V<sub>7 </sub>appearing within the processing blocks <b>9</b>A and <b>9</b>B and at the output of the exclusive OR gate <b>12</b> as a function of time t. These voltages are:</p>
<p id="h-0007" num="0000">V<sub>1 </sub>voltage appearing at the output of the first voltage difference amplifier <b>5</b>A,</p>
<p id="h-0008" num="0000">V<sub>2 </sub>voltage appearing at the output of the first bandpass filter <b>10</b>A,</p>
<p id="h-0009" num="0000">V<sub>3 </sub>voltage appearing at the output of the first comparator <b>11</b>A,</p>
<p id="h-0010" num="0000">V<sub>4 </sub>voltage appearing at the output of the second voltage difference amplifier <b>5</b>B,</p>
<p id="h-0011" num="0000">V<sub>5 </sub>voltage appearing at the output of the second bandpass filter <b>10</b>B,</p>
<p id="h-0012" num="0000">V<sub>6 </sub>voltage appearing at the output of the second comparator <b>11</b>B,</p>
<p id="h-0013" num="0000">V<sub>7 </sub>voltage appearing at the output of the exclusive OR gate <b>12</b>.</p>
<p id="h-0014" num="0000">The voltages V<sub>2 </sub>and V<sub>5 </sub>are given by
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>2</sub><i>=A</i><sub>1</sub><i>*S</i><sub>1</sub><i>*B*I</i><sub>H1</sub>*cos(2<i>&#x3c0;*f*t</i>&#x2212;&#x3b1;),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>5</sub><i>=A</i><sub>2</sub><i>*S</i><sub>2</sub><i>*B*I</i><sub>H2</sub>*cos(2<i>&#x3c0;*f*t</i>+&#x3b1;),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>7</sub>=rectangular pulses of width &#x3b1;/(&#x3c0;*<i>f</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
wherein &#x3b1; denotes the angle the magnetic field in the xy-plane includes with the x-axis, f denotes the frequency=number of rotations of the Hall elements per unit time, A<sub>1 </sub>and A<sub>2 </sub>denote the amplification factors (gain) of the amplifiers <b>5</b>A and <b>5</b>B, S<sub>1 </sub>and S<sub>2 </sub>denote the sensitivities of the sensing structures <b>1</b>A and <b>1</b>B and I<sub>H1 </sub>and I<sub>H2 </sub>denote the currents flowing through the sensing structures <b>1</b>A and <b>1</b>B, respectively. T is 1/f. The processing blocks <b>9</b>A and <b>9</b>B are preferably matched to have A<sub>1</sub>=A<sub>2</sub>. The sensitivities are the same S<sub>1</sub>=S<sub>2</sub>. This preferred angle sensor <b>8</b> has the advantage that the pulses appearing at the output of the exclusive OR gate <b>12</b> are independent of the amplifiers' <b>5</b>A and <b>5</b>B gains and temperature drifts.
</p>
<p id="p-0034" num="0041">The processing blocks <b>9</b>A and <b>9</b>B may each introduce a certain delay, so that the pulses appearing at the output of the comparators <b>11</b>A and <b>11</b>B are shifted slightly in time. If the processing blocks <b>9</b>A and <b>9</b>B are matched and have the delays &#x3c6;<sub>1 </sub>and &#x3c6;<sub>2</sub>, respectively, the voltages V<sub>2 </sub>and V<sub>5 </sub>are
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>2</sub><i>=A</i><sub>1</sub><i>*S</i><sub>1</sub><i>*B*I</i><sub>H1</sub>*cos(2<i>&#x3c0;*f*t&#x2212;&#x3b1;+&#x3c6;</i><sub>1</sub>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>5</sub><i>=A</i><sub>2</sub><i>*S</i><sub>2</sub><i>*B*I</i><sub>H2</sub>*cos(2<i>&#x3c0;*f*t+&#x3b1;+&#x3c6;</i><sub>2</sub>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
and the width of the pulses &#x3b1;/(&#x3c0;*f) is independent of the delays if &#x3c6;<sub>1</sub>=&#x3c6;<sub>2</sub>. In order to have &#x3c6;<sub>1</sub>=&#x3c6;<sub>2 </sub>it is preferred to exchange the two processing blocks <b>9</b>A and <b>9</b>B periodically, e.g. after each complete turn of the Hall elements. <figref idref="DRAWINGS">FIG. 6</figref> shows an angle sensor <b>8</b> having at least one further switching block <b>13</b> located before the processing blocks <b>9</b>A and <b>9</b>B or two further switching blocks <b>13</b> and <b>14</b> located before and after the processing blocks <b>9</b>A and <b>9</b>B. The switching block(s) <b>13</b> and <b>14</b> exchange the processing blocks <b>9</b>A and <b>9</b>B periodically. With this example, the outputs of the processing blocks <b>9</b>A and <b>9</b>B are coupled indirectly&#x2014;via the switching block <b>14</b>&#x2014;to the inputs of the exclusive OR gate <b>12</b>.
</p>
<p id="p-0035" num="0042"><figref idref="DRAWINGS">FIG. 7</figref> shows the application of such an angle sensor for the measurement of a current. The angle sensor <b>8</b> is located on a flat electrical conductor <b>15</b> through which the current to be measured, i.e. the primary current, flows. The primary current flows along the conductor <b>15</b> in a direction designated by an arrow <b>16</b> and produces a primary magnetic field B<sub>p</sub>. The angle sensor <b>8</b> is integrated in a semiconductor chip that is located in a conventional manner above the conductor <b>15</b>. A reference current I<sub>ref </sub>flowing through a coil <b>17</b> produces a reference magnetic field B<sub>ref</sub>. The coil <b>17</b> is preferably a flat coil consisting of conventional conductor tracks <b>19</b> formed on the semiconductor chip, above the sensing structure <b>1</b>. The windings of the conductor tracks <b>19</b> are oriented so that the reference magnetic field B<sub>ref </sub>points in a direction that is different from the direction of the primary magnetic field B<sub>p</sub>. The primary magnetic field B<sub>p </sub>and the reference magnetic field B<sub>ref </sub>include a fixed angle &#x3b2; that is different from zero. Preferably, the angle &#x3b2; amounts to &#x3b2;=90&#xb0; as shown in this example. The conductor <b>15</b> and the angle sensor <b>8</b> form an assembly group for current measurement. With reference to <figref idref="DRAWINGS">FIG. 1</figref>, the angle sensor <b>8</b> and the coil <b>17</b> are oriented such that the reference magnetic field B<sub>ref </sub>produced by the current I<sub>ref </sub>flowing through the coil <b>17</b> points into the x-direction and the primary magnetic field B<sub>p </sub>produced by the current I<sub>p </sub>to be measured points into the y-direction. The angle &#x3b1; denotes the angle the total magnetic field B=B<sub>ref</sub>+B<sub>p </sub>includes with the reference magnetic field B<sub>ref</sub>.</p>
<p id="p-0036" num="0043">The angle &#x3b1; is given by the equation
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>tan &#x3b1;=<i>B</i><sub>p</sub><i>/B</i><sub>ref</sub><i>=k</i><sub>1</sub><i>*I</i><sub>p</sub>/(<i>k</i><sub>2</sub><i>*I</i><sub>ref</sub>)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
wherein k<sub>1 </sub>and k<sub>2 </sub>are constants depending on the vacuum magnetic permittivity and the geometries of the conductor <b>15</b> and the coil <b>17</b>, respectively. The current I<sub>ref </sub>flowing through the coil <b>17</b> is generated with a current source <b>18</b> which is for example a voltage source delivering a constant reference voltage V<sub>ref </sub>and a reference resistor R<sub>ref </sub>as
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>I</i><sub>ref</sub><i>=V</i><sub>ref</sub><i>/R</i><sub>ref </sub><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>and one gets<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>I</i><sub>p</sub><i>=k</i><sub>2</sub><i>*V</i><sub>ref</sub>/(<i>k</i><sub>1</sub><i>*R</i><sub>ref</sub>)*tan &#x3b1;<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
The output of the exclusive OR gate <b>12</b> delivers pulses of width (or length) &#x3b1;/(&#x3c0;*f). The value tan &#x3b1; can be determined in different ways, for example by the use of a digital block or an A/D-converter in combination with a lookup table, and so on. <figref idref="DRAWINGS">FIG. 8</figref> illustrates a preferred way using an analog circuit that uses the pulses of width &#x3b1;/(&#x3c0;*f) of the pulse width modulated signal V<sub>7 </sub>to create tan &#x3b1; as a function of the angle &#x3b1;. <figref idref="DRAWINGS">FIG. 8</figref> shows the analog circuit and several diagrams.
</p>
<p id="p-0037" num="0044">The analog circuit comprises an integrator <b>20</b>, a sample and hold circuit <b>21</b>, a first switch <b>22</b> coupling the output of the integrator <b>20</b> to the input of the sample and hold circuit <b>21</b> and a second switch <b>26</b> which allows a reset of the integrator <b>20</b> at specified times. The integrator <b>20</b> comprises a voltage source <b>23</b>, an operational amplifier <b>24</b>, a number of M switches &#x3a6;<sub>1 </sub>to &#x3a6;<sub>M </sub>and resistors R<sub>1 </sub>to R<sub>M</sub>, and a capacitor C<sub>1</sub>. The M switches &#x3a6;<sub>1 </sub>to &#x3a6;<sub>M </sub>and resistors R<sub>1 </sub>to R<sub>M </sub>are arranged as parallel sets of one switch and one resistor arranged in series having one terminal of the switch connected to the voltage source <b>23</b> and one terminal of the resistor connected to an input of the operational amplifier <b>24</b>. The sample and hold circuit <b>21</b> comprises a capacitor C<sub>2 </sub>and an operational amplifier <b>25</b>. The switches <b>22</b> and <b>26</b> are open most of the time and only closed for a short period of time as described further below.</p>
<p id="p-0038" num="0045">At the beginning, all the switches &#x3a6;<sub>1 </sub>to &#x3a6;<sub>M </sub>are open and the capacitor C is discharged. The voltage at the output of the operational amplifier <b>24</b> is zero. At time t<sub>0</sub>, the switch &#x3a6;<sub>1 </sub>is closed, so that a current I<sub>1</sub>=V<sub>ref</sub>/R<sub>1 </sub>flows through the resistor R<sub>1 </sub>and charges the capacitor C<sub>1</sub>. At time t<sub>1</sub>, the switch &#x3a6;<sub>2 </sub>is closed, so that a current I<sub>2</sub>=V<sub>ref</sub>/(R<sub>1</sub>&#x2225;R<sub>2</sub>) charges the capacitor C<sub>1</sub>. At time t<sub>2</sub>, the switch &#x3a6;<sub>3 </sub>is closed, so that a current I<sub>3</sub>=V<sub>ref</sub>(R<sub>1</sub>&#x2225;R<sub>2</sub>&#x2225;R<sub>3</sub>) charges the capacitor C<sub>1</sub>. The times t<sub>1</sub>, t<sub>2 </sub>to t<sub>M </sub>form successive time intervals t<sub>0 </sub>to t<sub>1</sub>, t<sub>1 </sub>to t<sub>2</sub>, . . . t<sub>M-1 </sub>to t<sub>M</sub>. The times t<sub>1</sub>, t<sub>2 </sub>to t<sub>M </sub>and the resistors R<sub>1 </sub>to R<sub>M </sub>are selected such that the current charging the capacitor C<sub>1 </sub>in each time interval is proportional to the first derivative of tan(t) at an appropriate point in that time interval. As this analog circuit <b>20</b> is a classical integrator, the voltage at the output of the operational amplifier <b>24</b> is proportional to tan(t).</p>
<p id="p-0039" num="0046">The voltage signal V<sub>7 </sub>controls the operation of the analog circuit <b>20</b>. However, the time scale of the integrator <b>20</b> has to be matched to the time scale of the pulse width modulated signal V<sub>7</sub>. The beginning of a pulse of the voltage signal V<sub>7 </sub>triggers the start of the integrator <b>20</b>, i.e. time t<sub>0 </sub>occurs when the voltage V<sub>7 </sub>changes its state from low to high. The switches &#x3a6;<sub>1 </sub>to &#x3a6;<sub>M </sub>are closed one after the other at the predetermined times t<sub>0 </sub>to t<sub>M-1</sub>. However, at the end of the pulse, i.e. when the voltage V<sub>7 </sub>changes its state from high to low, this process is finished and all the switches &#x3a6;<sub>1 </sub>to &#x3a6;<sub>M </sub>are opened. The voltage at the output of the operational amplifier <b>24</b> has now the value k<sub>1</sub>/(k<sub>2</sub>*C<sub>1</sub>)*I<sub>p</sub>.</p>
<p id="p-0040" num="0047">The switch <b>22</b> is closed for a short period of time at the end of each pulse, i.e. when the voltage V<sub>7 </sub>changes its state from high to low, in order to transfer the actual voltage at the capacitor C<sub>1 </sub>to the capacitor C<sub>2</sub>. After the switch <b>22</b> has been opened again, the switch <b>26</b> is closed for a short period of time in order to discharge the capacitor C<sub>1 </sub>which resets the output voltage of the integrator <b>20</b> to zero.</p>
<p id="p-0041" num="0048">The diagrams of <figref idref="DRAWINGS">FIG. 8</figref> show the voltage V<sub>7 </sub>at the output of the exclusive OR-gate <b>12</b> (<figref idref="DRAWINGS">FIG. 4</figref>), the state S<sub>22 </sub>and S<sub>26 </sub>of the switches <b>22</b> and <b>26</b> (high=closed, low=open), the voltage V<sub>8 </sub>at the output of the integrator <b>20</b> and the voltage V<sub>9 </sub>at the output of the sample and hold circuit <b>21</b>. With this example the width of the three successive pulses of V<sub>7 </sub>increases. Therefore the voltages V<sub>8 </sub>and V<sub>9 </sub>achieve a successively higher level.</p>
<p id="p-0042" num="0049">The function tan(t) can be approximated to a good degree in the interval from t=0 to t=&#x3c0;/(4*2*&#x3c0;*f)=1/(8*f) with as few as M=6 resistors with an error of approximation of the function tan(t) of less than 1.25%. If the function tan(t) needs to be generated for angles that are larger than &#x3c0;/4 the number M of resistors and time intervals is bigger.</p>
<p id="p-0043" num="0050">The angle &#x3b1; depends on the ratio k<sub>1</sub>*I<sub>p</sub>/(k<sub>2</sub>*I<sub>ref</sub>). In order to have the angle &#x3b1; between 0 and &#x3c0;/4, the reference current I<sub>ref </sub>must be higher than the primary current I<sub>p </sub>to be measured if k<sub>1</sub>=k<sub>2</sub>. This condition can not always be fulfilled because the maximum reference current allowed to flow through the coil <b>17</b> is limited. However, there is a solution to overcome this problem in that the Hall voltage is sampled only in those steps during the rotation of the Hall element where the Hall voltage contains information only on B<sub>p </sub>or only on B<sub>ref</sub>. Among the N=8 steps of one turn there are two steps where the Hall voltage contains information only on B<sub>p</sub>, and two steps where the Hall voltage contains information only on B<sub>ref</sub>. Therefore, the Hall element is rotated in only four steps along the ring-shaped well <b>2</b>. When rotating in N=8 steps, the vertical Hall elements formed in two successive steps are displaced by the distance between two adjacent contacts <b>3</b>, i.e. they are rotated by an angle of 360&#xb0;/8=45&#xb0;. When rotating in N=4 steps, the vertical Hall elements formed in two successive steps are displaced by twice the distance between two adjacent contacts <b>3</b>, i.e. they are rotated by an angle of 360&#xb0;/4=90&#xb0;. In the first step, the eight contacts <b>3</b> are connected to the current source <b>4</b> and to the voltage difference amplifier <b>5</b> as shown in <figref idref="DRAWINGS">FIG. 1</figref>. The sensitive structure <b>1</b> now measures the magnetic field B<sub>ref</sub>. In the second, third and fourth step, the eight contacts <b>3</b> are connected to the current source <b>4</b> and to the voltage difference amplifier <b>5</b> as shown in <figref idref="DRAWINGS">FIG. 9</figref>. The sensitive structure <b>1</b> now measures the magnetic field B<sub>p</sub>. In the third step, the sensitive structure <b>1</b> measures again the magnetic field B<sub>ref</sub>, and in the fourth step, the sensitive structure <b>1</b> measures the magnetic field B<sub>p</sub>. When the magnetic field B<sub>p </sub>is measured, i.e. in steps <b>2</b> and <b>4</b>, the currents I<sub>H1 </sub>and I<sub>H2 </sub>are decreased by a factor h or the amplification factor of the amplifiers <b>5</b>A and <b>5</b>B is decreased by a factor h or a combination of both. (Or alternatively when the magnetic field B<sub>ref </sub>is measured, i.e. in steps <b>1</b> and <b>3</b>, the currents I<sub>H1 </sub>and I<sub>H2 </sub>are increased by a factor h or the amplification factor of the amplifiers <b>5</b>A and <b>5</b>B is increased by a factor h or a combination of both.) The voltages V<sub>2</sub>, V<sub>5 </sub>and V<sub>7 </sub>of the circuit shown in <figref idref="DRAWINGS">FIG. 4</figref> are then
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>2</sub><i>=A</i><sub>1</sub><i>*S</i><sub>1</sub><i>*B*I</i><sub>H1</sub>*cos(2<i>&#x3c0;*f*t&#x2212;&#x3c0;/</i>4&#x2212;&#x3b1;<sub>1</sub>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>5</sub><i>=A</i><sub>2</sub><i>*S</i><sub>2</sub><i>*B*I</i><sub>H2</sub>*cos(2<i>&#x3c0;*f*t&#x2212;&#x3c0;/</i>4+&#x3b1;<sub>2</sub>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>7</sub>=rectangular pulses of width &#x3b1;<sub>1</sub>/(&#x3c0;*<i>f</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>with<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>tan &#x3b1;<sub>1</sub><i>=B</i><sub>p</sub>/(<i>h*B</i><sub>ref</sub>)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>or<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>I</i><sub>p</sub><i>=h*k</i><sub>2</sub><i>/k</i><sub>1</sub><i>*I</i><sub>ref</sub>)*tan &#x3b1;<sub>1 </sub><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
Therefore the circuits shown in <figref idref="DRAWINGS">FIGS. 4 and 8</figref> can be used also in this case with small modifications like rotating the Hall element in N/2=4 steps, having individual amplification factors and/or currents through the Hall element as described above, and a modified scaling of the integrator <b>20</b> with respect to the pulses of the voltage V<sub>7</sub>. In a preferred embodiment, however, the amplification factor of the operational amplifier <b>25</b> of the sample and hold circuit <b>21</b> is increased by the factor h, so that the voltage V<sub>9 </sub>at the output of the sample and hold circuit <b>21</b> is
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>9</sub><i>=k</i><sub>2</sub><i>/k</i><sub>1</sub><i>*I</i><sub>ref </sub><?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0044" num="0051">Instead of rotating the vertical Hall element in 4 steps with 90&#xb0; of rotation per step, it would also be possible to only use steps <b>1</b> and <b>2</b> of these four steps, i.e. to switch back and forth between the first and the second connection scheme of the Hall element as shown in <figref idref="DRAWINGS">FIGS. 1 and 9</figref>. Furthermore, it would also be possible to rotate the vertical Hall element in 8 steps and to have individual amplification factors of the amplifiers <b>5</b>A and <b>5</b>B and/or individual currents flowing through the Hall element in each step.</p>
<p id="p-0045" num="0052">One big advantage is that the small number of four or eight steps per turn makes the angle sensor and the current sensor very fast, because the time needed to get the information is short.</p>
<p id="p-0046" num="0053">While embodiments and applications of this invention have been shown and described, it would be apparent to those skilled in the art having the benefit of this disclosure that many more modifications than mentioned above are possible without departing from the inventive concepts herein. The invention, therefore, is not to be restricted except by the appended claims and their equivalents.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A magnetic field sensor for measuring a direction of a magnetic field in a plane, comprising:
<claim-text>a first sensing structure and a second sensing structure, each comprising
<claim-text>a ring-shaped, electrically conductive well, and</claim-text>
<claim-text>a predefined number N of at least eight contacts of equal size placed at equal distance from each other along the ring-shaped well and contacting the ring-shaped well, and</claim-text>
</claim-text>
<claim-text>an electronic circuit comprising
<claim-text>at least one current source,</claim-text>
<claim-text>a first processing block for processing a first Hall voltage, a second processing block for processing a second Hall voltage, and an exclusive OR gate having a first and a second input, each processing block comprising a voltage difference amplifier having an output coupled to an input of a bandpass filter having an output coupled to an input of a comparator, wherein an output of the first processing block is coupled directly or indirectly to the first input of the exclusive OR gate and an output of the second processing block is coupled directly or indirectly to the second input of the exclusive OR gate,</claim-text>
<claim-text>a switching block comprising a first plurality of electronic switches associated with the contacts of the first sensing structure and a second plurality of electronic switches associated with the contacts of the second sensing structure,</claim-text>
<claim-text>a timing circuit providing a clock signal for opening and closing the switches of the switching blocks according to a predetermined time scheme such that a predetermined number of contacts of the plurality of contacts of the first sensing structure form a first Hall element moving in a clockwise direction along the ring-shaped well of the first sensing structure in a predefined number of steps per turn and such that a predetermined number of contacts of the plurality of contacts of the second sensing structure form a second Hall element moving in a counterclockwise direction along the ring-shaped well of the second sensing structure in the same predefined number of steps per turn, wherein the first and second Hall element are supplied with current from the at least one current source and deliver each at least one Hall voltage to the processing blocks.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The magnetic field sensor according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the number N of contacts is eight,</claim-text>
<claim-text>the first switching block is adapted to close and open the first plurality of electronic switches such that at each step all eight contacts of the first sensing structure are connected either to the at least one current source or directly or indirectly to one of the processing blocks, and</claim-text>
<claim-text>the second switching block is adapted to close and open the second plurality of electronic switches such that at each step all eight contacts of the second sensing structure are connected either to the at least one current source or directly or indirectly to one of the processing blocks.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The magnetic field sensor according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the switching blocks are configured to move the first Hall element and the second Hall element along their respective ring-shaped well in turns consisting of four or eight steps.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The magnetic field sensor according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein each step comprises a number of two or four sub-steps wherein in the sub-steps the contacts for feeding the current and the contacts for measuring the respective Hall voltage are exchanged according to a spinning current method.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The magnetic field sensor according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, further comprising at least one further switching block for alternately exchanging the first and second processing block.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. Current sensor for measuring a primary current flowing through a conductor, the current sensor comprising a magnetic field sensor according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, a coil and a current source feeding a reference current to the coil, wherein the windings of the coil are oriented with respect to a direction of the primary current such that a primary magnetic field generated by the primary current and a reference magnetic field generated by the reference current include an angle &#x3b2; that is different from zero, the current sensor further comprising an electronic circuit coupled to the output of the exclusive OR gate that generates an output signal proportional to the primary current.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. Current sensor according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the electronic circuit comprises an integrator configured to generate an output signal proportional to the tangent function, the integrator comprising an operational amplifier, a number of M switches and resistors, and a capacitor, wherein the M switches and resistors are arranged as parallel sets of one switch and one resistor arranged in series having one terminal of the switch connected to a voltage source and one terminal of the resistor connected to an input of the operational amplifier.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. Current sensor according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the angle &#x3b2; amounts to approximately 90&#xb0; and wherein individual amplification factors of the amplifiers and/or individual currents flowing through the Hall elements are applied in each step.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. Current sensor according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the number of contacts of the first sensing structure is eight, the number of contacts of the second sensing structure is eight and wherein the predefined number of steps per turn is four.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. Current sensor according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the angle &#x3b2; amounts to approximately 90&#xb0; and wherein individual amplification factors of the amplifiers and/or individual currents flowing through the Hall elements are applied in each step.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. Current sensor according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the number of contacts of the first sensing structure is eight, the number of contacts of the second sensing structure is eight and wherein the predefined number of steps per turn is four.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. Current sensor according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein
<claim-text>the number N of contacts is eight,</claim-text>
<claim-text>the first switching block is adapted to close and open the first plurality of electronic switches such that at each step all eight contacts of the first sensing structure are connected either to the at least one current source or directly or indirectly to one of the processing blocks,</claim-text>
<claim-text>the second switching block is adapted to close and open the second plurality of electronic switches such that at each step all eight contacts of the second sensing structure are connected either to the at least one current source or directly or indirectly to the other one of the processing blocks, and</claim-text>
<claim-text>the switching blocks are configured to move the first Hall element and the second Hall element along their respective ring-shaped well in turns consisting of 8 steps.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. Current sensor according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the electronic circuit comprises an integrator configured to generate an output signal proportional to the tangent function, the integrator comprising an operational amplifier, a number of M switches and resistors, and a capacitor, wherein the M switches and resistors are arranged as parallel sets of one switch and one resistor arranged in series having one terminal of the switch connected to a voltage source and one terminal of the resistor connected to an input of the operational amplifier.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. Current sensor according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the angle &#x3b2; amounts to approximately 90&#xb0; and wherein individual amplification factors of the amplifiers and/or individual currents flowing through the Hall elements are applied in each step.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. Current sensor according to <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the number of contacts of the first sensing structure is eight, the number of contacts of the second sensing structure is eight and wherein the predefined number of steps per turn is four.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. Current sensor according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the angle &#x3b2; amounts to approximately 90&#xb0; and wherein individual amplification factors of the amplifiers and/or individual currents flowing through the Hall elements are applied in each step.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. Current sensor according to <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the number of contacts of the first sensing structure is eight, the number of contacts of the second sensing structure is eight and wherein the predefined number of steps per turn is four. </claim-text>
</claim>
</claims>
</us-patent-grant>
