<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625659-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625659</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11972017</doc-number>
<date>20080110</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<us-term-of-grant>
<us-term-extension>857</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>B</subclass>
<main-group>1</main-group>
<subgroup>38</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>5</main-group>
<subgroup>16</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>375219</main-classification>
<further-classification>375296</further-classification>
<further-classification>375344</further-classification>
<further-classification>375358</further-classification>
</classification-national>
<invention-title id="d2e53">Receiver-based frequency response estimation</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5533065</doc-number>
<kind>A</kind>
<name>Blaker et al.</name>
<date>19960700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375341</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5943606</doc-number>
<kind>A</kind>
<name>Kremm et al.</name>
<date>19990800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455 121</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6240124</doc-number>
<kind>B1</kind>
<name>Wiedeman et al.</name>
<date>20010500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375130</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6507602</doc-number>
<kind>B1</kind>
<name>Dent</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375142</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7221701</doc-number>
<kind>B2</kind>
<name>Arikan et al.</name>
<date>20070500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375148</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7599420</doc-number>
<kind>B2</kind>
<name>Forenza et al.</name>
<date>20091000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375141</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2003/0179830</doc-number>
<kind>A1</kind>
<name>Eidson et al.</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375296</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2003/0203737</doc-number>
<kind>A1</kind>
<name>Jarett</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455450</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2004/0047435</doc-number>
<kind>A1</kind>
<name>Su</name>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375316</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2004/0252632</doc-number>
<kind>A1</kind>
<name>Bourdoux et al.</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370210</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2004/0259497</doc-number>
<kind>A1</kind>
<name>Dent</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455 133</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2005/0129137</doc-number>
<kind>A1</kind>
<name>Yamada et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375267</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2005/0152387</doc-number>
<kind>A1</kind>
<name>Utsunomiya et al.</name>
<date>20050700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370431</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2006/0227885</doc-number>
<kind>A1</kind>
<name>Thesling</name>
<date>20061000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2006/0293882</doc-number>
<kind>A1</kind>
<name>Giesbrecht et al.</name>
<date>20061200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>2007/0153884</doc-number>
<kind>A1</kind>
<name>Balasubramanian et al.</name>
<date>20070700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375221</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>2008/0056189</doc-number>
<kind>A1</kind>
<name>Hudson et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370330</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>2009/0103666</doc-number>
<kind>A1</kind>
<name>Zhao et al.</name>
<date>20090400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375341</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>2010/0128823</doc-number>
<kind>A1</kind>
<name>Sasaoka et al.</name>
<date>20100500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375343</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00020">
<othercit>International Search Report dated Feb. 4, 2009, International Application No. PCT/US2008/086012, filed Dec. 9, 2008, 2 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>13</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>375219</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375296</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375344</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375358</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>374219</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>374296</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>374344</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>374358</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20090180573</doc-number>
<kind>A1</kind>
<date>20090716</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Thesling</last-name>
<first-name>William H.</first-name>
<address>
<city>Hudson</city>
<state>OH</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Thesling</last-name>
<first-name>William H.</first-name>
<address>
<city>Hudson</city>
<state>OH</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Holland &#x26; Hart LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>ViaSat, Inc.</orgname>
<role>02</role>
<address>
<city>Carlsbad</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Liu</last-name>
<first-name>Shuwang</first-name>
<department>2631</department>
</primary-examiner>
<assistant-examiner>
<last-name>Ahn</last-name>
<first-name>Sung</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Methods, systems, and devices are described for estimating a frequency response using a received signal. A first spectral estimation is performed on a digitized representation of an initial version of a wireless signal. A second spectral estimation is performed on the digitized representation of the wireless signal as received from the transmitter. The first spectral estimation is compared with the second spectral estimation to estimate a frequency response. A later signal transmitted from the transmitter may be pre-distorted to compensate for the estimated frequency response. The disclosed frequency response estimation techniques may be used in a satellite communications system.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="241.38mm" wi="187.71mm" file="US08625659-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="241.22mm" wi="186.52mm" file="US08625659-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="243.16mm" wi="170.94mm" file="US08625659-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="185.84mm" wi="168.32mm" file="US08625659-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="193.80mm" wi="209.97mm" file="US08625659-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="232.41mm" wi="122.09mm" file="US08625659-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="235.46mm" wi="122.43mm" file="US08625659-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="205.06mm" wi="128.19mm" file="US08625659-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="243.25mm" wi="180.17mm" file="US08625659-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0002" num="0001">The present invention relates to wireless communications in general and, in particular, to broadband satellite communications.</p>
<p id="p-0003" num="0002">In wireless communication links, issues at the transmitter and in the channel can have an adverse impact on communication signals. Particularly in various broadband signals, there may be a varied or inconsistent frequency response. This response may result in significant tilt, ripple, and varied group delay impacting the received signal. It may, therefore, be beneficial to identify novel ways to estimate the frequency response at a receiver, so that these effects may be compensated for or otherwise addressed in later transmissions.</p>
<heading id="h-0002" level="1">SUMMARY</heading>
<p id="p-0004" num="0003">Methods, systems, and devices are described for estimating a frequency response using a received signal. In one embodiment, a first spectral estimation is performed on a digitized representation of an initial version (e.g., an &#x201c;as transmitted&#x201d; or &#x201c;pre-transmission&#x201d; version) of a wireless signal. A second spectral estimation is performed on the digitized representation of the wireless signal as received from a transmitter. The first spectral estimation is compared with the second spectral estimation to estimate a frequency response.</p>
<p id="p-0005" num="0004">In one set of embodiments, the frequency response is estimated at a receiver. A sequence of symbols made up of a digitized representation of a wireless signal received from a transmitter is buffered. The buffered sequence of symbols is decoded to recover a set of data. A version of the wireless signal is regenerated using the recovered set of data. A spectral estimate for the buffered sequence of symbols is compared to a spectral estimate for the regenerated version to estimate a frequency response. In some embodiments, a later signal transmitted from the transmitter may be pre-distorted to compensate for the estimated frequency response.</p>
<p id="p-0006" num="0005">The disclosed frequency response estimation techniques may be used in a satellite communications system. Such a system may include a subscriber terminal configured to receive a first wireless signal transmitted from a gateway device via a satellite. The subscriber terminal buffers a digitized representation of the first wireless signal, made up of a sequence of symbols. The subscriber terminal may decode the sequence of symbols to recover a set of data. The subscriber terminal may then compare a first spectral estimate generated from the buffered sequence of symbols to a second spectral estimate generated from the recovered set of data to create comparison data.</p>
<p id="p-0007" num="0006">The comparison data may be transmitted from the subscriber terminal to the gateway device. The gateway device may receive the comparison data, and pre-distort a second signal to be transmitted based in part on the comparison data.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0008" num="0007">A further understanding of the nature and advantages of the present invention may be realized by reference to the following drawings. In the appended figures, similar components or features may have the same reference label. Further, various components of the same type may be distinguished by following the reference label by a dash and a second label that distinguishes among the similar components. If only the first reference label is used in the specification, the description is applicable to any one of the similar components having the same first reference label irrespective of the second reference label.</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of a satellite communications system configured according to various embodiments of the invention.</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram of a device configured to estimate a frequency response according to various embodiments of the invention.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram of a gateway device configured according to various embodiments of the invention.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram of a subscriber terminal configured according to various embodiments of the invention.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 5</figref> is a flow diagram of a method of pre-distorting a signal based on a comparison of spectral estimations according to various embodiments of the invention.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 6</figref> is a flow diagram of a method of comparing spectral estimations using a regenerated signal according to various embodiments of the invention.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 7</figref> is a flow diagram of a method of comparing spectral estimations according to various embodiments of the invention.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 8</figref> is a flow diagram of a method of comparing spectral estimations in a satellite communications system according to various embodiments of the invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0017" num="0016">Methods, systems, software, and devices are described for estimating a frequency response using a received signal. In certain embodiments, a first spectral estimation is performed on a digitized representation of an initial version of a wireless signal. A second spectral estimation is performed on the digitized representation of the wireless signal as received from the transmitter. The first spectral estimation is compared with the second spectral estimation to estimate a frequency response. A later signal to be transmitted may be pre-distorted to compensate for the estimated frequency response.</p>
<p id="p-0018" num="0017">The following description provides example embodiments only, and is not intended to limit the scope, applicability or configuration of the invention. Rather, the ensuing description of the embodiments will provide those skilled in the art with an enabling description for implementing embodiments of the invention. Various changes may be made in the function and arrangement of elements without departing from the spirit and scope of the invention.</p>
<p id="p-0019" num="0018">Thus, various embodiments may omit, substitute, or add various procedures or components as appropriate. For instance, it should be appreciated that, in alternative embodiments, the methods may be performed in an order different from that described, and that various steps may be added, omitted, or combined. Also, features described with respect to certain embodiments may be combined in various other embodiments. Different aspects and elements of the embodiments may be combined in a similar manner.</p>
<p id="p-0020" num="0019">It should also be appreciated that the following systems, methods, devices, and software may individually or collectively be components of a larger system, wherein other procedures may take precedence over or otherwise modify their application. Also, a number of steps may be required before, after, or concurrently with the following embodiments.</p>
<p id="p-0021" num="0020">Referring first to <figref idref="DRAWINGS">FIG. 1</figref>, a block diagram illustrates an example satellite communications system <b>100</b> configured to estimate a frequency response according to various embodiments of the invention. While a satellite communications system is used to illustrate various aspects of the invention, it is worth noting that certain principles set forth herein are applicable to a number of other wireless systems, as well. The satellite communications system <b>100</b> includes a network <b>120</b>, such as the Internet, interfaced with a gateway <b>115</b> that is configured to communicate with one or more subscriber terminals <b>130</b>, via a satellite <b>105</b>.</p>
<p id="p-0022" num="0021">The network <b>120</b> may be any type of network and can include, for example, the Internet, an IP network, an intranet, a wide-area network (WAN), a local-area network (LAN), a virtual private network (VPN), the Public Switched Telephone Network (PSTN), or any other type of network supporting data communication between any devices described herein. A network <b>120</b> may include both wired and wireless connections, including optical links. The network may connect the gateway <b>115</b> with other gateways (not pictured) and/or the subscriber terminals <b>130</b>, and thus information on link conditions, frequency response, and other network metrics may be shared via satellite or other communication channels.</p>
<p id="p-0023" num="0022">The gateway <b>115</b> provides an interface between the network <b>120</b> and the subscriber terminals <b>130</b>. The gateway <b>115</b> may be configured to receive data and information directed to one or more subscriber terminals <b>130</b>, and format the data and information (e.g., using Adaptive Coding and Modulation (ACM)) for delivery downstream to the respective subscriber terminals <b>130</b> via the satellite <b>105</b>. Similarly, the gateway <b>115</b> may be configured to receive upstream signals from the satellite <b>105</b> (e.g., from one or more subscriber terminals <b>130</b>) directed to a destination in the network <b>120</b>, and can format the received signals for transmission through the network <b>120</b>.</p>
<p id="p-0024" num="0023">A device (not shown) connected to the network <b>120</b> may, therefore, communicate with one or more subscriber terminals <b>130</b> through the gateway <b>115</b>. Data and information, for example IP datagrams, may be sent from a device in the network <b>120</b> to the gateway <b>115</b>. The gateway <b>115</b> may format a Medium Access Control (MAC) frame in accordance with a physical layer definition for transmission to the satellite <b>105</b> via a downstream link <b>135</b>. A variety of physical layer transmission modulation and coding techniques may be used with certain embodiments of the invention, including those defined with the DVB-S2 and WiMAX standards. In a number of embodiments, the gateway <b>115</b> utilizes ACM in conjunction with one or more of the traffic control and shaping techniques described herein to direct traffic to the individual terminals. The gateway <b>115</b> may use a broadcast signal, with a modulation and coding (modcode) format adapted for each packet to the link conditions of the subscriber terminal <b>130</b> or set of terminals <b>130</b> to which the packet is directed (e.g., to account for the variable service link <b>150</b> conditions from the satellite <b>105</b> to each respective terminal <b>130</b>).</p>
<p id="p-0025" num="0024">The gateway <b>115</b> may use an antenna <b>110</b> to transmit the signal to the satellite <b>105</b>. In one embodiment, the antenna <b>110</b> is a parabolic reflector with high directivity in the direction of the satellite and low directivity in other directions. The frequency response (e.g., tilt, ripple, group delay variations, etc.) may occur in the gateway <b>115</b> and/or antenna <b>110</b>, or in other parts of the channel.</p>
<p id="p-0026" num="0025">The downstream signals <b>135</b>, <b>150</b> may include, for example, one (or more) single carrier signals. Each single carrier signal may be divided in time (e.g., using TDMA or other time division multiplexing techniques) into a number of sub-channels. The sub-channels may be the same size, or different sizes, and a range of options will be addressed below. In some embodiments, other channelization schemes may be integrated with or used in place of time-divided sub-channels, such as Frequency Division Multiple Access (FDMA), Orthogonal Frequency Division Multiple Access (OFDMA), Code Division Multiple Access (CDMA), or any number of hybrid or other schemes known in the art.</p>
<p id="p-0027" num="0026">The satellite <b>105</b> may process the signals received from the gateway <b>115</b> and transmit the signal from the gateway <b>115</b> to one or more subscriber terminals <b>130</b>. The frequency response (e.g., tilt, ripple, group delay variations, etc.) may occur due to atmospherics, or in the satellite. In one embodiment, the satellite <b>105</b> operates in a multi-beam mode, transmitting a number of narrow beams, each directed at a different region of the earth, allowing for frequency re-use. With such a multibeam satellite <b>105</b>, there may be any number of different signal-switching configurations on the satellite, allowing signals from a single gateway <b>115</b> to be switched between different spot beams. In one embodiment, the satellite <b>105</b> may be configured as a &#x201c;bent pipe&#x201d; satellite, wherein the satellite may frequency-convert the received carrier signals before retransmitting these signals to their destination, but otherwise perform little or no other processing on the contents of the signals. A variety of physical layer transmission modulation and coding techniques may be used by the satellite <b>105</b> in accordance with certain embodiments of the invention, including those defined with the DVB-S2 and WiMAX standards. For other embodiments, a number of configurations are possible (e.g., using LEO satellites, or using a mesh network instead of a star network), as evident to those skilled in the art.</p>
<p id="p-0028" num="0027">The service signals transmitted from the satellite <b>105</b> may be received by one or more subscriber terminals <b>130</b>, via the respective subscriber antenna <b>125</b>. In one embodiment, a subscriber terminal <b>130</b> compares a first spectral estimation on the digitized representation of the wireless signal as received with a second spectral estimation of the digitized representation of the wireless signal in &#x201c;as-transmitted&#x201d; form (e.g., estimated from a regenerated signal). The subscriber terminal <b>130</b> may compress this comparison data, and transmit it to the gateway <b>115</b>. Filter coefficients used to pre-distort the signal to compensate for the frequency response may be generated back at the gateway <b>115</b>, based on the comparison data. In other embodiments, however, the digitized representations of the wireless signal in either initial or received form may be processed to different degrees by the gateway <b>115</b> and the subscriber terminal <b>130</b>.</p>
<p id="p-0029" num="0028">For example, the gateway <b>115</b> may receive a digitized representation of a wireless signal (e.g., a version received at the subscriber terminal <b>130</b>), and use the digitized representation in determining how to pre-distort downstream signals. The gateway <b>115</b> may perform a first spectral estimation on the digitized representation of the wireless signal as received, and a second spectral estimation on the digitized representation of the initial version of the wireless signal. A comparison may be performed, and data from the comparison may be used to pre-distort the signal to compensate for a frequency response.</p>
<p id="p-0030" num="0029">In another embodiment, the gateway <b>115</b> may receive a set of filter coefficients (e.g., in compressed form) to be used to compensate for the estimated frequency response of signals transmitted downstream to one or more subscriber terminals <b>130</b>. This received data may be generated at the subscriber terminals <b>130</b>, or another intermediate device. The gateway <b>115</b> may then pre-distort a signal to be transmitted downstream using the received coefficients. Other processing distributions are possible, as well.</p>
<p id="p-0031" num="0030">Turning again to the subscriber terminal <b>130</b>, the antenna <b>125</b> and terminal <b>130</b> together may make up a very small aperture terminal (VSAT). In other embodiments, a variety of other types of antennas <b>125</b> may be used at the subscriber terminal <b>130</b> to receive the signal from the satellite <b>105</b>. Each of the subscriber terminals <b>130</b> may be a single user terminal or, alternatively, be a hub or router (not pictured) that is coupled with multiple user terminals. Each subscriber terminal <b>130</b> may be connected to consumer premises equipment (CPE) <b>160</b> (e.g., computers, local area networks, Internet appliances, wireless networks, etc.). The frequency estimation techniques described herein may be used at any subset of the subscriber terminals <b>130</b>, and data from a number of subscriber terminals <b>130</b> may be received and processed at the gateway <b>115</b>.</p>
<p id="p-0032" num="0031">In one embodiment, a subscriber terminal <b>130</b> may be configured to receive, digitize, and buffer a wireless signal transmitted from the gateway via a satellite. It may demodulate and decode a sequence of symbols of the digitized wireless signal to create a recovered set of data. The subscriber terminal <b>130</b> may regenerate a version of the signal using the recovered set of data. The subscriber terminal <b>130</b> may generate a first spectral estimate for the sequence of symbols of the digitized wireless signal, and generate a second spectral estimate for the regenerated version. It may compare the first spectral estimate and the second spectral estimate to generate comparison data. As used herein, the terms &#x201c;compare&#x201d; and &#x201c;comparison&#x201d; may include any ratio or other difference measurement (e.g., measuring phase or amplitude differences between the spectral estimate of the received signal versus the regenerated version). The subscriber terminal <b>130</b> may compress this data for transmission to the gateway. In other embodiments, more or less processing may be performed at the subscriber terminal <b>130</b> (e.g., the subscriber terminal <b>130</b> in some embodiments may simply transmit the received signal in digitized form, and allow the gateway <b>115</b> or other intermediate device to perform additional processing).</p>
<p id="p-0033" num="0032">In one embodiment, a Multi-Frequency Time-Division Multiple Access (MF-TDMA) scheme is used for upstream links <b>140</b>, <b>145</b>, allowing efficient streaming of traffic while maintaining flexibility in allocating capacity among each of the subscriber terminals <b>130</b>. A number of frequency channels are allocated which may be fixed, or which may be allocated in a more dynamic fashion. A Time Division Multiple Access (TDMA) scheme is then employed in each frequency channel. In this scheme, each frequency channel may be divided into several timeslots that can be assigned to a connection (i.e., a subscriber terminal <b>130</b>). In other embodiments, one or more of the upstream links <b>140</b>, <b>145</b> may be configured with other schemes, such as TDMA, FDMA, OFDMA, CDMA, or any number of hybrid or other schemes known in the art.</p>
<p id="p-0034" num="0033">A subscriber terminal <b>130</b> may transmit information related to the received signal and any comparison data to the gateway <b>115</b> via the satellite <b>105</b>, or via a landline or other connection. Other signal quality indicators may be used as well, such as a measured signal-to-noise ratio, an estimated signal-to-noise ratio, a bit error rate, a received power level, or any other communication link quality indicator, which may be compensated for, as well. The subscriber terminal <b>130</b> itself may measure the received signal, perform the spectral estimation, etc., or it may pass information measured or estimated to other devices.</p>
<p id="p-0035" num="0034">A subscriber terminal <b>130</b> may also transmit data and information (e.g., received signal information, spectral estimations, or comparison data) to a network <b>120</b> destination via the satellite <b>105</b> and gateway <b>115</b>. The subscriber terminal <b>130</b> may transmit the signals via the upstream uplink <b>145</b> to the satellite <b>105</b> using the antenna <b>125</b>. A subscriber terminal <b>130</b> may transmit the signals according to a variety of physical layer transmission modulation and coding techniques, including those defined with the DVB-S2 and WiMAX standards. In various embodiments, the physical layer techniques may be the same for each of the links <b>135</b>, <b>140</b>, <b>145</b>, <b>150</b>, or may be different. The gateway <b>115</b> may, in some embodiments, use this signal quality information to implement Adaptive Coding and Modulation (ACM), adjusting the modcode formats to each terminal or set of terminals based on their link conditions.</p>
<p id="p-0036" num="0035">In one embodiment, a gateway <b>115</b> includes a Satellite Modem Termination System (SMTS), which is based at least in part on the Data-Over-Cable Service Interface Standard (DOCSIS). The SMTS in this embodiment includes a bank of modulators and demodulators for processing signals to be transmitted to or signals received from subscriber terminals <b>130</b>. The SMTS in the gateway <b>115</b> performs the real-time scheduling of the signal traffic through the satellite <b>105</b>, and provides the interfaces for the connection to the network <b>120</b>. In other embodiments the scheduling operations may be performed by other components or devices employing other standards.</p>
<p id="p-0037" num="0036">In this embodiment, the subscriber terminals <b>130</b> use portions of DOCSIS-based modem circuitry, as well. Therefore, DOCSIS-based resource management, protocols, and schedulers may be used by the SMTS for efficient provisioning of messages. DOCSIS-based components may be modified, in various embodiments, to be adapted for use therein. Thus, certain embodiments may utilize certain parts of the DOCSIS specifications, while customizing others.</p>
<p id="p-0038" num="0037">While a satellite communications system <b>100</b> applicable to various embodiments of the invention is broadly set forth above, a particular embodiment of such a system <b>100</b> will now be described. In this particular example, approximately 2 gigahertz (GHz) of bandwidth is to be used, comprising four 500 megahertz (MHz) bands of contiguous spectrum. Employment of dual-circular polarization results in usable frequency comprising eight 500 MHz non-overlapping bands with 4 GHz of total usable bandwidth. This particular embodiment employs a multi-beam satellite <b>105</b> with physical separation between the gateways <b>115</b> and subscriber spot beams, and configured to permit reuse of the frequency on the various links <b>135</b>, <b>140</b>, <b>145</b>, <b>150</b>. A single Traveling Wave Tube Amplifier (TWTA) may be used for each service link spot beam on the downstream downlink, and each TWTA is operated at full saturation, or at an appropriate backoff, to maximize efficiency. A single wideband carrier signal, for example using one of the 500 MHz bands of frequency in its entirety, fills the entire bandwidth of the TWTA, thus allowing a reduced number of space hardware elements. Spotbeam size and TWTA power may be optimized to achieve maximum flux density on the earth's surface of &#x2212;118 decibel-watts per meter squared per megahertz (dbW/m<sup>2</sup>/MHz).</p>
<p id="p-0039" num="0038">Referring next to <figref idref="DRAWINGS">FIG. 2</figref>, a block diagram is shown illustrating a system <b>200</b> configured according to one embodiment of the invention. The system <b>200</b> includes a transmitter device <b>205</b>, which may be the gateway <b>115</b> of <figref idref="DRAWINGS">FIG. 1</figref>. In other embodiments, the transmitter may be any of a number of different devices configured to transmit wireless signals.</p>
<p id="p-0040" num="0039">The system <b>200</b> also includes a receiver device <b>210</b>, which may be any device configured to receive and process communication signals. The receiver device <b>210</b> may be a subscriber terminal <b>130</b> of <figref idref="DRAWINGS">FIG. 1</figref>, configured to be used by a subscriber, or configured as a terminal dedicated to measurement of the frequency response. In other embodiments, the receiver device <b>210</b> may be the gateway <b>115</b> itself, configured to receive and measure its own signals via the satellite. In still other embodiments, the receiver device <b>210</b> may receive processed signals forwarded from an intermediate receiver (e.g., to measure the frequency response between a transmitter <b>205</b> and an intermediate device).</p>
<p id="p-0041" num="0040">In one embodiment, the receiver device <b>210</b> includes a receiver unit <b>215</b>, a spectral estimation unit <b>220</b>, and a transmitter unit <b>225</b>. These units of the device <b>210</b> may, individually or collectively, be implemented with one or more Application Specific Integrated Circuits (ASICs) adapted to perform some or all of the applicable functions in hardware. Alternatively, the functions may be performed by one or more other processing units (or cores), on one or more integrated circuits. In other embodiments, other types of integrated circuits may be used (e.g., Structured/Platform ASICs, Field Programmable Gate Arrays (FPGAs) and other Semi-Custom ICs), which may be programmed in any manner known in the art. The functions of each unit may also be implemented, in whole or in part, with instructions embodied in a memory, formatted to be executed by one or more general or application-specific processors.</p>
<p id="p-0042" num="0041">The receiver unit <b>215</b> may be configured to store a digitized representation of the wireless signal received from the transmitter <b>205</b>, the stored signal made up of a sequence of symbols. The receiver unit <b>215</b> may be configured to generate the signal by digitizing a received wireless signal transmitted from the transmitter <b>205</b>. Alternatively, the receiver unit <b>215</b> may receive and store an already digitized version of the wireless signal (e.g., when the digitized version is transmitted from an intermediate device).</p>
<p id="p-0043" num="0042">The spectral estimation unit <b>220</b> may generate a first spectral estimate for a signal representative of the stored sequence of symbols. The spectral estimation unit <b>220</b> may also generate a second spectral estimate from a signal representative of the original data. This original data may be recovered by decoding the stored sequence of symbols to recover a set of data, and regenerating a version of the wireless signal using the recovered set of data. In other embodiments, the recovered set of data and/or the pre-transmission signal may be generated in other ways.</p>
<p id="p-0044" num="0043">The first spectral estimate for the received signal may be obtained by using a fast Fourier transform to identify the signal amplitudes and/or phases at each of a number of analysis frequencies. The second spectral estimate, for the signal representative of the original data, may similarly be obtained by using a fast Fourier transform to identify the signal amplitudes and/or phases at each of a number of analysis frequencies. Other methods of spectral estimation (e.g., other forms of Fourier analysis) may be used, as well.</p>
<p id="p-0045" num="0044">The spectral estimation unit <b>220</b> may compare the first spectral estimate to the second spectral estimate to generate comparison data. The comparison data may be one or more measurements of amplitude ratio and/or phase differences between the first spectral estimate and the second spectral estimate. As generally noted above, &#x201c;comparison data&#x201d; may include any ratio or other difference measurement. The transmitter unit <b>225</b> may transmit the comparison data (e.g., from the subscriber terminal <b>130</b> to the gateway <b>115</b>). Alternatively, other components of the device (not shown) may use the comparison data in determining how to pre-distort a signal to be transmitted from the transmitter unit <b>225</b> (e.g., if a gateway <b>115</b> is performing the spectral estimation).</p>
<p id="p-0046" num="0045">Referring next to <figref idref="DRAWINGS">FIG. 3</figref>, a block diagram is shown illustrating a gateway <b>115</b>-<i>a </i>configured according to one embodiment of the invention. This may be the gateway described with reference to <figref idref="DRAWINGS">FIG. 1</figref>. The gateway <b>115</b>-<i>a </i>includes a receiver unit <b>305</b>, a data processing unit <b>310</b>, an inversion processing unit <b>320</b>, look-up table <b>325</b>, and a transmitter unit <b>335</b>. These units of the device <b>115</b>-<i>a </i>may, individually or collectively, be implemented with one or more Application Specific Integrated Circuits (ASICs) adapted to perform some or all of the applicable functions in hardware. Alternatively, the functions may be performed by one or more other processing units (or cores), on one or more integrated circuits. In other embodiments, other types of integrated circuits may be used (e.g., Structured/Platform ASICs, Field Programmable Gate Arrays (FPGAs) and other Semi-Custom ICs), which may be programmed in any manner known in the art. The functions of each unit may also be implemented, in whole or in part, with instructions embodied in a memory in the gateway <b>115</b>-<i>a</i>, formatted to be executed by one or more general or application-specific processors.</p>
<p id="p-0047" num="0046">In one embodiment, the frequency response estimation may be initiated when the transmitter unit <b>335</b> transmits data received from the data processing unit <b>310</b>. The signal may be transmitted through antenna <b>110</b>-<i>a </i>to a satellite (e.g., satellite <b>105</b>), where it then may be processed and sent to one or more subscriber terminals <b>130</b>. During the transmission process, the gateway <b>115</b>-<i>a</i>, antenna <b>110</b>-<i>a</i>, atmospherics, the satellite, or other sources may cause signal degradation. However, the impact may differ at different frequencies, and may result in tilt, ripple, or varying phase shifts.</p>
<p id="p-0048" num="0047">The gateway <b>115</b>-<i>a </i>may later receive frequency response information from one or more of the subscriber terminals <b>130</b>, and use the components specified above to compensate for the estimated frequency response. Therefore, it may be worthwhile to turn temporarily to an example of the processing performed at a subscriber terminal <b>130</b>.</p>
<p id="p-0049" num="0048">Referring to <figref idref="DRAWINGS">FIG. 4</figref>, a block diagram <b>400</b> of a subscriber terminal <b>130</b>-<i>b </i>is shown which may receive and process the transmitted signal sent from the gateway <b>115</b>-<i>a </i>via a satellite. This may be a subscriber terminal <b>130</b> described with reference to <figref idref="DRAWINGS">FIG. 1</figref>. The subscriber terminal may be a terminal that is in use by a customer, or may be a dedicated frequency response estimation terminal controlled by a service provider. Other hybrid or multi-function terminals may be implemented, as well.</p>
<p id="p-0050" num="0049">In the illustrated embodiment, the subscriber terminal <b>130</b>-<i>b </i>includes a receiver unit <b>405</b>, a buffer unit <b>408</b>, a decoder unit <b>410</b>, a regeneration unit <b>415</b>, a spectral estimation unit <b>420</b>, and a transmitter unit <b>425</b>. These units of the subscriber terminal <b>130</b>-<i>b </i>may, individually or collectively, be implemented in software. They may, in the alternative, be implemented with one or more Application Specific Integrated Circuits (ASICs) adapted to perform some or all of the applicable functions in hardware. The functions may, in the alternative, be performed by one or more other processing units (or cores), on one or more integrated circuits. In other embodiments, other types of integrated circuits may be used (e.g., Structured/Platform ASICs, Field Programmable Gate Arrays (FPGAs) and other Semi-Custom ICs), which may be programmed in any manner known in the art. The functions of each unit may also be implemented, in whole or in part, with instructions embodied in a memory in the subscriber terminal <b>130</b>-<i>b </i>, formatted to be executed by one or more general or application-specific processors.</p>
<p id="p-0051" num="0050">The receiver unit <b>405</b> may be configured to receive, digitize, and store the wireless signal transmitted from the gateway <b>115</b>-<i>a</i>, and may further be configured to demodulate the digitized signal. The receiver unit <b>405</b> may also include an equalizer (not shown) to at least partially remove the frequency response due to the cabling from the subscriber terminal antenna <b>125</b> to the subscriber terminal <b>130</b>.</p>
<p id="p-0052" num="0051">The decoder unit <b>410</b> may be configured to decode a sequence of symbols of the digitized wireless signal to create a recovered set of data. The sequence of symbols may be a frame, or may be a series of continuous symbols. A CRC or other error check may be performed on the sequence to ensure that the data of interest is error free. The regeneration unit <b>415</b> may be configured to regenerate a version of the transmitted signal using the recovered set of data. The regeneration unit <b>415</b> may perform similar processing to the data processing unit <b>310</b> and transmitter unit <b>335</b> of the gateway <b>115</b>-<i>a</i>, to produce a signal that corresponds to the ideal signal that should be generated at the output of the transmitter unit <b>335</b>. Accordingly, for error-free recovered data, the regenerated version may be the same as an ideal version of the signal that should be output by the transmitter unit <b>335</b>. This regenerated version may be referred to herein as a signal in &#x201c;pre-transmission form.&#x201d;</p>
<p id="p-0053" num="0052">The spectral estimation unit <b>420</b> may be configured to generate a first spectral estimate for the stored wireless signal making up the sequence of symbols. The spectral estimation unit <b>420</b> may also generate a second spectral estimate for the regenerated version. As noted above, the spectral estimates may each be obtained by using a fast Fourier transform to identify the signal amplitudes and/or phases at each of a number of analysis frequencies. The spectral estimation unit <b>420</b> may compare the first spectral estimate and the second spectral estimate to generate comparison data. The comparison data may include measurements of phase and/or amplitude differences between the first spectral estimate and the second spectral estimate. A transmitter unit <b>425</b> may be configured to transmit the comparison data and other data related to the received and/or generated signals.</p>
<p id="p-0054" num="0053">The subscriber terminal <b>130</b>-<i>b </i>may be configured to transmit the comparison data and other data related to the received and/or generated signals via the satellite, or via a landline (e.g., the network). The comparison and other data, or any subset thereof, may be transmitted to the gateway <b>115</b>-<i>a</i>, or an intermediate device, for further processing. In one embodiment, the data may be transmitted in a pad portion of a data packet transmitted upstream. In another embodiment, the data may be transmitted only when there is a threshold level of inactivity in the channel, so as not to unnecessarily take up bandwidth. Thus, the comparison or other data may be assigned a range of low priority options for upstream transmission.</p>
<p id="p-0055" num="0054">Turning back to <figref idref="DRAWINGS">FIG. 3</figref>, assume that the comparison or other data transmitted by the subscriber terminal <b>130</b>-<i>b </i>is received by the receiver unit <b>305</b> of the gateway <b>115</b>-<i>a</i>. As will be discussed below, spectral comparisons and other data may be received from a number of subscriber terminals <b>130</b>. It is also worth noting that a gateway <b>115</b>-<i>a </i>that is within a spot beam for one or more transmitted signals may (but need not) be configured to measure a frequency response itself. In some embodiments, a gateway <b>115</b>-<i>a </i>may perform spectral estimations and also receive spectral estimation data from subscriber terminals (e.g., when a gateway <b>115</b>-<i>a </i>is located within the areas covered by one or more spot beams, but not others). In still other embodiments, a gateway <b>115</b>-<i>a </i>may receive and process comparison data from more that one subscriber terminal <b>130</b> in a given spot beam (perhaps averaging the results). Also, note that measurements for different spot beams may be separated, and separate processing may be performed for each spot beam.</p>
<p id="p-0056" num="0055">Assume, for purposes of example, that the gateway <b>115</b>-<i>a </i>receives comparison data from subscriber terminal <b>130</b>-<i>b</i>. The inversion processing unit <b>320</b> may analyze and process the received comparison data, and control a filter unit <b>330</b> in the transmitter unit <b>335</b> to filter an outgoing signal to compensate for the frequency response (e.g., tilt, ripple, varied group delay, etc.). This filtering need not correct the entire response at one time, but may proceed in a step-by-step approach (e.g., using a method akin to a control loop to adaptively correct for the frequency response in a more stable, controlled manner). Thus, the inversion processing unit <b>320</b> may estimate a frequency response of channel using the comparison of spectral estimations, and generate filter data to produce an inverse filter effect. The received comparison data may be a series of ratios for a number of FFT analysis frequencies. The inversion processing unit may access a look-up table <b>325</b> and use the ratios to identify a set of filter coefficients to be used to perform the pre-distortion. The filter coefficients may be forwarded to the filter unit <b>330</b>. The filter unit <b>330</b> may use the filter coefficients to filter a signal produced by a signal processing unit <b>315</b> of the transmitter unit <b>335</b>, thereby pre-distorting the signal to counteract the frequency response. A variety of other pre-distortion techniques may be used, as well.</p>
<p id="p-0057" num="0056">Consider, for example, a set of data produced by the data processing unit <b>310</b> of the gateway <b>115</b>-<i>a</i>, to be broadcast downstream after the spectral estimations have been performed and compared. The set of data may be forwarded to the signal processing unit <b>315</b>. The filter unit <b>330</b> may filter the later signal produced from the set of data, modifying the amplitude and/or phase of the spectral components based on the estimated frequency response. The frequency response may be a linear or nonlinear output.</p>
<p id="p-0058" num="0057">It is worth noting that the gateway <b>115</b>-<i>a </i>may receive a number of spectral estimate comparisons from different subscriber terminals <b>130</b>. The pre-distortion may be based on an average of the spectral estimate comparisons. However, additional spectral estimate comparisons may be excluded when a signal to be filtered is not directed at such subscriber terminals <b>130</b>.</p>
<p id="p-0059" num="0058">Turning to <figref idref="DRAWINGS">FIG. 5</figref>, a flowchart is shown illustrating a method <b>500</b> for determining for pre-distorting a signal based on a comparison of spectral estimates. The method may be performed, for example, by any combination of the subscriber terminal <b>130</b> and/or gateway <b>115</b> described with reference to <figref idref="DRAWINGS">FIGS. 1</figref>, <b>3</b>, or <b>4</b>.</p>
<p id="p-0060" num="0059">At block <b>505</b>, a digitized signal including a sequence of symbols received from a transmitter is buffered. At block <b>510</b>, the digitized sequence of symbols is decoded to recover a set of data. At block <b>515</b>, a spectral estimate for the buffered sequence of symbols is compared to a spectral estimate of data generated from the recovered set of data. At block <b>520</b>, a signal to be transmitted from the transmitter is pre-distorted based at least in part on the comparison of spectral estimations.</p>
<p id="p-0061" num="0060">Referring to <figref idref="DRAWINGS">FIG. 6</figref>, a flowchart is shown illustrating a method <b>600</b> for comparing spectral estimates to determine a frequency response. The method may be performed, for example, by the subscriber terminal <b>130</b> or gateway <b>115</b> described with reference to <figref idref="DRAWINGS">FIGS. 1</figref>, <b>3</b>, or <b>4</b>.</p>
<p id="p-0062" num="0061">At block <b>605</b>, a digitized representation of a wireless signal received from a transmitter is buffered, the digitized representation made up of a sequence of symbols. At block <b>610</b>, the buffered sequence of symbols is decoded to recover a set of data. At block <b>615</b>, a version of the wireless signal is regenerated using the recovered set of data. At block <b>620</b>, a spectral estimate for the buffered sequence of symbols is compared to a spectral estimate for the regenerated version of the first signal to estimate a frequency response, the frequency response including measurements of amplitude and phase differences.</p>
<p id="p-0063" num="0062">Referring next to <figref idref="DRAWINGS">FIG. 7</figref>, a flowchart is shown illustrating a method <b>700</b> for generating and comparing spectral estimates to determine a frequency response. The method may be performed, for example, by the subscriber terminal <b>130</b> or gateway <b>115</b> described with reference to <figref idref="DRAWINGS">FIGS. 1</figref>, <b>3</b>, or <b>4</b>.</p>
<p id="p-0064" num="0063">At block <b>705</b>, a first spectral estimation of a first digitized representation of a wireless signal received from a transmitter is performed. At block <b>710</b>, a second spectral estimation is performed of a second digitized representation of the wireless signal, the second digitized representation approximating the signal before transmission from the transmitter. At block <b>715</b>, the first spectral estimation is compared with the second spectral estimation to estimate a frequency response.</p>
<p id="p-0065" num="0064">Referring next to <figref idref="DRAWINGS">FIG. 8</figref>, a flowchart is shown illustrating a method <b>800</b> for modifying a signal based on a comparison of spectral estimates. The method may be performed, for example, by the subscriber terminal <b>130</b> and gateway <b>115</b> of the system <b>100</b> described with reference to <figref idref="DRAWINGS">FIG. 1</figref>, or in other satellite communications systems.</p>
<p id="p-0066" num="0065">At block <b>805</b>, a wireless communications signal is received at a subscriber terminal from a gateway device via a satellite. At block <b>810</b>, a digitized representation of the received signal is buffered, the digitized representation including a sequence of symbols received from a transmitter. At block <b>815</b>, the digitized sequence of symbols is decoded to recover a set of data.</p>
<p id="p-0067" num="0066">At block <b>820</b>, a spectral estimate for the buffered sequence of symbols is compared to a spectral estimate of data generated from the recovered set of data. At block <b>825</b>, a first set of comparison data is generated, including one or more measurements of amplitude differences between the spectral estimates. At block <b>830</b>, a second set of comparison data is generated, including one or more measurements of phase differences between the spectral estimates. At block <b>835</b>, the first and second sets of comparison data are transmitted from the subscriber terminal. At block <b>840</b>, the first and second sets of comparison data are received at the gateway device. At block <b>845</b>, a second signal to be transmitted from the gateway is filtered to modify an amplitude and phase of a subset of spectral components of the second signal, the modification based at least in part on the received comparison data.</p>
<p id="p-0068" num="0067">It should be noted that the methods, systems and devices discussed above are intended merely to be examples. It must be stressed that various embodiments may omit, substitute, or add various procedures or components as appropriate. For instance, it should be appreciated that, in alternative embodiments, the methods may be performed in an order different from that described, and that various steps may be added, omitted, or combined. Also, features described with respect to certain embodiments may be combined in various other embodiments. Different aspects and elements of the embodiments may be combined in a similar manner. Also, it should be emphasized that technology evolves and, thus, many of the elements are exemplary in nature and should not be interpreted to limit the scope of the invention.</p>
<p id="p-0069" num="0068">Specific details are given in the description to provide a thorough understanding of the embodiments. However, it will be understood by one of ordinary skill in the art that the embodiments may be practiced without these specific details. For example, well-known circuits, processes, algorithms, structures, and techniques have been shown without unnecessary detail in order to avoid obscuring the embodiments.</p>
<p id="p-0070" num="0069">Also, it is noted that the embodiments may be described as a process which is depicted as a flow diagram or block diagram. Although each may describe the operations as a sequential process, many of the operations can be performed in parallel or concurrently. In addition, the order of the operations may be rearranged. A process may have additional steps not included in the figures.</p>
<p id="p-0071" num="0070">Moreover, as disclosed herein, the term &#x201c;memory&#x201d; or &#x201c;memory unit&#x201d; may represent one or more devices for storing data, including read-only memory (ROM), random access memory (RAM), magnetic RAM, core memory, magnetic disk storage mediums, optical storage mediums, flash memory devices or other computer-readable mediums for storing information. The term &#x201c;computer-readable medium&#x201d; includes, but is not limited to, portable or fixed storage devices, optical storage devices, wireless channels, a sim card, other smart cards, and various other mediums capable of storing, containing, or carrying instructions or data.</p>
<p id="p-0072" num="0071">Furthermore, embodiments may be implemented by hardware, software, firmware, middleware, microcode, hardware description languages, or any combination thereof. When implemented in software, firmware, middleware, or microcode, the program code or code segments to perform the necessary tasks may be stored in a computer-readable medium such as a storage medium. Processors may perform the necessary tasks.</p>
<p id="p-0073" num="0072">Having described several embodiments, it will be recognized by those of skill in the art that various modifications, alternative constructions, and equivalents may be used without departing from the spirit of the invention. For example, the above elements may merely be a component of a larger system, wherein other rules may take precedence over or otherwise modify the application of the invention. Also, a number of steps may be undertaken before, during, or after the above elements are considered. Accordingly, the above description should not be taken as limiting the scope of the invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A system for pre-distorting a signal, the system comprising:
<claim-text>a plurality of subscriber terminals located within a subscriber spot beam of a multi-beam satellite, each of the plurality of subscriber terminals configured to:
<claim-text>receive a first spot beam signal transmitted from a gateway device via the multi-beam satellite;</claim-text>
<claim-text>buffer a digitized representation of the first wireless spot beam signal comprising a sequence of symbols;</claim-text>
<claim-text>decode the sequence of symbols to recover a set of data;</claim-text>
<claim-text>regenerate a version of the transmitted first wireless spot beam signal from the recovered set of data;</claim-text>
<claim-text>compare a first spectral estimate for the buffered sequence of symbols to a second spectral estimate generated from the regenerated version of the first spot beam signal to create comparison data, the spectral estimates identifying signal amplitudes and phases at each of a plurality of analysis frequencies; and</claim-text>
<claim-text>transmit the comparison data to the gateway device; and</claim-text>
</claim-text>
<claim-text>the gateway device, in communication with the plurality of subscriber terminals via the multi-beam satellite, and configured to:
<claim-text>receive the comparison data from of the plurality of subscriber terminals;</claim-text>
<claim-text>schedule transmissions to a first subset of subscriber terminals of the plurality of subscriber terminals in a second spot beam signal to be transmitted to the plurality of subscriber terminals; and</claim-text>
<claim-text>pre-distort the second spot beam signal based at least in part on the received comparison data from the first subset of subscriber terminals to compensate for frequency responses of signals transmitted to the first subset plurality of subscriber terminals, and wherein the pre-distortion is based on an average of received comparison data and excludes the received comparison data from a second subset of subscriber terminals of the plurality of subscriber terminals when the scheduled transmissions of the second spot beam signal are not directed at the second subset of subscriber terminals.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each of the plurality of subscriber terminals are configured to generate comparison data comprising one or more measurements of amplitude differences between the first spectral estimate and the second spectral estimate.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each of the plurality of subscriber terminals are configured to generate comparison data comprising one or more measurements of phase differences between the first spectral estimate and the second spectral estimate.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the gateway device is configured to pre-distort the second spot beam signal by filtering the second spot beam signal to modify an amplitude and phase of a subset of spectral components of the second spot beam signal.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each of the plurality of subscriber terminals are configured to transmit the comparison data to the gateway device via a landline.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each of the plurality of subscriber terminals are configured to transmit the comparison data to the gateway device via the satellite in a pad portion of a data packet.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the gateway device is not located within the subscriber spot beam.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A method of pre-distorting a signal at a gateway device in communication with a plurality of subscriber terminals located within a subscriber spot beam of a multi-beam satellite, the method comprising:
<claim-text>receiving spectral comparison data from the plurality of subscriber terminals, wherein the spectral comparison data from each subscriber terminal of the plurality of subscriber terminals is generated by comparing a spectral estimate for a buffered digitized sequence of symbols of a first spot beam signal received at the each subscriber terminal to a spectral estimate of data generated from a regenerated version of the sequence of symbols, the regenerated version of the sequence of symbols regenerated from a recovered set of data generated by decoding the buffered digitized sequence of symbols, the spectral estimates identifying signal amplitudes and phases at each of a plurality of analysis frequencies;</claim-text>
<claim-text>scheduling transmissions to a first subset of subscriber terminals of the plurality of subscriber terminals in a second wireless spot beam signal to be transmitted to the plurality of subscriber terminals; and</claim-text>
<claim-text>pre-distorting the second spot beam signal based at least in part on the received spectral comparison data from the first subset of subscriber terminals to compensate for frequency responses of signals transmitted to the first subset of subscriber terminals, and wherein the pre-distorting is based on an average of received spectral comparison data and excludes the received spectral comparison data from a second subset of subscriber terminals of the plurality of subscriber terminals when the scheduled transmissions of the second spot beam signal are not directed at the second subset of subscriber terminals.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, further comprising:
<claim-text>generating the spectral estimate for the buffered digitized sequence of symbols; and</claim-text>
<claim-text>generating the spectral estimate of data generated from the recovered set of data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein, the spectral estimate for the buffered digitized sequence of symbols and the spectral estimate of data from the recovered set of data are each generated using a fast Fourier transform.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the pre-distorting step comprises:
<claim-text>filtering the second spot beam signal to be transmitted from the gateway device to modify an amplitude of at least a subset of spectral components of the second spot beam signal to be transmitted.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, further comprising:
<claim-text>estimating a frequency response of channels of the first spot beam using the comparison of spectral estimations.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, further comprising:
<claim-text>determining that the frequency response comprises a nonlinear output; and</claim-text>
<claim-text>identifying pre-distortion filter coefficients using a look-up table, wherein the identified pre-distortion filter coefficients are used in the pre-distorting step.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
