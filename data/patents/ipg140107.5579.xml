<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626679-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626679</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12869242</doc-number>
<date>20100826</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>KR</country>
<doc-number>10-2005-0050273</doc-number>
<date>20050613</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>430</us-term-extension>
<disclaimer>
<text>This patent is subject to a terminal disclaimer.</text>
</disclaimer>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>18</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>706 12</main-classification>
<further-classification>320132</further-classification>
<further-classification>324426</further-classification>
<further-classification>324427</further-classification>
<further-classification>324429</further-classification>
<further-classification>324431</further-classification>
<further-classification>702 63</further-classification>
<further-classification>702 64</further-classification>
<further-classification>702193</further-classification>
</classification-national>
<invention-title id="d2e73">Apparatus and method for estimating state of charge in battery using fuzzy algorithm implemented as neural network</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5714866</doc-number>
<kind>A</kind>
<name>S et al.</name>
<date>19980200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6011379</doc-number>
<kind>A</kind>
<name>Singh et al.</name>
<date>20000100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6064180</doc-number>
<kind>A</kind>
<name>Sullivan et al.</name>
<date>20000500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6534954</doc-number>
<kind>B1</kind>
<name>Plett</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6534992</doc-number>
<kind>B2</kind>
<name>Meissner et al.</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7076350</doc-number>
<kind>B2</kind>
<name>Alvarez-Troncoso et al.</name>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2001/0033169</doc-number>
<kind>A1</kind>
<name>Singh et al.</name>
<date>20011000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2003/0184307</doc-number>
<kind>A1</kind>
<name>Kozlowski et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2004/0253489</doc-number>
<kind>A1</kind>
<name>Horgan et al.</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2005/0194936</doc-number>
<kind>A1</kind>
<name>Cho</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>JP</country>
<doc-number>06240318</doc-number>
<kind>A</kind>
<date>19940800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>JP</country>
<doc-number>2003-168101</doc-number>
<date>20030600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>JP</country>
<doc-number>2004-333472</doc-number>
<date>20041100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>&#x201c;Battery state-of-charge (SOC) estimation using adaptive neuro-fuzzy inference system (ANFIS)&#x201d;, C.H. Cai, C.Y. Liu, Fuzzy Systems, 2003, the 12th IEEE International Conference on May 25-28, 2003, vol. 2, pp. 1068-1073.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00015">
<othercit>&#x201c;Capacity and Battery Ratings&#x201d;, by Engineers Edge, 2000, 1 page. http://www.engineersedge.com/battery/capacity<sub>&#x2014;</sub>battery<sub>&#x2014;</sub>ratings.htm.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00016">
<othercit>&#x201c;Methods for state-of-charge determination and their applications&#x201d;, Sabine Piler, Marion Perrin and Andreas Jossen, Journal of Power Sources, vol. 96, Issue 1, Jun. 1, 2001, Proceedings of the 22nd International Power Sources Symposium, pp. 113-120.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00017">
<othercit>&#x201c;Soft computing and fuzzy logic&#x201d;, L.A. Zadeh, Software, IEEE Nov. 1994, vol. 11, Issue 6, pp. 48-56.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00018">
<othercit>Soft-Computing&#x2014;Concepts &#x26; Applications&#x2014;Section 3; &#x201c;The roles of fuzzy logic and soft computing in the conception, design and deployment of intelligent systems&#x201d;, L.A. Zadeh, Lecture Notes in Computer Science, vol. 1198, pp. 181-190.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>6</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>706 12</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>320132</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>324426</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>324427</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>324429</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>324431</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>702 63</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>702 64</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>702193</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>2</number-of-drawing-sheets>
<number-of-figures>3</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>11452007</doc-number>
<date>20060613</date>
</document-id>
<parent-status>ABANDONED</parent-status>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>12869242</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20100324848</doc-number>
<kind>A1</kind>
<date>20101223</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Cho</last-name>
<first-name>Il</first-name>
<address>
<city>Daejeon</city>
<country>KR</country>
</address>
</addressbook>
<residence>
<country>KR</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Kim</last-name>
<first-name>Do Youn</first-name>
<address>
<city>Daejeon</city>
<country>KR</country>
</address>
</addressbook>
<residence>
<country>KR</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Jung</last-name>
<first-name>Do Yang</first-name>
<address>
<city>Gyeonggi-do</city>
<country>KR</country>
</address>
</addressbook>
<residence>
<country>KR</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Cho</last-name>
<first-name>Il</first-name>
<address>
<city>Daejeon</city>
<country>KR</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Kim</last-name>
<first-name>Do Youn</first-name>
<address>
<city>Daejeon</city>
<country>KR</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Jung</last-name>
<first-name>Do Yang</first-name>
<address>
<city>Gyeonggi-do</city>
<country>KR</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Birch, Stewart, Kolasch &#x26; Birch, LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>LG Chem, Ltd.</orgname>
<role>03</role>
<address>
<city>Seoul</city>
<country>KR</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Chaki</last-name>
<first-name>Kakali</first-name>
<department>2122</department>
</primary-examiner>
<assistant-examiner>
<last-name>Tran</last-name>
<first-name>Mai T</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Disclosed is an apparatus and method for estimating a state of charge (SOC) in a battery, the apparatus including a detector unit; a soft computing unit for calculating and outputting a battery SOC estimation value by processing a current, a voltage and a temperature detected by the detector unit using a computing algorithm, which is a fuzzy algorithm implemented as a neural network, the soft computing unit storing the battery SOC estimation value in a memory, where the fuzzy algorithm has a form expressed as F=&#x3a6;(P,X)W, where &#x3a6; is one of a fuzzy radial function, a radial basis function, and an activation function in the neural network, P is a learning parameter, X is an input, and W is a weight to be updated during learning.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="110.41mm" wi="160.10mm" file="US08626679-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="190.58mm" wi="163.41mm" file="US08626679-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="146.81mm" wi="154.26mm" file="US08626679-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application is a continuation of pending U.S. patent application Ser. No. 11/452,007, filed on Jun. 13, 2006, which claims the benefit of the filing date of Korean Patent Application No. 10-2005-50273, filed on Jun. 13, 2005, in the Korean Intellectual Property Office, the contents of which are incorporated herein by reference in its entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of Invention</p>
<p id="p-0004" num="0003">The present invention relates to an apparatus and method for estimating a state of charge (SOC) in a battery, and more particularly to an apparatus and method for estimating an SOC in a battery, using fusion type soft computing.</p>
<p id="p-0005" num="0004">2. Description of Related Art</p>
<p id="p-0006" num="0005">In general, a state of charge (SOC) in a battery has a nonlinear characteristic. Hence, it is difficult to accurately detect the battery SOC in practice. As a result, the detection of the battery SOC depends on its estimation method.</p>
<p id="p-0007" num="0006">Examples of a conventional estimation method of the battery SOC include an amp-hour (Ah) counting method, an open circuit voltage (OCV) measuring method, a battery impedance measuring method, and so on.</p>
<p id="p-0008" num="0007">The Ah counting method is for detecting the SOC by detecting a real capacity of the battery. However, the Ah counting method is greatly influenced by errors or precision of sensors detecting the real capacity, thereby having a great error.</p>
<p id="p-0009" num="0008">The OCV measuring method is for reading out open voltage of the battery in an idle state, and estimating an SOC from the read open voltage. This method has problems in that it can be used only in the idle state, and it is greatly influenced by external factors such as temperature.</p>
<p id="p-0010" num="0009">The battery impedance measuring method is for estimating an SOC of the battery from an impedance measurement value of the battery. This method has a problem in that the precision of an estimation value is lowered because it is greatly influenced by temperature.</p>
<p id="p-0011" num="0010">Mobile phones, laptop computers etc. used in a low C-rate environment do not require accurate detection of the battery SOC in view of their characteristics. In these products, the battery SOC is readily estimated by the Ah counting method, the OCV measuring method, or so on. Here, the term C-rate refers to magnitude of the peak current that can be output in a moment.</p>
<p id="p-0012" num="0011">However, in the case of hybrid electrical vehicles (HEVs), electrical vehicles (EVs) etc. used in a high C-rate environment, accurate information on the battery SOC is required like the fuel gauge of an ordinary vehicle, while a degree of non-linearity of the battery SOC is enhanced. Hence, the conventional methods for estimating the battery SOC have difficulty in estimating the battery SOC in these products.</p>
<heading id="h-0003" level="1">BRIEF SUMMARY OF THE INVENTION</heading>
<p id="p-0013" num="0012">It is an objective of the present invention to provide an apparatus and method for estimating a state of charge (SOC) in a battery, in which the battery SOC is estimated using a fusion type soft computing algorithm, thereby accurately estimating the battery SOC in a high C-rate environment.</p>
<p id="p-0014" num="0013">According to an aspect of the present invention, there is provided an apparatus for estimating a state of charge (SOC) in a battery. The apparatus includes a detector unit including a current detector for detecting current from a battery cell, a voltage detector for detecting voltage from the battery cell, and a temperature detector for detecting temperature from the battery cell; a soft computing unit for calculating and outputting a battery SOC estimation value by processing the current, the voltage and the temperature detected by the detector unit using a computing algorithm, which is a fuzzy algorithm implemented as a neural network, the soft computing unit storing the battery SOC estimation value in a memory; and a comparator operably coupled to the soft computing unit and a charger-discharger, discharger being further operably coupled to the battery cell, the comparator comparing the battery SOC estimation value with a predetermined target value that varies with charging or discharging of the battery, the comparator further providing an algorithm update signal to the soft computing unit to update the computing algorithm based on a learning algorithm when a difference between the battery SOC estimation value and the predetermined target value is outside of a critical range, wherein the fuzzy algorithm has a form expressed as F=&#x3a6;(P,X)W, where &#x3a6; is one of a fuzzy radial function, a radial basis function, and an activation function in the neural network, P is a learning parameter, X is an input, and W is a weight to be updated during learning.</p>
<p id="p-0015" num="0014">Further, the soft computing unit may combine the neural network algorithm with any one of a fuzzy algorithm, a genetic algorithm (GA), a cellular automata (CA) algorithm, an immune system algorithm, and a rough-set algorithm, and thereby adaptively update the parameters of the neural network algorithm.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of an apparatus for estimating a state of charge (SOC) in a battery in accordance with an embodiment of the present invention.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 2</figref> illustrates a construction of a fuzzy neural network in the soft computing unit of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart of a method for estimating an SOC in a battery in accordance with an embodiment of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0019" num="0018">Reference will now be made in detail to the exemplary embodiments of the present invention.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of an apparatus for estimating a state of charge (SOC) in a battery in accordance with an embodiment of the present invention. Referring to <figref idref="DRAWINGS">FIG. 1</figref>, the SOC estimation apparatus is comprised of a battery cell <b>10</b>, a detector unit <b>11</b>, a soft computing unit <b>20</b>, a charger-discharger <b>30</b>, and a comparator <b>40</b>.</p>
<p id="p-0021" num="0020">The detector unit <b>11</b> includes a current detector <b>12</b>, a voltage detector <b>14</b>, and a temperature detector <b>16</b>. The current detector <b>12</b> detects current i from the battery cell <b>10</b> at a point of time k. The voltage detector <b>14</b> detects voltage v from the battery cell <b>10</b> at a point of time k. The temperature detector <b>16</b> detects temperature T from the battery cell <b>10</b> at a point of time k.</p>
<p id="p-0022" num="0021">Soft computing is generically called a function approximator made by engineeringly modeling brain information transfer, reasoning, learning, genetic, and immune systems of a living thing, and is widely used in control and identification fields throughout the industry. Here, the identification refers to capturing input/output characteristics of a system.</p>
<p id="p-0023" num="0022">A soft computing algorithm is an algorithm capable of performing identification and control of a specific system while self-organizing parameters only with input/output information although accurate information and model are not known.</p>
<p id="p-0024" num="0023">However, the problem is that soft computing techniques each involve different drawbacks. In other words, the battery SOC estimation using any soft computing technique is relatively accurate only in a specific environment, but not in another environment.</p>
<p id="p-0025" num="0024">In order to solve the above-mentioned problem and to make an approximation of function more accurate, the soft computing unit <b>20</b> estimates the battery SOC, using the fusion type soft computing.</p>
<p id="p-0026" num="0025">A fusion type soft computing algorithm of which the soft computing unit <b>20</b> makes use is an algorithm in which a plurality of algorithms that can be self-organized by performing adaptive parameter update are mutually combined in a fusion type, and is subjected to bio-motive. Here, the bio-motive refers to use after the model of biological information literacy.</p>
<p id="p-0027" num="0026">More specifically, the fusion type soft computing algorithm of which the soft computing unit <b>20</b> makes use is an algorithm combining a neural network algorithm with any one of a fuzzy algorithm, a genetic algorithm (GA), a cellular automata (CA) algorithm, an immune system algorithm, and a rough-set algorithm. The immune system algorithm is a modeling method in which an identification or control point, and disturbance are set as an antibody and an antigen respectively, and thereby any desired point can be estimated even when any disturbance is added. The CA algorithm is a method of modeling a complicated algorithm in a binary type string. The rough-set algorithm is a method of modeling and applying correlation of parameters in a numerical formula.</p>
<p id="p-0028" num="0027">A neuro-fuzzy algorithm combining the neural network algorithm to the fuzzy algorithm is a type of automatically adjusting parameters by implementing a fuzzy reasoning system using a neural network.</p>
<p id="p-0029" num="0028">The neuro-fuzzy algorithm can automatically create the expert rule base of a fuzzy theory by execution of a learning algorithm.</p>
<p id="p-0030" num="0029">Generally, persons who are well aware of a certain system perform a work using fuzzy information rather than accurate information. For example, a skilled welder who is well aware of a welding system performs the welding well using fuzzy information, for instance, that the welding is well done when a welding temperature should be slightly increased at about this position.</p>
<p id="p-0031" num="0030">Creating the expert rule base of a fuzzy theory refers to a process of obtaining a rule composed of an IF-THEN statement from experts on a certain system in this manner.</p>
<p id="p-0032" num="0031">In general, it is the most difficult work that obtains the rule base in the fuzzy algorithm. Meanwhile, the neuro-fuzzy algorithm has an advantage in that this rule base can be automatically created by using learning capability of the neural network.</p>
<p id="p-0033" num="0032">Further, in view of the neural network, a size of the neural network (i.e. a neuron number), selection of an activation function, etc. have a great influence on entire performance. When the fuzzy theory is used in this field, the performance of the neural network can be optimized. To be specific, by setting the neural network size to the number of rule bases, and using any one of fuzzy functions as the activation function, the performance of the neural network can be optimized.</p>
<p id="p-0034" num="0033">In the neuro-fuzzy algorithm, the neural network models hardware embodiment of a brain, and the fuzzy concept models human thinking.</p>
<p id="p-0035" num="0034">A neuro-GA algorithm combining the neural network algorithm to the GA is an algorithm for performing identification of various parameters required for learning by implementing a learning algorithm of the neural network using the GA.</p>
<p id="p-0036" num="0035">In addition to these algorithms, the soft computing unit <b>20</b> may make use of a neuro-CA algorithm combining the neural network algorithm to the CA algorithm, a neuro-rough set algorithm combining the neural network algorithm to the rough set algorithm, and so on.</p>
<p id="p-0037" num="0036">In the present embodiment, the soft computing unit <b>20</b> estimates the battery SOC using the neuro-fuzzy algorithm, wherein the neuro-fuzzy algorithm is merely illustrative of the fusion type soft computing algorithm. The soft computing unit <b>20</b> may estimate the battery SOC using a fusion type soft computing algorithm other than the neuro-fuzzy algorithm.</p>
<p id="p-0038" num="0037">The soft computing unit <b>20</b> performs the neuro-fuzzy algorithm based on current i, voltage v, and temperature T detected by the detector unit <b>11</b>, and a detecting time k, and outputs an estimation value F of the battery SOC.</p>
<p id="p-0039" num="0038">When receiving an algorithm update signal from the comparator <b>40</b>, the soft computing unit <b>20</b> performs a learning algorithm on the neuro-fuzzy algorithm, thereby updating the fusion type soft computing algorithm.</p>
<p id="p-0040" num="0039">When the fusion type soft computing algorithm is updated, the soft computing unit <b>20</b> performs the updated fusion type soft computing algorithm, and outputs an updated estimation value F of the battery SOC.</p>
<p id="p-0041" num="0040">When the soft computing algorithm is updated, the soft computing unit <b>20</b> performs the updated soft computing algorithm, and outputs an updated estimation value F of the battery SOC.</p>
<p id="p-0042" num="0041">The charger-discharger <b>30</b> supplies the battery cell <b>10</b> with charge/discharge current.</p>
<p id="p-0043" num="0042">The comparator <b>40</b> compares the estimation value F output by the soft computing unit <b>20</b> with a predetermined target value F<sub>T</sub>. When a difference between the output estimation value F and the target value F<sub>T </sub>is beyond a critical range, the comparator <b>40</b> outputs the algorithm update signal to the soft computing unit <b>20</b>.</p>
<p id="p-0044" num="0043">Ideally, the target value F<sub>T </sub>is a value of the real &#x201c;genuine&#x201d; battery SOC. However, because it is difficult to find the value, a reference value obtained through a proper test under a specific condition is used.</p>
<p id="p-0045" num="0044">For example, the target value F<sub>T </sub>may be a value that complements an amp-hour (Ah) counting value and an open circuit voltage (OCV) value, which are input from the charger-discharger, to rated capacity of the battery.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 2</figref> illustrates a construction of a fuzzy neural network in the soft computing unit <b>20</b> of <figref idref="DRAWINGS">FIG. 1</figref>. Referring to <figref idref="DRAWINGS">FIG. 2</figref>, the fuzzy neural network is generally composed of an input layer, a hidden layer, and an output layer.</p>
<p id="p-0047" num="0046">If the number of basis functions is the same as the number of fuzzy control rules, if the consequent of a fuzzy rule is a constant, if an operator of the network is equal to a function of the output layer, and if a membership function in the fuzzy rule is the basis function of the same width (dispersion), a fuzzy system is equivalent to a radial basis function network of <figref idref="DRAWINGS">FIG. 2</figref>. Here, the radial basis function network is a concrete name of the neural network, and is a kind of neural network.</p>
<p id="p-0048" num="0047">The soft computing unit <b>20</b> executes the neuro-fuzzy algorithm according to a structure of the fuzzy neural network. The neuro-fuzzy algorithm is no other than the battery SOC estimation algorithm. Final output for applying the battery SOC estimation algorithm according to the fuzzy neural network in the soft computing unit <b>20</b> has a form as expressed by Equation 1 below.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>F</i>=&#x3a6;(<i>P,X</i>)<i>W</i>&#x2003;&#x2003;Equation 1<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where &#x3a6; is the fuzzy radial function, or the radial basis function or the activation function in the neural network, P is the parameter, X is the input, W is the weight to be updated during learning.
</p>
<p id="p-0049" num="0048">Now, the following is to apply Equation 1 to the structure of the fuzzy neural network of <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0050" num="0049">In <figref idref="DRAWINGS">FIG. 2</figref>, X=x<sub>d</sub>(k) is an input data vector input into the structure of the fuzzy neural network. In the present embodiment, x<sub>d</sub>(k)=(i, v, T, k). Here, i, v, and T are current, voltage, and temperature data, which are detected from the battery cell <b>10</b> at a point of time k by the detector unit <b>11</b> of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0051" num="0050">In Equation 1, F, i.e. the final output is the product of the radial function, &#x3a6;=&#xd8;d(k), and W=wd(k).</p>
<p id="p-0052" num="0051">Here, W is the coefficient denoting the connection strength (weight). W is updated at every point of time k by a back propagation (BP) learning algorithm to be described below. Thus, the function is approximated to perform identification of a non-linear function.</p>
<p id="p-0053" num="0052">As a result of the comparator <b>40</b> of <figref idref="DRAWINGS">FIG. 1</figref> comparing the output value F of the fuzzy neural network and the target value F<sub>T</sub>, when an error between the output value F and the target value F<sub>T </sub>is beyond a critical range (e.g., 3%), the comparator <b>40</b> of <figref idref="DRAWINGS">FIG. 1</figref> outputs the algorithm update signal to the soft computing unit <b>20</b> of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0054" num="0053">When the soft computing unit <b>20</b> of <figref idref="DRAWINGS">FIG. 1</figref> receives the algorithm update signal, the learning algorithm is executed in the fuzzy neural network of <figref idref="DRAWINGS">FIG. 2</figref>. In the present embodiment, the learning algorithm will be described focused on the BP learning algorithm, but it is merely illustrative. For example, the learning algorithm may include a Kalman filter, the genetic algorithm, a fuzzy learning algorithm, or so on.</p>
<p id="p-0055" num="0054">As for the BP learning algorithm, first, an error function is defined as follows.</p>
<p id="p-0056" num="0055">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>E</mi>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mn>2</mn>
          </mfrac>
          <mo>&#x2062;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mrow>
                <msub>
                  <mi>F</mi>
                  <mi>T</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>k</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>-</mo>
              <mrow>
                <mi>F</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>k</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Equation</mi>
        <mo>&#x2062;</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mn>2</mn>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where FT(k) is the desired output, i.e. the target value, and F(k) is the real output of the fuzzy neural network. Thus, final weight update is expressed by Equation 3 below.
</p>
<p id="p-0057" num="0056">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>W</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>t</mi>
              <mo>+</mo>
              <mn>1</mn>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mi>W</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>t</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mi>&#x3b7;</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mo>-</mo>
                <mfrac>
                  <mrow>
                    <mo>&#x2202;</mo>
                    <mi>E</mi>
                  </mrow>
                  <mrow>
                    <mo>&#x2202;</mo>
                    <mi>W</mi>
                  </mrow>
                </mfrac>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Equation</mi>
        <mo>&#x2062;</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mn>3</mn>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where &#x3b7; is the learning rate.
</p>
<p id="p-0058" num="0057">In this manner, the neuro-fuzzy algorithm is updated by repetitively executing the BP learning algorithm. More specifically, a W value of the neuro-fuzzy algorithm is updated by repetitively executing the BP learning algorithm.</p>
<p id="p-0059" num="0058">The fuzzy neural network outputs a new output value F determined by the updated W value to the comparator <b>40</b> again. This process is repeated until the error between the output value F and the target value F<sub>T </sub>of the fuzzy neural network falls within a predetermined range.</p>
<p id="p-0060" num="0059">When the error between the output value F of the fuzzy neural network and the target value F<sub>T </sub>of the fuzzy neural network does not deviate from the predetermined range, the comparator <b>40</b> of <figref idref="DRAWINGS">FIG. 1</figref> does not transmit the algorithm update signal. Thereby, the execution of the learning algorithm on the fuzzy neural network is terminated. An estimation value of the battery SOC is output using the final neuro-fuzzy algorithm formula (i.e. Equation 1) obtained by the execution of the learning algorithm.</p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart of a method for estimating an SOC in a battery in accordance with an embodiment of the present invention. Referring to <figref idref="DRAWINGS">FIG. 3</figref>, the detector unit <b>11</b> detects current i, voltage v, and temperature T from the battery cell <b>10</b> at a point of time k (S<b>30</b>).</p>
<p id="p-0062" num="0061">The soft computing unit <b>20</b> performs the neuro-fuzzy algorithm using data of the current i, voltage v, and temperature T detected by the detector unit <b>11</b> and data of the time k, as input data vectors, thereby outputting a provisional estimation value F (S<b>32</b>). In other words, the soft computing unit <b>20</b> performs the neuro-fuzzy algorithm using x<sub>d</sub>(k)=(i, v, T, k), thereby outputting a provisional estimation value F.</p>
<p id="p-0063" num="0062">The comparator <b>40</b> compares the provisional estimation value F with a target value F<sub>T</sub>, and checks whether or not the compared error is inside of 3% (S<b>34</b>). In the present embodiment, a critical range of the error is set to within 3%, but it is merely illustrative. Accordingly, the critical range of the error may be sufficiently varied by a designer. A final estimation value of the battery SOC becomes higher as the critical range of the error becomes narrower, and it becomes lower as the critical range of the error becomes wider.</p>
<p id="p-0064" num="0063">When the error between the provisional estimation value F and the target value F<sub>T </sub>is outside of 3%, the soft computing unit <b>20</b> performs the above-mentioned learning algorithm on the neuro-fuzzy algorithm, thereby updating the neuro-fuzzy algorithm (S<b>36</b>). Then, the soft computing unit <b>20</b> performs the updated fusion type soft computing algorithm to calculate an updated provisional estimation value F of the battery SOC (S<b>32</b>).</p>
<p id="p-0065" num="0064">The comparator <b>40</b> compares the updated provisional estimation value F with a target value F<sub>T</sub>, and checks whether or not the compared error is inside of 3% (S<b>34</b>). When the error between the provisional estimation value F and the target value F<sub>T </sub>is outside of 3%, the soft computing unit <b>20</b> performs the learning algorithm on the neuro-fuzzy algorithm again (S<b>36</b>), and performs the updated neuro-fuzzy algorithm (S<b>32</b>).</p>
<p id="p-0066" num="0065">In other words, the soft computing unit <b>20</b> performs the learning algorithm and the updated neuro-fuzzy algorithm repetitively, until the error between the provisional estimation value F and the target value FT gets inside of 3%.</p>
<p id="p-0067" num="0066">When the error between the provisional estimation value F and the target value F<sub>T </sub>is inside of 3%, the soft computing unit <b>20</b> does not perform the learning algorithm. As a result, a final neuro-fuzzy algorithm formula (e.g. Equation 3) is obtained.</p>
<p id="p-0068" num="0067">The provisional estimation value F calculated by the final neuro-fuzzy algorithm formula is determined as a fixed estimation value F of the battery SOC (S<b>38</b>).</p>
<p id="p-0069" num="0068">The present invention can implement a computer-readable recording medium as a computer-readable code. The computer-readable recording medium includes all types of recording media in which computer-readable data is stored. Examples of the computer-readable recording media include a read only memory (ROM), a random access memory (RAM), a compact disk (CD)-ROM, a magnetic tape, a floppy disk, an optical data storage device, and so on, and furthermore what is embodied in the type of a carrier wave (e.g. transmitted through Internet). Further, the computer-readable recording media are distributed on a computer system connected through a network, and allow the code that can be read by the computer in a distributed way to be stored and executed.</p>
<heading id="h-0006" level="1">INDUSTRIAL APPLICABILITY</heading>
<p id="p-0070" num="0069">As can be seen from the foregoing, according to the present invention, the battery SOC can be dynamically estimated through the fusion type soft computing algorithm and the learning algorithm. Further, the battery SOC can be more accurately estimated using at least data according to the various environments such as temperature, C-rate, and so on.</p>
<p id="p-0071" num="0070">Thus, according to the present invention, the battery SOC can be accurately estimated in the high C-rate environment. Because the fusion type soft computing algorithm is used for estimating the battery SOC, it is possible to overcome a drawback that each single soft computing algorithm is relatively accurate only in a specific environment and is lowered in precision in another environment.</p>
<p id="p-0072" num="0071">Especially, when the neuro-fuzzy algorithm is used as the fusion type soft computing algorithm, the fuzzy logic is implemented as the neural network. Thereby, it is possible to automatically create the fuzzy rules through learning. Due to this possibility, it is possible to exert excellent performance in connection with initial weight setting stability and system convergence, compared to the existing single neuro-fuzzy algorithm.</p>
<p id="p-0073" num="0072">The present invention can be more broadly utilized in a field in which the estimation of the battery SOC requires higher precision as in the field of hybrid electrical vehicles. Thus, the present invention can be applied to a lithium ion polymer battery (LiPB) for the hybrid electrical vehicle, as well as other batteries.</p>
<p id="p-0074" num="0073">While this invention has been described in connection with what is presently considered to be the most practical and exemplary embodiment, it is to be understood that the invention is not limited to the disclosed embodiment and the drawings, but, on the contrary, it is intended to cover various modifications and variations within the spirit and scope of the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08626679-20140107-M00001.NB">
<img id="EMI-M00001" he="6.35mm" wi="76.20mm" file="US08626679-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08626679-20140107-M00002.NB">
<img id="EMI-M00002" he="6.69mm" wi="76.20mm" file="US08626679-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>We claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An apparatus for estimating a state of charge (SOC) in a battery, the apparatus comprising:
<claim-text>a detector unit including a current detector for detecting current from a battery cell, a voltage detector for detecting voltage from the battery cell, and a temperature detector for detecting temperature from the battery cell;</claim-text>
<claim-text>a soft computing unit for calculating and outputting a battery SOC estimation value by processing the current, the voltage and the temperature detected by the detector unit using a computing algorithm, which is a fuzzy algorithm implemented as a neural network, the soft computing unit storing the battery SOC estimation value in a memory; and</claim-text>
<claim-text>a comparator operably coupled to the soft computing unit and a charger-discharger, the charger-discharger being further operably coupled to the battery cell, the comparator comparing the battery SOC estimation value with a predetermined target value that varies with charging or discharging of the battery, the comparator further providing an algorithm update signal to the soft computing unit to update the computing algorithm based on a learning algorithm when a difference between the battery SOC estimation value and the predetermined target value is outside of a critical range,</claim-text>
<claim-text>wherein the fuzzy algorithm has a form expressed as F=&#x3a6;(P,X)W, where &#x3a6; is one of a fuzzy radial function, a radial basis function, and an activation function in the neural network, P is a learning parameter, X is an input, and W is a weight to be updated during learning.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the predetermined target value is a reference value obtained through a corresponding test on a specific condition.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the learning algorithm is any one of a back propagation learning algorithm, a Kalman filter, a genetic algorithm, and a fuzzy learning algorithm.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A method for estimating a state of charge (SOC) in a battery, the method comprising the steps of:
<claim-text>detecting current, voltage and temperature from a battery cell, utilizing a current detector, a voltage detector, and a temperature detector, respectively;</claim-text>
<claim-text>calculating a battery SOC estimation value by processing the detected current, voltage and temperature using a computing algorithm, which is a fuzzy algorithm implemented as a neural network, utilizing a soft computing unit;</claim-text>
<claim-text>storing the battery SOC estimation value in a memory utilizing the soft computing unit;</claim-text>
<claim-text>calculating a difference value between the calculated battery SOC estimation value and a predetermined target value varying with charging or discharging of the battery utilizing a comparator operably coupled to the soft computing unit and a charger-discharger;</claim-text>
<claim-text>sending an algorithm update signal from the comparator to the soft computing unit when a difference between the battery SOC estimation value and the predetermined target value is outside of a critical range; and</claim-text>
<claim-text>updating the computing algorithm based on a learning algorithm utilizing the soft computing unit in response to the algorithm update signal,</claim-text>
<claim-text>wherein the fuzzy algorithm has a form expressed as F=&#x3a6;(P,X)W, where &#x3a6; is one of a fuzzy radial function, a radial basis function, and an activation function in the neural network, P is a learning parameter, X is an input, and W is a weight to be updated during learning.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the predetermined target value is a reference value obtained through a corresponding test on a specific condition.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the learning algorithm is any one of a back propagation learning algorithm, a Kalman filter, a genetic algorithm, and a fuzzy learning algorithm.</claim-text>
</claim>
</claims>
</us-patent-grant>
