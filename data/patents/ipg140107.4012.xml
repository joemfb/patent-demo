<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625081-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625081</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12999550</doc-number>
<date>20090617</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>FI</country>
<doc-number>20085665</doc-number>
<date>20080627</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>332</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>C</subclass>
<main-group>3</main-group>
<subgroup>08</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>356  501</main-classification>
<further-classification>356609</further-classification>
<further-classification>356  401</further-classification>
<further-classification>358  19</further-classification>
<further-classification>386307</further-classification>
</classification-national>
<invention-title id="d2e71">Method and device for measuring distance</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4263508</doc-number>
<kind>A</kind>
<name>Leary et al.</name>
<date>19810400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>2503581</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>4530600</doc-number>
<kind>A</kind>
<name>Lopez</name>
<date>19850700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5303020</doc-number>
<kind>A</kind>
<name>Croteau</name>
<date>19940400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5663731</doc-number>
<kind>A</kind>
<name>Theodoras, II et al.</name>
<date>19970900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6493653</doc-number>
<kind>B1</kind>
<name>Drinkard et al.</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6587185</doc-number>
<kind>B1</kind>
<name>Ide et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6876392</doc-number>
<kind>B1</kind>
<name>Uomori et al.</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2005/0094238</doc-number>
<kind>A1</kind>
<name>Kostamovaara et al.</name>
<date>20050500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2005/0146705</doc-number>
<kind>A1</kind>
<name>Lei et al.</name>
<date>20050700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2008/0030398</doc-number>
<kind>A1</kind>
<name>Nakamura</name>
<date>20080200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>FR</country>
<doc-number>2 887 342</doc-number>
<date>20061200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>WO</country>
<doc-number>WO 99/31516</doc-number>
<date>19990600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>WO</country>
<doc-number>WO 03/069779</doc-number>
<kind>A1</kind>
<date>20030800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>WO</country>
<doc-number>WO 2008/009387</doc-number>
<kind>A1</kind>
<date>20080100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00015">
<othercit>European Search Report for European Application No. 09769423, date of mailing Jan. 13, 2012.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00016">
<othercit>Nissinen, J., et al., &#x201c;Integrated Receiver Including Both Receiver Channel and TDC for a Pulsed Time-of-Flight Laser Rangefinder With cm-Level Accuracy,&#x201d; IEEE Journal of Solid-State Circuits, vol. 44, No. 5, pp. 1486-1497, May 2009.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00017">
<othercit>J. Nissinen and J. Kostamovaara, &#x201c;An Integrated Laser Radar Receiver Channel with Wide Dynamic Range,&#x201d; 14<sup>th </sup>IEEE International Conference on Electronics, Circuits and Systems, (2007) 4 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00018">
<othercit>Search Report for Finnish Application 20085665, dated Jan. 27, 2009 (1 page).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00019">
<othercit>International Preliminary Report on Patentability for PCT/FI2009/050529, date of mailing Oct. 21, 2010.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00020">
<othercit>Pehkonen, J., et al., &#x201c;Receiver Channel With Resonance-Based Timing Detection For a Laser Range Finder,&#x201d; <i>IEEE Transactions on Circuits and Systems 1</i>: Regular Papers, vol. 53, Issue 3, pp. 569-577, Mar. 2006.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00021">
<othercit>Palojarvi, P., et al., &#x201c;A 250-MHz BICMOS Receiver Channel With Leading Edge Timing Discriminator For a Pulsed Time-Of-Flight Laser Rangefinder,&#x201d; <i>IEEE Journal of Solid-State Circuits</i>, vol. 40, Issue 6, pp. 1341-1349, ISSN 0018-9200, Jun. 2005.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00022">
<othercit>Ruotsalainen, T., et al., &#x201c;A Wide Dynamic Range Receiver Channel For a Pulsed Time-Of-Flight Laser Radar,&#x201d; IEEE Journal of Solid-State Circuits, vol. 36, No. 8, pp. 1228-1238, Aug. 2001.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>11</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>356  401</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>356  501</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>356609</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>386307</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358  19</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>3</number-of-drawing-sheets>
<number-of-figures>7</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120069322</doc-number>
<kind>A1</kind>
<date>20120322</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Kostamovaara</last-name>
<first-name>Juha</first-name>
<address>
<city>Oulu</city>
<country>FI</country>
</address>
</addressbook>
<residence>
<country>FI</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Kostamovaara</last-name>
<first-name>Juha</first-name>
<address>
<city>Oulu</city>
<country>FI</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Hamilton, Brook, Smith &#x26; Reynolds, P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Oulun yliopisto</orgname>
<role>03</role>
<address>
<city>Oulu</city>
<country>FI</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Alsomiri</last-name>
<first-name>Isam</first-name>
<department>3645</department>
</primary-examiner>
<assistant-examiner>
<last-name>Abraham</last-name>
<first-name>Samantha K</first-name>
</assistant-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/FI2009/050529</doc-number>
<kind>00</kind>
<date>20090617</date>
</document-id>
<us-371c124-date>
<date>20110407</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2009/156580</doc-number>
<kind>A </kind>
<date>20091230</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">There is provided an apparatus (<b>300</b>) for measuring a distance to a target (<b>312</b>), comprising: a transmitter (<b>302</b>) configured to transmit an optical pulse (<b>310</b>) towards the target (<b>312</b>), a receiver channel (<b>304</b>) configured to receive the optical pulse (<b>310</b>) reflected from the target (<b>312</b>), and a processor (<b>306</b>) configured to measure a time intervaf between the transmission and detection of the optical pulse (<b>310</b>) at a predefined amplitude threshold level (<b>11</b>OA, <b>110</b>B), to determine a time domain parameter from the detected optical pulse (<b>310</b>) at one or more amplitude threshold levels (<b>110</b>A, <b>110</b>B), to convert the time domain parameter value into a correction value by a conversion model; to correct a timing error in the measured time interval by the correction value, and to convert the error-corrected time interval into a distance to the target (<b>312</b>).</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="99.99mm" wi="147.15mm" file="US08625081-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="261.79mm" wi="161.21mm" file="US08625081-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="187.62mm" wi="167.89mm" file="US08625081-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="193.80mm" wi="205.40mm" file="US08625081-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application is the U.S. National Stage of International Application No. of PCT/FI2009/050529, filed Jun. 17, 2009, which designates the U.S., published in English, and claims priority under 35 U.S.C. &#xa7;&#xa7;119 or 365(c) to Finland Application No. 20085665, filed Jun. 27, 2008.</p>
<heading id="h-0002" level="1">FIELD</heading>
<p id="p-0003" num="0002">The invention relates generally to distance measuring. More particularly, the invention relates to a method and a device for measuring a distance on the basis of a time-of-flight of a pulsed laser signal.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">Pulsed time-of-flight laser distance measuring is based on measuring the time it takes a transmitted optical pulse to travel to a detector. That is, the transmitted optical pulse is reflected from a target back to the device that transmitted the optical pulse, the detector of the device receives the optical pulse and measures the time between the transmission and the detection of the optical pulse. Since the velocity of light is known, the measured time can be converted to a distance between the device and the target.</p>
<p id="p-0005" num="0004">However, this type of measuring technique with a leading edge timing discriminator has a few drawbacks. The amplitude of the reflected optical pulse may vary significantly, depending on the distance, the orientation, the smoothness of the surface and the reflection coefficient of the target. <figref idref="DRAWINGS">FIG. 1</figref> shows that the amplitude of a first detected pulse <b>102</b>A may be different from the amplitude of a second detected pulse <b>102</b>B. By means of a fixed threshold level <b>110</b>, the pulses <b>102</b>A, <b>1028</b> may be detected to have arrived at different times, even though the distance to the target from which the detected pulses <b>102</b>A, <b>102</b>B were reflected, may be the same. The difference in detection times causes a timing error, which is also called a walk error <b>120</b> of the distance measurement. The walk error <b>120</b> may lead the measured distance to vary even a few tens of centimeters, which may be too much in many applications.</p>
<p id="p-0006" num="0005">There are several techniques that try to mitigate the varying amplitude error (walk error). These include, for example, an automatic gain control (AGC) circuit as described in Ruotsalainen, T.; Paloj&#xe4;rvi, P. and Kostamovaara, J. &#x201c;A Wide Dynamic Range Receiver Channel for a Pulsed Time-of-Flight Laser Radar&#x201d;, IEEE journal of solid-state circuits, August 2001, Vol. 36, No. 8, pages 1228-1238. An AGC circuit adjusts the amplitude of the received signal such that the amplitude is constant. The problem with AGC is that it only works with a certain dynamic range and is relatively slow. A unipolar-to-bipolar converter, as presented in Pehkonen, J.; Palojarvi, P. and Kostamovaara, J. &#x201c;Receiver channel with resonance-based timing detection for a laser range finder&#x201d;, IEEE Transactions on Circuits and Systems I: Regular Papers, March 2006, Vol. 53, Issue 3, Pages: 569-577, may be used to generate a bipolar output signal from a unipolar input signal at a receiver. The zero-crossing point may be used to detect the edge of the received pulse. However, with certain signal levels, the detection error may be significantly large due to distortions in the generation of the bipolar signal at the receiver. A peak detector, such as the one presented in Palojarvi, P.; Ruotsalainen, T. and Kostamovaara, J. &#x201c;A 250-MHz BiCMOS receiver channel with leading edge timing discriminator for a pulsed time-of-flight laser rangefinder&#x201d;, IEEE Journal of Solid-State Circuits, June 2005, Vol. 40, Issue 6, pages 1341-1349, ISSN 0018-9200, may be used to measure the maximum amplitude of the received signal and, consequently, the timing error can be measured as a function of the peak amplitude and the function may be used in measurement to compensate the for timing error. However, when the received signal is saturated, the peak detecting or the unipolar-to-bipolar converting techniques clearly cannot be applied.</p>
<p id="p-0007" num="0006">Since the existing solutions for correcting or eliminating the timing error do not serve well, new solutions are needed.</p>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE INVENTION</heading>
<p id="p-0008" num="0007">An object of the invention is to provide a method and an apparatus for measuring a distance. Furthermore, a method of modeling a correction to a timing error is provided.</p>
<p id="p-0009" num="0008">According to an aspect of the invention, there is provided a method as specified in claims <b>1</b> and <b>4</b>.</p>
<p id="p-0010" num="0009">According to an aspect of the invention, there is provided an apparatus as specified in claim <b>8</b>.</p>
<p id="p-0011" num="0010">Embodiments of the invention are disclosed in the dependent claims.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">LIST OF DRAWINGS</heading>
<p id="p-0012" num="0011">In the following, the invention will be described in greater detail with reference to the embodiments and the accompanying drawings, in which</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 1</figref> presents a walk error generated by a varying amplitude of detected optical pulses (PRIOR ART);</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 2</figref> shows an error generated by electronics in a receiver;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 3</figref> shows a block diagram of an apparatus according to an embodiment of the invention;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 4</figref> illustrates various ways to determine a time domain parameter, according to an embodiment of the invention;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a unipolar-to-bipolar pulse conversion, according to an embodiment of the invention;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 6</figref> illustrates a method of modeling a correction to a timing error; and</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 7</figref> illustrates a method of measuring a distance to a target.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DESCRIPTION OF EMBODIMENTS</heading>
<p id="p-0020" num="0019">The following embodiments are exemplary. Although the specification may refer to &#x201c;an&#x201d;, &#x201c;one&#x201d;, or &#x201c;some&#x201d; embodiment(s) in several locations of the text, this does not necessarily mean that each reference is made to the same embodiment(s), or that a particular feature only applies to a single embodiment. Single features of different embodiments may also be combined to provide other embodiments.</p>
<p id="p-0021" num="0020">In an ideal case, a receiver channel of a measurement device would always give exactly the correct distance to a target. However, in reality this is not the case. Generally the concept of timing error has been considered to involve a walk error <b>120</b> generated by the varying amplitude among the detected optical pulses <b>102</b>A, <b>1026</b>, as explained in the prior art section. However, the walk error <b>120</b> may not be the only error that occurs in the distance measurement. A significant timing error that affects the accuracy of the distance measurement may be an error caused by an electric circuit of the receiver channel of the measurement device. However, in the prior art solutions this error has been neglected.</p>
<p id="p-0022" num="0021">The maximum value of an error caused by the finite bandwidth of the electric circuit of the receiver channel may be equal to the time constant &#x3c4; of the electric circuit. The time constant &#x3c4; is related to the bandwidth B of the electric circuit according to &#x3c4;=1/(2&#x3c0;B). The value of the error caused by the electric circuit varies such that the maximum value is equal to the time constant &#x3c4; of the circuit, i.e., between 0 and &#x3c4; seconds.</p>
<p id="p-0023" num="0022">As shown in <figref idref="DRAWINGS">FIG. 2</figref>, a timing error <b>122</b>A relative to the time constant &#x3c4; of the electric circuit of the receiver channel may be caused to a pulse <b>106</b>A detected from a transmitted optical pulse <b>104</b>A after being reflected from the target. In other words, it may take the detected pulse <b>106</b>A &#x3c4; seconds to reach the threshold level <b>110</b>. The maximum value of the error caused by the electric circuit may occur when the amplitude of the transmitted signal <b>104</b>A is at minimum. The transmitted optical pulse <b>104</b>A may also suffer from finite rise time (slew rate) as shown in <figref idref="DRAWINGS">FIG. 2</figref>. However, when the amplitude of the transmitted signal <b>104</b>B is large, the error <b>122</b>B may be smaller than t, as shown in <figref idref="DRAWINGS">FIG. 2</figref>. That is, the time it takes the detected pulse <b>106</b>B to reach the threshold level <b>110</b> may be smaller than t. With an infinitely large amplitude, the error <b>122</b>B would be 0 seconds.</p>
<p id="p-0024" num="0023">Thus, according to an embodiment of the invention, the timing error may include an error <b>120</b> generated by a varying amplitude of the detected optical pulse and an error <b>122</b>A, <b>1228</b> generated by a time constant of an electric circuit of the receiver channel.</p>
<p id="p-0025" num="0024">In <figref idref="DRAWINGS">FIG. 3</figref>, a block diagram of an apparatus <b>300</b> for measuring a distance to a target <b>312</b> is shown. The apparatus <b>300</b> may be, for example, a pulsed laser distance measuring device or any apparatus capable of measuring a distance by transmitting and receiving optical pulses. In <figref idref="DRAWINGS">FIG. 3</figref>, only the logical elements required for understanding the structure of the apparatus <b>300</b> are shown. Other components or elements have been omitted for reasons of simplicity. It is apparent to a person skilled in the art that the apparatus <b>300</b> for measuring a distance to the target <b>312</b> may also comprise other functions, components and structures. Moreover, the connections shown with solid lines in <figref idref="DRAWINGS">FIG. 3</figref> are logical connections, and the actual physical connections may be different.</p>
<p id="p-0026" num="0025">The apparatus <b>300</b> may comprise a transmitter <b>302</b> that may transmit an optical pulse <b>310</b> towards the target <b>312</b>, a receiver channel <b>304</b> that may receive the optical pulse <b>310</b> reflected from the target <b>312</b>, and a processor <b>306</b> that may measure a time interval between the transmission and detection of the optical pulse <b>310</b> at a predefined amplitude threshold level. The processor <b>306</b> may further determine a time domain parameter from the detected optical pulse <b>310</b> at one or more amplitude threshold levels, convert the time domain parameter value into a correction value by a conversion model, correct a timing error in the measured time interval by the correction value, and convert the error-corrected time interval into a distance to the target <b>312</b>.</p>
<p id="p-0027" num="0026">The optical pulse <b>310</b> transmitted from the transmitter <b>302</b> is shown in a dotted line. The transmitter <b>302</b> and the receiver channel <b>304</b> may be connected such that the optical pulse <b>310</b> transmitted towards the target <b>312</b> may be simultaneously transmitted to the receiver channel <b>304</b> as well. The optical pulse <b>310</b> may be transmitted to the receiver channel <b>304</b> via a lens or a prism that directs part of the optical pulse <b>310</b> transmitted towards the target <b>312</b> to the receiver channel <b>304</b> as a reference pulse <b>311</b>, or the transmitter <b>302</b> may directly transmit another pulse to the receiver channel <b>304</b> as the reference pulse <b>311</b>.</p>
<p id="p-0028" num="0027">The transmitter <b>302</b> may transmit a plurality of optical pulses with a certain frequency. Each pulse may last, for example, 5 nanoseconds.</p>
<p id="p-0029" num="0028">The receiver channel may comprise a detector <b>305</b> that may detect the reference pulse <b>311</b> and the optical pulse <b>310</b> reflected from the target <b>312</b>. The target <b>312</b> may be any object that reflects at least part of the optical pulse <b>310</b> back in the direction of the apparatus <b>300</b>. The detector <b>305</b> may detect the optical pulse <b>310</b> at a predetermined threshold level with respect to the pulse amplitude. That is, when the receiver channel <b>304</b> receives the optical pulse <b>310</b> reflected from the target <b>312</b>, the time of the arrival of the optical pulse <b>310</b> may be the time when the detector <b>305</b> detects it. In other words, the time of the arrival of the optical pulse <b>310</b> may be the time instant at which the pulse amplitude is higher than the predetermined threshold. The threshold may be any threshold chosen such that the amount of false detections is low enough for the current application. Similarly, the time of the transmission of the optical pulse <b>310</b> by the transmitter <b>302</b> may be detected at the predefined amplitude threshold by the detector <b>305</b> from the reference pulse <b>311</b> received by the receiver channel <b>304</b>.</p>
<p id="p-0030" num="0029">As explained, the apparatus <b>300</b> may comprise the processor <b>306</b> for measuring the time interval between the transmission and the detection of the optical pulse <b>310</b> at the predefined amplitude threshold level. The detector <b>305</b> and the processor <b>306</b> may be connected such that the detector <b>305</b> may inform the processor <b>306</b> about the arrival times of the pulses <b>310</b>, <b>311</b>.</p>
<p id="p-0031" num="0030">The processor <b>306</b> may be implemented by a digital signal processor provided with suitable software embedded on a computer readable medium, or by separate logic circuits, for example with an application specific integrated circuit (ASIC). The processor <b>306</b> may comprise an input/output (I/O) interface, such as a computer port for providing communication capabilities.</p>
<p id="p-0032" num="0031">As explained, the processor <b>306</b> may further determine a time domain parameter from the detected optical pulse <b>310</b> at one or more amplitude threshold levels. <figref idref="DRAWINGS">FIG. 4</figref> illustrates various ways to determine a time domain parameter. The time domain parameter may be determined by applying at least one of the following: a rise time <b>402</b> of the detected optical pulse <b>310</b> between at least two threshold levels <b>110</b>A, <b>110</b>B, a fall time <b>404</b> of the detected optical pulse <b>310</b> between at least two threshold levels <b>110</b>A, <b>110</b>B, a width <b>406</b>A, <b>406</b>B of the detected optical pulse <b>310</b> in time domain.</p>
<p id="p-0033" num="0032">In an embodiment, the width <b>406</b>A may be determined at a predetermined threshold level <b>110</b>B, the threshold level <b>1108</b> being the same on each side of the optical pulse <b>310</b>. Alternatively, in an embodiment, the width <b>406</b>B may be determined by using two different threshold levels <b>110</b>A, <b>110</b>B, one on each side of the optical pulse <b>310</b>, as shown in <figref idref="DRAWINGS">FIG. 4</figref>. Thus, the width <b>406</b>A, <b>406</b>B of the detected optical pulse <b>310</b> may be determined by applying two threshold levels <b>110</b>A, <b>110</b>B, one threshold level at a first side of the detected optical pulse <b>310</b> being different from or the same as the other threshold level at a second side of the detected optical pulse <b>310</b>. In other words, the width <b>406</b>A of the detected optical pulse <b>310</b> may be determined by applying two threshold levels, one threshold level at a first side of the detected optical pulse <b>310</b> being the same as the other threshold level at a second side of the detected optical pulse <b>310</b>. Alternatively, the width <b>406</b>B of the detected optical pulse <b>310</b> may be determined by applying two threshold levels <b>110</b>A, <b>1108</b>, one threshold level at a first side of the detected optical pulse <b>310</b> being different from the other threshold level at a second side of the detected optical pulse <b>310</b>. The threshold level, with respect to the amplitude of the detected pulse optical <b>310</b>, at the second side of the detected optical pulse <b>310</b> may be higher or lower than the threshold level at the first side of the detected optical pulse <b>310</b>. The first side of the detected optical pulse <b>310</b> may be, for example, the rise side of the optical pulse <b>310</b>. Similarly, the second side of the detected optical pulse <b>310</b> may be the fall side of the optical pulse <b>310</b>.</p>
<p id="p-0034" num="0033">Further, the time domain parameter may be a combination of at least two of the rise time <b>402</b>, the fall time <b>404</b>, and the width <b>406</b>A, <b>406</b>B. In general, the time domain parameter may be any parameter that may be extracted from the received optical pulse <b>310</b> in time domain. Thus, the time domain parameter may not be determined by the slew rate of the optical pulse <b>310</b>, but also the width <b>406</b>A, <b>406</b>B of the optical pulse <b>310</b> may be considered as the time domain parameter.</p>
<p id="p-0035" num="0034">According to an embodiment as shown in <figref idref="DRAWINGS">FIG. 5</figref>, the processor may further generate a bipolar optical pulse <b>500</b> from the received unipolar optical pulse <b>310</b> and apply the generated bipolar optical pulse <b>500</b> in the detection. The detection of the bipolar optical pulse <b>500</b> may occur when the bipolar optical pulse <b>500</b> crosses the zero amplitude level <b>502</b>. Further, the detector may apply more than one threshold level to determining the time domain parameter of the bipolar optical pulse <b>500</b>.</p>
<p id="p-0036" num="0035">The processor <b>306</b> in <figref idref="DRAWINGS">FIG. 3</figref> may further convert the time domain parameter value into the correction value by the conversion model. The correction value may be applied to correcting the time interval between the transmission and the detection of the optical pulse <b>310</b> by an arithmetic operation performed with the correction value and the time interval between the transmission and the detection of the optical pulse <b>310</b>.</p>
<p id="p-0037" num="0036">The conversion model may be obtained by a method of modeling a correction to the timing error in the apparatus <b>300</b> for measuring the distance to the target <b>312</b>, as shown in <figref idref="DRAWINGS">FIG. 6</figref>. The timing error may include an error generated by the varying amplitude of the detected optical pulse and an error generated by an electric circuit of the receiver channel. The processes of the method may be performed in a laboratory or in all other environment free of interference. The method begins in step <b>600</b>.</p>
<p id="p-0038" num="0037">In step <b>602</b>, the method comprises transmitting at least one optical pulse from the transmitter. The at least one optical pulse may be transmitted directly to the receiver channel from a separate transmitter, or the transmitter and the receiver channel may be physically in the same apparatus. In such a case, the optical pulse may be transmitted towards the target, which may reflect the optical pulse back to the apparatus and, more particularly, to the receiver channel.</p>
<p id="p-0039" num="0038">Step <b>604</b> comprises varying the amplitude of the optical pulses in a known manner. Transmitting pulses with different amplitudes or by forcing the optical pulse to travel through a user controllable element that may be configured to weaken or strengthen the pulse amplitude before arriving at the receiver channel may cause amplitude variation, for example.</p>
<p id="p-0040" num="0039">In step <b>606</b>, the at least one optical pulse may be detected by the receiver channel at a predetermined amplitude threshold level. More particularly, the detector of the receiver channel may perform the detection. The predefined amplitude threshold level may be any threshold. If the optical pulse is transformed into a bipolar optical pulse, the threshold level may be the zero threshold level. The detection of the optical pulse results in a detection time. The detection time may vary, depending on the amplitude of the optical pulse, and the amplitude of the optical pulse affects the rise time of the optical pulse, the fall time of the optical pulse, and the width of the optical pulse. Further, the detection time may depend on the distance between the transmitter and the receiver channel, or the distance between the apparatus, which comprises the transmitter and the receiver channel, and the target.</p>
<p id="p-0041" num="0040">Step <b>608</b> of the method comprises determining a comparison result between the at least one detection time of the at least one optical pulse and a reference value. The reference value of the detection time may be arbitrarily selected, it may be predefined, or it may be based on a distance the optical pulse travels. Thus, the reference value may be the time it takes the optical pulse to travel between the target and the receiver channel, or it may be any arbitrary point in time. In other words, the correction modeling may be obtained without determining any actual distances. For example, the detection time of the first optical pulse may be considered as the reference value for the detection times of the adjacent optical pulses. Since the amplitudes of the adjacent optical pulses may vary, the detection times for the adjacent optical pulses may be different from the reference value. According to an embodiment, the difference between the reference value and the current detection time may be determined in the determination of the comparison result between the detection time and the reference value.</p>
<p id="p-0042" num="0041">In step <b>610</b>, the at least one time domain parameter value is determined from the at least one detected optical pulse at one or more threshold amplitude levels. Determining the time domain parameter may be performed by applying at least one of the following: a rise time of the detected optical pulse between at least two threshold levels, a fall time of the detected optical pulse between at least two threshold levels, a width of the detected optical pulse in time domain as shown in <figref idref="DRAWINGS">FIG. 4</figref>. Further, a combination of the rise time, the fall time, and the width may be applied.</p>
<p id="p-0043" num="0042">As explained earlier, determining the width of the detected optical pulse may be obtained by applying two threshold levels, one threshold level at a first side of the detected optical pulse being different from or the same as the other threshold level at a second side of the detected optical pulse. Thus, in an embodiment, the width may be determined at a predetermined threshold level, the threshold level being the same on each side of the optical pulse. Alternatively, in an embodiment, the width may be determined by using two different threshold levels, one on each side of the optical pulse. In other words, determining the width of the detected optical pulse may be obtained by applying two threshold levels, one threshold level at a first side of the detected optical pulse being the same as the other threshold level at a second side of the detected optical pulse. Alternatively, determining the width of the detected optical pulse may be obtained by applying two threshold levels, one threshold level at a first side of the detected optical pulse being different from the other threshold level at a second side of the detected optical pulse.</p>
<p id="p-0044" num="0043">Thus, for each detected optical pulse, a time domain parameter value and a detection time of the optical pulse together with the difference between the detection time and the reference value are determined. With a plurality of optical pulses detected, a large amount of statistical data may be obtained. The statistical data may be applied to the generation of the conversion model. Consequently, step <b>612</b> of the method comprises generating the conversion model by the at least one comparison result and the at least one time domain parameter, the conversion model being for converting a time domain parameter value into a correction value to be applied to correcting the timing error in the detection of an optical pulse.</p>
<p id="p-0045" num="0044">The conversion model may be a conversion table or a conversion function. When the conversion model is a table, the table may comprise, for example, two columns: one column for the differences between the detection times of the optical pulses and the reference value in seconds and the other column for the time domain parameter values in seconds. In a certain row, the difference between the reference value and the detection time of the certain optical pulse may be shown together with the time domain parameter value of the same optical pulse. Consequently, during a measurement, the determined time domain parameter value of an optical pulse may be looked up in the table together with the corresponding correction value, and this correction value may be used to correct the timing error in the time interval between the transmission and the detection of the optical pulse. When the conversion model is a function, the function may be generated with a large amount of statistical information related to the comparison results between the detection times and the reference value, and the corresponding time domain parameter values.</p>
<p id="p-0046" num="0045">Referring to <figref idref="DRAWINGS">FIG. 4</figref>, having a parameter in time domain instead of having a parameter with respect to the amplitude of the optical pulse <b>310</b> may enable several advantages. For instance, if the received optical pulse <b>310</b> is saturated, the amplitude parameter may not work properly. However, saturation of the pulse amplitude may cause no problems to the functionality of the time domain parameter. Moreover, in a misty measuring environment, the width <b>406</b>A, <b>4068</b> of the optical pulse <b>310</b> may be spread. Having a time domain parameter with respect to the width <b>406</b>A, <b>406</b>B of the optical pulse <b>310</b> may enable a correct measuring result via an accurate correction, whereas a different parameter, such as an amplitude related parameter, may cause the measuring result to be erroneous. Similarly, a change in the angle of impact of the optical pulse <b>310</b> to the target <b>312</b> may cause the width <b>406</b>A, <b>4068</b> of the received optical pulse <b>310</b> to vary significantly. This may be taken into account with the time domain parameter being used in correcting the measuring result.</p>
<p id="p-0047" num="0046">The difference between the reference value and the detection time for a certain optical pulse may be the correction value applied in the actual measurement for a detected optical pulse with a time domain parameter value equal to a time domain parameter value of the same certain optical pulse. If, during measurement, a determined time domain parameter value is not equal to any of the time domain parameter values in the conversion model, for example in the conversion table, the values in the table may be interpolated to include more time domain parameter values and corresponding correction values.</p>
<p id="p-0048" num="0047">In step <b>614</b>, the method decides whether or not the conversion model is ready. If the model is ready, i.e. there is enough statistical information to create the conversion function, or the conversion table is comprehensive, the method continues in step <b>616</b>, in which the method ends. However, if not enough statistical information is available, the method continues in step <b>602</b> by transmitting another set of optical pulses.</p>
<p id="p-0049" num="0048">Referring to <figref idref="DRAWINGS">FIG. 3</figref>, the processor <b>306</b> may further comprise a memory <b>308</b>. The processor <b>306</b> may store the conversion model in a memory <b>308</b>.</p>
<p id="p-0050" num="0049">The processor <b>306</b> may, thus, after converting the time domain parameter into the correction value, correct the timing error in the measured time interval by the correction value. The correction may be performed by an arithmetic operation. For example, subtracting the correction value from the measured time interval may perform the correction. After correcting the measured time interval, the processor <b>306</b> may convert the error-corrected time interval into a distance to the target <b>312</b> in meters.</p>
<p id="p-0051" num="0050">The apparatus <b>300</b> may further comprise a display, such as a liquid crystal display, for enabling the apparatus <b>300</b> to show information to a viewer. The information may be, for example, the distance to the target <b>312</b> in meters.</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. 7</figref> illustrates a method of measuring a distance to a target. The method begins in step <b>700</b>.</p>
<p id="p-0053" num="0052">In step <b>702</b>, an optical pulse is transmitted from a transmitter towards the target. The transmitter may transmit a plurality of optical pulses at a certain frequency to enable a better accuracy with more statistical information about the distance.</p>
<p id="p-0054" num="0053">Step <b>704</b> of the method comprises receiving, by a receiver channel, the optical pulse reflected from the target. In step <b>706</b>, a time interval between the transmission and detection of the optical pulse at a predefined amplitude threshold level is measured. The time of the transmission may be obtained by the reference pulse <b>311</b> shown in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0055" num="0054">In step <b>708</b> in <figref idref="DRAWINGS">FIG. 7</figref>, the method comprises determining a time domain parameter from the detected optical pulse at one or more amplitude threshold levels. Determining the time domain parameter may be performed by applying at least one of the following: a rise time of the detected optical pulse between at least two threshold levels, a fall time of the detected optical pulse between at least two threshold levels, a width of the detected optical pulse in time domain, as shown in <figref idref="DRAWINGS">FIG. 4</figref>. Alternatively, a combination of the above is feasible.</p>
<p id="p-0056" num="0055">Further, the measurement of the time domain parameter may include measurement of the time between the transmission and the detection of the optical pulse at different threshold levels. However, this is not required. According to an embodiment, it will suffice to measure, for example, the time between the two threshold levels <b>110</b>A and <b>110</b>B.</p>
<p id="p-0057" num="0056">Step <b>710</b> of the method comprises converting the determined time domain parameter value into a correction value by a conversion model. Step <b>710</b> may comprise, for example, performing the conversion on the basis of a conversion table or a conversion function. Thus, the conversion model may be a table or a function. Looking up the determined time domain parameter value in the table and selecting a corresponding correction value from the table may constitute the converting of the time domain parameter value into the correction value, for example. Further, the conversion model may be stored in the memory of the apparatus.</p>
<p id="p-0058" num="0057">In step <b>712</b>, a timing error in the measured time interval may be corrected by the correction value. This may be obtained by performing an arithmetic operation with the correction value and the measured time interval.</p>
<p id="p-0059" num="0058">After correcting the measured time interval, the method may proceed in step <b>714</b> in which converting the error-corrected time interval into a distance to the target in meters may occur. The method ends in step <b>716</b>.</p>
<p id="p-0060" num="0059">In an embodiment, the apparatus may be applied to modeling the surface of a target. In such a case, the actual distance to the target may not be important, but the difference in the distances to the reference distance is.</p>
<p id="p-0061" num="0060">Since the time domain parameter value changes according to the form of the optical pulse, which is affected by, for example, the surface characteristics of the target, the environment, the electronics of the measurement device, etc., the error in the measured time interval may be compensated for by the correction value resulting in an accurate distance measurement result.</p>
<p id="p-0062" num="0061">Even though the invention has been described above with reference to an example according to the accompanying drawings, it is clear that the invention is not restricted thereto but can be modified in several ways within the scope of the appended claims. Further, it is clear to a person skilled in the art that the described embodiments may, but are not required to, be combined with other embodiments in various ways.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method of modeling a correction to a timing error in an apparatus for measuring a distance to a target, comprising:
<claim-text>transmitting at least one optical pulse from a transmitter;</claim-text>
<claim-text>varying an amplitude of the optical pulses in a known manner in order to cause variations in detection times of the plurality of adjacent optical pulses; and</claim-text>
<claim-text>detecting, by a receiver channel, the at least one optical pulse at a predetermined amplitude threshold level, wherein the detection takes place at a detection time;</claim-text>
<claim-text>the method further comprising:</claim-text>
<claim-text>determining a comparison result between the at least one detection time of the at least one optical pulse and a reference value, wherein the comparison result is based on a time difference between the reference value and the detection time;</claim-text>
<claim-text>determining at least one time domain parameter value from the at least one detected optical pulse at one or more threshold amplitude levels; and</claim-text>
<claim-text>generating a conversion model by the at least one comparison result and the at least one time domain parameter value, the conversion model being for converting the time domain parameter value into a correction value applied in correcting a timing error in a future detection of an optical pulse by the same apparatus, wherein the timing error includes:</claim-text>
<claim-text>a first error generated by a varying amplitude of the to-be-detected optical pulse; and</claim-text>
<claim-text>a second error generated by an electric circuit of the receiver channel of the apparatus, wherein the second error depends on a bandwidth of the electric circuit and on the amplitude of the transmitted optical pulse, and has a value between 0 and a time constant of the electric circuit depending on the amplitude of the transmitted optical pulse.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>determining the time domain parameter value by applying at least one of the following: a rise time of the detected optical pulse between at least two threshold levels, a fall time of the detected optical pulse between at least two threshold levels, a width of the detected optical pulse in the time domain.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, further comprising:
<claim-text>determining the width of the detected optical pulse by applying two threshold levels, one threshold level at a first side of the detected optical pulse being different from the other threshold level at a second side of the detected optical pulse.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A method of measuring a distance to a target by an apparatus, comprising:
<claim-text>transmitting an optical pulse from a transmitter towards the target;</claim-text>
<claim-text>receiving, by a receiver channel, the optical pulse reflected from the target; and</claim-text>
<claim-text>measuring a time interval between the transmission and detection of the optical pulse at a predefined amplitude threshold level,</claim-text>
<claim-text>the method further comprising:</claim-text>
<claim-text>determining a time domain parameter value from the detected optical pulse at one or more amplitude threshold levels;</claim-text>
<claim-text>converting the time domain parameter value into a correction value by a conversion model obtained by performing the following steps:
<claim-text>transmitting at least one optical pulse from a transmitter;</claim-text>
<claim-text>varying an amplitude of the optical pulses in a known manner in order to cause variations in detection times of the plurality of adjacent optical pulses;</claim-text>
<claim-text>detecting, by a receiver channel, the at least one optical pulse at a predetermined amplitude threshold level, wherein the detection takes place at a detection time;</claim-text>
<claim-text>determining a comparison result between the at least one detection time of the at least one optical pulse and a reference value, wherein the comparison result is based on a time difference between the reference value and the detection time;</claim-text>
<claim-text>determining at least one time domain parameter value from the at least one detected optical pulse at one or more threshold amplitude levels; and</claim-text>
<claim-text>generating the conversion model by the at least one comparison result and the at least one time domain parameter value, the conversion model being for converting the time domain parameter value into the correction value applied in correcting a timing error in a future detection of an optical pulse by the same apparatus,</claim-text>
</claim-text>
<claim-text>and wherein the method of measuring the distance to the target further comprises:</claim-text>
<claim-text>correcting a timing error in the measured time interval by applying the correction value, the timing error including a first error generated by a varying amplitude of the detected optical pulse and a second error generated by an electric circuit of the receiver channel of the apparatus, wherein the second error depends on a bandwidth of the electric circuit and on the amplitude of the transmitted optical pulse, and has a value between 0 and a time constant of the electric circuit depending on the amplitude of the transmitted optical pulse;</claim-text>
<claim-text>converting the error-corrected time interval into a distance to the target.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, further comprising:
<claim-text>determining the time domain parameter value by applying at least one of the following: a rise time of the detected optical pulse between at least two threshold levels, a fall time of the detected optical pulse between at least two threshold levels, a width of the detected optical pulse in the time domain.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, further comprising:
<claim-text>determining the width of the detected optical pulse by applying two threshold levels, one threshold level at a first side of the detected optical pulse being different from the other threshold level at a second side of the detected optical pulse.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, further comprising:
<claim-text>storing the conversion model in a memory.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. An apparatus for measuring a distance to a target, comprising:
<claim-text>a transmitter configured to transmit an optical pulse towards the target;</claim-text>
<claim-text>a receiver channel configured to receive the optical pulse reflected from the target; and</claim-text>
<claim-text>a processor configured to measure a time interval between the transmission and detection of the optical pulse at a predefined amplitude threshold level,</claim-text>
</claim-text>
<claim-text>wherein the processor is further configured to:
<claim-text>determine a time domain parameter value from the detected optical pulse at one or more amplitude threshold levels;</claim-text>
<claim-text>convert the time domain parameter value into a correction value by a conversion model obtained the same apparatus performing the following steps:
<claim-text>transmitting at least one optical pulse from a transmitter;</claim-text>
<claim-text>varying an amplitude of the optical pulses in a known manner in order to cause variations in detection times of the plurality of adjacent optical pulses;</claim-text>
<claim-text>detecting, by a receiver channel, the at least one optical pulse at a predetermined amplitude threshold level, wherein the detection takes place at a detection time;</claim-text>
<claim-text>determining a comparison result between the at least one detection time of the at least one optical pulse and a reference value, wherein the comparison result is based on a time difference between the reference value and the detection time;</claim-text>
<claim-text>determining at least one time domain parameter value from the at least one detected optical pulse at one or more threshold amplitude levels; and</claim-text>
<claim-text>generating the conversion model by the at least one comparison result and the at least one time domain parameter value, the conversion model being for converting the time domain parameter value into the correction value applied in correcting a timing error in a future detection of an optical pulse by the same apparatus,</claim-text>
</claim-text>
<claim-text>and wherein the processor is further configured to:</claim-text>
<claim-text>correct a timing error in the measured time interval by applying the correction value, the timing error including a first error generated by a varying amplitude of the detected optical pulse and a second error generated by an electric circuit of the receiver channel of the apparatus, wherein the second error depends on a bandwidth of the electric circuit and on the amplitude of the transmitted optical pulse, and has a value between 0 and a time constant of the electric circuit depending on the amplitude of the transmitted optical pulse; and</claim-text>
<claim-text>convert the error-corrected time interval into a distance to the target.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The apparatus of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the time domain parameter value is determined by applying at least one of the following: a rise time of the detected optical pulse between at least two threshold levels, a fall time of the detected optical pulse between at least two threshold levels, a width of the detected optical pulse in the time domain.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The apparatus of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the width of the detected optical pulse is determined by applying two threshold levels, one threshold level at a first side of the detected optical pulse being different from the other threshold level at a second side of the detected optical pulse.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The apparatus of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the processor is further configured to store the conversion model in a memory.</claim-text>
</claim>
</claims>
</us-patent-grant>
