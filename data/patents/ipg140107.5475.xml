<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626575-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626575</doc-number>
<kind>B1</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12052101</doc-number>
<date>20080320</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>1271</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20120101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>Q</subclass>
<main-group>30</main-group>
<subgroup>02</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classifications-cpc>
<main-cpc>
<classification-cpc>
<cpc-version-indicator><date>20130101</date></cpc-version-indicator>
<section>G</section>
<class>06</class>
<subclass>Q</subclass>
<main-group>30</main-group>
<subgroup>02</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
<scheme-origination-code>C</scheme-origination-code>
</classification-cpc>
</main-cpc>
</classifications-cpc>
<classification-national>
<country>US</country>
<main-classification>705 14</main-classification>
</classification-national>
<invention-title id="d2e53">Targeted advertising using temporal analysis of user specific data</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5724521</doc-number>
<kind>A</kind>
<name>Dedrick</name>
<date>19980300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5740549</doc-number>
<kind>A</kind>
<name>Reilly et al.</name>
<date>19980400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5848397</doc-number>
<kind>A</kind>
<name>Marsh et al.</name>
<date>19981200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5948061</doc-number>
<kind>A</kind>
<name>Merriman</name>
<date>19990900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6026368</doc-number>
<kind>A</kind>
<name>Brown et al.</name>
<date>20000200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6044376</doc-number>
<kind>A</kind>
<name>Kurtzman, II</name>
<date>20000300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6078914</doc-number>
<kind>A</kind>
<name>Redfern</name>
<date>20000600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6144944</doc-number>
<kind>A</kind>
<name>Kurtzman et al.</name>
<date>20001100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 1454</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6167382</doc-number>
<kind>A</kind>
<name>Sparks et al.</name>
<date>20001200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6269361</doc-number>
<kind>B1</kind>
<name>Davis et al.</name>
<date>20010700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6401075</doc-number>
<kind>B1</kind>
<name>Mason et al.</name>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>6985882</doc-number>
<kind>B1</kind>
<name>Del Sesto</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>7039599</doc-number>
<kind>B2</kind>
<name>Merriman</name>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>7136875</doc-number>
<kind>B2</kind>
<name>Anderson et al.</name>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>7685199</doc-number>
<kind>B2</kind>
<name>Chandrasekar et al.</name>
<date>20100300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707748</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>7756868</doc-number>
<kind>B2</kind>
<name>Lee</name>
<date>20100700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707725</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>2001/0014868</doc-number>
<kind>A1</kind>
<name>Herz et al.</name>
<date>20010800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 14</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>2005/0043060</doc-number>
<kind>A1</kind>
<name>Brandenberg et al.</name>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455558</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>2006/0235960</doc-number>
<kind>A1</kind>
<name>Lai et al.</name>
<date>20061000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709224</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>2007/0233513</doc-number>
<kind>A1</kind>
<name>Lapstun et al.</name>
<date>20071000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705  1</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>2008/0027921</doc-number>
<kind>A1</kind>
<name>Chandrasekar et al.</name>
<date>20080100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707  4</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>2008/0103795</doc-number>
<kind>A1</kind>
<name>Jakubowski et al.</name>
<date>20080500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705  1</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>2009/0043732</doc-number>
<kind>A1</kind>
<name>Lee</name>
<date>20090200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707  3</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>2009/0164516</doc-number>
<kind>A1</kind>
<name>Svendsen et al.</name>
<date>20090600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>7071041</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00025">
<document-id>
<country>US</country>
<doc-number>2009/0171755</doc-number>
<kind>A1</kind>
<name>Kane et al.</name>
<date>20090700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 10</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00026">
<document-id>
<country>US</country>
<doc-number>2010/0223261</doc-number>
<kind>A1</kind>
<name>Sarkar</name>
<date>20100900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707726</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00027">
<document-id>
<country>WO</country>
<doc-number>WO 97/21183</doc-number>
<date>19970600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00028">
<othercit>Reexamination of U.S. Appl. No. 95/001,073, Stone et al., Sep. 30, 2004.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00029">
<othercit>Reexamination of U.S. Appl. No. 95/001,061, Stone et al., Sep. 3, 2002.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00030">
<othercit>Reexamination of U.S. Appl. No. 95/001,069, Dean et al., Jul. 11, 2002.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00031">
<othercit>Reexamination of U.S. Appl. No. 95/001,068, Stone et al., Dec. 7, 2002,</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00032">
<othercit>AdForce, Inc., A Complete Guide to AdForce, Version 2.6, 1998.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00033">
<othercit>AdForce, Inc., S-1/A SEC Filing, May 6, 1999.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00034">
<othercit>AdKnowledge Campaign Manager: Reviewer's Guide, AdKnowledge, Aug. 1998.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00035">
<othercit>AdKnowledge Market Match Planner: Reviewer's Guide, AdKnowledge, May 1998.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00036">
<othercit>Ad-Star.com website archive from www. Archive.org, Apr. 12, 1997 and Feb. 1, 1997.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00037">
<othercit>Baseview Products, Inc., AdManagerPro Administration Manual v. 2.0, Dec. 1998.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00038">
<othercit>Baseview Products, Inc., ClassManagerPro Administration Manual v. 1.0.5, Feb. 1, 1997.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00039">
<othercit>Business Wire, &#x201c;Global Network, Inc. Enters Into Agreement in Principle With Major Advertising Agency,&#x201d; Oct. 4, 1999.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00040">
<othercit>Information Access Technologies, Inc., Aaddzz brochure, &#x201c;The Best Way to Buy and Sell Web Advertising Space,&#x201d; &#xa9; 1997.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00041">
<othercit>Information Access Technologies, Inc., Aaddzz.com website archive from www. Archive.org, archived on Jan. 30, 1998.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00042">
<othercit>Zeff, R. et al., Advertising on the Internet, 2nd Ed., John Wiley &#x26; Sons, 1999.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00043">
<othercit>Dedrick, R., Interactive Electronic Advertising, IEEE, 1994.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00044">
<othercit>Dedrick, R., A Consumption Model for Targeted Electronic Advertising, Intel Architecture Labs, IEEE, 1995.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00045">
<othercit>Request for Reexamination of U.S. Patent No. 7,240,025 B2, Control No. 95/001,073.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00046">
<othercit>Request for Reexamination of U.S. Patent No. 6,446,045 Bl, Control No. 95/001,061.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00047">
<othercit>Request for Reexamination of U.S. Patent No. 7,249,059 B2, Control No. 95/001,069.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00048">
<othercit>Request for Reexamination of U.S. Patent No. 6,829,587 B2, Control No. 95/001,068.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>7</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Gong</last-name>
<first-name>Yitao</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Gong</last-name>
<first-name>Yitao</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Fish &#x26; Richardson P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Google Inc.</orgname>
<role>02</role>
<address>
<city>Mountain View</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Ebersman</last-name>
<first-name>Bruce I</first-name>
<department>3692</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Methods, systems and apparatus, including computer program products are described for providing temporally relevant targeted content items. A set of user data is used to determine current user interests as indicated by one or more recent events. Content items relevant to those events are identified and ranked based on a time that the corresponding event occurred. One or more of the top ranked content items can be delivered to a user.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="127.59mm" wi="197.95mm" file="US08626575-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="205.99mm" wi="158.75mm" orientation="landscape" file="US08626575-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="158.75mm" wi="101.01mm" file="US08626575-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="158.75mm" wi="107.53mm" file="US08626575-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="158.75mm" wi="120.14mm" file="US08626575-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="237.24mm" wi="170.35mm" file="US08626575-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="202.61mm" wi="158.75mm" orientation="landscape" file="US08626575-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="158.75mm" wi="105.16mm" file="US08626575-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0002" num="0001">This specification relates to content presentation.</p>
<p id="p-0003" num="0002">Targeted advertising directs advertising efforts toward individuals or groups having one or more characteristics that are thought to indicate a higher likelihood of those individuals or groups being interested in purchasing the goods, and/or services being advertised. Effective implementation of targeted advertising often depends on the quality of the user or group data available and the actual correlation between the sought for characteristics and actual interest in the goods, services, and/or information being offered.</p>
<p id="p-0004" num="0003">Advertising over conventional mediums such as print, radio, and television permits advertisement targeting based on the content of the print articles, radio programs, and television programs into which the advertisements are placed. Advertisers generally select the content into which their advertisements are to be placed based on a correlation between the type of content and a projected interest of an audience of that content in a given product or service being advertised.</p>
<p id="p-0005" num="0004">The Internet offers a new medium for delivering user-targeted messages and/or advertising. One form of targeted advertising on the Internet generally involves an analysis of content of a web page by a computer program to select an advertisement for display based on, for example, keywords associated with the advertisement and a relationship between those keywords and the content of the web page. The advertisement selected being targeted to the user based on the presumption that if the user is visiting the webpage and the advertisement is selected based on the content of the webpage, the user will be or might be interested in the selected advertisement.</p>
<heading id="h-0002" level="1">SUMMARY</heading>
<p id="p-0006" num="0005">In general, one aspect of the subject matter described in this specification can be embodied in methods that include the actions of identifying an event associated with a user, identifying candidate content items for presentation to the user, adjusting a rank of the candidate content items based on a time associated with the event, and selecting one or more highest ranked candidate content items from a list of adjusted rank candidate content items for presentation to the user.</p>
<p id="p-0007" num="0006">In particular implementations, the method includes, receiving a request to process a transaction between a user and a merchant, and after selecting one or more highest ranked content items, sending the one or more highest ranked content items for display to the user. The content items can include advertisements provided by registered merchants of a payment system.</p>
<p id="p-0008" num="0007">In particular implementations, the method includes, receiving a request to identify one or more content items to be placed on a web page of an Internet publisher for display to a user, and after selecting one or more highest ranked content items, sending the one or more highest ranked content items for display to the user.</p>
<p id="p-0009" num="0008">In particular implementations, adjusting the rank of the candidate messages includes generating a temporal weight for each set of candidate content items, and applying the temporal weight to the ranking of each candidate content item in the set. The temporal weight can be a decimal value that is applied to the rank by multiplying a ranking score by the temporal weight to arrive at an adjusted ranking.</p>
<p id="p-0010" num="0009">In particular implementations, the method includes, displaying the one or more highest ranked advertisements to the user. The corpus of user data can include a user purchase history. The corpus of user data can include user wish list information. The corpus of user data can include user data for one or more applications offered by a distributed applications provider. The messages can include advertisements. The events can include past user purchases. The events can comprise adding items to a wish list. The messages can include a hyperlink. Candidate messages can be filtered by applying a whitelist or a blacklist. Other embodiments include corresponding systems, apparatus, and computer program products.</p>
<p id="p-0011" num="0010">Particular embodiments of the subject matter described in this specification can be implemented to realize one or more of the following advantages. Targeted content items or advertisements can be selected for delivery to a user based on user events recorded in a corpus of user data. Messages can be selected in real time or near real time based on the user data such that the targeted message is chosen according to recent events that have a likelihood of indicating a given user's current interests.</p>
<p id="p-0012" num="0011">The details of one or more embodiments of the subject matter described in this specification are set forth in the accompanying drawings and the description below. Other features, aspects, and advantages of the subject matter will become apparent from the description, the drawings, and the claims.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of an example environment of a temporal analysis module used in a payment system.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 2</figref> is a flowchart of an example method for providing an advertisement based on a temporal analysis of user data.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart of an example method for selecting one or more advertisements for display based on a temporal analysis of user data.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 4</figref> is a diagram illustrating example information flow during an advertisement identification process incorporating temporal analysis.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 5A</figref> is a table illustrating example relationships between keywords, temporal weights, advertisements, and adjusted rankings.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 5B</figref> is a table showing example advertisements ordered according to their adjusted ranking.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram of an example environment of a temporal analysis module used in a distributed applications provider.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 7</figref> is a flowchart of an example method for displaying one or more targeted advertisements on a publisher web site based on a temporal analysis of user data.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<p id="p-0021" num="0020">Like reference numbers and designations in the various drawings indicate like elements.</p>
<heading id="h-0004" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of an example environment <b>100</b> of a temporal analysis module <b>115</b> used in a payment system <b>112</b>. A user of the computer <b>102</b> can access one or more of the merchant web sites <b>106</b>A-<b>106</b><i>n</i>. For example, the user can direct a web browser on the computer <b>102</b> to a URL corresponding to the merchant web site <b>106</b>A. The web server <b>108</b>A can return HTML to the web browser which renders a web page on a display of the computer <b>102</b>. The user can browse the web site using the browser controls, viewing, for example, product information for products offered for sale by the merchant.</p>
<p id="p-0023" num="0022">The web server <b>108</b>A can retrieve product information from the inventory datastore <b>110</b>A. The datastore can be a collection of files (e.g., HTML files, image files, etc.) and/or inventory information stored in, for example, an SQL database. The web server <b>108</b>A can include the retrieved product information in web pages served to the user computer <b>102</b>. Using the web browser, the user can select products offered on the merchant web pages for purchase.</p>
<p id="p-0024" num="0023">Merchant websites <b>106</b>B-<b>106</b><i>n </i>offer similar interfaces to products and/or services offered for sale, and the user can select products for purchase by visiting these merchant web sites as well.</p>
<p id="p-0025" num="0024">To complete an online transaction, merchant web sites <b>106</b>A-<b>106</b><i>n </i>can accept, for example, a credit card number, or some other form of payment capable of being processed electronically. Merchant web sites registered with the payment system <b>112</b> forward users to the payment system <b>112</b> for payment processing. For example, upon receiving a user indication that he or she wishes to make a purchase (e.g., by selecting a checkout button) the merchant websites <b>106</b>A-<b>106</b><i>n </i>forward the web browser of the user computer <b>102</b> to the payment system <b>112</b>. The web server <b>114</b> of the payment system <b>112</b> then sends HTML to the web browser to provide an interface to the user computer <b>102</b> that can, for example, prompt for and accept information from the user to complete the sale, with the user computer <b>102</b> functioning as a user interface device.</p>
<p id="p-0026" num="0025">The payment system <b>112</b> can store billing information entered by the user into the user datastore <b>116</b> in association with a user identifier (user id). Data corresponding to a given user can be stored in the user datastore <b>116</b> in association with that user's user id. The system can issue a login name (this could be the same as the user id) and a password to the user to protect the stored information. Upon the user making a later purchase from a merchant website <b>106</b>A-<b>106</b><i>n </i>(that uses the payment system <b>112</b> for order processing) the user does not have to reenter the previously entered information. The user id and password can instead be provided by the user to the payment system <b>112</b> which can use the user id to retrieve the user's account information to process a payment. The payment system <b>112</b> also stores transaction information for the user. For example, the transaction information can be stored in the user datastore <b>116</b>. The transaction information can include, for example, a list of items purchased, a date and/or time of purchase, and an amount paid.</p>
<p id="p-0027" num="0026">The payment server <b>112</b> functions as a trusted intermediary between users and merchants. Users can enter information once and trust that it will remain secure and not be misused. Merchants can register with the payment system <b>112</b> so that the payment system <b>112</b> can process merchant payments.</p>
<p id="p-0028" num="0027">Prior to forwarding a user to the payment system <b>112</b>, each of the merchant web sites registers with the payment system <b>112</b>. For example, a web site administrator of the merchant web site <b>106</b>A can use a computer to access a user interface provided by the web server <b>114</b> to register the merchant with the payment system. The payment system can create an account for the merchant having a merchant identifier (merchant id) that can be stored in association with corresponding merchant records in the merchant datastore <b>118</b>. The registration process can include providing merchant details such as a business name, location, bank account information, and inventory data. In some implementations, merchants can upload one or more advertisements corresponding to goods and/or services offered at the merchant's website. In some implementations, the payment system generates one or more advertisements for a merchant based on the merchant's uploaded inventory data. For example, a product description, image, and price can be used to create an advertisement for that product.</p>
<p id="p-0029" num="0028">In some implementations, the registration process also includes creating an advertisement filter to be associated with the merchant account. For example, the payment system <b>112</b> can present a list of other registered merchants to a merchant administrator who can then include (whitelist) or exclude (blacklist) one or more merchants to create a filter. The payment system <b>112</b> can use the filter in selecting advertisements for display to users that have been forwarded to the payment system <b>112</b> by the merchant website (corresponding to the administrator who created the filter). Merchants placed on a whitelist can, for example, be merchants that the registering merchant does not view as a competitor. Merchants placed on the blacklist can, for example, be merchants that the registering merchant sees as direct competitors or that the registering merchant thinks that forwarded users might find offensive.</p>
<p id="p-0030" num="0029">The merchant id can be provided to the payment system <b>112</b> by a merchant web site <b>106</b>A-<b>106</b><i>n </i>upon that site forwarding a user to the payment system <b>112</b> for completing a transaction. Funds received from the user can be transferred by the payment system <b>112</b> to an account associated with the merchant id of the forwarding merchant.</p>
<p id="p-0031" num="0030">During (or following) the checkout process, the payment system <b>112</b> can present one or more advertisements to the user on one or more payment processing pages. For example, the payment system <b>112</b> can present merchant advertisements for other registered merchants on a transaction confirmation and/or a &#x201c;thank you&#x201d; page presented by the payment system <b>112</b>. The advertisements displayed can be selected from merchant advertisements stored in the merchant datastore <b>118</b> (subject to the filter created by the merchant for whom a payment is being processed).</p>
<p id="p-0032" num="0031">The payment system's presentation of advertisements during the checkout process promotes both further use of the payment system <b>112</b> and additional user commerce with registered merchants. Because the advertisements are directed toward merchants that are registered with the payment system, the user can purchase from advertised merchants without entering redundant information (e.g., billing information, shipping information, etc.)</p>
<p id="p-0033" num="0032">The payment system can increase the benefit of presented advertisements by targeting the advertisement to the interests of the individual user to which the advertisement is to be presented. In selecting advertisements for display, the payment system can utilize a temporal analysis module <b>115</b>. The temporal analysis module can examine the corpus of user data in the user datastore <b>116</b> to select advertisements from the corpus of advertisements that are relevant to the user's interests as indicated by the user's current, recent, and/or desired purchase activity. The temporal analysis module <b>115</b> can be a computer program running on server hardware.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 2</figref> is a flowchart of an example method <b>200</b> for providing an advertisement based on a temporal analysis of user data. The method is described with respect to an example system implementing the method, the payment system <b>112</b>, for example. Transaction information is identified (<b>204</b>). For example, a merchant server can forward a user that has initiated a checkout procedure to the payment system <b>112</b>. The transaction information can include, for example, the forwarding merchant id, and a list of products to be purchased by the user. An associated transaction can be processed (<b>206</b>). For example, the user can login to the payment system by entering a user id and password. In some implementations, a web browser cookie stored in the user's computer can provide the user's identifying information. One or more keywords and/or key phrases that correspond to respective user events recorded in the user data are generated (<b>208</b>). With the user's identity established, the system can examine the user data associated with the user id to generate one or more keywords and/or key phrases that correspond to a respective user events recorded in the user data. For the remainder of this description the term &#x201c;keyword&#x201d; refers to both a single word keyword and a multiple word key phrase unless otherwise stated. A temporal analysis of the user data can be performed, reviewing user events recorded in the user data (<b>210</b>). One or more advertisements are identified based on the temporal analysis, the keywords, and a merchant filter for the forwarding merchant id (<b>212</b>). One or more of the advertisements are displayed to on a web page served to the user's computer (<b>214</b>). For example, an advertisement can be displayed on a payment processing page, a confirmation page, and/or a thank you page. A displayed advertisement can include a hyperlink that directs the user's web browser to the advertised merchant's web site upon user selection of the advertisement.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart of an example method <b>300</b> for selecting one or more advertisements for display based on a temporal analysis of user data. The method is described with respect to a system implementing the method. One or more keywords relevant to the user data are generated (<b>302</b>). For example, a temporal analysis module can examine purchase history and/or wish list information to extract one or more keywords. A purchase history can include one or more item identifiers corresponding to items purchased and a time of purchase stored in association with a user id (of the user that made the purchase). A wish list can include one or more item identifiers corresponding to items that a user has indicated that he or she would like to purchase and a time this indication was made stored in association with a corresponding user id.</p>
<p id="p-0036" num="0035">A temporal weight is assigned to the keyword(s) (<b>304</b>). A temporal weight can, for example, be based on a comparison of the time that a user event recorded in the user data (e.g., a purchase) was performed with the current time. In some implementations, the temporal weight of a given keyword is based on how recently the event (from which the corresponding keyword was generated) occurred. For example, a temporal weight between 0 and 1 can be assigned to a keyword of &#x201c;bicycle&#x201d; generated from records in a user's purchase history corresponding to a past purchase of a bicycle, where the value of the weight depends on how long ago the purchase was made. A temporal weight for a keyword generated from a user wish list item can, for example, be based on how recently the user added the item to their wish list.</p>
<p id="p-0037" num="0036">One or more candidate advertisements are selected for the generated keywords (<b>306</b>). For example, the system can search of a pool of advertisements using a first generated keyword to return candidate results and then search the pool of advertisements using a second generated keyword, etc. In some implementations, the system compares a given generated keyword with one or more keywords stored in association with an advertisement. In some implementations the system compares a given generated keyword with product descriptions of products advertised in the advertisements. A ranking score is assigned to candidate advertisements based on their relevancy to the corresponding keyword that resulted in their identification (<b>308</b>).</p>
<p id="p-0038" num="0037">The ranking scores of the candidate advertisements are adjusted using the temporal weights of the corresponding keywords (<b>310</b>). For example, if the keyword &#x201c;bicycle&#x201d; has a temporal weight of 0.8 and resulted in the identification of three candidate advertisements, the ranking scores of those three candidate advertisements can be multiplied by 0.8 to adjust their ranking. One or more top adjusted rank advertisements are selected for display to a user (<b>312</b>).</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 4</figref> is a diagram <b>400</b> illustrating example information flow during an advertisement identification process incorporating temporal analysis. User data from the user datastore <b>116</b>, including, for example, user purchase histories <b>402</b> and user wish lists <b>404</b> can be provided to the temporal analysis module <b>115</b>.</p>
<p id="p-0040" num="0039">A temporal weight generated by the temporal analysis module <b>115</b> for a given keyword is a dependent on the content of the user data <b>116</b>. The temporal weight is based on user events recorded in the user data and times associated with those events. The temporal weight for a given keyword, for example, can be a function of that keyword, a user purchase history, a user wish list, other collected user data, and time (as associated with the user data records).</p>
<p id="p-0041" num="0040">The user id <b>406</b> is provided to the temporal analysis module <b>115</b>. Using the user id <b>406</b>, the temporal analysis module <b>115</b> can select purchase history <b>402</b> and/or wish list <b>404</b> information specific to the user corresponding to the user id. For example, the temporal analysis module <b>115</b> can examine all purchase history information and wish list information stored in association with the received user id.</p>
<p id="p-0042" num="0041">The temporal analysis module <b>115</b> can examine the user data (purchase history and/or wish list) to generate one or more keywords that correspond to a respective user activity represented in the user data. The temporal analysis module can assign a temporal weight to each of the keywords based on the time at which the user activity corresponding to the keyword occurred relative to a current time. For example, a keyword can be extracted from a purchase history that includes a product description, or by reading a product description from inventory information <b>410</b> in the merchant datastore <b>118</b>.</p>
<p id="p-0043" num="0042">In some implementations, a temporal weight is a decimal value that ranges from 0 to 1. Higher temporal weights, for example, can be assigned to keywords that correspond to more recent user activity.</p>
<p id="p-0044" num="0043">The temporal analysis module <b>115</b> can provide one or more keyword-temporal weight pairs to the ranking engine <b>408</b>. A merchant id <b>418</b> of the forwarding merchant for the transaction being processed can be provided to the ranking engine <b>408</b>. The merchant id can be used, for example, to obtain the merchant's filter information <b>412</b> from the merchant datastore <b>118</b>. The ranking engine <b>408</b> can use the one or more keywords supplied by the temporal analysis module <b>115</b> to identify a number of candidate advertisements from the advertisements <b>414</b> stored in the merchant datastore <b>118</b>. The ranking engine can ignore advertisements for blacklisted merchants and/or search only advertisements for whitelisted merchants. In some embodiments, in addition to or in lieu of existing advertisements stored in the merchant datastore <b>118</b>, candidate advertisements can also be generated by, for example, the payment system <b>112</b>, to advertise items stored in the inventory information <b>410</b> having descriptions that are related to the keywords.</p>
<p id="p-0045" num="0044">The candidate advertisements identified by the ranking engine <b>408</b> can be assigned a ranking score by the ranking engine based on their relevance to a keyword provided by the temporal analysis module <b>115</b>. The ranking engine <b>408</b> uses the temporal weights assigned by the temporal analysis module to adjust the ranking of the candidate advertisements. In some implementations, the ranking of candidate advertisements that are identified based on a given keyword are multiplied by the temporal weight assigned to that keyword. The result is a list of candidate advertisements having an adjusted rank.</p>
<p id="p-0046" num="0045">The top ranked advertisement or an integer number of the top ranked advertisements <b>416</b> are identified. The identified advertisement or advertisements are presented to the user.</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 5A</figref> is a table illustrating example relationships between keywords, temporal weights, advertisements, and adjusted rankings. The &#x201c;keyword&#x201d; column includes examples of keywords generated using user data. For example, a purchase history of a given user can include records of the following events in the order listed: the user purchased a heart rate monitor, the user purchased a water bottle, the user purchased a set of headphones, and the user purchased a bicycle. In the example shown, &#x201c;bicycle&#x201d; has been assigned a temporal weight of 1. The weight of 1 can be assigned, for example, because the user just purchased (or very recently purchased) the bicycle. For example, the merchant selling the bicycle can be the merchant that forwarded the user to the payment system. The keywords &#x201c;headphones&#x201d;, &#x201c;water bottle&#x201d;, and &#x201c;heart rate monitor&#x201d; have decreasing temporal weights representative of the time their corresponding user event occurred.</p>
<p id="p-0048" num="0047">The &#x201c;advertisement&#x201d; column includes the names of items advertised in candidate advertisements that correspond to the keywords. For example, a search of advertisements stored in a payment system using the keyword &#x201c;bicycle&#x201d; returned advertisements for a helmet, gloves, and bike shorts having (initial) rankings of 0.94, 0.74, and 0.10 respectively based on a relevance of the advertisement to the keyword. The initial rankings are multiplied by the temporal weights of the corresponding keywords to arrive at an adjusted ranking for each advertisement shown in the rightmost column.</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 5B</figref> is a table showing example advertisements ordered according to their adjusted ranking. The example advertisements and adjusted rankings shown correspond to those of <figref idref="DRAWINGS">FIG. 5A</figref>. The three highest ranked advertisements <b>500</b> can be selected for display to a user, for example, on a payment confirmation page of a payment system.</p>
<p id="p-0050" num="0049">The adjustment of the ranked advertisements using the temporal weights generally tends to lower the rank of advertisements that correspond to older keywords. That is, the rankings of advertisements that correspond to more recent user events are reduced less than the rankings of advertisements corresponding to events that occurred further in the past. This tends to cause advertisements related to more recent events to be moved to the top of a rankings list, representative of the notion that more recent user events can be more indicative of a user's current interests than older events. The advertisements can advertise goods and/or services of registered merchants across a payment system and are not limited to merely advertising goods and services of a single merchant. The advertisements selected for display to the user are customized to that user's current interests as indicated, for example, by their purchase history and/or other user data available to a payment system. The advertisements can be considered to be delivered just-in-time as that term is used to refer to a delivery that is customized to match one or more parameters in real time or near real time.</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram of an example environment <b>600</b> of a temporal analysis module <b>610</b> used in a distributed applications provider <b>606</b>. In some implementations, a distributed applications provider utilizes a temporal analysis module to serve just-in-time targeted advertisements on application display screens and/or affiliated publisher web pages that direct users to advertiser web sites. A user of the computer <b>602</b> can direct a web browser of the computer to a web server <b>608</b> of the distributed applications provider <b>606</b>. The web server can serve one or more user interface web pages to the web browser for display on a display device of the computer <b>602</b>. The computer <b>602</b> can display the user interface web pages to a user of the computer <b>602</b>, where the computer <b>602</b> functions as a user interface device. The distributed applications provider <b>606</b> includes a targeted advertising application having a temporal analysis module <b>610</b>, a user datastore <b>612</b>, and an application datastore <b>614</b>. The distributed applications provider <b>606</b> can also include one or more applications <b>616</b>, for example, a search engine interface, an email application, a scheduling application, a mapping application, and a payment system application.</p>
<p id="p-0052" num="0051">A user of the computer <b>602</b> can access the applications <b>616</b> through the web server <b>608</b> which can, for example, serve user interface pages for the applications <b>616</b> or forward the user's web browser to one or more additional web servers that serve interface pages for the applications <b>616</b>. The user can register with the distributed applications provider to, for example, gain access to enhanced application features, e.g., user preference settings for a search engine and/or a mapping application, and/or to use applications for which a user login is generally needed in order for the applications to function, e.g., e-mail, a scheduling application, and/or a payment system. The distributed applications provider <b>606</b> provides the user with a user id and assigns a password. The user can later provide the user id and password to verify the user's identity for subsequent uses of one or more of the applications.</p>
<p id="p-0053" num="0052">The distributed applications provider <b>606</b> can store the user id in association with user data in stored in the user datastore <b>612</b> that corresponds to user activity using the applications <b>616</b>. For example, user preferences for the search engine and mapping application, a user query history (e.g., storing past queries entered into the search engine by the user), a user click history (e.g., storing hyperlinks that the user has previously clicked on), sent and received e-mail, scheduled events entered into a scheduling application, and/or billing and shipping information entered by the user into a payment system can be stored in association with the user id in the user datastore <b>612</b>. The application datastore <b>614</b> can store data used by the applications, for example, a corpus of resources searched by the search engine, mapping data used by the mapping system, and/or advertisements uploaded by one or more advertisers to the targeted advertising application <b>609</b>.</p>
<p id="p-0054" num="0053">An advertiser administrator using the advertiser computer <b>618</b> can upload one or more advertisements to the distributed applications provider <b>606</b>. Uploaded advertisements can include related keyword designations, and a bid amount that the advertiser agrees to pay to the distributed applications provider <b>606</b> upon the satisfaction of a given criteria (e.g., the advertisement is displayed, or the advertisement is selected by a user). The uploaded advertisements can include a link for forwarding a user's web browser to a web server <b>622</b> of an advertiser web site <b>620</b>.</p>
<p id="p-0055" num="0054">A publisher administrator using the publisher computer <b>624</b> can register with the distributed applications provider to display advertisements along with content of the publisher web site <b>626</b>. The distributed applications provider can provide scripts for installation on one or more web pages served by the web server <b>628</b> that will permit the distributed applications provider <b>606</b> to dynamically insert advertisements into the web pages as they are displayed on a user's computer who visits the publisher website. The publisher administrator can also use the computer <b>624</b> to submit whitelisted and/or blacklisted advertisers to control what advertisements are displayed with the publisher's website content.</p>
<p id="p-0056" num="0055">A user of the computer <b>602</b> visiting the publisher web site <b>626</b> is provided with the web site content of the site as well as one or more advertisements identified by the targeted advertising application for display on the web page. Conventionally, keyword designations provided with advertisements uploaded by advertisers are used to match advertisements with website content that is relevant to the advertisement. The targeted advertising application <b>609</b> using the temporal analysis module <b>610</b> can instead, or in addition, identify and display advertisements on the web page that are identified based on advertisement keywords and a temporal analysis of user data stored in the user datastore <b>612</b>.</p>
<p id="p-0057" num="0056">A temporal weight generated by the temporal analysis module <b>610</b> for a given keyword is a dependent on the user data <b>612</b> which can be user data corresponding to any or all of the applications <b>616</b>. The temporal weight for a given keyword, for example, can be a function of that keyword, user searches using the search engine and/or mapping application, recently received email messages, scheduled events, as well as a user purchase history, a user wish list, any other collected user data, and time (as associated with events recorded in the user data).</p>
<p id="p-0058" num="0057">In some implementations, user data for a scheduler application can be used in generating keywords and assigning temporal weights for future events. For example, if a user has a scheduler application (e.g., an application that includes a calendar for a user to create a schedule) entry entitled, &#x201c;Trip to Hawaii&#x201d; the keywords/keyphrases &#x201c;vacation&#x201d;, &#x201c;Hawaii&#x201d;, and/or &#x201c;Hawaii vacation&#x201d; can be generated based on this user data. Entries for &#x201c;Mom's Birthday&#x201d;, and &#x201c;My Wedding Day&#x201d;, for example, can be treated in a like manner. A temporal weight can be assigned to these keywords based on the date of the entry in the scheduler application. These keywords and corresponding temporal weights can be used to select one or more content items (e.g., advertisements or others messages) for display to the user. In some implementations, temporal weights for future events are decimal values between 0 and 1, and are higher for events that are scheduled to occur sooner. In some implementations, analysis and ranking of future events is combined with that of past events recorded in user data in selecting one or more content items for display to a user.</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 7</figref> is a flowchart of an example method <b>700</b> for displaying one or more targeted advertisements on a publisher web site based on a temporal analysis of user data. The method is described in reference to a system implementing the method. A request is received (e.g., from a user computer) for a targeted advertisement (<b>702</b>). For example, one or more scripts in a publisher web page sent to a web browser of the user computer can instruct the web browser to request one or more advertisements from a targeted advertising system for display with the content of the publisher web page. A user id of the user, and corresponding user data if the user is registered with and logged into the system, is retrieved (<b>703</b>). If, for example, the user of the computer has a user id with a distributed applications provider and is currently logged in, the user's information can be retrieved from the corpus of user data in the user datastore of the distributed applications provider. The user's login state can be maintained, for example, by a web browser cookie stored on the user computer.</p>
<p id="p-0060" num="0059">User data is analyzed to generate relevant keywords (<b>704</b>). For example, a temporal analysis module of a distributed applications provider can search the user data for events corresponding to each of the generated keywords. A respective temporal weight is assigned to each keyword based on the temporal analysis (<b>706</b>). In some embodiments, the system can assign a decimal value between 0 and 1 to each of the keywords based on the time of occurrence of an event corresponding to the keyword. For example, keywords corresponding to recent events can be assigned a value closer to 1, while older events are assigned lower values. A ranked list of candidate advertisements is generated based on the generated keywords (<b>708</b>). For example, a corpus of advertisements stored in a targeted advertising system can be searched using each of the generated keywords, with each search producing a list of ranked results.</p>
<p id="p-0061" num="0060">The rankings of the candidate advertisements can be adjusted using the temporal weights of the corresponding keywords (<b>710</b>). For example, a candidate advertisement's ranking can be multiplied by the temporal weight of the keyword that led to the identification of the candidate result. One or more of the top ranked advertisements (based on the adjusted rank) are selected for display to the user (<b>712</b>) and transmitted to the user computer for display (<b>714</b>).</p>
<p id="p-0062" num="0061">In addition to providing targeted advertisements for display on publisher web pages, the system <b>600</b> can also perform a temporal analysis of user data in order to select one or more advertisements for display within application display pages served by the distributed applications provider. Temporally relevant targeted advertisements can be displayed on user interface pages for any of the applications provided. For example, user data can be analyzed to select one or more advertisements for display on interfaces pages of a search engine, mapping application, email application, scheduler, and/or a payment system, among others.</p>
<p id="p-0063" num="0062">Although this description generally refers to the selecting of advertisements, other forms of content are possible including other forms of sponsored content. For example, the system <b>100</b> of <figref idref="DRAWINGS">FIG. 1</figref> and the system <b>600</b> of <figref idref="DRAWINGS">FIG. 6</figref> are not limited to selecting content items that have a direct relationship with a product or good that is offered for sale/presented. Systems <b>100</b> and <b>600</b>, and the methods described herein, can also be used to select and provide content that is not directly commercial in nature. For example, the systems can search one or more content items that provide links to news articles reporting current events, perform the temporal analysis described herein, and select one or more content items for delivery to a user based on the temporal analysis of user data.</p>
<p id="p-0064" num="0063">Embodiments of the subject matter and the functional operations described in this specification can be implemented in digital electronic circuitry, or in computer software, firmware, or hardware, including the structures disclosed in this specification and their structural equivalents, or in combinations of one or more of them. Embodiments of the subject matter described in this specification can be implemented as one or more computer program products, i.e., one or more modules of computer program instructions encoded on a tangible program carrier for execution by, or to control the operation of, data processing apparatus. The tangible program carrier can be a propagated signal or a computer-readable medium. The propagated signal is an artificially generated signal, e.g., a machine-generated electrical, optical, or electromagnetic signal, that is generated to encode information for transmission to suitable receiver apparatus for execution by a computer. The computer-readable medium can be a machine-readable storage device, a machine-readable storage substrate, a memory device, a composition of matter affecting a machine-readable propagated signal, or a combination of one or more of them.</p>
<p id="p-0065" num="0064">The term &#x201c;data processing apparatus&#x201d; encompasses all apparatus, devices, and machines for processing data, including by way of example a programmable processor, a computer, or multiple processors or computers. The apparatus can include, in addition to hardware, code that creates an execution environment for the computer program in question, e.g., code that constitutes processor firmware, a protocol stack, a database management system, an operating system, or a combination of one or more of them.</p>
<p id="p-0066" num="0065">A computer program (also known as a program, software, software application, script, or code) can be written in any form of programming language, including compiled or interpreted languages, or declarative or procedural languages, and it can be deployed in any form, including as a stand-alone program or as a module, component, subroutine, or other unit suitable for use in a computing environment. A computer program does not necessarily correspond to a file in a file system. A program can be stored in a portion of a file that holds other programs or data (e.g., one or more scripts stored in a markup language document), in a single file dedicated to the program in question, or in multiple coordinated files (e.g., files that store one or more modules, sub-programs, or portions of code). A computer program can be deployed to be executed on one computer or on multiple computers that are located at one site or distributed across multiple sites and interconnected by a communication network.</p>
<p id="p-0067" num="0066">The processes and logic flows described in this specification can be performed by one or more programmable processors executing one or more computer programs to perform functions by operating on input data and generating output. The processes and logic flows can also be performed by, and apparatus can also be implemented as, special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application-specific integrated circuit).</p>
<p id="p-0068" num="0067">Processors suitable for the execution of a computer program include, by way of example, both general and special purpose microprocessors, and any one or more processors of any kind of digital computer. Generally, a processor will receive instructions and data from a read-only memory or a random access memory or both. The essential elements of a computer are a processor for performing instructions and one or more memory devices for storing instructions and data. Generally, a computer will also include, or be operatively coupled to receive data from or transfer data to, or both, one or more mass storage devices for storing data, e.g., magnetic, magneto-optical disks, or optical disks. However, a computer need not have such devices. Moreover, a computer can be embedded in another device, e.g., a mobile telephone, a personal digital assistant (PDA), a mobile audio or video player, a game console, a Global Positioning System (GPS) receiver, to name just a few.</p>
<p id="p-0069" num="0068">Computer-readable media suitable for storing computer program instructions and data include all forms of non-volatile memory, media and memory devices, including by way of example semiconductor memory devices, e.g., EPROM, EEPROM, and flash memory devices; magnetic disks, e.g., internal hard disks or removable disks; magneto-optical disks; and CD-ROM and DVD-ROM disks. The processor and the memory can be supplemented by, or incorporated in, special purpose logic circuitry.</p>
<p id="p-0070" num="0069">To provide for interaction with a user, embodiments of the subject matter described in this specification can be implemented on a computer having a display device, e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor, for displaying information to the user and a keyboard and a pointing device, e.g., a mouse or a trackball, by which the user can provide input to the computer. Other kinds of devices can be used to provide for interaction with a user as well; for example, feedback provided to the user can be any form of sensory feedback, e.g., visual feedback, auditory feedback, or tactile feedback; and input from the user can be received in any form, including acoustic, speech, or tactile input.</p>
<p id="p-0071" num="0070">While this specification contains many specific implementation details, these should not be construed as limitations on the scope of any invention or of what may be claimed, but rather as descriptions of features that may be specific to particular embodiments of particular inventions. Certain features that are described in this specification in the context of separate embodiments can also be implemented in combination in a single embodiment. Conversely, various features that are described in the context of a single embodiment can also be implemented in multiple embodiments separately or in any suitable subcombination. Moreover, although features may be described above as acting in certain combinations and even initially claimed as such, one or more features from a claimed combination can in some cases be excised from the combination, and the claimed combination may be directed to a subcombination or variation of a subcombination.</p>
<p id="p-0072" num="0071">Similarly, while operations are depicted in the drawings in a particular order, this should not be understood as requiring that such operations be performed in the particular order shown or in sequential order, or that all illustrated operations be performed, to achieve desirable results. In certain circumstances, multitasking and parallel processing may be advantageous. Moreover, the separation of various system components in the embodiments described above should not be understood as requiring such separation in all embodiments, and it should be understood that the described program components and systems can generally be integrated together in a single software product or packaged into multiple software products.</p>
<p id="p-0073" num="0072">Particular embodiments of the subject matter described in this specification have been described. Other embodiments are within the scope of the following claims. For example, the actions recited in the claims can be performed in a different order and still achieve desirable results. As one example, the processes depicted in the accompanying figures do not necessarily require the particular order shown, or sequential order, to achieve desirable results. In certain implementations, multitasking and parallel processing may be advantageous.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method to present content items, the method comprising:
<claim-text>identifying, by data processing apparatus, a recent event associated with a user, and a plurality of past events, each of which is associated with the user and occurred before the recent event, wherein each event of the plurality of past events includes an action by the user to add an item to a wish list before the recent event;</claim-text>
<claim-text>for each of the plurality of past events:
<claim-text>determining, by one or more data processing apparatus, a keyword associated with a particular past event,</claim-text>
<claim-text>determining, by one or more data processing apparatus, a temporal weight for the keyword, the temporal weight based on a time of occurrence of the particular past event relative to a time of occurrence of the recent event,</claim-text>
<claim-text>identifying, by one or more data processing apparatus, a plurality of ranked candidate content items for presentation to the user based on the keyword, and</claim-text>
<claim-text>adjusting, by one or more data processing apparatus, ranks of the plurality of ranked candidate content items based on the temporal weight for the keyword associated with the particular past event resulting in an adjusted plurality of ranked content items, wherein adjusting the ranks comprises multiplying the temporal weight for the keyword with a rank of each candidate content item of the plurality of candidate content items;</claim-text>
</claim-text>
<claim-text>identifying a future event associated with the user, the future event scheduled to occur at a time after the recent event;</claim-text>
<claim-text>determining a keyword associated with the future event and a temporal weight associated with the keyword associated with the future event;</claim-text>
<claim-text>determining a plurality of ranked candidate content items based on the keyword associated with the future event;</claim-text>
<claim-text>adjusting ranks of the plurality of ranked candidate content items determined based on the keyword associated with the future event and the temporal weight associated with the keyword associated with the future event resulting in another adjusted plurality of ranked candidate content items;</claim-text>
<claim-text>identifying, by one or more data processing apparatus, a plurality of ranked candidate content items selected based on a keyword associated with the recent event;</claim-text>
<claim-text>and selecting, by one or more data processing apparatus, one or more highest ranked candidate content items from among the plurality of ranked candidate content items selected based on the keyword associated with the recent event, the another adjusted plurality of ranked candidate content items, and the adjusted plurality of ranked candidate content items for each of the plurality of past events for presentation to the user.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the recent event includes a transaction between the user and a merchant, the method further comprising:
<claim-text>receiving a request to process a transaction between the user and a merchant; and</claim-text>
<claim-text>sending the one or more highest ranked candidate content items for display to the user near a conclusion of the transaction.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein:
<claim-text>the candidate content items comprise advertisements provided by merchants registered with a payment system.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>displaying the one or more highest ranked candidate content items to the user.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the temporal weight is a decimal value.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the recent event comprises an action by the user to add an item to a wish list.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>determining a temporal weight for the keyword associated with the recent event; and</claim-text>
<claim-text>adjusting ranks of the plurality of ranked candidate content items selected based on the keyword associated with the recent event, based on the temporal weight for the keyword associated with the recent event.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:
<claim-text>the future event is scheduled in user data for one or more applications offered by a distributed applications provider.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising presenting the one or more highest ranked candidate content items to the user, wherein each of the one or more highest ranked candidate content items includes a selectable hyperlink that addresses a respective highest ranked candidate content item.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>filtering candidate content items, wherein filtering candidate content items includes applying at least one of a whitelist or a blacklist.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:
<claim-text>the list of adjusted rank content items comprises candidate content items from at least two sets of candidate content items.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A system comprising:
<claim-text>data processing apparatus; and</claim-text>
<claim-text>a non-transitory computer-readable medium storing computer program instructions executable by the data processing apparatus to perform operations comprising:
<claim-text>receiving a request to display content items to a user during a recent event associated with the user at a particular time;</claim-text>
<claim-text>identifying past user events associated with the user, each of which occurred before the particular time, wherein each of the past user events includes an action by the user to add an item to a wish list before the recent event;</claim-text>
<claim-text>for each of the past user events:
<claim-text>determining a respective keyword;</claim-text>
<claim-text>determining a temporal weight that corresponds to the respective keyword;</claim-text>
<claim-text>generating a list of ranked candidate content items for displaying to the user based on the respective keyword; and</claim-text>
<claim-text>generating an adjusted rank list of candidate content items by applying the temporal weight that corresponds to the respective keyword to each candidate content item in the list of ranked candidate content items, wherein applying the temporal weight comprises multiplying a ranking score of each candidate content item in the list by the temporal weight determined for the respective keyword;</claim-text>
</claim-text>
<claim-text>identifying a future event associated with the user, the future event scheduled to occur after the recent event;</claim-text>
<claim-text>determining a keyword associated with the future event and a temporal weight associated with the keyword associated with the future event;</claim-text>
<claim-text>generating a list of ranked candidate content items for displaying to the user based on the keyword determined for the future event;</claim-text>
<claim-text>generating an another adjusted rank list of candidate content items based on the keyword associated with the future event and the temporal weight associated with the keyword associated with the future event;</claim-text>
<claim-text>identifying a plurality of ranked candidate content items based on a keyword associated with the recent event, wherein the keyword is associated with a respective temporal weight;</claim-text>
<claim-text>adjusting ranks of the plurality of ranked candidate content items based on the temporal weight associated with the keyword associated with the recent event resulting in an adjusted plurality of ranked candidate content items;</claim-text>
<claim-text>selecting one or more highest ranked candidate content items from among the adjusted plurality of ranked candidate content items, the another adjusted rank list of candidate content items, and the adjusted rank list of candidate content items for each of the past user events; and</claim-text>
<claim-text>displaying the one or more highest ranked candidate content items in response to receiving the request.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the recent event includes a transaction between a user and a merchant at the particular time.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein generating a list of ranked candidate content items for displaying to the user based on the respective keyword comprises searching advertisements provided by merchants registered with a payment system.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein receiving the request to display content items to the user comprises receiving a request to identify one or more content items to be placed on a web page of an Internet publisher for display to the user.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein:
<claim-text>the content items comprise advertisements.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the past events comprise at least one of past user purchases or adding items to a wishlist.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. A non-transitory computer-readable medium storing computer program instructions executable by data processing apparatus to perform operations comprising:
<claim-text>receiving an indication that a recent event associated with a user occurred at a particular time;</claim-text>
<claim-text>determining that a plurality of past events that occurred at respective past times are associated with the user, wherein each of the plurality of past events includes an action by the user to add an item to a wish list before the recent event;</claim-text>
<claim-text>for each past event of the plurality of past events:
<claim-text>identifying a respective ranked list of candidate content items for presenting to the user at the particular time, wherein each candidate content item is selected based on a particular past event, and</claim-text>
<claim-text>adjusting ranks of candidate content items in the respective ranked list of candidate content items based on a temporal weight associated with the particular past event resulting in an adjusted ranked list of candidate content items, wherein adjusting the ranks comprises multiplying the temporal weight associated with the particular past event with a rank of each candidate content item,</claim-text>
</claim-text>
<claim-text>identifying a future event associated with the user, the future event scheduled to occur at a time after the recent event;</claim-text>
<claim-text>identifying an additional ranked list of candidate content items based on the future event;</claim-text>
<claim-text>adjusting ranks of the candidate content items in the additional ranked list of candidate content items based on a temporal weight associated with the future event resulting in an additional adjusted ranked list of candidate content items;</claim-text>
<claim-text>identifying another ranked list of candidate content items for presenting to the user at the particular time, wherein each candidate content item in the other ranked list of candidate content items is selected based on the recent event;</claim-text>
<claim-text>selecting one or more highest ranked candidate content items from the adjusted ranked list of candidate content items for each past event of the plurality of past events, the additional ranked list of candidate content items, and the other ranked list of candidate content items; and</claim-text>
<claim-text>providing the selected one or more highest ranked candidate content items in response to receiving the indication.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The non-transitory computer-readable medium of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein each past event is associated with one or more keywords, the operations to identify a respective ranked list of candidate items further comprising:
<claim-text>determining one or more keywords associated with each past event; and</claim-text>
<claim-text>identifying a plurality of content items to identify candidate content items that are also associated with the one or more keywords.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The non-transitory computer-readable medium of <claim-ref idref="CLM-00019">claim 19</claim-ref>, the operations further comprising:
<claim-text>adjusting ranks of candidate content items in the other ranked list based on a temporal weight associated with the recent event resulting in another adjusted ranked list of candidate content items, and</claim-text>
<claim-text>selecting one or more highest ranked candidate content items from the adjusted ranked list of candidate content items for each past event of the plurality of past events, the additional ranked list of candidate content items, and the other adjusted ranked list of candidate content items. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
