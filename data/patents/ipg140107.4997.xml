<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626094-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626094</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13752007</doc-number>
<date>20130128</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<disclaimer>
<text>This patent is subject to a terminal disclaimer.</text>
</disclaimer>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>B</subclass>
<main-group>1</main-group>
<subgroup>04</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>4551272</main-classification>
<further-classification>4552501</further-classification>
<further-classification>375345</further-classification>
<further-classification>370336</further-classification>
</classification-national>
<invention-title id="d2e51">Method and apparatus for compensating code channel power in a transmitter</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5715526</doc-number>
<kind>A</kind>
<name>Weaver, Jr. et al.</name>
<date>19980200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5745521</doc-number>
<kind>A</kind>
<name>Sugita</name>
<date>19980400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6429736</doc-number>
<kind>B1</kind>
<name>Parry et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6445930</doc-number>
<kind>B1</kind>
<name>Bartelme et al.</name>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6463264</doc-number>
<kind>B1</kind>
<name>Obara</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6480481</doc-number>
<kind>B1</kind>
<name>Park et al.</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6553018</doc-number>
<kind>B1</kind>
<name>Ichihara</name>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6594501</doc-number>
<kind>B2</kind>
<name>Black et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455522</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6690944</doc-number>
<kind>B1</kind>
<name>Lee et al.</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6694148</doc-number>
<kind>B1</kind>
<name>Frodigh et al.</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6757335</doc-number>
<kind>B2</kind>
<name>Lundby et al.</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375259</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>6993102</doc-number>
<kind>B2</kind>
<name>Spence et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>7062289</doc-number>
<kind>B2</kind>
<name>Shu et al.</name>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>7209515</doc-number>
<kind>B2</kind>
<name>Kilfoyle et al.</name>
<date>20070400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>7333784</doc-number>
<kind>B2</kind>
<name>Jin et al.</name>
<date>20080200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4551272</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>7436892</doc-number>
<kind>B2</kind>
<name>Lundby et al.</name>
<date>20081000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>7496375</doc-number>
<kind>B2</kind>
<name>Matsumoto</name>
<date>20090200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>7558540</doc-number>
<kind>B2</kind>
<name>Jin et al.</name>
<date>20090700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>7561558</doc-number>
<kind>B2</kind>
<name>Agarossi et al.</name>
<date>20090700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370344</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>7570709</doc-number>
<kind>B2</kind>
<name>Rouphael</name>
<date>20090800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>7577120</doc-number>
<kind>B2</kind>
<name>Hu et al.</name>
<date>20090800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370335</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>7792493</doc-number>
<kind>B2</kind>
<name>Janosevic et al.</name>
<date>20100900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>7869828</doc-number>
<kind>B2</kind>
<name>Wang et al.</name>
<date>20110100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>7899419</doc-number>
<kind>B2</kind>
<name>Jin et al.</name>
<date>20110300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4551272</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00025">
<document-id>
<country>US</country>
<doc-number>8099122</doc-number>
<kind>B1</kind>
<name>Chen</name>
<date>20120100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00026">
<document-id>
<country>US</country>
<doc-number>2001/0010684</doc-number>
<kind>A1</kind>
<name>Willenegger et al.</name>
<date>20010800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00027">
<document-id>
<country>US</country>
<doc-number>2002/0031082</doc-number>
<kind>A1</kind>
<name>Lundby et al.</name>
<date>20020300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00028">
<document-id>
<country>US</country>
<doc-number>2003/0048800</doc-number>
<kind>A1</kind>
<name>Kilfoyle et al.</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00029">
<document-id>
<country>US</country>
<doc-number>2003/0078010</doc-number>
<kind>A1</kind>
<name>Davis</name>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00030">
<document-id>
<country>US</country>
<doc-number>2003/0092462</doc-number>
<kind>A1</kind>
<name>Dartois</name>
<date>20030500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00031">
<document-id>
<country>US</country>
<doc-number>2005/0135312</doc-number>
<kind>A1</kind>
<name>Montojo et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>455103</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4551271</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4551272</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4552321</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4552341</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4552501</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370318</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370336</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370337</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370347</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375295</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375296</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375345</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>7</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>13308220</doc-number>
<date>20111130</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8385862</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13752007</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<division>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>13036936</doc-number>
<date>20110228</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8090331</doc-number>
<date>20120103</date>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13308220</doc-number>
</document-id>
</child-doc>
</relation>
</division>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>11972332</doc-number>
<date>20080110</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>7899419</doc-number>
<date>20110301</date>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13036936</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>10760060</doc-number>
<date>20040116</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>7333784</doc-number>
<date>20080219</date>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>11972332</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130142220</doc-number>
<kind>A1</kind>
<date>20130606</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only" applicant-authority-category="assignee">
<addressbook>
<orgname>Research in Motion Limited</orgname>
<address>
<city>Waterloo</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Jin</last-name>
<first-name>Xin</first-name>
<address>
<city>Waterloo</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Jiao</last-name>
<first-name>Qingzhong</first-name>
<address>
<city>Nepean</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Zhao</last-name>
<first-name>Wen</first-name>
<address>
<city>Kanata</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Novak Druce Connolly Bove + Quigg LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>BlackBerry Limited</orgname>
<role>03</role>
<address>
<city>Waterloo</city>
<country>CA</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Le</last-name>
<first-name>Nhan</first-name>
<department>2649</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">It has now been found that in some transmitter implementations which transmit multiple code channels, for example CDMA transmitters, the observed power for each code channel at the output relative to the other code channels is dependent upon the total transmit power due to non-linearities in the transmitter. Methods and apparatus are provided which use pre-set digital gains or digital gain adjustments to compensate for the non-linearities as a function of total transmit power such that at the output, the desired relative powers are observed.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="193.04mm" wi="281.69mm" file="US08626094-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="283.38mm" wi="192.11mm" orientation="landscape" file="US08626094-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="235.71mm" wi="162.14mm" file="US08626094-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="138.01mm" wi="96.77mm" file="US08626094-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="279.99mm" wi="186.69mm" orientation="landscape" file="US08626094-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="254.08mm" wi="148.51mm" file="US08626094-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application is a continuation of U.S. patent application Ser. No. 13/308,220 filed on Nov. 30, 2011, and claims the benefit thereof, which is a divisional application of U.S. Pat. No. 8,090,331 filed on Feb. 28, 2011, and claims the benefit thereof, which is a continuation application of U.S. Pat. No. 7,899,419 filed on Jan. 10, 2008, and claims the benefit thereof, which is a continuation application of U.S. Pat. No. 7,333,784 filed on Jan. 16, 2004, and claims the benefit thereof, and all of the above-identified applications are incorporated herein by reference in their entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">The invention relates to methods and apparatus for compensating the code channel power in a transmitter, for example for compensating code channel powers in a CDMA transmitter.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">Many communications standards require accurate regulation of transmitted power. This regulation depends in some cases not only upon the total radio link power, but also on data rates and signal formats. As an example, the CDMA 2000 standard has defined requirements for accurate transmit power control such as open loop and closed loop power control in the reverse link. These requirements also define relative code channel power requirements for each of the multiple code channels (for example pilot, FCH (Fundamental Channel), SCH (Supplemental Channel), DCCH (Dedicated Control Channel)) according to their data rates and signal formats. A detailed breakdown of the actual requirements for CDMA 2000 can be found in section 2.1.2 of IS-2000 hereby incorporated by reference in its entirety.</p>
<p id="p-0005" num="0004">However, these kinds of requirements are not unique to IS-2000. Many other communication standards also have similar requirements for relative code channel powers. A few examples of other standards which include such requirements are 3GPP UMTS, 3GPP2 1xEVDO.</p>
<p id="p-0006" num="0005">Conventional arrangements for implementing power control in such multiple code channel systems feature a controller which, in the digital domain, determines a gain for each of the channels which is to be active at a given time, subject to the relative code channel power requirement. These gains are then used to control digital gain elements. The outputs of the digital gain elements are combined, and normalized such that the sum of the channels has a more or less constant overall power. The output of the normalizer is then subject to further digital and RF processing before transmission. If the values of the individual digital gains provide a normalized total combined power, the digital portion of the transmitter does not need to include the normalizer.</p>
<heading id="h-0004" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0007" num="0006">According to one broad aspect, the invention provides a method in a transmitter having an output comprising:</p>
<p id="p-0008" num="0007">determining a current total transmit power for the output; determining a set of digital gains in response to the current total transmit power; applying the set of digital gains to a corresponding set of code channels, the set of digital gains setting relative powers of the set of code channels and also compensating for non-linearities in the transmitter as a function of the current total transmit power such that a desired relationship between channel powers of said set of channels after having been combined to produce the output is substantially achieved; combining the set of channels to produce the output.</p>
<p id="p-0009" num="0008">In some embodiments, the desired relationship between channel powers comprises a specified relative power for each of the channels in the output.</p>
<p id="p-0010" num="0009">In some embodiments, the method further comprises for each of at least one channel: maintaining a respective pre-set digital gain value for the channel for each of a plurality of states of the set of channels, and as a function of total transmit power; wherein the digital gain to be applied to the channel as part of said set of digital gains comprises the pre-set digital gain for the current state of the set of channels, and for the current total transmit power.</p>
<p id="p-0011" num="0010">In some embodiments, for each of said at least one channel, a respective pre-set digital gain is maintained for each of the plurality of states of the set of channels and for a plurality of ranges of total transmit power.</p>
<p id="p-0012" num="0011">In some embodiments, the method further comprises for each code channel: maintaining a respective pre-set digital gain value for the code channel for each of a plurality of states of the set of code channels, and for each of a plurality of ranges of total transmit power; wherein the digital gain to be applied to the code channel as part of said set of digital gains comprises the pre-set digital gain for a current state of the set of code channels, and for the range containing the current total transmit power.</p>
<p id="p-0013" num="0012">In some embodiments, each state comprises a selection of a particular set of code channels from a set of possible code channels, and a selection of at least one of an encoding format, a signal format, and a data rate for at least one of the set of particular code channels.</p>
<p id="p-0014" num="0013">In some embodiments, each state comprises at least one of: a selection of a particular set of code channels from an available set; a selection of a particular encoder format for at least one code channel; a selection of a particular signal format for at least one code channel; and a selection of a particular data rate for at least one code channel.</p>
<p id="p-0015" num="0014">In some embodiments, the method comprises: for each state and for each code channel: maintaining the pre-set digital gains in a table mapping each range of transmit power to a respective pre-set digital gain.</p>
<p id="p-0016" num="0015">In some embodiments, for each of at least one of the code channels determining a digital gain of said set of digital gains comprises: determining a nominal digital gain for the code channel; determining a gain adjustment for the code channel in response to the current total transmit power; combining the nominal digital gain and the gain adjustment to produce the digital gain of said set of digital gains for the code channel.</p>
<p id="p-0017" num="0016">In some embodiments, the gain adjustment is a multiplicative gain adjustment, wherein combining the nominal digital gain and the gain adjustment to produce the respective digital gains comprises multiplying the nominal digital gain by the gain adjustment.</p>
<p id="p-0018" num="0017">In some embodiments, the gain adjustment is an additive gain adjustment, wherein combining the nominal digital gain and the gain adjustment to produce the respective digital gains comprises adding the nominal digital gain to the gain adjustment.</p>
<p id="p-0019" num="0018">In some embodiments, the method comprises: for each state and for each code channel: maintaining the gain adjustments in a table mapping each range of transmit power to a respective gain adjustment.</p>
<p id="p-0020" num="0019">In some embodiments, each gain adjustment is pre-determined to provide compensation over a range of nominal digital gains.</p>
<p id="p-0021" num="0020">In some embodiments, the code channels are CDMA code channels.</p>
<p id="p-0022" num="0021">According to another broad aspect, the invention provides a transmitter having an output and a current transmit power, the transmitter comprising: a plurality of code channel generators and/or code channel encoders; for each code channel generator and/or code channel encoder, a respective digital gain element; a compensation element adapted to apply a set of digital gains to the digital gain elements, the set of digital gains compensating for non-linearities in the transmitter as a function of the current total transmit power such that a desired relationship between code channel powers of said set of code channels after having been combined to produce the output is substantially achieved.</p>
<p id="p-0023" num="0022">In some embodiments, the compensation element comprises: a memory containing for at least one code channel, a respective pre-set digital gain value for the code channel for each of a plurality of states of the set of code channels, and for a plurality of ranges of total transmit power.</p>
<p id="p-0024" num="0023">In some embodiments, the compensation element comprises a controller adapted to configure the transmitter to have a selected state of a plurality of states, each state comprising at least one of: a) a selection of a particular set of code channels from a set of available code channels; b) a selection of a particular encoder format for at least one code channel; c) a selection of a particular signal format for at least one code channel; and d) a selection of a particular data rate for at least one code channel; a memory containing for each state, a pre-set digital gain value for each code channel for each of a plurality of ranges of transmit power; wherein for each code channel the controller is adapted to apply the appropriate pre-set digital gain value as a function of the state and total transmit power as one digital gain of said set of digital gains.</p>
<p id="p-0025" num="0024">In some embodiments, the compensation element is further adapted to determine for at least one code channel a nominal digital gain for each code channel, and to combine a respective gain adjustment with each nominal digital gain value to determine the digital gains to be applied to the digital gain elements for the at least one code channel.</p>
<p id="p-0026" num="0025">In some embodiments, the compensation element comprises a controller adapted to configure the transmitter to have a selected state of a plurality of states, each state comprising at least one of: a) a selection of a particular set of code channels from a set of available code channels; b) a selection of a particular encoder format for at least one code channel; c) a selection of a particular signal format for at least one code channel; and d) a selection of a particular data rate for at least one code channel; a memory containing for each state, the pre-set digital gain adjustment for each code channel for each of a plurality of ranges of transmit power; wherein for each code channel the controller is adapted to employ an appropriate pre-set digital gain adjustment as a function of the state and total transmit power as said respective gain adjustment.</p>
<p id="p-0027" num="0026">In some embodiments, the transmitter further comprises: a power control subsystem adapted to determine the total transmit power.</p>
<p id="p-0028" num="0027">Other embodiments provide a computer readable medium having instructions stored thereon which instruct a computer to execute any of the methods summarized above. For example, one broad aspect of the invention provides a computer readable medium comprising computer readable instructions for implementing a method comprising: determining a current total transmit power for an output; determining a set of digital gains in response to the current total transmit power, the set of digital gains setting relative powers of a set of code channels and also compensating for non-linearities in a transmitter as a function of the current total transmit power such that a desired relationship between channel powers of said set of channels after having been combined to produce the output is substantially achieved.</p>
<p id="p-0029" num="0028">Other aspects and features of the present invention will become apparent, to those ordinarily skilled in the art, upon review of the following description of the specific embodiments of the invention.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0030" num="0029">The invention will now be described in greater detail with reference to the accompanying diagrams, in which:</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of a transmitter featuring code channel compensation, as provided by an embodiment of the invention;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 2</figref> is an example of a channel mapper table structure for use with the embodiment of <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram of a compensation element for performing channel compensation, provided by another embodiment of the invention;</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 4</figref> is a flowchart of an example method of determining pre-set digital gains;</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram of another transmitter featuring code channel compensation, as provided by another embodiment of the invention;</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 6</figref> is a flowchart of an example method of determining gain adjustments; and</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 7</figref> is another example of a channel mapper table structure.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0038" num="0037">Many impairments can result in the digital gains being applied to multiple code channels not achieving a desired relationship between the power of each of these channels in the output. One impairment of particular concern is non-linear distortions in the RF amplifier chain, in particular at the power amplifier (PA) stage. It has been conventionally thought that the relative code powers could be determined strictly by comparing the digital gains applied in the digital domain. However, it has now been found that in some implementations the observed power for each code channel at the output relative to the other code channels is dependent upon the total transmit power. In particular, for example in a CDMA wireless handset, it has been observed that relative to other code channels, the FCH power changes with the total transmit power significantly when the SCH is turned on.</p>
<p id="p-0039" num="0038">Referring now to <figref idref="DRAWINGS">FIG. 1</figref>, shown is a block diagram of a CDMA transmitter featuring code channel power compensation, as provided by an embodiment of the invention. The transmitter includes a digital portion, generally indicated at <b>10</b> and an analog portion generally indicated at <b>12</b>. The digital portion has a set of code channel generators and/or code channel encoders. In the illustrated example, those include a pilot generator <b>13</b>, a FCH encoder <b>14</b>, and an SCH encoder <b>15</b>.</p>
<p id="p-0040" num="0039">It is to be understood that these particular channels are indicated solely for the purpose of example. Additional or entirely different code channels could alternatively be employed. More generally any set of code channels can be employed that are to be combined such that a desired relationship between output channel powers is achieved.</p>
<p id="p-0041" num="0040">The output of each code channel generator or code channel encoder is fed to a respective programmable digital gain element. In the illustrated example, the output of pilot generator <b>13</b> is passed to programmable digital gain element <b>16</b> having gain G<b>1</b>, the output of FCH encoder <b>14</b> is passed to programmable digital gain element <b>18</b> having gain G<b>2</b>, and the output of SCH encoder <b>15</b> is passed to programmable digital gain element <b>20</b> having gain G<b>3</b>. The outputs of the digital gain elements are input to a normalizer <b>22</b>. In embodiments in which the digital gains of the programmable digital gain elements are set to achieve a substantially normalized total combined power or in embodiments where a normalized total combined power is not required, the normalizer <b>22</b> would not be required. The output of the normalizer <b>22</b> is fed to a CDMA spreader <b>24</b> which has I and Q channel outputs fed to digital-to-analog converter <b>26</b>. At this point the signals enter the analog domain from the digital domain. The analog portion <b>12</b> of the transmitter includes an IQ modulator <b>28</b>, AGC (Automatic Gain Control) amplifier <b>30</b>, mixer <b>32</b>, power amplifier <b>34</b> and transmit antenna <b>35</b>.</p>
<p id="p-0042" num="0041">It is noted that the particular combination of elements in the digital portion <b>10</b> and the analog portion <b>12</b> are shown by way of example. A given implementation may include different functions in these two portions. For example, in a zero IF design, there would not be any requirement for a mixer.</p>
<p id="p-0043" num="0042">The transmitter also has a power control subsystem generally indicated by <b>36</b>. In the illustrated example, the power control subsystem includes a power control function <b>37</b> having an output fed to an AGC (Automatic Gain Control) control block <b>38</b> which in turn is connected to a digital-to-analog converter <b>39</b>. The output of the digital-to-analog converter is used to control the gain of the AGC amplifier <b>30</b>.</p>
<p id="p-0044" num="0043">It is noted that a very specific example of a power control system is shown in the example. However, more generally any appropriate power control subsystem that produces the desired transmit power values can be employed. This might for example involve open-loop power control, closed-loop power control or a combination of open loop and closed-loop power control.</p>
<p id="p-0045" num="0044">Also shown is a compensation element <b>39</b>. In the illustrated example, the compensation element <b>39</b> has a controller <b>40</b> which is responsible for configuring a current state of the various code channel generators and code channel encoders (elements <b>13</b>, <b>14</b> and <b>15</b> in the illustrated examples). This control might for example, include selecting which channels are active, configuring various data rates, encoding formats and signal formats.</p>
<p id="p-0046" num="0045">For each programmable digital gain element (more generally for at least one programmable digital gain element) there is a mapper which takes the current state and selects a new programmable digital gain value which takes into account the overall transmit power in such a manner to result in the ratios between code channel powers at the output of antenna <b>35</b> being substantially equal to the desired ratios notwithstanding non-linearity in the digital portion and/or the analogue portion. In the illustrated example, mapper 1 <b>46</b> executes a mapping function for the first digital gain element <b>16</b>, mapper 2 <b>44</b> executes a second mapping function for the second digital gain element <b>18</b>, and mapper 3 <b>42</b> executes a third mapping function for the third digital gain element <b>20</b>. These mappers <b>42</b>, <b>44</b>, <b>46</b> operate as a function of a signal generated by the power control subsystem <b>36</b> which is representative of the total transmit power. In the illustrated examples, this output is taken after the power control function <b>37</b>. More generally, any transmit power indicator signal can be employed as an input to the mapping process. State information <b>41</b> from the controller is used to reconfigure the mappers each time there is a change in state, or the state can be used every time a new code channel relative power is demanded by the controller and thus a new digital gain value is to be determined by the mappers.</p>
<p id="p-0047" num="0046">In some embodiments, for any programmable digital gain elements which do not need to be compensated as a function of transmit power, the controller <b>90</b> uses a pre-calculated and static digital gain value for the current state of the channel encoders/generators.</p>
<p id="p-0048" num="0047">The input to each mapper <b>42</b>,<b>44</b>,<b>46</b> is the total transmitted power as determined by the power control subsystem <b>36</b>. The output of each of the mappers varies as a function of the total transmit power at a given current state. The output of each of the mappers controls one of the digital gain elements.</p>
<p id="p-0049" num="0048">The mapping functions executed by the mappers <b>42</b>,<b>44</b>,<b>46</b> are typically non-linear, having been determined by calibration and/or characterization.</p>
<p id="p-0050" num="0049">An example of a mapper structure is shown in <figref idref="DRAWINGS">FIG. 2</figref>. A first table <b>60</b> is shown for the Ith channel and a Jth state for the set of channels, for example a particular selected active set, and/or a particular encoding and/or signal format and/or particular data rates. Additional tables are indicated at <b>62</b>, <b>64</b>, for the same channel for other states of the set of active channels. In one embodiment, the outputs <b>41</b> from the controller <b>40</b> are used to select the appropriate table to use at a given instance. Then, the mapping will simply be a direct mapping from the total transmit power indicated at <b>66</b> to the digital gain setting indicated at <b>68</b>. For example, in table <b>60</b>, shown are entries for total transmit powers for P&#x2266;P<sub>1</sub>, P<sub>1</sub>&#x3c;P&#x2266;P<sub>2</sub>, . . . P<sub>N-1</sub>&#x3c;P&#x2266;P<sub>N</sub>. Respective corresponding digital gain settings <b>68</b> are indicated at DG<sub>1</sub>, DG<sub>2</sub>, . . . DG<sub>N</sub>. For a given current total transmit power, the pre-set value for the range containing that current total transmit power is selected.</p>
<p id="p-0051" num="0050">In typical implementations, the channel state will not change frequently. A table can be loaded for each mapper for the current state, and this table does not need to be re-loaded until the state changes.</p>
<p id="p-0052" num="0051">In the above example, each state can be considered to be a corresponding set of characteristics for which a different mapping function is required. Any characteristic or characteristics can be employed as a basis for different mapping tables. For example, in some embodiments the state may also include a particular set of values of the desired ratios in power between the active code channels.</p>
<p id="p-0053" num="0052">The compensation element <b>39</b> of <figref idref="DRAWINGS">FIG. 1</figref> is a very specific example. More generally, any compensation element can be employed which is adapted to apply a set of digital gains to the digital gain elements, the set of digital gains compensating for non-linearities in the transmitter as a function of the current total transmit power such that a desired relationship between channel powers of said set of channels after having been combined to produce the final output is substantially achieved.</p>
<p id="p-0054" num="0053">More generally, another embodiment of the invention operates as illustrated in <figref idref="DRAWINGS">FIG. 3</figref>. A compensation element is shown indicated generally at <b>70</b>. This element <b>70</b> receives as input the total transmit power indicated at <b>72</b>, state information indicated at <b>74</b>, and outputs digital gain values <b>76</b>. In this embodiment, the state information <b>74</b> is any information necessary to enable compensation element <b>70</b> to determine appropriate digital gains <b>76</b> as a function of the total transmit power <b>72</b> such that a desired relationship between channel powers after being combined to produce the transmitter output is substantially achieved. In the above-described example, the operation performed was a table-look-up operation; the state information was an identification of one or more code channels, encoder information and/or a signal formatting information, and data rate information. The digital gain values <b>76</b> are compensated digital gain values determined by the compensation element <b>70</b> such that the desired interrelationship between the output code channel power is achieved.</p>
<p id="p-0055" num="0054">As discussed above, the compensation element can perform a table-look-up in which there is a mapping for each channel and for each channel state from various ranges of channel total transmit power to a respective digital gain setting. This is the specific example discussed above with respect to <figref idref="DRAWINGS">FIG. 2</figref>. In another example, each channel has a respective table which maps ranges of total transmit power to digital gain setting for each of a plurality of states, with each state having a column in a table.</p>
<p id="p-0056" num="0055">In another embodiment, a non-linear continuous function can be implemented in the compensation element <b>70</b>. Such a non-linear function might be identified by using curve-fitting operations. In other embodiments, the compensation element employs stored pre-set values and uses interpolation to reduce the number of values that need to be stored.</p>
<p id="p-0057" num="0056">Referring now to <figref idref="DRAWINGS">FIG. 4</figref> shown is an example flow chart of a method for calibrating tables for use in the embodiment of <figref idref="DRAWINGS">FIG. 1</figref>. This calibration may be performed for each device manufactured during manufacturing, in the event that unit-to-unit variation is significant and cannot be ignored. In the event that a given batch of units do not have significant unit-to-unit variation, calibration could be performed on a per batch level.</p>
<p id="p-0058" num="0057">The method begins at step <b>4</b>-<b>1</b> with configuring the unit to transmit in each of the supported states. The method continues at step <b>4</b>-<b>2</b> with setting the transmit power to each of an array of pre-selected values in a range of supported transmit power. This step is done for each state configured in step <b>4</b>-<b>1</b>. Next, at step <b>4</b>-<b>3</b>, for each state, and for each selected transmit power, while measuring the code channel powers at the transmitter output port, the digital gains of all of the activated code channels are adjusted until the desired values are measured at the output port. Next, at step <b>4</b>-<b>4</b>, the digital gain values thus obtained are saved. These values may be directly used to generate tables, or alternatively they can be processed for example by interpolation or to generate appropriate ranges, with the output of the processing being used to fill the tables.</p>
<p id="p-0059" num="0058">In the event that the unit to unit variation is negligible, a number of sample units can be calibrated as above to find table values for each of the sample units, and an average of the table values thus obtained used in the batch of units.</p>
<p id="p-0060" num="0059">In the example described above with reference to <figref idref="DRAWINGS">FIG. 1</figref> it has assumed that for a given set of channels and configurations, the nominal relative code channel output powers desired are fixed or at least not changed often. Because of this, the controller <b>40</b> does not generate digital gain values, but rather simply selects an appropriate one of the tables to be used in generating each of the digital gain values. In another embodiment, the desired code channel powers relative to each other are also required to be variable during transmission for at least one of the channels. An example of a method/apparatus of performing non-linear compensation in such a context will now being described with reference to <figref idref="DRAWINGS">FIG. 5</figref>. This figure is the same as <figref idref="DRAWINGS">FIG. 1</figref> with the exception of the fact that the compensation element <b>39</b> is different. In this embodiment, the controller <b>40</b> generates an output to select an appropriate mapping table, as indicated at <b>41</b>. This is substantially the same function as was performed by <figref idref="DRAWINGS">FIG. 1</figref>. However, in this embodiment, the controller also generates variable nominal gains <b>80</b> for at least one of the channels, and in the illustrated example for all of the channels. The variable gain value is then combined with an output of the appropriate mapping function to provide an actual gain which is then fed to the appropriate digital gain element. The mapping functions output gain adjustments in this embodiment. In the illustrated example, it is assumed that the variable digital gains are logarithmic, and the values output by the mapping functions are also logarithmic offsets, and as such the two values can simply be added with adders <b>81</b>, <b>82</b> and <b>83</b> to get the desired digital gains. In this case, it would be of course assumed that the digital gain blocks accept logarithmic inputs.</p>
<p id="p-0061" num="0060">If the digital gain blocks accept inputs in the form of linear values, the adders <b>81</b>, <b>82</b> and <b>83</b> are replaced with multipliers, and two linear values produced by the controller <b>40</b> and the mapping tables <b>42</b>, <b>44</b>, <b>46</b> are multiplied together to produce gain values to be input to the digital gain elements.</p>
<p id="p-0062" num="0061">An example of a method of calibrating the arrangement of <figref idref="DRAWINGS">FIG. 5</figref> is now described with reference to the flowchart of <figref idref="DRAWINGS">FIG. 6</figref>. The method begins at step <b>6</b>-<b>1</b> with configuring the unit to transmit at each of the states the unit is capable of operating in. At step <b>6</b>-<b>2</b>, for each state selected in step <b>6</b>-<b>1</b>, the transmit power is set to an array of selected values. In step <b>6</b>-<b>3</b>, for each transmit power and for each state, the digital gains are adjusted until the values measured reach each of an array of predetermined values within the range supported by the given product. This equates to working through the various ranges of nominal gain that could potentially be output by the controller <b>40</b> in the example of <figref idref="DRAWINGS">FIG. 5</figref>. At step <b>6</b>-<b>4</b>, the difference between the actual digital gain after adjustment in accordance with step <b>6</b>-<b>3</b>, and the controller produced gain is measured and averaged over the multiple adjustments conducted in step <b>6</b>-<b>3</b>. This average value is then saved at <b>6</b>-<b>5</b> and is the value used in generating an appropriate offset for use in the non-linear operation.</p>
<p id="p-0063" num="0062">Once again, the calibration can be performed on a per unit basis if unit-to-unit variation is significant or for batches if average results are acceptable.</p>
<p id="p-0064" num="0063">A specific example of performing compensation in the context of variable nominal gains has been described with reference to <figref idref="DRAWINGS">FIG. 5</figref>. It is to be understood that any method/apparatus which compensates for non-linearities as a function of total transmit power can be employed. For example, in another embodiment, for each state, and for each range of total transmit power, a separate mapping table is provided, and a mapping between nominal non-compensated digital gain to compensated digital gain is provided. This increases the number of tables that would be required since there would be a table for each state and each transmit power range. An example of such a table is shown in <figref idref="DRAWINGS">FIG. 7</figref>. This example shows that there is a given table for each state, and for each range of transmit power. The illustrated table is for channel mapper I, state number J and for P<sub>0</sub>&#x3c;P&#x2266;P<sub>1</sub>. The nominal gain <b>80</b> is mapped to a compensated gain <b>82</b>.</p>
<p id="p-0065" num="0064">It is noted that in the above examples, it is assumed that the power in all of the coded channels varies significantly over transmit power. More generally, in some embodiments it may be that one or more of code channels have a power which does not vary significantly from transmit power, and as such it will not be necessary to perform an adjustment of the digital gain being applied for that channel.</p>
<p id="p-0066" num="0065">Another embodiment of the invention provides a computer readable medium having instructions thereon for implementation by a computer, a computer being any appropriate combination of processing hardware. The instructions are for implementing any of the code channel compensation methods described herein.</p>
<p id="p-0067" num="0066">What has been described is merely illustrative of the application of the principles of the invention. Other arrangements and methods can be implemented by those skilled in the art without departing from the spirit and scope of the present invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A transmitter comprising:
<claim-text>one or more code channel elements comprising at least one of:
<claim-text>a pilot generator;</claim-text>
<claim-text>a fundamental channel (FCH) encoder;</claim-text>
<claim-text>a supplemental channel (SCH) encoder; and</claim-text>
<claim-text>a dedicated control channel (DCCH) encoder;</claim-text>
</claim-text>
<claim-text>each code channel element having a respective digital gain element;</claim-text>
<claim-text>a compensation element adapted to apply a set of digital gains to the digital gain elements in order to apply the set of digital gains to a corresponding set of code channels, the set of digital gains compensating for non-linearities in the transmitter as a function of transmit power to substantially achieve a desired relationship between code channel powers of said set of code channels.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The transmitter according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the compensation element comprises a memory containing for at least one code channel, a respective pre-set digital gain value for the code channel for each of a plurality of states of the set of code channels, and for a plurality of ranges of total transmit power.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The transmitter according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the compensation element comprises:
<claim-text>a controller adapted to configure the transmitter to have a selected state of a plurality of states, each state comprising at least one of:
<claim-text>a) a selection of a particular set of code channels from a set of available code channels;</claim-text>
<claim-text>b) a selection of a particular encoder format for at least one code channel;</claim-text>
<claim-text>c) a selection of a particular signal format for at least one code channel; and</claim-text>
<claim-text>d) a selection of a particular data rate for at least one code channel;</claim-text>
</claim-text>
<claim-text>a memory containing for each state, a pre-set digital gain value for each code channel for each of a plurality of ranges of transmit power;</claim-text>
<claim-text>wherein for each code channel the controller is adapted to apply the appropriate pre-set digital gain value as a function of the state and total transmit power as one digital gain of said set of digital gains.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The transmitter according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the compensation element comprises a memory containing for at least one code channel, a nominal digital gain for the code channel for each of a plurality of states of the set of code channels, and for a plurality of ranges of total transmit power, the compensation element further configured to combine a respective gain adjustment with a nominal digital gain value to generate the digital gains to be applied to the digital gain elements for the at least one code channel.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The transmitter according to <claim-ref idref="CLM-00004">claim 4</claim-ref> wherein the compensation element comprises:
<claim-text>a controller adapted to configure the transmitter to have a selected state of a plurality of states, each state comprising at least one of:
<claim-text>a) a selection of a particular set of code channels from a set of available code channels;</claim-text>
<claim-text>b) a selection of a particular encoder format for at least one code channel;</claim-text>
<claim-text>c) a selection of a particular signal format for at least one code channel; and</claim-text>
<claim-text>d) a selection of a particular data rate for at least one code channel;</claim-text>
</claim-text>
<claim-text>the memory containing for each state, a pre-set digital gain adjustment for each code channel for each of a plurality of ranges of transmit power;</claim-text>
<claim-text>wherein for each code channel the controller is adapted to employ an appropriate pre-set digital gain adjustment as a function of the state and total transmit power as said respective gain adjustment.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The transmitter according to <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>a power control subsystem adapted to control the transmit power.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The transmitter according to <claim-ref idref="CLM-00006">claim 6</claim-ref> wherein the power control subsystem comprises:
<claim-text>a power control function that provides an output to the compensation element;</claim-text>
<claim-text>an Automatic Gain Controller (AGC) configured to receive an output from the power control function;</claim-text>
<claim-text>a digital-to-analog converter (DAC) configured to receive an output from the AGC and configured to output a control signal to an AGC amplifier that in part controls the transmit power.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The transmitter according to <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising a normalizer configured to receive outputs of each of the digital gain elements to normalize the outputs of the digital gain elements with respect to one another.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The transmitter according to <claim-ref idref="CLM-00006">claim 6</claim-ref> further comprising a Code Division Multiple Access (CDMA) spreader configured to:
<claim-text>receive outputs from the normalizer corresponding to outputs from the digital gain elements; and</claim-text>
<claim-text>generate I and Q outputs.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The transmitter according to <claim-ref idref="CLM-00009">claim 9</claim-ref> further comprising a digital-to-analog converter (DAC) configured to receive the I and Q outputs from the CDMA spreader in order to convert the I and Q outputs from the digital domain to the analog domain.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The transmitter according to <claim-ref idref="CLM-00010">claim 10</claim-ref> further comprising:
<claim-text>an IQ modulator;</claim-text>
<claim-text>an automatic gain control (AGC) amplifier;</claim-text>
<claim-text>a power amplifier;</claim-text>
<claim-text>and at least one antenna for transmitting a signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The transmitter according to <claim-ref idref="CLM-00011">claim 11</claim-ref> wherein the AGC amplifier is configured to receive an output from a power control system.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The transmitter according to <claim-ref idref="CLM-00009">claim 9</claim-ref> further comprising a mixer, to upconvert the signal to be transmitted, positioned between the AGC amplifier and the power amplifier.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The transmitter according to <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising a Code Division Multiple Access (CDMA) spreader configured to:
<claim-text>receive outputs of each of the digital gain elements; and</claim-text>
<claim-text>generate I and Q outputs.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The transmitter according to <claim-ref idref="CLM-00014">claim 14</claim-ref> further comprising a digital-to-analog converter (DAC) configured to receive the I and Q outputs from the CDMA spreader in order to convert the I and Q outputs from the digital domain to the analog domain.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The transmitter according to <claim-ref idref="CLM-00015">claim 15</claim-ref> further comprising:
<claim-text>an IQ modulator;</claim-text>
<claim-text>an automatic gain control amplifier (AGC);</claim-text>
<claim-text>a power amplifier;</claim-text>
<claim-text>and at least one antenna for transmitting a signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The transmitter according to <claim-ref idref="CLM-00016">claim 16</claim-ref> wherein the AGC amplifier is configured to receive an output from a power control system.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The transmitter according to <claim-ref idref="CLM-00017">claim 17</claim-ref> further comprising a mixer, to upconvert the signal to be transmitted, positioned between the AGC amplifier and the power amplifier.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The transmitter according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the compensation element is configured to, for each of at least one channel:
<claim-text>generate a digital gain by using a non-linear function that is a function of transmit power for a current state and for a current transmit power of the respective channel.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The transmitter according to <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the code channels are CDMA code channels.</claim-text>
</claim>
</claims>
</us-patent-grant>
