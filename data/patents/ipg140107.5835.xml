<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626943-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626943</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13064288</doc-number>
<date>20110316</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>16</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>709232</main-classification>
<further-classification>709228</further-classification>
</classification-national>
<invention-title id="d2e43">Content ate selection for media servers with proxy-feedback-controlled frame transmission</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6101193</doc-number>
<kind>A</kind>
<name>Ohba</name>
<date>20000800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370429</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6430187</doc-number>
<kind>B1</kind>
<name>Park</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370397</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6460036</doc-number>
<kind>B1</kind>
<name>Herz</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6674721</doc-number>
<kind>B1</kind>
<name>Dittia et al.</name>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370235</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6690647</doc-number>
<kind>B1</kind>
<name>Tang et al.</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370235</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7007062</doc-number>
<kind>B1</kind>
<name>Serenyi et al.</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>7043558</doc-number>
<kind>B2</kind>
<name>Yoshida et al.</name>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>7068607</doc-number>
<kind>B2</kind>
<name>Partain et al.</name>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>7076552</doc-number>
<kind>B2</kind>
<name>Mandato</name>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>7161907</doc-number>
<kind>B2</kind>
<name>Mott</name>
<date>20070100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>7225267</doc-number>
<kind>B2</kind>
<name>Key et al.</name>
<date>20070500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>7251216</doc-number>
<kind>B2</kind>
<name>Dube et al.</name>
<date>20070700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>7251218</doc-number>
<kind>B2</kind>
<name>Jorgensen</name>
<date>20070700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>7269157</doc-number>
<kind>B2</kind>
<name>Klinker et al.</name>
<date>20070900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>7327708</doc-number>
<kind>B2</kind>
<name>Komandur et al.</name>
<date>20080200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>7346007</doc-number>
<kind>B2</kind>
<name>Curcio et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>7346676</doc-number>
<kind>B1</kind>
<name>Swildens et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>7380014</doc-number>
<kind>B2</kind>
<name>LeCroy et al.</name>
<date>20080500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>7443797</doc-number>
<kind>B2</kind>
<name>Cheung et al.</name>
<date>20081000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>7477602</doc-number>
<kind>B2</kind>
<name>Ling et al.</name>
<date>20090100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>7529250</doc-number>
<kind>B2</kind>
<name>Pedersen</name>
<date>20090500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>7529263</doc-number>
<kind>B1</kind>
<name>Sparrell et al.</name>
<date>20090500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>7617337</doc-number>
<kind>B1</kind>
<name>Beck et al.</name>
<date>20091100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>7634373</doc-number>
<kind>B2</kind>
<name>Batterberry et al.</name>
<date>20091200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00025">
<document-id>
<country>US</country>
<doc-number>7653002</doc-number>
<kind>B2</kind>
<name>Hardy et al.</name>
<date>20100100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00026">
<document-id>
<country>US</country>
<doc-number>7653735</doc-number>
<kind>B2</kind>
<name>Mandato et al.</name>
<date>20100100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00027">
<document-id>
<country>US</country>
<doc-number>7688729</doc-number>
<kind>B2</kind>
<name>Ooghe et al.</name>
<date>20100300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00028">
<document-id>
<country>US</country>
<doc-number>7698453</doc-number>
<kind>B2</kind>
<name>Samuels et al.</name>
<date>20100400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00029">
<document-id>
<country>US</country>
<doc-number>7701915</doc-number>
<kind>B2</kind>
<name>Curcio et al.</name>
<date>20100400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00030">
<document-id>
<country>US</country>
<doc-number>7710879</doc-number>
<kind>B2</kind>
<name>Clark</name>
<date>20100500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00031">
<document-id>
<country>US</country>
<doc-number>7764679</doc-number>
<kind>B2</kind>
<name>MeLampy et al.</name>
<date>20100700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00032">
<document-id>
<country>US</country>
<doc-number>7779146</doc-number>
<kind>B2</kind>
<name>Deshpande</name>
<date>20100800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00033">
<document-id>
<country>US</country>
<doc-number>7788354</doc-number>
<kind>B2</kind>
<name>Nag</name>
<date>20100800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00034">
<document-id>
<country>US</country>
<doc-number>7873346</doc-number>
<kind>B2</kind>
<name>Petersson et al.</name>
<date>20110100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00035">
<document-id>
<country>US</country>
<doc-number>7883419</doc-number>
<kind>B2</kind>
<name>Cheung et al.</name>
<date>20110200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00036">
<document-id>
<country>US</country>
<doc-number>7991905</doc-number>
<kind>B1</kind>
<name>Roussos et al.</name>
<date>20110800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00037">
<document-id>
<country>US</country>
<doc-number>8015306</doc-number>
<kind>B2</kind>
<name>Bowman</name>
<date>20110900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00038">
<document-id>
<country>US</country>
<doc-number>2002/0089928</doc-number>
<kind>A1</kind>
<name>Morikawa et al.</name>
<date>20020700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00039">
<document-id>
<country>US</country>
<doc-number>2002/0194609</doc-number>
<kind>A1</kind>
<name>Tran</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>725 95</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00040">
<document-id>
<country>US</country>
<doc-number>2003/0140159</doc-number>
<kind>A1</kind>
<name>Campbell et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00041">
<document-id>
<country>US</country>
<doc-number>2003/0161302</doc-number>
<kind>A1</kind>
<name>Zimmermann et al.</name>
<date>20030800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370363</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00042">
<document-id>
<country>US</country>
<doc-number>2003/0198184</doc-number>
<kind>A1</kind>
<name>Huang et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00043">
<document-id>
<country>US</country>
<doc-number>2004/0098748</doc-number>
<kind>A1</kind>
<name>Bo et al.</name>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00044">
<document-id>
<country>US</country>
<doc-number>2004/0103141</doc-number>
<kind>A1</kind>
<name>Miller et al.</name>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709203</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00045">
<document-id>
<country>US</country>
<doc-number>2004/0186877</doc-number>
<kind>A1</kind>
<name>Wang et al.</name>
<date>20040900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709200</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00046">
<document-id>
<country>US</country>
<doc-number>2004/0193762</doc-number>
<kind>A1</kind>
<name>Leon et al.</name>
<date>20040900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>710 52</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00047">
<document-id>
<country>US</country>
<doc-number>2004/0240390</doc-number>
<kind>A1</kind>
<name>Seckin</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00048">
<document-id>
<country>US</country>
<doc-number>2005/0180448</doc-number>
<kind>A1</kind>
<name>Kobayashi</name>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00049">
<document-id>
<country>US</country>
<doc-number>2006/0095472</doc-number>
<kind>A1</kind>
<name>Krikorian et al.</name>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00050">
<document-id>
<country>US</country>
<doc-number>2006/0253600</doc-number>
<kind>A1</kind>
<name>Hannuksela</name>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00051">
<document-id>
<country>US</country>
<doc-number>2007/0091815</doc-number>
<kind>A1</kind>
<name>Tinnakornsrisuhap et al.</name>
<date>20070400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00052">
<document-id>
<country>US</country>
<doc-number>2007/0153801</doc-number>
<kind>A1</kind>
<name>Sung et al.</name>
<date>20070700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00053">
<document-id>
<country>US</country>
<doc-number>2007/0174474</doc-number>
<kind>A1</kind>
<name>Zhong et al.</name>
<date>20070700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00054">
<document-id>
<country>US</country>
<doc-number>2007/0198739</doc-number>
<kind>A1</kind>
<name>Jennings et al.</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00055">
<document-id>
<country>US</country>
<doc-number>2008/0013545</doc-number>
<kind>A1</kind>
<name>Ono et al.</name>
<date>20080100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00056">
<document-id>
<country>US</country>
<doc-number>2008/0123660</doc-number>
<kind>A1</kind>
<name>Sammour et al.</name>
<date>20080500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00057">
<document-id>
<country>US</country>
<doc-number>2008/0137541</doc-number>
<kind>A1</kind>
<name>Agarwal et al.</name>
<date>20080600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00058">
<document-id>
<country>US</country>
<doc-number>2008/0192710</doc-number>
<kind>A1</kind>
<name>Balachandran et al.</name>
<date>20080800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00059">
<document-id>
<country>US</country>
<doc-number>2008/0192711</doc-number>
<kind>A1</kind>
<name>Balachandran et al.</name>
<date>20080800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00060">
<document-id>
<country>US</country>
<doc-number>2008/0195755</doc-number>
<kind>A1</kind>
<name>Lu et al.</name>
<date>20080800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00061">
<document-id>
<country>EP</country>
<doc-number>1 209 838</doc-number>
<date>20010500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00062">
<document-id>
<country>EP</country>
<doc-number>1 610 520</doc-number>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00063">
<document-id>
<country>WO</country>
<doc-number>WO 2004091151</doc-number>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00064">
<othercit>Written Opinion dated Mar. 16, 2009 for International Application No. PCT/US2008/009960.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00065">
<othercit>International Search Report dated Mar. 16, 2009 for International Application No. PCT/US2008/009960.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00066">
<othercit>Written Opinion dated Apr. 2, 2009 for International Application No. PCT/US2008/009968.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00067">
<othercit>International Search Report dated Apr. 2, 2009 for International Application No. PCT/US2008/009968.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00068">
<othercit>International Preliminary Search Report on Patentability dated Mar. 4, 2010.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00069">
<othercit>Office Action for corresponding U.S. Appl. No. 12/222,897 dated May 24, 2010.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00070">
<othercit>Office Action for corresponding U.S. Appl. No. 12/222,897 dated Nov. 19, 2010.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00071">
<othercit>International Search Report and Written Opinion mailed Jul. 9, 2008.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00072">
<othercit>ETSI TS 126 234 V6. 10.0 (Dec. 2006) <i>Universal Mobile Telecommunications Systems </i>(<i>UMTS</i>); <i>Transparent end-to-end Packet-switched Streaming Service </i>(<i>PSS</i>); <i>Protocols and Codecs </i>(3 GPP TS 26.234 version 6.10.0 Release 6).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00073">
<othercit>U.S. Office Action dated Mar. 5, 2013 for related U.S. Appl. No. 12/222,897.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>4</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>709228</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709231</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709232</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370235</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3702321</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<division>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>12222896</doc-number>
<date>20080819</date>
</document-id>
<parent-status>PENDING</parent-status>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13064288</doc-number>
</document-id>
</child-doc>
</relation>
</division>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60966020</doc-number>
<date>20070824</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60966017</doc-number>
<date>20070824</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110225317</doc-number>
<kind>A1</kind>
<date>20110915</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Balachandran</last-name>
<first-name>Krishna</first-name>
<address>
<city>Morganville</city>
<state>NJ</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Calin</last-name>
<first-name>Doru</first-name>
<address>
<city>Manalapan</city>
<state>NJ</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Kim</last-name>
<first-name>Eunyoung</first-name>
<address>
<city>Basking Ridge</city>
<state>NJ</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="004" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Rege</last-name>
<first-name>Kiran M.</first-name>
<address>
<city>Marlboro</city>
<state>NJ</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Balachandran</last-name>
<first-name>Krishna</first-name>
<address>
<city>Morganville</city>
<state>NJ</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Calin</last-name>
<first-name>Doru</first-name>
<address>
<city>Manalapan</city>
<state>NJ</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Kim</last-name>
<first-name>Eunyoung</first-name>
<address>
<city>Basking Ridge</city>
<state>NJ</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="004" designation="us-only">
<addressbook>
<last-name>Rege</last-name>
<first-name>Kiran M.</first-name>
<address>
<city>Marlboro</city>
<state>NJ</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Harness, Dickey &#x26; Pierce</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Alcatel Lucent</orgname>
<role>03</role>
<address>
<city>Paris</city>
<country>FR</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Kim</last-name>
<first-name>Hee Soo</first-name>
<department>2457</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">In a method for dynamically setting a content rate of a multimedia session for a client in a network, a proxy server receives a channel condition feedback message from a network controller and determines whether a receiver report message has been received from the client since a most recent previous channel condition feedback message. The channel condition feedback message includes current channel condition information for the network. The proxy server sends one of an extended feedback report message and a short feedback report message to a media server based on the determining step. The short feedback report message includes at least a maximum transmission rate parameter for the multimedia session. The extended feedback report message includes at least information contained in the receiver report message. The extended feedback report message may, in addition, include the maximum transmission rate parameter for the multimedia session.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="172.13mm" wi="170.01mm" file="US08626943-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="230.29mm" wi="170.26mm" orientation="landscape" file="US08626943-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="227.67mm" wi="175.43mm" orientation="landscape" file="US08626943-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="244.18mm" wi="177.12mm" file="US08626943-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="251.04mm" wi="191.77mm" file="US08626943-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="209.89mm" wi="177.97mm" file="US08626943-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="214.21mm" wi="126.49mm" file="US08626943-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="196.09mm" wi="172.97mm" file="US08626943-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="245.36mm" wi="181.86mm" file="US08626943-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">PRIORITY STATEMENT</heading>
<p id="p-0002" num="0001">This non-provisional patent application is a divisional application of U.S. Ser. No. 12/222,896 filed on Aug. 19, 2008, and claims priority under 35 U.S.C. &#xa7;119(e) to provisional patent application No. 60/966,020 to Krishna Balachandran, Doru Calin, Eunyoung Kim and Kiran Rege, filed on Aug. 24, 2007, and provisional patent application No. 60/966,017 to Krishna Balachandran, Doru Calin, Eunyoung Kim and Kiran Rege, filed on Aug. 24, 2007. The entire contents of each these applications is incorporated herein by reference.</p>
<heading id="h-0002" level="1">CROSS REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0003" num="0002">This non-provisional patent application is related to U.S. patent application Ser. Nos. 11/674,802 to Krishna Balachandran, Doru Calin, Eunyoung Kim and Kiran Rege, filed on Feb. 14, 2007, and Ser. No. 11/674,858 to Krishna Balachandran, Doru Calin, Eunyoung Kim and Kiran Rege, filed on Feb. 14, 2007, the entire contents of each of these applications is also incorporated herein by reference.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0003" level="1">BACKGROUND OF THE INVENTION</heading>
<heading id="h-0004" level="1">Description of the Related Art</heading>
<p id="p-0004" num="0003">Streaming media services (e.g., music, video, etc.) over wireless communication networks have been gaining in popularity over the past few years, and are likely to become commercially important to wireless service providers in the near future. A major impediment to their success is the often poor and/or unreliable quality associated with the services. In one example, this lack of reliability results from significant fluctuations in the rate at which packets carrying a media stream are delivered to mobile units. These fluctuations stem from variations in signal strength and the need to share the wireless access medium among multiple mobile units.</p>
<p id="p-0005" num="0004">In another example, fluctuations in the rate at which packets are delivered to mobile units result from delay and/or loss of packets as they traverse a wireless link on the path between the media server and the mobile units. Conventionally, effects of lost packets, delayed packets, and/or jitter are reduced by buffering the received data stream at the mobile units. But, buffering alone is insufficient for ensuring acceptable media quality.</p>
<p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. 1</figref> conceptually illustrates a conventional system for streaming media to mobile units or clients over a wireless network.</p>
<p id="p-0007" num="0006">Referring to <figref idref="DRAWINGS">FIG. 1</figref>, the portion of the wireless network <b>100</b> between the Gateway GPRS Support Node (GGSN) <b>120</b> and the media server <b>115</b> is referred to as the core network <b>105</b>. The network segment between the GGSN <b>120</b> and the mobile client <b>110</b> (inclusive of GGSN <b>120</b> and mobile client <b>110</b>) will be referred to as the wireless access network <b>125</b>.</p>
<p id="p-0008" num="0007">Conventionally, a mobile unit or client <b>110</b> (hereinafter referred to as a client) initiates a streaming multimedia (or media) session with a media server <b>115</b> via the wireless network <b>100</b>. In one example, the client <b>110</b> requests a streaming video session by sending a real-time streaming protocol (RTSP) message to the media server <b>115</b>. The mobile client <b>110</b> exchanges signaling messages with the media server <b>115</b> to establish the streaming video session and negotiate session parameters (e.g., the bit-rate at which the media is to be streamed).</p>
<p id="p-0009" num="0008">In establishing a media session, the mobile client <b>110</b> also exchanges lower-layer signaling messages with radio access network elements such as the radio network controller (RNC) <b>130</b>, the SGSN <b>103</b>, and the GGSN <b>120</b> to establish a radio access bearer (RAB) channel. RAB channels are typically configured to maintain desired Quality-of-Service (QoS) characteristics, for example, if best-effort bearer service is deemed inadequate.</p>
<p id="p-0010" num="0009">Once the RAB channel and the streaming media session are established, the media server <b>115</b> transmits packets carrying the media to the mobile client <b>110</b> via the GGSN <b>120</b>, the SGSN <b>103</b>, the RNC <b>130</b>, and the base station <b>107</b>. The mobile client <b>110</b> sends periodic feedback messages along the reverse path which traverses the base station <b>107</b> to the RNC <b>130</b>, SGSN <b>103</b>, GGSN <b>120</b>, and, finally, the media server <b>115</b>. Uplink feedback messages from the mobile client <b>110</b> are transmitted relatively infrequently, for example, once every 3-4 seconds.</p>
<p id="p-0011" num="0010">The media server <b>115</b> also transmits control/signaling messages to the mobile client <b>110</b> on a periodic basis. These &#x201c;server reports&#x201d; are carried transparently by the network elements. Conventionally, downlink packets carrying the media and control/signaling messages and uplink feedback messages transmitted by the mobile client <b>110</b> are all carried transparently by the network elements. Thus, the feedback messages from the mobile client <b>110</b> that assist the media server <b>115</b> in making control decisions (such as changing transmission or content rate) are essentially end-to-end; that is, they do not carry any information available only to the intervening network elements.</p>
<p id="p-0012" num="0011">Accordingly, in the conventional system shown in <figref idref="DRAWINGS">FIG. 1</figref>, control decisions by the media server <b>115</b> are based on rather infrequent feedback received from the mobile client <b>110</b>, and without direct knowledge of the channel conditions. As a result, the media server <b>115</b> cannot make timely decisions to avoid packet loss and/or re-buffering events that are detrimental to the quality of the streaming media service.</p>
<heading id="h-0005" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0013" num="0012">In a method of scheduling frame transmission for a multimedia session for a client in a network, a media server determines whether a token bucket packet queue associated with the multimedia session is empty, and calculates a size of a frame to be transmitted to the client if the token bucket packet queue is empty. A buffer level at the client including the frame is estimated. The buffer is associated with the multimedia session. The frame is packetized for transmission to the client, and the packet is scheduled for transmission.</p>
<p id="p-0014" num="0013">In a method for dynamically setting a content rate for a multimedia session for a client in a network, multimedia frames are streamed from a media server to a client at a first content rate. The media server sets a content rate for the multimedia session in response to a proxy-to-server message from a proxy server. The content rate is set according to a maximum transmission rate parameter included in a proxy-to-server message. The proxy-to-server message is one of an extended feedback report message and a short feedback report message. Dynamic adjustment of the content rate is selectively performed based on whether the proxy-to-server message is an extended feedback report message or a short feedback report message.</p>
<p id="p-0015" num="0014">In a method for dynamically setting a content rate of a multimedia session for a client in a network, a proxy server receives a channel condition feedback message from a network controller and determines whether a receiver report message has been received from the client since a most recent previous channel condition feedback message. The channel condition feedback message includes current channel condition information for the network. The proxy server sends one of an extended feedback report message and a short feedback report message to a media server based on the determining step. The short feedback report message includes at least a maximum transmission rate parameter for the multimedia session. The extended feedback report message includes at least information contained in the receiver report message in addition to at least the maximum transmission rate parameter for the multimedia session.</p>
<p id="p-0016" num="0015">In a method for rate-control of a multimedia session for a client in a network, the media server determines whether to transmit a packet to the client based on a state variable associated with the multimedia session for the client and the current state of a token bucket packet queue associated with the multimedia session. The packet is selectively transmitted to the client based on the determining step.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0006" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0017" num="0016">The present invention will become more fully understood from the detailed description given herein below and the accompanying drawings, wherein like elements are represented by like reference numerals, which are given by way of illustration only and thus are not limiting of the present invention and wherein:</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a conventional system for streaming media over a wireless network;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 2</figref> illustrates a system for streaming media over a wireless network according to an example embodiment;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 3</figref> illustrates a method for content rate selection at a signaling proxy according to example embodiments;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIGS. 4A-4B</figref> illustrate a method for content rate selection at a media server according to an example embodiment;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIGS. 5-7</figref> illustrate methods for dynamic frame transmission scheduling according to example embodiments.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0007" level="1">DETAILED DESCRIPTION OF THE EMBODIMENTS</heading>
<p id="p-0023" num="0022">Illustrative embodiments of the invention are described below. In the interest of clarity, not all features of an actual implementation are described in this specification. It will of course be appreciated that in the development of any such actual embodiment, numerous implementation-specific decisions should be made to achieve the developers' specific goals, such as compliance with system-related and business-related constraints, which will vary from one implementation to another. Moreover, it will be appreciated that such a development effort might be complex and time-consuming, but would nevertheless be a routine undertaking for those of ordinary skill in the art having the benefit of this disclosure.</p>
<p id="p-0024" num="0023">Portions of the present invention and corresponding detailed description are presented in terms of software, or algorithms and symbolic representations of operations on data bits within a computer memory. These descriptions and representations are the ones by which those of ordinary skill in the art effectively convey the substance of their work to others of ordinary skill in the art. An algorithm, as the term is used here, and as it is used generally, is conceived to be a self-consistent sequence of steps leading to a desired result. The steps are those requiring physical manipulations of physical quantities. Usually, though not necessarily, these quantities take the form of optical, electrical, or magnetic signals capable of being stored, transferred, combined, compared, and otherwise manipulated. It has proven convenient at times, principally for reasons of common usage, to refer to these signals as bits, values, elements, symbols, characters, terms, numbers, or the like.</p>
<p id="p-0025" num="0024">It should be borne in mind, however, that all of these and similar terms are to be associated with the appropriate physical quantities and are merely convenient labels applied to these quantities. Unless specifically stated otherwise, or as is apparent from the discussion, terms such as &#x201c;processing&#x201d; or &#x201c;computing&#x201d; or &#x201c;calculating&#x201d; or &#x201c;determining&#x201d; or &#x201c;displaying&#x201d; or the like, refer to the action and processes of a computer system, or similar electronic computing device, that manipulates and transforms data represented as physical, electronic quantities within the computer system's registers and memories into other data similarly represented as physical quantities within the computer system memories or registers or other such information storage, transmission or display devices.</p>
<p id="p-0026" num="0025">Note also that the software implemented aspects of the invention are typically encoded on some form of program storage medium or implemented over some type of transmission medium. The program storage medium may be magnetic (e.g., a floppy disk or a hard drive) or optical (e.g., a compact disk read only memory, or &#x201c;CD ROM&#x201d;), and may be read only or random access. Similarly, the transmission medium may be twisted wire pairs, coaxial cable, optical fiber, or some other suitable transmission medium known to the art. The invention is not limited by these aspects of any given implementation.</p>
<p id="p-0027" num="0026">The present invention will now be described with reference to the attached figures. Various structures, systems and devices are schematically depicted in the drawings for purposes of explanation only and so as to not obscure the present invention with details that are well known to those skilled in the art. Nevertheless, the attached drawings are included to describe and explain illustrative examples. Where applicable, the words and phrases used herein should be understood and interpreted to have a meaning consistent with the understanding of those words and phrases by those skilled in the relevant art.</p>
<p id="p-0028" num="0027">As used herein, the term &#x201c;mobile client&#x201d; may be considered synonymous to, and may hereafter be occasionally referred to, as a client, mobile, mobile unit, mobile station, mobile user, user equipment (UE), subscriber, user, remote station, access terminal, receiver, etc., and may describe a remote user of wireless resources in a wireless communication network. The term &#x201c;base station&#x201d; may be considered synonymous to and/or referred to as a base transceiver station (BTS), NodeB, extended Node B, femto cell, access point, etc. and may describe equipment that provides the radio baseband functions for data and/or voice connectivity between a network and one or more users.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 2</figref> conceptually illustrates an example embodiment of a system for streaming media over a wireless network. The entire network between the media server <b>215</b> and mobile client <b>210</b> is referred to as a wireless network, even though it may comprise wireless as well as wired segments. The network segment between GGSN <b>220</b> and mobile client <b>210</b> will be referred to as the wireless access network <b>223</b>.</p>
<p id="p-0030" num="0029">Referring to <figref idref="DRAWINGS">FIG. 2</figref>, the wireless access network <b>223</b> includes one or more base stations <b>207</b> to stream media over an air interface to one or more mobile clients or units <b>210</b> (referred to as &#x201c;clients&#x201d;). The media (e.g., audio, video, etc.) is provided by a media server <b>215</b> via a Gateway GPRS Support Node (GGSN) <b>220</b>, a Serving GPRS Support Node (SGSN) <b>203</b>, and a radio network controller (RNC) <b>230</b>A. The wireless access network <b>223</b>, the base stations <b>207</b>, the client <b>210</b>, the media server <b>215</b>, the SGSN <b>203</b>, the GGSN <b>220</b>, and the RNCs <b>230</b>A, <b>230</b>B may operate according to the Universal Mobile Telecommunication System (UMTS) (3GPP) standards and/or protocols.</p>
<p id="p-0031" num="0030">In streaming media sessions, the Real-time Transport Protocol (RTP) may be used to carry the media content (e.g., voice, video, audio, etc.) and the associated Real Time Control Protocol (RTCP) may be used to carry the associated control packets. RTCP messages will be discussed in somewhat more detail below. The Real Time Streaming Protocol (RTSP) may be used for the transmission of messages for session setup (including capability negotiation/exchange), teardown, and some user actions (e.g., pause, fast-forward, etc.).</p>
<p id="p-0032" num="0031">Details regarding RTP/RTCP and RTSP are well-known as discussed in the Internet Engineering Task Force Requests for Comments (IETF RFCs) 1889 and 2326, respectively.</p>
<p id="p-0033" num="0032">Although example embodiments are discussed with regard to particular standards and/or protocols, example embodiments may also be applied to any other wireless networking technology and standards, for example, cdma2000 High Rate Packet Data (HRPD) or IEEE 802.16e/WiMAX. In the case of cdma2000 HRPD, for instance, system <b>200</b> would appear identical to that in <figref idref="DRAWINGS">FIG. 2</figref>, except that the Serving GPRS Support Node (SGSN) <b>203</b> and the Gateway GPRS Support Node (GGSN) <b>220</b> would be replaced by a single entity known as the Packet Data Serving Node (PDSN). In the case of 802.16e/WiMAX, the SGSN <b>203</b>, GGSN <b>220</b> and certain functions performed by the RNC <b>230</b> may be incorporated into a single entity known as the access service network (ASN) gateway.</p>
<p id="p-0034" num="0033">Furthermore, although a hierarchical architecture is illustrated, the techniques described herein may also be applied to flat-Internet Protocol (flat-IP) based architectures where Layer 3 (IP) routing and control functions relating to the wireless access network <b>223</b> are performed by the base station <b>207</b>.</p>
<p id="p-0035" num="0034">According to example embodiments, the client <b>210</b> supports standard RTSP/RTCP signaling with or without 3GPP extensions for transparent end-to-end packet-switched streaming services.</p>
<p id="p-0036" num="0035">During a media session the client <b>210</b> periodically sends RTCP (feedback) packets (&#x201c;receiver report messages&#x201d; or &#x201c;receiver reports&#x201d;) towards the media server <b>215</b> to apprise the media server <b>215</b> of performance metrics such as: fraction of packets lost (since the last similar report), cumulative number of packets lost, highest (RTP) sequence number received, RTP timestamp associated with the last sender's report (received from the server), time since receiving the last sender's report, RTP sequence number associated with the next application data unit to be decoded, the delay until the decoding of the next application data unit, free buffer space (at the client), and the like. The last three of the preceding list of performance metrics are in accordance with the 3GPP extensions for packet-switched streaming services whereas the rest are more standard feedback items included in receiver report messages. Other than these items included in the receiver reports, each RTCP packet may also carry a timestamp that can be used by the server to relate the report to a specific point in time. The client <b>210</b> may send the RTCP feedback packets at a rate consistent with its own capability and the capacity of the wireless network. Typically, such feedback packets are sent rather infrequently&#x2014;for example, once every 3 to 4 seconds. Hereinafter, the interval at which the client <b>210</b> sends RTCP feedback packets is denoted by T<sub>R</sub>.</p>
<p id="p-0037" num="0036">Still referring to <figref idref="DRAWINGS">FIG. 2</figref>, the wireless communication system <b>200</b> further includes a signaling proxy <b>225</b>. The signaling proxy <b>225</b> may be implemented as a proxy server and is attached to a wireless access network entity, such as the Gateway GPRS Support Node (GGSN) <b>220</b>. But, the signaling proxy <b>225</b> may be attached to other access network entities such as the Serving GPRS Support Node (SGSN) <b>203</b> or the Radio Network Controller (RNC) <b>230</b>A, <b>230</b>B in other embodiments.</p>
<p id="p-0038" num="0037">In yet another example, the signaling proxy <b>225</b> may be attached to the base stations themselves in the case of an access network including base-station routers that are characterized by a flat architecture.</p>
<p id="p-0039" num="0038">As discussed in co-pending and related patent application Ser. No. 11/674,858 to Balachandran et al., when establishing, tearing down and during a media session, the client <b>210</b> sends RTSP and/or RTCP messages intended for the media server <b>215</b> over the wireless network <b>200</b>. According to example embodiments, the GGSN <b>220</b> intercepts the RTSP and RTCP messages from the client <b>210</b> and sends these messages to the signaling proxy <b>225</b> instead of the media server <b>215</b>.</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 3</figref> illustrates an example embodiment of a method for dynamically setting content rate for a media session in a wireless network. The method in <figref idref="DRAWINGS">FIG. 3</figref> is performed in response to receiving an initial RTSP message from the client <b>210</b> via the GGSN <b>220</b>. The method of <figref idref="DRAWINGS">FIG. 3</figref> will be discussed with regard to the network shown in <figref idref="DRAWINGS">FIG. 2</figref>, and in particular, as being performed at the signaling proxy <b>225</b>.</p>
<p id="p-0041" num="0040">Referring to <figref idref="DRAWINGS">FIGS. 2 and 3</figref>, at step S<b>305</b> signaling proxy <b>225</b> creates an entry for the new media session in its local database (not shown) in response to an initial RTSP message from the client <b>210</b>. The initial RTSP message indicates impending establishment of a new media session.</p>
<p id="p-0042" num="0041">At step S<b>307</b>, the signaling proxy <b>225</b> monitors subsequent RTSP messages exchanged between the client <b>210</b> and the media server <b>215</b> during the media session's capability negotiation phase to obtain session parameters from the RTSP messages (e.g., client buffer size, time interval at which a receiver report is sent, etc.). Because the manner in which the capability negotiation and session establishment are performed is well-known in the art, and thus, a detailed discussion will be omitted.</p>
<p id="p-0043" num="0042">When the signaling proxy <b>225</b> learns that a media session is about to be established (e.g., via a &#x201c;SETUP&#x201d; RTSP message from the client), the signaling proxy <b>225</b> sends a session establishment indication message to the RNC <b>230</b>A (at step S<b>309</b>) through which the corresponding media stream is to be delivered.</p>
<p id="p-0044" num="0043">Also at step S<b>309</b>, the signaling proxy <b>225</b> sets a timer designating a time period during which the signaling proxy <b>225</b> waits for an RAB establishment message from the RNC <b>230</b>A. Upon expiration of the timer, if the signaling proxy <b>225</b> has not received an RAB establishment message from the RNC <b>230</b>A (at step S<b>311</b>), the signaling proxy <b>225</b> deletes the session entry from its local database (at step S<b>313</b>) and the process terminates.</p>
<p id="p-0045" num="0044">Returning to step S<b>311</b>, if the signaling proxy <b>225</b> receives an RAB establishment message for the impending media session before the timer expires, the signaling proxy <b>225</b> turns off the timer and sets a session flag to 0 at step S<b>315</b>. The signaling proxy <b>225</b> then enters a wait state at step S<b>317</b>. During the wait state, the signaling proxy <b>225</b> waits for channel/network condition feedback messages from the RNC <b>230</b>A and receiver report (or RTCP) messages from the client <b>210</b>. As discussed herein, the channel/network condition feedback messages are also referred to as network condition feedback messages or channel condition feedback messages. Channel/network condition feedback messages include current channel condition information for the network. Current channel condition information for the network includes, for example, an identifier of the feedback source, a maximum transmission rate parameter W<sub>S</sub>, and optionally, other relevant performance metrics such as the number of Internet Protocol (IP) packets belonging to the media session that are waiting in a buffer at the RNC <b>230</b>A, the corresponding byte count, and the like.</p>
<p id="p-0046" num="0045">The maximum transmission rate parameter W<sub>S </sub>may be computed based on the number of IP packets delivered to the client <b>210</b> during the preceding channel condition feedback interval (of length T<sub>P </sub>seconds), the number of transmission opportunities available to the media session and the number of transmission opportunities actually used to carry data during the preceding interval. With a dedicated channel, a transmission block belonging to the dedicated channel represents a transmission opportunity.</p>
<p id="p-0047" num="0046">In a more detailed example, the maximum transmission rate parameter W<sub>S </sub>for the n<sup>th </sup>interval of duration T<sub>P </sub>seconds, may be set equal to the available bandwidth parameter W<sub>A</sub>(n), which is given by (in units of bytes per second):
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>W</i><sub>A</sub>(<i>n</i>)=<i>M</i><sub>D</sub>(<i>n</i>)*<i>K</i><sub>A</sub>(<i>n</i>)/(<i>K</i><sub>U</sub>(<i>n</i>)*<i>T</i><sub>P</sub>).<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0048" num="0047">In the above equation, K<sub>A</sub>(n) and K<sub>U</sub>(n) respectively denote the number of transmission opportunities available to the media session and the number of transmission opportunities actually used to carry data during the during the n<sup>th </sup>channel condition feedback interval (of length T<sub>P </sub>seconds). Variable M<sub>D</sub>(n) denotes the byte count associated with the packets actually delivered to the client <b>210</b> during this interval. The maximum transmission rate parameter for the n<sup>th </sup>channel/network condition feedback interval W<sub>S</sub>(n) may be set equal to the available bandwidth parameter W<sub>A</sub>(n), or may be set according to the following heuristic:</p>
<p id="p-0049" num="0048">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mrow>
            <msub>
              <mi>W</mi>
              <mi>S</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>n</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>=</mo>
          <mi/>
          <mo>&#x2062;</mo>
          <mrow>
            <mrow>
              <msub>
                <mi>a</mi>
                <mi>L</mi>
              </msub>
              <mo>*</mo>
              <mrow>
                <msub>
                  <mi>W</mi>
                  <mi>A</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>n</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>if</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mrow>
                <mi>Q</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>n</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mo>&#x3c;</mo>
            <msub>
              <mi>&#x3b2;</mi>
              <mi>L</mi>
            </msub>
          </mrow>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo>=</mo>
          <mi/>
          <mo>&#x2062;</mo>
          <mrow>
            <mrow>
              <msub>
                <mi>a</mi>
                <mi>H</mi>
              </msub>
              <mo>*</mo>
              <mrow>
                <msub>
                  <mi>W</mi>
                  <mi>A</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>n</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>if</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mrow>
                <mi>Q</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>n</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mo>&#x3e;</mo>
            <msub>
              <mi>&#x3b2;</mi>
              <mi>H</mi>
            </msub>
          </mrow>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>=</mo>
        <mi/>
        <mo>&#x2062;</mo>
        <mrow>
          <mrow>
            <msub>
              <mi>W</mi>
              <mi>A</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>n</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mrow>
            <mi>otherwise</mi>
            <mo>.</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0050" num="0049">In the above heuristic, Q(n) is the amount of data belonging to the media session that is queued up in the RNC <b>230</b>A buffer at the end of the n<sup>th </sup>channel/network condition feedback interval. &#x3b2;<sub>H </sub>is some &#x201c;high watermark,&#x201d; and &#x3b2;<sub>L </sub>is some &#x201c;low watermark,&#x201d; with &#x3b2;<sub>H</sub>&#x3e;&#x3b2;<sub>L</sub>. Parameters &#x3b1;<sub>L </sub>and &#x3b1;<sub>H </sub>are constants with &#x3b1;<sub>H</sub>&#x3c;1 and &#x3b1;<sub>L</sub>&#x3e;1.</p>
<p id="p-0051" num="0050">In one example, with a 20-Kbyte per-session dedicated RNC <b>230</b>A buffer, &#x3b2;<sub>H </sub>and &#x3b2;<sub>L </sub>may be set equal to 10 Kbytes and 2 Kbytes, respectively, whereas &#x3b1;<sub>H </sub>and &#x3b1;<sub>L </sub>might be set equal to 0.5 and 1.5 respectively.</p>
<p id="p-0052" num="0051">The signaling proxy <b>225</b> expects to receive a channel/network condition feedback message from the RNC <b>230</b>A every T<sub>P </sub>seconds and a receiver report message from the client device <b>210</b> every T<sub>R </sub>seconds.</p>
<p id="p-0053" num="0052">Still referring to step S<b>317</b> in <figref idref="DRAWINGS">FIG. 3</figref>, when the signaling proxy <b>225</b> receives a first receiver report message from the client <b>210</b>, the signaling proxy <b>225</b> sets the session flag to 1 at step S<b>319</b>. The signaling proxy <b>225</b> then stores relevant information from the received receiver report message and sets a feedback type indicator to 1 at S<b>320</b>. The feedback type indicator is set to 1 whenever the signaling proxy receives (and processes) a receiver report message from the client <b>210</b>.</p>
<p id="p-0054" num="0053">As noted above, the signaling proxy <b>225</b> receives channel/network condition feedback messages from the RNC <b>230</b>A relatively frequently (e.g., once every 100 ms). But, the signaling proxy <b>225</b> ignores the channel/network condition feedback messages so long as the session flag equals 0. After the first receiver report message is received and the session flag is set to 1 at step S<b>319</b>, the signaling proxy <b>225</b> enters another wait state at step S<b>321</b>. In this state, the signaling proxy <b>225</b> waits for channel/network condition feedback messages from RNC <b>230</b>A and receiver report messages from the client <b>210</b>.</p>
<p id="p-0055" num="0054">Still referring to step S<b>321</b> in <figref idref="DRAWINGS">FIG. 3</figref>, in response to a received channel/network condition feedback message from the RNC <b>230</b>A, the signaling proxy <b>225</b> determines whether the feedback type indicator equals 1 at step S<b>322</b>. If the feedback type indicator is set to 1, the signaling proxy <b>225</b> sends a proxy-to-server feedback message including an extended feedback report (referred to herein as an extended feedback report message) to the media server <b>215</b> at step S<b>326</b>. The signaling proxy <b>225</b> then resets the feedback type indicator to 0 at step S<b>328</b>. After transmitting the extended feedback report message to the media server <b>215</b>, the signaling proxy <b>225</b> returns to the wait state at step S<b>321</b>.</p>
<p id="p-0056" num="0055">The extended feedback report message is in the form of an RTCP packet and includes all of the information contained in the most recently received receiver report message from the client <b>210</b> (e.g., the highest RTP sequence number received, the next application data unit to be decoded, etc.) as well as the maximum transmission rate parameter (W<sub>s</sub>). In addition, the extended feedback report may include other parameters included in the most recently received channel/network condition feedback message from the RNC <b>230</b>A.</p>
<p id="p-0057" num="0056">In another embodiment, the signaling proxy <b>225</b> may wait to receive multiple channel/network condition feedback messages, process these messages and generate modified channel/network condition feedback in the form of a modified maximum transmission rate parameter modWs. In one example, the modified maximum transmission rate parameter modWs may be computed as a weighted average of the maximum transmission rate parameter Ws reported in the last K channel/network condition feedback messages (where K is an integer). In yet another embodiment, the signaling proxy <b>225</b> may generate a modified channel/network condition feedback by jointly processing the most recently received channel/network condition feedback message along with processed information stored from previously received channel/network condition feedback messages and/or receiver reports.</p>
<p id="p-0058" num="0057">Example embodiments will be discussed herein with regard to the maximum transmission rate parameter Ws, however, it will be understood that above discussed modified maximum transmission rate parameter modWs may be used instead of the maximum transmission rate parameter Ws.</p>
<p id="p-0059" num="0058">When the signaling proxy <b>225</b> sends an extended feedback report message to the media server <b>215</b>, the signaling proxy <b>225</b> uses the RTP timestamp of the most recent receiver report message from the client <b>210</b> as the RTP timestamp of the extended feedback report message.</p>
<p id="p-0060" num="0059">Returning to step S<b>322</b>. in response to the received channel/network condition feedback message, if the signaling proxy <b>225</b> determines that the feedback type indicator equals 0, the signaling proxy <b>225</b> sends a proxy-to-server feedback message including a short feedback report (hereinafter referred to as a short feedback report message) at step S<b>324</b>. The short feedback report message may also be in the form of an RTCP packet. The short feedback report includes at least the maximum transmission rate parameter (W<sub>S</sub>), but may also include the above-discussed other parameters included in the most recently received network/channel condition feedback message from the RNC <b>230</b>A. Unlike the extended feedback report message, however, the short feedback report message does not include the receiver report information.</p>
<p id="p-0061" num="0060">When the signaling proxy <b>225</b> sends a short feedback report message, the signaling proxy <b>225</b> uses its local clock-time to generate an RTP time stamp. The signaling proxy <b>225</b> may use the RTP timestamps associated with the receiver report messages from the client <b>210</b> to synchronize its clock time with the clock time of the client <b>210</b>.</p>
<p id="p-0062" num="0061">After transmitting the short feedback report message to the media server <b>215</b>, the signaling proxy <b>225</b> returns to the wait state at step S<b>321</b> and continues as discussed herein.</p>
<p id="p-0063" num="0062">Returning once again to step S<b>321</b>, if the message received in the wait state is a receiver report message from the client <b>210</b>, the signaling proxy <b>225</b> returns to step S<b>320</b>, performs the actions associated therewith, and enters the wait state at step S<b>321</b>.</p>
<p id="p-0064" num="0063">When the media session is terminated with appropriate RTSP messages from the client <b>210</b> or the media server <b>215</b>, the signaling proxy <b>225</b> deletes the entry for that session in its local database, stops sending proxy-to-server feedback messages to the media server <b>215</b>, and instructs the RNC <b>230</b>A to stop sending channel/network condition feedback messages.</p>
<p id="p-0065" num="0064">While example embodiments are discussed herein with respect to an extended feedback report generated by combining the information from the most recent receiver report message from the client <b>210</b> with the information contained in the most recent network/channel condition feedback message from the RNC <b>230</b>A, the information from the most recent receiver report messages and the information from the most recent network/channel condition feedback messages may be kept separate, and reported to the media server <b>215</b> separately. In such an arrangement, whenever the signaling proxy <b>225</b> receives a receiver report message from the client <b>210</b>, the signaling proxy <b>225</b> forwards the received receiver report message to the media server <b>215</b> (e.g., after recording at least a portion of the information contained therein).</p>
<p id="p-0066" num="0065">Similarly, upon receiving a network/channel condition feedback message form the RNC <b>230</b>A, the signaling proxy <b>225</b> sends a separate proxy-to-server message to the media server <b>215</b> containing the maximum transmission rate parameter W<sub>S </sub>and other relevant information included in the network/channel condition feedback message.</p>
<p id="p-0067" num="0066">As discussed above, the signaling proxy <b>225</b> sends proxy-to-server feedback messages to the media server <b>215</b> periodically (at regular intervals). The intervals of periodicity may be on the order of hundreds of milliseconds (e.g., about 100 ms to about 1000 ms or 1 second). In response to at least some of these messages, the media server <b>215</b> may set the content rate for a media session.</p>
<p id="p-0068" num="0067">Content rate refers to the rate at which media (e.g., voice, video, audio, etc.) is played out during a media session. The content rate corresponds to the average transmission rate needed to carry a corresponding media stream. A given content rate for a media stream can be realized by a combination of appropriate encoding and thinning. Typically, the higher the content rate, the better the media quality for the end-user.</p>
<p id="p-0069" num="0068">From the viewpoint of the media server <b>215</b>, methods for content rate selection begin upon receipt of an initial RTSP message from the client <b>210</b> (forwarded from the signaling proxy <b>225</b>). The RTSP message informs the media server <b>215</b> of the client <b>210</b>'s desire to set up a media session. The media server <b>215</b> then participates in the ensuing messaging for capability negotiation (exchange) and session establishment.</p>
<p id="p-0070" num="0069">In the case where the media is being streamed from a storage device, the media can be encoded at different content rates and stored for future use. For a live streaming media session, the encoding may be done &#x201c;on the fly.&#x201d; When the media is being streamed, the media server <b>215</b> selects the content rate for the media, and, based on the selected content rate, the media server <b>215</b> fetches the appropriate files containing media frames, packetizes these files, and transmits the selected files toward the client <b>210</b>. Content rate selection is typically performed often through the duration of the media session.</p>
<p id="p-0071" num="0070">Once the capability exchange and session establishment is complete, the media server <b>215</b> begins streaming media frames to the client <b>210</b>. The media server <b>215</b> also begins receiving proxy-to-server feedback messages from the signaling proxy <b>225</b>.</p>
<p id="p-0072" num="0071">During streaming media sessions, the media server <b>215</b> performs dynamic content rate selection and frame transmission scheduling.</p>
<p id="p-0073" num="0072">The objective of content rate selection at the media server <b>215</b> is to maximize media quality within the constraints imposed by current channel conditions. After initially setting the content rate for the media session based on the parameters negotiated with the client <b>210</b> during session setup, the media server <b>215</b> dynamically adjusts the content rate for the media session based on fluctuating channel conditions.</p>
<p id="p-0074" num="0073">Because the buffer state at the client <b>210</b> provides an indication of whether the current content rate is sustainable, can be raised, or needs to be lowered in view of the current channel conditions, the media server's content rate selection decisions are driven by the feedback from the client <b>210</b>.</p>
<p id="p-0075" num="0074"><figref idref="DRAWINGS">FIGS. 4A and 4B</figref> illustrate a method for content rate selection at a media server according to an example embodiment.</p>
<p id="p-0076" num="0075">Referring to <figref idref="DRAWINGS">FIG. 4A</figref>, after performing capability negotiation for the media session with the client <b>210</b>, the media server <b>215</b> sets the content rate in accordance with the negotiated parameters. After initially setting the content rate, the media server <b>215</b> initializes a plurality of content rate selection metrics to 0 at step S<b>504</b>. These plurality of content rate selection metrics include a favorable channel condition metric Cons_RTCP_Up, an unfavorable channel condition metric Cons_RTCP_Dn, a cumulative buffer content depletion metric Bfr_Depl_Ct, and a previous buffer content metric Old_Bfr_Cont. The media server <b>215</b> also initializes a timer value Bfr_Depl_Timer to 0.</p>
<p id="p-0077" num="0076">The favorable channel condition metric Cons_RTCP_Up is a counter value that counts the number of consecutive proxy-to-server feedback messages that indicate favorable channel conditions for the media session. The unfavorable channel condition metric Cons_RTCP_Dn is a counter value that counts the number of consecutive proxy-to-server feedback messages that indicate unfavorable channel conditions for the media session.</p>
<p id="p-0078" num="0077">According to at least some example embodiments, the channel conditions may be determined as being unfavorable based on given, desired or pre-determined criteria satisfied by one or more reported metrics such as client buffer levels falling below a threshold etc.</p>
<p id="p-0079" num="0078">The cumulative buffer content depletion metric Bfr_Depl_Ct represents an amount of reduction in the content at the client buffer over a given time window. The timer Bfr_Depl_Timer is a timer used to track the time window over which the cumulative buffer content depletion metric Bfr_Depl_Ct is accumulated. Bfr_Depl_Timer may be chosen to span an integer number of extended feedback signaling periods from the signaling proxy <b>225</b> to media server <b>215</b>. The media server <b>215</b> uses the cumulative buffer content depletion metric Bfr_Depl_Ct to accumulate values of the depletion (also referred to as step-drop) Delta over the given time window. The cumulative buffer content depletion metric Bfr_Depl_Ct is updated upon receipt of each extended feedback report message during the given time window. The cumulative buffer content depletion Bfr_Depl_Ct represents the total buffer content depletion since the beginning of the time window and may be indicative of a steady decrease in the client buffer content.</p>
<p id="p-0080" num="0079">Depletion metric Delta is indicative of a channel's short-term inability to support the current content rate for the media session. As discussed herein, depletion metric Delta is also referred to as a &#x201c;step drop&#x201d; and defined as the difference between the previous buffer content metric Old_Bfr_Cont and the (current) buffer content metric N_Buffer. The previous buffer content metric Old_Bfr_Cont refers to the previous buffer content reported in the most recent previous extended feedback report message.</p>
<p id="p-0081" num="0080">Still referring to <figref idref="DRAWINGS">FIG. 4A</figref>, after initializing the plurality of content rate selection metrics, the media server <b>215</b> enters a wait state at step S<b>506</b>. While in the wait state, the media server <b>215</b> awaits arrival of a proxy-to-server feedback message from the signaling proxy <b>225</b>.</p>
<p id="p-0082" num="0081">Upon receipt of a proxy-to-server feedback message, the media server <b>225</b> determines if the proxy-to-server message is an extended feedback report message or a short feedback report message at step S<b>507</b>.</p>
<p id="p-0083" num="0082">If the received proxy-to-server feedback message is a short feedback report message, the media server <b>215</b> sets the streaming rate (transmission rate) equal to the maximum transmission rate parameter W<sub>S </sub>reported in the short feedback report message at step S<b>508</b>. The media server <b>215</b> then returns to the wait state at step S<b>506</b> and proceeds as discussed herein. According to example embodiments, streaming rate is the rate at which media frames are actually transmitted by the media server <b>215</b>. The streaming rate may be different from the content rate. Content rate selection is typically done on the basis of medium-term estimates of channel conditions. Streaming rate setting is driven by the short-term view of channel conditions. The average streaming rate may not be different from the average content rate for relatively long periods of time, however. For example, if the average streaming rate is smaller than the average content rate for a significant amount of time, the client device <b>210</b> may eventually run out of content to be played out.</p>
<p id="p-0084" num="0083">Returning to step S<b>507</b>, if the received proxy-to-server feedback message is an extended feedback report message, the media server <b>215</b> sets the streaming rate equal to the maximum transmission rate parameter W<sub>S </sub>reported in the extended feedback report message at step S<b>510</b>.</p>
<p id="p-0085" num="0084">At step S<b>512</b>, the media server <b>215</b> determines frame sequence numbers N_Last and N_Next based on the information contained in the extended feedback report message. The frame sequence number N_Last is the sequence number of the latest frame received by the client <b>210</b>. The media server <b>215</b> determines the sequence number N_Last from the highest RTP sequence number reported in the extended feedback report message. The sequence number N_Next is the sequence number of the earliest frame received by the client <b>210</b>. The media server <b>215</b> determines sequence number N_Next from the RTP sequence number associated with the next application data unit to be decoded as reported in the extended feedback report message.</p>
<p id="p-0086" num="0085">Instead of using sequence numbers associated with frames, the media server <b>215</b> may use timestamps as the corresponding identifiers. If timestamps are used as identifiers, the computations associated with content rate selection decisions are in units of time rather than in units of frames. For example, buffer contents would be given in terms of the amount of time it would take to play out the corresponding frames rather than in terms of the actual number of frames contained in the buffer.</p>
<p id="p-0087" num="0086">Referring back to <figref idref="DRAWINGS">FIG. 4A</figref>, after determining sequence numbers N_Last and N_Next at step S<b>512</b>, the media server <b>215</b> calculates/estimates a buffer content metric N_Buffer associated with the client <b>210</b> (or alternatively the media session itself) based on the sequence numbers N_Last and N_Next at step S<b>514</b>. The client buffer content metric N_Buffer represents the current content of the buffer at client <b>210</b>.</p>
<p id="p-0088" num="0087">In more detail, the media server <b>215</b> sets the metrics N_Buffer, Delta, and Bfr_Depl_Ct as follows:</p>
<p id="p-0089" num="0088">N_Buffer&#x2190;N_Last&#x2212;N_Next;</p>
<p id="p-0090" num="0089">Delta&#x2190;Old_Bfr_Cont&#x2212;N_Buffer; and</p>
<p id="p-0091" num="0090">Bfr_Depl_Ct&#x2190;Bfr_Depl_Ct+Delta.</p>
<p id="p-0092" num="0091">Although not specifically shown in the figures, it should be noted that each of N_Buffer, Delta, and Bfr_Depl_Ct are initialized to 0 at the beginning of the time window over which Bfr_Depl_Ct is computed.</p>
<p id="p-0093" num="0092">Still referring to step S<b>514</b>, the media server <b>215</b> increments the buffer depletion timer Bfr_Depl_Timer by 1 (Bfr_Depl_Timer&#x2190;Bfr_Depl_Timer+1).</p>
<p id="p-0094" num="0093">Still referring to <figref idref="DRAWINGS">FIG. 4A</figref>, at step S<b>516</b>, the media server <b>215</b> compares the buffer content metric N_Buffer with a minimum threshold value T_Lower. The threshold value T_Lower is in terms of a number of frames. If the buffer content metric N_Buffer falls below the minimum threshold T_Lower, the media server <b>215</b> determines that further fluctuations in channel conditions may lead to complete draining of the buffer at client <b>210</b>, which results in re-buffering. Accordingly, the media server <b>215</b> sets the favorable channel condition metric Cons_RTCP_Up to 0, increments the unfavorable channel condition metric Cons_RTCP_Dn by 1 at step S<b>556</b>. The method then proceeds to step S<b>538</b> (shown in <figref idref="DRAWINGS">FIG. 4B</figref> and discussed in more detail below).</p>
<p id="p-0095" num="0094">If the buffer content metric N_Buffer is greater than or equal to the threshold T_Lower, the media server <b>215</b> compares the buffer content metric N_Buffer with an intermediate lower threshold T_Inner at step S<b>518</b>. Also at step S<b>518</b>, the media server <b>215</b> compares the depletion metric Delta with a step-down threshold Down_Step.</p>
<p id="p-0096" num="0095">If, at step S<b>518</b>, the buffer content metric N_Buffer is less than the intermediate lower threshold T_Inner and the depletion metric Delta is greater than the step-down threshold Down_Step, the media server <b>215</b> once again determines that the channel conditions are unfavorable for the current content rate. Accordingly, the media server proceeds to step S<b>556</b> and continues as discussed herein. Returning to step S<b>518</b>, if the buffer content metric N_Buffer greater than or equal to the intermediate lower threshold T_Inner and the depletion metric Delta is less than or equal to the step-down threshold Down_Step, the media server <b>215</b> compares the buffer content metric N_Buffer with an upper intermediate threshold T_Outer at step S<b>519</b>. Also at step S<b>519</b>, the media server <b>215</b> compares the value of the buffer content depletion metric Bfr_Depl_Ct with a depletion threshold T_Steady.</p>
<p id="p-0097" num="0096">If the buffer content metric N_Buffer is less than the upper intermediate threshold T_Outer and the value of buffer content depletion metric Bfr_Depl_Ct is greater than the depletion threshold T_Steady, the media server <b>215</b> once again determines the current channel conditions to be unfavorable for the current content rate. Accordingly, the media server <b>215</b> proceeds to step S<b>556</b> and continues as discussed herein. If the buffer content metric N_Buffer is greater than or equal to the upper intermediate threshold T_Outer and the value of buffer content depletion metric Bfr_Depl_Ct is less than or equal to the depletion threshold T_Steady, the media server <b>215</b> sets the unfavorable channel conditions metric Cons_RTCP_Dn, to 0 at step S<b>521</b>. The media server <b>215</b> then compares the buffer content metric N_Buffer with a channel conditions counter threshold value T_Cons at step S<b>523</b>.</p>
<p id="p-0098" num="0097">If, at step S<b>523</b>, the buffer content metric N_Buffer is greater than or equal to the threshold T_Cons, the media server <b>215</b> determines the current channel conditions are favorable for higher content rates. Accordingly, the media server <b>215</b> increments the favorable channel condition metric Cons_RTCP_Up by 1 at step S<b>552</b>, and then proceeds to step S<b>538</b> (shown in <figref idref="DRAWINGS">FIG. 4B</figref>). Returning to step S<b>523</b>, if the buffer content metric N_Buffer is less than the threshold T_Cons, the media server <b>215</b> compares the buffer content metric N_Buffer with a maximum threshold T_Upper at step S<b>554</b>. Also at step S<b>554</b>, the media server <b>215</b> compares the negative value of the depletion metric Delta (i.e., &#x2212;Delta) with favorable channel condition threshold Up_Step. If the buffer content metric N_Buffer is greater than the maximum threshold T_Upper and the negative value of the depletion metric Delta is greater than the favorable channel condition threshold Up_Step, the media server <b>215</b> deems the current channel conditions to be favorable for higher content rates. Accordingly, the media server <b>215</b> proceeds to step S<b>552</b> and continues as discussed herein. Returning to step S<b>554</b>, if the buffer content metric N_Buffer is less than or equal to the maximum threshold T_Upper and the negative value of the depletion metric Delta is less than or equal to the favorable channel condition threshold Up_Step the media server <b>215</b> sets the favorable channel conditions metric Cons_RTCP_Up to 0 at step S<b>527</b>, and then proceeds to step S<b>538</b> (shown in <figref idref="DRAWINGS">FIG. 4B</figref>).</p>
<p id="p-0099" num="0098">Turning to <figref idref="DRAWINGS">FIG. 4B</figref>, when the media server <b>215</b> reaches step S<b>538</b>, the media server <b>215</b> compares the favorable channel conditions metric Cons_RTCP_Up with a maximum favorable channel conditions threshold counter value Max_RTCP_Up. If the favorable channel conditions metric Cons_RTCP_Up is greater than or equal to the threshold value Max_RTCP_Up, the media server <b>215</b>, at step S<b>550</b>, sets the content rate for the media session equal to the next higher content rate for the media session (if the content rate does not already equal the highest possible content rate for the media session), sets the favorable channel conditions metric Cons_RTCP_Up to 0, and then proceeds to step S<b>544</b> (discussed in more detail later). Returning to step S<b>538</b>, if the favorable channel conditions metric Cons_RTCP_Up is less than the maximum favorable channel conditions threshold counter value Max_RTCP_Up, the media server <b>215</b> compares unfavorable channel conditions metric Cons_RTCP_Dn with a maximum unfavorable channel conditions threshold counter value threshold Max_RTCP_Dn at step S<b>540</b>.</p>
<p id="p-0100" num="0099">If the unfavorable channel conditions metric Cons_RTCP_Dn is greater than or equal to threshold value Max_RTCP_Dn, the media server <b>215</b> sets the content rate for the media session to the next lower content rate for the media session (if the content rate does not already equal the lowest possible content rate for the media session), and sets the unfavorable channel conditions metric Cons_RTCP_Dn to 0 at step S<b>542</b>.</p>
<p id="p-0101" num="0100">The media server <b>215</b> then sets the buffer depletion timer Bfr_Depl_Timer and the buffer depletion counter value Bfr_Depl_Ct to 0 at step S<b>544</b>. At step S<b>546</b>, the media server <b>215</b> then sets the previous buffer content metric Old_Bfr_Cont equal to the buffer content metric N_Buffer (Old_Bfr_Cont=N_Buffer). The media server <b>215</b> then returns to the wait state at step S<b>506</b> and continues as discussed herein.</p>
<p id="p-0102" num="0101">Returning to step S<b>540</b>, if the unfavorable channel conditions metric Cons_RTCP_Dn is less than threshold Max_RTCP_Dn, the media server <b>215</b> compares the value of the buffer depletion timer Bfr_Depl_Timer with a maximum buffer depletion timer threshold Max_Bfr_Depl_Timer at step S<b>548</b>. If the buffer depletion timer Bfr_Depl_Timer is less than the threshold Max_Bfr_Depl_Timer at step S<b>548</b>, the method proceeds to step S<b>546</b> and continues as discussed herein.</p>
<p id="p-0103" num="0102">Returning to step S<b>548</b>, if the value of the buffer depletion timer Bfr_Depl_Timer is greater than or equal to the threshold Max_Bfr_Depl_Timer at step S<b>548</b>, the method proceeds to step S<b>544</b> and continues as discussed herein.</p>
<p id="p-0104" num="0103">As noted above, the media server <b>215</b> also performs dynamic frame transmission scheduling or frame transmission rate control during a media session. As will be discussed in more detail below, <figref idref="DRAWINGS">FIGS. 5-7</figref> illustrate methods for dynamic frame transmission scheduling according to example embodiments. The methods shown in <figref idref="DRAWINGS">FIGS. 5 and 6</figref> pertain to processing/packetizing and queuing of frames to be transmitted to the client <b>210</b>, whereas the method shown in <figref idref="DRAWINGS">FIG. 7</figref> pertains to the flow controlled (token-bucket based) transmission of media session packets (packetized frames) to the client <b>210</b>.</p>
<p id="p-0105" num="0104">In more detail, <figref idref="DRAWINGS">FIG. 5</figref> illustrates the processing/packetizing and queuing of frames for transmission to the client <b>210</b>; that is, placement in the token bucket queue, during the pre-roll period. <figref idref="DRAWINGS">FIG. 6</figref> shows the processing/packetizing and placement of frames in the token bucket queue during the post pre-roll period. These procedures shown in <figref idref="DRAWINGS">FIGS. 5 and 6</figref> establish the earliest times that packets can be transmitted to the client <b>210</b>. There may be further limitations on streaming rate to the client <b>210</b> (e.g., rate of transmission of media session packets, etc.) based on feedback messages, etc., which are enforced using the token bucket rate control mechanism in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0106" num="0105">The objective of dynamic frame transmission scheduling is to ensure that the client <b>210</b> has the appropriate frames ready for decoding and play-out before their respective play-out times. The buffer space provided by the client <b>210</b> for the media session allows the media server <b>215</b> to transmit frames well ahead of their play-out times so that they are available at the client <b>210</b> as needed. This buffer space helps the client <b>210</b> overcome fluctuations in the channel bandwidth available to the media session.</p>
<p id="p-0107" num="0106">There are two constraints that limit how far ahead of their respective play-out times frames can be transmitted by the media server <b>215</b>. These constraints include the finite size of the client buffer (which the media server <b>215</b> becomes aware of during the capability negotiation for the media session) and the restriction on the transmission streaming rate conveyed periodically to the media server <b>215</b> by the signaling proxy <b>225</b>; that is, the maximum transmission rate parameter W<sub>S </sub>included in each proxy-to-server feedback message. Frame transmission scheduling must be carried out within the streaming rate limit and also be done such manner that packets are not lost due to buffer overflow at the client <b>210</b>.</p>
<p id="p-0108" num="0107">A common and rather conservative approach (often referred to as &#x201c;hypothetical receiver buffer&#x201d;) to avoid packet losses due to client buffer overflow is to assume that all packets transmitted by the media server <b>215</b>, but not belonging to frames that have already been played out, are present in the buffer at the client <b>210</b>.</p>
<p id="p-0109" num="0108">Frame transmission scheduling is then performed such that the buffer space necessary to hold these packets does not exceed the buffer space allocated to the media session. For the sake of clarity, it is assumed that the media server <b>215</b> follows this conservative approach. However, example embodiments may be utilized in conjunction with other approaches to avoid packet loss such as temporary caching of packets in intermediate nodes.</p>
<p id="p-0110" num="0109">The streaming rate limit may be imposed via a token-bucket-based rate control scheme, which will be discussed in more detail later with regard to <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0111" num="0110">Given the hypothetical-receiver-buffer method of avoiding packet losses due to client buffer overflow and the token-bucket-based streaming rate control, the media server <b>215</b> carries out frame transmission scheduling as shown in <figref idref="DRAWINGS">FIGS. 5 and 6</figref>.</p>
<p id="p-0112" num="0111"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a method for frame transmission scheduling during a pre-roll period. The pre-roll period constitutes the period before the client <b>210</b> begins playing out received frames. As shown in <figref idref="DRAWINGS">FIG. 5</figref>, during the pre-roll period, the media server <b>215</b> attempts to transmit frames continuously subject to the limit imposed by the token-bucket-based transmission control, discussed in more detail later with regard to <figref idref="DRAWINGS">FIG. 7</figref>. That is, the media server <b>215</b> pushes frames out whenever it senses the packet queue associated with the token-bucket base transmission rate control is empty. Thus, packets belonging to the media stream are continuously transmitted at the rate determined by streaming rate control.</p>
<p id="p-0113" num="0112">Referring to <figref idref="DRAWINGS">FIG. 5</figref>, in one example embodiment, at step S<b>402</b> the media server <b>215</b> initializes the estimated client buffer level L to 0. The estimated client buffer level L is an estimate (byte-count) of the packets/frames present in the buffer at client <b>210</b> awaiting playout. At step S<b>404</b>, the media server <b>215</b> enters a state where it checks whether a token bucket packet queue is empty. The token bucket packet queue (or packet queue) is a buffer at the media server <b>215</b> storing media session packets awaiting transmission to the client <b>210</b>. No action is taken until the packet queue is found to be empty.</p>
<p id="p-0114" num="0113">In step S<b>404</b>, if the token bucket packet queue is empty, the media server <b>215</b> calculates the size S of the current frame of information to be transmitted at step S<b>406</b>. The size S of the current frame may correspond to the number of bits or the byte-count of the frame. Alternatively, the size of the frame may correspond to a particular length of the frame.</p>
<p id="p-0115" num="0114">At step S<b>408</b>, the media server <b>215</b> increments the estimate of the client buffer level L by S (L&#x2190;L+S). At step S<b>410</b>, the media server <b>215</b> packetizes the frame of information to be transmitted.</p>
<p id="p-0116" num="0115">At step S<b>412</b>, the media server <b>215</b> places the packets into the packet queue.</p>
<p id="p-0117" num="0116">At step S<b>414</b>, the media server <b>215</b> determines if the pre-roll period is complete. The pre-roll period is complete if all the frames that constitute the pre-roll period have been transmitted. If the pre-roll period is not complete, the method returns to step S<b>404</b> and continues as discussed above.</p>
<p id="p-0118" num="0117">Returning to step S<b>414</b>, if the pre-roll period is complete, the media server <b>215</b> performs the method shown in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0119" num="0118">Once the pre-roll period is over and the client <b>210</b> begins playing out received media frames, frame transmission scheduling operates under the dual constraints of working within the rate limit imposed by the token-bucket-based transmission rate control (discussed in more detail later) and making sure that the server's estimate of the client buffer level L does not exceed the buffer size allocated to the media session. The flowchart shown in <figref idref="DRAWINGS">FIG. 6</figref> illustrates a frame transmission scheduling method during the post-pre-roll period.</p>
<p id="p-0120" num="0119">Referring to <figref idref="DRAWINGS">FIG. 6</figref>, at step S<b>602</b>, the media server <b>215</b> enters a state where it checks to see if the token bucket packet queue is empty. No scheduling action is taken by the media server until the packet queue is not empty. If the packet queue is empty at step S<b>602</b>, the media server <b>215</b> calculates the size S of the current frame of information to be transmitted at step S<b>604</b>. The media server <b>215</b> adds the size S with the estimated client buffer level L. If the sum of the estimated client buffer level L and the frame size S is less than the client buffer size at step S<b>606</b>, the media server <b>215</b> sets L equal to the sum of the estimated client buffer level L and the frame size S at step S<b>608</b>. The media server <b>215</b> packetizes the frame at S<b>610</b>, and places the packets into the packet queue at step S<b>612</b>. The method then returns to step S<b>602</b> and continues as discussed above.</p>
<p id="p-0121" num="0120">Returning to step S<b>606</b>, if the sum of the estimated client buffer level L and frame size S is greater than the client buffer size, the media server <b>215</b> enters a wait state at step S<b>614</b> where it waits for a time period needed for the client to play out a frame. At step S<b>616</b>, the media server <b>215</b> decreases the estimated client buffer level L by the size of the frame that has just been played out. The method then proceeds to step S<b>604</b> and continues as discussed above.</p>
<p id="p-0122" num="0121">As discussed above, limits on the streaming rate at which packets can be streamed to the client <b>210</b> also constrain how far ahead of their respective play-out times frames can be transmitted by the media server <b>215</b>. <figref idref="DRAWINGS">FIG. 7</figref> illustrates a method for imposing a streaming rate limit via a token-bucket based rate control scheme. A token-bucket-based rate control scheme is characterized by three parameters: step-size &#x394;, update interval &#x3c4; and maximum credit level Gmax. A token-bucket scheme is also dependent upon a state variable G (referred to as the credit level) and the token bucket packet queue. As discussed above, the token bucket packet queue is a buffer at the media server <b>215</b> storing media session packets awaiting transmission to the client <b>210</b>.</p>
<p id="p-0123" num="0122"><figref idref="DRAWINGS">FIG. 7</figref> illustrates a method for frame transmission rate control in which the media server <b>215</b> determines whether to transmit a packet to the client <b>210</b> based on a state variable associated with the media session and the availability of a packet (belonging to the media session) that is ready for transmission. The state variable is a credit level G. The media server <b>215</b> transmits the packet to the client <b>210</b> if the credit level G is greater than zero. Example embodiments of the method shown in <figref idref="DRAWINGS">FIG. 7</figref> will be discussed in more detail below.</p>
<p id="p-0124" num="0123">Referring to <figref idref="DRAWINGS">FIG. 7</figref>, at the beginning of the media session, the media server <b>215</b> initializes the credit level G to the maximum credit level Gmax at step S<b>700</b>. The media server <b>215</b> then sets a timer equal to the length of the update interval &#x3c4; at step S<b>702</b>. In one embodiment of the invention as illustrated in <figref idref="DRAWINGS">FIG. 7</figref>, the update interval &#x3c4; is chosen to be smaller than the time interval between play-out of consecutive frames. For example, the update interval &#x3c4; may be chosen to be 20 ms when the play-out interval is 30 ms. After setting the timer, the media server <b>215</b> enters a wait state at step S<b>704</b>. While in the wait state, the media server <b>215</b> waits for a packet to be ready for transmission or for the timer to expire.</p>
<p id="p-0125" num="0124">When the media server <b>215</b> receives (or generates) a packet ready for transmission (referred to as the &#x201c;new packet&#x201d;), the media server <b>215</b> checks if the packet queue is empty at step S<b>706</b>. If the packet queue is not empty, the new packet is placed at the end of the packet queue at step S<b>710</b>. The media server <b>215</b> then returns to the wait state at step S<b>704</b> and the process proceeds as discussed herein.</p>
<p id="p-0126" num="0125">Returning to step S<b>706</b>, if the packet queue is empty, the media server <b>215</b> checks the credit level G associated with the client <b>210</b> at step S<b>708</b>. If the credit level G is less than or equal to zero, the process proceeds to step S<b>710</b> and continues as discussed above.</p>
<p id="p-0127" num="0126">Returning to step S<b>708</b>, if the credit level G is greater than 0, the credit level G is decremented by the length of the new packet and the packet is transmitted at step S<b>712</b>. The method then returns to the wait state at step S<b>704</b> and continues as discussed herein.</p>
<p id="p-0128" num="0127">While in the wait state at step S<b>704</b>, if the timer expires the media server <b>215</b> increments credit level G by step size &#x394; at step S<b>714</b>. If the incremented value of the credit level G is greater than Gmax, the credit level G is set to Gmax. According to example embodiments, the step size &#x394; is equal to the product of the most recently received maximum transmission parameter W<sub>S </sub>and the update interval &#x3c4; (W<sub>S</sub>*&#x3c4;).</p>
<p id="p-0129" num="0128">Still referring to <figref idref="DRAWINGS">FIG. 7</figref>, the media server <b>215</b> checks if the incremented credit level G is greater than 0 at step S<b>716</b>. If the credit level G is less than or equal to zero, the process returns to step S<b>702</b>, the timer is reset and the method continues as discussed above.</p>
<p id="p-0130" num="0129">Returning to step S<b>716</b>, if credit level G is greater than 0, the media server <b>215</b> checks if the packet queue is empty at step S<b>718</b>. If the packet queue is empty, the method proceeds to step S<b>702</b> and continues as discussed above.</p>
<p id="p-0131" num="0130">Returning to step S<b>718</b>, if the packet queue is not empty, the media server <b>215</b> removes the first packet (e.g., the oldest or highest priority packet) from the queue and transmits the packet at step S<b>720</b>. Also at step S<b>720</b>, the media server <b>215</b> decrements the credit level G by the length of the transmitted packet. The method then returns to step S<b>716</b> and continues as discussed above.</p>
<p id="p-0132" num="0131">The invention being thus described, it will be obvious that the same may be varied in many ways. Such variations are not to be regarded as a departure from the invention, and all such modifications are intended to be included within the scope of the invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08626943-20140107-M00001.NB">
<img id="EMI-M00001" he="11.68mm" wi="76.20mm" file="US08626943-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>We claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for rate-control of a multimedia session for a client in a network, the method comprising:
<claim-text>determining, by a server, whether a token bucket packet queue associated with the multimedia session is empty;</claim-text>
<claim-text>calculating, by the server, a size of a frame to be transmitted to the client if the token bucket packet queue is empty;</claim-text>
<claim-text>estimating, by the server, a client buffer level, the client buffer level being a buffer at the client and being associated with the multimedia session;</claim-text>
<claim-text>waiting, by the server, for a time period associated with playing out a frame by the client and decrementing the client buffer level by the size of the frame to be transmitted to the client, upon a sum of the estimated client buffer level and the calculated size of the frame to be transmitted being greater than a client buffer size; and</claim-text>
<claim-text>upon the sum being less than the client buffer size,
<claim-text>setting, by the server, the size of the client buffer level to be the sum of the estimated client buffer level and the calculated size of the frame to be transmitted to the client,</claim-text>
<claim-text>packetizing, by the server, the frame for transmission to the client, and</claim-text>
<claim-text>scheduling, by the server, the packet for transmission.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the scheduling step further comprises:
<claim-text>placing the packetized frame into a token bucket packet queue for transmission to the client.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>comparing the estimated client buffer level with a buffer capacity for the client, wherein the packetizing step packetizes the frame for transmission only upon the estimated client buffer level being less than the buffer capacity.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the scheduling step further comprises:
<claim-text>placing the packetized frame into a token bucket packet queue for transmission to the client. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
