<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626066-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626066</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12882191</doc-number>
<date>20100914</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="regional">
<country>EP</country>
<doc-number>09290699</doc-number>
<date>20090914</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>613</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>B</subclass>
<main-group>7</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>455 412</main-classification>
<further-classification>455 411</further-classification>
<further-classification>4554141</further-classification>
<further-classification>4554322</further-classification>
<further-classification>370259</further-classification>
<further-classification>235493</further-classification>
</classification-national>
<invention-title id="d2e71">Near field communication device</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7213766</doc-number>
<kind>B2</kind>
<name>Ryan et al.</name>
<date>20070500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>235492</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7657255</doc-number>
<kind>B2</kind>
<name>Abel et al.</name>
<date>20100200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554141</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7929456</doc-number>
<kind>B2</kind>
<name>Breitfuss</name>
<date>20110400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370252</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>8098689</doc-number>
<kind>B2</kind>
<name>Trainin</name>
<date>20120100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370474</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>8103249</doc-number>
<kind>B2</kind>
<name>Markison</name>
<date>20120100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455411</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>8313037</doc-number>
<kind>B1</kind>
<name>Humphrey</name>
<date>20121100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>235493</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>8376239</doc-number>
<kind>B1</kind>
<name>Humphrey</name>
<date>20130200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>235493</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>8396455</doc-number>
<kind>B2</kind>
<name>Carlson et al.</name>
<date>20130300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554122</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2007/0197261</doc-number>
<kind>A1</kind>
<name>Humbel</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455558</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2007/0262860</doc-number>
<kind>A1</kind>
<name>Salinas et al.</name>
<date>20071100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>34053912</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2009/0023476</doc-number>
<kind>A1</kind>
<name>Saarisalo et al.</name>
<date>20090100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2009/0327151</doc-number>
<kind>A1</kind>
<name>Carlson et al.</name>
<date>20091200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 80</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2010/0075638</doc-number>
<kind>A1</kind>
<name>Carlson et al.</name>
<date>20100300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554121</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2011/0234379</doc-number>
<kind>A1</kind>
<name>Lee</name>
<date>20110900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>340 101</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2011/0264543</doc-number>
<kind>A1</kind>
<name>Taveau et al.</name>
<date>20111000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 23</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>EP</country>
<doc-number>0 940 961</doc-number>
<kind>A</kind>
<date>19990900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00017">
<othercit>&#x201c;EMV Contactless Communication Protocol Specification v2.0&#x201d; EMVco, 159 pgs. (Aug. 2007).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00018">
<othercit>European Extended Search Report for Patent Appln. EP 09290699.9 (Dec. 22, 2009).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>11</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>455 412</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455 411</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4554141</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4554322</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455466</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455411</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455433</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370259</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370260</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>235493</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>235379</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>235380</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>3</number-of-drawing-sheets>
<number-of-figures>5</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110065385</doc-number>
<kind>A1</kind>
<date>20110317</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Geslin</last-name>
<first-name>Jeremy</first-name>
<address>
<city>Caen</city>
<country>FR</country>
</address>
</addressbook>
<residence>
<country>FR</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Pele</last-name>
<first-name>Jerome</first-name>
<address>
<city>Caen</city>
<country>FR</country>
</address>
</addressbook>
<residence>
<country>FR</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Geslin</last-name>
<first-name>Jeremy</first-name>
<address>
<city>Caen</city>
<country>FR</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Pele</last-name>
<first-name>Jerome</first-name>
<address>
<city>Caen</city>
<country>FR</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>NXP B.V.</orgname>
<role>03</role>
<address>
<city>Eindhoven</city>
<country>NL</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Dao</last-name>
<first-name>Minh D</first-name>
<department>2648</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A near field communication device being operable in a first operating state and a second operating state, the near field communication device comprising a communication unit adapted for communicating with an external device; and a control unit coupled to the communication unit; wherein the control unit is adapted for controlling the communication unit to be presented to the external device to be in the first operating state and supporting the second operating state, and wherein the control unit is adapted for switching the communication unit from the first operating state to the second operating state upon receipt of a configuration signal received from the external device.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="127.34mm" wi="164.76mm" file="US08626066-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="239.61mm" wi="166.71mm" file="US08626066-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="251.12mm" wi="166.37mm" file="US08626066-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="150.28mm" wi="167.05mm" file="US08626066-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<p id="p-0002" num="0001">This application claims the priority of European patent application no. 09290699.9, filed on Sep. 14, 2009, the contents of which are incorporated by reference herein.</p>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">The number of applications used in mobile devices, in particular mobile phones, increases more and more. Thus, the way of communication carried out by mobile phones changes. For example Near Field Communication (NFC) is being adopted by mobile phones for various applications like smart posters, ticketing, payments etc.</p>
<p id="p-0004" num="0003">Near Field Communication or NFC is a short-range high frequency wireless communication technology which enables the exchange of data between devices over about a 10 centimeters (around 4 inches) distance. The technology is a simple extension of the ISO/IEC 14443 proximity-card standard (contactless card, RFID) that combines the interface of a smartcard and a reader into a single device. An NFC device can communicate with both existing ISO/IEC 14443 smartcards and readers, as well as with other NFC devices, and is thereby compatible with existing contactless infrastructure already in use for public transportation and payment. NFC is primarily aimed at usage in mobile phones.</p>
<p id="p-0005" num="0004">NFC technology (standardized in ISO/IEC 18092) is currently mainly aimed at being used with mobile phones. There are three main use cases for NFC:
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0005">Card emulation: the NFC device behaves like an existing contactless card (e.g. payment, ticketing, transport, access control . . . )</li>
        <li id="ul0002-0002" num="0006">Reader mode: the NFC device is active and read a passive RFID tag, for example for interactive advertising</li>
        <li id="ul0002-0003" num="0007">P2P mode: two NFC devices are communicating together and exchanging information (e.g. easy peering connection, data transfers from device to device . . . )</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0006" num="0008">When a NFC device may provide the card emulation and the P2P mode in parallel, this may lead to a collision at the RF side, i.e. the side of an external device.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0002" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0007" num="0009">The invention will be described in more detail hereinafter with reference to examples of embodiment but to which the invention is not limited.</p>
<p id="p-0008" num="0010"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a near field communication device according to an exemplary embodiment of the invention.</p>
<p id="p-0009" num="0011"><figref idref="DRAWINGS">FIG. 2</figref> illustrates a communication between a NFC device and an external device in a transactional flow diagram according to a common system.</p>
<p id="p-0010" num="0012"><figref idref="DRAWINGS">FIG. 3</figref> illustrates a communication between a NFC device and an external device in a transactional flow diagram according to a further common system.</p>
<p id="p-0011" num="0013"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a communication between a NFC device and an external device in a transactional flow diagram according to an exemplary embodiment of the invention.</p>
<p id="p-0012" num="0014"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a communication between a NFC device and an external device in a transactional flow diagram according to a further exemplary embodiment of the invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<p id="p-0013" num="0015">The illustration in the drawing is a schematic illustration. In different drawings, similar or identical elements are provided with the same reference signs.</p>
<heading id="h-0003" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0014" num="0016">According to an exemplary embodiment of the invention, a near field communication device is provided, being operable in a first operating state and a second operating state, the near field communication device comprising a communication unit adapted for communicating with an external device and a control unit coupled to the communication unit, wherein the control unit is adapted for controlling the communication unit to be presented to the external device to be in the first operating state and supporting the second operating state, and wherein the control unit is adapted for switching the communication unit from the first operating state to the second operating state upon receipt of a configuration signal received from the external device.</p>
<p id="p-0015" num="0017">According to another exemplary embodiment of the invention, a method for operating a near field communication device in a first and a second operating state is provided, the method comprising controlling a communication unit by a control unit for presenting the communication unit to an external device to be in the first operating state and supporting the second operating state, and switching the communication unit from the first operating state to the second operating state upon receipt of a configuration signal received from the external device.</p>
<p id="p-0016" num="0018">According to another exemplary embodiment of the invention, a communication system is provided comprising a near field communication device with the above mentioned features and an external device.</p>
<p id="p-0017" num="0019">According to still another exemplary embodiment of the invention, a program element (for instance a software routine, in source code or in executable code) is provided, which, when being executed by a processor, is adapted to control or carry out a method having the above mentioned features.</p>
<p id="p-0018" num="0020">According to yet another exemplary embodiment of the invention, a computer-readable medium (for instance a CD, a DVD, a USB stick, a floppy disk or a harddisk) is provided, in which a computer program is stored which, when being executed by a processor, is adapted to control or carry out a method having the above mentioned features.</p>
<p id="p-0019" num="0021">Operating a near field communication device in a first and a second operating state which may be performed according to embodiments of the invention can be realized by a computer program, that is by software, or by using one or more special electronic optimization circuits, that is in hardware, or in hybrid form, that is by means of software components and hardware components.</p>
<p id="p-0020" num="0022">The term &#x201c;near field communication&#x201d; (NFC) may denote a short-range high frequency wireless communication technology which enables the exchange of data between devices over short distances, for example 10 centimeters or around 4 inches. The technology is a simple extension of the ISO/IEC 14443 proximity-card standard (contactless card, RFID) that combines the interface of a smartcard and a reader into a single device. An NFC device may communicate with both existing ISO/IEC 14443 smartcards and readers, as well as with other NFC devices, and is thereby compatible with existing contactless infrastructure already in use for public transportation and payment. NFC and thus this invention may for example be used in mobile phones.</p>
<p id="p-0021" num="0023">The term &#x201c;communication unit&#x201d; may denote for example a module responsible for the communication with external devices.</p>
<p id="p-0022" num="0024">The term &#x201c;control unit&#x201d; may denote any kind of unit which is able to control the communication unit and to switch the communication unit between a first operating state and a second operating state. The communication unit and the control unit may be formed on a single chip or as separate units.</p>
<p id="p-0023" num="0025">According to an embodiment of the invention, the conflict between for example card emulation and P2P features may be solved by implementing a specific way of handling this case in the NFC device. The basis of the solution may be to expose only the card emulation feature, first operating state, but modifying the RF initialization parameters to also expose P2P capabilities, supporting second operating state.</p>
<p id="p-0024" num="0026">In the following, further exemplary embodiments of the near field communication device will be explained. However, these embodiments also apply to the communication system, to the method, to the program element and to the computer-readable medium.</p>
<p id="p-0025" num="0027">According to an embodiment of the invention, it may be possible that, in the first operating state, the communication unit is adapted for providing a service of a contactless card. The NFC device may behave like an existing contactless card for example for payment, ticketing, transport, access control. The communication between the NFC device and the external device may be unidirectional.</p>
<p id="p-0026" num="0028">According to an embodiment of the invention, in the second operating state, the communication unit is adapted for exchanging information with the external device. This may be called P2P mode, wherein two NFC devices are communicating together and exchanging information, for example easy peering connection, data transfers from device to device. The communication between the NFC device and the external device may be bidirectional.</p>
<p id="p-0027" num="0029">According to an embodiment of the invention, the communication unit is adapted for receiving a communication initialization signal from the external device and for sending a response signal to the external device in response to receipt of the communication initialization signal, wherein the response signal comprises information presenting the device to the external device to be in the first operating state and supporting the second operating state. In this embodiment, the parameters of the two operating states may be merged during the RF initialization to only expose one &#x201c;card&#x201d; to the external reader. This &#x201c;merge card&#x201d; may own parameters showing the support of the two operating states. Concretely, the RF initialization parameter named &#x201c;SAK&#x201d; defined by ISO/IEC 14443 standard, renamed as &#x201c;SEL_RES&#x201d; by ISO/IEC 18092 standard, may indicate the support of the ISO/IEC 18092 protocol thanks to one bit (bit <b>6</b>). Then, only the card emulation parameters for the RF initialization may be used, setting the relevant bit of the SAK to indicate P2P support.</p>
<p id="p-0028" num="0030">According to an embodiment of the invention, the communication unit is adapted for receiving the configuration signal indicative of a selection by the external device, which of the first and the second operating state is selected. The external reader may select the related feature according to its own application by means of an upper layer command during the last stage of RF initialization (either ISO/IEC 14443 RATS command, or ISO/IEC 18092 ATR_REQ command, or even a proprietary command).</p>
<p id="p-0029" num="0031">According to an embodiment of the invention, the device is a mobile device.</p>
<p id="p-0030" num="0032">According to a further embodiment of the invention, the device is realised as at least one of the group consisting of a mobile phone, a hearing aid, a dictating machine, a conference call device, a portable audio player, a portable video player, a head mounted display, a medical communication system, a body-worn device, a DVD player, a CD player, a harddisk-based media player, an internet radio device, a public entertainment device, and an MP3 player.</p>
<p id="p-0031" num="0033">In the following, further exemplary embodiments of the communication system will be explained. However, these embodiments also apply to the near field communication device, to the method, to the program element and to the computer-readable medium.</p>
<p id="p-0032" num="0034">According to an embodiment of the invention, the external device is a mobile host. A mobile host may be any kind of external device or portable terminal which may be connectable to the communication unit.</p>
<p id="p-0033" num="0035">The near field communication (NFC) device may be adapted for wireless communication with the external device which may be particularly a reading device, for reading data from the NFC device. For this purpose, the NFC device and the reading device may comprise corresponding transmission elements. For instance, the NFC device may comprise an antenna, wherein the reading device may comprise a corresponding receiving antenna. However, the inventive device is not limited to wireless or contactless data transmission, but in principle also applies to wireless communication.</p>
<p id="p-0034" num="0036">The aspects defined above and further aspects of the invention are apparent from the examples of embodiment to be described hereinafter and are explained with reference to these examples of embodiment.</p>
<p id="p-0035" num="0037">In a communication system, a NFC device behaves as a &#x201c;real&#x201d; contactless card (as defined by ISO/IEC 14443 standard) in order to provide card emulation features. It implies, for the type A part, answering to the RF initialization. When the NFC device provides P2P feature (as defined by ISO/IEC 18092 standard) it shall also answer to the RF initialization. In case the NFC device provides both features in parallel, it leads to a collision at RF side which has to be resolved by the external NFC device as shown in <figref idref="DRAWINGS">FIG. 2</figref>. Most of contactless readers in the field (especially for payment or transport) are not supporting the collision preventing then any transaction.</p>
<p id="p-0036" num="0038"><figref idref="DRAWINGS">FIG. 2</figref> shows a flow diagram of RF initialization from an external ISO/IEC 14443 reader. The external device or contactless reader receives in response to the initialization signal a signal referring to card emulation and to P2P mode. Thus, a collision occurs, which has to be solves by the NFC device.</p>
<p id="p-0037" num="0039"><figref idref="DRAWINGS">FIG. 3</figref> shows a transactional flow diagram according to a further common system. In front of an ISO/IEC 18092 initiator, that means a further NFC device, the NFC device would behave as NFC device in a P2P mode. A collision would occur as in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0038" num="0040">A solution to expose both features with no collision at RF side is required to allow the NFC system (integrating the NFC device) enabling different types of application at the same type which is the real interest of NFC technology.</p>
<p id="p-0039" num="0041">According to the invention, it is proposed to resolve the conflict between card emulation and P2P features by implementing a specific way of handling this case in the NFC device. The basis of the solution is to expose only the card emulation feature but modifying the RF initialization parameters to also expose P2P capabilities.</p>
<p id="p-0040" num="0042">In <figref idref="DRAWINGS">FIG. 1</figref>, a near field communication device <b>100</b> is shown being operable in a first operating state and a second operating state. The near field communication device <b>100</b> comprises a communication unit <b>102</b> adapted for communicating with an external device <b>103</b>. A control unit <b>101</b> is coupled to the communication unit. The control unit is adapted for controlling the communication unit to be presented to the external device to be in the first operating state and supporting the second operating state. The control unit is further adapted for switching the communication unit from the first operating state to the second operating state upon receipt of a configuration signal received from the external device.</p>
<p id="p-0041" num="0043">Principle of the solution is to merge the parameters of the different modes, i.e. operating states, during the RF initialization to only expose one &#x201c;card&#x201d; to the external reader. This &#x201c;merge card&#x201d; owns parameters showing the support of the two modes. Concretely, the RF initialization parameter named &#x201c;SAK&#x201d; defined by ISO/IEC 14443 standard, renamed as &#x201c;SEL_RES&#x201d; by ISO/IEC 18092 standard, indicates the support of the ISO/IEC 18092 protocol thanks to one bit (bit <b>6</b>). The solution proposed is then to make use of only the card emulation parameters for the RF initialization, setting the relevant bit of the SAK to indicate P2P support. The external reader selects then the related feature according to its own application by means of an upper layer command during the last stage of RF initialization (either ISO/IEC 14443 RATS command, or ISO/IEC 18092 ATR_REQ command, or even a proprietary command).</p>
<p id="p-0042" num="0044">In <figref idref="DRAWINGS">FIG. 4</figref>, a transactional flow diagram is shown detailing the proposed solution implemented in the NFC device to avoid the collision detection by an ISO/IEC 14443 reader. In response to an initialization signal (WUPA) only a response signal referring to card emulation is sent back showing that also the P2P functions are supported. Thus, no collision may occur. The external device (contactless reader) may then select the card emulation mode.</p>
<p id="p-0043" num="0045">In <figref idref="DRAWINGS">FIG. 5</figref>, a transactional flow diagram is shown, wherein, in contrast to the diagram of <figref idref="DRAWINGS">FIG. 4</figref>, the P2P mode is selected. Also in this case, no collision occurs thanks to the response signal of the NFC device presenting to be in the first operation mode and supporting the second operation mode.</p>
<p id="p-0044" num="0046">The proposed solution to resolve the conflict allows enabling in parallel both the card emulation and the P2P features without any collision at RF side which is mandatory if the user wants to keep activated P2P applications and card emulation ones.</p>
<p id="p-0045" num="0047">It should be noted that the term &#x201c;comprising&#x201d; does not exclude other elements or features and the &#x201c;a&#x201d; or &#x201c;an&#x201d; does not exclude a plurality. Also elements described in association with different embodiments may be combined.</p>
<p id="p-0046" num="0048">It should also be noted that reference signs in the claims shall not be construed as limiting the scope of the claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A near field communication device being operable in a first operating state corresponding to a card emulation feature and a second operating state corresponding to peer to peer support, the near field communication device comprising
<claim-text>a communication unit adapted for communicating with an external device; and</claim-text>
<claim-text>a control unit coupled to the communication unit;</claim-text>
<claim-text>wherein the control unit is adapted for controlling the communication unit to be presented to the external device to be in the first operating state by exposing the card emulation feature using only the card emulation parameters for RF initialization and supporting the second operating state by modifying the card emulation parameters to also indicate peer to peer support, and</claim-text>
<claim-text>wherein the control unit is adapted for switching the communication unit from the first operating state to the second operating state upon receipt of a configuration signal received from the external device, wherein in the first operating state, the communication unit is adapted for providing a service of a contactless card.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The near field communication device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein in the second operating state, the communication unit is adapted for exchanging information with the external device.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The near field communication device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the communication unit is adapted for receiving a communication initialization signal from the external device and for sending a response signal to the external device in response to receipt of the communication initialization signal, wherein the response signal comprises information presenting the device to the external device to be in the first operating state and supporting the second operating state.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The near field communication device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the communication unit is adapted for receiving the configuration signal indicative of a selection by the external device, which of the first and the second operating state is selected.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The near field communication device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the device is a mobile device.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The near field communication device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, realised as at least one of the group consisting of a mobile phone, a hearing aid, a dictating machine, a conference call device, a portable audio player, a portable video player, a head mounted display, a medical communication system, a body-worn device, a DVD player, a CD player, a harddisk-based media player, an internet radio device, a public entertainment device, and an MP3 player.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A communication system comprising a near field communication device of <claim-ref idref="CLM-00001">claim 1</claim-ref> and an external device.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The communication system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the external device is a mobile host.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. Method for operating a near field communication device in a first operating state corresponding to a card emulation feature and a second operating state corresponding to peer to peer support, the method comprising
<claim-text>controlling a communication unit by a control unit for presenting the communication unit to an external device to be in the first operating state by exposing the card emulation feature using only the card emulation parameters for RF initialization and supporting the second operating state by modifying the card emulation parameters to also indicate peer to peer support, and</claim-text>
<claim-text>switching the communication unit from the first operating state to the second operating state upon receipt of a configuration signal received from the external device wherein, in the first operating state, the communication unit is adapted for providing a service of a contactless card.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A computer-readable medium, in which a computer program of operating a near field communication device in a first and a second operating state is stored, which computer program, when being executed by a processor, is adapted to carry out or control a method according to <claim-ref idref="CLM-00009">claim 9</claim-ref>.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A near field communication device being operable in a first operating state and a second operating state, the near field communication device comprising
<claim-text>a communication unit adapted for communicating with an external device;</claim-text>
<claim-text>a control unit coupled to the communication unit;</claim-text>
<claim-text>wherein the control unit is adapted for controlling the communication unit to be presented to the external device to be in the first operating state and supporting the second operating state,</claim-text>
<claim-text>wherein the control unit is adapted for switching the communication unit from the first operating state to the second operating state upon receipt of a configuration signal received from the external device, wherein in the first operating state, the communication unit is adapted for providing a service of a contactless card, and</claim-text>
<claim-text>wherein the communication unit is adapted for receiving the configuration signal indicative of a selection by the external device, which of the first and the second operating state is selected. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
