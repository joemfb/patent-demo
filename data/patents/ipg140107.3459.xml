<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624523-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624523</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13104902</doc-number>
<date>20110510</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>301</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>05</class>
<subclass>B</subclass>
<main-group>37</main-group>
<subgroup>02</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>315291</main-classification>
<further-classification>315294</further-classification>
<further-classification>315361</further-classification>
</classification-national>
<invention-title id="d2e53">Control apparatus with calibration functionality and lighting apparatus incorporating control apparatus</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5248919</doc-number>
<kind>A</kind>
<name>Hanna et al.</name>
<date>19930900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>315291</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7683504</doc-number>
<kind>B2</kind>
<name>Blair et al.</name>
<date>20100300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>307141</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>26</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>315291</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>315250</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>315246</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>315287</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>315294</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>315361</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>25</number-of-drawing-sheets>
<number-of-figures>25</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61333742</doc-number>
<date>20100511</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110279055</doc-number>
<kind>A1</kind>
<date>20111117</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Briggs</last-name>
<first-name>Gerald Edward</first-name>
<address>
<city>Ottawa</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Briggs</last-name>
<first-name>Gerald Edward</first-name>
<address>
<city>Ottawa</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Murray</last-name>
<first-name>Sean</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<orgname>Murray IP Consulting Inc.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Arkalumen Inc.</orgname>
<role>03</role>
<address>
<city>Ottawa</city>
<country>CA</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Chang</last-name>
<first-name>Daniel D</first-name>
<department>2819</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Control apparatus for controlling an aspect of an apparatus are disclosed. In certain embodiments, the control apparatus comprises a dimmer that includes a variable impedance. In certain embodiments of the invention, the dimmer may be a TRIAC dimmer having a voltage at a gate electrode of the TRIAC that is always below a trigger voltage for the TRIAC such that the TRIAC never turns on and the remaining components within the TRIAC dimmer can be used as discreet components in a larger circuit. In the control apparatus, the dimmer may be coupled to a signal generation circuit that may generate an output signal whose frequency (period) is dictated at least in part by an impedance of the variable impedance. The output signal may be used to control an aspect of an apparatus such as the intensity, color or color temperature for a lighting apparatus.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="133.43mm" wi="181.53mm" file="US08624523-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="193.38mm" wi="107.10mm" orientation="landscape" file="US08624523-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="215.82mm" wi="147.32mm" orientation="landscape" file="US08624523-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="192.45mm" wi="156.46mm" orientation="landscape" file="US08624523-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="201.68mm" wi="157.48mm" orientation="landscape" file="US08624523-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="232.58mm" wi="140.38mm" orientation="landscape" file="US08624523-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="186.18mm" wi="118.28mm" orientation="landscape" file="US08624523-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="225.72mm" wi="148.25mm" orientation="landscape" file="US08624523-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="227.33mm" wi="139.70mm" orientation="landscape" file="US08624523-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="214.80mm" wi="132.42mm" orientation="landscape" file="US08624523-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="220.13mm" wi="153.25mm" orientation="landscape" file="US08624523-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="226.65mm" wi="186.77mm" orientation="landscape" file="US08624523-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="203.28mm" wi="131.83mm" file="US08624523-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="207.26mm" wi="127.85mm" file="US08624523-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="225.04mm" wi="131.49mm" orientation="landscape" file="US08624523-20140107-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="223.69mm" wi="129.79mm" orientation="landscape" file="US08624523-20140107-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="203.62mm" wi="148.59mm" orientation="landscape" file="US08624523-20140107-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="199.98mm" wi="127.85mm" orientation="landscape" file="US08624523-20140107-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="200.66mm" wi="132.76mm" orientation="landscape" file="US08624523-20140107-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="205.23mm" wi="119.30mm" orientation="landscape" file="US08624523-20140107-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="221.74mm" wi="119.30mm" orientation="landscape" file="US08624523-20140107-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00021" num="00021">
<img id="EMI-D00021" he="216.49mm" wi="134.11mm" orientation="landscape" file="US08624523-20140107-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00022" num="00022">
<img id="EMI-D00022" he="218.78mm" wi="141.99mm" orientation="landscape" file="US08624523-20140107-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00023" num="00023">
<img id="EMI-D00023" he="223.35mm" wi="133.10mm" orientation="landscape" file="US08624523-20140107-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00024" num="00024">
<img id="EMI-D00024" he="196.34mm" wi="137.08mm" orientation="landscape" file="US08624523-20140107-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00025" num="00025">
<img id="EMI-D00025" he="198.71mm" wi="144.27mm" orientation="landscape" file="US08624523-20140107-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading>
<p id="p-0002" num="0001">The present application claims the benefit under 35 USC 119(e) of U.S. Provisional Patent Application 61/333,742 filed on May 11, 2010 and hereby incorporated by reference herein.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">The invention relates generally to control systems and, more particularly, to control apparatus, lighting control apparatus and lighting apparatus incorporating control apparatus.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">Light Emitting Diodes (LEDs) are increasingly being adopted as general illumination lighting sources due to their high energy efficiency and long service life relative to traditional sources of light such as incandescent, fluorescent and halogen. Each generation of LEDs are providing improvements in energy efficiency and cost per lumen, thus allowing for lighting manufacturers to produce LED light fixtures at increasingly cost competitive prices. These reduced costs are expanding the applications of LED lighting from niche markets, such as outdoor street lighting, Christmas lights and flashlights, to general illumination within offices, retail, industrial, and residential environments. Within these environments, users typically want an LED light fixture to operate in substantially the same manner as their current lighting solution with at least a similar set of functionality.</p>
<p id="p-0005" num="0004">Within many applications for lighting, users desire the ability to adjust the intensity of a light fixture. Changes in intensity may be desired for a large number of reasons including to create a particular mood, to reduce energy, to adjust for other sources of light (ex. ambient sunlight), to reduce glare on objects (ex. televisions) or for another lighting effect. For incandescent lighting solutions, the most common control device for controlling the intensity of a light fixture is a dimmer that contains electrical circuits including a TRIAC and/or DIAC, the dimmer typically being called a TRIAC dimmer. One skilled in the art would understand that a TRIAC dimmer is typically implemented in series within the AC power line and cuts off portions of the AC power sine wave based on the setting of a potentiometer. The modified AC signal powers the incandescent light fixture at a lower power level than a full AC signal would have otherwise, thus lower lumens are projected from the light fixture.</p>
<p id="p-0006" num="0005">LED light fixtures that initially were on the market could not operate with traditional TRIAC dimmers. Instead, custom dimming controllers were developed to interoperate with LED light fixtures to control a pulse width modulated (PWM) signal that could be used to adjust the intensity of the LEDs. A key problem is these custom dimmers can be considerably more expensive than standard TRIAC dimmers. This increase in cost is due to the incredible economies of scale that currently benefit TRIAC dimmers.</p>
<p id="p-0007" num="0006">To overcome this cost dilemma and to reuse the TRIAC dimmer products and form factors that are currently on the market, a number of solutions have been developed to use standard TRIAC dimmers with LED lighting fixtures. For example, National Semiconductor of Santa Clara, Calif., U.S.A. has developed a TRIAC dimmable offline LED driver LM3445 which can be implemented within a constant current architecture to illuminate high power LEDs. This component includes a TRIAC dim decoder which can interpret the setting on the TRIAC dimmer and enable it to control the output current to the LEDs.</p>
<p id="p-0008" num="0007">One problem with these solutions is related to the fundamental operation of the standard TRIAC dimmers. A TRIAC dimmer in operation generates a modified sinusoid in which portions of the waveform have been cut-off (or zeroed). When rectified within an AC/DC converter, the resulting DC power level requires additional components to ensure a constant voltage level is applied to the resulting LEDs. These additional components add inefficiencies to the system. Further, the TRIAC within the dimmer requires a holding current throughout the AC line cycle in order to operate properly. To maintain this holding current, additional resistors are required to create a load for the TRIAC. This load wastes power and reduces the efficiency of the overall light fixture.</p>
<p id="p-0009" num="0008">Another problem with the current implementations of TRIAC dimmers as they relate to control of LED light fixtures is that these architectures are limited to controlling the intensity of the light fixture. Since the use of the TRIAC dimmer, as currently developed, reduces the power applied to the light fixture, the current TRIAC dimmer solutions do not operate well when the information being conveyed with the TRIAC dimmer is not intensity information but information related to another aspect of the light fixture, such as color or color temperature.</p>
<p id="p-0010" num="0009">Additionally, certain lighting systems, including lighting systems employing LEDs, that are currently available have control systems that are designed to work with a 0-10V dimmer. It would be desirable to provide a control apparatus that may be used with a TRIAC dimmer to provide a variable voltage control signal so that control systems of this nature may be readily adapted for use with TRIAC dimmers.</p>
<p id="p-0011" num="0010">Against this background, there is a need for solutions that will better control LEDs within a lighting apparatus in order to adjust aspects, such as intensity, color and/or color temperature, of the light output. Further, solutions that re-use existing lighting control interfaces can reduce the cost of new solutions.</p>
<heading id="h-0004" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0012" num="0011">According to a first aspect of the invention there is provided a control apparatus adapted for use with a dimmer, the dimmer comprising a variable impedance and an interface operable to change the variable impedance, the variable impedance in series with a capacitor coupled between a connection node and a reference ground, the control apparatus comprising: a signal generation circuit coupled to the dimmer at the connection node and operable to generate an output signal whose period is dictated at least in part by the impedance of the variable impedance.</p>
<p id="p-0013" num="0012">According to a second aspect of the invention there is provided a control apparatus for use with a lighting apparatus comprising: a signal generation circuit operable to be coupled to a TRIAC dimmer having a variable impedance, the signal generation circuit operable to generate an output signal whose period is dictated at least in part by the variable impedance of the TRIAC dimmer.</p>
<p id="p-0014" num="0013">According to another aspect of the invention there is provided a lighting apparatus for use with a dimmer, the dimmer comprising a variable impedance and an interface operable to change the variable impedance, the variable impedance in series with a capacitor coupled between a connection node and a reference ground, the lighting apparatus comprising: a light radiating element; a signal generation circuit coupled to the dimmer at the connection node and operable to generate an output signal whose period is dictated at least in part by the impedance of the variable impedance; and a lighting controller operable to receive the output signal and control an aspect of light output from the light radiating element based at least partially on the period of the output signal.</p>
<p id="p-0015" num="0014">According to a further aspect of the invention there is provided a control apparatus adapted for use with a plurality of dimmers, each dimmer comprising a variable impedance and an interface operable to change the variable impedance, the variable impedance in series with a capacitor coupled between a connection node and a reference ground, the control apparatus comprising: a first signal generation circuit coupled to a first of the plurality of dimmers at the connection node of the first dimmer and operable to generate a first output signal whose period is dictated at least in part by the impedance of the variable impedance of the first dimmer; and a second signal generation circuit coupled to a second of the plurality of dimmers at the connection node of the second dimmer and operable to generate a second output signal whose period is dictated at least in part by the impedance of the variable impedance of the second dimmer.</p>
<p id="p-0016" num="0015">According to yet another aspect of the invention there is provided a control apparatus adapted for use with a dimmer, the dimmer comprising a variable impedance and an interface operable to change the variable impedance, the variable impedance in series with a capacitor coupled between a connection node and a reference ground, the control apparatus comprising: a signal generation circuit coupled to the dimmer at the connection node and operable to generate an output signal whose period is dictated at least in part by the impedance of the variable impedance; a lighting controller operable: to receive the output signal from the signal generation circuit; detect a first period of the output signal when the interface of the dimmer is adjusted to a first extreme value by a user; detect a second period of the output signal when the interface of the dimmer is adjusted to a second extreme value by a user; and control an aspect of light output from a lighting apparatus based at least partially on the period of the output signal relative to the first and second periods.</p>
<p id="p-0017" num="0016">According to another aspect of the invention there is provided a control apparatus adapted for use with a dimmer comprising an interface, the interface being adjustable and having a present value representative of the state of the interface, the control apparatus comprising: a lighting controller adapted to receive an output signal representative of the present value of the interface of the dimmer and operable to: determine a maximum value of the output signal; determine a minimum value of the output signal; and control an aspect of light output from a lighting apparatus based at least partially on the value of the interface relative to the maximum and minimum values.</p>
<p id="p-0018" num="0017">According to a further aspect of the invention there is provided a control apparatus for use with a dimmer, the dimmer comprising a variable impedance and an interface operable to change the variable impedance, the variable impedance in series with a capacitor coupled between a connection node and a reference ground, the control apparatus comprising: a signal generation circuit coupled to an impedance matching circuit and operable to generate an output signal whose period is dictated at least in part by the impedance of the variable impedance of the dimmer; the impedance matching circuit coupled between the connection node of the dimmer and the signal generation circuit, wherein the impedance matching circuit is calibrated to define a predetermined maximum period and a predetermined minimum period of the output signal; and a lighting controller operable to receive the output signal and control an aspect of light output from a lighting apparatus based at least partially on the period of the output signal relative to the predetermined maximum and minimum periods.</p>
<p id="p-0019" num="0018">According to a further still aspect of the invention there is provided a control apparatus for use with a dimmer, the dimmer comprising an interface, the interface being adjustable and having a present value representative of the state of the interface, the control apparatus comprising: a lighting controller coupled to the dimmer and operable to: detect a first value when the interface dimmer is adjusted to a first extreme value by a user; detect a second value when the interface dimmer is adjusted to a second extreme value by a user; and control an aspect of light output from the lighting apparatus based at least partially on the present value of the interface relative to the first and second values.</p>
<p id="p-0020" num="0019">According to an additional aspect of the invention there is provided a method of controlling a lighting apparatus, the lighting apparatus comprising a dimmer comprising an interface, the interface being adjustable and having a value representative of the state of the interface, comprising the steps of: determining a maximum value of the value of the interface; determining a minimum value of the value of the interface; and controlling an aspect of light output from the lighting apparatus based at least partially on the value of the interface relative to the maximum and minimum values.</p>
<p id="p-0021" num="0020">According to another aspect of the invention there is provided a control apparatus adapted for use with a dimmer comprising an interface, the interface being adjustable and having a present value representative of the state of the interface, the control apparatus comprising: a variable voltage signal generation circuit coupled to the dimmer, the variable voltage signal generation circuit operable to generate an output signal having a voltage that is representative of the present value of the interface of the dimmer.</p>
<p id="p-0022" num="0021">According to a further aspect of the invention there is provided a control apparatus adapted for use with a dimmer, the dimmer comprising a variable impedance and an interface operable to change the variable impedance, the variable impedance in series with a capacitor coupled between a power supply node and an output node, the control apparatus comprising: a variable voltage signal generation circuit coupled to the output node of the dimmer, the variable voltage signal generation circuit operable to generate an output signal having a voltage that is representative of the impedance of the variable impedance of the dimmer.</p>
<p id="p-0023" num="0022">According to a further aspect of the invention there is provided a control apparatus for use with a lighting apparatus comprising: a signal generation circuit operable to be coupled to a TRIAC dimmer having a variable impedance, the signal generation circuit operable to generate an output signal whose period is dictated at least in part by the variable impedance of the TRIAC dimmer; and a voltage conversion circuit operable to receive the output signal and generate a variable voltage output having a voltage that is dictated at least in part by the period of the output signal.</p>
<p id="p-0024" num="0023">These and other aspects of the invention will become apparent to those of ordinary skill in the art upon review of the following description of certain embodiments of the invention in conjunction with the accompanying drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0025" num="0024">A detailed description of embodiments of the invention is provided herein below, by way of example only, with reference to the accompanying drawings, in which:</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIGS. 1A</figref>, <b>1</b>B and <b>1</b>C are system architecture diagrams according to embodiments of the present invention;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 2</figref> is a circuit diagram of a well known TRIAC dimmer;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 3</figref> is a circuit diagram of a signal generator and TRIAC dimmer according to a first embodiment of the present invention;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 4</figref> is a simplified circuit diagram of the linear components of an alternative TRIAC dimmer, excluding the DIAC and TRIAC components;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIGS. 5A and 5B</figref> are circuit diagrams of lighting control apparatus according to alternative embodiments of the present invention;</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIGS. 6A and 6B</figref> are system architecture diagrams according to embodiments of the present invention using wireless and AC wire coupling technology for communication respectively;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 7</figref> is a circuit diagram for powering a control apparatus according to one particular example implementation of the present invention;</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 8</figref> is a flowchart illustrating certain steps for one method of calibrating a lighting controller for use with a particular dimmer;</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 9</figref> is a flowchart illustrating certain steps for another method of calibrating a lighting controller for use with a particular dimmer;</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 10</figref> is a circuit diagram of a signal generator and TRIAC dimmer according to a first embodiment of the present invention having an impedance matching circuit;</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 11</figref> is a circuit diagram of a signal generator and TRIAC dimmer according to a first embodiment of the present invention having a frequency compensation circuit;</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 12</figref> is a system architecture diagram of an embodiment of the invention having an optical coupler;</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 13A</figref> is a system architecture diagram of an embodiment of the invention employing an alternative embodiment of a signal generation circuit;</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 13B</figref> is a system architecture diagram of an embodiment of the invention having a variable voltage signal generation circuit;</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 13C</figref> is a system architecture diagram of an embodiment of the invention having a variable voltage signal generation circuit and a lighting controller;</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 13D</figref> is an embodiment of a variable voltage signal generation circuit that may be used in certain embodiments of the invention;</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 14</figref> is a circuit diagram of an embodiment of a driving circuit;</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 15A</figref> is a circuit diagram of yet another embodiment of the invention having two 555 timers;</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 15B</figref> is a circuit diagram of a further embodiment of the invention having two 555 timers and a variable voltage dimmer;</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 16</figref> is a system architecture diagram of an embodiment of the invention having a second embodiment of a power supply architecture; and</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 17</figref> is a system architecture diagram of an embodiment of the invention having multiple dimmers.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<p id="p-0047" num="0046">It is to be expressly understood that the description and drawings are only for the purpose of illustration of certain embodiments of the invention and are an aid for understanding. They are not intended to be a definition of the limits of the invention.</p>
<heading id="h-0006" level="1">DETAILED DESCRIPTION OF EMBODIMENTS</heading>
<p id="p-0048" num="0047">The present invention is directed to apparatus and system for controlling lighting devices. Within embodiments described below, a control apparatus is used to control an aspect of a lighting apparatus such as the intensity, color and/or color temperature. Embodiments of the present invention can be utilized to control lighting apparatus of various technologies including Light Emitting Diodes (LEDs), fluorescent, halogen, incandescent, high pressure sodium etc.</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 1A</figref> depicts a system architecture diagram according to embodiments of the present invention. As shown, a lighting apparatus <b>102</b> is coupled to a control apparatus <b>104</b> and receives an AC mains input <b>106</b> from an AC mains source (not shown). The lighting apparatus <b>102</b> can take numerous forms as one skilled in the art would understand and may comprise an electric circuit that includes a socket for a bulb to be inserted, an electric circuit that includes a modular light engine (for example, an LED light engine) and/or one or more integrated lighting sources such as integrated LED components. Within embodiments of the present invention, the lighting apparatus <b>102</b> interfaces with the control apparatus <b>104</b> in order to allow a user that interfaces with the control apparatus <b>104</b> to control an aspect of the light output from the lighting apparatus <b>102</b>.</p>
<p id="p-0050" num="0049">This aspect could include the light intensity, color, color temperature or another aspect that a user may desire to modify concerning the light output. Each aspect that the user of the lighting apparatus <b>102</b> desires to modify may have a linear range of values for which the aspect can be adjusted or may have another relationship with a scale (ex. exponential). Further, the values may be continuous or be a discrete set. In other embodiments, an aspect may have a range of values that correspond to set light output results. For example, for color, specific values may correspond to specific colors within a particular spectrum.</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIGS. 1B and 1C</figref> depict system architecture diagrams according to two specific embodiments of the present invention. In one case, as shown in <figref idref="DRAWINGS">FIG. 1B</figref>, the lighting apparatus <b>102</b> comprises lighting devices <b>108</b>, a lighting controller <b>110</b>, a signal generator <b>112</b> (signal generation circuit) and an AC/DC convertor <b>114</b> while the control apparatus <b>104</b> comprises a dimmer <b>116</b>. In this case, the lighting devices <b>108</b> may comprise devices that operate using DC power, such as LEDs, or devices that operate using AC power, such as fluorescent, halogen, neon or incandescent devices. Both the lighting controller <b>110</b> and the signal generator <b>112</b> (signal generation circuit) receive DC power from the output of the AC/DC convertor <b>114</b>. If the lighting devices <b>108</b> require DC power, they may receive DC power directly from the AC/DC convertor <b>114</b> as controlled by the lighting controller <b>110</b> or indirectly through the lighting controller <b>110</b>. If the lighting devices <b>108</b> require AC power, they may receive AC power from the AC mains input <b>106</b> as controlled by the lighting controller <b>110</b> or through, in the case of fluorescent, a modified AC mains by use of a mechanical or electrical ballast. The lighting devices <b>108</b> may also be referred to as a light radiating element of the lighting apparatus <b>102</b> and function to radiate light. The light radiating element may be comprised of a plurality of LEDs in certain embodiments or alternatively in a plurality of sets of LEDs that may each be independently controlled by the lighting controller <b>110</b>. Other power supply distribution architectures may be used in certain implementations of the invention, for example, the power supply distribution architecture illustrated in <figref idref="DRAWINGS">FIG. 16</figref>.</p>
<p id="p-0052" num="0051">As shown, two lines <b>120</b>, <b>122</b> couple the signal generator <b>112</b> in the lighting apparatus <b>102</b> to the dimmer <b>116</b> in the control apparatus <b>104</b>. As will be described in detail with reference to <figref idref="DRAWINGS">FIG. 3</figref>, the signal generator <b>112</b> in combination with the dimmer <b>116</b> operate to generate an output signal <b>118</b> indicative or representative of a value corresponding to the state of an interface of the dimmer <b>116</b> (i.e. a user setting of the dimmer <b>116</b>). This user setting or value (present value) of the dimmer <b>116</b> corresponds to a desired setting for an aspect of the lighting apparatus <b>102</b>. For example, a value (setting) of the dimmer <b>116</b> may indicate the intensity of light desired to be output from the lighting apparatus <b>102</b> and the signal <b>118</b> output from the signal generator <b>112</b> (signal generation circuit) may represent a value for the intensity of light desired to be output from the lighting apparatus <b>102</b>. The lighting controller <b>110</b> processes the output signal <b>118</b> from the signal generator <b>112</b> and controls power (DC or AC depending upon the lighting devices) to the lighting devices <b>108</b> based at least partially upon the output signal <b>118</b>.</p>
<p id="p-0053" num="0052">In another case, as shown in <figref idref="DRAWINGS">FIG. 1C</figref>, the lighting apparatus <b>102</b> and control apparatus <b>104</b> are similar to that of <figref idref="DRAWINGS">FIG. 1B</figref>, but the signal generator <b>112</b> is within the control apparatus <b>104</b> rather than the lighting apparatus <b>102</b>. In this case, three lines <b>118</b>, <b>124</b> couple the lighting apparatus <b>102</b> to the signal generator <b>112</b> within the control apparatus <b>104</b>. These three lines include the output signal <b>118</b> coupled between the signal generator <b>112</b> and the lighting controller <b>110</b> as well as DC power/ground lines <b>124</b> from the AC/DC convertor <b>114</b> to the signal generator <b>112</b>. The two lines <b>120</b>, <b>122</b> still couple the signal generator <b>112</b> and the dimmer <b>116</b>, but these lines are internal to the control apparatus <b>104</b>. In one case, the signal generator <b>112</b> could be an add-on module to a stand-alone dimmer <b>116</b> with lines <b>120</b>, <b>122</b> coupling the components together while lines <b>118</b>, <b>124</b> coupling the signal generator <b>112</b> to the lighting controller <b>110</b> within the lighting apparatus <b>102</b>. In some embodiments, instead of using DC power/ground lines <b>124</b> to provide DC power to the signal generator <b>112</b>, a separate DC power source could be within the control apparatus <b>104</b> of <figref idref="DRAWINGS">FIG. 1C</figref>, this separate DC power source being a battery, a solar array device or another AC/DC converter coupled to an AC mains source.</p>
<p id="p-0054" num="0053">In the case of the lighting devices <b>108</b> (light radiating element) being LEDs, the lighting controller <b>110</b>, in some embodiments, may control the operation of the lighting devices <b>108</b> using a constant current control circuit such that the lighting controller <b>110</b> may selectively adjust the current flowing through one or more series of LEDs in order to achieve the desired light output. In this manner, the lighting controller <b>110</b> may independently control a plurality of sets of LEDs that may be included in the light radiating element of the lighting apparatus <b>102</b>. For example, in the case that the dimmer <b>116</b> is used to control the light intensity, the lighting controller <b>110</b> may increase or decrease the current flow through one or more of the LEDs as the dimmer setting is increased or decreased respectively and the output signal <b>118</b> reflects this change. For the case of color or color temperature adjustments, the lighting controller <b>110</b> may selectively increase or decrease current flowing through particular sets of LEDs with particular light spectrum outputs in order to achieve the desired combined color or color temperature. In the case of lighting devices <b>108</b> comprising red, green and blue LEDs for example, the lighting controller <b>110</b> may selectively adjust current flow through the LEDs of different colors, hence increasing or decreasing the luminance of particular LEDs, in order to achieve a variety of light outputs as dictated by the output signal <b>118</b>.</p>
<p id="p-0055" num="0054">In other embodiments, the lighting controller <b>110</b> may control the lighting devices <b>108</b> (light radiating element) by controlling one or more switching transistors, or a switching element, coupled in series with one or more LEDs between a constant voltage DC power source and a reference ground. In this case, the lighting controller <b>110</b> can use Pulse Width Modulation (PWM) to selectively turn on the switching transistors and therefore allow current to flow through the LEDs for a set period of time within a duty cycle. By adjusting the on/off period of time for each set of LEDs, the lighting controller <b>110</b> can achieve the desired light output from the light radiating element (lighting devices <b>108</b>). For example, in the case that the dimmer <b>116</b> is used to control the light intensity, the lighting controller <b>110</b> may increase or decrease the on time for one or more of the LEDs as the dimmer setting is increased or decreased respectively and the output signal <b>118</b> reflects this change. For the case of color or color temperature adjustments, the lighting controller <b>110</b> may selectively increase or decrease the on time for particular sets of LEDs with particular light spectrum outputs in order to achieve the desired combined color or color temperature. In this manner, the lighting controller <b>110</b> may be operable to independently control each set of LEDs in certain embodiments.</p>
<p id="p-0056" num="0055">It should be understood that other techniques for controlling the lighting devices <b>108</b> may be utilized and the operation of the lighting controller <b>110</b> in its response to the output signal <b>118</b> should not limit the scope of the present invention. Further, in some cases, there may be a plurality of control apparatus <b>104</b> (each with a dimmer) to control a plurality of aspects of the lighting devices <b>108</b>. For example, there may be a first control apparatus <b>104</b> coupled to the lighting controller <b>110</b> to control intensity levels of the lighting devices <b>108</b> and a second control apparatus <b>104</b> coupled to the lighting controller <b>110</b> to control color and/or color temperature of the lighting apparatus. Further, if higher accuracy is desired, a plurality of control apparatus that may each comprise a dimmer <b>116</b> could control a single aspect such as intensity. In this case, one control apparatus could be used for a coarse adjustment and another control apparatus could be used for a finer adjustment.</p>
<p id="p-0057" num="0056">The dimmer <b>116</b> of <figref idref="DRAWINGS">FIG. 1B</figref> may comprise a number of well-known dimmers, such as a TRIAC dimmer that are typically utilized with current lighting technologies, such as incandescent light bulbs. A TRIAC dimmer is named after an electronic component called a TRIAC (triode for alternating current or bidirectional triode thyristor) that is a component within the TRIAC dimmer. As one skilled in the art would understand, a TRIAC is an electronic component approximately equivalent to two silicon-controller rectifiers (SCRs/thyristors) joined in inverse parallel and with their gates connected together. A TRIAC is a bidirectional electronic switch (hence has no polarity) which can conduct current in either direction when it is triggered (turned on) by applying a sufficient trigger voltage to its gate electrode. It can be triggered by either a positive or negative trigger voltage being applied to its gate electrode. Once triggered, the device continues to conduct until the current through it drops below a certain threshold value, the holding current, such as at the end of a half-cycle of AC main power.</p>
<p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. 2</figref> depicts a sample implementation of a well-known TRIAC dimmer <b>200</b>. It should be understood that there are numerous designs for dimmers that utilize TRIAC and/or DIAC components and the implementation of <figref idref="DRAWINGS">FIG. 2</figref> is only meant as one sample implementation. Other implementations of TRIAC dimmers may include additional capacitors in series or utilize other circuit elements to achieve a variable resistance or variable impedance, for example, a transresistance or transimpedance amplifier. Accordingly, as used herein, a TRIAC dimmer should be understood to encompass various implementations of TRIAC dimmers or circuitry to achieve a similar functionality. As will be described herein below, in one embodiment, the dimmer <b>116</b> may comprise a circuit similar to the TRIAC dimmer <b>200</b> of <figref idref="DRAWINGS">FIG. 2</figref>. In other embodiments, the dimmer <b>116</b> may comprise alternative dimmer circuits as may be well-known by one skilled in the art. For example, alternative dimmer circuits may include a variable resistor in series with at least one capacitor that does not include TRIAC or DIAC components. Alternatively, the dimmer <b>116</b> may include a transimpedance or transresistance amplifier, as are well known in the art, to provide a variable resistance or impedance rather than a variable resistor in certain implementations.</p>
<p id="p-0059" num="0058">As shown, the TRIAC dimmer <b>200</b> of <figref idref="DRAWINGS">FIG. 2</figref> comprises a potentiometer (or variable resistor) <b>202</b> coupled in series with a resistor <b>204</b> and a capacitor <b>206</b> between a node N<b>1</b> and a node N<b>2</b>; a TRIAC <b>208</b> coupled in parallel with the resistor/capacitor circuit <b>202</b>, <b>204</b>, <b>206</b> between the nodes N<b>1</b>, N<b>2</b>; and a DIAC <b>210</b> coupled between the gate of the TRIAC <b>208</b> and a node N<b>3</b> between the resistor <b>204</b> and the capacitor <b>206</b>. In normal operation, the nodes N<b>1</b>, N<b>2</b> of the TRIAC dimmer <b>200</b> would be coupled to an AC main <b>212</b> and load <b>214</b>, such as one or more incandescent light bulbs. Other implementations of a TRIAC dimmer may vary and may, for example, include an additional capacitor (not shown) in series with potentiometer <b>202</b>, between potentiometer <b>202</b> and node N<b>1</b>.</p>
<p id="p-0060" num="0059">In operation, a user adjusts an interface such as dial or slider in order to change the resistance within the potentiometer <b>202</b> or more generally to change the value of the interface of the dimmer. In one example, the potentiometer <b>202</b> may adjust up to a resistance of 60 k&#x3a9;, the resistor <b>204</b> may be set at 3.3 k&#x3a9; and the capacitor <b>206</b> may be set at 100 nF. In this configuration, the resistor/capacitor circuit <b>202</b>, <b>204</b>, <b>206</b> delays the turn on of the TRIAC until the voltage at node N<b>3</b> reaches the breakdown voltage of the DIAC <b>210</b>. Once the breakdown voltage of the DIAC <b>210</b> is reached, the voltage drop across the DIAC <b>210</b> dramatically decreases and the voltage on the gate electrode of the TRIAC <b>208</b> exceeds the trigger voltage of the TRIAC <b>208</b>, hence turning the TRIAC <b>208</b> on. Increasing the resistance of the potentiometer <b>202</b> increases the turn-on delay which decreases the on-time or &#x201c;conduction angle&#x201d; of the TRIAC <b>208</b>. This reduces the average power delivered to the load <b>214</b>. While the input voltage in this TRIAC dimmer <b>200</b> will be a full sinusoid, the output voltage will comprise a sinusoidal waveform that has segments with zero voltage, this occurring during the time segments that the TRIAC <b>208</b> is turned off. The off-time of the TRIAC <b>208</b> represents the delay caused by the resistor/capacitor circuit <b>202</b>, <b>204</b>, <b>206</b> in triggering the DIAC <b>210</b> to turn on, which subsequently triggers the TRIAC <b>208</b> to turn on. In some embodiments, the trigger voltage at node N<b>2</b> may be approximately 25V, though this depends upon the electronic components utilized.</p>
<p id="p-0061" num="0060">As will be described in detail with reference to <figref idref="DRAWINGS">FIG. 3</figref>, some embodiments of the present invention utilize an off-the-shelf dimmer, such as the TRIAC dimmer <b>200</b> of <figref idref="DRAWINGS">FIG. 2</figref>. In these cases, rather than coupling the dimmer to an AC source as is typical with a TRIAC dimmer, the dimmer is instead coupled to low voltage components and utilized for its potentiometer and capacitor circuit. By ensuring that the instantaneous voltage applied to the dimmer is never sufficient to turn on any TRIAC and/or DIAC components within the TRIAC dimmer, the dimmer effectively becomes a potentiometer coupled in series with a capacitor and could be implemented as such in certain embodiments (i.e. not have the additional TRIAC circuitry). With additional circuitry coupled to the TRIAC dimmer, selections made on the potentiometer by a user can be interpreted and control of a lighting apparatus can be achieved using the TRIAC dimmer as will be described in detail below.</p>
<p id="p-0062" num="0061">Off-the-shelf dimmers come in large numbers of different form factors, designs and colors. Further, they can be incredibly low cost due to the high volume production that they currently are part of. Embodiments of the present invention that utilize off-the-shelf dimmers are leveraging these advantages and allowing for a wide selection of widely available dimmers to interoperate with a lighting apparatus, such as an LED lighting apparatus.</p>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 3</figref> is a circuit diagram of the signal generator <b>112</b>, also referred to as the signal generation circuit <b>112</b>, and the dimmer <b>116</b> according to a first embodiment of the present invention. As shown in <figref idref="DRAWINGS">FIG. 3</figref>, the signal generator <b>112</b> comprises a component <b>302</b>, a first resistor <b>304</b> (R<sub>A</sub>) and a second resistor <b>306</b> (R<sub>B</sub>). The component <b>302</b> of <figref idref="DRAWINGS">FIG. 3</figref>, according to some embodiments of the present invention, comprises a 555 timer integrated circuit such as ICM7555CD/01 manufactured by NXP Semiconductor of Eindhoven, The Netherlands. It should be understood that other components with similar functionality could be utilized to implement the present invention and the functionality of the component <b>302</b> may be implemented by discreet components, software and/or firmware rather than a single integrated circuit.</p>
<p id="p-0064" num="0063">As shown, the component <b>302</b> comprises eight terminals (numbered 1-8). Terminals <b>1</b> and <b>8</b> are inputs for reference ground GND and DC supply voltage V<sub>DD </sub>respectively. Reference ground GND and the DC supply voltage V<sub>DD </sub>are supplied directly from the AC/DC convertor <b>114</b> in the embodiment of <figref idref="DRAWINGS">FIG. 1B</figref> and are supplied via DC supply/ground lines <b>124</b> in the embodiment of <figref idref="DRAWINGS">FIG. 1C</figref>. In the embodiment of <figref idref="DRAWINGS">FIG. 3</figref>, terminal <b>4</b> of the component <b>302</b> is a reset terminal and is set to the supply voltage V<sub>DD </sub>while terminal <b>5</b> is a control voltage terminal that may or may not be utilized to adjust voltage thresholds for switching as will be described herein below. Terminals <b>2</b>, <b>3</b>, <b>6</b> and <b>7</b> of the component <b>302</b> comprise a trigger terminal, an output terminal, a threshold terminal and a discharge terminal respectively.</p>
<p id="p-0065" num="0064">The dimmer <b>116</b>, in this embodiment, comprises the TRIAC dimmer <b>200</b> of <figref idref="DRAWINGS">FIG. 2</figref> and like components are numbered with the same references. The dimmer <b>116</b> is coupled to the signal generator <b>112</b> at nodes N<b>1</b> and N<b>2</b> via lines <b>120</b> and <b>122</b> respectively. In certain embodiments, node N<b>1</b> may be referred to as a connection node. Line <b>120</b> is coupled to a node N<b>4</b> described below and line <b>122</b> is coupled to the reference ground GND within the signal generator <b>112</b> or may otherwise be coupled to the reference ground GND that the signal generator <b>112</b> is utilizing. In an alternative embodiment, line <b>122</b> may be coupled to the AC/DC convertor <b>114</b> in order to receive the reference ground GND. A capacitor with a high capacitance or an Electro-Static Discharge (ESD) blocker could further be coupled to line <b>120</b>.</p>
<p id="p-0066" num="0065">In the embodiment of <figref idref="DRAWINGS">FIG. 3</figref>, the first resistor <b>304</b> (R<sub>A</sub>) is coupled in series with the second resistor <b>306</b> (R<sub>B</sub>) between the supply voltage V<sub>DD </sub>and the node N<b>4</b>, node N<b>4</b> being coupled to the node N<b>1</b> within the dimmer <b>116</b> via line <b>120</b>. The trigger terminal (terminal <b>2</b>) and the threshold terminal (terminal <b>6</b>) of the component <b>302</b> are coupled together and further coupled to the node N<b>4</b> while the discharge terminal (terminal <b>7</b>) of the time component <b>302</b> is coupled to a node N<b>5</b> defined between the first and second resistors <b>304</b>, <b>306</b>.</p>
<p id="p-0067" num="0066">With a standard DC supply voltage V<sub>DD </sub>(for example: 3 or 5V), the voltage at node N<b>3</b> within the dimmer <b>116</b> will never be sufficient to turn on the DIAC <b>210</b> or the TRIAC <b>208</b>. In particular, the voltage at node N<b>3</b> will always be below the breakdown voltage for the DIAC <b>210</b> and the voltage at the gate electrode of the TRIAC <b>208</b> will never reach the trigger voltage for the TRIAC <b>208</b>. A breakdown voltage for a DIAC <b>210</b> can be approximately 25V and a trigger voltage for a TRIAC <b>208</b> within a TRIAC dimmer may similarly be approximately 25V. Although the actual supply voltages may be different in a variety of embodiments of the present invention, the voltages applied to the DIAC and/or TRIAC within the dimmer <b>116</b> according to embodiments of the present invention are not sufficient to turn the components on.</p>
<p id="p-0068" num="0067">Hence, in analyzing the circuit of <figref idref="DRAWINGS">FIG. 3</figref>, the DIAC <b>210</b> and the TRIAC <b>208</b> can be assumed to be open circuits at all times. The use of the dimmer <b>116</b> in the circuit of <figref idref="DRAWINGS">FIG. 3</figref> is not to modify an AC sinusoid as it is normally used, but instead to allow for the potentiometer <b>202</b> and the capacitor <b>206</b> to be included within an overall oscillation circuit that includes the component <b>302</b> and the first and second resistors <b>304</b>, <b>306</b>. As will be described in detail, an oscillation signal with an adjustable frequency can be generated at the output terminal (terminal <b>3</b>) of the component <b>302</b> using the circuit of <figref idref="DRAWINGS">FIG. 3</figref>, the oscillation signal having a frequency (and period) dictated in part by the resistance set at the potentiometer <b>202</b>. It is noted that the resistance of the potentiometer <b>202</b> cannot easily be measured directly with an ohmmeter external to the dimmer <b>116</b> since the potentiometer <b>202</b> is embedded in series with the capacitor <b>206</b>.</p>
<p id="p-0069" num="0068">The circuit of <figref idref="DRAWINGS">FIG. 3</figref> is designed to enable the component <b>302</b> to operate within an astable vibrator oscillation mode. The discharge terminal (terminal <b>7</b>) of the component <b>302</b> has two states depending upon the voltage on the trigger and threshold terminals (terminals <b>2</b> &#x26; <b>6</b>), node N<b>4</b> within <figref idref="DRAWINGS">FIG. 3</figref>. In a first state, when the voltage on node N<b>4</b> becomes one third of the supply voltage V<sub>DD </sub>or less, the discharge terminal (terminal <b>7</b>) becomes an open circuit. In a second state, when the voltage on node N<b>4</b> becomes two thirds of the supply voltage V<sub>DD </sub>or greater, the discharge terminal (terminal <b>7</b>) becomes coupled to the reference ground GND. This back and forth transition from the reference ground GND and an open circuit within the discharge terminal (terminal <b>7</b>) allows the capacitor <b>206</b> within the dimmer <b>116</b> to charge and discharge at a rate dictated by the resistance of the first and second resistors <b>304</b>, <b>306</b> and the potentiometer <b>202</b>. When the discharge terminal (terminal <b>7</b>) is an open circuit, the capacitor <b>206</b> will charge and the voltage at node N<b>4</b> will increase based upon the voltage divider created with the combined resistance of resistors <b>304</b>, <b>306</b> and combined resistance of the potentiometer <b>202</b> and the resistor <b>204</b>. When the discharge terminal (terminal <b>7</b>) is coupled to the reference ground GND, the capacitor will discharge and the voltage at node N<b>4</b> will decrease based upon the voltage divider created with the resistance of the second resistor <b>306</b> and combined resistance of the potentiometer <b>202</b> and the resistor <b>204</b>.</p>
<p id="p-0070" num="0069">In the first state:</p>
<p id="p-0071" num="0070">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>V</mi>
    <mn>4</mn>
  </msub>
  <mo>=</mo>
  <mrow>
    <msub>
      <mi>V</mi>
      <mi>C</mi>
    </msub>
    <mo>+</mo>
    <mrow>
      <mrow>
        <mo>(</mo>
        <mrow>
          <msub>
            <mi>V</mi>
            <mi>DD</mi>
          </msub>
          <mo>-</mo>
          <msub>
            <mi>V</mi>
            <mi>C</mi>
          </msub>
        </mrow>
        <mo>)</mo>
      </mrow>
      <mo>&#x2062;</mo>
      <mfrac>
        <msub>
          <mi>R</mi>
          <mi>V</mi>
        </msub>
        <mrow>
          <msub>
            <mi>R</mi>
            <mi>V</mi>
          </msub>
          <mo>+</mo>
          <msub>
            <mi>R</mi>
            <mi>A</mi>
          </msub>
          <mo>+</mo>
          <msub>
            <mi>R</mi>
            <mi>B</mi>
          </msub>
        </mrow>
      </mfrac>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
where V<sub>4 </sub>is the voltage on node N<b>4</b>; V<sub>DD </sub>is the supply voltage; V<sub>C </sub>is the voltage on node N<b>3</b>; and R<sub>A</sub>, R<sub>B </sub>and R<sub>V </sub>are the resistances on resistor <b>304</b>, resistor <b>306</b> and potentiometer <b>202</b> respectively. In this equation and the equation for the second state, the resistance of resistor <b>204</b> within the dimmer <b>116</b> is ignored for simplicity since it is generally relatively small compared to the resistance on the potentiometer <b>202</b>.
</p>
<p id="p-0072" num="0071">In the first state, the voltage at node N<b>3</b> (V<sub>C</sub>) will increase as the capacitor <b>206</b> charges, thus increasing the voltage at node N<b>4</b> (V<sub>4</sub>). Once the voltage at the node N<b>4</b> (V<sub>4</sub>) increases to two thirds of the supply voltage V<sub>DD </sub>(or another threshold as could be set), the discharge terminal (terminal <b>7</b>) within the component <b>302</b> switches and is coupled to the reference ground GND (the second state).</p>
<p id="p-0073" num="0072">In the second state:</p>
<p id="p-0074" num="0073">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>V</mi>
    <mn>4</mn>
  </msub>
  <mo>=</mo>
  <mrow>
    <msub>
      <mi>V</mi>
      <mi>C</mi>
    </msub>
    <mo>&#x2061;</mo>
    <mrow>
      <mo>(</mo>
      <mfrac>
        <msub>
          <mi>R</mi>
          <mi>V</mi>
        </msub>
        <mrow>
          <msub>
            <mi>R</mi>
            <mi>V</mi>
          </msub>
          <mo>+</mo>
          <msub>
            <mi>R</mi>
            <mi>B</mi>
          </msub>
        </mrow>
      </mfrac>
      <mo>)</mo>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0075" num="0074">In the second state, the voltage at node N<b>3</b> (V<sub>C</sub>) will decrease as the capacitor <b>206</b> discharges, thus decreasing the voltage at node N<b>4</b> (V<sub>4</sub>). Once the voltage at the node N<b>4</b> (V<sub>4</sub>) decreases to one third of the supply voltage V<sub>DD </sub>(or another threshold as could be set), the discharge terminal (terminal <b>7</b>) within the component <b>302</b> switches and is open circuited (the first state). In some embodiments, the threshold voltage levels on node N<b>4</b> that trigger the switch from the first state to the second state and back can be adjusted by adjusting a voltage applied to the control voltage terminal (terminal <b>5</b>) on the component <b>302</b> in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0076" num="0075">The output terminal (terminal <b>3</b>) within the timing component <b>302</b> outputs the output signal <b>118</b> which is a representation of the switching of the discharge terminal (terminal <b>7</b>) within the component <b>302</b> between the first and second states. When the discharge terminal is in the first state, the output signal <b>118</b> is a high voltage. When the discharge terminal is in the second state, the output signal <b>118</b> is a low voltage. Therefore, as the discharge terminal switches between the first and second states, the output signal <b>118</b> becomes an oscillation signal with an output frequency set by the ratio of the resistances R<sub>A</sub>, R<sub>B</sub>, R<sub>V</sub>.</p>
<p id="p-0077" num="0076">One can calculate the frequency of the output signal as it relates to the resistances R<sub>A</sub>, R<sub>B</sub>, R<sub>V</sub>. In the specific example implementation of <figref idref="DRAWINGS">FIG. 3</figref>, while ignoring the resistor <b>204</b>, the time T<sub>C </sub>required for the node N<b>4</b> to charge to two thirds of the supply voltage V<sub>DD </sub>and the time T<sub>D </sub>required for the node N<b>4</b> to discharge to one third of the supply voltage V<sub>DD </sub>are defined by the following equations:</p>
<p id="p-0078" num="0077">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>T</mi>
    <mi>C</mi>
  </msub>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mrow>
        <mi>C</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <msub>
              <mi>R</mi>
              <mi>A</mi>
            </msub>
            <mo>+</mo>
            <msub>
              <mi>R</mi>
              <mi>B</mi>
            </msub>
            <mo>+</mo>
            <msub>
              <mi>R</mi>
              <mi>V</mi>
            </msub>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mo>&#x2062;</mo>
      <mrow>
        <mi>ln</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mfrac>
            <mrow>
              <mn>1</mn>
              <mo>-</mo>
              <mi>X</mi>
            </mrow>
            <mrow>
              <mn>1</mn>
              <mo>-</mo>
              <mi>Y</mi>
            </mrow>
          </mfrac>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.8em" height="0.8ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <msub>
        <mi>T</mi>
        <mi>D</mi>
      </msub>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mrow>
        <mi>C</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <msub>
              <mi>R</mi>
              <mi>B</mi>
            </msub>
            <mo>+</mo>
            <msub>
              <mi>R</mi>
              <mi>V</mi>
            </msub>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mo>&#x2062;</mo>
      <mrow>
        <mi>ln</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mfrac>
            <mi>Y</mi>
            <mi>X</mi>
          </mfrac>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
where:
</p>
<p id="p-0079" num="0078">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>X</mi>
    <mo>=</mo>
    <mrow>
      <mfrac>
        <mn>2</mn>
        <mn>3</mn>
      </mfrac>
      <mo>-</mo>
      <mfrac>
        <msub>
          <mi>R</mi>
          <mi>V</mi>
        </msub>
        <mrow>
          <mn>3</mn>
          <mo>&#x2062;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <msub>
                <mi>R</mi>
                <mi>A</mi>
              </msub>
              <mo>+</mo>
              <msub>
                <mi>R</mi>
                <mi>B</mi>
              </msub>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mfrac>
    </mrow>
  </mrow>
  <mo>;</mo>
  <mrow>
    <mi>Y</mi>
    <mo>=</mo>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <mn>3</mn>
      </mfrac>
      <mo>+</mo>
      <mfrac>
        <msub>
          <mi>R</mi>
          <mi>V</mi>
        </msub>
        <mrow>
          <mn>3</mn>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <msub>
            <mi>R</mi>
            <mi>B</mi>
          </msub>
        </mrow>
      </mfrac>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
and C is the capacitance of capacitor <b>206</b>.
</p>
<p id="p-0080" num="0079">Therefore, the total time to charge and discharge can be represented by:</p>
<p id="p-0081" num="0080">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mrow>
  <mrow>
    <msub>
      <mi>T</mi>
      <mi>C</mi>
    </msub>
    <mo>+</mo>
    <msub>
      <mi>T</mi>
      <mi>D</mi>
    </msub>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mrow>
        <mi>C</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <msub>
              <mi>R</mi>
              <mi>A</mi>
            </msub>
            <mo>+</mo>
            <msub>
              <mi>R</mi>
              <mi>B</mi>
            </msub>
            <mo>+</mo>
            <msub>
              <mi>R</mi>
              <mi>V</mi>
            </msub>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mo>&#x2062;</mo>
      <mrow>
        <mi>ln</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mfrac>
            <mrow>
              <mn>1</mn>
              <mo>-</mo>
              <mi>X</mi>
            </mrow>
            <mrow>
              <mn>1</mn>
              <mo>-</mo>
              <mi>Y</mi>
            </mrow>
          </mfrac>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mrow>
    <mo>+</mo>
    <mrow>
      <mrow>
        <mi>C</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <msub>
              <mi>R</mi>
              <mi>B</mi>
            </msub>
            <mo>+</mo>
            <msub>
              <mi>R</mi>
              <mi>V</mi>
            </msub>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mo>&#x2062;</mo>
      <mrow>
        <mi>ln</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mfrac>
            <mi>Y</mi>
            <mi>X</mi>
          </mfrac>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
and the frequency of the output signal <b>118</b> can be calculated as:
</p>
<p id="p-0082" num="0081">
<maths id="MATH-US-00006" num="00006">
<math overflow="scroll">
<mrow>
  <mi>F</mi>
  <mo>=</mo>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <mrow>
        <msub>
          <mi>T</mi>
          <mi>C</mi>
        </msub>
        <mo>+</mo>
        <msub>
          <mi>T</mi>
          <mi>D</mi>
        </msub>
      </mrow>
    </mfrac>
    <mo>.</mo>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0083" num="0082">In order for the architecture of <figref idref="DRAWINGS">FIG. 3</figref> to operate properly, the values of the resistances R<sub>A</sub>, R<sub>B</sub>, R<sub>V </sub>must follow a particular relationship to ensure that the node N<b>4</b> does not instantly change to less than one third of the supply voltage V<sub>DD </sub>when the circuit switches from the first state to the second state. The relationship is:</p>
<p id="p-0084" num="0083">
<maths id="MATH-US-00007" num="00007">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>R</mi>
    <mi>V</mi>
  </msub>
  <mo>&#x3c;</mo>
  <mfrac>
    <mrow>
      <msub>
        <mi>R</mi>
        <mi>B</mi>
      </msub>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mrow>
          <msub>
            <mi>R</mi>
            <mi>A</mi>
          </msub>
          <mo>+</mo>
          <msub>
            <mi>R</mi>
            <mi>B</mi>
          </msub>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mrow>
    <mrow>
      <msub>
        <mi>R</mi>
        <mi>A</mi>
      </msub>
      <mo>+</mo>
      <mrow>
        <mn>2</mn>
        <mo>&#x2062;</mo>
        <mstyle>
          <mspace width="0.3em" height="0.3ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <msub>
          <mi>R</mi>
          <mi>B</mi>
        </msub>
      </mrow>
    </mrow>
  </mfrac>
</mrow>
</math>
</maths>
</p>
<p id="p-0085" num="0084">If the dimmer <b>116</b> is an off-the-shelf TRIAC dimmer, the range of resistance within the potentiometer <b>202</b> will be difficult to modify. Therefore, when designing the circuit of <figref idref="DRAWINGS">FIG. 3</figref>, the selection of the resistances R<sub>A</sub>, R<sub>B </sub>for resistors <b>304</b>,<b>306</b> should be done to maintain the above relationship for the various potential range of R<sub>V</sub>. In one particular example, in which the potentiometer has a range of 3 k&#x3a9; to 60 k&#x3a9;, the resistances R<sub>A</sub>, R<sub>B </sub>can both have values of 100 k&#x3a9;. This relationship can also be adjusted by applying a voltage to the control voltage terminal (terminal <b>5</b>) within the component <b>302</b> and therefore changing the threshold voltages at which the component <b>302</b> switches from the first state to the second state and vice versa. When embodiments of the invention employing an impedance matching element, such as the embodiment illustrated in <figref idref="DRAWINGS">FIG. 10</figref>, are used the impact of the impedance matching element must also be accounted to ensure similar operation.</p>
<p id="p-0086" num="0085">In the embodiment of the present invention of <figref idref="DRAWINGS">FIG. 3</figref>, the resistors <b>304</b>,<b>306</b> are fixed resistors while the potentiometer <b>202</b> has a variable resistance. As the resistance on the potentiometer <b>202</b> is changed by a user of the dimmer <b>116</b>, the frequency (and period) of the output signal <b>118</b> will change in response. The output signal <b>118</b>, as depicted in <figref idref="DRAWINGS">FIGS. 1B and 1C</figref>, can be received by the lighting controller <b>110</b>. The lighting controller <b>110</b>, according to embodiments of the present invention, can detect the frequency of the output signal <b>118</b> or data related to the frequency (i.e. the period). For example, in some embodiments, the lighting controller <b>110</b> can measure the time between changes from high to low or low to high in the output signal <b>118</b>. In other embodiments, the duration of a high state, low state or total duty cycle may be measured. In some embodiments, the lighting controller <b>118</b> could measure the duration period of multiple cycles of high and/or low states to achieve additional accuracy and granularity of the setting of the potentiometer <b>202</b> within the dimmer <b>116</b>. The lighting controller <b>118</b>, using the data related to the frequency of the output signal <b>118</b>, can generate information related to the setting of the potentiometer <b>202</b> within the dimmer <b>116</b>, hereinafter referred to as dimmer information. The period as used herein, should be construed broadly to include data related to the period including fractions and multiples of the period and generally include data related to the frequency or period.</p>
<p id="p-0087" num="0086">The dimmer information may be generated in a number of ways. In some embodiments, the lighting controller <b>110</b> can use a calibration table to determine which of the data related to the frequency of the output signal <b>118</b> corresponds to what corresponding dimmer information. In other cases, the lighting controller <b>110</b> may utilize a formula to generate dimmer information associated with a range for the data related to the frequency of the output signal <b>118</b>. Other techniques for converting the data related to the frequency of the output signal <b>118</b> to the dimmer information should be understood and the actual method used should not limit the scope of the present invention.</p>
<p id="p-0088" num="0087">The lighting controller <b>110</b> can utilize the dimmer information to control an aspect of the lighting devices <b>108</b>. In some embodiments, the lighting controller <b>110</b> can use the dimmer information to generate an intensity level signal to manage the intensity of the lighting devices <b>108</b>. The intensity level signal may take a number of forms. In the case that the lighting devices <b>108</b> are LEDs, the intensity level signal may comprise a PWM signal that selectively turns on/off the LEDs for a particular amount of time within a duty cycle. In other cases, the intensity level signal may be used to adjust the current flow through the lighting devices <b>108</b>. In yet other embodiments, the intensity level signal may be used to adjust the power to the lighting devices <b>108</b> in other manners. For example, in the case that the lighting devices <b>108</b> are AC devices such as incandescent, halogen or fluorescent devices, the intensity level signal may adjust an AC signal being applied to the lighting devices <b>108</b>.</p>
<p id="p-0089" num="0088">In other embodiments, the lighting controller <b>110</b> may use the dimmer information to control other aspects of the lighting devices, such as the color and/or color temperature of the lighting devices <b>108</b>. For example, in the case of the lighting devices <b>108</b> comprising LEDs, the lighting controller <b>110</b> may turn on/off a select set of the LEDs for a particular time period within a duty cycle in response to the dimmer information in order to generate a particular light spectrum in the light output from the lighting apparatus <b>102</b>. In some particular case, if the dimmer information indicates that the lighting apparatus <b>102</b> should emit more of a red spectrum, the lighting controller <b>110</b> may turn on additional red LEDs or turn on a set of red LEDs for a longer period of time during the duty cycle. It should be understood that, in a scenario with various sets of LEDs of different colors and/or color temperatures, by adjusting which sets of LEDs are turned on and for how long each set of LEDs are turned on, the lighting controller <b>110</b> can change the color and/or color temperature of the resulting light output from the lighting apparatus <b>102</b>. In other embodiments, the lighting controller may adjust the current flow through a plurality of sets of LEDs in order to adjust the resulting spectrum of the light output. As the current level is increased to a particular set of LEDs, the luminance of those LEDs will typically increase, assuming that it does not exceed the maximum allowable current. Similarly, as the current level is decreased to a particular set of LEDs, the luminance of those LEDs will typically decrease.</p>
<p id="p-0090" num="0089">It should be understood that the above description of the lighting controller <b>110</b> utilizing the dimmer information should not limit the scope of the present invention. In some embodiments, the lighting controller <b>110</b> does not convert the data related to the frequency of the output signal <b>118</b> to dimmer information but instead directly interprets it into one or more signals that can be used to control the lighting devices. For example, in some embodiments, the lighting controller <b>110</b> may correlate particular data related to the frequency of the output signal <b>118</b>, for example, the period of the output signal <b>118</b>, into particular intensity level signals and/or signals that can be used to control the color and/or color temperature of the lighting apparatus <b>102</b>.</p>
<p id="p-0091" num="0090">It should be understood that the above description related to <figref idref="DRAWINGS">FIG. 3</figref> is directed to a particular design of the dimmer <b>116</b> and the above defined equations would change depending upon the specific circuits within the dimmer <b>116</b>. In particular, an alternative design for the dimmer <b>116</b> would change the calculation of the frequency for the output signal <b>118</b> and would also change the required relationship with the values of the resistors <b>304</b>,<b>306</b>. In some cases, the circuit within the signal generator <b>112</b> would need to be adjusted to allow for the modified design for the dimmer <b>116</b>.</p>
<p id="p-0092" num="0091">In some embodiments, the lighting controller <b>110</b> can detect the minimum and maximum frequencies that the output signal <b>118</b> can be within. This can be accomplished by having a user of the dimmer <b>116</b> adjust the potentiometer <b>202</b> from first and second extreme levels. By detecting data related to the frequency of the output signal <b>118</b> at the minimum and maximum levels, the lighting controller <b>110</b> can then utilize this data to establish a range of setting for controlling the lighting devices <b>108</b>. For example, in one case, the lighting controller <b>110</b> could set a linear correlation between the minimum and maximum settings and adjust an aspect of the lighting devices <b>108</b> linearly depending upon the data related to the frequency of the output signal <b>118</b> as it relates to the maximum and minimum levels. Other non-linear relationships could also be used. Such a calibration procedure could be communicated to an end user of the lighting apparatus <b>102</b> and/or control apparatus <b>104</b> by way of a diagram or written instructions to connect the dimmer, enable the lighting apparatus <b>102</b> and then adjust the dial within the dimmer to each of its extremes slowly enough for the lighting controller <b>110</b> to capture the correct limits Additional details of particular embodiments or methods that may be used to calibrate the lighting controller <b>110</b> to a particular dimmer <b>116</b> are described below with reference to <figref idref="DRAWINGS">FIGS. 8 and 9</figref>. These calibrations procedures may allow the lighting controller <b>110</b> to be used effectively with a variety of dimmers having different properties.</p>
<p id="p-0093" num="0092">One example alternative dimmer design that is within a 6621-W dimmer manufactured by Leviton Manufacturing Corporation of Melville, N.Y., U.S.A. is depicted in <figref idref="DRAWINGS">FIG. 4</figref>. The design illustrated in <figref idref="DRAWINGS">FIG. 4</figref> eliminates the TRIAC and DIAC circuit for simplicity since the operation of the present invention ensures that these components are not relevant as both components remain off. As shown, a potentiometer <b>402</b> is coupled between the line <b>120</b> and a node N<b>6</b> while a first resistor <b>404</b> is coupled between the line <b>120</b> and a node N<b>7</b>. A second resistor <b>406</b> is coupled between nodes N<b>6</b> and N<b>7</b>. Line <b>122</b> is coupled to first and second capacitors <b>408</b>,<b>410</b> which are further coupled to the nodes N<b>6</b> and N<b>7</b> respectively. There is also an additional capacitor <b>412</b> coupled between the line <b>120</b> and the line <b>122</b>.</p>
<p id="p-0094" num="0093">In one particular implementation, the values of the linear components within the dimmer of <figref idref="DRAWINGS">FIG. 4</figref> are: potentiometer <b>402</b> of 6 to 154 k&#x3a9;; first resistor <b>404</b> of 92 k&#x3a9;; second resistor <b>406</b> of 390 k&#x3a9;; first capacitor <b>408</b> of 68 nF; second capacitor <b>410</b> of 47 nF; and additional capacitor <b>412</b> of 100 nF. In this particular configuration, it has been tested that when the dimmer of <figref idref="DRAWINGS">FIG. 4</figref> is implemented as dimmer <b>116</b> within a circuit similar to <figref idref="DRAWINGS">FIG. 3</figref>, the resistors <b>304</b>,<b>306</b> can both be a value of 100 k&#x3a9;. In this set-up, the frequency of the output signal <b>118</b> adjusts between approximately 20 to 30 Hz.</p>
<p id="p-0095" num="0094">Although the above description includes off-the-shelf TRIAC dimmers within the control apparatus of the present invention, it should be understood that alternative circuitry could be generated that does not use an off-the-shelf TRIAC dimmer while still gaining at least some of the benefits of the present invention. <figref idref="DRAWINGS">FIGS. 5A and 5B</figref> are circuit diagrams of lighting control apparatus <b>104</b> according to two particular alternative embodiments of the present invention that do not use off-the-shelf TRIAC dimmers.</p>
<p id="p-0096" num="0095">As depicted, the lighting control apparatus of <figref idref="DRAWINGS">FIG. 5A</figref> is similar to the circuit of <figref idref="DRAWINGS">FIG. 3</figref> with like components being marked with the same references. Instead of the dimmer <b>116</b> within <figref idref="DRAWINGS">FIG. 3</figref>, the circuit of <figref idref="DRAWINGS">FIG. 5A</figref> has a potentiometer <b>502</b> coupled in series with a capacitor <b>504</b> between node N<b>4</b> and the reference ground GND. This circuit is effectively the component equivalent of <figref idref="DRAWINGS">FIG. 3</figref> with the resistor <b>204</b>, TRIAC <b>208</b> and DIAC <b>210</b> removed and may be implemented directly in certain embodiments of the invention in place of a dimmer having TRIAC circuitry. Since the circuit is equivalent, the operation of the circuit is equivalent and the formula for the frequency of the output signal <b>118</b> is the same as indicated above for <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0097" num="0096">The lighting control apparatus of <figref idref="DRAWINGS">FIG. 5B</figref> includes the component <b>302</b> which is used similar in function to the circuit of <figref idref="DRAWINGS">FIG. 3</figref>. As depicted, the circuit of <figref idref="DRAWINGS">FIG. 5B</figref> further comprises a resistor <b>506</b> coupled in series with a potentiometer <b>508</b> and a capacitor <b>510</b> between the supply voltage V<sub>DD </sub>and the reference ground GND. As shown, a node N<b>8</b> between the potentiometer <b>508</b> and the capacitor <b>510</b> is coupled to the threshold terminal (terminal <b>6</b>) and the trigger terminal (terminal <b>2</b>) of the component. Further, a node N<b>9</b> between the resistor <b>506</b> and the potentiometer <b>508</b> is coupled to the discharge terminal (terminal <b>7</b>) of the component <b>302</b>.</p>
<p id="p-0098" num="0097">In the configuration of <figref idref="DRAWINGS">FIG. 5B</figref>, the component <b>302</b> generates an output signal <b>118</b> similar to the output signal described above with reference to <figref idref="DRAWINGS">FIG. 3</figref>. In particular, the output signal <b>118</b> can be used in a similar manner by the lighting controller <b>110</b> with the frequency of the output signal <b>118</b> being dependent at least partially on the resistance of the potentiometer <b>508</b>, the potentiometer <b>508</b> being adjusted by a user of the control apparatus. The formula for the frequency F of the output signal in this particular configuration is:</p>
<p id="p-0099" num="0098">
<maths id="MATH-US-00008" num="00008">
<math overflow="scroll">
<mrow>
  <mi>F</mi>
  <mo>=</mo>
  <mfrac>
    <mn>1.38</mn>
    <mrow>
      <mrow>
        <mo>(</mo>
        <mrow>
          <msub>
            <mi>R</mi>
            <mrow>
              <mi>A</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mn>1</mn>
            </mrow>
          </msub>
          <mo>+</mo>
          <mrow>
            <mn>2</mn>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <msub>
              <mi>R</mi>
              <mrow>
                <mi>V</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mn>1</mn>
              </mrow>
            </msub>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
      <mo>&#x2062;</mo>
      <mi>C</mi>
    </mrow>
  </mfrac>
</mrow>
</math>
</maths>
<br/>
where R<sub>A1 </sub>is the resistance of resistor <b>506</b>, R<sub>V1 </sub>is the resistance of the potentiometer <b>508</b> and C is the capacitance of capacitor <b>510</b>.
</p>
<p id="p-0100" num="0099">It should be understood that the control apparatus of <figref idref="DRAWINGS">FIGS. 5A and 5B</figref> are only two particular examples of implementations of the present invention not utilizing an off-the-shelf TRIAC dimmer. Other circuits that can utilize a potentiometer to allow for the adjusting of a frequency for an output signal can be used. For instance, the component equivalent of well-known TRIAC dimmers with the TRIAC and DIAC components removed could be used along with a component similar to that of component <b>302</b> to generate an output signal of a frequency that is dependent at least partially on the setting of a potentiometer.</p>
<p id="p-0101" num="0100">It should further be understood that the use of the component <b>302</b> within the circuits of <figref idref="DRAWINGS">FIGS. 3</figref>, <b>5</b>A and <b>5</b>B could be replaced with discrete components that operate in a similar fashion. For example, one skilled in the art would understand equivalent circuits to replicate the functionality of a 555 Timer. These equivalent circuits for the time component could be used to create a functionally similar circuit to the circuits of <figref idref="DRAWINGS">FIGS. 3</figref>, <b>5</b>A and <b>5</b>B.</p>
<p id="p-0102" num="0101">In the system architectures depicted in <figref idref="DRAWINGS">FIGS. 1B and 1C</figref>, the lighting apparatus <b>102</b> and the control apparatus <b>104</b> are coupled together by fixed DC lines (<b>120</b>,<b>122</b> in the case of FIG. <b>1</b>B and <b>118</b>,<b>124</b> in the case of <figref idref="DRAWINGS">FIG. 1C</figref>). It should be understood that in alternative embodiments, the lighting apparatus <b>102</b> and the control apparatus <b>104</b> may communicate wirelessly as will be described herein below with reference to <figref idref="DRAWINGS">FIG. 6A</figref> or may communicate over AC lines as described herein below with reference to <figref idref="DRAWINGS">FIG. 6B</figref>.</p>
<p id="p-0103" num="0102"><figref idref="DRAWINGS">FIG. 6A</figref> is a system architecture diagram according to embodiments of the present invention using wireless technology for communication. The architecture of <figref idref="DRAWINGS">FIG. 6A</figref> is a modified version of the architecture of <figref idref="DRAWINGS">FIG. 1C</figref> and therefore like components are marked with the same references. Within <figref idref="DRAWINGS">FIG. 6A</figref>, the control apparatus <b>104</b> has a separate AC mains input <b>602</b> and does not receive DC power through DC power/ground lines <b>124</b>. Instead, the control apparatus <b>104</b> of <figref idref="DRAWINGS">FIG. 6A</figref> comprises an AC/DC convertor <b>604</b> which supplies DC power to the circuit comprising the signal generator <b>112</b> and the dimmer <b>116</b>. Alternatively, the AC mains input <b>602</b> and AC/DC convertor <b>604</b> could be replaced with a separate DC power source such as a battery or a solar array device. The control apparatus <b>104</b> of <figref idref="DRAWINGS">FIG. 6A</figref> further comprises a wireless transmitter <b>606</b> that receives DC power from the AC/DC converter <b>602</b> (or the separate DC power source) and the output signal <b>118</b> from the signal generator <b>112</b>.</p>
<p id="p-0104" num="0103">Within <figref idref="DRAWINGS">FIG. 6A</figref>, the lighting apparatus comprises the AC/DC convertor <b>114</b>, the lighting controller <b>110</b> and the lighting devices <b>108</b> similar to that depicted in <figref idref="DRAWINGS">FIG. 1C</figref> but the lighting apparatus further comprises a wireless receiver <b>610</b> that receives DC power from the AC/DC convertor <b>114</b>.</p>
<p id="p-0105" num="0104">In operation, the wireless transmitter receives the output signal <b>118</b> from the signal generator <b>112</b> and transmits a wireless signal <b>610</b> to the wireless receiver <b>608</b>, the wireless signal <b>610</b> incorporating information related to the output signal <b>118</b>. In one embodiment, the wireless transmitter <b>606</b> is an FSK transmitter that modulates a higher frequency pilot signal using the relatively low frequency output signal <b>118</b>. In other embodiments, the wireless transmitter <b>606</b> may regenerate a new signal within a wireless standard such as SigBe, Bluetooth, WiFi, WiMax, CDMA, GSM, etc. that conveys information related to the output signal <b>118</b> such as data related to its frequency. The wireless receiver <b>608</b> in operation receives the wireless signal <b>610</b> and may modify the signal. For instance, the wireless receiver <b>608</b> may demodulate the output signal <b>118</b> and effectively regenerate it as signal <b>612</b> for forwarding to the lighting controller <b>110</b>. In other embodiments, the wireless receiver <b>608</b> may interpret information within the wireless signal to generate the signal <b>612</b> for forwarding to the lighting controller <b>110</b>. In yet other embodiments, the wireless receiver <b>608</b> may remove overhead attached by the wireless transmitter <b>606</b> and forward the content or a representation thereof as signal <b>612</b> to the lighting controller <b>110</b>. In all cases within the architecture of <figref idref="DRAWINGS">FIG. 6A</figref>, the wireless transmitter <b>606</b> and the wireless receiver <b>608</b> work together to wirelessly communicate information within the output signal <b>118</b> to the lighting controller <b>110</b>. It should be understood that one skilled in the art may contemplate other implementations for communicating information from the output signal <b>118</b> to the lighting controller <b>110</b>.</p>
<p id="p-0106" num="0105"><figref idref="DRAWINGS">FIG. 6B</figref> is a system architecture diagram according to embodiments of the present invention using AC wire coupling technology for communication. The architecture of <figref idref="DRAWINGS">FIG. 6B</figref> is a modified version of the architecture of <figref idref="DRAWINGS">FIG. 1C</figref> and therefore like components are marked with the same references. Within <figref idref="DRAWINGS">FIG. 6B</figref>, the control apparatus <b>104</b> has an AC mains input <b>614</b> coupled to an AC/DC convertor <b>616</b> which supplies DC power to the circuit comprising the signal generator <b>112</b> and the dimmer <b>116</b>. The control apparatus of <figref idref="DRAWINGS">FIG. 6B</figref> further comprises a signal coupler <b>618</b> that is powered by the DC output of the AC/DC convertor <b>616</b> and receives the output signal <b>118</b> from the signal generator <b>112</b> as well as the AC supply from the AC input <b>614</b>. The signal coupler <b>618</b> uses power line carrier (PLC) or broadband over power line (BPL) technology to modulate the output signal <b>118</b> onto the AC supply such that an AC line <b>620</b> coupled between the control apparatus <b>104</b> and the lighting apparatus <b>102</b> has the AC supply with information associated with the output signal <b>118</b> modulated onto the AC sinusoid. In one embodiment, the signal coupler <b>618</b> comprises an FSK transmitter that modulates a higher frequency pilot signal using the relatively low frequency output signal <b>118</b>.</p>
<p id="p-0107" num="0106">Within <figref idref="DRAWINGS">FIG. 6B</figref>, the lighting apparatus <b>102</b> comprises the lighting controller <b>110</b> and the lighting devices <b>108</b> of <figref idref="DRAWINGS">FIG. 1C</figref> but, instead of the AC/DC convertor <b>114</b>, the lighting apparatus <b>102</b> further comprises a signal decoupler <b>622</b> and an AC/DC convertor <b>624</b>. The signal decoupler <b>622</b> is coupled to the AC line <b>620</b> and demodulates the signal modulated onto the AC sinusoid. The resulting AC signal is converted by the AC/DC convertor <b>624</b> into a DC supply that powers the lighting controller <b>110</b>, the lighting devices <b>108</b> and the signal decoupler <b>622</b>. The signal decoupler <b>624</b> transmits a signal <b>626</b> that resulted from the demodulation to the lighting controller <b>110</b>. The signal <b>626</b> may be a regeneration of the output signal <b>118</b> or may be a signal that incorporates information related to the frequency of the output signal <b>118</b>.</p>
<p id="p-0108" num="0107">In both the implementations of <figref idref="DRAWINGS">FIGS. 6A and 6B</figref>, a signal representative of the output signal <b>118</b> or that incorporates information related to the output signal <b>118</b> is received by the lighting controller <b>110</b>. In these cases, the lighting controller <b>110</b> can control the lighting devices <b>108</b> in a similar manner as described above. In particular, the lighting controller can control an aspect of the light output from the lighting apparatus <b>102</b> by controlling the lighting devices <b>108</b> in response to the signals received indirectly from the signal generator <b>112</b>.</p>
<p id="p-0109" num="0108"><figref idref="DRAWINGS">FIG. 7</figref> is a circuit diagram for powering a control apparatus according to one particular example implementation of the present invention. In specific implementations of the present invention, the component <b>302</b> may need to be powered from a DC source but with only an AC source available. This could occur in the embodiments depicted in <figref idref="DRAWINGS">FIGS. 6A and 6B</figref> as well as the embodiment depicted in <figref idref="DRAWINGS">FIG. 1C</figref> if the DC power/ground lines <b>124</b> were removed. The circuit of <figref idref="DRAWINGS">FIG. 7</figref> depicts one particular implementation that could be used to power the component <b>302</b> from an AC supply. As shown, the circuit of <figref idref="DRAWINGS">FIG. 7</figref> comprises the component <b>302</b> being powered from an AC supply <b>704</b>. The AC supply <b>704</b> is coupled to a voltage divider <b>706</b> which is subsequently coupled to a rectifier <b>708</b>. The outputs from the rectifier <b>708</b> are the voltage supply V<sub>DD </sub>and the reference ground GND. As shown, a capacitor <b>710</b> and a zenor diode <b>712</b> are coupled between the outputs of the rectifier. It should be understood that many other well-known techniques for AC/DC conversion can be used for this situation and the implementation of <figref idref="DRAWINGS">FIG. 7</figref> is only one example of a bridge rectifier.</p>
<p id="p-0110" num="0109">One example of a calibration procedure that may be used by lighting controller <b>110</b> to determine the maximum and minimum periods of the output signal <b>118</b> when used with a particular dimmer <b>116</b>, as noted above, is illustrated in further detail in <figref idref="DRAWINGS">FIG. 8</figref>. The dimmer <b>116</b> may have an interface that may have a value that is representative of the state of the interface and may change as the interface of the dimmer <b>116</b> is adjusted. For example, in certain embodiments, the value of the interface may be considered to be the impedance of a variable impedance, such as the variable resistor <b>202</b> included in the TRIAC dimmer, depicted in <figref idref="DRAWINGS">FIG. 2</figref>, or an alternative dimmer having a variable impedance in series with a capacitor. Such a calibration procedure may be important to provide a full range of adjustment of an aspect of light output desired to be controlled with the dimmer <b>116</b>, because the maximum and minimum periods of the output signal <b>118</b> may vary depending on the properties (e.g. resistance and capacitance) of the particular dimmer <b>116</b> coupled to the signal generator <b>112</b> (also referred to as the signal generation circuit).</p>
<p id="p-0111" num="0110">Written instructions may be provided to users to allow users to interpret instructions from the lighting controller <b>110</b> and adjust the interface of the dimmer <b>116</b> appropriately. When the lighting controller <b>110</b> is in a programming mode, the lighting controller <b>110</b> may instruct the user to set the interface of the dimmer <b>116</b> to a first extreme value at step <b>150</b>. The lighting controller <b>110</b> may enter a programming mode when initialized, or first turned on, or when it is desired to change certain parameters of the lighting controller <b>110</b>. For example, the lighting controller <b>110</b> may cause the lighting devices <b>108</b> (light radiating element) to flash or blink a set number of times to instruct the user to set the value of the interface to a first extreme value, for example, the minimum value. The lighting controller may then determine the period of the output signal <b>118</b> at step <b>152</b> and store the period, for example, the minimum period in memory. As noted above, the period as used herein should be understood to be a duration or other data related to the frequency of a signal, and may include, for example, a half period, for example, the time it takes a signal to transition from high to low and vice versa and multiples of the period. In order to facilitate an accurate measurement of the period at the first extreme value, the minimum period in this example, the lighting controller <b>110</b> may wait a certain period of time to ensure a steady state is reached and/or average a number of samples in an attempt to reduce the effects of possible noise. The lighting controller <b>110</b> may then instruct the user to set the value of the interface to a second extreme value, for example, the maximum value at step <b>154</b>. As noted above, instructing the user to set the interface to a second extreme value may be communicated by flashing the lighting devices <b>108</b> a predetermined number of times or using another method. The lighting controller <b>110</b> may then determine the period of the output signal <b>118</b> at the second extreme value, which in this example would be the maximum period of the output signal <b>118</b> and store the maximum value in memory at step <b>156</b>.</p>
<p id="p-0112" num="0111">After the periods have been determined at the first and second extremes, the user may adjust the interface of the dimmer <b>116</b> to a desired value. The lighting controller <b>110</b> may determine the period of the output signal <b>118</b> associated with the present value of the interface of the dimmer <b>116</b> at step <b>158</b>. The lighting controller <b>110</b> may then control an aspect of light output from the lighting devices <b>108</b> based on the period relative to the periods at the first and second extreme values of the interface of the dimmer <b>116</b> (e.g. the minimum and maximum periods) at step <b>160</b>. For example, lighting controller <b>110</b> may be configured so that the perceived light output (i.e. the output perceived by the human eye) varies approximately linearly as the value of the interface is adjusted from a minimum to a maximum value. Lighting controller <b>110</b> may need to convert such an approximately linear relationship to an approximately exponential relationship, for example, to account for lighting devices <b>108</b>, such as LEDs, that have a non-linear light output (i.e. a non-linear IV curve of a LED). Lighting controller <b>110</b> may also continuously monitor and determine the period of the output signal <b>118</b> to adjust the light output from the lighting devices <b>108</b> responsive to changes to the interface of the dimmer <b>116</b> in a similar manner.</p>
<p id="p-0113" num="0112">Alternatively, the user may cause the lighting controller <b>110</b> to enter a programming mode in certain embodiments, for example, by communicating a command via a remote control. The lighting controller <b>110</b> may alternatively be operable to enter a programming mode upon initialization. In a programming mode, the user may set the interface of the dimmer to the maximum and minimum extremes within a predetermined amount of time and the maximum and minimum periods of the output signal <b>118</b> may be captured and stored by the lighting controller <b>110</b>. Written instructions may be provided to instruct the user to set the maximum and minimum periods within a predetermined amount of time and to leave the interface of the dimmer at the maximum and minimum extremes for a certain amount of time to ensure an accurate reading. An aspect of the light output from the lighting devices <b>108</b> may then be controlled based on the value of the output signal <b>118</b> relative to the maximum and minimum periods of the output signal <b>118</b> as described above.</p>
<p id="p-0114" num="0113"><figref idref="DRAWINGS">FIG. 9</figref> illustrates an alternative calibration procedure that may allow lighting controller <b>110</b> to control the light output from lighting devices <b>108</b> when used with a particular dimmer <b>116</b> having a particular range of impedance values that may be adjusted by changing the value of an interface. The dimmer <b>116</b> may have an interface that may have a value representative of the state of the interface of the dimmer, for example, the impedance of a variable impedance that may be adjusted by the interface as described above. In contrast to the calibration procedure described with respect to <figref idref="DRAWINGS">FIG. 8</figref>, the calibration procedure illustrated in <figref idref="DRAWINGS">FIG. 9</figref> does not require the user to undertake a series of steps in a programming mode, or upon initialization, of the lighting controller <b>110</b> and may be referred to as an adaptive or automatic calibration procedure.</p>
<p id="p-0115" num="0114">When the lighting controller <b>110</b> is in a programming mode, for example, when initialized or turned on, the interface of the dimmer <b>116</b> may have an initial value. It should be understood that when sampling periods, the samples may be filtered for noise by, for example, eliminating the 2 greatest outliers among 8 running samples leading to the present sample and using the average of the 6 non-outliers as the &#x201c;sample&#x201d;. Additionally, when sampling for the minimum and maximum, additional care can be taken to ensure that at least 256 (or some other large number) of samples occurred within 1 or 2 units of the maximum or minimum being updated, since the normal use of a dimmer is to leave it alone once the user has adjusted it to the appropriate level. The lighting controller <b>110</b> may determine the initial period of the output signal <b>118</b> after a delay to ensure that a steady state has been reached and store the value of the period in memory at step <b>250</b>. The lighting controller <b>110</b> may then establish a maximum period of the output signal <b>118</b> at step <b>252</b>. The maximum period should be chosen to be in close proximity to the initial period upon initialization. For example, the maximum period could be set to be the initial period, or another period in close proximity to the initial period, such as the initial period plus 1. Alternative methods to establish an initial value of the maximum period may also be used in certain implementations. Similarly, the lighting controller <b>110</b> may establish an initial value for a minimum period of the output signal <b>118</b> and store the minimum period in memory at step <b>254</b>. The initial value of the minimum period may also be chosen to be in close proximity to the initial period, for example, the initial value of the minimum period could be chosen to be the initial period minus 1. Other initial values for the minimum period may also be chosen without departing from the scope of the invention. Steps <b>250</b>, <b>252</b>, and <b>254</b> may be considered to be part of the initialization procedure of the lighting controller <b>110</b> and may only be performed when the lighting controller <b>110</b> is first turned on or in a programming mode.</p>
<p id="p-0116" num="0115">During continued or ongoing operation, the lighting controller <b>110</b> may determine the period of the output signal <b>118</b> at step <b>256</b> and be operable to detect changes in the period of the output signal <b>118</b> as the value of the interface of the dimmer is changed. If the period of the output signal <b>118</b> is greater than the maximum value of the period stored in memory the maximum value may be set to be the period of the output signal <b>118</b> and the updated maximum value may be stored in memory at step <b>258</b>. Analogously, if the period of the output signal <b>118</b> is less than the minimum value of the period stored in memory the minimum value may be set to be the period of the output signal <b>118</b> and the updated minimum value may be stored in memory at step <b>260</b>. The lighting controller <b>110</b> may then control an aspect of the light output from lighting devices <b>108</b> based on the period of the output signal (value of the interface of the dimmer) relative to the maximum and minimum values of the period at step <b>262</b>. For example, an aspect of the light output may be controlled based on the percentage that the period is between the minimum and maximum values. The minimum and maximum values of the period may also be considered to be a first and second extreme value of the interface as used hereinafter. To achieve a percentage value of an aspect of the light output to be controlled the following representative formula may be used:</p>
<p id="p-0117" num="0116">
<maths id="MATH-US-00009" num="00009">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>%</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.8em" height="0.8ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>Aspect</mi>
  </mrow>
  <mo>=</mo>
  <mfrac>
    <mrow>
      <mo>(</mo>
      <mrow>
        <mi>Period</mi>
        <mo>-</mo>
        <mi>MinimumPeriod</mi>
      </mrow>
      <mo>)</mo>
    </mrow>
    <mrow>
      <mo>(</mo>
      <mrow>
        <mi>MaximumPeriod</mi>
        <mo>-</mo>
        <mi>MinimumPeriod</mi>
      </mrow>
      <mo>)</mo>
    </mrow>
  </mfrac>
</mrow>
</math>
</maths>
</p>
<p id="p-0118" num="0117">Alternatively, other methods to control an aspect of the light output, such as the luminosity may also be used without departing from the scope of the invention. The lighting controller <b>110</b> may then proceed to determine the period of the output signal <b>118</b> to determine if the period has changed responsive to a change in the value of the interface at step <b>256</b> and repeat the steps <b>256</b>, <b>258</b>, <b>260</b>, and <b>262</b> in a loop during continued operation.</p>
<p id="p-0119" num="0118">Other embodiments of the invention may not utilize a calibration procedure or adaptive algorithm to account for the variation between various types of dimmers, including different implementations of TRIAC dimmers that may have a different range of resistance or impedance values. Instead, these embodiments may be designed to be suitable for use with a particular model of a dimmer having known properties. For example, one embodiment of the invention may be designed to be used with a particular TRIAC dimmer having known properties so that the minimum and maximum periods, or more generally the value of the interface, at the first and second extreme values of the interface of the dimmer are known and the lighting controller <b>110</b> may control an aspect of the light output based on the period of the output signal <b>118</b> relative to the known minimum and maximum periods.</p>
<p id="p-0120" num="0119">These embodiments may be suitable for use with a low cost lighting controller <b>110</b> that may have limited functionality, for example, the Lutron Skylark model number S-600H-WH-CSA. For example, certain lighting controllers <b>110</b> may have limited memory resources such that a minimum and maximum value of the interface of the dimmer <b>116</b> or period of the output signal <b>118</b> of the signal generation circuit <b>112</b> cannot be stored dynamically, but rather must be programmed into ROM as part of the manufacture of the lighting controller <b>110</b>. In one embodiment, the minimum and maximum periods of the output signal <b>118</b> for a particular dimmer <b>116</b> may be programmed during the manufacture of the lighting controller <b>110</b> so that the period of the output signal <b>118</b> may be properly interpreted by the lighting controller <b>110</b>, when used with the particular dimmer <b>116</b>, to control an aspect of the light output from the lighting devices <b>118</b> based at least in part on the period of the output signal, or the value of the interface of the dimmer <b>116</b>, relative to the maximum and minimum values of the period of the output signal <b>118</b> or the maximum and minimum values of the interface.</p>
<p id="p-0121" num="0120">In another embodiment of the invention illustrated in <figref idref="DRAWINGS">FIG. 10</figref>, a lighting controller <b>110</b> may be matched to a particular dimmer even though the lighting controller <b>110</b> has a predetermined maximum and minimum period that was not specifically calibrated for use with the particular dimmer. The signal generation circuit <b>112</b> (signal generator) and dimmer <b>116</b> may have the same functionality as described with reference to <figref idref="DRAWINGS">FIG. 3</figref>. This embodiment may also include an impedance matching circuit <b>315</b> so that the period of the output signal <b>118</b> when the signal generation circuit <b>112</b> is coupled to the dimmer <b>116</b> has a minimum and maximum period that is in close proximity to the predetermined minimum and maximum values that are programmed into the lighting controller <b>110</b>. In this manner, the lighting controller <b>110</b> may control an aspect of the light output, such as the luminosity (intensity) of the lighting devices <b>108</b>, based on the period of the output signal <b>118</b> relative to the maximum and minimum periods.</p>
<p id="p-0122" num="0121">The impedance matching circuit <b>315</b> may be comprised of a variable resistor <b>307</b> connected in series with node N<b>1</b> of the dimmer <b>116</b> and a variable resistor <b>313</b> connected in parallel between node N<b>1</b> of the dimmer <b>116</b> and node N<b>2</b>. Although adjustments to the impedance of both variable resistors <b>307</b> and <b>313</b> affect the period of the output signal <b>118</b>, adjusting variable resistor <b>307</b> may be considered to primarily change the absolute value of the period of the output signal <b>118</b>. Conversely, adjustments to variable resistor <b>313</b> may be considered to primarily change the difference between the maximum and minimum values of the period of the output signal <b>118</b>. Alternatively, certain embodiments of the impedance matching circuit <b>315</b> may only include variable resistor <b>307</b> and not variable resistor <b>313</b>, but may lack the range of adjustment when compared to an impedance matching circuit <b>315</b> having multiple variable resistors as described above. In a further alternative, impedance matching circuit <b>315</b> may be implemented using transresistance or transimpedance amplifiers instead of variable resistors and may generally be considered to be comprised of elements having variable impedances that may be adjusted as required in the particular implementation.</p>
<p id="p-0123" num="0122">Certain embodiments of lighting apparatus <b>102</b> may also include a frequency compensation circuit <b>317</b> that may be coupled between the signal generation circuit <b>112</b> and dimmer <b>116</b> as shown in <figref idref="DRAWINGS">FIG. 11</figref>. The signal generator <b>112</b> and dimmer <b>116</b> may have the same functionality as previously described with reference to <figref idref="DRAWINGS">FIG. 3</figref>. The frequency compensation circuit <b>317</b> may comprise a resistor <b>309</b> in series with a capacitor <b>311</b> coupled between nodes N<b>1</b> and N<b>2</b> of dimmer <b>116</b>. The resistor <b>309</b> may be chosen to be a large resistance, for example, 1 M&#x3a9;, and the capacitor <b>311</b> may be chosen to be, for example, 1 mF, for use with many TRIAC dimmers. Other values of the resistor <b>309</b> and capacitor <b>311</b> may be required for use with certain implementations of dimmer <b>116</b>. The frequency compensation circuit <b>317</b> may act to prevent a runaway frequency of the output signal <b>118</b> when the signal generation circuit <b>112</b> is disconnected from the dimmer <b>116</b> to increase the stability of the lighting apparatus <b>102</b>.</p>
<p id="p-0124" num="0123"><figref idref="DRAWINGS">FIG. 12</figref> depicts another embodiment of lighting apparatus <b>102</b> that is similar in functionality to that previously described in <figref idref="DRAWINGS">FIG. 1B</figref>, so like components may be assumed to have like functionality. In addition to the components previously described, the embodiment in <figref idref="DRAWINGS">FIG. 12</figref> may include an optical coupler <b>111</b> that may be coupled between the lighting controller <b>110</b> and signal generator <b>112</b> and powered by the AC/DC converter <b>114</b>. The optical coupler <b>111</b> may be comprised of a photodiode and infrared emitter, as is known in the art, and provide isolation between the signal generator <b>112</b> and lighting controller <b>110</b>. Additionally, the signal generator may be isolated electrically from the AC/DC converter by means of a second transformer winding, or even an LED based optical power coupling system using a small solar panel and LED since the current required is minimal. Providing isolation between the signal generator <b>112</b> and lighting controller <b>110</b> may improve performance in certain embodiments where common mode currents are present and may impact the reliability of the lighting apparatus <b>102</b>.</p>
<p id="p-0125" num="0124">Another embodiment of the lighting apparatus <b>102</b> is depicted in part in <figref idref="DRAWINGS">FIG. 13A</figref>. Generally, this embodiment may be considered to use an astable multivibrator to implement a signal generation circuit <b>805</b> in place of the circuit described previously with reference to <figref idref="DRAWINGS">FIG. 3</figref>. This embodiment may have a dimmer <b>116</b> coupled to a signal generation circuit <b>805</b> that may be implemented as an astable multivibrator, which is well known in the art, operable to generate an output signal <b>807</b>. The output signal <b>807</b> may have a period that is dictated at least in part by the value of the interface of the dimmer <b>116</b>. The output signal <b>807</b> may be received by a lighting controller <b>110</b> that may control an aspect of the light output from the lighting devices <b>108</b> as previously described.</p>
<p id="p-0126" num="0125">The astable multivibrator used to implement one embodiment of signal generation circuit <b>805</b> may comprise transistors <b>814</b> and <b>822</b> that may be npn bipolar junction transistors (BJT). The astable multivibrator may also include resistors <b>808</b>, <b>810</b>, <b>816</b>, and <b>818</b> and capacitors <b>812</b> and <b>820</b> that may be connected as illustrated in <figref idref="DRAWINGS">FIG. 13A</figref> and may have the following component values, in one particular implementation:</p>
<p id="p-0127" num="0126">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="42pt" align="left"/>
<colspec colname="1" colwidth="42pt" align="center"/>
<colspec colname="2" colwidth="133pt" align="center"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry/>
<entry>Component</entry>
<entry>Value</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="offset" colwidth="42pt" align="left"/>
<colspec colname="1" colwidth="42pt" align="center"/>
<colspec colname="2" colwidth="63pt" align="right"/>
<colspec colname="3" colwidth="70pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>Resistor 808</entry>
<entry>500</entry>
<entry>k&#x3a9;</entry>
</row>
<row>
<entry/>
<entry>Resistor 810</entry>
<entry>1</entry>
<entry>M&#x3a9;</entry>
</row>
<row>
<entry/>
<entry>Capacitor 812</entry>
<entry>10</entry>
<entry>nF</entry>
</row>
<row>
<entry/>
<entry>Resistor 816</entry>
<entry>1</entry>
<entry>M&#x3a9;</entry>
</row>
<row>
<entry/>
<entry>Resistor 818</entry>
<entry>500</entry>
<entry>k&#x3a9;</entry>
</row>
<row>
<entry/>
<entry>Capacitor 820</entry>
<entry>10</entry>
<entry>Nf</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="3" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0128" num="0127">The lighting apparatus <b>102</b> may also be constructed using a variable voltage signal generation circuit <b>800</b> that is illustrated in <figref idref="DRAWINGS">FIGS. 13B-13D</figref>. For example, as shown in <figref idref="DRAWINGS">FIG. 13B</figref>, a variable voltage signal generation circuit <b>800</b> may be coupled to a dimmer <b>116</b>, which may be a TRIAC dimmer, and may have an output signal <b>834</b> that may have a voltage that is dictated at least in part by the value of the interface of the dimmer <b>116</b> and may vary as the value of the interface is adjusted. The output signal <b>834</b> may be received by a driving circuit <b>870</b> that is operable to control an aspect of the light output from lighting devices <b>108</b> based on the voltage of the output signal <b>834</b>. More specifically, the driving circuit <b>870</b> may operate to supply a PWM signal to the lighting devices <b>108</b> having a duty cycle that is dictated at least in part by the voltage of the output signal <b>834</b>. The driving circuit <b>870</b> may be implemented as a lighting controller <b>880</b> as shown in <figref idref="DRAWINGS">FIG. 13C</figref>, a monostable multivibrator <b>850</b> as described below in greater detail with reference to <figref idref="DRAWINGS">FIG. 14</figref>, or as a circuit using a 555 timer operating in a monostable vibratory oscillation mode as described below in greater detail with reference to <figref idref="DRAWINGS">FIG. 15B</figref>. In embodiments where the driving circuit <b>870</b> is implemented as a lighting controller <b>880</b>, a constant current signal could be supplied to the lighting devices <b>108</b>, with the current being dictated at least in part by the voltage of the output signal <b>834</b>. The fact that the variable voltage signal generation circuit <b>800</b> is operable to provide a variable voltage output may be advantageous as it may allow the variable voltage signal generation circuit <b>800</b> to be used with existing lighting controllers that have been designed for use with 0-10V dimmers currently on the market allowing TRIAC dimmers to be used in place of 0-10V dimmers. This may allow existing lighting systems to be more readily modified for use with the variable voltage signal generation circuit <b>800</b> and more generally for use with a TRIAC dimmer.</p>
<p id="p-0129" num="0128">One particular embodiment of a variable voltage signal generation circuit <b>800</b> is illustrated in <figref idref="DRAWINGS">FIG. 13D</figref>. The dimmer <b>116</b> may have an interface as previously described and may be a TRIAC dimmer, although other types of dimmers may be used in certain embodiments. The dimmer <b>116</b> may be coupled to a resistor <b>802</b> that is coupled to a DC power supply V<sub>DD </sub>at a power supply node <b>804</b>. The output node <b>806</b> of the dimmer <b>116</b> may be coupled to a signal generation circuit <b>801</b>. The signal generation circuit <b>801</b> may be operable to generate a periodic signal <b>823</b> having a period that may be dictated at least in part by the value of the interface of the dimmer <b>116</b>. A voltage conversion circuit, such as the filter <b>803</b>, may be coupled to the signal generation circuit <b>801</b> to receive the periodic signal <b>823</b> and generate an output signal <b>834</b>. The output signal <b>834</b> generated by the voltage conversion circuit, for example, the filter <b>803</b> may have a voltage that is dictated at least in part by the period of the periodic signal <b>823</b> so that the voltage of the output signal <b>834</b> is dictated at least in part by the value of the interface of the dimmer <b>116</b>. The filter <b>803</b> may be, for example, a low pass filter although other types of filters may be used.</p>
<p id="p-0130" num="0129">Alternatively, the voltage conversion circuit may be implemented in another configuration that may generate an output signal having a voltage that is dependent on the frequency of the input signal without departing from the scope of the invention. For example, the voltage conversion circuit may be implemented as a microcontroller operable to receive the periodic signal <b>823</b> and generate an output signal <b>834</b> having a voltage that is dictated at least in part by the value of the interface of the dimmer <b>116</b>. Additionally, the signal generation circuit <b>801</b> shown in <figref idref="DRAWINGS">FIG. 13D</figref> may be implemented using a 555 timer in an astable vibratory oscillation mode, similar to that described with reference to <figref idref="DRAWINGS">FIG. 3</figref>, in place of an astable multivibrator and may be used with either a microcontroller or filter <b>803</b> with suitable modification to generate an output signal <b>834</b> having a voltage that is dependent on the value of the interface of the dimmer <b>116</b>.</p>
<p id="p-0131" num="0130">The signal generation circuit <b>801</b> may be implemented as an astable multivibrator, similar to that described above with reference to <figref idref="DRAWINGS">FIG. 13A</figref>.</p>
<p id="p-0132" num="0131">An embodiment of the filter <b>803</b> may have a variable resistor <b>824</b> coupled in series to the output of the signal generation circuit <b>801</b>. The value of the variable resistor <b>824</b> may vary depending on the particular dimmer <b>116</b> that may be coupled to the variable voltage signal generation circuit <b>800</b> and may be, for example, 100 k&#x3a9;. The variable resistor <b>824</b> may be coupled to the base of an npn BJT <b>828</b> and a capacitor <b>826</b> that may be coupled in parallel with the BJT <b>828</b> and coupled to ground at one terminal. The emitter of the BJT <b>828</b> may be coupled to ground and the collector may be coupled to a resistor <b>830</b> and capacitor <b>832</b> connected in parallel to a DC supply voltage V<sub>DD</sub>. The output signal <b>834</b> may also be taken from the node common to the collector of BJT <b>828</b> and the resistor <b>830</b> and capacitor <b>832</b>. The component values in one particular implementation may be as follows: capacitor <b>826</b>&#x2014;0.67 nF; resistor <b>830</b>&#x2014;100 k&#x3a9;; and capacitor <b>832</b>&#x2014;1 nF.</p>
<p id="p-0133" num="0132">One implementation of a driving circuit <b>870</b>, that does not employ a microcontroller, which may reduce costs, is illustrated in <figref idref="DRAWINGS">FIG. 14</figref>. As noted above, the driving circuit <b>870</b> may operate to generate a PWM signal to be supplied to the lighting devices <b>108</b> having a duty cycle that may be adjusted to control an aspect of the light output from the lighting devices. For example, the duty cycle of the PWM signal may be dictated at least in part by the voltage of the output signal <b>834</b> received from a variable voltage signal generation circuit <b>800</b>. In one embodiment, the driving circuit <b>870</b> may include an astable multivibrator <b>827</b> as configured in <figref idref="DRAWINGS">FIG. 14</figref> that is operable to generate a periodic signal <b>825</b>. The component values used in the astable multivibrator <b>827</b> may vary depending on the particular application, however, the component values of a sample implementation may be as follows:</p>
<p id="p-0134" num="0133">
<tables id="TABLE-US-00002" num="00002">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="42pt" align="left"/>
<colspec colname="1" colwidth="42pt" align="center"/>
<colspec colname="2" colwidth="133pt" align="center"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry/>
<entry>Component</entry>
<entry>Value</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="offset" colwidth="42pt" align="left"/>
<colspec colname="1" colwidth="42pt" align="center"/>
<colspec colname="2" colwidth="63pt" align="right"/>
<colspec colname="3" colwidth="70pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>Resistor 809</entry>
<entry>10</entry>
<entry>k&#x3a9;</entry>
</row>
<row>
<entry/>
<entry>Resistor 811</entry>
<entry>1</entry>
<entry>M&#x3a9;</entry>
</row>
<row>
<entry/>
<entry>Capacitor 813</entry>
<entry>3</entry>
<entry>nF</entry>
</row>
<row>
<entry/>
<entry>Resistor 817</entry>
<entry>1</entry>
<entry>M&#x3a9;</entry>
</row>
<row>
<entry/>
<entry>Resistor 819</entry>
<entry>10</entry>
<entry>k&#x3a9;</entry>
</row>
<row>
<entry/>
<entry>Capacitor 821</entry>
<entry>100</entry>
<entry>pF</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="3" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0135" num="0134">Alternatively, a circuit employing a 555 timer operating in an astable vibratory oscillation mode may be used in place of the astable multivibrator <b>827</b> in certain embodiments as will be described with reference to <figref idref="DRAWINGS">FIG. 15B</figref>.</p>
<p id="p-0136" num="0135">A resistor <b>886</b> may be coupled in series between the output of the astable multivibrator <b>827</b> and an amplifier <b>884</b> with the amplifier <b>884</b> coupled to receive the periodic signal <b>825</b>. The amplifier <b>884</b> may comprise a pnp BJT <b>880</b>, with the base of BJT <b>880</b> being coupled to the resistor <b>886</b>. The emitter of the BJT <b>880</b> may be coupled to a resistor <b>888</b>, with the resistor <b>888</b> also being coupled to a DC power supply V<sub>DD</sub>. The collector of BJT <b>880</b> may be coupled to the base of a npn BJT <b>882</b>. The emitter of BJT <b>882</b> may be coupled to ground and the collector may be coupled to a node N<b>10</b>. The amplifier <b>884</b> may be operable to provide isolation to the astable multivibrator <b>827</b> and generate an amplified version of the periodic signal <b>825</b>.</p>
<p id="p-0137" num="0136">The input to a monostable multivibrator <b>850</b> may also be coupled to node N<b>10</b> to receive the amplified version of the periodic signal <b>825</b>. The monostable multivibrator <b>850</b> may have a npn BJT <b>836</b> having its base coupled to node N<b>10</b>. The emitter of BJT <b>836</b> may be coupled to ground and the collector may be coupled to a resistor <b>838</b> that may be coupled to the DC power supply V<sub>DD</sub>. A resistor <b>842</b> may also be coupled between the collector of BJT <b>836</b> and a node N<b>11</b>. A resistor <b>840</b> may also be coupled between the DC power supply V<sub>DD </sub>and node N<b>11</b>. A resistor <b>844</b> may be coupled between node N<b>11</b> and ground. The base of a npn BJT <b>848</b> may be coupled to node N<b>11</b>. The emitter of BJT <b>848</b> may be coupled to ground and a resistor <b>846</b> may be coupled between the collector of BJT <b>848</b> and the DC power supply V<sub>DD</sub>. The collector of BJT <b>848</b> may also be coupled to a capacitor <b>852</b>, with the capacitor <b>852</b> also being coupled to node N<b>10</b>. A driving signal <b>860</b> may be generated by the monostable multivibrator <b>850</b> and output via a line coupled to the collector of BJT <b>836</b>. The driving signal <b>860</b> may be coupled to the lighting devices <b>108</b> to provide a current to provide a light output from the lighting devices <b>108</b>.</p>
<p id="p-0138" num="0137">Alternatively, a circuit employing a 555 timer operating in a monostable vibratory oscillation mode may be operable to receive the amplified version of the periodic signal <b>825</b> and generate a driving signal <b>860</b> in a similar fashion to the monostable multivibrator <b>850</b> described above.</p>
<p id="p-0139" num="0138">A variable voltage dimmer <b>854</b> may also be coupled to the driving circuit <b>870</b> at node N<b>10</b>. The variable voltage dimmer <b>854</b> may also be coupled to a resistor <b>856</b> that may be coupled to a DC power supply V<sub>DD</sub>. The variable voltage dimmer <b>854</b> may provide a control signal (not shown) to node N<b>10</b> having a voltage that is representative of the value of the interface of the variable voltage dimmer <b>854</b> and varies depending on the value of said interface. The output signal <b>860</b> may vary depending on the voltage of the control signal provided to node N<b>10</b> by the variable voltage dimmer <b>854</b> so that the driving signal <b>860</b> is dictated at least in part by the value of the interface of the variable voltage dimmer <b>854</b>. More specifically, the driving signal <b>860</b> may be a pulse width modulated (PWM) signal having a duty cycle that is dependent on the voltage of the control signal so that an aspect of the light output from the lighting devices, for example, the luminosity, may be controlled by the duty cycle of the driving signal <b>860</b>.</p>
<p id="p-0140" num="0139">The variable voltage dimmer <b>854</b> may be implemented as a variable voltage signal generation circuit <b>800</b>, as described with reference to <figref idref="DRAWINGS">FIGS. 13B-13D</figref>, that may be configured to have the output signal <b>834</b> coupled to node N<b>10</b> so that the duty cycle of the driving signal <b>860</b>, which may be a PWM signal, is dictated at least in part by the voltage of the output signal <b>834</b>. This particular configuration may be a low cost implementation that facilitates that use of a TRIAC dimmer. Alternatively, a commercially available 0-10V dimmer, which may be implemented as a potentiometer and diode in series, may be used to implement a variable voltage dimmer <b>854</b> in certain embodiments. Of course, other analogous circuits could be used to provide a similar functionality without departing from the scope of the invention and the circuit described above is merely a representative example of a possible implementation. For example, other possible implementations of a variable voltage signal generation circuit, driving circuit, etc. may be used without departing from the scope of the invention.</p>
<p id="p-0141" num="0140">Other possible embodiments of a lighting apparatus that do not employ a lighting controller <b>110</b> may also be used with a dimmer <b>116</b>, which may be a TRIAC dimmer, without departing from the scope of the invention. For example, lighting apparatus <b>900</b> illustrated in <figref idref="DRAWINGS">FIG. 15A</figref> may be implemented using two 555 timers or circuits having similar functionality. The 555 timers <b>902</b> and <b>904</b> may have the same terminal numbering and functionality as described previously with respect to component <b>302</b>, illustrated in <figref idref="DRAWINGS">FIG. 3</figref>. Similarly, components with element numbers previously used may have similar functionality to that previously described, including the dimmer <b>116</b> and the lighting devices <b>108</b>.</p>
<p id="p-0142" num="0141">Lighting apparatus <b>900</b> may have a capacitor <b>912</b> coupled between a DC power supply V<sub>DD </sub>and ground. In parallel with the capacitor <b>912</b>, a resistor <b>906</b> may be connected in series with a variable resistor <b>902</b> between the DC power supply V<sub>DD </sub>and node N<b>91</b>. A resistor <b>910</b> may be coupled between node N<b>91</b> and node N<b>92</b>.</p>
<p id="p-0143" num="0142">A dimmer <b>116</b> may have a connection node coupled to node N<b>92</b> and a line <b>930</b> coupled to ground. A 555 timer <b>902</b> may have terminal <b>7</b> (discharge) coupled to node N<b>91</b>. Terminals <b>4</b> (reset) and <b>8</b> of the 555 timer <b>902</b> may be coupled to the DC power supply V<sub>DD</sub>. Terminals <b>2</b> (trigger) and <b>6</b> (threshold) of the 555 timer <b>902</b> may be coupled to node N<b>92</b> so that an indication of the value of the interface of the dimmer <b>116</b> may be provided to the 555 timer <b>902</b>. Terminal <b>1</b> of the 555 timer <b>902</b> may be coupled to ground and terminal <b>5</b> (control voltage) may be coupled to a capacitor <b>914</b>, which is in turn coupled to ground. The output terminal, terminal <b>3</b>, of the 555 timer <b>902</b> may be coupled to terminal <b>2</b> (trigger) of a second 555 timer, 555 timer <b>904</b>.</p>
<p id="p-0144" num="0143">Resistor <b>918</b> may be coupled in series with a variable resistor <b>920</b> between the DC power supply V<sub>DD </sub>and node N<b>93</b>. A capacitor <b>916</b> may be coupled between node N<b>93</b> and ground. Terminals <b>6</b> (threshold) and <b>7</b> (discharge) of the 555 timer <b>904</b> may also be coupled to node N<b>93</b>. Terminals <b>4</b> (reset) and <b>8</b> of the 555 timer <b>904</b> may be coupled to the DC power supply V<sub>DD</sub>. Terminal <b>1</b> of the 555 timer <b>904</b> may be coupled to ground and terminal <b>5</b> (control voltage) may be coupled to a capacitor <b>922</b>, which is in turn coupled to ground. The output terminal, terminal <b>3</b>, of the 555 timer <b>904</b> may be coupled to a resistor <b>924</b>, the resistor <b>924</b> may also be coupled to the base of a transistor <b>926</b>, which may be a npn BJT. The emitter of the transistor <b>926</b> may be coupled to ground and the collector of the transistor may be coupled to the lighting devices <b>108</b>, which may also be coupled to the DC power supply V<sub>DD</sub>. In this configuration, the output signal provided from 555 timer <b>904</b> may be used to modulate the current that may flow from the DC power supply V<sub>DD </sub>through the lighting devices <b>108</b> by modulating the current that flows through transistor <b>926</b>. More specifically, a PWM signal may be supplied to the lighting devices <b>108</b> having a duty cycle that is dictated at least in part by the value of the dimmer <b>116</b> so that an aspect of the light output from the lighting devices <b>108</b> may be controlled by adjusting the duty cycle of the PWM signal responsive to changes to the interface of the dimmer <b>116</b>. Alternatively, other configurations including different types of transistors may be used without departing from the scope of the invention according to well known principles. Generally, the component values for elements shown in <figref idref="DRAWINGS">FIG. 15A</figref> should be chosen so that the 555 timer <b>902</b> operates in an astable vibrator oscillation mode and the 555 timer <b>904</b> operates in a monostable vibrator oscillation mode. More specifically, the component values for elements shown in <figref idref="DRAWINGS">FIG. 15A</figref> should be chosen to allow the frequency of the 555 timer <b>902</b>, which may act similarly to an astable multivibrator, to change between two values based on the TRIAC dimmer such that the first value is a maximum period and the second value is a minimum period. Similarly, components should be chosen to ensure that the decay time of the 555 timer <b>904</b>, which may act similar to a monostable multivibrator, is equal to the minimum period, so that the output during the minimum period is always on, and the inverted output is an LED that is always off. The maximum pulse width on for the lighting devices will occur during the maximum period of the astable multivibrator, which may be a duty cycle of approximately 50%.</p>
<p id="p-0145" num="0144">Additionally, other circuit elements may be used in place of the 555 timers noted above to provide a similar functionality without departing from the scope of the invention. For example, an astable multivibrator may be used in place of the 555 timer <b>902</b> and accompanying components in certain embodiments to generate a periodic signal having a period that is based at least in part on the value of the interface of the dimmer <b>116</b>. Similarly, a monostable multivibrator could be used in place of the 555 timer <b>904</b> and accompanying circuit in certain embodiments. A microcontroller may also be used in place of the 555 timer <b>904</b> in some embodiments. The alternatives noted above may also be combined in different ways and the alternatives noted should be considered functional substitutes that may be interchanged with suitable modification as known to persons skilled in the art.</p>
<p id="p-0146" num="0145">Another embodiment of a lighting apparatus <b>970</b> that may be used with a variable voltage dimmer <b>854</b> is illustrated in <figref idref="DRAWINGS">FIG. 15B</figref> with like components having like functionality to that described above with reference to <figref idref="DRAWINGS">FIG. 15A</figref>. The variable voltage dimmer <b>854</b> may be implemented as a variable voltage signal generation circuit <b>800</b> coupled to a dimmer <b>116</b>, that may be a TRIAC dimmer, as described above with reference to <figref idref="DRAWINGS">FIGS. 13B-13D</figref>. Alternatively, the variable voltage dimmer <b>854</b> may be implemented as a commercially available 0-10V dimmer in other embodiments. The circuit disclosed in <figref idref="DRAWINGS">FIG. 15B</figref> may function as a driving circuit operable to generate a PWM signal that may be supplied to the lighting devices <b>108</b> having a duty cycle that is dictated at least partially by the voltage output from the variable voltage dimmer <b>854</b>. In this manner, the voltage output from the variable voltage dimmer <b>854</b>, for example, the output signal <b>834</b> when the variable voltage dimmer <b>854</b> is implemented using the variable voltage signal generation circuit <b>800</b> shown in <figref idref="DRAWINGS">FIG. 13D</figref>, may be used to control an aspect of the light output (e.g. the intensity) from the lighting apparatus <b>970</b>.</p>
<p id="p-0147" num="0146">Within <figref idref="DRAWINGS">FIG. 15B</figref>, the 555 timers may be connected in a similar manner to that described above with reference to <figref idref="DRAWINGS">FIG. 15A</figref> except the dimmer <b>116</b> is not present and terminals <b>2</b> and <b>6</b> of the 555 timer <b>902</b> and resistor <b>910</b> are coupled to ground instead of to the dimmer <b>116</b>. A resistor <b>918</b> may be coupled in series with a variable voltage dimmer <b>854</b> coupled between the DC power supply V<sub>DD </sub>and a node N<b>93</b>. The 555 timer <b>904</b> may be configured and otherwise operate as described above with reference to <figref idref="DRAWINGS">FIG. 15A</figref> but generate an output signal that is dictated at least in part by the voltage provided to node N<b>93</b> by the variable voltage dimmer <b>854</b> so that an aspect of the light output from the lighting devices <b>108</b> may be controlled by the variable voltage dimmer <b>854</b>. Moreover, the 555 timer <b>902</b> may alternatively be implemented as an astable multivibrator. The 555 timer <b>904</b> may be implemented as a monostable multivibrator with suitable modifications in certain embodiments. Various combinations of these implementations may also be used without departing from the scope of the invention.</p>
<p id="p-0148" num="0147">Lighting apparatus <b>1000</b> may have an alternative power supply architecture to provide a source of power to the lighting controller <b>110</b> and signal generator <b>112</b> as illustrated in <figref idref="DRAWINGS">FIG. 16</figref>. The lighting controller <b>110</b>, signal generator <b>112</b>, and dimmer <b>116</b> may be coupled together and operate as previously described but be provided with a source of power in a different manner. Power supply <b>1002</b> may be a DC power supply and may be coupled between the lighting devices <b>108</b> and a reference ground GND. The lighting devices <b>108</b> may be a plurality of LEDs that may be coupled together in various combinations. The lighting devices <b>108</b> may be coupled to a switching element <b>1004</b> that may be controlled by the lighting controller <b>110</b>. The switching element <b>1004</b> may be implemented as a transistor or a plurality of transistor and may operate under the control of the lighting controller <b>110</b> to provide a PWM signal through the lighting devices <b>108</b>. The switching element <b>1004</b> may also be coupled in series to a diode <b>1006</b> and regulator <b>1008</b> that may be coupled between the switching element <b>1004</b> and a reference ground GND. The regulator <b>1008</b> may also have an output that may be coupled to the lighting controller <b>110</b> and signal generator <b>112</b> to provide a source of DC power to the lighting controller <b>110</b> and signal generator <b>112</b>. A capacitor <b>1010</b> may also be coupled between the output of the regulator <b>1008</b> and ground. In one particular implementation, the switching element <b>1004</b> may be a MOSFET transistor, such as the FDN337N transistor manufactured by Fairchild Semiconductor. Similarly, the regulator <b>1008</b> may be a 5 volt regulator; the diode <b>1006</b> may be a 1N4148 diode manufactured by NXP semiconductor; and the capacitor <b>1010</b> may be a 1 mF capacitor. Other component values may be used in other implementations without departing from the scope of the invention.</p>
<p id="p-0149" num="0148">In other embodiments of the invention, different configurations may also be used to provide a source of DC power to the lighting controller <b>110</b> and signal generation circuit <b>112</b> without departing from the scope of the invention.</p>
<p id="p-0150" num="0149">Certain other embodiments of the invention may include more than one control apparatus <b>104</b> to control different aspects of the light output from the lighting devices <b>108</b> (light radiating element) as noted above. For example, lighting apparatus <b>1100</b> as shown in <figref idref="DRAWINGS">FIG. 17</figref> incorporates a control apparatus <b>104</b><i>a </i>comprising a dimmer <b>116</b><i>a </i>and a control apparatus <b>104</b><i>b </i>comprising a dimmer <b>116</b><i>b</i>. Each of control apparatus <b>104</b><i>a </i>and <b>104</b><i>b </i>may be connected to a signal generator <b>112</b><i>a </i>and <b>112</b><i>b </i>via lines <b>120</b><i>a</i>, <b>122</b><i>a </i>and <b>120</b><i>b</i>, <b>122</b><i>b </i>respectively. The signal generators <b>112</b><i>a </i>and <b>112</b><i>b </i>may be operable to generate output signals <b>118</b><i>a </i>and <b>118</b><i>b </i>respectively and to provide these output signals to a lighting controller <b>110</b>. The dimmers <b>116</b><i>a </i>and <b>116</b><i>b </i>and signal generators <b>112</b><i>a </i>and <b>112</b><i>b </i>may operate as described previously with like numbers having similar functionality so that the output signals <b>118</b><i>a </i>and <b>118</b><i>b </i>may have periods that are representative of the values of the interfaces of the dimmers <b>116</b><i>a </i>and <b>116</b><i>b </i>respectively. The power supplied architecture has been omitted from <figref idref="DRAWINGS">FIG. 17</figref> for simplicity but may be implemented in a similar manner to that shown in <figref idref="DRAWINGS">FIG. 1B</figref>.</p>
<p id="p-0151" num="0150">The lighting controller <b>110</b> may control one aspect of the light output from the lighting devices <b>108</b> (light radiating element), for example the intensity, based on the period of the output signal <b>118</b><i>a</i>. The lighting controller <b>110</b> may control another aspect of the light output from the lighting devices <b>108</b> (light radiating element), for example the color temperature, based on the period of the output signal <b>118</b><i>b</i>. More specifically, in one embodiment where the lighting devices <b>108</b> are LEDs, the lighting controller may set the relative intensity of at least one LED set having LEDs of a first wavelength to a first value and/or set the relative intensity of at least one other LED set having LEDs of a second wavelength to a second value to set the color temperature of the light output from the lighting devices <b>108</b> (light radiating element). Likewise, to set the intensity of the light output from the lighting devices <b>108</b> (light radiating element), the lighting controller <b>110</b> may set the intensity of light emitted from all LED sets. In certain embodiments, the lighting controller <b>110</b> may change the duty cycle of a PWM signal supplied to each LED sets to increase or decrease the intensity of the light emitted from the particular LED set to alter the light output from the lighting apparatus <b>1100</b>.</p>
<p id="p-0152" num="0151">Alternatively, a control apparatus <b>104</b> may have multiple dimmers that may or may not be connected to separate signal generation circuits depending on the particular implementation. Additionally, more than two control apparatus or a control apparatus having more than two dimmers may be employed in certain embodiments of the invention used with a lighting controller <b>110</b> that is operable to control more than two aspects of the light output from the lighting devices.</p>
<p id="p-0153" num="0152">The present invention described above is focused on the control of a lighting apparatus. It should be understood that the use of a TRIAC dimmer as described could be used to control other devices and is not limited to lighting apparatus. For instance, the output signal <b>118</b> of <figref idref="DRAWINGS">FIG. 3</figref> could be used to control an aspect of a apparatus (machine, device, network, etc.) that performs non-lighting functionality. In particular examples, the output signal of <figref idref="DRAWINGS">FIG. 3</figref> could be used to control: the operational speed of an apparatus (ex. a fan, sewing machine, assembly line conveyer belt, assembly line machine, timer, air conditioner etc.); the audio volume on of an apparatus (ex. television, stereo, radio, public announcement system, etc.); the temperature within a location (ex. a building, room or apparatus (ex. fridge)); the frequency of an apparatus (ex. strobe light, fan, audio apparatus) and/or the position of an apparatus (ex. factory assembly line machine, construction apparatus, window coverings, position/angle of an antenna etc.).</p>
<p id="p-0154" num="0153">Although the above description described the signal generator <b>112</b> as a separate element from the lighting controller <b>110</b>, it should be understood that the signal generator <b>112</b> or a portion thereof could be integrated within the lighting controller <b>110</b>. For example, the component <b>302</b> within the signal generator <b>112</b> could be integrated within the lighting controller <b>110</b>. In one particular case, an ASIC chip could be used to integrate different aspects of the system together. In another case, software within a microcontroller or other component could be used to implement the functionality of the signal generator or a portion thereof within the lighting controller <b>110</b>.</p>
<p id="p-0155" num="0154">Although various embodiments of the present invention have been described and illustrated, it will be apparent to those skilled in the art that numerous modifications and variations can be made without departing from the scope of the invention, which is defined in the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08624523-20140107-M00001.NB">
<img id="EMI-M00001" he="6.35mm" wi="76.20mm" file="US08624523-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08624523-20140107-M00002.NB">
<img id="EMI-M00002" he="6.35mm" wi="76.20mm" file="US08624523-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08624523-20140107-M00003.NB">
<img id="EMI-M00003" he="6.35mm" wi="76.20mm" file="US08624523-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08624523-20140107-M00004.NB">
<img id="EMI-M00004" he="6.35mm" wi="76.20mm" file="US08624523-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US08624523-20140107-M00005.NB">
<img id="EMI-M00005" he="6.35mm" wi="76.20mm" file="US08624523-20140107-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00006" nb-file="US08624523-20140107-M00006.NB">
<img id="EMI-M00006" he="6.35mm" wi="76.20mm" file="US08624523-20140107-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00007" nb-file="US08624523-20140107-M00007.NB">
<img id="EMI-M00007" he="6.35mm" wi="76.20mm" file="US08624523-20140107-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00008" nb-file="US08624523-20140107-M00008.NB">
<img id="EMI-M00008" he="6.35mm" wi="76.20mm" file="US08624523-20140107-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00009" nb-file="US08624523-20140107-M00009.NB">
<img id="EMI-M00009" he="6.35mm" wi="76.20mm" file="US08624523-20140107-M00009.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A control apparatus adapted for use with a dimmer, the dimmer comprising a variable impedance and an interface operable to change the variable impedance, the variable impedance in series with a capacitor coupled between a connection node and a reference ground, the control apparatus comprising:
<claim-text>a signal generation circuit coupled to the dimmer at the connection node and operable to generate an output signal whose period is dictated at least in part by the impedance of the variable impedance;</claim-text>
<claim-text>a lighting controller operable:
<claim-text>to receive the output signal from the signal generation circuit;</claim-text>
<claim-text>detect a first period of the output signal when the interface of the dimmer is adjusted to a first extreme value by a user;</claim-text>
<claim-text>detect a second period of the output signal when the interface of the dimmer is adjusted to a second extreme value by a user; and</claim-text>
<claim-text>control an aspect of light output from a lighting apparatus based at least partially on the period of the output signal relative to the first and second periods.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The control apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the lighting controller is operable to control the aspect of light output so that the perceived change to the aspect of light output appears to vary approximately linearly with the period of the output signal relative to the first and second periods.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The control apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the lighting controller is operable to control the aspect of light output based on the percentage value that the output signal is between the first and second periods.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The control apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the dimmer is a TRIAC dimmer.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The control apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, the TRIAC dimmer further comprising integrated TRIAC circuitry in parallel with the variable impedance that is activated at a trigger voltage, wherein the voltage at the connection node is maintained below a trigger voltage for the TRIAC circuitry such that the TRIAC circuitry never activates.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The control apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the aspect of the light output comprises one of an intensity level, a color or a color temperature of the light output.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A control apparatus adapted for use with a dimmer comprising an interface, the interface being adjustable to a plurality of states, the control apparatus comprising:
<claim-text>a lighting controller adapted to receive an output signal having a period representative of the state of the interface of the dimmer and operable to:
<claim-text>determine a maximum value for the period of the output signal;</claim-text>
<claim-text>determine a minimum value for the period of the output signal; and</claim-text>
<claim-text>control an aspect of light output from a lighting apparatus based at least partially on a present value for the period of the output signal relative to the maximum and minimum values.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The control apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the lighting controller is operable to determine the maximum and minimum values in close proximity to the present value for the period of the output signal when the lighting controller is in a programming mode.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The control apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the lighting controller is operable to determine the maximum and minimum values in a programming mode.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The control apparatus of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the lighting controller is operable to enter a programming mode upon initialization.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The control apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the lighting controller is operable to detect if the present value for the period of the output signal is greater than the maximum value and, if so, to set the maximum value to the present value for the period of the output signal.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The control apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the lighting controller is operable to detect if the present value for the period of the output signal is less than the minimum value and, if so, to set the minimum value to the present value for the period of the output signal.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The control apparatus according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the lighting controller is operable to control the aspect of light output so that the perceived change to the aspect of light output appears to vary approximately linearly with the present value for the period of the output signal relative to the maximum and minimum values.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The control apparatus according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the lighting controller is operable to control the aspect of light output based on the percentage value that the present value for the period of the output signal is between the maximum and minimum values.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The control apparatus according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, further comprising a signal generation circuit operable to be coupled to the dimmer, the signal generation circuit operable to generate the output signal that is received by the lighting controller.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The control apparatus of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the dimmer comprises a variable impedance that is dependent on a present state of the interface, the variable impedance in series with a capacitor coupled between a connection node and a reference ground, and wherein the signal generation circuit is coupled to the dimmer at the connection node.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The control apparatus of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the period of the output signal generated by the signal generation circuit is dictated at least in part by the impedance of the variable impedance.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The control apparatus of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the dimmer is a TRIAC dimmer.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The control apparatus according to <claim-ref idref="CLM-00018">claim 18</claim-ref>, the TRIAC dimmer further comprising integrated TRIAC circuitry in parallel with the variable impedance that is activated at a trigger voltage, wherein the voltage at the connection node is maintained below a trigger voltage for the TRIAC circuitry such that the TRIAC circuitry never activates.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. A lighting apparatus incorporating the control apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, further comprising:
<claim-text>at least one LED; and</claim-text>
<claim-text>wherein the lighting controller is operable to cause a pulse width modulation signal to be supplied to the at least one LED, wherein a duty cycle of the pulse width modulation signal is based at least partially on the present value for the period of the output signal relative to the maximum and minimum values.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. A control apparatus for use with a dimmer, the dimmer comprising a variable impedance and an interface operable to change the variable impedance, the variable impedance in series with a capacitor coupled between a connection node and a reference ground, the control apparatus comprising:
<claim-text>a signal generation circuit coupled to an impedance matching circuit and operable to generate an output signal whose period is dictated at least in part by the impedance of the variable impedance of the dimmer;</claim-text>
<claim-text>the impedance matching circuit coupled between the connection node of the dimmer and the signal generation circuit, wherein the impedance matching circuit is calibrated to define a predetermined maximum period and a predetermined minimum period of the output signal; and</claim-text>
<claim-text>a lighting controller operable to receive the output signal and control an aspect of light output from a lighting apparatus based at least partially on the period of the output signal relative to the predetermined maximum and minimum periods.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The apparatus of <claim-ref idref="CLM-00021">claim 21</claim-ref>, the impedance matching circuit comprising a first variable impedance coupled between the connection node of the dimmer and the signal generation circuit.</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The apparatus of <claim-ref idref="CLM-00022">claim 22</claim-ref>, the impedance matching circuit further comprising a second variable impedance coupled between the connection node of the dimmer and the reference ground.</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. A lighting apparatus for use with a dimmer comprising an interface, the interface being adjustable to a plurality of states, the lighting apparatus comprising:
<claim-text>a light radiating element;</claim-text>
<claim-text>a lighting controller adapted to receive an output signal having a period representative of the state of the interface of the dimmer and operable to:
<claim-text>determine a maximum value for the period of the output signal;</claim-text>
<claim-text>determine a minimum value for the period of the output signal; and</claim-text>
<claim-text>control an aspect of light output for the light radiating element based at least partially on the present value for the period of the output signal relative to the maximum and minimum values.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The lighting apparatus according to <claim-ref idref="CLM-00024">claim 24</claim-ref> further comprising a signal generation circuit operable to be coupled to the dimmer, the signal generation circuit operable to generate the output signal that is received by the lighting controller.</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The lighting apparatus of <claim-ref idref="CLM-00024">claim 24</claim-ref>, the light radiating element comprising at least one LED. </claim-text>
</claim>
</claims>
</us-patent-grant>
