<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624984-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624984</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12448371</doc-number>
<date>20080219</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2007-038021</doc-number>
<date>20070219</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>652</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>5</main-group>
<subgroup>225</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>5</main-group>
<subgroup>76</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>3482071</main-classification>
<further-classification>3482311</further-classification>
</classification-national>
<invention-title id="d2e71">Electronic camera</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6580460</doc-number>
<kind>B1</kind>
<name>Takahashi et al.</name>
<date>20030600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348372</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7315323</doc-number>
<kind>B2</kind>
<name>Ito</name>
<date>20080100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>3482071</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7495690</doc-number>
<kind>B2</kind>
<name>Fujimura</name>
<date>20090200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>3482072</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>7605849</doc-number>
<kind>B1</kind>
<name>Hatanaka</name>
<date>20091000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>3482312</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7764308</doc-number>
<kind>B2</kind>
<name>Kusaka et al.</name>
<date>20100700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2002/0158863</doc-number>
<kind>A1</kind>
<name>Huh et al.</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345211</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2002/0191079</doc-number>
<kind>A1</kind>
<name>Kobayashi et al.</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>3482071</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2003/0012566</doc-number>
<kind>A1</kind>
<name>Kindaichi</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>396 56</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2003/0030412</doc-number>
<kind>A1</kind>
<name>Matsuda et al.</name>
<date>20030200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>320127</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2004/0257464</doc-number>
<kind>A1</kind>
<name>Pandit et al.</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348373</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2005/0057683</doc-number>
<kind>A1</kind>
<name>Terane</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348372</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2005/0088528</doc-number>
<kind>A1</kind>
<name>Sambongi et al.</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>34820711</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2005/0200335</doc-number>
<kind>A1</kind>
<name>Yano</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>320137</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2006/0184705</doc-number>
<kind>A1</kind>
<name>Nakajima</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>710303</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2007/0070240</doc-number>
<kind>A1</kind>
<name>Oya</name>
<date>20070300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348375</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>2007/0109420</doc-number>
<kind>A1</kind>
<name>Takeshi</name>
<date>20070500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>34821199</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>2008/0074501</doc-number>
<kind>A1</kind>
<name>Matsushima</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>34820711</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>JP</country>
<doc-number>A 2000-232599</doc-number>
<date>20000800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>JP</country>
<doc-number>A 2002-320116</doc-number>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>JP</country>
<doc-number>A 2003-23558</doc-number>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>JP</country>
<doc-number>A 2003-23593</doc-number>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>JP</country>
<doc-number>A-2003-348516</doc-number>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00023">
<document-id>
<country>JP</country>
<doc-number>A 2004-312783</doc-number>
<date>20041100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00024">
<document-id>
<country>JP</country>
<doc-number>A-2005-051682</doc-number>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00025">
<document-id>
<country>JP</country>
<doc-number>A-2005-080053</doc-number>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00026">
<document-id>
<country>JP</country>
<doc-number>A 2006-115024</doc-number>
<date>20060400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00027">
<othercit>May 1, 2012 Office Action issued in Japanese Patent Application No. 2007-038021 (with translation).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>4</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20100007749</doc-number>
<kind>A1</kind>
<date>20100114</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Azuma</last-name>
<first-name>Seiichi</first-name>
<address>
<city>Wuxi</city>
<country>CN</country>
</address>
</addressbook>
<residence>
<country>CN</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Nakamura</last-name>
<first-name>Toshiyuki</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Nagisa</last-name>
<first-name>Mio</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Azuma</last-name>
<first-name>Seiichi</first-name>
<address>
<city>Wuxi</city>
<country>CN</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Nakamura</last-name>
<first-name>Toshiyuki</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Nagisa</last-name>
<first-name>Mio</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Oliff &#x26; Berridge, PLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Nikon Corporation</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Tran</last-name>
<first-name>Sinh</first-name>
<department>2661</department>
</primary-examiner>
<assistant-examiner>
<last-name>Flohre</last-name>
<first-name>Jason</first-name>
</assistant-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/JP2008/052752</doc-number>
<kind>00</kind>
<date>20080219</date>
</document-id>
<us-371c124-date>
<date>20090618</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2008/102769</doc-number>
<kind>A </kind>
<date>20080828</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An electronic camera includes a wireless communication means for connecting to a wireless network; a transfer control means for transferring a captured image to a server through the wireless network connected by the wireless communication means; a power supply judgment means for judging whether or not power supply from outside has started; and a power source switching means for switching a power source of the electronic camera to ON or OFF. When the power source of the electronic camera has been switched to OFF by the power source switching means and if it has been judged by the power supply judgment means that supply of the power has started, the transfer control means transfers the captured image to the server, and when the power source of the electronic camera has been switched to ON by the power source switching means and if it has been judged by the power supply judgment means that supply of the power has started, the transfer control means prohibits transfer of the captured image to the server.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="246.72mm" wi="160.19mm" file="US08624984-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="267.55mm" wi="191.01mm" orientation="landscape" file="US08624984-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="256.62mm" wi="160.78mm" file="US08624984-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="234.95mm" wi="172.21mm" file="US08624984-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="247.31mm" wi="181.86mm" file="US08624984-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="262.21mm" wi="189.06mm" file="US08624984-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="228.94mm" wi="177.55mm" file="US08624984-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="198.20mm" wi="174.67mm" file="US08624984-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="210.74mm" wi="166.03mm" file="US08624984-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0002" num="0001">The present invention relates to an electronic camera that transfers a captured image to a server over a wireless network.</p>
<heading id="h-0002" level="1">BACKGROUND ART</heading>
<p id="p-0003" num="0002">A digital camera is known which transfers image data that has not yet been transferred to a user terminal whose address has already been set by detecting an access point of a wireless LAN that can be connected to the user terminal and connecting the user terminal to the detected access point (see Patent Literature 1).</p>
<p id="p-0004" num="0003">Patent Literature 1: Japanese Laid-Open Patent Publication No. 2006-115024</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<heading id="h-0004" level="1">Problem to be Solved by the Invention</heading>
<p id="p-0005" num="0004">The digital camera disclosed in Patent Literature 1 judges whether to transfer a non-transferred image based on an instruction from the user and transfers the non-transferred image when a judgment has been made to transfer it. Therefore, the user has to give an instruction each time. This is cumbersome.</p>
<heading id="h-0005" level="1">Means for Solving the Problem</heading>
<p id="p-0006" num="0005">The electronic camera according to a first aspect of the present invention comprises a wireless communication means for connecting to a wireless network; a transfer control means for transferring a captured image to a server through the wireless network connected by the wireless communication means; a power supply judgment means for judging whether or not power supply from outside has started; and a power source switching means for switching a power source of the electronic camera to ON or OFF; wherein when the power source of the electronic camera has been switched to OFF by the power source switching means and if it has been judged by the power supply judgment means that supply of the power has started, the transfer control means transfers the captured image to the server, and when the power source of the electronic camera has been switched to ON by the power source switching means and if it has been judged by the power supply judgment means that supply of the power has started, the transfer control means prohibits transfer of the captured image to the server.</p>
<p id="p-0007" num="0006">According to a second aspect of the present invention, it is preferred that the electronic camera according to the first aspect further comprises a transfer judgment means for judging whether or not each image file of the captured image has already been transferred to the server based on an archive bit set for the each image file, wherein the transfer control means transfers to the server image files except for image files that are judged to have already been transferred to the server by the transfer judgment means.</p>
<p id="p-0008" num="0007">According to a third aspect of the present invention, the electronic camera according to the first or the second aspect further comprises a power cutting means for turning the power source of the electronic camera OFF after the transfer control means has transferred the captured image to the server.</p>
<heading id="h-0006" level="1">Advantageous Effect of the Invention</heading>
<p id="p-0009" num="0008">According to the present invention, captured images can be transferred from the digital camera at appropriate timing without any instruction by the user.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0007" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 1</figref> is a configuration diagram showing an image transfer system according to an embodiment of the present invention;</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 2</figref> is a part of a flowchart illustrating picture bank transfer processing performed by an electronic camera;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 3</figref> is shows a part of the flowchart illustrating the picture bank transfer processing performed by the electronic camera other than the part shown in <figref idref="DRAWINGS">FIG. 2</figref>;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 4</figref> is a flowchart illustrating image transfer processing;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart illustrating transfer image storage processing performed by a picture bank server;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 6</figref> is flowchart illustrating user registration processing performed in the picture bank server;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 7</figref> is a flowchart illustrating reset processing performed by the picture bank server; and</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 8</figref> is a flowchart illustrating transfer-interrupted image storage processing performed by the picture bank server.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0008" level="1">BEST MODE FOR CARRYING OUT THE INVENTION</heading>
<heading id="h-0009" level="1">1. Construction</heading>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 1</figref> shows the configuration of the image transfer system according to an embodiment of the present invention. An electronic still camera (hereafter an electronic camera) <b>1</b> with a function of wireless LAN connection is connected to a public access point <b>31</b> or a home access point <b>32</b> through a wireless LAN. The type of connection of the wireless LAN in this case is called an infrastructure mode. The public access point <b>31</b> and the home access point <b>32</b> are connected to the Internet <b>33</b>. A picture bank server <b>34</b> is connected to the Internet <b>33</b>.</p>
<p id="p-0019" num="0018">The public access point <b>31</b> is installed at sites available to the public such as airports, stations, hotels, and restaurants. The public access points <b>31</b> include paid ones for which a charge is incurred when they are used and free ones. When connection is established to a paid public access point, user authentication is performed in order to judge whether the user is a normal user based on predetermined account information. The account information, which consists of a user name and a password, can be obtained when the user of the electronic camera <b>1</b> applies for service to the service provider in advance with paying a predetermined fee. On the other hand, when the user of the camera <b>1</b> establishes connection to a free public access point, no user authentication using such account information is performed.</p>
<p id="p-0020" num="0019">The manufacturer or sales company of the electronic camera <b>1</b> often is under engagement with a specified service provider on free use of the service for a predetermined period of time for the promotion of sales of the electronic camera <b>1</b>. The access point information including account information of the public access point provided by the service provider is registered in the electronic camera <b>1</b> in advance as free-plan access point information. Accordingly, the user of the electronic camera <b>1</b> can use the public access point freely for a predetermined period of time even if it is payable under normal conditions. A plurality of types of such free-plan access point information differing in contents from area to area of shipment destination of the electronic camera <b>1</b> is registered.</p>
<p id="p-0021" num="0020">The home access points <b>32</b> are installed in homes or offices, which are available only to the users and related persons. A PC (personal computer) <b>35</b> besides the electronic camera <b>1</b> is connected to the home access point <b>32</b> through a wireless LAN.</p>
<p id="p-0022" num="0021">A picture bank server <b>34</b> includes a recording device that records and stores image files transferred from the electronic camera <b>1</b>. That is, when respective image files of images captured by the electronic camera <b>1</b> are transferred from the electronic camera <b>1</b> to the picture bank server <b>34</b> through the wireless LAN and the Internet <b>33</b>, the image files are recorded in the recording device of the picture bank server <b>34</b>. On this occasion, the image file is temporarily recorded in a temporary folder set for the individual electronic camera <b>1</b> in the recording device in the picture bank server <b>34</b> if it is before the user registration to be detailed later is performed. On the other hand, after the registration of the user has been completed, the image file is recorded in a user folder set for each user when the registration of the user was made in the recording device of the picture bank server <b>34</b>. This enables storage of the images captured by the electronic camera <b>1</b> in the picture bank server <b>34</b> without using the PC <b>35</b>.</p>
<p id="p-0023" num="0022">The user can view the image files stored in the picture bank server <b>34</b> by accessing the picture bank server <b>34</b> using the PC <b>35</b>. If necessary, the user can download the image files stored in the picture bank server <b>34</b> to the PC <b>35</b> or transfer them to another server.</p>
<p id="p-0024" num="0023">The electronic camera <b>1</b> includes a variable optical system <b>3</b>, a rechargeable battery <b>4</b>, a charge controller <b>5</b>, an optical component <b>7</b>, an image sensor <b>8</b>, an analog signal processor <b>12</b>, an A/D converter <b>13</b>, a timing controller <b>14</b>, an image processor <b>15</b>, an operation portion <b>16</b>, a controller <b>17</b>, a memory <b>18</b>, a compressor/expander <b>19</b>, a display image generator <b>20</b>, a liquid crystal display <b>21</b>, a memory card interface <b>22</b>, an external interface <b>23</b>, and a wireless LAN module <b>24</b>.</p>
<p id="p-0025" num="0024">The rechargeable battery <b>4</b> supplies to each unit of the electronic camera <b>1</b> power necessary for the operation thereof. The supply of power from the rechargeable battery <b>4</b> to each unit of the electronic camera <b>1</b> is allowed or prohibited depending on the state in which the electronic camera <b>1</b> is operated. The control of the state of power supply is performed by the controller <b>17</b>.</p>
<p id="p-0026" num="0025">The charge controller <b>5</b> performs control of charging of the rechargeable battery <b>4</b>. When an AC adapter <b>6</b> is inserted into the power source socket in a state where the AC adapter is connected to the electronic camera <b>1</b>, the AC commercial power source supplied from the power source socket is converted by the AC adapter <b>6</b> into a DC current, which is then output to the charge controller <b>5</b>. Then, the charge controller <b>5</b> charges the rechargeable battery <b>4</b> with the DC current. As a result, the rechargeable battery <b>4</b> is charged using the power supplied from outside. When the rechargeable battery <b>4</b> is fully charged, the charge controller <b>5</b> stops the charging.</p>
<p id="p-0027" num="0026">The variable optical system <b>3</b> includes a photographic lens consisting of a plurality of optical lenses, an aperture, and a shutter and so on. The optical unit <b>7</b> is constituted by an optical filter and a cover glass and so on. A light flux from a subject, which is passed through the variable optical system <b>3</b> and the optical unit <b>7</b>, forms a subject image on the image sensor <b>8</b>.</p>
<p id="p-0028" num="0027">The image sensor <b>8</b> captures the subject image formed by the variable optical system <b>3</b> and outputs an image signal (captured image signal) corresponding to the captured subject image. The image sensor <b>8</b> includes a plurality of pixels and sequentially outputs image signals, which are analog signals, corresponding to the charges stored in respective pixels to the analog signal processor <b>12</b> pixel by pixel. The image sensor <b>8</b> is constituted by, for example, a single plate CCD. The analog signal processor <b>12</b> includes a CDS (correlated double sampling) circuit, an AGC (auto gain control) circuit or the like inside thereof and performs predetermined analog processing on the image signals input therein. The A/D converter <b>13</b> converts the analog signals processed by the analog signal processor <b>12</b> into digital signals. The timing controller <b>14</b> is controlled by the controller <b>17</b> and controls the timing of each of the operations of the image sensor <b>8</b>, the analog signal processor <b>12</b>, the A/D converter <b>13</b>, and the image processor <b>15</b>.</p>
<p id="p-0029" num="0028">The memory card interface <b>22</b> performs interface processing with a memory card (card-shaped removable memory) <b>30</b> set inside the electronic camera <b>1</b>. The external interface <b>23</b> performs interface processing with an external device connected through a predetermined cable according to a communication protocol such as USB. The wireless LAN module <b>24</b> performs format conversion, encoding, modulation/demodulation, frequency conversion, and the like of data under control by the controller <b>17</b> and transmits and receives radio waves between the module <b>24</b> and the public access point <b>31</b> or the home access point <b>32</b>. This allows for connection of the electronic camera <b>1</b> to the wireless LAN that includes the public access point <b>31</b> or the home access point <b>32</b>.</p>
<p id="p-0030" num="0029">The operation portion <b>16</b> includes various types of operation buttons and switches, specific examples of which include a power switch, a release button, a mode dial, a replay button, an orientation button, a menu button, a decision button, a cancel button, a deletion button, and a help button and so on. The power switch is to switch the power of the electronic camera <b>10</b>N or OFF. The mode dial is a selection dial for switching the shooting mode or operation mode of the electronic camera <b>1</b>.</p>
<p id="p-0031" num="0030">The replay button is a button for displaying a replay image on the liquid crystal display <b>21</b>. The orientation button is a button for moving the selected position in an operation screen displayed on the liquid crystal display <b>21</b>. The menu button is a button for displaying a menu screen on the liquid crystal display <b>21</b>. The decision button is a button for deciding the operation. The cancel button is a button for canceling, for example, the content of operation in an immediately preceding instruction. The deletion button is a button for deleting unnecessary image or the like. The help button is a button for displaying more detailed information or the like. It may be constructed such that a plurality of functions is assigned to one button and the functions are selectively used depending on the state in which the electronic camera <b>1</b> is operated.</p>
<p id="p-0032" num="0031">The liquid crystal display <b>21</b> is a display device that displays various types of operation screens depending on the state in which the electronic camera <b>1</b> is operated, displays a subject image captured by the image sensor <b>8</b>, or displays a replay image based on the image data stored in a memory card. The output of the operation portion <b>16</b> is input into the controller <b>17</b>. The output of the display image generator <b>20</b> is input into the liquid crystal display <b>21</b>. The image processor <b>15</b> is constituted by, for example, a single-chip microprocessor dedicated for image processing. A flash memory is used as the memory <b>18</b>, in which software for controlling the electronic camera <b>1</b> or data such as access point information to be detailed later are recorded.</p>
<p id="p-0033" num="0032">The A/D converter <b>13</b>, the image processor <b>15</b>, the controller <b>17</b>, the memory <b>18</b>, the compressor/expander <b>19</b>, the display image generator <b>20</b>, the memory card interface <b>22</b>, the external interface <b>23</b> and the wireless LAN module <b>24</b> are connected to each other through a bus <b>25</b>.</p>
<p id="p-0034" num="0033">When the operation portion <b>16</b> is operated by the user to select the shooting mode and push the release button in the electronic camera <b>1</b> having the construction as shown in <figref idref="DRAWINGS">FIG. 1</figref>, the controller <b>17</b> controls the variable optical system <b>3</b> to perform focus adjustment and the timing controller <b>14</b> performs timing control on the image sensor <b>8</b>, the analog signal processor <b>12</b>, and the A/D converter <b>13</b>. Then, the shooting of the subject is performed. It may be constructed such that a plurality of shooting modes can be selected depending on the type of subject and the timing of shooting may be controlled depending on the shooting mode. When a movie shooting mode is selected, a movie image of the subject can be shot.</p>
<p id="p-0035" num="0034">The image sensor <b>8</b> generates an image signal corresponding to a subject image formed in an imaging region by the variable optical system <b>3</b>. The image signal is subjected to predetermined analog signal processing by the analog signal processor <b>12</b> and is output to the A/D converter <b>13</b>. In the A/D converter <b>13</b>, the image signal having undergone the analog signal processing by the analog signal processor <b>12</b> is digitalized and supplied to the image processor <b>15</b> as image data.</p>
<p id="p-0036" num="0035">In the electronic camera <b>1</b> according to the present embodiment, R (red), G (green), and B (blue) color filters are in Bayer arrangement in the image sensor <b>8</b>. Therefore, the image data supplied from the image sensor <b>8</b> to the image processor <b>15</b> are indicated in the RGB color coordinate system and each pixel that constitutes the image data has information on any one of color components R, G, and B.</p>
<p id="p-0037" num="0036">The image processor <b>15</b> performs image processing such as interpolation, gradation conversion, or edge enhancement on such image data. The image data on which such image processing has been completed is recorded in image file units in a memory card <b>30</b> through the memory card interface <b>22</b>. On this occasion, predetermined compression processing is performed on the image data by the compressor/expander <b>19</b> as necessary. As a result, the captured image is recorded in the electronic camera <b>1</b>. On the image data for which image processing has been completed, interpolation processing has also been completed, so that each pixel constituting the image data has color information of all the color components R, G, and B.</p>
<p id="p-0038" num="0037">The image data recorded in the memory card <b>30</b> is wirelessly transmitted from the wireless LAN module <b>24</b> to the public access point <b>31</b> or the home access point <b>32</b> in response to the operation by the user. The wireless transmission is performed in accordance with the general signal standard of wireless LAN, for example, the standard of IEEE 802.11b or IEEE 802.11g. The wireless transmission may be performed in accordance with International standard WiFi (Wireless Fidelity) authentication.</p>
<p id="p-0039" num="0038">The public access point <b>31</b> and the home access point <b>32</b> relay the image data transmitted from the wireless LAN module <b>24</b> in the electronic camera <b>1</b> and transfer the data to the picture bank server <b>34</b> through the Internet <b>33</b>.</p>
<p id="p-0040" num="0039">As mentioned above, the electronic camera <b>1</b> is connected to the wireless LAN by connecting the wireless LAN module <b>24</b> to the public access point <b>31</b> or the home access point <b>32</b>. As a result, the electronic camera <b>1</b> and the picture bank server <b>34</b> are connected to each other through the wireless LAN. Then, the electronic camera <b>1</b> selects images not yet transferred to the picture bank server <b>34</b> from among the captured images recorded in the memory card <b>30</b> and transfers them to the picture bank server <b>34</b>. In this manner, the images captured by the electronic camera <b>1</b> are transferred to the picture bank server <b>34</b>. When captured images are transferred from the electronic camera <b>1</b>, a well-known communication protocol called PTPIP (Picture Transfer Protocol over Internet Protocol) is used.</p>
<heading id="h-0010" level="1">2. Setting of Wireless LAN</heading>
<p id="p-0041" num="0040">Next, a method of setting a wireless LAN is explained. As explained above, by connecting the electronic camera <b>1</b> to the public access point <b>31</b> or the home access point <b>32</b> by the wireless LAN module <b>24</b>, image shot by the electronic camera <b>1</b> is transferred to the picture bank server <b>34</b>. In order to perform such a connection by using the wireless LAN, it is necessary to record access point information for each access point to be connected in the electronic camera <b>1</b> in advance. The access point information includes various pieces of information such as an access point name, SSID (Service Set Identifier) of wireless LAN, a method of obtaining an IP address, an authentication method, type of encryption mode and content of encryption key used upon authentication, account information (user name and password), and access point type (public wireless LAN or home wireless LAN). The access point information is stored and saved in the memory <b>18</b> so that it should not be erased when the power of the electronic camera <b>1</b> is cut off.</p>
<p id="p-0042" num="0041">The registration of access point information is performed in a state where the electronic camera <b>1</b> and the PC <b>35</b>, which is a terminal, are connected to each other through a cable. On this occasion, the electronic camera <b>1</b> is connected to the cable at the external interface <b>23</b>. When the user operates a mode dial of the electronic camera <b>1</b> to adjust it to the position &#x201c;SETUP&#x201d; in a state where the electronic camera <b>1</b> and the PC <b>35</b> are connected to each other through the cable, a software program for setting a wireless LAN installed in the PC <b>35</b> in advance is executed. As a result, the access point information set in the PC <b>35</b> is transmitted from the PC <b>35</b> to the electronic camera <b>1</b>.</p>
<p id="p-0043" num="0042">The electronic camera <b>1</b> receives the access point information transmitted from the PC <b>35</b> through the cable as mentioned above and acquires it by the external interface <b>23</b>. Under control of the controller <b>17</b>, the electronic camera <b>1</b> writes the content of the information in the memory <b>18</b> to store and save it. This allows the access point information to be registered in the electronic camera <b>1</b>.</p>
<p id="p-0044" num="0043">Alternatively, the access point information may be registered directly in the electronic camera <b>1</b> without connecting the electronic camera <b>1</b> to the PC <b>35</b>. This type of registration of access point can be performed by the user by operating the operation portion <b>16</b>. That is, an input operation by the user is detected by the operation portion <b>16</b> and the access point information is set by the controller <b>17</b> based on the input operation. In this manner, the access point information set based on the input operation by the user is stored in the memory <b>18</b>.</p>
<p id="p-0045" num="0044">As free-plan access point information, access point information for allowing free connection to the public access point of the provider with whom free access contract for a predetermined period of time has been concluded as mentioned above has been registered in the electronic camera <b>1</b> in advance. The free-plan access point information like other access point information is stored in the memory <b>18</b>. Therefore, by using the free-plan access point information, the user can connect the electronic camera <b>1</b> to the public access point <b>31</b> and transmit the captured image to the picture bank server <b>34</b> without registration of the access point information.</p>
<p id="p-0046" num="0045">When the free-plan access point information is used, it is not always possible to use all pieces of the free-plan access point information registered in advance in the electronic camera <b>1</b>. Only the free-plan access point information corresponding to the shipment area set in advance for the electronic camera <b>1</b> can be used but the free-plan access point information corresponding to other shipment area cannot be used. On this occasion, any one of a plurality of types of access point information stored in the memory <b>18</b> is selected by the controller <b>17</b> as usable access point information based on the shipment area set in advance in the electronic camera <b>1</b>. Other information than that selected in this manner cannot be used even though registered in the electronic camera <b>1</b>. Much less the content of such cannot be displayed on the liquid crystal display <b>21</b>.</p>
<p id="p-0047" num="0046">As a result, if the electronic camera <b>1</b> sold in a foreign country and brought into Japan, it is possible to prohibit the electronic camera <b>1</b> from using the free-plan access point information for domestic services. As a result, the manufacturer and sales company of the electronic camera <b>1</b> can avoid problems on agreements with the service providers. That is, when an agreement is made that the wireless LAN connection service shall be available freely to only the electronic cameras <b>1</b> sold in Japan, the contents of the agreement can be observed even if the electronic cameras <b>1</b> sold in foreign countries are brought into Japan.</p>
<p id="p-0048" num="0047">The controller <b>17</b> controls the wireless LAN module <b>24</b> based on the access point information explained above to connect the wireless LAN module <b>24</b> to the public access point <b>31</b> or the home access point <b>32</b>. The controller <b>17</b> controls such that a non-transmitted captured image is transmitted to the picture bank server <b>34</b> through the access point connected to the wireless LAN module <b>24</b>. In this manner, the electronic camera <b>1</b> is connected to the picture bank server <b>34</b> through the wireless LAN and the image captured by the electronic camera <b>1</b> is transmitted to the picture bank server <b>34</b>.</p>
<heading id="h-0011" level="1">3. Picture Bank Transfer Processing</heading>
<p id="p-0049" num="0048">Next, explanation is made on picture bank transfer processing performed by the electronic camera <b>1</b> when a captured image is transferred to the picture bank server <b>34</b> by connecting the electronic camera <b>1</b> to the public access point <b>31</b> or the home access point <b>32</b> via wireless LAN. <figref idref="DRAWINGS">FIGS. 2 and 3</figref> shows a flowchart illustrating picture bank transfer processing performed by the controller <b>17</b> of the electronic camera <b>1</b>. Hereafter, the content of the picture bank transfer processing is explained referring to the flowchart.</p>
<p id="p-0050" num="0049">In step S<b>1</b> in <figref idref="DRAWINGS">FIG. 2</figref>, it is judged whether power for charging the rechargeable battery <b>4</b> is supplied from outside to the electronic camera <b>1</b>. If the power is supplied from outside, that is, if the electronic camera <b>1</b> is connected to the AC adapter <b>6</b> inserted in the power socket and commercial power source converted into a DC current by the AC adapter is input to the charge controller <b>5</b> to start supply of power, the procedure proceeds to next step S<b>2</b>.</p>
<p id="p-0051" num="0050">In step S<b>2</b>, it is judged whether the power of the electronic camera <b>1</b> is OFF. If it has been judged that the power of the electronic camera <b>1</b> is OFF, that is, if the power of the electronic camera <b>1</b> is switched OFF by a power source switch provided in the operation portion <b>16</b>, the procedure proceeds to step S<b>3</b>. On the other hand, if it has not been judged that the power of the electronic camera <b>1</b> is OFF, that is, if the power of the electronic camera <b>1</b> is switched ON by the power source switch provided in the operation portion <b>16</b>, the procedure proceeds to step S<b>12</b>. On this occasion, image transfer from the electronic camera <b>1</b> to the picture bank server <b>34</b> is not performed. With this construction, if it has been judged that power is supplied from outside when the power of the electronic camera <b>1</b> is switched ON, transfer of the captured image is prohibited.</p>
<p id="p-0052" num="0051">In step S<b>3</b>, the power of the electronic camera <b>1</b> is switched from OFF to ON. In subsequent step S<b>4</b>, it is judged whether the setting of the picture bank in the electronic camera <b>1</b> is ON. If the setting of the picture bank is ON, the procedure proceeds to step S<b>5</b>. On the other hand, if the setting of the picture bank is OFF, the procedure proceeds to step S<b>14</b>. Also in this case, image transfer from the electronic camera <b>1</b> to the picture bank server <b>34</b> is not performed.</p>
<p id="p-0053" num="0052">The setting of the picture bank in the electronic camera <b>1</b> is made in advance by the operation of the operation portion <b>16</b> by the user to a state of either ON or OFF. That is, when it is desired to enable the image transfer processing to the picture bank server <b>34</b>, the user sets the picture bank ON. On the contrary, when it is desired to prohibit the image transfer processing to the picture bank server <b>34</b>, the user sets the picture bank OFF.</p>
<p id="p-0054" num="0053">The image transfer to the picture bank server <b>34</b> can be performed at any timing regardless of whether the setting of the picture bank is ON or OFF by selection on the menu screen by the user. However, explanation on the contents of the processing on this occasion is omitted. That is, in the following, explanation is made on the picture bank server transfer processing that is automatically performed in the electronic camera <b>1</b> when the electronic camera <b>1</b> is connected to the AC adapter <b>6</b> and power supply from outside is started.</p>
<p id="p-0055" num="0054">In step S<b>5</b>, it is judged whether the setting of wireless LAN has been completed in the electronic camera <b>1</b>. On this occasion, when at least one piece of the above-mentioned access point information is registered, the setting of wireless LAN is judged to have been completed and the procedure proceeds to step S<b>6</b>. On the other hand, when no access point information has been registered, the setting of wireless LAN is not judged to have been completed and the procedure proceeds to step S<b>14</b>. Also on this occasion, image transfer from the electronic camera <b>1</b> to the picture bank server <b>34</b> is not performed.</p>
<p id="p-0056" num="0055">In step S<b>5</b>, the free-plan access point information that has been registered in advance in the electronic camera <b>1</b> is usually exempted from the target of judgment. However, the judgment may be performed including the free-plan access point information. That is, on this occasion, it is always judged in step S<b>5</b> that the setting of wireless LAN has been completed.</p>
<p id="p-0057" num="0056">When the procedure proceeds from step S<b>5</b> to step S<b>6</b>, a picture bank start screen is displayed on the liquid crystal display <b>21</b> in order to notify the user of the electronic camera <b>1</b> of the start of the picture bank transfer processing. In next step S<b>7</b>, it is judged whether the cancel button of the operation portion <b>16</b> has been pushed by the user. If the cancel button has been pushed, the procedure proceeds to step S<b>14</b>. Also on this occasion, image transfer from the electronic camera <b>1</b> to the picture bank server <b>34</b> is not performed. If the cancel button has not been pushed, the procedure proceeds to step S<b>8</b>.</p>
<p id="p-0058" num="0057">In step S<b>8</b>, it is judged whether a predetermined time has passed since the picture bank start screen was displayed in step S<b>6</b>. Until a predetermined time, for example, 5 seconds has passed, the procedure returns to step S<b>7</b> and the judgment whether the cancel button has been pushed is continued. When the predetermined time has passed without any push of the cancel button, the procedure proceeds to step S<b>9</b>. As a result, when the predetermined time has passed, the procedure proceeds to next processing even when there was no operation by the user so that image transfer to the picture bank server <b>34</b> can be performed.</p>
<p id="p-0059" num="0058">In step S<b>9</b>, it is judged whether a nickname and a mail address of the user have been set in the electronic camera <b>1</b>. The nickname and address are transmitted from the electronic camera <b>1</b> to the picture bank server <b>34</b> when a captured image is transferred. If the nickname and mail address have not been set, the procedure proceeds to step S<b>10</b>. On the other hand, if they have been already set, the procedure proceeds to step S<b>16</b> in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0060" num="0059">In step S<b>10</b>, an input screen for inputting a nickname and a mail address of the user is displayed on the liquid crystal display <b>21</b>. The user can input any nickname and mail address by operating the operation portion <b>16</b> while the input screen is being displayed. Once the nickname and mail address have been input, their information is stored in the memory <b>18</b>, so that it is unnecessary to input them again next time.</p>
<p id="p-0061" num="0060">In step S<b>11</b>, it is judged whether a nickname and a mail address have been input by the operation of the user in the input screen for inputting a nickname and a mail address displayed in step S<b>10</b>. If they have been input, the procedure proceeds to step S<b>16</b> in <figref idref="DRAWINGS">FIG. 3</figref>. On the other hand, if no operation has been performed by the user and input of a nickname and a mail address has not been performed for a predetermined period of time, the procedure proceeds to step S<b>14</b>. Also on this occasion, image transfer from the electronic camera <b>1</b> to the picture bank server <b>34</b> is not performed.</p>
<p id="p-0062" num="0061">In step S<b>16</b> in <figref idref="DRAWINGS">FIG. 3</figref>, it is judged whether there is an image that is a target of transfer in the electronic camera <b>1</b>. If there is an image as a target of transfer, the procedure proceeds to next step S<b>17</b>. On the other hand, if there is no image as a target of transfer, the procedure proceeds to step S<b>14</b>. For example, when no captured image is recorded in the memory card <b>30</b>, or when there is no non-transferred captured image in the memory card <b>30</b>, or when the memory card <b>30</b> is locked to prohibit access thereto, it is judged in step S<b>16</b> that there is no image as a target of transfer. When it has been judged that there is no image as a target of transfer, image transfer from the electronic camera <b>1</b> to the picture bank server <b>34</b> is not performed.</p>
<p id="p-0063" num="0062">In step S<b>17</b>, SSID search is performed. By the SSID search, SSIDs can be searched that correspond to access points to which communication is possible through the wireless LAN module <b>24</b> and the wireless LAN. On this occasion, some access points may have a function to make their SSIDs secret to wireless terminals in which their SSIDs have not been set. Search of such secret SSIDs is performed based on the information on the SSIDs registered in the access point information. That is, only those access points whose SSIDs have been registered in the access point information are qualified as targets of search for SSIDs. In this manner, access points that are capable of performing wireless communication with the wireless LAN module <b>24</b> are searched.</p>
<p id="p-0064" num="0063">In step S<b>18</b>, it is judged whether SSIDs have been searched in step S<b>17</b>. If there has been searched at least one SSID of access point that is capable of communication through wireless LAN, the procedure proceeds to step S<b>19</b>. On the other hand, no SSID of access point that is capable of communication through wireless LAN has been searched, the procedure proceeds to step S<b>14</b>. Also on this occasion, image transfer from the electronic camera <b>1</b> to the picture bank server <b>34</b> is not performed.</p>
<p id="p-0065" num="0064">In step S<b>19</b>, it is judged whether there is in the SSIDs searched in step S<b>17</b> an SSID that has already been registered in the electronic camera <b>1</b>. If there is an already registered SSID, that is, if there has been searched at least one SSID of an access point of which the access point information has been registered in the electronic camera <b>1</b>, the procedure proceeds to step S<b>24</b>. The already registered SSIDs may include those SSIDs registered in the free-plan access point information. On the other hand, if there is no SSID that has already been registered in the searched SSIDs, the procedure proceeds to step S<b>20</b>.</p>
<p id="p-0066" num="0065">When the procedure proceeds to step S<b>19</b> to step S<b>20</b>, a connection target selection screen for selecting the target to which the electronic camera <b>1</b> is to be connected is displayed on the liquid crystal display <b>21</b> in step S<b>20</b>. On the connection target selection screen, a list of SSIDs searched in step S<b>17</b> is displayed.</p>
<p id="p-0067" num="0066">In step S<b>21</b>, it is judged whether any SSID has been selected as a target to which the electronic camera <b>1</b> is to be connected on the connection target selection screen displayed in step S<b>20</b>. If any one of SSIDs listed on the connection target selection screen is selected by input operation by the user, an access point corresponding to the SSID is set as a target of connection of the electronic camera <b>1</b> and the procedure proceeds to step S<b>22</b>. On the other hand, if no operation has been performed by the user and no selection of target of connection has been performed for more than a predetermined period of time, the procedure proceeds to step S<b>14</b>. Also on this occasion, image transfer from the electronic camera <b>1</b> to the picture bank server <b>34</b> is not performed.</p>
<p id="p-0068" num="0067">In step S<b>22</b>, it is judged whether the electronic camera <b>1</b> could be connected to the selected SSID. If the connection has been established to the selected SSID, the procedure proceeds to step S<b>23</b>, in which image transfer processing is performed. The content of the image transfer processing is explained in detail later. With this processing, the captured images are transferred from the electronic camera <b>1</b> to the picture bank server <b>34</b>. After the processing in step S<b>23</b> is performed, the procedure proceeds to step S<b>14</b> in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0069" num="0068">On the other hand, if it has been judged in step S<b>19</b> that there is an SSID that has been already registered in the electronic camera <b>1</b> among the selected SSIDs, the already registered SSID is automatically selected as a destination of connection in step S<b>24</b>. On this occasion, if there has been searched a plurality of already registered SSIDs, the already registered SSIDs are automatically selected in order of descending reception electric field intensity of radio waves received by the wireless LAN module <b>24</b>, that is, in order of descending goodness of wireless connection environment. If connection to any one of the already registered SSIDs that have been searched has failed with this process, connection to another already registered SSID will be tried.</p>
<p id="p-0070" num="0069">In step S<b>25</b>, it is judged whether the electronic camera <b>1</b> has been successfully connected to the already registered SSID that has been selected in step S<b>24</b>. If the connection to the selected SSID has been successful, the procedure proceeds to step S<b>23</b>, in which image transfer processing is performed. With this procedure, the captured images are transferred from the electronic camera <b>1</b> to the picture bank sever <b>34</b>. After the processing in the step S<b>23</b> has been performed, the procedure proceeds to step S<b>14</b>. On the other hand, if it has been unsuccessful to connect to any already registered SSID, the procedure proceeds to step S<b>26</b>.</p>
<p id="p-0071" num="0070">In step S<b>26</b>, it is judged whether any SSID that has not been registered in the electronic camera <b>1</b> has been searched when SSIDs were searched in step S<b>17</b>. If some SSIDs that have not yet registered have been searched, the procedure proceeds to step S<b>20</b>, in which a connection target selection screen displaying a list of the non-registered SSIDs is displayed on the liquid crystal display <b>21</b>. Thereafter, the above-mentioned processing in step S<b>21</b> and S<b>22</b> is performed to connect the electronic camera <b>1</b> to the SSID selected by the input operation by the user and then image transfer processing in step S<b>23</b> is performed. On the other hand, no SSID that was not yet registered in step S<b>17</b> has been searched, the procedure proceeds to step S<b>14</b>. Also on this occasion, image transfer from the electronic camera <b>1</b> to the picture bank server <b>34</b> is not performed.</p>
<p id="p-0072" num="0071">Next, explanation is made on the case where the power of the electronic camera <b>1</b> was ON when the power supply from outside was started, that is the processing when the procedure proceeds from step S<b>2</b> to step S<b>12</b> in <figref idref="DRAWINGS">FIG. 2</figref>. In this case, in step S<b>12</b>, the operation power used in the electronic camera <b>1</b> is switched. That is, the power for actuation, which has been supplied to each component of the electronic camera <b>1</b> from the rechargeable battery <b>4</b>, is now switched so that it is supplied from the AC adapter <b>6</b>. With this construction, the electronic camera <b>1</b> is switched from the battery operation to the external power operation.</p>
<p id="p-0073" num="0072">In step S<b>13</b>, it is judged whether the power switch in the operation portion <b>16</b> has been operated by the user after the electronic camera <b>1</b> is switched to the external power operation in step S<b>12</b>. If the power switch has been operated, that is, there has been an instruction to turn the power OFF from the user, the procedure proceeds to step S<b>14</b>.</p>
<p id="p-0074" num="0073">When the procedure proceeds from step S<b>13</b> to step S<b>14</b>, or from steps S<b>4</b>, S<b>5</b>, S<b>7</b>, S<b>11</b>, S<b>16</b>, S<b>18</b>, S<b>21</b>, S<b>23</b> or S<b>26</b> to step S<b>14</b>, the power of the electronic camera <b>1</b> is turned OFF in step S<b>14</b>. With this construction, when the processing in step S<b>14</b> is performed after the image transfer processing has been performed in step S<b>23</b>, the power of the electronic camera <b>1</b> is automatically turned OFF after the image captured by the electronic camera <b>1</b> has been transferred to the picture bank server <b>34</b>. In another case, the power of the electronic camera <b>1</b> is turned OFF without transferring the captured image.</p>
<p id="p-0075" num="0074">In step S<b>15</b>, charging of the rechargeable battery <b>4</b> is started. After the power of the electronic camera <b>1</b> is turned OFF and the charging of the rechargeable battery <b>4</b> has been started in this manner, the controller <b>17</b> ends the flowchart shown in <figref idref="DRAWINGS">FIGS. 2 and 3</figref> to complete the picture bank transfer processing. Thereafter, the charging of the rechargeable battery <b>4</b> is controlled by the charge controller <b>5</b> as mentioned above.</p>
<p id="p-0076" num="0075">Because of the processing performed by the controller <b>17</b> as mentioned above, the images captured by the electronic camera <b>1</b> are transferred to the picture bank server <b>34</b> through the wireless LAN.</p>
<heading id="h-0012" level="1">4. Image Transfer Processing</heading>
<p id="p-0077" num="0076">Next, explanation is made on specific contents of the image transfer processing performed in step S<b>23</b> in <figref idref="DRAWINGS">FIG. 3</figref>. <figref idref="DRAWINGS">FIG. 4</figref> is a flowchart illustrating the image transfer processing.</p>
<p id="p-0078" num="0077">In step <b>101</b>, it is judged whether there has been a request for inputting a WEP (Wired Equivalent Privacy) key, which is a cryptography key for being allowed to connect to an access point corresponding to the SSID selected as a connection target. A cryptography key of another cryptographic type may be used instead of the WEP key. If there has been a request for inputting a WEP key, the procedure proceeds to step S<b>102</b> whereas if there has been none, the procedure proceeds to step S<b>105</b>.</p>
<p id="p-0079" num="0078">In step S<b>102</b>, a WEP key inputting screen for inputting a WEP key is displayed on the liquid crystal display <b>21</b>. The user can input any WEP key into the electronic camera <b>1</b> by operating the orientation button or the like on the WEP key inputting screen.</p>
<p id="p-0080" num="0079">In step S<b>103</b>, it is judged whether a WEP key has been input by the operation of the user on the WEP key inputting screen displayed in step S<b>102</b>. If the WEP key has been input, the procedure proceeds to step S<b>104</b>. On the other hand, if no operation has been performed by the user and input of the WEP key has not been performed for a predetermined period of time, the procedure proceeds to step S<b>120</b>. On this occasion, image transfer from the electronic camera <b>1</b> to the picture bank server <b>34</b> is not performed.</p>
<p id="p-0081" num="0080">In step S<b>104</b>, it is judged whether a correct WEP key has been input by the user in step S<b>103</b>. If the input WEP key is incorrect, the procedure returns to step S<b>102</b> and the user is invited to input a correct WEP key. On the other hand, if a correct WEP key has been input, the procedure proceeds to step S<b>105</b>. In this manner, authentication of the WEP key is performed. The user can also stop inputting the WEP key during the inputting of the WEP key by pushing the cancel button.</p>
<p id="p-0082" num="0081">If a correct WEP key has previously been input by the user to the access point, the content of the WEP key is stored in the electronic camera <b>1</b>. Therefore, in that case, even when the input of a WEP key has been requested by the access point, the authentication of the WEP key is performed by performing the judgment in step S<b>104</b> using that WEP key without displaying the WEP key inputting screen. Similarly, when the content of a WEP key has been recorded in the access point information, the authentication of the WEP key is performed using that WEP key without displaying the WEP key inputting screen.</p>
<p id="p-0083" num="0082">In step S<b>105</b>, it is judged whether there has been a request from the access point with the SSID selected as a connection target for user authentication for connection therewith. The user authentication is performed so that only connections by legitimate users can be allowed at the public access point <b>31</b>. If there has been a user authentication request, the procedure proceeds to step S<b>106</b> whereas if there has been none, the procedure proceeds to step S<b>109</b>.</p>
<p id="p-0084" num="0083">In step S<b>106</b>, an inputting screen for inputting a user name and a password is displayed on the liquid crystal display <b>21</b>. The user can input a user name and a password acquired in advance to the electronic camera <b>1</b> by operating the orientation button or the like on the inputting screen.</p>
<p id="p-0085" num="0084">In step S<b>107</b>, it is judged whether a user name and a password have been input into the inputting screen for inputting a user name and a password displayed in step S<b>106</b> by the operation by the user. If the user name and the password have been input, the procedure proceeds to step S<b>108</b>. On the other hand, if no operation has been made by the user and there has been no input on the user name and the password for a predetermined period of time, the procedure proceeds to step S<b>120</b>. Also on this occasion, image transfer from the electronic camera <b>1</b> to the picture bank server <b>34</b> is not performed.</p>
<p id="p-0086" num="0085">In step S<b>108</b>, it is judged whether a correct user name and a correct password have been input by the user in step S<b>107</b>. If the input user name and password have been incorrect, the procedure returns to step S<b>106</b> to display again the inputting screen for inputting a user name and a password so that the user is invited to input again a correct user name and a correct password. On the other hand, if a correct user name and a correct password have been input, the procedure proceeds to step S<b>109</b>. In this manner, user authentication is performed. The user can stop inputting the user name and the password during the inputting thereof by pushing the cancel button.</p>
<p id="p-0087" num="0086">Upon the above-mentioned user authentication, predetermined information is exchanged between the electronic camera <b>1</b> and the access point according to a protocol called WISPr (Wireless Internet Service Provider roaming). In the case of the user authentication, like the authentication of a WEP key, if the user has input to the access point a correct user name and a correct password in the past, the contents of the user name and the password are stored in the electronic camera <b>1</b>. Therefore, in that case, even when the input of a user name and a password is requested by the access point, the user authentication can be performed without displaying the inputting screen for inputting a user name and a password by performing the judgment in step S<b>108</b> using the stored user name and password. When the contents of the user name and the password are recorded in the access point information, the user authentication is performed by using the user name and the password without displaying the inputting screen for inputting a user name and a password.</p>
<p id="p-0088" num="0087">When there is a request for inputting a WEP key or a request for user authentication from the access point, the authentication of the WEP key or the user authentication as mentioned above is performed. If the result of such authentication is that the WEP key or the user is correct, the connection to the access point is completed. When the connection to the access point is completed in this manner, the electronic camera <b>1</b> is connected through wireless LAN to the picture bank server <b>34</b> that is a destination to which the electronic camera <b>1</b> transfers the images.</p>
<p id="p-0089" num="0088">In step S<b>109</b>, a camera ID determined in the electronic camera <b>1</b> is transmitted to the picture bank server <b>34</b> connected through wireless LAN. The camera ID is used by the picture bank server <b>34</b> when it performs user authentication and has contents unique to each electronic camera <b>1</b>. Therefore, the picture bank server <b>34</b> can specify the user who transfers images based on the camera ID transmitted from the electronic camera <b>1</b>. In this manner, the camera ID for user authentication unique to each electronic camera <b>1</b> is transmitted from the electronic camera <b>1</b> to the picture bank server <b>34</b>, which is the destination to which images are to be transferred, prior to transmitting images to the picture bank server <b>34</b>.</p>
<p id="p-0090" num="0089">The camera ID can be determined in the electronic camera <b>1</b> as follows. For example, a camera ID is determined based on a fixed ID number stored in each electronic camera. For example, a production number of each electronic camera may be used as the ID number. It is preferred that the ID number of each electronic camera is stored in an encrypted state so that the user cannot use others' IDs illegally or the user cannot alter the camera ID illegally. In addition, a separate ID number calculated according to a predetermined algorithm and changed of its content at predetermined timing may be advantageously used in combination with the above-mentioned ID number. In this case, it is necessary for the picture bank server <b>34</b> to judge the contents of the camera ID using the same algorithm and at the same timing. In this manner, illegal use or alteration of the camera ID can be prevented more effectively.</p>
<p id="p-0091" num="0090">In step S<b>110</b>, it is judged whether the result of the server authentication performed by the picture bank server <b>34</b> based on the camera ID transmitted in step S<b>109</b> is OK. If the result of the server authentication is OK, the procedure proceeds to next step S<b>111</b>. On the other hand, if the result of the server authentication is not OK, that is the transmitted camera ID is illegal, or if the user specified by the camera ID is a target to whom use of the service is restricted, the procedure proceeds to step S<b>120</b>. On this occasion, image transfer from the electronic camera <b>1</b> to the picture bank server <b>34</b> is not performed.</p>
<p id="p-0092" num="0091">In step S<b>111</b>, selection of image files to be transferred to the picture bank server <b>34</b> is performed. Here, among the image files corresponding to the captured images recorded in the memory card <b>30</b>, an image file that has not yet been transferred is selected. Judgment whether an image file has not been transferred yet is performed based on presence or absence of flag information set at the time of transfer. This flag information is called archive bit. That is, an image file of which an archive bit is set is judged to have already been transferred whereas an image file of which no archive bit is set is judged not to have been transferred yet. As a result, the image file judged to have already been transferred is removed from image files to be transferred.</p>
<p id="p-0093" num="0092">In step S<b>112</b>, the file information on non-transferred image files selected in step S<b>111</b> is transmitted to the picture bank server <b>34</b>. The file information to be transmitted includes type of image file, that is, information indicating whether it is a still image or a movie image, a file name, a data size, and soon. The file information transmitted from the electronic camera <b>1</b> is used in the picture bank server <b>34</b> for determining the contents of transfer instruction information to be detailed later.</p>
<p id="p-0094" num="0093">In step S<b>113</b>, transfer instruction information transmitted from the picture bank server <b>34</b> based on the file information transmitted in step S<b>112</b> is received. Based on this transfer instruction information, the electronic camera <b>1</b> is instructed by the picture bank server <b>34</b> as to which image file is to be transferred. When a movie image file is transferred, it is instructed as to which part of the movie image file is transferred based on the transfer instruction information. That is, instruction is made as to whether the whole movie image file is transferred or it is transmitted from the middle of the file. When the movie image file is transferred from the middle of the file, an instruction is made as to which part of the movie image file, i.e., which number of bytes from the head the transfer starts from.</p>
<p id="p-0095" num="0094">When a movie image file transfer of which has been previously interrupted is to be transferred again, the picture bank server <b>34</b> gives an instruction to indicate a part to be transferred again and transfer the movie image file from the middle thereof or halfway. The indication of the part to be transferred again by the picture bank server <b>34</b> on this occasion is performed based on error check information to be detailed later.</p>
<p id="p-0096" num="0095">In step S<b>114</b>, the image file to be transferred to the picture bank server <b>34</b> is decided based on the transfer instruction information received in step S<b>113</b>. Here, the transfer image file is decided according to the instruction of the picture bank server <b>34</b>. That is, out of the non-transferred image files selected in step S<b>111</b>, only those image files of which transfer has been instructed based on the transfer instruction information are selected as transfer image files. For movie image files, it is decided whether the whole movie image file is to be transferred or it is to be transmitted from the middle of the file according to the contents of the instruction in the transfer instruction information. When it is to be transferred again from the middle thereof, it is decided from which part it is transferred again.</p>
<p id="p-0097" num="0096">In step S<b>115</b>, it is judged whether there is a movie image file in the transfer image files determined in step S<b>114</b>. If the transfer image files include a movie image file, the procedure proceeds to step S<b>116</b>. On the other hand, if the transfer image files include no movie image file, that is, the decided transfer image files are all still image files, the processing of step S<b>116</b> is not performed and the procedure proceeds to step S<b>117</b>.</p>
<p id="p-0098" num="0097">In step S<b>116</b>, error check information for detecting occurrence of errors in transfer in the picture bank server <b>34</b> is calculated for the movie image files included in the transfer image files. For example, check sum and various types of error detection codes can be calculated as error check information. On this occasion, the error check information is calculated for every predetermined data amount of the movie image file. For example, the movie image file is sectioned by 10 Mbytes and error check information such as check sum is calculated for each section.</p>
<p id="p-0099" num="0098">In step S<b>117</b>, transfer of the transfer image files decided in step S<b>114</b> according to the instruction from the picture bank server <b>34</b> is performed. That is, only the image files indicated by the transfer instruction information out of the non-transferred image files selected in step S<b>111</b> are transferred. For movie image files, the whole file is transferred or the portion indicated by the picture bank server <b>34</b> is transferred again according to the contents of the instruction in the transfer indication information. By so doing, when transfer of a movie image has been interrupted in the past and the movie image data is transmitted again, the movie image can be transferred again except for the portion that has already been transferred before the interruption. When a movie image file is transferred, the error check information calculated in step S<b>116</b> is transmitted to the picture bank server <b>34</b> together with the movie image file. In addition, the nickname and mail address of the user set in the electronic camera <b>1</b> are also transmitted together with the movie image file.</p>
<p id="p-0100" num="0099">In step S<b>118</b>, it is judged whether the transfer of image files in step S<b>117</b> has been completed. Until transfer of all the transfer image files decided in step S<b>114</b> is completed, the procedure returns to step S<b>117</b> to continue the transfer of the image files. When transfer of all the designated image files is completed, the procedure proceeds to step S<b>118</b>.</p>
<p id="p-0101" num="0100">In step S<b>119</b>, an archive bit is set to each of the image file transferred in step S<b>117</b>. The archive bit is flag information that is set to each image file in order to indicate whether the image file has already been transferred as mentioned above. As a result, the archive bit is set to each of the image files of which transfer has been completed. Therefore, when next image transfer processing is performed, the image file with the archive bit is no more selected as non-transferred image in step S<b>111</b>.</p>
<p id="p-0102" num="0101">In step S<b>120</b>, the network established between the electronic camera <b>1</b> and the picture bank server <b>34</b> is cut. On this occasion, the wireless LAN module <b>24</b> ends wireless communication with the access point selected as a target of connection. This cancels the connection between the electronic camera <b>1</b> and the access point through wireless LAN. In next step S<b>121</b>, the power supply to the wireless LAN module <b>24</b> is stopped to turn OFF the power of the wireless LAN module <b>24</b>. In next step S<b>122</b>, a transfer completion screen that indicates completion of the transfer of images on the liquid crystal display <b>21</b>. When the process in step S<b>122</b> has been performed, the controller <b>17</b> ends the flowchart shown in <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0103" num="0102">By the processing as mentioned above, the electronic camera <b>1</b> and the picture bank server <b>34</b> are connected to each other through wireless LAN. Then, a non-transferred image file is selected and is transferred from the electronic camera <b>1</b> to the picture bank server <b>34</b>. When the cancel button is pushed before the image is transferred, a cancel screen is displayed to end the process of the flowchart shown in <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<heading id="h-0013" level="1">5. Transfer Image Storage Processing</heading>
<p id="p-0104" num="0103">Next, explanation is made on the operation of the picture bank server <b>34</b> when a captured image is transferred from the electronic camera <b>1</b> to the picture bank server <b>34</b>. <figref idref="DRAWINGS">FIG. 5</figref> is a flowchart illustrating the transfer image storage processing that is performed by the picture bank server <b>34</b>. Hereafter, explanation is made referring to the flowchart shown in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0105" num="0104">In step S<b>200</b>, a camera ID is received from the electronic camera <b>1</b>. The camera ID is transmitted from the electronic camera <b>1</b> in step S<b>109</b> in <figref idref="DRAWINGS">FIG. 4</figref> as explained above.</p>
<p id="p-0106" num="0105">In step S<b>201</b>, it is judged whether the electronic camera <b>1</b> that transmitted the camera ID is usable based on the camera ID received in step S<b>200</b>. For example, when a camera ID with an illegal content is received or the electronic camera <b>1</b> is set in an unlinked state to be detailed later, the electronic camera <b>1</b> is judged to be unusable and the procedure proceeds to step S<b>203</b>. On the other hand, when this is not the case, the electronic camera <b>1</b> is judged to be usable and the procedure proceeds to step S<b>202</b>.</p>
<p id="p-0107" num="0106">In step S<b>202</b> or step S<b>203</b>, the result of the judgment in step S<b>201</b> is transmitted to the electronic camera <b>1</b> as a server authentication result. That is, when the procedure proceeds from step S<b>201</b> to step S<b>202</b>, a notification that the server authentication result was OK is transmitted to the electronic camera <b>1</b>. On this occasion, the procedure proceeds to next step S<b>204</b> after the server authentication result is transmitted. On the other hand, when the procedure proceeds from step S<b>201</b> to step S<b>203</b>, a notification that the server authentication result was not OK is transmitted to the electronic camera <b>1</b>. On this occasion, the picture bank server <b>34</b> ends the processing in the flowchart shown in <figref idref="DRAWINGS">FIG. 5</figref> after the server authentication result is transmitted. Therefore, image transfer from the electronic camera <b>1</b> to the picture bank server <b>34</b> is not performed.</p>
<p id="p-0108" num="0107">In step S<b>204</b>, file information transmitted from the electronic camera <b>1</b> is received. The file information has been transmitted from the electronic camera <b>1</b> in step S<b>112</b> in <figref idref="DRAWINGS">FIG. 4</figref>. As mentioned above, the file information includes type, file name, and data size, and so on of non-transferred image file to be transferred.</p>
<p id="p-0109" num="0108">In step S<b>205</b>, any one of non-transferred image files represented by file information received in step S<b>204</b> is selected based on the file information. In next step S<b>206</b>, it is judged whether the image file selected in step S<b>205</b> is an image file already stored in the picture bank server <b>34</b>. If the selected image file is an already stored image file, the procedure proceeds to step S<b>208</b> and the image file is removed from the target of transfer in step S<b>208</b>. Thereafter, the procedure proceeds to step S<b>212</b>. On the other hand, if the image file selected in step S<b>205</b> has not been stored yet in the picture bank server <b>34</b>, the procedure proceeds to step S<b>207</b>.</p>
<p id="p-0110" num="0109">In step S<b>207</b>, it is judged whether the image file selected in step S<b>205</b> is a movie image file that has been already been stored in the picture bank server <b>34</b> to the middle of the movie image file. If the selected image file is not a movie image file that has been stored to the middle of the file, that is, when the selected image file is a still image file or a movie image file that has not yet been stored, the procedure proceeds to step S<b>211</b>. On the other hand, when the image file selected in step S<b>205</b> is a movie image file that has been already stored to the middle thereof, that is, when the movie image file has been stored to the middle thereof because the transfer was interrupted in the past, the procedure proceeds to step S<b>209</b>.</p>
<p id="p-0111" num="0110">In step S<b>209</b>, error check is performed on the movie image file that is judged to have already been stored to the middle of the movie image file instep S<b>207</b>. The error check is performed in the picture bank server <b>34</b> by collating the result of calculation of error check information calculated for each predetermined amount of data of the movie image file with the error check information transmitted together with the movie image file from the electronic camera <b>1</b> to the picture bank server <b>34</b> in the past. That is, if the result of the calculation of error check by the picture bank server <b>34</b> and the result of calculation of error check by the electronic camera <b>1</b> are identical for some portions, it is judged that data with correct contents have been stored for those portions. On the other hand, if both the results of calculation are different from each other for some portions of the movie image file, it is judged that data with incorrect contents have been stored for those portions. After performing the error check in this manner to judge which portions of the movie image file are correct and which portions of the movie image file are incorrect, the procedure proceeds to next step S<b>210</b>.</p>
<p id="p-0112" num="0111">In step S<b>210</b>, a retransmission start position for starting transmission of the movie image file again is set based on the result of the error check performed in step S<b>209</b>. On this occasion, the retransmission start position is set so that the retransmitted portion sets aside the portions judged to be correct but includes the portions judged to be incorrect. By setting the retransmission start position of the movie image file in this manner, the portions to be retransmitted can be designated based on the error check information transmitted in the past from the electronic camera <b>1</b> on the movie image of which transfer was interrupted. As a result, it is possible to instruct the electronic camera <b>1</b> to retransmit the movie image file except for the portions which have already been transmitted before the interruption.</p>
<p id="p-0113" num="0112">In step S<b>211</b>, the image file selected in step S<b>205</b> is set as a target of transfer. In next step S<b>212</b>, it is judged whether all of the non-transmitted image files represented by the file information received in step S<b>204</b> has been selected in step S<b>205</b> that has been thus far performed. If there are some non-transferred image files that have not been selected yet, the procedure returns to step S<b>205</b>. In step S<b>205</b> any one image file is selected from such image files, and the above-mentioned processing is performed on the thus selected image file. As a result, the processing described in steps S<b>206</b> to S<b>211</b> is performed for all the non-transferred image files. On the other hand, if all the non-transferred image files have been selected in step S<b>205</b>, the procedure proceeds to step S<b>213</b>.</p>
<p id="p-0114" num="0113">In step <b>213</b>, transfer instruction information is transmitted to the electronic camera <b>1</b>. On this occasion, transfer instruction information on the image file that has been set as a target of transfer in step S<b>211</b> is transmitted to thereby instruct the electronic camera <b>1</b> to transfer the image file. The transmitted transfer instruction information is received by the electronic camera <b>1</b> in step S<b>113</b> in <figref idref="DRAWINGS">FIG. 4</figref>, with the result that the image file corresponding to the instruction of the picture bank server <b>34</b> is transferred from the electronic camera <b>1</b>.</p>
<p id="p-0115" num="0114">In step S<b>214</b>, the image file transferred from the electronic camera <b>1</b> in step S<b>117</b> is received. In next step S<b>215</b>, the user of the electronic camera <b>1</b> is specified based on the camera ID received in step S<b>200</b> and it is judged whether the specified user has already been completed user registration in the picture bank server <b>34</b>. If the user registration has been completed, the procedure proceeds to step S<b>216</b> whereas if the user registration has not been completed yet, the procedure proceeds to step S<b>217</b>. A specific method for user registration will be explained later referring to the flowchart shown in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0116" num="0115">If it has been judged that the user registration has been completed in step S<b>215</b>, the image file is stored in a user folder in step S<b>216</b>. The user folder is a recording area set in the recording device of the picture bank server <b>34</b> at the time of user registration in order to record the captured images transferred from the electronic camera <b>1</b>. The picture bank server <b>34</b> assigns a predetermined quantity of memory in the recording device as a user folder for each user who has completed user registration. If a plurality of electronic cameras is registered for one and the same user, the picture bank server <b>34</b> assigns a quantity of memory corresponding to the number of electronic cameras to the user folder for such user. After the user registration is performed in this manner, the captured images are recorded in the user folder. When the processing in step S<b>216</b> is performed, the picture bank server <b>34</b> ends the process of the flowchart shown in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0117" num="0116">On the other hand, if it has been judged in step S<b>215</b> that the user registration has not been completed yet, image files are stored in a temporary folder in step S<b>217</b>. The temporary folder is a recording area set in advance in the recording device of the picture bank server <b>34</b> in order to record the captured images transferred from the electronic camera <b>1</b>. The picture bank server <b>34</b> assigns in advance a predetermined quantity of memory as a temporary folder in the recording device for each electronic camera <b>1</b>. In this manner, before the user registration is performed, the captured images are recorded in the temporary folder. After the user registration is completed, the image files thus far recorded in the temporary folder are moved into the user folder.</p>
<p id="p-0118" num="0117">In step S<b>218</b>, an e-mail is transmitted to the e-mail address of the user to invite user registration. The e-mail is called welcome mail, which contains URL (Uniform Resource Locator) information of registration page as information for connecting to the registration page at which user registration is performed. On this occasion, the welcome mail is transmitted after determining the e-mail address of the destination based on the information on e-mail address transmitted when the image file is transferred by the electronic camera <b>1</b>. When the processing in step S<b>218</b> is performed in this manner to record an image in the temporary file in step S<b>217</b>, a welcome e-mail is transmitted to the user accordingly. After the processing in step S<b>218</b> is performed, the picture bank server <b>34</b> ends the process of the flowchart shown in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0119" num="0118">If a welcome mail has already been transmitted to the user, the URL of the registration page is rewritten to another one when the welcome mail is transmitted in step S<b>218</b>. In this manner, each time when a welcome mail is transmitted, the URL, which is information for connection to the registration page, is changed. Further, the URL described in the welcome mail transmitted in the past is made invalid and only the URL described in the latest welcome mail that is transmitted this time is made valid. This can prevent a third party who has illegally obtained the past welcome mails from trying to perform user registration without permission of the user.</p>
<p id="p-0120" num="0119">By performing the transfer image storage processing as explained above, the picture bank server <b>34</b> stores the images transferred from the electronic camera <b>1</b>.</p>
<heading id="h-0014" level="1">6. User Registration Processing</heading>
<p id="p-0121" num="0120">Next, the operation of the picture bank server <b>34</b> upon user registration is explained. <figref idref="DRAWINGS">FIG. 6</figref> is a flowchart illustrating the user registration processing performed by the picture bank server <b>34</b> on this occasion. Hereafter, explanation is made referring to the flowchart shown in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0122" num="0121">In step S<b>301</b>, it is judged whether there has been a request for connection to the user registration page. The request for connection to the user registration page is performed by the user by operating the PC <b>35</b> so that the welcome mail transmitted from the picture bank server <b>34</b> in step S<b>218</b> shown in <figref idref="DRAWINGS">FIG. 5</figref> is received by the PC <b>35</b> and URL of the registration page described in the welcome mail is selected by, for example, clicking. The request for connection is input to the picture bank server <b>34</b> through the home access point <b>32</b> and the Internet <b>33</b>.</p>
<p id="p-0123" num="0122">In step S<b>302</b>, it is judged whether the URL designated in the request for connection in step S<b>301</b> is a valid URL. As mentioned above, the picture bank server <b>34</b> makes only the latest URL valid and the past URLs invalid when it transmits a welcome mail in step S<b>218</b> in <figref idref="DRAWINGS">FIG. 5</figref>. Therefore, if the latest URL judged to be valid is designated in the request for connection, the procedure proceeds to step S<b>303</b>. On the other hand, if the invalidated URL is designated in the request for connection, the procedure proceeds to step S<b>309</b>.</p>
<p id="p-0124" num="0123">In step S<b>303</b>, user registration page information for displaying a user registration page is output to the PC <b>35</b> connected through the Internet <b>33</b>. When the user registration page information is received by the PC <b>35</b>, the user registration page is displayed on the monitor of the PC <b>35</b>. On the user registration page, the user can input a password, key information for specifying the electronic camera <b>1</b> in the picture bank server <b>34</b>, and so on as user registration information by operating the PC <b>35</b>. The key information is displayed on the monitor of the PC <b>35</b> by a predetermined operation of the PC <b>35</b> and the contents of the key information are specific to each electronic camera <b>1</b>.</p>
<p id="p-0125" num="0124">In step S<b>304</b>, it is judged whether user registration information has been input in the PC <b>35</b>. The procedure remains in step S<b>304</b> until user registration information is input and proceeds to step S<b>305</b> when some user registration information is input.</p>
<p id="p-0126" num="0125">In step S<b>305</b>, user registration is performed based on the user registration information input by the user in step S<b>304</b>. On this occasion, the electronic camera <b>1</b> owned by the user is specified based on the above-mentioned key information input as the user registration information and the electronic camera <b>1</b> and the user are registered in correlation. Then the contents of the user registration information input by the user are recorded in the picture bank server <b>34</b>.</p>
<p id="p-0127" num="0126">In step S<b>306</b>, a user folder is created in the recording device of the picture bank server <b>34</b> for the user who has made registration in step S<b>305</b>. The user folder is assigned a predetermined quantity of memory. As mentioned above, if a plurality of electronic camera is registered for one and the same user, a quantity of memory corresponding to the number of electronic camera is assigned to the user folder.</p>
<p id="p-0128" num="0127">In step S<b>307</b>, it is judged whether there is any image file stored in a temporary folder set in advance in the recording device of the picture bank server <b>34</b> for the electronic camera <b>1</b> owned by the user who has made user registration in step S<b>305</b>. On this occasion, the electronic camera <b>1</b> owned by the user is specified based on the above-mentioned key information input as the user registration information. If the image file or files transmitted from the thus specified electronic camera <b>1</b> are stored in the temporary folder set for the electronic camera <b>1</b>, the procedure proceeds to step S<b>308</b>.</p>
<p id="p-0129" num="0128">In step S<b>308</b>, the image files stored in the temporary folder are moved into the user folder prepared in step S<b>306</b>. With this construction, the images that have been temporarily recorded in the temporary folder before the user registration are moved into the user folder prepared for each user. After the processing in step S<b>308</b> is performed, the picture bank server <b>34</b> ends the process of the flowchart in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0130" num="0129">On the other hand, if it has been judged that no image file is stored in the temporary folder in step S<b>307</b>, the picture bank server <b>34</b> does not perform the processing in step S<b>307</b> and ends the process of the flowchart in <figref idref="DRAWINGS">FIG. 6</figref>. On this occasion, images are not moved from the temporary folder to the user folder.</p>
<p id="p-0131" num="0130">If it has been judged in step S<b>302</b> that the URL designated by the request for connection is an invalid URL, an error message is output to the PC <b>35</b> in step S<b>309</b>. When the PC <b>35</b> has received the error message, it notifies the user of this fact by displaying a message to the effect that the user registration cannot be made. After the processing in step S<b>309</b> is performed, the picture bank server <b>34</b> ends the process of the flowchart in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0132" num="0131">By performing the user registration process as explained above, the picture bank server <b>34</b> performs user registration of the electronic camera <b>1</b> in response to the instruction for registration from the PC <b>35</b> connected therewith through the Internet <b>33</b>.</p>
<heading id="h-0015" level="1">7. Reset Processing</heading>
<p id="p-0133" num="0132">Next, explanation is made on the operation of the picture bank server <b>34</b> when the user registration is reset. <figref idref="DRAWINGS">FIG. 7</figref> is a flowchart illustrating the reset processing performed by the picture bank server <b>34</b> on this occasion. Hereafter, explanation is made referring to the flowchart in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0134" num="0133">In step S<b>401</b>, it is judged whether an unlink instruction has been input by the user. The unlink instruction is an instruction that is issued by the user in order to temporarily prohibit transfer of captured images from the electronic camera <b>1</b> to the picture bank server <b>34</b>. Input of the unlink instruction is performed by the user by operating the PC <b>35</b> connected to the picture bank server <b>34</b> through the Internet <b>33</b>. If there has been no input of the unlink instruction, the procedure remains at step S<b>401</b> whereas if there has been input of the unlink instruction, the procedure proceeds to step S<b>402</b>.</p>
<p id="p-0135" num="0134">In step S<b>402</b>, the electronic camera <b>1</b> is set in an unlink state. With this construction, the correlation of the electronic camera <b>1</b> with the user made upon the user registration is temporarily invalidated in response to the unlink instruction by the user. If it is tried to transfer captured images from the electronic camera <b>1</b> to the picture bank server <b>34</b> when the electronic camera <b>1</b> is thus set in an unlink state, the transfer of the images becomes impossible since the electronic camera <b>1</b> is judged to be an unusable camera in step S<b>201</b> in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0136" num="0135">In step S<b>403</b>, it is judged whether reset information has been transmitted from the electronic camera <b>1</b>. The reset information is automatically transmitted from the electronic camera <b>1</b> to the picture bank server <b>34</b> when a predetermined reset operation is performed by the user in the electronic camera <b>1</b> and then the electronic camera <b>1</b> and the picture bank server <b>34</b> is connected to each other through wireless LAN. When a reset operation is performed in the electronic camera <b>1</b>, the electronic camera <b>1</b> is initialized to a state of the original setting. On this occasion, the access point information, the nickname, the mail address, and so on registered in the electronic camera <b>1</b> are deleted.</p>
<p id="p-0137" num="0136">If the reset information has been transmitted from the electronic camera <b>1</b> in step S<b>403</b>, the procedure proceeds to step S<b>406</b>. In step S<b>406</b>, the user registration information recorded in the picture bank server <b>34</b> is deleted. With this construction, the correlation of the electronic camera <b>1</b> with the user is canceled and the user registration is invalidated. If a captured image is transferred from the electronic camera <b>1</b> to the picture bank server <b>34</b> after the user registration was invalidated as mentioned above, the captured image is stored in the temporary folder in the picture bank server <b>34</b> in the same manner as before the user registration. After the processing in step S<b>406</b> is performed, the picture bank server <b>34</b> ends the process of the flowchart in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0138" num="0137">On the other hand, if no reset information has been transmitted from the electric camera <b>1</b> in step S<b>403</b>, the procedure proceeds to step S<b>404</b>. In step S<b>404</b>, it is judged whether a relink instruction is input by the user to the electric camera <b>1</b> that has been set in an unlink state in step S<b>402</b>. The relink instruction is an instruction that is issued by the user in order to bring the state of the electronic camera <b>1</b> from the unlink state to the original registered state. The user can return the state of the electronic camera <b>1</b> in the picture bank server <b>34</b> to the original registered state by performing the relink instruction, for example, when the user has set the electronic camera <b>1</b> to an unlink state by mistake or when the user has set the electronic camera <b>1</b> in an unlink state in order to prohibit the transfer of the captured images upon lending the electronic camera <b>1</b>. Input of the relink instruction is performed by the user by operating the PC <b>35</b> connected to the picture bank server <b>34</b> through the Internet <b>33</b>.</p>
<p id="p-0139" num="0138">If there has been no input of the relink instruction in step S<b>404</b>, the procedure returns to step S<b>403</b> and the judgment on the presence of transmission reset information is repeated. On the other hand, if there has been input of the relink instruction, the procedure proceeds to step S<b>405</b>.</p>
<p id="p-0140" num="0139">In step S<b>405</b>, the unlink state set in step S<b>402</b> is canceled. With this construction, the correlation of the electronic camera <b>1</b> with the user temporarily invalidated is returned to the original registered state. After the processing in step S<b>405</b> is performed, the picture bank server <b>34</b> ends the process of the flowchart in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0141" num="0140">By performing the reset processing as explained above, the picture bank server <b>34</b> temporarily invalidates the user registration of the electronic camera <b>1</b> in response to the unlink instruction from the PC <b>35</b> connected thereto through the Internet <b>33</b>. Further, it recovers the temporarily invalidated user registration in response to the relink instruction from the PC <b>35</b>.</p>
<heading id="h-0016" level="1">8. Transfer Interrupted Image Storage Processing</heading>
<p id="p-0142" num="0141">Next, explanation is made on the operation of the picture bank server <b>34</b> when image transfer from the electronic camera <b>1</b> is interrupted. <figref idref="DRAWINGS">FIG. 8</figref> is a flowchart illustrating the transfer interrupted image storage processing performed by the picture bank server <b>34</b> on this occasion. Explanation is made referring to the flowchart shown in <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0143" num="0142">In step S<b>501</b>, it is judged whether there is an image of which transfer from the electronic camera <b>1</b> has been interrupted. If there is an image of which transfer has been interrupted in the picture bank serer <b>34</b>, the procedure proceeds to step S<b>502</b> whereas if there is no such image in the picture bank server <b>34</b>, the procedure proceeds to step S<b>503</b>. The interruption of image transfer from the electronic camera <b>1</b> occurs when the user voluntarily interrupts the transfer by operating the cancel button while the image is being transferred or when the connection through wireless LAN cannot be maintained, for example, due to worsening of radio wave environment.</p>
<p id="p-0144" num="0143">In step S<b>502</b>, it is judged whether the image of which transfer has been interrupted is a movie image or a still image. If the image is judged to be a movie image, the procedure proceeds to step S<b>503</b>. In step S<b>503</b>, a portion of the movie image, which portion has already been transferred before the interruption, is stored. On this occasion, the movie image portion is recorded and stored in the temporary folder before the user registration or in the user folder after the user registration.</p>
<p id="p-0145" num="0144">On the other hand, if the image is judged to be a still image, the procedure proceeds to step S<b>504</b>. In step S<b>504</b>, the portion that has already been transmitted before the interruption is deleted from the still image. That is, in the case of the still image, even if there is a portion that has already been transferred before the interruption, that portion is not stored but is deleted. After step S<b>503</b> or step S<b>504</b> is performed, the procedure proceeds to step S<b>505</b>.</p>
<p id="p-0146" num="0145">In step S<b>505</b>, it is judged whether a storage limitation for the portion of the movie image stored in step S<b>503</b>, which portion has already been transferred, has passed a predetermined storage limitation. If it has passed the predetermined storage limitation, the procedure proceeds to step S<b>506</b> and the portion of the stored movie image that has already been transmitted is deleted. With this construction, when the already transferred portion of the movie image is stored in the picture bank server <b>34</b>, it is stored for a predetermined period of time and after lapse of the time, it is deleted. As a result, it is prevented that the already transferred portion of the movie image, which is no longer necessary, is stored for a long period of time. After the processing in step S<b>506</b> is performed, the procedure returns to step S<b>501</b> and the above-mentioned processing is repeated. On the other hand, if it is judged that the storage limitation has not passed yet in step S<b>505</b>, the processing in step S<b>506</b> is not performed and the procedure returns to step S<b>501</b>.</p>
<p id="p-0147" num="0146">When the already transferred portion of the movie image has been stored in the above-mentioned manner, the quantity of data for that portion is deduced from the remaining recording capacity of the temporary folder or the user folder. That is, a value is obtained by deducing the quantity of data of the already transferred portion of the movie image stored in the temporary folder or the user folder from the recording capacity of the temporary folder assigned in advance to each electronic camera <b>1</b> or from the recording capacity of the user folder assigned in advance to each user. An upper limit value of total data quantity upon recording a still image or a movie image in the temporary folder or the user folder is determined based on this value. By so doing, the picture bank server <b>34</b> can maintain its storage capability even when transfer interruption of movie images occurs frequently.</p>
<p id="p-0148" num="0147">By performing the above-explained transfer interruption image storage processing, the picture bank server <b>34</b> can store the already transferred portion of a movie image for a predetermined period of time when the transfer of the movie image by the electronic camera <b>1</b> is interrupted. As a result, upon retransfer by the electronic camera <b>1</b> of the movie image, of which transfer has been interrupted, the movie image can be retransferred from the middle thereof after removing the already transferred portion thereof.</p>
<p id="p-0149" num="0148">According to the embodiments explained above, the following advantageous effects can be obtained.</p>
<p id="p-0150" num="0149">(1) The electronic camera <b>1</b> is constructed such that the controller <b>17</b> judges whether the power for charging the rechargeable battery <b>4</b> is supplied from outside (step S<b>1</b>). When it has been judged that the power is supplied from outside, the captured image is transferred to the picture bank server <b>34</b> via the wireless LAN connected by the wireless LAN module <b>24</b> (step S<b>117</b>). With this construction, the captured image can be transferred from the electronic camera <b>1</b> at appropriate timing without any instruction for transfer by the user.
<br/>
(2) When the controller <b>17</b> selects non-transferred image files in step S<b>111</b>, it judges whether each image file has been transferred to the picture bank server <b>34</b> based on the archive bits set to respective image files of captured images. Then, the controller <b>17</b> transfers the image files except for those image files judged to have already been transferred to the picture bank server <b>34</b> (step S<b>117</b>). With this construction, non-transferred captured images can be easily selected and transferred.
<br/>
(3) The electronic camera <b>1</b> switches power ON or OFF by the power switch in the operation portion <b>16</b>. The controller <b>17</b> judges whether the power is OFF (step S<b>2</b>) and if the power has not been judged to be OFF, the procedure proceeds to step S<b>12</b>. With this construction, the transfer of captured images is prohibited in the case where it has been judged that when the power of the electronic camera <b>1</b> has been turned ON and the power is supplied from outside in step S<b>1</b>. With this construction, unnecessary transfer of captured images can be prohibited when the electronic camera <b>1</b> is switched to external power operation and operated by the user.
<br/>
(4) The controller <b>17</b> turns the power of the electronic camera <b>1</b> OFF after the captured images have been transferred to the picture bank server <b>34</b> in step S<b>117</b> (step S<b>14</b>). With this construction, the power is prevented from being consumed wastefully.
<br/>
(5) The electronic camera <b>1</b> detects the input operation by the user through the operation portion <b>16</b> and sets access point information by the controller <b>17</b> based on the input operation. The electronic camera <b>1</b> causes the controller <b>17</b> to control the wireless LAN module <b>24</b> based on the access point information to connect to the public access point <b>31</b> or the home access point <b>32</b> and transfers captured images to the picture bank server <b>34</b> through the connected access point (step S<b>117</b>). With this construction, the captured images can be transferred from the electronic camera <b>1</b> without inputting setting information used for the connection to the destination of transfer in advance by the user.
<br/>
(6) In the electronic camera <b>1</b>, the access point information set in the PC <b>35</b> connected thereto through a cable is received by the external interface <b>23</b> from the PC <b>35</b>. The controller <b>17</b> causes the wireless LAN module <b>24</b> to connect to the public access point <b>31</b> or the home access point <b>32</b> based on the access point information. With this construction, the access point information can be set from the PC <b>35</b>, which is a terminal device.
<br/>
(7) In the electronic camera <b>1</b>, the free-plan access point information registered in advance is stored in the memory <b>18</b>. The controller <b>17</b> causes the wireless LAN module <b>24</b> to connect to the public access point <b>31</b> based on the free-plan access point information. With this construction, the captured images can be transferred from the electronic camera <b>1</b> without setting any access point information.
<br/>
(8) The memory <b>18</b> stores access point information for connecting free of charge to the public access point <b>31</b> as the free-plan access point information. With this construction, the captured imaged can be transferred by connecting free of charge the electronic camera <b>1</b> to the public access point <b>31</b>.
<br/>
(9) The temporary folder and user folder for storing the captured images transferred from the electronic camera <b>1</b> are set in the recording device in the picture bank server <b>34</b>. The picture bank server <b>34</b> performs user registration of the electronic camera <b>1</b> corresponding to an instruction for registration by the user (step S<b>305</b>). Before the user registration is performed, the captured images are stored in the temporary folder (step S<b>217</b>). After the user registration is performed, the captured images that have been stored in the temporary folder are moved into the user folder (step S<b>308</b>), and the captured images are stored in the user folder (step S<b>216</b>). With this construction, the captured images transferred from the electronic camera <b>1</b> can be appropriately sorted user by user and stored in the picture bank server <b>34</b>.
<br/>
(10) The picture bank server <b>34</b> transmits a welcome mail, which is an e-mail that invites user registration once a captured image is stored in the temporary folder (step S<b>218</b>) With this construction, it is possible to invite user registration for users who have not made user registration yet.
<br/>
(11) In step S<b>218</b>, the picture bank server <b>34</b> transmits a welcome mail based on the mail address information transmitted together with the captured image from the electronic camera <b>1</b>. With this construction, the welcome mail can be transmitted to the mail address of the user without fail.
<br/>
(12) The welcome mail transmitted by the picture bank server <b>34</b> in step S<b>218</b> includes URL of registration page as connection information for connecting to the registration page for performing user registration. With this construction, the user who has received the welcome mail can perform user registration without difficulty.
<br/>
(13) In step S<b>218</b>, the picture bank server <b>34</b> changes the URL of the registration page and invalidates the URLs that have been transmitted in the past each time when a welcome mail is transmitted. With this construction, even when a third party who has illegally obtained the welcome mail in the past attempts to perform user registration, such attempt can be prevented.
<br/>
(14) The recording device of the picture bank server <b>34</b> assigns to the temporary folder a predetermined quantity of recording capacity for each individual electronic camera <b>1</b> and assigns to the user folder a predetermined quantity of recording capacity for each user who has performed user registration. With this construction, an appropriate quantity of recording capacity can be assigned to each of the temporary folder and the user folder.
<br/>
(15) When a plurality of electronic camera <b>1</b> has been registered for a single user, the recording device of the picture bank server <b>34</b> assigns to the user folder a quantity of recording capacity depending on the number of registered electronic cameras. With this construction, the recording capacity of the user folder can be increased depending on the number of registered electronic cameras for the user who owns a plurality of electronic cameras.
<br/>
(16) The picture bank server <b>34</b> registers the electronic camera <b>1</b> and the user in correlation based on the user registration information input by the user in step S<b>304</b> (step S<b>305</b>). With this construction, the captured images transferred from the electronic camera <b>1</b> can be appropriately sorted user by user and stored.
<br/>
(17) When an unlink instruction is input by the user (step S<b>401</b>), the picture bank server <b>34</b> performs setting to an unlink state for invalidating the correlation of the electronic camera <b>1</b> with the user in response to the unlink instruction (step S<b>402</b>). When the unlink state is set, the picture bank server <b>34</b> prohibits transfer of the captured images from the electronic camera <b>1</b>. With this construction, the user can instruct the picture bank server <b>34</b> to prohibit the transfer of the captured images from the electronic camera <b>1</b> temporarily.
<br/>
(18) If reset information is transmitted from the electronic camera <b>1</b> when the unlink state has been set in step S<b>402</b> (step S<b>403</b>), the picture bank server <b>34</b> cancels the correlation of the electronic camera <b>1</b> with the user and cancels the user registration (step S<b>406</b>). With this construction, the state of the electronic camera <b>1</b> in the picture bank server <b>34</b> can be returned to the state similar to that before the user registration in response to transmission of the reset information from the electronic camera <b>1</b>.
<br/>
(19) When a relink instruction is input by the user (step S<b>404</b>), the picture bank server <b>34</b> cancels the setting of the unlink state in response to the relink instruction and returns the correlation of the electronic camera <b>1</b> with the user that has been invalidated (step S<b>405</b>). With this construction, the user can return the state of the electronic camera <b>1</b> in the picture bank server <b>34</b> to the original registered state, for example, in the case where the electronic camera <b>1</b> has been erroneously set into an unlink state or where the electronic camera <b>1</b> has been set into an unlink state in order to prohibit the transfer of the captured images upon lending the electronic camera <b>1</b> to others.
<br/>
(20) The electronic camera <b>1</b> connects to the wireless LAN through the wireless LAN module <b>24</b> and transfers still images or movie images to the picture bank server <b>34</b> through the controller <b>17</b> (step S<b>117</b>). On this occasion, when retransferring a movie image, transfer of which has been interrupted, the electronic camera <b>1</b> retransfers the movie image except for the portion that has already transferred before the interruption. With this construction, when the transfer of the movie image has been interrupted, the occurrence of extra communication time and extra communication data quantity required for the retransfer can be minimized.
<br/>
(21) The electronic camera <b>1</b> calculates error check information for each predetermined data quantity of the movie image through the controller <b>17</b> (step S<b>116</b>) and transmits the calculated error check information to the picture bank server <b>34</b> when the movie image is transferred in step S<b>117</b>. Thereafter, when the movie image, of which transfer has been interrupted, is retransferred in step S<b>117</b>, the controller <b>17</b> retransfers the portion designated by the picture bank server <b>34</b> based on the error check information transmitted in the past. With this construction, only the portion, of which transfer has been interrupted, except for the portion that has been normally transferred before the interruption can be retransferred without fail.
<br/>
(22) When the transfer of a movie image by the controller <b>17</b> of the electronic camera <b>1</b> has been interrupted, the picture bank server <b>34</b> stores the already transferred portion of the movie image only for a predetermined period of time (step S<b>503</b>). Then, after lapse of the predetermined period of time, the already transferred portion of the stored movie image is deleted (step S<b>506</b>). With this construction, it can be prevented that the already transferred portion of a movie image, which is unnecessary, is stored fora long period of time in the picture bank server <b>34</b>.
</p>
<p id="p-0151" num="0150">The recording device of the picture bank server <b>34</b> determines an upper limit value of total data quantity upon recording a still image or a movie image transferred from the electronic camera <b>1</b> based on a value that is obtained by deducing the quantity of data of the already transferred portion of the movie image stored in step S<b>503</b> from the recording capacity for the temporary folder assigned to each electronic camera <b>1</b> or the recording capacity for the user folder assigned to each user of the electronic camera <b>1</b>. With this construction, even when transfer interruption of movie images occurs frequently, the picture bank server <b>34</b> can maintain its storage capability.</p>
<p id="p-0152" num="0151">(24) The picture bank server <b>34</b> transmits transfer instruction information to the electronic camera <b>1</b> for designating the image file to be transferred (step S<b>213</b>). In the transfer instruction information, the picture bank server <b>34</b> designates to the electronic camera <b>1</b> a portion to be retransferred on a movie image of which transfer has been interrupted based on the error check information transmitted from the electronic camera <b>1</b> in the past. With this construction, it is possible to designate only the interrupted portion in the movie image, of which transfer has been interrupted, and retransfer it without fail.
<br/>
(25) The electronic camera <b>1</b> stores in the memory <b>18</b> a plurality of types of access point information registered in advance for connecting the wireless LAN module <b>24</b> to the public access point <b>31</b>. Then, the controller <b>17</b> selects any one of the plurality of types of access point information stored in the memory <b>18</b> based on the shipment target area for the electronic camera <b>1</b> set in advance, causes the wireless LAN <b>24</b> to connect to the public access point <b>31</b> based on the selected access point information, and transfers the captured images to the picture bank server <b>34</b> through the connected public access point <b>31</b>. With this construction, appropriate public access point can be selected corresponding to the shipment target area for the electronic camera.
<br/>
(26) The memory <b>18</b> stores a plurality types of access point information for connecting free of charge to the public access point <b>31</b> as free-plan access point information. With this construction, the captured images can be transferred by connecting the electronic camera <b>1</b> with the public access point <b>31</b> free of charge.
</p>
<p id="p-0153" num="0152">The above-mentioned embodiments and various modifications are merely exemplary. Therefore, the present invention is not limited to the contents of these embodiments and modifications as far as the features of the present invention are not damaged.</p>
<p id="p-0154" num="0153">The disclosure of the following priority application is herein incorporated by reference:</p>
<p id="p-0155" num="0154">Japanese Patent Application No. 2007-38021 (filed Feb. 19, 2007).</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An electronic camera comprising:
<claim-text>a transfer control unit that transfers a captured image to a server through a wireless network;</claim-text>
<claim-text>a power supply judgment unit that judges whether or not power supply from outside has started;</claim-text>
<claim-text>a power source switching unit that switches a power source of the electronic camera to ON or OFF; and</claim-text>
<claim-text>a controller that controls a state of power supply;</claim-text>
<claim-text>wherein:</claim-text>
<claim-text>when the power source of the electronic camera has been switched to OFF by the power source switching unit and if it has been judged by the power supply judgment unit that supply of the power has started, the controller switches the power source of the electronic camera from OFF to ON, and the transfer control unit transfers the captured image to the server, and</claim-text>
<claim-text>when the power source of the electronic camera has been switched to ON by the power source switching unit and if it has been judged by the power supply judgment unit that supply of the power has started, the transfer control unit prohibits transfer of the captured image to the server.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The electronic camera according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a transfer judgment unit that judges whether or not each image file of the captured image has already been transferred to the server based on an archive bit set for each image file, wherein</claim-text>
<claim-text>the transfer control unit transfers to the server image files except for image files that are judged to have already been transferred to the server by the transfer judgment unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The electronic camera according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the controller switches the power source of the electronic camera from OFF to ON after the transfer control unit has transferred the captured image to the server.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The electronic camera according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>when the power source of the electronic camera has been switched to ON by the power source switching unit and if it has been judged by the power supply judgment unit that supply of the power has started, the controller switches power for actuation being supplied to each component of the electronic camera from a rechargeable battery so that the power for actuation is supplied to each component of the electronic camera from an AC adapter, and the transfer control unit prohibits transfer of the captured image to the server. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
