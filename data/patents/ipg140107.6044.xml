<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08627167-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08627167</doc-number>
<kind>B1</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11968556</doc-number>
<date>20080102</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<us-term-of-grant>
<us-term-extension>1210</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>M</subclass>
<main-group>13</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>714755</main-classification>
<further-classification>714752</further-classification>
<further-classification>714758</further-classification>
<further-classification>714781</further-classification>
<further-classification>714782</further-classification>
<further-classification>714784</further-classification>
</classification-national>
<invention-title id="d2e53">Methods and apparatus for providing multi-layered coding for memory devices</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5224106</doc-number>
<kind>A</kind>
<name>Weng</name>
<date>19930600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714755</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5844918</doc-number>
<kind>A</kind>
<name>Kato</name>
<date>19981200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714751</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5946328</doc-number>
<kind>A</kind>
<name>Cox et al.</name>
<date>19990800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714784</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6173431</doc-number>
<kind>B1</kind>
<name>Rittle</name>
<date>20010100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714778</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6903887</doc-number>
<kind>B2</kind>
<name>Asano et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>360 31</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7263650</doc-number>
<kind>B2</kind>
<name>Keeler et al.</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714769</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>7389463</doc-number>
<kind>B2</kind>
<name>Ramaswamy et al.</name>
<date>20080600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714752</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>7895502</doc-number>
<kind>B2</kind>
<name>Han et al.</name>
<date>20110200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714764</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>8255761</doc-number>
<kind>B1</kind>
<name>Pi et al.</name>
<date>20120800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714752</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2002/0056064</doc-number>
<kind>A1</kind>
<name>Kidorf et al.</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714755</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2007/0049990</doc-number>
<kind>A1</kind>
<name>Klostermann et al.</name>
<date>20070300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>607 60</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2008/0229147</doc-number>
<kind>A1</kind>
<name>Earhart et al.</name>
<date>20080900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714 15</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2009/0313526</doc-number>
<kind>A1</kind>
<name>Neuman</name>
<date>20091200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714758</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>23</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>12</number-of-drawing-sheets>
<number-of-figures>12</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60883858</doc-number>
<date>20070108</date>
</document-id>
</us-provisional-application>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Yang</last-name>
<first-name>Xueshi</first-name>
<address>
<city>Sunnyvale</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Burd</last-name>
<first-name>Gregory</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Wu</last-name>
<first-name>Zining</first-name>
<address>
<city>Los Altos</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Yang</last-name>
<first-name>Xueshi</first-name>
<address>
<city>Sunnyvale</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Burd</last-name>
<first-name>Gregory</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Wu</last-name>
<first-name>Zining</first-name>
<address>
<city>Los Altos</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Marvell International Ltd.</orgname>
<role>03</role>
<address>
<city>Hamilton</city>
<country>BN</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>DeCady</last-name>
<first-name>Albert</first-name>
<department>2112</department>
</primary-examiner>
<assistant-examiner>
<last-name>Knapp</last-name>
<first-name>Justin R</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Systems and methods are provided for recovering data stored in memory. A group of data is encoded using a first layer of code to form a first encoded group of data. Individual portions of the first encoded group of data are then encoded using a second layer of code to form a second encoded group of data. A processor may request access to an individual portion of the group of data. The encoded version of the requested individual portion is retrieved from memory and decoded using the second layer of code to recover the requested individual portion. If the recovery of the requested individual portion fails, the remaining encoded portions of the group are retrieved from memory and decoded using the first layer of code to recover the requested individual portion.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="193.89mm" wi="162.56mm" file="US08627167-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="233.93mm" wi="172.64mm" orientation="landscape" file="US08627167-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="231.31mm" wi="122.94mm" file="US08627167-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="228.01mm" wi="140.72mm" file="US08627167-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="232.33mm" wi="149.94mm" file="US08627167-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="218.10mm" wi="169.33mm" file="US08627167-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="139.02mm" wi="147.91mm" file="US08627167-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="141.99mm" wi="149.61mm" file="US08627167-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="125.22mm" wi="151.55mm" file="US08627167-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="153.84mm" wi="155.53mm" file="US08627167-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="158.50mm" wi="161.80mm" file="US08627167-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="140.72mm" wi="164.08mm" file="US08627167-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="154.18mm" wi="166.71mm" file="US08627167-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATION</heading>
<p id="p-0002" num="0001">This application claims the benefit of U.S. Provisional Application No. 60/883,858, filed Jan. 8, 2007, which is hereby incorporated by reference herein in its entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">The present invention is directed to methods and apparatus for providing multi-layered coding for memory devices, and more particularly encoding and decoding data in multiple layers to efficiently maintain data integrity.</p>
<p id="p-0004" num="0003">Typically data storage systems store data in non-volatile memory devices, e.g., flash memory devices. Such memory devices, however, may be unreliable in some circumstances due to programming imperfections or defects that may cause errors in the stored information. For example, flash memory devices contain cells with statistically varying voltage threshold, which result in varying read-out current. Such variation in the read-out current reduces the margin between signal levels and may lead to read-out errors. Thus, correction schemes become critical for compensating for the read-out errors.</p>
<p id="p-0005" num="0004">Data may be stored and organized in memory devices, e.g., non-volatile memory devices, in a structured paradigm. The structured paradigm may be made up of multiple allocation units which may be the smallest element of data that includes, for example, 512 bytes of data. Each of these allocation units is typically referred to as a page of data. A group of these allocation units (i.e., pages of data) form a larger data packet of the structured paradigm and may be referred to as a data sector. Data sectors may include four pages of data. A data file may be spread across many data sectors or may reside in a fractional data sector occupying, for example, less than four pages of data. A processor or controller may retrieve data either in pages or sectors.</p>
<p id="p-0006" num="0005">Correction schemes, known as coding mechanisms, may include Cyclic Codes, among others, and may in some limited circumstances correct and/or detect errors in data read from memory devices using parity bits that are appended to the data stored in the memory. These correction schemes, however, may reduce the efficiency of the overall system because the correction schemes may compute parity bits across multi-page units (e.g., a data sector) and may therefore require large blocks of data (e.g., data sectors) to be read in order to perform the correction, thereby preventing the processor from reading the data one page at a time. Alternatively, if the CRC is performed on a page-by-page basis, the integrity of the data is reduced because less correction/detection is possible.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0007" num="0006">In accordance with the principles of the present invention, methods and apparatus are provided for providing multi-layered coding for memory devices.</p>
<p id="p-0008" num="0007">In some embodiments, a group of data may include individual portions of data. The individual portions of the group of data may initially be encoded jointly by a first layer encoder. The first layer encoder may be a systematic encoder such as a Reed-Solomon Code. Each individual portion of the group of data may then be encoded individually or independently of the other portions using a second layer encoder. The second layer encoder may be another Reed-Solomon Code of a smaller complexity or may otherwise operate on a smaller scale. The encoded group of data including the coding information generated by each of the first and second layer encoders may be stored in a memory.</p>
<p id="p-0009" num="0008">In some embodiments, the encoded data may be further encoded by a third layer of code or a channel encoder prior to being stored in the memory.</p>
<p id="p-0010" num="0009">A processor may request access to one of the portions of the group of data. The encoded portion, including the second layer and third layer (if applicable), may be retrieved from the memory and provided to the decoder. The decoder may decode initially the third layer if one exists and subsequently decode the second layer of code to recover the portion of data. If the second layer is decoded successfully, the recovered portion is provided to the requesting processor. This obviates the need to retrieve the entire encoded group of data to recover one of the portions of the group and thus makes the system more efficient.</p>
<p id="p-0011" num="0010">If, on the other hand, the second layer decoder fails, the remaining portions of the group, including the first layer of coding information, may be retrieved. The decoder may decode the third layer if one exists and subsequently decode the second layer of code to recover the remaining portions of data. Each of the recovered portions of data including the portion of data which the second layer decoder failed to decode are then combined with the first layer of code and decoded jointly using the first layer decoder. The first layer decoder outputs the recovered group of data and may provide the requested portion to the processor.</p>
<p id="p-0012" num="0011">Accordingly, the efficiency of the memory system is increased because the remaining portions of the group (which may not have been requested by a processor) are decoded using the first layer only when the second layer decoder fails to decode the requested portion of the group. Moreover, the data integrity is enhanced by using adding an additional layer of protection (e.g., the second layer of code) to the encoded data to increase the likelihood of data recovery.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0013" num="0012">The above and other features of the present invention, its nature and various advantages will be more apparent upon consideration of the following detailed description, taken in conjunction with the accompanying drawings in which:</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram of an illustrative multi-layered coding system in accordance with an embodiment of the present invention;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 2</figref> is a detailed illustration of a multi-layered encoder in accordance with an embodiment of the present invention;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIGS. 3 and 4</figref> are detailed illustrations of a multi-layered decoder in accordance with an embodiment of the present invention;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a method of performing multi-layered coding in accordance with an embodiment of the present invention;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 6A</figref> is a block diagram of an exemplary hard disk drive that can employ the disclosed technology;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 6B</figref> is a block diagram of an exemplary digital versatile disc that can employ the disclosed technology;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 6C</figref> is a block diagram of an exemplary high definition television that can employ the disclosed technology;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 6D</figref> is a block diagram of an exemplary vehicle that can employ the disclosed technology;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 6E</figref> is a block diagram of an exemplary cell phone that can employ the disclosed technology;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 6F</figref> is a block diagram of an exemplary set top box that can employ the disclosed technology; and</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 6G</figref> is a block diagram of an exemplary media player that can employ the disclosed technology.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram of an illustrative multi-layered coding system <b>100</b> in accordance with an embodiment of the present invention. System <b>100</b> may include a multi-layered encoder <b>110</b>, a memory <b>120</b>, a multi-layered decoder <b>130</b> and a controller <b>140</b>. Controller <b>140</b> may be coupled to encoder <b>110</b> via communications link <b>148</b>, to memory <b>120</b> via communications link <b>142</b> and to decoder <b>130</b> via communications link <b>146</b>.</p>
<p id="p-0026" num="0025">Controller <b>140</b> may instruct encoder <b>110</b> to begin encoding an input data stream to generate an encoded data stream <b>112</b>. Encoder <b>110</b> may encode the input data stream in multiple layers. For example, encoder <b>110</b> may encode a group of data (e.g., multiple pages of data) that form, for example, a data sector jointly as a first encoded layer (also referred to herein as &#x201c;first layer&#x201d;). Encoder <b>110</b> may then encode portions of the group (e.g., each page that is included in the data sector) individually to form a second encoded layer (also referred to herein as &#x201c;second layer&#x201d;). It should be understood that encoder <b>110</b> may alternatively encode larger blocks of data, such as multiple data sectors, jointly (each including multiple pages of data) as the first layer and then encode each data sector that is included in the multiple data sectors block individually as the second layer, or perform multi-layered encoding of data in any other suitable manner. Additionally, an optional third layer of encoding may be provided as the channel-encoded layer. The third layer of encoding may perform an encoding operation on the encoded first and second layers. The operation of encoder <b>110</b> will be described in more detail in connection with the description of <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0027" num="0026">Encoded data stream <b>112</b> may be stored in memory <b>120</b> at an address provided by controller <b>140</b>. Encoder <b>110</b> may provide status information regarding an encoding operation to controller <b>140</b> via communications link <b>148</b>. Such status information may indicate when encoder <b>110</b> completes encoding data and/or whether an encoding process succeeded or failed. Memory <b>120</b> may be any type of volatile or non-volatile memory device including flash memory devices.</p>
<p id="p-0028" num="0027">Controller <b>140</b> may receive a request from a processor for data stored at a particular location in memory <b>120</b> (e.g., a request for a page of data). Controller <b>140</b> may provide an address via communications link <b>142</b> to memory <b>120</b> for reading out the data stored in memory <b>120</b> at the requested location. The data that is read out of memory <b>120</b> may be encoded data <b>122</b>. Encoded data <b>122</b> may be provided to decoder <b>130</b> to recover the data that was initially received by encoder <b>110</b> prior to being encoded. As defined herein the term &#x201c;recover&#x201d; means to recreate an estimate of originally received data that has been previously encoded. Recovering may require decoding encoded data, correcting errors that may be present in the encoded data, or both, to produce an estimate of the originally received data (represented in <figref idref="DRAWINGS">FIG. 1</figref> as recovered data <b>132</b>). The recovered data <b>132</b> (e.g., a page of data) may be provided to the requesting processor.</p>
<p id="p-0029" num="0028">Controller <b>140</b> may instruct decoder <b>130</b> to begin decoding encoded data <b>122</b> to recover data. Encoded data <b>122</b> that is read from memory <b>120</b> may be only a portion of a group of data that was encoded. For example, encoded data <b>122</b> may be an encoded page of an encoded data sector. Reading data out of memory <b>120</b> on an encoded page-by-page basis increases the efficiency of system <b>100</b>. In particular, the requesting processor may require access to only a page of data. System <b>100</b> may retrieve the requested page and decode the page to recover the data without retrieving the other pages in the data sector. Thus, the efficiency of system <b>100</b> is increased.</p>
<p id="p-0030" num="0029">Decoder <b>130</b> may decode encoded data <b>122</b> retrieved from memory <b>120</b> in multiple layers and (in one implementation) in the reverse order in which the data was encoded by encoder <b>110</b>. For example, decoder <b>130</b> may first apply channel decoding to the encoded data portion to decode the third layer of encoding if one was used by encoder <b>110</b>. Decoder <b>130</b> may then decode the second layer of the data portion after the third layer has been decoded. If the second layer of decoding is successful, the data portion (e.g., page of data) that is recovered may be provided to the requesting processor. However, when the second layer of decoding fails, controller <b>140</b> (or optionally decoder <b>130</b>) may read the remaining encoded portions of the group of data from memory <b>120</b> to decode the first layer. Decoding the group of data portions jointly using the first layer may correct errors in the requested portion of data (e.g., the page of data) that the second layer decoder failed to decode. Thus, the first layer of encoding provides an additional layer of protection in case one of the other decoding layers fails. Moreover, the benefits of providing encoding on large blocks of data are provided without requiring all of the data portions of the large block of data to be read out every time, thereby increasing the overall efficiency of the memory system. The operation of decoder <b>130</b> will be described in more detail in connection with the description of <figref idref="DRAWINGS">FIGS. 3 and 4</figref>.</p>
<p id="p-0031" num="0030">Decoder <b>130</b> may provide status information regarding a decoding operation to controller <b>140</b> via communications link <b>146</b>. Such status information may indicate when decoder <b>130</b> completes decoding data and/or whether a decoding process succeeded or failed. Controller <b>140</b> may use this information to, for example, instruct memory <b>120</b> to output additional portions of a group of data when decoder <b>130</b> fails to decode a particular data portion of the group (e.g., using the second layer of decoding) and requires the remaining portions of the group of data to decode the group portions jointly (e.g., using the first layer of decoding).</p>
<p id="p-0032" num="0031">Communications links <b>148</b>, <b>112</b>, <b>142</b>, <b>122</b>, <b>134</b> and <b>146</b> may be any wired or wireless communications medium. For example, one or more of the communications links may be short-range point-to-point communication paths, such as USB cables, IEEE 1394 cables, wireless paths (e.g., Bluetooth, infrared, IEEE 802-11&#xd7;, etc.), or other short-range communication via wired or wireless paths. BLUETOOTH is a certification mark owned by Bluetooth SIG, INC.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 2</figref> is a detailed illustration of multi-layered encoder <b>110</b> in accordance with an embodiment of the present invention. Encoder <b>110</b> may include a first layer encoder <b>210</b> and a second layer encoder <b>220</b>. In some scenarios encoder <b>110</b> may also include a third layer encoder such as a channel encoder <b>230</b>.</p>
<p id="p-0034" num="0033">A group of data <b>240</b> that may include multiple data portions <b>242</b> may be received by encoder <b>110</b>. For example, group of data <b>240</b> may be a data sector (S) that may include multiple data pages (A, B, C, D) as data portions <b>242</b>. First layer encoder <b>210</b> may encode all of data portions <b>242</b> jointly. In one implementation, first layer encoder <b>210</b> is a systematic encoder that appends parity bits resulting from the encoding operation to the end of the data group <b>240</b>. Appending the parity bits to the end of the data group <b>240</b> instead of intermixing the parity bits within the data portions <b>242</b> allows the data portions <b>242</b> to be decoded individually and increases the efficiency of the system. First layer encoder <b>210</b> may be, for example, a Reed-Solomon code (e.g., an 8-way interleaved Reed-Solomon code or a 2-way interleaved Reed-Solomon code), a BHC code, a Hamming code or any other type of algebraic code, preferably in systematic form.</p>
<p id="p-0035" num="0034">First layer encoder <b>210</b> may also receive a set of control signals <b>212</b>. Control signals <b>212</b> may be used to select the type of encoding mechanism that is used for the first layer of encoding. For example, encoder <b>210</b> may implement several types of encoders (e.g., Reed-Solomon/BHC) and control signals <b>212</b> may instruct first layer encoder <b>210</b> to apply one of the types of the encoders and not the other. Alternatively, first layer encoder <b>210</b> may be implemented on a programmable device. In such scenarios, control signals <b>212</b> may reconfigure or place a different encoding mechanism into first layer encoder <b>210</b>. Allowing first layer encoder <b>210</b> to be reconfigured increases the flexibility of the system by allowing the system to adapt the encoder/decoder based on the data sets.</p>
<p id="p-0036" num="0035">First layer encoder <b>210</b> may output an encoded data group <b>250</b>. Encoded data group <b>250</b> may include coding information <b>252</b> (e.g., parity bits) that may be appended to the end of the data set.</p>
<p id="p-0037" num="0036">Encoded data group <b>250</b> may next be further encoded by second layer encoder <b>220</b>. Second layer encoder <b>220</b> may encode individual data portions <b>242</b> of data group <b>240</b>. For example, second layer encoder <b>220</b> may encode each data page of a data sector individually. In particular, pages A, B, C and D of data sector S may individually be encoded by second layer encoder <b>220</b>. This will subsequently, in the decoding processes, allow the individual data portions (e.g., pages A-D) to be decoded separately, thereby obviating the need to read out all of the data pages for decoding as a group. This will be described in more detail in connection with <figref idref="DRAWINGS">FIGS. 3 and 4</figref>. Second layer encoder <b>220</b> may be, for example, a Reed-Solomon code (e.g., an 8-way interleaved Reed-Solomon code or a 2-way interleaved Reed-Solomon code), a BHC code or any other type of algebraic code, preferably in systematic form. In an alternate embodiment, the parities generated from the first layer encoder <b>210</b> may be encoded by the second layer encoder <b>220</b>.</p>
<p id="p-0038" num="0037">Second layer encoder <b>220</b> may also receive a set of control signals <b>222</b>. Control signals <b>222</b> may be used to select the type of encoding mechanism that is used for the second layer of encoding. For example, encoder <b>220</b> may implement several types of encoders (e.g., Reed-Solomon or BHC) and control signals <b>222</b> may instruct second layer encoder <b>220</b> to apply one of the types of the encoders and not the other. Alternatively, second layer encoder <b>220</b> may be implemented on a programmable device. In such scenarios, control signals <b>222</b> may reconfigure or place a different encoding mechanism into second layer encoder <b>220</b>. Allowing second layer encoder <b>220</b> to be reconfigured increases the flexibility of the system by allowing the system to adapt the encoder/decoder based on the data sets.</p>
<p id="p-0039" num="0038">Second layer encoder <b>220</b> may output encoded data set <b>260</b> which may include coding information <b>252</b> for group of data <b>240</b> as well as coding information <b>262</b><i>a</i>-<i>d </i>for each individual data portion A-D, respectively, of data group <b>240</b>.</p>
<p id="p-0040" num="0039">Encoded data set <b>260</b> may be stored directly to memory <b>120</b>. Alternatively, encoded data set <b>260</b> may be further encoded by a third layer encoder <b>230</b> such as a channel encoder. The channel encoder may apply a code that is effective for a particular type of transmission medium such as wired or wireless communications medium. The channel encoder may, for example, implement trellis coded modulation (TCM) codes, or low density parity check (LDPC) codes.</p>
<p id="p-0041" num="0040">Third layer encoder <b>230</b> may also receive a set of control signals <b>232</b>. Control signals <b>232</b> may be used to select the type of encoding mechanism that is used for the third layer of encoding. For example, third layer encoder <b>230</b> may implement several types of encoders (e.g., TCM, LDPC, Turbo codes, and/or any other types of code applicable to a transmission medium such as wireless or wired communications medium) and control signals <b>232</b> may instruct third layer encoder <b>230</b> to apply one of the types of the encoders and not the other. Alternatively, third layer encoder <b>230</b> may be implemented on a programmable device. In such scenarios, control signals <b>232</b> may reconfigure or place a different encoding mechanism into third layer encoder <b>230</b>. Allowing third layer encoder <b>230</b> to be reconfigured increases the flexibility of the system by allowing the system to adapt the encoder/decoder based on the data sets and the communications medium that is used.</p>
<p id="p-0042" num="0041">Third layer encoder <b>230</b> may output channel-encoded data set <b>270</b>, which may include coding information <b>252</b> for group of data <b>240</b> as well as coding information <b>262</b><i>a</i>-<i>d </i>for each of individual data portions A-D, respectively, of data group <b>240</b> and coding information <b>272</b> for the channel. Channel-encoded data set <b>270</b> may be stored to memory <b>120</b> for later retrieval.</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIGS. 3 and 4</figref> are detailed illustrations of multi-layered decoder <b>130</b> in accordance with an embodiment of the present invention. Decoder <b>130</b> may include a second layer decoder <b>320</b> and a first layer decoder <b>410</b>. In some scenarios it may be desirable to include a third layer decoder or channel decoder <b>310</b> in decoder <b>130</b>. For example, when encoder <b>110</b> applies a channel code to the encoded data set that is stored in memory, decoder <b>130</b> can include channel decoder <b>310</b>.</p>
<p id="p-0044" num="0043">A processor (not shown) may request to access a particular portion of data (e.g., a page of data). The processor may provide an address of the portion of data either to controller <b>140</b> (<figref idref="DRAWINGS">FIG. 1</figref>) or directly to memory <b>120</b>. Memory <b>120</b> may receive the address at an address input through communications link <b>142</b> and may output the encoded portion of data <b>330</b> that corresponds to the desired address location. Encoded portion of data <b>122</b> may be provided to decoder <b>130</b> for recovering the original data portion <b>242</b> of group of data <b>240</b> (<figref idref="DRAWINGS">FIG. 2</figref>). It is important to note that even though data portions <b>242</b> have been encoded jointly, because of the encoding mechanism described above in connection with <figref idref="DRAWINGS">FIG. 2</figref>, (in one implementation) the encoded data may be retrieved from memory <b>120</b> in encoded portions. This avoids the need to retrieve the encoded group in its entirety when the processor requests access to a single portion of the group of data <b>240</b>. This makes the system more efficient because it decreases the load on decoder <b>130</b> and the amount of data that has to be retrieved from memory <b>120</b>.</p>
<p id="p-0045" num="0044">As shown in <figref idref="DRAWINGS">FIG. 3</figref>, an address provided at the input of memory <b>120</b> corresponds to encoded data portion <b>330</b> (e.g., data page B of sector S). Data portion <b>330</b> may be encoded with a channel code in addition to the second layer code. Data portion <b>330</b> that is read may include coding information corresponding to the second layer of encoding and coding information corresponding to the third layer or channel encoder. It may not be necessary to read out the coding information corresponding to the first layer of encoding since only a portion of the encoded group of data is being accessed. However, as will be described in more detail below, if the decoder fails to decode the requested portion using only the second and third layer of code, then the remaining portions of the group may be retrieved in addition to the first layer of code to decode all layers of code jointly to recover the requested data portion.</p>
<p id="p-0046" num="0045">Channel decoder <b>310</b> or the third layer decoding may be applied to data portion <b>330</b> to decode the channel code from data portion <b>330</b>. Channel decoder <b>310</b> may output data portion <b>340</b>, which includes coding information corresponding to the second layer of encoding, to second layer decoder <b>320</b>.</p>
<p id="p-0047" num="0046">Third layer decoder or channel decoder <b>310</b> may also receive a set of control signals <b>312</b>. Control signals <b>312</b> may be used to select the type of decoding mechanism that is used for the third layer of decoding. In one implementation, the decoding mechanism that is selected matches the encoding mechanism that was used by the third layer encoder <b>230</b> (<figref idref="DRAWINGS">FIG. 2</figref>). For example, decoder <b>310</b> may implement several types of decoders (e.g., TCM, LDPC, Turbo codes and/or other types of code applicable to a transmission medium such as a wireless or wired communications medium) and control signals <b>312</b> may instruct third layer decoder <b>310</b> to apply one of the types of the decoders and not the other. Alternatively, third layer decoder <b>310</b> may be implemented on a programmable device. In such scenarios, control signals <b>312</b> may reconfigure or place a different decoding mechanism into third layer encoder <b>310</b>. Allowing third layer encoder <b>310</b> to be reconfigured increases the flexibility of the system by allowing the system to adapt the encoder/decoder based on the data sets and the communications medium that are used.</p>
<p id="p-0048" num="0047">Second layer decoder <b>320</b> receives encoded data portion <b>340</b> with the second layer coding information. Second layer decoder <b>320</b> may decode encoded data portion <b>340</b> using a coding mechanism that matches the type of code used by second layer encoder <b>220</b> (<figref idref="DRAWINGS">FIG. 2</figref>).</p>
<p id="p-0049" num="0048">As discussed above in connection with second layer encoder <b>220</b>, second layer decoder <b>320</b> may also similarly receive control signals <b>322</b>. Control signals <b>322</b> may select a decoding mechanism among a number of different decoding mechanisms that may be implemented on second layer decoder <b>320</b>. Alternatively, control signals <b>322</b> may be used to reconfigure or change the coding mechanism that is implemented on second layer decoder <b>320</b> when second layer decoder <b>320</b> is implemented on a programmable device.</p>
<p id="p-0050" num="0049">When the second layer decoding operation succeeds, the output of second layer decoder <b>320</b> may be the recovered data portion <b>350</b> corresponding to requested data portion <b>242</b> of data group <b>240</b>. Recovered data portion <b>350</b> may then be provided to the requesting processor. Additionally, decoder <b>130</b> may output status information signals <b>146</b> to controller <b>140</b> indicating that the decoding operation succeeded.</p>
<p id="p-0051" num="0050">However, in some circumstances (e.g., when the data is beyond correction using second layer decoding) the second layer decoding operation may fail to recover requested data portion <b>242</b>. Decoder <b>130</b> may then output status information signals through communications link <b>146</b> to controller <b>140</b> indicating that the decoding operation failed. In such circumstances, an additional layer of decoding (e.g., first layer decoding) may correct the errors that the second layer decoding failed to correct. Thus, controller <b>140</b> may retrieve from memory <b>120</b> the remaining portions <b>400</b> (<figref idref="DRAWINGS">FIG. 4</figref>) of encoded group <b>270</b> (<figref idref="DRAWINGS">FIG. 2</figref>) in order to successfully apply the first layer of decoding operation. For example, controller <b>140</b> may retrieve the remaining pages (A, C, and D) belonging to second S to decode the remaining pages jointly with page B using first layer decoder <b>410</b> (<figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0052" num="0051">As shown in <figref idref="DRAWINGS">FIG. 4</figref>, remaining portions <b>400</b>, including the first layer coding information, second layer coding information and if applicable, third layer or channel coding information, may be retrieved from memory <b>120</b>. Typically, remaining portions <b>400</b> are stored contiguously in the same block of memory as data portion <b>350</b> and thus the memory address locations of remaining portions <b>400</b> may be determined from the memory address location of data portion <b>350</b>. Remaining portions <b>400</b> may first be passed through third layer or channel decoder <b>310</b> to produce third layer decoded results <b>420</b>.</p>
<p id="p-0053" num="0052">Each encoded portion <b>422</b> of decoded results <b>420</b> may then be provided to second layer decoder <b>320</b>. This step may be performed in parallel by using multiple second layer decoders <b>320</b> for decoding all of encoded portions <b>422</b> of the group simultaneously. The second layer decoded results including the second layer decoded portion <b>350</b> may be combined with first layer coding information <b>252</b> (<figref idref="DRAWINGS">FIG. 2</figref>) to recover encoded data group <b>250</b> and form encoded data group <b>430</b>.</p>
<p id="p-0054" num="0053">Controller <b>140</b> may alternatively retrieve from memory <b>120</b> all of the portions of data group <b>240</b>, although, as discussed above, it may be more efficient to only retrieve the portions of the group which have not been decoded in order to avoid repeating some of the decoding operations. In particular, because data portion <b>350</b> has already been decoded by the second layer decoder <b>320</b>, it would be redundant to retrieve data portion <b>350</b> from memory again with the remaining portions only to reapply the third and second layer decoding operations.</p>
<p id="p-0055" num="0054">Encoded data group <b>430</b> may be provided to first layer decoder <b>410</b>. First layer decoder <b>410</b> may decode the portions of the group <b>430</b> jointly using the first layer coding information that was created by first layer encoder <b>210</b> (<figref idref="DRAWINGS">FIG. 2</figref>). Any failure of second layer decoder <b>320</b> may be corrected by first layer decoder <b>410</b>. In particular, because first layer decoder <b>410</b> operates on a larger data set, first layer decoder <b>410</b> is capable of correcting errors that a smaller scale decoder such as second layer decoder <b>320</b> is not capable of correcting.</p>
<p id="p-0056" num="0055">As discussed above in connection with first layer encoder <b>210</b>, first layer decoder <b>410</b> may also similarly receive control signals (not shown). The control signals may select a decoding mechanism among a number of different decoding mechanisms that may be implemented on first layer decoder <b>410</b>. Alternatively, the control signals may be used to reconfigure or change the coding mechanism that is implemented on first layer decoder <b>410</b> when first layer decoder <b>410</b> is implemented on a programmable device.</p>
<p id="p-0057" num="0056">The results <b>440</b> of first layer decoder <b>410</b> are the recovered data group <b>240</b> that was an estimate of the data sequence received by encoder <b>110</b>. The data portion that was requested by the processor may be provided to the processor in addition to all the other portions that belong to the particular group. For example, data page B may be recovered and provided to the requesting processor along with all the other pages of sector S that have been recovered by first layer decoder <b>410</b>.</p>
<p id="p-0058" num="0057">Thus, it has been shown that only in some limited circumstances when the second layer (e.g., smaller scale) decoder <b>320</b> fails is it necessary to resort to the first layer (e.g., larger scale) decoder <b>410</b> to recover a requested data portion. Typically, the processor requests data portions that belong to a group of data and it is therefore only necessary to retrieve that particular data portion and decode the data portion. Only if the decoding operation fails for that data portion, will it be necessary to retrieve the remaining portions of the group to recover the requested data portion.</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a method <b>500</b> of performing multi-layered coding in accordance with an embodiment of the present invention. At step <b>510</b>, a group of data is encoded using a first layer of code to form a first encoded group of data. For example, data portions <b>242</b> included in group of data <b>240</b> may be encoded jointly using first layer encoder <b>210</b> (<figref idref="DRAWINGS">FIG. 2</figref>). The output of first layer encoder <b>210</b> is encoded group of data <b>250</b>, which includes coding information corresponding to the first layer of code.</p>
<p id="p-0060" num="0059">At step <b>520</b>, individual portions of the first encoded group of data are encoded using a second layer of code to form a second encoded group of data. For example, portions <b>242</b> of encoded group of data <b>250</b> may be encoded individually or independently using second layer encoder <b>220</b> (<figref idref="DRAWINGS">FIG. 2</figref>). The output of second layer encoder <b>220</b> is encoded group of data <b>260</b> that includes coding information corresponding to the first layer of code and coding information <b>262</b><i>a</i>-<i>d </i>for each of the individual portions of the group.</p>
<p id="p-0061" num="0060">At step <b>530</b>, one of the individual portions of the second encoded group of data is decoded using the second layer of code to recover the individual portion. For example, an encoded portion <b>330</b> that includes second layer coding information of an encoded group of data may be read from memory <b>120</b>. Encoded portion <b>330</b> may be processed by second layer decoder <b>320</b> to recover the individual portion <b>350</b> that was initially received by the encoder (<figref idref="DRAWINGS">FIG. 3</figref>).</p>
<p id="p-0062" num="0061">At step <b>540</b>, a determination is made as to whether the second layer decoder was successful in recovering the individual portion. For example, controller <b>140</b> may receive status information signals through communications link <b>146</b> from decoder <b>130</b> and may determine whether the decode operation was successful.</p>
<p id="p-0063" num="0062">At step <b>550</b>, if the second layer decoder was successful, the recovered individual portion is output to the requesting processor or controller.</p>
<p id="p-0064" num="0063">At step <b>560</b>, if the second layer decoder was not successful, the first encoded group of data is decoded using the first layer of code to recover the individual portion. For example, controller <b>140</b> may retrieve from memory <b>120</b> the remaining encoded portions <b>400</b> and decode the remaining encoded portions <b>400</b> using second layer decoder <b>320</b> (<figref idref="DRAWINGS">FIG. 4</figref>). The encoded individual portions may be combined with the coding information corresponding to the first layer of code and decoded jointly by first layer decoder <b>410</b>. The output of first layer decoder <b>410</b> may include the recovered individual portion that was requested and may be provided to the processor or controller.</p>
<p id="p-0065" num="0064">Referring now to <figref idref="DRAWINGS">FIGS. 6A-6G</figref>, various exemplary implementations of the present invention are shown.</p>
<p id="p-0066" num="0065">Referring now to <figref idref="DRAWINGS">FIG. 6A</figref>, the present invention can be implemented in a hard disk drive (HDD) <b>600</b>. The present invention may implement either or both signal processing and/or control circuits, which are generally identified in <figref idref="DRAWINGS">FIG. 6A</figref> at <b>602</b>. In some implementations, the signal processing and/or control circuit <b>602</b> and/or other circuits (not shown) in the HDD <b>600</b> may process data, perform coding and/or encryption, perform calculations, and/or format data that is output to and/or received from a magnetic storage medium <b>606</b>.</p>
<p id="p-0067" num="0066">The HDD <b>600</b> may communicate with a host device (not shown) such as a computer, mobile computing devices such as personal digital assistants, cellular phones, media or MP3 players and the like, and/or other devices via one or more wired or wireless communication links <b>608</b>. The HDD <b>600</b> may be connected to memory <b>609</b> such as random access memory (RAM), low latency nonvolatile memory such as flash memory, read only memory (ROM) and/or other suitable electronic data storage.</p>
<p id="p-0068" num="0067">Referring now to <figref idref="DRAWINGS">FIG. 6B</figref>, the present invention can be implemented in a digital versatile disc (DVD) drive <b>610</b>. The present invention may implement either or both signal processing and/or control circuits, which are generally identified in <figref idref="DRAWINGS">FIG. 6B</figref> at <b>612</b>, and/or mass data storage <b>618</b> of the DVD drive <b>610</b>. The signal processing and/or control circuit <b>612</b> and/or other circuits (not shown) in the DVD <b>610</b> may process data, perform coding and/or encryption, perform calculations, and/or format data that is read from and/or data written to an optical storage medium <b>616</b>. In some implementations, the signal processing and/or control circuit <b>612</b> and/or other circuits (not shown) in the DVD <b>610</b> can also perform other functions such as encoding and/or decoding and/or any other signal processing functions associated with a DVD drive.</p>
<p id="p-0069" num="0068">The DVD drive <b>610</b> may communicate with an output device (not shown) such as a computer, television or other device via one or more wired or wireless communication links <b>617</b>. The DVD <b>610</b> may communicate with mass data storage <b>618</b> that stores data in a nonvolatile manner. The mass data storage <b>618</b> may include a hard disk drive (HDD). The HDD <b>600</b> may have the configuration shown in <figref idref="DRAWINGS">FIG. 6A</figref>. The HDD <b>600</b> may be a mini HDD that includes one or more platters having a diameter that is smaller than approximately 1.8&#x2033;. The DVD <b>610</b> may be connected to memory <b>619</b> such as RAM, ROM, low latency nonvolatile memory such as flash memory and/or other suitable electronic data storage.</p>
<p id="p-0070" num="0069">Referring now to <figref idref="DRAWINGS">FIG. 6C</figref>, the present invention can be implemented in a high definition television (HDTV) <b>620</b>. The present invention may implement either or both signal processing and/or control circuits, which are generally identified in <figref idref="DRAWINGS">FIG. 6C</figref> at <b>622</b>, a WLAN interface and/or mass data storage of the HDTV <b>620</b>. The HDTV <b>620</b> receives HDTV input signals in either a wired or wireless format and generates HDTV output signals for a display <b>626</b>. In some implementations, signal processing circuit and/or control circuit <b>622</b> and/or other circuits (not shown) of the HDTV <b>620</b> may process data, perform coding and/or encryption, perform calculations, format data and/or perform any other type of HDTV processing that may be required.</p>
<p id="p-0071" num="0070">The HDTV <b>620</b> may communicate with mass data storage <b>627</b> that stores data in a nonvolatile manner such as optical and/or magnetic storage devices for example hard disk drives HDD and/or DVDs. At least one HDD may have the configuration shown in <figref idref="DRAWINGS">FIG. 6A</figref> and/or at least one DVD may have the configuration shown in <figref idref="DRAWINGS">FIG. 6B</figref>. The HDD may be a mini HDD that includes one or more platters having a diameter that is smaller than approximately 1.8&#x2033;. The HDTV <b>620</b> may be connected to memory <b>628</b> such as RAM, ROM, low latency nonvolatile memory such as flash memory and/or other suitable electronic data storage. The HDTV <b>620</b> also may support connections with a WLAN via a WLAN network interface <b>629</b>.</p>
<p id="p-0072" num="0071">Referring now to <figref idref="DRAWINGS">FIG. 6D</figref>, the present invention implements a control system of a vehicle <b>630</b>, a WLAN interface and/or mass data storage of the vehicle control system. In some implementations, the present invention may implement a powertrain control system <b>634</b> that receives inputs from one or more sensors such as temperature sensors, pressure sensors, rotational sensors, airflow sensors and/or any other suitable sensors and/or that generates one or more output control signals such as engine operating parameters, transmission operating parameters, and/or other control signals.</p>
<p id="p-0073" num="0072">The present invention may also be implemented in other control systems <b>639</b> of the vehicle <b>630</b>. The control system <b>639</b> may likewise receive signals from input sensors <b>637</b> and/or output control signals to one or more output devices <b>638</b>. In some implementations, the control system <b>639</b> may be part of an anti-lock braking system (ABS), a navigation system, a telematics system, a vehicle telematics system, a lane departure system, an adaptive cruise control system, a vehicle entertainment system such as a stereo, DVD, compact disc and the like. Still other implementations are contemplated.</p>
<p id="p-0074" num="0073">The powertrain control system <b>634</b> may communicate with mass data storage <b>631</b> that stores data in a nonvolatile manner. The mass data storage <b>631</b> may include optical and/or magnetic storage devices for example hard disk drives HDD and/or DVDs. At least one HDD may have the configuration shown in <figref idref="DRAWINGS">FIG. 6A</figref> and/or at least one DVD may have the configuration shown in <figref idref="DRAWINGS">FIG. 6B</figref>. The HDD may be a mini HDD that includes one or more platters having a diameter that is smaller than approximately 1.8&#x2033;. The powertrain control system <b>634</b> may be connected to memory <b>632</b> such as RAM, ROM, low latency nonvolatile memory such as flash memory and/or other suitable electronic data storage. The powertrain control system <b>634</b> also may support connections with a WLAN via a WLAN network interface <b>633</b>. The control system <b>639</b> may also include mass data storage, memory and/or a WLAN interface (all not shown).</p>
<p id="p-0075" num="0074">Referring now to <figref idref="DRAWINGS">FIG. 6E</figref>, the present invention can be implemented in a cellular phone <b>650</b> that may include a cellular antenna <b>651</b>. The present invention may implement either or both signal processing and/or control circuits, which are generally identified in <figref idref="DRAWINGS">FIG. 6E</figref> at <b>652</b>, a WLAN interface and/or mass data storage of the cellular phone <b>650</b>. In some implementations, the cellular phone <b>650</b> includes a microphone <b>656</b>, an audio output <b>658</b> such as a speaker and/or audio output jack, a display <b>660</b> and/or an input device <b>662</b> such as a keypad, pointing device, voice actuation and/or other input device. The signal processing and/or control circuits <b>652</b> and/or other circuits (not shown) in the cellular phone <b>650</b> may process data, perform coding and/or encryption, perform calculations, format data and/or perform other cellular phone functions.</p>
<p id="p-0076" num="0075">The cellular phone <b>650</b> may communicate with mass data storage <b>664</b> that stores data in a nonvolatile manner such as optical and/or magnetic storage devices for example hard disk drives HDD and/or DVDs. At least one HDD may have the configuration shown in <figref idref="DRAWINGS">FIG. 6A</figref> and/or at least one DVD may have the configuration shown in <figref idref="DRAWINGS">FIG. 6B</figref>. The HDD may be a mini HDD that includes one or more platters having a diameter that is smaller than approximately 1.8&#x2033;. The cellular phone <b>650</b> may be connected to memory <b>666</b> such as RAM, ROM, low latency nonvolatile memory such as flash memory and/or other suitable electronic data storage. The cellular phone <b>650</b> also may support connections with a WLAN via a WLAN network interface <b>668</b>.</p>
<p id="p-0077" num="0076">Referring now to <figref idref="DRAWINGS">FIG. 6F</figref>, the present invention can be implemented in a set top box <b>660</b>. The present invention may implement either or both signal processing and/or control circuits, which are generally identified in <figref idref="DRAWINGS">FIG. 6F</figref> at <b>668</b>, a WLAN interface and/or mass data storage of the set top box <b>660</b>. The set top box <b>660</b> receives signals from a source such as a broadband source and outputs standard and/or high definition audio/video signals suitable for a display <b>669</b> such as a television and/or monitor and/or other video and/or audio output devices. The signal processing and/or control circuits <b>668</b> and/or other circuits (not shown) of the set top box <b>660</b> may process data, perform coding and/or encryption, perform calculations, format data and/or perform any other set top box function.</p>
<p id="p-0078" num="0077">The set top box <b>660</b> may communicate with mass data storage <b>662</b> that stores data in a nonvolatile manner. The mass data storage <b>662</b> may include optical and/or magnetic storage devices for example hard disk drives HDD and/or DVDs. At least one HDD may have the configuration shown in <figref idref="DRAWINGS">FIG. 6A</figref> and/or at least one DVD may have the configuration shown in <figref idref="DRAWINGS">FIG. 6B</figref>. The HDD may be a mini HDD that includes one or more platters having a diameter that is smaller than approximately 1.8&#x2033;. The set top box <b>660</b> may be connected to memory <b>664</b> such as RAM, ROM, low latency nonvolatile memory such as flash memory and/or other suitable electronic data storage. The set top box <b>660</b> also may support connections with a WLAN via a WLAN network interface <b>666</b>.</p>
<p id="p-0079" num="0078">Referring now to <figref idref="DRAWINGS">FIG. 6G</figref>, the present invention can be implemented in a media player <b>670</b>. The present invention may implement either or both signal processing and/or control circuits, which are generally identified in <figref idref="DRAWINGS">FIG. 6G</figref> at <b>674</b>, a WLAN interface and/or mass data storage of the media player <b>670</b>. In some implementations, the media player <b>670</b> includes a display <b>676</b> and/or a user input <b>677</b> such as a keypad, touchpad and the like. In some implementations, the media player <b>670</b> may employ a graphical user interface (GUI) that typically employs menus, drop down menus, icons and/or a point-and-click interface via the display <b>676</b> and/or user input <b>677</b>. The media player <b>670</b> further includes an audio output <b>675</b> such as a speaker and/or audio output jack. The signal processing and/or control circuits <b>674</b> and/or other circuits (not shown) of the media player <b>670</b> may process data, perform coding and/or encryption, perform calculations, format data and/or perform any other media player function.</p>
<p id="p-0080" num="0079">The media player <b>670</b> may communicate with mass data storage <b>671</b> that stores data such as compressed audio and/or video content in a nonvolatile manner. In some implementations, the compressed audio files include files that are compliant with MP3 format or other suitable compressed audio and/or video formats. The mass data storage <b>671</b> may include optical and/or magnetic storage devices for example hard disk drives HDD and/or DVDs. At least one HDD may have the configuration shown in <figref idref="DRAWINGS">FIG. 6A</figref> and/or at least one DVD may have the configuration shown in <figref idref="DRAWINGS">FIG. 6B</figref>. The HDD may be a mini HDD that includes one or more platters having a diameter that is smaller than approximately 1.8&#x2033;. The media player <b>670</b> may be connected to memory <b>672</b> such as RAM, ROM, low latency nonvolatile memory such as flash memory and/or other suitable electronic data storage. The media player <b>670</b> also may support connections with a WLAN via a WLAN network interface <b>673</b>. Still other implementations in addition to those described above are contemplated.</p>
<p id="p-0081" num="0080">The foregoing describes systems and methods providing multi-layered coding for memory devices. The above described embodiments of the present invention are presented for the purposes of illustration and not of limitation. Furthermore, the present invention is not limited to a particular implementation. The invention may be implemented in hardware, such as on an application specific integrated circuit (ASIC) or on a field-programmable gate array (FPGA). The invention may also be implemented in software.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for recovering data, the method comprising:
<claim-text>encoding an unencoded group of data using a first layer of error correcting code to form a first encoded group of data;</claim-text>
<claim-text>encoding individual portions of the first encoded group of data using a second layer of error correcting code to form a second encoded group of data, wherein the individual portions are encoded independently of each other;</claim-text>
<claim-text>decoding one of the individual portions of the second encoded group of data using the second layer of error correcting code to recover one of the individual portions of the unencoded group of data; and</claim-text>
<claim-text>retrieving each of the remaining individual portions of the second encoded group from a memory, simultaneously decoding at least some of the retrieved remaining portions using the second layer of error correcting code, and decoding the first encoded group of data using the first layer of error correcting code to recover the one of the individual portions of the unencoded group of data when the decoding using the second layer of error correcting code on the one of the individual portions of the second encoded group of data fails to recover the one of the individual portions of the unencoded group of data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>encoding the second encoded group of data using a third layer of code to form a third encoded group of data; and</claim-text>
<claim-text>decoding one of the individual portions of the third encoded group of data corresponding to the one of the individual portions of the second encoded group of data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref> wherein each of the first layer of error correcting code and the second layer of error correcting code is Reed-Solomon code or BCH code, and the third layer of code is a Trellis Coded Modulation (TCM) code, Low Density Parity Check (LDPC) code, or Turbo code.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein decoding the first encoded group of data comprises:
<claim-text>decoding each of the retrieved remaining portions using the second layer of error correcting code to form a first decoded group; and</claim-text>
<claim-text>decoding individual portions of the first decoded group jointly.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>bypassing the decoding of the first encoded group of data when the decoding using the second layer of error correcting code succeeds in recovering the one of the individual portions of the unencoded group of data; and</claim-text>
<claim-text>providing data recovered by the decoding of the one of the individual portions of the second encoded group to processing circuitry.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising providing data recovered by the decoding of the first encoded group of data to processing circuitry.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein:
<claim-text>the unencoded group of data comprises a plurality of data pages; and</claim-text>
<claim-text>each of the individual portions comprises one of the plurality of data pages.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein:
<claim-text>the first encoded group of data comprises an unencoded parity portion;</claim-text>
<claim-text>the encoding individual portions of the first encoded group of data further encodes the unencoded parity portion using the second layer of error correcting code to form an encoded parity portion; and</claim-text>
<claim-text>the decoding one of the individual portions of the second encoded group of data further decodes the encoded parity portion encoded using the second layer of error correcting code.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A system for recovering data, the system comprising:
<claim-text>a first encoder operable to encode an unencoded group of data using a first layer of error correcting code to form a first encoded group of data;</claim-text>
<claim-text>a second encoder operable to encode individual portions of the first encoded group of data using a second layer of error correcting code to form a second encoded group of data, wherein the individual portions are encoded independently of each other;</claim-text>
<claim-text>a first decoder operable to decode one of the individual portions of the second encoded group of data using the second layer of error correcting code to recover one of the individual portions of the unencoded group of data; and</claim-text>
<claim-text>a second decoder operable to retrieve each of the remaining individual portions of the second encoded group from a memory, simultaneously decode at least some of the retrieved remaining portions using the second layer of error correcting code, and decode the first encoded group of data using the first layer of error correcting code to recover the one of the individual portions of the unencoded group of data when the first decoder fails to recover the one of the individual portions of the unencoded group of data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The system of <claim-ref idref="CLM-00009">claim 9</claim-ref> further comprising:
<claim-text>a third encoder operable to encode the second encoded group of data using a third layer of code to form a third encoded group of data; and</claim-text>
<claim-text>a third decoder operable to decode one of the individual portions of the third encoded group of data corresponding to the one of the individual portions of the second encoded group of data using the third layer of code.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The system of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein each of the first layer of error correcting code and the second layer of error correcting code is Reed-Solomon code or BCH code, and the third layer of code is a Trellis Coded Modulation (TCM) code, Low Density Parity Check (LDPC) code, or Turbo code.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The system of <claim-ref idref="CLM-00009">claim 9</claim-ref> further comprising a controller operable to:
<claim-text>instruct the first decoder to decode each of the retrieved remaining portions using the second layer of error correcting code to form a first decoded group; and</claim-text>
<claim-text>instruct the second decoder to decode individual portions of the first decoded group jointly.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The system of <claim-ref idref="CLM-00009">claim 9</claim-ref> further comprising a controller operable to:
<claim-text>bypass the second decoder when the first decoder succeeds in recovering the one of the individual portions of the unencoded group of data; and</claim-text>
<claim-text>provide data recovered by the first decoder of the one of the individual portions of the second encoded group to processing circuitry.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The system of <claim-ref idref="CLM-00009">claim 9</claim-ref> further a controller operable to provide data recovered by the second decoder of the first encoded group of data to processing circuitry.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The system of <claim-ref idref="CLM-00009">claim 9</claim-ref> wherein:
<claim-text>the unencoded group of data comprises a plurality of data pages; and</claim-text>
<claim-text>each of the individual portions comprises one of the plurality of data pages.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The system of <claim-ref idref="CLM-00009">claim 9</claim-ref> wherein:
<claim-text>the first encoded group of data comprises an unencoded parity portion;</claim-text>
<claim-text>the second encoder is further operable to encode the unencoded parity portion using the second layer of error correcting code to form an encoded parity portion; and</claim-text>
<claim-text>the first decoder is further operable to decode the encoded parity portion encoded using the second layer of error correcting code.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. An apparatus for recovering data, the apparatus comprising:
<claim-text>means for encoding an unencoded group of data using a first layer of error correcting code to form a first encoded group of data;</claim-text>
<claim-text>means for encoding individual portions of the first encoded group of data using a second layer of error correcting code to form a second encoded group of data, wherein the individual portions are encoded independently of each other;</claim-text>
<claim-text>means for decoding one of the individual portions of the second encoded group of data using the second layer of error correcting code to recover one of the individual portions of the unencoded group of data; and</claim-text>
<claim-text>means for retrieving each of the remaining individual portions of the second encoded group from a memory, simultaneously decoding at least some of the retrieved remaining portions using the second layer of error correcting code, and decoding the first encoded group of data using the first layer of error correcting code to recover the one of the individual portions of the unencoded group of data when the means for decoding using the second layer of error correcting code on the one of the individual portions of the second encoded group of data fails to recover the one of the individual portions of the unencoded group of data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The apparatus of <claim-ref idref="CLM-00017">claim 17</claim-ref> further comprising:
<claim-text>means for encoding the second encoded group of data using a third layer of code to form a third encoded group of data; and</claim-text>
<claim-text>means for decoding one of the individual portions of the third encoded group of data corresponding to the one of the individual portions of the second encoded group of data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The apparatus of <claim-ref idref="CLM-00018">claim 18</claim-ref> wherein each of the first layer of error correcting code and second layer of error correcting code is Reed-Solomon code or BCH code, and the third layer of code is a Trellis Coded Modulation (TCM) code, Low Density Parity Check (LDPC) code, or Turbo code.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The apparatus of <claim-ref idref="CLM-00017">claim 17</claim-ref> wherein the means for decoding the first encoded group of data comprises:
<claim-text>means for decoding each of the retrieved remaining portions using the second layer of error correcting code to form a first decoded group; and</claim-text>
<claim-text>means for decoding individual portions of the first decoded group jointly.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The apparatus of <claim-ref idref="CLM-00017">claim 17</claim-ref> further comprising:
<claim-text>means for bypassing the decoding of the first encoded group of data when the means for decoding using the second layer of error correcting code succeeds in recovering the one of the individual portions of the unencoded group of data; and</claim-text>
<claim-text>means for providing data recovered by the decoding of the one of the individual portions of the second encoded group to means for processing the one of the individual portions of the unencoded group of data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The apparatus of <claim-ref idref="CLM-00017">claim 17</claim-ref> wherein:
<claim-text>the unencoded group of data comprises a plurality of data pages; and</claim-text>
<claim-text>each of the individual portions comprises one of the plurality of data pages.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The apparatus of <claim-ref idref="CLM-00017">claim 17</claim-ref> wherein:
<claim-text>the first encoded group of data comprises an unencoded parity portion;</claim-text>
<claim-text>the means for encoding individual portions of the first encoded group of data further encodes the unencoded parity portion using the second layer of error correcting code to produce an encoded parity portion; and</claim-text>
<claim-text>the means for decoding one of the individual portions of the second encoded group of data further decodes the encoded parity portion encoded using the second layer of error correcting code. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
