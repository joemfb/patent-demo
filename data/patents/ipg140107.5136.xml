<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626235-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626235</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13541949</doc-number>
<date>20120705</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<disclaimer>
<text>This patent is subject to a terminal disclaimer.</text>
</disclaimer>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>M</subclass>
<main-group>1</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>4555521</main-classification>
</classification-national>
<invention-title id="d2e51">3G/GSM and WLAN integration of telephony</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6119003</doc-number>
<kind>A</kind>
<name>Kukkohovi</name>
<date>20000900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7768977</doc-number>
<kind>B2</kind>
<name>Camp, Jr.</name>
<date>20100800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370332</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7937085</doc-number>
<kind>B2</kind>
<name>Rydnell et al.</name>
<date>20110500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455437</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2002/0147008</doc-number>
<kind>A1</kind>
<name>Kallio</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455426</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2004/0105434</doc-number>
<kind>A1</kind>
<name>Baw</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370355</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2004/0203788</doc-number>
<kind>A1</kind>
<name>Fors et al.</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455439</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2005/0186906</doc-number>
<kind>A1</kind>
<name>Hussmann</name>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>GB</country>
<doc-number>2336066</doc-number>
<kind>A</kind>
<date>19991000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00009">
<othercit>Salkintzis, AK; &#x201c;Interworking Between WLANs and Third-Generation Cellular Data Networks&#x201d;; Vehicular Technology Conf, 2003, The 57'h IEEE Semiannual. vol. 3. Apr. 22-25, 2003.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>11</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>4555521</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>6</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>13036293</doc-number>
<date>20110228</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8238919</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13541949</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>11575183</doc-number>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>7937085</doc-number>
</document-id>
</parent-grant-document>
<parent-pct-document>
<document-id>
<country>WO</country>
<doc-number>PCT/SE2004/001346</doc-number>
<date>20040917</date>
</document-id>
</parent-pct-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13036293</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120270541</doc-number>
<kind>A1</kind>
<date>20121025</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Rydnell</last-name>
<first-name>Gunnar</first-name>
<address>
<city>Vastra Frolunda</city>
<country>SE</country>
</address>
</addressbook>
<residence>
<country>SE</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Ronneke</last-name>
<first-name>Hans Bertil</first-name>
<address>
<city>Kungsbacka</city>
<country>SE</country>
</address>
</addressbook>
<residence>
<country>SE</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Rommer</last-name>
<first-name>Stefan</first-name>
<address>
<city>Vastra Frolunda</city>
<country>SE</country>
</address>
</addressbook>
<residence>
<country>SE</country>
</residence>
</us-applicant>
<us-applicant sequence="004" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Lindskog</last-name>
<first-name>Jan</first-name>
<address>
<city>Pixbo</city>
<country>SE</country>
</address>
</addressbook>
<residence>
<country>SE</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Rydnell</last-name>
<first-name>Gunnar</first-name>
<address>
<city>Vastra Frolunda</city>
<country>SE</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Ronneke</last-name>
<first-name>Hans Bertil</first-name>
<address>
<city>Kungsbacka</city>
<country>SE</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Rommer</last-name>
<first-name>Stefan</first-name>
<address>
<city>Vastra Frolunda</city>
<country>SE</country>
</address>
</addressbook>
</inventor>
<inventor sequence="004" designation="us-only">
<addressbook>
<last-name>Lindskog</last-name>
<first-name>Jan</first-name>
<address>
<city>Pixbo</city>
<country>SE</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Telefonaktiebolaget LM Ericsson (Publ)</orgname>
<role>03</role>
<address>
<city>Stockholm</city>
<country>SE</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Figueroa</last-name>
<first-name>Marisol</first-name>
<department>2643</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Embodiments of the present invention include a method and system for operating a dual mode terminal that includes a wireless local area network interface and a cellular radio interface. According to an embodiment, the dual mode terminal camps on the cellular radio interface when idle. When a Page Request message is received over the cellular radio interface, the terminal determines whether wireless local area network coverage is possible from an access point providing wireless local area network cellular communication. If so, the terminal processes the incoming communication request over the wireless local area network towards another party, wherein then the communication is ended, the terminal goes back to camp on the cellular channel.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="245.87mm" wi="200.66mm" file="US08626235-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="157.56mm" wi="174.16mm" file="US08626235-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="215.73mm" wi="180.34mm" file="US08626235-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="128.19mm" wi="133.01mm" file="US08626235-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="246.04mm" wi="203.62mm" file="US08626235-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="250.02mm" wi="194.06mm" file="US08626235-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="185.67mm" wi="143.85mm" file="US08626235-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<p id="p-0002" num="0001">This application is a continuation of U.S. application Ser. No. 13/036,293, filed Feb. 28, 2011, which was a continuation of U.S. application Ser. No. 11/575,183, which was the National Stage of International Application No. PCT/SE04/01346, filed Sep. 17, 2004, the disclosures of which are incorporated herein by reference.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">The present invention relates to dual mode systems and nodes. In particular, the present invention relates to the area of WLAN&#x2014;mobile telephony integration of voice services.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0004" num="0003">The current GSM/3G and WLAN technologies constitute two separate radio network technologies. They operate at different frequencies and make use of separate designated protocols. Currently standardization work is ongoing on integrating data and other services of WLAN and GSM/3G in the forums of 3GPP, 3GPP2 and IEEE.</p>
<p id="p-0005" num="0004">Six scenarios dealing with various degrees of integration have been sketched in the third generation partnership project, 3GPP. Scenarios 1, 2 and 3 have been defined so far. However, the work for scenario 6, i.e. WLAN GSM/3G integration of telephony (Circuit Switched voice services) has not yet started.</p>
<p id="p-0006" num="0005">A desirable concept known as &#x201c;always best connected&#x201d; aims to ensure that the best and cheapest service connection is rendered available to the user at all times and performing handover in such a way that the user hardly notices the underlying access technology.</p>
<p id="p-0007" num="0006">Currently, dual mode mobile phones integrating different kinds of radio access techniques, such as WLAN and GSM/3G, providing prior art access on the choice of the user by means of one apparatus have been rendered available on the marketplace. However, Cellular systems and WLAN systems are currently not interoperable on the network side. If a telephone call is received for a subscriber in GSM/3G, it is not possible to handover the call to a WLAN system, even if the subscriber is in reach of WLAN coverage and is in possession of a dual mode mobile or vice versa. One problem is that there is no integration of WLAN and GSM/3G network nodes or corresponding signaling protocols.</p>
<p id="p-0008" num="0007">A further problem for the integration of WLAN and GSM/3G services is the pico-cell character of the WLAN radio network. The WLAN radio network consists of a flat structure of pico-cells, not at all suitable for typical mobile user behavior. A telephony call would be difficult to maintain in a WLAN network when a user moves with high speed as he is used to in a cellular network.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 1</figref> shows a first preferred embodiment of a system architecture according the invention comprising an InterWorking Forwarding Node (IWFN),</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 2</figref> shows a schematic representation of a dual mode terminal according to the invention having both GMS and WLAN capabilities and corresponding network interface cards,</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 3</figref> shows an Interworking Forwarding Node according to the invention, and</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIGS. 4 and 5</figref> shows, among other, a handshaking diagram for a telephone call originating from a mobile telephone system being acknowledged via the GSM network interface card of a dual mode terminal and subsequently being handed over to the WLAN network interface card, and</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 6</figref> shows a state diagram for the dual mode terminal according to the invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0014" num="0013">It is a first object to set forth a method for integration of telephony between WLAN and GSM/3G</p>
<p id="p-0015" num="0014">A signaling method for incoming voice calls in GSM/3G and handing over to WLAN has been provided.</p>
<p id="p-0016" num="0015">A signaling method for outgoing voice calls in GSM/3G or in WLAN has moreover been provided.</p>
<p id="p-0017" num="0016">It is a first object of the invention to provide a dual mode GSM/3G and WLAN capable mobile terminal.</p>
<p id="p-0018" num="0017">This object has been accomplished by the subject matter defined in claim <b>1</b>.</p>
<p id="p-0019" num="0018">It is another object to provide a WLAN-GSM/3G Interworking Node, IWF.</p>
<p id="p-0020" num="0019">This object has been accomplished by the subject matter defined in claim <b>3</b>.</p>
<p id="p-0021" num="0020">It is still another object to provide a selection mechanism for dual mode GSM/3G and WLAN mobile for enabling and disabling WLAN.</p>
<p id="p-0022" num="0021">This object has been accomplished by claim <b>8</b>.</p>
<p id="p-0023" num="0022">A signaling method for handing over a voice call from WLAN back to GSM/3G has been provided according to claim <b>11</b>.</p>
<p id="p-0024" num="0023">A camping mechanism for dual mode GSM/3G and WLAN mobile terminal is provided, such that the dual mode mobile terminal can be paged for incoming telephone calls.</p>
<p id="p-0025" num="0024">Further advantages will appear from the following detailed description of the invention.</p>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF PREFERRED EMBODIMENTS OF THE INVENTION</heading>
<p id="p-0026" num="0025">The present invention proposes a method for integrating the telephony service of WLAN and GSM/3G.</p>
<p id="p-0027" num="0026">The integrated architecture according to a first embodiment of the invention is shown in <figref idref="DRAWINGS">FIG. 1</figref>. A GSM/3G network is shown, comprising prior art elements: base station set, BSS, Serving Mobile Node, also denoted Mobile Switching Center/Visiting Location Register, S_MSC/VLR, (also partly referred to as Serving GPRS Support Node), G_MSC/VLR, Gateway Node Mobile Switching Centre/Visiting Location Register, S_MSC/VLR, (also partly referred to as Gateway GPRS Support Node), home location register, HLR/AC, the plain old telephony system, POTS, dual mode mobile terminal, a packet data gateway, PDG. Moreover, a standard wireless local area network access point, WLAN AP, is provided.</p>
<p id="p-0028" num="0027">The WLAN AP node may be coupled to the interworking and forwarding node IWFN either through an appropriate network such as an Ethernet LAN or via another network such as an ADSL modem and suitable backbone network, BKBN.</p>
<p id="p-0029" num="0028">In <figref idref="DRAWINGS">FIG. 2</figref>, a logic diagram pertaining to the dual mode WLAN-GSM/3G mobile, MT2,according to a preferred embodiment of the present invention is shown. The dual mode terminal comprises two radio network interfaces&#x2014;one for GSM/3G transmission/reception, GSM_NIC, and one for WLAN transmission/reception, WLAN_NIC, whereby both interfaces may be in operation simultaneously. The dual mode mobile terminal moreover comprises a conventional sound card, SND_C, offering connections to loudspeaker/amplifier and microphone.</p>
<p id="p-0030" num="0029">The dual mode terminal may consist of a standard processing platform, such as a laptop or personal digital assistant (PDA), controlled by a usual common operating system. The network interface cards may be off-the-shelf components, while the functionality of the call selection processor and the various logic functions may be performed by a software application running on the standard processing platform, such as a common laptop computer or PDA.</p>
<p id="p-0031" num="0030">According to a preferred embodiment of the invention, the dual mode platform comprises a software application, D_APP, which comprises the following logic functions: apparatus control and call selection, CTRL_CALL_SELECTION, SIP/H323 logic and signal processing, SIP/H323_LOGIC, voice over IP coding/decoding, VO_IP, GSM logic and signal processing, GSM_LOGIC and GSM voice coding/decoding, GSM_CODEC. Finally there is provided a camp logic function, CMP_LOGIC, for controlling whether the dual mode mobile terminal shall operate over the GSM or WLAN network interface cards. In the following, a preferred embodiment for the handshaking between the dual mode mobile terminal and the exterior (cf. <figref idref="DRAWINGS">FIGS. 4 and 5</figref>) is illustrated using SIP protocol signaling. As an alternative, the H323 protocol may be used.</p>
<p id="p-0032" num="0031">For the WLAN network interface card, signal streams are communicated over a user plane, UP, bearing voice over IP packets and a H323/SIP control plane, CP. For the GSM network interface card signals are transmitted over GSM-codec, UP, and GSM control signaling plane, CP. In a manner, which shall be disclosed in the following, voice signals may selectively be transferred between the sound card, SND_C, and the WLAN network interface card, WLAN_NIC or the GSM network interface card, GSM_NIC.</p>
<p id="p-0033" num="0032">The control plane signaling issued on the respective interface cards shall be explained later with reference to <figref idref="DRAWINGS">FIGS. 4 and 5</figref>. It should be noticed that, the principles of the present invention also applies to a 3G/WLAN equipped dual mode terminal although the exemplary embodiment has been shown for GSM/WLAN dual mode terminal. It should be further noticed that the term dual mode terminal does not exclude more than two access technologies being provided in the terminal.</p>
<p id="p-0034" num="0033">According to the invention a WLAN-GSM/3G Interworking Node, IWFN, has been provided between the WLAN AP and the S_MSC/VLR. The IWF is responsible for &#x201c;translating&#x201d; a voice call between GSM voice and IP telephony, that is, translate the GSM audio codec format to voice over IP audio codec and performing signaling for enabling the call to be made via standard nodes.</p>
<p id="p-0035" num="0034">In <figref idref="DRAWINGS">FIG. 3</figref>, a preferred embodiment of the IWFN has been shown. It comprises an A-GSM interface for connection to a mobile switching center, MSC, and an Ethernet interface for coupling to a WLAN access point AP. It moreover comprises an GSM codec coder and decoding unit, GSM_U, as well as a voice over IP coding and decoding unit, VO_IP, for translating a GSM codec stream into voice over IP stream and vice versa. Moreover, the unit comprises a SIP signaling protocol control unit, CTRL_SIP, for transmitting for signaling to a GSM interface card. It moreover contains a H.323 service. The functionality of the IWFN shall be dealt with in more detail later.</p>
<p id="p-0036" num="0035">As mentioned above, the WLAN AP node may be coupled to the interworking and forwarding node IWFN either through an appropriate network such as an Ethernet LAN or via another network such as an ADSL modem and suitable backbone network, BKBN.</p>
<p id="p-0037" num="0036">According to the invention, The Serving MSC is configured such that it can hand over a voice call from the Base station to the new IWF node. However, the IWF node preferably &#x201c;appears like&#x201d; an ordinary base station system, BSS, to the MSC and normal HO is done between WLAN and GSM/3G from the MSC point of view.</p>
<p id="p-0038" num="0037">Advantageously, the dual mode mobile terminal MT2 may identify the IWF node by an IP address that is preconfigured in the dual mode mobile terminal, MT2.</p>
<p id="p-0039" num="0038">According to the invention an exemplary system is envisaged where many AP are provided in different locations so as to provide so-called &#x201c;hot-spot&#x201d; access to prescription users. The system according to the invention may moreover comprise predetermined &#x201c;home AP's&#x201d; provided in home and office environments. Common for these AP's are that they are coupled to the interworking node, IWF, according to the invention, alternatively, that there are provided several interworking nodes to which respective the AP's are coupled.</p>
<p id="p-0040" num="0039">A preferred embodiment of the invention shall now be explained with reference to <figref idref="DRAWINGS">FIGS. 4 and 5</figref>.</p>
<p id="h-0006" num="0000">I.&#x2014;Signaling Method for Incoming Voice Calls From the GSM/3G System and Hand-over to the WLAN Radio Interface of a Dual Mode Terminal</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIGS. 4 and 5</figref> shows the signaling sequence according to the invention where a voice call is received in the cellular network and handed over to the WLAN network interface card of the dual mode terminal.</p>
<p id="p-0042" num="0041">In the present embodiment the dual mode terminal is active and is attached to both the GSM network as well as a WLAN network. It should be understood that the network provider both supports both the GSM facilities as well as the WLAN facilities to the dual user subscriber.
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0042">1. An Incoming Voice Call to Gateway G-MSC (GSM Mobile Switching Center) /VLR is detected</li>
        <li id="ul0002-0002" num="0043">2. the G-MSC initiates a HLR Location Request to find the S-MSC to which the addressed terminal is attached, the HLR responds</li>
        <li id="ul0002-0003" num="0044">3. the G-MSC signals a Call Arrived message to the S-MSC</li>
        <li id="ul0002-0004" num="0045">4. a Complete Call instruction is sent from the G-MSC to the S-MSC, the voice Call forwarded to S-MSC</li>
        <li id="ul0002-0005" num="0046">5. a Page Request is sent from the S-MSC to BaseStation (BSS)</li>
        <li id="ul0002-0006" num="0047">6. the Page Request is forwarded to the dual mode mobile terminal on the Air Interface</li>
        <li id="ul0002-0007" num="0048">7. the dual mode mobile terminal performs a determination as to whether WLAN access is possible from an AP providing WLAN telephony calls, and if so, decides to proceed further over the WLAN radio interface (by the mechanism proposed below in connection with <figref idref="DRAWINGS">FIG. 6</figref>)</li>
        <li id="ul0002-0008" num="0049">8. a Page Response is sent from MT2 to WLAN AP (the IWF is addressed an IP address pre-configured by the dual mode mobile terminal)</li>
        <li id="ul0002-0009" num="0050">9.&#x2014;which is forwarded to the IWFN,</li>
        <li id="ul0002-0010" num="0051">10.&#x2014;and further to the S-MSC</li>
        <li id="ul0002-0011" num="0052">11. security functions are carried out in order to authenticate the MT</li>
        <li id="ul0002-0012" num="0053">12. setup; initiate call setup</li>
        <li id="ul0002-0013" num="0054">13. Invite (SIP); Initiate call setup (translated to SIP)</li>
        <li id="ul0002-0014" num="0055">14. Offer Response (SIP); Initiation confirmed (translated to SIP)</li>
        <li id="ul0002-0015" num="0056">15. Call Conference (SIP); Initiation confirmed</li>
        <li id="ul0002-0016" num="0057">16. Allocate; Request reservation of resources for call</li>
        <li id="ul0002-0017" num="0058">17. Reservation (SIP); request reservation of resources for call (translated to SIP)</li>
        <li id="ul0002-0018" num="0059">18. Alert User (SIP); terminal is prepared for call reception</li>
        <li id="ul0002-0019" num="0060">19. Reservation Conference; resource reservation confirmed (translated to SIP)</li>
        <li id="ul0002-0020" num="0061">20. Allocation Complete; resource reservation confirmed</li>
        <li id="ul0002-0021" num="0062">21. Ringing (SIP); ring tone generated at B-party (translated to SIP)</li>
        <li id="ul0002-0022" num="0063">22. Alert; ring tone generated at B-party</li>
        <li id="ul0002-0023" num="0064">23. 200 OK (SIP); answer indication i.e. B-party answers (translated to SIP)</li>
        <li id="ul0002-0024" num="0065">24. Connect; answer indication i.e. B-party answers</li>
        <li id="ul0002-0025" num="0066">25. Connect Acknowledge; when answer indication is received an acknowledge is sent to terminal</li>
        <li id="ul0002-0026" num="0067">26. Start Media (SIP); when terminal has sent the answer indication (200 OK) it starts to send the media stream i.e. VoIP payload</li>
        <li id="ul0002-0027" num="0068">27. Acknowledge (SIP); when answer indication is received an acknowledge is sent to terminal (translated to SIP)</li>
        <li id="ul0002-0028" num="0069">28. Complete Call; serving MSC acknowledges back to gateway MSC that call has been established</li>
        <li id="ul0002-0029" num="0070">29. GSM/IP translation 29; the IWF does any necessary coding/decoding or other translation between VoIP payload and GSM coded payload</li>
        <li id="ul0002-0030" num="0071">30. call in progress</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0043" num="0072">The SIP signals comparative to the SIP protocol have been indicated in brackets above.</p>
<p id="p-0044" num="0073">It is seen that in relation to a prior art GSM call, the voice call according to the invention is routed to the IWF instead of to the Base station (BSS) in the Serving MSC.</p>
<p id="h-0007" num="0000">II.&#x2014;Signaling Method for Making Outgoing Voice Calls From a WLAN Radio Interface to a GSM/3G System</p>
<p id="p-0045" num="0074">A method is also set forth involving a user of the dual mode terminal initiating a phone call. This procedure shall also be explained with respect to <figref idref="DRAWINGS">FIGS. 4 and 5</figref>, using the following steps:
<ul id="ul0003" list-style="none">
    <li id="ul0003-0001" num="0000">
    <ul id="ul0004" list-style="none">
        <li id="ul0004-0001" num="0075">&#x2014;. The user of the dual mode terminal, MT2,wants to make an outgoing telephone call</li>
        <li id="ul0004-0002" num="0076">7. The dual mode mobile terminal decides to make the call over the WLAN network interface card (by the mechanism proposed below as explained in connection with FIG. 6)</li>
        <li id="ul0004-0003" num="0077">8.&#x2014;30 A voice call setup signal is sent via WLAN AP-IWF- to S-MSC (the IWF is addressed by a MT preconfigured IP address) as explained according to steps 8-30 above</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0046" num="0078">The voice call is handled as usual in the GSM/3G network and is setup towards the fixed end user. The call is made and when completed the dual mode mobile terminal goes back to camp on the GSM/3G channel.</p>
<p id="h-0008" num="0000">III.&#x2014;Signaling Method for Handing Over a Voice Call From the WLAN Radio Interface to the GSM/3G Interface of the Dual Mode Terminal</p>
<p id="p-0047" num="0079">If during a voice call in WLAN radio access, the dual mode mobile terminal moves out of reach for the WLAN AP, a handover to GSM/3G is triggered. The action taken in the dual mode mobile terminal is as follows:
<ul id="ul0005" list-style="none">
    <li id="ul0005-0001" num="0000">
    <ul id="ul0006" list-style="none">
        <li id="ul0006-0001" num="0080">1. Radio contact with the WLAN AP is lost</li>
        <li id="ul0006-0002" num="0081">2. Scan for a GSM/3G cell.</li>
        <li id="ul0006-0003" num="0082">3. Attach to the GSM/3G cell</li>
        <li id="ul0006-0004" num="0083">4. Send a location update to the MSC to indicate that an Infra RAT HO (handover) shall take place</li>
        <li id="ul0006-0005" num="0084">5. The MSC will forward the voice call to the new GSM/3G cell</li>
        <li id="ul0006-0006" num="0085">6. The call will continue in the new GSM/3G cell</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0048" num="0086">Obviously, this method will cause a slight interrupt in the service when doing the hand-over. A more sophisticated method is envisaged based on searching for alternative radio access coverage during the call, in a manner similar GSM searching or compressed mode in 3G.</p>
<p id="h-0009" num="0000">IV.&#x2014;Camping Method for Dual Mode Mobile Terminals, Allowing Paging of Dual Mode Mobile Terminals for Incoming Telephone Calls</p>
<p id="p-0049" num="0087">According to a preferred embodiment, when idle, the dual mode terminal will preferably camp on the GSM/3G radio network for simplicity. In that case the mobility management and paging mechanism in GSM/3G is reused. Only when a voice call is started, the dual mode mobile terminal may go over to WLAN radio access. And when the call is ended, the dual mode mobile terminal will go back to GSM/3G and make a Location update. This will ensure that the dual mode mobile terminal is always reachable, even when moving at high speed.</p>
<p id="h-0010" num="0000">V.&#x2014;A Selection Mechanism for Enabling and Disabling WLAN Service in a Mobile Dual Mode Terminal According to the Invention.</p>
<p id="p-0050" num="0088">In view of the pico-cell nature of the WLAN, a selection mechanism for enabling WLAN access is defined, which seeks to accomplish that only when the dual mode mobile terminal, MT2, is stationary or moving at a very low speed, WLAN access is preferred. The GSM interface card on the other hand is preferably turned on at all times.</p>
<p id="p-0051" num="0089">This mechanism may work as exemplified by the states of the dual mode mobile terminal MS<b>1</b>, MS<b>2</b> and MS<b>3</b> and the corresponding change state conditions that are shown in <figref idref="DRAWINGS">FIG. 6</figref>. There is moreover provided an optional power save mode MS<b>4</b>, in view of the relatively high power consumption of current WLAN network interface cards. The selection mechanism may be implemented in the application, D-APP, in the logic function camping logic, CMP_LOGIC, shown in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0052" num="0090">The mobile terminal initially adopts a WLAN access disallowed state, MS<b>1</b>, searching for WLAN AP's, <b>101</b>. If a WLAN AP is identified offering access, state MS<b>2</b> is adopted. One way of determining whether the found AP is offering connection to an IWF is that the terminal tries to communicate with the IWF, sending a WLAN Call message (cf. <figref idref="DRAWINGS">FIG. 4</figref> step <b>8</b>&#x2014;WLAN Call (Page Response)) and await an Invite, (cf. <figref idref="DRAWINGS">FIG. 4</figref>, step <b>13</b>, Invite) or some other message, such as Pinging the IWF.</p>
<p id="p-0053" num="0091">In state MS<b>2</b> a timer value T<b>1</b> is defined such that, if the dual mode mobile terminal has heard the same WLAN AP for a time longer than given by the timer, MS<b>2</b>&#x2014;&#x201c;WLAN access disallowed wait for T<b>1</b>&#x201d;, then the dual mode mobile terminal is set in a state, MS<b>3</b>, allowing voice calls to be handed over to WLAN, &#x201c;WLAN access allowed&#x201d;, since the dual mode mobile terminal is probably not moving. If the signal is lost the mobile terminal goes back to MS<b>1</b>, <b>102</b>. When, in MS<b>3</b>, the dual mode mobile terminal cannot hear the WLAN AP anymore&#x2014;<b>104</b>, WLAN lost&#x2014;the dual mode mobile terminal is set to state &#x201c;WLAN access disallowed&#x201d;, MS<b>1</b>. WLAN access may also be allowed when one of a set of pre-defined AP's, such as a &#x201c;home AP&#x201d; is found, <b>103</b>. In other instances, when the AP is lost, the WLAN access disallowed state MS<b>1</b> is chosen.</p>
<p id="p-0054" num="0092">In MS<b>3</b> the WLAN interface card is powered on and will remain so if the WLAN card is used for transmission or access to the WLAN AP is not lost. However, if no transmission takes place while the AP is being present, the dual mode mobile terminal may enter a power save mode switching off the WLAN network interface card, WLAN_NIC.</p>
<p id="p-0055" num="0093">According to a further embodiment, the user may also actively select or overrule WLAN access by giving a command to the dual mode mobile terminal that WLAN access is preferred. This selection can be based on a presentation of available radio access networks as sensed by the dual mode mobile terminals, e.g. WLAN AP's that are within reach.</p>
<p id="p-0056" num="0094">As mentioned above, when a particular predefined AP is discovered (&#x201c;home AP&#x201d;), <b>103</b>, WLAN access may be selected, MS<b>3</b>, without any timer being set. WLAN is installed in many homes today, and a given Home AP may be set as preferred access. Alternatively, a typical preferred AP may be the WLAN in the office, hence more than one pre-defined &#x201c;home AP&#x201d; may be provided.</p>
<p id="p-0057" num="0095">In any case, when the selection mechanism enters the state &#x201c;WLAN Access Allowed&#x201d;, MS<b>3</b>, the behavior of the dual mode mobile terminal can be such that the dual mode mobile terminal by itself always access through the WLAN or alternatively it can be indicated to the user that this state has been entered, so that the user can chose to do access by WLAN. Preferable, the actual state is notified to the user when the state is entered or left or when an automatic transition between the WLAN system and the GSM/3G system occurs. This notification can be a noise signal, a light signal, a buzz signal, a message or an icon on the display or any other type of signal.</p>
<p id="p-0058" num="0096">The above mechanism secures that if the user of the dual mode terminal is on the move and is passing through a given area in which WLAN access is available, the readiness for responding, making and keeping GSM/3g phone calls, including during GSM/3G handover, is prioritised and secured. On the other hand, if the user is within a &#x201c;stationary&#x201d; reach of a &#x201c;home AP&#x201d;, calls are enabled over the WLAN interface.</p>
<p id="p-0059" num="0097">If the user remains within coverage of the predetermined home AP, but is not using the dual mode mobile terminal actively, the dual mode terminal may enter a power save mode in which the WLAN network interface card is set to sleep after a suitable period of inactivity, <b>106</b>. If activity is again encountered involving attempting to use the WLAN network interface or an activity on the GSM interface is encountered, a wake-up request <b>107</b>, places the terminal back in the WLAN access allowed state, MS<b>4</b>. In this instance the user may or may not have moved out of WLAN coverage, in the former case, the dual mode mobile terminal entering state MS<b>1</b>.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method of operating a dual mode terminal comprising a wireless local area network interface and a cellular radio interface, comprising the steps of:
<claim-text>camping on the cellular radio interface when idle;</claim-text>
<claim-text>when receiving a Page Request message over the cellular radio interface indicating an incoming communication request over the cellular radio interface, performing a determination as to whether wireless local area network coverage is possible from an access point providing wireless local area network cellular communication and, if so:
<claim-text>responding, by issuing a wireless local area network communication message to the wireless local area network access point thus determined over the wireless local area network interface to an interworking node;</claim-text>
<claim-text>subsequently engaging in a communication initiation procedure, an assign traffic channel procedure and a communication confirmation and communication accepted procedure with the interworking node; and,</claim-text>
<claim-text>processing the incoming communication request over the wireless local area network interface towards another party, wherein when the communication is ended, the dual mode terminal going back to camp on the cellular channel.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the communication initiation procedure comprises the steps of:
<claim-text>the interworking node issuing an Invite signal to the dual mode terminal upon receiving a setup from the mobile serving node; and,</claim-text>
<claim-text>issuing a communication confirm signal upon receiving an offer response signal from the dual mode terminal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the assign traffic channel procedure comprises the steps of:
<claim-text>the interworking node issuing a reservation confirm signal to the dual mode terminal upon receiving an allocate signal from the mobile serving node; and,</claim-text>
<claim-text>issuing an allocation complete signal upon receiving a reservation confirm signal from the mobile serving node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the communication confirmation and communication accepted procedure comprises the steps of:
<claim-text>the interworking node issuing alert and connect signals to the mobile serving node upon receiving ringing and 200-OK signals from the dual mode terminal; and,</claim-text>
<claim-text>the interworking node issuing an acknowledgement signal to the dual mode terminal upon receiving a connection acknowledged signal from the mobile serving node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein when selecting to receive or transmit cellular communication over the cellular interface or over the wireless local area network interface, the dual mode terminal further performs the steps of:
<claim-text>initially adopting a state in which cellular communication over wireless local area network access is disallowed, searching for a wireless local area network access point offering connection to cellular communication;</claim-text>
<claim-text>starting a timer when identifying a predetermined wireless cal area network access point offering connection to cellular communication; and,</claim-text>
<claim-text>upon the timer expiring, allowing cellular communication to be performed over the predetermined wireless local area network access point.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein when entering a wireless local area network access allowed state, but the user has not used the wireless local area network access for a given period, entering a power save mode in which wireless local area network access is not allowed.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein, if in the power save mode, entering the wireless local area network allowed state upon obtaining a page request signal or if necessitated by the user actively seeking to use the wireless local area network interface or wishing to perform cellular communication.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A dual mode terminal, comprising:
<claim-text>a wireless local area network interface and a cellular radio interface;</claim-text>
<claim-text>a software application including apparatus control and call selection, SIP/H323-logic and signal processing, voice over IP coding/decoding, GSM-logic and signal processing and cellular voice coding/decoding, and a camp logic function for controlling whether the dual mode mobile terminal shall operate over the cellular or the wireless local area network interfaces;</claim-text>
<claim-text>wherein said dual mode terminal is operative to:
<claim-text>camp on the cellular radio interface when idle;</claim-text>
<claim-text>when receiving a Page Request message over the cellular radio interface indicating an incoming communication request over the cellular radio interface, perform a determination as to whether wireless local area network coverage is possible from an access point providing wireless local area network telephony calls and, if so:
<claim-text>responding by issuing a wireless local area network communication message to the wireless local area network access point thus determined over the wireless local area network interface to an interworking node;</claim-text>
<claim-text>subsequently engaging in a communication initiation procedure, an assign traffic channel procedure and a communication confirmation and communication accepted procedure with the interworking node; and,</claim-text>
<claim-text>processing the incoming communication over the wireless local area network interface towards another party, wherein the dual mode terminal goes back to camp on the cellular channel, when the call is ended.</claim-text>
</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The dual use terminal according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein said terminal, when selecting to receive or perform cellular communication over the cellular interface or over the wireless local area network interface, is further operative to:
<claim-text>initially adopt a state in which cellular communication over wireless local area network access is disallowed and search for a wireless local area network access point offering cellular communication;</claim-text>
<claim-text>start a timer when identifying a predetermined wireless local area network access point offering cellular communication; and,</claim-text>
<claim-text>upon the timer expiring, allow cellular communication to be performed over the predetermined wireless local area network access point.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The dual use terminal according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein said terminal is further operative, when entering a wireless local area network access allowed state, but the user has not used the wireless local area network access for a given period, to enter a power save mode in which wireless local area network access is not allowed.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The dual use terminal according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein said terminal is further operative, if in the power save mode, to enter the wireless local area network allowed state upon obtaining a page request signal or if necessitated by the user actively seeking to use the wireless local area network interface or wishing to make a phone call.</claim-text>
</claim>
</claims>
</us-patent-grant>
