<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08621844-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08621844</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13105336</doc-number>
<date>20110511</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>303</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>F</section>
<class>01</class>
<subclass>N</subclass>
<main-group>3</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification> 60285</main-classification>
<further-classification> 60274</further-classification>
<further-classification> 60276</further-classification>
<further-classification> 60284</further-classification>
</classification-national>
<invention-title id="d2e53">System and method for controlling fuel delivery based on output from a post-catalyst oxygen sensor during catalyst light-off</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6532734</doc-number>
<kind>B1</kind>
<name>Shane et al.</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 60277</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6637194</doc-number>
<kind>B2</kind>
<name>Kakuyama et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 60285</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6828156</doc-number>
<kind>B2</kind>
<name>Ohsuga et al.</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>436135</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>7198952</doc-number>
<kind>B2</kind>
<name>Uchida et al.</name>
<date>20070400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>436 37</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7257944</doc-number>
<kind>B2</kind>
<name>Lewis et al.</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 60285</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7918085</doc-number>
<kind>B2</kind>
<name>Yoshioka</name>
<date>20110400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 60286</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-exemplary-claim>11</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification> 60274</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification> 60276</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification> 60284</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification> 60285</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification> 60286</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>5</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120285142</doc-number>
<kind>A1</kind>
<date>20121115</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Shibata</last-name>
<first-name>Jonathan T.</first-name>
<address>
<city>Whitmore Lake</city>
<state>MI</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Cowgill</last-name>
<first-name>Joshua</first-name>
<address>
<city>Hartland</city>
<state>MI</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Shibata</last-name>
<first-name>Jonathan T.</first-name>
<address>
<city>Whitmore Lake</city>
<state>MI</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Cowgill</last-name>
<first-name>Joshua</first-name>
<address>
<city>Hartland</city>
<state>MI</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<orgname>GM Global Technology Operations LLC</orgname>
<role>02</role>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Tran</last-name>
<first-name>Binh Q</first-name>
<department>3748</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A system includes a voltage determination module and a fuel control module. The voltage determination module determines a first output voltage of a first oxygen sensor position upstream from a catalyst in an exhaust system of an engine, and determines a second output voltage from a second oxygen sensor positioned downstream from the catalyst, the first output voltage indicating a first oxygen level of exhaust upstream from the catalyst, the second output voltage indicating a second oxygen level of exhaust downstream from the catalyst. The fuel control module controls a fuel mass injected into the engine based on the first output voltage and the second output voltage when a temperature of the catalyst is greater than a light-off temperature, and controls the fuel mass based on the second output voltage and independent from the first output voltage when the catalyst temperature is less than light-off temperature.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="187.54mm" wi="250.95mm" file="US08621844-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="252.31mm" wi="196.77mm" orientation="landscape" file="US08621844-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="250.70mm" wi="189.48mm" orientation="landscape" file="US08621844-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="246.72mm" wi="192.36mm" file="US08621844-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="225.38mm" wi="199.05mm" orientation="landscape" file="US08621844-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="220.39mm" wi="158.24mm" orientation="landscape" file="US08621844-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD</heading>
<p id="p-0002" num="0001">The present disclosure relates to systems and methods for controlling fuel delivery based on output from a post-catalyst oxygen sensor during catalyst light-off.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">The background description provided herein is for the purpose of generally presenting the context of the disclosure. Work of the presently named inventors, to the extent it is described in this background section, as well as aspects of the description that may not otherwise qualify as prior art at the time of filing, are neither expressly nor impliedly admitted as prior art against the present disclosure.</p>
<p id="p-0004" num="0003">When an engine is initially started, a catalyst in an exhaust system of the engine may be heated to a light-off temperature to maximize the ability of the catalyst to reduce emissions. The period during which the catalyst is heated may be referred to as catalyst light-off. During catalyst light-off, an engine may be controlled to produce exhaust having a lean air/fuel ratio to heat the catalyst to the light-off temperature.</p>
<p id="p-0005" num="0004">During normal operation, the engine may be controlled to maintain an air/fuel ratio of the engine at a stoichiometric ratio. The air/fuel ratio of the engine may be controlled based on output from an oxygen sensor positioned upstream from the catalyst. However, when the engine is initially started, the output from the oxygen sensor may not be reliable until the oxygen sensor is heated to an activation temperature. Thus, the air/fuel ratio of the engine may be controlled based on other engine operating conditions, such as intake airflow, when the engine is initially started.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0006" num="0005">A system includes a voltage determination module and a fuel control module. The voltage determination module determines a first output voltage of a first oxygen sensor position upstream from a catalyst in an exhaust system of an engine, and determines a second output voltage from a second oxygen sensor positioned downstream from the catalyst, the first output voltage indicating a first oxygen level of exhaust upstream from the catalyst, the second output voltage indicating a second oxygen level of exhaust downstream from the catalyst. The fuel control module controls a fuel mass injected into the engine based on the first output voltage and the second output voltage when a temperature of the catalyst is greater than a light-off temperature, and controls the fuel mass based on the second output voltage and independent from the first output voltage when the catalyst temperature is less than light-off temperature.</p>
<p id="p-0007" num="0006">Further areas of applicability of the present disclosure will become apparent from the detailed description provided hereinafter. It should be understood that the detailed description and specific examples are intended for purposes of illustration only and are not intended to limit the scope of the disclosure.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0008" num="0007">The present disclosure will become more fully understood from the detailed description and the accompanying drawings, wherein:</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 1</figref> is a functional block diagram of an example engine system according to the principles of the present disclosure;</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 2</figref> is a functional block diagram of an example engine control system according to the principles of the present disclosure;</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart illustrating an example engine control method according to the principles of the present disclosure;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 4</figref> is a graph illustrating example engine control signals according to the principles of the present disclosure; and</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 5</figref> is a graph illustrating example output of an oxygen sensor positioned downstream from a catalyst according to the principles of the present disclosure.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0014" num="0013">The following description is merely illustrative in nature and is in no way intended to limit the disclosure, its application, or uses. For purposes of clarity, the same reference numbers will be used in the drawings to identify similar elements. As used herein, the phrase at least one of A, B, and C should be construed to mean a logical (A or B or C), using a non-exclusive logical or. It should be understood that steps within a method may be executed in different order without altering the principles of the present disclosure.</p>
<p id="p-0015" num="0014">As used herein, the term module may refer to, be part of, or include an Application Specific Integrated Circuit (ASIC); an electronic circuit; a combinational logic circuit; a field programmable gate array (FPGA); a processor (shared, dedicated, or group) that executes code; other suitable components that provide the described functionality; or a combination of some or all of the above, such as in a system-on-chip. The term module may include memory (shared, dedicated, or group) that stores code executed by the processor.</p>
<p id="p-0016" num="0015">The term code, as used above, may include software, firmware, and/or microcode, and may refer to programs, routines, functions, classes, and/or objects. The term shared, as used above, means that some or all code from multiple modules may be executed using a single (shared) processor. In addition, some or all code from multiple modules may be stored by a single (shared) memory. The term group, as used above, means that some or all code from a single module may be executed using a group of processors or a group of execution engines. For example, multiple cores and/or multiple threads of a processor may be considered to be execution engines. In various implementations, execution engines may be grouped across a processor, across multiple processors, and across processors in multiple locations, such as multiple servers in a parallel processing arrangement. In addition, some or all code from a single module may be stored using a group of memories.</p>
<p id="p-0017" num="0016">The apparatuses and methods described herein may be implemented by one or more computer programs executed by one or more processors. The computer programs include processor-executable instructions that are stored on a non-transitory tangible computer readable medium. The computer programs may also include stored data. Non-limiting examples of the non-transitory tangible computer readable medium are nonvolatile memory, magnetic storage, and optical storage.</p>
<p id="p-0018" num="0017">During catalyst light-off, an air/fuel ratio of an engine may be adjusted to rich to ensure that the engine does not produce nitrogen oxide. In addition, air may be injected into exhaust from the engine using a secondary air injection system to adjust an exhaust air/fuel ratio to lean and thereby heat a catalyst to a light-off temperature. When the exhaust air/fuel ratio is lean, oxygen levels in the exhaust are greater than when the exhaust air/fuel ratio is stoichiometric or rich. Thus, the catalyst may become saturated with oxygen, and the ability of the catalyst to store oxygen may be decreased.</p>
<p id="p-0019" num="0018">In order to reduce emissions most effectively, the catalyst may be able to release and store oxygen. For example, the catalyst may be able to release oxygen to convert carbon monoxide into carbon dioxide, and the catalyst may be able to store oxygen to convert nitrogen oxide into nitrogen. Therefore, before catalyst light-off ends, the exhaust air/fuel ratio may be set to rich to avoid saturating the catalyst with oxygen.</p>
<p id="p-0020" num="0019">However, during catalyst light-off, the air/fuel ratio of the engine may not be controlled based on output from an oxygen sensor in an exhaust system of the engine. In turn, the exhaust air/fuel ratio may not be controlled as accurately as desired, and the ability of the catalyst to release and/or store oxygen may be impaired. Therefore, as catalyst light-off ends, the catalyst may not reduce emissions as effectively as possible.</p>
<p id="p-0021" num="0020">An engine control system and method according to the principles of the present disclosure controls the air/fuel ratio of an engine during catalyst light-off based on output from an oxygen sensor measuring oxygen levels in exhaust from the engine. The oxygen sensor may be a narrow band sensor positioned downstream from a catalyst in an exhaust system of the engine. The exhaust system may include a secondary air injection system that injects air into the exhaust to heat the catalyst. Before catalyst light-off ends, the engine may be controlled to produce exhaust having a rich air/fuel ratio at the catalyst in order to avoid saturating the catalyst with oxygen.</p>
<p id="p-0022" num="0021">Controlling an air/fuel ratio of an engine based on output from an oxygen sensor measuring oxygen levels in exhaust from the engine enables accurate control of an exhaust air/fuel ratio. Controlling an air/fuel ratio of an engine based on output from an oxygen sensor positioned downstream from the catalyst enables accurate control of the exhaust air/fuel ratio at or near the catalyst. Thus, the amount of oxygen stored in the catalyst may be accurately controlled and optimized to maximize the ability of the catalyst to reduce emissions by releasing and storing oxygen.</p>
<p id="p-0023" num="0022">Wideband sensors are typically used to determine a value of the air/fuel ratio of exhaust, while narrow band sensors are typically used to determine when the air/fuel ratio of exhaust switches from rich or lean or vice versa. However, the output voltage from a narrow band sensor may provide a qualitative measure of the air/fuel ratio of the exhaust, and narrow band sensors are typically less expensive than wideband sensors. Thus, by controlling an air/fuel ratio of an engine based on output from a narrow band sensor positioned downstream from a catalyst, the amount of oxygen stored in the catalyst may be accurately controlled and optimized at a relatively low cost.</p>
<p id="p-0024" num="0023">Referring now to <figref idref="DRAWINGS">FIG. 1</figref>, a functional block diagram of an exemplary engine system <b>100</b> is presented. The engine system <b>100</b> includes an engine <b>102</b> that combusts an air/fuel mixture to produce drive torque for a vehicle based on driver input from a driver input module <b>104</b>. Air is drawn into the engine <b>102</b> through an intake system <b>108</b>. For example only, the intake system <b>108</b> may include an intake manifold <b>110</b> and a throttle valve <b>112</b>. For example only, the throttle valve <b>112</b> may include a butterfly valve having a rotatable blade. An engine control module (ECM) <b>114</b> controls a throttle actuator module <b>116</b>, which regulates opening of the throttle valve <b>112</b> to control the amount of air drawn into the intake manifold <b>110</b>.</p>
<p id="p-0025" num="0024">Air from the intake manifold <b>110</b> is drawn into cylinders of the engine <b>102</b>. While the engine <b>102</b> may include multiple cylinders, for illustration purposes a single representative cylinder <b>118</b> is shown. For example only, the engine <b>102</b> may include 2, 3, 4, 5, 6, 8, 10, and/or 12 cylinders. The ECM <b>114</b> may instruct a cylinder actuator module <b>120</b> to selectively deactivate some of the cylinders, which may improve fuel economy under certain engine operating conditions.</p>
<p id="p-0026" num="0025">The engine <b>102</b> may operate using a four-stroke cycle. The four strokes, described below, are named the intake stroke, the compression stroke, the combustion stroke, and the exhaust stroke. During each revolution of a crankshaft (not shown), two of the four strokes occur within the cylinder <b>118</b>. Therefore, two crankshaft revolutions are necessary for the cylinder <b>118</b> to experience all four of the strokes.</p>
<p id="p-0027" num="0026">During the intake stroke, air from the intake manifold <b>110</b> is drawn into the cylinder <b>118</b> through an intake valve <b>122</b>. The ECM <b>114</b> controls a fuel actuator module <b>124</b>, which regulates fuel injection to achieve a desired air/fuel ratio. Fuel may be injected into the intake manifold <b>110</b> at a central location or at multiple locations, such as near the intake valve <b>122</b> of each of the cylinders. In various implementations (not shown), fuel may be injected directly into the cylinders or into mixing chambers associated with the cylinders. The fuel actuator module <b>124</b> may halt injection of fuel to cylinders that are deactivated.</p>
<p id="p-0028" num="0027">The injected fuel mixes with air and creates an air/fuel mixture in the cylinder <b>118</b>. During the compression stroke, a piston (not shown) within the cylinder <b>118</b> compresses the air/fuel mixture. The engine <b>102</b> may be a compression-ignition engine, in which case compression in the cylinder <b>118</b> ignites the air/fuel mixture. Alternatively, the engine <b>102</b> may be a spark-ignition engine, in which case a spark actuator module <b>126</b> energizes a spark plug <b>128</b> in the cylinder <b>118</b> based on a signal from the ECM <b>114</b>, which ignites the air/fuel mixture. The timing of the spark may be specified relative to the time when the piston is at its topmost position, referred to as top dead center (TDC).</p>
<p id="p-0029" num="0028">The spark actuator module <b>126</b> may be controlled by a timing signal specifying how far before or after TDC to generate the spark. Because piston position is directly related to crankshaft rotation, operation of the spark actuator module <b>126</b> may be synchronized with crankshaft angle. In various implementations, the spark actuator module <b>126</b> may halt provision of spark to deactivated cylinders.</p>
<p id="p-0030" num="0029">Generating the spark may be referred to as a firing event. The spark actuator module <b>126</b> may have the ability to vary the timing of the spark for each firing event. The spark actuator module <b>126</b> may even be capable of varying the spark timing for a next firing event when the spark timing signal is changed between a last firing event and the next firing event.</p>
<p id="p-0031" num="0030">During the combustion stroke, the combustion of the air/fuel mixture drives the piston down, thereby driving the crankshaft. The combustion stroke may be defined as the time between the piston reaching TDC and the time at which the piston returns to bottom dead center (BDC).</p>
<p id="p-0032" num="0031">During the exhaust stroke, the piston begins moving up from BDC and expels the byproducts of combustion through an exhaust valve <b>130</b>. The byproducts of combustion are exhausted from the vehicle via an exhaust system <b>134</b>.</p>
<p id="p-0033" num="0032">The intake valve <b>122</b> may be controlled by an intake camshaft <b>140</b>, while the exhaust valve <b>130</b> may be controlled by an exhaust camshaft <b>142</b>. In various implementations, multiple intake camshafts (including the intake camshaft <b>140</b>) may control multiple intake valves (including the intake valve <b>122</b>) for the cylinder <b>118</b> and/or may control the intake valves (including the intake valve <b>122</b>) of multiple banks of cylinders (including the cylinder <b>118</b>). Similarly, multiple exhaust camshafts (including the exhaust camshaft <b>142</b>) may control multiple exhaust valves for the cylinder <b>118</b> and/or may control exhaust valves (including the exhaust valve <b>130</b>) for multiple banks of cylinders (including the cylinder <b>118</b>).</p>
<p id="p-0034" num="0033">The cylinder actuator module <b>120</b> may deactivate the cylinder <b>118</b> by disabling opening of the intake valve <b>122</b> and/or the exhaust valve <b>130</b>. In various other implementations, the intake valve <b>122</b> and/or the exhaust valve <b>130</b> may be controlled by devices other than camshafts, such as electromagnetic actuators.</p>
<p id="p-0035" num="0034">The time at which the intake valve <b>122</b> is opened may be varied with respect to piston TDC by an intake cam phaser <b>148</b>. The time at which the exhaust valve <b>130</b> is opened may be varied with respect to piston TDC by an exhaust cam phaser <b>150</b>. A phaser actuator module <b>158</b> may control the intake cam phaser <b>148</b> and the exhaust cam phaser <b>150</b> based on signals from the ECM <b>114</b>. When implemented, variable valve lift (not shown) may also be controlled by the phaser actuator module <b>158</b>.</p>
<p id="p-0036" num="0035">The engine system <b>100</b> may include a boost device that provides pressurized air to the intake manifold <b>110</b>. For example, <figref idref="DRAWINGS">FIG. 1</figref> shows a turbocharger including a hot turbine <b>160</b>-<b>1</b> that is powered by hot exhaust gases flowing through the exhaust system <b>134</b>. The turbocharger also includes a cold air compressor <b>160</b>-<b>2</b>, driven by the turbine <b>160</b>-<b>1</b>, which compresses air leading into the throttle valve <b>112</b>. In various implementations, a supercharger (not shown), driven by the crankshaft, may compress air from the throttle valve <b>112</b> and deliver the compressed air to the intake manifold <b>110</b>.</p>
<p id="p-0037" num="0036">A wastegate <b>162</b> may allow exhaust to bypass the turbine <b>160</b>-<b>1</b>, thereby reducing the boost (the amount of intake air compression) of the turbocharger. The ECM <b>114</b> may control the turbocharger via a boost actuator module <b>164</b>. The boost actuator module <b>164</b> may modulate the boost of the turbocharger by controlling the position of the wastegate <b>162</b>. In various implementations, multiple turbochargers may be controlled by the boost actuator module <b>164</b>. The turbocharger may have variable geometry, which may be controlled by the boost actuator module <b>164</b>.</p>
<p id="p-0038" num="0037">An intercooler (not shown) may dissipate some of the heat contained in the compressed air charge, which is generated as the air is compressed. The compressed air charge may also have absorbed heat from components of the exhaust system <b>134</b>. Although shown separated for purposes of illustration, the turbine <b>160</b>-<b>1</b> and the compressor <b>160</b>-<b>2</b> may be attached to each other, placing intake air in close proximity to hot exhaust.</p>
<p id="p-0039" num="0038">The engine system <b>100</b> may include an exhaust gas recirculation (EGR) valve <b>170</b>, which selectively redirects exhaust gas back to the intake manifold <b>110</b>. The EGR valve <b>170</b> may be located upstream of the turbocharger's turbine <b>160</b>-<b>1</b>. The EGR valve <b>170</b> may be controlled by an EGR actuator module <b>172</b>.</p>
<p id="p-0040" num="0039">The exhaust system <b>134</b> may include a secondary air injection system <b>174</b> and a catalyst <b>176</b>. The secondary air injection (AIR) system <b>174</b> injects air into exhaust from the engine <b>102</b> to heat the catalyst <b>176</b> to the light-off temperature during catalyst light-off after the engine <b>102</b> is started. The AIR system <b>174</b> may be controlled by an AIR actuator module <b>178</b>. The catalyst <b>176</b> reacts with the exhaust to reduce emissions and operates most effectively when heated to the light-off temperature.</p>
<p id="p-0041" num="0040">The engine system <b>100</b> may measure the speed of the crankshaft (i.e., the engine speed) in revolutions per minute (RPM) using an RPM sensor <b>180</b>. The temperature of the engine coolant may be measured using an engine coolant temperature (ECT) sensor <b>182</b>. The ECT sensor <b>182</b> may be located within the engine <b>102</b> or at other locations where the coolant is circulated, such as a radiator (not shown).</p>
<p id="p-0042" num="0041">The pressure within the intake manifold <b>110</b> may be measured using a manifold absolute pressure (MAP) sensor <b>184</b>. Ambient air pressure may be measured using an ambient air pressure (AAP) sensor <b>185</b>. In various implementations, engine vacuum, which is the difference between ambient air pressure and the pressure within the intake manifold <b>110</b>, may be measured. The mass flow rate of air flowing into the intake manifold <b>110</b> may be measured using a mass air flow (MAF) sensor <b>186</b>. In various implementations, the MAF sensor <b>186</b> may be located in a housing that also includes the throttle valve <b>112</b>.</p>
<p id="p-0043" num="0042">The throttle actuator module <b>116</b> may monitor the position of the throttle valve <b>112</b> using one or more throttle position sensors (TPS) <b>190</b>. The ambient temperature of air being drawn into the engine <b>102</b> may be measured using an intake air temperature (IAT) sensor <b>192</b>. Oxygen levels in exhaust from the engine <b>102</b> may be measured using a pre-catalyst or upstream oxygen (UO2) sensor <b>193</b>-<b>1</b> and a post-catalyst or downstream oxygen (DO2) sensor <b>193</b>-<b>2</b>. The UO2 sensor <b>193</b>-<b>1</b> may be a wideband or narrow-band sensor positioned upstream from the catalyst <b>176</b>. The DO2 sensor <b>193</b>-<b>2</b> may be a wideband or narrow-band sensor positioned downstream from the catalyst <b>176</b>. The ECM <b>114</b> may use signals from the sensors to make control decisions for the engine system <b>100</b>.</p>
<p id="p-0044" num="0043">The ECM <b>114</b> may communicate with a transmission control module <b>194</b> to coordinate shifting gears in a transmission (not shown). For example, the ECM <b>114</b> may reduce engine torque during a gear shift. The ECM <b>114</b> may communicate with a hybrid control module <b>196</b> to coordinate operation of the engine <b>102</b> and an electric motor <b>198</b>. The electric motor <b>198</b> may also function as a generator, and may be used to produce electrical energy for use by vehicle electrical systems and/or for storage in a battery. In various implementations, various functions of the ECM <b>114</b>, the transmission control module <b>194</b>, and the hybrid control module <b>196</b> may be integrated into one or more modules.</p>
<p id="p-0045" num="0044">Each system that varies an engine parameter may be referred to as an actuator that receives an actuator value. For example, the throttle actuator module <b>116</b> may be referred to as an actuator and the throttle opening area may be referred to as the actuator value. In the example of <figref idref="DRAWINGS">FIG. 1</figref>, the throttle actuator module <b>116</b> achieves the throttle opening area by adjusting an angle of the blade of the throttle valve <b>112</b>.</p>
<p id="p-0046" num="0045">Similarly, the spark actuator module <b>126</b> may be referred to as an actuator, while the corresponding actuator value may be the amount of spark advance relative to cylinder TDC. Other actuators may include the cylinder actuator module <b>120</b>, the fuel actuator module <b>124</b>, the phaser actuator module <b>158</b>, the boost actuator module <b>164</b>, and the EGR actuator module <b>172</b>. For these actuators, the actuator values may correspond to number of activated cylinders, fueling rate, intake and exhaust cam phaser angles, boost pressure, and EGR valve opening area, respectively. The ECM <b>114</b> may control actuator values in order to cause the engine <b>102</b> to generate a desired engine output torque.</p>
<p id="p-0047" num="0046">The ECM <b>114</b> controls the fueling rate based on an output voltage from the DO2 sensor <b>193</b>-<b>2</b> during catalyst light-off to optimize the amount of oxygen stored in the catalyst <b>176</b>. The ECM <b>114</b> may increase the fueling rate when the output voltage is less than a target voltage, indicating that the air/fuel ratio of exhaust flowing through the catalyst <b>176</b> is lean. The ECM <b>114</b> may decrease the fueling rate when the output voltage is greater than the target voltage, indicating that the air/fuel ratio of exhaust flowing through the catalyst <b>176</b> is rich. The ECM <b>114</b> may adjust the fueling rate by an amount that is determined based on a difference between the output voltage and the target voltage, for example, using proportion, integral, and/or derivative control.</p>
<p id="p-0048" num="0047">Referring now to <figref idref="DRAWINGS">FIG. 2</figref>, the ECM <b>114</b> includes a fuel mass determination module <b>202</b> that determines and outputs a fuel mass injected per combustion event. The fuel mass determination module <b>202</b> may determine the fuel mass based on the intake airflow, a desired air/fuel ratio, such as stoichiometric, and a predetermined relationship between the intake airflow, the desired air/fuel ratio, and the fuel mass. This predetermined relationship may be embodied in an equation and/or a lookup table.</p>
<p id="p-0049" num="0048">The fuel mass determination module <b>202</b> may estimate the amount of unburned fuel per combustion event based on the engine coolant temperature and properties of a worst-case fuel. The worst-case fuel may have a low volatility in cold temperatures relative to a best-case fuel. The fuel mass determination module <b>202</b> may increase the fuel mass to compensate for potential reductions in the air/fuel ratio due to the unburned fuel amount. Also, the AIR system <b>174</b> may be positioned at or near the exhaust valve <b>130</b>. Thus, the fuel mass determination module <b>202</b> may estimate airflow delivered by the AIR system <b>174</b>, and may increase the fuel mass to compensate for potential reductions in the air/fuel ratio due to air injected by the AIR system <b>174</b>.</p>
<p id="p-0050" num="0049">When the engine <b>102</b> is started, the ECM <b>114</b> may operate in an open-loop mode in which the air/fuel ratio of the engine <b>102</b> is controlled independent from the oxygen levels measured by the UO2 sensor <b>193</b>-<b>1</b>. However, during normal operation, the ECM <b>114</b> may operate in a closed-loop mode in which the air/fuel ratio of the engine <b>102</b> is controlled based on the oxygen levels measured by the UO2 sensor <b>193</b>-<b>1</b>. Thus, in the open-loop mode, the fuel mass determination module <b>202</b> may determine the fuel mass based on the intake airflow and the desired air/fuel ratio, as discussed above. Additionally, in the closed-loop mode, the fuel mass determination module <b>202</b> may determine the fuel mass based on the oxygen levels from the UO2 sensor <b>193</b>-<b>1</b>.</p>
<p id="p-0051" num="0050">A fuel mass adjustment module <b>204</b> adjusts the fuel mass during catalyst light-off based on the output voltage from the DO2 sensor <b>193</b>-<b>2</b>. The fuel mass adjustment module <b>204</b> may adjust the fuel mass based on a predetermined relationship between the output voltage and the air/fuel ratio at the catalyst <b>176</b>. This predetermined relationship may be embodied in a graph, an equation, and/or a lookup table. The fuel mass adjustment module <b>204</b> outputs the fuel mass, as adjusted.</p>
<p id="p-0052" num="0051">The fuel mass adjustment module <b>204</b> may adjust the fuel mass to maintain the air/fuel ratio of exhaust at the catalyst <b>176</b> at a desired air/fuel ratio, such as stoichiometric, and thereby optimize the amount of oxygen stored in the catalyst <b>176</b>. The fuel mass adjustment module <b>204</b> may adjust the fuel mass based on the output voltage from the DO2 sensor <b>193</b>-<b>2</b> and a target voltage. The target voltage may be a value (e.g., 720 millivolts (mV)) or a range (e.g., 200 mV to 750 mV), may correspond to the desired air/fuel ratio, and may vary based on exhaust temperature. The exhaust air/fuel ratio may be lean when the output voltage is less than the target voltage and may be rich when the output voltage is greater than the target voltage.</p>
<p id="p-0053" num="0052">The fuel mass adjustment module <b>204</b> may increase the fuel mass when the output voltage is less than the target voltage, indicating that the exhaust air/fuel ratio is lean. The fuel mass adjustment module <b>204</b> may decrease the fuel mass when the output voltage is greater than the target voltage, indicating that the exhaust air/fuel ratio is rich. The fuel mass adjustment module <b>204</b> may adjust the fuel mass by an amount that is determined based on a difference between the output voltage and the target voltage, for example, using proportional, integral, and/or derivative control.</p>
<p id="p-0054" num="0053">The fuel mass adjustment module <b>204</b> may adjust the fuel mass based on the output voltage from the DO2 sensor <b>193</b>-<b>2</b> during catalyst light-off when the AIR system <b>174</b> and the DO2 sensor <b>193</b>-<b>2</b> are active. The fuel mass adjustment module <b>204</b> may determine that catalyst light-off begins when a driver starts the engine <b>102</b>. The fuel mass adjustment module <b>204</b> may determine when the driver starts the engine <b>102</b> based on the driver input received from the driver input module <b>104</b>. The fuel mass adjustment module <b>204</b> may determine that catalyst light-off ends when the temperature of the catalyst <b>176</b> is greater than a light-off temperature, which may be predetermined.</p>
<p id="p-0055" num="0054">A temperature estimation module <b>206</b> estimates and outputs the temperature of the catalyst <b>176</b>. The temperature estimation module <b>206</b> may estimate the catalyst temperature based on the intake air temperature from the IAT sensor <b>192</b> and/or the time elapsed while the engine <b>102</b> is running (i.e., the runtime of the engine <b>102</b>). The temperature estimation module <b>206</b> may set the estimated catalyst temperature equal to the intake air temperature when the engine <b>102</b> is started, and increase the estimated catalyst temperature in proportion to the runtime of the engine <b>102</b>. Alternatively, the fuel mass adjustment module <b>204</b> may determine that catalyst light-off ends when the runtime of the engine <b>102</b> is greater than a predetermined time (e.g., 20 seconds).</p>
<p id="p-0056" num="0055">A voltage determination module <b>208</b> determines and outputs the output voltages of the DO2 sensors <b>193</b>-<b>1</b>, <b>193</b>-<b>2</b>. The voltage determination module <b>208</b> may determine the output voltage of the DO2 sensors <b>193</b>-<b>1</b>, <b>193</b>-<b>2</b> based on signals from the DO2 sensors <b>193</b>-<b>1</b>, <b>193</b>-<b>2</b>. Alternatively, the voltage determination module <b>208</b> may be omitted, and the fuel mass determination and adjustment modules <b>202</b>, <b>204</b> may receive the output voltages directly from the DO2 sensors <b>193</b>-<b>1</b>, <b>193</b>-<b>2</b>.</p>
<p id="p-0057" num="0056">A sensor status module <b>210</b> determines whether the DO2 sensor <b>193</b>-<b>2</b> is active and outputs the determination. The sensor status module <b>210</b> may determine that the DO2 sensor <b>193</b>-<b>2</b> is active when the temperature of the DO2 sensor <b>193</b>-<b>2</b> has reached a temperature at which the DO2 sensor <b>193</b>-<b>2</b> is accurate. The sensor status module <b>210</b> may estimate the temperature of the DO2 sensor <b>193</b>-<b>2</b> based on the intake air temperature and/or the runtime of the engine <b>102</b>. Alternatively, the sensor status module <b>210</b> may determine that the DO2 sensor <b>193</b>-<b>2</b> is active when the output voltage of the DO2 sensor <b>193</b>-<b>2</b> is less than a predetermined voltage (e.g., 450 mV).</p>
<p id="p-0058" num="0057">An air activation module <b>212</b> outputs a signal to the AIR actuator module <b>178</b> to activate the AIR system <b>174</b> and outputs a signal to the fuel mass adjustment module <b>204</b> indicating when the AIR system <b>174</b> is activated. The air activation module <b>212</b> may activate the AIR system <b>174</b> when the engine <b>102</b> is started and when engine operating conditions are within predetermined ranges. The engine operating conditions may include the intake air temperature, the ambient air pressure, the manifold absolute pressure, the engine coolant temperature, and/or the engine speed.</p>
<p id="p-0059" num="0058">The predetermined ranges for the manifold absolute pressure, the engine coolant temperature, and the engine speed may correspond to the engine <b>102</b> operating at an idle speed while warming up. For example only, the predetermined range for the manifold absolute pressure may be greater than 70 kilopascals (kPa), the predetermined range for the engine coolant temperature may be less than 100 Celsius (&#xb0; C.), and the predetermined range for engine speed may be between 1,500 RPM and 2,000 RPM. The predetermined ranges for the intake air temperature and the ambient air pressure may be driven by emissions standards. For example only, the predetermined range for the intake air temperature may be between &#x2212;30&#xb0; C. and 30&#xb0; C., and the predetermined range for the ambient air pressure may be greater than 80 kPa.</p>
<p id="p-0060" num="0059">The fuel mass adjustment module <b>204</b> may determine when the DO2 sensor <b>193</b>-<b>2</b> is active is active based on input received from the sensor status module <b>210</b>. The fuel mass adjustment module <b>204</b> may determine when the AIR system <b>174</b> is active based on input received from the air activation module <b>212</b>. The AIR system <b>174</b> may inject a constant amount of air when active. Thus, adjusting the fuel mass may be the only way to adjust the air/fuel ratio of exhaust flowing through the catalyst <b>176</b>.</p>
<p id="p-0061" num="0060">A fuel control module <b>214</b> outputs a signal to the fuel actuator module <b>124</b> to control the fueling rate of the engine <b>102</b>. The fuel control module <b>214</b> may control the fueling rate based on the fuel mass, as adjusted by the fuel mass adjustment module <b>204</b>. The fuel control module <b>214</b> may output the fuel mass to the fuel actuator module <b>124</b>, which may inject the fuel mass before each combustion event in the engine <b>102</b>.</p>
<p id="p-0062" num="0061">Referring now to <figref idref="DRAWINGS">FIG. 3</figref>, a method for controlling an engine according to the principles of the present disclosure begins at <b>302</b>. At <b>304</b>, the method determines a fuel mass for injection into the engine. The method may determine the fuel mass based on airflow measured in an intake system of the engine and a desired air/fuel ratio, such as stoichiometric. At <b>306</b>, the method determines an output voltage from an oxygen sensor positioned downstream from a catalyst in an exhaust system of the engine.</p>
<p id="p-0063" num="0062">At <b>308</b>, the method determines whether the oxygen sensor is active. If <b>308</b> is true, the method continues at <b>310</b>. Otherwise, the method ends at <b>312</b>. The oxygen sensor may be active when the temperature of the oxygen sensor is greater than a temperature above which the oxygen sensor accurately detects oxygen levels. The method may determine that the oxygen sensor is active when the output voltage from the oxygen sensor is less than a predetermined voltage.</p>
<p id="p-0064" num="0063">At <b>310</b>, the method determines whether a secondary air injection system in the exhaust system is active. If <b>310</b> is true, the method continues at <b>314</b>. Otherwise, the method ends at <b>312</b>. The secondary air injection system may be activated when the engine is started and engine operating conditions are within predetermined ranges. The operating conditions may include an engine speed, an engine coolant temperature, an intake air temperature, an ambient air pressure, and a manifold absolute pressure.</p>
<p id="p-0065" num="0064">At <b>314</b>, the method estimates the temperature of the catalyst. The method may estimate the catalyst temperature based on an ambient temperature, the intake air temperature, and/or the time elapsed while the engine is running. Alternatively, the method may estimate the catalyst temperature based on a temperature measured using a temperature sensor positioned in the exhaust system at or near the catalyst.</p>
<p id="p-0066" num="0065">At <b>316</b>, the method determines whether the catalyst temperature is less than a light-off temperature. The catalyst is heated to the light-off temperature when the engine is started during catalyst light-off. The catalyst may reduce emissions most effectively at or above the light-off temperature, which may be predetermined. If <b>316</b> is true, the method continues at <b>318</b>. Otherwise, the method ends at <b>312</b>.</p>
<p id="p-0067" num="0066">At <b>318</b>, the method determines whether the output voltage of the oxygen sensor is less than a target voltage. The air/fuel ratio of exhaust flowing by the oxygen sensor may be equal to a desired air/fuel ratio, such as stoichiometric, when the output voltage is equal to the target voltage. If <b>318</b> is true, the method continues at <b>320</b>. Otherwise, the method continues at <b>322</b>.</p>
<p id="p-0068" num="0067">At <b>320</b>, the method determines an amount by which to increase the fuel mass injected into the engine. The method may determine this amount based on a difference between the output voltage and the target voltage, for example, using proportional, integral, and/or derivative control. If the method determines this amount using derivative control, the method may limit the derivative value to avoid decreasing the fuel mass. Thus, the method may increase this amount as the difference between the output voltage and the target voltage increases. Conversely, the method may decrease this amount as the difference between the output voltage and the target voltage decreases. At <b>324</b>, the method increases the fuel mass by the amount determined at <b>320</b>.</p>
<p id="p-0069" num="0068">At <b>322</b>, the method determines an amount by which to decrease the fuel mass injected into the engine. The method may determine this amount based on a difference between the output voltage and the target voltage, for example, using proportional, integral, and/or derivative control. If the method determines this amount using derivative control, the method may limit the derivative value to avoid increasing the fuel mass. Thus, the method may increase this amount as the difference between the output voltage and the target voltage increases. Conversely, the method may decrease this amount as the difference between the output voltage and the target voltage decreases. At <b>326</b>, the method decreases the fuel mass by the amount determined at <b>322</b>.</p>
<p id="p-0070" num="0069">Referring now to <figref idref="DRAWINGS">FIG. 4</figref>, a control signal and sensor signals according to the principles of the present disclosure are illustrated. The control signal includes a commanded equivalence ratio <b>402</b>. The sensor signals include a measured equivalence ratio <b>404</b>, a pre-catalyst oxygen sensor output voltage <b>406</b>, a post-catalyst oxygen sensor output voltage <b>408</b>, an engine speed <b>410</b>, a vehicle speed <b>412</b>, and a secondary air injection system airflow <b>414</b>. The sensor signals also include a flame ionizer detector weighted mass <b>416</b> and a nitrogen oxide detector weighted mass <b>418</b>. The ionizer detector weighted mass <b>416</b> indicates hydrocarbon emission levels, and the nitrogen oxide detector weighted mass <b>418</b> indicates nitrogen oxide emission levels.</p>
<p id="p-0071" num="0070">The x-axis represents engine run-time in seconds, and the y-axis represents various units. The control signals and the sensor signals have been scaled to fit the y-axis. The commanded equivalence ratio <b>402</b> and the measured equivalence ratio <b>404</b> have been multiplied by 100. The pre-catalyst oxygen sensor output voltage <b>406</b> and the post-catalyst oxygen sensor output voltage <b>408</b>, originally in millivolts (mV), have been multiplied by 0.1. The engine speed <b>410</b>, originally in revolutions per minute (RPM), has been multiplied by 0.01. The vehicle speed <b>412</b> has been multiplied by 0.62137 and the secondary air injection system airflow <b>414</b> has been multiplied by 10. The emissions-related weighted masses <b>416</b>, <b>418</b> have been multiplied by 1,000,000.</p>
<p id="p-0072" num="0071">Between 0 seconds and about 21 seconds of engine runtime, the control signals and sensor signals correspond to engine operating conditions when an engine is started and is warming up at an idle speed. At about 21 seconds, the engine speed <b>410</b> and the vehicle speed <b>412</b> start to increase, indicating that the driver has tipped into an accelerator pedal for a first time after the engine was started. A control system and method according to the principles of the present disclosure may adjust the commanded equivalence ratio <b>402</b> based on the post-catalyst oxygen sensor output voltage <b>408</b> before the first tip-in to optimize the amount of oxygen stored on a catalyst. In turn, the catalyst can both store and release oxygen, which reduces emissions at the first tip-in.</p>
<p id="p-0073" num="0072">At <b>420</b>, the post-catalyst oxygen sensor output voltage <b>408</b> is about 420 mV, indicating that the post-catalyst oxygen sensor output voltage <b>408</b> accurately indicates oxygen levels of exhaust at or near the catalyst. Thus, starting at <b>420</b>, the commanded equivalence ratio <b>402</b> is adjusted in response to changes in the post-catalyst oxygen sensor output voltage <b>408</b> to optimize the amount of oxygen stored on the catalyst.</p>
<p id="p-0074" num="0073">The commanded equivalence ratio <b>402</b> is adjusted to maintain the post-catalyst oxygen sensor output voltage <b>408</b> at a target voltage <b>422</b> of about 720 mV, which may correspond to a desired air/fuel ratio at the catalyst, such as stoichiometric. At <b>424</b>, the post-catalyst oxygen sensor output voltage <b>408</b> transitions from less than the target voltage <b>422</b> to greater than target voltage <b>422</b>, which may indicate that exhaust at the catalyst has transitioned from lean to rich. Although the measured equivalence ratio <b>404</b> is greater than 100 prior to <b>424</b>, the measured equivalence ratio <b>404</b> is taken at the engine and therefore indicates that the air/fuel ratio at the engine, but not necessarily at the catalyst, is rich prior to <b>424</b>.</p>
<p id="p-0075" num="0074">At <b>424</b>, in response to the change in the post-catalyst oxygen sensor output voltage <b>408</b>, the commanded equivalence ratio <b>402</b> is decreased to decrease the air/fuel ratio at the catalyst. At <b>426</b>, the post-catalyst oxygen sensor output voltage <b>408</b> transitions from greater than the target voltage <b>422</b> to less than the target voltage <b>422</b>, which may indicate that exhaust at the catalyst has transitioned from rich to lean. In response, at <b>426</b>, the commanded equivalence ratio <b>402</b> is increased to increase the air/fuel ratio at the catalyst. The commanded equivalence ratio <b>402</b> may be adjusted in this manner as long as engine operating conditions, such as the engine speed <b>410</b>, indicate that the engine is still at idle speed and the driver has not tipped in.</p>
<p id="p-0076" num="0075">At <b>428</b>, the engine runtime is equal to 20 seconds, which may indicate that the pre-catalyst oxygen sensor output voltage <b>406</b> accurately indicates oxygen levels of exhaust exiting the engine. Thus, starting at <b>428</b>, the commanded equivalence ratio <b>402</b> may be controlled based on the pre-catalyst oxygen sensor output voltage <b>406</b> instead of or in addition to the post-catalyst oxygen sensor output voltage <b>408</b>.</p>
<p id="p-0077" num="0076">Referring now to <figref idref="DRAWINGS">FIG. 5</figref>, relationships between output from an oxygen sensor and an air/fuel ratio of exhaust flowing past the oxygen sensor are illustrated. The oxygen sensor is a narrow-band or switching sensor. The y-axis represents the output voltage of the switching sensor in millivolts (mV), and the x-axis represents the lambda, or the inverse of the equivalence ratio, of the exhaust flowing past the switching sensor.</p>
<p id="p-0078" num="0077">A first output voltage <b>502</b> shows the relationship between the output voltage of the switching sensor and the lambda of the exhaust when the temperature of the switching sensor is 500 degrees Celsius (&#xb0; C.). A second output voltage <b>504</b> shows the relationship between the output voltage of the switching sensor and the lambda of the exhaust when the temperature of the switching sensor is 700&#xb0; C. A third output voltage <b>506</b> shows the relationship between the output voltage of the switching sensor and the lambda of the exhaust when the temperature of the switching sensor is 900&#xb0; C.</p>
<p id="p-0079" num="0078">A control system and method according to the principles of the present disclosure may adjust the amount of fuel delivered to an engine based relationships such as those shown by the first, second, and third output voltages <b>502</b>, <b>504</b>, and <b>506</b>. Fuel delivered to the engine may be decreased when the output voltage is greater than a target voltage. Fuel delivered to the engine may be increased when the output voltage is greater than the target voltage. Fuel may be adjusted by an amount that is proportional to a difference between the output voltage and the target voltage.</p>
<p id="p-0080" num="0079">As shown at <b>508</b>, the output voltage of the switching sensor decreases as the temperature of exhaust at or near the switching sensor increases. As shown at <b>510</b>, the output voltage of the switching sensor decreases as the exhaust temperature increases. Thus, the target voltage may be adjusted based on the exhaust temperature.</p>
<p id="p-0081" num="0080">The broad teachings of the disclosure can be implemented in a variety of forms. Therefore, while this disclosure includes particular examples, the true scope of the disclosure should not be so limited since other modifications will become apparent to the skilled practitioner upon a study of the drawings, the specification, and the following claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A system comprising:
<claim-text>a voltage determination module that determines a first output voltage of a first oxygen sensor positioned upstream from a catalyst in an exhaust system of an engine, and that determines a second output voltage of a second oxygen sensor positioned downstream from the catalyst, the first output voltage indicating a first oxygen level of exhaust upstream from the catalyst, the second output voltage indicating a second oxygen level of exhaust downstream from the catalyst; and</claim-text>
<claim-text>a fuel control module that controls a fuel mass injected into the engine based on the first output voltage and the second output voltage when a temperature of the catalyst is greater than a light-off temperature, and that controls the fuel mass based on the second output voltage and independent from the first output voltage when the catalyst temperature is less than the light-off temperature.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the second oxygen sensor is a narrow band sensor.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a temperature estimation module that estimates the catalyst temperature based on time elapsed while the engine is running.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a fuel mass determination module that determines the fuel mass based on a desired air/fuel ratio and measured intake airflow.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The system of <claim-ref idref="CLM-00004">claim 4</claim-ref>, further comprising a fuel mass adjustment module that increases the fuel mass when the output voltage is less than a target voltage and decreases the fuel mass when the output voltage is greater than the target voltage.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The system of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the fuel mass adjustment module adjusts the fuel mass by an amount that is determined based on a difference between the output voltage and the target voltage.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising an air activation module that activates a secondary air injection system in the exhaust system, wherein the fuel control module controls the fuel mass injected into the engine based on the output voltage when the secondary air injection system is active.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The system of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the air activation module activates the secondary air injection system based on an engine speed, an engine coolant temperature, an intake air temperature, an ambient air pressure, and a manifold absolute pressure.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The system of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a sensor status module that determines whether the oxygen sensor is active, wherein the fuel control module controls the fuel mass injected into the engine based on the output voltage when the oxygen sensor is active.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The system of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the sensor status module determines that the oxygen sensor is active when the output voltage is less than a predetermined voltage.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A method comprising:
<claim-text>determining a first output voltage of a first oxygen sensor positioned upstream from a catalyst in an exhaust system of an engine, the first output voltage indicating a first oxygen level of exhaust upstream from the catalyst;</claim-text>
<claim-text>determining a second output voltage of a second oxygen sensor positioned downstream from the catalyst, the second output voltage indicating a second oxygen level of exhaust downstream from the catalyst;</claim-text>
<claim-text>controlling a fuel mass injected into the engine based on the first output voltage and the second output voltage when a temperature of the catalyst is greater than a light-off temperature; and</claim-text>
<claim-text>controlling the fuel mass based on the second output voltage and independent from the first output voltage when the catalyst temperature is less than the light-off temperature.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the second oxygen sensor is a narrow band sensor.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising estimating the catalyst temperature based on time elapsed while the engine is running.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising determining the fuel mass based on a desired air/fuel ratio and measured intake airflow.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref>, further comprising increasing the fuel mass when the output voltage is less than a target voltage and decreasing the fuel mass when the output voltage is greater than the target voltage.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method of <claim-ref idref="CLM-00015">claim 15</claim-ref>, further comprising adjusting the fuel mass by an amount that is determined based on a difference between the output voltage and the target voltage.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising activating a secondary air injection system in the exhaust system and controlling the fuel mass injected into the engine based on the output voltage when the secondary air injection system is active.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising activating the secondary air injection system based on an engine speed, an engine coolant temperature, an intake air temperature, an ambient air pressure, and a manifold absolute pressure.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising determining whether the oxygen sensor is active, and controlling the fuel mass injected into the engine based on the output voltage when the oxygen sensor is active.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The method of <claim-ref idref="CLM-00019">claim 19</claim-ref>, further comprising determining that the oxygen sensor is active when the output voltage is less than a predetermined voltage. </claim-text>
</claim>
</claims>
</us-patent-grant>
