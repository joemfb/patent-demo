<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624653-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624653</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13160979</doc-number>
<date>20110615</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>167</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>L</subclass>
<main-group>5</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>327307</main-classification>
<further-classification>330  9</further-classification>
<further-classification>341154</further-classification>
</classification-national>
<invention-title id="d2e53">Circuit and method for determining comparator offsets of electronic devices</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5774004</doc-number>
<kind>A</kind>
<name>Peng</name>
<date>19980600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327205</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6111965</doc-number>
<kind>A</kind>
<name>Lubbe et al.</name>
<date>20000800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>381 945</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6377200</doc-number>
<kind>B1</kind>
<name>Lee</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>341155</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6433822</doc-number>
<kind>B1</kind>
<name>Clark et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7375670</doc-number>
<kind>B1</kind>
<name>Wang et al.</name>
<date>20080500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>341145</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7589650</doc-number>
<kind>B2</kind>
<name>Hsien et al.</name>
<date>20090900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>341118</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>7791519</doc-number>
<kind>B2</kind>
<name>Matsukawa et al.</name>
<date>20100900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>7924044</doc-number>
<kind>B2</kind>
<name>Ma</name>
<date>20110400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>8169249</doc-number>
<kind>B2</kind>
<name>Li et al.</name>
<date>20120500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327307</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2001/0026173</doc-number>
<kind>A1</kind>
<name>Schneider et al.</name>
<date>20011000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2004/0222810</doc-number>
<kind>A1</kind>
<name>Frankowsky et al.</name>
<date>20041100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00012">
<othercit>Junichi Goto et al, Embeded Compact Test Structure with a Comparator for Rapid Device Characteristic Measurement, IEEE 2000, Device Analysis Technology Labs., NEC Corp., Nakahara, Kawasaki, Japan, 4 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>327307</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>330  9</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>341154</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>6</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120319735</doc-number>
<kind>A1</kind>
<date>20121220</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Nagda</last-name>
<first-name>Miten H.</first-name>
<address>
<city>Austin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>McQuirk</last-name>
<first-name>Dale J.</first-name>
<address>
<city>Ausin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Nagda</last-name>
<first-name>Miten H.</first-name>
<address>
<city>Austin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>McQuirk</last-name>
<first-name>Dale J.</first-name>
<address>
<city>Ausin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Freescale Semiconductor, Inc.</orgname>
<role>02</role>
<address>
<city>Austin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Wells</last-name>
<first-name>Kenneth B.</first-name>
<department>2816</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A device includes a comparator, and a selection circuit coupled to the inputs of the comparator. The selection circuit receives reference voltages and a variable voltage. In a normal operation mode, the selection circuit provides the variable voltage and a selected reference voltage to the comparator and the comparator provides an indication based on the variable voltage. In a test mode, the selection circuit provides a first selected reference voltage and a second selected reference voltage to the comparator for determining a switching offset voltage of the comparator.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="146.73mm" wi="217.25mm" file="US08624653-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="181.53mm" wi="159.68mm" orientation="landscape" file="US08624653-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="147.74mm" wi="129.88mm" orientation="landscape" file="US08624653-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="216.75mm" wi="157.65mm" orientation="landscape" file="US08624653-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="161.37mm" wi="107.19mm" orientation="landscape" file="US08624653-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="205.32mm" wi="167.13mm" orientation="landscape" file="US08624653-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="239.44mm" wi="170.01mm" orientation="landscape" file="US08624653-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE DISCLOSURE</heading>
<p id="p-0002" num="0001">The present disclosure relates generally to electronic devices and more particularly to determining comparator switching offsets of comparators integrated at electronic devices.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">Electronic devices can include analog and digital components to implement various functional elements such as digital functions, high and low frequency analog functions, and combinations thereof. The analog and digital components can provide a power management system that supplies voltages that are regulated to vary by only a small amount in order to provide voltages that power various other functional elements of the device. The analog and digital components can also provide various indicators of the condition or status of the regulated voltages that the power management system provides or of other variable voltages. The status indicators can be utilized by the various functional elements of the device, or can be provided as signal outputs from the device. A power management system of a device can include a number of comparators that provide such indicators in order to perform various functions in providing regulated voltages. The accuracy of the indicators, and thus the stability of voltage power rails generated by a voltage regulator of a power management system, can depend on the switching offsets of the comparators.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0004" num="0003">The present disclosure may be better understood, and its numerous features and advantages made apparent to those skilled in the art by referencing the accompanying drawings. Embodiments incorporating teachings of the present disclosure are shown and described with respect to the drawings herein, in which:</p>
<p id="p-0005" num="0004"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram illustrating an electronic device, according to an embodiment of the present disclosure;</p>
<p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram illustrating a portion of the electronic device of <figref idref="DRAWINGS">FIG. 1</figref> according to an embodiment of the present disclosure;</p>
<p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram illustrating a comparator test circuit for an indicator in a power management system of the electronic device of <figref idref="DRAWINGS">FIG. 1</figref>, according to an embodiment of the present disclosure;</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 4</figref> is a graphical representation of the results from performing a test procedure on the indicator of <figref idref="DRAWINGS">FIG. 3</figref>, according to an embodiment of the present disclosure;</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart illustrating a method of automatically testing comparator switching offsets in the power management system of the electronic device of <figref idref="DRAWINGS">FIG. 1</figref>, according to an embodiment of the present disclosure; and</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram illustrating a comparator test circuit for a voltage regulator in the power management system of the electronic device of <figref idref="DRAWINGS">FIG. 1</figref>, according to an embodiment of the present disclosure.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<p id="p-0011" num="0010">The use of the same reference symbols in different drawings indicates similar or identical items.</p>
<heading id="h-0004" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0012" num="0011">An integrated circuit device can include various test interfaces and features that permit a manufacturer of the device to test the device. For example, the device can include input and output pads that permit a functional tester to access features of the integrated circuit directly or indirectly, e.g., through a test structure such as a scan chain, to determine the robustness of the device's design, or whether or not a particular device is defective. Test interfaces and features can be operated by controlling the contents of various registers within the device by a tester, or can include a test processor such as a built-in self test (BIST) block or a state machine. Test interfaces and features can be included to test the switching offsets of the comparators of the device.</p>
<p id="p-0013" num="0012">A power management system integrated with the same device includes multiple comparators and test functionality to test the switching offsets of the comparators. In a particular embodiment, the power management system includes a voltage reference generator having multiple taps to provide a plurality of voltage references. For example, a resistor ladder circuit that operates as a resistor digital-to-analog converter (RDAC) to provide voltages at each one of a plurality of taps. The RDAC operates in a normal operation mode, e.g., not test mode, to provide precision voltage references having sufficient precision to be used by the power management system to set desired voltage reference levels that power portions of the device or that are compared with various power states in the device. In a test mode, e.g., not normal operation mode, the RDAC is used to provide a reference voltage to one input of the comparators of the power management system, and to provide a different voltage, offset from the reference voltage at the positive input, to the other input of the comparators. By sequentially stepping through available taps of the RDAC and monitoring the comparator output signals, a switching offset voltage for each comparator can be determined. In accordance with a particular embodiment, the device can non-intrusively enter test mode, with respect to normal operation and the generation of reference voltages, to determine the switching offsets of comparators.</p>
<p id="p-0014" num="0013">For example, the reference voltage can be supplied to the positive input of a comparator from one tap of the RDAC, and a lower voltage offset, e.g. a voltage of the same polarity as the reference voltage and a smaller magnitude relative to ground, can be provided from a different tap of the RDAC to the negative input of the comparator. When the difference between the reference voltage and the offset voltage is relatively large (e.g., 10-20 millivolts (mV)), the output of the comparator will be driven to a logic &#x201c;1.&#x201d; Successively higher voltages (e.g., voltages closer to the reference voltage) can be provided to the negative input of the comparator by selecting other taps of the RDAC, thereby iteratively reducing the voltage between the comparator's positive input and its negative input to determine when the comparator switching offset voltage has been met, as indicated by the comparator output signal switching from the logic &#x201c;1&#x201d; to a logic &#x201c;0.&#x201d;</p>
<p id="p-0015" num="0014">If, when the tap that provides the smallest possible offset voltage (e.g., 2-5 mV) relative to the reference voltage is selected, the comparator has not switched state, then the reference voltages supplied to the positive and negative inputs of the comparator can be swapped, e.g., the smallest offset voltage is provided to the positive input of the comparator, thereby creating a negative offset voltage at the comparator inputs that has the same magnitude as the smallest possible positive offset voltage. Then, successively lower voltages (e.g., RDAC voltages further from the reference voltage) can be selected, thereby incrementally increasing the negative voltage offset to determine when the comparator switches from the logic &#x201c;1&#x201d; to a logic &#x201c;0.&#x201d;</p>
<p id="p-0016" num="0015">Once the comparator switches from the logic &#x201c;1&#x201d; to a logic &#x201c;0,&#x201d; the switching offset voltage for the comparator is determined to within a tolerance, e.g., a voltage range defined by the difference between successively selected voltages. If the test mode is used during a production test of the device, then a pass/fail criteria can be applied to the device based upon the switching offset voltages for the comparators of the device. In another embodiment, a negative offset can be applied to the comparator initially, resulting in the output of the comparator being driven to a logic &#x201c;0,&#x201d; and the offset can be sequenced through the successively lower offsets and to the increasingly positive offsets to determine when the comparator switches from the logic &#x201c;0&#x201d; to a logic &#x201c;1.&#x201d; Further, the relatively large voltage offset can be selected at levels other than 10-20 mV, and the offset voltage step and the smallest offset can be selected at levels other than 2-5 mV, as needed or desired.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a device <b>100</b> including functional elements <b>110</b>, a power management system <b>120</b>, a functional interface <b>130</b>, a power interface <b>140</b>, and a test interface <b>150</b>. Functional elements <b>110</b> provide the capabilities and functions of device <b>100</b>, and include the various elements of the device such as digital functions, analog functions, and combinations thereof. Functional elements <b>110</b> are connected via input/output (I/O) interconnects <b>112</b> to functional interface <b>130</b>, and the functional interface <b>130</b> provides connectivity between device <b>100</b> and a larger system of which the device is a part (not illustrated). Power interface <b>140</b> provides connectivity between device <b>100</b> and the larger system, and is connected via a main power rail <b>142</b> and power status interconnects <b>144</b> to power management system <b>120</b>. Note that the term &#x201c;power rail&#x201d;, as used herein, is used to refer to either a voltage reference that powers elements of device <b>100</b> or a physical connection over which regulated voltage is provided. Power management system <b>120</b> includes voltage regulators <b>122</b>, power indicator modules <b>124</b>, and an voltage reference generator illustrated as a resistor digital-to-analog converter (RDAC) <b>126</b>. Test interface <b>150</b> provides connectivity between device <b>100</b> and a tester system. Test interface <b>150</b> is connected via a test bus <b>152</b> to functional elements <b>110</b> and power management system <b>120</b>.</p>
<p id="p-0018" num="0017">In a particular embodiment, main power rail <b>142</b> provides power for power management system <b>120</b> from an external power supply (not shown) that has a voltage level suitable to the design of device <b>100</b>, and in particular to the design of the power management system <b>120</b>. For example, main power rail <b>142</b> can provide a voltage of 2-5 V, or another voltage, as needed or desired. Power status indicators provided via power status interconnects <b>144</b> can include inputs from the external power supply to indicate the power status of the power supply, outputs from power management system <b>120</b> to indicate the power status of device <b>100</b>, other power status indicator I/O, or a combination thereof. For example, power status indicators can include a power_supply_stable indicator, a power_supply_low indicator, a device_power_warning indicator, a device_power_low indicator, other power status indicators, or a combination thereof. Voltage regulators <b>122</b> regulate a voltage received at the main power rail <b>142</b> to provide one or more system power rails <b>128</b> to the functional elements <b>110</b>. For example, a first voltage regulator <b>122</b> can provide a high voltage system power rail <b>128</b> at 1.26 V or another voltage level, as needed or desired, and a second voltage regulator <b>122</b> can provide a low voltage system power rail <b>128</b> at &#x2212;1.26 V or another voltage level, as needed or desired. Power status indicators <b>129</b> can be similar to power status interconnects <b>144</b>, or can include other power status indicators, as needed or desired.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 2</figref> illustrates a particular embodiment of portions of device <b>100</b> according to a particular embodiment of the disclosure, and includes a voltage selection module <b>200</b>, a voltage reference module <b>210</b>, a comparator <b>240</b>, an isolation device <b>242</b>, an interconnect <b>244</b>, and a control module <b>260</b>.</p>
<p id="p-0020" num="0019">Voltage reference module <b>210</b> includes outputs labeled A-E to provide various reference voltages. Voltage selection module <b>200</b> includes inputs labeled VI<b>0</b>-VI<b>5</b> and SEL[0.2], and outputs labeled VO<b>0</b> and VO<b>1</b>. Inputs VI<b>0</b>-VI<b>4</b> are connected to outputs A-E of voltage reference module <b>210</b>, respectively, and input VI<b>5</b> is connected to an interconnect <b>246</b> that can receive a voltage to be monitored by the comparator <b>240</b>. Control module <b>260</b> includes outputs labeled TRIM, TINV, TEST and TESTb, and an input labeled CMP. Outputs TRIM, TINV, and TEST are connected to inputs of the voltage routing module labeled SEL[0 . . . 2] respectively. Comparator <b>240</b> includes a positive input and a negative input connected to the outputs VO<b>0</b> and VO<b>1</b>, respectively, and an output. Isolation device <b>242</b> includes a data input connected to the output of comparator <b>240</b>, a select input connected to the TESTb output, and an output connected to an interconnect <b>244</b>.</p>
<p id="p-0021" num="0020">During operation, voltage reference module <b>210</b> provides various reference voltages having staggered voltages on outputs A-E, such that output A provides the lowest voltage and output E provides the highest voltage. Interconnect <b>246</b> provides a variable voltage to be monitored that has a voltage that is indicative of a condition of device <b>100</b>.</p>
<p id="p-0022" num="0021">During a normal operation mode, under control of the control module <b>260</b>, the voltage selection module <b>200</b> selectively provides one of the reference voltages supplied on voltage inputs VI<b>0</b>-VI<b>4</b> or the variable voltage supplied on voltage input VI<b>5</b> to either the voltage output VO<b>0</b> or to the voltage output VO<b>1</b>, and selectively provides the variable voltage on input V<b>5</b> to the other of the two voltage outputs, VO<b>0</b> or V<b>01</b>. During a test operation mode, under control of the control module <b>260</b>, the voltage selection module <b>200</b> can determine a switching offset voltage of the comparator <b>240</b> by selectively providing an appropriate reference voltage supplied on voltage inputs VI<b>0</b>-VI<b>4</b> to the voltage outputs VO<b>0</b> and VO<b>1</b>, respectively.</p>
<p id="p-0023" num="0022">Comparator <b>240</b> operates to compare the voltage levels of the voltages supplied on voltage outputs VO<b>0</b> and V<b>01</b>. When the voltage level of the voltage supplied on voltage output VO<b>0</b> is greater than the voltage level of the voltage supplied on voltage output VO<b>1</b>, then the output of comparator <b>240</b> is in a first state (e.g., a logic &#x201c;1&#x201d;). When the voltage level of the voltage supplied on voltage output VO<b>0</b> is less than the voltage level of the voltage supplied on voltage output VO<b>1</b>, then the output of comparator <b>240</b> is in another state (e.g., a logic &#x201c;0&#x201d;). The output of comparator <b>240</b> is connected to the CMP input of control module <b>260</b> for monitoring, and is connected via isolation device <b>242</b> to interconnect <b>244</b> which will typically be connected to an additional load. Control module <b>260</b> provides the TRIM, TINV, and TEST outputs to voltage selection module <b>200</b> to control which voltages on the voltage inputs VI<b>0</b>-VI<b>5</b> are supplied to which voltage outputs VO<b>0</b> and V<b>01</b>. Control module <b>260</b> provides the TESTb output to the select input of isolation device <b>242</b>, such that when TESTb is in a first state (e.g., a logic &#x201c;1&#x201d;), the output of comparator <b>240</b> is connected to interconnect <b>244</b>, and when TESTb is another state (e.g., a logic &#x201c;0&#x201d;), the output of comparator <b>240</b> is isolated from interconnect <b>244</b>.</p>
<p id="p-0024" num="0023">In a normal operation mode, control module <b>260</b> has the TEST output de-asserted (e.g., a logic &#x201c;0&#x201d;), the TESTb output asserted (e.g., a logic &#x201c;1&#x201d;), and the TRIM output set to configure the voltage selection module <b>200</b> so that the variable voltage at voltage input VI<b>5</b>, and a voltage reference value received at one of inputs VI<b>0</b>-VI<b>4</b> are provided by the voltage reference module <b>210</b> as output of voltages VO<b>0</b> and VO<b>1</b> of selection module <b>200</b>. For example, voltage selection module <b>200</b> operates under the control of controller <b>260</b> to provide the variable voltage from voltage input VI<b>5</b> to the voltage output VO<b>0</b>, and to provide a selected one of the reference voltages from VI<b>0</b>-VI<b>4</b> to the voltage output V<b>01</b>. The particular reference voltage that is selected by voltage selection module <b>200</b> is determined based upon the value of the output provided by the TRIM output. Also, since the TESTb output is asserted (e.g., a logic &#x201c;1&#x201d;), isolation device <b>242</b> is operated to connect the output of comparator <b>240</b> to interconnect <b>244</b>. Thus, in the normal operation mode, the select reference voltage serves as a reference voltage for comparator <b>240</b>, and the variable voltage supplied on interconnect <b>246</b> is compared to the reference voltage by the comparator. Thus, when the variable voltage is higher than the reference voltage, a logic &#x201c;1&#x201d; is supplied on the output of comparator <b>240</b> to interconnect <b>244</b>, and when the variable voltage is lower than the reference voltage, a logic &#x201c;0&#x201d; is supplied onto the load.</p>
<p id="p-0025" num="0024">In a test mode, control module <b>260</b> has the TEST output asserted (e.g., a logic &#x201c;1&#x201d;), the TESTb output de-asserted (e.g., a logic &#x201c;0&#x201d;), and the TRIM output set to provide another output value to voltage selection module <b>200</b>. The TINV output can be de-asserted or can be asserted, as described below. In a first portion of the test mode, the TINV output is de-asserted (e.g., a logic &#x201c;0&#x201d;). As a result, voltage selector module <b>200</b> operates to provide a reference voltage from one of the voltage inputs VI<b>0</b>-VI<b>4</b> (e.g., the highest output voltage E from voltage reference module <b>210</b>) to the voltage output VO<b>0</b>, and to provide another one of the remaining reference voltages input VI<b>0</b>-VI<b>4</b> to the voltage output VO<b>1</b>. In accordance with a particular embodiment, the reference voltage at input VI<b>4</b> and a reference voltage selected by the signal TRIM are provided to the outputs of voltage selection module. Also, since the TESTb output is de-asserted (e.g., a logic &#x201c;0&#x201d;), isolation device <b>242</b> is operated to isolate the output of comparator <b>240</b> from interconnect <b>244</b>, and thus from any additional loading.</p>
<p id="p-0026" num="0025">In a second portion of the test mode, the TINV output is asserted (e.g., transitions from a logic &#x201c;0&#x201d; a logic &#x201c;1&#x201d;). As a result, voltage selector module <b>200</b> operates to swap the voltages being provided at outputs VO<b>0</b> and V<b>01</b>. For example, if during the first portion, the voltages at VI<b>4</b> and VI<b>3</b> are being respectively provided to VO<b>0</b> and VO<b>1</b>, during the second portion of the test mode the voltages at VI<b>4</b> and VI<b>3</b> will be respectively provided to VO<b>1</b> and VO<b>0</b>. Thus, in the first portion of the test mode, the voltage outputs of voltage selector module <b>200</b> are such that a more positive voltage is supplied to the positive input of comparator <b>240</b> than to the negative input, and in the second portion of the test mode, the voltage outputs of the voltage selector module are such that the more positive voltage is supplied to the negative input of comparator <b>240</b>.</p>
<p id="p-0027" num="0026">It is noted that, in ideal circumstances, comparator <b>240</b> switches the state of its output at exactly the point where the voltage difference between its inputs crosses from a positive difference to a negative difference, and vice versa. However, in reality, comparator <b>240</b> may not meet this ideal, and the comparator may switch the state of its output at a point where the voltage difference between its inputs is somewhat positive or somewhat negative. This difference from the ideal circumstances is described as the switching voltage offset for comparator <b>240</b>. It may be advantageous to know the switching voltage offset for comparator <b>240</b>, and whether the switching voltage offset is a positive voltage, or a negative voltage.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 3</figref> illustrates particular embodiments of the portions of device <b>100</b> illustrated in <figref idref="DRAWINGS">FIG. 2</figref>, including a particular embodiment of the voltage reference module <b>210</b>, control module <b>260</b>, and a voltage selection module <b>200</b>. Voltage selection module <b>200</b> includes multiplexers (MUXs) <b>220</b>, <b>225</b>, and <b>230</b>, a comparator <b>240</b>, and an isolation device <b>242</b>. Voltage selection module <b>200</b> is a particular embodiment of power status indicator <b>124</b> of <figref idref="DRAWINGS">FIG. 1</figref>. Voltage reference module <b>210</b> is embodied in <figref idref="DRAWINGS">FIG. 3</figref> as a RDAC <b>126</b> that includes a set of resistors, selectable outputs A-E, also referred to as taps A-E, and a voltage at input <b>211</b>. Voltage reference module <b>210</b> can provide for a 3 mV step between adjacent taps, or can provide for another step size, as needed or desired.</p>
<p id="p-0029" num="0028">Tap E <b>212</b> of voltage reference module <b>210</b> is connected to input IN-A of MUX <b>220</b>, and to input IN-B of MUX <b>225</b>. One of the plurality of taps A-D is connected to input IN-B of MUX <b>220</b> and to input IN-A of MUX <b>225</b> via interconnect <b>214</b>. An output of MUX <b>220</b> is connected to an input IN-B of MUX <b>230</b> via interconnect <b>222</b>. An interconnect <b>246</b> is connected to input IN-A of MUX <b>230</b> to provide a variable voltage signal that is being regulated. An output of MUX <b>230</b> is connected to a positive input of comparator <b>240</b> via an interconnect <b>232</b>. An output of MUX <b>225</b> is connected to a negative input of comparator <b>240</b> via interconnect <b>227</b>. An output of comparator <b>240</b> is selectively connected to interconnect <b>244</b> through isolation device <b>242</b> to provide a control signal to subsequent elements, such as a voltage regulator.</p>
<p id="p-0030" num="0029">Control module <b>260</b> is connected to a test interface <b>270</b> that operates to write bits to various test registers, and to read the bits from the various test registers of control module <b>260</b>. Control module <b>260</b> includes one or more operational registers (not shown) that operate to control the operation of voltage selection module <b>200</b> based upon their contents, and to determine status information from the voltage selection module. In particular, operational registers provide a logic signal to an output labeled TRIM that is connected to interconnect <b>266</b> to select one of the plurality of taps A-D of voltage reference module <b>210</b> to provide to a reference voltage to inputs IN-B and IN-A of MUX <b>220</b> and MUX <b>225</b>, respectively.</p>
<p id="p-0031" num="0030">Operational registers also provide a logic signal to an output labeled TINV that is connected to a select input of MUX <b>220</b> and to a select input of MUX <b>225</b> via an interconnect <b>264</b>, and that operates to select the input IN-A of MUX <b>220</b> and the input IN-A of MUX <b>225</b> when de-asserted, and to select the input IN-B of MUX <b>220</b> and the input IN-B of MUX <b>225</b> when asserted. Operational registers also provide a logic signal to an output labeled TEST that is connected to a select input of MUX <b>230</b> via interconnect <b>262</b>, and operates to select the input IN-A of MUX <b>230</b> when de-asserted, and to select the input IN-B of MUX <b>230</b> when asserted. Operational registers also provide a logic signal to interconnect <b>263</b> that provides an inverted version of the TEST output signal that operates to close the isolation device <b>242</b> when de-asserted (i.e., to connect the output of comparator <b>240</b> to interconnect <b>244</b>, and to open the isolation device when asserted (i.e., to isolate the output of comparator <b>240</b> from interconnect <b>244</b>). Control module <b>260</b> also receives a logic signal at an signal labeled CMP that is connected to the output of comparator <b>240</b>, via interconnect <b>268</b>, and operates to monitor the logic state of the output of the comparator <b>240</b>. Test interface <b>270</b> can include a scan chain interface access, or an access that can read and write registers directly.</p>
<p id="p-0032" num="0031">Voltage selection module <b>200</b> has two modes of operation, a normal operation mode, and a test mode. In the normal operation mode, TEST output <b>262</b> is de-asserted, such that MUX <b>230</b> operates to select the input IN-A, thereby providing the variable voltage signal at interconnect <b>246</b> to the positive input of comparator <b>240</b>, and the inverted version of TEST output <b>263</b> is asserted such that isolation device <b>242</b> is closed, thereby connecting the output of comparator <b>240</b> to interconnect <b>244</b>. TRIM output <b>266</b> is operated to provide a selected one of taps A-D to be connected to interconnect <b>212</b> to provide a selected reference voltage level to the input IN-B of MUX <b>220</b> and to the input IN-A of MUX <b>225</b>. TINV output <b>264</b> is de-asserted, such that MUX <b>225</b> operates to select the input IN-A, thereby providing the selected reference voltage level to the negative input of comparator <b>240</b>. The result in the normal operation mode is that comparator <b>240</b> compares the variable voltage signal from interconnect <b>246</b> against the selected reference voltage level, such that when the variable voltage signal is higher than the selected reference voltage level, an output signal at interconnect <b>244</b> carries a logic &#x201c;1,&#x201d; and when the variable voltage signal is lower than the selected reference voltage level, the output signal carries a logic &#x201c;0.&#x201d;</p>
<p id="p-0033" num="0032">In the test mode, an asserted logic signal is provided to the TEST output (TEST signal), and signals from TINV and TRIM are varied as described in greater detail below to determine a voltage switching offset of the comparator <b>240</b>. In response to the TEST signal being asserted, MUX <b>230</b> operates to select input IN-B, thereby providing signals received via interconnect <b>222</b> to the positive input of comparator <b>240</b> via interconnect <b>232</b>, and isolation device <b>242</b> is opened, thereby isolating the output of comparator <b>240</b> from any loads associated with interconnect <b>244</b>. TRIM output <b>266</b> is provided to voltage reference module <b>210</b> to select one of the plurality of taps A-D to provide an offset voltage, relative to the voltage at the positive input of comparator <b>240</b>, to interconnect <b>214</b>. In the test mode, TINV output <b>264</b> is either de-asserted or asserted. When TINV output <b>264</b> is de-asserted, the input IN-A of MUX <b>220</b> is selected, the reference voltage from tap E is provided on the output <b>222</b> of MUX <b>220</b>, and is provided through MUX <b>230</b> to the positive input of comparator <b>240</b>. Also, when TINV output <b>264</b> is de-asserted, the input IN-A of MUX <b>225</b> is selected, the offset voltage from one of taps A-D is provided on the output of MUX <b>225</b>, and is provided to the negative input of comparator <b>240</b>. Thus when TINV is de-asserted, positive voltage offsets are provided on the inputs of comparator <b>240</b>. When TINV output <b>264</b> is asserted, the offset voltage is provided through MUX <b>220</b> and MUX <b>230</b> to the positive input of comparator <b>240</b>, and the reference voltage is provided through MUX <b>225</b> to the negative input of comparator <b>240</b>. Thus when TINV output <b>264</b> is asserted, negative voltage offsets are provided on the inputs of comparator <b>240</b>. CMP input <b>268</b> receives output <b>268</b> of comparator <b>240</b>, and operates to detect changes in state of the output from a logic &#x201c;0&#x201d; to a logic &#x201c;1,&#x201d; and vice versa</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 4</figref> is a graphical representation of the results from performing a test procedure in the test mode to determine the switching offset voltage for comparator <b>240</b>, and includes an input offset voltage graph <b>310</b>, and an output state graph <b>320</b>. As an initial state in the test procedure, TEST output <b>262</b> is asserted and TINV output <b>264</b> is de-asserted, and positive voltage offsets are provided on the inputs of comparator <b>240</b>. Also, TRIM output <b>266</b> is set to select the tap of voltage reference module <b>210</b> labeled &#x201c;A,&#x201d; thereby providing an offset voltage level that is four steps lower than the reference voltage selected by the first tap. As an illustrative example, each tap will be considered to provide a 3 mV difference in voltage from the next adjacent tap. Thus, by selecting tap A, a positive 12 mV offset is provided to the input of comparator <b>240</b>, as shown at step <b>311</b> of offset voltage graph <b>310</b>. At an input offset voltage of 12 mV, the output of comparator <b>240</b> is a logic &#x201c;1,&#x201d; as determined by the CMP input. Next, TRIM output is set to select the tap of voltage reference module <b>210</b> labeled &#x201c;B,&#x201d; thereby providing a positive 9 mV offset to the input of comparator <b>240</b>, as shown at step <b>312</b>. Output of the comparator <b>240</b> is monitored by the CMP input to determine if the output has changed state from a logic &#x201c;1&#x201d; to a logic &#x201c;0.&#x201d; If so, the switching offset is determined to be between 12 mV and 15 mV, which represents a test that has failed, and the test procedure can be halted.</p>
<p id="p-0035" num="0034">However, if the output has not changed state, the test procedure continues, the TRIM output is set to select the tap of voltage reference module <b>210</b> labeled &#x201c;C,&#x201d; thereby providing a positive 6 mV offset to the input of comparator <b>240</b>, as shown at step <b>313</b>, and the output of the comparator <b>240</b> is monitored by the CMP input to determine if the output of the comparator <b>240</b> has changed state. If so, the switching offset is between 9 mV and 12 mV, which represents a test that has passed. If not, then the test procedure proceeds in a similar manner, with TRIM output providing a value to select the tap labeled &#x201c;D&#x201d; to provide a 3 mV offset, as shown at step <b>314</b>. If there is still no change in the output state of the comparator <b>240</b>, then the output TINV output is asserted, as shown at step <b>315</b>, thereby swapping the voltages provided at outputs of MUX <b>220</b> and MUX <b>225</b>, resulting in a negative offset voltage of &#x2212;3 mV to the inputs of comparator <b>240</b>. If there is still no change in the output state of comparator <b>240</b>, then the test procedure continues with output TRIM being set to select tap C to provide an offset voltage of &#x2212;6 mV. Similarly, output TRIM is successively set to select taps B and A, successively, thereby providing offset voltages of &#x2212;9 mV and &#x2212;12 mV, respectively, as needed. In another embodiment, the test procedure begins with output TINV asserted, and the negative voltage offsets are tested first. Then output TINV is de-asserted to test the positive voltage offsets.</p>
<p id="p-0036" num="0035">A pass/fail criteria can be established for comparator <b>240</b>, as illustrated in output state graph <b>320</b>. For example, a pass/fail criteria of +/&#x2212;9 mV can be established, as illustrated by the dashed lines <b>322</b> and <b>324</b>. Thus, in the test procedure, if the state of output <b>268</b> changes at <b>312</b> then the switching offset is greater than +9 mV and the comparator fails. Likewise, if the state of output <b>268</b> changes at <b>318</b> or <b>319</b> then the switching offset is greater than &#x2212;9 mV and the comparator fails. However, if output <b>268</b> changes at <b>313</b>, <b>314</b>, <b>316</b>, or <b>317</b> then the switching offset is between +9 mV and &#x2212;9 mV, and the comparator passes.</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart illustrating a method of automatically testing a comparator switching offset of an integrated circuit that starts at block <b>402</b>. At block <b>404</b>, testing conditions are set up, including setting a test output (test) to a logic &#x201c;1,&#x201d; setting an invert output (tiny) to a logic &#x201c;0,&#x201d; setting a reference tap (ref_tap) indicator to a tap number &#x201c;x,&#x201d; and setting an offset tap (trim_tap) indicator to a tap number &#x201c;y&#x201d; that represents a maximum offset voltage of a comparator to be tested. For example, referring to <figref idref="DRAWINGS">FIG. 3</figref>, TEST output <b>262</b> can be asserted, TINV output <b>264</b> can be de-asserted, tap E can be selected as the reference tap indicator, e.g., a tap number of 5, and TRIM output <b>266</b> can be set to select tap A as the offset tap indicator, e.g., a tap number of 1.</p>
<p id="p-0038" num="0037">A decision is made as to whether or not a comparator output (cmp) is in a first state presumed herein to be a logic &#x201c;1&#x201d; at decision block <b>406</b>. If so, then the &#x201c;YES&#x201d; branch of decision block <b>406</b> is taken to decision block <b>408</b>, but if not, then the &#x201c;NO&#x201d; branch of decision block <b>406</b> is taken to block <b>418</b>.</p>
<p id="p-0039" num="0038">At block <b>408</b>, in response to the &#x201c;YES&#x201d; branch of decision block <b>406</b> being taken, then a decision is made as to whether or not trim_tap is equal to a minimum offset voltage (min_offset) from the reference voltage. If so, then the &#x201c;YES&#x201d; branch of decision block <b>408</b> is taken to block <b>410</b>, but if not, then the &#x201c;NO&#x201d; branch of decision block <b>408</b> is taken to block <b>414</b>. At block <b>414</b>, trim_tap is incremented such that:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>trim_tap=trim_tap+1,&#x2003;&#x2003;Equation 1<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
to select the next offset voltage, and processing returns to decision block <b>406</b> where a decision is made as to whether or not cmp is a logic &#x201c;1&#x201d; based upon the updated voltage.
</p>
<p id="p-0040" num="0039">If trim_tap is equal to min_offset, and the &#x201c;YES&#x201d; branch of decision block <b>408</b> is taken to block <b>410</b>, then the smallest positive voltage offset did not cause the comparator being tested to switch states, and the negative offset values need to be tested. Therefore, tiny is set to a logic &#x201c;1,&#x201d; and flow proceeds to block <b>412</b>. For example, TINV output <b>264</b> can be asserted. A decision is made as to whether or not cmp is a logic &#x201c;1&#x201d; at decision block <b>412</b>. If so, then the &#x201c;YES&#x201d; branch of decision block <b>412</b> is taken to decision block <b>416</b> where the trim_tap is decremented to provide the next larger negative voltage to the comparator, but if not, then the &#x201c;NO&#x201d; branch of decision block <b>412</b> is taken to block <b>420</b>. If cmp is a logic &#x201c;1,&#x201d; and the &#x201c;YES&#x201d; branch of decision block <b>412</b> is taken to decision block <b>414</b>, then a decision is made as to whether or not trim_tap is equal to the maximum offset voltage (max_offset) from the reference voltage. If so, then the &#x201c;YES&#x201d; branch of decision block <b>414</b> is taken to block <b>424</b> and processing ends, but if not, then the &#x201c;NO&#x201d; branch of decision block <b>414</b> is taken to block <b>416</b>. At block <b>418</b>, trim_tap is decremented such that:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>trim_tap=trim_tap&#x2212;1,&#x2003;&#x2003;Equation 2<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
to select the next offset voltage, and processing returns to decision block <b>412</b> where a decision is made as to whether or not cmp is a logic &#x201c;1.&#x201d;
</p>
<p id="p-0041" num="0040">Referring back to block <b>406</b>, after flow proceeds to block <b>418</b> due to the state of the comparator having switched, a tap offset number (tap_offset) is defined based upon Equation 3, the value of tap_offset is written to an offset register, and the switching offset voltage for the comparator is determined based upon Equation 4.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>tap_offset=<i>x&#x2212;y</i>=ref_tap&#x2212;trim_tap,&#x2003;&#x2003;Equation 3<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0042" num="0041">and the switching offset voltage is determined as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Offset_Voltage=(<i>x&#x2212;y</i>)*step&#x2003;&#x2003;Equation 4<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0043" num="0042">where step is the voltage per step (e.g., 3 mV per step).</p>
<p id="p-0044" num="0043">Similarly, referring to block <b>420</b>, after flow proceeds to block <b>420</b> due to the state of the comparator having switched, a tap offset number (tap_offset) is defined based upon the Equation 3, the value of tap_offset is written to an offset register, and the switching offset voltage, which is a negative value, for the comparator is determined based upon Equation 4.</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 6</figref> illustrates an RDAC <b>510</b>, a BIST block <b>560</b>, and a voltage regulator <b>500</b> that includes MUXs <b>520</b>, <b>525</b>, <b>530</b> and <b>535</b>, comparators <b>540</b> and <b>550</b>, isolation devices <b>542</b> and <b>552</b>, and a voltage regulator output stage <b>580</b>. Voltage regulator <b>500</b> is similar to voltage regulator <b>200</b>. A tap E of RDAC <b>510</b> is connected to input IN-A of MUX <b>520</b>, and to an input IN-B of MUX <b>525</b>. A selected one of a plurality of taps A-D is selectively connected to interconnect <b>514</b>. Interconnect <b>513</b> is connected to input IN-B of MUX <b>520</b>, and to an input IN-A of MUX <b>525</b>. An output of MUX <b>520</b> is connected to an input IN-B of MUX <b>530</b>, and to a input IN-B of MUX <b>535</b>. An interconnect <b>546</b> is connected to input IN-A of MUX <b>530</b> to provide a reference voltage from a location having a voltage being regulated. An output of MUX <b>530</b> is connected to a positive input of comparator <b>540</b>. An interconnect <b>556</b> is connected to input IN-A of MUX <b>535</b> to provide a reference voltage from a location having a voltage being regulated. An output of MUX <b>35</b> is connected to a positive input of comparator <b>550</b>. An output of MUX <b>525</b> is connected to a negative input of comparator <b>540</b> and to a negative input of comparator <b>550</b>. An output of comparator <b>540</b> is coupled through isolation device <b>542</b> to provide a low voltage output driver signal to an interconnect <b>544</b> of voltage regulator output stage <b>580</b>. An output of comparator <b>550</b> is coupled through isolation device <b>552</b> to provide a high voltage output driver signal to an interconnect <b>554</b> of voltage regulator output stage <b>580</b>. Voltage regulator output stage <b>580</b> includes a voltage regulator output <b>582</b>, a resistor network that includes a node where interconnect <b>546</b> and interconnect <b>556</b> are connected to provide the low voltage detect input signal and the high voltage detect input signal, respectively. It will be recognized that voltage regulator output stage <b>580</b> may utilize various designs that are well known in the art, as needed or desired, and no further treatment of voltage regulator output stage <b>580</b> will be provided herein, except as needed to describe the various features of the disclosure.</p>
<p id="p-0046" num="0045">BIST block <b>560</b> is connected to a test interface <b>570</b>, and operates to control test registers, similar to the control module <b>260</b> of <figref idref="DRAWINGS">FIG. 1</figref>, to control the operation of voltage regulator <b>500</b>. In addition, the test registers being controlled by the BIST block <b>560</b> include a second input labeled CMP<b>2</b> to monitor the voltage state at the output of comparator <b>550</b>. It will be appreciated, therefore, that during operation, the BIST block <b>560</b> simultaneously tests both of the comparator <b>540</b> and comparator <b>560</b>. In addition, the BIST block can monitor additional comparators simultaneously by adding one additional multiplexor analogous to MUX <b>535</b>, and by adding the ability to monitor the output of the additional comparator.</p>
<p id="p-0047" num="0046">Voltage regulator <b>500</b> has two modes of operation, a normal operation mode, and a test mode. Similar to that described above, in the normal operation mode, one of the taps A-D is selected to set a reference voltage that is provided to the negative input of comparators <b>540</b> and <b>550</b> to regulate an output voltage at interconnect <b>582</b>. Also in a similar manner as that described above, in the test mode of operation, two taps from the RDAC are selected and provided to the positive and negative inputs of comparator <b>540</b> and of comparator <b>550</b> to determine a switching offset voltage for each of the comparators. By monitoring the outputs of the comparators <b>540</b> and <b>550</b> separately, the switching offset of each comparator can be determined during a single test operation that iteratively selects each of the taps A-D</p>
<p id="p-0048" num="0047">Note that the normal operating mode can be momentarily interrupted to test the switching offset voltages of the comparators <b>540</b> and <b>550</b> without affecting voltage regulation of the voltage regulator. For example, after obtaining stable voltage regulation during normal operation, the mode can be switched to test mode, whereby holding capacitor <b>584</b> operates to hold a voltage level on the gate of the drive transistor, such that, when voltage regulator <b>500</b> is in test mode, voltage regulator output <b>582</b> is not affected by testing of the comparators, and thus remains stable. Note that voltage regulator output <b>582</b> drives a load (not illustrated) that includes a capacitive component, and that the level of voltage regulator output <b>582</b> will change slowly relative to the time needed to perform testing of comparators <b>540</b> and <b>550</b>. Thus, when voltage regulator <b>500</b> is in test mode, isolation devices <b>542</b> and <b>552</b> operate to isolate voltage regulator output stage <b>580</b>, and holding capacitor <b>584</b> provides a stable gate voltage level on the drive transistor for the duration of the test mode.</p>
<p id="p-0049" num="0048">In a particular embodiment, a test procedure is run in the test mode that is similar to the test procedure described with reference to <figref idref="DRAWINGS">FIG. 4</figref> above, and the switching offset voltages for comparators <b>540</b> and <b>550</b> are determined. In this way, one comparator switching offset can be determined, or multiple comparator switching offsets can be determined using the same test procedure. Moreover, the method described with reference to <figref idref="DRAWINGS">FIG. 5</figref> above can be performed to determine the switching offset for a single comparator or for multiple comparators. In a particular embodiment, all comparators of a device can be determined simultaneously using a common RDAC, and multiplexers to provide the test mode reference voltages and offset voltages to the comparators, and applying the test procedures and methods described herein.</p>
<p id="p-0050" num="0049">In this document, relational terms such as &#x201c;first&#x201d; and &#x201c;second&#x201d;, and the like, may be used solely to distinguish one entity or action from another entity or action without necessarily requiring or implying any actual such relationship or order between such entities or actions. The terms &#x201c;comprises&#x201d;, &#x201c;comprising&#x201d;, or any other variation thereof, are intended to cover a non-exclusive inclusion, such that a process, method, article, or apparatus that comprises a list of elements does not include only those elements but may include other elements not expressly listed or inherent to such process, method, article, or apparatus. An element preceded by &#x201c;comprises . . . a&#x201d; does not, without more constraints, preclude the existence of additional identical elements in the process, method, article, or apparatus that comprises the element.</p>
<p id="p-0051" num="0050">The term &#x201c;another&#x201d;, as used herein, is defined as at least a second or more. The terms &#x201c;including&#x201d;, &#x201c;having&#x201d;, or any variation thereof, as used herein, are defined as comprising. The term &#x201c;coupled&#x201d;, as used herein with reference to electro-optical technology, is defined as connected, although not necessarily directly, and not necessarily mechanically.</p>
<p id="p-0052" num="0051">The terms &#x201c;assert&#x201d; or &#x201c;set&#x201d; and &#x201c;negate&#x201d; (or &#x201c;de-assert&#x201d; or &#x201c;clear&#x201d;) are used when referring to the rendering of a signal, status bit, or similar apparatus into its logically true or logically false state, respectively. If the logically true state is a logic level one, the logically false state is a logic level zero. And if the logically true state is a logic level zero, the logically false state is a logic level one.</p>
<p id="p-0053" num="0052">As used herein, the term &#x201c;bus&#x201d; is used to refer to a plurality of signals or conductors that may be used to transfer one or more various types of information, such as data, addresses, control, or status. The conductors as discussed herein may be illustrated or described in reference to being a single conductor, a plurality of conductors, unidirectional conductors, or bidirectional conductors. However, different embodiments may vary the implementation of the conductors. For example, separate unidirectional conductors may be used rather than bidirectional conductors and vice versa. Also, plurality of conductors may be replaced with a single conductor that transfers multiple signals serially or in a time multiplexed manner. Likewise, single conductors carrying multiple signals may be separated out into various different conductors carrying subsets of these signals. Therefore, many options exist for transferring signals.</p>
<p id="p-0054" num="0053">Other embodiments, uses, and advantages of the disclosure will be apparent to those skilled in the art from consideration of the specification and practice of the disclosure disclosed herein. The specification and drawings should be considered exemplary only, and the scope of the disclosure is accordingly intended to be limited only by the following claims and equivalents thereof.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for operating a comparator, the method comprising:
<claim-text>in a first mode of operation, providing a first reference voltage of a plurality of reference voltages to a first input of a first comparator, the first comparator including an output to provide an indication of a comparison of a variable voltage received at a second input of the first comparator with the first reference voltage; and</claim-text>
<claim-text>in a second mode of operation,
<claim-text>providing a second reference voltage of the plurality of reference voltages to the first input of the first comparator and providing a third reference voltage of the plurality of reference voltages to the second input of the first comparator, wherein providing the second reference voltage and providing the third reference voltage further comprises selecting successive reference voltages of the plurality of reference voltages to be provided to the first and second inputs of the first comparator; and</claim-text>
<claim-text>measuring a first switching offset voltage of the first comparator based on the second reference voltage and the third reference voltage;</claim-text>
<claim-text>wherein selecting successive reference voltages of the plurality of reference voltages further comprises providing the second reference voltage to the second input of the first comparator and the third reference voltage to the first input of the first comparator prior to providing the second reference voltage to the first input of the first comparator and the third reference voltage to the second input of the first comparator.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein measuring the switching offset voltage of the first comparator further comprises determining a voltage difference between the second reference voltage and the third reference voltage.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein during the first mode of operation, the output of the first comparator drives an input of a voltage regulator to regulate the variable voltage.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, further comprising:
<claim-text>in the second mode of operation, isolating the output of the first comparator from the input of the voltage regulator.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising in the second mode of operation:
<claim-text>providing the second reference voltage of the plurality of reference voltages to a first input of a second comparator;</claim-text>
<claim-text>providing the third reference voltage of the plurality of reference voltages to a second input of the second comparator; and</claim-text>
<claim-text>measuring a second switching offset voltage of the second comparator based on the second reference voltage and the third reference voltage.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising in the second mode of operation:
<claim-text>providing the second reference voltage of the plurality of reference voltages to a first input of a second comparator;</claim-text>
<claim-text>providing a fourth reference voltage of the plurality of reference voltages to a second input of the second comparator; and</claim-text>
<claim-text>measuring second switching offset voltage of the second comparator based on the second reference voltage and the fourth reference voltage.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising in the second mode of operation:
<claim-text>providing a fourth reference voltage of the plurality of reference voltages to a first input of a second comparator;</claim-text>
<claim-text>providing a fifth reference voltage of the plurality of reference voltages to a second input of the second comparator; and</claim-text>
<claim-text>measuring a second switching offset voltage of the second comparator based on the fourth reference voltage and the fifth reference voltage.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein providing the second reference voltage and the third reference voltage is in response to a test routine of a built-in self test processor of an integrated circuit.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A method for measuring a switching voltage offset of a comparator, the method comprising:
<claim-text>providing a first reference voltage to a first input of the comparator and a second reference voltage to a second input of the comparator;</claim-text>
<claim-text>detecting that an output of the comparator is in a first state;</claim-text>
<claim-text>providing a third reference voltage to the second input;</claim-text>
<claim-text>responsive to determining that an output of the comparator has changed to a second state, measuring the switching voltage offset of the comparator as a difference in voltage between the first reference voltage and the third reference voltage; and</claim-text>
<claim-text>responsive to determining that the output has remained in the first state:
<claim-text>providing the first reference voltage to the second input and the third reference voltage to the first input; and</claim-text>
<claim-text>responsive to determining that the output is in the second state, measuring the switching voltage offset as the difference in voltage between the third reference voltage and the first reference voltage.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein providing the first reference voltage, the second reference voltage, and the third reference voltage is controlled by a built-in self test processor.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, further comprising:
<claim-text>after providing the first reference voltage to the second input of the comparator and the third reference voltage to the first input of the comparator and responsive to determining that the output has remained in the first state:
<claim-text>providing the first reference voltage to the second input of the comparator and a fourth reference voltage to the first input; and</claim-text>
<claim-text>responsive to determining that the output is in the second state, measuring the switching voltage offset as the difference in voltage between the fourth reference voltage and the first reference voltage.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising:
<claim-text>after providing the first reference voltage to the second input and the fourth reference voltage to the first input and responsive to determining that the output has remained in the first state, providing an indication that the comparator is a defective comparator.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, further comprising:
<claim-text>providing the first reference voltage, the second reference voltage, and the third reference voltage by selecting associated taps of a resistor digital-to-analog converter (RDAC).</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the first reference voltage is associated with a first tap of the RDAC that provides a highest voltage level, the third reference voltage is associated with a third tap of the RDAC that provides a voltage level that is less than the first tap, and the second reference voltage is associated with a second tap of the RDAC that provides a voltage level that is less than the third tap.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the comparator output drives an input of a voltage regulator.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. A device comprising:
<claim-text>a comparator comprising a first comparator input, a second comparator input, and a comparator output;</claim-text>
<claim-text>a selection circuit, including a first selector output coupled to the first comparator input and a second selector output coupled to the second comparator input, the selection circuit including a first plurality of selector inputs, each of the first plurality of selector inputs coupled to receive a reference voltage of a corresponding plurality of reference voltages, the selection circuit including a first selector input coupled to receive a variable voltage:</claim-text>
<claim-text>wherein:
<claim-text>during a first mode of operation, the selection circuit provides the variable voltage to the first comparator input and provides a first selected voltage of the plurality of reference voltages to the second comparator input, wherein the comparator provides at the comparator output an indication of a comparison of the variable voltage and the first selected voltage;</claim-text>
<claim-text>during a second mode of operation, the selection circuit provides a second selected voltage of the plurality of reference voltages to the first comparator input and a third selected voltage of the plurality of reference voltages to the second comparator input, and the device measures a switching offset voltage of the comparator based on the second selected voltage and the third selected voltage, wherein providing the second reference voltage and providing the third reference voltage further comprises selecting successive reference voltages of the plurality of reference voltages to be provided to the first and second inputs of the first comparator; and,</claim-text>
<claim-text>wherein selecting successive reference voltages of the plurality of reference voltages further comprises providing the second reference voltage to the second input of the first comparator and the third reference voltage to the first input of the first comparator prior to providing the second reference voltage to the first input of the first comparator and the third reference voltage to the second input of the first comparator.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The device of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein during the second mode of operation, the selection circuit selectively couples different selector inputs of the first plurality of selector inputs to the first comparator input to provide different reference voltages prior to providing the first selected voltage to the second comparator input and the second selected voltage to the first comparator input.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The device of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein during the second mode of operation, the selection circuit selectively provides the second selected voltage to the second comparator input and the third selected voltage to the first comparator input, prior to providing the second selected voltage to the first comparator input and the third selected voltage to the second comparator input.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The device of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the selection circuit measures the switching offset voltage as a voltage difference between the second selected voltage and the third selected voltage.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The device of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein:
<claim-text>during the first mode of operation, the comparator output drives an input of a voltage regulator to regulate the variable voltage; and</claim-text>
<claim-text>the device further comprises a switch coupled to the comparator output to isolate the comparator output from the input of the voltage regulator, wherein the switch is open during the second mode. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
