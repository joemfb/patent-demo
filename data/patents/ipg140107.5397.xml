<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626497-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626497</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13258875</doc-number>
<date>20090407</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>180</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>L</subclass>
<main-group>11</main-group>
<subgroup>04</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>704207</main-classification>
<further-classification>704218</further-classification>
<further-classification>704278</further-classification>
<further-classification> 84609</further-classification>
<further-classification> 84610</further-classification>
<further-classification> 84613</further-classification>
<further-classification> 84649</further-classification>
<further-classification>700 94</further-classification>
</classification-national>
<invention-title id="d2e53">Automatic marking method for karaoke vocal accompaniment</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5682502</doc-number>
<kind>A</kind>
<name>Ohtsuka et al.</name>
<date>19971000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>704267</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5693903</doc-number>
<kind>A</kind>
<name>Heidorn et al.</name>
<date>19971200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 84668</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5719344</doc-number>
<kind>A</kind>
<name>Pawate</name>
<date>19980200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 84609</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5804752</doc-number>
<kind>A</kind>
<name>Sone et al.</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 84610</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5806039</doc-number>
<kind>A</kind>
<name>Fukada et al.</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>704268</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5889224</doc-number>
<kind>A</kind>
<name>Tanaka</name>
<date>19990300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 84645</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5913259</doc-number>
<kind>A</kind>
<name>Grubb et al.</name>
<date>19990600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 84610</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6015949</doc-number>
<kind>A</kind>
<name>Oppenheim et al.</name>
<date>20000100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 84613</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6226606</doc-number>
<kind>B1</kind>
<name>Acero et al.</name>
<date>20010500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>704218</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6232540</doc-number>
<kind>B1</kind>
<name>Kondo</name>
<date>20010500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 84612</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>8294016</doc-number>
<kind>B2</kind>
<name>Franzblau</name>
<date>20121000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 84609</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2006/0246407</doc-number>
<kind>A1</kind>
<name>Kang et al.</name>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>434307 A</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2007/0163425</doc-number>
<kind>A1</kind>
<name>Tsui et al.</name>
<date>20070700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 84609</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2008/0148924</doc-number>
<kind>A1</kind>
<name>Tsui et al.</name>
<date>20080600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 84618</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2008/0300702</doc-number>
<kind>A1</kind>
<name>Gomez et al.</name>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>700 94</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>CN</country>
<doc-number>1173008</doc-number>
<kind>A</kind>
<date>19980200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>CN</country>
<doc-number>1178357</doc-number>
<kind>A</kind>
<date>19980400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>CN</country>
<doc-number>101364407</doc-number>
<kind>A</kind>
<date>20090200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>JP</country>
<doc-number>2000181466</doc-number>
<kind>A</kind>
<date>20000600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>JP</country>
<doc-number>2002162978</doc-number>
<kind>A</kind>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>JP</country>
<doc-number>2002175086</doc-number>
<kind>A</kind>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>JP</country>
<doc-number>2002278570</doc-number>
<kind>A</kind>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00023">
<document-id>
<country>JP</country>
<doc-number>2006031041</doc-number>
<kind>A</kind>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00024">
<document-id>
<country>WO</country>
<doc-number>2006115387</doc-number>
<kind>A</kind>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00025">
<othercit>Search Report for corresponding WIPO Application PCT/CN2009/071176.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>2</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>704207</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>704218</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>704270</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>704278</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>704240</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>704217</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification> 84609</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification> 84610</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification> 84613</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification> 84478</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification> 84649</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>700 94</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>13</number-of-drawing-sheets>
<number-of-figures>16</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120022859</doc-number>
<kind>A1</kind>
<date>20120126</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Lin</last-name>
<first-name>Wen-Hsin</first-name>
<address>
<city>Taichung</city>
<country>TW</country>
</address>
</addressbook>
<residence>
<country>TW</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Lin</last-name>
<first-name>Wen-Hsin</first-name>
<address>
<city>Taichung</city>
<country>TW</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Egbert Law Offices, PLLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<examiners>
<primary-examiner>
<last-name>Chawan</last-name>
<first-name>Vijay B</first-name>
<department>2658</department>
</primary-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/CN2009/071176</doc-number>
<kind>00</kind>
<date>20090407</date>
</document-id>
<us-371c124-date>
<date>20110922</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2010/115298</doc-number>
<kind>A </kind>
<date>20101014</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An automatic marking method for Karaoke vocal accompaniment is provided. In the method, pitch, beat position and volume of a singer are compared with the original pitch, beat position and volume of the theme of a song to generate a score of pitch, a score of beat and a score of emotion respectively, so as to obtain a weighted total score in a weighted marking method. By using the method, the pitch, beat position and volume error of each section of the song sung by the singer can be exactly worked out, and a pitch curve and a volume curve can be displayed, so that the singer can learn which part is sung incorrectly and which part needs to be enhanced. The present invention also has the advantages of dual effects of teaching and entertainment, high practicability and technical advancement.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="227.25mm" wi="169.67mm" file="US08626497-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="244.01mm" wi="116.42mm" orientation="landscape" file="US08626497-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="242.91mm" wi="172.72mm" file="US08626497-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="202.95mm" wi="122.09mm" file="US08626497-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="242.15mm" wi="101.01mm" orientation="landscape" file="US08626497-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="259.59mm" wi="182.03mm" file="US08626497-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="235.20mm" wi="189.91mm" file="US08626497-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="237.07mm" wi="173.48mm" file="US08626497-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="195.41mm" wi="100.92mm" file="US08626497-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="180.17mm" wi="126.32mm" file="US08626497-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="239.52mm" wi="168.06mm" file="US08626497-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="235.20mm" wi="133.27mm" file="US08626497-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="256.96mm" wi="161.97mm" file="US08626497-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="168.06mm" wi="164.59mm" file="US08626497-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED U.S. APPLICATIONS</heading>
<p id="p-0002" num="0001">Not applicable.</p>
<heading id="h-0002" level="1">STATEMENT REGARDING FEDERALLY SPONSORED RESEARCH OR DEVELOPMENT</heading>
<p id="p-0003" num="0002">Not applicable.</p>
<heading id="h-0003" level="1">NAMES OF PARTIES TO A JOINT RESEARCH AGREEMENT</heading>
<p id="p-0004" num="0003">Not applicable.</p>
<heading id="h-0004" level="1">REFERENCE TO AN APPENDIX SUBMITTED ON COMPACT DISC</heading>
<p id="p-0005" num="0004">Not applicable.</p>
<heading id="h-0005" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0006" num="0005">1. Field of the Invention</p>
<p id="p-0007" num="0006">The present invention relates generally to an automatic marking method for Karaoke vocal accompaniment, and more particularly to an innovative design, obtaining a score by calculating the score of pitch, score of beat and score of emotion respectively, and finally the weighted total score in a weighted marking method.</p>
<p id="p-0008" num="0007">2. Description of Related Art Including Information Disclosed Under 37 CFR 1.97 and 37 CFR 1.98.</p>
<p id="p-0009" num="0008">At present, during Karaoke vocal accompaniment, although the vocal accompaniment machine usually contains an automatic marking function, it is known as either a rough total score calculation, or a result from vocal decibel value. Even more, some other marking result does no business with the quality and status of the melody itself. Therefore, it is a way only for entertainment, not to evaluate the melody quality, and finally does no good for singers practicing to improve singing skills.</p>
<p id="p-0010" num="0009">Thus, to overcome the aforementioned problems of the prior art, it would be an advancement if the art to provide an improved structure that can significantly improve the efficacy.</p>
<p id="p-0011" num="0010">Therefore, the inventor has provided the present invention of practicability after deliberate design and evaluation based on years of experience in the production, development and design of related products.</p>
<heading id="h-0006" level="1">BRIEF SUMMARY OF THE INVENTION</heading>
<p id="p-0012" num="0011">The present invention aims to provide an automatic marking method for Karaoke vocal accompaniment, so as to help singers improve their singing skills which are difficult to realize from those Karaoke vocal accompaniment machines with a marking functions unable to evaluate the quality of the melody itself.</p>
<p id="p-0013" num="0012">The characteristics of the present invention lie in its automatic marking method for Karaoke vocal accompaniment. In the method, pitch, beat position and volume of a singer are compared with the original pitch, beat position and volume of the theme of a melody to generate a score of pitch, a score of beat and a score of emotion respectively, so as to obtain a weighted total score in a weighted marking method. By using the method, the pitch, beat position and volume error of each section of the melody sang by the singer can be exactly worked out, and a pitch curve and a volume curve can be obviously displayed, so that the singer can learn which part is sung incorrectly and which part needs to be enhanced. The present invention also has the advantages of dual effects of teaching and entertainment, high practicability and technical advancement.</p>
<p id="p-0014" num="0013">The present invention provides an automatic marking method for Karaoke vocal accompaniment. In the method, pitch, beat position and volume of a singer are compared with the original pitch, beat position and volume of the theme of a song to generate a score of pitch, a score of beat and a score of emotion respectively, so as to obtain a weighted total score in a weighted marking method. By using the method, the pitch, beat position and volume error of each section of the song sang by the singer can be exactly worked out, and a pitch curve and a volume curve can be obviously displayed, so that the singer can learn which part is sung incorrectly and which part needs to be enhanced. The present invention also has the advantages of dual effects of teaching and entertainment, high practicability and technical advancement.</p>
<p id="p-0015" num="0014">Although the present invention has been explained in relation to its preferred embodiment, it is to be understood that many other possible modifications and variations can be made without departing from the spirit and scope of the present invention as hereinafter claimed.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0007" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 1</figref> is a first schematic diagram of the method to obtain score of pitch of the present invention.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 2</figref> is a second schematic diagram of the method to obtain score of pitch of the present invention.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 3</figref> is a third schematic diagram of the method to obtain score of pitch of the present invention.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 4</figref> is a first schematic diagram of the method to obtain score of beat of the present invention.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 5</figref> is a second schematic diagram of the method to obtain score of beat of the present invention.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 6</figref> is a third schematic diagram of the method to obtain score of beat of the present invention.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 7</figref> is a fourth schematic diagram of the method to obtain score of beat of the present invention.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 8</figref> is a schematic diagram of the method to obtain score of emotion of the present invention.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 9</figref> is a schematic diagram of the Automatic Marking Method of the present invention.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 10</figref> shows Example Reference Chart I of the present invention.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 11</figref> shows Example Reference Chart II of the present invention.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 12</figref> shows Example Reference Chart III of the present invention.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 13</figref> shows Example Reference Chart IV of the present invention.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 14</figref> shows Example Reference Chart V of the present invention.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 15</figref> shows Example Reference Chart VI of the present invention.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 16</figref> shows Example Reference Chart VII of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0008" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIGS. 1-16</figref> show some preferred embodiments of the automatic marking method for Karaoke vocal accompaniment, but it shall be noted that these figures are only for reference and explanation, and shall not limit the patent application. In the automatic marking method for Karaoke vocal accompaniment, pitch, beat position and volume of a singer are compared with the original pitch, beat position and volume of the theme of a melody to generate a score of pitch, a score of beat and a score of emotion respectively, so as to obtain a weighted total score in a weighted marking method.</p>
<p id="p-0033" num="0032">During singing, apart from the sound specialty, the match degree between the singing sound and the melody shall also be evaluated by three sensations, pitch sensation, beat sensation and emotion sensation respectively. Pitch sensation is a way to judge the accuracy between the pitch and pitch of each relevant note. Beat sensation is to judge the error of the beat position, including beat start position and beat end position. Emotion is to judge the change of the volume, including the volume change of each lyric and the whole melody. The specific methods for obtaining the above mentioned score of pitch, score of beat and score of emotion are as follows:</p>
<p id="p-0034" num="0033">(1) Score of Pitch</p>
<p id="p-0035" num="0034">Refer to <figref idref="DRAWINGS">FIG. 1</figref>, the pitch of the singer is calculated for a period of time (e.g. 0.1 s) since singing from the microphone frequency with the means of autocorrelation function, which is regarded as a way for voice fundamental frequency. After that, convert fundamental frequency to the relevant note by a pitch calculator, and then check the match degree between this note and the one obtained from the theme of a melody, mark the note a score of pitch. By this means, calculate scores of pitch of all the notes until the melody ends, and average the scores. For details, please refer to <figref idref="DRAWINGS">FIG. 2</figref> and explanation below.</p>
<p id="p-0036" num="0035">First of all, take the step of &#x201c;Initial Parameters Set&#x201d;, the note number(n)=0, the match degree between voice and the high pitch of the note (Note Hit)=o, between the voice and the low pitch of the note (Note Hit Around)=0, here, Note Hit means the number of the time periods in which the voice pitch absolutely matches to the note during the singing, while Note Hit Around means the number of the time periods in which the voice pitch matches to the note in the range of 1 semitone during the singing. After that, try to obtain the note from the theme of the melody and calculate the voice pitch in the next period, and be noted that the note from the theme of the melody is gained directly from the midi document. Get the relevant note, and voice pitch (fundamental frequency) from the specific time, or convert to the note of the pitch by transcode table, for example, the frequency of tone &#x201c;A4&#x201d; is 440 Hz, and twice more for each octave; the frequency of note &#x201c;A5&#x201d; is 880 Hz, with 12 semitones for one octave, and the frequency between two semitones differs 2( 1/12) times, because in the condition that the voice and note frequency differs twice, &#xbd; or other round numbers, the tone sensation shall be the same. Thus, for semitones among &#xb1;12, we adjusted the calculated voice note_p and the note from the theme of the melody Note_m, making the error among +6-&#x2212;5 semitones, that is Note_p=Note_p+12*I (I is a nonzero round number and &#x2212;5&#x3c;=Note_p&#x2212;Note_m&#x3c;=6). Following that, check whether it is a new tone, if yes, calculate the pitch score of the previous tone, and reset the initial parameters, take notice that NoteHit=0, NoteHitAround=0 and note number(n)=n+1; if no, check whether the note from the theme of the melody matches to the voice note, which means the error shall be very slight, such as 0.5 semitone, etc, if so, increase the match degree of the tone high pitch NoteHit=NoteHit+1; if not, check whether the note from the theme of the melody matches to the voice note low pitch, which means the error shall be very huge, such as 1 semitone, if so, increase match degree of the tone low pitch NoteHitAround=NoteHitAround+1. Finally, return to the tone from the theme of the melody to calculate the voice pitch. For the calculation method of the above &#x201c;pitch score of the previous note&#x201d;, please refer to <figref idref="DRAWINGS">FIG. 3</figref>:</p>
<p id="p-0037" num="0036">Obtain the Note Length (m) from the note of the melody theme first, here,
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>m=</i>0,1,2<i>, . . . , M </i><?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0038" num="0037">This M means the total number of the note. And then judge whether the high pich matching degree NoteHit is above zero, if so, calculate the matched score for the high pitch sensation note:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Score of Pitch(<i>m</i>)=PSH+<i>K</i>1*NoteHit(<i>m</i>)/NoteLength(<i>m</i>);<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0039" num="0038">Here, PSH and K<b>1</b> are adjustable empirical values. Otherwise, calculate the matched score for the low pitch sensation note:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Score of Pitch(<i>m</i>)=PSL&#x2212;<i>K</i>2*NoteHitAround(<i>m</i>)/NoteLength(<i>m</i>);<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0040" num="0039">Here, PSL and K<b>2</b> are adjustable empirical values, and limited to:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>0&#x3c;=Pitch Score(<i>m</i>)&#x3c;=100<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0041" num="0040">Finally, check whether it is the last note, if not, repeat above processes; if yes, calculate the average score of pitch with a means of weighted average in a weighting ratio of Note Length (m) for all the Pitch Score(m), as follows:</p>
<p id="p-0042" num="0041">Set total Note Length NL=&#x25a1;<sub>0-M-1</sub>, NoteLength(m), average SOP (score of pitch):</p>
<p id="p-0043" num="0042">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>S</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>O</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>P</mi>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <mi>NL</mi>
    </mfrac>
    <mo>&#x2062;</mo>
    <mrow>
      <munderover>
        <mo>&#x2211;</mo>
        <mrow>
          <mi>m</mi>
          <mo>=</mo>
          <mn>0</mn>
        </mrow>
        <mrow>
          <mi>M</mi>
          <mo>-</mo>
          <mn>1</mn>
        </mrow>
      </munderover>
      <mo>&#x2062;</mo>
      <mrow>
        <mrow>
          <mi>PitchScore</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>m</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>&#xb7;</mo>
        <mrow>
          <mi>NoteLength</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>m</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0044" num="0043">(2) Score of Beat:</p>
<p id="p-0045" num="0044">Beat sensation depends on the match degree between voice beat start position and the melody theme start time, and between the voice beat end position and the melody theme end time. Here, an accurate beat position of each beat shall be obtained. Regard a singer's pitch change is the time change of different notes to decide the match degree of its beat. Similar to <figref idref="DRAWINGS">FIG. 1</figref>, <figref idref="DRAWINGS">FIG. 4</figref> is also undertaken by the means of calculating the voice pitch and note of the melody theme first, and then obtain the average score of beat by beat sensation calculator.</p>
<p id="p-0046" num="0045">With the help of a beat sensation calculator, the voice pitch is converted to the relevant note, and compare the time error between this note and the note from the melody theme. Here, the error shall include the beat start and end positions, either on lead or on lag time. Also, record the time error of each note, and mark the note a score of beat. By this means, calculate all the beat scores of the note, until the melody ends, and average the scores. Just as shown in <figref idref="DRAWINGS">FIG. 5</figref>, a beat sensation on lag matcher or on lead matcher could be used to convert to the voice note, after that, according to the previous or next note of the melody theme, calculate the time match degree, on lead and on lag between the voice and the note, so as to get the beat ending on lag time and on lead time or beat starting; and still, through calculating the note score of beat, to obtain the beat score of the note. By this method, each beat error of each note shall be calculated since the very first note to the last note, and finally average the scores of beat.</p>
<p id="p-0047" num="0046">Referring to <figref idref="DRAWINGS">FIG. 6</figref>, check whether the note is new from a new melody before use the beat sensation on lag matcher, if not, see whether the beat start on lag time has been set, if yes, end. Otherwise, judge whether the voice pitch matches to the note, if not, increase beat start on lag time. If so, set the beat start on lag time, and then end. Here, the on lag time refers to the time error of voice starting later than the music note. If the note is of a new melody, reset the beat start on lag time and record the end time of previous note, and then check whether the voice note matches to the note of the previous melody theme, if so, judge whether the next voice note shall be matched to the note of the previous melody theme, until mismatch. After that, set the beat end on lag time, and end. Here, this on lag time refers to the time error of voice ending later than the music note ending.</p>
<p id="p-0048" num="0047">Referring to <figref idref="DRAWINGS">FIG. 7</figref>, check whether the note is new from a new melody before using the beat sensation on lead matcher, if not, see whether the voice note matches to the present music note. If so, record the voice note ending time. Otherwise, set the beat end on lead time, and end. Here, the on lead time refers to the time error of voice ending earlier than the music note ending. If the note is of a new melody, reset the beat end on lead time and record the starting time of the note, and then check whether the voice note matches to the note of the previous melody theme, if so, judge whether the next voice note shall be matched to the previous one, until mismatch. After that, set the beat start on lead time, and end. Here, this on lead time refers to the time error of voice starting earlier than the music note starting.</p>
<p id="p-0049" num="0048">After that, calculate the SOB (Score of Beat) from the beat start on lag time, beat start on lead time, beat end on lag time and beat end on lead time, as follows:</p>
<p id="p-0050" num="0049">Set time error of beat start as TDS, and the SOBS (Score of Beat Start):
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>SOBS=<i>As+</i>100&#xb7;(1<i>&#x2212;TDS/Ls</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0051" num="0050">Here, TDS=beat start on lag time (Note On Lag)+beat start on lead time (Note On Lead). As and Ls are preset empirical values. Set time error of beat end as TDE, and the score of beat end shall be:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>SOBE=<i>Ae+</i>100&#xb7;(1<i>&#x2212;TDE/Le</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0052" num="0051">Here, TDE=beat end on off lag time (Note Off Lag)+beat end on lead time (Note Off Lead). Ae and Le are preset empirical values, the score of beat shall be:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>SOB=SOBS&#xb7;<i>R+</i>SOBE&#xb7;(1<i>&#x2212;R</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0053" num="0052">Here, R is a preset weighting parameter, and 0&#x3c;=R&#x3c;=1.</p>
<p id="p-0054" num="0053">(3) Score of Emotion:</p>
<p id="p-0055" num="0054">As emotion is a parameter hard to be evaluated by objective factors, here, we adopt the match degree of the average amplitude of voice and that of the melody theme. The average amplitude of voice is obtained from measuring RMS of voice sections, while the average amplitude of the melody theme is from measuring the RMS of each sound section of melody theme or from the amplitude parameter from the composed music. RMS is calculated as follows:</p>
<p id="p-0056" num="0055">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mrow>
  <mi>RMS</mi>
  <mo>=</mo>
  <msqrt>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <mi>K</mi>
      </mfrac>
      <mo>&#x2062;</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>i</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow>
            <mi>K</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <msup>
            <mi>x</mi>
            <mn>2</mn>
          </msup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>i</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
    </mrow>
  </msqrt>
</mrow>
</math>
</maths>
</p>
<p id="p-0057" num="0056">Here, x(i), i=0, 1, . . . , K&#x2212;1, K, refers to the sound samples in this section. Actually, this RMS could be replaced by other methods, such as average amplitude or maximum amplitude, etc. Referring to <figref idref="DRAWINGS">FIG. 8</figref>, calculate the RMS of voice signal and melody theme a while (e.g. 0.1 s) since beginning by score of emotion calculator, and then obtain the RMS list of voice and music, say MicVol(n) and MelVol(n), n=0, 1, N&#x2212;1 . . . , respectively, meaning the RMS in number n time period, in which N refers to the total length of the melody, and adjust the MicVol (n) exactly same as MelVol (n), and then average it according to each note length to get the average list of voice and music in number m note as AvgMelVol (m) and AvgMicVol (m). The score of emotion could be calculated by AvgMelVol (n) and AvgMicVol (n), through firstly measuring the overall match degree between voice amplitude curve and music amplitude curve, SOET, which could also be said as overall score of emotion transformation, as follows:</p>
<p id="p-0058" num="0057">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>S</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>O</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>E</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>T</mi>
  </mrow>
  <mo>=</mo>
  <mfrac>
    <mrow>
      <mrow>
        <mo>(</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>m</mi>
              <mo>=</mo>
              <mn>0</mn>
            </mrow>
            <mrow>
              <mi>M</mi>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <mrow>
              <mi>AvgMicVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mrow>
              <mi>AvgMelVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
      <mo>&#xd7;</mo>
      <mn>100</mn>
    </mrow>
    <msqrt>
      <mrow>
        <mrow>
          <mo>(</mo>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>m</mi>
                <mo>=</mo>
                <mn>0</mn>
              </mrow>
              <mrow>
                <mi>M</mi>
                <mo>-</mo>
                <mn>1</mn>
              </mrow>
            </munderover>
            <mo>&#x2062;</mo>
            <mrow>
              <msup>
                <mi>AvgMicVol</mi>
                <mn>2</mn>
              </msup>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mo>&#x2062;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>m</mi>
                <mo>=</mo>
                <mn>0</mn>
              </mrow>
              <mrow>
                <mi>M</mi>
                <mo>-</mo>
                <mn>1</mn>
              </mrow>
            </munderover>
            <mo>&#x2062;</mo>
            <mrow>
              <msup>
                <mi>AvgMelVol</mi>
                <mn>2</mn>
              </msup>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </msqrt>
  </mfrac>
</mrow>
</math>
</maths>
<br/>
Here, M refers to the total number of notes, and
</p>
<p id="p-0059" num="0058">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mrow>
  <msup>
    <mrow>
      <mo>(</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>m</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow>
            <mi>M</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <mrow>
            <mi>AvgMicVol</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>m</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>&#x2062;</mo>
          <mrow>
            <mi>AvgMelVol</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>m</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
      <mo>)</mo>
    </mrow>
    <mn>2</mn>
  </msup>
  <mo>&#x3c;=</mo>
  <mrow>
    <mrow>
      <mo>(</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>m</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow>
            <mi>M</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <msup>
            <mi>AvgMicVol</mi>
            <mn>2</mn>
          </msup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>m</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
      <mo>)</mo>
    </mrow>
    <mo>&#xb7;</mo>
    <mrow>
      <mo>(</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>m</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow>
            <mi>M</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <msup>
            <mi>AvgMelVol</mi>
            <mn>2</mn>
          </msup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>m</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
      <mo>)</mo>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
Thus SOET&#x3c;=100.
</p>
<p id="p-0060" num="0059">Then, calculate SOMS of each lyric, first divide AvgMicVol(m) and AvgMelVol(m) to sentences, and set the start note of each lyric shall be S(j), j=0, 1, 2, . . . , L&#x2212;1, in which L refers to the total lyrics, and set S(L)=M, and the score of emotions shall be:</p>
<p id="p-0061" num="0060">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>S</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>O</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>E</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mrow>
      <mi>S</mi>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mi>j</mi>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mfrac>
    <mrow>
      <mrow>
        <mo>(</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>m</mi>
              <mo>=</mo>
              <mrow>
                <mi>S</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>j</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mrow>
              <mrow>
                <mi>S</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>j</mi>
                    <mo>+</mo>
                    <mn>1</mn>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <mrow>
              <mi>AvgMicVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mrow>
              <mi>AvgMelVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
      <mo>&#xd7;</mo>
      <mn>100</mn>
    </mrow>
    <msqrt>
      <mrow>
        <mrow>
          <mo>(</mo>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>m</mi>
                <mo>=</mo>
                <mrow>
                  <mi>S</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>j</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mrow>
                <mrow>
                  <mi>S</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>j</mi>
                      <mo>+</mo>
                      <mn>1</mn>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>-</mo>
                <mn>1</mn>
              </mrow>
            </munderover>
            <mo>&#x2062;</mo>
            <mrow>
              <msup>
                <mi>AvgMicVol</mi>
                <mn>2</mn>
              </msup>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mo>&#x2062;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>m</mi>
                <mo>=</mo>
                <mrow>
                  <mi>S</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>j</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mrow>
                <mrow>
                  <mi>S</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>j</mi>
                      <mo>+</mo>
                      <mn>1</mn>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>-</mo>
                <mn>1</mn>
              </mrow>
            </munderover>
            <mo>&#x2062;</mo>
            <mrow>
              <msup>
                <mi>AvgMelVol</mi>
                <mn>2</mn>
              </msup>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </msqrt>
  </mfrac>
</mrow>
</math>
</maths>
</p>
<p id="p-0062" num="0061">Set j=0, 1, 2, . . . , L&#x2212;1, and calculate the relative score of emotions, which shall be volume of each lyrics relative to the overall volume transformation:</p>
<p id="p-0063" num="0062">First of all, set</p>
<p id="p-0064" num="0063">
<maths id="MATH-US-00006" num="00006">
<math overflow="scroll">
  <mrow>
    <mrow>
      <msup>
        <mi>A</mi>
        <mi>&#x2032;</mi>
      </msup>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mi>j</mi>
        <mo>)</mo>
      </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
      <mrow>
        <mo>(</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>m</mi>
              <mo>=</mo>
              <mrow>
                <mi>S</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>j</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mrow>
              <mrow>
                <mi>S</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>j</mi>
                    <mo>+</mo>
                    <mn>1</mn>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <mrow>
              <mi>AvgMicVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mrow>
              <mi>AvgMelVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
      <mrow>
        <mo>(</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>m</mi>
              <mo>=</mo>
              <mrow>
                <mi>S</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>j</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mrow>
              <mrow>
                <mi>S</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>j</mi>
                    <mo>+</mo>
                    <mn>1</mn>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <msup>
              <mi>AvgMicVol</mi>
              <mn>2</mn>
            </msup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>m</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mfrac>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00006-2" num="00006.2">
<math overflow="scroll">
  <mrow>
    <mi>A</mi>
    <mo>=</mo>
    <mfrac>
      <mrow>
        <mo>(</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>m</mi>
              <mo>=</mo>
              <mn>0</mn>
            </mrow>
            <mrow>
              <mi>M</mi>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <mrow>
              <mi>AvgMicVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mrow>
              <mi>AvgMelVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
      <mrow>
        <mo>(</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>m</mi>
              <mo>=</mo>
              <mn>0</mn>
            </mrow>
            <mrow>
              <mi>N</mi>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <msup>
              <mi>AvgMicVol</mi>
              <mn>2</mn>
            </msup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>m</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mfrac>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00006-3" num="00006.3">
<math overflow="scroll">
  <mi>so</mi>
</math>
</maths>
<maths id="MATH-US-00006-4" num="00006.4">
<math overflow="scroll">
  <mrow>
    <mrow>
      <mi>S</mi>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mi>O</mi>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mi>E</mi>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mrow>
        <mi>A</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mi>j</mi>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mo>{</mo>
      <mrow>
        <mrow>
          <mrow>
            <mtable>
              <mtr>
                <mtd>
                  <mrow>
                    <mrow>
                      <mfrac>
                        <mrow>
                          <msup>
                            <mi>A</mi>
                            <mi>&#x2032;</mi>
                          </msup>
                          <mo>&#x2061;</mo>
                          <mrow>
                            <mo>(</mo>
                            <mi>j</mi>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                        <mi>A</mi>
                      </mfrac>
                      <mo>&#xb7;</mo>
                      <mn>100</mn>
                    </mrow>
                    <mo>,</mo>
                    <mrow>
                      <msup>
                        <mi>A</mi>
                        <mi>&#x2032;</mi>
                      </msup>
                      <mo>&#x3c;</mo>
                      <mi>A</mi>
                    </mrow>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mrow>
                    <mrow>
                      <mfrac>
                        <mi>A</mi>
                        <mrow>
                          <msup>
                            <mi>A</mi>
                            <mi>&#x2032;</mi>
                          </msup>
                          <mo>&#x2061;</mo>
                          <mrow>
                            <mo>(</mo>
                            <mi>j</mi>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                      </mfrac>
                      <mo>&#xb7;</mo>
                      <mn>100</mn>
                    </mrow>
                    <mo>,</mo>
                    <mrow>
                      <msup>
                        <mi>A</mi>
                        <mi>&#x2032;</mi>
                      </msup>
                      <mo>&#x2265;</mo>
                      <mi>A</mi>
                    </mrow>
                  </mrow>
                </mtd>
              </mtr>
            </mtable>
            <mo>&#x2062;</mo>
            <mi>j</mi>
          </mrow>
          <mo>=</mo>
          <mn>0</mn>
        </mrow>
        <mo>,</mo>
        <mn>1</mn>
        <mo>,</mo>
        <mn>2</mn>
        <mo>,</mo>
        <mi>&#x2026;</mi>
        <mo>&#x2062;</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>,</mo>
        <mrow>
          <mi>L</mi>
          <mo>-</mo>
          <mn>1</mn>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
</p>
<p id="p-0065" num="0064">Calculated from the above, the average score of emotion shall be:</p>
<p id="p-0066" num="0065">
<maths id="MATH-US-00007" num="00007">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>S</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>O</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>E</mi>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mrow>
        <mi>&#x3b1;</mi>
        <mo>&#xb7;</mo>
        <mi>S</mi>
      </mrow>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mi>O</mi>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mi>E</mi>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mi>T</mi>
    </mrow>
    <mo>+</mo>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <mi>L</mi>
      </mfrac>
      <mo>&#x2062;</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>j</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow>
            <mi>L</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mrow>
              <mrow>
                <mi>&#x3b2;</mi>
                <mo>&#xb7;</mo>
                <mi>S</mi>
              </mrow>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>O</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>E</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mrow>
                <mi>S</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>j</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mo>+</mo>
            <mrow>
              <mrow>
                <mi>&#x3b3;</mi>
                <mo>&#xb7;</mo>
                <mi>S</mi>
              </mrow>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>O</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>E</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mrow>
                <mi>A</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>j</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0067" num="0066">Here, &#x3b1;, &#x3b2; and &#x3b3; are weighting coefficients, and &#x3b1;+&#x3b2;+&#x3b3;=1. (IV) Average Evaluated Score: (refer to <figref idref="DRAWINGS">FIG. 9</figref>).</p>
<p id="p-0068" num="0067">The Average Evaluated Score (AES) could be obtained from the above-mentioned SOP, SOB and SOE.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>AES=<i>p</i>&#xb7;SOP+<i>q&#xb7;</i>SOB+<i>r</i>&#xb7;SOE<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0069" num="0068">Here, p, q and r are weighting coefficients, and p+q+r=1.</p>
<heading id="h-0009" level="1">Example</heading>
<p id="p-0070" num="0069">Take a melody as an example. We shall calculate the micpitch (n) and MicVol(n) every 0.1 s, and also the MelNote(n) and MelVol(n) at the same time, here, n=0, 1, 2, . . . , N, N refers to the length of the melody. For particular explanation, we take N=280 to say the melody length is 28 seconds. <figref idref="DRAWINGS">FIG. 10</figref> shows the curves of MicPitch(n) and MelNote(n), in which the real line represents the MelNote(n), direct-axis as pitch code, and the interval between each round number is 1 semitone, <b>60</b> as alto voice Do, <b>61</b> as alto voice rising Do, <b>69</b> as alto voice La, and so on. Round dot as micpitch (n), the real lines is divided into several parts, and each part refers to a persistent note, and high-low means that of the note; when the MelNote(n) is &#x2212;1, the note shall be a pause or empty note, ignored; if there is no round dot, no micpitch is calculated, it could be soundless, silent or noise, etc, and be regarded as no sound.</p>
<p id="p-0071" num="0070">By above-mentioned means, the NoteHit (m) of number m note and the NoteHitAround (m) (see circular in <figref idref="DRAWINGS">FIG. 11</figref>), here, m=0, 1, 2, . . . M, M=3, and set PSH=50, K<b>1</b>=100 and PSL=35, K<b>2</b>=50, get the score of pitch of each note m (see square in <figref idref="DRAWINGS">FIG. 11</figref>), get the average score of pitch as 98 by weighting calculating the note length (see star in <figref idref="DRAWINGS">FIG. 11</figref>).</p>
<p id="p-0072" num="0071">According to the calculations in score of beat, the NoteOnLag (m) (round) and NoteOnLead (m) (star) of note number m could be obtained, set As=10 and Ls=10 to calculate the BeatOnScore(m) (square). See <figref idref="DRAWINGS">FIG. 12</figref>, pick out the NoteOffLag (m) (round) and NoteOffLead (m) (star), set Ae=50, Le=NoteLength and get BeatOffScore(m) (round). See <figref idref="DRAWINGS">FIG. 13</figref>, obtain ScoreOfBeatStart (SOBS)=93.19, ScoreOfBeatEnd (SOBE)=99.82, set R=0.5 and SOB=96.5 by weighting calculating the note length.</p>
<p id="p-0073" num="0072">According to the calculations in score of emotion, get the RMS lists of voice and melody theme as MelVol (n) (see L<b>1</b> in <figref idref="DRAWINGS">FIG. 14</figref>) and MicVol (n) (see L<b>2</b> in <figref idref="DRAWINGS">FIG. 14</figref>), and adjust the MicVol (n) exactly same as MelVol (n), see <figref idref="DRAWINGS">FIG. 14</figref>, and then average it according to each note length to get the average RMS list in number m note as AvgMelVol (m) (see L<b>3</b> in <figref idref="DRAWINGS">FIG. 15</figref>) and AvgMicVol (m) (see L<b>4</b> in <figref idref="DRAWINGS">FIG. 15</figref>). According to <figref idref="DRAWINGS">FIG. 15</figref>, set the weighting coefficient, and get the SOET=98.33, SOES(j) (see L<b>5</b> in <figref idref="DRAWINGS">FIG. 16</figref>) and SOEA (j) (see L<b>6</b> in <figref idref="DRAWINGS">FIG. 16</figref>), here, j=0, 1, 2, . . . L&#x2212;1, and the total lyric L=6. From <figref idref="DRAWINGS">FIG. 16</figref>, the average SOES=97.2 and SOEA=95.67, and by weighting calculating, it shall be:</p>
<p id="p-0074" num="0073">ScoreOfEmotion (SOE)=97.24</p>
<p id="p-0075" num="0074">Finally, set weighting coefficient as p=0.6, q=0.2 and r=0.2, the AES shall be:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>AES=<i>p</i>&#xb7;SOP+<i>q</i>&#xb7;SOB+<i>r&#xb7;</i>SOE=97.55<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08626497-20140107-M00001.NB">
<img id="EMI-M00001" he="8.81mm" wi="76.20mm" file="US08626497-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08626497-20140107-M00002.NB">
<img id="EMI-M00002" he="8.13mm" wi="76.20mm" file="US08626497-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08626497-20140107-M00003.NB">
<img id="EMI-M00003" he="16.93mm" wi="76.20mm" file="US08626497-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08626497-20140107-M00004.NB">
<img id="EMI-M00004" he="19.05mm" wi="76.20mm" file="US08626497-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US08626497-20140107-M00005.NB">
<img id="EMI-M00005" he="20.15mm" wi="76.20mm" file="US08626497-20140107-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00006 MATH-US-00006-2 MATH-US-00006-3 MATH-US-00006-4" nb-file="US08626497-20140107-M00006.NB">
<img id="EMI-M00006" he="56.13mm" wi="76.20mm" file="US08626497-20140107-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00007" nb-file="US08626497-20140107-M00007.NB">
<img id="EMI-M00007" he="9.14mm" wi="76.20mm" file="US08626497-20140107-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00008" nb-file="US08626497-20140107-M00008.NB">
<img id="EMI-M00008" he="8.81mm" wi="76.20mm" file="US08626497-20140107-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00009" nb-file="US08626497-20140107-M00009.NB">
<img id="EMI-M00009" he="9.57mm" wi="76.20mm" file="US08626497-20140107-M00009.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00010" nb-file="US08626497-20140107-M00010.NB">
<img id="EMI-M00010" he="9.57mm" wi="76.20mm" file="US08626497-20140107-M00010.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00011" nb-file="US08626497-20140107-M00011.NB">
<img id="EMI-M00011" he="16.93mm" wi="76.20mm" file="US08626497-20140107-M00011.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00012" nb-file="US08626497-20140107-M00012.NB">
<img id="EMI-M00012" he="19.05mm" wi="76.20mm" file="US08626497-20140107-M00012.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00013" nb-file="US08626497-20140107-M00013.NB">
<img id="EMI-M00013" he="20.15mm" wi="76.20mm" file="US08626497-20140107-M00013.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00014 MATH-US-00014-2 MATH-US-00014-3 MATH-US-00014-4" nb-file="US08626497-20140107-M00014.NB">
<img id="EMI-M00014" he="56.13mm" wi="76.20mm" file="US08626497-20140107-M00014.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00015" nb-file="US08626497-20140107-M00015.NB">
<img id="EMI-M00015" he="9.14mm" wi="76.20mm" file="US08626497-20140107-M00015.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>I claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An automatic marking method for Karaoke vocal accompaniment, the method comprising:
<claim-text>comparing pitch, beat position and volume of a singer with an original pitch, beat position and volume of the theme of a song so as to generate a score for the tone sensation, a score for beat sensation and a score of emotion and to obtain weighted total score;</claim-text>
<claim-text>obtaining a score of sensation by estimating the pitch of the singer from a microphone volume at selected time periods so as to derive a fundamental frequency of the voice;</claim-text>
<claim-text>converting the fundamental frequency to a relevant note by a tone sensation calculator;</claim-text>
<claim-text>checking a match degree between the relevant note and a note obtained from the theme of a melody so as to note a tone sensation score;</claim-text>
<claim-text>calculating score of pitch for all notes until the melody ends;</claim-text>
<claim-text>averaging the calculated scores, the step of obtaining a tone sensation score comprising:
<claim-text>setting of initial parameters by setting an initial note number m=0, the match degree between the voice and a high pitch of a note NoteHit=0, and between the voice and a low pitch of the note NoteHitAround=0, the NoteHit is a number of time periods in which the voice absolutely matches the desired note during singing, NoteHitAround is a number of time periods in which voice pitch various from the desired note within a range of one semitone during the singing;</claim-text>
<claim-text>obtaining a note from the theme of the melody;</claim-text>
<claim-text>calculation a voice pitch for the next period; and</claim-text>
<claim-text>deciding a sensation score algorithm for the note by NoteHitAround and NoteLength, the step of obtaining a beat sensation score involves matching a degree between a voice beat start position and a melody theme start time and between a voice beat end position and a melody theme end time, the step of obtaining a beat sensation score comprising:
<claim-text>converting the voice pitch to a relevant note with a beat sensation calculator;</claim-text>
<claim-text>comparing a time error between the relevant note and the note from the melody theme, the time error including the beat start position and the beat end position;</claim-text>
<claim-text>recording the time error of each note;</claim-text>
<claim-text>marking the beat score of the beat;</claim-text>
<claim-text>calculating all of the beat scores until the melody ends;</claim-text>
<claim-text>averaging the beat scores;</claim-text>
<claim-text>converting the beat sensation on a lag matcher or on a lead matcher to the voice note;</claim-text>
<claim-text>calculating a lead time match degree and a lag time match degree according to the previous note or a next note of the melody theme so as to obtain a lag time or a lead time on a beat ending or a beat starting;</claim-text>
<claim-text>obtaining a beat score of the note by calculating the note score of the beat;</claim-text>
<claim-text>calculating each beat error of each note from a first note and a last note;</claim-text>
<claim-text>averaging the scores of the beats, the step of generating a score for emotion involving matching a degree of an average amplitude of the voice and the melody theme, the step of generating a score for emotion comprising:
<claim-text>measuring Root Mean Square (RMS) of voice sections to obtain an average amplitude of voice;</claim-text>
<claim-text>measuring the RMS of each sound section of the melody theme or by an amplitude parameter from the composed music so as to obtain an average amplitude of the melody theme;</claim-text>
<claim-text>calculating the RMS of a voice signal and a melody theme by an emotion score calculator;</claim-text>
<claim-text>obtaining an RMS list of voice and music;</claim-text>
<claim-text>averaging the RMS list of voice and music according to each note length so as to produce an average RMS list of voice and music;</claim-text>
<claim-text>calculating an emotion score by obtaining and calculating the match degree of voice amplitude curves and melody theme amplitude curves during the entire song and each lyric and a change scope of amplitude of each lyric in relation to overall amplitude so as to produce a gain average emotion score.</claim-text>
</claim-text>
</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The automatic marking method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein if the high pitch matching degree NoteHit is larger than zero, it is required to calculate the matched score for the high pitch sensation note in mth high pitch sensation note (hereinafter referred to as PithScore(m)):
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>PitchScore(<i>m</i>)=PSH+<i>K</i>1*NoteHit(<i>m</i>)/NoteLength(<i>m</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
<claim-text>where, PSH and K<b>1</b> are adjustable empirical values; therewise, calculate the matched score for the low pitch sensation note:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>PitchScore(<i>m</i>)=PSL+<i>K</i>2*NoteHitAround(<i>m</i>)/NoteLength(<i>m</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
<claim-text>where, PSL and K<b>2</b> are adjustable empirical values, and limited to:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>0&#x3c;=PitchScore(<i>m</i>)&#x3c;=100<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
<claim-text>finally, judge if it is the last note, if not, repeat above processes; if yes, calculate the average score of pitch by weighted averaging of Note Length (m) for all the Pitch Score(m) as follows:</claim-text>
<claim-text>set total Note Length NL=<img id="CUSTOM-CHARACTER-00001" he="5.67mm" wi="17.61mm" file="US08626497-20140107-P00001.TIF" alt="custom character" img-content="character" img-format="tif"/>&#x25a1;NoteLength(m), average SOP (score of pitch)</claim-text>
</claim-text>
<claim-text>
<maths id="MATH-US-00008" num="00008">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>S</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>O</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>P</mi>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <mi>NL</mi>
    </mfrac>
    <mo>&#x2062;</mo>
    <mrow>
      <munderover>
        <mo>&#x2211;</mo>
        <mrow>
          <mi>m</mi>
          <mo>=</mo>
          <mn>0</mn>
        </mrow>
        <mrow>
          <mi>M</mi>
          <mo>-</mo>
          <mn>1</mn>
        </mrow>
      </munderover>
      <mo>&#x2062;</mo>
      <mrow>
        <mrow>
          <mi>PitchScore</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>m</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>&#xb7;</mo>
        <mrow>
          <mi>NoteLength</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>m</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</claim-text>
<claim-text>calculate the SOB (Score of Beat) as follows:</claim-text>
<claim-text>set the time error of beat start as TDS, and the SOBS (Score of BeatStart):
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>SOBS=<i>As+</i>100&#xb7;(1&#x2212;<i>TDS/Ls</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
<claim-text>where, TDS=beat start on lag time (Note On Lag)+beat start on lead time (Note On Lead); as and Ls are preset empirical values; set time error of beat end as TDE, and the score of beat end (SOBE) shall be:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>SOBE=<i>Ae+</i>100&#xb7;(1&#x2212;<i>TDE/Le</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
<claim-text>where, TDE=beat end on off-lag time (Note Off Lag)+beat end on lead time (Note Off Lead);</claim-text>
<claim-text>Ae and Le are preset empirical values, the score of beat (SOB) shall be:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>SOB=SOBS&#xb7;<i>R</i>+SOBE&#xb7;(1&#x2212;<i>R</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
<claim-text>where, R is a preset weighting parameter, and 0&#x3c;=R&#x3c;=1;</claim-text>
<claim-text>assume the voice amplitude and theme of melody amplitude list in n<sup>th </sup>time period are MicVol(n) and MelVol(n), n=0, 1, N&#x2212;1 respectively, of which N is the total time length of the melody, then average it according to each note length to get the average list of voice and music in m<sup>th </sup>note as AvgMelVol (m) and AvgMicVol (m) as follow:</claim-text>
<claim-text>
<maths id="MATH-US-00009" num="00009">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>Avg</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mrow>
      <mi>MelVol</mi>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mi>m</mi>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <msub>
        <mi>L</mi>
        <mi>m</mi>
      </msub>
    </mfrac>
    <mo>&#x2062;</mo>
    <mrow>
      <munderover>
        <mo>&#x2211;</mo>
        <mrow>
          <mi>n</mi>
          <mo>=</mo>
          <msub>
            <mi>n</mi>
            <mi>m</mi>
          </msub>
        </mrow>
        <mrow>
          <msub>
            <mi>n</mi>
            <mi>m</mi>
          </msub>
          <mo>+</mo>
          <msub>
            <mi>L</mi>
            <mi>m</mi>
          </msub>
          <mo>-</mo>
          <mn>1</mn>
        </mrow>
      </munderover>
      <mo>&#x2062;</mo>
      <mrow>
        <mi>MelVol</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mi>n</mi>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</claim-text>
<claim-text>
<maths id="MATH-US-00010" num="00010">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>Avg</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mrow>
      <mi>MicVol</mi>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mi>m</mi>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <msub>
        <mi>L</mi>
        <mi>m</mi>
      </msub>
    </mfrac>
    <mo>&#x2062;</mo>
    <mrow>
      <munderover>
        <mo>&#x2211;</mo>
        <mrow>
          <mi>n</mi>
          <mo>=</mo>
          <msub>
            <mi>n</mi>
            <mi>m</mi>
          </msub>
        </mrow>
        <mrow>
          <msub>
            <mi>n</mi>
            <mi>m</mi>
          </msub>
          <mo>+</mo>
          <msub>
            <mi>L</mi>
            <mi>m</mi>
          </msub>
          <mo>-</mo>
          <mn>1</mn>
        </mrow>
      </munderover>
      <mo>&#x2062;</mo>
      <mrow>
        <mi>MicVol</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mi>n</mi>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</claim-text>
<claim-text>where L<sub>m </sub>is note length of m<sup>th </sup>note, n<sub>m </sub>is the time period when m<sup>th </sup>note starts; the score of emotion (Score of Emotion) is calculated by AvgMelVol (n) and AvgMicVol (n), by firstly measuring the overall match degree between voice and music amplitude curves; SOET represents overall score of emotion change as follows:</claim-text>
<claim-text>
<maths id="MATH-US-00011" num="00011">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>S</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>O</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>E</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>T</mi>
  </mrow>
  <mo>=</mo>
  <mfrac>
    <mrow>
      <mrow>
        <mo>(</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>m</mi>
              <mo>=</mo>
              <mn>0</mn>
            </mrow>
            <mrow>
              <mi>M</mi>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <mrow>
              <mi>AvgMicVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mrow>
              <mi>AvgMelVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
      <mo>&#xd7;</mo>
      <mn>100</mn>
    </mrow>
    <msqrt>
      <mrow>
        <mrow>
          <mo>(</mo>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>m</mi>
                <mo>=</mo>
                <mn>0</mn>
              </mrow>
              <mrow>
                <mi>M</mi>
                <mo>-</mo>
                <mn>1</mn>
              </mrow>
            </munderover>
            <mo>&#x2062;</mo>
            <mrow>
              <msup>
                <mi>AvgMicVol</mi>
                <mn>2</mn>
              </msup>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mo>&#x2062;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>m</mi>
                <mo>=</mo>
                <mn>0</mn>
              </mrow>
              <mrow>
                <mi>M</mi>
                <mo>-</mo>
                <mn>1</mn>
              </mrow>
            </munderover>
            <mo>&#x2062;</mo>
            <mrow>
              <msup>
                <mi>AvgMelVol</mi>
                <mn>2</mn>
              </msup>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </msqrt>
  </mfrac>
</mrow>
</math>
</maths>
</claim-text>
<claim-text>where, M is the total number of notes, and</claim-text>
<claim-text>
<maths id="MATH-US-00012" num="00012">
<math overflow="scroll">
<mrow>
  <msup>
    <mrow>
      <mo>(</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>m</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow>
            <mi>M</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <mrow>
            <mi>AvgMicVol</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>m</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>&#x2062;</mo>
          <mrow>
            <mi>AvgMelVol</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>m</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
      <mo>)</mo>
    </mrow>
    <mn>2</mn>
  </msup>
  <mo>&#x3c;=</mo>
  <mrow>
    <mrow>
      <mo>(</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>m</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow>
            <mi>M</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <msup>
            <mi>AvgMicVol</mi>
            <mn>2</mn>
          </msup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>m</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
      <mo>)</mo>
    </mrow>
    <mo>&#xb7;</mo>
    <mrow>
      <mo>(</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>m</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow>
            <mi>M</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <msup>
            <mi>AvgMelVol</mi>
            <mn>2</mn>
          </msup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>m</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
      <mo>)</mo>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</claim-text>
<claim-text>so, SOET&#x3c;=100;</claim-text>
<claim-text>then, calculate SOES of each lyric; firstly, divide AvgMicVol(m) and AvgMelVol(m) to lyrics, and assume the start note of each lyric shall be S(j), j=0, 1, 2, . . . , L&#x2212;1, of which L is the total lyrics, and set S(L)=M, the score of emotions shall be:</claim-text>
<claim-text>
<maths id="MATH-US-00013" num="00013">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>S</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>O</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>E</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mrow>
      <mi>S</mi>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mi>j</mi>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mfrac>
    <mrow>
      <mrow>
        <mo>(</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>m</mi>
              <mo>=</mo>
              <mrow>
                <mi>S</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>j</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mrow>
              <mrow>
                <mi>S</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>j</mi>
                    <mo>+</mo>
                    <mn>1</mn>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <mrow>
              <mi>AvgMicVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mrow>
              <mi>AvgMelVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
      <mo>&#xd7;</mo>
      <mn>100</mn>
    </mrow>
    <msqrt>
      <mrow>
        <mrow>
          <mo>(</mo>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>m</mi>
                <mo>=</mo>
                <mrow>
                  <mi>S</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>j</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mrow>
                <mrow>
                  <mi>S</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>j</mi>
                      <mo>+</mo>
                      <mn>1</mn>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>-</mo>
                <mn>1</mn>
              </mrow>
            </munderover>
            <mo>&#x2062;</mo>
            <mrow>
              <msup>
                <mi>AvgMicVol</mi>
                <mn>2</mn>
              </msup>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mo>&#x2062;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>m</mi>
                <mo>=</mo>
                <mrow>
                  <mi>S</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>j</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mrow>
                <mrow>
                  <mi>S</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>j</mi>
                      <mo>+</mo>
                      <mn>1</mn>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>-</mo>
                <mn>1</mn>
              </mrow>
            </munderover>
            <mo>&#x2062;</mo>
            <mrow>
              <msup>
                <mi>AvgMelVol</mi>
                <mn>2</mn>
              </msup>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </msqrt>
  </mfrac>
</mrow>
</math>
</maths>
</claim-text>
<claim-text>set j=0, 1, 2, . . . , L&#x2212;1, and calculate the relative score of emotion changes for every lyric, which shall be volume variations of each lyric relative to overall volume transformation:</claim-text>
<claim-text>first, set:</claim-text>
<claim-text>
<maths id="MATH-US-00014" num="00014">
<math overflow="scroll">
  <mrow>
    <mrow>
      <msup>
        <mi>A</mi>
        <mi>&#x2032;</mi>
      </msup>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mi>j</mi>
        <mo>)</mo>
      </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
      <mrow>
        <mo>(</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>m</mi>
              <mo>=</mo>
              <mrow>
                <mi>S</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>j</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mrow>
              <mrow>
                <mi>S</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>j</mi>
                    <mo>+</mo>
                    <mn>1</mn>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <mrow>
              <mi>AvgMicVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <mrow>
              <mi>AvgMelVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
      <mrow>
        <mo>(</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>m</mi>
              <mo>=</mo>
              <mrow>
                <mi>S</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>j</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mrow>
              <mrow>
                <mi>S</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>j</mi>
                    <mo>+</mo>
                    <mn>1</mn>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <msup>
              <mi>AvgMicVol</mi>
              <mn>2</mn>
            </msup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>m</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mfrac>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00014-2" num="00014.2">
<math overflow="scroll">
  <mrow>
    <mi>A</mi>
    <mo>=</mo>
    <mfrac>
      <mrow>
        <mo>(</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>m</mi>
              <mo>=</mo>
              <mn>0</mn>
            </mrow>
            <mrow>
              <mi>M</mi>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <mrow>
              <mi>AvgMicVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <mrow>
              <mi>AvgMelVol</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>m</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
      <mrow>
        <mo>(</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>m</mi>
              <mo>=</mo>
              <mn>0</mn>
            </mrow>
            <mrow>
              <mi>N</mi>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <msup>
              <mi>AvgMicVol</mi>
              <mn>2</mn>
            </msup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>m</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mfrac>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00014-3" num="00014.3">
<math overflow="scroll">
  <mi>then</mi>
</math>
</maths>
<maths id="MATH-US-00014-4" num="00014.4">
<math overflow="scroll">
  <mrow>
    <mrow>
      <mi>SOEA</mi>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mi>j</mi>
        <mo>)</mo>
      </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mo>{</mo>
      <mrow>
        <mrow>
          <mrow>
            <mtable>
              <mtr>
                <mtd>
                  <mrow>
                    <mrow>
                      <mfrac>
                        <mrow>
                          <msup>
                            <mi>A</mi>
                            <mi>&#x2032;</mi>
                          </msup>
                          <mo>&#x2061;</mo>
                          <mrow>
                            <mo>(</mo>
                            <mi>j</mi>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                        <mi>A</mi>
                      </mfrac>
                      <mo>&#xb7;</mo>
                      <mn>100</mn>
                    </mrow>
                    <mo>,</mo>
                    <mrow>
                      <msup>
                        <mi>A</mi>
                        <mi>&#x2032;</mi>
                      </msup>
                      <mo>&#x3c;</mo>
                      <mi>A</mi>
                    </mrow>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mrow>
                    <mrow>
                      <mfrac>
                        <mi>A</mi>
                        <mrow>
                          <msup>
                            <mi>A</mi>
                            <mi>&#x2032;</mi>
                          </msup>
                          <mo>&#x2061;</mo>
                          <mrow>
                            <mo>(</mo>
                            <mi>j</mi>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                      </mfrac>
                      <mo>&#xb7;</mo>
                      <mn>100</mn>
                    </mrow>
                    <mo>,</mo>
                    <mrow>
                      <msup>
                        <mi>A</mi>
                        <mi>&#x2032;</mi>
                      </msup>
                      <mo>&#x2265;</mo>
                      <mi>A</mi>
                    </mrow>
                  </mrow>
                </mtd>
              </mtr>
            </mtable>
            <mo>&#x2062;</mo>
            <mi>j</mi>
          </mrow>
          <mo>=</mo>
          <mn>0</mn>
        </mrow>
        <mo>,</mo>
        <mn>1</mn>
        <mo>,</mo>
        <mn>2</mn>
        <mo>,</mo>
        <mi>&#x2026;</mi>
        <mo>&#x2062;</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>,</mo>
        <mrow>
          <mi>L</mi>
          <mo>-</mo>
          <mn>1</mn>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
</claim-text>
<claim-text>calculated from the above, the average score of emotion shall be weighted average of overall emotion transformation score, emotion transformation score and relative emotion transformation score of each lyric:</claim-text>
<claim-text>
<maths id="MATH-US-00015" num="00015">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>S</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>O</mi>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mi>E</mi>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mrow>
        <mi>&#x3b1;</mi>
        <mo>&#xb7;</mo>
        <mi>S</mi>
      </mrow>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mi>O</mi>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mi>E</mi>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mi>T</mi>
    </mrow>
    <mo>+</mo>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <mi>L</mi>
      </mfrac>
      <mo>&#x2062;</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>j</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow>
            <mi>L</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mrow>
              <mrow>
                <mi>&#x3b2;</mi>
                <mo>&#xb7;</mo>
                <mi>S</mi>
              </mrow>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>O</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>E</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mrow>
                <mi>S</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>j</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mo>+</mo>
            <mrow>
              <mrow>
                <mi>&#x3b3;</mi>
                <mo>&#xb7;</mo>
                <mi>S</mi>
              </mrow>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>O</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>E</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mrow>
                <mi>A</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>j</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</claim-text>
<claim-text>where, &#x3b1;, &#x3b2; and &#x3b3; are weighting coefficients, and &#x3b1;+&#x3b2;+&#x3b3;=1;</claim-text>
<claim-text>the AES (Average Evaluated Score) could be obtained from the above-mentioned SOP, SOB and SOE as follow:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>AES=<i>p</i>&#xb7;SOP+<i>q</i>&#xb7;SOB+<i>r</i>&#xb7;SOE<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
<claim-text>where, p, q and r are weighting coefficients, and p+q+r=1.</claim-text>
</claim>
</claims>
</us-patent-grant>
