<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626471-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626471</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12843973</doc-number>
<date>20100727</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>598</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20130101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>P</subclass>
<main-group>15</main-group>
<subgroup>18</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>702141</main-classification>
<further-classification>702104</further-classification>
<further-classification>702154</further-classification>
<further-classification> 73  137</further-classification>
<further-classification> 73  138</further-classification>
<further-classification> 73488</further-classification>
<further-classification> 7351401</further-classification>
<further-classification>340480</further-classification>
<further-classification>3405453</further-classification>
<further-classification>340552</further-classification>
</classification-national>
<invention-title id="d2e53">Method and system for testing and calibrating an accelerometer of an electronic device</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5203199</doc-number>
<kind>A</kind>
<name>Henderson et al.</name>
<date>19930400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 738653</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5895858</doc-number>
<kind>A</kind>
<name>Malone et al.</name>
<date>19990400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6257265</doc-number>
<kind>B1</kind>
<name>Brunner et al.</name>
<date>20010700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>137  1</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6674358</doc-number>
<kind>B1</kind>
<name>Tinsley et al.</name>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7117112</doc-number>
<kind>B2</kind>
<name>Mok</name>
<date>20061000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7165003</doc-number>
<kind>B2</kind>
<name>Mok</name>
<date>20070100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>7350394</doc-number>
<kind>B1</kind>
<name>Flynn</name>
<date>20080400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>7467536</doc-number>
<kind>B2</kind>
<name>Finley et al.</name>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2004/0007064</doc-number>
<kind>A1</kind>
<name>Sakaguchi</name>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 73488</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2005/0251294</doc-number>
<kind>A1</kind>
<name>Cerwin</name>
<date>20051100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>700279</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2006/0161377</doc-number>
<kind>A1</kind>
<name>Rakkola et al.</name>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>702141</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2006/0272413</doc-number>
<kind>A1</kind>
<name>Vaganov et al.</name>
<date>20061200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 7351401</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2007/0150221</doc-number>
<kind>A1</kind>
<name>Babala et al.</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2007/0277586</doc-number>
<kind>A1</kind>
<name>Kamiya</name>
<date>20071200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2008/0132334</doc-number>
<kind>A1</kind>
<name>Nonaka et al.</name>
<date>20080600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>463 37</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>2009/0281756</doc-number>
<kind>A1</kind>
<name>Weed et al.</name>
<date>20091100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>702104</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>GB</country>
<doc-number>968 640</doc-number>
<kind>A</kind>
<date>19640900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>JP</country>
<doc-number>09251031</doc-number>
<kind>A</kind>
<date>19970900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00019">
<othercit>NASA, NASA Langley's Multi-Axis Accelerometer Calibration System, http://technologygateway.nasa.gov/docs/TOA<sub>&#x2014;</sub>LARC37<sub>&#x2014;</sub>MultiAxisAccelerometer<sub>&#x2014;</sub>03web.pdf, 2008.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00020">
<othercit>Extended European Search Report&#x2014;EP Application No. 10171353.5; Jun. 9, 2011.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00021">
<othercit>Office Action; Canadian Patent Application No. 2,711,406; Nov. 29, 2012.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>14</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>702104</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>702141</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>702151</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification> 73  137</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification> 73  138</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification> 73488</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification> 7351401</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>340480</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3405453</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>340552</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>4</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61229870</doc-number>
<date>20090730</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110029275</doc-number>
<kind>A1</kind>
<date>20110203</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Kennedy</last-name>
<first-name>Marc Adam</first-name>
<address>
<city>Kitchener</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Ivannikov</last-name>
<first-name>Arkady</first-name>
<address>
<city>Mississauga</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Papo</last-name>
<first-name>Aleksandar</first-name>
<address>
<city>Waterloo</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Kennedy</last-name>
<first-name>Marc Adam</first-name>
<address>
<city>Kitchener</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Ivannikov</last-name>
<first-name>Arkady</first-name>
<address>
<city>Mississauga</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Papo</last-name>
<first-name>Aleksandar</first-name>
<address>
<city>Waterloo</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Ridout &#x26; Maybee LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Blackberry Limited</orgname>
<role>03</role>
<address>
<city>Waterloo</city>
<country>CA</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Taningco</last-name>
<first-name>Alexander H</first-name>
<department>2857</department>
</primary-examiner>
<assistant-examiner>
<last-name>Lee</last-name>
<first-name>Paul D</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method and system for testing and calibrating an accelerometer of an electronic device are provided. In accordance with one embodiment, there is a method of testing and calibrating an accelerometer of an electronic device, comprising: detecting the electronic device within a nest of a test fixture; calculating an offset value for each sensing axis of the accelerometer in response to detecting the electronic device within the nest; and storing the offset values in a memory of the electronic device.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="131.32mm" wi="141.31mm" file="US08626471-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="259.50mm" wi="204.39mm" orientation="landscape" file="US08626471-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="205.06mm" wi="152.48mm" file="US08626471-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="167.22mm" wi="180.09mm" file="US08626471-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="236.47mm" wi="187.79mm" file="US08626471-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">RELATED APPLICATION DATA</heading>
<p id="p-0002" num="0001">The present application claims priority to, and the benefit of, provisional U.S. patent application Ser. No. 61/229,870, filed Jul. 30, 2009, which is incorporated herein by reference in its entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">TECHNICAL FIELD</heading>
<p id="p-0003" num="0002">The present disclosure relates generally to accelerometers, and in particular to a method and system for testing and calibrating an accelerometer of an electronic device.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">Accelerometers, such as Micro-Electro-Mechanical Systems (MEMS) accelerometers, are sometimes incorporated into portable electronic devices for determining the spatial orientation of the device or other uses. The manufacturing process for making accelerometers may result in misalignment of its sensing axes. In addition, the process of assembling an accelerometer into an electronic device often results in the accelerometer being misaligned (e.g., rotated and/or tilted) relative to a target orientation on the circuit board of the host device. Thus, built-in accelerometers may suffer from non-zero pitch and roll effects. Moreover, MEMS accelerometers are subject to a wide array of factors which create random offset errors. For example, heat, axial stress, and the adhesive underfill applied to fix the accelerometer to the circuit board of the portable electronic device may create errors in the differential capacitance measurement of the MEMS sensing part(s).</p>
<p id="p-0005" num="0004">The improper alignment of a built-in accelerometer and errors in the differential capacitance measurement cause measurement errors in the accelerometer readings. Accordingly, built-in accelerometers typically require testing and calibrating to measure and correct measurement errors such as bias error. Calibration improves user interaction with the portable electronic devices by providing more accurate and repeatable accelerometer output to the operating system and applications of the portable electronic device using the accelerometer. However, the testing and calibrating of built-in accelerometers adds to the cost and time required to produce the host portable electronic devices. Accordingly, there exists a need for methods and systems for efficient testing and calibrating of built-in accelerometers.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram illustrating a portable electronic device suitable for carrying out example embodiments of the present disclosure;</p>
<p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. 2</figref> is a front view of the portable electronic device of <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 3</figref> is a bottom view of the portable electronic device of <figref idref="DRAWINGS">FIG. 2</figref>;</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 4</figref> is a perspective view of a test fixture for testing and calibrating a built-in accelerometer of the portable electronic device of <figref idref="DRAWINGS">FIG. 1</figref> in accordance with one embodiment of the present disclosure;</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart illustrating an example process for testing and calibrating a built-in accelerometer of the portable electronic device of <figref idref="DRAWINGS">FIG. 1</figref> in accordance with one embodiment of the present disclosure; and</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 6</figref> is a flowchart illustrating an example testing and calibrating subroutine for a built-in accelerometer of the portable electronic device of <figref idref="DRAWINGS">FIG. 1</figref> in accordance with one embodiment of the present disclosure.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<p id="p-0012" num="0011">Like reference numerals are used in the drawings to denote like elements and features.</p>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF EXAMPLE EMBODIMENTS</heading>
<p id="p-0013" num="0012">Conventional methods and systems for testing and calibrating built-in accelerometers require a physical connection between a device under test (DUT) and an external test system for communications between the DUT and external test system. The requirement of physical connection between the DUT and the external test system is not conducive to high-volume manufacturing of electronic devices due to the additional step required to establish this connection and the additional alignment consideration imposed by the physical connection to the external test system. For some applications, each of the sensing axes of the accelerometer must be accurate to less than 1 degree. The physical connection between the DUT and the external test system makes such tolerances more difficult to achieve due to the additional alignment constraints. Moreover, conventional testing and calibrating typically requires orienting the DUT in a series of predefined orientations with respect to the force of gravity. However, it is difficult to repeatedly orient the DUT in the predefined orientations using conventional testing systems and methods. Accordingly, there remains a need for improved methods and systems for testing and calibrating built-in accelerometers.</p>
<p id="p-0014" num="0013">The present disclosure provides a method and system for testing and calibrating an accelerometer of an electronic device. The system includes a custom test fixture for the DUT and testing and calibration software loaded on the DUT which does not require a physical connection between the DUT and an external test system.</p>
<p id="p-0015" num="0014">The teachings of the present disclosure relate generally to handheld and other portable electronic devices including but not limited to pagers, cellular phones, Global Positioning System (GPS) navigation devices and other satellite navigation devices, inertial navigation system (INS), smartphones, wireless organizers, personal digital assistants (PDA) with and without wireless communication capabilities, electronic gaming devices, digital photograph albums, digital picture frames, digital cameras, digital music players such as MP3 players, and digital video recorders such as camcorders. These examples are intended to be non-limiting.</p>
<p id="p-0016" num="0015">In accordance with one embodiment of the present disclosure, there is provided a method of testing and calibrating an accelerometer of an electronic device, comprising: levelling a test fixture; placing the electronic device in a nest of the test fixture; detecting the electronic device within the nest; calculating an offset value for each sensing axis of the accelerometer in response to detecting the electronic device within the nest; and storing the offset values in a memory of the electronic device.</p>
<p id="p-0017" num="0016">In accordance with another embodiment of the present disclosure, there is provided a test system for an electronic device having an accelerometer with three mutually orthogonal sensing axes, the test system comprising: a test fixture having a nest defining a cavity for receiving an electronic device, wherein the nest is configured so that, when the test fixture is substantially horizontal, a two-dimensional sensing plane defined by two of the sensing axes of the accelerometer is substantially horizontal and the third sensing axis is perpendicular to the two-dimensional sensing plane and substantially parallel to the force of gravity.</p>
<p id="p-0018" num="0017">In some embodiments, the test system further comprises: a controller; an inclinometer connected to the controller; wherein the controller is configured to determine a levelness of the test fixture using the inclinometer.</p>
<p id="p-0019" num="0018">In some embodiments, the test system further comprises: an optical switch connected to the controller for detecting when the electronic device is received within the nest of the test fixture, the optical switch informing the controller when the electronic device is received within the nest of the test fixture, wherein the controller is configured to automatically determine the levelness of the test fixture using the inclinometer when informed by the optical switch that the electronic device is received within the nest of the test fixture.</p>
<p id="p-0020" num="0019">In some embodiments, the test system further comprises a magnetic sensor and the test fixture further comprises an electromagnet configured to generate an electromagnetic field detectable by a magnetic sensor of the electronic device when received within the nest; wherein the controller is configured to activate the electromagnet when informed by the optical switch that the electronic device is received within the nest of the test fixture; wherein the electronic device, in a testing and calibrating mode, is configured to automatically calculate an offset value for each sensing axis of the accelerometer in response to the magnetic sensor of the electronic device detecting the electromagnetic field and store the offset values in a memory of the electronic device. In some embodiments, the optical switch comprises a light source and a sensor located opposite the light source for receiving light emitted from the light source, wherein the light source and sensor are located within the nest such that, when the electronic device is received within the nest, the light emitted by the light source is interrupted and does not reach the sensor.</p>
<p id="p-0021" num="0020">In some embodiments, the test system further comprises a display connected to the controller, wherein the controller is configured to cause the determined levelness of the test fixture to be displayed on the display.</p>
<p id="p-0022" num="0021">In some embodiments, the test system further comprises a magnetic sensor and the test fixture further comprises an electromagnet configured to generate an electromagnetic field detectable by a magnetic sensor of the electronic device when received within the nest.</p>
<p id="p-0023" num="0022">In some embodiments, the electronic device, in a testing and calibrating mode, is configured to automatically calculate an offset value for each sensing axis of the accelerometer in response to the magnetic sensor of the electronic device detecting the electromagnetic field and store the offset values in a memory of the electronic device.</p>
<p id="p-0024" num="0023">In some embodiments, the electronic device, in the testing and calibrating mode, is configured to: measure acceleration using each sensing axis of the accelerometer for a predetermined duration; determine an average value of the acceleration measurements for each sensing axis of the accelerometer; and store the average value of the acceleration measurements for each sensing axis of the accelerometer as respective offset values in the memory of the electronic device.</p>
<p id="p-0025" num="0024">In some embodiments, the electronic device, in a measuring mode, is configured for measuring acceleration using each sensing axis of the accelerometer, and adjusting the measured acceleration for each sensing axis of the accelerometer in accordance with the offset values stored in the memory.</p>
<p id="p-0026" num="0025">In some embodiments, the electronic device, in a measuring mode, is configured for adjusting the measured acceleration by adding the respective offset values to the measured acceleration for each sensing axis of the accelerometer.</p>
<p id="p-0027" num="0026">In some embodiments, the test system further comprises a plurality of levelling legs for levelling the test fixture.</p>
<p id="p-0028" num="0027">In accordance with a further embodiment of the present disclosure, there is provided an electronic device, comprising: a controller; an accelerometer with three mutually orthogonal sensing axes connected to the controller; a magnetic sensor connected to the controller; a memory connected to the controller; wherein the controller, in a testing and calibrating mode, is configured to automatically calculate an offset value for each sensing axis of the accelerometer in response to the magnetic sensor detecting an electromagnetic field of a predetermined strength and store the offset values in the memory.</p>
<p id="p-0029" num="0028">In accordance with yet a further embodiment of the present disclosure, there is provided a computer program product comprising a machine-readable medium having stored thereon machine-executable program instructions for implementing a method on an electronic device which controls its operation, the machine-executable program instructions comprising instructions for performing the method(s) set forth herein.</p>
<p id="p-0030" num="0029">Reference is first made to <figref idref="DRAWINGS">FIG. 1</figref> which illustrates a handheld electronic device <b>101</b> in which example embodiments described in the present disclosure can be applied. The handheld electronic device <b>101</b> of <figref idref="DRAWINGS">FIG. 1</figref> is a mobile communication device providing two-way data and possibly also voice communication capabilities, and the capability to communicate with other computer systems, for example, via the Internet. However, in other embodiments the handheld electronic device <b>101</b> could be one of the other handheld or portable electronic devices mentioned above. Depending on the functionality provided by the handheld electronic device <b>101</b>, in various embodiments the device <b>101</b> may be a data communication device, a multiple-mode communication device configured for both data and voice communication, a smartphone, a mobile telephone or PDA enabled for wireless communication, or a computer system with a wireless modem.</p>
<p id="p-0031" num="0030">The handheld electronic device <b>101</b> includes a controller comprising at least one processor <b>140</b> such as a microprocessor which controls the overall operation of the handheld electronic device <b>101</b> and a wireless communication subsystem <b>111</b> which interacts with the processor <b>140</b> and exchanges radio frequency signals with the wireless network <b>103</b> to perform communication functions. The communication subsystem <b>111</b> includes a receiver <b>114</b>, a transmitter <b>116</b>, and associated components, such as one or more antenna elements <b>118</b> and <b>110</b>, local oscillators (LOs) <b>122</b>, and a processing module such as a digital signal processor (DSP) <b>114</b>. The antenna elements <b>118</b> and <b>110</b> may be embedded or internal to the handheld electronic device <b>101</b> and a single antenna may be shared by both receiver and transmitter, as is known in the art. As will be apparent to those skilled in the field of communication, the particular design of the wireless communication subsystem <b>111</b> depends on the wireless network in which the handheld electronic device <b>101</b> is intended to operate.</p>
<p id="p-0032" num="0031">The handheld electronic device <b>101</b> may communicate with any one of a plurality of fixed transceiver base stations (not shown) of the wireless network <b>103</b> within its geographic coverage area. The handheld electronic device <b>101</b> may send and receive communication signals over the wireless network <b>103</b> after a network registration or activation procedures have been completed. Signals received by the antenna <b>118</b> through the wireless network <b>103</b> are input to the receiver <b>114</b>, which may perform such common receiver functions as signal amplification, frequency down conversion, filtering, channel selection, etc., as well as analog-to-digital (A/D) conversion. A/D conversion of a received signal allows more complex communication functions such as demodulation and decoding to be performed in the DSP <b>124</b>. In a similar manner, signals to be transmitted are processed, including modulation and encoding, for example, by the DSP <b>124</b>. These DSP-processed signals are input to the transmitter <b>116</b> for digital-to-analog (D/A) conversion, frequency up conversion, filtering, amplification, and transmission to the wireless network <b>103</b> via the antenna <b>120</b>. The DSP <b>124</b> not only processes communication signals, but may also provide for receiver and transmitter control. For example, the gains applied to communication signals in the receiver <b>114</b> and the transmitter <b>116</b> may be adaptively controlled through automatic gain control algorithms implemented in the DSP <b>124</b>.</p>
<p id="p-0033" num="0032">The processor <b>140</b> also interacts with additional device subsystems including a display screen <b>104</b> (such as a liquid crystal display (LCD) screen) which could be a touchscreen display and input devices <b>106</b> such as control buttons or keys. The input devices <b>106</b> may also include a keyboard or keypad, navigational input device, or both. The navigational input device could be a clickable/depressible trackball or scrollwheel, or touchpad. These other input devices could be included in addition to, or instead of, a touchscreen display.</p>
<p id="p-0034" num="0033">The processor <b>140</b> interacts with additional device subsystems including flash memory <b>144</b>, random access memory (RAM) <b>146</b>, read only memory (ROM) <b>148</b>, auxiliary input/output (I/O) subsystems <b>150</b>, data port <b>152</b> such as serial data port, speaker <b>156</b>, microphone <b>158</b>, magnetic sensor <b>162</b> such as a hall effect sensor, accelerometer <b>164</b>, short-range communication subsystem <b>172</b>, and other device subsystems generally designated as <b>174</b>. Some of the subsystems shown in <figref idref="DRAWINGS">FIG. 1</figref> perform communication-related functions, whereas other subsystems may provide &#x201c;resident&#x201d; or on-device functions.</p>
<p id="p-0035" num="0034">In one example embodiment, the accelerometer <b>164</b> is a 3-axis digital accelerometer having three mutually orthogonal sensing axes. The accelerometer <b>164</b> comprises a sensing part (not shown) connected to a controller (not shown) via interrupt and serial interfaces. The controller of the accelerometer <b>164</b> is connected to the processor <b>140</b> of the handheld electronic device <b>101</b>. The sensing part is a MEMS sensing part in at least some embodiments. The output of the accelerometer <b>164</b> is typically measured or represented in terms of the gravitational acceleration constant at the Earth's surface, denoted g, which is approximately 9.81 m/s<sup>2 </sup>(32.2 ft/s<sup>2</sup>) as the standard average. In other embodiments, a different digital accelerometer type and/or configuration could be used, or a suitable analog accelerometer and control circuit could be used.</p>
<p id="p-0036" num="0035">The operation of the accelerometer <b>164</b> is controlled by software which may be stored in internal memory of the controller of the accelerometer <b>164</b>, or possibly in the memory of the handheld electronic device <b>101</b>. The operation of the accelerometer <b>164</b> is controlled using control signals sent by the controller to the sensing part via the serial interface. The controller may determine the orientation of the device <b>101</b> in accordance with the acceleration measurements, or raw acceleration data measured by the accelerometer <b>164</b> may be sent to the processor <b>140</b> of the device <b>101</b> via a serial interface. The processor <b>140</b> of the device <b>101</b> then determines the orientation of the device <b>101</b> in accordance with instructions of the operating system <b>123</b>, UI module <b>126</b> or other software module <b>121</b>.</p>
<p id="p-0037" num="0036">Referring now to <figref idref="DRAWINGS">FIGS. 2 and 3</figref>, the three sensing axes of the accelerometer <b>164</b> are denoted &#x201c;x&#x201d;, &#x201c;y&#x201d; and &#x201c;z&#x201d;. The x-axis and y-axis are aligned with a horizontal plane defined of the handheld electronic device <b>101</b> (the surface of the display <b>104</b> in the shown embodiment). Accordingly, the x and y sensing axes define an x-y plane of measurement for the accelerometer <b>164</b>. The z-axis is perpendicular to the x-y plane defined by the x and y-sensing axes of the accelerometer <b>164</b>. In the shown embodiment, the x-axis is aligned about an axis extending laterally along a midpoint of the device <b>101</b> between its top and bottom ends denoted by reference numerals <b>182</b> and <b>184</b> respectively. The y-axis is aligned about an axis extending longitudinally along a midpoint of the device <b>101</b> between the left and right sides denoted by reference numerals <b>186</b> and <b>188</b> respectively. The z-axis extends perpendicularly through the x-y plane defined by the x and y sensing axes at the intersection (origin) of these axes. It is contemplated that the &#x201c;x&#x201d;, &#x201c;y&#x201d; and &#x201c;z&#x201d; axes may be aligned with different features of the handheld electronic device <b>101</b> in other embodiments.</p>
<p id="p-0038" num="0037">When the handheld electronic device <b>101</b> is positioned horizontally and the accelerometer <b>164</b> is properly calibrated, the z-axis is aligned with the force of gravity denoted by reference numeral <b>181</b> in <figref idref="DRAWINGS">FIGS. 2 and 3</figref> and the z-axis should measure approximately 1 g. The x and y-axes are perpendicular to the force of gravity <b>181</b> and so should measure approximately 0 g in this same position. When the handheld electronic device <b>101</b> is moved away from the horizontal, the z-axis measurement moves downwards away from the 1 g level and the x and y-axes move upwards away from the 0 g level.</p>
<p id="p-0039" num="0038">The processor <b>140</b> operates under stored program control and executes software modules <b>121</b> stored in memory such as persistent memory, for example, in the flash memory <b>144</b>. As illustrated in <figref idref="DRAWINGS">FIG. 1</figref>, the software modules <b>121</b> comprise operating system software <b>123</b>, software applications <b>125</b> comprising a user interface (UI) module <b>126</b> and a test and calibration module <b>128</b>. The user interface module <b>126</b> renders and displays the GUI of the device <b>101</b> in accordance with instructions of the operating system <b>123</b> and applications <b>125</b> (as applicable).</p>
<p id="p-0040" num="0039">The modules <b>126</b>, <b>128</b> may, among other things, each be implemented through standalone software applications, or combined together in one or more of the operating system <b>123</b> or other software applications <b>125</b>. The functions performed by each of the above identified modules <b>126</b>, <b>128</b> may be realized as a plurality of independent elements, rather than a single integrated element, and any one or more of these elements may be implemented as parts of other software applications <b>125</b>.</p>
<p id="p-0041" num="0040">Those skilled in the art will appreciate that the software modules <b>121</b> or parts thereof may be temporarily loaded into volatile memory such as the RAM <b>146</b>. The RAM <b>146</b> is used for storing runtime data variables and other types of data or information, as will be apparent to those skilled in the art. Although specific functions are described for various types of memory, this is merely one example, and those skilled in the art will appreciate that a different assignment of functions to types of memory could also be used. The handheld electronic device <b>101</b> stores data <b>140</b> in an erasable persistent memory, which in one example embodiment is the flash memory <b>144</b>.</p>
<p id="p-0042" num="0041">The handheld electronic device <b>101</b> also includes a battery <b>138</b> as a power source, which is typically one or more rechargeable batteries that may be charged, for example, through charging circuitry coupled to a battery interface such as the serial data port <b>152</b>. The battery <b>138</b> provides electrical power to at least some of the electrical circuitry in the handheld electronic device <b>101</b>, and the battery interface <b>136</b> provides a mechanical and electrical connection for the battery <b>138</b>. The battery interface <b>136</b> is coupled to a regulator (not shown) which provides power V+ to the circuitry of the handheld electronic device <b>101</b>.</p>
<p id="p-0043" num="0042">The short-range communication subsystem <b>172</b> is an additional optional component which provides for communication between the handheld electronic device <b>101</b> and different systems or devices, which need not necessarily be similar devices. For example, the subsystem <b>172</b> may include an infrared device and associated circuits and components, or a wireless bus protocol compliant communication mechanism such as a Bluetooth&#xae; communication module to provide for communication with similarly-enabled systems and devices.</p>
<p id="p-0044" num="0043">A predetermined set of applications that control basic device operations, including data and possibly voice communication applications will normally be installed on the handheld electronic device <b>101</b> during or after manufacture. Additional applications and/or upgrades to the operating system <b>123</b> or software applications <b>125</b> may also be loaded onto the handheld electronic device <b>101</b> through the wireless network <b>103</b>, the auxiliary I/O subsystem <b>150</b>, the serial port <b>152</b>, the short-range communication subsystem <b>172</b>, or other suitable subsystem <b>174</b> other wireless communication interfaces. The downloaded programs or code modules may be permanently installed, for example, written into the program memory (i.e. the flash memory <b>144</b>), or written into and executed from the RAM <b>146</b> for execution by the processor <b>140</b> at runtime. Such flexibility in application installation increases the functionality of the handheld electronic device <b>101</b> and may provide enhanced on-device functions, communication-related functions, or both. For example, secure communication applications may enable electronic commerce functions and other such financial transactions to be performed using the handheld electronic device <b>101</b>.</p>
<p id="p-0045" num="0044">Referring now to <figref idref="DRAWINGS">FIG. 4</figref>, a test fixture <b>400</b> in accordance with one embodiment of the present disclosure will be described. The test fixture <b>400</b> includes a base plate <b>402</b>, a nest <b>404</b> attached to the base plate <b>402</b> for receiving a device under test (DUT) such as the handheld electronic device <b>101</b>, an electromagnet <b>406</b> and switch <b>407</b>, adjustable levelling legs <b>408</b>, a 2-axis inclinometer <b>414</b>, a round level (or bubble level) <b>416</b>, a display <b>418</b> such as an LCD display, and a controller <b>420</b> connected to the electromagnet <b>406</b>, switch <b>407</b>, inclinometer <b>414</b> and display <b>418</b>.</p>
<p id="p-0046" num="0045">The nest <b>404</b> is a custom-fit mold (or partial mold) defining a cavity having one or surfaces <b>405</b> which are shaped to facilitate a substantially seamless mate with a housing or case of the handheld electronic device <b>101</b>. The surfaces <b>405</b> are shaped to complimentarily match at least a portion of one or more surfaces on the housing of the handheld electronic device <b>101</b>. The nest <b>404</b> is configured so that, when the test fixture <b>400</b> is substantially horizontal (i.e., level with the ground), the x-y sensing plane defined by the x and y sensing axes of the accelerometer <b>164</b> are also substantially horizontal.</p>
<p id="p-0047" num="0046">The nest <b>404</b> is shaped to cradle each DUT of the same type in the same position when received within the cavity. It will be appreciated that DUTs having differently shaped housings require different nests custom-fit to the shape of the respective device housings. The nest <b>404</b> may be machined from a block of aluminum or other suitable material.</p>
<p id="p-0048" num="0047">The electromagnet <b>406</b> is controlled by the controller <b>420</b> which determines whether the base plate <b>402</b> of the test fixture <b>400</b> is level (and therefore whether the test fixture <b>400</b> is itself level). The controller <b>420</b> can be used to change the strength of the electromagnetic field generated by the electromagnet <b>406</b>. The electromagnet <b>406</b> is also connected to the switch <b>407</b> which can be used to activate and deactivate the electromagnet <b>406</b>. The switch <b>407</b> sends corresponding instructions to the controller <b>420</b> to activate and deactivate the electromagnet <b>406</b> in response to its activation.</p>
<p id="p-0049" num="0048">When activated, the electromagnet <b>406</b> generates an electromagnetic field of sufficient strength to be detected by the magnetic sensor <b>162</b> of the handheld electronic device <b>101</b>. Outside of the testing and calibrating environment, the magnetic sensor <b>162</b> may be used for detecting an appropriately positioned magnet located in a docking cradle or holster of the handheld electronic device <b>101</b>. Direction of docking or holstering of the handheld electronic device <b>101</b> may be used to trigger device events such as powering saving features. As noted above, the magnetic sensor <b>162</b> may be a hall effect sensor in some embodiments.</p>
<p id="p-0050" num="0049">The levelling legs <b>408</b> have feet <b>410</b> for resting upon a testing bench or other surface and threaded members which can be used to raise and lower the legs <b>408</b> to level the fixture <b>400</b> on the testing bench or other surface upon which it is located. In the shown embodiment, the adjustable levelling legs <b>408</b> are located in each of the corners of the test fixture <b>400</b>. In other embodiments, levelling means other than levelling legs <b>408</b> could be used.</p>
<p id="p-0051" num="0050">Referring now to <figref idref="DRAWINGS">FIG. 5</figref>, an example process <b>500</b> for testing and calibrating a built-in accelerometer <b>164</b> of a DUT such as the handheld electronic device <b>101</b> in accordance with one embodiment of the present disclosure will be described.</p>
<p id="p-0052" num="0051">In the first step <b>502</b>, the test fixture <b>400</b> is located on a test bench or other working surface and measurements are taken with the 2-axis inclinometer <b>414</b> to determine whether the test fixture <b>400</b> is level within specified limits (or tolerances). It will be appreciated that when the test fixture <b>400</b> is level, the handheld electronic device <b>101</b> is aligned with the force of gravity <b>181</b> (see <figref idref="DRAWINGS">FIGS. 2 and 3</figref>). If the test fixture <b>400</b> is level within the specified limits, processing proceeds to step <b>507</b>. If the test fixture <b>400</b> is not level within the specified limits, processing proceeds to step <b>504</b>.</p>
<p id="p-0053" num="0052">The 2-axis inclinometer <b>414</b> measures the tilt angles of the test fixture <b>400</b> and sends the measured tilt angles (for example, in terms of x and y-coordinates) to the controller <b>420</b>. The controller <b>420</b> displays the measured tilt angles on the display <b>418</b> (for example, in terms of +/&#x2212;x and +/&#x2212;y) and compares the measured tilt angles to pre-programmed limits. The round level <b>416</b> provides a visual indication to the operator of the direction(s) in which the test fixture <b>400</b> is not level. This visual indication supplements the tilt angles measured by the inclinometer <b>414</b> and displayed on the display <b>418</b>. This provides a more intuitive reference for the operator during the levelling process. In other embodiments, the level <b>416</b> could be omitted.</p>
<p id="p-0054" num="0053">The controller <b>420</b> determines the levelness of the base plate <b>402</b> and test fixture <b>400</b> via the measured tilt angles and communicates the status of the levelness of the test fixture <b>400</b> to the operator via the display <b>418</b>. The status of the levelness could be communicated in any suitable way including displaying an appropriate text message on the display <b>418</b>, or changing a colour and/or graphics displayed on the display <b>418</b>. In one example embodiment, the background colour of the display <b>418</b> turns red when the test fixture <b>400</b> is not level and turns green when the test fixture <b>400</b> is level. The measured tilt angles may also be displayed to the operator via the display <b>418</b> (e.g., LCD display) at this time.</p>
<p id="p-0055" num="0054">In some embodiments, the test fixture <b>400</b> may also include an optical switch (not shown) connected to the controller <b>420</b> which detects when the handheld electronic device <b>101</b> is received within the nest <b>404</b> of the test fixture <b>400</b>. As will be known to persons skilled in the art, the optical switch includes a light source such as a laser, and a sensor located opposite the light source which receives light emitted from it. The sensor and light source are located within the nest <b>404</b> such that, when the handheld electronic device <b>101</b> is properly received within the nest <b>404</b>, the light emitted by the light source is interrupted and does not reach the sensor. The interruption in light emitted by the light source is detected by the sensor. The sensor then informs the controller <b>420</b> that the handheld electronic device <b>101</b> is received within the nest <b>404</b> of the test fixture <b>400</b>. The detection of an interruption in light emitted by the light source may automatically trigger the controller <b>420</b> to test the levelness of the test fixture <b>400</b> in step <b>504</b>. An automated trigger for testing the levelness of the test fixture <b>400</b> reduces operator interaction with the handheld electronic device <b>101</b>, thereby reducing testing and calibrating time. The detection of an interruption in light emitted by the light source may also prevent the electromagnet <b>406</b> from being activated (manually or automatically) because the handheld electronic device <b>101</b> is not within the nest <b>404</b>. The detection of an interruption in light emitted may be used to perform one or both of the above-described functions, depending on the embodiment.</p>
<p id="p-0056" num="0055">In other embodiments, the levelness of the test fixture <b>400</b> could be determined manually by the operator rather than being performed automatically as described above.</p>
<p id="p-0057" num="0056">It will be appreciated that the test fixture <b>400</b> is levelled when it is first setup, and whenever the test fixture <b>400</b> is moved. After the test fixture <b>400</b> has been levelled, the testing of manufactured handheld electronic devices <b>101</b> in high volumes can commence.</p>
<p id="p-0058" num="0057">If the test fixture <b>400</b> is not level, the process <b>500</b> proceeds to step <b>506</b> where one or more levelling legs <b>408</b> are adjusted (raised or lowered) as required until the test fixture <b>400</b> is level within the specified limits. Typically the adjustment of the levelling legs <b>408</b> is done manually by the operator but could be automated in some embodiments. After the test fixture <b>400</b> is levelled, processing proceeds to step <b>507</b>.</p>
<p id="p-0059" num="0058">Next, in step <b>507</b> a handheld electronic device <b>101</b> is placed within the nest <b>404</b> of the test fixture <b>400</b>. It will be appreciated that the device <b>101</b> could be placed in nest <b>404</b> before the test fixture <b>400</b> is levelled. After the initial levelling, the test fixture <b>400</b> should not have to be levelled again unless it is moved.</p>
<p id="p-0060" num="0059">Next, in step <b>508</b> the electromagnet <b>406</b> is activated, thereby generating an electromagnetic field below the nest <b>404</b>. The electromagnet <b>406</b> is typically activated manually by the operator (for example, by depressing the switch <b>407</b>). However, in some embodiments the electromagnet <b>406</b> could be activated automatically by the controller <b>420</b> in response to it determining that the handheld electronic device <b>101</b> is received in the nest <b>404</b> (via the optical switch) and the test fixture <b>400</b> is level within the specified limits (via the inclinometer <b>414</b> and possibly the level <b>416</b>).</p>
<p id="p-0061" num="0060">Next, in step <b>510</b> the electromagnetic field generated by the electromagnet <b>406</b> is detected by the handheld electronic device <b>101</b> using the magnetic sensor <b>162</b>. The magnetic sensor <b>162</b> is configured to detect an electromagnetic field of a predetermined strength, or an electromagnetic field greater than or equal to a predetermined electromagnetic threshold depending on the embodiment. The strength of the electromagnetic field generated by the electromagnet <b>406</b> can be adjusted via the controller <b>420</b> based on the magnetic sensor <b>162</b> of the handheld electronic device <b>101</b>.</p>
<p id="p-0062" num="0061">Next, in step <b>512</b> detection of the electromagnetic field by the handheld electronic device <b>101</b> triggers a testing and calibrating subroutine for the accelerometer <b>164</b>. Advantageously, the activation of the electromagnet <b>406</b> and its subsequent detection provide a contactless trigger event for initiating the testing and calibrating subroutine. The contactless trigger event further reduces operator interaction with the handheld electronic device <b>101</b>, thereby reducing testing and calibrating time.</p>
<p id="p-0063" num="0062">Referring now to <figref idref="DRAWINGS">FIG. 6</figref>, an example testing and calibrating subroutine <b>600</b> for the accelerometer <b>164</b> in accordance with one embodiment of the present disclosure will be described. The testing and calibrating subroutine <b>600</b> is performed by the processor <b>140</b> of the handheld electronic device <b>101</b> under the instruction of the test and calibration module <b>128</b> stored on the device <b>101</b>. The test and calibration module <b>128</b> is configured to implement a test and calibration mode on the handheld electronic device <b>101</b>.</p>
<p id="p-0064" num="0063">In the first step <b>602</b>, raw acceleration data is measured by the accelerometer <b>164</b> using each of the three-axis sensing axes for a predetermined duration. An average of the measured acceleration data is then calculated based on the acceleration measurements taken over the predetermined duration. As mentioned above, when positioned horizontally within the test fixture <b>400</b>, the device <b>101</b> should measure the following when the accelerometer <b>164</b> is properly calibrated:</p>
<p id="p-0065" num="0064">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="offset" colwidth="14pt" align="left"/>
<colspec colname="1" colwidth="49pt" align="left"/>
<colspec colname="2" colwidth="77pt" align="left"/>
<colspec colname="3" colwidth="77pt" align="left"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="3" align="center" rowsep="1"/>
</row>
<row>
<entry/>
<entry/>
<entry>Measurement</entry>
<entry>Measurement</entry>
</row>
<row>
<entry/>
<entry>Sensing Axis</entry>
<entry>(mg, thousandths of g)</entry>
<entry>(Volts)</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="3" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>x-axis</entry>
<entry>0 mg</entry>
<entry>V<sub>dd</sub>/2</entry>
</row>
<row>
<entry/>
<entry>y-axis</entry>
<entry>0 mg</entry>
<entry>V<sub>dd</sub>/2</entry>
</row>
<row>
<entry/>
<entry>z-axis</entry>
<entry>1000 mg or &#x2212;1000 mg</entry>
<entry>V<sub>dd</sub>/2 + S * 1 g or</entry>
</row>
<row>
<entry/>
<entry/>
<entry>(depending on the</entry>
<entry>V<sub>dd</sub>/2 + S * &#x2212;1 g</entry>
</row>
<row>
<entry/>
<entry/>
<entry>orientation of the</entry>
<entry>(depending on the</entry>
</row>
<row>
<entry/>
<entry/>
<entry>accelerometer 164)</entry>
<entry>orientation of the</entry>
</row>
<row>
<entry/>
<entry/>
<entry/>
<entry>accelerometer 164)</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="3" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
<br/>
where V<sub>dd </sub>is the voltage supply to the accelerometer <b>164</b>, for example, from the device battery, and S is a scale factor (or sensitivity) of the accelerometer <b>164</b> measured in Volts/g.
</p>
<p id="p-0066" num="0065">With the sensing axis configuration described above and the device <b>101</b> positioned horizontally, the accelerometer <b>164</b> should output the ideal 0 g output voltage on the x-axis and y-axis, and the ideal+1 g output voltage on the z-axis when there is no bias error. However, the accelerometer <b>164</b> typically reads something different than the ideal output when the device <b>101</b> is perfectly horizontal. Bias error is the difference between the ideal x, y, z axis output, e.g. (0, 0, 1 g) or (0, 0, &#x2212;1 g) respectively, and the actual x, y, z axis output of the accelerometer <b>164</b>. Bias error may be the result of any number of factors including mechanical tolerances in the component parts (printed circuit board, screws, standoffs, solder pads, etc.) of the accelerometer <b>164</b> and/or its installation in the device <b>101</b>.</p>
<p id="p-0067" num="0066">To calibrate each sensing axis of the accelerometer <b>164</b>, in step <b>604</b> an offset is calculated in accordance with the following equations (1) to (3):
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Offset<sub>x</sub>=0 mg&#x2212;<i>A</i><sub>x</sub>&#x2003;&#x2003;(1)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Offset<sub>y</sub>=0 mg&#x2212;<i>A</i><sub>y</sub>&#x2003;&#x2003;(2)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Offset<sub>z</sub>=1000 mg&#x2212;<i>A</i><sub>z</sub>&#x2003;&#x2003;(3)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where Offset<sub>x</sub>, Offset<sub>y</sub>, and Offset<sub>z </sub>are the offsets for the x, y and z-axes respectively, and A<sub>x</sub>, A<sub>y </sub>and A<sub>z </sub>are the average acceleration measurements over the predetermined duration for the x, y and z-axes respectively.
</p>
<p id="p-0068" num="0067">Next, in step <b>606</b> the offset values for each sensing axis are stored in non-volatile memory (e.g. flash memory <b>244</b>) of the handheld electronic device <b>101</b>, or possibly an onboard memory of the accelerometer <b>164</b>. The handheld electronic device <b>101</b> then verifies that the offsets are stored for each of the three-axis sensing axes of the accelerometer <b>164</b>. The handheld electronic device <b>101</b> then measures raw acceleration data using the accelerometer <b>164</b> using each of the three-axis sensing axes and corrects the raw acceleration data with the stored offsets. The handheld electronic device <b>101</b> then verifies that the corrected outputs are within a predetermined limit (or tolerance) of the ideal outputs described above.</p>
<p id="p-0069" num="0068">Next, in step <b>608</b> an indication that the accelerometer <b>164</b> has been tested and calibrated is then stored in non-volatile memory of the handheld electronic device <b>101</b>. The indication could be a bit value recognized by other testing software for the device <b>101</b>, or any other suitable data representation. The indication may be used by other testing software to confirm that the accelerometer <b>164</b> has been tested and calibrated, for example, as part of a larger set of testing after the production of the device <b>101</b>. In other embodiments, the storing of an indication that the accelerometer <b>164</b> has been tested and calibrated could be omitted.</p>
<p id="p-0070" num="0069">Referring again to <figref idref="DRAWINGS">FIG. 5</figref>, in step <b>514</b> the handheld electronic device <b>101</b> that communicates the testing and calibration has been completed and was successful to the operator. In some embodiments, the handheld electronic device <b>101</b> changes the colour of the display screen <b>104</b> to green and/or displays a text message indicating that the testing and calibration is complete and was successful. The handheld electronic device <b>101</b> may then undergo further testing, or testing could be complete and the device <b>101</b> may be put into an operational mode which uses the accelerometer <b>164</b> for measuring.</p>
<p id="p-0071" num="0070">If there was an error during the testing and calibrating subroutine <b>600</b>, then a corresponding communication about the error is provided. In some embodiments, the handheld electronic device <b>101</b> changes the colour of the display screen <b>104</b> to red and/or displays a text message indicating that the testing and calibration was not successful. The testing and calibrating process <b>500</b> may then be repeated until the testing and calibration is completed and successful.</p>
<p id="p-0072" num="0071">When the handheld electronic device <b>101</b> is in an operational mode which uses the accelerometer <b>164</b> for measuring as opposed to the test and calibration mode, the offsets stored in memory are used to correct measurements taken by the accelerometer <b>164</b>. Typically, the correction is performed by the operating system <b>223</b> and the corrected acceleration value is passed to the UI module <b>226</b>, an active application <b>225</b> or other software module <b>221</b> for further processing. The corrected acceleration value can be used for any purpose including, but not limited to, determining the spatial orientation of the handheld electronic device <b>101</b>. The corrected acceleration values at least partial correct for bias errors, thereby improving the accuracy of acceleration measurements. Correction acceleration values for each sensing axis are calculated in accordance with the following equations (4) to (6):
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>X</i><sub>corrected</sub><i>=A</i><sub>x</sub>+Offset<sub>x</sub>&#x2003;&#x2003;(4)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Y</i><sub>corrected</sub><i>=A</i><sub>y</sub>+Offset<sub>y</sub>&#x2003;&#x2003;(5)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Z</i><sub>corrected</sub><i>=A</i><sub>z</sub>+Offset<sub>z</sub>&#x2003;&#x2003;(6)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where X<sub>corrected</sub>, Y<sub>corrected</sub>, and Z<sub>corrected </sub>are the correction acceleration measurement values for the x, y and z-axes respectively.
</p>
<p id="p-0073" num="0072">In accordance with some embodiments of the present disclosure, the testing and calibrating process <b>500</b> may be part of an interactive test stage of a method for testing portable electronic devices in a production line for the assembly of the devices. The method separates device tests into an interactive test stage in which mechanical/interactive tests are performed on interactive components of the devices, and a non-interactive test stage in which non-mechanical/interactive tests are performed on the devices. Interactive tests are tests which require physical actuation or mechanical dynamics to be performed on devices or device components (e.g., key presses, holstering of the DUT, etc.) to acquire a measurement or achieve a result. Non-interactive tests do not involve physical actuation or mechanical dynamics to be performed on devices or device components to acquire a measurement or achieve a result (e.g., checking the radio of the wireless communication subsystem <b>111</b>).</p>
<p id="p-0074" num="0073">While the present disclosure is primarily directed to a three-axis accelerometer built-in to a portable electronic device, it will be appreciated that accelerometers having one or two sensing axes could be tested and calibrated using the same or a similar test fixture and method. Similarly, a portable electronic device having multiple accelerometers could be tested and calibrated using a similar test fixture and method.</p>
<p id="p-0075" num="0074">The present disclosure may be embodied in other specific forms without departing from its spirit or essential characteristics. The described embodiments are to be considered in all respects as being only illustrative and not restrictive. The present disclosure intends to cover and embrace all suitable changes in technology. The scope of the present disclosure is, therefore, described by the appended claims rather than by the foregoing description. All changes that come within the meaning and range of equivalency of the claims are intended to be embraced within their scope.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method of testing and calibrating an accelerometer of an electronic device, comprising:
<claim-text>detecting when the electronic device is received within a nest of a test fixture, wherein the detecting comprises:
<claim-text>activating an electromagnet in the test fixture; and</claim-text>
<claim-text>detecting an electromagnetic field generated by the electromagnet using a magnetic sensor in the electronic device when the electronic device is received within the nest;</claim-text>
</claim-text>
<claim-text>calculating an offset value for each sensing axis of the accelerometer in response to detecting that the electronic device is received within the nest; and</claim-text>
<claim-text>storing the offset values in a memory of the electronic device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>levelling the test fixture, wherein levelling the fixture comprises measuring the levelness of the test fixture and adjusting the height of the test fixture until it is substantially level; and</claim-text>
<claim-text>placing the electronic device in a nest of the test fixture.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, further wherein the levelness of the test fixture is measured using an inclinometer.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein calculating and storing the offset value for each sensing axis comprises:
<claim-text>measuring acceleration using each sensing axis of the accelerometer for a predetermined duration;</claim-text>
<claim-text>determining an average value of the acceleration measurements for each sensing axis of the accelerometer; and</claim-text>
<claim-text>storing the average value of the acceleration measurements for each sensing axis of the accelerometer as respective offset values in the memory of the electronic device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the accelerometer has three mutually orthogonal sensing axes, and wherein the nest is configured so that, when the test fixture is substantially horizontal, a two-dimensional sensing plane defined by two of the sensing axes of the accelerometer is substantially horizontal and the third sensing axis is perpendicular to the two-dimensional sensing plane and substantially parallel to the force of gravity.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>measuring acceleration using each sensing axis of the accelerometer; and</claim-text>
<claim-text>adjusting the measured acceleration for each sensing axis of the accelerometer in accordance with the offset values stored in the memory.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the adjusting the measured acceleration comprises adding the respective offset values to the measured acceleration for each sensing axis of the accelerometer.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the detecting comprises:
<claim-text>activating a light source positioned in the nest of the test fixture;</claim-text>
<claim-text>detecting an interruption in the light emitted by the light source.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, further comprising activating the electromagnet in the test fixture in response to detecting the interruption in the light.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. An electronic device, comprising:
<claim-text>a controller;</claim-text>
<claim-text>an accelerometer with three mutually orthogonal sensing axes connected to the controller;</claim-text>
<claim-text>a magnetic sensor connected to the controller;</claim-text>
<claim-text>a memory connected to the controller;</claim-text>
<claim-text>wherein the controller, in a testing and calibrating mode, is configured to automatically calculate an offset value for each sensing axis of the accelerometer in response to the magnetic sensor detecting an electromagnetic field greater than or equal to a predetermined threshold and store the offset values in the memory, wherein the predetermined threshold corresponds to a strength of an electromagnetic field generated by an electromagnet in a test fixture when the device is received within a nest of the test fixture.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The electronic device of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the controller, in a measuring mode, is configured for measuring acceleration using each sensing axis of the accelerometer, and adjusting the measured acceleration for each sensing axis of the accelerometer in accordance with the offset values stored in the memory.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The electronic device of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the controller in the measuring mode is further configured to verify that the adjusted value is within a predetermined limit.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The electronic device of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein an operating system adjusts the measured acceleration and wherein the adjusted value is passed to a user interface module or an active application.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The electronic device of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the memory stores an indication indicating that the testing and calibration mode was completed. </claim-text>
</claim>
</claims>
</us-patent-grant>
