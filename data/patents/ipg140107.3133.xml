<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624193-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624193</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13666001</doc-number>
<date>20121101</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>T</subclass>
<main-group>1</main-group>
<subgroup>20</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>25036309</main-classification>
</classification-national>
<invention-title id="d2e43">Timing response improvement in light-sharing detectors</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6376841</doc-number>
<kind>B1</kind>
<name>Petrillo et al.</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>25036303</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6858847</doc-number>
<kind>B1</kind>
<name>Macciocchi</name>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2005/0109958</doc-number>
<kind>A1</kind>
<name>Vernon</name>
<date>20050500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>250526</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2006/0163486</doc-number>
<kind>A1</kind>
<name>Laurence et al.</name>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>25036304</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>WO</country>
<doc-number>WO 2008023451</doc-number>
<kind>A1</kind>
<date>20080200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</us-citation>
</us-references-cited>
<number-of-claims>7</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>25036309</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>10</number-of-figures>
</figures>
<us-related-documents>
<division>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>12558475</doc-number>
<date>20090911</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8330112</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13666001</doc-number>
</document-id>
</child-doc>
</relation>
</division>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61096018</doc-number>
<date>20080911</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130056639</doc-number>
<kind>A1</kind>
<date>20130307</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only" applicant-authority-category="assignee">
<addressbook>
<orgname>Siemens Medical Solutions USA, Inc.</orgname>
<address>
<city>Malvern</city>
<state>PA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Aykac</last-name>
<first-name>Mehmet</first-name>
<address>
<city>Knoxville</city>
<state>TN</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Loope</last-name>
<first-name>Michael</first-name>
<address>
<city>Louisville</city>
<state>TN</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Musrock</last-name>
<first-name>Mark</first-name>
<address>
<city>Oak Ridge</city>
<state>TN</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Kendall</last-name>
<first-name>Peter</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Siemens Medical Solutions USA, Inc.</orgname>
<role>02</role>
<address>
<city>Malvern</city>
<state>PA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Porta</last-name>
<first-name>David</first-name>
<department>2884</department>
</primary-examiner>
<assistant-examiner>
<last-name>Lee</last-name>
<first-name>Shun</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method for improving timing response in light-sharing scintillation detectors is disclosed. The method includes detecting an event, by a plurality of photo sensors, from a scintillation crystal. The method then includes sampling and digitizing the photo sensor outputs by an analog-to-digital converter. Then the method includes correcting associated timing data, by a processor, for each of the photo sensor outputs based on a lookup table. The method then includes selectively time shifting the photo sensor outputs based on the lookup table to generate corrected photo sensor outputs. The method then includes summing the corrected photo sensor outputs by the processor. The method then includes generating an event time, by the processor, for the detected event based on the sum of the corrected photo sensor outputs.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="121.50mm" wi="158.83mm" file="US08624193-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="240.45mm" wi="130.13mm" file="US08624193-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="242.49mm" wi="118.53mm" file="US08624193-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="236.39mm" wi="156.72mm" file="US08624193-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="140.29mm" wi="159.43mm" file="US08624193-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="132.16mm" wi="158.07mm" file="US08624193-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS REFERENCES TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application is a divisional application of U.S. patent application Ser. No. 12/558,475 filed on Sep. 11, 2009, the disclosure of which is incorporated by reference in its entirety</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">TECHNICAL FIELD</heading>
<p id="p-0003" num="0002">In general, the present disclosure relates to nuclear medical imaging. More particularly, the disclosure relates to Positron Emission Tomography (PET) imaging and improving timing of events detected by photomultiplier tubes.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">Nuclear medicine is a unique specialty wherein radiation emission is used to acquire images that show the function and physiology of organs, bones or tissues of the body. The technique of acquiring nuclear medicine images entails first introducing radiopharmaceuticals into the body&#x2014;either by injection or ingestion. These radiopharmaceuticals are attracted to specific organs, bones, or tissues of interest. Upon arriving at their specified area of interest, the radiopharmaceuticals produce gamma photon emissions, which emanate from the body and then are captured by a scintillation crystal. The interaction of the gamma photons with the scintillation crystal produces flashes of light, which are referred to as &#x201c;events.&#x201d; Events are detected by an array of photo detectors (such as photomultiplier tubes), and their spatial locations or positions are then calculated and stored. In this way, an image of the organ or tissue under study is created from detection of the distribution of the radioisotopes in the body.</p>
<p id="p-0005" num="0004">One particular nuclear medicine imaging technique is known as positron emission tomography, or PET. PET is used to produce images for diagnosing the biochemistry or physiology of a specific organ, tumor or other metabolically active site. The measurement of tissue concentration using a positron emitting radionuclide is based on coincidence detection of the two gamma photons arising from a positron annihilation. When a positron is annihilated by an electron, two 511 keV gamma photons are simultaneously produced and travel in approximately opposite directions. Gamma photons produced by an annihilation event can be detected by a pair of oppositely disposed radiation detectors capable of producing a signal in response to the interaction of the gamma photons with a scintillation crystal. Annihilation events are typically identified by a time coincidence between the detection of the two 511 keV gamma photons in the two oppositely disposed detectors; i.e., the gamma photon emissions are detected virtually simultaneously by each detector. When two oppositely disposed gamma photons each strike an oppositely disposed detector to produce a time coincidence event, they also identify a line-of-response (LOR) along which the annihilation event has occurred. An example of a PET method and apparatus is described in U.S. Pat. No. 6,858,847, assigned to Siemens Medical Solutions USA, Inc., which patent is incorporated herein by reference in its entirety.</p>
<p id="p-0006" num="0005">Timing information is one factor in the quality of coincidence imaging such as positron emission tomography (PET). Analog constant fraction discriminators (CFD) are used traditionally to determine timing pickoff for PET scanners. In order to achieve good image quality, time-of-flight PET requires 500 ps or less time resolution.</p>
<heading id="h-0004" level="1">SUMMARY</heading>
<p id="p-0007" num="0006">A technology to facilitate improved timing response in light-sharing scintillation detectors by time shifting data associated with photomultiplier tubes (or similar devices) are disclosed. Methods of the technology include detecting an event, by a plurality of photo sensors, from a scintillation crystal; sampling and digitizing the photo sensor outputs at a defined frequency; time shifting data associated with the detected event, by a processor, for each of the photo sensor outputs based on a lookup table to generate aligned photo sensor outputs; summing the aligned photo sensor outputs by the processor; and generating an event time, by the processor, for the detected event based on the sum of the aligned photo sensor outputs.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a top view of a Lutetium Oxyorthosilicate (LSO) scintillator crystal on four PMTs in accordance with an exemplary embodiment;</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 2</figref> illustrates a screenshot of on acquired position profile using four PMT signals in accordance with an exemplary embodiment;</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 3</figref> illustrates a screenshot of a graph of four PMT signals for one event in accordance with an exemplary embodiment;</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a top view of a LSO crystal array on four PMTs in accordance with an exemplary embodiment;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a screenshot of a graph of unmatched PMTs by transit time in accordance with an exemplary embodiment;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 6</figref> illustrates a screenshot of a graph of matches PMTs by using delay lines in accordance with an exemplary embodiment;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 7</figref> illustrates a spreadsheet with Crystal time resolution values for a 13&#xd7;13 LSO array for unmatched PMTs in accordance with an exemplary embodiment;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 8</figref> illustrates a spreadsheet with Crystal time resolution values for a 13&#xd7;13 LSO array for matched PMTs in accordance with an exemplary embodiment;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 9</figref> illustrates a flowchart for improving timing response in light-sharing scintillation detectors in accordance with an exemplary embodiment; and</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 10</figref> illustrates a flowchart for improving timing response in light-sharing scintillation detectors in accordance with another exemplary embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0018" num="0017">Reference will now be made in detail to embodiments of the technology. Each example is provided by way of explanation of the technology only, not as a limitation of the technology. It will be apparent to those skilled in the art that various modifications and variations can be made in the present technology without departing from the scope or spirit of the technology. For instance, features described as part of one embodiment can be used on another embodiment to yield a still further embodiment. Thus, it is intended that the present technology cover such modifications and variations that come within the scope of the technology. The functions described as performed at various components can be performed at other components, and the various components can be combined and/or separated. Other modifications also can be made. Thus, the following disclosure describes systems, computer readable media, devices, and methods for improving timing of events detected by photomultiplier tubes. Many other examples and other characteristics will become apparent from the following description.</p>
<p id="p-0019" num="0018">As described above, radiopharmaceuticals that are injected into or ingested by a patient produce gamma photon emissions that emanate from the patient's body and are then captured by one or more scintillation crystals. The interaction of the gamma photons with the scintillation crystals produces flashes of light, which are referred to as &#x201c;events.&#x201d; Events are detected by an array of photo detectors (such as photomultiplier tubes), and their spatial locations or positions are then calculated and stored. In this way, an image of the organ or tissue under study is created from detection of the distribution of the radioisotopes in the body.</p>
<p id="p-0020" num="0019">When a gamma interaction occurs within a scintillator crystal, a scintillation light, or event, is produced within that particular crystal. A plurality of photo sensors, such as photomultiplier tubes (PMTs), at each scintillator crystal detects these light events and generate signals that represent voltage over time. A detected event will cause each of the four PMTs to generate an output signal. The output signals of all four PMTs are summed. The summed signal of all four PMTs is analyzed, for example by a time to digital converter, such as a constant fraction discriminator (CFD), and an event time is generated for each event based on the sum of the individual phototdetector (PMT) signals by the time to digital converter. The time to digital converter can output the time of arrival in digital form for each received signal.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 1</figref> shows a Lutetium Oxyorthosilicate (LSO) scintillator crystal on four PMTs (an array of four PMTs). As the scintillation crystal captures gamma photon emissions, the crystal produces flashes of light that are referred to as events. The four PMT tubes will detect light events produced by the scintillator crystal.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 2</figref> is an illustration of on acquired position profile using four PMT signals. The four PMTs from <figref idref="DRAWINGS">FIG. 1</figref> can overlap the crystal of <figref idref="DRAWINGS">FIG. 2</figref>, and the four PMTs can capture the event <b>201</b> as shown. The time for the event <b>201</b> from <figref idref="DRAWINGS">FIG. 2</figref> to reach each one of the four PMTs as shown in <figref idref="DRAWINGS">FIG. 1</figref> will vary because the distance between the event and each PMT differs. As shown, the event is closest in distance to PMT-<b>1</b> <b>101</b> and therefore the event causes a change in voltage at PMT-<b>1</b> <b>101</b> the soonest in comparison with other PMTs. The event is next closest in distance to PMT-<b>0</b> <b>105</b> and the therefore causes a change in voltage at PMT-<b>0</b> next in time. The event is third closest in distance to PMT-<b>3</b> <b>103</b> and therefore causes a change in voltage at PMT-<b>3</b> <b>103</b> next in time. The PMT furthest from the event in distance is PMT-<b>2</b> <b>107</b> and therefore the event will cause a change in voltage at this PMT last in time, because the distance between the event and PMT-<b>2</b> is the greatest of all four PMTs.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 3</figref> is an illustration of a snapshot of four PMT signals for one event as described with reference to <figref idref="DRAWINGS">FIG. 2</figref>. As described above, since the crystal generating the event is closest to PMT-<b>1</b>, the signal amplitude is the largest (absolute value) for PMT <b>1</b> compared to the other three PMTs. In addition, the arrival time of the scintillation photons at PMT-<b>1</b> compared to other PMTs is 1.0-1.5 ns earlier, in this example.</p>
<p id="p-0024" num="0023">Because of the light sharing in the scintillator array, each photosensor receives a portion of the light from the event. This occurs because different absolute value voltage responses are generated by each PMT as shown in the plot of <figref idref="DRAWINGS">FIG. 3</figref>. The distance between each crystal in the scintillator array and each sensor in the sensor array varies, therefore the intensity and arrival times of the scintillation photons differ. Because of this difference there is a measurable time delay between the signals from each photo sensor as shown in the plot of <figref idref="DRAWINGS">FIG. 3</figref> as the signal corresponding to each PMT departing from substantially &#x201c;0&#x201d; at a different time.</p>
<p id="p-0025" num="0024">Degradation in the rise time of the total signal, e.g., prolongation over the rise time of any one signal, can occur if the signals from each sensor are not aligned, e.g., remain in their raw state. Because traditional analog constant fraction discriminators do not align the signals before they are summed (a processor can sum the signals from each of the PMTs in an array), there is room to improve the timing response of the overall signal by aligning individual PMT signals to achieve more precise rise time information relative to one another.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 4</figref> illustrates an LSO crystal array on four PMTs. PMT-<b>1</b> <b>401</b>, PMT-<b>0</b> <b>403</b>, PMT-<b>3</b> <b>405</b> and PMT-<b>2</b> <b>407</b> are shown. <figref idref="DRAWINGS">FIG. 5</figref> illustrates an example of unmatched PMTs by transit time, which is the time needed for an event from a scintillation crystal to reach a particular PMT. <figref idref="DRAWINGS">FIG. 6</figref> illustrates an example of aligned PMT responses by using delay lines. <figref idref="DRAWINGS">FIG. 7</figref> illustrates event timing values for a 13&#xd7;13 LSO array for unmatched PMTs. In <figref idref="DRAWINGS">FIG. 7</figref> the average value is 443 ps. This average value was measure against a reference PMT with plastic scintillators for an unaligned PMT set.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 8</figref> illustrates event timing values for a 13&#xd7;13 LSO array for aligned PMTs. In <figref idref="DRAWINGS">FIG. 8</figref>, the average value is 429 ps. This average value was measured against a reference PMT with plastic scintillators after the PMTs are matched by their transit time. A 15 ps improvement was measured when the same crystal arrangement and the same PMT tube set was used after delay lines were placed.</p>
<p id="p-0028" num="0027">It has been observed that when the photomultiplier tubes signals are aligned in terms of their timing response (e.g. transit time), then the overall timing data of events relative to each other improves as presented in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 9</figref> illustrates a flowchart for improving timing response in light-sharing scintillation detectors. The method includes detecting an event, <b>901</b>, by a plurality of photo sensors, from a scintillation crystal. The method then includes sampling and digitizing the photo sensor outputs at a defined frequency, <b>903</b>, by an analog-to-digital converter.</p>
<p id="p-0030" num="0029">Due to physical characteristics of scintillation photons, a sampling frequency of 200 MHz or higher is preferred. Also, higher frequencies of sampling and digitizing can improve overall timing precision due to Nyquist Theorem limitations.</p>
<p id="p-0031" num="0030">Then the method includes aligning the output signal of each PMT, <b>905</b>, by a processor, for each of the photo sensor outputs based on a lookup table. In one example, the lookup table can contain offset values for each PMT. For example, the PMT that generated the highest absolute value voltage based on the detected event can be designated as a reference PMT for the array by the processor. Then, the processor can access the lookup table and apply an offset value using a mathematical operation for each other PMTs in the array in relation to the reference PMT.</p>
<p id="p-0032" num="0031">The offset value can represent modeled transit times based on which PMT exhibits the strongest response. For example, if the upper left PMT is measured to capture 50% of the photon energy from the event, the upper right and lower left PMTs are each measured to capture 20% of the energy, and the lower right PMT is measured to capture 10% of the energy, then the lookup table can contain 0 ps offset for the upper left PMT, equal delay, e.g., 1 ps offset, for the upper right and lower left PMTs, and greater delay, e.g., 1.5 ps offset for the lower right PMT&#x2014;each offset based on the delta transit time modeled for that energy distribution among PMTs.</p>
<p id="p-0033" num="0032">The offset can be applied to each PMT output signal by time shifting each signal an amount corresponding to the offset provided in the table lookup. The offsetted signals can be summed; the summed aligned signals now having a steeper rise than summed unaligned signals. The summed aligned signal can now be timed by an appropriately indexed CFD.</p>
<p id="p-0034" num="0033">Additionally, the offset in the lookup table can be applied to a timing value associated with each PMT. The timing values of all PMTs in the array can be combined using a mathematical function to derive an overall timing value for the detected event.</p>
<p id="p-0035" num="0034">The method can include summing the corrected photo sensor outputs, <b>907</b>, by the processor. The method can include generating an event time <b>909</b>, by the processor, for the detected event based on the sum of the corrected photo sensor outputs. The processor can generate this time event by utilizing a time to digital converter and generating a timing value upon receiving the summed signal.</p>
<p id="p-0036" num="0035">In one example, all photo sensor outputs are sampled and digitized at high frequency (200 MHz or larger). Since digitized signals from each crystal will have different arrival times, the signals can be corrected based on a lookup table for each crystal within the array. For example, the processor can apply an offset for each PMT that is not closest in distance to the event. The offset of each PMT signal can be applied to the signal by time shifting. Then, in this example, the corrected signals are summed and a corrected event time is generated for each event based on the sum of the corrected photo detector signals. The processor can generate this corrected time event by utilizing a time to digital converter, such as a constant fraction discriminator, and generating a timing value upon receiving the summed signal.</p>
<p id="p-0037" num="0036">In another example, as shown in <figref idref="DRAWINGS">FIG. 10</figref>, event times can be generated individually <b>1003</b> for each sensor and weighting factors can be estimated <b>1005</b> for each photo sensor based on the amount of light collected by each individual sensor <b>1001</b>. Then, estimated weighting factors and individual event times for each sensor can be combined <b>1007</b> to generate a more accurate time mark per event <b>1009</b>. In one example, event times are generated for each sensor by a time to digital converter for each PMT. Then a processor can apply a weighting factor to each event time. The weighting factor function can include addition, subtraction, division, multiplication and other mathematical operations between the event time and offset for a given PMT. The adjusted event times for each PMT can then be combined by a mathematical operation, such as an average or mean, to obtain a final timing value for the detected event. Other functions can be utilized to apply a weighting factor to a given PMT event time. In one example, a higher weighted value is given to a PMT closest in distance to a detected event for timing computation purposes.</p>
<p id="p-0038" num="0037">An embodiment can include individual digital constant fraction discriminators (CFDs) for each crystal element or more appropriately time-sharing multiple crystals into a smaller set of digital CFDs. Therefore, a digital CFD implementation can generate more accurate timing information using the corrected digital signals.</p>
<p id="p-0039" num="0038">In some embodiments of the technology, each of the array photo sensor signals is sent to an individual analog CFD circuit and an event time and subsequent timestamp is measured for each individual photosensor. A correction value is applied based on the measured crystal location and a weighted combination of the individual photosensor timestamps inside a processing field programmable gate array (FPGA). A processor can apply this correction value by time shifting the output signal of each PMT and then summing the output signals.</p>
<p id="p-0040" num="0039">PET systems can take the form of hardware and software elements. In some embodiments, the technology is implemented in a PET system in software, which includes but is not limited to firmware, resident software, microcode, etc. Furthermore, the technology can take the form of a computer program product accessible from a computer-usable or computer-readable medium providing program code for use by or in connection with a computer or any instruction execution system. For the purposes of this description, a computer-usable or computer readable medium can be any apparatus that can contain, store, communicate, propagate, or transport the program for use by or in connection with the instruction execution system, apparatus, or device. The medium can be an electronic, magnetic, optical, electromagnetic, infrared, or semiconductor system (or apparatus or device) or a propagation medium (though propagation mediums in and of themselves as signal carriers are not included in the definition of physical computer-readable medium). Examples of a physical computer-readable medium include a semiconductor or solid state memory, magnetic tape, a removable computer diskette, a random access memory (RAM), a read-only memory (ROM), a rigid magnetic disk and an optical disk. Current examples of optical disks include compact disk-read only memory (CD-ROM), compact disk-read/write (CD-R/W) and DVD. Both processors and program code for implementing each as aspect of the technology can be centralized or distributed (or a combination thereof) as known to those skilled in the art.</p>
<p id="p-0041" num="0040">A PET data processing system suitable for storing program code and for executing program code will include at least one processor coupled directly or indirectly to memory elements (e.g., computer-readable media) through a system bus. The memory elements can include local memory employed during actual execution of the program code, bulk storage, and cache memories that provide temporary storage of at least some program code in order to reduce the number of times code must be retrieved from bulk storage during execution. Input/output or I/O devices (including but not limited to keyboards, displays, pointing devices, etc.) can be coupled to the system either directly or through intervening I/O controllers. Network adapters may also be coupled to the system to enable the data processing system to become coupled to other data processing systems or remote printers or storage devices through intervening private or public networks. Modems, cable modem and Ethernet cards are just a few of the currently available types of network adapters.</p>
<p id="p-0042" num="0041">Those of ordinary skill may vary the apparatus and methods for improving timing response in light-sharing scintillation detectors without varying from the scope of the invention as defined in the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An apparatus to improve timing response in light-sharing scintillation detectors comprising:
<claim-text>a plurality of photo sensors to detect events from a plurality of scintillation crystals;</claim-text>
<claim-text>an analog-to-digital converter to sample and digitize the photo sensor outputs; and</claim-text>
<claim-text>a processor configured to:
<claim-text>correct associated timing data for each of the photo sensor outputs based on a lookup table containing a plurality of offset values corresponding to the plurality of photo sensors, each of the plurality of offset values representing modeled transit times based on energy distribution among the plurality of photo sensors;</claim-text>
<claim-text>selectively time shift the photo sensor outputs based on the lookup table to generate corrected photo sensor outputs;</claim-text>
<claim-text>sum the corrected photo sensor outputs; and</claim-text>
<claim-text>generate event times for the detected events based on the sum of the corrected photo sensor outputs.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the sampling frequency is 200 Megahertz or higher.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each photo sensor output includes an individual digital constant fraction discriminator.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the photo sensors are photomultiplier tubes.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A computer program embodied as computer-executable instructions stored on a non-transitory computer-readable medium for improving timing response in light-sharing scintillation detectors, the program comprising instructions for:
<claim-text>detecting events, by a plurality of photo sensors, from a plurality of scintillation crystals;</claim-text>
<claim-text>sampling and digitizing the photo sensor outputs by an analog-to-digital converter;</claim-text>
<claim-text>correcting associated timing data, by a processor, for each of the photo sensor outputs based on a lookup table containing a plurality of offset values corresponding to the plurality of photo sensors, each of the plurality of offset values representing modeled transit times based on energy distribution among the plurality of photo sensors;</claim-text>
<claim-text>selectively time shifting the photo sensor outputs based on the lookup table to generate corrected photo sensor outputs;</claim-text>
<claim-text>summing the corrected photo sensor outputs by the processor; and</claim-text>
<claim-text>generating event times, by the processor, for the detected events based on the sum of the corrected photo sensor outputs.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The program of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the sampling frequency is 200 Megahertz or higher.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The program of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein each photo sensor output includes an individual digital constant fraction discriminator. </claim-text>
</claim>
</claims>
</us-patent-grant>
