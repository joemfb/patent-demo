<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626287-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626287</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13221617</doc-number>
<date>20110830</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>A</section>
<class>61</class>
<subclass>N</subclass>
<main-group>1</main-group>
<subgroup>39</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>607  7</main-classification>
</classification-national>
<invention-title id="d2e43">Short circuit fault-tolerance in an implantable medical device</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5344430</doc-number>
<kind>A</kind>
<name>Berg et al.</name>
<date>19940900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>607  8</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5873893</doc-number>
<kind>A</kind>
<name>Sullivan et al.</name>
<date>19990200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>607  5</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6493586</doc-number>
<kind>B1</kind>
<name>Stahmann et al.</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>607 27</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>7764998</doc-number>
<kind>B1</kind>
<name>Raddatz</name>
<date>20100700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>607  5</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2008/0300660</doc-number>
<kind>A1</kind>
<name>John</name>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2008/0306561</doc-number>
<kind>A1</kind>
<name>Sweeney</name>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2010/0228307</doc-number>
<kind>A1</kind>
<name>Kroll et al.</name>
<date>20100900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00008">
<othercit>Office Action from U.S. Appl. No. 13/221,558 dated Oct. 19, 2012 (6 pages).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00009">
<othercit>U.S. Appl. No. 13/221,558, by Scott A. Hareland, filed Aug. 30, 2011.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00010">
<othercit>Response from related U.S. Appl. No. 13/221,558, filed Jan. 22, 2013 (6 pages).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>14</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>607  7</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>607  8</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>607 27</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>607 28</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>607  5</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>21</number-of-drawing-sheets>
<number-of-figures>21</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130053911</doc-number>
<kind>A1</kind>
<date>20130228</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Hareland</last-name>
<first-name>Scott A.</first-name>
<address>
<city>Lino Lakes</city>
<state>MN</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Hareland</last-name>
<first-name>Scott A.</first-name>
<address>
<city>Lino Lakes</city>
<state>MN</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Soldner</last-name>
<first-name>Michael C.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Medtronic, Inc.</orgname>
<role>02</role>
<address>
<city>Minneapolis</city>
<state>MN</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Evanisko</last-name>
<first-name>George</first-name>
<department>3762</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A device includes an energy storage device, a plurality of electrodes, a memory, a switching circuit, and a processing module. The energy storage device stores electrical energy for delivery of defibrillation therapy to a heart. The memory stores N therapy configurations that define which of the plurality of electrodes are used to deliver defibrillation therapy and a waveform to be applied during delivery of defibrillation therapy. The switching circuit connects the plurality of electrodes to the energy storage device. The processing module controls the switching circuit to deliver defibrillation therapy according to a first therapy configuration of the N therapy configurations, detects a short circuit fault during delivery of the defibrillation therapy according to the first therapy configuration, and selects a second therapy configuration of the N therapy configurations based on when the short circuit fault was detected during delivery of the defibrillation therapy according to the first therapy configuration.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="224.11mm" wi="175.34mm" file="US08626287-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="246.13mm" wi="189.82mm" file="US08626287-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="233.26mm" wi="164.08mm" orientation="landscape" file="US08626287-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="246.13mm" wi="201.34mm" orientation="landscape" file="US08626287-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="246.46mm" wi="186.77mm" orientation="landscape" file="US08626287-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="205.23mm" wi="165.44mm" orientation="landscape" file="US08626287-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="254.00mm" wi="181.86mm" orientation="landscape" file="US08626287-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="256.96mm" wi="182.88mm" orientation="landscape" file="US08626287-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="238.25mm" wi="128.52mm" orientation="landscape" file="US08626287-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="259.00mm" wi="153.25mm" file="US08626287-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="255.35mm" wi="189.15mm" orientation="landscape" file="US08626287-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="253.41mm" wi="181.53mm" orientation="landscape" file="US08626287-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="255.69mm" wi="177.29mm" orientation="landscape" file="US08626287-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="250.44mm" wi="182.20mm" orientation="landscape" file="US08626287-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="252.73mm" wi="184.49mm" orientation="landscape" file="US08626287-20140107-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="252.73mm" wi="183.81mm" orientation="landscape" file="US08626287-20140107-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="254.68mm" wi="179.24mm" orientation="landscape" file="US08626287-20140107-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="242.82mm" wi="191.77mm" file="US08626287-20140107-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="239.18mm" wi="181.86mm" file="US08626287-20140107-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="246.80mm" wi="186.18mm" file="US08626287-20140107-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="211.84mm" wi="183.81mm" orientation="landscape" file="US08626287-20140107-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00021" num="00021">
<img id="EMI-D00021" he="219.12mm" wi="182.20mm" orientation="landscape" file="US08626287-20140107-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0002" num="0001">The disclosure relates to techniques for providing fault tolerance in an implantable medical device, and more particularly, to techniques for providing tolerance to short circuit faults in an implantable medical device.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">Implantable medical devices (IMDs), such as implantable cardioverter-defibrillators, may detect a cardiac arrhythmia and provide various electrical therapies in response to detection of the arrhythmia. Therapies provided by an IMD in response to a detected arrhythmia may include anti-tachycardia pacing (ATP) therapy, cardioversion therapy, and/or defibrillation therapy, depending on the type of arrhythmia detected.</p>
<p id="p-0004" num="0003">Some detected arrhythmias may be life-threatening. Ventricular tachycardia (VT) and ventricular fibrillation (VF) may be considered to be life-threatening arrhythmias. In examples where an IMD detects such a life-threatening arrhythmia, the IMD may provide a defibrillation shock to the patient's heart in order to correct the arrhythmia and return the patient's heart rhythm back to a normal rhythm.</p>
<p id="p-0005" num="0004">An IMD may include components that are dedicated to producing a defibrillation shock in response to detection of a life-threatening arrhythmia. For example, an IMD may include high-voltage capacitors for storing electrical charge for subsequent delivery during a defibrillation shock. Additionally, the IMD may include a delivery circuit that transfers the electrical charge from the high-voltage capacitors to the heart. During operation, an IMD may typically monitor a patient's heart rate, or other parameters (e.g., morphology, onset, etc.) in order to detect an arrhythmia. If the IMD detects a life-threatening arrhythmia, the IMD may charge the high-voltage capacitors and control the delivery circuit to transfer the energy from the high-voltage capacitors to the patient's heart using either a biphasic or a monophasic waveform. Delivery of the defibrillation shock may terminate the detected arrhythmia and return the heart to a normal rhythm.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0006" num="0005">An IMD according to the present disclosure (e.g., an implantable cardioverter-defibrillator) may detect cardiac arrhythmias and apply high-energy therapy (e.g., cardioversion and/or defibrillation) to the heart in order to correct the detected arrhythmia. The IMD may deliver high-energy therapy according to a therapy configuration that specifies an electrode vector to be used during delivery of the therapy and that specifies the type of waveform (e.g., biphasic/monophasic/multiphasic) to be used during deliver of the therapy. The IMD may include an energy storage device (e.g., high-voltage capacitors) that delivers the high-energy therapy through an electrical pathway to the patient's heart according to a specified therapy configuration. In some examples, the electrical pathway may include electrical switches, electrical interconnects, high-voltage leads, and electrodes.</p>
<p id="p-0007" num="0006">Typically, energy is delivered from the energy storage device to the heart. However, in some examples, the electrical pathway may include short circuit faults that redirect current (e.g., shunt current) away from the heart during delivery of high-energy therapy. Such faults may be referred to herein as &#x201c;short circuit faults.&#x201d; In general, short circuit faults may occur between any two electrical conductors that are typically insulated from one another during high-energy therapy, but, due to a short circuit fault, have become electrically coupled, e.g., via contact with one another. Short circuit faults may occur in or between various components of the electrical pathway of the IMD. In some examples, short circuit faults may occur between two conductors in a lead, or between an electrode and a conductor in a lead, or between two electrodes. In other examples, short circuit faults may include portions of the electrical interconnects in the electrical pathway not including the conductors in the leads or the electrodes. In still other examples, short circuit faults may occur in the switches used to deliver high-energy therapy.</p>
<p id="p-0008" num="0007">The IMD of the present disclosure may detect short circuit faults in the electrical pathway during delivery of the high-energy therapy according to a current therapy configuration. If the IMD detects a short circuit fault while delivering therapy according to a currently selected therapy configuration, the IMD may select a subsequent therapy configuration. The IMD may select the subsequent therapy configuration based on the electrode vector used while the fault was detected, the waveform used while the fault was detected, and based on when the fault occurred during the waveform (e.g., during a first or second phase of the biphasic waveform).</p>
<p id="p-0009" num="0008">The IMD may use the subsequent therapy configuration to treat subsequently detected arrhythmias. If any future short circuit faults are detected during delivery of high-energy therapy according to the subsequently selected therapy configuration, the IMD may select a newer therapy configuration. The IMD may select the newer therapy configuration in a similar manner described above, e.g., based on the electrode vector used while the fault was detected, based on the waveform used while the fault was detected, based on when the fault occurred during delivery, and in some examples, based on prior knowledge of other failed therapy attempts.</p>
<p id="p-0010" num="0009">The IMD of the present disclosure may continue to update therapy configurations in response to additional detections of short circuit faults during delivery of high-energy therapy. In this manner, the IMD of the present disclosure may step through a variety of different therapy configurations in order to bypass one or more detected short circuit faults. Stepping through a variety of different therapy configurations based on which therapy configurations include short circuit faults and based on when those short circuit faults occur may provide for robust delivery of high-energy therapy from the IMD in the event of a fault in the IMD that is presented as a short circuit that shunts current away from the heart.</p>
<p id="p-0011" num="0010">In one example according to the present disclosure, a medical device comprises an energy storage device, a plurality of electrodes, a memory, a switching circuit, and a processing module. The energy storage device is configured to store electrical energy for delivery of defibrillation therapy to a heart. The memory stores N therapy configurations, each of the N therapy configurations defining which of the plurality of electrodes are used to deliver defibrillation therapy and further defining a waveform to be applied during delivery of defibrillation therapy. N is an integer that is greater than 1. The switching circuit is configured to connect the plurality of electrodes to the energy storage device. The processing module is configured to control the switching circuit to deliver defibrillation therapy according to a first therapy configuration of the N therapy configurations and detect a short circuit fault during delivery of the defibrillation therapy according to the first therapy configuration. The processing module is further configured to select a second therapy configuration of the N therapy configurations based on when the short circuit fault was detected during delivery of the defibrillation therapy according to the first therapy configuration.</p>
<p id="p-0012" num="0011">In another example according to the present disclosure, a medical device comprises an energy storage device, a plurality of electrodes, a switching circuit, and a processing module. The energy storage device is configured to store electrical energy for delivery of defibrillation therapy to a heart. The switching circuit is configured to connect the plurality of electrodes to the energy storage device. The processing module is configured to control the switching circuit to deliver defibrillation therapy using a first set of the plurality of electrodes and using a biphasic waveform that includes first and second phases. The processing module is further configured to detect a short circuit fault during one of the first and second phases of the biphasic waveform and select a second set of the plurality of electrodes and one of a biphasic or monophasic waveform for delivery of a subsequent defibrillation therapy. The selection is based on which one of the first and second phases of the biphasic waveform included the detected short circuit fault.</p>
<p id="p-0013" num="0012">In another example according to the present disclosure, a method comprises storing N therapy configurations in a memory of a medical device, each of the N therapy configurations defining which of a plurality of electrodes are used to deliver defibrillation therapy and further defining a waveform to be applied during delivery of defibrillation therapy. N is an integer that is greater than 1. The method further comprises controlling a switching circuit to deliver defibrillation therapy from an energy storage device according to a first therapy configuration of the N therapy configurations and detecting a short circuit fault during delivery of the defibrillation therapy according to the first therapy configuration. Additionally, the method comprises selecting a second therapy configuration of the N therapy configurations based on when the short circuit fault was detected during delivery of the defibrillation therapy according to the first therapy configuration.</p>
<p id="p-0014" num="0013">The details of one or more examples are set forth in the accompanying drawings and the description below. Other features, objects, and advantages will be apparent from the description and drawings, and from the claims.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 1</figref> shows an example system including an implantable medical device (IMD) that may be used to diagnose conditions of and provide therapy to a heart of a patient.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 2</figref> shows a detailed view of the IMD of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 3</figref> shows a functional block diagram of an example IMD.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 4</figref> shows example components of the IMD of <figref idref="DRAWINGS">FIG. 3</figref> that control charging of high-voltage capacitors, deliver high-energy therapy to the heart of the patient, and monitor the amount of current being delivered during the high-energy therapy.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 5</figref> shows a biphasic waveform that includes a first phase of delivery and a second phase of delivery which are separated by a transition period.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 6</figref> is a schematic that illustrates an example switching configuration of a switching circuit that may be used to deliver a first phase of high-energy therapy.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 7</figref> is a schematic that illustrates an example switching configuration of a switching circuit that may be used to deliver a second phase of high-energy therapy.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 8</figref> shows an example monophasic waveform.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 9</figref> is a flowchart of an example method for delivering high-energy therapy using a biphasic waveform.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 10</figref> is a schematic that illustrates an example short circuit fault that may be present during delivery of high-energy therapy.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 11</figref> is a schematic that illustrates an example switching configuration that may be used to bypass the short circuit fault of <figref idref="DRAWINGS">FIG. 10</figref>.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 12</figref> is a schematic that illustrates another example short circuit fault that may be present during delivery of high-energy therapy.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 13</figref> is a schematic that illustrates an example switching configuration that may be used to bypass the short circuit fault of <figref idref="DRAWINGS">FIG. 12</figref>.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 14</figref> is a schematic that illustrates an example short circuit fault in a switch of the IMD.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 15</figref> is a schematic that illustrates another short circuit fault in a switch of the IMD.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 16</figref> is a schematic that illustrates using a short circuit fault to deliver high-energy therapy.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 17</figref> is a flowchart that illustrates an example method for detecting short circuit faults during delivery of high-energy therapy using a biphasic waveform.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 18</figref> is a flowchart that illustrates an example method for selecting new therapy configurations in response to detection of a short circuit fault.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 19</figref> is a flowchart that illustrates another example method for selecting new therapy configurations in response to detection of short circuit faults.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 20</figref> is a state diagram that graphically illustrates example short circuit therapy configurations that may be selected by the IMD of <figref idref="DRAWINGS">FIG. 1</figref> in response to detection of a short circuit fault.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 21</figref> shows a table that describes possible causes of short circuit faults in the IMD and lists therapy reconfigurations that may be used to overcome the short circuit faults.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0036" num="0035">An IMD according to the present disclosure may detect an arrhythmia (e.g., VT/VF) and deliver therapy to terminate the arrhythmia. In some examples, the IMD may deliver defibrillation therapy in response to detection of potentially life-threatening arrhythmias, such as VT/VF. In other examples, the IMD may deliver cardioversion therapy in response to the detection of potentially life threatening arrhythmias. High-energy electrical therapies, such as defibrillation therapy and cardioversion therapy, delivered by the IMD in response to detection of potentially life-threatening arrhythmias may be referred to hereinafter as &#x201c;high-energy therapies.&#x201d; Arrhythmias that may be typically treated by such high-energy therapies, such as VF/VT, may be referred to hereinafter as &#x201c;shockable arrhythmias.&#x201d;</p>
<p id="p-0037" num="0036">The IMD of the present disclosure may include an energy storage device (e.g., high-voltage capacitors) that may be used to store charge used during delivery of high-energy therapy. The IMD may monitor the heart rhythm of the patient and, in response to detection of a shockable arrhythmia, store charge on the energy storage device and subsequently deliver the high-energy therapy to the patient using the stored charge. The IMD may deliver the high-energy therapy using a variety of electrical waveforms and electrode combinations. For example, the IMD may delivery the high-energy therapy using either a monophasic or biphasic waveform. Although high-energy therapy is described herein as being delivered using either a monophasic or biphasic waveform, it is contemplated that high-energy therapy may be delivered using other waveforms, such as multiphasic waveforms.</p>
<p id="p-0038" num="0037">The IMD may deliver the high-energy therapy to the heart using a plurality of different electrode combinations. In some examples, the IMD may deliver high-energy therapy using three electrodes, while in other examples, the IMD may deliver high-energy therapy using two electrodes. The combination of electrodes used to deliver the high-energy therapy may referred to hereinafter as an &#x201c;electrode vector.&#x201d; As described herein, high-energy therapy may be delivered using the following electrodes: 1) electrode HVA, which is an electrode on the housing (i.e., can) of the IMD, 2) electrode HVB, which may be a defibrillation coil electrode in the right ventricle, and 3) electrode HVX, which may be a defibrillation coil electrode in the superior vena cava. An electrode vector may include any combination of the electrodes HVA, HVB, and HVX. Although electrodes HVA, HVB, and HVX are described herein as delivering high-energy therapy, it is contemplated that the IMD may deliver therapy using other electrodes. For example, the IMD may delivery therapy using a greater number of electrodes, or in some cases, other types of electrodes, such as patch electrodes.</p>
<p id="p-0039" num="0038">Electrode vectors may be described using a notation that includes the greater-than symbol &#x201c;&#x3e;&#x201d; to indicate the direction of current between electrodes during delivery of high-energy therapy. In one example, electrode vector &#x201c;AX&#x3e;B&#x201d; may indicate that the direction of current is from the HVA electrode and HVX electrode to the HVB electrode. Example electrode vectors described herein that include three electrodes are electrode vectors &#x201c;AX&#x3e;B&#x201d; and &#x201c;B&#x3e;AX.&#x201d; Electrode vectors described herein that include only two electrodes are electrode vectors &#x201c;A&#x3e;B&#x201d;, &#x201c;B&#x3e;A&#x201d;, &#x201c;X&#x3e;B&#x201d;, and &#x201c;B&#x3e;X.&#x201d; In some examples, electrode vectors may also include &#x201c;A&#x3e;X&#x201d; and &#x201c;X&#x3e;A.&#x201d; While vectors &#x201c;A&#x3e;X&#x201d; and &#x201c;X&#x3e;A&#x201d; may not be conventionally used vectors, in some examples, &#x201c;A&#x3e;X&#x201d; and &#x201c;X&#x3e;A&#x201d; may provide a valid path, e.g., in the case where an epicardial patch electrode is connected as &#x201c;X.&#x201d;</p>
<p id="p-0040" num="0039">The IMD may include a memory that stores various high-energy therapy configurations. Each high-energy therapy configuration may specify an electrode vector and an electrical waveform to be delivered by the electrode vector. High-energy therapy configurations may be referred to hereinafter as &#x201c;therapy configurations.&#x201d; One example therapy configuration may specify that high-energy therapy is to be delivered via electrode vector AX&#x3e;B using a biphasic waveform. In other examples, therapy configurations may specify that high-energy therapy is to be delivered via electrode vector AX&#x3e;B using a monophasic waveform, via electrode vector B&#x3e;AX using a monophasic waveform, or via electrode vector B&#x3e;AX using a biphasic waveform. In other examples, therapy configurations may specify that high-energy therapy is to be delivered via electrode vector A&#x3e;B using a biphasic waveform, via electrode vector A&#x3e;B using a monophasic waveform, via electrode vector B&#x3e;A using a biphasic waveform, or via electrode vector B&#x3e;A using a monophasic waveform. In still other examples, therapy configurations may specify that high-energy therapy is to be delivered via electrode vector X&#x3e;B using a biphasic waveform, via electrode vector X&#x3e;B using a monophasic waveform, via electrode vector B&#x3e;X using a biphasic waveform, or via electrode vector B&#x3e;X using a monophasic waveform. In some examples, the therapy configurations may also specify an amount of energy to be delivered.</p>
<p id="p-0041" num="0040">The IMD of the present disclosure includes a processing module that detects shockable arrhythmias, controls charging of the energy storage device in response to detection of a shockable arrhythmia, and controls delivery of high-energy therapy according to a selected therapy configuration. The IMD may include a switching circuit that may be controlled in order to deliver the high-energy therapy according to the selected therapy configuration. Under control of the processing module, the switching circuit may connect the energy storage device to the electrode vector such that the waveform of the selected therapy configuration is delivered to the patient via the electrode vector of the selected therapy configuration.</p>
<p id="p-0042" num="0041">The IMD of the present disclosure may detect a potential fault during delivery of the high-energy therapy. For example, the IMD may detect a short circuit fault during delivery of the high-energy therapy. A short circuit fault may generally describe a variety of different faults that may occur in the conductive pathways leading from the energy storage device to the electrodes during delivery of high-energy therapy. Generally, a short circuit fault may refer to an electrical fault in the IMD that may redirect (e.g., shunt) current delivered by the energy storage device such that the redirected current is not delivered to the heart. In other words, short circuit faults may divert current delivered by the energy storage device away from a path through the heart. When a short circuit fault is not present in the conductive pathway between the energy storage device and the heart, the conductive pathway delivers substantially all of the current from the energy storage device to the patient. The presence of a short circuit fault, however, may cause a substantial portion of current delivered from the energy storage device to be redirected (e.g., shunted) along a different electrical path, rather than being delivered to the patient. The impedance of a short circuit fault may vary. In some examples, the short circuit fault may be a complete short (i.e., near zero resistance), while in other examples, the short circuit fault may not be a complete short but may still present a low enough impedance to shunt current away from the heart and disrupt the delivery of therapy.</p>
<p id="p-0043" num="0042">Short circuit faults may include a variety of different faults within the IMD. A short circuit fault may generally occur between any two conductive components in the IMD that are included in the electrical path during delivery of high-energy therapy. Components of the IMD that may be included in a short circuit fault may include switches, interconnects, conductors in leads of the IMD, and electrodes at the end of the conductors. Each of these components, when functional, may form a portion of the delivery pathway that delivers current from the energy storage device to the heart. However, a short circuit fault within or between any of these components may cause current to be directed away from the heart, and instead dissipated in the components of the IMD.</p>
<p id="p-0044" num="0043">In some examples, two conductors of a lead may short together such that current delivered from the energy storage device is shunted between the conductors and not delivered to the heart. The shorting of two conductors of a lead may occur at any point along the entire length of the lead from the point where the lead is attached to a connector block to a point where the electrodes of the lead are implanted in the heart. A short between two conductors of a lead may also occur within the connector block of the IMD. In some examples, short circuit faults may occur between an electrode and a conductor in a lead, or may occur between two electrodes. In some examples, short circuit faults may occur between portions of the electrical interconnects in the electrical pathway not including the conductors in the leads or the electrodes. Electrical interconnects may generally describe the conductive paths between electrical components within the IMD, and may include the conductive traces, e.g., on a printed-circuit board. In still other examples, short circuit faults may occur in the switches used to deliver high-energy therapy. For example, a switch including a short circuit fault may generally act as a low impedance path (e.g., a short circuit), even when the switch is instructed to open.</p>
<p id="p-0045" num="0044">A short circuit fault in the conductive pathway may tend to shunt current through components of the IMD instead of delivering the current to the heart, which may tend to slow the rate at which energy is delivered to the heart during delivery of high-energy therapy. Although a short circuit fault may decrease the rate at which energy is delivered to the heart, energy may be drained from the energy storage device at a greater rate when a short circuit fault is present due to the low impedance path produced by the short circuit fault. The processing module of the IMD may monitor the delivery of energy to the patient, and may detect a potential short circuit fault when greater than a threshold amount of current is being delivered from the energy storage device during delivery of the high-energy therapy. The delivery of a large amount of current (e.g., greater than the threshold amount) from the energy storage device may indicate that the current is not being delivered to the heart, but instead, that the electrical pathway includes a low impedance path (e.g., a short circuit) that is redirecting the current and preventing delivery to the heart. In other words, when a short circuit fault is not present in the delivery pathway, the current delivered to the heart may encounter a relatively high impedance path at the heart that prevents higher currents (i.e., greater than the threshold amount) from being delivered from the energy storage device. The threshold amount of current may be a value selected such that an amount of current greater than the threshold amount may indicate that current is being delivered through a short circuit fault instead of the heart. The threshold amount may also be selected such that an amount of current that is less than the threshold amount may indicate that current is being delivered to the heart and not through a short circuit fault.</p>
<p id="p-0046" num="0045">As described above, the IMD may deliver therapy according to a selected therapy configuration. Initially, the IMD may deliver therapy according to a set of initial therapy configurations stored in memory. The initial therapy configurations may define a pattern of selection of therapy configurations used by the IMD when a short circuit fault has not been previously detected during delivery of therapy. Accordingly, the processing module may control delivery of high-energy therapy according to the initial therapy configurations in response to detection of arrhythmia, assuming a short circuit fault has not been detected during prior deliveries of high-energy therapy according to the initial therapy configurations.</p>
<p id="p-0047" num="0046">The initial therapy configurations stored in memory may define a pattern of selection of therapy configurations that may be used by the IMD during attempts to treat a detected shockable arrhythmia. For example, the IMD may initially attempt to treat a shockable arrhythmia using a first one of the initial therapy configurations. If successful in treating the shockable arrhythmia, the IMD may return to monitoring the patient's heart rhythm. If unsuccessful in treating the shockable arrhythmia, the IMD may select a second one of the initial therapy configurations to treat the shockable arrhythmia. In this manner, the IMD may select consecutive therapy configurations from the initial therapy configurations in order to attempt to treat a shockable arrhythmia in different ways until a successful treatment is found.</p>
<p id="p-0048" num="0047">The initial therapy configurations may be programmed into the device prior to implantation, e.g., as factory default settings or programmed by a clinician. In other examples, the initial therapy configurations may be updated by a clinician, using a programmer, after the device is implanted. The initial therapy configurations may define a variety of different electrode vector and waveform combinations, as well as different amounts of energies to be delivered during high-energy therapy.</p>
<p id="p-0049" num="0048">The IMD may deliver high-energy therapy according to the initial therapy configurations until a short circuit fault is detected during delivery of the high-energy therapy according to the initial therapy configurations. Upon detection of a short circuit fault during delivery of high-energy therapy according to the initial therapy configurations, the IMD may begin delivering high-energy therapy according to a set of short circuit therapy configurations stored in memory. The short circuit therapy configurations may define the selection of therapy configurations used by the IMD after a short circuit fault is detected during delivery of high-energy therapy. Accordingly, after detection of a short circuit fault, the processing module may control delivery of high-energy therapy according to the short circuit therapy configurations in response to detection of a shockable arrhythmia.</p>
<p id="p-0050" num="0049">Each of the short circuit therapy configurations stored in memory may define an electrode vector (e.g., AX&#x3e;B, A&#x3e;X, etc.), a waveform (e.g., biphasic/monophasic), and transition data. The transition data may define a subsequent therapy configuration to select in response to detection of a short circuit fault at the current therapy configuration. For example, if the processing module detects a short circuit fault at a first therapy configuration, the processing module may determine a subsequent (i.e., second) therapy configuration to use by looking at the transition data that is associated with the current (i.e., first) therapy configuration. The processing module may then set the therapy configuration of the IMD to the second therapy configuration in order to attempt to bypass the potential fault. If a short circuit fault is then detected in the second therapy configuration, the processing module may set the therapy configuration to the therapy configuration indicated by the transition data of the second therapy configuration. In this manner, the IMD may determine a subsequent therapy configuration to use for the delivery of high-energy therapy based on the current therapy configuration in which a short circuit fault is detected.</p>
<p id="p-0051" num="0050">In addition to determining subsequent therapy configurations based on a current therapy configuration in which a short circuit fault is detected, the IMD may also determine the subsequent therapy selection based when the short circuit fault was detected during the delivery of high-energy therapy. Accordingly, the IMD of the present disclosure may select a subsequent therapy configuration based on the current therapy configuration in which a fault is detected and based on when the detected fault occurred during delivery of high-energy therapy according to the current therapy configuration.</p>
<p id="p-0052" num="0051">The transition data may specify the subsequent therapy configuration based on when the short circuit fault was detected during the current therapy configuration. For example, the transition data associated with a first therapy configuration may define a second therapy configuration if a short circuit fault is detected during the first phase of the biphasic waveform of the first therapy configuration, and the transition data associated with the first therapy configuration may define a third therapy configuration if a short circuit fault is detected during the second phase of the biphasic waveform of the first therapy configuration. In examples where the IMD may deliver a multiphasic waveform, transition data may specify a subsequent therapy based on which phase of the multiphasic waveform included a fault.</p>
<p id="p-0053" num="0052">In summary, the IMD of the present disclosure may detect shockable arrhythmias and provide high-energy therapy according to a selected configuration therapy. If the IMD detects a short circuit fault during delivery of the high-energy therapy according to a currently selected therapy configuration, the IMD may select a subsequent therapy configuration based on the parameters of the current therapy configuration (e.g., the electrode vector and waveform) and based on when the short circuit fault occurred during delivery according to the current therapy configuration (e.g., during either the first or second phase of a biphasic waveform). In this manner, the IMD of the present disclosure may step through a variety of different therapy configurations in order to bypass one or more detected short circuit faults. Stepping through a variety of different therapy configurations based on which therapy configurations include short circuit faults and based on when those short circuit faults occur may provide for robust delivery of high-energy therapy from the IMD in the event of a fault in a conductive pathway of the IMD that is presented as a short circuit fault that shunts energy away from the heart.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIGS. 1-2</figref> show an example system including an IMD that may deliver high-energy therapy, detect short circuit faults, and reconfigure therapy configurations in response to detection of the short circuit faults. <figref idref="DRAWINGS">FIG. 3</figref> shows an example functional block diagram of the IMD of <figref idref="DRAWINGS">FIGS. 1-2</figref> including a memory that stores initial therapy configurations and short circuit therapy configurations. <figref idref="DRAWINGS">FIG. 4</figref> shows components of the IMD that control the delivery of high-energy therapy. <figref idref="DRAWINGS">FIGS. 5-9</figref> illustrate biphasic and monophasic waveforms, the switching configurations used to deliver the waveforms, and a method for delivering the waveforms. <figref idref="DRAWINGS">FIGS. 10-16</figref> show schematics of example short circuit faults. <figref idref="DRAWINGS">FIGS. 17-19</figref> show methods for detecting short circuit faults and reconfiguring therapy configurations in response to detection of the short circuit faults. <figref idref="DRAWINGS">FIG. 20</figref> shows a state diagram that describes how an IMD may transition between various short circuit therapy configurations based on when short circuit faults are detected during delivery of high-energy therapy. <figref idref="DRAWINGS">FIG. 21</figref> shows a table that describes the possible causes of potential short circuit faults in the IMD during delivery and lists potential therapy reconfigurations that may be used to overcome the potential faults.</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 1</figref> shows an example system <b>100</b> that may be used to diagnose conditions of and provide therapy to a heart <b>102</b> of a patient <b>104</b>. System <b>100</b> includes an IMD <b>106</b>. For example, IMD <b>106</b> may be an implantable pacemaker, cardioverter, and/or defibrillator that monitors electrical activity of heart <b>102</b> and provides electrical stimulation to heart <b>102</b>.</p>
<p id="p-0056" num="0055">IMD <b>106</b> includes a housing <b>108</b> and a connector block <b>110</b>. Housing <b>108</b> and connector block <b>110</b> may form a hermetic seal that protects components of IMD <b>106</b>. IMD <b>106</b> is coupled to leads <b>112</b>, <b>114</b>, and <b>116</b> via connector block <b>110</b>. Leads <b>112</b>, <b>114</b>, <b>116</b> extend into heart <b>102</b>. Right ventricular lead <b>114</b> extends into right ventricle <b>118</b>. Left ventricular coronary sinus lead <b>116</b> extends into the coronary sinus to a region adjacent to the free wall of left ventricle <b>120</b>. Right atrial lead <b>112</b> extends into right atrium <b>122</b>.</p>
<p id="p-0057" num="0056">Housing <b>108</b> may enclose an electrical sensing module that monitors electrical activity of heart <b>102</b>, and may also enclose a signal generator module that generates therapeutic stimulation, such as cardiac pacing pulses, ATP therapy, cardioversion therapy, and/or defibrillation therapy. Leads <b>112</b>, <b>114</b>, <b>116</b> are coupled to the signal generator module and the electrical sensing module of IMD <b>106</b> via connector block <b>110</b>.</p>
<p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. 2</figref> shows a more detailed view of IMD <b>106</b> and leads <b>112</b>, <b>114</b>, <b>116</b>. IMD <b>106</b> includes a housing electrode <b>124</b>, which may be referred to as HVA electrode <b>124</b> or can electrode <b>124</b>, which may be formed integrally with an outer surface of housing <b>108</b> of IMD <b>106</b> or otherwise coupled to housing <b>108</b>. Although a single housing electrode <b>124</b> is illustrated in <figref idref="DRAWINGS">FIGS. 1-2</figref>, IMD <b>106</b> may include more or less than a single housing electrode <b>124</b>.</p>
<p id="p-0059" num="0058">Leads <b>112</b>, <b>114</b>, <b>116</b> include electrodes <b>126</b>-<b>1</b> to <b>126</b>-<b>6</b> (collectively &#x201c;electrodes <b>126</b>&#x201d;). Lead <b>114</b> includes bipolar electrodes <b>126</b>-<b>1</b>, <b>126</b>-<b>2</b> which are located in right ventricle <b>118</b>. Lead <b>116</b> includes bipolar electrodes <b>126</b>-<b>3</b>, <b>126</b>-<b>4</b> which are located in coronary sinus <b>128</b>. Lead <b>112</b> includes bipolar electrodes <b>126</b>-<b>5</b>, <b>126</b>-<b>6</b> which are located in right atrium <b>122</b>. Electrodes <b>126</b>-<b>1</b>, <b>126</b>-<b>3</b>, <b>126</b>-<b>5</b> may take the form of ring electrodes. Electrodes <b>126</b>-<b>2</b>, <b>126</b>-<b>4</b>, <b>126</b>-<b>6</b> may take the form of, for example, helix tip electrodes or small circular electrodes at the tip of a tined lead or other fixation element. Lead <b>114</b> includes elongated electrodes <b>127</b>-<b>1</b>, <b>127</b>-<b>2</b> (collectively &#x201c;electrodes <b>127</b>&#x201d;) which may be coil electrodes. Electrode <b>127</b>-<b>1</b> may be referred to as HVB electrode <b>127</b>-<b>1</b> or as a right ventricular coil (RVC) electrode, and electrode <b>127</b>-<b>2</b> may be referred to as HVX electrode <b>127</b>-<b>2</b> or as a superior vena cava (SVC) coil electrode. Although three leads <b>112</b>, <b>114</b>, <b>116</b> are illustrated, systems according to the present disclosure may be implemented using more or less than 3 leads. Additionally, systems according to the present disclosure may be implemented using additional or fewer electrodes than illustrated in <figref idref="DRAWINGS">FIGS. 1-2</figref>, e.g. such as one or more epicardial patch electrodes or coronary sinus electrodes.</p>
<p id="p-0060" num="0059">IMD <b>106</b> may sense electrical activity of heart <b>102</b> and/or deliver electrical stimulation to heart <b>102</b> via electrodes <b>124</b>, <b>126</b>, <b>127</b>. IMD <b>106</b> may sense electrical activity using any combination of electrodes <b>124</b>, <b>126</b>, <b>127</b>. For example, IMD <b>106</b> may sense electrical activity via any bipolar combination of electrodes <b>126</b>, <b>127</b>. Furthermore, any of electrodes <b>126</b>, <b>127</b> may be used for unipolar sensing in combination with housing electrode <b>124</b>. IMD <b>106</b> may deliver pacing pulses using a unipolar or bipolar combination of electrodes <b>124</b>, <b>126</b>, <b>127</b>. IMD <b>106</b> may deliver high-energy therapy (e.g., cardioversion pulses and/or defibrillation pulses) to heart <b>102</b> via any combination of elongated electrodes HVB <b>127</b>-<b>1</b>, HVX <b>127</b>-<b>2</b>, and housing electrode HVA <b>124</b>.</p>
<p id="p-0061" num="0060">Using the signal generator module and the electrical sensing module, IMD <b>106</b> may provide pacing pulses to heart <b>102</b> based on the electrical signals sensed within heart <b>102</b>. IMD <b>106</b> may also provide ATP therapy, cardioversion, and/or defibrillation therapy to heart <b>102</b> based on the electrical signals sensed within heart <b>102</b>. For example, IMD <b>106</b> may detect an arrhythmia of heart <b>102</b>, such as VT/VF, and deliver ATP therapy, cardioversion, or defibrillation therapy to heart <b>102</b> in response to the detection of VT/VF.</p>
<p id="p-0062" num="0061">Referring back to <figref idref="DRAWINGS">FIG. 1</figref>, system <b>100</b> may include a programmer <b>130</b>. Programmer <b>130</b> may be a handheld computing device, desktop computing device, a networked computing device, etc. Programmer <b>130</b> may include a computer-readable storage medium having instructions that cause a processor of programmer <b>130</b> to provide the functions attributed to programmer <b>130</b> in the present disclosure. Programmer <b>130</b> may include a telemetry head (not shown). IMD <b>106</b> and programmer <b>130</b> may wirelessly communicate with one another, e.g., transfer data between one another, via the telemetry head. For example, IMD <b>106</b> may send data to programmer <b>130</b>, and programmer <b>130</b> may retrieve data stored in IMD <b>106</b> and/or program IMD <b>106</b>.</p>
<p id="p-0063" num="0062">Data retrieved from IMD <b>106</b> using programmer <b>130</b> may include cardiac EGMs stored by IMD <b>106</b> that indicate electrical activity of heart <b>102</b> and marker channel data that indicates the occurrence and timing of sensing, diagnosis, and therapy events associated with IMD <b>106</b>. Additionally, data may include information regarding the performance or integrity of IMD <b>106</b> or other components of diagnostic system <b>100</b>, such as leads <b>112</b>, <b>114</b>, <b>116</b>, or a power source of IMD <b>106</b>. For example, data may include information regarding whether short circuit faults were detected during delivery of high-energy therapy, and in some examples, which therapy configurations resulted in detection of short circuit faults. Data transferred to IMD <b>106</b> using programmer <b>130</b> may include, for example, values for operational parameters, electrode vectors used to deliver high-energy therapy, waveforms used for delivery of high-energy therapy, a total amount of energy used during high-energy therapy, and the distribution of the total energy among the phases of delivery for a bi-phasic defibrillation waveform.</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. 3</figref> shows a functional block diagram of an example IMD <b>106</b>. IMD <b>106</b> includes a processing module <b>132</b>, memory <b>134</b>, a signal generator module <b>136</b>, an electrical sensing module <b>138</b>, a communication module <b>140</b>, and a power source <b>142</b>, such as a battery, e.g., a rechargeable or non-rechargeable battery. In some examples, IMD <b>106</b> may include one or more sensors (e.g., sensor <b>144</b>) with which processing module <b>132</b> may communicate. For example, sensor <b>144</b> may comprise at least one of a motion sensor (e.g., an accelerometer or piezoelectric element) and a heart sound sensor. Processing module <b>132</b> may determine, for example, an activity level of patient <b>104</b> and a heart rate of patient <b>104</b> based on data measured by sensor <b>144</b>.</p>
<p id="p-0065" num="0064">Modules included in IMD <b>106</b> represent functionality that may be included in IMD <b>106</b> of the present disclosure. Modules of the present disclosure may include any discrete and/or integrated electronic circuit components that implement analog and/or digital circuits capable of producing the functions attributed to the modules herein. For example, the modules may include analog circuits, e.g., amplification circuits, filtering circuits, and/or other signal conditioning circuits. The modules may also include digital circuits, e.g., combinational or sequential logic circuits, memory devices, etc. Memory may include any volatile, non-volatile, magnetic, or electrical media, such as a random access memory (RAM), read-only memory (ROM), non-volatile RAM (NVRAM), electrically-erasable programmable ROM (EEPROM), Flash memory, or any other memory device. Furthermore, memory may include instructions that, when executed by one or more processing circuits, cause the modules to perform various functions attributed to the modules herein.</p>
<p id="p-0066" num="0065">The functions attributed to the modules herein may be embodied as one or more processors, hardware, firmware, software, or any combination thereof. Depiction of different features as modules is intended to highlight different functional aspects and does not necessarily imply that such modules must be realized by separate hardware or software components. Rather, functionality associated with one or more modules may be performed by separate hardware or software components, or integrated within common or separate hardware or software components.</p>
<p id="p-0067" num="0066">Processing module <b>132</b> may communicate with memory <b>134</b>. Memory <b>134</b> may include computer-readable instructions that, when executed by processing module <b>132</b>, cause processing module <b>132</b> to perform the various functions attributed to processing module <b>132</b> herein. Memory <b>134</b> may include any volatile, non-volatile, magnetic, or electrical media, such as RAM, ROM, NVRAM, EEPROM, Flash memory, or any other digital media.</p>
<p id="p-0068" num="0067">Processing module <b>132</b> may communicate with signal generator module <b>136</b> and electrical sensing module <b>138</b>. Signal generator module <b>136</b> and electrical sensing module <b>138</b> are electrically coupled to electrodes <b>126</b>, <b>127</b> of leads <b>112</b>, <b>114</b>, <b>116</b> and housing electrode <b>124</b>. Electrical sensing module <b>138</b> is configured to monitor signals from electrodes <b>124</b>, <b>126</b>, <b>127</b> in order to monitor electrical activity of heart <b>102</b>. Electrical sensing module <b>138</b> may selectively monitor any bipolar or unipolar combination of electrodes <b>124</b>, <b>126</b>, <b>127</b>.</p>
<p id="p-0069" num="0068">Signal generator module <b>136</b> may generate and deliver electrical stimulation therapy to heart <b>102</b> via electrodes <b>124</b>, <b>126</b>, <b>127</b>. Electrical stimulation therapy may include at least one of pacing pulses, ATP therapy, cardioversion therapy, and defibrillation therapy. Processing module <b>132</b> may control signal generator module <b>136</b> to deliver electrical stimulation therapy to heart <b>102</b> according to one or more therapy programs, which may be stored in memory <b>134</b>. For example, processing module <b>132</b> may control signal generator module <b>136</b> to deliver pacing pulses to heart <b>102</b> based on one or more therapy programs and signals received from electrical sensing module <b>138</b>. In other examples, processing module <b>132</b> may control signal generator module <b>136</b> to deliver at least one of ATP therapy, cardioversion therapy, and defibrillation therapy when processing module <b>132</b> detects a tachyarrhythmia. For example, in the event that processing module <b>132</b> detects a tachyarrhythmia, processing module <b>132</b> may load an ATP regimen from memory <b>134</b>, and control signal generator module <b>136</b> to implement the ATP regimen. In other examples, processing module <b>132</b> may implement a cardioversion regimen or a defibrillation regimen upon detection of a tachyarrhythmia.</p>
<p id="p-0070" num="0069">Communication module <b>140</b> includes any suitable hardware, firmware, software or any combination thereof for communicating with another device, such as programmer <b>130</b> and/or a patient monitor. Under the control of processing module <b>132</b>, communication module <b>140</b> may receive downlink telemetry from and send uplink telemetry to programmer <b>130</b> and/or a patient monitor with the aid of an antenna (not shown) in IMD <b>106</b>.</p>
<p id="p-0071" num="0070">Processing module <b>132</b> may receive raw data (e.g., digitized electrogram data) from electrical sensing module <b>138</b> and detect cardiac events based on the raw data. For example, processing module <b>132</b> may analyze the raw data and detect arrhythmias (e.g., VT/VF) using any suitable arrhythmia detection algorithm. In one example, processing module <b>132</b> may detect tachyarrhythmias using a rate-based detection algorithm in which processing module <b>132</b> monitors R-R intervals and identifies a tachyarrhythmia when a predetermined ratio of R-R intervals are shorter than a threshold interval. In some examples, processing module <b>132</b> may perform further analysis of tachyarrhythmias using rate information. For example, processing module <b>132</b> may characterize tachyarrhythmias based on the range of values in which the intervals fall, the stability of the intervals, and the average or median values of the intervals. In some examples, processing module <b>132</b> may confirm the presence of detected tachyarrhythmias using other algorithms such as a template matching algorithms.</p>
<p id="p-0072" num="0071">Processing module <b>132</b> may instruct signal generator module <b>136</b> to deliver high-energy therapy (e.g., defibrillation pulses or cardioversion pulses) in response to detection of shockable arrhythmias (e.g., VT/VF). Delivery of high-energy therapy by signal generator module <b>136</b> to heart <b>102</b> may correct the shockable arrhythmia and return heart <b>102</b> to a normal rhythm. In examples where the detected shockable arrhythmia is not corrected, processing module <b>132</b> control delivery of subsequent high-energy therapies.</p>
<p id="p-0073" num="0072">Signal generator module <b>136</b> includes circuits that deliver the high-energy therapy to heart <b>102</b> and monitor the delivery of the high-energy therapy while the high-energy therapy is being delivered. <figref idref="DRAWINGS">FIG. 3</figref> shows a high-level functional block diagram of signal generator module <b>136</b>. Signal generator module <b>136</b> may include an energy storage device for storing energy to be delivered during the high-energy therapy. The energy storage device described herein includes one or more capacitors, hereinafter &#x201c;high-voltage capacitors <b>150</b>,&#x201d; that are used to store electrical charge for delivery to heart <b>102</b> during high-energy therapy. Although the energy storage device used to store energy for delivery of high-energy therapy is described herein as one or more capacitors, other energy storage devices may be implemented.</p>
<p id="p-0074" num="0073">Signal generator module <b>136</b> may also include a charging module <b>152</b>, a switching circuit <b>154</b>, and a voltage measuring module <b>156</b>. Charging module <b>152</b> may charge high voltage capacitors <b>150</b> in response to instructions from processing module <b>132</b>, e.g., instructions provided by processing module <b>132</b> in response to detection of a shockable arrhythmia. Voltage measuring module <b>156</b> may measure the voltage across high-voltage capacitors <b>150</b> in order to determine a level of charge present on high-voltage capacitors <b>150</b>. Switching circuit <b>154</b> may be controlled by processing module <b>132</b> in order to deliver the high-energy therapy to heart <b>102</b> via leads <b>112</b>, <b>114</b>, <b>116</b>. In other words, under control of processing module <b>132</b>, switching circuit <b>154</b> may connect high-voltage capacitors <b>150</b> to electrodes <b>124</b>, <b>127</b> in order to transfer energy from high-voltage capacitors <b>150</b> to heart <b>102</b>.</p>
<p id="p-0075" num="0074">Signal generator module <b>136</b> may include a comparator module <b>155</b> that indicates an amount of current being delivered from high-voltage capacitors <b>150</b> during the delivery of high-energy therapy. For example, comparator module <b>155</b> may indicate to processing module <b>132</b> when the amount of current being delivered from high-voltage capacitors <b>150</b> is greater than a threshold amount of current. Delivery of an amount of current that is greater than the threshold current during delivery of high-energy therapy may indicate that a short circuit fault is present in the delivery pathway. Accordingly, processing module <b>132</b> may detect a short circuit fault when comparator module <b>155</b> indicates that the amount of current being delivered by high-voltage capacitors <b>150</b> is greater than the threshold amount of current.</p>
<p id="p-0076" num="0075">Typical operation of IMD <b>106</b> with respect to the delivery of high-energy therapy, e.g., without detection of short circuit faults, is described hereinafter with respect to the functional block diagrams of <figref idref="DRAWINGS">FIGS. 4-8</figref> and the method of <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="p-0077" num="0076"><figref idref="DRAWINGS">FIG. 4</figref> shows components of IMD <b>106</b> that control charging of high-voltage capacitors <b>150</b>, monitoring of the voltage across high-voltage capacitors <b>150</b>, delivery of high-energy therapy to heart <b>102</b>, and detection of short circuit faults. Processing module <b>132</b>, upon detection of a shockable arrhythmia (e.g., VT/VF) may instruct charging module <b>152</b> to charge high-voltage capacitors <b>150</b> using energy from power source <b>142</b>. High-voltage capacitors <b>150</b> may store the energy that is to be subsequently delivered to heart <b>102</b> during delivery of the high-energy therapy. Charging module <b>152</b> may include a DC-to-DC converter circuit that converts a source of direct current from one voltage level to another. In some examples, the DC-to-DC converter may have a flyback topology.</p>
<p id="p-0078" num="0077">Voltage measuring module <b>156</b> may measure the voltage across high-voltage capacitors <b>150</b> while high-voltage capacitors <b>150</b> are being charged by charging module <b>152</b>. The voltage measured across high-voltage capacitors <b>150</b> is indicated by +/&#x2212;Vcap at <b>157</b> in <figref idref="DRAWINGS">FIG. 4</figref>. The voltage measured across high-voltage capacitors <b>150</b> may indicate an amount of electrical energy stored on high-voltage capacitors <b>150</b>. Voltage measuring module <b>156</b> may indicate the measured voltage to processing module <b>132</b>. Processing module <b>132</b> may determine an amount of energy stored by high-voltage capacitors <b>150</b> based on the voltage indicated by voltage measuring module <b>156</b>. For example, processing module <b>132</b> may include a look-up table (e.g., voltage vs. energy) or an equation that processing module <b>132</b> may use to determine the amount of energy stored by high-voltage capacitors <b>150</b> based on the voltage measured across high-voltage capacitors <b>150</b>.</p>
<p id="p-0079" num="0078">In some examples, voltage measuring module <b>156</b> may include analog-to-digital conversion circuits that measure the voltage across high-voltage capacitors <b>150</b> and generate a digital value that indicates the measured voltage. In these examples, processing module <b>132</b> may determine the voltage across high-voltage capacitors <b>150</b> based on the digital value received from voltage measuring module <b>156</b>.</p>
<p id="p-0080" num="0079">Processing module <b>132</b> may instruct charging module <b>152</b> to stop charging high-voltage capacitors <b>150</b>, e.g., disconnect from high-voltage capacitors <b>150</b>, when the voltage across high-voltage capacitors <b>150</b> reaches a threshold voltage that indicates that high-voltage capacitors <b>150</b> have been charged with an amount of electrical energy to be used during delivery of high-energy therapy. The total amount of energy to be delivered during high-energy therapy may be programmed into memory <b>134</b> by a clinician, e.g., using programmer <b>130</b>. In some examples, processing module <b>132</b> may determine the threshold voltage based on the programmed energy. Based on the determined threshold voltage, processing module <b>132</b> may determine when the programmed energy is stored on high-voltage capacitors <b>150</b> during charging. The threshold voltage that indicates that high-voltage capacitors <b>150</b> are charged to a state in which high-voltage capacitors <b>150</b> may deliver the high-energy therapy may be indicated as V<sub>0 </sub>in <figref idref="DRAWINGS">FIG. 5</figref> and <figref idref="DRAWINGS">FIG. 8</figref>. In terms of <figref idref="DRAWINGS">FIG. 4</figref>, processing module <b>132</b> may instruct charging module <b>152</b> to charge high-voltage capacitors <b>150</b> until the voltage Vcap <b>157</b> across high-voltage capacitors <b>150</b> reaches the threshold voltage V<sub>0</sub>.</p>
<p id="p-0081" num="0080">After high-voltage capacitors <b>150</b> are charged up to the threshold voltage V<sub>0 </sub>and processing module <b>132</b> instructs charging module <b>152</b> to stop charging high-voltage capacitors <b>150</b>, processing module <b>132</b> controls switching circuit <b>154</b> to deliver the high-energy therapy to heart <b>102</b>. Switching circuit <b>154</b> includes switches <b>158</b>-<b>1</b>, <b>158</b>-<b>2</b>, . . . , and <b>158</b>-<b>7</b> (collectively &#x201c;switches <b>158</b>&#x201d;). Each of switches <b>158</b>, when functional, may operate in one of an &#x201c;open state&#x201d; or a &#x201c;closed state.&#x201d; Each of switches <b>158</b> may act as an open circuit (i.e., a high impedance) when operating in the open state. Each of switches <b>158</b> may act as a short circuit (i.e., a low impedance) when operating in the closed state. In some examples, a switch operating in the &#x201c;closed state&#x201d; may be referred to as operating in the &#x201c;on state&#x201d; or may be referred to as &#x201c;turned on.&#x201d; In a similar manner, a switch operating in the &#x201c;open state&#x201d; may be referred to as operating in the &#x201c;off state&#x201d; or may be referred to as &#x201c;turned off.&#x201d;</p>
<p id="p-0082" num="0081">When switches <b>158</b> are functional, the state of switches <b>158</b> (i.e., open or closed) may be controlled by processing module <b>132</b>. The collective state of all switches <b>158</b> may be referred to as a &#x201c;switching configuration&#x201d; of switching circuit <b>154</b>. Accordingly, processing module <b>132</b> may control the switching configuration of switching circuit <b>154</b>. In some examples, one or more of switches <b>158</b> may malfunction. A malfunction in a switch may refer to a scenario where the actual behavior of the switch is different from the behavior of the switch that was commanded by processing module <b>132</b>. In some examples, a malfunctioning switch will remain in an open state when instructed to close. In other examples, a malfunctioning switch will remain in a closed state when instructed to open. In other words, a malfunctioning switch may be stuck in one of the open or closed states. A malfunctioning switch may not necessarily behave in either a strictly open state (i.e., an open circuit) or a strictly closed state (i.e., as a short circuit), but may behave as an impedance that has a value somewhere between the impedances of the closed and open states.</p>
<p id="p-0083" num="0082">In examples where a switch is instructed to open by processing module <b>132</b>, but instead the switch presents a low impedance (e.g., a short circuit) upon receipt of the instruction, the switch may be said to have a short circuit fault. In some examples, a switch may malfunction in such a way that it presents a permanently low impedance (e.g., a short circuit) regardless of the instructions received from processing module <b>132</b>. Detection of a short circuit fault in a switch is described hereinafter.</p>
<p id="p-0084" num="0083">Switches <b>158</b> may include one or more types of switching technologies. Switches <b>158</b> may generally represent any type of switching device that may be instructed to operate in open/closed states and that may operate under conditions (e.g., voltages/currents) present during delivery of high-energy therapy. In some examples, switches <b>158</b> may be silicon-controlled rectifier (SCR) devices. In examples where switches <b>158</b> include SCR devices, processing module <b>132</b> may apply a control voltage to the SCR devices to turn on the SCR devices. In other examples, switches <b>158</b> may include types of switches other than SCR devices. For example, switches <b>158</b> may include power metal-oxide-semiconductor field-effect-transistors (MOSFETs). In examples where switches <b>158</b> include power MOSFETs, processing module <b>132</b> may control a gate voltage applied to switches <b>158</b> to control the states of switches <b>158</b>. Although switches <b>158</b> may include SCR devices and power MOSFET devices, in other examples, switches <b>158</b> may include other types of high power switching devices, such as insulated-gate bipolar transistors (IGBTs), TRIACS, thyristors, or other power switching devices.</p>
<p id="p-0085" num="0084">Switching circuit <b>154</b> includes a sense resistor <b>159</b> that receives the current being delivered to switching circuit <b>154</b> by high-voltage capacitors <b>150</b> during delivery of high-energy therapy. The value of sense resistor <b>159</b> may be relatively small, so as not to present a load that may interfere with delivery of the high-energy therapy. A voltage Vs is generated across sense resistor <b>159</b> when current is being delivered to heart <b>102</b> during delivery of high-energy therapy. The voltage Vs may indicate the amount of current being delivered by high-voltage capacitors <b>150</b>. Comparator module <b>155</b> may compare the voltage Vs to a threshold voltage. The threshold voltage and the sense resistor may be selected based on an expected amount of current that may pass through switching circuit <b>154</b> when a short circuit fault is present. For example, the threshold voltage and sense resistor may be selected such that a threshold amount of current, indicative of a short circuit fault, may generate the threshold voltage across sense resistor <b>159</b>. Accordingly, comparator module <b>155</b> may indicate to processing module <b>132</b> that a short circuit fault is present when the voltage Vs is greater than the threshold voltage. Comparator module <b>155</b> may indicate to processing module <b>132</b> that a short circuit fault is not present when the voltage Vs is less than the threshold voltage. Comparator module <b>155</b> may be a circuit that indicates a digital value (e.g., high/low) to processing module <b>132</b> based on comparison of the voltage Vs to the threshold voltage. Processing module <b>132</b> may detect a short circuit fault during delivery of high-energy therapy when comparator module <b>155</b> indicates to processing module <b>132</b> that a short circuit fault is present. Accordingly, processing module <b>132</b> may detect a short circuit fault based on the amount of current being delivered by high-voltage capacitors <b>150</b> during delivery of high-energy therapy.</p>
<p id="p-0086" num="0085">Generally, processing module <b>132</b> may control delivery of high-energy therapy to heart <b>102</b> based on a variety of parameters. The parameters that specify delivery of high-energy therapy may be referred to herein as high-energy therapy configurations, or simply therapy configurations. As described above, therapy configurations may specify an electrode vector to be used during therapy and an electrical waveform (e.g., biphasic or monophasic) to be delivered by the electrode vector.</p>
<p id="p-0087" num="0086">Memory <b>134</b> may store the various therapy configurations that may be implemented by processing module <b>132</b> in order to deliver high-energy therapy. Processing module <b>132</b> may, in response to detection of a shockable arrhythmia, retrieve a therapy configuration from memory <b>134</b>, and control the delivery of high-energy therapy based on the information included in the retrieved therapy configuration. As illustrated in <figref idref="DRAWINGS">FIG. 3</figref>, memory <b>134</b> may include two sets of therapy configurations, initial therapy configurations <b>160</b>, and short circuit therapy configurations <b>162</b>.</p>
<p id="p-0088" num="0087">Initially, processing module <b>132</b> may control the delivery of high-energy therapy using initial therapy configurations <b>160</b>. Initial therapy configurations <b>160</b> may define a pattern of selection of therapy configurations to be used by processing module <b>132</b> in scenarios where processing module <b>132</b> has not previously detected a short circuit fault during delivery of high-energy therapy. Accordingly, processing module <b>132</b> may control delivery of high-energy therapy according to initial therapy configurations <b>160</b> in response to detection of a shockable arrhythmia in scenarios where processing module <b>132</b> has not yet detected a short circuit fault.</p>
<p id="p-0089" num="0088">Initial therapy configurations <b>160</b> may define a pattern of selection of therapy configurations that may be used by processing module <b>132</b> during attempts to treat a detected shockable arrhythmia. For example, processing module <b>132</b> may initially attempt to treat a shockable arrhythmia using a first therapy configuration of initial therapy configurations <b>160</b>. If successful in treating the shockable arrhythmia, processing module <b>132</b> may return to monitoring the rhythm of heart <b>102</b>. If unsuccessful in treating the shockable arrhythmia, e.g., if the shockable arrhythmia is not corrected, processing module <b>132</b> may select a second therapy configuration of initial therapy configurations <b>160</b> to treat the shockable arrhythmia. In this manner, processing module <b>132</b> may continue to select consecutive therapy configurations from initial therapy configurations <b>160</b> in order to attempt to treat a shockable arrhythmia in different ways until a successful treatment is found, e.g., until the shockable arrhythmia is corrected.</p>
<p id="p-0090" num="0089">Initial therapy configurations <b>160</b> may be programmed into memory <b>134</b> prior to implantation, e.g., as factory default settings or programmed by a clinician. In other examples, initial therapy configurations <b>160</b> may be updated by a clinician using programmer <b>130</b> after IMD <b>106</b> is implanted. Initial therapy configurations <b>160</b> may define a variety of different electrode vector and waveform combinations, as well as different amounts of energies to be delivered during high-energy therapy.</p>
<p id="p-0091" num="0090">Processing module <b>132</b> may control delivery of high-energy therapy according to initial therapy configurations <b>160</b> until a short circuit fault is detected during delivery of high-energy therapy according to initial therapy configurations <b>160</b>. Upon detection of a short circuit fault during delivery of high-energy therapy, processing module <b>132</b> may begin delivering high-energy therapy according to short circuit therapy configurations <b>162</b> stored in memory <b>132</b>. Short circuit therapy configurations <b>162</b> may define the selection of therapy configurations used by processing module <b>132</b> after a short circuit fault is detected during delivery of high-energy therapy. Accordingly, after detection of a short circuit fault, processing module <b>132</b> may control delivery of high-energy therapy according to short circuit therapy configurations <b>162</b> in response to detection of a shockable arrhythmia.</p>
<p id="p-0092" num="0091">Short circuit therapy configurations <b>162</b> may represent a plurality of different therapy configurations (i.e., N different therapy configurations). Each of the N therapy configurations <b>164</b>-<b>1</b>, <b>164</b>-<b>2</b>, . . . , <b>164</b>-N (collectively &#x201c;N therapy configurations <b>164</b>&#x201d;) may define an electrode vector (e.g., AX&#x3e;B, A&#x3e;X, etc.), a waveform (e.g., biphasic/monophasic), and transition data. Transition data included in each of N therapy configurations <b>164</b> may define a subsequent one of the N therapy configurations to select in response to detection of a short circuit fault at the current therapy configuration. For example, if processing module <b>132</b> detects a short circuit fault while using first therapy configuration <b>164</b>-<b>1</b>, processing module <b>132</b> may select a subsequent therapy configuration to use by looking at the transition data that is associated with the current therapy configuration <b>164</b>-<b>1</b>. The transition data of first therapy configuration <b>164</b>-<b>1</b> may indicate that processing module <b>132</b> should transition to second therapy configuration <b>164</b>-<b>2</b> in response to detection of a short circuit fault during delivery according to first therapy configuration <b>164</b>-<b>1</b>. In this case, processing module <b>132</b> may then control high-energy therapy delivery according to second therapy configuration <b>164</b>-<b>2</b>. If a fault is then detected by processing module <b>132</b> when using second therapy configuration <b>164</b>-<b>2</b>, processing module <b>132</b> may set the next therapy configuration to the therapy configuration indicated by the transition data of second therapy configuration <b>164</b>-<b>2</b>. In this manner, processing module <b>132</b> may determine a subsequent therapy configuration to use for the delivery of high-energy therapy based on the current therapy configuration in which a short circuit fault is detected.</p>
<p id="p-0093" num="0092">In addition to determining subsequent therapy configurations based on a current therapy configuration in which a short circuit fault is detected, processing module <b>132</b> may also make the subsequent therapy selection based when the short circuit fault was detected during the delivery of high-energy therapy. In other words, processing module <b>132</b> may select a subsequent therapy configuration based on the current therapy configuration in which a fault is detected and based on when the detected fault occurred during delivery of high-energy therapy according to the current therapy configuration.</p>
<p id="p-0094" num="0093">The transition data may specify the subsequent therapy configuration based on when the short circuit fault was detected during delivery according to the current therapy configuration. For example, the transition data associated with first therapy configuration <b>164</b>-<b>1</b> may instruct processing module <b>132</b> to deliver therapy according to second therapy configuration <b>164</b>-<b>2</b> if a short circuit fault is detected during the first phase of the biphasic waveform of first therapy configuration <b>164</b>-<b>1</b>, and the transition data associated with first therapy configuration <b>164</b>-<b>1</b> may instruct processing module <b>132</b> to deliver therapy according to the Nth therapy configuration <b>164</b>-N if a short circuit fault is detected during the second phase of the biphasic waveform of first therapy configuration <b>164</b>-<b>1</b>. Example selection of therapies according to short circuit therapy configurations <b>162</b> is described further with respect to the state diagram of <figref idref="DRAWINGS">FIG. 20</figref>.</p>
<p id="p-0095" num="0094">Although initial therapy configurations <b>160</b> and short circuit therapy configurations <b>162</b> are illustrated as separate therapy configurations, some therapy configurations included in initial therapy configurations <b>160</b> may be the same as some therapy configurations included in short circuit therapy configurations <b>162</b>. The illustration of the therapy configurations <b>160</b>, <b>162</b> as separate is meant to convey the concept that processing module <b>132</b> may follow different paths when selecting therapy configurations, depending on whether a short circuit fault has been detected.</p>
<p id="p-0096" num="0095">An electrode vector specified by a therapy configuration may include two or three of electrodes <b>124</b>, <b>127</b>. In some examples, three electrodes may be used to deliver high-energy therapy, while in other examples, less than three electrodes may be used to deliver high-energy therapy, i.e., in some examples, only 2 electrodes may be used to deliver therapy while a third electrode does not deliver therapy or is not physically present in the system.</p>
<p id="p-0097" num="0096">Electrodes used for delivery of defibrillation therapy are described and illustrated herein as electrodes HVA <b>124</b>, HVB <b>127</b>-<b>1</b>, and HVX <b>127</b>-<b>2</b>. Electrode HVA <b>124</b> is an electrode on housing <b>108</b>, and may be referred to as a &#x201c;can electrode&#x201d; in some examples. Electrode HVB <b>127</b>-<b>1</b> is a defibrillation coil in right ventricle <b>118</b>. Electrode HVX <b>127</b>-<b>2</b> is an additional electrode on lead <b>114</b> or may be part of an additional lead or electrode in the system. Although electrodes HVA <b>124</b>, HVB <b>127</b>-<b>1</b>, and HVX <b>127</b>-<b>2</b> are described herein as electrodes used for the delivery of high-energy therapy, it is contemplated that other electrode configurations different from those illustrated and described herein may be used for delivery of high-energy therapy.</p>
<p id="p-0098" num="0097">Electrode vectors may be described and illustrated using a notation that includes the greater-than symbol &#x201c;&#x3e;&#x201d; to indicate the direction of current between electrodes. For example, electrode vector &#x201c;AX&#x3e;B&#x201d; indicates that the direction of current during therapy delivery is from HVA electrode <b>124</b> and HVX electrode <b>127</b>-<b>2</b> to HVB electrode <b>127</b>-<b>1</b>. In some examples, e.g., during biphasic or multiphasic delivery, the direction of current may be reversed or altered based on the phase of delivery. Electrode vectors described herein that include three electrodes include &#x201c;AX&#x3e;B&#x201d; and &#x201c;B&#x3e;AX.&#x201d; Electrode vectors described herein that include only two electrodes include &#x201c;A&#x3e;B&#x201d;, &#x201c;B&#x3e;A&#x201d;, &#x201c;X&#x3e;B&#x201d;, and &#x201c;B&#x3e;X.&#x201d;</p>
<p id="p-0099" num="0098">Therapy configurations may specify the type of waveform to be delivered during high-energy therapy. Processing module <b>132</b> may control switching circuit <b>154</b> to deliver the type of waveform defined by the therapy configurations <b>160</b>, <b>162</b>. Generally, high-energy therapy may be delivered using a biphasic waveform or a monophasic waveform. Example biphasic and monophasic waveforms are illustrated in <figref idref="DRAWINGS">FIGS. 5 and 8</figref>, respectively. The biphasic waveform illustrated in <figref idref="DRAWINGS">FIG. 5</figref> includes a first phase <b>166</b> and a second phase <b>168</b>, separated by a transition period <b>170</b>. The monophasic waveform illustrated in <figref idref="DRAWINGS">FIG. 8</figref> includes a single phase <b>172</b>, referred to herein as a &#x201c;monophasic pulse <b>172</b>.&#x201d; Delivery of high-energy therapy according to the biphasic and monophasic waveforms is now described with respect to <figref idref="DRAWINGS">FIGS. 5 and 8</figref>, respectively.</p>
<p id="p-0100" num="0099">Referring now to <figref idref="DRAWINGS">FIG. 5</figref>, a biphasic waveform includes a first phase of delivery <b>166</b> and a second phase of delivery <b>168</b>, separated by a transition period <b>170</b>. The biphasic waveform of <figref idref="DRAWINGS">FIG. 5</figref> is illustrated as a voltage waveform vs. time. The y-axis may represent the magnitude of the voltage across high-voltage capacitors <b>150</b>, while the x-axis may represent the amount of time elapsed during delivery of the biphasic waveform. Processing module <b>132</b> may start the delivery of high-energy therapy at <b>174</b>. Prior to the start of high-energy therapy, charging module <b>152</b> charged high-voltage capacitors <b>150</b> to the voltage V<sub>0</sub>, e.g., based on the amount of energy programmed by the clinician, as described above. Accordingly, the voltage across high-voltage capacitors <b>150</b> at the start of delivery of the high-energy therapy is set at V<sub>0</sub>.</p>
<p id="p-0101" num="0100">Prior to delivery of high-energy therapy according to <figref idref="DRAWINGS">FIG. 5</figref>, switches <b>158</b> of switching circuit <b>154</b> may all be in the open state as illustrated in <figref idref="DRAWINGS">FIG. 4</figref>. Processing module <b>132</b> may instruct switching circuit <b>154</b> to change switching configurations in order to start delivery of first phase <b>166</b>. <figref idref="DRAWINGS">FIG. 6</figref> illustrates an example switching configuration of switching circuit <b>154</b> that may be used to deliver first phase <b>166</b> of high-energy therapy. In the example switching configuration of <figref idref="DRAWINGS">FIG. 6</figref> instructed by processing module <b>132</b>, first phase <b>166</b> of high-energy therapy is delivered using electrodes HVA <b>124</b>, HVX <b>127</b>-<b>2</b>, and HVB <b>127</b>-<b>1</b> (i.e., electrode vector AX&#x3e;B). In order to deliver first phase <b>166</b>, processing module <b>132</b> may instruct each of switches S<b>1</b> <b>158</b>-<b>1</b>, AH <b>158</b>-<b>2</b>, XH <b>158</b>-<b>3</b>, and BL <b>158</b>-<b>7</b> to transition from the open state to the closed state.</p>
<p id="p-0102" num="0101">The direction of current through switches AH <b>158</b>-<b>2</b>, XH <b>158</b>-<b>3</b>, BL <b>158</b>-<b>7</b> and heart <b>102</b> (modeled as resistors) during first phase <b>166</b> is illustrated by arrows. The voltage across high-voltage capacitors <b>150</b> may decrease during first phase <b>166</b> as current is delivered to heart <b>102</b>. Voltage measuring module <b>156</b> may measure the voltage across high-voltage capacitors <b>150</b> during first phase <b>166</b>. Processing module <b>132</b> may monitor the voltage measured by voltage measuring module <b>156</b> during first phase <b>166</b>. Processing module <b>132</b> may determine the amount of energy delivered to heart <b>102</b> based on the change in the monitored voltage. Comparator module <b>155</b> may monitor an amount of current being delivered during first phase <b>166</b> to determine whether the amount of current indicates a short circuit fault. Processing module <b>132</b> may determine whether a short circuit fault is present during first phase <b>166</b> based on the determination made by comparator module <b>155</b>.</p>
<p id="p-0103" num="0102">As described above, a clinician may program a total amount of energy to be delivered during the high-energy therapy. The clinician may also program how the total amount of energy is to be distributed between first and second phases <b>166</b>, <b>168</b>. In some examples, the clinician may program IMD <b>106</b> to divide the total amount of programmed energy equally (e.g., 50/50) between first and second phases <b>166</b>, <b>168</b>. In other examples, the clinician may program IMD <b>106</b> to divide the total amount of programmed energy unequally (e.g., 60/40) between the first and second phases <b>166</b>, <b>168</b>. Processing module <b>132</b> may determine threshold voltages for each of the first and second phases <b>166</b>, <b>168</b> based on the amount of energy to be delivered during the first and second phases <b>166</b>, <b>168</b>, respectively. The threshold voltages of the first and second phases <b>166</b>, <b>168</b> may be used by processing module <b>132</b> as indicators that the energy for each of the first and second phases <b>166</b>, <b>168</b> has been delivered.</p>
<p id="p-0104" num="0103">The threshold voltages for the first and second phases <b>166</b>, <b>168</b> are illustrated as V<sub>T1 </sub>and &#x2212;V<sub>T2 </sub>in <figref idref="DRAWINGS">FIG. 5</figref>. Processing module <b>132</b> may determine that the amount of energy programmed for first phase <b>166</b> (i.e., the first portion of the total energy) was delivered to heart <b>102</b> when the monitored voltage across high-voltage capacitors <b>150</b> has dropped from V<sub>0 </sub>to V<sub>T1</sub>. Similarly, processing module <b>132</b> may determine that the amount of energy programmed for second phase <b>168</b> (i.e., the second portion of the total energy) was delivered to heart <b>102</b> when the monitored voltage across high-voltage capacitors <b>150</b> has dropped from V<sub>T1 </sub>to V<sub>T2</sub>.</p>
<p id="p-0105" num="0104">Processing module <b>132</b> may control switching circuit <b>154</b> to discontinue delivery of high-energy therapy when processing module <b>132</b> determines that the voltage across high-voltage capacitors <b>150</b> has dropped to the first threshold voltage V<sub>T1</sub>. In other words, processing module <b>132</b> may set the switching configuration of switching circuit <b>154</b> such that high-voltage capacitors <b>150</b> are disconnected from electrodes <b>124</b>, <b>127</b>. In some examples, processing module <b>132</b> may instruct switching circuit <b>150</b> to open all switches <b>158</b> in switching circuit <b>154</b> so that high-voltage capacitors <b>150</b> are disconnected from electrodes <b>124</b>, <b>127</b>. In examples where switches AH <b>158</b>-<b>2</b>, XH <b>158</b>-<b>3</b>, and BL <b>158</b>-<b>7</b> are SCR devices and switch S<b>1</b> <b>158</b>-<b>1</b> is a power MOSFET device, processing module <b>132</b> may control switch S<b>1</b> <b>158</b>-<b>1</b> to open, thereby disconnecting switches AH <b>158</b>-<b>2</b>, XH <b>158</b>-<b>3</b>, and BL <b>158</b>-<b>7</b> from high-voltage capacitors <b>150</b> and therefore setting switches AH <b>158</b>-<b>2</b>, XH <b>158</b>-<b>3</b>, and BL <b>158</b>-<b>7</b> to the open state.</p>
<p id="p-0106" num="0105">With respect to <figref idref="DRAWINGS">FIG. 8</figref>, processing module <b>132</b> may control delivery of monophasic pulse <b>172</b> in a similar manner that processing module <b>132</b> controls delivery of first phase <b>166</b> described above. As illustrated in <figref idref="DRAWINGS">FIG. 8</figref>, processing module <b>132</b> may include a threshold voltage V<sub>TMONO </sub>that may be used by processing module <b>132</b> to determine when to discontinue therapy.</p>
<p id="p-0107" num="0106">Processing module <b>132</b> may wait for a short transition period <b>170</b> after first phase <b>166</b> prior to controlling switching circuit <b>154</b> to deliver therapy according to second phase <b>168</b>. In some examples, transition period <b>170</b> may be a wait on the order of approximately several milliseconds (e.g., 5 milliseconds). Processing module <b>132</b> may then control switching circuit <b>154</b> to deliver therapy according to second phase <b>168</b>.</p>
<p id="p-0108" num="0107"><figref idref="DRAWINGS">FIG. 7</figref> is a schematic that illustrates delivery of high-energy therapy during second phase <b>168</b>. During second phase <b>168</b>, processing module <b>132</b> controls switching circuit <b>154</b> to deliver energy to heart <b>102</b> in a polarity that is opposite to that delivered during first phase <b>166</b>. The direction of current through switching circuit <b>154</b> and heart <b>102</b> is illustrated by arrows. In order to deliver therapy during second delivery phase <b>168</b>, processing module <b>132</b> instructs switches S<b>1</b> <b>158</b>-<b>1</b>, BH <b>158</b>-<b>4</b>, AL <b>158</b>-<b>5</b>, and XL <b>158</b>-<b>6</b> to close. Voltage measuring module <b>156</b> measures the voltage across high-voltage capacitors <b>150</b> during second delivery phase <b>168</b>.</p>
<p id="p-0109" num="0108">Referring back to <figref idref="DRAWINGS">FIG. 5</figref>, the voltage waveform during second phase <b>168</b> is illustrated as negative to indicate that energy is being delivered to heart <b>102</b> from high-voltage capacitors <b>150</b> in a polarity that is opposite to that delivered during first phase <b>166</b>. At the start of second phase <b>168</b> of high-energy therapy, the voltage across high-voltage capacitors <b>150</b> is approximately equal to the voltage across high-voltage capacitors <b>150</b> at the end of first phase <b>166</b>. For example, the voltage across high-voltage capacitors <b>150</b> at the start of second phase is illustrated as &#x2212;V<sub>T1 </sub>in <figref idref="DRAWINGS">FIG. 5</figref>, which is equal in magnitude to the voltage V<sub>T1 </sub>at the end of first phase <b>166</b>.</p>
<p id="p-0110" num="0109">Voltage measuring module <b>156</b> measures the voltage across high-voltage capacitors <b>150</b> during second phase <b>168</b>. Voltage across high-voltage capacitors <b>150</b> may decrease during second phase <b>168</b>. Processing module <b>132</b> may monitor the decrease in voltage during second phase <b>168</b>. Processing module <b>132</b> may control switching circuit <b>154</b> to discontinue second phase <b>168</b> when the voltage across high-voltage capacitors <b>150</b> drops to a threshold voltage that indicates that the programmed amount of energy has been delivered during second phase <b>168</b>. The threshold voltage that indicates that the programmed amount of energy has been delivered is illustrated as &#x2212;V<sub>T2</sub>. Additionally, comparator module <b>155</b> may monitor an amount of current delivered during second phase <b>168</b> to determine whether the amount of current indicates a short circuit fault. Processing module <b>132</b> may determine whether a short circuit fault is present during second phase <b>168</b> based on the determination made by comparator module <b>155</b>.</p>
<p id="p-0111" num="0110">Processing module <b>132</b> may control switching circuit <b>154</b> to discontinue delivery of high-energy therapy when processing module <b>132</b> determines that the voltage across high-voltage capacitors <b>150</b> has dropped to the threshold voltage &#x2212;V<sub>T2 </sub>(e.g., dropped to a magnitude of V<sub>T2</sub>). In other words, processing module <b>132</b> may set the switching configuration of switching circuit <b>154</b> such that high-voltage capacitors <b>150</b> are disconnected from electrodes <b>124</b>, <b>127</b> when the voltage across high-voltage capacitors <b>150</b> has dropped to V<sub>T2</sub>. Processing module <b>132</b> may control switching circuit <b>154</b> to stop delivery of therapy during second phase <b>168</b> by instructing all switches <b>158</b> of switching circuit <b>154</b> to open. In examples where switches BH <b>158</b>-<b>4</b>, AL <b>158</b>-<b>5</b>, and XL <b>158</b>-<b>6</b> are SCR devices and switch S<b>1</b> <b>158</b>-<b>1</b> is a power MOSFET device, processing module <b>132</b> may control switch S<b>1</b> <b>158</b>-<b>1</b> to open, thereby disconnecting switches BH <b>158</b>-<b>4</b>, AL <b>158</b>-<b>5</b>, and XL <b>158</b>-<b>6</b> from high-voltage capacitors <b>150</b> and therefore setting switches BH <b>158</b>-<b>4</b>, AL <b>158</b>-<b>5</b>, and XL <b>158</b>-<b>6</b> to the open state.</p>
<p id="p-0112" num="0111"><figref idref="DRAWINGS">FIG. 9</figref> is a flowchart of a method for delivering high-energy therapy using a biphasic waveform. At the start of the method of <figref idref="DRAWINGS">FIG. 9</figref>, it may be assumed that processing module <b>132</b> is configured to deliver high-energy therapy using a biphasic waveform. The method of <figref idref="DRAWINGS">FIG. 9</figref> describes a scenario where IMD <b>106</b> delivers a biphasic waveform without detecting a short circuit fault.</p>
<p id="p-0113" num="0112">At the start of the method of <figref idref="DRAWINGS">FIG. 9</figref>, processing module <b>132</b> may be continuously monitoring heart rate to determine whether heart <b>102</b> is experiencing a shockable arrhythmia (<b>200</b>). If processing module <b>132</b> does not detect a shockable arrhythmia (e.g., VT/VF), processing module <b>132</b> continues monitoring heart rate. If processing module <b>132</b> detects a shockable arrhythmia, processing module <b>132</b> instructs charging module <b>152</b> to charge high-voltage capacitors <b>150</b> (<b>202</b>). Processing module <b>132</b> may monitor the voltage across high-voltage capacitors <b>150</b> during charging and determine whether high-voltage capacitors <b>150</b> are charged based on the magnitude of the monitored voltage (<b>204</b>). If processing module <b>132</b> determines that high-voltage capacitors <b>150</b> are not charged up to the charging voltage V<sub>0</sub>, processing module <b>132</b> continues monitoring the voltage across high-voltage capacitors <b>150</b> until the appropriate threshold is reached.</p>
<p id="p-0114" num="0113">If processing module <b>132</b> determines that high-voltage capacitors <b>150</b> are charged up to the charging voltage V<sub>0</sub>, processing module <b>132</b> may disconnect charging module <b>152</b> from high-voltage capacitors <b>150</b> and control switching circuit <b>154</b> in order to deliver first phase <b>166</b> of a biphasic waveform (<b>206</b>). Processing module <b>132</b> may then monitor the voltage across high-voltage capacitors <b>150</b> in order to determine whether the first portion of energy has been delivered (<b>208</b>). If processing module <b>132</b> determines that the voltage across high-voltage capacitors <b>150</b> is greater than the first threshold voltage V<sub>T1</sub>, processing module <b>132</b> may determine that the first portion of energy has not been delivered in block (<b>208</b>), and processing module <b>132</b> may continue to monitor the voltage across high-voltage capacitors <b>150</b>.</p>
<p id="p-0115" num="0114">If processing module <b>132</b> determines that the voltage across high-voltage capacitors <b>150</b> is less than or equal to V<sub>T1</sub>, processing module <b>132</b> may determine that the first portion of energy has been delivered in block (<b>208</b>). Processing module <b>132</b> may then discontinue delivery of first phase <b>166</b> of the biphasic waveform, wait for a transition period, and then configure switching circuit <b>154</b> to deliver second phase <b>168</b> of the biphasic waveform (<b>210</b>).</p>
<p id="p-0116" num="0115">Processing module <b>132</b> may then monitor the voltage across high-voltage capacitors <b>150</b> in order to determine whether the second portion of energy has been delivered (<b>212</b>). If processing module <b>132</b> determines that the voltage across high-voltage capacitors <b>150</b> is greater than the second threshold voltage V<sub>T2</sub>, processing module <b>132</b> may determine that the second portion of energy has not been delivered in block (<b>212</b>), and processing module <b>132</b> may continue to monitor the voltage across high-voltage capacitors <b>150</b>.</p>
<p id="p-0117" num="0116">If processing module <b>132</b> determines that the voltage across high-voltage capacitors <b>150</b> is less than or equal to V<sub>T2</sub>, processing module <b>132</b> may determine that the second portion of energy has been delivered in block (<b>212</b>). Processing module <b>132</b> may then discontinue delivery of second phase <b>168</b> of the biphasic waveform and return to monitoring the heart rate and determining whether a shockable arrhythmia is detected (<b>200</b>).</p>
<p id="p-0118" num="0117">IMD <b>106</b> of the present disclosure may detect potential faults in components of IMD <b>106</b>. For example, as described hereinafter, processing module <b>132</b> may detect potential faults based on information acquired during delivery of high-energy therapy. The potential faults may be manifested as short circuit faults in the electrical pathway from high-voltage capacitors <b>150</b> to electrodes <b>124</b>, <b>127</b>. When components of IMD <b>106</b> are functional, i.e., do not include short circuit faults, a continuous electrical pathway is present from high-voltage capacitors <b>150</b> to heart <b>102</b> through which high-energy therapy is delivered to heart <b>102</b>. However, when the electrical pathway from high-voltage capacitors <b>150</b> to electrodes <b>124</b>, <b>127</b> includes a short circuit fault, current may be redirected (e.g., shunted) such that the current is not delivered effectively to heart <b>102</b>, but instead directed through the short circuit fault of the electrical pathway.</p>
<p id="p-0119" num="0118">The electrical pathway from high-voltage capacitors <b>150</b> to electrodes <b>124</b>, <b>127</b> during delivery of high-energy therapy may include a variety of components. For example, as illustrated, the electrical path may include some of switches <b>158</b>, conductors in lead <b>114</b>, and electrodes <b>124</b>, <b>127</b>. Additionally, the electrical pathway may include electrical connections within IMD <b>106</b> that connect high-voltage capacitors <b>150</b> to switches <b>158</b>, the electrical connections that form interconnects between switches <b>158</b>, and the electrical connections that connect conductors of lead <b>114</b> to electrical switches <b>158</b>. The electrical interconnects between high-voltage capacitors <b>150</b> and switches <b>158</b> may include metallic traces on printed circuit boards (PCBs) that provide support for electrical components within IMD <b>106</b> and metallic wires that may be used to connect conductors in lead <b>114</b> to the PCB of IMD <b>106</b>.</p>
<p id="p-0120" num="0119">When components of IMD <b>106</b> (e.g., switches <b>158</b>, conductive interconnects, conductors in lead <b>114</b>, and electrodes <b>124</b>, <b>127</b>) are functional, high-voltage capacitors <b>150</b> may be connected to heart <b>102</b> during high-energy therapy such that the energy discharged from high-voltage capacitors <b>150</b> is delivered to heart <b>102</b>. However, in some examples, components of IMD <b>106</b> that form the electrical path from high-voltage capacitors <b>150</b> to heart <b>102</b> may malfunction and produce a short circuit fault in the electrical path. The short circuit fault in the electrical path may be a low impedance path (e.g., approximately a short circuit) that redirects current away from heart <b>102</b>. In other words, current conducted through a short circuit fault may not be delivered to heart <b>102</b>, but instead may be dissipated in other areas of IMD <b>106</b>. The redirection of current away from heart <b>102</b> may decrease the amount of energy delivered to heart <b>102</b> during high-energy therapy, and therefore may cause the attempted delivery of the high-energy therapy to be ineffective.</p>
<p id="p-0121" num="0120">As described above, switches <b>158</b> typically present a high impedance when operating in the open state (e.g., an open circuit). A short circuit fault in a switch may cause a decrease in the impedance of the switch when the switch is instructed to operate in the open state by processing module <b>132</b>. For example, when switches <b>158</b> are MOSFETs, a short circuit fault may include a fault that presents a decreased impedance from drain to source of the MOSFET when the MOSFET is intended to operate as an open switch. A short circuit fault in a switch may not necessarily be a near zero impedance, but instead, the short circuit fault in the switch may have an impedance value in between a zero impedance and an open circuit impedance that may allow current to flow through the switch in a manner that was not intended.</p>
<p id="p-0122" num="0121">Typically, lead <b>114</b> includes separate conductors that extend from connector block <b>110</b> to electrodes <b>127</b>. Conductors within lead <b>114</b> may typically provide separate low impedance paths from high-voltage capacitors <b>150</b> to heart <b>102</b>. However, a short circuit fault may occur between the conductors of lead <b>114</b>. A short circuit fault between the conductors may present a low impedance path (e.g., a short circuit) for current delivered from high-voltage capacitors <b>150</b> during delivery of high-energy therapy. A short between conductors of leads <b>114</b> may be either an intermittent or continuous short.</p>
<p id="p-0123" num="0122">Typically, interconnections between electronic components of IMD <b>106</b> provide separate low impedance paths for current delivered from high-voltage capacitors <b>150</b>. Interconnections, as used herein, may generally describe the conductive paths between components of IMD <b>106</b>. For example, interconnects may include the conductive traces (e.g., on a PCB) and wires that connect high-voltage capacitors <b>150</b> to switches <b>158</b>. Additionally, interconnects may also include the conductive traces and wires that connect switches <b>158</b> to conductors of lead <b>114</b>. In some examples, short circuit faults may be present between interconnects. Short circuit faults between the interconnects may present a low impedance path for current delivered from high-voltage capacitors <b>150</b> during deliver of high-energy therapy. Such a short circuit fault between two interconnects may conduct current delivered from high-voltage capacitors <b>150</b> such that the current is redirected away from heart <b>102</b>. A short circuit fault between two interconnects may be caused, for example, by fatigue and insulation breaches.</p>
<p id="p-0124" num="0123">Additionally, interconnects may include the conductors of connector block <b>110</b>. As described above, conductors in lead <b>114</b> may be mechanically connected to connector block <b>110</b> by screws, for example. When lead <b>114</b> is mechanically connected, conductors of lead <b>114</b> may be seated against conductive contacts within connector block <b>110</b> such that conductors of lead <b>114</b> are electrically connected to electrical components (e.g., switches <b>158</b>) within IMD <b>106</b>. In some examples, short circuit faults may be present in connector block <b>110</b>, e.g., between electrical contacts of connector block <b>110</b> that may cause current from high-voltage capacitors <b>150</b> to be shunted away from heart <b>102</b>. A short circuit fault in connector block <b>110</b> may include leakage paths between conductors, which may be caused by high voltage induced breakdown of insulating materials. In some examples, leakage paths may be present between conductors in the same bore (e.g., in a DF-4 or IS-4 connector standard), or between conductors in different bores, or between pathways that exit one bore and couple to another bore through conductive body fluids.</p>
<p id="p-0125" num="0124"><figref idref="DRAWINGS">FIGS. 10-16</figref> are schematics that illustrate example short circuit faults that may be present during delivery of high-energy therapy. It may be assumed that short circuits <b>175</b>, <b>176</b>, <b>177</b>, <b>178</b> of <figref idref="DRAWINGS">FIGS. 10-16</figref> present a low enough impedance to trigger detection of a short circuit fault by comparator module <b>155</b>, and therefore are detectable by processing module <b>132</b>. <figref idref="DRAWINGS">FIGS. 10-16</figref> show a variety of different short circuit faults and potential switching configurations that may be used to work around such short circuit faults in order to provide high-energy therapy. Short circuits <b>175</b>, <b>176</b>, <b>177</b>, <b>178</b> illustrated in <figref idref="DRAWINGS">FIGS. 10-16</figref> may generally represent low impedance electrical connections that shunt current away from heart <b>102</b>. Short circuits <b>175</b>, <b>176</b>, <b>177</b>, <b>178</b> may be intermittent in nature, or continuous (i.e., permanent).</p>
<p id="p-0126" num="0125">Detection of short circuit faults and potential switching configurations that may be used to bypass the short circuit faults are now described with respect to <figref idref="DRAWINGS">FIGS. 10-13</figref>. <figref idref="DRAWINGS">FIGS. 14-15</figref> illustrate short circuit faults that may be present in switches <b>158</b>. <figref idref="DRAWINGS">FIG. 16</figref> illustrates using a shorted switch to deliver high-energy therapy. <figref idref="DRAWINGS">FIGS. 17-19</figref> show methods for reconfiguring high-energy therapy in response to detection of a short circuit fault during delivery of high-energy therapy.</p>
<p id="p-0127" num="0126"><figref idref="DRAWINGS">FIG. 10</figref> is a schematic that shows an example short circuit fault that may be present during delivery of high-energy therapy. The schematic may represent an attempted delivery of high-energy therapy during a first phase of a biphasic waveform using the AX&#x3e;B vector. Short circuit <b>175</b> is illustrated between electrodes HVX <b>127</b>-<b>2</b> and HVB <b>127</b>-<b>1</b>. Short circuit <b>175</b> may represent one or more types of faults. In one example, short circuit <b>175</b> may represent a short circuit in connector <b>110</b>. In another example, short circuit <b>175</b> may represent a short circuit between conductors of lead <b>114</b>.</p>
<p id="p-0128" num="0127">Short circuit <b>175</b> may tend to direct current away from heart <b>102</b> during delivery of therapy. For example, short circuit <b>175</b> in parallel with heart <b>102</b>, may tend to shunt current away from heart <b>102</b> during delivery of high-energy therapy. Short circuit <b>175</b> may generally represent a conductive path that may take on a range of impedances. The lower the impedance of short circuit <b>175</b>, the more the current delivered by high-voltage capacitors <b>150</b> may be shunted away from heart <b>102</b> during delivery of high-energy therapy. The shunting of current away from heart <b>102</b> may cause an attempted therapy delivery to be ineffective.</p>
<p id="p-0129" num="0128">Processing module <b>132</b> may detect a short circuit fault during delivery of high-energy therapy when short circuit <b>175</b> is present in the conductive pathway. During delivery of high-energy therapy according to the therapy configuration of <figref idref="DRAWINGS">FIG. 10</figref>, comparator module <b>155</b> may indicate that the amount of current through switching circuit <b>154</b> is greater than the threshold amount of current. Based on this indication from comparator module <b>155</b>, processing module <b>132</b> may detect the short circuit fault.</p>
<p id="p-0130" num="0129"><figref idref="DRAWINGS">FIG. 11</figref> shows a switching configuration of switching circuit <b>154</b> that may be used to work around the short circuit fault of <figref idref="DRAWINGS">FIG. 10</figref>. <figref idref="DRAWINGS">FIG. 11</figref> illustrates that delivering high-energy therapy using electrode vector A&#x3e;B may provide a work around of short circuit <b>175</b>. According to <figref idref="DRAWINGS">FIG. 11</figref>, processing module <b>132</b> may deliver high-energy therapy using electrode vector A&#x3e;B by closing switches AH <b>158</b>-<b>2</b> and BL <b>158</b>-<b>7</b>. Using this switching configuration, current may be delivered to heart <b>102</b> via electrodes HVA <b>124</b> and HVB <b>127</b>-<b>1</b>, bypassing short circuit <b>175</b> between HVX <b>127</b>-<b>2</b> and HVB <b>127</b>-<b>1</b>.</p>
<p id="p-0131" num="0130"><figref idref="DRAWINGS">FIG. 12</figref> is a schematic that shows another example short circuit fault that may be present during delivery of high-energy therapy. Short circuit <b>176</b> is illustrated as a short circuit between electrodes HVA <b>124</b> and HVB <b>127</b>-<b>1</b>. Short circuit <b>176</b> may represent one or more types of short circuit faults. In one example, short circuit <b>176</b> may represent a short circuit in connector <b>110</b>. In another example, short circuit <b>176</b> may represent a short circuit between a conductor of lead <b>114</b> and HVA electrode <b>124</b>, e.g., a short in the pocket between an exposed portion of lead <b>114</b> and HVA electrode <b>124</b>. Short circuit <b>176</b> may tend to direct current away from heart <b>102</b> during delivery of therapy in a similar manner as short circuit <b>175</b> of <figref idref="DRAWINGS">FIG. 10</figref>. The shunting of current away from heart <b>102</b> through short circuit <b>176</b> may cause an attempted therapy delivery to be ineffective.</p>
<p id="p-0132" num="0131">Processing module <b>132</b> may detect short circuit <b>176</b> of <figref idref="DRAWINGS">FIG. 12</figref> in a similar manner as processing module <b>132</b> detects short circuit <b>175</b> of <figref idref="DRAWINGS">FIG. 10</figref>. For example, during delivery of high-energy therapy according to the therapy configuration of <figref idref="DRAWINGS">FIG. 12</figref>, processing module <b>132</b> may detect a short circuit fault based on an indication from comparator module <b>155</b> that the amount of current through switching circuit <b>154</b> is greater than the threshold amount of current.</p>
<p id="p-0133" num="0132">Note that although short circuit <b>175</b> of <figref idref="DRAWINGS">FIGS. 10-11</figref> and short circuit <b>176</b> of <figref idref="DRAWINGS">FIGS. 12-13</figref> are in different locations, short circuits <b>175</b>, <b>176</b> may both be detected as short circuit faults that occur during delivery of high-energy therapy during a first phase of a biphasic waveform using the AX&#x3e;B vector. In this respect, in some examples, processing module <b>132</b> may not differentiate between short circuit <b>175</b> and short circuit <b>176</b> based solely on detection of a short circuit fault during delivery of high-energy therapy during a first phase of a biphasic waveform using the AX&#x3e;B vector. In some examples, IMD <b>106</b> may include additional short circuit fault detection components that may be used to distinguish between different types of short circuit faults.</p>
<p id="p-0134" num="0133">However, processing module <b>132</b> may differentiate between short circuits <b>175</b>, <b>176</b> based on the detection of subsequent short circuit faults, or the absence of short circuit faults, using different switching configurations. For example, even though processing module <b>132</b> may not differentiate between the short circuit faults caused by short circuits <b>175</b>, <b>176</b> when using the AX&#x3e;B vectors, processing module <b>132</b> may differentiate between detected short circuit faults when using the A&#x3e;B vector. As described above with respect to <figref idref="DRAWINGS">FIG. 11</figref>, using electrode vector A&#x3e;B may work around the short circuit fault caused by short circuit <b>175</b>. However, as illustrated by <figref idref="DRAWINGS">FIG. 12</figref>, using electrode vector A&#x3e;B to work around short circuit <b>176</b> may not be successful. Instead, processing module <b>132</b> may detect a short circuit fault when delivering high-energy therapy while using electrode vector A&#x3e;B when short circuit <b>176</b> of <figref idref="DRAWINGS">FIG. 12</figref> is present.</p>
<p id="p-0135" num="0134"><figref idref="DRAWINGS">FIG. 13</figref> shows a switching configuration of switching circuit <b>154</b> that may be used to bypass the short circuit fault of <figref idref="DRAWINGS">FIG. 12</figref>. <figref idref="DRAWINGS">FIG. 13</figref> illustrates that delivering high-energy therapy using electrode vector X&#x3e;B may provide a work around of short circuit <b>176</b>. According to <figref idref="DRAWINGS">FIG. 13</figref>, processing module <b>132</b> may deliver high-energy therapy using electrode vector X&#x3e;B by closing switches XH <b>158</b>-<b>3</b> and BL <b>158</b>-<b>7</b>. Using this switching configuration, current may be delivered via electrodes HVX <b>127</b>-<b>2</b> and HVB <b>127</b>-<b>1</b>, bypassing short circuit <b>176</b> between HVA <b>124</b> and HVB <b>127</b>-<b>1</b>.</p>
<p id="p-0136" num="0135">Although delivering high-energy therapy using electrode vector X&#x3e;B may not be as efficacious as providing high-energy therapy using vector AX&#x3e;B, in some examples, delivering therapy using vector X&#x3e;B may be one of the few available vectors for therapy delivery, depending on the location of a detect short circuit fault. For example, as described above with respect to <figref idref="DRAWINGS">FIG. 12</figref>, processing module <b>132</b> may not deliver therapy using electrode vector AX&#x3e;B due to short circuit <b>176</b>, however, processing module <b>132</b> may be able to reconfigure the electrode vector in order to deliver high-energy therapy using electrode vector X&#x3e;B. Although vector X&#x3e;B may not provide a more efficacious therapy than other electrode vectors (e.g., AX&#x3e;B), therapy via vector X&#x3e;B may still successfully treat a shockable arrhythmia and return heart <b>102</b> to a normal rhythm, e.g., in cases where electrode X is an epicardial patch electrode on the myocardium. Accordingly, delivery of therapy via a less efficacious option (e.g., vector X&#x3e;B) may prove effective in correcting an arrhythmia, and therefore may be more preferable than completely withholding high-energy therapy in response to detection of a short circuit fault.</p>
<p id="p-0137" num="0136"><figref idref="DRAWINGS">FIG. 14</figref> is a schematic that shows another example short circuit fault that may be present during delivery of high-energy therapy. Short circuit <b>177</b> is illustrated as a short circuit across switch BH <b>158</b>-<b>4</b>. Short circuit <b>177</b> across switch <b>158</b>-<b>4</b> may present a low impedance path, regardless of whether processing module <b>132</b> has instructed switch <b>158</b>-<b>4</b> to open or close. Short circuit <b>177</b> may tend to direct current away from heart <b>102</b> and through switch BL <b>158</b>-<b>7</b> when switch BL <b>158</b>-<b>7</b> is closed during delivery of high-energy therapy. The shunting of current away from heart <b>102</b> through short circuit <b>177</b> may reduce the effectiveness of the delivered therapy.</p>
<p id="p-0138" num="0137">Switching circuit <b>154</b>, as illustrated in <figref idref="DRAWINGS">FIG. 14</figref>, is configured to deliver first phase <b>166</b> of a biphasic waveform using electrode vector AX&#x3e;B. During delivery of first phase <b>166</b>, processing module <b>132</b> may detect a short circuit fault based on an indication from comparator module <b>155</b> that the amount of current through switching circuit <b>154</b> is greater than the threshold amount of current.</p>
<p id="p-0139" num="0138">Note that if short circuit <b>177</b> was not present in switch BH <b>158</b>-<b>4</b> in <figref idref="DRAWINGS">FIG. 14</figref> during first phase <b>166</b>, but instead present in switch BL <b>158</b>-<b>7</b> during first phase <b>166</b> of delivery using electrode vector AX&#x3e;B, then the short circuit across switch BL <b>158</b>-<b>7</b> would not be detected during first phase <b>166</b>. In other words, in some examples, processing module <b>132</b> may not detect a short circuit fault when a short circuit is present in a switch that processing module <b>132</b> has instructed to close. As described hereinafter with respect to <figref idref="DRAWINGS">FIG. 16</figref>, in some examples, a short circuit in a switch may be used for delivery of high-energy therapy.</p>
<p id="p-0140" num="0139"><figref idref="DRAWINGS">FIG. 15</figref> is a schematic that shows another example short circuit fault that may be present during delivery of high-energy therapy. Short circuit <b>178</b> is illustrated as a short circuit across switch BL <b>158</b>-<b>7</b>. Short circuit <b>178</b> in switch BL <b>158</b>-<b>7</b> may present a low impedance path through switch BL <b>158</b>-<b>7</b>, regardless of whether processing module <b>132</b> has instructed switch <b>158</b>-<b>7</b> to open or close. As described above, short circuit <b>178</b> in switch BL <b>158</b>-<b>7</b> may not be detected by processing module <b>132</b> during first phase <b>166</b> of delivery using electrode vector AX&#x3e;B. However, short circuit <b>178</b> across switch BL <b>158</b>-<b>7</b> may be detected during second phase <b>168</b> of delivery using electrode vector AX&#x3e;B.</p>
<p id="p-0141" num="0140">Switching circuit <b>154</b>, as illustrated in <figref idref="DRAWINGS">FIG. 15</figref>, is configured to deliver second phase <b>168</b> of a biphasic waveform using electrode vector AX&#x3e;B. During delivery of second phase <b>168</b>, processing module <b>132</b> may detect a short circuit fault based on an indication from comparator module <b>155</b> that the amount of current through switching circuit <b>154</b> is greater than the threshold amount of current. Short circuit <b>178</b> may tend to direct current away from heart <b>102</b> during second phase <b>168</b>, which may reduce the effectiveness of the delivered therapy during second phase <b>168</b>.</p>
<p id="p-0142" num="0141"><figref idref="DRAWINGS">FIGS. 14-15</figref> together illustrate that some short circuit faults may be detected during one phase of a biphasic waveform, but not during another phase of a biphasic waveform. For example, a short circuit in switch BH <b>158</b>-<b>4</b> may be detected during the first phase of a biphasic waveform, but not during a second phase of the biphasic waveform. Similarly, a short circuit in switch BL <b>158</b>-<b>7</b> may be detected during a second phase of a biphasic waveform, but not during the first phase of the biphasic waveform. Accordingly, the time when the short circuit fault is detected during delivery of high-energy therapy may provide information that indicates the location of the short circuit fault. The order in which new therapy configurations are selected by processing module <b>132</b> may be based on this information. In other words, processing module <b>132</b> may select a new therapy configuration based on the electrode vector that was being used when the short circuit fault was detected during the delivery of high-energy therapy and based on when (e.g., which phase) the short circuit fault was detected during delivery of the high-energy therapy.</p>
<p id="p-0143" num="0142">With respect to <figref idref="DRAWINGS">FIGS. 10-16</figref>, note that in some examples, processing module <b>132</b> may not determine the exact location (e.g., conductor, or switch) of a short circuit after making only a single detection of a short circuit fault since there may be multiple causes of short circuit faults for a single therapy configuration. For example, with respect to <figref idref="DRAWINGS">FIGS. 10-13</figref>, shorts <b>175</b>, <b>176</b>, although in different locations, may both be detected as a short circuit fault during a first phase of a biphasic waveform using the AX&#x3e;B vector.</p>
<p id="p-0144" num="0143">Although processing module <b>132</b> may not specifically identify the location of a short circuit within the delivery pathway upon a single detection of a short circuit fault, processing module <b>132</b> may, in some examples, determine the location of a short circuit fault in IMD <b>106</b> with some degree of specificity after a sequence of short circuit faults are detected. For example, as described above, processing module <b>132</b> may detect shorts in switching circuit <b>154</b> based on the phase of delivery in which the short circuit fault was detected. In these examples, processing module <b>132</b> may select a therapy configuration from short circuit therapy configurations <b>162</b> that provides a delivery of therapy (e.g., monophasic) that compensates for the shorted switch by including the shorted switch in the delivery path. In other words, processing module <b>132</b> may, in some examples, determine that a short circuit is included in switching circuit <b>154</b> (e.g., in a switch), and subsequently select a therapy configuration that includes the short circuit in the delivery pathway. Thus, processing module <b>132</b> may intentionally, via selection of a therapy configuration, use a detected short circuit as a portion of the delivery pathway.</p>
<p id="p-0145" num="0144">Referring now to <figref idref="DRAWINGS">FIG. 17</figref>, a flowchart illustrates a method for detecting short circuit faults during delivery of high-energy therapy using a biphasic waveform. It may be assumed that processing module <b>132</b> is configured to deliver high-energy therapy using a biphasic waveform, as illustrated in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0146" num="0145">Processing module <b>132</b> may continuously monitor the heart rate of patient <b>104</b> and determine whether heart <b>102</b> is experiencing an arrhythmia (<b>300</b>). If processing module <b>132</b> does not detect a shockable arrhythmia, processing module <b>132</b> continues monitoring heart rate. If processing module <b>132</b> detects a shockable arrhythmia, processing module <b>132</b> instructs charging module <b>152</b> to charge high-voltage capacitors <b>150</b> to voltage V<sub>0 </sub>(<b>302</b>).</p>
<p id="p-0147" num="0146">Processing module <b>132</b> then instructs switching circuit <b>154</b> to deliver first phase <b>166</b> of a biphasic waveform (<b>304</b>). Processing module <b>132</b> may then monitor the current being delivered by high-voltage capacitors <b>150</b> during first phase <b>166</b>. During first phase <b>166</b>, processing module <b>132</b> may determine whether the amount of current being delivered by high-voltage capacitors <b>150</b> is greater than the threshold amount of current (<b>306</b>). If the amount of current being delivered by high-voltage capacitors <b>150</b> is greater than the threshold amount of current, then processing module <b>132</b> may detect a short circuit fault (<b>308</b>) and transition to delivering second phase <b>168</b> (<b>310</b>). If processing module <b>132</b> determines that the amount of current is not greater than the threshold amount of current, processing module <b>132</b> may determine whether the first amount of energy has been delivered (<b>312</b>). If the first portion of energy has not been delivered (i.e., Vcap&#x3e;V<sub>T1</sub>), then processing module <b>132</b> continues monitoring the current being delivered by high-voltage capacitors <b>150</b> in block (<b>306</b>). If processing module <b>132</b> determines that the first portion of energy has been delivered (i.e., Vcap&#x2266;V<sub>T1</sub>) then processing module <b>132</b> may discontinue delivery of first phase <b>166</b> of the biphasic waveform, wait for a transition period, and then configure switching circuit <b>154</b> to deliver second phase <b>168</b> of the biphasic waveform (<b>310</b>).</p>
<p id="p-0148" num="0147">Processing module <b>132</b> may then monitor the current being delivered by high-voltage capacitors <b>150</b> during second phase <b>168</b>. During second phase <b>168</b>, processing module <b>132</b> may determine whether the amount of current being delivered by high-voltage capacitors <b>150</b> is greater than the threshold amount of current (<b>314</b>). If the amount of current being delivered by high-voltage capacitors <b>150</b> is greater than the threshold amount of current, then processing module <b>132</b> may detect a short circuit fault (<b>316</b>) and end high-energy therapy delivery (<b>318</b>). If processing module <b>132</b> determines that the amount of current is not greater than the threshold amount of current, processing module <b>132</b> may determine whether the second amount of energy has been delivered (<b>320</b>). If processing module <b>132</b> determines that the second amount of energy has been delivered (i.e., Vcap&#x2266;V<sub>T2</sub>) then processing module <b>132</b> may discontinue delivery of the high-energy therapy (<b>318</b>).</p>
<p id="p-0149" num="0148">With respect to <figref idref="DRAWINGS">FIG. 3</figref>, as described above, memory <b>134</b> may include initial therapy configurations <b>160</b> and short circuit therapy configurations <b>162</b>. Initially, before detection of a short circuit fault, processing module <b>132</b> may control the delivery of high-energy therapy using initial therapy configurations <b>160</b>. For example, initial therapy configurations <b>160</b> may define a pattern of therapy configurations to be used by processing module <b>132</b> in scenarios where processing module <b>132</b> has not previously detected a short circuit fault during delivery of high-energy therapy.</p>
<p id="p-0150" num="0149">Processing module <b>132</b> may control delivery of high-energy therapy according to initial therapy configurations <b>160</b> until a short circuit fault is detected during delivery of high-energy therapy, as described above. Upon detection of a short circuit fault during delivery of high-energy therapy, processing module <b>132</b> may begin delivering high-energy therapy according to short circuit therapy configurations <b>162</b> stored in memory <b>134</b>. Short circuit therapy configurations <b>162</b> may represent N different therapy configurations <b>164</b>. Each of the N therapy configurations <b>164</b> may define an electrode vector (e.g., AX&#x3e;B, A&#x3e;X, etc.), a waveform (e.g., biphasic/monophasic), and transition data. The transition data included in each of the N therapy configurations <b>164</b> may define a subsequent one of the N therapy configurations to select in response to detection of a short circuit fault at the current therapy selection. For example, the transition data may specify a subsequent one of the N therapy configurations to select based on when (e.g., during which phase of delivery) a short circuit fault was detected during delivery of high-energy therapy according to the current one of the N therapy configurations.</p>
<p id="p-0151" num="0150"><figref idref="DRAWINGS">FIG. 18</figref> shows a method for reconfiguring high-energy therapy based on detection of a short circuit fault during previous deliveries of high-energy therapy. At the start of the method of <figref idref="DRAWINGS">FIG. 18</figref>, it may be assumed that processing module <b>132</b> has not yet detected a short circuit fault during delivery of high-energy therapy. Accordingly, at the start of the method of <figref idref="DRAWINGS">FIG. 18</figref>, processing module <b>132</b> may select an initial therapy configuration (e.g., an initial electrode vector and waveform) for delivery of high-energy therapy from initial therapy configurations <b>160</b> (<b>400</b>). It may be assumed that the initial therapy configuration specifies that the waveform to be delivered during high-energy therapy is a biphasic waveform.</p>
<p id="p-0152" num="0151">Processing module <b>132</b> may continuously monitor heart rate and determine whether heart <b>102</b> is experiencing a shockable arrhythmia (<b>402</b>). If processing module <b>132</b> does not detect a shockable arrhythmia, processing module <b>132</b> continues monitoring heart rate. If processing module <b>132</b> detects a shockable arrhythmia, processing module <b>132</b> instructs charging module <b>152</b> to charge high-voltage capacitors <b>150</b> and controls switching circuit <b>154</b> in order to deliver first phase <b>166</b> of a biphasic waveform (<b>404</b>). Processing module <b>132</b> may monitor the current delivered by high-voltage capacitors <b>150</b> during first phase <b>166</b>.</p>
<p id="p-0153" num="0152">Processing module <b>132</b> may determine whether a short circuit fault is present during first phase <b>166</b> (<b>406</b>). In examples where a short circuit fault is present during first phase <b>166</b>, processing module <b>132</b> may detect the short circuit fault (<b>408</b>) and proceed to deliver second phase <b>168</b> of the biphasic waveform (<b>410</b>). In other examples, when processing module <b>132</b> does not detect a short circuit fault, processing module <b>132</b> may instruct switching circuit <b>154</b> to begin delivery of second phase <b>168</b> of the biphasic waveform after the first portion of energy is delivered. In some examples, processing module <b>132</b> may jump to block (<b>418</b>) upon detection of a fault in block <b>408</b>.</p>
<p id="p-0154" num="0153">Processing module <b>132</b> may monitor the current delivered by high-voltage capacitors <b>150</b> during second phase <b>168</b> to determine whether a short circuit fault is present during second phase <b>168</b> (<b>412</b>). In examples where a short circuit fault is present during second phase <b>168</b>, processing module <b>132</b> may detect the short circuit fault (<b>414</b>). In other examples, when processing module <b>132</b> does not detect a short circuit fault, processing module <b>132</b> may instruct switching circuit <b>154</b> to stop delivery of second phase <b>168</b> of the biphasic waveform after the second portion of energy is delivered.</p>
<p id="p-0155" num="0154">Processing module <b>132</b> may then determine whether a fault was detected during either the first or second phases <b>166</b>, <b>168</b> of the biphasic waveform (<b>416</b>), e.g., in either block (<b>408</b>) or block (<b>414</b>). If processing module <b>132</b> did not detect a fault during delivery of the biphasic waveform, processing module <b>132</b> may continue monitoring the heart rate in order to detect shockable arrhythmias in block (<b>402</b>). If processing module <b>132</b> detected a short circuit fault during delivery of the biphasic waveform in either of blocks (<b>408</b>) or (<b>414</b>), processing module <b>132</b> may select a new therapy configuration to use during a subsequent delivery of high-energy therapy (<b>418</b>). In other words, processing module <b>132</b> may select a new therapy configuration (i.e., a new electrode vector and/or waveform) other than the initial configuration selected in block (<b>400</b>) and used to deliver the high-energy therapy during which the short circuit fault was detected in either block (<b>408</b>) or block (<b>414</b>). Processing module <b>132</b> may select the new therapy configuration from short circuit therapy configurations <b>162</b>. For example, processing module <b>132</b> may identify the initial therapy configuration of block (<b>400</b>) in short circuit therapy configurations <b>162</b>, then select the new therapy configuration based on the transition data associated with the initial therapy configuration of block (<b>400</b>). The transition data may indicate two different new therapy configurations for selection in block (<b>418</b>), e.g., a first new therapy configuration that should be selected if the short circuit fault was detected during first phase <b>166</b> at block (<b>408</b>), or a second new therapy configuration that should be selected if the short circuit fault was detected during second phase <b>168</b> at block (<b>414</b>). Processing module <b>132</b> may select one of the first and second new therapy configurations in block (<b>418</b>) based on when the fault was detected, e.g., based on the phase in which the fault was detected.</p>
<p id="p-0156" num="0155">The first and second new therapy configurations, which may be selected in block (<b>418</b>), may be included in short circuit therapy configurations <b>162</b>, and each of the first and second therapy configurations may also include transition data that indicates future selections of therapy configurations based on when faults are detected in the first and second therapy configurations. <figref idref="DRAWINGS">FIG. 20</figref> is a state diagram that illustrates possible therapy configurations and selections of new therapy configurations based on when faults are detected.</p>
<p id="p-0157" num="0156">With respect to <figref idref="DRAWINGS">FIG. 18</figref>, processing module <b>132</b> may then continue monitoring heart rate in order to determine whether a shockable arrhythmia is present (<b>402</b>). If a shockable arrhythmia is detected, processing module <b>132</b> may deliver high-energy therapy using the selected new therapy configuration, i.e., the new electrode vector and/or waveform selected in block (<b>418</b>).</p>
<p id="p-0158" num="0157"><figref idref="DRAWINGS">FIG. 19</figref> shows a method for selecting new therapy configurations in response to detection of short circuit faults. At the start of the method of <figref idref="DRAWINGS">FIG. 19</figref>, it may be assumed that processing module <b>132</b> is monitoring the heart rate of patient <b>104</b>. Initially, processing module <b>132</b> is configured to deliver high-energy therapy according to an initial therapy configuration specified in initial therapy configurations <b>160</b> (<b>500</b>). The initial therapy configuration may specify an initial electrode vector and an initial waveform (e.g., either monophasic or biphasic).</p>
<p id="p-0159" num="0158">Processing module <b>132</b> may monitor the heart rate of patient <b>104</b> to determine whether heart <b>102</b> is experiencing a shockable arrhythmia (<b>502</b>). If processing module <b>132</b> does not detect a shockable arrhythmia, processing module <b>132</b> continues to monitor the heart rate. If processing module <b>132</b> detects a shockable arrhythmia, processing module <b>132</b> instructs charging module <b>152</b> to charge high-voltage capacitors <b>150</b> and controls switching circuit <b>154</b> to deliver high-energy therapy according to the initial therapy configurations <b>160</b> (<b>504</b>), e.g., using the initial electrode vector and the initial waveform selected in block (<b>500</b>).</p>
<p id="p-0160" num="0159">Processing module <b>132</b> may monitor the current delivered by high-voltage capacitors <b>150</b> during delivery of high-energy therapy according to the initial therapy configuration. Processing module <b>132</b> may determine whether a short circuit fault was present during delivery of high-energy therapy (<b>506</b>). If processing module <b>132</b> does not detect a short circuit fault, processing module <b>132</b> may continue to monitor the heart rate of patient <b>104</b> to determine whether a shockable arrhythmia is present in block (<b>502</b>).</p>
<p id="p-0161" num="0160">If processing module <b>132</b> detected a short circuit fault during delivery of high energy therapy in block (<b>504</b>), processing module <b>132</b> may proceed to select a new delivery configuration from short circuit therapy configurations <b>162</b>. As described above, short circuit therapy configurations <b>162</b> may specify N therapy configurations <b>164</b> that processing module <b>132</b> may use to deliver high-energy therapy. Each of N therapy configurations <b>164</b> may specify an electrode vector used for delivery of the high-energy therapy. Each of N delivery configurations <b>164</b> may also specify the type of waveform used for delivery of high-energy therapy. Each of N therapy configurations <b>164</b> may also include transitional data that specifies a subsequent therapy configuration of the N delivery configurations <b>164</b> that processing module <b>132</b> is to select in the event that a short circuit fault is detected during delivery using the current therapy configuration. When a current therapy configuration specifies that a biphasic waveform is to be delivered, the transitional data associated with that current therapy configuration may specify that processing module <b>132</b> is to select a first therapy configuration of the N therapy configurations <b>164</b> if a fault is detected during first phase <b>166</b>, and that processing module <b>132</b> is to select a second therapy configuration of the N therapy configurations <b>164</b> if a fault is detected during second phase <b>168</b>.</p>
<p id="p-0162" num="0161">With respect to block (<b>508</b>), after a fault was detected during delivery of therapy according to the initial therapy configuration, processing module <b>132</b> may identify the initial therapy configuration in short circuit configurations <b>162</b> (<b>508</b>), then processing module <b>132</b> may select a new therapy configuration from short circuit configurations <b>162</b> based on when the fault was detected during delivery according to the initial therapy configuration (<b>510</b>). For example, processing module <b>132</b> may select the new therapy configuration from short circuit configurations <b>162</b> based on which phase of the biphasic waveform presented the short circuit fault. The new therapy configuration to be selected may be specified by transitional data associated with the initial therapy configuration.</p>
<p id="p-0163" num="0162">Processing module <b>132</b> may then monitor the heart rate of patient <b>104</b> to determine whether patient <b>104</b> is experiencing a shockable arrhythmia (<b>512</b>). If processing module <b>132</b> does not detect a shockable arrhythmia, processing module <b>132</b> continues to monitor the heart rate (<b>512</b>). If processing module <b>132</b> detects a shockable arrhythmia, processing module <b>132</b> instructs charging module <b>152</b> to charge high-voltage capacitors <b>150</b> and controls switching circuit <b>154</b> to deliver high-energy therapy according to the new therapy configuration selected in block (<b>510</b>) from short circuit configurations <b>162</b> (<b>514</b>).</p>
<p id="p-0164" num="0163">Processing module <b>132</b> may monitor the current delivered by high-voltage capacitors <b>150</b> during delivery of high-energy therapy according to the new therapy configuration. Processing module <b>132</b> may determine whether a short circuit fault was present during delivery of high-energy therapy (<b>516</b>). If processing module <b>132</b> does not detect a short circuit fault, processing module <b>132</b> may continue to monitor the heart rate of patient <b>104</b> to determine whether a shockable arrhythmia is present in block (<b>512</b>).</p>
<p id="p-0165" num="0164">If processing module <b>132</b> detected a short circuit fault during delivery of high energy therapy in block (<b>514</b>), processing module <b>132</b> may proceed to select another new delivery configuration from short circuit therapy configurations <b>162</b> in block (<b>508</b>). For example, processing module <b>132</b> may select the next therapy configuration based on the current therapy configuration and based on when the fault was detected in block (<b>514</b>). Processing module <b>132</b> may select the next therapy configuration according to transition data associated with the current therapy configuration, as described above.</p>
<p id="p-0166" num="0165">According to the method of <figref idref="DRAWINGS">FIG. 19</figref>, processing module <b>132</b> may continue to update the therapy configuration used to deliver high-energy therapy so long as short circuit faults continue to be detected during delivery of the high-energy therapy. In this manner, processing module <b>132</b> may selectively transition from one therapy configuration to another according to the pattern specified in short circuit configurations <b>162</b>.</p>
<p id="p-0167" num="0166"><figref idref="DRAWINGS">FIG. 20</figref> shows a state diagram that graphically illustrates example short circuit therapy configurations <b>162</b> that may be selected by processing module <b>132</b>. Each state of <figref idref="DRAWINGS">FIG. 20</figref> indicates one of the N therapy configurations. For example, state <b>180</b>-<b>1</b> (i.e., configuration <b>180</b>-<b>1</b>) represents a therapy configuration that specifies electrode vector AX&#x3e;B and a biphasic waveform. As another example, state <b>180</b>-<b>2</b> represents a therapy configuration that specifies electrodes B&#x3e;AX and a monophasic waveform. The transition conditions &#x201c;PW<b>1</b> Fault&#x201d; and &#x201c;PW<b>2</b> Fault&#x201d; may represent detection of a fault during first and second phases <b>166</b>, <b>168</b>, respectively. The transition labeled &#x201c;Fault&#x201d; may indicate that a fault was detected during monophasic pulse <b>172</b>.</p>
<p id="p-0168" num="0167">The transition &#x201c;OK&#x201d;, that may redirect back to the same state, may indicate that no fault was detected during delivery of high-energy therapy and that processing module <b>132</b> may continue using the same therapy configuration in an event that no fault is detected. The transition &#x201c;OK Eff.&#x201d; associated with state <b>180</b>-<b>3</b> may indicate that no fault was detected during delivery of high-energy therapy and that the therapy using therapy configuration <b>180</b>-<b>3</b> was effective in correcting the arrhythmia. The transition &#x201c;OK Less Eff.&#x201d; associated with state <b>180</b>-<b>3</b> may indicate that no fault was detected during delivery of high-energy therapy but that the therapy delivered was not effective. Using a B&#x3e;X vector in some systems may not be clinically effective in correcting arrhythmias, even if the energy was successfully delivered, however, some systems may have viable B&#x3e;X pathways. The dotted lines may reflect transitions for systems that are implanted as two electrode systems that do not include an &#x201c;X&#x201d; electrode.</p>
<p id="p-0169" num="0168">The states and the transitions between the states in <figref idref="DRAWINGS">FIG. 20</figref> may illustrate example data included in short circuit configurations <b>162</b>. For example, a state (e.g., <b>180</b>-<b>1</b>) may indicate a current therapy configuration in short circuit configurations <b>162</b>. The transitions from the state may represent data included in transition data that indicates a subsequent therapy configuration based on when a fault was detected in the current state. State <b>180</b>-<b>1</b>, that specifies therapy configuration AX&#x3e;B and a biphasic waveform, may transition to state <b>180</b>-<b>5</b> or state <b>180</b>-<b>6</b>, depending on when a fault was detected. Transition data associated with configuration <b>180</b>-<b>1</b> may indicate that if a fault is detected during first phase (PW<sub>1</sub>) <b>166</b> of therapy configuration <b>180</b>-<b>1</b>, processing module <b>132</b> is to select therapy configuration <b>180</b>-<b>6</b> for subsequent deliveries of high-energy therapies. Transition data associated with configuration <b>180</b>-<b>1</b> may also indicate that if a fault is detected during second phase (PW<sub>2</sub>) <b>168</b> of therapy configuration <b>180</b>-<b>1</b>, processing module <b>132</b> is to select therapy configuration <b>180</b>-<b>5</b> for subsequent deliveries of high energy therapies.</p>
<p id="p-0170" num="0169">According to <figref idref="DRAWINGS">FIG. 20</figref>, short circuit therapy configurations <b>162</b> may include therapy configurations using only two electrodes and therapy configurations using three electrodes. Therapy configurations using only 2 electrodes may use either monophasic or biphasic waveforms, and therapy configurations using three electrodes may use either monophasic or biphasic waveforms. In some examples, transition data may indicate that processing module <b>132</b> should transition from a therapy configuration using three electrodes to a therapy configuration using only two electrodes. For example, if processing module <b>132</b> detects a fault during delivery of therapy according to therapy configuration <b>180</b>-<b>1</b>, which uses three electrodes, processing module <b>132</b> may select therapy configuration <b>180</b>-<b>6</b>, which may include only 2 electrodes.</p>
<p id="p-0171" num="0170">In some examples, transition data may indicate that processing module <b>132</b> transition from a therapy configuration using a biphasic waveform to a therapy configuration using a monophasic waveform. For example, if processing module <b>132</b> detects a fault during delivery of therapy according to therapy configuration <b>180</b>-<b>1</b>, which uses a biphasic waveform, processing module <b>132</b> may select therapy configuration <b>180</b>-<b>5</b>, which uses a monophasic waveform.</p>
<p id="p-0172" num="0171">As described above, processing module <b>132</b> may transition from initial therapy configurations <b>160</b> to short circuit configurations <b>162</b> upon detection of a fault. Processing module <b>132</b> may perform the transition from initial therapy configurations <b>160</b> to short circuit configurations <b>162</b> by first determining the current therapy configuration (i.e., of initial therapy configurations <b>160</b>) in which a fault was detected. Then, processing module <b>132</b> may identify that current therapy configuration in short circuit configurations <b>162</b>. Then processing module <b>132</b> may determine the subsequent therapy configuration based on the transition data associated with the identified therapy configuration. In terms of the state diagram of <figref idref="DRAWINGS">FIG. 20</figref>, assuming processing module <b>132</b> controlled delivery of therapy using an initial therapy configuration of &#x201c;AX&#x3e;B, biphasic&#x201d; from initial therapy configurations <b>160</b>, and further assuming that processing module <b>132</b> detected a fault during first phase <b>166</b> using that configuration, processing module <b>132</b> would first identify therapy configuration <b>180</b>-<b>1</b> in short circuit configurations <b>162</b>. Then processing module <b>132</b> would select therapy configuration <b>180</b>-<b>6</b> since the fault was detected during first phase <b>166</b> of the previously delivered therapy. Accordingly, processing module <b>132</b> would select a subsequent therapy configuration <b>180</b>-<b>6</b> (in short circuit configurations <b>162</b>) in response to detecting a fault during first phase <b>166</b> of therapy configuration &#x201c;AX&#x3e;B, biphasic&#x201d; included in initial therapy conditions <b>160</b>.</p>
<p id="p-0173" num="0172">Although a single state diagram is illustrated in the present disclosure, the state diagram of <figref idref="DRAWINGS">FIG. 20</figref> should not be considered to be an exhaustive example of all state diagrams, nor should the state diagram of <figref idref="DRAWINGS">FIG. 20</figref> be considered to be an exhaustive example of all possible short circuit configurations <b>162</b> (i.e., electrode vectors, waveforms, transitions). It is contemplated that other short circuit configurations may be implemented according to the present disclosure, e.g., different electrode vectors, waveforms, and transitions, depending on the components included in IMD <b>106</b>, the arrangement of the electrodes of IMD <b>106</b>, and the types of potential faults that may occur in IMD <b>106</b>.</p>
<p id="p-0174" num="0173">The electrode vectors and waveforms used in short circuit therapy configurations <b>162</b> along with the transitions between short circuit therapy configurations <b>162</b> may be created based on a variety of parameters and then subsequently programmed into IMD <b>106</b>. For example, short circuit therapy configurations <b>162</b> may be created based on knowledge of the components included in IMD <b>106</b>, knowledge of potential faults that may occur in IMD <b>106</b> (e.g., in switches <b>158</b>, conductors in leads <b>112</b>, <b>114</b>, <b>116</b>, and interconnects), and knowledge of the probability that such potential faults may occur. In other words, short circuit configurations <b>162</b> may be hardware specific parameters that are defined based on knowledge of the hardware included in IMD <b>106</b>, and knowledge of the potential problems that may be caused by particular hardware failures in the device. Creation of short circuit therapy configurations <b>162</b> based on this knowledge of potential faults may allow for programming of improved therapy reconfiguration patterns into IMD <b>106</b>. Such improved therapy reconfigurations may increase the probability of avoiding short circuit faults during subsequent therapy deliveries while simultaneously maintaining an efficacious therapy configuration for treatment of a detected arrhythmia.</p>
<p id="p-0175" num="0174"><figref idref="DRAWINGS">FIG. 21</figref> shows a table that includes information that may be used to generate a pattern of therapy configurations for delivery of defibrillation therapy in response to detection of short circuit faults. In other words, the table of <figref idref="DRAWINGS">FIG. 21</figref> may include information that may be used to generate short circuit configurations <b>162</b>. The information included in the table may be based on the components and operation of IMD <b>106</b> as described herein with respect to <figref idref="DRAWINGS">FIG. 4</figref>. In other words, the information included in <figref idref="DRAWINGS">FIG. 21</figref> may be based on knowledge of the layout of switches <b>158</b> and the connections between switches <b>158</b> and electrodes <b>124</b>, <b>127</b> during delivery of high-energy therapy using either monophasic, biphasic, or multiphasic waveforms.</p>
<p id="p-0176" num="0175"><figref idref="DRAWINGS">FIG. 21</figref> shows a table that lists potential reconfiguration options in response to detection of short circuit faults. The first column lists electrode vectors and waveforms that may be used to delivery high-energy therapy. The second column lists potential short circuit faults that may occur when delivery is attempted using the therapy configurations of the first column. The third column lists the possible causes of short circuit faults as detected according to the second column. The fourth column lists the subsequent therapy configurations that may be attempted in order to bypass the short circuit fault according to the second column.</p>
<p id="p-0177" num="0176">As illustrated in <figref idref="DRAWINGS">FIG. 21</figref>, faults detected in therapy configurations may be associated with the components of the IMD, e.g., the switches, conductors in leads, and electrodes. Based on the possible causes of the short circuit faults, as described in <figref idref="DRAWINGS">FIG. 21</figref>, short circuit therapy configurations may be generated that may work around detected short circuit faults. Such short circuit therapy configurations, which may be based on the specific hardware configuration of IMD <b>106</b>, may provide a robust fault tolerant therapy selection pattern for IMD <b>106</b>.</p>
<p id="p-0178" num="0177">The state diagram of <figref idref="DRAWINGS">FIG. 20</figref> and the table of <figref idref="DRAWINGS">FIG. 21</figref> may have been constructed by taking into account two different considerations. First, the potential reconfiguration vectors may have been selected in order to attempt to avoid failures detected during prior therapy configurations. Second, although avoidance of prior failures is a concern, the potential reconfiguration vectors may also be based on the suspected efficacy of a potential reconfiguration. Accordingly, short circuit configurations <b>162</b> may be generated by selecting those therapy configurations that are most efficacious while at the same time having a high probability of working around detected faults. In some examples, the probability and efficacy determinations, and accordingly, the generation of short circuit configurations <b>162</b>, may be based on clinically observed data.</p>
<p id="p-0179" num="0178">In some examples, after implantation in patient <b>104</b>, processing module <b>132</b> may store, in memory <b>134</b>, information relating to detected faults. For example, processing module <b>132</b> may store the pattern of therapy configurations attempted in response to detected faults along with the timing of the detected faults. In some examples, the clinician may retrieve the information relating to detected faults from IMD <b>106</b> via programmer <b>130</b> and use the information to diagnose potential problems with IMD <b>106</b>.</p>
<p id="p-0180" num="0179">As described above, the IMD of the present disclosure may step through a variety of different therapy configurations in order to bypass one or more detected short circuit faults. Although the IMD of the present disclosure is described above as stepping through a variety of different therapy configurations in response to detection of short circuit faults, the IMD of the present disclosure may use similar techniques as described herein to step through a variety of different therapy configurations in response to detection of high impedance faults that increase the impedance of the pathway as seen by the energy storage device during delivery of high-energy therapy. For example, the IMD of the present disclosure may select a subsequent therapy configuration based on the parameters of the current therapy configuration (e.g., the electrode vector and waveform) and based on when the high impedance fault occurred during delivery according to the current therapy configuration (e.g., during either the first or second phase of a biphasic waveform). In this manner, the IMD of the present disclosure may step through a variety of different therapy configurations in order to bypass one or more detected high impedance faults. Example techniques for stepping through a variety of different therapy configurations in order to bypass one or more detected high impedance faults is described in U.S. patent application Ser. No. 13/221,558, filed herewith, and entitled &#x201c;Fault-Tolerant High Voltage Delivery in an Implantable Medical Device&#x201d;, which is incorporated herein by reference in its entirety.</p>
<p id="p-0181" num="0180">Various examples have been described. These and other examples are within the scope of the following claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An implantable medical device comprising:
<claim-text>an energy storage device configured to store electrical energy for delivery of a defibrillation therapy to a heart;</claim-text>
<claim-text>a plurality of electrodes;</claim-text>
<claim-text>a switching circuit configured to connect the plurality of electrodes to the energy storage device;</claim-text>
<claim-text>a memory storing a plurality of initial therapy configurations and transition data associated with each one of the plurality of initial therapy configurations, the transition data comprising a second therapy configuration and a third therapy configuration for each one of the plurality of initial therapy configurations, each of the plurality of initial therapy configurations and the associated second and third therapy configurations individually defining a set of the plurality of electrodes and a waveform for delivering the defibrillation therapy; and</claim-text>
<claim-text>a processing module configured to:
<claim-text>control the switching circuit to deliver the defibrillation therapy using a first one of the initial therapy configurations comprising a first set of the plurality of electrodes and using a biphasic waveform that includes first and second phases;</claim-text>
<claim-text>detect a short circuit fault during the biphasic waveform;</claim-text>
<claim-text>determine which one of the first phase and the second phase of the biphasic waveform the short circuit fault is detected in; and</claim-text>
<claim-text>responsive to detecting the short circuit fault during the first one of the initial therapy configurations, select one of the second therapy configuration and the third therapy configuration according to the transition data associated with the first one of the initial therapy configurations for delivery of a subsequent defibrillation therapy,</claim-text>
<claim-text>the second therapy configuration being selected if the short circuit fault is detected during the first phase,</claim-text>
<claim-text>the third therapy configuration being selected if the short circuit fault is detected during the second phase,</claim-text>
<claim-text>the second therapy configuration being different than the first one of the initial therapy configurations and comprising a second set of the plurality of electrodes and one of a biphasic or monophasic waveform.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The medical device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising conductors coupling the plurality of electrodes to the switching circuit, and wherein the short circuit fault includes a short circuit between the conductors.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The medical device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the short circuit fault includes a short circuit between at least two of the plurality of electrodes.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The medical device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising conductors coupling the plurality of electrodes to the switching circuit, and wherein the short circuit fault includes a short circuit between one of the conductors and one of the plurality of electrodes.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The medical device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the switching circuit includes a plurality of switches, wherein the processing module is configured to instruct one of the plurality of switches to remain open during delivery of defibrillation therapy using the first set of the plurality of electrodes, and wherein the short circuit fault includes a malfunction in the one of the plurality of switches that causes the one of the plurality of switches to present a short circuit impedance when instructed to remain open.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The medical device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processing module is configured to control the switching circuit to deliver defibrillation therapy according to the second set of the plurality of electrodes and the selected one of the biphasic or monophasic waveforms.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The medical device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the second set of the plurality of electrodes is the same as the first set of the plurality of electrodes.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The medical device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first set of the plurality of electrodes includes three electrodes, and wherein the second set of the plurality of electrodes includes only two electrodes.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The medical device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first set of the plurality of electrodes includes only two electrodes, and wherein the second set of the plurality of electrodes includes three electrodes.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The medical device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first set of the plurality of electrodes includes three electrodes, and wherein the second set of the plurality of electrodes includes three electrodes.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The medical device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the fault is a short circuit path that shunts current away from the heart during delivery of defibrillation therapy.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The medical device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the third therapy configuration is different than the first one of the initial therapy configurations and the second therapy configuration associated with the first one of the initial therapy configurations.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The medical device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the memory further comprises transition data defining a next therapy configuration for each of the second therapy configuration and the third therapy configuration associated with each of the plurality of initial therapy configurations;
<claim-text>the processor configured to:
<claim-text>detect a short circuit fault during the subsequent defibrillation therapy delivery using the selected one of the second therapy configuration and the third therapy configuration associated with the first one of the initial therapy configurations, and</claim-text>
<claim-text>responsive to detecting the short circuit fault during the subsequent defibrillation therapy, select the next therapy configuration for the respective one of the second therapy configuration and the third therapy configuration according to the stored transition data for delivery of a next subsequent defibrillation therapy.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The medical device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processor is further configured to:
<claim-text>control the switching circuit to deliver the defibrillation therapy using a second one of the initial therapy configurations if the first one of the initial therapy configurations is not successful in defibrillating the heart and a short circuit fault is not detected during the biphasic waveform of the first one of the initial therapy configurations, the second one of the initial therapy configurations comprising a different set of the plurality of electrodes than the first set of electrodes and a biphasic waveform;</claim-text>
<claim-text>detect a short circuit fault during the biphasic waveform of the second one of the initial therapy configurations; and</claim-text>
<claim-text>responsive to detecting the short circuit fault during the second one of the initial therapy configurations, select one of a second therapy configuration and a third therapy configuration according to the transition data associated with the second one of the initial therapy configurations for delivery of a subsequent defibrillation therapy.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
