<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626740-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626740</doc-number>
<kind>B1</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11332846</doc-number>
<date>20060113</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<us-term-of-grant>
<us-term-extension>923</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>7</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>17</main-group>
<subgroup>30</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>707710</main-classification>
<further-classification>707749</further-classification>
</classification-national>
<invention-title id="d2e53">Hierarchical topic relevance</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6691163</doc-number>
<kind>B1</kind>
<name>Tufts</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709224</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2005/0144162</doc-number>
<kind>A1</kind>
<name>Liang</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2005/0165753</doc-number>
<kind>A1</kind>
<name>Chen et al.</name>
<date>20050700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707  3</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00004">
<othercit>Borodin et al., Finding Authorities and Hubs From Link Structures on the World Wide Web, In Proceedings of the Tenth International World Wide Web Conference, Jan. 18, 2002.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00005">
<othercit>Taher H. Haveliwala, Topic-Sensitive PageRank: A Context-Sensitive Ranking Algorithm for Web Search, In Proceedings of the Eleventh International World Wide Web Conference, 2002.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00006">
<othercit>Jeh et al., Scaling Personalized Web Search, In Proceedings of the Twelfth International World Wide Web Conference, 2003.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00007">
<othercit>Jon M. Kleinberg, Authoritative Sources in a Hyperlinked Environment, Journal of the ACM, 1999.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00008">
<othercit>Lempel et al., The Stochastic Approach for Link-Structure Analysis (SALSA) and the TKC Effect, 2000.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00009">
<othercit>Ng et al., Stable Algorithms for Link Analysis, In Proceedings the Twenty-Fourth Annual International ACM SIGIR Conference, 2001.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00010">
<othercit>Page et al., The PageRank Citation Ranking: Bringing Order to the Web, 1998.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00011">
<othercit>Richardson et al., The Intelligent Surfer: Probabilistic Combination of Link and Content Information in PageRank, 2002.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00012">
<othercit>Soumen Chakrabarti, Mining the Web: Discovering Knowledge from Hypertext Data, 2002.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>707  5</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707  7</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707705</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707706</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707709</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707710</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707736</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707748</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707749</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>12</number-of-drawing-sheets>
<number-of-figures>13</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60644323</doc-number>
<date>20050114</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60695713</doc-number>
<date>20050629</date>
</document-id>
</us-provisional-application>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Harinarayan</last-name>
<first-name>Venky</first-name>
<address>
<city>Saratoga</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Rajaraman</last-name>
<first-name>Anand</first-name>
<address>
<city>Palo Alto</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Harinarayan</last-name>
<first-name>Venky</first-name>
<address>
<city>Saratoga</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Rajaraman</last-name>
<first-name>Anand</first-name>
<address>
<city>Palo Alto</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Stevens</last-name>
<first-name>David R.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<orgname>Stevens Law Group</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Wal-Mart Stores, Inc.</orgname>
<role>02</role>
<address>
<city>Bentonville</city>
<state>AR</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Somers</last-name>
<first-name>Marc</first-name>
<department>2159</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Determining the relevance of a page to a topic in a hierarchy is disclosed. A plurality of paths that include arrivals at the page is determined. A proportion of the paths that include relevant arrivals at the page is determined. And, the relevance of the page is determined based at least in part on the proportion.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="107.53mm" wi="74.00mm" file="US08626740-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="169.84mm" wi="160.95mm" file="US08626740-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="200.66mm" wi="190.84mm" file="US08626740-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="220.13mm" wi="135.55mm" file="US08626740-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="163.32mm" wi="73.41mm" file="US08626740-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="235.80mm" wi="181.78mm" file="US08626740-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="203.79mm" wi="195.58mm" file="US08626740-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="205.32mm" wi="187.28mm" file="US08626740-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="216.32mm" wi="195.24mm" file="US08626740-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="215.39mm" wi="193.38mm" file="US08626740-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="91.86mm" wi="175.51mm" file="US08626740-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="209.97mm" wi="77.47mm" file="US08626740-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="195.58mm" wi="77.05mm" file="US08626740-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS REFERENCE TO OTHER APPLICATIONS</heading>
<p id="p-0002" num="0001">This application claims priority to U.S. Provisional Patent Application No. 60/644,323 entitled NATURAL RANDOM WALKS: A NEW APPROACH TO FLAVORING filed Jan. 14, 2005; and U.S. Provisional Patent Application No. 60/695,713 entitled TOPIC RELEVANCE filed Jun. 29, 2005; both of which are incorporated herein by reference for all purposes.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">Search engines, such as are used in conjunction with the Word Wide Web, are typically expected to search through vast amounts of data, yet return a manageable number of quality, relevant results. When attempting to determine which results are most relevant to a user, search engines generally evaluate prospective results for such factors as the number of occurrences of a search term and how close to the top of the document the search term occurs. In some cases, query-independent scores are assigned to individual documents. Such scores may also be taken into account by the search engine when attempting to return the most relevant results.</p>
<p id="p-0004" num="0003">In some cases, the relevancy of a particular result may depend on the context of the query. For example, suppose that a user submits a query of &#x201c;jaguar price.&#x201d; A query-independent score does not differentiate results based on context and thus the same hits will be returned to the user, irrespective of whether that user is interested in the car, the cat, or the operating system. There thus exists a continuing need to be able to provide relevant results in response to queries.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0005" num="0004">Various embodiments of the invention are disclosed in the following detailed description and the accompanying drawings.</p>
<p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. 1</figref> illustrates an embodiment of a link analysis engine.</p>
<p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. 2</figref> illustrates sample documents in a collection having link structure.</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 3A</figref> is an example of a natural random walk.</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 3B</figref> is an example of a natural random walk.</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 4A</figref> illustrates an embodiment of a process for determining the relevance of a document.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 4B</figref> illustrates a simplified embodiment of a portion of a process for determining the relevance of a document.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 5A</figref> illustrates a simplified embodiment of a portion of a process for assigning scores to a collection of documents.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 5B</figref> illustrates a simplified embodiment of a portion of a process for assigning scores to a collection of documents.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 5C</figref> illustrates a simplified embodiment of a portion of a process for assigning scores to a collection of documents.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 5D</figref> illustrates a simplified embodiment of a portion of a process for assigning scores to a collection of documents.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 6</figref> is a table illustrating properties of walks.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 7</figref> is illustrates an embodiment of a process for scoring a document.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 8</figref> illustrates an embodiment of a process for determining a relevance vector.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0019" num="0018">The invention can be implemented in numerous ways, including as a process, an apparatus, a system, a composition of matter, a computer readable medium such as a computer readable storage medium or a computer network wherein program instructions are sent over optical or electronic communication links. In this specification, these implementations, or any other form that the invention may take, may be referred to as techniques. A component such as a processor or a memory described as being configured to perform a task includes both a general component that is temporarily configured to perform the task at a given time or a specific component that is manufactured to perform the task. In general, the order of the steps of disclosed processes may be altered within the scope of the invention.</p>
<p id="p-0020" num="0019">A detailed description of one or more embodiments of the invention is provided below along with accompanying figures that illustrate the principles of the invention. The invention is described in connection with such embodiments, but the invention is not limited to any embodiment. The scope of the invention is limited only by the claims and the invention encompasses numerous alternatives, modifications and equivalents. Numerous specific details are set forth in the following description in order to provide a thorough understanding of the invention. These details are provided for the purpose of example and the invention may be practiced according to the claims without some or all of these specific details. For the purpose of clarity, technical material that is known in the technical fields related to the invention has not been described in detail so that the invention is not unnecessarily obscured.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 1</figref> illustrates an embodiment of a link analysis engine. In the example shown, collection <b>102</b> is a group of World Wide Web pages, and is crawled and indexed by a search system <b>104</b>. Hereinafter, when an operation is discussed as being performed on each document in collection <b>102</b>, it should be understood that the operation may instead be performed on a subset of collection <b>102</b>, as applicable. The documents in collection <b>102</b> are also referred to herein as &#x201c;web nodes&#x201d; and &#x201c;web pages.&#x201d; In some embodiments, the documents in collection <b>102</b> can include, but are not limited to text files, multimedia files, and other content. Search system <b>104</b> may be a single device, or its functionality may be provided by multiple devices. Elements typically provided in a search system, such as an indexer, are not shown but may be included.</p>
<p id="p-0022" num="0021">At least some of the documents in collection <b>102</b> include links to other documents in collection <b>102</b>. As described in more detail below, the documents in collection <b>102</b> can be represented as a directed graph (hereinafter the &#x201c;web graph&#x201d;). In this example, the graph has N nodes, where N corresponds to the number of documents in collection <b>102</b>. The directed connections between nodes represent the links between documents. For a particular page p, Out(p) is the set of outlinks that lead from the page to other pages. These can be represented in the directed graph as forward links of a node p. Similarly, In(p) is the set of inlinks that lead from other pages to page p. These can be represented in the directed graph as the backward links of a node p.</p>
<p id="p-0023" num="0022">Path repository <b>106</b> contains information associated with the links between the documents in collection <b>102</b>. For example, in some embodiments, path repository <b>106</b> contains a table detailing the inlinks and outlinks of each page in repository <b>102</b>. In some embodiments, other methods are used to encode linking information.</p>
<p id="p-0024" num="0023">As described in more detail below, link analysis engine <b>108</b> is used to analyze link information such as is provided by path repository <b>106</b>. The information can be used, for example, to determine the relevance of a document to one or more topics (which can be defined by another document, or a group of documents, such as a seed set). The information can also be used to assign one or more scores to documents. In some cases, multiple scores are combined into a single score such as by using a weighted average. The scores can be used to rank pages, for example, in response to a search query, based on a variety of functions.</p>
<p id="p-0025" num="0024">In some embodiments, the information in path repository <b>106</b> includes information supplied, such as by a third party, rather than extracted from collection <b>102</b> by a search system <b>104</b>. In some embodiments, path repository <b>106</b> and link analysis engine <b>108</b> are not part of a search system (e.g., they form a link analysis system) and/or other components of search system <b>104</b> are omitted.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 2</figref> illustrates sample documents in a collection having link structure. In the example shown, a collection, such as collection <b>102</b> includes several documents <b>204</b>-<b>218</b>. Here, page A has three outlinks&#x2014;they lead to pages B, D, and C. The direction of the link is indicated here with an arrow head. Page B has two inlinks (from pages A and D) and one outlink (to page C). Pages E and F link to each other. Thus, page E has two inlinks (page G and page F) and one outlink (page F), while page F has one inlink and one outlink (page E in both cases).</p>
<p id="p-0027" num="0026">Page B is &#x201c;reachable&#x201d; from page A in this case because there is a direct link leading from page A to page B. In addition to direct links, however, a page can also be reachable from pages that are not directly linked. In this example, page C is reachable from page D because a person visiting page D could follow an outlink from page D to page B, and then follow another outlink from page B to page C. As discussed more fully below, the reachability of a page can be conceptualized as the probability that a random surfer beginning on a first page will wind up on a second page.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 3A</figref> is an example of a natural random walk. In a typical random surfer model (also referred to herein as the unbiased model/random walk, performed by an unbiased surfer), a surfer starts at a random page on the web and begins surfing. If the surfer is currently at page p, the page q that the surfer visits at the next time step is determined in the unbiased model as follows: with probability &#x3b2;, the surfer picks a link uniformly at random from the set of outlinks of p, and follows it to reach a new page; with probability 1-&#x3b2;, the surfer randomly teleports to a page picked uniformly at random from all of the pages on the World Wide Web. The value &#x3b2; is typically set to 0.85. The walks that the random surfer performs are referred to herein as &#x201c;paths.&#x201d; In this example, the generated path indicates that documents could be accessed by following the walk. The walk itself is typically simulated, such as by one or more methods of approximating or modeling the behavior of a random surfer, rather than performing an actual random walk.</p>
<p id="p-0029" num="0028">For each page p in collection <b>102</b>, the probability that the unbiased surfer visits p at the current time step converges to a value that depends only on the link structure of the web. This probability is the stationary probability of page p and is referred to herein as the &#x201c;Page Rank&#x201d; of page p. The vector r that lists, for each page, its Page Rank is referred to herein as the Page Rank vector r, and can be given as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>r=&#x3b2;Ar</i>&#xb1;(1&#x2212;&#x3b2;)<i>u</i>&#x2003;&#x2003;(1)<?in-line-formulae description="In-line Formulae" end="tail"?>
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0029">Where:</li>
        <li id="ul0002-0002" num="0030">r is the Page Rank vector</li>
        <li id="ul0002-0003" num="0031">&#x3b2; is a probability, typically set to 0.85</li>
        <li id="ul0002-0004" num="0032">A is a matrix that encodes the link structure of a collection</li>
        <li id="ul0002-0005" num="0033">u is a vector corresponding to uniform random teleportation</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0030" num="0034">If there are N pages in collection <b>102</b>, u has N entries, each equal to 1/N.</p>
<p id="p-0031" num="0035">A random walk R is composed of many &#x201c;natural random walks&#x201d; created by breaking the random walk, R, at each teleportation step. Consider the following random walk, R, made up of assorted web pages (denoted by W<sub>x</sub>, where x is a number between 1 and N, inclusive) and teleports (denoted T):</p>
<p id="p-0032" num="0036">R=W<sub>1 </sub>W<sub>8 </sub>W<sub>3 </sub>T W<sub>12 </sub>W<sub>2 </sub>W<sub>3 </sub>W<sub>11 </sub>W<sub>20 </sub>W<sub>31 </sub>T . . .</p>
<p id="p-0033" num="0037">The first two natural random walks in R are as follows:</p>
<p id="p-0034" num="0038">R<sub>1</sub>=W<sub>1 </sub>W<sub>8 </sub>W<sub>3 </sub></p>
<p id="p-0035" num="0039">R<sub>2</sub>=W<sub>12 </sub>W<sub>2 </sub>W<sub>3 </sub>W<sub>11 </sub>W<sub>20 </sub>W<sub>31 </sub></p>
<p id="p-0036" num="0040">In the example shown in <figref idref="DRAWINGS">FIG. 3A</figref>, a natural random walk (denoted by a dashed line) began at page B (<b>302</b>), continued to page C (<b>304</b>), then continued to page G (<b>306</b>), then continued to page E (<b>308</b>) before teleporting. Thus, in the example shown in <figref idref="DRAWINGS">FIG. 3A</figref>, the natural random walk was of length <b>4</b>, notated as path BCGE (<b>310</b>).</p>
<p id="p-0037" num="0041"><figref idref="DRAWINGS">FIG. 3B</figref> is an example of a natural random walk. After teleporting from page E (<b>308</b>), a new random walk was begun on page A (<b>312</b>). The walk continued from page A to page C (<b>314</b>), and then continued to page H (<b>316</b>) before teleporting. Thus, in the example shown in <figref idref="DRAWINGS">FIG. 3B</figref>, the random walk was of length <b>3</b>, notated as path ACH (<b>318</b>).</p>
<p id="p-0038" num="0042">Market Basket Analysis</p>
<p id="p-0039" num="0043">As described in more detail below, topic score and topic relevance measure different properties of a page in a topic&#x2014;popularity and relevance.</p>
<p id="p-0040" num="0044">The natural random walk framework can be viewed in the context of data mining, in particular market basket analysis. A traditional problem in data mining is determining &#x201c;association rules&#x201d; given market baskets.</p>
<p id="p-0041" num="0045">Assume there is a list of contents of every grocery cart (market basket) that was checked out at a grocery store. This data can be mined to see how some products should be placed in the store. For example, if every purchase of diapers is also accompanied by a purchase of beer, i.e., Diapers&#x2192;Beer, it may be profitable to locate the beer near the diapers.</p>
<p id="p-0042" num="0046">Two metrics used in data mining are the confidence (i.e., what is the probability that X&#x2192;Y) and the support (i.e., how many times do X and Y appear together in the market baskets).</p>
<p id="p-0043" num="0047">Support can be used to prevent the making of decisions based on very sparse data. For example, if exactly one person purchased vodka, and they bought it with diapers, Vodka&#x2192;Diapers with confidence 1. However, the support would be very low.</p>
<p id="p-0044" num="0048">Natural random walks can be seen as market baskets. The topic relevance of a page X in topic F is the Confidence that X&#x2192;F. The topic score of X is the support. Thus, topic score and topic relevance are fundamentally different metrics. One way to employ both scores is to use support as a threshold and confidence as a final score. In other embodiments, other combinations of the functions are used.</p>
<p id="p-0045" num="0049">A &#x201c;distinguished&#x201d; page is used herein to mean a page that is of interest in determining the relevance of one or more pages to a topic. For example, a highly informative site may be used to define a topic (e.g., medline.com for health, or imdb.com for movies.) As described in more detail below, in some cases, the distinguished page is a member of a group of pages that define a topic. For example, the distinguished page may be part of a seed set of pages, such as the seed sets used in the methods described in U.S. Patent Application No. 60/644,325, entitled DOUBLE ITERATIVE FLAVORED RANK (&#x201c;DIFR&#x201d;), filed Jun. 22, 2005 which is incorporated herein by reference for all purposes.</p>
<p id="p-0046" num="0050"><figref idref="DRAWINGS">FIG. 4A</figref> illustrates an embodiment of a process for determining the relevance of a document. In this example, the relevance of a destination page to a distinguished node is determined. As described in more detail below, other methods may be used to determine the relevance of one document to multiple documents, and/or to combinations of documents.</p>
<p id="p-0047" num="0051">This process may be implemented in link analysis engine <b>108</b>. In the example shown, the process begins at <b>402</b> when paths that include arrivals at a destination page are determined. A simplified numeric example of an iterative method for determining such paths is given in <figref idref="DRAWINGS">FIGS. 5A-5D</figref> to help illustrate the process conceptually. As described in more detail below, in some embodiments, more efficient processes are employed to implement and/or model the determination of paths.</p>
<p id="p-0048" num="0052">At <b>404</b>, the proportion of paths that include visiting the distinguished page before reaching the destination page is determined. For example, in <figref idref="DRAWINGS">FIG. 2</figref>, if page B is a distinguished node, and page G is a destination node, all paths that lead through page G (e.g., CGE, BCG, GE, ACGE) would be included in the processing at <b>402</b>. Only the paths in which page B was visited before page G would be included in determining the proportion at <b>404</b>. For example, ABCG and ADBCG visit page G after visiting page B, while CGE does not.</p>
<p id="p-0049" num="0053">At <b>406</b>, the relevance of the destination page is determined. As described in more detail below, various methods of determining the relevance of a destination page may be employed. For example, the relevance of a page to a group of pages may be determined. In some embodiments, relevance is determined by combining multiple values, such as a DIFR score and/or score deta reverse relevance score.</p>
<p id="p-0050" num="0054">In some embodiments, portions <b>404</b> and <b>406</b> of <figref idref="DRAWINGS">FIG. 4A</figref> are combined&#x2014;the relevance of a destination page to a distinguished node is determined by assigning a score based on dividing the number of paths that include preceding arrival at a distinguished page by the total number of paths the include arrivals at the destination page. This is the case, for example, in the process depicted in <figref idref="DRAWINGS">FIGS. 5A-5D</figref> and is referred to as a topic score.</p>
<p id="p-0051" num="0055"><figref idref="DRAWINGS">FIG. 4B</figref> illustrates a simplified embodiment of a portion of a process for determining the relevance of a document. The process depicted in <figref idref="DRAWINGS">FIG. 4B</figref> could be an example of an implementation of portions <b>402</b> and <b>404</b> of <figref idref="DRAWINGS">FIG. 4A</figref> as applied to collection <b>102</b>.</p>
<p id="p-0052" num="0056">A topic score for a destination page can be computed by &#x201c;counting&#x201d; the number of times that a distinguished page was encountered before the destination page in a series of natural random walks.</p>
<p id="p-0053" num="0057">In an example random walk, assume each web page has a total visit counter. Each time the random surfer visits the web page, he increments the page's total visit count by 1. Now assume that the random surfer can carry finite state information along while performing random walks. For example, suppose the random surfer carries around the Boolean variable &#x201c;Visited_F&#x201d;. The value is initially set to 0. When the random surfer visits a page F, the variable is set to 1. When the random surfer teleports, his states (such as the Visited_F variable) are reset to 0. In this example, page F is a distinguished node.</p>
<p id="p-0054" num="0058">Each web page has one or more additional counters, such as a counter Count<sub>F</sub>. When the random surfer visits the web page, he updates the page's counters appropriately based on his state information. In some embodiments, rather than having counts increment by the same value (e.g., 1), the increment values are based at least in part on the distance between the distinguished page and the current page.</p>
<p id="p-0055" num="0059">One method of updating a page's counters is given below in the following pseudocode:</p>
<p id="p-0056" num="0060">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="left"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>/* on visiting Web Page X */</entry>
</row>
<row>
<entry>&#x2003;/* increment the Link Score Counter */</entry>
</row>
<row>
<entry>&#x2003;&#x2003;Total_Visits(X)++;</entry>
</row>
<row>
<entry>&#x2003;/* do distinguished visit logic (F is a distinguished node) */</entry>
</row>
<row>
<entry>&#x2003;&#x2003;If (X == F) {</entry>
</row>
<row>
<entry>&#x2003;&#x2003;&#x2003;Visited_F =1;</entry>
</row>
<row>
<entry>&#x2003;&#x2003;}</entry>
</row>
<row>
<entry>&#x2003;&#x2003;If (Visited_F){</entry>
</row>
<row>
<entry>&#x2003;&#x2003;&#x2003;CountF(X)++;</entry>
</row>
<row>
<entry>&#x2003;&#x2003;}</entry>
</row>
<row>
<entry>/* on teleport */</entry>
</row>
<row>
<entry>&#x2003;Visited_F =0;</entry>
</row>
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0057" num="0061">Based on the above pseudocode, the Page Rank of a web page X can be written as follows:</p>
<p id="p-0058" num="0062">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>P</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>X</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <mi>Count</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>X</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mrow>
            <munder>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>i</mi>
                <mo>&#x2208;</mo>
                <mi>Web</mi>
              </mrow>
            </munder>
            <mo>&#x2062;</mo>
            <mrow>
              <mi>Count</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>i</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0059" num="0063">The topic score of page X in the topic F can be written as follows:</p>
<p id="p-0060" num="0064">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>P</mi>
            <mi>F</mi>
          </msub>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>X</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <msub>
              <mi>Count</mi>
              <mi>F</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>X</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mrow>
            <munder>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>i</mi>
                <mo>&#x2208;</mo>
                <mi>Web</mi>
              </mrow>
            </munder>
            <mo>&#x2062;</mo>
            <mrow>
              <msub>
                <mi>Count</mi>
                <mi>F</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>i</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0061" num="0065">In the example shown, the process begins at <b>408</b> when, for each document in collection <b>102</b>, a total visit count and a distinguished visit count are initialized. In this example, a single distinguished page is tracked. As described in more detail below, in some embodiments, multiple pages may be distinguished, and the process is modified accordingly.</p>
<p id="p-0062" num="0066">One method of initializing the counts is to set both values to 0 for all pages in collection <b>102</b>. In some embodiments, other methods are used for initialization, such as by setting specific values for particular pages.</p>
<p id="p-0063" num="0067">At <b>410</b>, the distinguished bit, which tracks whether or not a surfer has visited the distinguished node, is set to 0, indicating that the distinguished node has not yet been visited.</p>
<p id="p-0064" num="0068">At <b>412</b>, a random walk is begun. If an encountered page is the distinguished node (<b>414</b>), at <b>416</b>, the distinguished bit is set, for example to 1. Additionally, the total visits counter and the distinguished visits counters of the distinguished page are incremented (<b>418</b>). The random walk continues and each subsequently encountered page has its total visit counter and distinguished page counter incremented, until teleport occurs. Upon teleport, the random surfer's distinguished bit is reset to 0 (<b>410</b>) and a new random walk is begun (<b>412</b>).</p>
<p id="p-0065" num="0069">During the random walk, until the distinguished node is visited (<b>414</b>), each visited page has its total number of visits counter incremented (<b>420</b>), but does not have its distinguished page counter incremented. In this example, the process terminates when convergence is reached (not shown).</p>
<p id="p-0066" num="0070">The methods presented in conjunction with <figref idref="DRAWINGS">FIG. 4B</figref> are given in part to help conceptualize a process for computing the relevance of a page. While the equations presented can be used to compute relevance, to do so would require, for each page p, a very large number of computations, especially when collection <b>102</b> is large. As described more fully below, in some embodiments, more efficient processes are employed to calculate scores.</p>
<p id="p-0067" num="0071">A simplified numeric example of an iterative version of the process shown in <figref idref="DRAWINGS">FIG. 4B</figref> is given in <figref idref="DRAWINGS">FIGS. 5A-5D</figref> to help illustrate the process conceptually. For simplicity of illustration, the values given in <figref idref="DRAWINGS">FIGS. 5A-5D</figref> are not normalized to maintain unity.</p>
<p id="p-0068" num="0072"><figref idref="DRAWINGS">FIG. 5A</figref> illustrates a simplified embodiment of a portion of a process for assigning scores to a collection of documents. The process depicted in <figref idref="DRAWINGS">FIG. 5A</figref> could be an example of an implementation of portion <b>408</b> of <figref idref="DRAWINGS">FIG. 4B</figref> as applied to collection <b>102</b>. In the example shown, nodes A-H (<b>502</b>-<b>516</b>) are included in collection <b>102</b>. Node B is a distinguished node. Their total visit counts (represented here as &#x201c;TV&#x201d;), and their visits that were preceded by a visit to the distinguished node (represented here as &#x201c;B&#x201d;) are initialized to 0.</p>
<p id="p-0069" num="0073"><figref idref="DRAWINGS">FIG. 5B</figref> illustrates a simplified embodiment of a portion of a process for assigning scores to a collection of documents. The process depicted in <figref idref="DRAWINGS">FIG. 5B</figref> could be an example of an implementation of portions <b>410</b>-<b>418</b> of <figref idref="DRAWINGS">FIG. 4B</figref>. The distinguished bit is set to 0 (not shown). A random walk beginning at node A is performed (represented herein as a dashed line). Since node A is not the distinguished node, only its total visit counter is incremented. The second page in the random walk is node D (<b>518</b>). Node D's total visit count is incremented, but its B count is not, because the random surfer has not yet visited node B. The third page in the walk is node B, the distinguished node (<b>520</b>). Both of node B's counters are incremented. The fourth page visited in the walk is node C (<b>522</b>). Both of node C's counters are incremented. The fifth page visited in the walk is node G (<b>524</b>). Both of node G's counters are incremented.</p>
<p id="p-0070" num="0074"><figref idref="DRAWINGS">FIG. 5C</figref> illustrates a simplified embodiment of a portion of a process for assigning scores to a collection of documents. The process depicted in <figref idref="DRAWINGS">FIG. 5C</figref> could be an example of an implementation of portions <b>410</b>-<b>418</b> of <figref idref="DRAWINGS">FIG. 4C</figref>. After teleporting, the distinguished bit is again set to 0 (not shown). In the random walk shown, the distinguished page, node B, is not encountered before teleport. Thus, each visited page has its total visit counter incremented, but not its B counter.</p>
<p id="p-0071" num="0075"><figref idref="DRAWINGS">FIG. 5D</figref> illustrates a simplified embodiment of a portion of a process for assigning scores to a collection of documents. The process depicted in <figref idref="DRAWINGS">FIG. 5D</figref> could be an example of an implementation of portions <b>410</b>-<b>418</b> of <figref idref="DRAWINGS">FIG. 4C</figref>. After teleporting, the distinguished bit is again set to 0 (not shown). In the random walk shown (this time beginning at node D), page B is encountered as the second page in the walk (<b>526</b>). Thus, node D has only its total visit counter incremented, while nodes B, C, and H have both counters incremented.</p>
<p id="p-0072" num="0076">After the processing of <figref idref="DRAWINGS">FIG. 5D</figref>, the following basic relevance has been determined. Node A has a relevance score is 0, or 0 divided by 2. The same holds true for Node D, which has the same score. Node B has a relevance score is 1 (1 divided by 1). Node C has a relevance score of 0.666, or 2 divided by 3. The scores of the other nodes in <figref idref="DRAWINGS">FIG. 5D</figref> can be similarly computed. These scores indicate the percentage of traffic (in the sense of number of visits, not kilobytes) that each node received via node B.</p>
<p id="p-0073" num="0077">Topic Relevance</p>
<p id="p-0074" num="0078">Typically, if one page links to another, it indicates that there is something in common between the two pages. For example, a page containing general information about the sport of football may link to team sites. Similarly, a team page may link to ticket sales, to local information about the city in which the team resides, or to television schedules. However, in some cases, the only commonality between pages in the same natural random walk is that they are in close proximity to each other.</p>
<p id="p-0075" num="0079">For example, a page containing a salad recipe may link to the restaurant in which the page author first tried such a salad. The restaurant page may in turn link to the page of an artist, whose works are displayed on the restaurant walls. It is possible that a fairly large amount of traffic may flow from the salad recipe page to the artist's page, for example, if the recipe site is well known. Nonetheless, the two pages, one for a salad recipe, and one for a portrait painter, have effectively little to do with each other.</p>
<p id="p-0076" num="0080">In a random walk R, consider a page X that appears often after F and so has a high topic score. Page X can also appear often, in general, whether or not F precedes it. Page X may thus have little to do with F, outside of the fact that it is &#x201c;close&#x201d; to F. A topic score is thus a measure of proximity to F and popularity, not necessarily the relevance to the topic.</p>
<p id="p-0077" num="0081">For the same two pages X and F, a question can be asked: What is the confidence that X&#x2192;F? If X appears in a natural random walk, what is the probability that it is preceded by F? If this probability, P(X&#x2192;F), is large, F appears most of the time X appears. Page X can be seen as a captive of F&#x2014;since it can only be reached through F, its only purpose is to serve F, and so it must be highly relevant to F. Based on the standard random surfer:</p>
<p id="p-0078" num="0082">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>P</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>X</mi>
              <mo>-&#x3e;</mo>
              <mi>F</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <msub>
              <mi>Count</mi>
              <mi>F</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>X</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mrow>
            <mi>Count</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>X</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>4</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0079" num="0083">The ratio of the topic score of X in F to the link score of X can be referred to as &#x394;<sub>F </sub>(X). The relevance of a page X to a topic F, denoted by Re l<sub>F </sub>(X) can be given as:</p>
<p id="p-0080" num="0084">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>Re</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mrow>
            <msub>
              <mi>l</mi>
              <mi>F</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>X</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mi>P</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>X</mi>
                <mo>-&#x3e;</mo>
                <mi>F</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>=</mo>
          <mfrac>
            <mrow>
              <msub>
                <mi>&#x394;</mi>
                <mi>F</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>X</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mrow>
              <msub>
                <mi>&#x394;</mi>
                <mi>F</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>F</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>5</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0081" num="0085">The above formulation is independent of the teleportation probability, the memoryless nature of the random walk, etc.</p>
<p id="p-0082" num="0086">If the natural random walks are viewed as a collection of strings, the result above holds for any collection of strings. The set of strings that can appear as natural random walks is the same as those accepted by the web graph viewed as a finite state automaton (FSA) constructed as follows: Add a new node T that represents teleport to the web graph FSA. Node T has edges to and from every other node in the web graph. Here, every edge is labeled with the destination page's symbol. Thus edge (x,y) has the label y. Node T is the start state and also the success state. The set of strings accepted by this FSA is identical to the set of strings that are the natural random walks on the web graph. In some embodiments, the Markovian world is used to model the frequency of occurrence.</p>
<p id="p-0083" num="0087">Propagating Topic Relevance Through the Web Graph</p>
<p id="p-0084" num="0088">Topic relevance is a probability measure and so has a value between 0 and 1. Thus it should be the case that for all X, &#x394;<sub>F</sub>(F)&#x2267;&#x394;<sub>F</sub>(X).</p>
<p id="p-0085" num="0089">Consider a topic defined by page F, and a given page X, where X is different from F. As determined previously,</p>
<p id="p-0086" num="0090">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mrow>
  <mrow>
    <msub>
      <mi>&#x394;</mi>
      <mi>F</mi>
    </msub>
    <mo>&#x2061;</mo>
    <mrow>
      <mo>(</mo>
      <mi>X</mi>
      <mo>)</mo>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mfrac>
      <mrow>
        <msub>
          <mi>P</mi>
          <mi>F</mi>
        </msub>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mi>X</mi>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mrow>
        <mi>P</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mi>X</mi>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mfrac>
    <mo>.</mo>
  </mrow>
</mrow>
</math>
</maths>
<br/>
The Page Rank of X can be defined in terms of X's neighbors:
</p>
<p id="p-0087" num="0091">
<maths id="MATH-US-00006" num="00006">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>P</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>X</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mi>&#x3b2;</mi>
            <mo>&#xd7;</mo>
            <mrow>
              <munder>
                <mo>&#x2211;</mo>
                <mrow>
                  <mi>Y</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mi>neighbor</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mi>of</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mi>X</mi>
                </mrow>
              </munder>
              <mo>&#x2062;</mo>
              <mfrac>
                <mrow>
                  <mi>P</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>Y</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mrow>
                  <mi>O</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>Y</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mfrac>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mfrac>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mn>1</mn>
                <mo>-</mo>
                <mi>&#x3b2;</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mi>N</mi>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>6</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0088" num="0092">Where 1&#x2212;&#x3b2; is the teleport probability, O(Y) is the number of outlinks of Y, and N is the number of pages in the web graph. In some embodiments, if the Page Rank of X is much larger than the incoming teleportation probability (a fixed number), the contribution of teleportation can be ignored and the equation can be rewritten as:</p>
<p id="p-0089" num="0093">
<maths id="MATH-US-00007" num="00007">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>P</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>X</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mi>&#x3b2;</mi>
          <mo>&#xd7;</mo>
          <mrow>
            <munder>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>Y</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>neighbor</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>of</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>X</mi>
              </mrow>
            </munder>
            <mo>&#x2062;</mo>
            <mfrac>
              <mrow>
                <mi>P</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>Y</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mrow>
                <mi>O</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>Y</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>7</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0090" num="0094">Consider now the topic rank of X. Since the random walks are memoryless, the topic rank of X in both cases is the same, if the topic is defined as a single page, as is the case in this example. Given that X is different from F, there is no teleportation to X in the topic definition, thus:</p>
<p id="p-0091" num="0095">
<maths id="MATH-US-00008" num="00008">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>P</mi>
            <mi>F</mi>
          </msub>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>X</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mi>&#x3b2;</mi>
          <mo>&#xd7;</mo>
          <mrow>
            <munder>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>Y</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>neighbor</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>of</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>X</mi>
              </mrow>
            </munder>
            <mo>&#x2062;</mo>
            <mfrac>
              <mrow>
                <msub>
                  <mi>P</mi>
                  <mi>F</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>Y</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mrow>
                <mi>O</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>Y</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>8</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0092" num="0096">Now:</p>
<p id="p-0093" num="0097">
<maths id="MATH-US-00009" num="00009">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>&#x394;</mi>
            <mi>F</mi>
          </msub>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>X</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <munder>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>Y</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>neighbor</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>of</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>X</mi>
              </mrow>
            </munder>
            <mo>&#x2062;</mo>
            <mfrac>
              <mrow>
                <msub>
                  <mi>P</mi>
                  <mi>F</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>Y</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mrow>
                <mi>O</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>Y</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mfrac>
          </mrow>
          <mrow>
            <munder>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>Y</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>neighbor</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>of</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>X</mi>
              </mrow>
            </munder>
            <mo>&#x2062;</mo>
            <mfrac>
              <mrow>
                <mi>P</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>Y</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mrow>
                <mi>O</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>Y</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mfrac>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>9</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0094" num="0098">The &#x201c;Effective Page Rank&#x201d; of a page Y, denoted as Q(Y), can be defined as:</p>
<p id="p-0095" num="0099">
<maths id="MATH-US-00010" num="00010">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>Q</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>Y</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <mi>P</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>Y</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mrow>
            <mi>O</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>Y</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>10</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0096" num="0100">Now,</p>
<p id="p-0097" num="0101">
<maths id="MATH-US-00011" num="00011">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>&#x394;</mi>
            <mi>F</mi>
          </msub>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>X</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <munder>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>Y</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>neighbor</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>of</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>X</mi>
            </mrow>
          </munder>
          <mo>&#x2062;</mo>
          <mrow>
            <mfrac>
              <mrow>
                <mi>Q</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>Y</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mrow>
                <munder>
                  <mo>&#x2211;</mo>
                  <mrow>
                    <mi>Z</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>neighbor</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>of</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>X</mi>
                  </mrow>
                </munder>
                <mo>&#x2062;</mo>
                <mrow>
                  <mi>Q</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>Z</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
            </mfrac>
            <mo>&#xd7;</mo>
            <mrow>
              <msub>
                <mi>&#x394;</mi>
                <mi>F</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>Y</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>11</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0098" num="0102">Thus, &#x394;<sub>F</sub>(X) is the weighted-average of the deltas of all X's neighbors, where the weights are the effective Page Ranks of the neighbors.</p>
<p id="p-0099" num="0103">A Web Page with a high effective Page Rank is generally more influential in propagating its delta than a page with a low effective Page Rank. Thus, in some embodiments, the seed set includes pages with a high effective Page Rank.</p>
<p id="p-0100" num="0104">Topic drift can happen when a page with high effective Page Rank and low delta links to a page with a high topic rank. High effective Page Rank pages are topic arbiters, diffusing deltas through the Web Graph.</p>
<p id="p-0101" num="0105">Multi-Page Topics</p>
<p id="p-0102" num="0106">Topics can be defined using multiple web pages. For simplicity, consider a Topic &#x201c;F+G&#x201d; defined by two web pages F and G. Using the natural random walk framework, the topic rank of any page X in this topic F+G is the average of the topic rank of X in F and X in G.</p>
<p id="p-0103" num="0107">In some embodiments, topics are defined as a property of the general random walk on the web graph, not by defining a new random walk. The notion of topic relevance is one outcome of taking this approach.</p>
<p id="p-0104" num="0108">For single-page topics, the two approaches end up being the same. This is not the case for multi-page Topics.</p>
<p id="p-0105" num="0109">First, consider the logic the random surfer adopts for multi-page Topics. For simplicity, assume a two-page Topic defined by pages F and G. The following pseudocode describes the rules that govern the random surfer:
<ul id="ul0003" list-style="none">
    <li id="ul0003-0001" num="0000">
    <ul id="ul0004" list-style="none">
        <li id="ul0004-0001" num="0110">/* do distinguished visit logic */</li>
        <li id="ul0004-0002" num="0111">If ((X==F)&#x2225;(X==G)) {Visited_FG=1;</li>
        <li id="ul0004-0003" num="0112">}</li>
        <li id="ul0004-0004" num="0113">If (Visited_FG){Count<sub>FG</sub>(X)++;</li>
        <li id="ul0004-0005" num="0114">}</li>
        <li id="ul0004-0006" num="0115">/* increment the Page Rank Counter */</li>
        <li id="ul0004-0007" num="0116">Count(X)++;</li>
        <li id="ul0004-0008" num="0117">/* on teleport */</li>
        <li id="ul0004-0009" num="0118">Visited_F=0;</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0106" num="0119">A topic rank of a page X in topic F+G can be given as:</p>
<p id="p-0107" num="0120">
<maths id="MATH-US-00012" num="00012">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>P</mi>
            <mi>FG</mi>
          </msub>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>X</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <msub>
              <mi>Count</mi>
              <mi>FG</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>X</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mrow>
            <munder>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>J</mi>
                <mo>&#x2208;</mo>
                <mi>Webb</mi>
              </mrow>
            </munder>
            <mo>&#x2062;</mo>
            <mrow>
              <msub>
                <mi>Count</mi>
                <mi>FG</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>J</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>12</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0108" num="0121">Assume that F and G are mutually exclusive (i.e., G never shows up in a natural random walk with F). This can be written as P<sub>F</sub>(G)=P<sub>G</sub>(F)=0. In this case:</p>
<p id="p-0109" num="0122">
<maths id="MATH-US-00013" num="00013">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>P</mi>
            <mi>FG</mi>
          </msub>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>X</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mrow>
              <mrow>
                <msub>
                  <mi>Count</mi>
                  <mi>F</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>X</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>+</mo>
              <mrow>
                <msub>
                  <mi>Count</mi>
                  <mi>G</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>X</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mrow>
              <munder>
                <mo>&#x2211;</mo>
                <mrow>
                  <mi>J</mi>
                  <mo>&#x2208;</mo>
                  <mi>Webb</mi>
                </mrow>
              </munder>
              <mo>&#x2062;</mo>
              <mrow>
                <msub>
                  <mi>Count</mi>
                  <mi>F</mi>
                </msub>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>J</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mfrac>
          <mo>+</mo>
          <mrow>
            <munder>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>J</mi>
                <mo>&#x2208;</mo>
                <mi>Webb</mi>
              </mrow>
            </munder>
            <mo>&#x2062;</mo>
            <mrow>
              <msub>
                <mi>Count</mi>
                <mi>G</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>J</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>13</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0110" num="0123">It can be shown that:</p>
<p id="p-0111" num="0124">
<maths id="MATH-US-00014" num="00014">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <mrow>
            <munder>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>J</mi>
                <mo>&#x2208;</mo>
                <mi>Webb</mi>
              </mrow>
            </munder>
            <mo>&#x2062;</mo>
            <mrow>
              <msub>
                <mi>Count</mi>
                <mi>F</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>J</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mrow>
            <munder>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>J</mi>
                <mo>&#x2208;</mo>
                <mi>Webb</mi>
              </mrow>
            </munder>
            <mo>&#x2062;</mo>
            <mrow>
              <msub>
                <mi>Count</mi>
                <mi>G</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>J</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mfrac>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <msub>
              <mi>&#x394;</mi>
              <mi>G</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>G</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mrow>
            <msub>
              <mi>&#x394;</mi>
              <mi>F</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>F</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>14</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0112" num="0125">The inverse of &#x394; is denoted here by &#x394;*. That is,</p>
<p id="p-0113" num="0126">
<maths id="MATH-US-00015" num="00015">
<math overflow="scroll">
<mrow>
  <mrow>
    <msubsup>
      <mi>&#x394;</mi>
      <mi>F</mi>
      <mo>*</mo>
    </msubsup>
    <mo>&#x2061;</mo>
    <mrow>
      <mo>(</mo>
      <mi>F</mi>
      <mo>)</mo>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <mrow>
        <msub>
          <mi>&#x394;</mi>
          <mi>F</mi>
        </msub>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mi>F</mi>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mfrac>
    <mo>.</mo>
  </mrow>
</mrow>
</math>
</maths>
<br/>
Based on the above equations,
</p>
<p id="p-0114" num="0127">
<maths id="MATH-US-00016" num="00016">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>P</mi>
            <mi>FG</mi>
          </msub>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>X</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mfrac>
              <mrow>
                <msubsup>
                  <mi>&#x394;</mi>
                  <mi>F</mi>
                  <mo>*</mo>
                </msubsup>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>F</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mrow>
                <mrow>
                  <msubsup>
                    <mi>&#x394;</mi>
                    <mi>F</mi>
                    <mo>*</mo>
                  </msubsup>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>F</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>+</mo>
                <mrow>
                  <msubsup>
                    <mi>&#x394;</mi>
                    <mi>G</mi>
                    <mo>*</mo>
                  </msubsup>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>G</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
            </mfrac>
            <mo>&#xd7;</mo>
            <mrow>
              <msub>
                <mi>P</mi>
                <mi>F</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>X</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mfrac>
              <mrow>
                <msubsup>
                  <mi>&#x394;</mi>
                  <mi>G</mi>
                  <mo>*</mo>
                </msubsup>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>G</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mrow>
                <mrow>
                  <msubsup>
                    <mi>&#x394;</mi>
                    <mi>F</mi>
                    <mo>*</mo>
                  </msubsup>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>F</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>+</mo>
                <mrow>
                  <msubsup>
                    <mi>&#x394;</mi>
                    <mi>G</mi>
                    <mo>*</mo>
                  </msubsup>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>G</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
            </mfrac>
            <mo>&#xd7;</mo>
            <mrow>
              <msub>
                <mi>P</mi>
                <mi>G</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>X</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>15</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0115" num="0128">In some embodiments, in a multi-page topic, if it is assumed the pages defining the topics are mutually exclusive in the natural random walks, then the topic rank is the weighted average of the topic rank in the corresponding single-page topics. The weights are the corresponding &#x394;*s.</p>
<p id="p-0116" num="0129">The weights for each single-page topic score can be based on its corresponding &#x394;* for it to correspond to a property of the original Random Walk.</p>
<p id="p-0117" num="0130">If the pages that define the topic are not mutually exclusive, the computation is made more complex. The natural random walks in which F and G both occur will be double counted if the above analysis is used.</p>
<p id="p-0118" num="0131">Assume F, G, and X, occur exactly once in a natural random walk. It can be shown that the average number of occurrences of any page Y in a natural random walk, given that Y appears at least once, is given by:</p>
<p id="p-0119" num="0132">
<maths id="MATH-US-00017" num="00017">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mrow>
      <msub>
        <mi>P</mi>
        <mi>Y</mi>
      </msub>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mi>Y</mi>
        <mo>)</mo>
      </mrow>
    </mrow>
    <mrow>
      <mo>(</mo>
      <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mi>&#x3b2;</mi>
      </mrow>
      <mo>)</mo>
    </mrow>
  </mfrac>
  <mo>.</mo>
</mrow>
</math>
</maths>
</p>
<p id="p-0120" num="0133">In some embodiments, the X's that are double-counted are backed out. Page X will be double counted where there is both an F and a G preceding the X. The number of X's in the F&#x2192;G&#x2192;X sequence is given by: Count<sub>A</sub>(B)&#xd7;P<sub>B</sub>(X). Similarly, for G&#x2192;F&#x2192;X.</p>
<p id="p-0121" num="0134">For the denominator, sequences of the form F&#x2192;G&#x2192;T (teleport) are double counted. Every page in the sub-sequence G&#x2192;T is double counted. Given that G has occurred, the average number of web pages in G&#x2192;T is</p>
<p id="p-0122" num="0135">
<maths id="MATH-US-00018" num="00018">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mn>1</mn>
    <mrow>
      <mo>(</mo>
      <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mi>&#x3b2;</mi>
      </mrow>
      <mo>)</mo>
    </mrow>
  </mfrac>
  <mo>.</mo>
</mrow>
</math>
</maths>
<br/>
This is similar for sequences of the form G&#x2192;F&#x2192;T.
</p>
<p id="p-0123" num="0136">P<sub>FG</sub>(X) can be written as follows:</p>
<p id="p-0124" num="0137">
<maths id="MATH-US-00019" num="00019">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>P</mi>
            <mi>FG</mi>
          </msub>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>X</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mtable>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mrow>
                      <msubsup>
                        <mi>&#x394;</mi>
                        <mi>F</mi>
                        <mo>*</mo>
                      </msubsup>
                      <mo>&#x2061;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mi>F</mi>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                    <mo>&#xd7;</mo>
                    <mrow>
                      <msub>
                        <mi>P</mi>
                        <mi>F</mi>
                      </msub>
                      <mo>&#x2061;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mi>X</mi>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                  </mrow>
                  <mo>+</mo>
                  <mrow>
                    <mrow>
                      <msubsup>
                        <mi>&#x394;</mi>
                        <mi>G</mi>
                        <mo>*</mo>
                      </msubsup>
                      <mo>&#x2061;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mi>G</mi>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                    <mo>&#xd7;</mo>
                    <mrow>
                      <msub>
                        <mi>P</mi>
                        <mi>G</mi>
                      </msub>
                      <mo>&#x2061;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mi>X</mi>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                  </mrow>
                  <mo>-</mo>
                  <mrow>
                    <mrow>
                      <msubsup>
                        <mi>&#x394;</mi>
                        <mi>F</mi>
                        <mo>*</mo>
                      </msubsup>
                      <mo>&#x2061;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mi>F</mi>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                    <mo>&#xd7;</mo>
                  </mrow>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mrow>
                      <msub>
                        <mi>P</mi>
                        <mi>F</mi>
                      </msub>
                      <mo>&#x2061;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mi>G</mi>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                    <mo>&#xd7;</mo>
                    <mrow>
                      <msub>
                        <mi>P</mi>
                        <mi>G</mi>
                      </msub>
                      <mo>&#x2061;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mi>X</mi>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                  </mrow>
                  <mo>-</mo>
                  <mrow>
                    <mrow>
                      <msubsup>
                        <mi>&#x394;</mi>
                        <mi>G</mi>
                        <mo>*</mo>
                      </msubsup>
                      <mo>&#x2061;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mi>G</mi>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                    <mo>&#xd7;</mo>
                    <mrow>
                      <msub>
                        <mi>P</mi>
                        <mi>G</mi>
                      </msub>
                      <mo>&#x2061;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mi>F</mi>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                    <mo>&#xd7;</mo>
                    <mrow>
                      <msub>
                        <mi>P</mi>
                        <mi>F</mi>
                      </msub>
                      <mo>&#x2061;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mi>X</mi>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                  </mrow>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
          <mrow>
            <mrow>
              <msubsup>
                <mi>&#x394;</mi>
                <mi>F</mi>
                <mo>*</mo>
              </msubsup>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>F</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>+</mo>
            <mrow>
              <msubsup>
                <mi>&#x394;</mi>
                <mi>G</mi>
                <mo>*</mo>
              </msubsup>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>G</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>-</mo>
            <mfrac>
              <mrow>
                <mrow>
                  <msubsup>
                    <mi>&#x394;</mi>
                    <mi>F</mi>
                    <mo>*</mo>
                  </msubsup>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>F</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>&#xd7;</mo>
                <mrow>
                  <msub>
                    <mi>P</mi>
                    <mi>F</mi>
                  </msub>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>G</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mn>1</mn>
                  <mo>-</mo>
                  <mi>&#x3b2;</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mfrac>
            <mo>-</mo>
            <mfrac>
              <mrow>
                <mrow>
                  <msubsup>
                    <mi>&#x394;</mi>
                    <mi>G</mi>
                    <mo>*</mo>
                  </msubsup>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>G</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>&#xd7;</mo>
                <mrow>
                  <msub>
                    <mi>P</mi>
                    <mi>G</mi>
                  </msub>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>F</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mn>1</mn>
                  <mo>-</mo>
                  <mi>&#x3b2;</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mfrac>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>16</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0125" num="0138">Dual Random Walk</p>
<p id="p-0126" num="0139">One topic that can be asked about a document is, given X, what topic(s) does it &#x201c;belong&#x201d; to? One possible application of this question is the ability to categorize (cluster) the entire web. Another is to determine the set of topics that encompass a collection of documents.</p>
<p id="p-0127" num="0140">Given a web page X, for all possible topics F, give the confidence and support that X belongs to F. In this example, assume that topics are defined by a single web page. For example, consider only those natural random walks where X appears. One way to find the set of pages F that consistently precede X in these natural random walks is to first focus on topic relevance. If when X appears in a natural random walk it is preceded by F with high probability, then X&#x2192;F. Now, given X, what are the Fs that precede it with high probability?</p>
<p id="p-0128" num="0141">One way to solve this problem is to create a dual web graph. The nodes of the dual web graph are the web pages, just like in the original web page. However, the directionality of all links in the original web graph are inverted. Thus all inlinks in the original web graph are now outlinks in the dual web graph and vice versa. The random walk on this dual web graph can be denoted by R<sup>D</sup>.</p>
<p id="p-0129" num="0142">One property satisfied by R<sup>D </sup>is that every natural random walk that appears in R appears reversed in R<sup>D</sup>, and the same number of times. R<sup>D </sup>preserves Page Rank. This property in Markov Chains is called &#x201c;reversibility&#x201d;. If the natural random walks are strings, in the dual, all of the strings are reversed. R and R<sup>D </sup>are said to be reversible, if and only if:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>P</i>(<i>j</i>)&#xd7;&#x3c0;(<i>j,k</i>)=<i>P</i><sup>D</sup>(<i>k</i>)&#xd7;&#x3c0;<sup>D</sup>(<i>k,j</i>)&#x2003;&#x2003;(17)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0130" num="0143">Here, P(j) is the Page Rank of j, P<sup>D</sup>(k) is the Page Rank of k in the Dual Web Graph, and &#x3c0;(j,k) is the probability that edge (j,k) is followed. When R and R<sup>D </sup>are reversible, by definition P<sup>D</sup>(k)=P(k). Thus:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>P</i>(<i>j</i>)&#xd7;&#x3c0;(<i>j,k</i>)=<i>P</i>(<i>k</i>)&#xd7;&#x3c0;<sup>D</sup>(<i>k,j</i>)&#x2003;&#x2003;(18)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0131" num="0144">The transition probabilities in the dual web graph, &#x3c0;<sup>D</sup>(k,j) can be defined as follows:</p>
<p id="p-0132" num="0145">
<maths id="MATH-US-00020" num="00020">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msup>
            <mi>&#x3c0;</mi>
            <mi>D</mi>
          </msup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>k</mi>
              <mo>,</mo>
              <mi>j</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <mi>&#x3b2;</mi>
            <mo>&#xd7;</mo>
            <mrow>
              <mi>P</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>j</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mrow>
            <mrow>
              <mi>O</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>j</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#xd7;</mo>
            <mrow>
              <mi>P</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>k</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>19</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0133" num="0146">where O(j) is the number of outlinks of j. All the outbound probabilities (including teleportation) from a page sum to 1:</p>
<p id="p-0134" num="0147">
<maths id="MATH-US-00021" num="00021">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mn>1</mn>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.6em" height="0.6ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>neighbor</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>of</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.6em" height="0.6ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>k</mi>
              </mrow>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
            </munderover>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mrow>
              <msub>
                <mi>&#x3c0;</mi>
                <mi>D</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>k</mi>
                  <mo>,</mo>
                  <mn>1</mn>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <msubsup>
              <mi>T</mi>
              <mi>O</mi>
              <mi>D</mi>
            </msubsup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>k</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mn>1</mn>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>20</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0135" num="0148">Here, T<sub>O</sub><sup>D</sup>(k) is the probability of teleportation out of k in the dual web graph. Teleportation is defined differently in the dual web graph:</p>
<p id="p-0136" num="0149">
<maths id="MATH-US-00022" num="00022">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msubsup>
            <mi>T</mi>
            <mi>O</mi>
            <mi>D</mi>
          </msubsup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>k</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mn>1</mn>
              <mo>-</mo>
              <mi>&#x3b2;</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>N</mi>
              <mo>&#xd7;</mo>
              <mrow>
                <mi>P</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>k</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>21</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0137" num="0150">Teleportation is more likely out of lower Page Rank nodes in R<sup>D</sup>. If all pages have equi-probability</p>
<p id="p-0138" num="0151">
<maths id="MATH-US-00023" num="00023">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mn>1</mn>
    <mi>N</mi>
  </mfrac>
  <mo>,</mo>
</mrow>
</math>
</maths>
<br/>
then the outbound teleportation probability becomes what is seen in the standard Page Rank algorithm.
</p>
<p id="p-0139" num="0152">To determine T<sub>1</sub><sup>D</sup>(k), the teleportation probability into page k. consider P(k) in the dual web graph:</p>
<p id="p-0140" num="0153">
<maths id="MATH-US-00024" num="00024">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>P</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>k</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mn>1</mn>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.6em" height="0.6ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>neighbor</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>of</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.6em" height="0.6ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>k</mi>
              </mrow>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
            </munderover>
            <mo>&#x2062;</mo>
            <mrow>
              <mrow>
                <mi>P</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mn>1</mn>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>&#xd7;</mo>
              <mrow>
                <msup>
                  <mi>&#x3c0;</mi>
                  <mi>D</mi>
                </msup>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mn>1</mn>
                    <mo>,</mo>
                    <mi>k</mi>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <msubsup>
              <mi>T</mi>
              <mi>I</mi>
              <mi>D</mi>
            </msubsup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>k</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>22</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0141" num="0154">Substituting for &#x3c0;&#xb0; (1,k):
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i><sub>1</sub><sup>D</sup>(<i>k</i>)=(1&#x2212;&#x3b2;)&#xd7;<i>P</i>(<i>k</i>)&#x2003;&#x2003;(23)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0142" num="0155">Teleportation in the dual web graph thus behaves as follows: teleport occurs out of any page k with probability:</p>
<p id="p-0143" num="0156">
<maths id="MATH-US-00025" num="00025">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mrow>
      <mo>(</mo>
      <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mi>&#x3b2;</mi>
      </mrow>
      <mo>)</mo>
    </mrow>
    <mrow>
      <mo>(</mo>
      <mrow>
        <mi>N</mi>
        <mo>&#xd7;</mo>
        <mrow>
          <mi>P</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>k</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
      <mo>)</mo>
    </mrow>
  </mfrac>
  <mo>.</mo>
</mrow>
</math>
</maths>
<br/>
Once teleportation out occurs, teleportation into any page j on the web can occur with probability proportional to its Page Rank P(j). The probability of teleport, across all pages, just as with the original web graph is (1&#x2212;&#x3b2;).
</p>
<p id="p-0144" num="0157"><figref idref="DRAWINGS">FIG. 6</figref> is a table illustrating properties of walks. Assuming the probability of teleport into any page is proportional to its Page Rank, the desired incoming teleport probability for the page can be obtained.</p>
<p id="p-0145" num="0158">Topic Relevance, Topic Score and the Dual Web Graph</p>
<p id="p-0146" num="0159">Given a page X, for every possible topic (e.g., page) F on the web, what is P<sub>F</sub>(X) and Rel<sub>F</sub>(X)? Given a topic page F, the topic rank and the topic relevance for every Page can be computed based on this topic F.</p>
<p id="p-0147" num="0160">Given any page X, it is possible to find its topic score and topic relevance for every possible topic F. Consider A, an N&#xd7;N matrix, where A[j,k]=Rel<sub>k</sub>(j). Here, topics (as defined by web pages) are the columns and web pages are the rows. The diagonal of this matrix is 1 (since Rel<sub>k</sub>(k)=1). A is an N&#xd7;N matrix since in this example every web page also defines a topic. The dual random walk can be used to determine the values of all elements in a given row of the matrix.</p>
<p id="p-0148" num="0161">For the analysis below, assume that no page appears more than once in any natural random walk. Example identities between the regular random walk and the dual random walk follow. P(X)=P<sup>D</sup>(X) (Page Rank is conserved). Thus, Count(X)=Count<sup>D</sup>(X). By reversing strings the number of times any symbol appears does not change.</p>
<p id="p-0149" num="0162">The number of regular natural random walks in which F appears followed by X is the same as the number of dual natural random walks in which X appears followed by F. Further, since no page appears more than once in a natural random walk (regular or dual): Count<sub>F</sub>(X)=Count<sub>X</sub><sup>D</sup>(F).</p>
<p id="p-0150" num="0163">Example: Consider the Natural Random Walks (strings): FCX, XF, CD. Here, the Dual Random Walks are the reverse: XCF, FX, DC. Now, Count<sub>F</sub>(X)=1 (only in string FCX does F precede X). And, Count<sub>X</sub><sup>D</sup>(F)=1 (only in string XCF does X precede F).</p>
<p id="p-0151" num="0164">Consider now the identity: Count<sub>F</sub>(X)=Count<sub>X</sub><sup>D</sup>(F);</p>
<p id="p-0152" num="0165">
<maths id="MATH-US-00026" num="00026">
<math overflow="scroll">
<mrow>
  <mrow>
    <mfrac>
      <mrow>
        <msub>
          <mi>Count</mi>
          <mi>F</mi>
        </msub>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mi>X</mi>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mrow>
        <mi>Count</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mi>X</mi>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mfrac>
    <mo>=</mo>
    <mrow>
      <mfrac>
        <mrow>
          <msubsup>
            <mi>Count</mi>
            <mi>X</mi>
            <mi>D</mi>
          </msubsup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>F</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mrow>
          <msup>
            <mi>Count</mi>
            <mi>D</mi>
          </msup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>X</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mfrac>
      <mo>.</mo>
      <mstyle>
        <mtext>
</mtext>
      </mstyle>
      <mo>&#x2062;</mo>
      <mi>Thus</mi>
    </mrow>
  </mrow>
  <mo>,</mo>
  <mstyle>
    <mspace width="0.3em" height="0.3ex"/>
  </mstyle>
  <mo>&#x2062;</mo>
  <mrow>
    <mrow>
      <mi>Re</mi>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.6em" height="0.6ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mrow>
        <msub>
          <mi>l</mi>
          <mi>F</mi>
        </msub>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mi>X</mi>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mfrac>
        <mrow>
          <msubsup>
            <mi>Count</mi>
            <mi>X</mi>
            <mi>D</mi>
          </msubsup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>F</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mrow>
          <munder>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>i</mi>
              <mo>&#x2208;</mo>
              <mi>Web</mi>
            </mrow>
          </munder>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mrow>
            <msub>
              <mi>Count</mi>
              <mi>X</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>i</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mfrac>
      <mo>&#xd7;</mo>
      <mrow>
        <mfrac>
          <mrow>
            <munder>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>i</mi>
                <mo>&#x2208;</mo>
                <mi>Web</mi>
              </mrow>
            </munder>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mrow>
              <msub>
                <mi>Count</mi>
                <mi>X</mi>
              </msub>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>i</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mrow>
            <msup>
              <mi>Count</mi>
              <mi>D</mi>
            </msup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>X</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mfrac>
        <mo>.</mo>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0153" num="0166">Since Count<sup>D</sup>(X)=Count<sub>X</sub><sup>D</sup>(X),</p>
<p id="p-0154" num="0167">
<maths id="MATH-US-00027" num="00027">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>Re</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.6em" height="0.6ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mrow>
            <msub>
              <mi>l</mi>
              <mi>F</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>X</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <msubsup>
              <mi>P</mi>
              <mi>X</mi>
              <mi>D</mi>
            </msubsup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>F</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mrow>
            <msubsup>
              <mi>P</mi>
              <mi>X</mi>
              <mi>D</mi>
            </msubsup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>X</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>24</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0155" num="0168">The topic relevance of X in topic F is proportional to the topic rank of F in topic X in the dual web graph. One way of computing the topic relevance of X in every topic on the web is as follows: First, construct the dual web graph as given in the previous section. Next, select web page X as the topic. Next, compute the topic ranks of every web page for topic X in the dual web graph using the standard method of computing topic ranks. Finally, apply the formula above to get the topic relevance of X in every topic.</p>
<p id="p-0156" num="0169">Now, consider the Dual Web Graph, and consider in particular: Rel<sub>F</sub><sup>D</sup>(X). In some embodiments, the above formula is used, noting that the dual of the dual web graph is the regular web graph. Thus:</p>
<p id="p-0157" num="0170">
<maths id="MATH-US-00028" num="00028">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <mrow>
            <msub>
              <mi>P</mi>
              <mi>X</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>F</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mrow>
            <msub>
              <mi>P</mi>
              <mi>X</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>X</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mfrac>
        <mo>=</mo>
        <mrow>
          <mi>Re</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.6em" height="0.6ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mrow>
            <msubsup>
              <mi>l</mi>
              <mi>F</mi>
              <mi>D</mi>
            </msubsup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>X</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>25</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0158" num="0171">The topic rank of X in all topics F can thus be computed by computing the topic relevance of F in topic X in the dual web graph.</p>
<p id="p-0159" num="0172"><figref idref="DRAWINGS">FIG. 7</figref> is illustrates an embodiment of a process for scoring a document. The process may be implemented in link analysis engine <b>108</b>. The process begins at <b>702</b> when a forward metric, such as the topic relevance of F in topic X is computed in usual manner. At <b>704</b>, the metric is computed in the dual graph. At <b>706</b>, the forward and backward metrics are combined. The metrics may be combined in a variety of ways. For example, a product of the metrics may be taken. The metrics may also be weighted&#x2014;for example, with the forward metric weighted more than the backward metric. The process ends at <b>708</b> when the combined metrics are outputted, for example, into a relation.</p>
<p id="p-0160" num="0173">Hub and Authority Topics</p>
<p id="p-0161" num="0174">Consider creating an Oakland Raiders topic. The Oakland Raiders website appears like the right page to use to define this topic. Unfortunately, the site is not much of a hub page&#x2014;it has few outlinks and is more of an &#x201c;authority&#x201d; page&#x2014;one that hubs point to.</p>
<p id="p-0162" num="0175">In general, a Web Page has both Hub and Authority components. In the formulations above, topic computations are hub-based. However, authority web pages can also be used.</p>
<p id="p-0163" num="0176">Given a Web Page F that defines the Topic, and any page X, an authority topic rank (P<sub>F</sub><sup>A</sup>(X)) and authority topic relevance (Rel<sub>F</sub><sup>A</sup>(X)) can be defined as follows. Here, the superscript A and H to refer to Authority and Hub variants respectively. A topic notation without a superscript is assumed to involve hubs:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>P</i><sub>F</sub><sup>A</sup>(<i>X</i>)=Rel<sub>X</sub><sup>H</sup>(<i>F</i>)=Rel<sub>X</sub>(<i>F</i>)&#x2003;&#x2003;(26)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Rel<sub>F</sub><sup>A</sup>(<i>X</i>)=<i>P</i><sub>X</sub><sup>H</sup>(<i>F</i>)=<i>P</i><sub>X</sub>(<i>F</i>)&#x2003;&#x2003;(27)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0164" num="0177">Consider the topic web page F and the random surfer. Assume the random surfer has a Visited_j variable for every web page J. If for any web page X, Count<sub>X</sub>(F) (the number of visits to F that were preceded by a visit to X), is a significant fraction of Count(F) (the total number of visits to F), X is a significant source of traffic to F. This is a popularity metric&#x2014;while X may account for a lot of F's traffic, X may just be a general high-traffic site and may not be particularly relevant to F. A measure of topic relevance is needed: if a random surfer visits X, with high probability he visits F, which is given by the hub topic rank of F in X.</p>
<p id="p-0165" num="0178">In some embodiments, the authority topic rank and relevance of any page X for a given topic F are the same (within a constant factor) as the hub topic rank and relevance of the page X in topic F in the dual web graph. The constant factor can be derived by approximating P<sub>X</sub>(X) by (1&#x2212;&#x3b2;)&#x2014;the probability of teleport.</p>
<p id="p-0166" num="0179">When there is a page for which a topic is to be computed, both hub and authority topics can be computed and the scores combined appropriately when search results are ranked.</p>
<p id="p-0167" num="0180">Computing Topic Relevance</p>
<p id="p-0168" num="0181">Topic relevance can be computed with respect to seed sets of any size. Instead of stating the definition of topic relevance in terms of a single random walker, a large collection of random walkers can be employed.</p>
<p id="p-0169" num="0182">Suppose a web graph has N nodes. Hypothetical random surfers pursue random walks on the web with a teleport parameter &#x3b2; (i.e., the probability of teleport at each step is 1&#x2212;&#x3b2;). Suppose that the number M of such random walkers is very large, i.e., M&#x3e;&#x3e;N and the random walks have settled to equilibrium distributions.</p>
<p id="p-0170" num="0183">The Page Rank of a page p is the fraction of the total number of random walkers that are on p at any point in time. Using r to denote the Page Rank vector, and r(p) to denote the Page Rank of page p, suppose the number of random surfers at page p is M(p). Then,</p>
<p id="p-0171" num="0184">
<maths id="MATH-US-00029" num="00029">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>r</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>p</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <mi>M</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mi>M</mi>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>28</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0172" num="0185">Now suppose a set S of seed pages is selected for a topic. In some embodiments, each random surfer is in one of two states: relevant and irrelevant. Here, each surfer is initially in the irrelevant state. When a surfer visits a seed set page, his state changes to relevant (independent of his prior state). These surfers are referred to herein as relevant surfers. When a surfer teleports at random, his state changes to irrelevant. These surfers are referred to herein as irrelevant surfers.</p>
<p id="p-0173" num="0186">At any time t, the number of relevant surfers at node p can be denoted as M<sub>R</sub>(p). The relevance of p is the fraction of the surfers at p who are relevant. The relevance vector is denoted x and the relevance of p is denoted x(p). Then:</p>
<p id="p-0174" num="0187">
<maths id="MATH-US-00030" num="00030">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>x</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>p</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <msub>
              <mi>M</mi>
              <mi>R</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mrow>
            <mi>M</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>29</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0175" num="0188">If p&#x2208;S, then M<sub>R</sub>(p)=M(p), and so x(p)=1.</p>
<p id="p-0176" num="0189">Non-Teleport Topic Relevance</p>
<p id="p-0177" num="0190">Of these random surfers, let M&#x2032;(p) denote the number that got to b by following a link (i.e., those that did not teleport directly to p). The non-teleport Page Rank (NTPR) of p, denoted r&#x2032;(p) can be defined as:</p>
<p id="p-0178" num="0191">
<maths id="MATH-US-00031" num="00031">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msup>
            <mi>r</mi>
            <mi>&#x2032;</mi>
          </msup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>p</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <msup>
              <mi>M</mi>
              <mi>&#x2032;</mi>
            </msup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mi>M</mi>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>30</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0179" num="0192"><figref idref="DRAWINGS">FIG. 8</figref> illustrates an embodiment of a process for determining a relevance vector. This process may be implemented in link analysis engine <b>108</b>. In the example shown, the process begins at <b>802</b> when a typical Page Rank vector r is determined.</p>
<p id="p-0180" num="0193">At <b>804</b>, a non-teleport Page Rank vector r&#x2032; is determined. There is a relationship between r and r&#x2032;. Since there are M random surfers, at any time step (1&#x2212;&#x3b2;)M teleport. Since the teleports are uniformly at random, the number of surfers who teleport into p at any time step is</p>
<p id="p-0181" num="0194">
<maths id="MATH-US-00032" num="00032">
<math overflow="scroll">
<mrow>
  <mrow>
    <mo>(</mo>
    <mrow>
      <mn>1</mn>
      <mo>-</mo>
      <mi>&#x3b2;</mi>
    </mrow>
    <mo>)</mo>
  </mrow>
  <mo>&#x2062;</mo>
  <mrow>
    <mfrac>
      <mi>M</mi>
      <mi>N</mi>
    </mfrac>
    <mo>.</mo>
  </mrow>
</mrow>
</math>
</maths>
<br/>
Therefore:
</p>
<p id="p-0182" num="0195">
<maths id="MATH-US-00033" num="00033">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msup>
            <mi>M</mi>
            <mi>&#x2032;</mi>
          </msup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>p</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mi>M</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>-</mo>
          <mrow>
            <mfrac>
              <mrow>
                <mn>1</mn>
                <mo>-</mo>
                <mi>&#x3b2;</mi>
              </mrow>
              <mi>N</mi>
            </mfrac>
            <mo>&#x2062;</mo>
            <mi>M</mi>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>31</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0183" num="0196">And thus, the following is one way of determining the NTPR:</p>
<p id="p-0184" num="0197">
<maths id="MATH-US-00034" num="00034">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msup>
            <mi>r</mi>
            <mi>&#x2032;</mi>
          </msup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>p</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mi>r</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>-</mo>
          <mfrac>
            <mrow>
              <mn>1</mn>
              <mo>-</mo>
              <mi>&#x3b2;</mi>
            </mrow>
            <mi>N</mi>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>32</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0185" num="0198">The non-teleport topic relevance (NTTR) of p, denoted by x&#x2032;(p) can be defined as follows:</p>
<p id="p-0186" num="0199">
<maths id="MATH-US-00035" num="00035">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msup>
            <mi>x</mi>
            <mi>&#x2032;</mi>
          </msup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>p</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <msub>
              <mi>M</mi>
              <mi>R</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mrow>
            <msup>
              <mi>M</mi>
              <mi>&#x2032;</mi>
            </msup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>33</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0187" num="0200">In this example, if p&#x2208;S, M<sub>R</sub>(p)=M(p)&#x3e;M&#x2032;(p), and so x&#x2032;(p)&#x3e;1. The following formula relates x(p) and x&#x2032;(p):</p>
<p id="p-0188" num="0201">
<maths id="MATH-US-00036" num="00036">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <msup>
                  <mi>x</mi>
                  <mi>&#x2032;</mi>
                </msup>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>p</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>=</mo>
              <mi/>
              <mo>&#x2062;</mo>
              <mfrac>
                <mrow>
                  <msub>
                    <mi>M</mi>
                    <mi>R</mi>
                  </msub>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>p</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mrow>
                  <msup>
                    <mi>M</mi>
                    <mi>&#x2032;</mi>
                  </msup>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>p</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mfrac>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mo>=</mo>
              <mi/>
              <mo>&#x2062;</mo>
              <mfrac>
                <mrow>
                  <msub>
                    <mi>M</mi>
                    <mi>R</mi>
                  </msub>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>p</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mrow>
                  <mrow>
                    <mi>M</mi>
                    <mo>&#x2061;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mi>p</mi>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                  <mo>-</mo>
                  <mrow>
                    <mfrac>
                      <mrow>
                        <mn>1</mn>
                        <mo>-</mo>
                        <mi>&#x3b2;</mi>
                      </mrow>
                      <mi>N</mi>
                    </mfrac>
                    <mo>&#x2062;</mo>
                    <mi>M</mi>
                  </mrow>
                </mrow>
              </mfrac>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>34</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0189" num="0202">This can be simplified, noting that</p>
<p id="p-0190" num="0203">
<maths id="MATH-US-00037" num="00037">
<math overflow="scroll">
<mrow>
  <mrow>
    <mfrac>
      <mi>M</mi>
      <mrow>
        <mi>M</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mi>p</mi>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mfrac>
    <mo>=</mo>
    <mfrac>
      <mn>1</mn>
      <mrow>
        <mi>r</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mi>p</mi>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mfrac>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
</maths>
<br/>
as follows:
</p>
<p id="p-0191" num="0204">
<maths id="MATH-US-00038" num="00038">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>x</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>p</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mn>1</mn>
              <mo>-</mo>
              <mfrac>
                <mrow>
                  <mn>1</mn>
                  <mo>-</mo>
                  <mi>&#x3b2;</mi>
                </mrow>
                <mrow>
                  <mi>Nr</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>p</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mfrac>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mo>&#x2062;</mo>
          <mrow>
            <msup>
              <mi>x</mi>
              <mi>&#x2032;</mi>
            </msup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>35</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0192" num="0205">A recursive formula can be derived that relates the NTTR of a node to that of its neighbors. This formula can be used as the basis of a graph computation for NTTR.</p>
<p id="p-0193" num="0206">Consider the relevant surfers at page p&#x2209;S at time t+1. The number of surfers at p is M(p), and the number of relevant surfers is M<sub>R</sub>(p)=x&#x2032;(p)M&#x2032;(p). The in-neighbors and out-neighbors of p can be denoted I(p) and O(p), respectively. In this example, each of these surfers came from an in-neighbor of p. Suppose q&#x2208;I(p). At time t, the number of random surfers at q is M(q), and the number of relevant random surfers is M<sub>R</sub>(q)=x&#x2032;(q)M&#x2032;(q). Of these relevant surfers, a fraction &#x3b2; follows outlinks and a fraction 1&#x2212;&#x3b2; teleports out of q. The number of relevant surfers from q that land up at p at time t+1 is therefore</p>
<p id="p-0194" num="0207">
<maths id="MATH-US-00039" num="00039">
<math overflow="scroll">
<mrow>
  <mrow>
    <mfrac>
      <mi>&#x3b2;</mi>
      <mrow>
        <mo>&#xf603;</mo>
        <mrow>
          <mi>O</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>q</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>&#xf604;</mo>
      </mrow>
    </mfrac>
    <mo>&#x2062;</mo>
    <mrow>
      <msub>
        <mi>M</mi>
        <mi>R</mi>
      </msub>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mi>q</mi>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mfrac>
      <mi>&#x3b2;</mi>
      <mrow>
        <mo>&#xf603;</mo>
        <mrow>
          <mi>O</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>q</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>&#xf604;</mo>
      </mrow>
    </mfrac>
    <mo>&#x2062;</mo>
    <mrow>
      <msup>
        <mi>x</mi>
        <mi>&#x2032;</mi>
      </msup>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mi>q</mi>
        <mo>)</mo>
      </mrow>
    </mrow>
    <mo>&#x2062;</mo>
    <mrow>
      <mrow>
        <msup>
          <mi>M</mi>
          <mi>&#x2032;</mi>
        </msup>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mi>q</mi>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mo>.</mo>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
Thus, at equilibrium:
</p>
<p id="p-0195" num="0208">
<maths id="MATH-US-00040" num="00040">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mrow>
            <msup>
              <mi>x</mi>
              <mi>&#x2032;</mi>
            </msup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>&#x2062;</mo>
          <mrow>
            <msup>
              <mi>M</mi>
              <mi>&#x2032;</mi>
            </msup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <munder>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>q</mi>
              <mo>&#x2208;</mo>
              <mrow>
                <mi>I</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>p</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </munder>
          <mo>&#x2062;</mo>
          <mrow>
            <mfrac>
              <mi>&#x3b2;</mi>
              <mrow>
                <mo>&#xf603;</mo>
                <mrow>
                  <mi>O</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>q</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>&#xf604;</mo>
              </mrow>
            </mfrac>
            <mo>&#x2062;</mo>
            <mrow>
              <msup>
                <mi>x</mi>
                <mi>&#x2032;</mi>
              </msup>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>q</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <mrow>
              <msup>
                <mi>M</mi>
                <mi>&#x2032;</mi>
              </msup>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>q</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>36</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0196" num="0209">Dividing through by M, and using</p>
<p id="p-0197" num="0210">
<maths id="MATH-US-00041" num="00041">
<math overflow="scroll">
<mrow>
  <mrow>
    <mrow>
      <msup>
        <mi>r</mi>
        <mi>&#x2032;</mi>
      </msup>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mi>p</mi>
        <mo>)</mo>
      </mrow>
    </mrow>
    <mo>=</mo>
    <mfrac>
      <mrow>
        <msup>
          <mi>M</mi>
          <mi>&#x2032;</mi>
        </msup>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mi>p</mi>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mi>M</mi>
    </mfrac>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
</maths>
<br/>
this can be rewritten as:
</p>
<p id="p-0198" num="0211">
<maths id="MATH-US-00042" num="00042">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mrow>
            <msup>
              <mi>x</mi>
              <mi>&#x2032;</mi>
            </msup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>&#x2062;</mo>
          <mrow>
            <msup>
              <mi>r</mi>
              <mi>&#x2032;</mi>
            </msup>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <munder>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>q</mi>
              <mo>&#x2208;</mo>
              <mrow>
                <mi>I</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>p</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </munder>
          <mo>&#x2062;</mo>
          <mrow>
            <mfrac>
              <mi>&#x3b2;</mi>
              <mrow>
                <mo>&#xf603;</mo>
                <mrow>
                  <mi>O</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>q</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>&#xf604;</mo>
              </mrow>
            </mfrac>
            <mo>&#x2062;</mo>
            <mrow>
              <msup>
                <mi>x</mi>
                <mi>&#x2032;</mi>
              </msup>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>q</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>&#x2062;</mo>
            <mrow>
              <msup>
                <mi>r</mi>
                <mi>&#x2032;</mi>
              </msup>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>q</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>37</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0199" num="0212">It was previously assumed that p&#x2209;S. If p&#x2208;S , then x(p) is 1. Thus, the following recursive formula for x&#x2032;(p) can be given:</p>
<p id="p-0200" num="0213">
<maths id="MATH-US-00043" num="00043">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msup>
            <mi>x</mi>
            <mi>&#x2032;</mi>
          </msup>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>p</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mtable>
            <mtr>
              <mtd>
                <mfrac>
                  <mn>1</mn>
                  <mrow>
                    <mn>1</mn>
                    <mo>-</mo>
                    <mfrac>
                      <mrow>
                        <mn>1</mn>
                        <mo>-</mo>
                        <mi>&#x3b2;</mi>
                      </mrow>
                      <mrow>
                        <mi>Nr</mi>
                        <mo>&#x2061;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mi>p</mi>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mfrac>
                  </mrow>
                </mfrac>
              </mtd>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>if</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>p</mi>
                  </mrow>
                  <mo>&#x2208;</mo>
                  <mi>S</mi>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mfrac>
                    <mn>1</mn>
                    <mrow>
                      <msup>
                        <mi>r</mi>
                        <mi>&#x2032;</mi>
                      </msup>
                      <mo>&#x2061;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mi>p</mi>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                  </mfrac>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <munder>
                      <mo>&#x2211;</mo>
                      <mrow>
                        <mi>q</mi>
                        <mo>&#x2208;</mo>
                        <mrow>
                          <mi>I</mi>
                          <mo>&#x2061;</mo>
                          <mrow>
                            <mo>(</mo>
                            <mi>p</mi>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                      </mrow>
                    </munder>
                    <mo>&#x2062;</mo>
                    <mrow>
                      <mfrac>
                        <mi>&#x3b2;</mi>
                        <mrow>
                          <mo>&#xf603;</mo>
                          <mrow>
                            <mi>O</mi>
                            <mo>&#x2061;</mo>
                            <mrow>
                              <mo>(</mo>
                              <mi>q</mi>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                          <mo>&#xf604;</mo>
                        </mrow>
                      </mfrac>
                      <mo>&#x2062;</mo>
                      <mrow>
                        <msup>
                          <mi>x</mi>
                          <mi>&#x2032;</mi>
                        </msup>
                        <mo>&#x2061;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mi>q</mi>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                      <mo>&#x2062;</mo>
                      <mrow>
                        <msup>
                          <mi>r</mi>
                          <mi>&#x2032;</mi>
                        </msup>
                        <mo>&#x2061;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mi>q</mi>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>if</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>p</mi>
                  </mrow>
                  <mo>&#x2209;</mo>
                  <mi>S</mi>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>38</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0201" num="0214">At <b>806</b>, a link-based graph computation is used to compute a fixpoint for the recursive equation given above. In some embodiments, pages in the set S are initialized to non-zero values, and the other nodes are initialized to 0.</p>
<p id="p-0202" num="0215">At <b>808</b>, the relevance vector x is computed, for example, using</p>
<p id="p-0203" num="0216">
<maths id="MATH-US-00044" num="00044">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>x</mi>
    <mo>&#x2061;</mo>
    <mrow>
      <mo>(</mo>
      <mi>p</mi>
      <mo>)</mo>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mo>(</mo>
      <mrow>
        <mn>1</mn>
        <mo>-</mo>
        <mfrac>
          <mrow>
            <mn>1</mn>
            <mo>-</mo>
            <mi>&#x3b2;</mi>
          </mrow>
          <mrow>
            <mi>Nr</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
      <mo>)</mo>
    </mrow>
    <mo>&#x2062;</mo>
    <mrow>
      <msup>
        <mi>x</mi>
        <mi>&#x2032;</mi>
      </msup>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mi>p</mi>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
as described above.
</p>
<p id="p-0204" num="0217">A matrix equation for NTTR can be used. Define an N&#xd7;N matrix R and N&#xd7;1 vector x&#x2032;<sub>0 </sub>as follows:</p>
<p id="p-0205" num="0218">
<maths id="MATH-US-00045" num="00045">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>R</mi>
          <mi>pq</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mrow>
            <mrow>
              <mtable>
                <mtr>
                  <mtd>
                    <mrow>
                      <mfrac>
                        <mi>&#x3b2;</mi>
                        <mrow>
                          <mo>&#xf603;</mo>
                          <mrow>
                            <mi>O</mi>
                            <mo>&#x2061;</mo>
                            <mrow>
                              <mo>(</mo>
                              <mi>q</mi>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                          <mo>&#xf604;</mo>
                        </mrow>
                      </mfrac>
                      <mo>&#x2062;</mo>
                      <mfrac>
                        <mrow>
                          <msup>
                            <mi>r</mi>
                            <mi>&#x2032;</mi>
                          </msup>
                          <mo>&#x2061;</mo>
                          <mrow>
                            <mo>(</mo>
                            <mi>q</mi>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                        <mrow>
                          <msup>
                            <mi>r</mi>
                            <mi>&#x2032;</mi>
                          </msup>
                          <mo>&#x2061;</mo>
                          <mrow>
                            <mo>(</mo>
                            <mi>p</mi>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                      </mfrac>
                    </mrow>
                  </mtd>
                  <mtd>
                    <mrow>
                      <mrow>
                        <mi>if</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.8em" height="0.8ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>p</mi>
                      </mrow>
                      <mo>&#x2208;</mo>
                      <mrow>
                        <mi>S</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.8em" height="0.8ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>and</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.8em" height="0.8ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>q</mi>
                      </mrow>
                      <mo>&#x2208;</mo>
                      <mrow>
                        <mi>I</mi>
                        <mo>&#x2061;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mi>p</mi>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mn>0</mn>
                  </mtd>
                  <mtd>
                    <mi>otherwise</mi>
                  </mtd>
                </mtr>
              </mtable>
              <mo>&#x2062;</mo>
              <mstyle>
                <mtext>
</mtext>
              </mstyle>
              <mo>&#x2062;</mo>
              <mrow>
                <msubsup>
                  <mi>x</mi>
                  <mn>0</mn>
                  <mi>&#x2032;</mi>
                </msubsup>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <mi>p</mi>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mo>=</mo>
            <mrow>
              <mo>{</mo>
              <mtable>
                <mtr>
                  <mtd>
                    <mfrac>
                      <mn>1</mn>
                      <mrow>
                        <mn>1</mn>
                        <mo>-</mo>
                        <mfrac>
                          <mrow>
                            <mn>1</mn>
                            <mo>-</mo>
                            <mi>&#x3b2;</mi>
                          </mrow>
                          <mrow>
                            <mi>Nr</mi>
                            <mo>&#x2061;</mo>
                            <mrow>
                              <mo>(</mo>
                              <mi>p</mi>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                        </mfrac>
                      </mrow>
                    </mfrac>
                  </mtd>
                  <mtd>
                    <mrow>
                      <mrow>
                        <mrow>
                          <mi>if</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.8em" height="0.8ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mi>p</mi>
                        </mrow>
                        <mo>&#x2208;</mo>
                        <mi>S</mi>
                      </mrow>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.8em" height="0.8ex"/>
                      </mstyle>
                    </mrow>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mn>0</mn>
                  </mtd>
                  <mtd>
                    <mi>otherwise</mi>
                  </mtd>
                </mtr>
              </mtable>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>39</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0206" num="0219">The recursive formula previously given (Eq. 14) can be rewritten as the following linear matrix equation (a Sylvester Equation):
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>x&#x2032;=Rx&#x2032;+x&#x2032;</i><sub>0</sub>&#x2003;&#x2003;(40)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0207" num="0220">In this example, the matrix R is not stochastic, unlike the corresponding matrix A in the Page Rank equation. Correspondingly, relevance vector x&#x2032; is also not a probability vector.</p>
<p id="p-0208" num="0221">Hierarchical Topic Relevance</p>
<p id="p-0209" num="0222">Multiple topics can be organized into a topic hierarchy. For example, a topic hierarchy can be implemented in a tree or a directed acyclic graph (DAG), with the children of a node (e.g., football, basketball), being subtopics of the parent (e.g., sports). As described in more detail below, the relevance of each page with respect to each topic in the hierarchy can be computed.</p>
<p id="p-0210" num="0223">&#x201c;Children's health&#x201d; is an example subtopic of &#x201c;health.&#x201d; Consider a search, such as &#x201c;music,&#x201d; in the context of children's health. In some cases, high on the results list might be pages about music as it relates to general health. This is because pages that are relevant to general health may also obtain good relevance scores for children's health, due to topic drift.</p>
<p id="p-0211" num="0224">Hierarchical topic relevance can be used to minimize topic drift by taking advantage of information encoded in the topic hierarchy.</p>
<p id="p-0212" num="0225">Suppose a web graph has N nodes and there are a large number of random surfers pursuing random walks on the web, with teleport parameter &#x3b2; (i.e., probability of teleport at each step is 1&#x2212;&#x3b2;). Suppose that the number M of such random walkers is very large, i.e., M&#x3e;&#x3e;N, and the random walks have settled to equilibrium.</p>
<p id="p-0213" num="0226">The typical Page Rank of a page p is the fraction of the total number of random walkers that are on p at any point in time. Using r to denote the Page Rank vector, and r(p) to denote the Page Rank of page p, suppose the number of random surfers at page p is M(p). Then:</p>
<p id="p-0214" num="0227">
<maths id="MATH-US-00046" num="00046">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>r</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>p</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <mi>M</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mi>M</mi>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>41</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0215" num="0228">Suppose there is a topic hierarchy H, organized as a tree or as a DAG. In this example, there is a seed set of pages associated with every topic T in the hierarchy. Here, the seed set for a topic includes the seed sets of all of its subtopics, but may contain additional pages that are not in the seed sets of any of its subtopics. A pair of topics in this example is said to be unrelated if neither is an ancestor or descendant of the other. In other cases, these assumptions are not strictly adhered to. For example, other seed sets may be used as applicable.</p>
<p id="p-0216" num="0229">Consider some topic T in H, and denote its seed set by S(T). Associated with each topic is also an excluded set of pages, which is denoted by E(T). In this case, the excluded set contains pages that are known not to belong to topic T. One way to construct E(T) is to set it equal to the union of the seed sets of all the topics in the hierarchy that are not subtopics of T (in particular, E(T)) includes the seed sets of the ancestors of T). Here, generically popular pages, such as Yahoo.com and Google.com are included in the seed set of the root of the hierarchy.</p>
<p id="p-0217" num="0230">Suppose that each random surfer is in one of two states: relevant, and irrelevant. Initially, each surfer is in the irrelevant state. In some embodiments, surfers follow the following rules. When a surfer visits a seed set page, his state changes to relevant (independent of his prior state). These surfers are referred to herein as relevant surfers. When a surfer teleports at random, his state changes to irrelevant. These surfers are referred to herein as irrelevant surfers. When a surfer visits an excluded page, his state changes to irrelevant.</p>
<p id="p-0218" num="0231">At any time t, let M<sub>R</sub>(p) denote the number of relevant surfers at node p. the relevance of p is the fraction of the surfers at p who are relevant. The relevance vector is denoted here by x and the relevance of p is denoted by x(p). Then:</p>
<p id="p-0219" num="0232">
<maths id="MATH-US-00047" num="00047">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>x</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mi>p</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <msub>
              <mi>M</mi>
              <mi>R</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mrow>
            <mi>M</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>p</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>42</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0220" num="0233">If p&#x2208;S(T), then M<sub>R</sub>(p)=M(p), and so x(p)=1. If p&#x2208;E(T), then x(p)=0.</p>
<p id="p-0221" num="0234">The iterative process described in conjunction with <figref idref="DRAWINGS">FIG. 8</figref> above can be modified to compute hierarchical topic relevance. One way this can be accomplished is by modifying the manner in which the excluded set is treated. The values for the excluded set can be pinned at 0 and not updated in the usual manner. At the portion corresponding to <b>806</b> in this modified scheme, hierarchical topic relevance will have been computed.</p>
<p id="p-0222" num="0235">Another approach is to estimate hierarchical relevance using the ordinary relevance. In the case where the excluded set contains a single page, a closed formula can be derived. In some embodiments, the matrix formulation of relevance is extended to incorporate excluded pages.</p>
<p id="p-0223" num="0236">In some embodiments, instead of setting the relevance of the excluded pages to zero, set their relevance to a small non-zero value. A different value for each excluded page may be used, for example, depending on the relatedness of topics in the hierarchy.</p>
<p id="p-0224" num="0237">In some embodiments, instead of (or in addition to) the excluded set, compute a value for each page that expresses its contribution to topic drift. This number may be measured in a manner similar to source scores in DIFR and will make relevance into a double-iterative algorithm like DIFR.</p>
<p id="p-0225" num="0238">Although the foregoing embodiments have been described in some detail for purposes of clarity of understanding, the invention is not limited to the details provided. There are many alternative ways of implementing the invention. The disclosed embodiments are illustrative and not restrictive.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08626740-20140107-M00001.NB">
<img id="EMI-M00001" he="8.81mm" wi="76.20mm" file="US08626740-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08626740-20140107-M00002.NB">
<img id="EMI-M00002" he="8.81mm" wi="76.20mm" file="US08626740-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08626740-20140107-M00003.NB">
<img id="EMI-M00003" he="6.69mm" wi="76.20mm" file="US08626740-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08626740-20140107-M00004.NB">
<img id="EMI-M00004" he="6.69mm" wi="76.20mm" file="US08626740-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US08626740-20140107-M00005.NB">
<img id="EMI-M00005" he="6.35mm" wi="76.20mm" file="US08626740-20140107-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00006" nb-file="US08626740-20140107-M00006.NB">
<img id="EMI-M00006" he="8.47mm" wi="76.20mm" file="US08626740-20140107-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00007" nb-file="US08626740-20140107-M00007.NB">
<img id="EMI-M00007" he="8.47mm" wi="76.20mm" file="US08626740-20140107-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00008" nb-file="US08626740-20140107-M00008.NB">
<img id="EMI-M00008" he="8.47mm" wi="76.20mm" file="US08626740-20140107-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00009" nb-file="US08626740-20140107-M00009.NB">
<img id="EMI-M00009" he="17.27mm" wi="76.20mm" file="US08626740-20140107-M00009.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00010" nb-file="US08626740-20140107-M00010.NB">
<img id="EMI-M00010" he="6.69mm" wi="76.20mm" file="US08626740-20140107-M00010.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00011" nb-file="US08626740-20140107-M00011.NB">
<img id="EMI-M00011" he="9.14mm" wi="76.20mm" file="US08626740-20140107-M00011.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00012" nb-file="US08626740-20140107-M00012.NB">
<img id="EMI-M00012" he="8.81mm" wi="76.20mm" file="US08626740-20140107-M00012.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00013" nb-file="US08626740-20140107-M00013.NB">
<img id="EMI-M00013" he="8.81mm" wi="76.20mm" file="US08626740-20140107-M00013.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00014" nb-file="US08626740-20140107-M00014.NB">
<img id="EMI-M00014" he="12.36mm" wi="76.20mm" file="US08626740-20140107-M00014.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00015" nb-file="US08626740-20140107-M00015.NB">
<img id="EMI-M00015" he="6.35mm" wi="76.20mm" file="US08626740-20140107-M00015.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00016" nb-file="US08626740-20140107-M00016.NB">
<img id="EMI-M00016" he="7.03mm" wi="76.20mm" file="US08626740-20140107-M00016.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00017" nb-file="US08626740-20140107-M00017.NB">
<img id="EMI-M00017" he="6.69mm" wi="76.20mm" file="US08626740-20140107-M00017.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00018" nb-file="US08626740-20140107-M00018.NB">
<img id="EMI-M00018" he="6.69mm" wi="76.20mm" file="US08626740-20140107-M00018.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00019" nb-file="US08626740-20140107-M00019.NB">
<img id="EMI-M00019" he="14.14mm" wi="76.20mm" file="US08626740-20140107-M00019.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00020" nb-file="US08626740-20140107-M00020.NB">
<img id="EMI-M00020" he="6.69mm" wi="76.20mm" file="US08626740-20140107-M00020.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00021" nb-file="US08626740-20140107-M00021.NB">
<img id="EMI-M00021" he="8.13mm" wi="76.20mm" file="US08626740-20140107-M00021.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00022" nb-file="US08626740-20140107-M00022.NB">
<img id="EMI-M00022" he="6.69mm" wi="76.20mm" file="US08626740-20140107-M00022.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00023" nb-file="US08626740-20140107-M00023.NB">
<img id="EMI-M00023" he="6.01mm" wi="76.20mm" file="US08626740-20140107-M00023.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00024" nb-file="US08626740-20140107-M00024.NB">
<img id="EMI-M00024" he="8.13mm" wi="76.20mm" file="US08626740-20140107-M00024.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00025" nb-file="US08626740-20140107-M00025.NB">
<img id="EMI-M00025" he="6.35mm" wi="76.20mm" file="US08626740-20140107-M00025.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00026" nb-file="US08626740-20140107-M00026.NB">
<img id="EMI-M00026" he="20.49mm" wi="76.20mm" file="US08626740-20140107-M00026.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00027" nb-file="US08626740-20140107-M00027.NB">
<img id="EMI-M00027" he="7.79mm" wi="76.20mm" file="US08626740-20140107-M00027.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00028" nb-file="US08626740-20140107-M00028.NB">
<img id="EMI-M00028" he="6.69mm" wi="76.20mm" file="US08626740-20140107-M00028.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00029" nb-file="US08626740-20140107-M00029.NB">
<img id="EMI-M00029" he="6.35mm" wi="76.20mm" file="US08626740-20140107-M00029.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00030" nb-file="US08626740-20140107-M00030.NB">
<img id="EMI-M00030" he="6.69mm" wi="76.20mm" file="US08626740-20140107-M00030.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00031" nb-file="US08626740-20140107-M00031.NB">
<img id="EMI-M00031" he="6.69mm" wi="76.20mm" file="US08626740-20140107-M00031.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00032" nb-file="US08626740-20140107-M00032.NB">
<img id="EMI-M00032" he="6.01mm" wi="76.20mm" file="US08626740-20140107-M00032.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00033" nb-file="US08626740-20140107-M00033.NB">
<img id="EMI-M00033" he="6.35mm" wi="76.20mm" file="US08626740-20140107-M00033.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00034" nb-file="US08626740-20140107-M00034.NB">
<img id="EMI-M00034" he="6.35mm" wi="76.20mm" file="US08626740-20140107-M00034.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00035" nb-file="US08626740-20140107-M00035.NB">
<img id="EMI-M00035" he="6.69mm" wi="76.20mm" file="US08626740-20140107-M00035.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00036" nb-file="US08626740-20140107-M00036.NB">
<img id="EMI-M00036" he="16.93mm" wi="76.20mm" file="US08626740-20140107-M00036.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00037" nb-file="US08626740-20140107-M00037.NB">
<img id="EMI-M00037" he="6.69mm" wi="76.20mm" file="US08626740-20140107-M00037.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00038" nb-file="US08626740-20140107-M00038.NB">
<img id="EMI-M00038" he="7.03mm" wi="76.20mm" file="US08626740-20140107-M00038.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00039" nb-file="US08626740-20140107-M00039.NB">
<img id="EMI-M00039" he="6.69mm" wi="76.20mm" file="US08626740-20140107-M00039.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00040" nb-file="US08626740-20140107-M00040.NB">
<img id="EMI-M00040" he="8.13mm" wi="76.20mm" file="US08626740-20140107-M00040.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00041" nb-file="US08626740-20140107-M00041.NB">
<img id="EMI-M00041" he="6.35mm" wi="76.20mm" file="US08626740-20140107-M00041.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00042" nb-file="US08626740-20140107-M00042.NB">
<img id="EMI-M00042" he="8.13mm" wi="76.20mm" file="US08626740-20140107-M00042.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00043" nb-file="US08626740-20140107-M00043.NB">
<img id="EMI-M00043" he="19.05mm" wi="76.20mm" file="US08626740-20140107-M00043.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00044" nb-file="US08626740-20140107-M00044.NB">
<img id="EMI-M00044" he="6.69mm" wi="76.20mm" file="US08626740-20140107-M00044.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00045" nb-file="US08626740-20140107-M00045.NB">
<img id="EMI-M00045" he="30.31mm" wi="76.20mm" file="US08626740-20140107-M00045.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00046" nb-file="US08626740-20140107-M00046.NB">
<img id="EMI-M00046" he="6.35mm" wi="76.20mm" file="US08626740-20140107-M00046.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00047" nb-file="US08626740-20140107-M00047.NB">
<img id="EMI-M00047" he="6.69mm" wi="76.20mm" file="US08626740-20140107-M00047.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A computer-implemented method of determining the relevance of a page to a topic in a hierarchy comprising:
<claim-text>receiving a seed set of nodes, wherein the seed set of nodes includes a first seed node and a second seed node, and wherein the first seed node and the second seed node are both associated with the topic in the hierarchy;</claim-text>
<claim-text>determining a plurality of paths of a plurality of surfers that include arrivals at the page;</claim-text>
<claim-text>determining the relevance for each of the plurality of surfers as either being relevant or irrelevant based at least in part on the surfers' behaviors corresponding to the plurality of paths; and</claim-text>
<claim-text>determining the relevance of the page to the topic in the hierarchy, at least in part by determining a ratio of (1) a measure of paths included in the plurality that include visiting at least one of either the first seed node or the second seed node prior to visiting the page and (2) a measure of the plurality of paths and (3) the relevance of the surfers corresponding to the plurality of paths.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the topic hierarchy is a tree.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the topic hierarchy is a directed acyclic graph.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the topic hierarchy is arranged such that children of a node represent subtopics of a topic with which the node is associated.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein there is a seed set of pages associated with every topic in the hierarchy.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein a seed set for a topic includes the seed sets of all its subtopics.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein a pair of topics is unrelated if neither is an ancestor of the other.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein associated with each topic is also an excluded set of pages.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein the excluded set contains pages that are known not to belong to the topic.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein at least some values for an excluded set of pages are pinned and not updated.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising determining a value that expresses a page's contribution to topic drift.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A system for determining the relevance of a page to a topic in a hierarchy comprising:
<claim-text>a processor, configured to:
<claim-text>receive a seed set of nodes, wherein the seed set of nodes includes a first seed node and a second seed node, and wherein the first seed node and the second seed node are both associated with the topic in the hierarchy;</claim-text>
<claim-text>determine a plurality of paths of a plurality of surfers that include arrivals at the page; determine the relevance for each of the plurality of surfers as either being relevant or irrelevant based at least in part on the surfers' behaviors corresponding to the plurality of paths;</claim-text>
<claim-text>determine the relevance of the page to the topic in the, at least in part by determining a ratio of (1) a measure of paths included in the plurality that include visiting at least one of either the first seed node or the second seed node prior to visiting the page and (2) a measure of the plurality of paths and (3) the relevance of the surfers corresponding to the plurality of paths; and</claim-text>
</claim-text>
<claim-text>a memory, coupled with the processor, wherein the memory is configured to provide the processor with instructions.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein the topic hierarchy is a tree.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein the topic hierarchy is a directed acyclic graph.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein the topic hierarchy is arranged such that children of a node represent subtopics of a topic with which the node is associated.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein there is a seed set of pages associated with every topic in the hierarchy.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein a seed set for a topic includes the seed sets of all its subtopics.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein a pair of topics is unrelated if neither is an ancestor of the other.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein associated with each topic is also an excluded set of pages.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. A computer program product for determining the relevance of a page to a topic in a hierarchy, the computer program product being embodied in a computer readable storage medium and comprising computer instructions for:
<claim-text>receiving a seed set of nodes, wherein the seed set of nodes includes a first seed node and a second seed node, and wherein the first seed node and the second seed node are both associated with the topic in the hierarchy;</claim-text>
<claim-text>determining a plurality of paths of a plurality of surfers that include arrivals at the page;</claim-text>
<claim-text>determining the relevance for each of the plurality of surfers as either being relevant or irrelevant based at least in part on the surfers' behaviors corresponding to the plurality of paths; and</claim-text>
<claim-text>determining the relevance of the page to the topic in the hierarchy, at least in part by determining a ratio of (1) a measure of paths included in the plurality that include visiting at least one of either the first seed node or the second seed node prior to visiting the page and (2) a measure of the plurality of paths and (3) the relevance of the surfers corresponding to the plurality of paths.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
