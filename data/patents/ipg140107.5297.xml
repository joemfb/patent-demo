<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626398-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626398</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13500093</doc-number>
<date>20101005</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="regional">
<country>EP</country>
<doc-number>09172241</doc-number>
<date>20091005</date>
</priority-claim>
</priority-claims>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>08</class>
<subclass>G</subclass>
<main-group>1</main-group>
<subgroup>16</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>701 48</main-classification>
<further-classification>701301</further-classification>
</classification-national>
<invention-title id="d2e61">Collision avoidance system and method for a road vehicle and respective computer program product</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>2003/0055563</doc-number>
<kind>A1</kind>
<name>Lars et al.</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2004/0024527</doc-number>
<kind>A1</kind>
<name>Patera</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2004/0024528</doc-number>
<kind>A1</kind>
<name>Patera et al.</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2005/0280520</doc-number>
<kind>A1</kind>
<name>Kubo</name>
<date>20051200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2006/0031015</doc-number>
<kind>A1</kind>
<name>Paradie</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2007/0131801</doc-number>
<kind>A1</kind>
<name>Hedger</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2007/0286475</doc-number>
<kind>A1</kind>
<name>Sekiguchi</name>
<date>20071200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2009/0204289</doc-number>
<kind>A1</kind>
<name>Lehre et al.</name>
<date>20090800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701 36</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>EP</country>
<doc-number>0464821</doc-number>
<kind>A1</kind>
<date>19920100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>EP</country>
<doc-number>1865479</doc-number>
<kind>A1</kind>
<date>20071200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>EP</country>
<doc-number>2093741</doc-number>
<kind>A1</kind>
<date>20090800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>JP</country>
<doc-number>2009064088</doc-number>
<kind>A</kind>
<date>20090300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>WO</country>
<doc-number>2008/103048</doc-number>
<kind>A1</kind>
<date>20080800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>PCT/NL2010/050651 International Search Report dated Feb. 1, 2011.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00015">
<othercit>Barios. C.; Himberg. H.; Motai. Y; Sadek.: &#x201c;Multiple Model Framework of Adaptive Extended Kalman Filtering for Predicting Vehicle Location&#x201d;. Proceedings of the 2006 IEEE Intelligent Transportation Systems Conference. Toronto, Canada. Sep. 17-20, 2006. pp. 1053-1059. XP0007911746.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00016">
<othercit>Karlsson R et al: &#x201c;Model-based statistical tracking and decision making for collision avoidance application&#x201d;. American Control Conference. 2004. Proceedings of the 2004 Boston. MA. USA Jun. 30-Jul. 2, 2004. Piscataway, NJ. USA. IEEE. vol. 4. Jun. 30, 2004. pp. 3435-3440. XP010761611. ISBN: 978-0-7803-8335-7.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00017">
<othercit>Jansson J et al: &#x201c;A framework and automotive application of collision avoidance decision making&#x201d;. Sep. 1, 2008. Automatica. Pergamon. pp. 2347-2351. XP02430822. ISSN: 0005-1098 [retrieved on Mar. 21, 2008].</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00018">
<othercit>Markus Bohning et al, &#x201c;Situation Analysis for Automotive Pre-Crash Systems&#x201d; (Proc. of SPIE, vol. 6937,2007).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00019">
<othercit>Taewung Kim et al, &#x201c;A Simple Vehicle Model for Path Prediction During Evasive Maneuvers and a Stochastic Analysis on the Crash Probability&#x201d; (Proc. of IMECE2007, pp. 267-275, 2007).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00020">
<othercit>Lee Yang et al, &#x201c;A Real-Time Monte Carlo Implementation for Computing Probability of Conflict&#x201d; (AIAA Guidance, Navigation and Control Conference and Exhibit, 2004).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00021">
<othercit>Henning Ritter et al, &#x201c;Radar-Based Situation Analysis for Automotive Applications&#x201d; (WIT 2008&#x2014;5th International Workshop on Intelligent Transportation, pp. 43-48, 2008).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>12</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>701 48</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701301</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>2</number-of-drawing-sheets>
<number-of-figures>3</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120271518</doc-number>
<kind>A1</kind>
<date>20121025</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Van Den Broek</last-name>
<first-name>Thijs Hendrikus Adrianus</first-name>
<address>
<city>Eindhoven</city>
<country>NL</country>
</address>
</addressbook>
<residence>
<country>NL</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Ploeg</last-name>
<first-name>Jeroen</first-name>
<address>
<city>Helmond</city>
<country>NL</country>
</address>
</addressbook>
<residence>
<country>NL</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Van Den Broek</last-name>
<first-name>Thijs Hendrikus Adrianus</first-name>
<address>
<city>Eindhoven</city>
<country>NL</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Ploeg</last-name>
<first-name>Jeroen</first-name>
<address>
<city>Helmond</city>
<country>NL</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Banner &#x26; Witcoff, Ltd.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Nederlandse Organisatie voor toegepast-natuurwetenschappelijk Onderzoek TNO</orgname>
<role>03</role>
<address>
<country>NL</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Cheung</last-name>
<first-name>Mary</first-name>
<department>3667</department>
</primary-examiner>
<assistant-examiner>
<last-name>Wong</last-name>
<first-name>Yuen</first-name>
</assistant-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/NL2010/050651</doc-number>
<kind>00</kind>
<date>20101005</date>
</document-id>
<us-371c124-date>
<date>20120612</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2011/043658</doc-number>
<kind>A </kind>
<date>20110414</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Collision avoidance actions in a road vehicle are controlled based on a computed probability density of future positions of the vehicle. A preliminary probability density (<b>32</b>) is computed by means of a mechanical model by extrapolation from the detected state of the vehicle, including at least its detected position (<b>31</b>). Map data is used to define different regions in an area that contains the road, such as a first region that comprises a road part for traffic that moves in the direction of travel of the vehicle, a second region that comprises a road part for traffic in the opposite direction and a third region bordering on the road. The regions are used to obtain a correction factor of the computed probability density function in the first region (<b>33</b>). The correction factor is computed dependent on the aggregates of the probability density function in respective ones of the regions. In this way it is possible to compensate for errors that result from extrapolations that misinterpret swerving motion that suggest that the vehicle will move of the road, but are automatically corrected by the driver.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="106.85mm" wi="152.15mm" file="US08626398-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="193.38mm" wi="164.85mm" file="US08626398-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="175.18mm" wi="169.08mm" file="US08626398-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application is a U.S. National Stage application under 35 U.S.C. &#xa7;371 of International Application PCT/NL2010/050651 (published as WO 2011/043658 A1), filed Oct. 5, 2010, which claims priority to Application EP 09172241.3, filed Oct. 5, 2009. Benefit of the filing date of each of these prior applications is hereby claimed. Each of these prior applications is hereby incorporated by reference in its entirety.</p>
<heading id="h-0002" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">The invention relates to a collision avoidance system for a road vehicle such as a motor car and a method of collision avoidance.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">US2003/55563 describes a method of collision avoidance which involves the prediction of time dependent probability densities for the position of a vehicle and another road user. The observed current position and velocity and a probability distribution of the acceleration are used to compute probability densities for future positions. From the probability densities a probability is calculated that the vehicle will be at a same place at a same time as the other road user. Based on this probability an action is triggered, such as the generation of an alarm signal to the driver or automatic breaking.</p>
<p id="p-0005" num="0004">Use of probability density function for collision avoidance is also described in a number of articles by J. Jansson et al., for example in an article titled &#x201c;A framework and automotive application of collision avoidance decision making&#x201d; in Automatica 2008, pages 2347-2351 or &#x201c;Model based statistical tracking and decision making for collision avoidance application&#x201d; in the proceedings of the 2004 American Control Conference pages 3435-3440.</p>
<p id="p-0006" num="0005">US2003/55563 represents the probability density as a normal distribution for values of a state vector that includes the two dimensional coordinates of the position of the vehicle, and by computing the parameters of the normal distribution, i.e. state vector average and covariance, as a function of time. The state vector includes components representing the two-dimensional coordinates of a vehicle, its two-dimensional velocity and its rate of direction change. An extended Kalman filter is used to compute the parameters of the normal distribution.</p>
<p id="p-0007" num="0006">The accuracy decreases when the time scale at which collision avoidance is considered becomes larger. The effectivity of this kind of collision avoidance is strongly dependent on the accuracy of the probability density. If the probability density for certain locations is overestimated this can give rise to false alarms, which will compromise the reliance on justified alarms. On the other hand failure to generate an alarm may occur, if the probability density for certain locations is underestimated.</p>
<p id="p-0008" num="0007">Known collision avoidance only uses a mechanical model of vehicle motion to predict the probability density function. These models ignore the effect of driver behaviour and aspects of road construction, such as the presence of a guard rail. A guard rail may define bounds on the spatial distribution of the probability density, but it may affect the real probability density function in other ways as well. On a short time scale, at which driver behaviour has little effect, and a slightly longer time scale at which a driver is not expected to make any changes mechanical modelling may be accurate. But on much longer time scales, the probability density cannot be estimated at all because it depends strongly on mechanically unpredictable driver behaviour.</p>
<p id="p-0009" num="0008">Conventionally, probability density is used only at time scales, at which inaccuracy due to aspects of road construction and driver behaviour can be neglected. On this case the mechanical model suffices. At longer time scales the predictions of probability density are considered to be so randomly inaccurate that no use can be made of then for collision protection. However, it has been found that the failure to account for driver behaviour may also give rise to systematic false alarms or failures to give alarm. For example, a vehicle normally swerves slightly on the road. When vehicle direction at an instant during such swerving motion is extrapolated mechanically, it may give rise to false alarm, because the mechanical extrapolation neglects the fact that the driver will almost unknowingly change the swerving motion long before the vehicle leaves its lane, or a guard rail will prevent this.</p>
<p id="p-0010" num="0009">A realistic determination of the probability density would be desirable that reduces these kinds of errors. However, as this involves accounting for driver behaviour and road construction no simple mechanical models are available to do so.</p>
<heading id="h-0004" level="1">SUMMARY</heading>
<p id="p-0011" num="0010">Among others it is an object to provide for an improved collision avoidance system, wherein a more accurate probability density is provided.</p>
<p id="p-0012" num="0011">A collision avoidance system according to claim <b>1</b> is provided. Herein a preliminary probability density of future positions of a vehicle is predicted with a computation that uses a detected initial state including position of the vehicle. The predicted preliminary probability density function may be based on vehicle dynamics. This predicted preliminary probability density function is corrected by means of a factor that applies to a selected region of an area that contains the road. A correction factor is computed that is applicable to all positions in the selected region, dependent on aggregates of the preliminary probability density function in at least part of said regions.</p>
<p id="p-0013" num="0012">In one example, this makes it possible to compensate for errors that result from extrapolations that misinterpret unconscious swerving motion, for example. The first one of the regions may comprise a portion of the road for driving in the direction of travel of the vehicle, as defined by map data. The correction factor modifies the distribution of the preliminary probability density over different regions in favour of said first region. The preliminary probability density in this first region may be underestimated due to extrapolation of swerving motion that in reality will be corrected by the driver. The correction factor provides a means for correcting this. This may be done for example by making the correction factor increasingly larger as the aggregate of the preliminary probability density that the predicted probability density function associates with the first region becomes smaller or, equivalently, when the aggregate of the preliminary probability density that the predicted preliminary probability density function associates with one or more other regions bordering said first region becomes larger.</p>
<p id="p-0014" num="0013">In this way an underestimation of probability density in said first region is corrected that may arise when the predicted preliminary probability density is computed from vehicle dynamics without accounting for driver corrections or road construction.</p>
<p id="p-0015" num="0014">The corrected probability density function may be used to generate collision warning signals or trigger an intervention in driving control. The collision avoidance system may compute the probability density function for the vehicle to which the warning signals or the intervention are applied, and/or for another vehicle that presents a danger of collision to the vehicle to which the warning signals or the intervention are applied.</p>
<p id="p-0016" num="0015">Thus for example, an explicitly or implicitly computed aggregate or aggregates of the predicted probability densities for a future time point outside the road part for driving in the same direction as the vehicle may be used to determine a correction factor for the predicted probability densities for different positions inside that road part, so that the conditions for generating an alarm signal or intervention to avoid a collision with another road user in that road part are adjusted dependent on the aggregate. The correction factor may be made to increase as the aggregate outside the road part becomes larger. The aggregate that is used to control this correction may be an aggregate of predicted probability densities for all positions outside the road part, or an aggregate of positions to the left of the road part or an aggregate of positions to the right of the road part for example, or a combination of such aggregates may be used.</p>
<p id="p-0017" num="0016">In an embodiment a first region, second and third region defined by the map data are used. The first region comprises a portion of the road for driving in the direction of travel of the vehicle and the second and third regions border on (i.e. lie adjacent to) the first region on mutually opposite sides along the direction of travel, comprising a road portion for driving opposite said driving direction of travel and an off road area bordering on the road. In this embodiment is the correction factor is increased more strongly in response to the aggregate preliminary probability density associated with the off road region than to the aggregate preliminary probability density of said third region than in response to the aggregate preliminary probability density of the opposite direction driving region. In this way account is taken of the fact that a driver is more likely drive temporarily on a road portion for traffic from the opposite direction than off the road.</p>
<p id="p-0018" num="0017">In an embodiment the correction factor F is computed according to the formula F=(1&#x2212;C<b>2</b>*P<b>2</b>)/P<b>1</b>, wherein P<b>1</b> and P<b>2</b> are the aggregate of the preliminary probability densities associated with the region with the road portion for traffic in the direction of travel of the vehicle, and the region with the road portion for traffic in the opposite direction respectively, and wherein C<b>2</b> is a coefficient less than one and above zero. The fact that the coefficient C<b>2</b> is above zero has the effect that the correction factor F rises less strongly when probability is detracted from the first region to the region for opposite traffic than when probability is detracted from the first region to an off-road region.</p>
<p id="p-0019" num="0018">In an embodiment the correction factor F is computed according to the formula F=(1&#x2212;C<b>2</b>*P<b>2</b>&#x2212;C<b>3</b>*P<b>3</b>)/P<b>1</b>, wherein P<b>3</b> is an aggregate of the preliminary probability density associated with the off-road region C<b>3</b> being a coefficient between zero and C<b>2</b>. The fact that the coefficient C<b>2</b> lies above C<b>3</b> has the effect that the correction factor F rises less strongly when probability is detracted from the first region to the region for opposite traffic than when probability is detracted from the first region to an off-road region.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWING</heading>
<p id="p-0020" num="0019">These and other objects and advantageous aspects will become apparent from a description of exemplary embodiments by reference to the following figures.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 1</figref> shows a collision avoidance system</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 2</figref> shows an example of the geometry of a road</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 3</figref> shows a flowchart of collision avoidance</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION OF EXEMPLARY EMBODIMENTS</heading>
<p id="p-0024" num="0023">A collision avoidance system may be implemented entirely on board a vehicle or it may have components outside a vehicle. Thus, for example, supply of information about road-side object or other vehicles, computation of probability densities etc. may be performed by road-side equipment instead of in a vehicle. By way of example, an implementation inside a vehicle will be described.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 1</figref> shows an embodiment of a collision avoidance system in a vehicle, such as a motor car, comprising an object detector <b>10</b>, a data processor <b>12</b>, a map storage device <b>14</b>, a position detector <b>16</b>, a speed detector <b>18</b> and an alarm signal generator <b>19</b>. Data processor <b>12</b> is coupled to object detector <b>10</b> map storage device <b>14</b>, position detector <b>16</b>, a speed detector <b>18</b> and alarm signal generator <b>19</b>.</p>
<p id="p-0026" num="0025">Object detector <b>10</b> may be configured to detect position and velocity of other vehicles, as well as to determine a type classification of each other vehicle. Object detector <b>10</b> may be a radar device for example, which may determine position from radar wave travel time and/or wave direction, velocity from Doppler shift and a classification from reflection amplitude. Alternatively, object detector <b>10</b> may comprise a transceiver for obtaining signals from transponders in other vehicles.</p>
<p id="p-0027" num="0026">Position detector <b>16</b> may be a GPS unit with a GPS receiver and a GPS processor. The GPS processor may be part of data processor <b>12</b>. Speed detector <b>18</b> may comprise wheel sensors mounted to sense the speed of revolution of the wheels of the vehicle and a heading detector. Alternatively speed detector <b>18</b> may be partly or wholly implemented using the GPS unit to measure speed.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 2</figref> shows an example of the geometry of a road with the vehicle <b>20</b> in which collision avoidance system is mounted. By way of example another vehicle <b>22</b> is shown as well. Off road areas <b>24</b>, <b>26</b> to the left and right of the road and portions <b>28</b><i>a,b </i>of the road for traffic travelling in mutually opposite directions are indicated. Arrows indicate the driving direction of vehicles <b>20</b>, <b>22</b>. As used herein the term &#x201c;road&#x201d; may refer to a section of a longer road, from which the longer road continues onward or backward.</p>
<p id="p-0029" num="0028">In operation data processor <b>12</b> may maintain information representing a probability density function p<sub>o</sub>(r;t) that defines probabilities that vehicle <b>20</b> will be in regions at different positions &#x201c;r&#x201d; on the road at a future time &#x201c;t&#x201d;. The position r may be represented by two dimensional coordinates x, y on the road surface for example. Data processor <b>12</b> maintains further information representing one or more further probability density function p<sub>i</sub>(r;t) for the other vehicle <b>22</b>, and optionally further vehicles (not shown). In one embodiment, the information may represent each probability density function by means of a respective set of values of the probability density functions sampled at a mesh of points on the road, or probabilities for position ranges associated with these points.</p>
<p id="p-0030" num="0029">In another embodiment a piecewise representation may be used, wherein the information may represent a probability density function for a piece of the space of positions by means of parameters of a predetermined distribution function for that piece, such as a normal distribution function N(r)=A*exp(&#x2212;(r&#x2212;r<sub>o</sub>)*C*(r&#x2212;r<sub>o</sub>)/2). Herein r<sub>o </sub>is a modal position value, C is an inverse covariance matrix and A is a normalisation factor.</p>
<p id="p-0031" num="0030">Methods of computing the values of the information that represents a probability density function based on vehicle dynamics are known per se. A known approach is to provide a motion specification for a vector &#x201c;S&#x201d; of state values of the vehicle <b>20</b>. The vector includes the position r of the vehicle plus other components such as its orientation phi, its velocity &#x201c;v&#x201d;, and one or more temporal derivatives of these values. Given an exact value of the state vector S at the current time, the motion specification makes it possible to predict the state vector S(t) for all future time.</p>
<p id="p-0032" num="0031">In an embodiment wherein a probability density function is computed, an initial probability density of the state vector S at the current time is defined. The initial probability density may give exact values only for some components of the state vector S, such as the position r of the vehicle, while defining a distribution of possible values for other components such as accelerations. In this embodiment, the probability distribution for a future time follows from an aggregate of the predicted state vectors obtained by starting from different state vectors according to the initial probability density.</p>
<p id="h-0007" num="0000">Motion Modelling</p>
<p id="p-0033" num="0032">The motion specification defines future states to which different states will evolve with the lapse of time. The motion may be specified in terms of differential equations, or a table of respective future state values may be provided for given starting state value for a selected time increment.</p>
<p id="p-0034" num="0033">A deterministic motion specification may be used. In one example, the motion specification relates the rate of change of each component of the vector to one or more other components that represent derivatives, the rate of change of the components that represent the highest order derivatives being set to zero. Instead a non-deterministic motion specification may be used, wherein the change of state values is modelled to vary according to some at least partially random function with a random parameter according predetermined probability distribution. In this case initial state components like the highest order derivatives may omitted. Invariance of the dynamics, such as invariance of the motion specification for position offset or fixed rotation, may be used to define future state values for a set of state vector values by means of one table entry.</p>
<p id="p-0035" num="0034">The number of components of the state vector may be selected according to the effects that one wants to model, as expressed by the motion specification. In one example a state vector may be used with components (x, y, v, phi) and a motion specification specified by means of differential equations.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>dx/dt=v</i>*cos(<i>phi</i>),<i>dy/dt=v</i>*sin(<i>phi</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>dv/dt=</i>0<i>,dphi/dt=</i>0<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
In this model the velocity (v) and heading (phi) are taken to be constant, but their values may be kept uncertain, described only by an initial probability density for the velocity and the heading. Optionally the parameters of these initial probability densities may depend on sensor input data. In contrast the values of x and y, the coordinates of the position of the vehicle on the road, may be taken to have definite initial values, but alternatively an initial probability distribution according to measurement uncertainty may be used for these as well. In another example a state vector may be used with components (x, y, v, phi, a, k), with equations of motion specified by means of differential equations
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>dx/dt=v</i>*cos(<i>phi</i>),<i>dy/dt=v</i>*sin(<i>phi</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>dv/dt=a dphi/dt=k*v </i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>da/dt=</i>0<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>dk/dt=</i>0<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
In this example no definite values need not be defined for &#x201c;a&#x201d; and &#x201c;k&#x201d; for example, only an initial probability density being defined for the value of these parameters. The values of x, y, v, phi may be taken to have definite initial values, or to be described by initial probability distributions. It should be appreciated that these are only examples of models. Other models, with different state vectors and/or different equations of motion may be used, dependent on the accuracy that is pursued.
<br/>
Initial Computation of the Probability Density
</p>
<p id="p-0036" num="0035">For simple equations of motion it may be possible to provide analytical expressions for the parameters of the probability density function for future times. For example, in the case of the first example with state vector (x, y, v, phi), the probability density for x and y has a modal value and variance that grow proportionally to a product of time and a modal value and variance of the distribution defined by v and phi.</p>
<p id="p-0037" num="0036">Instead of by means of analytical expressions, information representing the probability density function for future times can be obtained by means of a Monte Carlo method. This may be done for example by randomly selecting a set of initial state vectors with a distribution according to the initial probability density, computing the state vectors for the future time for each of these initial state vectors and estimating parameters of the probability density function for the future time from the computed state vectors. Similarly, a systematic sampling of the space of initial state vectors may be used to estimate the density of future state vectors as a function of state vector values. Alternatively, an iterative computation may be used, wherein probability density distributions for successive time points are each computed from the probability density distributions for a preceding time point, the motion specification defining a mapping of state vector values from one time point to the next. The Monte Carlo approach can be used also when a non-deterministic motion specification is used.</p>
<p id="p-0038" num="0037">In each case, the determination of the probability density function comprises gathering sensor data about components of the initial state vector. From this sensor data the initial probability is determined and from the initial probability density the information that represents the probability density function for a future time is computed.</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 3</figref> shows a flowchart of an embodiment of a method of collision avoidance. In a first step <b>31</b>, data processor <b>12</b> captures vehicle sensor data from position detector <b>16</b> and speed detector <b>18</b>. Data processor <b>12</b> determines the direction of travel of the vehicle, from the heading of the vehicle, and/or from a history of changes of the detected position. In a second step <b>32</b>, data processor <b>12</b> computes a first probability density function for a future time point &#x201c;t&#x201d; from an initial probability density and/or initial values that are determined from the vehicle sensor data. This computation may be performed in a way that is known per se, for example by a Monte Carlo method or by means of analytical expressions for the parameters of the probability density function.</p>
<p id="h-0008" num="0000">Correction Using Map Data</p>
<p id="p-0040" num="0039">In third step <b>33</b>, data processor <b>12</b> first computes an aggregate of probabilities defined by the first probability density function for a set of positions defined by map data from map storage device <b>14</b>. In an embodiment, the map data defines portions of the road that are implicitly or explicitly associated with directions of vehicle travel. When the width of the road is divided into two portions, the rightmost portion seen in a direction of travel may be implicitly associated with travel in that direction and the leftmost portion with travel in the opposite direction. This applies to a mode of operation for countries were vehicles drive on the right. In other countries a mode of operation may be used wherein the roles and left and right are exchanged.</p>
<p id="p-0041" num="0040">In third step <b>33</b>, data processor <b>12</b> uses the detected direction of travel to select the portion of the road that is associated with the direction of travel. Data processor <b>12</b> computes an aggregate probability P<b>1</b> from the initial probability density computed in second step <b>32</b>, aggregated over the set of positions that are on the portion of the road associated with the direction in which the vehicle is driving, a similar aggregate probability PL for the set of positions for the opposite direction of travel and an aggregate probability PR the set of positions that are outside the road respectively. The sets of positions may be selected so that they cover all possible positions, in which case the sum of these aggregates of probabilities should equal one. If so, the aggregates of probabilities may need to be computed directly only for two of these sets.</p>
<p id="p-0042" num="0041">In an embodiment wherein only P<b>1</b> and a quantity that is a sum PL+PR are used, in which embodiment only one aggregated may need to be computed. In another embodiment PL may be computed as an aggregate for the set of positions on a first side of the portion associated with the direction in which the vehicle is driving, the first side including the portion for opposite travel. In this embodiment PR may be computed as an aggregate for a set of positions on a second side of the portion opposite the first side.</p>
<p id="p-0043" num="0042">Subsequently in third step <b>33</b>, data processor <b>12</b> determines a correction factor F for application to a part of the first probability density function that applies to the portion of the road associated with the direction in which the vehicle is driving. In an embodiment, the correction factor F is computed according to
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>F</i>=(1<i>&#x2212;CL*PL</i>)/<i>P</i>1<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
More generally the correction factor F may be computed according to
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>F</i>=(1<i>&#x2212;CL*PL&#x2212;CR*PR</i>)/<i>P</i>1<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0044" num="0043">Herein CL and CR are normalization factors that are smaller than one and that effectively reduce the part of the probability density that applies to positions to the left and right of the part of the road for the direction in which the vehicle is driving. In the formula F=(1&#x2212;CL*PL)/P<b>1</b>, CR is set to zero. CL may be set to 0.3 for example. A corresponding correction factor F&#x2032; may be determined for the part of the probability density function to the left of the part of the road for the direction in which the vehicle is driving, according to F&#x2032;=CL.</p>
<p id="h-0009" num="0000">Application to Computation of Collision Probability</p>
<p id="p-0045" num="0044">The correction factor F, or the correction factors F, F&#x2032; will be used to compute a collision probability. By way of example, the computation of probability of collision with another road user, such as vehicle <b>22</b> will be described. But it should be appreciated that alternatively probabilities of collisions with fixed objects or moving objects other than vehicles may be computed.</p>
<p id="p-0046" num="0045">In a fourth step <b>34</b>, data processor <b>12</b> reads data from object detector <b>10</b> to detect whether another road user, such as vehicle <b>22</b> is present on the road, or at least present within a predetermined distance from object detector <b>10</b>. If so, data processor <b>12</b> determines state parameters for the other road user, such as object position and speed from the detector signal. When object detector <b>10</b> is a radar unit for example, object position follows from the direction from which a reflection is received and the delay with which it is received. The speed in the direction of object detector <b>10</b> may be determined from Doppler shift. When the other road user is equipped with a transponder and the collision avoidance system has a transceiver for obtaining transponder data, the transponder data may provide such information.</p>
<p id="p-0047" num="0046">In a fifth and sixth step <b>35</b>, <b>36</b>, data processor <b>12</b> performs similar computations as in second and third step <b>32</b>, <b>33</b> for the detected other road user. However, the state vector and motion specification used in fifth and sixth step <b>35</b>, <b>36</b>, may differ from those used in second and third step <b>32</b>, <b>33</b>, dependent on a difference in the type of sensor data that is available for the vehicle <b>20</b> with the collision avoidance system and for the other road user. A probability density function and a correction factor Fi are computed for the other road user at the future time point &#x201c;t&#x201d;. Optionally a correction factor Fi&#x2032; for the part of the probability density function to the left of the part of the road for the direction in which the other vehicle is driving.</p>
<p id="p-0048" num="0047">Fourth, fifth and sixth step <b>34</b>, <b>35</b>, <b>36</b> may be repeated for different road users, to determine a probability density function and a correction factor Fi for each other road users. Usually probability density functions for only a small number of vehicles may be used, for example one for the closest approaching vehicle from an opposite direction and one for a closest vehicle in front in the same direction. Although the embodiment has been described for vehicles, it should be appreciated that fourth step <b>34</b> and following steps could be applied to other road users in general, including pedestrians.</p>
<p id="p-0049" num="0048">After sixth step <b>36</b>, or after the repetitions of fourth to sixth step <b>34</b>-<b>36</b> data processor <b>12</b> executes a seventh step <b>37</b> wherein it computes a joint probability that the vehicle with the collision avoidance system occupies a same position as another vehicle at the future time point &#x201c;t&#x201d;. For this purpose, a product of the correction factors F and Fi&#x2032; or Fi (dependent on the driving direction of the other vehicle) and probabilities for the vehicle <b>20</b> and the other vehicle <b>22</b> are computed for one or more collision areas in the part of the road for the direction in which the vehicle <b>20</b> is driving. These probabilities may be computed as approximations of integrals of the probability densities of the vehicle and the other vehicle over the collision area. A similar product may be computed from the correction factors F&#x2032; and Fi or Fi (dependent on the driving direction of the other vehicle) and probabilities for the vehicle <b>20</b> and the other vehicle <b>22</b> in the part of the road for the direction opposite to that in which the vehicle <b>20</b> is driving.</p>
<p id="h-0010" num="0000">Response to the Computed Collision Probability</p>
<p id="p-0050" num="0049">In eight step <b>38</b> data processor <b>12</b> compares the product from seventh step <b>37</b> for the future time point, or a sum of products for different collision areas with a threshold value, and executes a collision avoidance action dependent on a result of the comparison. The collision avoidance action may comprise triggering alarm signal generator <b>19</b> to render an alarm signal in the vehicle <b>20</b>, for example a sound signal on a loudspeaker (not shown) in alarm signal generator <b>19</b>, or an active intervention such as activating a brake (not shown), controlling a drive unit (not shown) to reduce drive power (e.g. by controlling supply of gas or electricity) or controlling a steering unit to adjust vehicle steering. The action may be adapted dependent on the location of the collision area for which the product exceeds the threshold, using breaking for example if the area is in the vehicles lane for the direction in which the vehicle is driving and steering otherwise. Different collision avoidance actions may be taken dependent on comparisons with different thresholds.</p>
<p id="p-0051" num="0050">Although an example of seventh and eight step <b>37</b>, <b>38</b> has been described wherein the factors are applied to the probabilities and a predetermined threshold are used, it should be appreciated that alternatively the threshold may be adapted in inverse proportion to the factors. Whatever combination is used, the decision depends on a value of a ratio between the threshold and a product of the probabilities and the factors.</p>
<p id="p-0052" num="0051">Optionally, second to eight step <b>32</b>-<b>38</b> may be repeated for a number of different future time points, for example for increasingly distant future time points up to a predetermined maximum time distance, until it has been found that the collision probabilities are below the thresholds for all time points, or until a decision to take a collision avoidance action has been taken. The threshold values and the actions for different time points may be different.</p>
<p id="h-0011" num="0000">Information Used for Computing the Probability Density</p>
<p id="p-0053" num="0052">In an embodiment the map data may be supplied to the collision avoidance system from road-side stations. In this embodiment the collision avoidance system may comprise a receiver to receive such data. In an embodiment the map data may be derived from a pre-stored database about a road network, such as is used for route planning for example. In this case, position detector <b>16</b> is used to determine the position R<b>1</b> of the vehicle <b>20</b> relative to the defined roads road network and the definition of coordinates Re-R<b>1</b> of road edge and the separation between road parts for different directions relative to the vehicle may be obtained from road edge coordinates Re.</p>
<p id="p-0054" num="0053">In an alternative embodiment object detector <b>10</b> may be used to determine the map data at run time. When a radar unit is used for example detected reflections from a row of stationary objects (objects that move with the same speed as the measured speed of the vehicle, but in opposite direction) such as a crash barrier, parked cars or lanterns may be used to identify an edge of the road, optionally in combination with a database about a road network that relates the positions of such objects to the position of the road edge and separation between the parts of the road for different driving directions. A dynamically determined road map with such an identified edge and separation may subsequently be used in third and sixth step <b>33</b>, <b>36</b> to determine the correction factors. In this case position detector <b>16</b> may not be needed.</p>
<p id="p-0055" num="0054">Additional sensors or other sensors may be used to increase the accuracy of the initial state vector and/or initial probability densities. Thus for example the collision avoidance system may comprise an orientation sensor or an acceleration sensor.</p>
<p id="p-0056" num="0055">Data processor <b>12</b> may be configured to deactivate use of the correction factors F, Fi when the map data indicates that the position of the collision area is located a road crossing or on a one way road. Although an embodiment has been described wherein the factors F, Fi are applied after computing probabilities for collision areas, it should be appreciated that instead the factors may be applied to the representation of the probability density function.</p>
<p id="p-0057" num="0056">It should be appreciated that only one possible embodiment of the computation of the correction factors in third and sixth step <b>33</b>, <b>36</b>, has been shown. The correction factor is used to reduce the effect of inaccuracy of the model represented by the states and the motion specification. Such a model has only limited possibility to account for driver behaviour. Obviously, at a time scale of minutes driver behaviour entirely overrides the predictability of the position on the road that would follow from purely mechanical equations of motion. On a much shorter time scale, in which the driver is not expected to make any changes collision avoidance can be performed without modelling driver behaviour.</p>
<p id="p-0058" num="0057">However, it is desirable to extend the time scale at which collision avoidance is effective to a time scale at which changes made by the driver occur that have a significant effect. This presents a problem as a purely mechanical model is insufficient. On the other hand an assumption of totally random driver behaviour can lead to many false alarms. Hence another way is needed to account for reasonable driver behaviour.</p>
<p id="p-0059" num="0058">The correction factors in third and sixth step <b>33</b>, <b>36</b> provide for an approximate way of accounting for reasonable driver behaviour. A reasonable driver cannot avoid that a vehicle swerves somewhat on the road, but the driver will almost unknowingly correct for extreme swerving that would cause the vehicle to end up outside the road or in the lane for traffic from the opposite direction. Without a correction for this behaviour, a longer time scale computation will structurally underestimate the probability densities for positions on the road in the right driving direction. The correction factors in third and sixth step <b>33</b>, <b>36</b> correct for this by effectively raising the right direction part probability density function that is used for collision avoidance, dependent on the aggregate probability densities computed for off-lane positions. The latter are taken as a measure for the effect of failure to account for swerving corrections.</p>
<p id="p-0060" num="0059">It should be appreciated that it is not indispensible to account for this effect in an exact way. Any correction that accounts at least partly for this effect improves the reliability of collision avoidance. But of course further improvement of reliability of collision avoidance can be realized by using better corrections for failure to account for swerving corrections.</p>
<p id="p-0061" num="0060">In a simple embodiment the correction factor F could be computed under the assumption that all probability density outside the part of the road for the driving direction of the vehicle <b>20</b> is due to failure to account for swerving corrections. In this embodiment the correction factor would be
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>F=</i>1<i>/P</i>1<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
However, when avoidance of head on collisions is an issue, this may lead to failure to detect potential collisions. In another embodiment this can be improved by imposing an assumption that there is a probability that the vehicle does swerve out of its lane. This is accounted for by the use of
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>F</i>=(1<i>&#x2212;CL*PL</i>)/<i>P</i>1<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
Herein CL lies between zero and one, to account for errors due to failure to account for swerving corrections. CL=0.3 may be used for example, but for example, other values from the range of 0.1 to 0.5 may also provide for improved performance.
</p>
<p id="p-0062" num="0061">In an embodiment, different values of the factor CL may be used to probability densities function that apply for different times in the future, taking a larger value for a smaller time in the future and a smaller value for a time further in the future. For example a factor CL=1 may be used up to 0.2 second in the future, knowing that a driver will not respond so quickly and a factor of CL=0.3 may be used for larger times in the future. Successively smaller values of the factor CL may be used for successively further times in the future, gradually reducing from one to 0.3 for example.</p>
<p id="p-0063" num="0062">In another embodiment, a maximum may be imposed on the probability PL. In this case CL is effectively made equal to one when PL is smaller than a threshold T and CL is set to CL=T/PL otherwise. In this case correction for the effect of failure to account for swerving corrections is triggered only when a large amount of potential error is detected. In this case a function CL=g(PL) is effectively used, with g(x)=1 for x&#x3c;T and g(x)=T/x for x&#x3e;T. Other functions may be used instead, such as g(x)=1/(1+x/T)</p>
<p id="p-0064" num="0063">In another embodiment, one may use a correction factor
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>F</i>=(1<i>&#x2212;CL*PL&#x2212;CR*PR</i>)/<i>P</i>1<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
with both CL and CR between zero and one. In this way account can be taken of the effect of a small probability of moving off the road to the right.
</p>
<p id="p-0065" num="0064">As will be appreciated, the computation may introduce an asymmetry between left and right, corresponding to the assumption that traffic will use the right part of the road, seen in the direction of travel. In countries where the traffic rule is to drive on the left, the roles of left and right should be exchanged. Data processor <b>12</b> may be configured to support a first and second mode, with mutually exchanged roles of left and right, for such different types driving rules. In an embodiment, map storage device <b>14</b> stores information linking position to driving on the left or right and data processor <b>12</b> is configured to use a detected position from position detector <b>16</b> to retrieve this information and to control switching to the first or second mode dependent on the retrieved information for the current position.</p>
<p id="p-0066" num="0065">In an embodiment the probability density function may be computed iteratively, for each successive time in the future from a probability density function for a preceding time. In principle the correction factors may be applied at each iteration and used to compute the next iteration. But, the computation can be speeded up by computing the probability density functions for all times without such corrections first. This does not effect the result when a motion specification is used that provide for monotonically changing position values.</p>
<p id="p-0067" num="0066">In an embodiment the components of the collision avoidance system are all mounted in the vehicle <b>20</b> for which the collision avoidance is provided. Alternatively, part of the components may be outside the vehicle, for example if a wireless communication channel between the vehicle and these components is provided. Thus for example object detector <b>10</b>, data processor <b>12</b>, map storage device <b>14</b>, position sensor <b>16</b> and/or velocity sensor <b>18</b> may all be located outside the vehicle <b>10</b>. A roadside object detector <b>10</b>, position sensor <b>16</b> and/or velocity sensor <b>18</b> may be used in communication with an in-vehicle data processor <b>12</b>, for example.</p>
<p id="p-0068" num="0067">Data processor <b>12</b> may be implemented as a control circuit comprising a programmable processor and a program memory containing a program to make the programmable processor perform the actions described for data processor <b>12</b>. Alternatively the a control circuit may comprise a plurality of programmable processors and one or more program memories for distributed programs to make a combination of programmable processors perform the actions described for data processor <b>12</b>. In a further embodiment part or all of these processors may be implemented as dedicated circuits designed to perform these actions. As used herein, statements that data processor <b>12</b> is configured to perform these actions refer to each of these embodiments as alternative implementations.</p>
<p id="p-0069" num="0068">In an embodiment the entire system may be implemented on board a vehicle. In other embodiments part or all of the system may be implemented elsewhere, for example in road side equipment. Thus for example road side equipment may be used that detects road users and computes probability density functions for each of the road users, computing and applying correction factors for at least part of the road users, for example for motor cars. For other type of road user, such as pedestrians or cyclists, other computations may be used to compute probability densities. As the speed of such road users is generally lower than that of motor cars, it may suffice to compute less accurate local probability densities for these road users.</p>
<p id="p-0070" num="0069">In such a road side system case it may suffice to store a limited amount of map data for a road section for which the system is active. This map may be dynamically updated to account for road events, such as collisions, or for changing road conditions, such as rain or ice. The system may be provided with a transmitter to send warning signals to road users, dependent on collision probabilities computed from the probability density functions and the correction factors. Alternatively, or in addition, the system may be configured to control road-side devices, such as traffic lights or warning light dependent on collision probabilities computed from the probability density functions and the correction factors. In another embodiment, a mixed road side-in vehicle system may be used. Map data and/or information about other vehicles may be transmitted from a road-side part of the system to vehicles for example.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A collision avoidance system for a vehicle, the system comprising
<claim-text>a map storage device for storing road map data distinguishing a plurality of regions of an area that contains a road;</claim-text>
<claim-text>a vehicle state detector, configured to detect at least a position part of a current state of the vehicle; and</claim-text>
<claim-text>a data processor configured to use detected information about the current state of the vehicle to compute a probability density function of future positions of the vehicle in the area, and to compute a correction factor applicable to said probability density function for all positions in a first one of the regions, the data processor determining the correction factor dependent on aggregates of the probability density function in respective ones of the regions,</claim-text>
</claim-text>
<claim-text>wherein the correction factor is configured to modify a distribution of probability density between the first and a second one of the regions by increasing the probability density in the first one of the regions and decreasing the probability density in the second one of the regions.</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A collision avoidance system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first one of the regions comprises a portion of the road for traffic in a direction of travel of the vehicle, and the second one of the regions lies adjacent to the first region along the direction of travel.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A collision avoidance system according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the road map data stored in the storage device distinguishes the first one of the regions, the second one of the regions and a third one of the regions, the second one of the regions comprising a portion of the road for traffic travelling in a direction opposite to the direction of travel of the vehicle, and the third one of the regions comprising an area bordering on the road, the probability density function defining aggregates of probability density associated with the first, the second and the third one of the regions, and wherein the data processor is configured to increase the correction factor dependent on the aggregate of probability density associated with the third one of the regions and the aggregate of probability density associated with the second one of the regions.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A collision avoidance system according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the data processor is configured to compute the correction factor F according to the formula F=(1&#x2212;C<b>2</b>*P<b>2</b>&#x2212;C<b>3</b>*P<b>3</b>)/P<b>1</b>, wherein P<b>1</b>, P<b>2</b> and P<b>3</b> are the aggregates of the probability density associated with the first, the second and the third ones of the regions respectively, and wherein C<b>2</b> and C<b>3</b> are coefficients with values less than one and above zero, C<b>3</b> being smaller than C<b>2</b>.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A collision avoidance system according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the data processor is configured to compute the correction factor F according to the formula F=(1&#x2212;C<b>2</b>*P<b>2</b>)/P<b>1</b>, wherein P<b>1</b> and P<b>2</b> are the aggregates of the probability density associated with the first and the second ones of the regions respectively and wherein C<b>2</b> is a coefficient with a value less than one and above zero.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A collision avoidance system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising an output device, the data processor being configured to trigger generation of an alarm signal by the output device upon detection that the corrected probability density function assigns more than a threshold amount of probability to colliding positions.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A collision avoidance system according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, comprising an object detector configured to detect another vehicle on the road, and wherein the data processor is configured to use a detected state of the other vehicle to compute a further probability density function of the other vehicle, and to compute a collision probability from overlap between the further probability density function and the probability density function, corrected according to the correction factor.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A collision avoidance system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising a steering controller and/or a speed controller, the data processor being configured to activate the steering controller and/or the speed controller upon detection that the corrected probability density function assigns more than a threshold amount of probability to colliding positions.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A collision avoidance system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the road map data stored in said storage device distinguishes one way roads from two way roads and wherein the data processor configured to select said set dependent on whether the road map data indicates that the vehicle is in a one way road or a two way road.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A collision avoidance system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the road map data stored in said storage device distinguishes first road sections at which the road has cross sections with other roads and second road sections without such cross sections and wherein the data processor configured to select said set dependent on whether the road map data indicates that the vehicle approaches one of the first road sections.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A method of collision avoidance for a vehicle on a road, the method comprising
<claim-text>storing road map data distinguishing a plurality of regions in an area that contains the road;</claim-text>
<claim-text>detecting a state of the vehicle, comprising detecting at least a position of the vehicle relative to the road;</claim-text>
<claim-text>computing a probability density function of future positions of the vehicle; and</claim-text>
<claim-text>computing a correction factor applicable to the probability density function for all positions in a first one of the regions, dependent on aggregates of the probability density function in respective ones of the regions,</claim-text>
</claim-text>
<claim-text>wherein the correction factor is configured to modify a distribution of probability density between the first and a second one of the regions by increasing the probability density in the first one of the regions and decreasing the probability density in the second one of the regions.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A computer program product, comprising a non-transitory computer readable medium having a computer program embodied thereon, the computer program including instructions for a programmable processor that, when executed by the programmable processor, will cause the programmable processor to:
<claim-text>receive state information of a vehicle, comprising at least a position of the vehicle relative to a road;</claim-text>
<claim-text>compute a probability density function of future positions of the vehicle from the received state information;</claim-text>
<claim-text>retrieve road map data distinguishing a plurality of regions in an area containing the road; and</claim-text>
<claim-text>compute a correction factor applicable to the probability density function for all positions in a first one of the regions, dependent on aggregates of the probability density function in respective ones of the regions,</claim-text>
</claim-text>
<claim-text>wherein the correction factor is configured to modify a distribution of probability density between the first and a second one of the regions by increasing the probability density in the first one of the regions and decreasing the probability density in the second one of the regions. </claim-text>
</claim>
</claims>
</us-patent-grant>
