<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625617-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625617</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13190272</doc-number>
<date>20110725</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>CN</country>
<doc-number>2009 1 0001167</doc-number>
<date>20090123</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>156</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>12</main-group>
<subgroup>28</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370401</main-classification>
</classification-national>
<invention-title id="d2e71">Method, apparatus, and system for updating packet data network gateway information</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>2005/0053070</doc-number>
<kind>A1</kind>
<name>Jouppi</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2005/0064889</doc-number>
<kind>A1</kind>
<name>Haumont</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455514</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2006/0262736</doc-number>
<kind>A1</kind>
<name>Dong et al.</name>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370254</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2008/0254768</doc-number>
<kind>A1</kind>
<name>Faccin</name>
<date>20081000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455411</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2008/0274736</doc-number>
<kind>A1</kind>
<name>Hu</name>
<date>20081100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455433</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2010/0323700</doc-number>
<kind>A1</kind>
<name>Bachmann et al.</name>
<date>20101200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455436</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2011/0176510</doc-number>
<kind>A1</kind>
<name>Hallenstal et al.</name>
<date>20110700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370331</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>CN</country>
<doc-number>101094443</doc-number>
<kind>A</kind>
<date>20071200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>CN</country>
<doc-number>101106810</doc-number>
<kind>A</kind>
<date>20080100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>CN</country>
<doc-number>101135987</doc-number>
<kind>A</kind>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>CN</country>
<doc-number>101330740</doc-number>
<kind>A</kind>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>CN</country>
<doc-number>101388828</doc-number>
<kind>A</kind>
<date>20090300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>JP</country>
<doc-number>2002-513236</doc-number>
<kind>A</kind>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>International Search Report in corresponding PCT Application No. PCT/CN2010/070282 (Apr. 29, 2010).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00015">
<othercit>1<sup>st </sup>Office Action in corresponding Chinese Application No. 200910001167.9 (Jun. 20, 2011).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00016">
<othercit>Written Opinion of the International Searching Authority in corresponding PCT Application No. PCT/CN2010/070282 (Apr. 29, 2010).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00017">
<othercit>&#x201c;3GPP TS 29.272&#x2014;3rd Generation Partnership Project; Technical Specification Group Core Network and Terminals; Evolved Packet System (EPS); Mobility Management Entity (MME) and Serving GPRS Support Node (SGSN) related interfaces based on Diameter protocol (Release 8),&#x201d; Jan. 2009, Version 8.1.1, 3<sup>rd </sup>Generation Partnership Project, Valbonne, France.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00018">
<othercit>&#x201c;3GPP TS 29.273&#x2014;3rd Generation Partnership Project; Technical Specification Group Core Network and Terminals; Evolved Packet System (EPS); 3GPP EPS AAA interfaces (Release 8),&#x201d; Dec. 2008, Version 8.0.0, 3<sup>rd </sup>Generation Partnership Project, Valbonne, France.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>7</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>370401</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3703953</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37039531</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37039532</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>4</number-of-drawing-sheets>
<number-of-figures>10</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>PCT/CN2010/070282</doc-number>
<date>20100120</date>
</document-id>
<parent-status>PENDING</parent-status>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13190272</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110280254</doc-number>
<kind>A1</kind>
<date>20111117</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Shi</last-name>
<first-name>Shufeng</first-name>
<address>
<city>Shenzhen</city>
<country>CN</country>
</address>
</addressbook>
<residence>
<country>CN</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Shi</last-name>
<first-name>Shufeng</first-name>
<address>
<city>Shenzhen</city>
<country>CN</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Leydig, Voit &#x26; Mayer, Ltd.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Huawei Technologies Co., Ltd.</orgname>
<role>03</role>
<address>
<city>Shenzhen</city>
<country>CN</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Pham</last-name>
<first-name>Chi</first-name>
<department>2471</department>
</primary-examiner>
<assistant-examiner>
<last-name>Chowdhury</last-name>
<first-name>Fahmida</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method, an apparatus, and a system for updating packet data network gateway (PDN GW) information are disclosed. The method includes: receiving, by a home subscriber server (HSS), an update request sent by a first network element (NE), where the update request includes a Context-Identifier parameter and an international mobile subscriber identity (IMSI); and updating PDN GW information according to the Context-Identifier parameter and the IMSI. With embodiments of the present invention, the data matching speed is increased in the update process, and the performance of the HSS is improved.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="98.04mm" wi="177.46mm" file="US08625617-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="187.20mm" wi="171.28mm" file="US08625617-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="217.59mm" wi="182.54mm" file="US08625617-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="227.41mm" wi="178.56mm" file="US08625617-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="231.39mm" wi="90.68mm" file="US08625617-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application is a continuation of International Application No. PCT/CN2010/070282, filed on Jan. 20, 2010, which claims priority to Chinese Patent Application No. 200910001167.9, filed on Jan. 23, 2009, both of which are hereby incorporated by reference in their entireties.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">The present invention relates to communication technologies, and in particular, to a method, an apparatus, and a system for updating packet data network gateway (PDN GW) information.</p>
<heading id="h-0003" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0004" num="0003">An evolved packet system (EPS) may include a mobility management entity (MME). The MME is responsible for the mobility management of a control plane and is configured to manage user contexts and mobility status and allocate a temporary identity to a user. A home subscriber server (HSS) may include a home subscriber server (HSS) and/or a home location register (HLR). The HSS is configured to store subscription information for users. A PDN GW is a user plane anchor between a 3rd Generation Partnership Project (3GPP) access system and a non-3GPP access system and is also an interface for terminating the connection with an external packet data network (PDN). The core network of the EPS supports not only the access of a user equipment (UE) that uses a 3GPP access technology but also the access of a UE that uses non-3GPP technologies, such as wireless local area network (WLAN), code division multiple access (CDMA), and worldwide interoperability for microwave access (WiMAX). The access authentication and authorization of the UEs that use non-3GPP technologies are implemented by a 3GPP, authorization, authentication, and accounting (AAA) server. After receiving a non-3GPP access request from a UE, the AAA server obtains subscription data of the user from the HSS; after authenticated and authorized, by the AAA server, the UE is allowed to access the EPS network.</p>
<p id="p-0005" num="0004">In the EPS, the network allocates a PDN GW to a PDN connection that is directed to an access point name (APN) and initiated by the UE. The PDN GW information may be subscribed statically or generated dynamically and stored on the HSS. The PDN GW information is used to provide signaling and bearer handover anchors for the UE to perform handover between the 3GPP access and the non-3GPP access.</p>
<p id="p-0006" num="0005">When the PDN GW information generated dynamically is changed, the serving GPRS support node (SGSN), the MME and/or the AAA server updates the PDN GW information stored on the HSS. In the conventional art, the process of updating the PDN GW information includes: When the network re-selects a PDN GW for the PDN connection of the UE, the MME, the SGSN, and/or the AAA server needs to update the PDN GW information stored on the HSS; or when the PDN connection of the UE is released or detached from the network, the MME, the SGSN, and/or the AAA server needs to delete the PDN GW information stored on the HSS. The MME, the SGSN, and/or the AAA server sends an update request that carries corresponding APN information to the HSS; the HSS finds a corresponding record through the APN, and updates the PDN GW information in the record of the HSS by checking whether a PDN GW parameter is carried in the update request.</p>
<p id="p-0007" num="0006">From the preceding process, it can be inferred that an international mobile subscriber identity (IMSI) of the user and an APN corresponding to a PDN GW to be updated are carried in the update request that the MME, the SGSN, and/or the AAA server sends to the HSS. After receiving the update request, the HSS finds a corresponding PDN GW according to the IMSI and the APN, and updates the PDN GW. However, an APN parameter is a character string and includes a 63-byte string like &#x201c;Label1.Label2.Label3&#x201d;. Therefore, the speed of matching the searched subscription data of the user by the HSS according to the APN parameter is lower. In addition, the MME, the SGSN, and/or the AAA server updates the PDN GW information on the HSS in many cases. Therefore, frequent update operations are performed, thus affecting the performance of the HSS.</p>
<heading id="h-0004" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0008" num="0007">Embodiments of the present invention provide a method, an apparatus, and a system for updating PDN GW information to solve the problem in the prior art that the performance of an HSS is reduced due to data matching at a lower speed in the process of updating the PDN GW information.</p>
<p id="p-0009" num="0008">To solve the preceding technical problem, a method for updating PDN GW information provided in an embodiment of the present invention includes:</p>
<p id="p-0010" num="0009">receiving an update request sent by a first network element (NE), where the update request includes a Context-Identifier parameter and an IMSI; and</p>
<p id="p-0011" num="0010">updating corresponding PDN GW information according to the Context-Identifier parameter and the IMSI.</p>
<p id="p-0012" num="0011">An apparatus for updating PDN GW information provided in an embodiment of the present invention includes:</p>
<p id="p-0013" num="0012">a receiving module, configured to receive an update request from an NE, where the update request includes a Context-Identifier parameter and an IMSI; and</p>
<p id="p-0014" num="0013">an updating module, configured to update corresponding PDN GW information according to the Context-Identifier parameter and the IMSI.</p>
<p id="p-0015" num="0014">A system for updating PDN GW information provided in an embodiment of the present invention includes:</p>
<p id="p-0016" num="0015">a first NE, configured to send an update request to a second NE, where the update request includes a Context-Identifier parameter and an IMSI; and</p>
<p id="p-0017" num="0016">the second NE, configured to receive the update request, and update corresponding PDN GW information according to the Context-Identifier parameter and the IMSI in the update request.</p>
<p id="p-0018" num="0017">Embodiments of the present invention have the following advantages:</p>
<p id="p-0019" num="0018">In embodiments of the present invention, a NE carries a Context-Identifier parameter in an update request, and sends the update request that carries the Context-Identifier parameter to an HSS, so that the HSS updates PDN GW information according to the update request. Obviously, the HSS can perform the update process according to the Context-Identifier parameter carried in the update request. The Context-Identifier parameter is an integer. Therefore, the data matching speed may be greatly increased in the update process, and the performance of the HSS may be improved.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0020" num="0019">To make embodiments of the present invention or the technical solution in the prior art clearer, the accompanying drawings for illustrating the embodiments of the present invention or the prior art are described in the following. Obviously, the accompanying drawings are merely exemplary, and those skilled in the art may also derive other drawings from such accompanying drawings without creative efforts.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 1</figref> is a flowchart showing a method for updating PDN GW information according to a first embodiment of the present invention;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 2</figref> is a flowchart showing a method for updating PDN GW information according to a second embodiment of the present invention;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 3</figref> is a schematic diagram showing a connection after an interworking function (IWF) is added to the method for updating PDN GW information in the second embodiment;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 4</figref> is a flowchart showing a method for updating PDN GW information according to a third embodiment of the present invention;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart showing a method for updating PDN GW information according to a fourth embodiment of the present invention;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 6</figref> is a flowchart showing a method for updating PDN GW information according to a fifth embodiment of the present invention;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 7</figref> is a schematic diagram showing a structure of an apparatus for updating PDN GW information according to the first embodiment of the present invention;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 8</figref> is a schematic diagram showing a structure of an apparatus for updating PDN GW information according to the second embodiment of the present invention;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 9</figref> is a schematic diagram showing a structure of an apparatus for updating PDN GW information according to the third embodiment of the present invention; and</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 10</figref> is a schematic diagram showing a structure of a system for updating PDN GW information according to an embodiment of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION OF THE EMBODIMENTS</heading>
<p id="p-0031" num="0030">The technical solution of the present invention is described in detail in the following with reference to accompanying drawings in embodiments of the present invention. Obviously, the embodiments are merely exemplary, and the present invention is not limited to such embodiments. Those skilled in the art may derive other embodiments from the embodiments described herein without making any creative effort, and all such other embodiments shall fall within the protection scope of the present invention.</p>
<p id="p-0032" num="0031">For a better understanding of the preceding objective, feature, and merits of the present invention, the present invention is described in detail in the following with reference to exemplary embodiments and accompanying drawings.</p>
<p id="p-0033" num="0032">As shown in <figref idref="DRAWINGS">FIG. 1</figref>, a method for updating PDN GW information provided in a first embodiment of the present invention may include the following steps:</p>
<p id="p-0034" num="0033">Step <b>101</b>: A first NE carries a Context-Identifier parameter in an update request. The update request includes an IMSI.</p>
<p id="p-0035" num="0034">It should be noted that the first NE may be a Mobility Management Entity (MME), a Serving GPRS Support Node (SGSN), and/or an authorization, authentication, and accounting (AAA) server. The update request sent by the MME and/or the SGSN may be a Notify request. The update request sent by the AAA server may be a Non-3GPP IP Registration request. The first NE may carry a Context-Identifier parameter by extending a Notify request or a Registration request.</p>
<p id="p-0036" num="0035">Step <b>102</b>: The first NE sends the update request that carries the Context-Identifier parameter to a second NE, so that the second NE updates PDN GW information according to the Context-Identifier parameter and the IMSI.</p>
<p id="p-0037" num="0036">The second NE may be an HSS or may include an HSS and/or an HLR. The update request includes a user name that carries an IMSI of the user. The operation of updating PDN GW information may include adding, deleting, and/or modifying PDN GW information. The update request may further include a PDN GW identity parameter. The PND GW identity parameter is used to notify the HSS that the network selects new PDN GW information for a PDN connection corresponding to an APN, where the PDN GW identity parameter may identify the new PDN GW information. It should be noted that when the update request is used to delete PDN GW information corresponding to an APN on the HSS, the update request does not include a PDN GW identity parameter.</p>
<p id="p-0038" num="0037">The first NE sends an update request that carries a Context-Identifier parameter to an HSS. The HSS may update PDN GW information according to the Context-Identifier parameter and the IMSI in the update request. The PDN GW information may include an Internet Protocol (IP) address of the PDN GW or a fully qualified domain name (FQDN) identity of the PDN GW.</p>
<p id="p-0039" num="0038">In the first embodiment of the present invention, the first NE adds a Context-Identifier parameter to an update request, and sends the update request with the Context-Identifier parameter to an HSS, so that the HSS can update PDN GW information according to the Context-Identifier parameter, where the Context-Identifier parameter is an integer. Compared with the prior art where updating is performed according to string data, this method simplifies the matching in the update process performed by the HSS, so that the data matching speed in the update process is increased and the performance of the HSS is improved.</p>
<p id="p-0040" num="0039">As shown in <figref idref="DRAWINGS">FIG. 2</figref>, a method for updating PDN GW information provided in a second embodiment of the present invention may include the following steps:</p>
<p id="p-0041" num="0040">Step <b>201</b>: An MME and/or An SGSN adds a Context-Identifier parameter to a Notify Request. The Notify request includes an IMSI.</p>
<p id="p-0042" num="0041">In this embodiment, the first NE may be an MME and/or an SGSN. In practice, some contents of the Notify request that includes the Context-Identifier parameter are shown in Table 1.</p>
<p id="p-0043" num="0042">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0" pgwide="1">
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="56pt" align="left"/>
<colspec colname="2" colwidth="203pt" align="left"/>
<thead>
<row>
<entry namest="1" nameend="2" rowsep="1">TABLE 1</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry>Parameter Name</entry>
<entry>Parameter Description</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>User Name</entry>
<entry>Includes an IMSI of a user.</entry>
</row>
<row>
<entry>PDN GW</entry>
<entry>Notifies the HSS that the network selects new PDN GW information</entry>
</row>
<row>
<entry>Identity</entry>
<entry>for a PDN connection corresponding to an APN. The PDN GW</entry>
</row>
<row>
<entry/>
<entry>identity parameter may identify the new PDN GW information.</entry>
</row>
<row>
<entry/>
<entry>When instructing the HSS to delete PDN GW information</entry>
</row>
<row>
<entry/>
<entry>corresponding to an APN, this parameter must be unavailable.</entry>
</row>
<row>
<entry>Context Identifier</entry>
<entry>Includes a context identifier mapping with an APN corresponding to</entry>
</row>
<row>
<entry/>
<entry>the PDN GW to be operated.</entry>
</row>
<row>
<entry/>
<entry>When the PDN GW information is updated or deleted, this parameter</entry>
</row>
<row>
<entry/>
<entry>must be available and correspond to an APN corresponding to the</entry>
</row>
<row>
<entry/>
<entry>PDN GW to be updated or to be deleted.</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0044" num="0043">The Context-Identifier parameter is an integer value and uniquely identifies an APN configuration in each piece of subscription data of the user on the HSS. A practical example of the Context-Identifier parameter is shown as follows:</p>
<p id="p-0045" num="0044">
<tables id="TABLE-US-00002" num="00002">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="14pt" align="left"/>
<colspec colname="1" colwidth="70pt" align="left"/>
<colspec colname="2" colwidth="133pt" align="left"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>APN-Configuration::=</entry>
<entry>&#x3c;AVP header: XXX XXXX&#x3e;</entry>
</row>
<row>
<entry/>
<entry/>
<entry>{ Context-Identifier }</entry>
</row>
<row>
<entry/>
<entry/>
<entry>* 2 [ Served-Party-IP-Address ]</entry>
</row>
<row>
<entry/>
<entry/>
<entry>{ PDN-Type }</entry>
</row>
<row>
<entry/>
<entry/>
<entry>{ Service-Selection}</entry>
</row>
<row>
<entry/>
<entry/>
<entry>[ EPS-Subscribed-QoS Profile ]</entry>
</row>
<row>
<entry/>
<entry/>
<entry>[ VPLMN-Dynamic-Address-Allowed ]</entry>
</row>
<row>
<entry/>
<entry/>
<entry>[ MIP6-Agent-Info ]</entry>
</row>
<row>
<entry/>
<entry/>
<entry>[ PDN-GW-Allocation-Type ]</entry>
</row>
<row>
<entry/>
<entry/>
<entry>[ 3GPP-Charging-Characteristics ]</entry>
</row>
<row>
<entry/>
<entry/>
<entry>[ AMBR ]</entry>
</row>
<row>
<entry/>
<entry/>
<entry>*[ AVP ]</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0046" num="0045">Step <b>202</b>: The MME and/or the SGSN sends the Notify request that includes the Context-Identifier parameter to an IWF.</p>
<p id="p-0047" num="0046">In the network evolution process, the EPS and the GPRS network may coexist for a period of time. An S6a interface between the MME and the HSS on the EPS network uses the Diameter protocol, while a Gr/Gr+ interface between the SGSN and the HSS and/or the HLR on the GPRS network uses the Mobile Application Part (MAP) protocol. To enable a GPRS user to roam to the EPS network and access services without affecting the GPRS network, an IWF may be added between the MME and/or the SGSN and the HSS/HLR that supports only the Gr/Gr+interface. A schematic diagram of the connection is shown in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0048" num="0047">The IWF is used for protocol conversion between the MAP-based Gr interface and the Diameter-based S6a interface. When a user on the GPRS network roams to the EPS network, the NE may download the subscription data of the user from the old HSS and/or the HLR through the IWF and register the location, and then process subsequent services. The IWF may also be set between the SGSN that supports the Diameter-based S6d interface and the HSS and/or the HLR to perform the protocol conversion between the MAP-based Gr interface and the Diameter-based S6a interface.</p>
<p id="p-0049" num="0048">Step <b>203</b>: The IWF converts the Notify request that includes the Context Identifier parameter into a location update message, and sends the location update message to the HSS and/or the HLR.</p>
<p id="p-0050" num="0049">Specifically, the IWF converts the Notify request that includes the Context Identifier parameter into a location update message based on the MAP Protocol, and sends the location update message to the HSS and/or the HLR.</p>
<p id="p-0051" num="0050">Step <b>204</b>: The HSS and/or the HLR updates PDN GW information according to the Context-Identifier parameter and the IMSI in the location update message.</p>
<p id="p-0052" num="0051">After step <b>204</b>, the step may further include: the HSS and/or the HLR returns a location update response based on the MAP protocol to the IWF; the IWF converts the location update response into a Notify response based on the Diameter protocol, and sends the Notify response to the MME and/or the SGSN.</p>
<p id="p-0053" num="0052">In this embodiment, the IWF is performed between the MME and/or the SGSN and the HSS and/or the HLR. In this way, the method provided in this embodiment may also be applicable to a scenario where the EPS interworks with the HSS and/or the HLR that does not support the S6a interface or the S6d interface on the Rel-8 network. This may simplify the process of updating the PDN GW information in that scenario and improve the performance of the HSS and/or the HLR.</p>
<p id="p-0054" num="0053">As shown in <figref idref="DRAWINGS">FIG. 4</figref>, a method for updating PDN GW provided in a third embodiment of the present invention may include the following steps:</p>
<p id="p-0055" num="0054">Step <b>401</b>: An MME and/or an SGSN adds a Context-Identifier parameter to a Notify Request. The Notify request includes an IMSI.</p>
<p id="p-0056" num="0055">In this embodiment, the first NE may be an MME and/or an SGSN; the second NE is an HSS; and the Context-Identifier parameter is an integer value and uniquely identifies an APN configuration in each piece of subscription data of the user on the HSS.</p>
<p id="p-0057" num="0056">Step <b>402</b>: The MME and/or the SGSN sends the Notify request that includes the Context-Identifier parameter to the HSS.</p>
<p id="p-0058" num="0057">Step <b>403</b>: The HSS matches APN configuration data of a user according to the Context-Identifier parameter and the IMSI.</p>
<p id="p-0059" num="0058">The HSS may match APN configuration data of a user in the subscription data of the user stored on the HSS according to the Context-Identifier parameter and the IMSI. The APN configuration data may include a Context-Identifier parameter, an IMSI and/or an APN parameter.</p>
<p id="p-0060" num="0059">Step <b>404</b>: The HSS updates the PDN GW information corresponding to the APN configuration data.</p>
<p id="p-0061" num="0060">After step <b>404</b>, the step may further include: the HSS returns an update response to the MME and/or the SGSN. According to the method provided in this embodiment, the subscription data is matched according to the Context-Identifier parameter that is an integral value. In this way, the data matching speed is increased, and the performance of the HSS is improved.</p>
<p id="p-0062" num="0061">As shown in <figref idref="DRAWINGS">FIG. 5</figref>, a method for updating PDN GW provided in a fourth embodiment of the present invention may include the following steps:</p>
<p id="p-0063" num="0062">Step <b>501</b>: An HSS receives an update request from a first NE, where the update request includes a Context-Identifier parameter and an IMSI.</p>
<p id="p-0064" num="0063">The first NE may be an MME, an SGSN and/or an AAA server. The HSS is a second NE and may include an HSS and/or an HLR. The update request may be a Registration request and/or a Notify request. The update operation may include addition, modification and/or deletion. The update request may further include a PDN GW identity parameter. The PDN GW identity parameter may be used to notify the HSS and/or the HLR that the network selects new PDN GW information for a PDN connection of an APN, where the PDN GW identity parameter may identify the new PDN GW information. It should be noted that when the update request is used to request the HSS and/or the HLR to delete PDN GW information corresponding to an APN, the update request does not include a PDN GW identity parameter.</p>
<p id="p-0065" num="0064">In a practical example, the Registration request may include some parameters shown in Table 2.</p>
<p id="p-0066" num="0065">
<tables id="TABLE-US-00003" num="00003">
<table frame="none" colsep="0" rowsep="0" pgwide="1">
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="63pt" align="left"/>
<colspec colname="2" colwidth="203pt" align="left"/>
<thead>
<row>
<entry namest="1" nameend="2" rowsep="1">TABLE 2</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry>Parameter Name</entry>
<entry>Parameter Description</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>Permanent User</entry>
<entry>Includes an IMSI of a user.</entry>
</row>
<row>
<entry>Identity</entry>
</row>
<row>
<entry>Server Assignment</entry>
<entry>Is set to PGW_UPDATE and used to update PDN GW information.</entry>
</row>
<row>
<entry>Type</entry>
</row>
<row>
<entry>PGW identity</entry>
<entry>Notifies the HSS that the network selects new PDN GW information</entry>
</row>
<row>
<entry/>
<entry>for a PDN connection corresponding to an APN. The PDN GW</entry>
</row>
<row>
<entry/>
<entry>identity parameter may identify the new PDN GW information.</entry>
</row>
<row>
<entry/>
<entry>When instructing the HSS to delete PDN GW information</entry>
</row>
<row>
<entry/>
<entry>corresponding to an APN, this parameter must be unavailable.</entry>
</row>
<row>
<entry>Context Identifier</entry>
<entry>Includes a context identifier mapping with an APN that corresponds</entry>
</row>
<row>
<entry/>
<entry>to the PDN GW to be operated.</entry>
</row>
<row>
<entry/>
<entry>When the Server Assignment Type is set to PGW_UPDATE, that is,</entry>
</row>
<row>
<entry/>
<entry>when PDN GW information is updated or deleted, this parameter</entry>
</row>
<row>
<entry/>
<entry>must be available and correspond to an APN corresponding to the</entry>
</row>
<row>
<entry/>
<entry>PDN GW to be operated or to be deleted.</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0067" num="0066">It should be noted that the HSS may receive a Notify request sent by the MME and/or the SGSN through an IWF; after the MME and/or the SGSN sends the Notify request to the IWF, the IWF converts the Notify request into a location update message based on the MAP protocol, and sends the location update message to the HSS and/or the HLR to prepare for updating PDN GW information by the HSS and/or the HLR.</p>
<p id="p-0068" num="0067">Step <b>502</b>: The HSS updates corresponding PDN GW information according to the Context-Identifier parameter and the IMSI.</p>
<p id="p-0069" num="0068">When the HSS receives a Notify request sent by the MME and/or the SGSN through the IWF in step <b>501</b>, the HSS updates corresponding PDN GW information according to the location update message.</p>
<p id="p-0070" num="0069">After step <b>502</b>, the step may further include: the HSS and/or the HLR returns a location update response based on the MAP to the IWF; the IWF converts the location update response into a Notify response based on the Diameter protocol, and sends the Notify response to the MME and/or the SGSN.</p>
<p id="p-0071" num="0070">In this embodiment, the HSS may match a corresponding PDN GW according to the Context-Identifier parameter and the IMSI, and update the PDN GW information, where the PDN GW information may include the IP address or FQDN identity of the PDN GW. The HSS receives an update request that includes a Context-Identifier parameter and an IMSI, so that the HSS can match, obtain, and update the PGN GW information according to the Context-Identifier parameter, where the Context-Identifier parameter is an integer. The matching and updating are performed according to the integer data, so that the data matching speed in the update process is increased and the performance of the HSS is improved.</p>
<p id="p-0072" num="0071">As shown in <figref idref="DRAWINGS">FIG. 6</figref>, a method for updating PDN GW information provided in a fifth embodiment of the present invention may include the following steps:</p>
<p id="p-0073" num="0072">Step <b>601</b>: An HSS receives an update request from a first NE, where the update request includes a Context-Identifier parameter and an IMSI.</p>
<p id="p-0074" num="0073">In this embodiment, the second NE is the HSS, and the first NE may be an MME, an SGSN, and/or an AAA server.</p>
<p id="p-0075" num="0074">Step <b>602</b>: The HSS matches APN configuration data of a user according to the Context-Identifier parameter and the IMSI.</p>
<p id="p-0076" num="0075">After receiving an update request, the HSS may use the Context-Identifier parameter and the IMSI in the update request as an index to search a database for the stored subscription data of the user, and match the corresponding APN configuration data of the user.</p>
<p id="p-0077" num="0076">Step <b>603</b>: The HSS updates the PDN GW information corresponding to the APN configuration data.</p>
<p id="p-0078" num="0077">The APN configuration data is mapping with the PDN GW. The HSS may directly update the PDN GW information corresponding to the APN configuration data.</p>
<p id="p-0079" num="0078">Specifically, this step may include the following sub-steps:</p>
<p id="p-0080" num="0079">Sub-step A<b>1</b>: The HSS matches APN configuration data of a user according to the Context-Identifier parameter and the IMSI.</p>
<p id="p-0081" num="0080">Sub-step A<b>2</b>: The HSS updates the PDN GW information corresponding to the APN configuration data.</p>
<p id="p-0082" num="0081">The HSS may match the APN configuration data of the user stored on the HSS according to the Context-Identifier parameter and the IMSI, and then update the PDN GW information corresponding to the APN configuration data.</p>
<p id="p-0083" num="0082">Step <b>604</b>: The HSS returns an update response to the first NE.</p>
<p id="p-0084" num="0083">After updating the PDN GW information, the HSS returns an update response to the first NE, where the update response may be a Notify response or a Registration response.</p>
<p id="p-0085" num="0084">It should be noted that for a better description of the methods provided in the preceding embodiments of the present invention, the methods are described as a series of actions. It is understandable to those skilled in the art that the present invention is not limited by the sequence of the actions. Some steps may be carried out in other sequence or simultaneously according to the present invention. In addition, it is understandable to those skilled in the art that the embodiments in the specification are exemplary embodiments and that the actions and modules involved in these embodiments are not mandatory for the present invention.</p>
<p id="p-0086" num="0085">Corresponding to the method provided in the preceding embodiments, as shown in <figref idref="DRAWINGS">FIG. 7</figref>, an apparatus for updating PDN GW information provided in the first embodiment of the invention may include a carrying module <b>701</b> and a sending module <b>702</b>.</p>
<p id="p-0087" num="0086">The carrying module <b>701</b> is configured to add a Context-Identifier parameter to an update request. The update request includes an IMSI.</p>
<p id="p-0088" num="0087">The Context-Identifier parameter is an integer. The update request may be a Registration request or a Notify request. The update request includes the IMSI and a PDN GW parameter.</p>
<p id="p-0089" num="0088">The sending module <b>702</b> is configured to send the update request that includes the Context-Identifier parameter to an HSS, so that the HSS updates PDN GW information according to the Context-Identifier parameter and the IMSI.</p>
<p id="p-0090" num="0089">It should be noted that the update operation may include addition, deletion and/or modification. The HSS is a second NE and may include an HSS and/or an HLR. The sending module <b>702</b> may be further configured to send a replaced update request to an IWF, so that the IWF converts the Notify request into a location update request and sends the location update request to the HSS. In this way, the HSS may update PDN GW information according to the location update message. The apparatus may be integrated into the NE or directly implemented by the NE.</p>
<p id="p-0091" num="0090">In this embodiment, the carrying module <b>701</b> replaces an APN parameter in an update request with a Context-Identifier parameter; the sending module <b>702</b> sends the replaced update request to the HSS, so that the HSS can update PDN GW information according to the Context-Identifier parameter, where the Context-Identifier parameter is an integer. Compared with the prior art where updating is performed according to string data, this apparatus described in this embodiment may simplify the matching in the update process performed by the HSS, so that the update process is simplified and the performance of the HSS is improved.</p>
<p id="p-0092" num="0091">Corresponding to the method provided in the third embodiment, <figref idref="DRAWINGS">FIG. 8</figref> is a schematic diagram showing a structure of an apparatus for updating PDN GW information according to the second embodiment of the present invention. The apparatus may include a receiving module <b>801</b> and an updating module <b>802</b>.</p>
<p id="p-0093" num="0092">The receiving module <b>801</b> is configured to receive an update request sent by a first NE, where the update request includes a Context-Identifier parameter and an IMSI.</p>
<p id="p-0094" num="0093">The first NE may be an MME, an SGSN, and/or an AAA server. The update request may be a Notify request and/or a Registration request. The second NE is the HSS. The update request may include a PDN GW identity parameter. The PND GW identity parameter may be used to notify the HSS that the network selects new PDN GW information for an APN. It should be noted that when the update request is used to request the HSS to delete PDN GW information corresponding to an APN, the update request does not include a PDN GW identity parameter.</p>
<p id="p-0095" num="0094">The updating module <b>802</b> is configured to update corresponding PDN GW information according to the Context-Identifier parameter and the IMSI.</p>
<p id="p-0096" num="0095">In this embodiment, the update request received by a receiving module <b>901</b> includes a Context-Identifier parameter and an IMSI. The updating module matches a corresponding PDN GW according to the Context-Identifier parameter and the IMSI, and updates PDN GW information. The PDN GW information may include the IP address or the FQDN identity of the PDN GW. By using the apparatus provided in this embodiment, in the process of updating PDN GW information, the PDN GW information may be matched, obtained, and updated according to a Context-Identifier parameter. The Context-Identifier parameter is an integer. The matching and updating are performed according to the integer data, so that the update process is simplified and the performance of the HSS is improved.</p>
<p id="p-0097" num="0096">Corresponding to the method provided in the fourth embodiment, <figref idref="DRAWINGS">FIG. 9</figref> is a schematic diagram showing a structure of an apparatus for updating PDN GW information according to the third embodiment of the present invention. The apparatus may include:</p>
<p id="p-0098" num="0097">the receiving module <b>901</b>, configured to receive an update request sent by a first NE through an IWF, where the update request includes a Context-Identifier parameter and an IMSI;</p>
<p id="p-0099" num="0098">a matching submodule <b>902</b>, configured to match APN configuration data of a user according to the Context-Identifier parameter and the IMSI;</p>
<p id="p-0100" num="0099">an updating submodule <b>903</b>, configured to update the PDN GW information corresponding to the APN configuration data; and</p>
<p id="p-0101" num="0100">a returning module <b>904</b>, configured to return an update response to the first NE.</p>
<p id="p-0102" num="0101">In this embodiment, the apparatus may be implemented by an HSS or an HLR and may also be integrated into the HSS or the HLR. The update response may be a Notify response and/or a Registration response. Specifically, the matching submodule <b>902</b> matches APN configuration data of a user according to the Context-Identifier parameter and the IMSI; and then the updating submodule <b>903</b> updates the PDN GW information corresponding to the APN configuration data; and the returning module <b>904</b> returns an update response to the NE. In this way, the process of updating PDN GW information is simplified, and the performance of the HSS is improved.</p>
<p id="p-0103" num="0102"><figref idref="DRAWINGS">FIG. 10</figref> is a schematic diagram showing a structure of a system for updating PDN GW information provided in an embodiment of the present invention. As shown in <figref idref="DRAWINGS">FIG. 10</figref>, the system may include:</p>
<p id="p-0104" num="0103">a first NE <b>1001</b>, configured to send an update request to a second NE <b>1002</b>, where the update request includes a Context-Identifier parameter and an IMSI; and</p>
<p id="p-0105" num="0104">the second NE <b>1002</b>, configured to update corresponding PDN GW information according to the Context-Identifier parameter and the IMSI in the update request.</p>
<p id="p-0106" num="0105">The second NE <b>1002</b> may be integrated into the HSS and/or the HLR, and may include.</p>
<p id="p-0107" num="0106">a receiving module, configured to receive an update request sent by the first NE, where the update request includes a Context-Identifier parameter and an IMSI; and</p>
<p id="p-0108" num="0107">an updating module, configured to update corresponding PDN GW information according to the Context-Identifier parameter and the IMSI.</p>
<p id="p-0109" num="0108">It should be noted that the method and apparatus for updating PDN GW information are described in detail in the preceding, for detail information about the system for updating PDN GW information, see descriptions of the method and apparatus provided in the preceding embodiments.</p>
<p id="p-0110" num="0109">It should be noted that in the specification, relational terms such as first and second are used only to differentiate an entity or operation from another entity or operation, and do not require or imply any actual relationship or sequence between these entities or operations. Furthermore, the terms such as &#x201c;include&#x201d;, &#x201c;comprise&#x201d; or any other variation thereof, are intended to cover a non-exclusive inclusion, so that the process, method, article, or device including a series of elements includes not only these elements but also other unspecified elements, or further includes inherent elements of this process, method, article, or device. In the case of no further limitations, an element limited by &#x201c;include one&#x201d; does not exclude that the process, method, article, or device that includes the element also includes the same other elements.</p>
<p id="p-0111" num="0110">A method, an apparatus, and a system for updating PDN GW information provided in embodiments of the present invention are described in detail. Although the principle and implementation of the invention are described through some exemplary embodiments, the embodiments are only used to help understand the method and idea of the present invention. Meanwhile, it is apparent that those skilled in the art can make various modifications and variations to the invention without departing from the spirit and scope of the invention. In conclusion, the content of the specification shall not be construed as a limitation to the present invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is: </us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. In a home subscriber server (HSS), a method for updating packet data network gateway (PDN GW) information, comprising:
<claim-text>receiving an update request sent by a first network element (NE), wherein the update request comprises a Context-Identifier parameter and an international mobile subscriber identity (IMSI); wherein the first NE is any of the following: a mobility management entity (MME) and a serving GPRS support node (SGSN); wherein the Context-Identifier parameter is an integer; and</claim-text>
<claim-text>matching access point name (APN) configuration data of a user according to the Context-Identifier parameter and the IMSI; and</claim-text>
<claim-text>updating the PDN GW information corresponding to the APN configuration data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, the receiving the update request from the first NE comprises:
<claim-text>receiving the update request from at least one of the MME and the SGSN through an interworking function (IWF).</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the update request comprises a Registration request or a Notify request.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. An home subscriber server (HSS) for updating packet data network gateway (PDN GW) information, comprising:
<claim-text>a receiving module, configured to receive an update request from a first network element (NE), wherein the update request comprises a Context-Identifier parameter and an international mobile subscriber identity (IMSI); wherein the first NE is any of the following:</claim-text>
<claim-text>a mobility management entity (MME) and a serving GPRS support node (SGSN); wherein the Context-Identifier parameter is an integer; and</claim-text>
<claim-text>an updating module, configured to update corresponding PDN GW information according to the Context-Identifier parameter and the IMSI;</claim-text>
<claim-text>wherein the updating module comprises:</claim-text>
<claim-text>a matching submodule, configured to match access point name (APN) configuration data of a user according to the Context-Identifier parameter and the IMSI; and</claim-text>
<claim-text>an updating submodule, configured to update the PDN GW information corresponding to the APN configuration data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The apparatus of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the receiving module is further configured to receive the update request from the NE through an interworking function (IWF).</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A system for updating packet data network gateway (PDN GW) information, comprising:
<claim-text>a first network element (NE), configured to send an update request to a second NE, wherein the update request comprises a Context-Identifier parameter and an international mobile subscriber identity (IMSI); wherein the first NE is any of the following: a mobility management entity (MME) and a serving GPRS support node (SGSN); wherein the Context-Identifier parameter is an integer; wherein the second NE is a home subscriber server (HSS); and</claim-text>
<claim-text>the second NE, configured to receive the update request, and match access point name (APN) configuration data of a user according to the Context-Identifier parameter and the IMSI in the update request, and update the PDN GW information corresponding to the APN configuration data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The system of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the first NE is further configured to send the update request to the second NE through an interworking function (IWF), wherein the update request comprises the Context-Identifier parameter and the IMSI. </claim-text>
</claim>
</claims>
</us-patent-grant>
