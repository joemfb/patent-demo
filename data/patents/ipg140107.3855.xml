<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624922-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624922</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13115329</doc-number>
<date>20110525</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2010-124995</doc-number>
<date>20100531</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>421</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>09</class>
<subclass>G</subclass>
<main-group>5</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>345629</main-classification>
<further-classification>345600</further-classification>
</classification-national>
<invention-title id="d2e71">Image composition apparatus, and storage medium with program stored therein</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6987535</doc-number>
<kind>B1</kind>
<name>Matsugu et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>CN</country>
<doc-number>101527049</doc-number>
<kind>A</kind>
<date>20090900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>CN</country>
<doc-number>101587593</doc-number>
<kind>A</kind>
<date>20091100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>JP</country>
<doc-number>2000-209425</doc-number>
<kind>A</kind>
<date>20000700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>JP</country>
<doc-number>2004-7770</doc-number>
<kind>A</kind>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>JP</country>
<doc-number>2006-185017</doc-number>
<kind>A</kind>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00007">
<othercit>Japanese Office Action dated Feb. 21, 2012 (and English translation thereof) in counterpart Japanese Application No. 2010-124995.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00008">
<othercit>Chinese Office Action dated Mar. 26, 2013 (and English translation thereof) in counterpart Chinese Application No. 201110157491.7.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00009">
<othercit>Xu Wen-hua et al.: &#x201c;Learning of image rendering style based on texture synthesis&#x201d;: Engineering Journal of Wuhan University: vol. 36, No. 3: Jun. 30, 2003: pp. 115-119 (with English language Abstract).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>5</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>345600</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345629</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>10</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110292075</doc-number>
<kind>A1</kind>
<date>20111201</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Sukenori</last-name>
<first-name>Atsushi</first-name>
<address>
<city>Higashiyamato</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Sukenori</last-name>
<first-name>Atsushi</first-name>
<address>
<city>Higashiyamato</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Holtz, Holtz, Goodman &#x26; Chick, PC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Casio Computer Co., Ltd.</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>McDowell, Jr.</last-name>
<first-name>Maurice L</first-name>
<department>2677</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">There is provided an image composition apparatus configured to produce a composite image in which a foreground image is overlaid on a part of a background image. The apparatus designates a pair of images used as the background image and the foreground image, when one image of the pair of images is a pictorial image with a certain pictorial style, obtains pictorial style information indicative of the pictorial style of the one image of the pair of images, converts the other image of the pair of images into a pictorial image with the pictorial style indicated by the pictorial style information, produces a composite image from a combination of the pictorial image corresponding to the one image of the pair of images and the pictorial image resulting from the conversion on the other image of the pair of images, and outputs the composite image.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="132.25mm" wi="172.30mm" file="US08624922-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="151.89mm" wi="171.62mm" file="US08624922-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="175.51mm" wi="179.66mm" file="US08624922-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="97.28mm" wi="166.03mm" file="US08624922-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="223.86mm" wi="179.24mm" file="US08624922-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="263.99mm" wi="171.45mm" file="US08624922-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="180.26mm" wi="176.28mm" file="US08624922-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="218.27mm" wi="158.58mm" file="US08624922-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="215.05mm" wi="160.44mm" file="US08624922-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application is based upon and claims the benefit of priority from prior Japanese Patent Application No. 2010-124995, filed May 31, 2010, the entire contents of which are incorporated herein by reference.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The present invention relates to an image composition technique for overlaying, on a part of an image serving as a background, another image serving as a foreground.</p>
<p id="p-0005" num="0004">2. Description of the Related Art</p>
<p id="p-0006" num="0005">For example, Jpn. Pat. Appln. KOKAI Publication No. 2000-209425 (hereinafter referred to as Patent Document 1) describes a conventional image composition technique used when, on a part of an image serving as a background (hereinafter referred to as a background image), another image serving as a foreground (hereinafter referred to as a foreground image) is overlaid to produce a new image. In this technique, the gradation and style of the foreground image are adjusted so as to reduce differences in gradation and style between the background image and the foreground image. Using the image composition technique described in Patent Document 1 provides a more natural composite image that prevents a viewer from feeling the image odd even if for example, images taken with a digital camera under different image taking conditions and recorded as image data are used as a background image and a foreground image.</p>
<p id="p-0007" num="0006">However, the image composition technique described in Patent Document 1 cannot deal with the following case. For example, whereas the foreground image is an image taken with a camera, the background image is a pictorial image obtained by subjecting a camera-taken image to an image conversion process so that the image offers a pictorial style that is a visual characteristic similar to that of pictures of a particular type (Japanese painting, Western painting, or the like). That is, disadvantageously, a natural composite image cannot be obtained even when the gradation and style of the foreground image are adjusted in accordance with the gradation and style of the background image.</p>
<p id="p-0008" num="0007">In view of the above-described circumstances, an image composition technique is desired to be presented by which a foreground image is overlaid on a part of a background image to form a more natural composite image that prevents the viewer from feeling the image odd even if one of the foreground image and the background image is a pictorial image.</p>
<heading id="h-0003" level="1">BRIEF SUMMARY OF THE INVENTION</heading>
<p id="p-0009" num="0008">According to one aspect of the present invention, there is provided an image composition apparatus configured to produce a composite image in which a foreground image is overlaid on a part of a background image, the apparatus comprising: an image designation unit configured to designate a pair of images used as the background image and the foreground image; an information obtaining unit configured to, when one image of the pair of images is a pictorial image with a certain pictorial style, obtain pictorial style information indicative of the pictorial style of the one image of the pair of images; an image conversion unit configured to convert the other image of the pair of images into a pictorial image with the pictorial style indicated by the pictorial style information obtained by the information obtaining unit; a composition unit configured to produce a composite image from a combination of the pictorial image corresponding to the one image of the pair of images and the pictorial image resulting from the conversion by the image conversion unit of the other image of the pair of images; and an output unit configured to output the composite image produced by the composition unit.</p>
<p id="p-0010" num="0009">According to another aspect of the present invention, there is provided a non-transitory computer-readable storage medium having program code stored thereon for controlling an image composition apparatus configured to produce a composite image in which a foreground image is overlaid on a part of a background image, the program code comprising: designating a pair of images used as the background image and the foreground image; obtaining, when one image of the pair of images is a pictorial image with a certain pictorial style, pictorial style information indicative of the pictorial style of the one image of the pair of images; converting the other image of the pair of images into a pictorial image with the pictorial style indicated by the pictorial style information; and producing a composite image from a combination of the pictorial image corresponding to the one image of the pair of images and the pictorial image resulting from the conversion of the other image of the pair of images.</p>
<p id="p-0011" num="0010">Additional objects and advantages of the invention will be set forth in the description which follows, and in part will be obvious from the description, or may be learned by practice of the invention. The objects and advantages of the invention may be realized and obtained by means of the instrumentalities and combinations particularly pointed out hereinafter.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE SEVERAL VIEWS OF THE DRAWING</heading>
<p id="p-0012" num="0011">The accompanying drawings, which are incorporated in and constitute a part of the specification, illustrate embodiments of the invention, and together with the general description given above and the detailed description of the embodiments given below, serve to explain the principles of the invention.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic block diagram illustrating the hardware configuration of a digital photoframe common to embodiments according to the present invention;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 2</figref> is a functional block diagram illustrating essential functions of the digital photoframe according to a first embodiment;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram illustrating the relationship between the flatness of a group including pixels in the same color which are used for an art conversion process and the thickness of a paint brush reflected in a pictorial image;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 4</figref> is a flowchart illustrating a procedure for the CPU in a composite display mode according to the first embodiment;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 5A</figref> is a diagram illustrating an example of an image element not subjected to the art conversion process yet, <figref idref="DRAWINGS">FIG. 5B</figref> is a diagram illustrating an example of an image element subjected to the art conversion process, and <figref idref="DRAWINGS">FIG. 5C</figref> is a diagram illustrating an example of a composite image;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 6</figref> is a functional block diagram illustrating essential functions of a digital photoframe common to a second embodiment and a third embodiment;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 7</figref> is a flowchart illustrating a procedure for the CPU in the composite display mode according to the second embodiment; and</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 8</figref> is a flowchart illustrating a procedure for the CPU in the composite display mode according to the second embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0021" num="0020">Embodiments of the present invention will be described below. The embodiments described below relate to a digital photoframe (DPF) providing a function to display various images recorded as image data and an image composition function to overlay, on a part of an image serving as a background, another image serving as a foreground.</p>
<p id="h-0006" num="0000">(First Embodiment)</p>
<p id="p-0022" num="0021">First, a first embodiment will be described. <figref idref="DRAWINGS">FIG. 1</figref> is a schematic block diagram illustrating the hardware configuration of a DPF <b>1</b> common to the embodiments to which the present invention is applied. The DPF <b>1</b> is configured such that the whole system is controlled by a central processing unit (CPU) <b>101</b>. The CPU <b>101</b> connects to a read-only memory (ROM) <b>102</b>, random access memory (RAM) <b>103</b>, a media controller <b>104</b>, an operation key group <b>201</b>, and a display <b>301</b>.</p>
<p id="p-0023" num="0022">The ROM <b>102</b> is a memory configured to store plural types of programs and data used to allow the whole system to be controlled. The programs stored in the ROM <b>102</b> include a composition process program (program code) <b>102</b><i>a </i>for allowing the CPU <b>101</b> to execute an image designation process, an information obtaining process, an image conversion process, and an image composition process.</p>
<p id="p-0024" num="0023">The RAM <b>103</b> is a work memory in which the CPU <b>101</b> temporarily stores various data as required in order to control the DPF <b>1</b>. Specifically, the RAM <b>103</b> is a synchronous dynamic random-access memory (SDRAM) or the like.</p>
<p id="p-0025" num="0024">The media controller <b>104</b> is an I/O interface configured to control data inputs and outputs between the CPU <b>101</b> and a recording medium <b>40</b> removably installed in a memory card slot provided in the main body of the DPF <b>1</b>.</p>
<p id="p-0026" num="0025">The recording medium <b>40</b> is a nonvolatile card-shaped storage medium including a flash memory. Plural types of image data are stored in the recording medium <b>40</b>.</p>
<p id="p-0027" num="0026">Image data taken with a digital camera or the like is stored in the recording medium <b>40</b>. An image taken with a digital camera or the like is hereinafter referred to as a camera-taken image. Image data expressing the camera-taken image is hereinafter referred to as camera-taken image data. The camera-taken image data is stored as a still image file after the image data is compressed according to the Joint Photographic Expert Group (JPEG) scheme, with additional information such as an image taking date and time added to the compressed image data.</p>
<p id="p-0028" num="0027">Furthermore, the recording medium <b>40</b> is configured to store image data expressing pictorial images newly produced by executing an art conversion process on camera-taken image data. The art conversion process is an image conversion process for imposing on a camera-taken image various styles. Image data expressing a pictorial image is hereinafter referred to as pictorial image data.</p>
<p id="p-0029" num="0028">Like the camera-taken image data, the pictorial image data is stored as a still image file after the image data is compressed according to the Joint Photographic Expert Group (JPEG) scheme, with additional information such as the image taking date and time added to the compressed image data.</p>
<p id="p-0030" num="0029">Furthermore, in the still image file with the pictorial image data stored therein, pictorial style data and brush-play data are stored in a file header area in which the additional information is stored. The pictorial style data is indicative of the style of a pictorial image. The brush-play data is indicative of the nature of brush-play expressed in the pictorial image.</p>
<p id="p-0031" num="0030">Here, the pictorial style is a pictorial characteristic specified based on an impression that a user has when viewing the image. The pictorial style can be classified into various categories such as Japanese painting, Western painting, water-color painting, ink painting, pen-and-ink drawing, and van Gogh. Furthermore, the brush-play is the thickness and form of a brushstroke expressed in the pictorial image and is a characteristic recognized as the delicacy of brushstrokes. Thus, even when viewing pictorial images with the same pictorial style, the user has different impressions if the images are different in brush-play.</p>
<p id="p-0032" num="0031">The recording medium <b>40</b> is also configured to store image data expressing image elements each pre-created in order to be overlaid on a part of an arbitrary image serving as a background image. Image data expressing image elements is hereinafter referred to as image element data.</p>
<p id="p-0033" num="0032">The image element is obtained by cutting out a part of a camera-taken image using an arbitrary apparatus. Furthermore, in the image element data, for example, not only color information such as red, green, and blue (RGB) but also transparency information (&#x3b1; channel or the like) is assigned to each pixel. Additionally, an area of the cutout part of the camera-taken image or the like which area corresponds to a background is in a transparent color.</p>
<p id="p-0034" num="0033">The operation key group <b>201</b> includes a power switch and a plurality of operation switches. The CPU <b>101</b> regularly scans the operation status of operation keys in the operation key group <b>201</b> to detect various instructions given by the user via predetermined key operations.</p>
<p id="p-0035" num="0034">The display <b>301</b> includes a color liquid crystal display panel with a backlight, and a driving circuit configured to drive a color liquid crystal display panel in accordance with display data such as image data supplied by the CPU <b>101</b> to allow the color liquid crystal display panel to display images or the like expressed by the image data.</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 2</figref> is a functional block diagram illustrating essential functions of the DPF <b>1</b>. The DPF <b>1</b> includes a control unit <b>10</b>, an operation unit <b>20</b>, and a display unit <b>30</b>. The control unit <b>10</b> includes an image designation unit <b>11</b>, an information obtaining unit <b>12</b>, an image conversion unit <b>13</b>, an image composition unit <b>14</b>, a display control unit <b>15</b>, and a storage unit <b>16</b>.</p>
<p id="p-0037" num="0036">The operation unit <b>20</b> is functional section that detects the user's various instructions intended for the DPF <b>1</b>. The operation unit <b>20</b> is implemented by the operation key group <b>201</b> illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0038" num="0037">The display unit <b>30</b> displays the camera-taken images expressed by the camera-taken image data recorded in the recording medium <b>40</b> and images expressed by another image data. The display unit <b>30</b> further displays various operation screens required for the user to operate the DPF <b>1</b>. The display unit <b>30</b> is implemented by a display <b>301</b> illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0039" num="0038">The image designation unit <b>11</b> designates a camera-taken image or a pictorial image to be used as a background image and an image element to be used as a foreground image in response to the user's instruction detected by the operation unit <b>20</b>; the camera-taken image or pictorial image and the image element are selected from the images stored in the recording medium <b>40</b> as image data. The image designation unit <b>11</b> is implemented by the CPU <b>101</b> illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0040" num="0039">The information obtaining unit <b>12</b> operates when the image designation unit <b>11</b> designates an arbitrary pictorial image as a background image, to obtain pictorial style data and brush-play data added to the pictorial image data expressing the pictorial image designated as the background image. The information obtaining unit <b>12</b> supplies the pictorial style data and brush-play data to the image conversion unit <b>13</b>. The information obtaining unit <b>12</b> is also implemented by the CPU <b>101</b> illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0041" num="0040">The image conversion unit <b>13</b> executes, on arbitrary image element data stored in the recording medium <b>40</b>, an art conversion process whose nature corresponds to the pictorial style data and brush-play data supplied by the information obtaining unit. The art conversion process executed on the image element data by the image conversion unit <b>13</b> uses a brush-play equivalent to that in the pictorial image designated as the background image by the image designation unit <b>11</b>, to obtain a pictorial style equivalent to that of the pictorial image designated as the background image by the image designation unit <b>11</b>. The image conversion unit <b>13</b> is also implemented by the CPU <b>101</b> illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0042" num="0041">The art conversion process executed by the image conversion unit <b>13</b> is an application of the techniques described in, for example, Jpn. Pat. Appln. KOKAI Publication No. 10-011569 and Jpn. Pat. Appln. KOKAI Publication No. 2006-031688. Specifically, strongly correlated pixels are collected from the pixels forming the image data based on colors or the like. The collected pixels are then grouped. Then, for the pixels in each group, the colors of the pixels in the same group are replaced with a representative color for the group.</p>
<p id="p-0043" num="0042">In such a process, the image expressed by the processed image data can be provided with various image styles by varying the manner of correlating the grouped pixels with one another and the basic shape of the group formed of the pixels in the same color (representative color).</p>
<p id="p-0044" num="0043">Furthermore, even though the same pictorial style is provided for the processed image data, differences in brush-play can be expressed by varying the length (distance) or flatness of the group formed of the pixels in the same color (representative color).</p>
<p id="p-0045" num="0044">For example, as illustrated in <figref idref="DRAWINGS">FIG. 3</figref>, the thickness of a brush expressed in the image (pictorial image) expressed by the processed image data can be varied by varying only the flatness of the group formed of the pixels in the same color without varying the basic shape of the group. That is, as illustrated in (a) of <figref idref="DRAWINGS">FIG. 3</figref>, when the flatness of the group formed of the pixels in the same color is increased, the brush is thickened, allowing rough brush-play to be expressed in the image. Furthermore, as illustrated in (b) and (c) of <figref idref="DRAWINGS">FIG. 3</figref>, the thickness of the brush decreases consistently with the flatness of the group. The thinner brush allows more delicate brush-play to be expressed in the image.</p>
<p id="p-0046" num="0045">In the present embodiment, the optimum combination of parameters such as the degree of correlation among the pixels forming the same group used for the art conversion process and the basic shape of the group is set for each of the plurality of image styles. The optimum combinations of parameters for the respective tones of image are described in the composition process program <b>102</b><i>a </i>stored in the ROM <b>102</b>. Furthermore, parameters such as the length (distance) and flatness of the group formed of the pixels in the same color (representative color) are set for each aspect (the delicacy of brushstrokes) of the brush-play to be expressed. Additionally, the parameters corresponding to the nature of the brush-play also vary depending on the pictorial style. The parameters determining the nature of the brush-play are also described in the composition process program <b>102</b><i>a </i>stored in the ROM <b>102</b>.</p>
<p id="p-0047" num="0046">The image composition unit <b>14</b> overlays the image element data expressing the image element designated as the foreground image by the image designation unit <b>11</b> on the camera-taken image data expressing the camera-taken image designated as the background image by the image designation unit <b>11</b> to produce composite image data. Furthermore, the image composition unit <b>14</b> overlays the image element data with the art conversion process executed thereon by the image conversion unit <b>13</b> on the camera-taken image data expressing the pictorial image designated as the background image by the image designation unit <b>11</b> to produce composite image data. The image composition unit <b>14</b> is also implemented by the CPU <b>101</b> illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0048" num="0047">The display control unit <b>15</b> allows display unit <b>30</b> to display an image expressed by arbitrary image data recorded in the recording medium <b>40</b> and a composite image expressed by the composite image data produced by the image composition unit <b>14</b>. The display unit <b>15</b> is also implemented by the CPU <b>101</b> illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0049" num="0048">The storage unit <b>16</b> is configured to temporarily store various work data produced for the art conversion process by the image conversion unit <b>13</b> and data of various images that the display control unit <b>15</b> allows the display unit <b>30</b> to display. The storage unit <b>16</b> is implemented by the RAM <b>103</b> illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0050" num="0049">Now, the operation of the DPF <b>1</b> configured as described above will be described. The DPF <b>1</b> is provided with a composite display mode serving as an operation mode that can be appropriately set by the user by operating a predetermined operation key in the operation key group <b>201</b>. The composite display mode is an operation mode in which an arbitrary camera-taken image or pictorial image recorded in the recording medium <b>40</b> as image data is designated as a background image and in which an arbitrary image element recorded in the recording medium <b>40</b> as image data is overlaid on a part of the background image.</p>
<p id="p-0051" num="0050">The specific operation of the DPF <b>1</b> in the composite display mode will be described below. <figref idref="DRAWINGS">FIG. 4</figref> is a flowchart illustrating a process executed by the control unit <b>10</b> (CPU <b>101</b>) in the composite display mode in accordance with the composition process program <b>102</b><i>a </i>stored in the ROM <b>102</b>.</p>
<p id="p-0052" num="0051">In the composite display mode, first, the image designation unit <b>11</b> (CPU <b>101</b>) sequentially detects the operation status of the operation keys and the like in the operation key group <b>201</b> to designate a background image and a foreground image to be compositely displayed (step S<b>1</b>).</p>
<p id="p-0053" num="0052">In the processing in step S<b>1</b>, the image designation unit <b>11</b> reads image data of camera-taken images and pictorial images recorded in the recording medium <b>40</b>. The image designation unit <b>11</b> then displays the images expressed by the read image data, in a list on a screen of the display unit <b>30</b> (display <b>301</b>) as selection candidates. Then, the image designation unit <b>11</b> allows the user to select an image to be used as a background image, via a predetermined key operation. The image designation unit <b>11</b> stores the name of a file of the selected image in the storage unit <b>16</b> (RAM <b>103</b>).</p>
<p id="p-0054" num="0053">Moreover, the image designation unit <b>11</b> reads the image element data recorded in the recording medium <b>40</b>. The image designation unit <b>11</b> displays the image elements expressed by the read image data, in a list on the screen of the display unit <b>30</b> (display <b>301</b>) as selection candidates. Then, the image designation unit <b>11</b> allows the user to select an image to be used as a foreground image, via a predetermined key operation. The image designation unit <b>11</b> then stores the name of a file of the selected image element in the storage unit <b>16</b> (RAM <b>103</b>).</p>
<p id="p-0055" num="0054">Then, the control unit <b>10</b> checks the nature of additional information added to the image data designated as the background image. The control unit <b>10</b> thus determines whether or not the image data designated as the background image is pictorial image data (step S<b>2</b>). In the processing in step S<b>2</b>, the control unit <b>10</b> determines that the image data is pictorial image data if pictorial style data and brush-play data are added to the image data designated as the background image. Conversely, the control unit <b>10</b> determines that the image data is not pictorial image data if pictorial style data and brush-play data are not added to the image data designated as the background image.</p>
<p id="p-0056" num="0055">If the control unit <b>10</b> determines that the image data is not pictorial image data (step S<b>3</b>: NO), the image composition unit <b>14</b> (CPU <b>101</b>) overlays the foreground image (image element) on the background image (camera-taken image) (step S<b>4</b>). That is, the image composition unit <b>14</b> overlays the image data of the image element designated as the foreground image directly on the image data of the camera-taken image designated as the background image to produce composite image data (step S<b>4</b>).</p>
<p id="p-0057" num="0056">Thereafter, the display control unit <b>15</b> (CPU <b>101</b>) transmits the composite image data produced by the image composition unit <b>14</b> to the display unit <b>30</b>. The display unit <b>30</b> displays a composite image in which the foreground image (image element) is overlaid on a part of the background image (camera-taken image) (step S<b>8</b>). Then, the control unit <b>10</b> ends the processing in the composite display mode.</p>
<p id="p-0058" num="0057">On the other hand, if the control unit <b>10</b> determines that the image data is pictorial image data (step S<b>3</b>: YES), then first, the information obtaining unit <b>12</b> (CPU <b>101</b>) reads and supplies the pictorial style and brush-play data added to the pictorial image data, to the image conversion unit <b>13</b> (CPU <b>101</b>) (step S<b>5</b>).</p>
<p id="p-0059" num="0058">Then, the image conversion unit <b>13</b> converts the foreground image (image element) into a pictorial image with a pictorial style and brush-play equivalent to that of the background image (pictorial image) (step S<b>6</b>). That is, the image conversion unit <b>13</b> subjects the image element data designated as the foreground image by the image designation unit <b>11</b>, to an art conversion process using parameters corresponding to the pictorial style indicated by the supplied pictorial style data and the nature of brush-play indicated by the supplied brush-play data. The image conversion unit <b>13</b> thus converts the image element data into the pictorial image data.</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 5A</figref> is a diagram showing an example of an image element G<b>1</b> expressed by image element data not subjected to the art conversion process yet. <figref idref="DRAWINGS">FIG. 5B</figref> is a diagram showing an example of an image element G<b>2</b> expressed by image element data subjected to the art conversion process.</p>
<p id="p-0061" num="0060">Subsequently, the image composition unit <b>14</b> overlays the foreground image corresponding to the pictorial image resulting from the conversion on the background image (step S<b>7</b>). That is, the image composition unit <b>14</b> overlays the pictorial image data resulting from the conversion of the image element data on the image data of the pictorial image designated as the background image to produce composite image data.</p>
<p id="p-0062" num="0061">Thereafter, the display control unit <b>15</b> transmits the composite image data produced by the image composition unit <b>14</b> to the display unit <b>30</b>. The display unit <b>30</b> displays a composite image in which, on a part of the background image (pictorial image), the foreground image (another pictorial image) with a pictorial style and brush-play equivalent to that of the foreground image is overlaid (step S<b>8</b>). Then, the control unit <b>10</b> ends the processing in the composite display mode.</p>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 5C</figref> is a diagram showing an example of a composite image G<b>3</b> obtained when the foreground image is the image element G<b>2</b> illustrated in <figref idref="DRAWINGS">FIG. 5B</figref>.</p>
<p id="p-0064" num="0063">The control unit <b>10</b> executes the above-described process to allow the DPF <b>1</b> to operate as follows in the composite display mode. That is, the DPF <b>1</b> sets an arbitrary camera-taken image or pictorial image specified by the user as a background image, and overlays an arbitrary image element specified by the user on a part of the background image as a foreground image.</p>
<p id="p-0065" num="0064">Here, if the image selected as the background image by the user is a pictorial image, the DPF <b>1</b> temporarily converts the image element selected as the foreground image by the user into a pictorial image with a pictorial style equivalent to that of the pictorial image serving as the background image, and then overlays the pictorial image resulting from the conversion on the pictorial image serving as the background image.</p>
<p id="p-0066" num="0065">Thus, in the finally displayed composite image, the foreground image portion blends in with the background image. That is, the foreground image and the background image can be made visually continuous. Thus, even if the user selects a pictorial image as the background image, a more natural image preventing the user from feeling the image odd can be obtained as a composite image in which the foreground image is overlaid on a part of the background image.</p>
<p id="p-0067" num="0066">Furthermore, in the first embodiment, if the background image is a pictorial image, the image element serving as the foreground image is converted into a pictorial image with not only a pictorial style equivalent to that of the pictorial image serving as the background image but also brush-play equivalent to that of the pictorial image serving as the background image. Thus, in the finally displayed composite image, the foreground image and the background image can be made more visually continuous. Hence, a much more natural image preventing the user from feeling the image odd can be obtained as a composite image in which the foreground image is overlaid on a part of the background image.</p>
<p id="h-0007" num="0000">(Modification and the Like of the First Embodiment)</p>
<p id="p-0068" num="0067">In the description of the first embodiment, it is assumed that the image element used as the foreground image is obtained by allowing an arbitrary apparatus to cut out a part of a camera-taken image. However, in the present invention, the image element used as the foreground image may be an image obtained by cutting off a part of a pictorial image with a certain pictorial style or a pictorial image with a certain pictorial style resulting from pre-conversion. Thus, the DPF <b>1</b> may be configured such that for example, the control unit <b>10</b> executes the following process as an operation in the composite display mode.</p>
<p id="p-0069" num="0068">That is, the control unit <b>10</b> checks both the image designated as the background image during the processing in step S<b>2</b> and the image element designated as the foreground image, for additional information. Then, if only the image designated as the background image is a pictorial image, the control unit <b>10</b> executes the above-described processing in steps S<b>5</b> to S<b>8</b>.</p>
<p id="p-0070" num="0069">Furthermore, if neither the image designated as the background image nor the image element designated as the foreground image is a pictorial image and if both the image designated as the background image and the image element designated as the foreground image are pictorial images, the control unit <b>10</b> (image composition unit <b>14</b>) executes the processing in step S<b>4</b> to overlay the image element designated as the foreground image on the image designated as the background image.</p>
<p id="p-0071" num="0070">Additionally, if only the image designated as the foreground image is a pictorial image, the control unit <b>10</b> (image conversion unit <b>13</b>) temporarily converts the camera-taken image serving as the background image into a pictorial image with a pictorial style and brush-play equivalent to that of the pictorial image serving as the foreground image. Then, the control unit <b>10</b> (image composition unit <b>14</b>) overlays the image element designated as the foreground image on the background image corresponding to the pictorial image resulting from the conversion. The DPF <b>1</b> may adopt the above-described configuration.</p>
<p id="p-0072" num="0071">When the DPF <b>1</b> adopts the configuration in which the control unit <b>10</b> executes the above-described process, even if only the image element used as the foreground image is a pictorial image, the foreground image portion blends in with the background image. Thus, even if only the image element used as the foreground image is a pictorial image, a more natural image preventing the user from feeling the image odd can be obtained as a composite image.</p>
<p id="h-0008" num="0000">(Second Embodiment)</p>
<p id="p-0073" num="0072">Now, a second embodiment of the present invention will be described. The second embodiment relates to another DPF having the same configuration as the DPF <b>1</b> illustrated in <figref idref="DRAWINGS">FIG. 1</figref>; however, in the DPF in the second embodiment, a composition process program <b>102</b><i>a </i>stored in the ROM <b>102</b> allows the CPU <b>101</b> to execute an image designation process, an information obtaining process, an image conversion process, an image composition process, and an image designation control process.</p>
<p id="p-0074" num="0073"><figref idref="DRAWINGS">FIG. 6</figref> is a functional block diagram illustrating essential functions of the DPF <b>501</b> according to the second embodiment. The DPF <b>501</b> includes a control unit <b>10</b>, an operation unit <b>20</b>, and a display unit <b>30</b>. The control unit <b>10</b> includes an image designation unit <b>11</b>, an image designation control unit <b>17</b>, an information obtaining unit <b>12</b>, an image conversion unit <b>13</b>, an image composition unit <b>14</b>, a display control unit <b>15</b>, and a storage unit <b>16</b>.</p>
<p id="p-0075" num="0074">In the second embodiment, in a composite display mode described below, the image designation unit <b>11</b> designates an arbitrary image element stored in a recording medium <b>40</b> as image data, as a foreground image in response to the user's instruction. Furthermore, in the composite display mode described below, the image designation unit <b>11</b> designates, as the foreground image, each one of a plurality of images stored in the recording medium <b>40</b> as image data which image is specified by the image designation unit <b>17</b>.</p>
<p id="p-0076" num="0075">In the composite display mode described below, the image designation control unit <b>17</b> allows the image designation unit <b>11</b> to designate each one of a plurality of pictorial images stored in the recording medium <b>40</b> as image data, as a background image in order, with a sole image element remaining designated as the foreground image. The image designation control unit <b>17</b> is implemented by the CPU <b>101</b> illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0077" num="0076">The components of the second embodiment other than the image designation unit <b>11</b> and the image designation control unit <b>17</b> are the same as the corresponding components of the first embodiment. Thus, the same components of the second embodiment as those illustrated in <figref idref="DRAWINGS">FIG. 2</figref> are denoted by the same reference numbers and will not be described below.</p>
<p id="p-0078" num="0077">Now, the specific operation of the DPF <b>501</b> according to the second embodiment in the composite display mode will be described. <figref idref="DRAWINGS">FIG. 7</figref> is a flowchart illustrating a process executed by the control unit <b>10</b> in the composite display mode in accordance with the composition process program <b>102</b><i>a </i>stored in the ROM <b>102</b>.</p>
<p id="p-0079" num="0078">In the composite display mode, first, the image designation unit <b>11</b> sequentially detects the operation status of operation keys and the like in an operation key group <b>201</b> to designate an arbitrary image element as the foreground image (step S<b>101</b>).</p>
<p id="p-0080" num="0079">In the processing in step S<b>101</b>, the image designation unit <b>11</b> reads image element data recorded in the recording medium <b>40</b>. The image designation unit <b>11</b> then displays image elements expressed by the read image element data, in a list on a screen of the display unit <b>30</b> as selection candidates. Then, the image designation unit <b>11</b> allows the user to select a desired image element via a predetermined key operation. The image designation unit <b>11</b> then stores the name of a file of the selected image element in the storage unit <b>16</b>.</p>
<p id="p-0081" num="0080">Subsequently, the image designation control unit <b>17</b> (CPU <b>101</b>) allows the image designation unit <b>11</b> to designate a pictorial image not designated as the background image yet since the start of the processing in the composite display mode, as the background image (step S<b>102</b>). During the processing in step S<b>102</b>, the image designation unit <b>11</b> stores the name of a file of the pictorial image specified by the image designation control unit <b>17</b>, in the storage unit <b>16</b>.</p>
<p id="p-0082" num="0081">During the processing in step S<b>102</b>, the image designation control unit <b>17</b> determines each one of the pictorial images recorded in the recording medium <b>40</b> as image data to be a processing target in a preset order (in order of the file name or the like). Then, the image designation unit <b>11</b> stores the name of the file of the pictorial image determined to be the processing target by the image designation control unit <b>17</b>, in the storage unit <b>16</b>. The names of the files of the pictorial images each stored in the storage unit <b>16</b> during every processing in step S<b>102</b> are accumulated in order. Thus, the file names are used as information indicative of the pictorial images already designated as the background image.</p>
<p id="p-0083" num="0082">Then, the information obtaining unit <b>12</b> reads pictorial style data and brush-play data added to image data of the pictorial image designated as the background image. The information obtaining unit <b>12</b> then supplies the pictorial style data and the brush-play data to the image conversion unit <b>13</b> (step S<b>103</b>). Then, the image conversion unit <b>13</b> converts the foreground image (image element) into a pictorial image with a pictorial style and brush-play equivalent to that of the background image (pictorial image) (step S<b>104</b>). Subsequently, the image composition unit <b>14</b> produces composite image data in which the foreground image corresponding to the pictorial image resulting from the conversion is overlaid on the background image (step S<b>105</b>). Thereafter, the display control unit <b>15</b> transmits the composite image data produced by the image composition unit <b>14</b> to the display unit <b>30</b>. The display unit <b>30</b> displays a composite image in which, on a part of the background image (pictorial image), the foreground image (another pictorial image) with a pictorial style and brush-play equivalent to that of the foreground image is overlaid (step S<b>106</b>).</p>
<p id="p-0084" num="0083">The specific nature of the processing in steps S<b>103</b> to S<b>106</b> executed by the information obtaining unit <b>12</b>, the image conversion unit <b>13</b>, the image composition unit <b>14</b>, and the display control unit <b>15</b> is the same as that of the processing in steps S<b>5</b> to S<b>8</b> illustrated in <figref idref="DRAWINGS">FIG. 4</figref> for the first embodiment.</p>
<p id="p-0085" num="0084">Subsequently, in the second embodiment, the image designation control unit <b>17</b> determines whether or not any of the plurality of pictorial images recorded in the recording medium <b>40</b> as image data has been undesignated as the background image since the start of the processing in the composite display mode (step S<b>107</b>). The image designation control unit <b>17</b> executes the determination in the processing in step S<b>107</b> by checking information indicative of the already designate pictorial images sequentially stored in the storage unit <b>16</b> during the processing in step S<b>102</b>.</p>
<p id="p-0086" num="0085">While there remain pictorial images not designated as the background image yet (step S<b>107</b>: YES), the image designation control unit <b>17</b> allows the image designation unit <b>11</b> to designate the new pictorial images not designated as the background yet, as the background image in order (step S<b>102</b>). Moreover, the information obtaining unit <b>12</b>, the image conversion unit <b>13</b>, the image composition unit <b>14</b>, and the display control unit <b>15</b> repeatedly execute the processing in step S<b>103</b> to step S<b>106</b>.</p>
<p id="p-0087" num="0086">The processing in step S<b>103</b> to step S<b>106</b> is repeated to allow the display unit <b>30</b> to display composite images changed as described below, in order. That is, the display unit <b>30</b> displays composite images in order in which only the background image is sequentially switched between different pictorial images, with a sole image element remaining designated as the foreground image. At the same time, in the composite images displayed on the display unit <b>30</b> in order, every time the background image is switched, the pictorial style and brush-play of the foreground image change to become equivalent to that of the new background image resulting from the switching.</p>
<p id="p-0088" num="0087">Then, when the image designation control unit <b>17</b> determines that none of the plurality of pictorial images recorded in the recording medium as image data have been undesignated as the background image (step S<b>107</b>: NO), the control unit <b>10</b> ends the processing in the composite display mode.</p>
<p id="p-0089" num="0088">In the second embodiment described above, plural types of composite images can be automatically displayed which use the same image element specified as the foreground by the user, with different pictorial images used as the background image. Furthermore, the image element used as the foreground image offers a pictorial style and brush-play equivalent to that of each of the pictorial images used as the background image. Thus, the present embodiment can provide plural types of composite images with only the background image varied which images are more natural and prevent the user from feeling the images odd.</p>
<p id="p-0090" num="0089">Even in the configuration automatically displaying different composite images with only the background image switched among different pictorial images as in the case of the second embodiment, the foreground image may be provided with exclusively the same pictorial style as that of the pictorial image corresponding to the background image.</p>
<p id="p-0091" num="0090">Furthermore, in the second embodiment, the image designation control unit <b>17</b> allows the image designation unit <b>11</b> to designate only the pictorial images recorded in the recording medium <b>40</b> as image data, as the background image in order. However, in the practice of the present invention, the image designation control unit <b>17</b> may allow the image designation unit <b>11</b> to designate each one of the pictorial images and the camera-taken images recorded in the recording medium <b>40</b> as image data, as the background image in order.</p>
<p id="p-0092" num="0091">In the configuration in which the image designation control unit <b>17</b> allows the image designation unit <b>11</b> to designate each one of the pictorial images and the camera-taken images as the background image in order, the image conversion unit <b>13</b> may convert the foreground image into a pictorial image with a pictorial style and brush-play equivalent to that of the background image exclusively when a pictorial image is designated as the background image.</p>
<p id="h-0009" num="0000">(Third Embodiment)</p>
<p id="p-0093" num="0092">Now, a third embodiment of the present invention will be described. The third embodiment relates to another DPF having the same configuration as the DPF <b>1</b> illustrated in <figref idref="DRAWINGS">FIG. 1</figref> and the same functions illustrated in <figref idref="DRAWINGS">FIG. 6</figref> as the DPF <b>501</b> according to the second embodiment.</p>
<p id="p-0094" num="0093">In the third embodiment, in a composite display mode described below, an image designation unit <b>11</b> designates an arbitrary image element stored in a recording medium <b>40</b> as image data, as a background image in response to the user's instruction. Furthermore, in the composite display mode described below, the image designation unit <b>11</b> designates, as a foreground image, one of a plurality of image elements stored in the recording medium <b>40</b> as image data which image element is specified by an image designation unit <b>17</b>.</p>
<p id="p-0095" num="0094">In the composite display mode described below, the image designation control unit <b>17</b> allows the image designation unit <b>11</b> to designate each one of the plurality of image elements stored in the recording medium <b>40</b> as image data, as the foreground image in order, with a sole pictorial image remaining designated as the background image.</p>
<p id="p-0096" num="0095">Now, the specific operation of the DPF according to the third embodiment in the composite display mode will be described. <figref idref="DRAWINGS">FIG. 8</figref> is a flowchart illustrating a process executed by a control unit <b>10</b> in the composite display mode in accordance with a composition process program <b>102</b><i>a </i>stored in the ROM <b>102</b>.</p>
<p id="p-0097" num="0096">In the composite display mode, first, the image designation unit <b>11</b> sequentially detects the operation status of operation keys and the like in an operation key group <b>201</b> to designate an arbitrary pictorial image as the background image (step S<b>201</b>).</p>
<p id="p-0098" num="0097">In the processing in step S<b>201</b>, the image designation unit <b>11</b> reads a plurality of pictorial image data recorded in the recording medium <b>40</b>. The image designation unit <b>11</b> then displays pictorial images expressed by the read pictorial image data, in a list on a screen of the display unit <b>30</b> as selection candidates. Then, the image designation unit <b>11</b> allows the user to select a desired image element via a predetermined key operation. The image designation unit <b>11</b> then stores the name of a file of the selected pictorial image in the storage unit <b>16</b>.</p>
<p id="p-0099" num="0098">Subsequently, the image designation control unit <b>17</b> allows the image designation unit <b>11</b> to designate an image element not designated as the foreground image yet since the start of the processing in the composite display mode, as the foreground image (step S<b>202</b>). During the processing in step S<b>202</b>, the image designation unit <b>11</b> stores the name of a file of the image element specified by the image designation control unit <b>17</b>, in the storage unit <b>16</b>.</p>
<p id="p-0100" num="0099">During the processing in step S<b>202</b>, the image designation control unit <b>17</b> determines each one of the image elements recorded in the recording medium <b>40</b> as image data to be a processing target in a preset order (in order of the file name or the like). Then, the image designation unit <b>11</b> stores the name of the file of the image element determined to be the processing target by the image designation control unit <b>17</b>, in the storage unit <b>16</b>. The names of the files of the image elements each stored in the storage unit <b>16</b> during every processing in step S<b>202</b> are accumulated in order. Thus, the file names are used as information indicative of the image elements already designated as the foreground image.</p>
<p id="p-0101" num="0100">Then, an information obtaining unit <b>12</b> reads pictorial style data and brush-play data added to image data of the pictorial image designated as the background image. The information obtaining unit <b>12</b> then supplies the pictorial style data and the brush-play data to an image conversion unit <b>13</b> (step S<b>203</b>). Then, the image conversion unit <b>13</b> converts the foreground image (image element) into a pictorial image with a pictorial style and brush-play equivalent to that of the background image (pictorial image) (step S<b>204</b>). Subsequently, an image composition unit <b>14</b> produces composite image data in which the foreground image corresponding to the pictorial image resulting from the conversion is overlaid on the background image (step S<b>205</b>). Thereafter, a display control unit <b>15</b> transmits the composite image data produced by the image composition unit <b>14</b> to a display unit <b>30</b>. The display unit <b>30</b> displays a composite image in which, on a part of the background image (pictorial image), the foreground image (another pictorial image) with a pictorial style and brush-play equivalent to that of the foreground image is overlaid (step S<b>206</b>).</p>
<p id="p-0102" num="0101">The specific nature of the processing in steps S<b>203</b> to S<b>206</b> executed by the information obtaining unit <b>12</b>, the image conversion unit <b>13</b>, the image composition unit <b>14</b>, and the display control unit <b>15</b> is the same as that of the processing in steps S<b>5</b> to S<b>8</b> illustrated in <figref idref="DRAWINGS">FIG. 4</figref> for the first embodiment.</p>
<p id="p-0103" num="0102">Subsequently, in the third embodiment, the image designation control unit <b>17</b> determines whether or not any of the plurality of image elements recorded in the recording medium <b>40</b> as image data has been undesignated as the background image since the start of the processing in the composite display mode (step S<b>207</b>). The image designation control unit <b>17</b> executes the determination in the processing in step S<b>207</b> by checking information indicative of the already designated image elements sequentially stored in the storage unit <b>16</b> during the processing in step S<b>202</b>.</p>
<p id="p-0104" num="0103">While there remain pictorial images not designated as the foreground image yet (step S<b>207</b>: YES), the image designation control unit <b>17</b> allows the image designation unit <b>11</b> to designate the new image elements not designated as the foreground yet, as the foreground image in order (step S<b>202</b>). Moreover, the information obtaining unit <b>12</b>, the image conversion unit <b>13</b>, the image composition unit <b>14</b>, and the display control unit <b>15</b> repeatedly execute the processing in step S<b>203</b> to step S<b>206</b>.</p>
<p id="p-0105" num="0104">The processing in step S<b>203</b> to step S<b>206</b> is repeated to allow the display unit <b>30</b> to display composite images changed as described below, in order. That is, the display unit <b>30</b> displays composite images in order in which only the foreground image is sequentially switched between different image elements, with the background image remaining the same pictorial image. At the same time, in the composite images displayed on the display unit <b>30</b> in order, every time the background image is switched, all new foreground images corresponding to the sequentially switched image elements are provided with the same pictorial style and brush-play as that of the background image.</p>
<p id="p-0106" num="0105">Then, when the image designation control unit <b>17</b> determines that none of the plurality of image elements recorded in the recording medium <b>40</b> as image data have been undesignated as the background image (step S<b>207</b>: NO), the control unit <b>10</b> ends the processing in the composite display mode.</p>
<p id="p-0107" num="0106">During the second and subsequent processing in steps S<b>203</b> to step S<b>206</b> after the start of the processing in the composite display mode, the processing in step S<b>203</b> executed by the information obtaining unit <b>12</b> may be omitted. If the processing in step S<b>203</b> is omitted, then in the processing in step S<b>204</b>, the image conversion unit <b>13</b> may execute an art conversion process using parameters equivalent to those used for the first processing.</p>
<p id="p-0108" num="0107">In the third embodiment described above, plural types of composite images can be automatically displayed which use the same pictorial image specified as the background by the user, with different image elements used as the foreground image. Furthermore, each one of the image elements used as the foreground image offers a pictorial style and brush-play equivalent to that of the pictorial image used as the background image. Thus, the present embodiment can provide plural types of composite images with only the foreground image varied which images are more natural and prevent the user from feeling the images odd.</p>
<p id="p-0109" num="0108">Even in the configuration automatically displaying different composite images with only the foreground image switched among different image elements as in the case of the third embodiment, each one of the foreground images may be provided with exclusively the same pictorial style as that of the pictorial image corresponding to the background image.</p>
<p id="h-0010" num="0000">(Modifications and the Like of the First Embodiment to the Third Embodiment)</p>
<p id="p-0110" num="0109">Here, modifications of the first embodiment, the second embodiment, and the third embodiment (these embodiments are hereinafter collectively referred to as the present embodiment) will be described. In the description of the present embodiment, pictorial style data and brush-play data are stored in the file header area of a still image file; the pictorial style data is indicative of the pictorial style of each pictorial image stored in the recording medium <b>40</b> as image data, and the brush-play data is indicative of the nature of brush-play expressed in the pictorial image. However, the pictorial style data and the brush-play data may be stored in the recording medium <b>40</b> separately from the pictorial image data, provided that the correspondence relationship between the pictorial image data and both the pictorial style data and the brush-play data can be determined.</p>
<p id="p-0111" num="0110">Furthermore, in the description of the present embodiment, the art conversion process executed by the image conversion unit <b>13</b> involves collecting strongly correlated ones of the pixels forming the image data based on colors or the like, grouping the collected pixels, and for the pixels in each group, replacing the colors of the pixels in the same group with the representative color for the group. However, the specific technique for the art conversion process executed by the image conversion unit <b>13</b> may be appropriately changed.</p>
<p id="p-0112" num="0111">Additionally, in the description of the present embodiment, the present invention is adopted for the DPF. The present invention is applicable to apparatuses other than the DPF, provided that the apparatus has an image composition function to overlay, on a part of an image corresponding to the background, another image corresponding to the foreground. Another apparatuses to which the present invention is applicable include, for example, a digital camera, any mobile information terminal such as a mobile phone terminal which contains a digital camera, and a general-purpose personal computer.</p>
<p id="p-0113" num="0112">In addition, mainly the configuration has been described in which a part of an image corresponding to the background and another image corresponding to the foreground are compositely displayed. However, in the present invention, the output form of composite images is not limited to display. Thus, the present invention is applicable to other apparatuses such as a printer which do not have a function to display composite images.</p>
<p id="p-0114" num="0113">Additional advantages and modifications will readily occur to those skilled in the art. Therefore, the invention in its broader aspects is not limited to the specific details and representative embodiments shown and described herein. Accordingly, various modifications may be made without departing from the spirit or scope of the general inventive concept as defined by the appended claims and their equivalents.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An image composition apparatus configured to produce a composite image in which a foreground image is overlaid on a part of a background image, the apparatus comprising:
<claim-text>an image designation unit configured to designate a pair of images used as the background image and the foreground image;</claim-text>
<claim-text>an information obtaining unit configured to, when one image of the pair of images is a pictorial image with a certain pictorial style, obtain pictorial style information indicative of the pictorial style of the one image of the pair of images;</claim-text>
<claim-text>an image conversion unit configured to convert the other image of the pair of images into a pictorial image with the pictorial style indicated by the pictorial style information obtained by the information obtaining unit;</claim-text>
<claim-text>a composition unit configured to produce a composite image from a combination of the pictorial image corresponding to the one image of the pair of images and the pictorial image resulting from the conversion by the image conversion unit of the other image of the pair of images; and</claim-text>
<claim-text>an output unit configured to output the composite image produced by the composition unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the information obtaining unit obtains, together with the pictorial style information, brush-play information indicative of a nature of brush-play expressed in the pictorial image corresponding to the one image of the pair of images, and
<claim-text>the image conversion unit converts the other image of the pair of images into a pictorial image with the pictorial style indicated by the pictorial style information obtained by the information obtaining unit and with brush-play expressed therein, the brush-play being indicated by the brush-play information obtained by the information obtaining unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising an image designation control unit configured to allow the image designation unit to designate each one of a plurality of pictorial images each with a certain pictorial style as the background image in order, with a sole image remaining designated as the background image, wherein
<claim-text>every time the image designation control unit allows the image designation unit to designate a new pictorial image as the background image, the information obtaining unit obtains the pictorial style information indicative of the pictorial style of the new pictorial image, the image conversion unit converts the sole image into a pictorial image with the pictorial style indicated by the pictorial style information obtained by the information obtaining unit, the composition unit produces a composite image from a combination of the new pictorial image and the pictorial image resulting from the conversion by the image conversion unit of the sole image, and the output unit outputs the composite image produced by the composition unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising an image designation control unit configured to allow the image designation unit to designate each one of a plurality of images as the foreground image in order, with a sole pictorial image with a certain pictorial style remaining designated as the background image, wherein
<claim-text>the information obtaining unit obtains pictorial style information indicative of the pictorial style of the sole pictorial image that the image designation control unit allows the image designation unit to designate as the background image, and</claim-text>
<claim-text>every time the image designation control unit allows the image designation unit to designate a new pictorial image as the foreground image, the image conversion unit converts the new pictorial image into a pictorial image with the pictorial style indicated by the pictorial style information obtained by the information obtaining unit, the composition unit produces a composite image from a combination of the sole pictorial image and the pictorial image resulting from the conversion by the image conversion unit of the new pictorial image, and the output unit outputs the composite image produced by the composition unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A non-transitory computer-readable storage medium having program code stored thereon for controlling an image composition apparatus configured to produce a composite image in which a foreground image is overlaid on a part of a background image, the program code comprising:
<claim-text>designating a pair of images used as the background image and the foreground image;</claim-text>
<claim-text>obtaining, when one image of the pair of images is a pictorial image with a certain pictorial style, pictorial style information indicative of the pictorial style of the one image of the pair of images;</claim-text>
<claim-text>converting the other image of the pair of images into a pictorial image with the pictorial style indicated by the pictorial style information; and</claim-text>
<claim-text>producing a composite image from a combination of the pictorial image corresponding to the one image of the pair of images and the pictorial image resulting from the conversion of the other image of the pair of images. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
