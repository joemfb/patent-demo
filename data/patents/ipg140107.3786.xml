<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624852-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624852</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12731853</doc-number>
<date>20100325</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2009-128976</doc-number>
<date>20090528</date>
</priority-claim>
<priority-claim sequence="02" kind="national">
<country>JP</country>
<doc-number>2009-135857</doc-number>
<date>20090605</date>
</priority-claim>
<priority-claim sequence="03" kind="national">
<country>JP</country>
<doc-number>2010-027688</doc-number>
<date>20100210</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>958</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>3</main-group>
<subgroup>041</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>3</main-group>
<subgroup>043</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>09</class>
<subclass>G</subclass>
<main-group>3</main-group>
<subgroup>36</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>R</subclass>
<main-group>27</main-group>
<subgroup>26</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>345173</main-classification>
<further-classification>345 87</further-classification>
<further-classification>345177</further-classification>
<further-classification>324658</further-classification>
</classification-national>
<invention-title id="d2e108">Semiconductor device for determining whether touch electrode is touched by human body, and touch sensor using the semiconductor device</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7205776</doc-number>
<kind>B2</kind>
<name>Kinoshita et al.</name>
<date>20070400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2007/0075710</doc-number>
<kind>A1</kind>
<name>Hargreaves et al.</name>
<date>20070400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>324658</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2007/0285365</doc-number>
<kind>A1</kind>
<name>Lee</name>
<date>20071200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345 87</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2008/0231612</doc-number>
<kind>A1</kind>
<name>Hill et al.</name>
<date>20080900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345177</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>JP</country>
<doc-number>2006-078292</doc-number>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>JP</country>
<doc-number>2009-042903</doc-number>
<date>20090200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>13</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>323320</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>324658</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327170</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345173-174</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345 87</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>349 54</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370335</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>31</number-of-drawing-sheets>
<number-of-figures>57</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20100302183</doc-number>
<kind>A1</kind>
<date>20101202</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Kogo</last-name>
<first-name>Teruyuki</first-name>
<address>
<city>Itami</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Umemoto</last-name>
<first-name>Kazuhiro</first-name>
<address>
<city>Itami</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Kogo</last-name>
<first-name>Teruyuki</first-name>
<address>
<city>Itami</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Umemoto</last-name>
<first-name>Kazuhiro</first-name>
<address>
<city>Itami</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>McDermott Will &#x26; Emery LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Renesas Electronics Corporation</orgname>
<role>03</role>
<address>
<city>Kanagawa</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Wang</last-name>
<first-name>Quan-Zhen</first-name>
<department>2693</department>
</primary-examiner>
<assistant-examiner>
<last-name>Li</last-name>
<first-name>Lin</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A touch sensor IC includes a switch for connecting, to an external terminal with its voltage to be sensed, a selected one of a plurality of external terminals to which a plurality of touch electrodes is connected. Only one set of two capacitors and a resistor element may therefore be provided for a plurality of touch electrodes. Thus, the number of required components is smaller as compared with a conventional sensor requiring two capacitors and a resistor element for each touch electrode.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="162.98mm" wi="211.92mm" file="US08624852-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="212.77mm" wi="177.88mm" orientation="landscape" file="US08624852-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="210.48mm" wi="116.59mm" file="US08624852-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="253.07mm" wi="174.33mm" orientation="landscape" file="US08624852-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="238.17mm" wi="154.09mm" file="US08624852-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="85.77mm" wi="181.10mm" file="US08624852-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="243.59mm" wi="185.93mm" orientation="landscape" file="US08624852-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="229.95mm" wi="93.90mm" orientation="landscape" file="US08624852-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="227.67mm" wi="156.89mm" orientation="landscape" file="US08624852-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="266.11mm" wi="168.06mm" orientation="landscape" file="US08624852-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="252.31mm" wi="186.52mm" file="US08624852-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="188.64mm" wi="177.55mm" file="US08624852-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="264.41mm" wi="175.01mm" orientation="landscape" file="US08624852-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="268.90mm" wi="196.68mm" file="US08624852-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="258.49mm" wi="157.90mm" orientation="landscape" file="US08624852-20140107-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="232.58mm" wi="87.55mm" orientation="landscape" file="US08624852-20140107-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="264.92mm" wi="173.40mm" orientation="landscape" file="US08624852-20140107-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="270.09mm" wi="177.80mm" orientation="landscape" file="US08624852-20140107-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="259.16mm" wi="172.64mm" orientation="landscape" file="US08624852-20140107-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="255.52mm" wi="182.03mm" orientation="landscape" file="US08624852-20140107-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="265.43mm" wi="187.11mm" orientation="landscape" file="US08624852-20140107-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00021" num="00021">
<img id="EMI-D00021" he="255.19mm" wi="187.03mm" orientation="landscape" file="US08624852-20140107-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00022" num="00022">
<img id="EMI-D00022" he="267.21mm" wi="173.23mm" orientation="landscape" file="US08624852-20140107-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00023" num="00023">
<img id="EMI-D00023" he="271.02mm" wi="193.63mm" orientation="landscape" file="US08624852-20140107-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00024" num="00024">
<img id="EMI-D00024" he="262.55mm" wi="184.91mm" orientation="landscape" file="US08624852-20140107-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00025" num="00025">
<img id="EMI-D00025" he="255.27mm" wi="173.91mm" orientation="landscape" file="US08624852-20140107-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00026" num="00026">
<img id="EMI-D00026" he="263.99mm" wi="171.53mm" orientation="landscape" file="US08624852-20140107-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00027" num="00027">
<img id="EMI-D00027" he="256.62mm" wi="174.75mm" orientation="landscape" file="US08624852-20140107-D00027.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00028" num="00028">
<img id="EMI-D00028" he="263.91mm" wi="171.96mm" orientation="landscape" file="US08624852-20140107-D00028.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00029" num="00029">
<img id="EMI-D00029" he="255.35mm" wi="183.13mm" orientation="landscape" file="US08624852-20140107-D00029.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00030" num="00030">
<img id="EMI-D00030" he="258.23mm" wi="179.07mm" orientation="landscape" file="US08624852-20140107-D00030.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00031" num="00031">
<img id="EMI-D00031" he="211.16mm" wi="166.71mm" file="US08624852-20140107-D00031.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">The present invention relates to a semiconductor device and a touch sensor, and particularly to a semiconductor device for determining whether or not a touch electrode is touched by a human body as well as a touch sensor using the semiconductor device.</p>
<p id="p-0004" num="0003">2. Description of the Background Art</p>
<p id="p-0005" num="0004">Touch sensors that determine whether or not a touch electrode is touched by a human body, based on a change in capacitance of the touch electrode, are becoming widespread in these years. Conventional touch sensors are each configured to include a plurality of touch electrodes, two capacitors and a resistor element provided for each touch electrode, an IC (Integrated Circuit) for use in the touch sensor (hereinafter &#x201c;touch sensor IC&#x201d;), and a general-purpose microcomputer (see for example Japanese Patent Laying-Open No. 2006-078292).</p>
<p id="p-0006" num="0005">Japanese Patent Laying-Open No. 2009-042903 discloses a capacitive sensing apparatus configured as follows. Specifically, the capacitive sensing apparatus is equipped with a display apparatus and manipulated according to a display. Specifically the capacitive sensing apparatus includes display means for producing the display, a transparent sensing electrode laid on a display surface of the display means, charging and discharging means for repeatedly charging and discharging the sensing electrode, power storage means changing the voltage according to a charge supplied to and released from the sensing electrode through repeated charging and discharging of the sensing electrode, determination means for making a determination as to whether a value that changes according to a change in voltage of the power storage means has reached a threshold, capacitance calculation means for calculating a capacitance of the sensing electrode based on the number of times the charging and discharge means charges and discharges before the determination is made by the determination means, and control means for controlling the whole state and operation. The determination means makes a comparison between the value that changes according to a change in voltage of the power storage means and the threshold, each time the charging and discharging means charges and discharges. When the value is equal to or more than the threshold in two or more successive comparisons, the determination means determines that the threshold has been reached.</p>
<p id="p-0007" num="0006">The conventional touch sensor having two capacitors and a resistor element for each of a plurality of touch electrodes, however, has a problem that a large number of externally-mounted components is required for the touch sensor IC. An increased number of externally-mounted components leads to an increased size of the touch sensor and increased cost. Further, because of a greater influence of difference between the externally-mounted components, malfunction is more likely to occur. In addition, an increased number of external terminals of the touch sensor IC is required for connecting the externally-mounted components.</p>
<p id="p-0008" num="0007">In the conventional touch sensor, a CPU of the microcomputer executes software (program) to control the touch sensor IC and determine whether or not a touch electrode is touched by a human body. Then, another problem arises that the microcomputer has to bear a heavy load, resulting in increased power consumption.</p>
<p id="p-0009" num="0008">As for Japanese Patent Laying-Open No. 2006-078292, a measurement of voltage is taken per charging/discharging. In the case where noise is generated in the period in which the measurement is taken, the measurement as taken could be in error depending on the intensity of the noise. As for Japanese Patent Laying-Open No. 2009-042903, a plurality of measurement periods is provided per charging/discharging and a measurement of voltage is taken in each measurement period. In the case where noise is generated in this measurement period, it is highly possible that the measurement as taken is in error depending on the characteristics of the noise. Japanese Patent Laying-Open No. 2009-042903 discloses that multiple measurements are taken with the aim of reducing noise from the display apparatus. The noise from the display apparatus has a relatively high frequency, and Japanese Patent Laying-Open No. 2009-042903 is based on the assumption that noise will be detected in a relatively small number of measurement periods among the multiple measurement periods. In contrast, when a touch electrode is touched by a human body and noise of a relatively low frequency arises from the human body, the noise is detected in a greater number of measurement periods among the multiple measurement periods.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0010" num="0009">A chief object of the present invention is therefore to provide a semiconductor device with which the number of components of a touch sensor can be reduced as well as a touch sensor using the semiconductor device.</p>
<p id="p-0011" num="0010">Another object of the invention is to provide a semiconductor device capable of lessening the influence of noise and thereby appropriately determining whether a touch electrode is touched by a human body, as well as a touch sensor using the semiconductor device.</p>
<p id="p-0012" num="0011">A semiconductor device according to the present invention includes: a plurality of first terminals connected to a plurality of touch electrodes, respectively; a second terminal connected via a capacitor to a line of a reference voltage; a switch circuit for connecting, to a predetermined node, one of the plurality of first terminals that is associated with a touch electrode selected from the plurality of touch electrodes; and a charging and discharging circuit for performing a charging operation of charging the capacitor, a discharging operation of releasing a charge from the selected touch electrode, and a distributing operation of distributing a charge of the capacitor via the predetermined node to the selected touch electrode. Whether the selected touch electrode is touched by a human body is determined based on a voltage of the predetermined node.</p>
<p id="p-0013" num="0012">The semiconductor device of the present invention includes the switch circuit for connecting, to a predetermined node with its voltage to be sensed, a touch electrode selected from a plurality of touch electrodes. Therefore, only one capacitor is enough for a plurality of touch electrodes. The number of components of the touch sensor can thus be reduced.</p>
<p id="p-0014" num="0013">Preferably, the charging and discharging circuit alternately performs the discharging operation and the distributing operation after performing the charging operation. The semiconductor device includes a sensing circuit for making a comparison N times (N is an integer of not less than 2), at respective timings different from each other in a measurement period from a start of the distributing operation to a start of the subsequent discharging operation, between the voltage of the predetermined node and a predetermined threshold voltage, and generating, based on a result of the comparison made N times, a signal representing whether the selected touch electrode is touched by a human body.</p>
<p id="p-0015" num="0014">In this way, the influence of low frequency and high frequency noises can be lessened, and whether a touch electrode is touched by a human body can be appropriately determined.</p>
<p id="p-0016" num="0015">The foregoing and other objects, features, aspects and advantages of the present invention will become more apparent from the following detailed description of the present invention when taken in conjunction with the accompanying drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 1</figref> shows a configuration of a touch sensor according to a first embodiment of the present invention.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 2</figref> is a circuit diagram illustrating a configuration of a driver shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIGS. 3A to 3C</figref> are each a time chart illustrating an operation of the touch sensor shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram illustrating main components of a control circuit shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a layout of a touch sensor IC shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram illustrating main components of a control circuit of a touch sensor according to a second embodiment of the present invention.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 7</figref> is a flowchart specifying an operational procedure for sensing a touch by the touch sensor including the control circuit shown in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 8</figref> is a waveform chart illustrating a voltage determining operation of the touch sensor including the control circuit shown in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIGS. 9A and 9B</figref> illustrate a counting operation of a primary counter and a secondary counter shown in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIGS. 10A and 10B</figref> illustrate an example of the measuring operation of the touch sensor including the control circuit shown in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 11</figref> illustrates a voltage determining operation of a touch sensor according to a third embodiment of the present invention.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 12</figref> illustrates a determination timing storage register included in the touch sensor as described with <figref idref="DRAWINGS">FIG. 11</figref>.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 13</figref> is a block diagram illustrating a configuration of a control circuit of a touch sensor according to a fourth embodiment of the present invention.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 14</figref> illustrates a configuration of a clock delay selection circuit shown in <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 15</figref> illustrates a voltage determining operation of the touch sensor including the control circuit shown in <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIGS. 16A and 16B</figref> illustrate an example of the measuring operation of the touch sensor including the control circuit shown in <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIGS. 17A and 17B</figref> illustrate a method for processing results of determination about the level of voltage VO in a control circuit of a touch sensor according to a fifth embodiment of the present invention.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIGS. 18A and 18B</figref> illustrate an example of the measuring operation by means of the control circuit of the touch sensor as described with <figref idref="DRAWINGS">FIGS. 17A and 17B</figref>.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 19</figref> is a waveform chart illustrating a voltage determining operation of a touch sensor according to a sixth embodiment of the present invention.</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIGS. 20A and 20B</figref> to <figref idref="DRAWINGS">FIGS. 34A and 34B</figref> illustrate respective examples of the measuring operation by means of respective control circuits of touch sensors according to the seventh to twenty-first embodiments of the present invention, respectively.</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 35</figref> illustrates a configuration of a touch sensor according to a twenty-second embodiment of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0038" num="0037">Embodiments of the present invention will be hereinafter described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and a description thereof will not be repeated.</p>
<heading id="h-0005" level="1">First Embodiment</heading>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a configuration of a touch sensor according to a first embodiment of the present invention.</p>
<p id="p-0040" num="0039">Referring to <figref idref="DRAWINGS">FIG. 1</figref>, touch sensor <b>101</b> includes an IC (semiconductor device) <b>1</b> for use in the touch sensor (hereinafter &#x201c;touch sensor IC&#x201d;), n (n is an integer of not less than two) touch electrodes EL<b>1</b> to ELn, capacitors <b>6</b>, <b>8</b>, a resistor element <b>7</b>, and a microcomputer <b>9</b>.</p>
<p id="p-0041" num="0040">Touch sensor IC <b>1</b> includes a plurality of external terminals TA<b>1</b> to TA<b>3</b>, TB<b>1</b> to TBn, TC<b>1</b> to TCm (m is an integer of not less than one), drivers (charging and discharging circuit) <b>2</b> to <b>4</b>, switches SA<b>1</b> to SA<b>3</b>, SB<b>1</b> to SBn, and a control circuit <b>5</b>.</p>
<p id="p-0042" num="0041">Capacitor <b>6</b> has one electrode connected to external terminal TA<b>1</b> and the other electrode receiving ground voltage GND. The capacitance of capacitor <b>6</b> is set for example to approximately 0.1 &#x3bc;F. Resistor element <b>7</b> is connected between external terminals TA<b>1</b> and TA<b>2</b>. The resistance of resistor element <b>7</b> is set for example to approximately 3 to 10 k&#x3a9;. Capacitor <b>8</b> is connected between external terminals TA<b>2</b> and TA<b>3</b>. The capacitance of capacitor <b>8</b> is set for example to approximately 1 to 50 pF.</p>
<p id="p-0043" num="0042">Touch electrodes EL<b>1</b> to ELn are connected to external terminals TB<b>1</b> to TBn, respectively. Touch electrode EL has its surface covered with an insulating layer, and thus a capacitor is formed by touch electrode EL. Namely, touch electrode EL has a predetermined capacitance and the capacitance changes depending on the presence or absence of a touch with a human body (human fingertip for example). In <figref idref="DRAWINGS">FIG. 1</figref>, respective capacitances of touch electrodes EL<b>1</b> to ELn are represented by variable-capacitance capacitors CX<b>1</b> to CXn. The capacitance of touch electrode EL when touch electrode EL is touched by a human body (11 pF for example) is larger than the capacitance of touch electrode EL when not touched by a human body (10 pF for example). Touch electrodes EL<b>1</b> to ELn are constituent elements of a touch panel of an electrical device (portable terminal for example).</p>
<p id="p-0044" num="0043">Microcomputer <b>9</b> is connected to external terminals TC<b>1</b> to TCm and controls touch sensor IC <b>1</b>. Further, microcomputer <b>9</b> receives, from touch sensor IC <b>1</b>, a signal indicating whether touch electrodes EL<b>1</b> to ELn are each touched by a human body and, in response to the signal, controls the electrical device to be controlled.</p>
<p id="p-0045" num="0044">Respective output nodes of drivers <b>2</b> to <b>4</b> are connected to external terminals TA<b>1</b> to TA<b>3</b>. Drivers <b>2</b> to <b>4</b> are each controlled by control circuit <b>5</b>, and control associated external terminal TA so that external terminal TA is set into an &#x201c;H&#x201d; level (power supply voltage VCC) state, &#x201c;L&#x201d; level (ground voltage GND) state or HiZ (high impedance) state. Drivers <b>2</b> to <b>4</b> are provided for charging and discharging capacitors <b>6</b>, <b>8</b>, CX to CXn.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 2</figref> is a circuit diagram showing a configuration of driver <b>2</b>. Referring to <figref idref="DRAWINGS">FIG. 2</figref>, driver <b>2</b> includes a P-channel MOS transistor <b>10</b> and an N-channel MOS transistor <b>11</b>. Transistor <b>10</b> has its source receiving power supply voltage VCC, its drain connected to external terminal TA<b>1</b> and its gate receiving control signal CP from control circuit <b>5</b>. Transistor <b>11</b> has its source receiving ground voltage GND, its drain connected to external terminal TA<b>1</b> and its gate receiving control signal CN from control circuit <b>5</b>. A connection node between respective drains of transistors <b>10</b> and <b>11</b> is an output node of driver <b>2</b>.</p>
<p id="p-0047" num="0046">When both of control signals CP, CN are set to &#x201c;L&#x201d; level, transistor <b>10</b> is turned on, transistor <b>11</b> is turned off and the output node of driver <b>2</b> is set to &#x201c;H&#x201d; level. When both of control signals CP, CN are set to &#x201c;H&#x201d; level, transistor <b>10</b> is turned off, transistor <b>11</b> is turned on and the output node of driver <b>2</b> is set to &#x201c;L&#x201d; level. When control signals CP, CN are set respectively to &#x201c;L&#x201d; level and &#x201c;H&#x201d; level, both of transistors <b>10</b>, <b>11</b> are turned off and the output node of driver <b>2</b> is set to the HiZ state. Drivers <b>3</b>, <b>4</b> are configured in the same way as driver <b>2</b>.</p>
<p id="p-0048" num="0047">Referring again to <figref idref="DRAWINGS">FIG. 1</figref>, switch SA<b>1</b> has one terminal connected to external terminal TA<b>1</b>, switch SA<b>2</b> has one terminal connected to external terminal TA<b>2</b> and switch SA<b>3</b> has one terminal connected to external terminal TA<b>3</b>. Respective other terminals of switches SA<b>1</b> to SA <b>3</b> are all connected to a node N<b>1</b>. Switches SB<b>1</b> to SBn have respective terminals that are each one terminal of the switch and connected to node N<b>1</b>, and respective other terminals are connected to external terminals TB<b>1</b> to TBn, respectively. Switches SA<b>3</b>, SB<b>1</b> to SBn are used, for example, for connecting n touch electrodes EL<b>1</b> to ELn to external terminal TA<b>3</b> in such a manner that each touch electrode is connected thereto for a predetermined period of time. In the state shown in <figref idref="DRAWINGS">FIG. 1</figref>, switches SA<b>3</b>, SB<b>1</b> are turned on to connect touch electrode EL<b>1</b> to external terminal TA<b>3</b>. Switches SA<b>1</b> to SA<b>3</b> are used, for example, for short-circuiting external terminals TA<b>1</b> to TA<b>3</b> to reset the voltage of external terminals TA<b>1</b> to TA<b>3</b> to &#x201c;L&#x201d; level.</p>
<p id="p-0049" num="0048">Control circuit <b>5</b> controls drivers <b>2</b> to <b>4</b> and switches SA<b>1</b> to SM, SB<b>1</b> to SBn, makes a determination as to whether a human body touches touch electrodes EL<b>1</b> to ELn each or generates data for making the determination, and outputs, to microcomputer <b>9</b>, a signal indicating the result of the determination or a signal indicating the fact that the data for making the determination has been generated.</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIGS. 3A to 3C</figref> are each a time chart illustrating an operation of touch sensor <b>101</b>. <figref idref="DRAWINGS">FIG. 3A</figref> shows a change of voltage VC of external terminal TA<b>1</b> (namely a voltage across capacitor <b>6</b>) with time, <figref idref="DRAWINGS">FIG. 3B</figref> shows a change of voltage VO of external terminal TA<b>3</b> with time in the case where touch electrode EL is not touched by a human body and <figref idref="DRAWINGS">FIG. 3C</figref> shows a change of voltage VO of external terminal TA<b>3</b> with time in the case where touch electrode EL is touched by a human body.</p>
<p id="p-0051" num="0050">In the following, an operation of control circuit <b>5</b> will be described with reference to <figref idref="DRAWINGS">FIGS. 3A to 3C</figref>. In the initial state, drivers <b>2</b> to <b>4</b> all output &#x201c;L&#x201d; level, switches SA<b>1</b> to SA<b>3</b> and SB<b>1</b> to SBn are turned on and external terminals TA<b>1</b> to TA<b>3</b> and TB<b>1</b> to TBn are reset to &#x201c;L&#x201d; level.</p>
<p id="p-0052" num="0051">At time t<b>0</b>, microcomputer <b>9</b> makes a request to sense to control circuit <b>5</b>. Then, control circuit <b>5</b> turns off switches SA<b>2</b>, SB<b>2</b> to SBn, namely the switches except for switches SA<b>1</b>, SA<b>3</b>, SB<b>1</b> to connect touch electrode EL<b>1</b> to external terminal TA<b>3</b>, and controls drivers <b>2</b> to <b>4</b> so that respective output nodes (external terminals TA<b>2</b> and TA<b>3</b>) of drivers <b>3</b> and <b>4</b> are set to the HiZ state and external terminal TA<b>1</b> is set to &#x201c;H&#x201d; level. Accordingly, current flows into capacitors <b>6</b>, <b>8</b>, CX<b>1</b>, and voltage VC of external terminal TA<b>1</b> increases.</p>
<p id="p-0053" num="0052">Capacitance CT<b>1</b> of touch electrode EL<b>1</b> when touched by a human body is larger than capacitance CT<b>2</b> of touch electrode EL<b>1</b> when not touched by a human body (CT<b>1</b>&#x3e;CT<b>2</b>). Therefore, the rate of increase of voltage VC in the case where a human body touches touch electrode EL<b>1</b> is slower than the rate of increase thereof in the case where a human body does not touch this touch electrode EL<b>1</b>.</p>
<p id="p-0054" num="0053">Next, at time t<b>1</b>, control circuit <b>5</b> turns off switch SA<b>1</b> to set respective output nodes of drivers <b>2</b> to <b>4</b> to the HiZ state and stop charging capacitors <b>6</b>, <b>8</b>, CX<b>1</b> (time from t<b>0</b> to t<b>1</b>: charge period).</p>
<p id="p-0055" num="0054">Next, at time <b>2</b> (time from t<b>2</b> to t<b>3</b>: discharge period), control circuit <b>5</b> controls drivers <b>2</b> to <b>4</b> to keep the output node (external terminal TA<b>1</b>) of driver <b>2</b> in the HiZ state, and set external terminals TA<b>2</b>, TA<b>3</b> to &#x201c;L&#x201d; level. Accordingly, a part of the charge stored in capacitor <b>6</b> flows from capacitor <b>6</b> via resistor element <b>7</b> and external terminal TA<b>2</b> to driver <b>3</b>, voltage VC of external terminal TA<b>1</b> decreases and the charge stored in capacitors <b>8</b>, CX<b>1</b> is released.</p>
<p id="p-0056" num="0055">Next, at time t<b>3</b> (time from t<b>3</b> to t<b>4</b>: measurement period), control circuit <b>5</b> controls drivers <b>2</b> to <b>4</b> to keep the output node of driver <b>2</b> in the HiZ state and set respective output nodes of drivers <b>3</b> and <b>4</b> to the HiZ state. Accordingly, a part of the charge stored in capacitor <b>6</b> is distributed via resistor element <b>7</b> to capacitors <b>8</b>, CX<b>1</b>, voltage VC of external terminal TA<b>1</b> decreases and voltage VO of external terminal TA<b>3</b> increases (charge distribution period). Since capacitance CT<b>1</b> of touch electrode EL<b>1</b> while a human body touches touch electrode EL<b>1</b> is larger than capacitance CT<b>2</b> of touch electrode EL<b>1</b> while a human body does not touch this touch electrode EL<b>1</b> (CT<b>1</b>&#x3e;CT<b>2</b>), voltage VO while a human body touches touch electrode EL<b>1</b> is lower than voltage VO while a human body does not touch this touch electrode EL<b>1</b>. Further, since a part of the charge stored in capacitor <b>6</b> is released via resistor element <b>7</b> in the period from time t<b>2</b> to time t<b>3</b>, the level of voltage VO is lower than that in the period from time t<b>0</b> to time t<b>1</b>.</p>
<p id="p-0057" num="0056">When a predetermined time has elapsed since control circuit <b>5</b> set the output nodes of drivers <b>2</b> to <b>4</b> to the HiZ state, control circuit <b>5</b> compares the level of voltage VO of external terminal TA<b>3</b> with the level of threshold voltage VTH. Control circuit <b>5</b> determines that voltage VO is &#x201c;H&#x201d; level when the relation VO&#x3e;VTH holds, and determines that voltage VO is &#x201c;L&#x201d; level when the relation VO&#x3c;VTH holds (measuring operation). Threshold voltage VTH is a voltage between ground voltage GND and power supply voltage VCC (threshold voltage: VCC/2 for example). In the period from time t<b>3</b> to time t<b>4</b> in <figref idref="DRAWINGS">FIGS. 3A to 3C</figref>, the relation VO&#x3e;VTH holds all the time regardless the presence or absence of a touch, and therefore control circuit <b>5</b> determines that voltage VO is &#x201c;H&#x201d; level.</p>
<p id="p-0058" num="0057">When control circuit <b>5</b> determines that voltage VO is &#x201c;H level&#x201d;, control circuit <b>5</b> increments (+1) the count of &#x201c;H&#x201d; level. When control circuit <b>5</b> determines that voltage VO is &#x201c;L&#x201d; level, control circuit <b>5</b> increments (+1) the count of &#x201c;L&#x201d; level. In the period from time t<b>3</b> to time t<b>4</b> in <figref idref="DRAWINGS">FIGS. 3A to 3C</figref>, the relation VO&#x3e;VTH holds all the time regardless of the presence or absence of a touch, and thus control circuit <b>5</b> increments (+1) the count of &#x201c;H&#x201d; level.</p>
<p id="p-0059" num="0058">Subsequently, control circuit <b>5</b> alternately repeats the discharge period and the measurement period. In the discharge period, external terminals TA<b>2</b>, TA<b>3</b> are set to &#x201c;L&#x201d; level to release a part of the charge of capacitor <b>6</b> and the charge of capacitors <b>8</b>, CX<b>1</b>. In the measurement period, external terminals TA<b>2</b>, TA<b>3</b> are set to the HiZ state to distribute a part of the charge of capacitor <b>6</b> to capacitors <b>8</b>, CX<b>1</b>, and a comparison is made between respective levels of voltage VO of external capacitor TA<b>3</b> and threshold voltage VTH.</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIGS. 3A to 3C</figref> illustrate, by way of example, a case where the discharge period and the measurement period are each repeated six times after the charging operation (from time t<b>0</b> to time t<b>1</b>). In the case where touch electrode EL<b>1</b> is not touched by a human body (non-touch), it is determined four times that voltage VO is &#x201c;H&#x201d; level and it is determined twice that voltage VO is &#x201c;L&#x201d; level. In the case where touch electrode EL<b>1</b> is touched by a human body (touch), it is determined twice that voltage VO is &#x201c;H&#x201d; level and it is determined four times that voltage VO is &#x201c;L&#x201d; level.</p>
<p id="p-0061" num="0060">When the number of times it is determined that voltage VO is &#x201c;H&#x201d; level is more than three, control circuit <b>5</b> determines that touch electrode EL<b>1</b> is not touched by a human body. When the number of times it is determined that voltage VO is &#x201c;H&#x201d; level is less than three, control circuit <b>5</b> determines that touch electrode EL<b>1</b> is touched by a human body.</p>
<p id="p-0062" num="0061">Control circuit <b>5</b> selects remaining touch electrodes EL<b>2</b> to ELn one by one successively, and makes a determination as to whether each touch electrode EL is touched by a human body or generates data for making the determination, in a similar manner to the one for touch electrode EL<b>1</b>. Control circuit <b>5</b> outputs, to microcomputer <b>9</b>, a signal indicating whether each touch electrode EL is touched by a human body or a signal indicating the fact that the data for making the determination has been generated. Alternatively, only when it is determined that touch electrode EL is touched by a human body, a signal indicating this touch electrode EL may be output to microcomputer <b>9</b>.</p>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram illustrating main components of control circuit <b>5</b>. In <figref idref="DRAWINGS">FIG. 4</figref>, control circuit <b>5</b> includes a comparison circuit <b>15</b>, a count circuit <b>16</b> and a circuit <b>17</b>. Comparison circuit <b>15</b> makes a comparison between respective levels of voltage VO of external terminal TA<b>3</b> and threshold voltage VTH in a measurement period, and outputs a signal indicating the result of the comparison. Count circuit <b>16</b> counts the number of times &#x201c;H&#x201d; level is sensed and the number of times &#x201c;L&#x201d; level is sensed, based on the output signal of comparison circuit <b>15</b>. Circuit <b>17</b> determines whether touch electrode EL is touched by a human body, based on the count value of count circuit <b>16</b>, and outputs a signal indicating the result of the determination. Count circuit <b>16</b> is reset each time the determination for one touch electrode EL as to whether this touch electrode is touched has been made.</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. 5</figref> shows a layout of touch sensor IC <b>1</b>. Touch sensor IC <b>1</b> in <figref idref="DRAWINGS">FIG. 5</figref> includes a semiconductor substrate <b>20</b>. A surface of semiconductor substrate <b>20</b> is divided into two sections, namely an analog region <b>20</b><i>a </i>and a digital region <b>20</b><i>b</i>. In <figref idref="DRAWINGS">FIG. 5</figref>, a substantially inverted-U-shaped region along the three sides of the rectangular surface of semiconductor substrate <b>20</b> is defined as analog region <b>20</b><i>a</i>, and the residual rectangular region is defined as digital region <b>20</b><i>b</i>. An analog circuit portion of IC <b>1</b> is disposed in analog region <b>20</b><i>a </i>and a digital circuit portion of IC <b>1</b> is disposed in digital region <b>20</b><i>b. </i></p>
<p id="p-0065" num="0064">The analog circuit portion includes a plurality of external terminals T (TA<b>1</b> to TA<b>3</b>, TB<b>1</b> to TBn, TC<b>1</b> to TCm), drivers <b>2</b> to <b>4</b> and switches SA<b>1</b> to SA<b>3</b>, SB<b>1</b> to SBn. The digital circuit portion includes control circuit <b>5</b>. The analog circuit portion and the digital circuit portion are arranged in separate regions in this way, and accordingly the adverse influence of noise generated due to clock or the like in the digital circuit portion, on the analog circuit portion, can be suppressed. Analog region <b>20</b><i>a </i>and digital region <b>20</b><i>b </i>may be physically separated from each other and a guard region may be provided between the analog and digital regions, so as to reduce noise by using the guard region and provide separate power supplies for the analog and digital regions.</p>
<p id="p-0066" num="0065">As seen from above, in the first embodiment of the present invention, switches SA<b>3</b>, SB<b>1</b> to SBn are provided for connecting, to external terminal TA<b>3</b> with its voltage to be sensed, external terminal TB selected from a plurality of external terminals TB<b>1</b> to TBn connected to a plurality of touch electrodes EL<b>1</b> to ELn, respectively. Therefore, only one set of two capacitors <b>6</b>, <b>8</b> and resistor element <b>7</b> is enough for a plurality of touch electrodes EL<b>1</b> to ELn. The number of components of the touch sensor is thus smaller than that of the conventional sensor provided with two capacitors <b>6</b>, <b>8</b> and resistor element <b>7</b> for each touch electrode EL. In this way, the touch sensor can be reduced in size and price, the influence of difference between respective characteristics of externally-mounted components can be suppressed, and the number of external terminals T of touch sensor IC <b>1</b> can be reduced.</p>
<p id="p-0067" num="0066">Further, control circuit <b>5</b> that controls touch sensor IC <b>1</b> and determines whether touch electrode EL is touched by a human body is provided within touch sensor IC <b>1</b>. Therefore, as compared with the conventional touch sensor where a microcomputer controls the touch sensor IC and determines whether touch electrode EL is touched by a human body, the load on microcomputer <b>9</b> is lessened. Accordingly, while the CPU of microcomputer <b>9</b> is stopping, whether touch electrode EL is touched by a human body can be determined. The power consumption can thus be reduced.</p>
<p id="p-0068" num="0067">In the first embodiment, control circuit <b>5</b> determines whether touch electrode EL is touched by a human body. Alternatively, control circuit <b>5</b> may output, to microcomputer <b>9</b>, a signal with which whether touch electrode EL is touched by a human body can be determined, and then microcomputer <b>9</b> may determine whether touch electrode EL is touched by a human body. For example, circuit <b>17</b> of <figref idref="DRAWINGS">FIG. 4</figref> may be removed and an output signal of count circuit <b>16</b> may be output to microcomputer <b>9</b> for use as a signal based on which whether touch electrode EL is touched by a human body can be determined.</p>
<heading id="h-0006" level="1">Second Embodiment</heading>
<p id="p-0069" num="0068"><figref idref="DRAWINGS">FIGS. 3A to 3C</figref> illustrate the state where the level of voltage VO is constant in the periods indicated by HiZ, namely the measurement periods in which respective output nodes of drivers <b>2</b> to <b>4</b> are set to the HiZ state and voltage VO is measured. If noise is generated in the measurement periods, however, voltage VO could vary and an erroneous measurement could be obtained in some cases.</p>
<p id="p-0070" num="0069">In view of this, a touch sensor according to a second embodiment senses a touch in the following manner.</p>
<p id="p-0071" num="0070">Specifically, control circuit <b>5</b> controls drivers <b>2</b> to <b>4</b> so that capacitor <b>6</b> is charged. After this, control circuit <b>5</b> controls drivers <b>2</b> to <b>4</b> so that the above-described discharge period and the above-described measurement period are repeated alternately, performs a measuring operation by making a comparison between the voltage level of external terminal TA<b>3</b> and threshold voltage VTH multiple times in one measurement period, and determines whether touch electrode EL is touched by a human body, based on the results of comparisons. Then, based on respective results of comparisons in a plurality of measurement periods, control circuit <b>5</b> determines whether touch electrode EL is touched by a human body.</p>
<p id="p-0072" num="0071"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram illustrating main components of control circuit <b>5</b>. Referring to <figref idref="DRAWINGS">FIG. 6</figref>, control circuit <b>5</b> includes a comparison circuit <b>15</b>, a count circuit <b>16</b>, a circuit <b>17</b> and a clock generation circuit <b>23</b>.</p>
<p id="p-0073" num="0072">Clock generation circuit <b>23</b> generates a count clock having a period of less than a half of the measurement period, and outputs the count clock to comparison circuit <b>15</b>.</p>
<p id="p-0074" num="0073">In the measurement period, comparison circuit <b>15</b> makes a comparison between respective levels of voltage VO of external terminal TA<b>3</b> and threshold voltage VTH following the timing of the count clock received from clock generation circuit <b>23</b>, and outputs signal CMP indicating the result of the comparison.</p>
<p id="p-0075" num="0074">Count circuit <b>16</b> includes a primary counter <b>21</b> and a secondary counter <b>22</b> and, based on signal CMP received from comparison circuit <b>15</b>, counts the number of times it is determined that voltage VO is &#x201c;H&#x201d; level and the number of times it is determined that voltage VO is &#x201c;L&#x201d; level. Circuit <b>17</b> determines whether touch electrode EL is touched by a human body, based on the count value of count circuit <b>16</b>, and outputs a signal indicating the result of the determination or generates data for making the determination. Each time the determination is made for one touch electrode EL as to whether this touch electrode EL is touched, or each time generation of the data for making the determination is completed, count circuit <b>16</b> is reset.</p>
<p id="p-0076" num="0075"><figref idref="DRAWINGS">FIG. 7</figref> is a flowchart specifying an operational procedure for the touch sensor in the second embodiment of the present invention to sense a touch. <figref idref="DRAWINGS">FIG. 8</figref> is a waveform chart illustrating a voltage determining operation of the touch sensor in the second embodiment of the present invention. In <figref idref="DRAWINGS">FIG. 8</figref>, a voltage level of external terminals TA<b>2</b>, TA<b>3</b> is shown. <figref idref="DRAWINGS">FIGS. 9A and 9B</figref> illustrate a counting operation of primary counter <b>21</b> and secondary counter <b>22</b> in a control circuit in the second embodiment of the present invention.</p>
<p id="p-0077" num="0076">Referring to <figref idref="DRAWINGS">FIGS. 7</figref>, <b>8</b>, <b>9</b>A, and <b>9</b>B, control circuit <b>5</b> first performs each operation in a measurement step <b>1</b>. In measurement step <b>1</b>, control circuit <b>5</b> first charges capacitor <b>6</b> to power supply voltage VCC (step S<b>1</b>: charge period).</p>
<p id="p-0078" num="0077">Next, in a discharge period shown in <figref idref="DRAWINGS">FIG. 8</figref>, control circuit <b>5</b> sets respective output nodes of drivers <b>3</b> and <b>4</b> to &#x201c;L&#x201d; level to release a part of the charge stored in capacitor <b>6</b> as well as the charge stored in capacitors <b>8</b>, CX<b>1</b> (step S<b>2</b>: discharge period).</p>
<p id="p-0079" num="0078">Then, in a measurement period shown in <figref idref="DRAWINGS">FIG. 8</figref>, control circuit <b>5</b> sets respective output nodes of drivers <b>3</b> and <b>4</b> to the HiZ state to distribute a part of the charge stored in capacitor <b>6</b> to capacitors <b>8</b>, CX<b>1</b> (step S<b>3</b>: charge distribution period).</p>
<p id="p-0080" num="0079">Further, when a predetermined time has elapsed from the start of the measurement period, control circuit <b>5</b> performs a pre-measuring operation by making a comparison between respective levels of voltage VO of external terminal TA<b>3</b> and threshold voltage VTH (step S<b>4</b>).</p>
<p id="p-0081" num="0080">Furthermore, in the same measurement period as step S<b>4</b>, control circuit <b>5</b> performs a main measuring operation by making a comparison between respective levels of voltage VO of external terminal TA<b>3</b> and threshold voltage VTH when a predetermined time has elapsed since the pre-measuring operation was performed (step S<b>5</b>). Here, &#x201c;pre&#x201d; and &#x201c;main&#x201d; preceding &#x201c;measuring operation&#x201d; are prefixes for identifying the measuring operation performed first and the measuring operation performed next in one measurement period.</p>
<p id="p-0082" num="0081">In the case where the result of determination in the pre-measuring operation is &#x201c;H&#x201d; level and the result of determination in the main measuring operation is &#x201c;H&#x201d; level, primary counter <b>21</b> adds two to the count value. In the case where the result of determination in the pre-measuring operation is &#x201c;H&#x201d; level and the result of determination in the main measuring operation is &#x201c;L&#x201d; level and in the case where the result of determination in the pre-measuring operation is &#x201c;L&#x201d; level and the result of determination in the main measuring operation is &#x201c;H&#x201d; level, primary counter <b>21</b> adds one to the count value. In the case where the result of determination in the pre-measuring operation is &#x201c;L&#x201d; level and the result of determination in the main measuring operation is &#x201c;L&#x201d; level, primary counter <b>21</b> does not update the count value (step S<b>6</b>). The initial count value of primary counter <b>21</b> is zero for example.</p>
<p id="p-0083" num="0082">Next, in the case where at least one of respective results of determinations in the pre-measuring operation and the main measuring operation is &#x201c;H&#x201d; level (NO in step S<b>7</b>), control circuit <b>5</b> performs the operations in steps S<b>2</b> to S<b>6</b> again. When the measuring operation is performed three or more times in one measurement period, the operations in steps S<b>2</b> to S<b>6</b> are repeated in the case where &#x201c;H&#x201d; level is sensed a predetermined number of times or more (the predetermined number is not less than one).</p>
<p id="p-0084" num="0083">In the case where the result of determination in the pre-measuring operation is &#x201c;L&#x201d; level and the result of determination in the main measuring operation is &#x201c;L&#x201d; level (YES in step S<b>7</b>), control circuit <b>5</b> proceeds to a measurement step <b>2</b>. When the measuring operation is performed three or more times in one measurement period, the operations in steps S<b>2</b> to S<b>6</b> are repeated in the case where &#x201c;H&#x201d; level is sensed zero time or less than a predetermined number of times (the predetermined number is not less than one).</p>
<p id="p-0085" num="0084">In measurement step <b>2</b>, control circuit <b>5</b> first sets respective output nodes of drivers <b>3</b> and <b>4</b> to &#x201c;L&#x201d; level to release a part of the charge stored in capacitor <b>6</b> and the charge stored in capacitors <b>8</b>, CX<b>1</b> in the discharge period shown in <figref idref="DRAWINGS">FIG. 8</figref> (step S<b>8</b>: discharge period).</p>
<p id="p-0086" num="0085">Next, in the measurement period shown in <figref idref="DRAWINGS">FIG. 8</figref>, control circuit <b>5</b> sets respective output nodes of drivers <b>3</b> and <b>4</b> to the HiZ state to distribute a part of the charge stored in capacitor <b>6</b> to capacitors <b>8</b>, CX<b>1</b> (step S<b>9</b>: charge distribution period).</p>
<p id="p-0087" num="0086">Further, when a predetermined time has elapsed from the start of this measurement period, control circuit <b>5</b> performs a pre-measuring operation by making a comparison between respective levels of voltage VO of external terminal TA<b>3</b> and threshold voltage VTH (step S<b>10</b>).</p>
<p id="p-0088" num="0087">Furthermore, in the same measurement period as step S<b>10</b>, control circuit <b>5</b> performs a main measuring operation by making a comparison again between respective levels of voltage VO of external terminal TA<b>3</b> and threshold voltage VTH when a predetermined time has elapsed since the pre-measuring operation was performed (step S<b>11</b>).</p>
<p id="p-0089" num="0088">Primary counter <b>21</b> updates the count value based on the result of determination in the pre-measuring operation and the result of determination in the main measuring operation (step S<b>12</b>). The rule for update of the count value is similar to step S<b>6</b>.</p>
<p id="p-0090" num="0089">Then, in the case where the result of determination in the main measuring operation in step S<b>11</b> is &#x201c;H&#x201d; level, secondary counter <b>22</b> adds one to the count value. In the case where the result of determination in the main measuring operation in step S<b>11</b> is &#x201c;L&#x201d; level, secondary counter <b>22</b> subtracts one from the count value (step S<b>13</b>). The initial count value of secondary counter <b>22</b> is an integer of not less than one, and the count value set here will not exceed the initial value.</p>
<p id="p-0091" num="0090">Next, in the case where the count value of secondary counter <b>22</b> is not zero (NO in step S<b>14</b>), control circuit <b>5</b> performs the operations in steps S<b>8</b> to S<b>13</b> again. When the measuring operation is performed three or more times in one measurement period, the operations in steps S<b>8</b> to S<b>13</b> are repeated in the case where the count value is a predetermined value or more (the predetermined value is not less than one).</p>
<p id="p-0092" num="0091">In contrast, in the case where the count value of secondary counter <b>22</b> is zero (YES in step S<b>14</b>), control circuit <b>5</b> makes a determination as to whether touch electrode EL is touched by a human body, based on the count value of primary counter <b>21</b>, or generates data for making the determination (step S<b>15</b>). When the measuring operation is performed three or more times in one measurement period, the operations in steps S<b>8</b> to S<b>13</b> are repeated in the case where the count value is zero, or less than a predetermined value of not less than one.</p>
<p id="p-0093" num="0092"><figref idref="DRAWINGS">FIGS. 10A and 10B</figref> illustrate an example of the measuring operation by the control circuit of the touch sensor in the second embodiment of the present invention. In <figref idref="DRAWINGS">FIGS. 10A and 10B</figref>, the count source is a count clock that is output by clock generation circuit <b>23</b>. The initial value of primary counter <b>21</b> is n and the initial value of secondary counter <b>22</b> is m.</p>
<p id="p-0094" num="0093">Referring to <figref idref="DRAWINGS">FIGS. 10A and 10B</figref>, the pre-measuring operation in the first measurement period determines that voltage VO is &#x201c;H&#x201d; level, and thus the count value of primary counter <b>21</b> is n+1. Further, the main measuring operation in the first measurement period determines that voltage VO is &#x201c;H&#x201d; level, and thus the count value of primary counter <b>21</b> is n+2.</p>
<p id="p-0095" num="0094">Next, because the pre-measuring operation in the second measurement period determines that voltage VO is &#x201c;H&#x201d; level, the count value of primary counter <b>21</b> is n+3. Further, because the main measuring operation in the second measurement period determines that voltage VO is &#x201c;L&#x201d; level, the count value of primary counter <b>21</b> is not updated.</p>
<p id="p-0096" num="0095">Next, because the pre-measuring operation in the third measurement period determines that voltage VO is &#x201c;L&#x201d; level, the count value of primary counter <b>21</b> is not updated. Further, because the main measuring operation in the third measurement period determines that voltage VO is &#x201c;H&#x201d; level, the count value of primary counter <b>21</b> is n+4.</p>
<p id="p-0097" num="0096">After this, the operation is performed in a similar manner. When the pre-measuring operation and main measuring operation in the sixth measurement period are completed, the count value of primary counter <b>21</b> is n+9.</p>
<p id="p-0098" num="0097">Next, when the pre-measuring operation and main measuring operation in the seventh measurement period both determine that voltage VO is &#x201c;L&#x201d; level, control circuit <b>5</b> proceeds to measurement step <b>2</b>. In this period of measurement step <b>1</b>, the count value of secondary counter <b>22</b> remains the same.</p>
<p id="p-0099" num="0098">Next, because the pre-measuring operation and main measuring operation in the eighth measurement period determine that voltage VO is &#x201c;L&#x201d; level, the count value of primary counter <b>21</b> is not updated and the count value of secondary counter <b>22</b> is m&#x2212;1.</p>
<p id="p-0100" num="0099">Next, because the pre-measuring operation in the ninth measurement period determines that voltage VO is &#x201c;H&#x201d; level, the count value of primary counter <b>21</b> is n+10. Then, the main measuring operation in the ninth measurement period determines that voltage VO is &#x201c;L&#x201d; level, the count value of primary counter <b>21</b> is not updated and the count value of secondary counter <b>22</b> is m&#x2212;2.</p>
<p id="p-0101" num="0100">Next, because the pre-measuring operation in the tenth measurement period determines that voltage VO is &#x201c;L&#x201d; level, the count value of primary counter <b>21</b> is not updated. Further, because the main measuring operation in the tenth measurement period determines that voltage VO is &#x201c;H&#x201d; level, the count value of primary counter <b>21</b> is n+11 and the count value of secondary counter <b>22</b> is m&#x2212;1.</p>
<p id="p-0102" num="0101">In other words, regarding control circuit <b>5</b> in the second embodiment of the present invention, if low-frequency noise is generated from a human body, voltage VO is influenced by a positive voltage or a negative voltage of approximately the same level due to noise, in both of the pre-measuring operation and main measuring operation. Therefore, even when voltage VO is almost equal to threshold voltage VTH, respective results of determinations in the pre-measuring operation and the main measuring operation are likely to be the same, and the influence of noise can be suppressed. If high-frequency noise is generated, although one of the pre-measuring operation and the main measuring operation determines that voltage VO is &#x201c;L&#x201d; level in the second and third measurement periods, the measurement step is prevented from erroneously proceeding to measurement step <b>2</b>.</p>
<p id="p-0103" num="0102">As seen from above, regarding the touch sensor in the second embodiment of the present invention, control circuit <b>5</b> makes a comparison multiple times between the voltage level of external terminal TA<b>3</b> and threshold voltage VTH in each measurement period, and determines whether or not touch electrode EL is touched by a human body, based on the results of comparisons in each measurement period. Specifically, the determination about the level of voltage VO is made twice in total in one measurement period and, based on the results of the level determinations, it is determined whether touch electrode EL is touched by a human body. Even when noise is generated in the measurement period and any result of determination is in error, erroneous sensing can be suppressed and accordingly whether a touch electrode is touched by a human body can be appropriately determined.</p>
<p id="p-0104" num="0103">Another embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0007" level="1">Third Embodiment</heading>
<p id="p-0105" num="0104">The present embodiment relates to a touch sensor for which the timing of making a determination about the level of voltage VO is variable, in contrast to the touch sensor in the second embodiment. The touch sensor in the present embodiment is similar to the touch sensor in the second embodiment except for the details given below.</p>
<p id="p-0106" num="0105"><figref idref="DRAWINGS">FIG. 11</figref> illustrates a voltage determining operation of the touch sensor in the third embodiment of the present invention. <figref idref="DRAWINGS">FIG. 12</figref> illustrates a determination timing storage register in a control circuit in the third embodiment of the present invention.</p>
<p id="p-0107" num="0106">Control circuit <b>5</b> can select, for each measurement period, one of a plurality of edges of a count clock in the measurement period. In one or both of a pre-measuring operation and a main measuring operation, control circuit <b>5</b> makes a comparison between the voltage level of external terminal TA<b>3</b> and threshold voltage VTH following the timing of the selected edge.</p>
<p id="p-0108" num="0107">More specifically, referring to <figref idref="DRAWINGS">FIGS. 11 and 12</figref>, the determination timing storage register stores set values SCRVR<b>0</b> to SCRVR<b>7</b>. Set values SCRVR<b>0</b> to SCRVR<b>7</b> each have a data length of eight bits. Based on set values SCRVR<b>0</b> to SCRVR<b>7</b>, control circuit <b>5</b> determines at which determination timing in each measurement period a determination about the level of voltage VO should be made. Set values SCRVR<b>0</b> to SCRVR<b>7</b> can be changed by user's setting or the like.</p>
<p id="p-0109" num="0108">For example, comparison circuit <b>15</b> of control circuit <b>5</b> defines a determination timing selection period having a length corresponding to 16 periods of the count clock in the measurement period, and selects one of the 16 rising edges of the count clock in the determination timing selection period, for use as the timing at which a determination about voltage VO is to be made. Comparison circuit <b>15</b> may be configured so that the determination timing is variable for both of the pre-measuring operation and main measuring operation, or the determination timing is variable for one of the pre-measuring operation and main measuring operation. Further, the pre-measuring operation and the main measuring operation in the same measurement period may use respective set values SCRVR different from each other.</p>
<p id="p-0110" num="0109">Comparison circuit <b>15</b> measures voltage VO at the timing represented by the lower four bits of set value SCRVR<b>0</b> in a measurement period, measures voltage VO at the timing represented by the upper four bits of set value SCRVR<b>0</b> in the subsequent measurement period, and measures voltage VO at the timing represented by the lower four bits of set value SCRVR<b>1</b> in the subsequent measurement period. After measuring the voltage in a similar manner, comparison circuit <b>15</b> measures voltage VO at the timing represented by the upper four bits of set value SCRVR<b>7</b> in a measurement period, and thereafter measures voltage VO at the timing represented by the lower four bits of set value SCRVR<b>0</b> again in the subsequent measurement period.</p>
<p id="p-0111" num="0110">In this way, control circuit <b>5</b> of the touch sensor in the third embodiment of the present invention makes a comparison between the voltage level of external terminal TA<b>3</b> and threshold voltage VTH when a predetermined time has elapsed from the start of a measurement period, and the predetermined time is different from one measurement period to another. Namely, the timing at which a determination about the level of voltage VO is made in a measurement period is different from that in another measurement period. Accordingly, the influence of noise generated at certain intervals can be lessened and whether a touch electrode is touched by a human body can be appropriately determined.</p>
<p id="p-0112" num="0111">Features and operations except for the above-described ones are similar to those of the touch sensor in the second embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0113" num="0112">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0008" level="1">Fourth Embodiment</heading>
<p id="p-0114" num="0113">The present embodiment relates to a touch sensor for which the timing of making a determination about the level of voltage VO is variable, in contrast to the touch sensor in the second embodiment. The touch sensor in the present embodiment is similar to the touch sensor in the second embodiment except for the details given below.</p>
<p id="p-0115" num="0114"><figref idref="DRAWINGS">FIG. 13</figref> illustrates a configuration of a control circuit <b>5</b> of the touch sensor in the fourth embodiment of the present invention. Referring to <figref idref="DRAWINGS">FIG. 13</figref>, control circuit <b>5</b> further includes a clock delay selection circuit DLY in addition to the components of the control circuit in the second embodiment of the present invention.</p>
<p id="p-0116" num="0115"><figref idref="DRAWINGS">FIG. 14</figref> illustrates a configuration of clock delay selection circuit DLY. Referring to <figref idref="DRAWINGS">FIG. 14</figref>, clock delay selection circuit DLY includes delay elements D<b>0</b> to D<b>7</b> and selectors SEL<b>1</b>, SEL<b>2</b>.</p>
<p id="p-0117" num="0116">Delay elements D<b>0</b> to D<b>7</b> each delay a received signal by a time that is less than a half period of the count clock. Delay elements D<b>0</b> to D<b>7</b> are connected in series. Delay element D<b>0</b> delays the count clock received from clock generation circuit <b>23</b> by a predetermined time and outputs the delayed count clock. Delay elements D<b>1</b> to D<b>7</b> delay respective count clocks received from delay elements D<b>0</b> to D<b>6</b> by a predetermined time, and output the delayed count clocks, respectively. The delay time of delay elements D<b>0</b> to D<b>7</b> is 5 ns for example.</p>
<p id="p-0118" num="0117">For each measurement period, control circuit <b>5</b> can select one of the signals that are output respectively from a plurality of delay elements D<b>0</b> to D<b>7</b>, and makes a comparison between the voltage level of external terminal TA<b>3</b> and threshold voltage VTH following the timing of the selected signal.</p>
<p id="p-0119" num="0118">Specifically, based on timing setting signal RV generated by control circuit <b>5</b>, selector SEL<b>1</b> selects one of the count clocks received from delay elements D<b>0</b> to D<b>7</b> and outputs the selected one to selector SEL<b>2</b>. Timing setting signal RV is generated for example based on a value stored in a determination timing storage register similar to the one shown in <figref idref="DRAWINGS">FIG. 12</figref>.</p>
<p id="p-0120" num="0119">Based on delay enable signal DLYCKE generated by control circuit <b>5</b>, selector SEL<b>2</b> outputs one of the count clock received from clock generation circuit <b>23</b> and the count clock received from selector SEL<b>1</b>, for use as the count source.</p>
<p id="p-0121" num="0120">Comparison circuit <b>15</b> of control circuit <b>5</b> makes a determination about the level of voltage VO following the timing of the count source received from clock delay selection circuit DLY.</p>
<p id="p-0122" num="0121"><figref idref="DRAWINGS">FIG. 15</figref> illustrates a voltage determining operation of the touch sensor in the fourth embodiment of the present invention.</p>
<p id="p-0123" num="0122">Referring to <figref idref="DRAWINGS">FIG. 15</figref>, the control circuit in the fourth embodiment of the present invention makes a determination about the level of voltage VO, based on one of eight count clocks in the determination timing selection period defined by clock delay selection circuit DLY. Control circuit <b>5</b> may use different count clocks for the pre-measuring operation and main measuring operation in the same measurement period, for use as the count source.</p>
<p id="p-0124" num="0123"><figref idref="DRAWINGS">FIGS. 16A and 16B</figref> illustrate an example of the measuring operation by control circuit <b>5</b> of the touch sensor in the fourth embodiment of the present invention. In <figref idref="DRAWINGS">FIGS. 16A and 16B</figref>, a case is illustrated where control circuit <b>5</b> performs a main measuring operation and clock delay selection circuit DLY includes 16 delay elements for changing the timing at which the main measuring operation is performed by control circuit <b>5</b>.</p>
<p id="p-0125" num="0124">Referring to <figref idref="DRAWINGS">FIGS. 16A and 16B</figref>, according to a value represented by timing setting signal RV, the timing at which a determination about the level of voltage VO is made is changed. For example, timing setting signal RV is &#x201c;2h&#x201d; (h represents hexadecimal number) in the first measurement period and accordingly the determination about the level of voltage VO is made based on the timing of the clock that is output by the third delay element. In the third measurement period, timing setting signal RV is &#x201c;Bh&#x201d; and accordingly a determination about the level of voltage VO is made based on the timing of the clock that is output from the twelfth delay element.</p>
<p id="p-0126" num="0125">In this way, control circuit <b>5</b> of the touch sensor in the fourth embodiment of the present invention makes a comparison between the voltage level of external terminal TA<b>3</b> and threshold voltage VTH when a predetermined time has elapsed from the start of a measurement period, and the predetermined time is different from one measurement period to another. Namely, the timing at which a determination about the level of voltage VO is made in a measurement period is different from that in another measurement period. Accordingly, the influence of noise generated at certain intervals can be lessened and whether a touch electrode is touched by a human body can be appropriately determined.</p>
<p id="p-0127" num="0126">Features and operations except for the above-described ones are similar to those of the touch sensor in the second embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0128" num="0127">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0009" level="1">Fifth Embodiment</heading>
<p id="p-0129" num="0128">The present embodiment relates to a touch sensor that differs from the touch sensor in the second embodiment in terms of the way to process the results of determination about the level. Except for details described below, the touch sensor in the present embodiment is similar to the touch sensor in the second embodiment.</p>
<p id="p-0130" num="0129"><figref idref="DRAWINGS">FIGS. 17A and 17B</figref> illustrate how to process the results of determination about the level of voltage VO by a control circuit of the touch sensor in the fifth embodiment of the present invention.</p>
<p id="p-0131" num="0130">Referring to <figref idref="DRAWINGS">FIGS. 17A and 17B</figref>, control circuit <b>5</b> makes multiple comparisons between the voltage level of external terminal TA<b>3</b> and threshold voltage VTH in a measurement period, determines which of the voltage level of external terminal TA<b>3</b> and threshold voltage VTH is larger or smaller in the measurement period by applying the majority rule to respective results of the multiple comparisons, and determines whether touch electrode EL is touched by a human body based on the result of the majority-based determination in each measurement period.</p>
<p id="p-0132" num="0131">For example, comparison circuit <b>15</b> in control circuit <b>5</b> performs, ten times in one measurement period, a determining operation by making a comparison between respective levels of voltage VO of external terminal TA<b>3</b> and threshold voltage VTH, applies the majority rule to the latest nine results of the determination about the level, out of the ten results, and outputs signal CMP representing the result of the majority-based determination. The number of times the determining operation about the level is made to provide respective results to which the majority rule is applied, may be changed by user's setting or the like.</p>
<p id="p-0133" num="0132">Referring to <figref idref="DRAWINGS">FIG. 17A</figref>, out of nine determinations as to whether voltage VO is &#x201c;H&#x201d; level or &#x201c;L&#x201d; level, five determinations are &#x201c;H&#x201d; level and four determinations are &#x201c;L&#x201d; level. In this case, comparison circuit <b>15</b> outputs signal CMP of &#x201c;H&#x201d; level.</p>
<p id="p-0134" num="0133">Referring to <figref idref="DRAWINGS">FIG. 17B</figref>, out of nine determinations about the level of voltage VO, four determinations are &#x201c;H&#x201d; level and five determinations are &#x201c;L&#x201d; level. In this case, comparison circuit <b>15</b> outputs signal CMP of &#x201c;L&#x201d; level.</p>
<p id="p-0135" num="0134"><figref idref="DRAWINGS">FIGS. 18A and 18B</figref> illustrate an example of the measuring operation by the control circuit of the touch sensor in the fifth embodiment of the present invention.</p>
<p id="p-0136" num="0135">Referring to <figref idref="DRAWINGS">FIGS. 18A and 18B</figref>, comparison circuit <b>15</b> in control circuit <b>5</b> performs, seven times in one measurement period, the determining operation by making a comparison between respective levels of voltage VO of external terminal TA<b>3</b> and threshold voltage VTH, applies the majority rule to respective results of the seven level determinations, and outputs signal CMP representing the result of the majority-based determination.</p>
<p id="p-0137" num="0136">For example, in the first measurement period, the number of &#x201c;H&#x201d; level determinations out of the seven level determinations is larger. Comparison circuit <b>15</b> therefore outputs signal CMP of &#x201c;H&#x201d; level. Primary counter <b>21</b> in count circuit <b>16</b> receives signal CMP of &#x201c;H&#x201d; level from comparison circuit <b>15</b> and accordingly updates the count value from the initial value of n to n+1.</p>
<p id="p-0138" num="0137">In the fifth measurement period, the number of &#x201c;L&#x201d; level determinations out of the seven level determinations is larger. Comparison circuit <b>15</b> therefore outputs signal CMP of &#x201c;L&#x201d; level. Then, control circuit <b>5</b> proceeds to measurement step <b>2</b>.</p>
<p id="p-0139" num="0138">In the sixth measurement period, the number of &#x201c;L&#x201d; level determinations out of the seven level determinations is larger. Comparison circuit <b>15</b> therefore outputs signal CMP of &#x201c;L&#x201d; level. In response to this, the count value of primary counter <b>21</b> is not updated while the count value of secondary counter <b>22</b> is updated from the initial value of m to m&#x2212;1.</p>
<p id="p-0140" num="0139">In other words, control circuit <b>5</b> in the fifth embodiment of the present invention can prevent the measurement step from erroneously proceeding to measurement step <b>2</b>, even when noise is generated in the first to fourth measurement periods and it is erroneously determined that voltage VO is &#x201c;L&#x201d; level.</p>
<p id="p-0141" num="0140">As seen from above, control circuit <b>5</b> of the touch sensor in the fifth embodiment of the present invention makes multiple comparisons between the voltage level of external terminal TA<b>3</b> and threshold voltage VTH in a measurement period, determines which of the voltage level of external terminal TA<b>3</b> and threshold voltage VTH is larger or smaller in the measurement period by applying the majority rule to respective results of multiple comparisons, and determines whether touch electrode EL is touched by a human body based on the result of the majority-based determination in each measurement period. The present embodiment having the features as described above can suppress erroneous sensing even when the result of determination is in error due to noise generated in a measurement period, and can appropriately determine whether a touch electrode is touched by a human body.</p>
<p id="p-0142" num="0141">Features and operations except for the above-described ones are similar to those of the touch sensor in the second embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0143" num="0142">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0010" level="1">Sixth Embodiment</heading>
<p id="p-0144" num="0143">The present embodiment relates to a touch sensor having an additional capability of controlling the length of a measurement period, in contrast to the touch sensor in the second embodiment. Except for details described below, the touch sensor in the present embodiment is similar to the touch sensor in the second embodiment.</p>
<p id="p-0145" num="0144"><figref idref="DRAWINGS">FIG. 19</figref> is a waveform chart illustrating a voltage determining operation of the touch sensor in the sixth embodiment of the present invention.</p>
<p id="p-0146" num="0145">Referring to <figref idref="DRAWINGS">FIG. 19</figref>, control circuit <b>5</b> can select one of an operation of controlling drivers <b>2</b> to <b>4</b> for making respective lengths of measurement periods equal to each other, and an operation of not performing control for making respective lengths of measurement periods equal to each other.</p>
<p id="p-0147" num="0146">Specifically, as for the control circuits in the second to fifth embodiments, after the last level determining operation in a certain measurement period is performed, a predetermined ending process is performed, and then a discharging operation is started. Therefore, respective lengths of the measurement periods are different from each other depending on the timing at which the level determining operation is ended.</p>
<p id="p-0148" num="0147">In contrast, as for the touch sensor in the sixth embodiment of the present invention, after the last level determining operation in a measurement period is performed, the timing at which the subsequent discharging operation is performed is controlled so that respective lengths of measurement periods are equal to the same length of THiz. In this way, erroneous determination due to noise with varying potential can be suppressed.</p>
<p id="p-0149" num="0148">Features and operations except for the above-described ones are similar to those of the touch sensor in the second embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0150" num="0149">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0011" level="1">Seventh Embodiment</heading>
<p id="p-0151" num="0150">The present embodiment relates to a touch sensor using a combination of at least two of different touch sensing methods used by the touch sensors in the second to sixth embodiments. Except for the details described below, the touch sensor in the present embodiment is similar to the touch sensor in the second embodiment.</p>
<p id="p-0152" num="0151"><figref idref="DRAWINGS">FIGS. 20A and 20B</figref> illustrate an example of the measuring operation by control circuit <b>5</b> of the touch sensor in the seventh embodiment of the present invention.</p>
<p id="p-0153" num="0152">Referring to <figref idref="DRAWINGS">FIGS. 20A and 20B</figref>, control circuit <b>5</b> performs the measuring operation in the second embodiment in which a pre-measuring operation and a main measuring operation are performed in one measurement period, and the measuring operation in the third embodiment in which one of a plurality of edges of a count clock in one measurement period is selected for use as the timing of making a determination about voltage VO. This control circuit <b>5</b>, however, does not perform the measuring operation in the fourth embodiment in which a determination about voltage VO is made at the timing of one of count clocks received from a plurality of delay elements, the measuring operation in the fifth embodiment in which the majority rule is applied to respective results of level determinations, and the measuring operation in the sixth embodiment in which respective lengths of measurement periods are set equal to each other.</p>
<p id="p-0154" num="0153">For example, control circuit <b>5</b> operates so that the timing at which a determination about voltage VO is made in a main measuring operation differs from one measurement period to another.</p>
<p id="p-0155" num="0154">The present embodiment having the above-described features can further lessen the influence of noise and can appropriately determine whether a touch electrode is touched by a human body, as compared with the touch sensor in the second embodiment.</p>
<p id="p-0156" num="0155">Features and operations except for the above-described ones are similar to those of the touch sensor in the second embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0157" num="0156">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0012" level="1">Eighth Embodiment</heading>
<p id="p-0158" num="0157">The present embodiment relates to a touch sensor using a combination of at least two of different touch sensing methods used by the touch sensors in the second to sixth embodiments. Except for the details described below, the touch sensor in the present embodiment is similar to the touch sensor in the second embodiment.</p>
<p id="p-0159" num="0158"><figref idref="DRAWINGS">FIGS. 21A and 21B</figref> illustrate an example of the measuring operation by a control circuit of the touch sensor in the eighth embodiment of the present invention.</p>
<p id="p-0160" num="0159">Referring to <figref idref="DRAWINGS">FIGS. 21A and 21B</figref>, control circuit <b>5</b> performs the measuring operation in the second embodiment in which a pre-measuring operation and a main measuring operation are performed in one measurement period, the measuring operation in the third embodiment in which one of a plurality of edges of a count clock in one measurement period is selected for use as the timing of making a determination about voltage VO, and the measuring operation in the fourth embodiment in which a determination about voltage VO is made at the timing of one of count clocks received from a plurality of delay elements. This control circuit <b>5</b>, however, does not perform the measuring operation in the fifth embodiment in which the majority rule is applied to respective results of level determinations, and the measuring operation in the sixth embodiment in which respective lengths of measurement periods are set equal to each other.</p>
<p id="p-0161" num="0160">For example, the sum of respective delay times of delay elements in clock delay selection circuit DLY is set shorter than one period of a count clock.</p>
<p id="p-0162" num="0161">Control circuit <b>5</b> can select, for each measurement period, one of respective delay clocks that are output from a plurality of delay elements in clock delay selection circuit DLY, and can select, for each measurement period, one of a plurality of edges of the delay clock in the measurement period. Following the timing of the selected edge of the selected delay clock, control circuit <b>5</b> makes a comparison between the voltage level of external terminal TA<b>3</b> and threshold voltage VTH.</p>
<p id="p-0163" num="0162">The present embodiment having the above-described features can more precisely control the timing at which a determination about voltage VO is made, further lessen the influence of noise, and appropriately determine whether a touch electrode is touched by a human body, as compared with the touch sensor in the seventh embodiment.</p>
<p id="p-0164" num="0163">Features and operations except for the above-described ones are similar to those of the touch sensor in the seventh embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0165" num="0164">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0013" level="1">Ninth Embodiment</heading>
<p id="p-0166" num="0165">The present embodiment relates to a touch sensor using a combination of at least two of different touch sensing methods used by the touch sensors in the second to sixth embodiments. Except for the details described below, the touch sensor in the present embodiment is similar to the touch sensor in the second embodiment.</p>
<p id="p-0167" num="0166"><figref idref="DRAWINGS">FIGS. 22A and 22B</figref> illustrate an example of the measuring operation by a control circuit of the touch sensor in the ninth embodiment of the present invention.</p>
<p id="p-0168" num="0167">Referring to <figref idref="DRAWINGS">FIGS. 22A and 22B</figref>, control circuit <b>5</b> performs the measuring operation in the second embodiment in which a pre-measuring operation and a main measuring operation are performed in one measurement period, and the measuring operation in the fifth embodiment in which the result of majority-based determination as to the level is obtained for use as a result of one main measuring operation. This control circuit <b>5</b>, however, does not perform the measuring operation in the third embodiment in which one of a plurality of edges of a count clock in one measurement period is selected for use as the timing of making a determination about voltage VO, the measuring operation in the fourth embodiment in which a determination about voltage VO is made at the timing of one of count clocks received from a plurality of delay elements, and the measuring operation in the sixth embodiment in which respective lengths of measurement periods are set equal to each other.</p>
<p id="p-0169" num="0168">For example, control circuit <b>5</b> applies the majority rule to respective results of determinations about the level in a main measuring operation.</p>
<p id="p-0170" num="0169">The present embodiment having the above-described features can further lessen the influence of noise and appropriately determine whether a touch electrode is touched by a human body, as compared with the touch sensor in the seventh embodiment.</p>
<p id="p-0171" num="0170">Features and operations except for the above-described ones are similar to those of the touch sensor in the seventh embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0172" num="0171">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0014" level="1">Tenth Embodiment</heading>
<p id="p-0173" num="0172">The present embodiment relates to a touch sensor using a combination of at least two of different touch sensing methods used by the touch sensors in the second to sixth embodiments. Except for the details described below, the touch sensor in the present embodiment is similar to the touch sensor in the second embodiment.</p>
<p id="p-0174" num="0173"><figref idref="DRAWINGS">FIGS. 23A and 23B</figref> illustrate an example of the measuring operation by control circuit <b>5</b> of the touch sensor in the tenth embodiment of the present invention.</p>
<p id="p-0175" num="0174">Referring to <figref idref="DRAWINGS">FIGS. 23A and 23B</figref>, control circuit <b>5</b> performs the measuring operation in the second embodiment in which a pre-measuring operation and a main measuring operation are performed in one measurement period, the measuring operation in the third embodiment in which one of a plurality of edges of a count clock in one measurement period is selected for use as the timing of making a determination about voltage VO, and the measuring operation in the sixth embodiment in which respective lengths of measurement periods are set equal to each other. This control circuit <b>5</b>, however, does not perform the measuring operation in the fourth embodiment in which a determination about voltage VO is made at the timing of one of count clocks received from a plurality of delay elements, and the measuring operation in the fifth embodiment in which the majority rule is applied to respective results of level determinations.</p>
<p id="p-0176" num="0175">Specifically, control circuit <b>5</b> makes respective lengths of measurement periods equal to each other by controlling the period from the end of a determination timing selection period, which corresponds to 16 periods of the count clock in a main measuring operation, to the start of the following discharging operation.</p>
<p id="p-0177" num="0176">The present embodiment having the above-described features can further suppress erroneous determination due to noise with varying potential, and thus can further lessen the influence of noise and appropriately determine whether a touch electrode is touched by a human body, as compared with the touch sensor in the ninth embodiment.</p>
<p id="p-0178" num="0177">Features and operations except for the above-described ones are similar to those of the touch sensor in the ninth embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0179" num="0178">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0015" level="1">Eleventh Embodiment</heading>
<p id="p-0180" num="0179">The present embodiment relates to a touch sensor using a combination of at least two of different touch sensing methods used by the touch sensors in the second to sixth embodiments. Except for the details described below, the touch sensor in the present embodiment is similar to the touch sensor in the second embodiment.</p>
<p id="p-0181" num="0180"><figref idref="DRAWINGS">FIGS. 24A and 24B</figref> illustrate an example of the measuring operation by a control circuit of the touch sensor in the eleventh embodiment of the present invention.</p>
<p id="p-0182" num="0181">Referring to <figref idref="DRAWINGS">FIGS. 24A and 24B</figref>, control circuit <b>5</b> performs the measuring operation in the second embodiment in which a pre-measuring operation and a main measuring operation are performed in one measurement period, the measuring operation in the third embodiment in which one of a plurality of edges of a count clock in one measurement period is selected for use as the timing of making a determination about voltage VO, the measuring operation in the fourth embodiment in which a determination about voltage VO is made at the timing of one of count clocks received from a plurality of delay elements, and the measuring operation in the sixth embodiment in which respective lengths of measurement periods are set equal to each other. This control circuit <b>5</b>, however, does not perform the measuring operation in the fifth embodiment in which the majority rule is applied to respective results of level determinations.</p>
<p id="p-0183" num="0182">For example, the sum of respective delay times of delay elements in clock delay selection circuit DLY is set shorter than one period of a count clock.</p>
<p id="p-0184" num="0183">Control circuit <b>5</b> can select, for each measurement period, one of respective delay clocks that are output from a plurality of delay elements in clock delay selection circuit DLY, and can select, for each measurement period, one of a plurality of edges of the delay clock in the measurement period. Following the timing of the selected edge of the selected delay clock, control circuit <b>5</b> makes a comparison between the voltage level of external terminal TA<b>3</b> and threshold voltage VTH.</p>
<p id="p-0185" num="0184">The present embodiment having the above-described features can more precisely control the timing at which a determination about voltage VO is made, further lessen the influence of noise, and appropriately determine whether a touch electrode is touched by a human body, as compared with the touch sensor in the tenth embodiment.</p>
<p id="p-0186" num="0185">Features and operations except for the above-described ones are similar to those of the touch sensor in the second embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0187" num="0186">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0016" level="1">Twelfth Embodiment</heading>
<p id="p-0188" num="0187">The present embodiment relates to a touch sensor using a combination of at least two of different touch sensing methods used by the touch sensors in the second to sixth embodiments. Except for the details described below, the touch sensor in the present embodiment is similar to the touch sensor in the second embodiment.</p>
<p id="p-0189" num="0188"><figref idref="DRAWINGS">FIGS. 25A and 25B</figref> illustrate an example of the measuring operation by a control circuit of the touch sensor in the twelfth embodiment of the present invention.</p>
<p id="p-0190" num="0189">Referring to <figref idref="DRAWINGS">FIGS. 25A and 25B</figref>, control circuit <b>5</b> performs the measuring operation in the second embodiment in which a pre-measuring operation and a main measuring operation are performed in one measurement period, the measuring operation in the third embodiment in which one of a plurality of edges of a count clock in one measurement period is selected for use as the timing of making a determination about voltage VO, and the measuring operation in the fifth embodiment in which the result of majority-based determination as to the level is obtained for use as a result of one main measuring operation. This control circuit <b>5</b>, however, does not perform the measuring operation in the fourth embodiment in which a determination about voltage VO is made at the timing of one of count clocks received from a plurality of delay elements, and the measuring operation in the sixth embodiment in which respective lengths of measurement periods are set equal to each other.</p>
<p id="p-0191" num="0190">For example, control circuit <b>5</b> in a main measuring operation makes a level determination three times to which the majority rule is to be applied, and the timings at which the three determinations are started are made different from one measurement period to another.</p>
<p id="p-0192" num="0191">The present embodiment having the above-described features can further lessen the influence of noise and appropriately determine whether a touch electrode is touched by a human body, as compared with the touch sensor in the seventh embodiment.</p>
<p id="p-0193" num="0192">Features and operations except for the above-described ones are similar to those of the touch sensor in the seventh embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0194" num="0193">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0017" level="1">Thirteenth Embodiment</heading>
<p id="p-0195" num="0194">The present embodiment relates to a touch sensor using a combination of at least two of different touch sensing methods used by the touch sensors in the second to sixth embodiments. Except for the details described below, the touch sensor in the present embodiment is similar to the touch sensor in the first embodiment.</p>
<p id="p-0196" num="0195"><figref idref="DRAWINGS">FIGS. 26A and 26B</figref> illustrate an example of the measuring operation by a control circuit of the touch sensor in the thirteenth embodiment of the present invention.</p>
<p id="p-0197" num="0196">Referring to <figref idref="DRAWINGS">FIGS. 26A and 26B</figref>, control circuit <b>5</b> performs the measuring operation in the second embodiment in which a pre-measuring operation and a main measuring operation are performed in one measurement period, the measuring operation in the third embodiment in which one of a plurality of edges of a count clock in one measurement period is selected for use as the timing of making a determination about voltage VO, the measuring operation in the fourth embodiment in which a determination about voltage VO is made at the timing of one of count clocks received from a plurality of delay elements, and the measuring operation in the fifth embodiment in which the result of majority-based determination as to the level is obtained for use as a result of one main measuring operation. This control circuit <b>5</b>, however, does not perform the measuring operation in the sixth embodiment in which respective lengths of measurement periods are set equal to each other.</p>
<p id="p-0198" num="0197">For example, the sum of respective delay times of delay elements in clock delay selection circuit DLY is set shorter than one period of a count clock.</p>
<p id="p-0199" num="0198">Control circuit <b>5</b> can select, for each measurement period, one of respective delay clocks that are output from a plurality of delay elements in clock delay selection circuit DLY, and can select, for each measurement period, one of a plurality of edges of the delay clock in the measurement period. Following the timing of the selected edge of the selected delay clock, control circuit <b>5</b> makes a comparison between the voltage level of external terminal TA<b>3</b> and threshold voltage VTH.</p>
<p id="p-0200" num="0199">The present embodiment having the above-described features can more precisely control the timing at which a determination about voltage VO is made, further lessen the influence of noise, and appropriately determine whether a touch electrode is touched by a human body, as compared with the touch sensor in the twelfth embodiment.</p>
<p id="p-0201" num="0200">Features and operations except for the above-described ones are similar to those of the touch sensor in the twelfth embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0202" num="0201">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0018" level="1">Fourteenth Embodiment</heading>
<p id="p-0203" num="0202">The present embodiment relates to a touch sensor using a combination of at least two of different touch sensing methods used by the touch sensors in the second to sixth embodiments. Except for the details described below, the touch sensor in the present embodiment is similar to the touch sensor in the second embodiment.</p>
<p id="p-0204" num="0203"><figref idref="DRAWINGS">FIGS. 27A and 27B</figref> illustrate an example of the measuring operation by a control circuit of the touch sensor in the fourteenth embodiment of the present invention.</p>
<p id="p-0205" num="0204">Referring to <figref idref="DRAWINGS">FIGS. 27A and 27B</figref>, control circuit <b>5</b> performs the measuring operation in the second embodiment in which a pre-measuring operation and a main measuring operation are performed in one measurement period, the measuring operation in the third embodiment in which one of a plurality of edges of a count clock in one measurement period is selected for use as the timing of making a determination about voltage VO, the measuring operation in the fifth embodiment in which the result of majority-based determination as to the level is obtained for use as a result of one main measuring operation, and the measuring operation in the sixth embodiment in which respective lengths of measurement periods are set equal to each other. This control circuit <b>5</b>, however, does not perform the measuring operation in the fourth embodiment in which a determination about voltage VO is made at the timing of one of count clocks received from a plurality of delay elements.</p>
<p id="p-0206" num="0205">For example, control circuit <b>5</b> operates so that the length of a combination of a determination timing selection period corresponding to 16 periods of the count clock and three level determination periods to which the majority rule is applied, is equal to ((16+the number of determinations to which the majority rule is applied)&#x2212;1) cycles (one cycle corresponds to one period of the count clock) in each measurement period.</p>
<p id="p-0207" num="0206">The present embodiment having the above-described features can further lessen the influence of noise and appropriately determine whether a touch electrode is touched by a human body, as compared with the touch sensor in the tenth embodiment.</p>
<p id="p-0208" num="0207">Features and operations except for the above-described ones are similar to those of the touch sensor in the tenth embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0209" num="0208">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0019" level="1">Fifteenth Embodiment</heading>
<p id="p-0210" num="0209">The present embodiment relates to a touch sensor using a combination of at least two of different touch sensing methods used by the touch sensors in the second to sixth embodiments. Except for the details described below, the touch sensor in the present embodiment is similar to the touch sensor in the second embodiment.</p>
<p id="p-0211" num="0210"><figref idref="DRAWINGS">FIGS. 28A and 28B</figref> illustrate an example of the measuring operation by a control circuit of the touch sensor in the fifteenth embodiment of the present invention.</p>
<p id="p-0212" num="0211">Referring to <figref idref="DRAWINGS">FIGS. 28A and 28B</figref>, control circuit <b>5</b> performs the measuring operation in the second embodiment in which a pre-measuring operation and a main measuring operation are performed in one measurement period, the measuring operation in the third embodiment in which one of a plurality of edges of a count clock in one measurement period is selected for use as the timing of making a determination about voltage VO, the measuring operation in the fourth embodiment in which a determination about voltage VO is made at the timing of one of count clocks received from a plurality of delay elements, the measuring operation in the fifth embodiment in which the result of majority-based determination as to the level is obtained for use as a result of one main measuring operation, and the measuring operation in the sixth embodiment in which respective lengths of measurement periods are set equal to each other.</p>
<p id="p-0213" num="0212">For example, the sum of respective delay times of delay elements in clock delay selection circuit DLY is set shorter than one period of a count clock.</p>
<p id="p-0214" num="0213">Control circuit <b>5</b> can select, for each measurement period, one of respective delay clocks that are output from a plurality of delay elements in clock delay selection circuit DLY, and can select, for each measurement period, one of a plurality of edges of the delay clock in the measurement period. Following the timing of the selected edge of the selected delay clock, control circuit <b>5</b> makes a comparison between the voltage level of external terminal TA<b>3</b> and threshold voltage VTH.</p>
<p id="p-0215" num="0214">The present embodiment having the above-described features can more precisely control the timing at which a determination about voltage VO is made, further lessen the influence of noise, and appropriately determine whether a touch electrode is touched by a human body, as compared with the touch sensor in the fourteenth embodiment.</p>
<p id="p-0216" num="0215">Features and operations except for the above-described ones are similar to those of the touch sensor in the fourteenth embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0217" num="0216">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0020" level="1">Sixteenth Embodiment</heading>
<p id="p-0218" num="0217">The present embodiment relates to a touch sensor using a combination of at least two of different touch sensing methods used by the touch sensors in the second to sixth embodiments. Except for the details described below, the touch sensor in the present embodiment is similar to the touch sensor in the second embodiment.</p>
<p id="p-0219" num="0218"><figref idref="DRAWINGS">FIGS. 29A and 29B</figref> illustrate an example of the measuring operation by a control circuit of the touch sensor in the sixteenth embodiment of the present invention.</p>
<p id="p-0220" num="0219">Referring to <figref idref="DRAWINGS">FIGS. 29A and 29B</figref>, control circuit <b>5</b> performs the measuring operation in the third embodiment in which one of a plurality of edges of a count clock in one measurement period is selected for use as the timing of making a determination about voltage VO, and the measuring operation in the sixth embodiment in which respective lengths of measurement periods are set equal to each other. This control circuit <b>5</b>, however, does not perform the measuring operation in the second embodiment in which a pre-measuring operation and a main measuring operation are performed in one measurement period, the measuring operation in the fourth embodiment in which a determination about voltage VO is made at the timing of one of count clocks received from a plurality of delay elements, and the measuring operation in the fifth embodiment in which the majority rule is applied to respective results of level determinations.</p>
<p id="p-0221" num="0220">For example, control circuit <b>5</b> operates so that the timing at which a determination about voltage VO is made in a main measuring operation is different from one measurement period to another. Further, control circuit <b>5</b> makes respective lengths of measurement periods equal to each other by controlling the period from the end of a determination timing selection period, which corresponds to 16 periods of the count clock in a main measuring operation, to the start of the following discharging operation.</p>
<p id="p-0222" num="0221">Features and operations except for the above-described ones are similar to those of the touch sensor in the second embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0223" num="0222">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0021" level="1">Seventeenth Embodiment</heading>
<p id="p-0224" num="0223">The present embodiment relates to a touch sensor using a combination of at least two of different touch sensing methods used by the touch sensors in the second to sixth embodiments. Except for the details described below, the touch sensor in the present embodiment is similar to the touch sensor in the first embodiment.</p>
<p id="p-0225" num="0224"><figref idref="DRAWINGS">FIGS. 30A and 30B</figref> illustrate an example of the measuring operation by a control circuit of the touch sensor in the seventeenth embodiment of the present invention.</p>
<p id="p-0226" num="0225">Referring to <figref idref="DRAWINGS">FIGS. 30A and 30B</figref>, control circuit <b>5</b> performs the measuring operation in the third embodiment in which one of a plurality of edges of a count clock in one measurement period is selected for use as the timing of making a determination about voltage VO, the measuring operation in the fourth embodiment in which a determination about voltage VO is made at the timing of one of count clocks received from a plurality of delay elements, and the measuring operation in the sixth embodiment in which respective lengths of measurement periods are set equal to each other. This control circuit <b>5</b>, however, does not perform the measuring operation in the second embodiment in which a pre-measuring operation and a main measuring operation are performed in one measurement period, and the measuring operation in the fifth embodiment in which the majority rule is applied to respective results of level determinations.</p>
<p id="p-0227" num="0226">For example, the sum of respective delay times of delay elements in clock delay selection circuit DLY is set shorter than one period of a count clock.</p>
<p id="p-0228" num="0227">Control circuit <b>5</b> can select, for each measurement period, one of respective delay clocks that are output from a plurality of delay elements in clock delay selection circuit DLY, and can select, for each measurement period, one of a plurality of edges of the delay clock in the measurement period. Following the timing of the selected edge of the selected delay clock, control circuit <b>5</b> makes a comparison between the voltage level of external terminal TA<b>3</b> and threshold voltage VTH.</p>
<p id="p-0229" num="0228">The present embodiment having the above-described features can more precisely control the timing at which a determination about voltage VO is made, further lessen the influence of noise, and appropriately determine whether a touch electrode is touched by a human body, as compared with the touch sensor in the sixteenth embodiment.</p>
<p id="p-0230" num="0229">Features and operations except for the above-described ones are similar to those of the touch sensor in the sixteenth embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0231" num="0230">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0022" level="1">Eighteenth Embodiment</heading>
<p id="p-0232" num="0231">The present embodiment relates to a touch sensor using a combination of at least two of different touch sensing methods used by the touch sensors in the second to sixth embodiments. Except for the details described below, the touch sensor in the present embodiment is similar to the touch sensor in the second embodiment.</p>
<p id="p-0233" num="0232"><figref idref="DRAWINGS">FIGS. 31A and 31B</figref> illustrate an example of the measuring operation by a control circuit of the touch sensor in the eighteenth embodiment of the present invention.</p>
<p id="p-0234" num="0233">Referring to <figref idref="DRAWINGS">FIGS. 31A and 31B</figref>, control circuit <b>5</b> performs the measuring operation in the third embodiment in which one of a plurality of edges of a count clock in one measurement period is selected for use as the timing of making a determination about voltage VO, and the measuring operation in the fifth embodiment in which the result of majority-based determination as to the level is obtained for use as a result of one main measuring operation. This control circuit <b>5</b>, however, does not perform the measuring operation in the second embodiment in which a pre-measuring operation and a main measuring operation are performed in one measurement period, the measuring operation in the fourth embodiment in which a determination about voltage VO is made at the timing of one of count clocks received from a plurality of delay elements, and the measuring operation in the sixth embodiment in which respective lengths of measurement periods are set equal to each other.</p>
<p id="p-0235" num="0234">Features and operations except for the above-described ones are similar to those of the touch sensor in the second embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0236" num="0235">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0023" level="1">Nineteenth Embodiment</heading>
<p id="p-0237" num="0236">The present embodiment relates to a touch sensor using a combination of at least two of different touch sensing methods used by the touch sensors in the second to sixth embodiments. Except for the details described below, the touch sensor in the present embodiment is similar to the touch sensor in the second embodiment.</p>
<p id="p-0238" num="0237"><figref idref="DRAWINGS">FIGS. 32A and 32B</figref> illustrate an example of the measuring operation by a control circuit of the touch sensor in the nineteenth embodiment of the present invention.</p>
<p id="p-0239" num="0238">Referring to <figref idref="DRAWINGS">FIGS. 32A and 32B</figref>, control circuit <b>5</b> performs the measuring operation in the third embodiment in which one of a plurality of edges of a count clock in one measurement period is selected for use as the timing of making a determination about voltage VO, the measuring operation in the fourth embodiment in which a determination about voltage VO is made at the timing of one of count clocks received from a plurality of delay elements, and the measuring operation in the fifth embodiment in which the result of majority-based determination as to the level is obtained for use as a result of one main measuring operation. This control circuit <b>5</b>, however, does not perform the measuring operation in the second embodiment in which a pre-measuring operation and a main measuring operation are performed in one measurement period, and the measuring operation in the sixth embodiment in which respective lengths of measurement periods are set equal to each other.</p>
<p id="p-0240" num="0239">For example, the sum of respective delay times of delay elements in clock delay selection circuit DLY is set shorter than one period of a count clock.</p>
<p id="p-0241" num="0240">Control circuit <b>5</b> can select, for each measurement period, one of respective delay clocks that are output from a plurality of delay elements in clock delay selection circuit DLY, and can select, for each measurement period, one of a plurality of edges of the delay clock in the measurement period. Following the timing of the selected edge of the selected delay clock, control circuit <b>5</b> makes a comparison between the voltage level of external terminal TA<b>3</b> and threshold voltage VTH.</p>
<p id="p-0242" num="0241">The present embodiment having the above-described features can more precisely control the timing at which a determination about voltage VO is made, further lessen the influence of noise, and appropriately determine whether a touch electrode is touched by a human body, as compared with the touch sensor in the eighteenth embodiment.</p>
<p id="p-0243" num="0242">Features and operations except for the above-described ones are similar to those of the touch sensor in the eighteenth embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0244" num="0243">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0024" level="1">Twentieth Embodiment</heading>
<p id="p-0245" num="0244">The present embodiment relates to a touch sensor using a combination of at least two of different touch sensing methods used by the touch sensors in the second to sixth embodiments. Except for the details described below, the touch sensor in the present embodiment is similar to the touch sensor in the second embodiment.</p>
<p id="p-0246" num="0245"><figref idref="DRAWINGS">FIGS. 33A and 33B</figref> illustrate an example of the measuring operation by a control circuit of the touch sensor in the twentieth embodiment of the present invention.</p>
<p id="p-0247" num="0246">Referring to <figref idref="DRAWINGS">FIGS. 33A and 33B</figref>, control circuit <b>5</b> performs the measuring operation in the third embodiment in which one of a plurality of edges of a count clock in one measurement period is selected for use as the timing of making a determination about voltage VO, the measuring operation in the fifth embodiment in which the result of majority-based determination as to the level is obtained for use as a result of one main measuring operation, and the measuring operation in the sixth embodiment in which respective lengths of measurement periods are set equal to each other. This control circuit <b>5</b>, however, does not perform the measuring operation in the second embodiment in which a pre-measuring operation and a main measuring operation are performed in one measurement period, and the measuring operation in the fourth embodiment in which a determination about voltage VO is made at the timing of one of count clocks received from a plurality of delay elements.</p>
<p id="p-0248" num="0247">For example, control circuit <b>5</b> operates so that the length of a combination of a determination timing selection period corresponding to 16 periods of the count clock and three level determination periods to which the majority rule is applied, is equal to ((16+the number of determinations to which the majority rule is applied)&#x2212;1) cycles (one cycle corresponds to one period of the count clock) in each measurement period.</p>
<p id="p-0249" num="0248">The present embodiment having the above-described features can further lessen the influence of noise and appropriately determine whether a touch electrode is touched by a human body, as compared with the touch sensor in the eighteenth embodiment.</p>
<p id="p-0250" num="0249">Features and operations except for the above-described ones are similar to those of the touch sensor in the eighteenth embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0251" num="0250">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0025" level="1">Twenty-First Embodiment</heading>
<p id="p-0252" num="0251">The present embodiment relates to a touch sensor using a combination of at least two of different touch sensing methods used by the touch sensors in the second to sixth embodiments. Except for the details described below, the touch sensor in the present embodiment is similar to the touch sensor in the second embodiment.</p>
<p id="p-0253" num="0252"><figref idref="DRAWINGS">FIGS. 34A and 34B</figref> illustrate an example of the measuring operation by a control circuit of the touch sensor in the twenty-first embodiment of the present invention.</p>
<p id="p-0254" num="0253">Referring to <figref idref="DRAWINGS">FIGS. 34A and 34B</figref>, control circuit <b>5</b> performs the measuring operation in the third embodiment in which one of a plurality of edges of a count clock in one measurement period is selected for use as the timing of making a determination about voltage VO, the measuring operation in the fourth embodiment in which a determination about voltage VO is made at the timing of one of count clocks received from a plurality of delay elements, the measuring operation in the fifth embodiment in which the result of majority-based determination as to the level is obtained for use as a result of one main measuring operation, and the measuring operation in the sixth embodiment in which respective lengths of measurement periods are set equal to each other. This control circuit <b>5</b>, however, does not perform the measuring operation in the second embodiment in which a pre-measuring operation and a main measuring operation are performed in one measurement period.</p>
<p id="p-0255" num="0254">For example, the sum of respective delay times of delay elements in clock delay selection circuit DLY is set shorter than one period of a count clock.</p>
<p id="p-0256" num="0255">Control circuit <b>5</b> can select, for each measurement period, one of respective delay clocks that are output from a plurality of delay elements in clock delay selection circuit DLY, and can select, for each measurement period, one of a plurality of edges of the delay clock in the measurement period. Following the timing of the selected edge of the selected delay clock, control circuit <b>5</b> makes a comparison between the voltage level of external terminal TA<b>3</b> and threshold voltage VTH.</p>
<p id="p-0257" num="0256">The present embodiment having the above-described features can more precisely control the timing at which a determination about voltage VO is made, further lessen the influence of noise, and appropriately determine whether a touch electrode is touched by a human body, as compared with the touch sensor in the twentieth embodiment.</p>
<p id="p-0258" num="0257">Features and operations except for the above-described ones are similar to those of the touch sensor in the twentieth embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0259" num="0258">A further embodiment of the present invention will now be described with reference to the drawings. In the drawings, the same or corresponding components are denoted by the same reference characters, and the description thereof will not be repeated.</p>
<heading id="h-0026" level="1">Twenty-Second Embodiment</heading>
<p id="p-0260" num="0259">The present embodiment relates to a touch sensor having peripherals for touch electrodes different from those of the touch sensor in the first embodiment. Except for details described below, the touch sensor in the present embodiment is similar to the touch sensor in the first embodiment.</p>
<p id="p-0261" num="0260"><figref idref="DRAWINGS">FIG. 35</figref> illustrates a configuration of the touch sensor in the twenty-second embodiment of the present invention. Referring to <figref idref="DRAWINGS">FIG. 35</figref>, touch sensor <b>102</b> includes a touch sensor IC (semiconductor device) <b>51</b>, touch electrodes EL<b>11</b> to EL<b>13</b>, capacitors Cr<b>1</b>, Cr<b>2</b>A, Cr<b>2</b>B, Cc<b>1</b>, Cc<b>2</b>, resistor elements Rr<b>1</b>, Rr<b>2</b>A, Rr<b>2</b>B, Rc<b>1</b>, Rc<b>2</b>, and a microcomputer <b>9</b>. Touch sensor IC <b>51</b> includes a plurality of external terminals TA<b>11</b> to TA<b>15</b>.</p>
<p id="p-0262" num="0261">Capacitor Cc<b>1</b> has one electrode connected to one electrode of resistor element Rc<b>1</b>, and the other electrode receiving ground voltage GND. The other electrode of resistor element Rc<b>1</b> is connected to external terminal TA<b>12</b>. Touch electrode EL<b>11</b> is connected to one electrode of resistor element Rr<b>1</b>. The other electrode of resistor element Rr<b>1</b> is connected to external terminal TA<b>11</b>. Capacitor Cr<b>1</b> is connected between resistor elements Rr<b>1</b> and Rc<b>1</b>.</p>
<p id="p-0263" num="0262">Capacitor Cc<b>2</b> has one electrode connected to one electrode of resistor element Rc<b>2</b>, and the other electrode receiving ground voltage GND. The other electrode of resistor element Rc<b>2</b> is connected to external terminal TA<b>14</b>. Touch electrode EL<b>12</b> is connected to one electrode of resistor element Rr<b>2</b>A. The other electrode of resistor element Rr<b>2</b>A is connected to external terminal TA<b>13</b>. Capacitor Cr<b>2</b>A is connected between resistor elements Rr<b>2</b>A and Rc<b>2</b>. Touch electrode EL<b>13</b> is connected to one electrode of resistor element Rr<b>2</b>B. The other electrode of resistor element Rr<b>2</b>B is connected to external terminal TA<b>15</b>. Capacitor Cr<b>2</b>B is connected between resistor elements Rr<b>2</b>B and Rc<b>2</b>.</p>
<p id="p-0264" num="0263">Respective capacitances provided by touch electrodes EL<b>11</b> to EL<b>13</b> are represented by variable-capacitance capacitors CX<b>11</b> to CX<b>13</b>.</p>
<p id="p-0265" num="0264">Touch sensor IC <b>51</b> sets external terminal TA<b>11</b> to the HiZ state and sets external terminal TA<b>12</b> to &#x201c;H&#x201d; level. Accordingly, capacitors Cc<b>1</b>, Cr<b>1</b>, CX<b>11</b> are charged.</p>
<p id="p-0266" num="0265">Next, touch sensor IC <b>51</b> sets external terminal TA<b>12</b> to the HiZ state. Accordingly, charging of capacitors Cc<b>1</b>, Cr<b>1</b>, CX<b>11</b> is stopped.</p>
<p id="p-0267" num="0266">Next, touch sensor IC <b>51</b> keeps external terminal TA<b>12</b> in the HiZ state and sets external terminal TA<b>11</b> to &#x201c;L&#x201d; level. Accordingly, a part of the charge stored in capacitor Cc<b>1</b> flows to external terminal TA<b>11</b>, the voltage of external terminal TA<b>12</b> decreases, all charges stored in capacitors Cr<b>1</b>, CX<b>11</b> are released, and the voltage across terminals of capacitors Cr<b>1</b>, CX<b>11</b> each is reset to 0 V.</p>
<p id="p-0268" num="0267">Next, touch sensor IC <b>51</b> keeps external terminal TA<b>12</b> in the HiZ state and sets external terminal TA<b>11</b> to the HiZ state. Accordingly, a part of the charge stored in capacitor Cc<b>1</b> is distributed via resistor elements Rc<b>1</b>, Rr<b>1</b> to capacitors Cr<b>1</b>, CX<b>11</b>, and voltage VO of external terminal TA<b>11</b> increases.</p>
<p id="p-0269" num="0268">Next, when a predetermined time has elapsed from the time when external terminals TA<b>11</b> and TA<b>12</b> are set to the HiZ state, touch sensor IC <b>51</b> makes a comparison between respective levels of voltage VO of external terminal TA<b>11</b> and threshold voltage VTH. When the relation VO&#x3e;VTH holds, it is determined that voltage VO is &#x201c;H&#x201d; level. When the relation VO&#x3c;VTH holds, it is determined that voltage VO is &#x201c;L&#x201d; level.</p>
<p id="p-0270" num="0269">Touch sensor IC <b>51</b> alternately performs the discharging operation of releasing the charges stored in capacitors Cr<b>1</b>, CX<b>11</b>, and the distributing operation of distributing a part of the charge stored in capacitor Cc<b>1</b> to capacitors Cr<b>1</b>, CX<b>11</b>. Following a method similar to the one for touch sensor IC <b>51</b>, a determination is made as to whether touch electrode EL<b>11</b> is touched by a human body, or data for making the determination is generated and, a signal representing the result of the determination or a signal representing the fact that the data for making the determination has been generated, is output to microcomputer <b>9</b>.</p>
<p id="p-0271" num="0270">Control circuit <b>5</b> selects remaining touch electrodes EL<b>12</b> and EL<b>13</b> one by one successively and, similarly to touch electrode EL<b>11</b>, determines whether each touch electrode EL is touched by a human body. Control circuit <b>5</b> outputs, to microcomputer <b>9</b>, a signal representing whether touch electrode EL is touched by a human body. Here, peripherals corresponding to those including a capacitor and resistor elements provided for touch electrode EL, are commonly provided for touch electrodes EL<b>12</b> and EL<b>13</b>. The way to make a determination as to the level for external terminals TA<b>12</b> and TA<b>13</b> is similar to the one for external terminal TA<b>11</b> as described above, and the detailed description thereof will not be repeated.</p>
<p id="p-0272" num="0271">Microcomputer <b>9</b> controls touch sensor IC <b>51</b>, receives from touch sensor IC <b>51</b> a signal representing whether touch electrodes EL<b>11</b> to EL<b>13</b> are each touched by a human body, and controls an electrical device to be controlled in response to the signal.</p>
<p id="p-0273" num="0272">Features and operations except for the above-described ones are similar to those of the touch sensor in the first embodiment, and the detailed description thereof will not be repeated.</p>
<p id="p-0274" num="0273">As seen from above, the touch sensor of the present invention is not limited to the configuration as shown in <figref idref="DRAWINGS">FIG. 1</figref>, and touch sensor IC <b>51</b> configured as shown in <figref idref="DRAWINGS">FIG. 35</figref> may be used for the touch sensor of the present invention.</p>
<p id="p-0275" num="0274">The touch sensor of the present invention is applicable to an operating unit of a peripheral (display, printer or the like) of a microcomputer. The touch sensor of the present invention is also applicable to a touch panel of a mobile phone, personal digital assistant or liquid crystal panel. The touch sensor of the present invention is further applicable to touch keys of an electrical home appliance such as IH cooking heater, washing machine, microwave oven, range hood (ventilating fan) or the like.</p>
<p id="p-0276" num="0275">Although the present invention has been described and illustrated in detail, it is clearly understood that the same is by way of illustration and example only and is not to be taken by way of limitation, the scope of the present invention being interpreted by the terms of the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A semiconductor device comprising:
<claim-text>a plurality of first terminals connected to a plurality of touch electrodes, respectively;</claim-text>
<claim-text>a second terminal connected via a capacitor to a line of a reference voltage;</claim-text>
<claim-text>a switch circuit for connecting, to a predetermined node, one of said plurality of first terminals that is associated with a touch electrode selected from said plurality of touch electrodes; and</claim-text>
<claim-text>a charging and discharging circuit for performing a charging operation of charging said capacitor, a discharging operation of releasing a charge of said selected touch electrode, and a distributing operation of distributing a charge of said capacitor via said predetermined node to said selected touch electrode,</claim-text>
<claim-text>whether said selected touch electrode is touched by a human body being determined based on a voltage of said predetermined node;</claim-text>
<claim-text>the semiconductor device further comprising:</claim-text>
<claim-text>a third terminal connected via a resistor element to said second terminal; and</claim-text>
<claim-text>a fourth terminal connected via a sub capacitor to said third terminal and connected to said predetermined node, wherein</claim-text>
<claim-text>said charging and discharging circuit in said charging operation charges said capacitor by applying a first voltage to said second terminal and said predetermined node, said charging and discharging circuit in said discharging operation releases a charge of said sub capacitor and a charge of said selected touch electrode by applying a second voltage lower than said first voltage to said third terminal and said fourth terminal, and said charging and discharging circuit in said distributing operation distributes a charge of said capacitor to said selected touch electrode via said resistor element, said sub capacitor and said predetermined node by setting said first to third terminals in a high-impedance state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The semiconductor device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a sensing circuit for sensing the voltage of said predetermined node and generating, based on a result of the sensing, a signal representing whether said selected touch electrode is touched by a human body.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The semiconductor device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>said charging and discharging circuit alternately performs said discharging operation and said distributing operation after performing said charging operation, and</claim-text>
<claim-text>said semiconductor device further comprises a sensing circuit for making a comparison between the voltage of said predetermined node and a predetermined threshold voltage in a measurement period from a start of said distributing operation to a start of subsequent said discharging operation and generating, based on a result of the comparison, a signal representing whether said selected touch electrode is touched by a human body.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The semiconductor device according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein
<claim-text>said sensing circuit makes a comparison N times (N is an integer of not less than 2) at respective timings different from each other in said measurement period, between the voltage of said predetermined node and said predetermined threshold voltage and, based on a result of the comparison made N times, generates a signal representing whether said selected touch electrode is touched by a human body.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The semiconductor device according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein
<claim-text>the timings at which the comparison between the voltage of said predetermined node and said predetermined threshold voltage is made N times respectively are made different from one measurement period to another measurement period.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The semiconductor device according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, further comprising:
<claim-text>a clock generation circuit for generating a clock signal of a predetermined frequency; and</claim-text>
<claim-text>a selection circuit for selecting, for each measurement period, N edges from a plurality of edges of said clock signal, wherein</claim-text>
<claim-text>said sensing circuit makes said comparison N times respectively in response to the N edges selected by said selection circuit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The semiconductor device according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, further comprising:
<claim-text>a clock generation circuit for generating a clock signal of a predetermined frequency;</claim-text>
<claim-text>a plurality of delay elements connected in series including a delay element in an initial stage receiving said clock signal, said delay elements each delaying the clock signal output from a preceding stage by a predetermined time and providing the delayed clock signal to a subsequent stage;</claim-text>
<claim-text>a first selection circuit for selecting one of respective clock signals that are output from said plurality of delay elements; and</claim-text>
<claim-text>a second selection circuit for selecting, for each measurement period, N edges from a plurality of edges of the clock signal selected by said first selection circuit, wherein</claim-text>
<claim-text>said sensing circuit makes said comparison N times respectively in response to the N edges selected by said second selection circuit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The semiconductor device according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein
<claim-text>said sensing circuit makes a comparison between the number of times a first comparison result is obtained and the number of times a second comparison result is obtained, generates, based on one of said first comparison result and said second comparison result that is obtained a larger number of times, a signal representing whether said selected touch electrode is touched by a human body, said first comparison result is that the voltage of said predetermined node is higher than said predetermined threshold voltage, and said second comparison result is that the voltage of said predetermined node is lower than said predetermined threshold voltage.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The semiconductor device according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein
<claim-text>said charging and discharging circuit performs said discharging operation in response to completion of an Nth comparison between the voltage of said predetermined node and said predetermined threshold voltage by said sensing circuit in each measurement period.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The semiconductor device according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein
<claim-text>said charging and discharging circuit alternately performs said discharging operation and said distributing operation at certain intervals.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The semiconductor device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>said semiconductor device is formed at a surface of a semiconductor substrate,</claim-text>
<claim-text>the surface of said semiconductor substrate is divided into an analog region and a digital region,</claim-text>
<claim-text>analog circuitry of said semiconductor device is placed in said analog region, and</claim-text>
<claim-text>digital circuitry of said semiconductor device is placed in said digital region.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A touch sensor comprising a plurality of touch electrodes, a capacitor and a semiconductor device,
<claim-text>said semiconductor device including:</claim-text>
<claim-text>a plurality of first terminals connected to said plurality of touch electrodes, respectively;</claim-text>
<claim-text>a second terminal connected via said capacitor to a line of a reference voltage;</claim-text>
<claim-text>a switch circuit for connecting, to a predetermined node, one of said plurality of first terminals that is associated with a touch electrode selected from said plurality of touch electrodes; and</claim-text>
<claim-text>a charging and discharging circuit for performing a charging operation of charging said capacitor, a discharging operation of releasing a charge of said selected touch electrode, and a distributing operation of distributing a charge of said capacitor via said predetermined node to said selected touch electrode,</claim-text>
<claim-text>whether said selected touch electrode is touched by a human body being determined based on a voltage of said predetermined node;</claim-text>
<claim-text>the touch sensor further comprising a resistor element and a sub capacitor, wherein</claim-text>
<claim-text>said semiconductor device further includes:</claim-text>
<claim-text>a third terminal connected via said resistor element to said second terminal; and a fourth terminal connected via said sub capacitor to said third terminal and connected to said predetermined node, and</claim-text>
<claim-text>said charging and discharging circuit in said charging operation charges said capacitor by applying a first voltage to said second terminal and said predetermined node, said charging and discharging circuit in said discharging operation releases a charge of said sub capacitor and a charge of said selected touch electrode by applying a second voltage lower than said first voltage to said third terminal and said fourth terminal, and said charging and discharging circuit in said distributing operation distributes a charge of said capacitor to said selected touch electrode via said resistor element, said sub capacitor and said predetermined node by setting said first to third terminals in a high-impedance state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The touch sensor according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein
<claim-text>said charging and discharging circuit alternately performs said discharging operation and said distributing operation after performing said charging operation, and</claim-text>
<claim-text>said semiconductor device further includes a sensing circuit, said sensing circuit makes a comparison N times (N is an integer of not less than 2) at respective timings different from each other in a measurement period from a start of said distributing operation to a start of subsequent said discharging operation, the comparison is made between the voltage of said predetermined node and a predetermined threshold voltage and, based on a result of the comparison made N times, said sensing circuit generates a signal representing whether said selected touch electrode is touched by a human body.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
