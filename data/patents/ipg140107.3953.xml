<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625021-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625021</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12871826</doc-number>
<date>20100830</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>277</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>5</main-group>
<subgroup>225</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>348342</main-classification>
<further-classification>348266</further-classification>
<further-classification>34833312</further-classification>
</classification-national>
<invention-title id="d2e53">Image capture with region-based adjustment of imaging properties</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6466961</doc-number>
<kind>B1</kind>
<name>Miller</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>708816</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2002/0012064</doc-number>
<kind>A1</kind>
<name>Yamaguchi</name>
<date>20020100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348362</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2002/0141639</doc-number>
<kind>A1</kind>
<name>Steinberg</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382167</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2003/0016299</doc-number>
<kind>A1</kind>
<name>Matsushima</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>34833302</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2003/0098922</doc-number>
<kind>A1</kind>
<name>Barkan</name>
<date>20030500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
<classification-national><country>US</country><main-classification>348362</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2004/0017594</doc-number>
<kind>A1</kind>
<name>Suekane et al.</name>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358516</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2004/0125220</doc-number>
<kind>A1</kind>
<name>Fukuda et al.</name>
<date>20040700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348234</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2005/0134722</doc-number>
<kind>A1</kind>
<name>Hofer</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348364</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2005/0270397</doc-number>
<kind>A1</kind>
<name>Battles</name>
<date>20051200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>34833301</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2006/0140510</doc-number>
<kind>A1</kind>
<name>Wallace et al.</name>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382294</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2007/0206108</doc-number>
<kind>A1</kind>
<name>Nozawa</name>
<date>20070900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>34833301</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2007/0291152</doc-number>
<kind>A1</kind>
<name>Suekane et al.</name>
<date>20071200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>34833302</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2008/0303913</doc-number>
<kind>A1</kind>
<name>Mertens</name>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>3482221</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2010/0044822</doc-number>
<kind>A1</kind>
<name>Longoni et al.</name>
<date>20100200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>257446</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00015">
<othercit>F. Zaraga, et al., &#x201c;White balance by tunable spectral responsivities&#x201d;, J. Opt. Soc. Am. A27, 31-39 (2010).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00016">
<othercit>Boston Applied Technologies, Inc., &#x201c;Focal Plane Array with Arbitrary Tunable Spectral Response&#x201d;, Air Force SBIR/STTR Innovation, (2009).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00017">
<othercit>A. Longoni, et al., &#x201c;The transverse field detector (TFD): a novel color-sensitive CMOS device&#x201d;, IEEE Electron Device Letters, 29, pp. 1306-1308, (2008).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00018">
<othercit>U.S. Appl. No. 12/772,841, filed May 3, 2010, Applicant: Francisco Imai.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00019">
<othercit>U.S. Appl. No. 12/789,323, filed May 27, 2010, Applicant: Francisco Imai.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00020">
<othercit>U.S. Appl. No. 12/789,334, filed May 27, 2010, Applicant: Francisco Imai.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00021">
<othercit>U.S. Appl. No. 12/859,115, filed Aug. 18, 2010, Applicant: Francisco Imai.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>42</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>34820799</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3482241</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348234</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>34833301</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>34833302</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348362</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348364</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3482221</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348266-283</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348335-340</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348342</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>34833312</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382167</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382294</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358516</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>257446</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>13</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120050565</doc-number>
<kind>A1</kind>
<date>20120301</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Imai</last-name>
<first-name>Francisco</first-name>
<address>
<city>Mountain View</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Imai</last-name>
<first-name>Francisco</first-name>
<address>
<city>Mountain View</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Canon U.S.A., Inc., IP Division</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Canon Kabushiki Kaisha</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Hern&#xe1;ndez Hern&#xe1;ndez</last-name>
<first-name>Nelson D.</first-name>
<department>2664</department>
</primary-examiner>
<assistant-examiner>
<last-name>Hogue</last-name>
<first-name>Dennis</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Image capture with an image capture device that includes an imaging assembly having a tunable spectral response. A default capture setting is applied to the imaging assembly. Preview image data of a scene is captured using the imaging assembly with the default capture setting. A user interface includes a preview image based on the captured preview image data of the scene. A user designation of a region of interest (ROI) in the preview image is accepted, and a user selection of a targeted imaging property for the ROI is accepted. A revised capture setting for the spectral responsivity of the tunable imaging assembly is computed, by revising the default capture setting based on the targeted imaging property for the ROI as selected by the user. The revised capture setting is applied to the imaging assembly. Image data from the imaging assembly is captured using the revised capture setting.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="126.66mm" wi="156.29mm" file="US08625021-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="230.72mm" wi="186.44mm" file="US08625021-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="259.84mm" wi="196.17mm" orientation="landscape" file="US08625021-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="125.65mm" wi="123.53mm" file="US08625021-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="227.92mm" wi="126.15mm" file="US08625021-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="222.84mm" wi="155.36mm" file="US08625021-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="230.72mm" wi="175.18mm" file="US08625021-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="250.11mm" wi="183.64mm" orientation="landscape" file="US08625021-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="238.84mm" wi="173.23mm" file="US08625021-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD</heading>
<p id="p-0002" num="0001">The present disclosure relates to image capture, and more particularly relates to adjustment of imaging properties for an image capture device.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">In the field of photography, a photographer is often confronted with scenes that have extreme imaging properties, such as high dynamic range and unusual color balance. Dynamic range typically refers to a ratio between maximum and minimum values of physical measurement, and in photography specifically refers to a ratio of luminance values. Color balance typically refers to a comparative ratio of intensities of colors in an image.</p>
<p id="p-0004" num="0003">Examples of scenes with extremes in imaging properties include scenes with high dynamic range or unusual color balance. In some cases, such a scene may have multiple different regions, each with different brightness levels or a different color balance. For example, a scene might include a first region depicting bright day light and a second region depicting dark shadow. In this situation, the first region depicting bright day light has a different brightness level and a different color balance than the second region depicting dark shadow.</p>
<p id="p-0005" num="0004">When confronted with such a scene, the photographer is often compelled to capture many images of the scene, each with different exposure settings, such as shutter speed and/or color balance. Then in post-capture image processing, the photographer combines the images into an acceptable rendition of the scene. This acceptable rendition may not be achievable due to loss of information during capture, such as saturated channels, that cannot be easily estimated or reconstructed.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0006" num="0005">Recently, imaging assemblies have been developed in which the imaging assemblies have a tunable spectral response. Two examples of such imaging assemblies are described here. In the first example of imaging assemblies which have a tunable spectral response, there are imaging assemblies where the image sensor itself has a tunable spectral response. For instance, there is an image sensor described in &#x201c;The Transverse Field Detector: A Novel Color Sensitive CMOS Device&#x201d;, Zaraga, IEEE Electron Device Letters 29, 1306-1308 (2008) and U.S. Patent Publication No. 2010/0044822, the contents of which are incorporated herein by reference. These documents describe a transverse field detector (TFD) which has a tunable spectral responsivity that can be adjusted by application of bias voltages to control electrodes. Each pixel outputs signals for a red-like channel, a green-like channel, and a blue-like channel.</p>
<p id="p-0007" num="0006">In some of these image sensors, the spectral responsivity is tunable on a pixel by pixel basis or a region-by-region basis. Bias voltages are applied in a grid-like spatial mask, such that the spectral responsivity of each pixel is tunable individually of other pixels in the image sensor, or such that the spectral responsivity of each region comprising multiple pixels is tunable individually of other regions in the image sensor.</p>
<p id="p-0008" num="0007">In the second example of imaging assemblies which have a tunable spectral response, there are imaging assemblies where the image sensor is preceded by a color filter array (CFA), and it is the color filter array that has a tunable spectral response. In the first example described above, because the image sensor itself has a tunable spectral response, it might be customary to omit a preceding color filter array, since the inclusion of any filter necessarily would decrease the signal-to-noise ratio by filtering the amount of light incident on the image sensor. In contrast, in this second example, the spectral responsivity of the image sensor is not necessarily tunable, but the spectral responsivity of a preceding color filter array is. For instance, there is a tunable color filter array described in U.S. Pat. No. 6,466,961 by Miller, &#x201c;Methods for Adaptive Spectral, Spatial and Temporal Sensing for Imaging Applications&#x201d;, the content of which is incorporated herein by reference. This document describes an imaging assembly comprising a color filter array which precedes an image sensor whose spectral responsivity is constant, but in which the color filter array itself has a tunable spectral responsivity that can be adjusted by application of bias voltages to control electrodes. Each array element thus filters light incident on corresponding pixels of the image sensor, and the image sensor thereafter outputs signals from which a red-like channel, a green-like channel, and a blue-like channel, can all be derived for each pixel. In the case of a color filter array with temporal sensing, the channels for each pixel may be output sequentially, one after the other. In the case of a color filter array with spatial sensing, the channels for each pixel may be output simultaneously or nearly so, although demosaicing might be required depending on the geometry of the color filter array.</p>
<p id="p-0009" num="0008">In some of these color filter arrays, the spectral responsivity is tunable on a pixel by pixel basis or a region-by-region basis. Bias voltages are applied in a grid-like spatial mask, such that the spectral responsivity for each pixel is tunable individually of other pixels, or such that the spectral responsivity for each region comprising multiple pixels is tunable individually of other regions.</p>
<p id="p-0010" num="0009">According to an aspect of the disclosure herein, an image capture device is provided with an imaging assembly configured to capture an image and acquire image data. The imaging assembly has tunable sensitivities controlled by a capture setting, such as voltages applied to each pixel of an image sensor which has tunable spectral responsivity, or such as voltages that are applied to each array element of a color filter array which has tunable spectral responsivity. The color sensitivities for each pixel are thereby adjusted in accordance with a spatial mask.</p>
<p id="p-0011" num="0010">Thus, in an example embodiment described herein, an image capture device includes an imaging assembly having a tunable spectral response. A default capture setting is applied to the tunable imaging assembly for setting the spectral response of the tunable imaging assembly to a predesignated default setting. Preview image data of a scene from imaging assembly is captured using the default capture setting. A user interface which includes a preview image based on the captured preview image data of the scene is displayed. A user designation of a ROI in the preview image is accepted, wherein the designation of the ROI is accepted via user manipulation of the user interface. A user selection of a targeted imaging property for the ROI is accepted, wherein the user selection is accepted via user manipulation of the user interface. A revised capture setting for the spectral responsivity of the tunable imaging assembly is computed, by revising the default capture setting based on the targeted imaging property for the ROI as selected by the user. The revised capture setting is applied to the tunable imaging assembly for setting the spectral response of the tunable imaging assembly to a revised setting. Image data from the imaging assembly is captured using the revised capture setting.</p>
<p id="p-0012" num="0011">By virtue of this arrangement, it is ordinarily possible to capture an image of a scene based on imaging properties selected by a user. For example, it is typically possible for a user to select imaging properties such that the image is captured with good exposure and good color balance. In addition, it is ordinarily possible to do so with a single image capture operation, even for difficult scenes such as scenes with multiple regions each having different dynamic ranges or unusual color balance.</p>
<p id="p-0013" num="0012">In one example embodiment, accepting the user selection of the targeted imaging property for the ROI comprises accepting a user selection of a target range for brightness for the ROI. In this case, the step of computing the revised capture setting for the spectral responsivity of the tunable imaging assembly comprises revising the default capture setting based on the target range for brightness for the ROI as selected by the user. According to this example embodiment, computing the revised capture setting comprises computing a brightness change parameter based on a comparison of original brightness values in the preview image data with the target range of brightness for the ROI as selected by the user, and combining the brightness change parameter with the default capture setting so as to compute the revised capture setting. In particular, in an example embodiment, computing the brightness change parameter comprises calculating a difference between the original brightness values in the preview image data and the target range of brightness for the ROI as selected by the user. In some embodiments, accepting the selection of the target range for brightness comprises displaying on the user interface a brightness range of the preview image data, and accepting a user manipulation of the brightness range so as to effect the selection of the target range for brightness for the ROI. For example, in one example embodiment, the brightness range of the preview image data is displayed on the user interface as a brightness histogram.</p>
<p id="p-0014" num="0013">In another example embodiment, accepting the user selection of the targeted imaging property for the ROI comprises accepting a user selection of a target range for color balance for the ROI. In this case, the step of computing the revised capture setting for the spectral responsivity of the tunable imaging assembly comprises revising the default capture setting based on the target range for color balance for the ROI as selected by the user. According to this example embodiment, computing the revised capture setting comprises computing color change parameters based on a comparison of original color channel values in the preview image data with the target color balance for the ROI as selected by the user, and combining the color change parameters with the default capture setting so as to compute the revised capture setting. In particular, computing the color change parameters comprises calculating a difference between the original color channel values in the preview image data and the target color balance for the ROI as selected by the user. In some embodiments, accepting the selection of the target range for color balance comprises displaying on the user interface color channel ranges of the preview image data, and accepting a user manipulation of the color channel ranges so as to effect the selection of the target range for color balance for the ROI. For example, in one embodiment, the color channel ranges of the preview image data are displayed on the user interface as color channel histograms.</p>
<p id="p-0015" num="0014">In some example embodiments, the default capture setting and the revised capture setting both comprise an electronic spatial mask, and wherein the revised capture setting comprises an electronic spatial mask with differing spectral responsivity settings in different regions of the mask.</p>
<p id="p-0016" num="0015">In some embodiments described herein, the imaging assembly comprises an image sensor which has a tunable spectral response. In other embodiments described herein, the imaging assembly comprises an image sensor and a preceding color filter array which has a tunable spectral response.</p>
<p id="p-0017" num="0016">In one example embodiment, after capturing image data with the revised capture setting, a user interface which includes a preview image based on the image data captured with the revised capture setting is displayed, and it is determined whether a user has or has not designated the ROI on the displayed preview image. Responsive to a determination that the user has not designated the ROI, image data is captured using the revised capture setting, and the image data is stored. On the other hand, responsive to a determination that the user has designated the ROI, a second user selection of a targeted imaging property for the ROI is accepted, a second revised capture setting for the spectral responsivity of the tunable imaging assembly is computed based on the targeted imaging property for the ROI as selected by the user, and the second revised capture setting is applied to the tunable imaging assembly setting for setting the spectral response of the tunable imaging assembly to the second revised capture setting.</p>
<p id="p-0018" num="0017">This brief summary has been provided so that the nature of this disclosure may be understood quickly. A more complete understanding can be obtained by reference to the following detailed description and to the attached drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIGS. 1A and 1B</figref> are representative views for explaining the exterior appearance of an image capture device relevant to one example embodiment.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIGS. 2A and 2B</figref> are detailed block diagrams for explaining the internal architecture of the image capture device shown in <figref idref="DRAWINGS">FIG. 1</figref> according to one example embodiment.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 3</figref> is a view for explaining software architecture of the image capture device shown in <figref idref="DRAWINGS">FIG. 1</figref> according to one example embodiment.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 4A</figref> is a view for explaining display of an image by the image capture device shown in <figref idref="DRAWINGS">FIG. 1</figref> according to one example embodiment.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 4B</figref> is a view for explaining acceptance, by the image capture device shown in <figref idref="DRAWINGS">FIG. 1</figref>, of a designation of a region of interest according to one example embodiment.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIGS. 4C to 4E</figref> are views for explaining acceptance, by the image capture device shown in <figref idref="DRAWINGS">FIG. 1</figref>, of a selection of a targeted imaging property according to one example embodiment.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 5</figref> is a flow diagram for explaining processing in the image capture device shown in <figref idref="DRAWINGS">FIG. 1</figref> according to one example embodiment.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 6</figref> is a detailed block diagram for explaining the internal architecture of an image capture device according to one example embodiment.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 7</figref> is a flow diagram for explaining processing in the image capture device shown in <figref idref="DRAWINGS">FIG. 6</figref> according to one example embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="h-0006" num="0000">&#x3c;FIGS. <b>1</b> to <b>5</b>&#x3e;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIGS. 1A and 1B</figref> are representative views for explaining the exterior appearance of an image capture device relevant to one example embodiment. Note in these figures, some components are omitted for description purpose. As shown in <figref idref="DRAWINGS">FIGS. 1A and 1B</figref>, image capture device <b>100</b> is constructed as an embedded and hand held device including a optical system <b>10</b> and a connector <b>112</b> for connection to external devices. In the embodiment of <figref idref="DRAWINGS">FIGS. 1A and 1B</figref>, interface connector <b>112</b> is a USB interface connector, but other wired and wireless interfaces may be used.</p>
<p id="p-0029" num="0028">Image capture device <b>100</b> further includes a variety of user interfaces for permitting a user to interact therewith, such as shutter release <b>310</b>, an image display unit <b>28</b> for displaying menus and thumbnail images, and a series of selector buttons for permitting display and selection of menu items.</p>
<p id="p-0030" num="0029">While <figref idref="DRAWINGS">FIGS. 1A and 1B</figref> depict one example embodiment of image capture device <b>100</b>, it should be understood that the image capture device <b>100</b> may be configured in the form of, for example, a digital camera, a video camera, or any type of device including a camera, such as a pager, a cellular telephone, a radio telephone, a personal computer, a personal digital assistant (PDA), a Moving Pictures Expert Group Layer 3 (MP3) player, and/or the like.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 2A</figref> is a detailed block diagram for explaining the internal architecture of the image capture device <b>100</b> shown in <figref idref="DRAWINGS">FIG. 1</figref> according to one example embodiment. Referring to <figref idref="DRAWINGS">FIG. 2A</figref>, reference numeral <b>10</b> denotes an imaging lens; <b>12</b>, a shutter having an aperture function; and <b>14</b>, an image sensor which has a spectral response which is tunable in accordance with a capture setting, which converts an optical image into an electrical signal. Reference numeral <b>16</b> denotes an A/D converter which converts an analog signal into a digital signal. The A/D converter <b>16</b> is used when an analog signal output from the image sensor <b>14</b> is converted into a digital signal and when an analog signal output from an audio controller <b>11</b> is converted into a digital signal. Reference numeral <b>102</b> denotes a shield, or barrier, which covers the image sensor including the lens <b>10</b> of the digital camera <b>100</b> to prevent an image capturing system including the lens <b>10</b>, shutter <b>12</b>, and image sensor <b>14</b> from being contaminated or damaged.</p>
<p id="p-0032" num="0031">In <figref idref="DRAWINGS">FIG. 2A</figref>, an imaging assembly is comprised of image sensor <b>14</b> and associated optics, such that in some embodiments the imaging assembly is comprised of image sensor <b>14</b> and lens <b>10</b>.</p>
<p id="p-0033" num="0032">The optical system <b>10</b> may be of a zoom lens, thereby providing an optical zoom function. The optical zoom function is realized by driving a magnification-variable lens of the optical system <b>10</b> using a driving mechanism of the optical system <b>10</b> or a driving mechanism provided on the main unit of the digital camera <b>100</b>.</p>
<p id="p-0034" num="0033">A light beam (light beam incident upon the angle of view of the lens) from an object in a scene that goes through the optical system (image sensing lens) <b>10</b> passes through an opening of a shutter <b>12</b> having a diaphragm function, and forms an optical image of the object on the image sensing surface of the image sensor <b>14</b>. The image sensor <b>14</b> converts the optical image to analog image signals and outputs the signals to an A/D converter <b>16</b>. The A/D converter <b>16</b> converts the analog image signals to digital image signals (image data). The image sensor <b>14</b> and the A/D converter <b>16</b> are controlled by clock signals and control signals provided by a timing generator <b>18</b>. The timing generator <b>18</b> is controlled by a memory controller <b>22</b> and a system controller <b>50</b>.</p>
<p id="p-0035" num="0034">Image sensor <b>14</b> is an image sensor which has a spectral response which is tunable in accordance with a capture setting <b>17</b>. For each pixel, image sensor <b>14</b> outputs three or more channels of color information, including a red-like channel, a green-like channel and a blue-like channel. The precise nature of the spectral responsivity of image sensor <b>14</b> is controlled via capture setting <b>17</b>. In this embodiment, capture setting <b>17</b> may be comprised of multiple spatial masks, with one mask each for each channel of information output by image sensor <b>14</b>. Thus, in this example, where image sensor <b>14</b> outputs three or more channels, capture setting <b>17</b> includes a spatial mask DR for the red-like channel of information, a spatial mask DG for the green-like channel of information, and a spatial mask DB for the blue-like channel of information. Each spatial mask comprises an array of control parameters corresponding to pixels or regions of pixels in image sensor <b>14</b>. The spectral responsivity of each pixel, or each region of plural pixels, is thus tunable individually and independently of other pixels or regions of pixels.</p>
<p id="p-0036" num="0035">Reference numeral <b>18</b> denotes a timing generator, which supplies clock signals and control signals to the image sensor <b>14</b>, the audio controller <b>11</b>, the A/D converter <b>16</b>, and a D/A converter <b>26</b>. The timing generator <b>18</b> is controlled by a memory controller <b>22</b> and system controller <b>50</b>. Reference numeral <b>20</b> denotes an image processor, which applies resize processing such as predetermined interpolation and reduction, and color conversion processing to data from the A/D converter <b>16</b> or that from the memory controller <b>22</b>. The image processor <b>20</b> executes predetermined arithmetic processing using the captured image data, and the system controller <b>50</b> executes exposure control and ranging control based on the obtained arithmetic result.</p>
<p id="p-0037" num="0036">As a result, TTL (through-the-lens) AF (auto focus) processing, AE (auto exposure) processing, and EF (flash pre-emission) processing are executed. The image processor <b>20</b> further executes predetermined arithmetic processing using the captured image data, and also executes TTL AWB (auto white balance) processing based on the obtained arithmetic result. It is understood that in other embodiments, optical finder <b>104</b> may be used in combination with the TTL arrangement, or in substitution therefor.</p>
<p id="p-0038" num="0037">Output data from the A/D converter <b>16</b> is written in a memory <b>30</b> via the image processor <b>20</b> and memory controller <b>22</b> or directly via the memory controller <b>22</b>. The memory <b>30</b> stores image data which is captured by the image sensor <b>14</b> and is converted into digital data by the A/D converter <b>16</b>, and image data to be displayed on an image display unit <b>28</b>. The image display unit <b>28</b> may be a liquid crystal screen. Note that the memory <b>30</b> is also used to store audio data recorded via a microphone <b>13</b>, still images, movies, and file headers upon forming image files. Therefore, the memory <b>30</b> has a storage capacity large enough to store a predetermined number of still image data, and movie data and audio data for a predetermined period of time.</p>
<p id="p-0039" num="0038">A compression/decompression unit <b>32</b> compresses or decompresses image data by adaptive discrete cosine transform (ADCT) or the like. The compression/decompression unit <b>32</b> loads captured image data stored in the memory <b>30</b> in response to pressing of the shutter <b>310</b> as a trigger, executes the compression processing, and writes the processed data in the memory <b>30</b>. Also, the compression/decompression unit <b>32</b> applies decompression processing to compressed image data loaded from a detachable recording unit <b>202</b> or <b>212</b>, as described below, and writes the processed data in the memory <b>30</b>. Likewise, image data written in the memory <b>30</b> by the compression/decompression unit <b>32</b> is converted into a file by the system controller <b>50</b>, and that file is recorded in the recording unit <b>202</b> or <b>212</b>, as also described below.</p>
<p id="p-0040" num="0039">The memory <b>30</b> also serves as an image display memory (video memory). Reference numeral <b>26</b> denotes a D/A converter, which converts image display data stored in the memory <b>30</b> into an analog signal, and supplies that analog signal to the image display unit <b>28</b>. Reference numeral <b>28</b> denotes an image display unit, which makes display according to the analog signal from the D/A converter <b>26</b> on the liquid crystal screen <b>28</b> of an LCD display. In this manner, image data to be displayed written in the memory <b>30</b> is displayed by the image display unit <b>28</b> via the D/A converter <b>26</b>.</p>
<p id="p-0041" num="0040">The exposure controller <b>40</b> controls the shutter <b>12</b> having a diaphragm function based on the data supplied from the system controller <b>50</b>. The exposure controller <b>40</b> may also have a flash exposure compensation function by linking up with a flash (flash emission device) <b>48</b>. The flash <b>48</b> has an AF auxiliary light projection function and a flash exposure compensation function.</p>
<p id="p-0042" num="0041">The distance measurement controller <b>42</b> controls a focusing lens of the optical system <b>10</b> based on the data supplied from the system controller <b>50</b>. A zoom controller <b>44</b> controls zooming of the optical system <b>10</b>. A shield controller <b>46</b> controls the operation of a shield (barrier) <b>102</b> to protect the optical system <b>10</b>.</p>
<p id="p-0043" num="0042">Reference numeral <b>13</b> denotes a microphone. An audio signal output from the microphone <b>13</b> is supplied to the A/D converter <b>16</b> via the audio controller <b>11</b> which includes an amplifier and the like, is converted into a digital signal by the A/D converter <b>16</b>, and is then stored in the memory <b>30</b> by the memory controller <b>22</b>. On the other hand, audio data is loaded from the memory <b>30</b>, and is converted into an analog signal by the D/A converter <b>26</b>. The audio controller <b>11</b> drives a speaker <b>15</b> according to this analog signal, thus outputting a sound.</p>
<p id="p-0044" num="0043">A nonvolatile memory <b>56</b> is an electrically erasable and recordable memory, and uses, for example, an EEPROM. The nonvolatile memory <b>56</b> stores constants, computer-executable programs, and the like for operation of system controller <b>50</b>. Note that the programs include those for execution of various flowcharts.</p>
<p id="p-0045" num="0044">In particular, and as shown in <figref idref="DRAWINGS">FIG. 2B</figref>, non-volatile memory <b>56</b> is an example of a non-transitory computer-readable memory medium, having stored thereon image capture module <b>300</b> as described herein. According to this example embodiment, the image capture module <b>300</b> includes at least a setting module <b>310</b>, a capture module <b>320</b>, a user interface module <b>330</b>, and a calculation module <b>350</b>. Briefly, the setting module <b>310</b> comprises computer-executable process steps executed by a computer for applying a capture setting to the image sensor <b>14</b> for setting the spectral response of the tunable imaging assembly to a setting. The capture module <b>320</b> comprises computer-executable process steps executed by a computer for capturing image data of a scene from the image sensor <b>14</b> using the capture setting. The user interface module <b>330</b> comprises computer-executable process steps executed by a computer for displaying a user interface which includes a preview image based on the captured image data, for accepting a user designation of a region of interest (ROI) in the preview image, and for accepting a user selection of a targeted imaging property for the ROI. The calculation module <b>350</b> comprises computer-executable process steps executed by a computer for computing a revised capture setting for the spectral responsivity of the tunable imaging assembly. These modules will be discussed in more detail below with respect to <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0046" num="0045">Also stored on non-volatile memory <b>56</b> are pre-designated capture settings <b>315</b> for application to image sensor <b>14</b> so as to control spectral responsivity of the imaging assembly. In this embodiment, the capture settings <b>315</b> are comprised of spatial masks so as to permit pixel-by-pixel or region-by-region control of spectral responsivity, independently of other pixels or regions.</p>
<p id="p-0047" num="0046">Reference numeral <b>50</b> denotes a system controller, which controls the entire digital camera <b>100</b>. The system controller <b>50</b> executes programs recorded in the aforementioned nonvolatile memory <b>56</b> to implement respective processes to be described later of this embodiment. Reference numeral <b>52</b> denotes a system memory which comprises a RAM. On the system memory <b>52</b>, constants and variables required to operate system controller <b>50</b>, programs read out from the nonvolatile memory <b>56</b>, and the like are mapped.</p>
<p id="p-0048" num="0047">A mode selection switch <b>60</b>, shutter switch <b>310</b>, and operation unit <b>70</b> form operation means used to input various operation instructions to the system controller <b>50</b>.</p>
<p id="p-0049" num="0048">The mode selection switch <b>60</b> includes the imaging/playback selection switch, and is used to switch the operation mode of the system controller <b>50</b> to one of a still image recording mode, movie recording mode, playback mode, and the like.</p>
<p id="p-0050" num="0049">The shutter switch <b>62</b> is turned on in the middle of operation (half stroke) of the shutter button <b>310</b> arranged on the digital camera <b>100</b>, and generates a first shutter switch signal SW<b>1</b>. Also, the shutter switch <b>64</b> is turned on upon completion of operation (full stroke) of the shutter button <b>310</b>, and generates a second shutter switch signal SW<b>2</b>. The system controller <b>50</b> starts the operations of the AF (auto focus) processing, AE (auto exposure) processing, AWB (auto white balance) processing, EF (flash pre-emission) processing, and the like in response to the first shutter switch signal SW<b>1</b>. Also, in response to the second shutter switch signal SW<b>2</b>, the system controller <b>50</b> starts a series of processing (shooting) including the following: processing to read image signals from the image sensor <b>14</b>, convert the image signals into image data by the A/D converter <b>16</b>, process the image data by the image processor <b>20</b>, and write the data in the memory <b>30</b> through the memory controller <b>22</b>; and processing to read the image data from the memory <b>30</b>, compress the image data by the compression/decompression circuit <b>32</b>, and write the compressed image data in the recording medium <b>200</b> or <b>210</b>.</p>
<p id="p-0051" num="0050">A zoom operation unit <b>65</b> is an operation unit operated by a user for changing the angle of view (zooming magnification or shooting magnification). The operation unit <b>65</b> can be configured with, e.g., a slide-type or lever-type operation member, and a switch or a sensor for detecting the operation of the member.</p>
<p id="p-0052" num="0051">The image display ON/OFF switch <b>66</b> sets ON/OFF of the image display unit <b>28</b>. In shooting an image with the optical finder <b>104</b>, the display of the image display unit <b>28</b> configured with a TFT, an LCD or the like may be turned off to cut the power supply for the purpose of power saving.</p>
<p id="p-0053" num="0052">The flash setting button <b>68</b> sets and changes the flash operation mode. In this embodiment, the settable modes include: auto, flash-on, red-eye reduction auto, and flash-on (red-eye reduction). In the auto mode, flash is automatically emitted in accordance with the lightness of an object. In the flash-on mode, flash is always emitted whenever shooting is performed. In the red-eye reduction auto mode, flash is automatically emitted in accordance with lightness of an object, and in case of flash emission the red-eye reduction lamp is always emitted whenever shooting is performed. In the flash-on (red-eye reduction) mode, the red-eye reduction lamp and flash are always emitted.</p>
<p id="p-0054" num="0053">The operation unit <b>70</b> comprises various buttons, touch panels and so on. More specifically, the operation unit <b>70</b> includes a menu button, a set button, a macro selection button, a multi-image reproduction/repaging button, a single-shot/serial shot/self-timer selection button, a forward (+) menu selection button, a backward (&#x2212;) menu selection button, and the like. Furthermore, the operation unit <b>70</b> may include a forward (+) reproduction image search button, a backward (&#x2212;) reproduction image search button, an image shooting quality selection button, an exposure compensation button, a date/time set button, a compression mode switch and the like.</p>
<p id="p-0055" num="0054">The compression mode switch is provided for setting or selecting a compression rate in JPEG (Joint Photographic Expert Group) compression, recording in a RAW mode and the like. In the RAW mode, analog image signals outputted by the image sensing device are digitalized (RAW data) as it is and recorded.</p>
<p id="p-0056" num="0055">Note in the present embodiment, RAW data includes not only the data obtained by performing A/D conversion on the photoelectrically converted data from the image sensing device, but also the data obtained by performing lossless compression on A/D converted data. Moreover, RAW data indicates data maintaining output information from the image sensing device without a loss. For instance, RAW data is A/D converted analog image signals which have not been subjected to white balance processing, color separation processing for separating luminance signals from color signals, or color interpolation processing. Furthermore, RAW data is not limited to digitalized data, but may be of analog image signals obtained from the image sensing device.</p>
<p id="p-0057" num="0056">According to the present embodiment, the JPEG compression mode includes, e.g., a normal mode and a fine mode. A user of the digital camera <b>100</b> can select the normal mode in a case of placing a high value on the data size of a shot image, and can select the fine mode in a case of placing a high value on the quality of a shot image.</p>
<p id="p-0058" num="0057">In the JPEG compression mode, the compression/decompression circuit <b>32</b> reads image data written in the memory <b>30</b> to perform compression at a set compression rate, and records the compressed data in, e.g., the recording medium <b>200</b>.</p>
<p id="p-0059" num="0058">In the RAW mode, analog image signals are read in units of line in accordance with the pixel arrangement of the color filter of the image sensing device <b>14</b>, and image data written in the memory <b>30</b> through the A/D converter <b>16</b> and the memory controller <b>22</b> is recorded in the recording medium <b>200</b> or <b>210</b>.</p>
<p id="p-0060" num="0059">Note that the digital camera <b>100</b> according to the present embodiment has a plural-image shooting mode, where plural image data can be recorded in response to a single shooting instruction by a user. Image data recording in this mode includes image data recording typified by an auto bracket mode, where shooting parameters such as white balance and exposure are changed step by step. It also includes recording of image data having different post-shooting image processing contents, for instance, recording of plural image data having different data forms such as recording in a JPEG form or a RAW form, recording of image data having the same form but different compression rates, and recording of image data on which predetermined image processing has been performed and has not been performed.</p>
<p id="p-0061" num="0060">A power controller <b>80</b> comprises a power detection circuit, a DC-DC converter, a switch circuit to select the block to be energized, and the like. The power controller <b>80</b> detects the existence/absence of a power source, the type of the power source, and a remaining battery power level, controls the DC-DC converter based on the results of detection and an instruction from the system controller <b>50</b>, and supplies a necessary voltage to the respective blocks for a necessary period. A power source <b>86</b> is a primary battery such as an alkaline battery or a lithium battery, a secondary battery such as an NiCd battery, an NiMH battery or an Li battery, an AC adapter, or the like. The main unit of the digital camera <b>100</b> and the power source <b>86</b> are connected by connectors <b>82</b> and <b>84</b> respectively comprised therein.</p>
<p id="p-0062" num="0061">The recording media <b>200</b> and <b>210</b> comprise: recording units <b>202</b> and <b>212</b> that are configured with semiconductor memories, magnetic disks and the like, interfaces <b>203</b> and <b>213</b> for communication with the digital camera <b>100</b>, and connectors <b>206</b> and <b>216</b>. The recording media <b>200</b> and <b>210</b> are connected to the digital camera <b>100</b> through connectors <b>206</b> and <b>216</b> of the media and connectors <b>92</b> and <b>96</b> of the digital camera <b>100</b>. To the connectors <b>92</b> and <b>96</b>, interfaces <b>90</b> and <b>94</b> are connected. The attached/detached state of the recording media <b>200</b> and <b>210</b> is detected by a recording medium attached/detached state detector <b>98</b>.</p>
<p id="p-0063" num="0062">Note that although the digital camera <b>100</b> according to the present embodiment comprises two systems of interfaces and connectors for connecting the recording media, a single or plural arbitrary numbers of interfaces and connectors may be provided for connecting a recording medium. Further, interfaces and connectors pursuant to different standards may be provided for each system.</p>
<p id="p-0064" num="0063">For the interfaces <b>90</b> and <b>94</b> as well as the connectors <b>92</b> and <b>96</b>, cards in conformity with a standard, e.g., PCMCIA cards, compact flash (CF) (registered trademark) cards and the like, may be used. In this case, connection utilizing various communication cards can realize mutual transfer/reception of image data and control data attached to the image data between the digital camera and other peripheral devices such as computers and printers. The communication cards include, for instance, a LAN card, a modem card, a USB card, an IEEE 1394 card, a P1284 card, an SCSI card, and a communication card for PHS or the like.</p>
<p id="p-0065" num="0064">The optical finder <b>104</b> is configured with, e.g., a TTL finder, which forms an image from the light beam that has gone through the lens <b>10</b> utilizing prisms and minors. By utilizing the optical finder <b>104</b>, it is possible to shoot an image without utilizing an electronic view finder function of the image display unit <b>28</b>. The optical finder <b>104</b> includes indicators, which constitute part of the display device <b>54</b>, for indicating, e.g., a focus state, a camera shake warning, a flash charge state, a shutter speed, an f-stop value, and exposure compensation.</p>
<p id="p-0066" num="0065">A communication circuit <b>110</b> provides various communication functions such as USB, IEEE 1394, P1284, SCSI, modem, LAN, RS232C, and wireless communication. To the communication circuit <b>110</b>, a connector <b>112</b> can be connected for connecting the digital camera <b>100</b> to other devices, or an antenna can be provided for wireless communication.</p>
<p id="p-0067" num="0066">A real-time clock (RTC, not shown) may be provided to measure date and time. The RTC holds an internal power supply unit independently of the power supply controller <b>80</b>, and continues time measurement even when the power supply unit <b>86</b> is OFF. The system controller <b>50</b> sets a system timer using a date and time obtained from the RTC at the time of activation, and executes timer control.</p>
<p id="p-0068" num="0067"><figref idref="DRAWINGS">FIG. 3</figref> is a view for explaining software architecture of the image capture device <b>100</b> of <figref idref="DRAWINGS">FIG. 1</figref> according to one example embodiment. As previously discussed with respect to <figref idref="DRAWINGS">FIG. 2B</figref>, image capture module <b>300</b> comprises computer-executable process steps stored on a non-transitory computer-readable storage medium, such as non-volatile memory <b>56</b>. In this example embodiment, as shown in <figref idref="DRAWINGS">FIG. 3</figref>, image capture module <b>300</b> includes computer-executable process steps for at least the setting module <b>310</b>, the capture module <b>320</b>, the user interface module <b>330</b>, and the calculation module <b>350</b>.</p>
<p id="p-0069" num="0068">The setting module <b>310</b> is constructed to apply a capture setting <b>315</b> to the tunable image sensor <b>14</b> for setting the spectral response of the tunable imaging assembly to a setting. More specifically, for example, setting module <b>310</b> applies a default capture setting to the tunable image sensor <b>14</b> for setting the spectral response of the tunable imaging assembly to a predesignated default setting, and applies a revised capture setting to the tunable image sensor <b>14</b> for setting the spectral response of the imaging assembly to a revised setting. In this example embodiment, the default capture setting and the revised capture setting both comprise an electronic spatial mask. In particular, the revised capture setting comprises an electronic spatial mask with differing spectral responsivity settings in different regions of the mask.</p>
<p id="p-0070" num="0069">The capture module <b>320</b> is constructed to capture image data of a scene from the image sensor <b>14</b> using the capture setting <b>315</b> applied by the setting module <b>310</b>. Image data which is captured by the image sensor <b>14</b> is stored in memory <b>30</b>. More specifically, for example, preview image data of a scene from the image sensor <b>14</b> is captured using the default capture setting, and revised image data from the image sensor <b>14</b> is captured using the revised capture setting. In this example embodiment, the default capture setting is provided by the manufacturer of the image sensor <b>14</b>. In other example embodiments, the default capture setting is provided in any suitable manner, including, for example, by user specification.</p>
<p id="p-0071" num="0070">The user interface module <b>330</b> is constructed to display a user interface which includes a preview image based on the captured preview image data of the scene. User interface module <b>330</b> is also constructed to accept a user designation of a region of interest (ROI) in the preview image, via user manipulation of the user interface.</p>
<p id="p-0072" num="0071">Additionally, user interface module <b>330</b> is constructed to accept a user selection of a targeted imaging property for the ROI, also via user manipulation of the user interface. In one example embodiment, user interface module <b>330</b> comprises a brightness adjustment module which accepts a user selection of a target range for brightness for the ROI by displaying on the user interface a brightness range of the preview image data and accepting a user manipulation of the brightness range. According to this example embodiment, the brightness range of the preview image data is displayed on the user interface as a brightness histogram.</p>
<p id="p-0073" num="0072">In another example embodiment, user interface module <b>330</b> comprises a color balance adjustment module which accepts a user selection of a target range for color balance for the ROI by displaying on the user interface color channel ranges of the preview image data and accepting a user manipulation of the color channel ranges. According to this example embodiment, the color channel ranges of the preview image data are displayed on the user interface as color channel histograms.</p>
<p id="p-0074" num="0073">The calculation module <b>350</b> is constructed to compute the revised capture setting for the spectral responsivity of the tunable image sensor <b>14</b>, by revising the default capture setting based on the targeted imaging property for the ROI as selected by the user. In this embodiment, the revised capture setting comprises an electronic spatial mask.</p>
<p id="p-0075" num="0074">Generally, calculation module <b>350</b> receives the targeted imaging property for the ROI from user interface module <b>330</b> and obtains original parameters <b>340</b> for the designated ROI in order to revise the capture setting. Original parameters <b>340</b> are statistical values of the imaging properties that characterize the ROI before adjustment by the user. For example, the original imaging property values may be a median of the brightness values or a median of the RGB values for the designated ROI. In this example embodiment, the original imaging property values are previously stored by the image capture device <b>100</b> when capture module <b>320</b> captures image data of a scene from the image sensor <b>14</b>, for example, in memory <b>26</b>. In this case, calculation module <b>350</b> accesses memory <b>56</b> in order to obtain the original parameters <b>340</b> for the ROI.</p>
<p id="p-0076" num="0075">In the case that the targeted imaging property is a brightness value, the calculation module is constructed to revise the default capture setting based on the target range for brightness for the ROI as selected by the user. In this case, the calculation module computes a brightness change parameter based on a comparison of the obtained original brightness values with the target range of brightness as selected by the user, and combines the brightness change parameter with the default capture setting so as to compute the revised capture setting. More specifically, the brightness change parameter is computed, for example, by calculating a difference between the original brightness values in the preview image data and the target range of brightness for the ROI as selected by the user. In an example embodiment, the brightness change parameter is associated with a bias voltage for the electronic spatial mask. For example, the brightness change parameter is associated with the bias voltage by using a lookup table. Of course, any other suitable method of association may be used, including for example, by providing a module which generates the appropriate bias voltages based on the brightness change parameter.</p>
<p id="p-0077" num="0076">In the case that the targeted imaging property is a color balance value, the calculation module is constructed to revise the default capture setting based on the target range for color balance for the ROI as selected by the user. In this case, the calculation module computes color change parameters based on a comparison of the obtained original color channel values with the target color balance as selected by the user, and combines the color change parameters with the default capture setting so as to compute the revised capture setting. More specifically, the color change parameters are computed, for example, by calculating a difference between the original color channel values in the preview image data and the target color balance for the ROI as selected by the user. In an example embodiment, the color change parameters are associated with bias voltages for the electronic spatial mask. For example, the color change parameters are associated with bias voltages by using a lookup table. Of course, any other suitable method of association may be used, including for example, by providing a module which generates the appropriate bias voltages based on the color change parameters.</p>
<p id="p-0078" num="0077">In some example embodiments, image capture module <b>300</b> further includes a determination module (not shown) constructed to determine whether a user has or has not designated the ROI on the displayed preview image. According to these embodiments, responsive to a determination that the user has not designated the ROI, the capture module is constructed to capture image data using the revised capture setting, and to store the captured image data. On the other hand, responsive to a determination that the user has designated the ROI, the user interface module is constructed to accept a second user selection of a targeted imaging property for the ROI. In this situation, the calculation module is constructed to compute a second revised capture setting for the spectral responsivity of the tunable imaging assembly based on the targeted imaging property for the ROI as selected by the user, and the setting module is constructed to apply the second revised capture setting to the tunable image sensor setting for setting the spectral response of the tunable imaging assembly to the second revised capture setting.</p>
<p id="p-0079" num="0078"><figref idref="DRAWINGS">FIG. 4A</figref> is a view for explaining display of an image by the image capture device shown in <figref idref="DRAWINGS">FIG. 1</figref> according to one example embodiment. In particular, a rear view of image capture device <b>100</b> having image display unit <b>28</b> is provided in <figref idref="DRAWINGS">FIG. 4A</figref>. According to this example embodiment, a user interface which includes a preview image based on captured image data of a scene is displayed on the image display unit <b>28</b>.</p>
<p id="p-0080" num="0079">In some cases, image data captured by the image capture device <b>100</b> and displayed on the image display unit <b>28</b> includes regions where the preferable brightness value varies widely. In such cases, adjusting the brightness value globally may result in certain areas of the image where the luminance looks incorrect or not pleasing from an aesthetic point of view. In other situations, image data captured by the image capture device <b>100</b> and displayed on the image display unit <b>28</b> includes regions where the preferable color balance varies widely. In such situations, adjusting the color balance globally may result in certain areas of the image where the color balance looks incorrect or not pleasing from an aesthetic point of view. In still other cases, image data captured by the image capture device <b>100</b> and displayed on the image display unit <b>28</b> includes regions where imaging properties other than brightness and color balance vary widely. In such cases, adjusting such imaging properties globally may result in certain areas of the image where the imaging property looks incorrect or not pleasing from an aesthetic point of view.</p>
<p id="p-0081" num="0080">In some example embodiments, the user interface includes ranges for imaging properties of the preview image, in addition to the preview image. In this case, the imaging property ranges for the preview image, such as histograms or slide bars, are displayed together with the preview image.</p>
<p id="p-0082" num="0081"><figref idref="DRAWINGS">FIG. 4B</figref> is a view for explaining acceptance of a designation of a region of interest according to one example embodiment. As shown in <figref idref="DRAWINGS">FIG. 4B</figref>, the preview image displayed on the image display unit <b>28</b> depicts an image divided into a plurality of regions. In particular, the preview image includes three regions. In one region of the preview image, a landscape of mountains in the background is displayed. In another region, the sun is displayed. In a third region, a body of water is displayed.</p>
<p id="p-0083" num="0082">The user controlling the image capture device <b>100</b> views the image displayed on the image display unit <b>28</b> as shown in <figref idref="DRAWINGS">FIG. 4A</figref>, and decides whether an imaging property for at least one of the regions in the image should be adjusted. In this example embodiment, if the user decides to adjust the imaging property for a designated ROI, the image is divided for the user to select and adjust the imaging property for the designated ROI. For example, if the user decides that the brightness values for the three different areas of the image should be adjusted, the image is divided into three regions of interest for the user to select and adjust the exposure values. If the user decides that the color balance values for the three different areas of the image should be adjusted, the image is divided into three regions of interest for the user to select and adjust the color balance values. Division of the image is described in more detail below, with respect to <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0084" num="0083"><figref idref="DRAWINGS">FIGS. 4C to 4E</figref> are views for explaining acceptance of a selection of a targeted imaging property according to one example embodiment. In particular, <figref idref="DRAWINGS">FIGS. 4C to 4E</figref> are examples of user interfaces including imaging property ranges, which effect the selection of target ranges for such imaging properties.</p>
<p id="p-0085" num="0084">As shown in <figref idref="DRAWINGS">FIG. 4C</figref>, image display unit <b>28</b> displays on the user interface an imaging property range of the image data previewed on image display unit <b>28</b>. By manipulating the imaging property range as shown in <figref idref="DRAWINGS">FIGS. 4D and 4E</figref>, the user effects the selection of the targeted imaging property for the designated region of interest. In some example embodiments, the user interface displays an imaging property range including values of the imaging property which fall within a tunable range of the imaging assembly. As discussed below in more detail with respect to <figref idref="DRAWINGS">FIG. 5</figref>, after the user designates one region of interest and selects a target range for the imaging property for the designated region, the user may then designate a different region on the image display unit <b>28</b>.</p>
<p id="p-0086" num="0085">For example, in the case that the targeted imaging property is a target range for brightness, the image display unit <b>28</b> displays on the user interface a brightness range of the image data previewed on image display unit <b>28</b>. In some example embodiments, the brightness range is displayed as a brightness histogram. In other example embodiments, the brightness range is displayed as a slide bar, a dial, a button, or any other type of suitable representation. By manipulating the brightness range, the user effects the selection of the target range for brightness for the region of interest. With this arrangement, the user selects the target range for brightness for the designated region of interest, typically with ease and simplicity.</p>
<p id="p-0087" num="0086">In the case that the targeted imaging property is a target range for color balance, the image display unit <b>28</b> displays on the user interface color channel ranges of the image data previewed on image display unit <b>28</b>. In some example embodiments, the color channel ranges are displayed as color channel histograms. In other example embodiments, the color channel ranges are displayed as slide bars, dials, buttons, or any other type of suitable representation. By manipulating the color channel ranges, the user effects the selection of the target range for color balance for the region of interest. With this arrangement, the user selects the target range for color balance for the designated ROI, typically with ease and simplicity.</p>
<p id="p-0088" num="0087">In this example embodiment, for a designated ROI, the user selects at least one targeted imaging property for adjustment. For example, the user can select one of the target range for brightness or the target range for color balance. In addition, the user can select both the target range for brightness and the target range for color balance. Thus, the user can select any combination of imaging properties for adjustment.</p>
<p id="p-0089" num="0088">Moreover, in this embodiment, ranges for all of the targeted imaging properties to be adjusted are displayed on a single user interface. For example, the user interface displays slide bars representing color channel ranges together with a slide bar representing a brightness range. Alternatively, selection of targeted imaging properties can be performed in a multi-step process, in which the user interface displays one or any combination of targeted imaging properties to be adjusted.</p>
<p id="p-0090" num="0089">In some example embodiments, after the user selects a region of interest and selects a target range for the imaging property for the designated region, the image capture device automatically determines an appropriate transition of the imaging property at a boundary between the selected region of interest and other regions in the preview image. For example, the image capture device may interpolate the values of the imaging property at the boundary between the designated region of interest and another region in the preview image, such that the transition between the regions is smooth.</p>
<p id="p-0091" num="0090">The user interfaces depicted in <figref idref="DRAWINGS">FIGS. 4A to 4E</figref> are merely examples of user interfaces which can be displayed by user interface module <b>330</b> according to this example embodiment. It should be understood that other types of suitable interfaces can also be displayed.</p>
<p id="p-0092" num="0091"><figref idref="DRAWINGS">FIG. 5</figref> is a flow diagram for explaining processing in the image capture device shown in <figref idref="DRAWINGS">FIG. 1</figref> according to one example embodiment. Briefly, according to <figref idref="DRAWINGS">FIG. 5</figref>, a default capture setting is applied to an imaging assembly such as an imaging assembly which includes a tunable image sensor for setting the spectral response of the tunable imaging assembly to a predesignated default setting. Preview image data of a scene from the imaging assembly is captured using the default capture setting. A user interface which includes a preview image based on the captured preview image data of the scene is displayed. A user designation of a ROI in the preview image is accepted, wherein the designation of the ROI is accepted via user manipulation of the user interface. A user selection of a targeted imaging property for the ROI is accepted, wherein the user selection is accepted via user manipulation of the user interface. A revised capture setting for the spectral responsivity of the tunable imaging assembly is computed, by revising the default capture setting based on the targeted imaging property for the ROI as selected by the user. The revised capture setting is applied to the tunable imaging assembly for setting the spectral response of the tunable imaging assembly to a revised setting. Image data from the imaging assembly is captured using the revised capture setting.</p>
<p id="p-0093" num="0092">In more detail, the process shown in <figref idref="DRAWINGS">FIG. 5</figref> starts with application of a default capture setting, then capturing an image using the default capture setting. The image is captured and displayed on the image display unit <b>28</b> by a half stroke of shutter switch (SW<b>1</b>) <b>62</b> before the shutter switch (SW<b>2</b>) <b>64</b> is switched on by a full stroke of the shutter button by a user of the image capture device <b>100</b>.</p>
<p id="p-0094" num="0093">As shown in <figref idref="DRAWINGS">FIG. 5</figref>, in step S<b>501</b>, setting module <b>310</b> applies a default capture setting to the tunable image sensor <b>14</b> for setting the spectral response of the tunable imaging assembly to a predesignated default setting. In this embodiment, the default capture setting comprises an electronic spatial mask which individually tunes each pixel or each region of plural pixels in tunable image sensor <b>14</b>.</p>
<p id="p-0095" num="0094">In step S<b>502</b>, capture module <b>320</b> captures preview image data of a scene from the image sensor <b>14</b> using the default capture setting applied by the setting module <b>310</b>, according to this example embodiment. In other example embodiments, image capture device <b>100</b> automatically determines a color balance for the preview image data, and automatically derives a capture setting for the preview image data to be applied to image sensor <b>14</b>. In this case, capture module <b>320</b> captures preview image data of a scene using the capture setting automatically derived by image capture device <b>100</b>.</p>
<p id="p-0096" num="0095">In step S<b>503</b>, user interface module <b>330</b> displays a user interface which includes a preview image based on the captured preview image data of the scene, for example, as shown in <figref idref="DRAWINGS">FIG. 4A</figref>. In some embodiments, the user interface also includes ranges for imaging properties of the preview image, in addition to the preview image.</p>
<p id="p-0097" num="0096">In step S<b>504</b>, the determination module determines whether a user has or has not designated the ROI on the displayed preview image. In this example embodiment, the ROI is designated by the user through an input via a button associated with the operation unit <b>70</b> which is then relayed to the system controller <b>50</b>. In other embodiments, the user designates the ROI by contacting the region of the image displayed on the image display unit <b>28</b> where the image display unit <b>28</b> is a touch screen, or by voice command. If the user has not designated the ROI (&#x201c;NO&#x201d; at step S<b>504</b>), the capture module <b>320</b> captures image data using the predesignated default setting at step S<b>505</b> and stores the captured image data in memory <b>30</b>.</p>
<p id="p-0098" num="0097">On the other hand, if it is determined that the user has designated the ROI (&#x201c;YES&#x201d; at step S<b>504</b>), the user interface module <b>330</b> accepts the user designation of the ROI in the preview image at step S<b>506</b>, for example, as shown in <figref idref="DRAWINGS">FIG. 4B</figref>. In this example embodiment, when the user designates the ROI in the preview image, user interface module <b>330</b> determines the pixels of the image which are included in the ROI. For example, user interface module <b>330</b> executes a spatial filtering algorithm to determine the edges of the ROI. Alternatively, the illumination of each pixel in the preview image is determined, and pixels having substantially the same illumination are determined to be included in the ROI. Of course, any other suitable algorithms for dividing the image into regions can also be used.</p>
<p id="p-0099" num="0098">In other example embodiments, user interface module <b>330</b> divides the preview image into regions before the user interface module <b>330</b> accepts the user designation of the ROI. In this case, the user of the image capture device selects the quantity of regions to divide the displayed image. In some embodiments, the number of regions the image is divided into is based on the number of different illuminants associated with the scene that is captured. For example, if the displayed image includes two different illuminants, the user divides the image into two regions. In another case, the displayed image may include three different illuminants; the user may divide the image into three regions. From a practical standpoint, the user may typically divide the image between two to six regions, depending on the color balance goals of the user and the various illuminants associated with the displayed image. Additionally, the user may adjust the size of the regions relative to the image displayed.</p>
<p id="p-0100" num="0099">Turning to step S<b>507</b>, user interface module <b>330</b> accepts a user selection of a targeted imaging property for the ROI, for example, as shown in <figref idref="DRAWINGS">FIGS. 4C to 4E</figref>. In the case that the targeted imaging property is a target range for brightness, the user interface module <b>330</b> displays a brightness range of the preview image data and accepts a user manipulation of the brightness range so as to effect the selection of the target range for brightness for the ROI. In the case that the targeted imaging property is a target range for color balance, the user interface module <b>330</b> displays color channel ranges of the preview image data and accepts a user manipulation of the color channel ranges so as to effect the selection of the target range for color balance for the ROI. With this arrangement, the user advantageously specifies the imaging property associated with a specific region of interest in the image displayed on the image display unit <b>28</b>, rather than making a global adjustment to the entire image displayed on the image display unit <b>28</b>. Furthermore, the user advantageously specifies the imaging property based on any suitable criteria, including, for example, a lookup table and/or aesthetic concerns.</p>
<p id="p-0101" num="0100">In step S<b>508</b>, calculation module <b>350</b> determines the modified value of the targeted imaging property for the ROI, based on the user selection of the targeted imaging property in step S<b>507</b>. In step S<b>509</b>, calculation module <b>350</b> obtains original parameters <b>340</b> for the designated ROI from memory <b>56</b>.</p>
<p id="p-0102" num="0101">In step S<b>510</b>, calculation module <b>350</b> obtains the exposure settings of image capture device <b>100</b>. In this regard, the exposure settings of image capture device <b>100</b> are the settings that are provided to exposure controller <b>40</b> to control the amount of light that will reach image sensor <b>14</b>. The exposure settings of image capture device <b>100</b> are previously determined by the image capture device <b>100</b> according to a predesignated default determined by AE processing, or alternatively are selected by a user. The exposure settings are stored in a memory, such as memory <b>56</b>, and accessed by calculation module <b>350</b> in order to calculate the appropriate setting for the selected targeted imaging properties. For example, in some cases, the imaging assembly adjusts the length of exposure based on the selection of the targeted imaging properties by the user.</p>
<p id="p-0103" num="0102">In step S<b>511</b>, calculation module <b>350</b> computes a revised capture setting for the spectral responsivity of the tunable image sensor <b>14</b>, by revising the default capture setting based on the targeted imaging property for the ROI as selected by the user. In this embodiment, the revised capture setting comprises an electronic spatial mask. Generally, the calculation module <b>350</b> computes the revised capture setting based on the obtained original parameters <b>340</b> for the designated ROI, the exposure settings of image capture device <b>100</b>, and the modified values of the targeted imaging property for the ROI which are calculated from the user selection of the targeted imaging property in step S<b>507</b>.</p>
<p id="p-0104" num="0103">More specifically, in the case that the targeted imaging property is a target range for brightness, computing the revised capture setting for the spectral responsivity of the tunable image sensor <b>14</b> comprises revising the default capture setting based on the target range for brightness for the ROI as selected by the user. In this case, the default capture setting is revised by computing a brightness change parameter based on a comparison of original brightness values in the preview image data with the target range of brightness for the ROI as selected by the user, and combining the brightness change parameter with the default capture setting so as to compute the revised capture setting. In particular, computing the brightness change parameter comprises calculating a difference between the original brightness values in the preview image data and the target range of brightness for the ROI as selected by the user. In this case, the revised capture setting comprising the electronic spatial mask is generated by associating the brightness change parameters with bias voltages for the electronic spatial mask.</p>
<p id="p-0105" num="0104">In the case that the targeted imaging property is a target range for color balance, computing the revised capture setting for the spectral responsivity of the tunable image sensor <b>14</b> comprises revising the default capture setting based on the target range for color balance for the ROI as selected by the user. In this case, the default capture setting is revised by computing color change parameters based on a comparison of original color channel values in the preview image data with the target color balance for the ROI as selected by the user, and combining the color change parameters with the default capture setting so as to compute the revised capture setting. In particular, computing the color change parameters comprises calculating a difference between the original color channel values in the preview image data and the target color balance for the ROI as selected by the user. In this case, the revised capture setting comprising the electronic spatial mask is generated by associating the color change parameters with bias voltages for the electronic spatial mask.</p>
<p id="p-0106" num="0105">In step S<b>512</b>, the setting module <b>310</b> applies the revised capture setting to the tunable image sensor <b>14</b> for setting the spectral response of the tunable image sensor <b>14</b> to the revised setting. Subsequently, the flow returns to step S<b>502</b> where the capture module <b>320</b> captures image data from the imaging assembly using the revised capture setting.</p>
<p id="p-0107" num="0106">After capturing image data with the revised capture setting in step S<b>502</b>, user interface module <b>330</b> displays the user interface in step S<b>503</b>. At this time, the user interface includes a preview image based on the image data captured with the revised capture setting. In step S<b>504</b>, the determination module determines whether the user has or has not designated another ROI on the displayed preview image. Responsive to a determination that the user has designated another ROI (&#x201c;YES&#x201d; at S<b>504</b>), user interface module <b>330</b> accepts a second user selection of a targeted imaging property for the ROI, calculation module <b>350</b> calculates a second revised capture setting for the spectral responsivity of the tunable image sensor <b>14</b> based on the targeted imaging property for the ROI as selected by the user, and setting module <b>310</b> applies the second revised capture setting to the tunable image sensor <b>14</b> for setting the spectral response of the tunable imaging assembly to the second revised capture setting.</p>
<p id="p-0108" num="0107">On the other hand, responsive to a determination that the user has not designated another ROI (&#x201c;NO&#x201d; at step S<b>504</b>), capture module <b>320</b> captures image data using the revised capture setting, and stores the image data. At this time, setting module <b>310</b> applies the default capture setting to the image sensor <b>14</b>, in order to return the setting of the imaging assembly to the predesignated default setting.</p>
<p id="p-0109" num="0108">By virtue of this arrangement, the user typically adjusts imaging properties for a region of interest rather than globally. Furthermore, the user previews the image and adjusts the imaging properties of individual regions to achieve substantially correct or aesthetically desired color balancing, before the image data for the captured image is written onto the recording medium <b>200</b>.</p>
<p id="h-0007" num="0000">&#x3c;FIGS. <b>6</b> and <b>7</b>&#x3e;</p>
<p id="p-0110" num="0109"><figref idref="DRAWINGS">FIG. 6</figref> is a detailed block diagram for explaining the internal architecture of an image capture device <b>400</b> according to a second example embodiment. In the embodiment of <figref idref="DRAWINGS">FIG. 6</figref>, parts and features that are largely similar to those of the example embodiment of <figref idref="DRAWINGS">FIG. 2A</figref> are illustrated with like reference numerals, and a detailed explanation thereof is omitted in the interest of brevity.</p>
<p id="p-0111" num="0110">One way that the embodiment of <figref idref="DRAWINGS">FIG. 6</figref> differs from the embodiment of <figref idref="DRAWINGS">FIG. 2A</figref> concerns the construction of the tunable imaging assembly. In the embodiment of <figref idref="DRAWINGS">FIG. 2A</figref>, the tunable imaging assembly includes tunable image sensor <b>14</b>, perhaps in combination with optics such as lens <b>10</b>. Because the image sensor <b>14</b> in the embodiment of <figref idref="DRAWINGS">FIG. 2A</figref> itself has a tunable spectral response, it is customary to omit a preceding color filter array, since the inclusion of any filter necessarily would decrease the signal-to-noise ratio by filtering the amount of light incident on image sensor <b>14</b>.</p>
<p id="p-0112" num="0111">In contrast, in the embodiment of <figref idref="DRAWINGS">FIG. 6</figref>, the spectral responsivity of image sensor <b>214</b> is not necessarily tunable, but rather the spectral responsivity of a preceding color filter array <b>219</b> is. Thus, in the example embodiment of <figref idref="DRAWINGS">FIG. 6</figref>, the tunable imaging assembly includes tunable color filter array (CFA) <b>219</b> and image sensor <b>214</b>, perhaps in combination with optics such as lens <b>10</b>. In the embodiment of <figref idref="DRAWINGS">FIG. 6</figref>, image sensor <b>214</b> is not necessarily tunable, although in other embodiments it might be.</p>
<p id="p-0113" num="0112">Turning more specifically to the embodiment of <figref idref="DRAWINGS">FIG. 6</figref>, a light beam (light beam incident upon the angle of view of the lens) from an object in a scene that goes through the optical system (image sensing lens) <b>10</b> passes through an opening of a shutter <b>12</b> having a diaphragm function, is filtered by tunable color filter array <b>219</b>, and forms an optical image of the object on the image sensing surface of image sensor <b>214</b>. The image sensor <b>214</b> converts the optical image to analog image signals and outputs the signals to an A/D converter <b>16</b>. The A/D converter <b>16</b> converts the analog image signal to digital image signals (image data).</p>
<p id="p-0114" num="0113">In <figref idref="DRAWINGS">FIG. 6</figref>, an imaging assembly is comprised of tunable color filter array <b>219</b> and image sensor <b>214</b> together with associated optics, such that in some embodiments the imaging assembly is comprised of image sensor <b>214</b> preceded by color filter array <b>219</b> and lens <b>10</b>.</p>
<p id="p-0115" num="0114">Tunable color filter array <b>219</b> may be a spatial color filter array, such as a color filter array having a spatial distribution of a repeating pattern of filter elements. In this case, image data output from image sensor <b>214</b> is demosaiced, so as to result in output of a red-like channel for each pixel, a green-like channel for each pixel, and a blue-light channel for each pixel. Alternatively, tunable color filter array <b>219</b> might be a temporal color filter array, in which case the color filter quickly and sequentially changes spectral responsivity, with image data collected by image sensor <b>214</b> after each change. In this case, the sequential outputs of image sensor <b>214</b> are collected so as to result in output signals for each pixel for a red-like channel, a green-like channel, and a blue-light channel.</p>
<p id="p-0116" num="0115">The spectral responsivity of tunable color filter array <b>219</b> is tunable in accordance with a capture setting <b>217</b>. In this embodiment, capture setting <b>217</b> may be comprised of multiple spatial masks, with one mask for each channel of information output by image sensor <b>214</b>, namely, the aforementioned red-like channel, green-like channel, and blue-light channel. Thus, in this example where image sensor <b>214</b> outputs three or more channels, capture settings <b>217</b> include a spatial mask DR for the red-like channel of information, a spatial mask DG for the green-like channel of information, and a spatial mask DB for the blue-light channel of information. Each spatial mask comprises an array of control parameters applied to the tunable color filter array <b>219</b> in correspondence to pixels or regions of pixels in image sensor <b>214</b>. The resulting spectral responsivity of each pixel, or each region of plural pixels, is thus tunable individually and independently of other pixels or regions of pixels, by virtue of the capture setting <b>217</b> imposed on tunable color filter array <b>219</b>.</p>
<p id="p-0117" num="0116">Tunable color filter array <b>219</b> may be comprised of a tunable color filter array as described in U.S. Pat. No. 6,466,961 by Miller, mentioned hereinabove. Spatial masks DR, DG and DB may correspond to voltage biases applied to control electrodes of the tunable color filter array <b>219</b>.</p>
<p id="p-0118" num="0117"><figref idref="DRAWINGS">FIG. 7</figref> is a flow diagram for explaining processing in the image capture device <b>400</b> shown in <figref idref="DRAWINGS">FIG. 6</figref> according to one example embodiment. The process steps shown in <figref idref="DRAWINGS">FIG. 7</figref> are computer-executable process steps executed primarily by system controller <b>50</b> based on computer-executable process steps stored in a computer-readable memory medium such as non-volatile memory <b>56</b>.</p>
<p id="p-0119" num="0118">Briefly, according to <figref idref="DRAWINGS">FIG. 7</figref>, a default capture setting is applied to an imaging assembly such as an imaging assembly which includes a tunable color filter array preceding an image sensor for setting the spectral response of the tunable imaging assembly to a predesignated default setting. Preview image data of a scene from the imaging assembly is captured using the default capture setting. A user interface which includes a preview image based on the captured preview image data of the scene is displayed. A user designation of a ROI in the preview image is accepted, wherein the designation of the ROI is accepted via user manipulation of the user interface. A user selection of a targeted imaging property for the ROI is accepted, wherein the user selection is accepted via user manipulation of the user interface. A revised capture setting for the spectral responsivity of the tunable imaging assembly is computed, by revising the default capture setting based on the targeted imaging property for the ROI as selected by the user. The revised capture setting is applied to the tunable imaging assembly, such as by application to a tunable color filter array that precedes an image sensor, for setting the spectral response of the tunable imaging assembly to a revised setting. Image data from the imaging assembly is captured using the revised capture setting.</p>
<p id="p-0120" num="0119">In more detail, the process shown in <figref idref="DRAWINGS">FIG. 7</figref> starts with application of a default capture setting, then capturing an image using the default capture setting. The image is captured and displayed on the image display unit <b>28</b> by a half stroke of shutter switch (SW<b>1</b>) <b>62</b> before the shutter switch (SW<b>2</b>) <b>64</b> is switched on by a full stroke of the shutter button by a user of the image capture device <b>400</b>.</p>
<p id="p-0121" num="0120">As shown in <figref idref="DRAWINGS">FIG. 7</figref>, in step S<b>701</b>, a default capture setting is applied to the tunable color filter array <b>219</b> for setting the spectral response of the tunable imaging assembly to a predesignated default setting. In this embodiment, the default capture setting comprises an electronic spatial mask which individually tunes each pixel or each region of plural pixels in tunable color filter array <b>219</b>, such as application of spatial masks DR, DG and DB.</p>
<p id="p-0122" num="0121">In step S<b>702</b>, preview image data of a scene is captured using the default capture setting, according to this example embodiment. In other example embodiments, image capture device <b>400</b> automatically determines a color balance for the preview image data, and automatically derives a capture setting for the preview image data to be applied to tunable color filter array <b>219</b>. In this case, preview image data of a scene is captured using the capture setting automatically derived by image capture device <b>400</b>.</p>
<p id="p-0123" num="0122">In step S<b>703</b>, a user interface which includes a preview image based on the captured preview image data of the scene is displayed, for example, as shown in <figref idref="DRAWINGS">FIG. 4A</figref>. In some embodiments, the user interface also includes ranges for imaging properties of the preview image, in addition to the preview image.</p>
<p id="p-0124" num="0123">In step S<b>704</b>, it is determined whether a user has or has not designated the ROI on the displayed preview image. In this example embodiment, the ROI is designated by the user through an input via a button associated with the operation unit <b>70</b> which is then relayed to the system controller <b>50</b>. In other embodiments, the user designates the ROI by contacting the region of the image displayed on the image display unit <b>28</b> where the image display unit <b>28</b> is a touch screen, or by voice command. If the user has not designated the ROI (&#x201c;NO&#x201d; at step S<b>704</b>), image data is captured using the predesignated default setting at step S<b>705</b> and the captured image data is stored in memory <b>30</b>.</p>
<p id="p-0125" num="0124">On the other hand, if it is determined that the user has designated the ROI (&#x201c;YES&#x201d; at step S<b>704</b>), the user designation of the ROI in the preview image is accepted at step S<b>706</b>, for example, as shown in <figref idref="DRAWINGS">FIG. 4B</figref>. In this example embodiment, when the user designates the ROI in the preview image, the pixels of the image which are included in the ROI are determined. For example, a spatial filtering algorithm is executed to determine the edges of the ROI. Alternatively, the illumination of each pixel in the preview image is determined, and pixels having substantially the same illumination are determined to be included in the ROI. Of course, any other suitable algorithms for dividing the image into regions can also be used.</p>
<p id="p-0126" num="0125">In other example embodiments, the preview image is divided into regions before the user designation of the ROI is accepted. In this case, the user of the image capture device selects the quantity of regions to divide the displayed image. In some embodiments, the number of regions the image is divided into is based on the number of different illuminants associated with the scene that is captured. For example, if the displayed image includes two different illuminants, the user divides the image into two regions. In another case, the displayed image may include three different illuminants; the user may divide the image into three regions. From a practical standpoint, the user may typically divide the image between two to six regions, depending on the color balance goals of the user and the various illuminants associated with the displayed image. Additionally, the user may adjust the size of the regions relative to the image displayed.</p>
<p id="p-0127" num="0126">Turning to step S<b>707</b>, a user selection of a targeted imaging property for the ROI is accepted, for example, as shown in <figref idref="DRAWINGS">FIGS. 4C to 4E</figref>. In the case that the targeted imaging property is a target range for brightness, a brightness range of the preview image data is displayed and a user manipulation of the brightness range is accepted so as to effect the selection of the target range for brightness for the ROI. In the case that the targeted imaging property is a target range for color balance, displays color channel ranges of the preview image data are displayed and a user manipulation of the color channel ranges is accepted so as to effect the selection of the target range for color balance for the ROI. With this arrangement, the user advantageously specifies the imaging property associated with a specific region of interest in the image displayed on the image display unit <b>28</b>, rather than making a global adjustment to the entire image displayed on the image display unit <b>28</b>. Furthermore, the user advantageously specifies the imaging property based on any suitable criteria, including, for example, a lookup table and/or aesthetic concerns.</p>
<p id="p-0128" num="0127">In step S<b>708</b>, the modified value of the targeted imaging property for the ROI is determined, based on the user selection of the targeted imaging property in step S<b>707</b>. In step S<b>709</b>, original parameters are obtained for the designated ROI from memory <b>56</b>.</p>
<p id="p-0129" num="0128">In step S<b>710</b>, the exposure settings of image capture device <b>400</b> are obtained. In this regard, the exposure settings of image capture device <b>400</b> are the settings that are provided to exposure controller <b>40</b> to control the amount of light that will reach the image sensor <b>214</b> The exposure settings of image capture device <b>400</b> are previously determined by the image capture device <b>400</b> according to a predesignated default determined by AE processing, or alternatively are selected by a user. The exposure settings are stored in a memory, such as memory <b>56</b>, and accessed in order to calculate the appropriate setting for the selected targeted imaging properties. For example, in some cases, the imaging assembly adjusts the length of exposure based on the selection of the targeted imaging properties by the user.</p>
<p id="p-0130" num="0129">In step S<b>711</b>, a revised capture setting for the spectral responsivity of the tunable color filter array <b>219</b> is computed, by revising the default capture setting based on the targeted imaging property for the ROI as selected by the user. In this embodiment, the revised capture setting comprises an electronic spatial mask. Generally, the revised capture setting is computed based on the obtained original parameters for the designated ROI, the exposure settings of image capture device <b>400</b>, and the modified values of the targeted imaging property for the ROI which are calculated from the user selection of the targeted imaging property in step S<b>707</b>.</p>
<p id="p-0131" num="0130">More specifically, in the case that the targeted imaging property is a target range for brightness, computing the revised capture setting for the spectral responsivity of the tunable color filter array <b>219</b> comprises revising the default capture setting based on the target range for brightness for the ROI as selected by the user. In this case, the default capture setting is revised by computing a brightness change parameter based on a comparison of original brightness values in the preview image data with the target range of brightness for the ROI as selected by the user, and combining the brightness change parameter with the default capture setting so as to compute the revised capture setting. In particular, computing the brightness change parameter comprises calculating a difference between the original brightness values in the preview image data and the target range of brightness for the ROI as selected by the user. In this case, the revised capture setting comprising the electronic spatial mask is generated by associating the brightness change parameters with bias voltages for the electronic spatial mask.</p>
<p id="p-0132" num="0131">In the case that the targeted imaging property is a target range for color balance, computing the revised capture setting for the spectral responsivity of the tunable color filter array <b>219</b> comprises revising the default capture setting based on the target range for color balance for the ROI as selected by the user. In this case, the default capture setting is revised by computing color change parameters based on a comparison of original color channel values in the preview image data with the target color balance for the ROI as selected by the user, and combining the color change parameters with the default capture setting so as to compute the revised capture setting. In particular, computing the color change parameters comprises calculating a difference between the original color channel values in the preview image data and the target color balance for the ROI as selected by the user. In this case, the revised capture setting comprising the electronic spatial mask is generated by associating the color change parameters with bias voltages for the electronic spatial mask.</p>
<p id="p-0133" num="0132">In step S<b>712</b>, the revised capture setting is applied to the tunable color filter array <b>219</b> for setting the spectral response of the tunable color filter array <b>219</b> to the revised setting. Subsequently, the flow returns to step S<b>702</b> where image data from the imaging assembly is captured using the revised capture setting.</p>
<p id="p-0134" num="0133">After capturing image data with the revised capture setting in step S<b>702</b>, the user interface is displayed in step S<b>703</b>. At this time, the user interface includes a preview image based on the image data captured with the revised capture setting. In step S<b>704</b>, it is determined whether the user has or has not designated another ROI on the displayed preview image. Responsive to a determination that the user has designated another ROI (&#x201c;YES&#x201d; at S<b>704</b>), a second user selection of a targeted imaging property for the ROI is accepted, a second revised capture setting for the spectral responsivity of the tunable color filter array <b>219</b> is calculated based on the targeted imaging property for the ROI as selected by the user, and the second revised capture setting is applied to tunable color filter array <b>219</b> for setting the spectral response of the tunable imaging assembly to the second revised capture setting.</p>
<p id="p-0135" num="0134">On the other hand, responsive to a determination that the user has not designated another ROI (&#x201c;NO&#x201d; at step S<b>704</b>), image data is captured using the revised capture setting, and the image data is stored. At this time, the default capture setting is applied to tunable color filter array <b>219</b>, in order to return the setting of the imaging assembly to the predesignated default setting.</p>
<p id="p-0136" num="0135">By virtue of this arrangement, the user typically adjusts imaging properties for a region of interest rather than globally. Furthermore, the user previews the image and adjusts the imaging properties of individual regions to achieve substantially correct or aesthetically desired color balancing, before the image data for the captured image is written onto the recording medium <b>200</b>.</p>
<p id="h-0008" num="0000">&#x3c;other Embodiments&#x3e;</p>
<p id="p-0137" num="0136">According to other embodiments contemplated by the present disclosure, example embodiments may include a computer processor such as a single core or multi-core central processing unit (CPU) or micro-processing unit (MPU), which is constructed to realize the functionality described above. The computer processor might be incorporated in a stand-alone apparatus or in a multi-component apparatus, or might comprise multiple computer processors which are constructed to work together to realize such functionality. The computer processor or processors execute a computer-executable program (sometimes referred to as computer-executable instructions or computer-executable code) to perform some or all of the above-described functions. The computer-executable program may be pre-stored in the computer processor(s), or the computer processor(s) may be functionally connected for access to a non-transitory computer-readable storage medium on which the computer-executable program or program steps are stored. For these purposes, access to the non-transitory computer-readable storage medium may be a local access such as by access via a local memory bus structure, or may be a remote access such as by access via a wired or wireless network or Internet. The computer processor(s) may thereafter be operated to execute the computer-executable program or program steps to perform functions of the above-described embodiments.</p>
<p id="p-0138" num="0137">According to still further embodiments contemplated by the present disclosure, example embodiments may include methods in which the functionality described above is performed by a computer processor such as a single core or multi-core central processing unit (CPU) or micro-processing unit (MPU). As explained above, the computer processor might be incorporated in a stand-alone apparatus or in a multi-component apparatus, or might comprise multiple computer processors which work together to perform such functionality. The computer processor or processors execute a computer-executable program (sometimes referred to as computer-executable instructions or computer-executable code) to perform some or all of the above-described functions. The computer-executable program may be pre-stored in the computer processor(s), or the computer processor(s) may be functionally connected for access to a non-transitory computer-readable storage medium on which the computer-executable program or program steps are stored. Access to the non-transitory computer-readable storage medium may form part of the method of the embodiment. For these purposes, access to the non-transitory computer-readable storage medium may be a local access such as by access via a local memory bus structure, or may be a remote access such as by access via a wired or wireless network or Internet. The computer processor(s) is/are thereafter operated to execute the computer-executable program or program steps to perform functions of the above-described embodiments.</p>
<p id="p-0139" num="0138">The non-transitory computer-readable storage medium on which a computer-executable program or program steps are stored may be any of a wide variety of tangible storage devices which are constructed to retrievably store data, including, for example, any of a flexible disk (floppy disk), a hard disk, an optical disk, a magneto-optical disk, a compact disc (CD), a digital versatile disc (DVD), micro-drive, a read only memory (ROM), random access memory (RAM), erasable programmable read only memory (EPROM), electrically erasable programmable read only memory (EEPROM), dynamic random access memory (DRAM), video RAM (VRAM), a magnetic tape or card, optical card, nanosystem, molecular memory integrated circuit, redundant array of independent disks (RAID), a nonvolatile memory card, a flash memory device, a storage of distributed computing systems and the like. The storage medium may be a function expansion unit removably inserted in and/or remotely accessed by the apparatus or system for use with the computer processor(s).</p>
<p id="p-0140" num="0139">This disclosure has provided a detailed description with respect to particular representative embodiments. It is understood that the scope of the appended claims is not limited to the above-described embodiments and that various changes and modifications may be made without departing from the scope of the claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An image capture method for use with an image capture device that includes an imaging assembly having a tunable spectral response, the method comprising:
<claim-text>applying a default capture setting to the tunable imaging assembly for setting the spectral response of the tunable imaging assembly to a predesignated default setting;</claim-text>
<claim-text>capturing preview image data of a scene from the tunable imaging assembly using the default capture setting;</claim-text>
<claim-text>displaying a user interface which includes one or more preview images based on the captured preview image data of the scene;</claim-text>
<claim-text>accepting a user designation of a first region of interest (ROI) in the one or more preview images, wherein the designation of the first ROI is accepted via user manipulation of the user interface;</claim-text>
<claim-text>accepting a user selection of a targeted imaging property for the first ROI, wherein the user selection is accepted via user manipulation of the user interface;</claim-text>
<claim-text>computing a first-revised capture setting for the spectral responsivity of the tunable imaging assembly by revising the default capture setting based on the targeted imaging property for the first ROI;</claim-text>
<claim-text>capturing first preview image data from the tunable imaging assembly using the first-revised capture setting;</claim-text>
<claim-text>displaying a user interface which includes a first preview image based on the first preview image data captured with the first-revised capture setting;</claim-text>
<claim-text>accepting a user designation of a second ROI in the displayed first preview image, wherein the designation of the second ROI is accepted via user manipulation of the user interface;</claim-text>
<claim-text>accepting a user selection of a targeted imaging property for the second ROI, wherein the user selection is accepted via user manipulation of the user interface;</claim-text>
<claim-text>computing a second-revised capture setting for the spectral responsivity of the tunable imaging assembly by revising the default capture setting based on the targeted imaging property for the first ROI and the targeted imaging property for the second ROI; and</claim-text>
<claim-text>applying the second-revised capture setting to the tunable imaging assembly to set the spectral response of the tunable imaging assembly.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The image capture method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein accepting the user selection of a targeted imaging property for an ROI comprises accepting a user selection of a target range for brightness for the ROI; and
<claim-text>wherein computing a revised capture setting for the spectral responsivity of the tunable imaging assembly comprises revising the default capture setting based on the target range for brightness for the ROI as selected by the user.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The image capture method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein computing the revised capture setting comprises:
<claim-text>computing a brightness change parameter based on a comparison of original brightness values in the preview image data with the target range of brightness for the ROI as selected by the user; and</claim-text>
<claim-text>combining the brightness change parameter with the default capture setting so as to compute the revised capture setting.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The image capture method according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein computing the brightness change parameter comprises calculating a difference between the original brightness values in the preview image data and the target range of brightness for the ROI as selected by the user.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The image capture method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein accepting the selection of the target range for brightness comprises:
<claim-text>displaying on the user interface a brightness range of the preview image data; and</claim-text>
<claim-text>accepting a user manipulation of the brightness range so as to effect the selection of the target range for brightness for the ROI.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The image capture method according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the brightness range of the preview image data is displayed on the user interface as a brightness histogram.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The image capture method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein accepting the user selection of a targeted imaging property for an ROI comprises accepting a user selection of a target range for color balance for the ROI; and
<claim-text>wherein computing a revised capture setting for the spectral responsivity of the tunable imaging assembly comprises revising the default capture setting based on the target range for color balance for the ROI as selected by the user.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The image capture method according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein computing the revised capture setting comprises:
<claim-text>computing color change parameters based on a comparison of original color channel values in the preview image data with the target color balance for the ROI as selected by the user; and</claim-text>
<claim-text>combining the color change parameters with the default capture setting so as to compute the revised capture setting.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The image capture method according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein computing the color change parameters comprises calculating a difference between the original color channel values in the preview image data and the target color balance for the ROI as selected by the user.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The image capture method according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein accepting the user selection of the target range for color balance comprises:
<claim-text>displaying on the user interface color channel ranges of the preview image data; and</claim-text>
<claim-text>accepting a user manipulation of the color channel ranges so as to effect the selection of the target range for color balance for the ROI.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The image capture method according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the color channel ranges of the preview image data are displayed on the user interface as color channel histograms.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The image capture method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the default capture setting and the revised capture setting both comprise an electronic spatial mask, and wherein the revised capture setting comprises an electronic spatial mask with differing spectral responsivity settings in different regions of the mask.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The image capture method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the tunable imaging assembly comprises an image sensor which has a tunable spectral response.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The image capture method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the tunable imaging assembly comprises an image sensor and a preceding color filter array which has a tunable spectral response.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. An image capture device that includes an imaging assembly having a tunable spectral response comprising:
<claim-text>a computer-readable memory constructed to store a computer-executable process; and</claim-text>
<claim-text>a processor constructed to execute the computer-executable process stored in the memory;</claim-text>
<claim-text>wherein the process stored in the memory includes to:</claim-text>
<claim-text>apply a default capture setting to the tunable imaging assembly for setting the spectral response of the tunable imaging assembly to a predesignated default setting;</claim-text>
<claim-text>capture preview image data of a scene from the imaging assembly using the default capture setting;</claim-text>
<claim-text>display a user interface which includes one or more preview images based on the captured preview image data of the scene;</claim-text>
<claim-text>accept a user designation of a first region of interest (ROI) in the one or more preview images, wherein the designation of the first ROI is accepted via user manipulation of the user interface;</claim-text>
<claim-text>accept a user selection of a targeted imaging property for the first ROI, wherein the user selection is accepted via user manipulation of the user interface;</claim-text>
<claim-text>compute a first-revised capture setting for the spectral responsivity of the tunable imaging assembly based on the default capture setting and the targeted imaging property for the first ROI;</claim-text>
<claim-text>capture first preview image data from the tunable imaging assembly using the first-revised capture setting;</claim-text>
<claim-text>display a user interface which includes a first preview image based on the first preview image data captured with the first-revised capture setting;</claim-text>
<claim-text>accept a user designation of a second region of interest (ROI) in the displayed first preview image, wherein the designation of the second ROI is accepted via user manipulation of the user interface;</claim-text>
<claim-text>accept a user selection of a targeted imaging property for the second ROI, wherein the user selection is accepted via user manipulation of the user interface;</claim-text>
<claim-text>compute a second-revised capture setting for the spectral responsivity of the tunable imaging assembly based on the default capture setting, the targeted imaging property for the first ROI and the targeted imaging property for the second ROI as selected by the user; and</claim-text>
<claim-text>apply the second-revised capture setting to the tunable imaging assembly to set the spectral response of the tunable imaging assembly.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The image capture device according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein accepting the user selection of a targeted imaging property for an ROI comprises accepting a user selection of a target range for brightness for the ROI; and
<claim-text>wherein computing a revised capture setting for the spectral responsivity of the tunable imaging assembly comprises revising the default capture setting based on the target range for brightness for the ROI as selected by the user.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The image capture device according to <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein computing the revised capture setting comprises:
<claim-text>computing a brightness change parameter based on a comparison of original brightness values in the preview image data with the target range of brightness for the ROI as selected by the user; and</claim-text>
<claim-text>combining the brightness change parameter with the default capture setting so as to compute the revised capture setting.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The image capture device according to <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein computing the brightness change parameter comprises calculating a difference between the original brightness values in the preview image data and the target range of brightness for the ROI as selected by the user.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The image capture device according to <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein accepting the selection of the target range for brightness comprises:
<claim-text>displaying on the user interface a brightness range of the preview image data; and</claim-text>
<claim-text>accepting a user manipulation of the brightness range so as to effect the selection of the target range for brightness for the ROI.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The image capture device according to <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the brightness range of the preview image data is displayed on the user interface as a brightness histogram.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The image capture device according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein accepting the user selection of a targeted imaging property for an ROI comprises accepting a user selection of a target range for color balance for the ROI; and
<claim-text>wherein computing a revised capture setting for the spectral responsivity of the tunable imaging assembly comprises revising the default capture setting based on the target range for color balance for the ROI as selected by the user.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The image capture device according to <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein computing the revised capture setting comprises:
<claim-text>computing color change parameters based on a comparison of original color channel values in the preview image data with the target color balance for the ROI as selected by the user; and</claim-text>
<claim-text>combining the color change parameters with the default capture setting so as to compute the revised capture setting.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The image capture device according to <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein computing the color change parameters comprises calculating a difference between the original color channel values in the preview image data and the target color balance for the ROI as selected by the user.</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. The image capture device according to <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein accepting the user selection of the target range for color balance comprises:
<claim-text>displaying on the user interface color channel ranges of the preview image data; and</claim-text>
<claim-text>accepting a user manipulation of the color channel ranges so as to effect the selection of the target range for color balance for the ROI.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The image capture device according to <claim-ref idref="CLM-00024">claim 24</claim-ref>, wherein the color channel ranges of the preview image data are displayed on the user interface as color channel histograms.</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The image capture device according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the default capture setting and the revised capture setting both comprise an electronic spatial mask, and wherein the revised capture setting comprises an electronic spatial mask with differing spectral responsivity settings in different regions of the mask.</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. The image capture device according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the tunable imaging assembly comprises an image sensor which has a tunable spectral response.</claim-text>
</claim>
<claim id="CLM-00028" num="00028">
<claim-text>28. The image capture device according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the tunable imaging assembly comprises an image sensor and a preceding color filter array which has a tunable spectral response.</claim-text>
</claim>
<claim id="CLM-00029" num="00029">
<claim-text>29. A non-transitory computer-readable storage medium on which is stored instructions for computer-executable operations for causing a computer to perform an image capture method for use with an image capture device that includes an imaging assembly having a tunable spectral response, the operations comprising:
<claim-text>applying a default capture setting to the tunable imaging assembly for setting the spectral response of the tunable imaging assembly to a predesignated default setting;</claim-text>
<claim-text>capturing preview image data of a scene from the imaging assembly using the default capture setting;</claim-text>
<claim-text>displaying a user interface which includes one or more preview images based on the captured preview image data of the scene;</claim-text>
<claim-text>accepting a user designation of a first region of interest (ROI) in the one or more preview images, wherein the designation of the first ROI is accepted via user manipulation of the user interface;</claim-text>
<claim-text>accepting a user selection of a targeted imaging property for the first ROI, wherein the user selection is accepted via user manipulation of the user interface;</claim-text>
<claim-text>computing a first-revised capture setting for the spectral responsivity of the tunable imaging assembly by revising the default capture setting based on the targeted imaging property for the first ROI;</claim-text>
<claim-text>capturing first preview image data from the tunable imaging assembly using the first-revised capture setting;</claim-text>
<claim-text>displaying a user interface which includes a first preview image based on the first preview image data captured with the first revised capture setting;</claim-text>
<claim-text>accepting a user designation of a second ROI in the displayed first preview image, wherein the designation of the second ROI is accepted via user manipulation of the user interface;</claim-text>
<claim-text>accepting a user selection of a targeted imaging property for the second ROI, wherein the user selection is accepted via user manipulation of the user interface;</claim-text>
<claim-text>computing a second-revised capture setting for the spectral responsivity of the tunable imaging assembly by revising the default capture setting based on the targeted imaging property for the first ROI and the targeted imaging property for the second ROI as selected by the user; and</claim-text>
<claim-text>applying the second-revised capture setting to the tunable imaging assembly to set the spectral response of the tunable imaging assembly.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00030" num="00030">
<claim-text>30. The non-transitory computer-readable storage medium according to <claim-ref idref="CLM-00029">claim 29</claim-ref>,
<claim-text>wherein accepting the user selection of the targeted imaging property for an ROI comprises accepting a user selection of a target range for brightness for the ROI; and</claim-text>
<claim-text>wherein computing a revised capture setting for the spectral responsivity of the tunable imaging assembly comprises revising the default capture setting based on the target range for brightness for the ROI as selected by the user.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00031" num="00031">
<claim-text>31. The non-transitory computer-readable storage medium according to <claim-ref idref="CLM-00030">claim 30</claim-ref>, wherein computing the revised capture setting comprises:
<claim-text>computing a brightness change parameter based on a comparison of original brightness values in the preview image data with the target range of brightness for the ROI as selected by the user; and</claim-text>
<claim-text>combining the brightness change parameter with the default capture setting so as to compute the revised capture setting.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00032" num="00032">
<claim-text>32. The non-transitory computer-readable storage medium according to <claim-ref idref="CLM-00031">claim 31</claim-ref>, wherein computing the brightness change parameter comprises calculating a difference between the original brightness values in the preview image data and the target range of brightness for the ROI as selected by the user.</claim-text>
</claim>
<claim id="CLM-00033" num="00033">
<claim-text>33. The non-transitory computer-readable storage medium according to <claim-ref idref="CLM-00030">claim 30</claim-ref>, wherein accepting the selection of the target range for brightness comprises:
<claim-text>displaying on the user interface a brightness range of the preview image data; and</claim-text>
<claim-text>accepting a user manipulation of the brightness range so as to effect the selection of the target range for brightness for the ROI.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00034" num="00034">
<claim-text>34. The non-transitory computer-readable storage medium according to <claim-ref idref="CLM-00033">claim 33</claim-ref>, wherein the brightness range of the preview image data is displayed on the user interface as a brightness histogram.</claim-text>
</claim>
<claim id="CLM-00035" num="00035">
<claim-text>35. The non-transitory computer-readable storage medium according to <claim-ref idref="CLM-00029">claim 29</claim-ref>, wherein accepting the user selection of a targeted imaging property for an ROI comprises accepting a user selection of a target range for color balance for the ROI; and
<claim-text>wherein computing a revised capture setting for the spectral responsivity of the tunable imaging assembly comprises revising the default capture setting based on the target range for color balance for the ROI as selected by the user.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00036" num="00036">
<claim-text>36. The non-transitory computer-readable storage medium according to <claim-ref idref="CLM-00035">claim 35</claim-ref>, wherein computing the revised capture setting comprises:
<claim-text>computing color change parameters based on a comparison of original color channel values in the preview image data with the target color balance for the ROI as selected by the user; and</claim-text>
<claim-text>combining the color change parameters with the default capture setting so as to compute the revised capture setting.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00037" num="00037">
<claim-text>37. The non-transitory computer-readable storage medium according to <claim-ref idref="CLM-00036">claim 36</claim-ref>, computing the color change parameters comprises calculating a difference between the original color channel values in the preview image data and the target color balance for the ROI as selected by the user.</claim-text>
</claim>
<claim id="CLM-00038" num="00038">
<claim-text>38. The non-transitory computer-readable storage medium according to <claim-ref idref="CLM-00035">claim 35</claim-ref>, wherein accepting the user selection of the target range for color balance comprises:
<claim-text>displaying on the user interface color channel ranges of the preview image data; and</claim-text>
<claim-text>accepting a user manipulation of the color channel ranges so as to effect the selection of the target range for color balance for the ROI.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00039" num="00039">
<claim-text>39. The non-transitory computer-readable storage medium according to <claim-ref idref="CLM-00038">claim 38</claim-ref>, wherein the color channel ranges of the preview image data are displayed on the user interface as color channel histograms.</claim-text>
</claim>
<claim id="CLM-00040" num="00040">
<claim-text>40. The non-transitory computer-readable storage medium according to <claim-ref idref="CLM-00029">claim 29</claim-ref>, wherein the default capture setting and the revised capture setting both comprise an electronic spatial mask, and wherein the revised capture setting comprises an electronic spatial mask with differing spectral responsivity settings in different regions of the mask.</claim-text>
</claim>
<claim id="CLM-00041" num="00041">
<claim-text>41. The non-transitory computer-readable storage medium according to <claim-ref idref="CLM-00029">claim 29</claim-ref>, wherein the tunable imaging assembly comprises an image sensor which has a tunable spectral response.</claim-text>
</claim>
<claim id="CLM-00042" num="00042">
<claim-text>42. The non-transitory computer-readable storage medium according to <claim-ref idref="CLM-00029">claim 29</claim-ref>, wherein the tunable imaging assembly comprises an image sensor and a preceding color filter array which has a tunable spectral response. </claim-text>
</claim>
</claims>
</us-patent-grant>
