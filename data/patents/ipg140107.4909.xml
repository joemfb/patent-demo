<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626005-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626005</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12892558</doc-number>
<date>20100928</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2009-222322</doc-number>
<date>20090928</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>397</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>03</class>
<subclass>G</subclass>
<main-group>15</main-group>
<subgroup>08</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>399 27</main-classification>
</classification-national>
<invention-title id="d2e71">Printing apparatus, and control method and storage medium therefor</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>8135291</doc-number>
<kind>B2</kind>
<name>Chihara</name>
<date>20120300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>399 24</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>8270027</doc-number>
<kind>B2</kind>
<name>Ban</name>
<date>20120900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  19</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2003/0012576</doc-number>
<kind>A1</kind>
<name>Owen et al.</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>399 27</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2006/0280513</doc-number>
<kind>A1</kind>
<name>Hatakeyama</name>
<date>20061200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>399 27</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>CN</country>
<doc-number>1831670</doc-number>
<kind>A</kind>
<date>20060900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>CN</country>
<doc-number>1847994</doc-number>
<kind>A</kind>
<date>20061000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>JP</country>
<doc-number>2007-128044</doc-number>
<kind>A</kind>
<date>20070500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00008">
<othercit>Chinese Office Action for Corresponding CN 201010502218.9, dated Jan. 14, 2013. English translation provided.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>9</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>399  9</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>399 24- 30</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>399111</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358  19</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110076036</doc-number>
<kind>A1</kind>
<date>20110331</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Hiraike</last-name>
<first-name>Kou</first-name>
<address>
<city>Yokohama</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Hiraike</last-name>
<first-name>Kou</first-name>
<address>
<city>Yokohama</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Rossi, Kimms &#x26; McDowell LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Canon Kabushiki Kaisha</orgname>
<role>03</role>
<address>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Tran</last-name>
<first-name>Hoan</first-name>
<department>2852</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A printing apparatus capable of reducing the frequency of detection of a recording agent remaining amount and obtaining accurate information of the recording agent remaining amount. When a printed sheet is discharged, a CPU of a printer updates information representing the number of discharged sheets and stores the information into a memory of a print engine. The CPU refers to toner remaining amount information stored in a memory of a cartridge and determines whether there is a sufficient toner remaining amount in the cartridge. If there is no sufficient toner remaining amount, toner remaining amount detection is executed each time printing of one page has been performed. If there is a sufficient toner remaining amount, the toner remaining amount detection is executed when the number of discharged sheets coincides with a predetermined value.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="123.27mm" wi="159.51mm" file="US08626005-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="249.68mm" wi="185.08mm" file="US08626005-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="142.24mm" wi="162.64mm" file="US08626005-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="264.67mm" wi="176.95mm" file="US08626005-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="233.43mm" wi="172.13mm" file="US08626005-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="253.83mm" wi="207.52mm" file="US08626005-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">The present invention relates to a printing apparatus, and a control method and a storage medium therefor.</p>
<p id="p-0004" num="0003">2. Description of the Related Art</p>
<p id="p-0005" num="0004">Heretofore, there are known printing apparatuses such as electrophotographic printers (e.g., laser beam printer, LED printer, etc.) and electrophotographic copying machines. The electrographic printing apparatuses are each configured to irradiate light onto a photosensitive member according to image information to form a latent image thereon, supply a recording agent (e.g., toner) to the latent image from a developing device to visualize the image, and transfer the image from the photosensitive member to a recording sheet to form the image onto the recording sheet. With the progress of printing, the toner in a toner container coupled to the developing device is consumed.</p>
<p id="p-0006" num="0005">The toner container, the developing device, the photosensitive member, a charging device, etc., are generally unified into a cartridge, which can be easily detachably mounted to the printing apparatus. When the toner in the toner container is exhausted, the toner container cartridge is replaced by a user.</p>
<p id="p-0007" num="0006">Some cartridge has a nonvolatile memory that stores information of, e.g., recording agent such as toner, and a serial number for recognition of individual cartridge.</p>
<p id="p-0008" num="0007">In the meantime, a toner remaining amount is detected in the printing apparatus to display the toner remaining amount on an operation unit and to stop printing when the toner remaining amount is exhausted. However, the toner remaining amount detection requires a time period of several tens seconds to several minutes. In addition, the toner remaining amount detection cannot be frequently performed in the case of printing apparatus where the developing device, photosensitive member, and toner are consumed by the toner remaining amount detection.</p>
<p id="p-0009" num="0008">Thus, there is known a method for utilizing recording agent information backed up in a nonvolatile memory of the printing apparatus during a time period from when electric power is turned on to when recording agent information is decided (see, for example, Japanese Laid-open Patent Publication No. 2007-128044).</p>
<p id="p-0010" num="0009">Another method is known in which toner remaining amount is detected when a predetermined number of sheets from several tens to several hundreds have been printed, toner remaining amount information is stored in a memory of a cartridge, and the stored information is referred to during a period when the toner remaining amount detection is not performed.</p>
<p id="p-0011" num="0010">However, with the method disclosed in Japanese Laid-open Patent Publication No. 2007-128044, even if the cartridge is replaced, the recording agent information backed up in the nonvolatile memory still represents the recording agent information of the old cartridge before replacement, and therefore recording agent information of a new cartridge cannot be utilized.</p>
<p id="p-0012" num="0011">With the method that stores toner remaining amount information in the memory of the cartridge, the frequency of execution of toner remaining amount detection is low, and therefore the remaining amount information stored in the memory is sometimes old and lacks reliability. If the toner remaining amount detection is not performed upon replenishment of toner, a problem is posed that it takes a long time until the toner remaining amount is detected.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0013" num="0012">The present invention provides a printing apparatus and a control method and a storage medium therefor, which are capable of reducing the frequency of detection of a recording agent remaining amount and obtaining an accurate information of recording agent remaining amount.</p>
<p id="p-0014" num="0013">According to a first aspect of this invention, there is provided a printing apparatus, which comprises a printing unit configured to perform printing using a recording agent, a detection unit configured to detect a remaining amount of the recording agent, and a control unit configured to control the detection unit to detect the remaining amount of the recording agent each time a first number of pages has been printed by the printing unit in a case where the remaining amount of the recording agent detected by the detection unit is greater than a predetermined value, and configured to control the detection unit to detect the remaining amount of the recording agent each time a second number of pages less than the first number of pages has been printed by the printing unit in a case where the remaining amount of the recording agent detected by the detection unit is less than the predetermined value.</p>
<p id="p-0015" num="0014">According to a second aspect of this invention, there is provided a control method for a printing apparatus having a printing unit that performs printing using a recording agent and a detection unit that detects a remaining amount of the recording agent, which comprises the steps of controlling the detection unit to detect the remaining amount of the recording agent each time a first number of pages has been printed by the printing unit in a case where the remaining amount of the recording agent detected by the detection unit is greater than a predetermined value, and controlling the detection unit to detect the remaining amount of the recording agent each time a second number of pages less than the first number of pages has been printed by the printing unit in a case where the remaining amount of the recording agent detected by the detection unit is less than the predetermined value.</p>
<p id="p-0016" num="0015">According to a third aspect of this invention, there is provided a storage medium storing a program for causing a computer to execute the control method according to the second aspect of this invention.</p>
<p id="p-0017" num="0016">With this invention, the recording agent remaining amount is detected each time printing is executed if it is determined that there is no sufficient recording agent remaining amount, and the recording agent remaining amount is detected at a predetermined frequency if it is determined that there is a sufficient recording agent remaining amount. It is therefore possible to reduce the frequency of detection of the recording agent remaining amount and obtain accurate information of recording agent remaining amount.</p>
<p id="p-0018" num="0017">Further features of the present invention will become apparent from the following description of exemplary embodiments with reference to the attached drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram showing the construction of a printer <b>10</b>;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 2</figref> is a section view showing the construction of an engine mechanism unit <b>40</b> shown in <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart of a process executed by the printer <b>10</b>;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 4</figref> is a flowchart showing the details of a printing process in step S<b>210</b> in <figref idref="DRAWINGS">FIG. 3</figref>;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 5A</figref> is a view for explaining a change in toner remaining amount information according to the prior art; and</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 5B</figref> is a view for explaining a change in toner remaining amount information according to this invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0025" num="0024">The present invention will now be described in detail below with reference to the drawings showing preferred embodiments thereof.</p>
<p id="h-0005" num="0000">(First Embodiment)</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 1</figref> shows in block diagram the construction of a printer <b>10</b>.</p>
<p id="p-0027" num="0026">As shown in <figref idref="DRAWINGS">FIG. 1</figref>, the printer <b>10</b> as an image forming apparatus includes a controller <b>20</b> and a print engine <b>30</b>, and is connected to a personal computer (PC) <b>70</b> via a local area network (LAN) <b>80</b>.</p>
<p id="p-0028" num="0027">The controller <b>20</b> includes a CPU <b>21</b>, a display panel <b>22</b>, an operation unit <b>23</b>, a ROM <b>24</b>, a RAM <b>25</b>, a nonvolatile memory <b>26</b>, an Ethernet (registered trademark) interface <b>27</b>, and an interface <b>28</b>.</p>
<p id="p-0029" num="0028">The print engine <b>30</b> includes a CPU <b>31</b>, a ROM <b>34</b>, a RAM <b>35</b>, a nonvolatile memory <b>36</b>, an interface <b>38</b>, an engine mechanism unit <b>40</b>, a cartridge <b>50</b>, and a nonvolatile memory <b>60</b>.</p>
<p id="p-0030" num="0029">The CPU <b>21</b> controls the controller <b>20</b>. The display panel <b>22</b> displays the functions and settings of the printer <b>10</b>, etc. The operation unit <b>23</b> is used to give the printer <b>10</b> an operation instruction and program execution instructions.</p>
<p id="p-0031" num="0030">The ROM <b>24</b> stores a program code for controlling the CPU <b>21</b>, the display panel <b>22</b>, the operation unit <b>23</b>, and the print engine <b>30</b>. The ROM <b>24</b> can be implemented by a rewritable flash ROM, whereby the program code stored in the ROM <b>24</b> can be updated.</p>
<p id="p-0032" num="0031">The RAM <b>25</b> is used as a work memory for execution of the program code and also used to temporarily store image data to be print-output by the print engine <b>30</b>. The nonvolatile memory <b>26</b> is implemented by a hard disk (HDD), a flash ROM, or the like, and stores image data.</p>
<p id="p-0033" num="0032">The Ethernet (registered trademark) interface <b>27</b> provides an interface for connection with the LAN <b>80</b> for transmission and reception of print data or the like. The interface <b>28</b> provides an interface for communication with the print engine <b>30</b>.</p>
<p id="p-0034" num="0033">The CPU <b>31</b> controls the print engine <b>30</b>. The ROM <b>34</b> stores a program code for controlling the CPU <b>31</b> and the engine mechanism unit <b>40</b>. The ROM <b>34</b> can be implemented by a rewritable flash ROM, whereby the program code stored in the ROM <b>34</b> can be updated.</p>
<p id="p-0035" num="0034">The RAM <b>35</b> is used as a work memory for execution of the program code. The nonvolatile memory <b>36</b> stores, e.g., data for management of the number of discharged sheets. The interface <b>38</b> provides an interface for communication with the controller <b>20</b>.</p>
<p id="p-0036" num="0035">The engine mechanism unit <b>40</b> is used to print output image data. The cartridge <b>50</b> is comprised of a developing device, a photosensitive member, and a toner (recording agent) container, and connected to the engine mechanism unit <b>40</b>. The nonvolatile memory <b>60</b> is mounted to the cartridge <b>50</b>, and stores information of toner remaining amount in the cartridge <b>50</b>, a serial number for individual recognition of the cartridge <b>50</b>, and the like.</p>
<p id="p-0037" num="0036">In this embodiment, a case where the printer <b>10</b> is used is described. However, the printing apparatus of this invention is not limited to the printer <b>10</b>, but may be a multi-function peripheral having functions of copying machine, scanner, facsimile machine, printer, etc.</p>
<p id="p-0038" num="0037">In this embodiment, the engine mechanism unit <b>40</b> of the printer <b>10</b> is of a laser beam printing type where toner is used as the recording agent. Alternatively, e.g., an inkjet print type engine mechanism unit may be adopted where ink is used as the recording agent.</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 2</figref> shows in cross section the construction of the engine mechanism unit <b>40</b> in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0040" num="0039">As shown in <figref idref="DRAWINGS">FIG. 2</figref>, the engine mechanism unit <b>40</b> includes a laser driver <b>1002</b>, a semiconductor laser <b>1003</b>, a rotary polygon mirror <b>1005</b>, a printing sheet cassette <b>1008</b>, a sheet feed roller <b>1009</b>, and conveyance rollers <b>1010</b>, <b>1011</b> as well as the cartridge <b>50</b> that includes the photosensitive member (electrostatic drum) shown at <b>1006</b>, the toner container (not shown), and the nonvolatile memory <b>60</b>.</p>
<p id="p-0041" num="0040">Print image data is converted into a video signal, which is then output to the laser driver <b>1002</b>. The laser driver <b>1002</b> is a circuit for driving the semiconductor laser <b>1003</b>, and according to the input video signal, turns on and off laser light <b>1004</b> emitted from the semiconductor laser <b>1003</b>.</p>
<p id="p-0042" num="0041">The laser light <b>1004</b> is swung in a left-right direction by the rotary polygon mirror <b>1005</b>, and scans and exposes the photosensitive member <b>1006</b>, whereby an electrostatic latent image is formed on the photosensitive member <b>1006</b>. The electrostatic latent image is developed by toner in the toner container (not shown) and then transferred onto a printing sheet.</p>
<p id="p-0043" num="0042">Printing sheets are stored in the printing sheet cassette <b>1008</b> mounted to the print engine main body, and fed one by one into the printer by the sheet feed roller <b>1009</b> and the conveyance rollers <b>1010</b>, <b>1011</b> and supplied to the photosensitive member <b>1006</b>.</p>
<p id="p-0044" num="0043">The printer of this invention is not limited to the laser beam printer, but may be an inkjet printer, a dye sublimation printer, a silver halide printer, or the like.</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart showing a process performed by the printer <b>10</b>.</p>
<p id="p-0046" num="0045">In <figref idref="DRAWINGS">FIG. 3</figref>, the printer <b>10</b> receives PDL (page description language) data transmitted from the PC <b>70</b>, and performs a printing process.</p>
<p id="p-0047" num="0046">When inputting (receiving) the PDL data from the PC <b>70</b> via the Ethernet (registered trademark) interface <b>27</b> (YES to step S<b>201</b>), the CPU <b>21</b> accesses the nonvolatile memory <b>60</b> of the cartridge <b>50</b> and refers to toner remaining amount information (step S<b>202</b>).</p>
<p id="p-0048" num="0047">Next, the CPU <b>21</b> determines whether the toner remaining amount in the cartridge <b>50</b> is equal to or less than a threshold value (step S<b>203</b>). If it is determined in step S<b>203</b> that the toner remaining amount exceeds the threshold value, the flow proceeds to step S<b>205</b>. On the other hand, if it is determined in step S<b>203</b> that the toner remaining amount is equal to or less than the threshold value, the CPU <b>21</b> causes the display panel <b>22</b> to display that the toner remaining amount is small (step S<b>204</b>), and proceeds to step S<b>205</b>.</p>
<p id="p-0049" num="0048">In step S<b>205</b>, the CPU <b>21</b> determines whether all the pages of the received PDL data have been printed. If it is determined in step S<b>205</b> that all the pages of the received PDL data have been printed, the process is completed. On the other hand, if it is determined in step S<b>205</b> that all the pages of the received PDL data have not been printed, the flow proceeds to step S<b>206</b>.</p>
<p id="p-0050" num="0049">In step S<b>206</b>, the CPU <b>21</b> analyzes PDL data. Then, the CPU <b>21</b> performs an image data creation process (drawing process) according to instructions described in the PDL data (step S<b>207</b>).</p>
<p id="p-0051" num="0050">Next, the CPU <b>21</b> determines whether a sheet discharge instruction is issued (step S<b>208</b>). If it is determined in step S<b>208</b> that a sheet discharge instruction is not issued, the flow returns to step S<b>206</b>. On the other hand, if it is determined in step S<b>208</b> that a sheet discharge instruction is issued, the flow proceeds to step S<b>209</b>.</p>
<p id="p-0052" num="0051">In step S<b>209</b>, the CPU <b>21</b> converts image data created on the RAM <b>25</b> into a video signal and transfers the video signal to the print engine <b>30</b> via the interfaces <b>28</b> and <b>38</b> (step S<b>209</b>). Next, the print engine <b>30</b> is caused to perform a printing process in <figref idref="DRAWINGS">FIG. 4</figref> (described later) and discharge a sheet on which the image has been printed (step S<b>210</b>).</p>
<p id="p-0053" num="0052">After completion of the printing process in step S<b>210</b>, the CPU <b>21</b> accesses the nonvolatile memory <b>60</b> of the cartridge <b>50</b> to refer to the toner remaining amount information (step S<b>211</b>), and determines whether there is no toner remaining amount in the cartridge <b>50</b> (step S<b>212</b>). It should be noted that in this invention a state where there is no toner remaining amount does not indicate that toner is entirely exhausted, but indicates that toner is exhausted to an extent where proper printing quality cannot be realized (e.g., faint or blurred printing can be caused) when printing is performed in the toner exhausted state. In other words, in this invention, printing can be continued even if it is determined that there is no toner remaining amount. In this specification, a state where there is a toner remaining amount does not indicate that there is a slight amount toner, but indicates that there is sufficient toner to an extent where proper printing quality can be realized (e.g., faint or blurred printing can be prevented) when printing is performed in the toner remaining state. Thus, in this invention, a state where there is no toner remaining amount means that the toner remaining amount is less than a predetermined value, and a state where there is a toner remaining amount means that the toner remaining amount is greater than the predetermined value, which is larger than zero but less than the threshold value in S<b>203</b>. If it is determined in step S<b>212</b> that there is a toner remaining amount in the cartridge <b>50</b>, the flow returns to step S<b>205</b>.</p>
<p id="p-0054" num="0053">If it is determined in step S<b>212</b> that there is no toner remaining amount in the cartridge <b>50</b>, the CPU <b>21</b> causes the display panel <b>22</b> to display a notification that there is no toner remaining amount (step S<b>213</b>), and proceeds to S<b>205</b>. In that case, it is possible to stop printing halfway (the cartridge <b>50</b> can be replaced at that time) and restart printing if a printing restart instruction is given by a user.</p>
<p id="p-0055" num="0054">Processing in steps S<b>201</b> to S<b>209</b> and steps S<b>211</b> to S<b>213</b> is for creating image data and performed by a module of the controller <b>20</b>.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 4</figref> is a flowchart showing the details of the printing process in step S<b>210</b> in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0057" num="0056">As shown in <figref idref="DRAWINGS">FIG. 4</figref>, the CPU <b>31</b> causes the image to be printed on a sheet according to the video signal created in step S<b>209</b> in <figref idref="DRAWINGS">FIG. 3</figref>, and causes the sheet to be discharged (step S<b>301</b>). Next, the CPU <b>31</b> updates information representing the number of discharged sheets and stores the information into the nonvolatile memory <b>36</b> of the print engine <b>30</b> (step S<b>302</b>).</p>
<p id="p-0058" num="0057">Next, the CPU <b>31</b> accesses the nonvolatile memory <b>60</b> of the cartridge <b>50</b> to refer to toner remaining amount information (step S<b>303</b>), and determines whether there is no toner remaining amount in the cartridge <b>50</b> (step S<b>304</b>). It should be noted that in this invention, a state where there is no toner remaining amount does not indicate that toner is entirely exhausted, but indicates that toner is exhausted to an extent where proper printing quality cannot be realized (e.g., faint or blurred printing can be caused) when printing is performed in the toner exhausted state. In other words, in this invention, printing can be continued even if it is determined that there is no toner remaining amount. In this invention, a state where there is a toner remaining amount does not indicate that there is a slight amount toner, but indicates that there is sufficient toner to an extent where proper printing quality can be realized (e.g., faint or blurred printing can be prevented) when printing is performed in the toner remaining state. Thus, in this invention, a state where there is no toner remaining amount means that the toner remaining amount is less than a predetermined value, and a state where there is a toner remaining amount means that the toner remaining amount is greater than the predetermined value, which is larger than zero but less than the threshold value in S<b>203</b>.</p>
<p id="p-0059" num="0058">If it is determined in step S<b>304</b> that there is no toner remaining amount in the cartridge <b>50</b>, the flow proceeds to step S<b>306</b>. On the other hand, if it is determined in step S<b>304</b> that there is a toner remaining amount in the cartridge <b>50</b>, the flow proceeds to step S<b>305</b>.</p>
<p id="p-0060" num="0059">In step S<b>305</b>, the CPU <b>31</b> determines whether the number of discharged sheets represented by information stored in the nonvolatile memory <b>36</b> coincides with a predetermined value. The predetermined value can be set to an arbitrary number of discharged sheets based on a time period required for execution of toner remaining amount detection and degrees of consumption of the developing device, photosensitive member, and toner per each execution of the remaining amount detection.</p>
<p id="p-0061" num="0060">If it is determined in step S<b>305</b> that the number of discharged sheets represented by the information stored in the memory <b>36</b> does not coincide with the predetermined value, the process returns to step S<b>301</b>. On the other hand, if it is determined in step S<b>305</b> that the number of discharged sheets coincides with the predetermined value, the flow proceeds to step S<b>306</b>.</p>
<p id="p-0062" num="0061">In step S<b>306</b>, the CPU <b>31</b> executes the toner remaining amount detection. Next, the CPU <b>31</b> updates the toner remaining amount information stored in the nonvolatile memory <b>60</b> of the cartridge <b>50</b> (step S<b>307</b>), and clears the information representing the number of discharged sheets, which is stored in the nonvolatile memory <b>36</b> of the print engine <b>30</b> (step S<b>308</b>).</p>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 5A</figref> illustrates a change in toner remaining amount information according to the prior art. <figref idref="DRAWINGS">FIG. 5B</figref> illustrates a change in toner remaining amount information according to this invention.</p>
<p id="p-0064" num="0063">As shown in <figref idref="DRAWINGS">FIG. 5A</figref>, according to the prior art, if it is determined in toner remaining amount detection performed at the time of printing a predetermined N-th sheet (e.g., ninetieth sheet) that there is no toner remaining amount, information indicating to that effect is stored in a nonvolatile memory of a cartridge. In that case, no further printing and no further toner remaining amount detection are carried out. Accordingly, the toner remaining amount information cannot be updated even after toner is replenished to the cartridge.</p>
<p id="p-0065" num="0064">As shown in <figref idref="DRAWINGS">FIG. 5B</figref>, according to this invention, the toner remaining amount detection is executed each time printing of one sheet has been performed or attempted even after it is determined in toner remaining amount detection performed at the time of printing a predetermined N-th sheet (e.g., ninetieth sheet) that there is no toner remaining amount. It is therefore possible to update the toner remaining amount information stored in the nonvolatile memory <b>60</b> of the cartridge <b>50</b> so as to coincide with an actual toner remaining amount. When toner is replenished to the cartridge <b>50</b> after it is determined that there is no toner remaining amount, the toner replenishment is detected and the toner remaining amount information is updated.</p>
<p id="p-0066" num="0065">According to the first embodiment, if it is determined in the toner remaining amount detection that there is no sufficient toner remaining amount, the frequency of execution of the toner remaining amount detection is increased such that the detection is executed each time printing of one sheet has been performed or attempted. Then, the toner remaining amount information stored in the memory of the cartridge is updated after the detection of toner remaining amount. If it is determined that there is a sufficient toner remaining amount, the frequency of execution of toner remaining amount detection is decreased or returned to a predetermined frequency. It is therefore possible to reduce the frequency of execution of the recording agent remaining amount detection and obtain accurate information of the recording agent remaining amount.</p>
<p id="h-0006" num="0000">(Second Embodiment)</p>
<p id="p-0067" num="0066">In the following, a second embodiment of this invention is described.</p>
<p id="p-0068" num="0067">In the first embodiment, an example has been described in which the toner remaining amount detection is executed at a timing where image data for every predetermined number of sheets has been printed or at a timing where printing of one sheet has been executed or attempted. In the second embodiment, in a case where it is determined that there is no sufficient toner remaining amount, the toner remaining amount detection is also executed at predetermined timings (e.g., at start-up of the printer, at replacement of the cartridge, at the time of a print job being input by the printer, and at the time of a shift from a power-saving mode to a normal power mode).</p>
<p id="p-0069" num="0068">The ability to execute the toner remaining amount detection when the cartridge is replaced is advantageous in that the toner remaining amount detection can be executed immediately after toner is replenished to the cartridge <b>50</b>. The replacement of cartridge can be detected by a sensor (not shown) by detecting that the cartridge <b>50</b> is removed from the print engine <b>30</b> and then a new cartridge <b>50</b> is inserted into the cartridge <b>50</b>.</p>
<p id="p-0070" num="0069">The ability to execute the toner remaining amount detection when the printer inputs a print job is advantageous in that it is possible to prevent only a first sheet from being discharged when there is no toner remaining amount. It should be noted that in this case it is assumed that the print engine <b>30</b> performs printing based on the print job.</p>
<p id="p-0071" num="0070">The ability to execute the toner remaining amount detection when a shift is made from a power-saving mode to a normal power mode is advantageous in that the toner remaining amount detection can be executed immediately after toner is replenished to the cartridge <b>50</b> during the power-saving state. It should be noted that in this case it is assumed that the printer <b>10</b> is operable either in the normal power mode or in the power-saving mode in which power consumption is smaller than in the normal power mode.</p>
<p id="p-0072" num="0071">According to the second embodiment, in a case where it is determined that there is no sufficient toner remaining amount, the toner remaining amount detection is executed also at predetermined timings (e.g., at start-up of the printer, at replacement of the cartridge, at the time of a print job being input by the printer, and at the time of a shift from the power-saving mode to the normal power mode). It is therefore possible to reduce the frequency of execution of recording agent remaining amount detection and obtain more accurate information of recording agent remaining amount.</p>
<p id="h-0007" num="0000">(Third Embodiment)</p>
<p id="p-0073" num="0072">In the first embodiment, the toner remaining amount is directly detected by the CPU <b>31</b>. On the other hand, in a third embodiment, the toner remaining amount is directly detected by the cartridge <b>50</b>. In that case, the toner remaining amount is indirectly detected by the CPU <b>31</b>.</p>
<p id="p-0074" num="0073">In the third embodiment, the printer <b>10</b> performs processing that is substantially the same in content as the processing in the first embodiment shown in the flowcharts of <figref idref="DRAWINGS">FIGS. 3 and 4</figref>. The following is a description of parts of the third embodiment which differ from the first embodiment.</p>
<p id="p-0075" num="0074">In the third embodiment, the cartridge <b>50</b> detects in advance the toner remaining amount at predetermined intervals (in terms of time or number of print sheets) and stores toner remaining amount information in the nonvolatile memory <b>60</b>. In S<b>306</b>, the CPU <b>21</b> reads the toner remaining information from the nonvolatile memory <b>60</b>, whereby the CPU <b>31</b> indirectly detects the toner remaining amount. In S<b>307</b>, the CPU <b>21</b> updates the toner remaining amount information stored in the nonvolatile memory <b>36</b> by using the toner remaining information amount read in S<b>306</b>. In S<b>202</b>, S<b>211</b>, and S<b>303</b>, the CPU <b>21</b> accesses the nonvolatile memory <b>36</b> to refer to the toner remaining amount information.</p>
<p id="h-0008" num="0000">(Other Embodiments)</p>
<p id="p-0076" num="0075">Aspects of the present invention can also be realized by a computer of a system or apparatus (or devices such as a CPU or MPU) that reads out and executes a program recorded on a memory device to perform the functions of the above-described embodiments, and by a method, the steps of which are performed by a computer of a system or apparatus by, for example, reading out and executing a program recorded on a memory device to perform functions of the above-described embodiments. For this purpose, the program is provided to the computer for example via network or from a recording medium of various types serving as the memory device (e.g., computer-readable medium).</p>
<p id="p-0077" num="0076">While the present invention has been described with reference to exemplary embodiments, it is to be understood that the invention is not limited to the disclosed exemplary embodiments. The scope of the following claims is to be accorded the broadest interpretation so as to encompass all such modifications and equivalent structures and functions.</p>
<p id="p-0078" num="0077">This application claims the benefit of Japanese Patent Application No. 2009-222322, filed Sep. 28, 2009, which is hereby incorporated by reference herein in its entirety.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A printing apparatus comprising:
<claim-text>a printing unit configured to perform printing using a recording agent;</claim-text>
<claim-text>a detection unit configured to detect a remaining amount of the recording agent at a predetermined frequency of detection; and</claim-text>
<claim-text>a control unit configured to control said detection unit to increase the frequency of detection in a case where the remaining amount of the recording agent detected by said detection unit is less than a predetermined value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The printing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further including:
<claim-text>a notification unit configured to notify a user that the remaining amount of the recording agent becomes less than the predetermined value in a case where the remaining amount of the recording agent detected by said detection unit becomes less than the predetermined value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The printing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said control unit controls said detection unit to detect the remaining amount of the recording agent when the printing apparatus is started up in a case where the remaining amount of the recording agent detected by said detection unit is less than the predetermined value.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The printing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:
<claim-text>the recording agent is stored in a cartridge, and</claim-text>
<claim-text>said control unit controls said detection unit to detect the remaining amount of the recording agent when the cartridge is replaced in a case where the remaining amount of the recording agent detected by said detection unit is less than the predetermined value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A printing apparatus comprising:
<claim-text>a printing unit configured to perform printing using a recording agent;</claim-text>
<claim-text>a detection unit configured to detect a remaining amount of the recording agent; and</claim-text>
<claim-text>a control unit configured to control said detection unit to detect the remaining amount of the recording agent each time a first number of pages has been printed by said printing unit in a case where the remaining amount of the recording agent detected by said detection unit is greater than a predetermined value, and configured to control said detection unit to detect the remaining amount of the recording agent each time a second number of pages less than the first number of pages has been printed by said printing unit in a case where the remaining amount of the recording agent detected by said detection unit is less than the predetermined value,</claim-text>
<claim-text>wherein the first number of pages is equal to or greater than two, and the second number of pages is equal to one.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A printing apparatus comprising:
<claim-text>a printing unit configured to perform printing using a recording agent;</claim-text>
<claim-text>a detection unit configured to detect a remaining amount of the recording agent; and</claim-text>
<claim-text>a control unit configured to control said detection unit to detect the remaining amount of the recording agent each time a first number of pages has been printed by said printing unit in a case where the remaining amount of the recording agent detected by said detection unit is greater than a predetermined value, and configured to control said detection unit to detect the remaining amount of the recording agent each time a second number of pages less than the first number of pages has been printed by said printing unit in a case where the remaining amount of the recording agent detected by said detection unit is less than the predetermined value,</claim-text>
<claim-text>wherein said printing unit performs printing based on a print job, and</claim-text>
<claim-text>wherein said control unit controls said detection unit to detect the remaining amount of the recording agent when said printing unit inputs a print job in a case where the remaining amount of the recording agent detected by said detection unit is less than the predetermined value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A printing apparatus comprising:
<claim-text>a printing unit configured to perform printing using a recording agent;</claim-text>
<claim-text>a detection unit configured to detect a remaining amount of the recording agent; and</claim-text>
<claim-text>a control unit configured to control said detection unit to detect the remaining amount of the recording agent each time a first number of pages has been printed by said printing unit in a case where the remaining amount of the recording agent detected by said detection unit is greater than a predetermined value, and configured to control said detection unit to detect the remaining amount of the recording agent each time a second number of pages less than the first number of pages has been printed by said printing unit in a case where the remaining amount of the recording agent detected by said detection unit is less than the predetermined value,</claim-text>
<claim-text>wherein the printing apparatus is operable either in a normal power mode or in a power-saving mode in which power consumption is smaller than in the normal power mode, and</claim-text>
<claim-text>wherein said control unit controls said detection unit to detect the remaining amount of the recording agent when a shift is made from the power-saving mode to the normal power mode in a case where the remaining amount of the recording agent detected by said detection unit is less than the predetermined value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A control method for a printing apparatus having a printing unit that performs printing using a recording agent and a detection unit that detects a remaining amount of the recording agent, the method comprising the steps of:
<claim-text>controlling the detection unit to detect the remaining amount of the recording agent at a predetermined frequency of detection; and</claim-text>
<claim-text>controlling the detection unit to increase the frequency of detection in a case where the remaining amount of the recording agent detected by the detection unit is less than a predetermined value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A non-transitory computer-readable storage medium storing a program for causing a computer to execute a control method for a printing apparatus having a printing unit that performs printing using a recording agent and a detection unit that detects a remaining amount of the recording agent, the method comprising the steps of:
<claim-text>controlling the detection unit to detect the remaining amount of the recording agent at a predetermined frequency of detection; and</claim-text>
<claim-text>controlling the detection unit to increase the frequency of detection in a case where the remaining amount of the recording agent detected by the detection unit is less than a predetermined value. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
