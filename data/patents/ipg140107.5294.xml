<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626395-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626395</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13571143</doc-number>
<date>20120809</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>DE</country>
<doc-number>10 2011 052 511</doc-number>
<date>20110809</date>
</priority-claim>
</priority-claims>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>B</section>
<class>62</class>
<subclass>D</subclass>
<main-group>6</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>701 42</main-classification>
<further-classification>701 27</further-classification>
<further-classification>701 302</further-classification>
<further-classification>701 322</further-classification>
<further-classification>701 327</further-classification>
<further-classification>701 333</further-classification>
<further-classification>701 334</further-classification>
<further-classification>701102</further-classification>
<further-classification>701430</further-classification>
<further-classification>701451</further-classification>
<further-classification>701452</further-classification>
<further-classification>701476</further-classification>
<further-classification>701477</further-classification>
<further-classification>701478</further-classification>
<further-classification>701479</further-classification>
<further-classification>701480</further-classification>
<further-classification>701540</further-classification>
</classification-national>
<invention-title id="d2e61">Method for processing data in an influencing device</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>8019911</doc-number>
<kind>B2</kind>
<name>Dressler et al.</name>
<date>20110900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>710 31</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2005/0102579</doc-number>
<kind>A1</kind>
<name>Miyayama et al.</name>
<date>20050500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2008/0065239</doc-number>
<kind>A1</kind>
<name>Leinfellner et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>700 34</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2008/0065290</doc-number>
<kind>A1</kind>
<name>Breed et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701 29</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2008/0162900</doc-number>
<kind>A1</kind>
<name>Rolfsmeier et al.</name>
<date>20080700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2008/0195356</doc-number>
<kind>A1</kind>
<name>Wenzel et al.</name>
<date>20080800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>702189</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2009/0259385</doc-number>
<kind>A1</kind>
<name>Loeffler et al.</name>
<date>20091000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701102</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2010/0010705</doc-number>
<kind>A1</kind>
<name>Duddle et al.</name>
<date>20100100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701 33</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2010/0049395</doc-number>
<kind>A1</kind>
<name>Duddle et al.</name>
<date>20100200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701 33</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>DE</country>
<doc-number>102 28 610</doc-number>
<kind>A1</kind>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>DE</country>
<doc-number>10 2004 027 033</doc-number>
<kind>A1</kind>
<date>20051000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>DE</country>
<doc-number>10 2005 051 673</doc-number>
<kind>A1</kind>
<date>20070500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>DE</country>
<doc-number>10 2006 062 555</doc-number>
<kind>A1</kind>
<date>20080700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>WO</country>
<doc-number>WO 02/065220</doc-number>
<kind>A1</kind>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00015">
<othercit>Otterbach et al., &#x201c;Rapidly Control Prototyping&#x2014;New Possibilities and Tools,&#x201d; VDI Reports, vol. 1828, pp. 527-538 (Mar. 2, 2004).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00016">
<othercit>Hanselmann, &#x201c;Automotive Control: From Concept to Experiment to Product,&#x201d; Proceedings of the 1996 IEEE International Symposium on System Computer-Aided Control Design, pp. 129-134 (Sep. 1996).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00017">
<othercit>Standards IEEE Industry and Technology Organization, The Nexus in 5001 Forum&#x2122; Debug Interface&#x2014;Version 2.0, IEEE Nexus Forum (Dec. 23, 2003).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>11</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>701 27</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701 302</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701 322</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701 327</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701 333</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701 334</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701 42</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701102</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701430</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701451-452</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701476-480</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701540</main-classification>
</classification-national>
<classification-cpc-text>B62D 6/00</classification-cpc-text>
<classification-cpc-text>B62D 7/159</classification-cpc-text>
<classification-cpc-text>H04W 4/04</classification-cpc-text>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130041551</doc-number>
<kind>A1</kind>
<date>20130214</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Dressler</last-name>
<first-name>Marc</first-name>
<address>
<city>Horn-Bad Meinberg</city>
<country>DE</country>
</address>
</addressbook>
<residence>
<country>DE</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Dressler</last-name>
<first-name>Marc</first-name>
<address>
<city>Horn-Bad Meinberg</city>
<country>DE</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Muncy, Geissler, Olds &#x26; Lowe, PLLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>dSPACE GmbH</orgname>
<role>03</role>
<address>
<city>Paderborn</city>
<country>DE</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Cheung</last-name>
<first-name>Mary</first-name>
<department>3667</department>
</primary-examiner>
<assistant-examiner>
<last-name>Trivedi</last-name>
<first-name>Atul</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method is provided for processing data in an influencing device, whereby the influencing device is connectable to a vehicle control unit and to a data processing unit. If the influencing device receives a first trigger or a second trigger, the first trigger is checked for a valid assignment to a function implemented in the hardware or software. If there is a valid assignment, the assigned function is started. A first address and/or a second address and/or the value are checked for a valid assignment to a first sub-function or a second sub-function. Depending on the called sub-function, the value is checked and/or manipulated and depending on the result of the check, the checked value and/or the manipulated value are sent by the influencing device to the vehicle control unit and/or to the data processing unit and/or stored in the memory of the influencing device.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="235.54mm" wi="178.14mm" file="US08626395-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="250.02mm" wi="189.91mm" file="US08626395-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="259.42mm" wi="186.27mm" file="US08626395-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="259.76mm" wi="185.84mm" file="US08626395-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="185.08mm" wi="137.67mm" file="US08626395-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="258.15mm" wi="183.39mm" file="US08626395-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<p id="p-0002" num="0001">This nonprovisional application claims priority under 35 U.S.C. &#xa7;119(a) to German Patent Application No. 10 2011 052 511.4, which was filed in Germany on Aug. 9, 2011, and which is herein incorporated by reference.</p>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The invention relates to a method for processing data.</p>
<p id="p-0005" num="0004">2. Description of the Background Art</p>
<p id="p-0006" num="0005">DE 102004027033 A1, which corresponds to US20080065239, which is incorporated herein by reference, discloses a method for processing data from a motor vehicle control unit <b>11</b> and a data processing unit <b>12</b> by an influencing device <b>10</b>.</p>
<p id="p-0007" num="0006">As shown in <figref idref="DRAWINGS">FIG. 4</figref> and <figref idref="DRAWINGS">FIG. 5</figref>, a motor vehicle control unit <b>11</b> is connected to an influencing device <b>10</b>, whereby motor vehicle control unit <b>11</b> and influencing device <b>10</b> are disposed together in a housing <b>20</b> or in two different housings. In this regard, motor vehicle control unit <b>11</b> and influencing device <b>10</b> are disposed in a motor vehicle either as shown in <figref idref="DRAWINGS">FIG. 5</figref> or in a laboratory as shown in <figref idref="DRAWINGS">FIG. 4</figref>. A first program, for example, for controlling an engine, runs in vehicle control unit <b>11</b>.</p>
<p id="p-0008" num="0007">The task of influencing device <b>10</b> is, for example, to read out values from vehicle control unit <b>11</b> and to send them to a data processing unit <b>12</b>, so that vehicle control unit <b>11</b> is tested in regard to its functions by data processing unit <b>12</b>, or to provide vehicle control unit <b>11</b> with values from data processing unit <b>12</b> via an interface <b>19</b>. A data processing unit <b>12</b> is, for example, a personal computer, a simulator, or a processor board.</p>
<p id="p-0009" num="0008">Data are transmitted between vehicle control unit <b>11</b> and influencing device <b>10</b>. DE 102006062555 A1 discloses a method for transmitting the data of a vehicle control unit <b>11</b> to an influencing device <b>10</b>, the method in which influencing device <b>10</b> contains a first execution unit <b>14</b>, a memory, and an interface, preferably a debug interface. With the interface, which has a so-called trace functionality, it is possible to monitor addresses to be monitored in memory <b>13</b> of a vehicle control unit <b>11</b>, and to send the data to influencing device <b>10</b>.</p>
<p id="p-0010" num="0009">Influencing device <b>10</b> is connected to data processing unit <b>12</b>. The data exchange between influencing device <b>10</b> and data processing unit <b>12</b> occurs according to the standardized XCP protocol and/or the CCP protocol.</p>
<p id="p-0011" num="0010">As <figref idref="DRAWINGS">FIG. 6</figref> shows, influencing device <b>10</b> serves as an interface between vehicle control unit <b>11</b> and data processing unit <b>12</b>. In the state of the art, the data <b>16</b> sent from vehicle control unit <b>11</b> are sent by influencing device <b>10</b> unchanged according to the XCP protocol and/or the CCP protocol to data processing unit <b>12</b>, or the data <b>17</b> sent from data processing unit <b>12</b> are sent unchanged by influencing device <b>10</b> to vehicle control unit <b>11</b>. To this end, a second program <b>15</b>, which controls the data transmission between vehicle control unit <b>11</b> and data processing unit <b>12</b>, runs in a first execution unit <b>14</b> of influencing device <b>10</b>, for example, a processor.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0012" num="0011">It is therefore an object of the invention to provide a method that refines the conventional art.</p>
<p id="p-0013" num="0012">According to an embodiment of the invention, a method is provided for processing data (<b>16</b>, <b>17</b>) in an influencing device <b>10</b>, whereby influencing device <b>10</b> is connected to a vehicle control unit <b>11</b> and to a data processing unit <b>12</b>. Vehicle control unit <b>11</b> and influencing device <b>10</b> are disposed in a motor vehicle or on a test bench or on a laboratory bench. A first program runs in vehicle control unit <b>11</b>. Influencing device <b>10</b> contains a first execution unit <b>14</b>, in which a second data processing process <b>15</b> runs implemented in the software or hardware. Data are exchanged according to an XCP protocol and/or a CCP protocol between data processing unit <b>12</b> and influencing device <b>10</b>. If influencing device <b>10</b> receives a first trigger or a second trigger from vehicle control unit <b>11</b>, from data processing unit <b>12</b>, or from influencing device <b>10</b>, the first trigger is checked for a valid assignment to a function implemented in the hardware or software. If there is a valid assignment, the assigned function is started. The function has at least one first address. A value is read out of a memory of influencing device <b>10</b> and/or a memory <b>13</b> of vehicle control unit <b>11</b> by means of the first address. Further, the function has a first sub-function and/or a second sub-function. The first address and/or a second address and/or the value are checked for a valid assignment to the first sub-function or the second sub-function. If there is a valid assignment, the assigned sub-function is called. Depending on the called sub-function, the value is checked and/or manipulated and depending on the result of the check, the checked value and/or the manipulated value are sent by influencing device <b>10</b> to vehicle control unit <b>11</b> and/or to data processing unit <b>12</b> and/or stored in memory <b>26</b> of influencing device <b>10</b>.</p>
<p id="p-0014" num="0013">An advantage of the method of the invention is that data or the values of the data are already processed in influencing device <b>10</b> and not sent unchanged by influencing device <b>10</b> as in the state of the art and processed only in the data processing unit <b>12</b> or vehicle control unit <b>11</b>. As a result, the options for processing in real time, i.e., adherence to predetermined time intervals during data processing, are considerably improved.</p>
<p id="p-0015" num="0014">In other embodiments, the checking of the assignment of the first address, a second address, or of the value to one of the two sub-functions during runtime, therefore after the start of the function, or also before the start of the function can be carried out in a configuration phase. For example, the configuration phase includes checking all functions and their addresses or values for their assignment to a first sub-function or a second sub-function after the start of the second program before the first function is started.</p>
<p id="p-0016" num="0015">In an embodiment of the invention, the content of the first sub-function or the second sub-function is predetermined by means of a programming language and/or a modeling language before the start of the second program and/or before the start of the function. This means that a sub-function need not always be predetermined statically, but set in regard to its functionality as needed before the start of the second program or also as needed before the start of the function.</p>
<p id="p-0017" num="0016">Based on this type of setting of the content, then in another run a program code is generated and/or an FPGA (Field Programmable Gate Array) is programmed and/or configured.</p>
<p id="p-0018" num="0017">In another embodiment, a data format is set by means of the first sub-function or the second sub-function, for example, a data format in which the data are expanded by a check sum so that faulty data transmissions are detected. Next, data to be sent in this data format are sent by influencing device <b>10</b> to data processing unit <b>12</b> or to vehicle control unit <b>11</b>. This results, for example, in the advantage that influencing device <b>10</b> is flexible for different data formats.</p>
<p id="p-0019" num="0018">In another embodiment, the value, which is detected as faulty based on the execution of the first sub-function or the second sub-function, is not sent to data processing unit <b>12</b> and/or vehicle control unit <b>11</b>. This has, for example, the advantage that a data transmission is saved and thus time is saved and that data processing unit <b>12</b> and/or vehicle control unit <b>11</b> do not work further with faulty values and to that end do not need to perform validity checks of the values.</p>
<p id="p-0020" num="0019">In another embodiment, the second sub-function is also assigned to the first address and/or the second address and/or the value, in addition to the first sub-function, so that both sub-functions are executed.</p>
<p id="p-0021" num="0020">In an embodiment of the invention, data sent by data processing unit <b>12</b> to influencing device <b>10</b> are stored in the memory of influencing device <b>10</b>.</p>
<p id="p-0022" num="0021">Further scope of applicability of the present invention will become apparent from the detailed description given hereinafter. However, it should be understood that the detailed description and specific examples, while indicating preferred embodiments of the invention, are given by way of illustration only, since various changes and modifications within the spirit and scope of the invention will become apparent to those skilled in the art from this detailed description.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0023" num="0022">The present invention will become more fully understood from the detailed description given hereinbelow and the accompanying drawings which are given by way of illustration only, and thus, are not limitive of the present invention, and wherein:</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 1</figref> shows a schematic view of the structural design of a vehicle control unit, an influencing device of the invention, and a data processing unit;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 2</figref> shows a schematic view of a first embodiment of the invention of a method for the processing of data in an influencing device;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 3</figref> shows a schematic view of another first embodiment of the invention of a method for the processing of data in an influencing device;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 4</figref> shows a schematic view of the arrangement of a vehicle control unit and an influencing device in a laboratory according to the conventional art;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 5</figref> shows a schematic view of the arrangement of a vehicle control unit and an influencing device in a motor vehicle according to the conventional art; and</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 6</figref> shows a schematic view of the structural design of a vehicle control unit and an influencing device according to the conventional art.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 1</figref> shows a schematic view of the structural design of a vehicle control unit <b>11</b>, an influencing device <b>10</b>, and a data processing unit <b>12</b>. Vehicle control unit <b>11</b> is connected to an influencing device <b>10</b>, whereby vehicle control unit <b>11</b> and influencing device <b>10</b> are disposed together in a housing <b>20</b> or in two different housings.</p>
<p id="p-0031" num="0030">Influencing device <b>10</b> is furthermore connected to a data processing unit <b>12</b> via an interface <b>19</b>. A data processing unit <b>12</b> is, for example, a personal computer, a simulator, or a processor board. A data transmission between influencing device <b>10</b> and data processing unit <b>12</b> occurs according to the XCP protocol and/or CCP protocol.</p>
<p id="p-0032" num="0031">Influencing device <b>10</b> contains an execution unit <b>14</b>. Data are read from vehicle control unit <b>11</b> by means of the execution unit <b>14</b>. A second program <b>15</b> runs in execution unit <b>14</b>. For example, execution unit <b>14</b> receives the data via a trace interface of vehicle control unit <b>11</b> or reads the data out of a memory <b>13</b> of vehicle control unit <b>11</b> by means of second program <b>15</b>. A value of a datum <b>16</b> sent from vehicle control unit <b>11</b> is not sent unchanged as in the state of the art by influencing device <b>10</b> according to the XCP protocol or the CCP protocol to data processing unit <b>12</b>, but according to the invention checked and/or manipulated in execution unit <b>14</b> of influencing device <b>10</b>. A data preprocessing <b>18</b> therefore occurs in execution unit <b>14</b>, whereby execution unit <b>14</b> is either the same one that receives the data from vehicle control unit <b>11</b> or another execution unit <b>14</b> in influencing device <b>10</b>.</p>
<p id="p-0033" num="0032">Likewise, data <b>17</b>, which influencing device <b>10</b> receives from data processing unit <b>12</b> according to the XCP protocol or CCP protocol, are preprocessed in execution unit <b>14</b> of influencing device <b>10</b> according to the invention by means of data preprocessing <b>18</b> before they are sent to vehicle control unit <b>11</b>. For example, the values of the data sent by data processing unit <b>12</b> to influencing device <b>10</b> are checked and/or manipulated.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 2</figref> and <figref idref="DRAWINGS">FIG. 3</figref> show a schematic view of embodiments according to the invention of a method for processing data in influencing device <b>10</b>.</p>
<p id="p-0035" num="0034">In a first process step <b>21</b>, influencing device <b>10</b> receives a trigger from vehicle control unit <b>11</b>, data processing unit <b>12</b>, or influencing device <b>10</b> itself. A trigger of the influencing device <b>10</b> itself can be actuated, for example, by an established time.</p>
<p id="p-0036" num="0035">The information whether data <b>16</b> sent from vehicle control unit <b>11</b> to data processing unit <b>12</b> are to be sent and/or whether data <b>17</b> sent from data processing unit <b>12</b> to vehicle control unit <b>11</b> are to be sent is linked to the trigger.</p>
<p id="p-0037" num="0036">At the time of trigger there are implemented functions stored in a memory <b>26</b> of influencing device <b>10</b>, whereby the functions are stored in the same memory region as the data in memory <b>26</b> or are stored in another memory region of memory <b>26</b>. The functions are either stored separately or combined in a program. The already implemented function is accessed by execution unit <b>14</b> and controls, for example, the reading of data from vehicle control unit <b>11</b>, the transmission of data from memory <b>13</b> of vehicle control unit <b>11</b> or memory <b>26</b> of influencing device <b>10</b> to data processing unit <b>12</b>, or the transmission of data from memory <b>26</b> of influencing device <b>10</b> to vehicle control unit <b>11</b>. Memory <b>26</b> of influencing device <b>10</b> contains, for example, data <b>16</b> from vehicle control unit <b>11</b>, data <b>17</b> from data processing unit <b>12</b>, or preset or configured data.</p>
<p id="p-0038" num="0037">In a second process step <b>22</b>, influencing device <b>10</b> checks whether there is a valid assignment of the trigger to a function. If there is no valid assignment of the trigger to a function, execution unit <b>14</b> in another process step <b>23</b> waits for the next trigger. If there is a valid assignment of the trigger to a function, this function is started in a process step <b>24</b>.</p>
<p id="p-0039" num="0038">Each function is assigned a first address in memory <b>26</b> of influencing device <b>10</b> or memory <b>13</b> of vehicle control unit <b>11</b>. This assignment is implemented either fixedly in the function or occurs by means of the information contained in the trigger. Based on the first address, a value is read either from memory <b>13</b> of vehicle control unit <b>11</b> or from memory <b>26</b> of influencing device <b>10</b> in a process step <b>25</b>. In another embodiment, for example, a value is stored in memory <b>26</b> of influencing device <b>10</b> by means of data processing unit <b>12</b> or the sub-function, for example, to selectively manipulate values in vehicle control unit <b>11</b>.</p>
<p id="p-0040" num="0039">In another exemplary embodiment, the function is assigned a second address in addition to the first address, from which the value was read. This assignment is implemented either fixedly in the function or occurs by means of the information contained in the trigger.</p>
<p id="p-0041" num="0040">Further, according to the invention the function has a first sub-function and/or a second sub-function.</p>
<p id="p-0042" num="0041">The first sub-function and/or the second sub-function are assigned to the first address and/or a second address and/or the value. In another process step <b>27</b> of the invention, the first address and/or the second address and/or the value are checked for a valid assignment to the first sub-function and/or the second sub-function. If there is no valid assignment to the first sub-function or the second sub-function, the function is processed further in process step <b>28</b>. If there is a valid assignment, the assigned first sub-function and/or the assigned second sub-function are started in a process step <b>29</b> and processed in a process step <b>31</b>.</p>
<p id="p-0043" num="0042">Depending on the result of the execution <b>31</b> of the sub-function, a value is sent from influencing device <b>10</b> in a process step <b>33</b> to vehicle control unit <b>11</b>, and/or in a process step <b>34</b> to data processing unit <b>12</b> or also no value is sent <b>32</b>. For example, if in a sub-function a value is checked for error, only valid values are sent to vehicle control unit <b>11</b> or to data processing unit <b>12</b>, for example. Faulty values such as, for example, a value outside an expected value range are either not sent or manipulated, so that the faulty value is replaced, for example, by a value within the expected value range.</p>
<p id="p-0044" num="0043">In another embodiment, which is not shown, depending on the result of execution <b>31</b> of the sub-function, a value is stored by influencing device <b>10</b> in memory <b>26</b> of the influencing device and used, for example, in subsequent function calls. The storing of the value in memory <b>26</b> occurs either instead of or in addition to the transmission to vehicle control unit <b>11</b> and/or to data processing unit <b>12</b>.</p>
<p id="p-0045" num="0044">In another embodiment, a value is manipulated by means of the sub-function and the manipulated value is sent by influencing device <b>10</b> to vehicle control unit <b>11</b> and/or to data processing unit <b>12</b>. A manipulation of the value is, for example, a calculation based on the value, for example, the conversion of the value to a value of another unit of measurement or also the replacement of the value by another predetermined or calculated value.</p>
<p id="p-0046" num="0045">Another embodiment, shown in <figref idref="DRAWINGS">FIG. 3</figref>, includes performing a check in a process step <b>30</b>, after sub-function <b>29</b> is started, whether another value is to be read from memory <b>13</b> of vehicle control unit <b>11</b> or from memory <b>26</b> of influencing device <b>10</b>. The additional value is read in process step <b>25</b> and the address, from which the additional value is read, and/or the additional value is again checked for a valid assignment to the first sub-function and/or second sub-function in process step <b>27</b>, and in the case of a valid assignment the assigned sub-function is started in process step <b>29</b>.</p>
<p id="p-0047" num="0046">In another embodiment, the first sub-function has a first priority and the second sub-function a second priority. If the second sub-function is called up, the execution of the first sub-function is interrupted if the second priority is higher than the first priority.</p>
<p id="p-0048" num="0047">In a refinement of the invention, the content of the first sub-function or the second sub-function is predetermined by means of a programming language, for example, Java, C, C+, or C++, and/or a modeling language, for example, MATLAB&#xae;/SIMULINK&#xae;, before the start of the second program and/or before the start of the function. This means that a sub-function need not always be predetermined statically, but set in regard to its functionality as needed before the start of the second program or also as needed before the start of the function.</p>
<p id="p-0049" num="0048">Based on such a determination of the content, in another execution, a program code, for example, an assembler code is then generated and/or an FPGA (Field Programmable Gate Array) is programmed and/or configured.</p>
<p id="p-0050" num="0049">The invention being thus described, it will be obvious that the same may be varied in many ways. Such variations are not to be regarded as a departure from the spirit and scope of the invention, and all such modifications as would be obvious to one skilled in the art are to be included within the scope of the following claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for processing data, the method comprising:
<claim-text>providing a vehicle control unit, an influencing device connectable to the vehicle control unit, and a data processing unit connectable to the influencing device, the influencing device comprising a first execution unit, the vehicle control unit and the influencing device being arranged in a motor vehicle or the vehicle control unit and the influencing device being arranged on a test bench or laboratory bench;</claim-text>
<claim-text>running a first program in the vehicle control unit;</claim-text>
<claim-text>running a second program that is implemented in software or hardware in the execution unit of the influencing device;</claim-text>
<claim-text>exchanging data according to an XCP protocol and/or a CCP protocol between the data processing unit and the influencing device;</claim-text>
<claim-text>receiving a first trigger or a second trigger from the vehicle control unit, from the data processing unit, or from the influencing device;</claim-text>
<claim-text>checking the first trigger for a valid assignment to a function implemented in the hardware or software; and</claim-text>
<claim-text>starting, by the influencing device, the assigned function if there is a valid assignment, the function having a first sub-function and/or a second sub-function, and the function having at least one first address;</claim-text>
<claim-text>reading out a value from a memory of the influencing device and/or a memory of the vehicle control unit via the first address;</claim-text>
<claim-text>checking the first address and/or a second address and/or the read value for a valid assignment to the first sub-function or the second sub-function, wherein, if there is a valid assignment, the assigned first sub-function and/or the assigned second sub-function is called up;</claim-text>
<claim-text>checking and/or manipulating the read value based on the called sub-function; and</claim-text>
<claim-text>sending, based on the result of the check, the checked value and/or the manipulated value via the influencing device to the vehicle control unit and/or to the data processing unit and/or storing the checked value and/or the manipulated value in the memory of the influencing device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the checking of the assignment of the first address and/or a second address and/or of the value to the first sub-function or the second sub-function occurs after the function is started.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the checking of the assignment of the first address and/or the second address and/or of the value to the first sub-function or the second sub-function occurs before the function is started.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the content of the first sub-function and/or the second sub-function is predetermined by a programming language and/or a modeling language before the start of the second program and/or before the start of the function.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein a program code is generated and/or an FPGA (field-programmable gate array) is programmed and/or is configured from the predetermined content.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein a data format is set by the first sub-function or the second sub-function.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the value, which is detected as faulty based on the execution of the first sub-function, is not sent to the data processing unit and/or the vehicle control unit and/or stored in the memory of the influencing device.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the data processing unit sends data to the influencing device and these data are stored in the memory of the influencing device.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first trigger or the second trigger is received by the influencing device.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the checking and/or manipulating of the read value is performed by the influencing device prior to the sending or storing of the checked value and/or the manipulated value by the influencing device.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. An influencing device for processing data as an interface between a vehicle control unit running a first program and a data processing unit testing functions of the vehicle control unit, the influencing device comprising:
<claim-text>an execution unit configured to run a second program implemented in software or hardware and to manage an exchange of data with the data processing unit according to an XCP protocol and/or a CCP protocol;</claim-text>
<claim-text>memory coupled to the execution unit and configured to store instructions for causing the execution unit to:
<claim-text>check a received trigger for a valid assignment to a function of the second program,</claim-text>
<claim-text>start the assigned function if there is a valid assignment, the function having a sub-function and an address,</claim-text>
<claim-text>read out a value from memory according to the address,</claim-text>
<claim-text>check the address and/or the read value for a valid assignment to the sub-function,</claim-text>
<claim-text>call the assigned sub-function if there is a valid assignment,</claim-text>
<claim-text>check and/or manipulate the read value based on the called sub-function; and</claim-text>
</claim-text>
<claim-text>an interface configured to send the checked value and/or the manipulated value to the data processing unit according to the XCP protocol and/or the CCP protocol. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
