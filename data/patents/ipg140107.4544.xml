<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625628-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625628</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13214204</doc-number>
<date>20110821</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>118</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>12</main-group>
<subgroup>43</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>M</subclass>
<main-group>3</main-group>
<subgroup>42</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370458</main-classification>
<further-classification>370248</further-classification>
<further-classification>370328</further-classification>
<further-classification>370344</further-classification>
<further-classification>370349</further-classification>
<further-classification>370454</further-classification>
<further-classification>455515</further-classification>
<further-classification>455517</further-classification>
</classification-national>
<invention-title id="d2e53">Method and gateway for transmission of router advertisement</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7881322</doc-number>
<kind>B1</kind>
<name>Benveniste</name>
<date>20110200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2005/0111377</doc-number>
<kind>A1</kind>
<name>Lioy et al.</name>
<date>20050500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370252</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2008/0233905</doc-number>
<kind>A1</kind>
<name>Mohanty et al.</name>
<date>20080900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2009/0017845</doc-number>
<kind>A1</kind>
<name>Wu et al.</name>
<date>20090100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455458</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2009/0310618</doc-number>
<kind>A1</kind>
<name>Carter</name>
<date>20091200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2011/0077011</doc-number>
<kind>A1</kind>
<name>Wang et al.</name>
<date>20110300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455445</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2011/0299463</doc-number>
<kind>A1</kind>
<name>Bachmann et al.</name>
<date>20111200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370328</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>WO</country>
<doc-number>2005/109767</doc-number>
<kind>A1</kind>
<date>20051100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00009">
<othercit>SA WG2 Meeting #86, S2-113455, Change Request; Naantali, Finland; Jul. 11-15, 2011; 9 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00010">
<othercit>Madanapalli, S. et al.: &#x201c;Recommendation to make periodic Router Advertisements in IPv6 optional&#x201d;; Aug. 4, 2006; 7 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00011">
<othercit>Liebsch et al.: &#x201c;Paging Concept for IP based Networks&#x201d;; Sep. 2001; 59 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>27</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>370248-352</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370454-459</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455458</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455515</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455517</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>5</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130044740</doc-number>
<kind>A1</kind>
<date>20130221</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Qiang</last-name>
<first-name>Zu</first-name>
<address>
<city>Kirkland</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Qiang</last-name>
<first-name>Zu</first-name>
<address>
<city>Kirkland</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Coats and Bennett, P.L.L.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Telefonaktiebolaget L M Ericsson (Publ)</orgname>
<role>03</role>
<address>
<city>Stockholm</city>
<country>SE</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Elliott, IV</last-name>
<first-name>Benjamin H</first-name>
<department>2474</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Methods and Gateways (GWs) are provided for efficiently sending a router advertisement message to a User Equipment (UE). The GW comprises an interface, a processor, and an instructions repository that stores instructions that when executed by the processor cause the later to determine the UE is in idle mode, and responsive thereto, to delay a transmission of the router advertisement message to the UE until the UE transitions from the idle mode to an active mode. This is achieved by delaying a paging of the UE. In another embodiment, a method and GW is provided. The GW's processor detects a router advertisement message needs to be sent to the UE, determines the UE is in idle mode and delays a paging of the UE until detecting the UE transitions from the idle mode into an active mode, when the router advertisement message is sent to the UE.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="92.20mm" wi="237.41mm" file="US08625628-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="239.44mm" wi="131.23mm" orientation="landscape" file="US08625628-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="218.52mm" wi="180.26mm" file="US08625628-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="252.39mm" wi="194.31mm" file="US08625628-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="207.26mm" wi="149.86mm" file="US08625628-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="139.11mm" wi="115.49mm" file="US08625628-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0002" num="0001">The present invention relates to the field of optimized signalling in telecommunications networks.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">The System Architecture Evolution (SAE) is the core network architecture of the Third Generation Partnership Project's (3GPP) Long Term Evolution (LTE) wireless communication standard. SAE is the evolution of the General Packet Radio service (GPRS) Core Network, with some differences including a simplified architecture, the fact that it is based on an all IP Network (AIPN), has support for higher throughput and for lower latency access networks (e.g. Radio Access Networks, RANs) and for mobility between multiple heterogeneous RANs, including legacy systems as GPRS, but also non-3GPP systems (e.g. WiMAX). The main component of the SAE architecture is the Evolved Packet Core (EPC), also known as the SAE Core. The EPC serves as equivalent of the GPRS networks (via the Mobility Management Entity, Serving Gateway and Packet Data Gateway (PGW) subcomponents). In the EPC, the PGW provides connectivity from the User Equipment (UE) to external packet data networks by being the point of exit and entry of data traffic for the UE. A UE may have simultaneous connectivity with more than one PGW for accessing multiple Packet Data Networks (PDNs). The PGW also performs policy enforcement, packet filtering for each user, charging support, lawful Interception and packet screening. Finally, another key role of the PGW is to act as the anchor for mobility between 3GPP and non-3GPP technologies such as WiMAX and 3GPP2 (CDMA 1X and EvDO).</p>
<p id="p-0004" num="0003">Reference is now made to FIG. <b>1</b>.<i>a </i>which is a simplified prior art representation of a 3GPP-based telecommunications network. Shown in FIG. <b>1</b>.<i>a </i>is a UE <b>101</b> connected via a radio network <b>103</b> to a serving gateway <b>105</b> and a PDN gateway <b>107</b>. The PDN gateway acts to connect the UE <b>101</b> to IP networks and services <b>113</b>. The radio network <b>103</b> may include an E-UTRAN (evolved UMTS Terrestrial Radio Access Network) or any other type of radio network. Together, the serving gateway <b>105</b> and the PDN gateway <b>107</b> form a gateway functionality <b>109</b> that insures packet data connection for the UE <b>101</b> with the IP networks <b>113</b>.</p>
<p id="p-0005" num="0004">In the EPC, the S5 interface reference point (also called S5 herein) provides user plane tunnelling and tunnel management between Serving GW <b>105</b> and the PDN GW <b>107</b>. It is used for Serving GW <b>105</b> relocation due to UE mobility and if the Serving GW <b>105</b> needs to connect to a non-collocated PDN GW <b>107</b> for the required PDN connectivity. S5 is based on GTP protocol. The PMIP variant of S5 is described in 3GPP's Technical Specification TS 23.402, all of which is herein incorporated by reference.</p>
<p id="p-0006" num="0005">The EPC's S8 inter-PLMN interface reference point (not shown in FIG. <b>1</b>.<i>a</i>) provides user and control plane between the Serving GW in a Visited-PLMN and the PDN GW in a Home-PLMN. S8 is the inter PLMN variant of S5. S8 is based on GTP protocol. The PMIP variant of S8 is described in the same 3GPP TS 23.402 referred to hereinbefore.</p>
<p id="p-0007" num="0006">When a UE attaches into a 3GPP based radio access network, it may set up one or more PDN connections with a network. Each such PDN connection can have a different PDN type, including, for example Internet Protocol (IP) version 4 (IPv4) only, IPv6 only or IPv4/IPv6. With IPv6 only or IPv4/IPv6 PDN type, the UE is assigned an IPv6 network prefix via IPv6 stateless address auto-configuration. The IPv6 network prefix can be assigned in various ways.</p>
<p id="p-0008" num="0007">For example, in S5/S8 PMIPv6, the IPv6 network prefix is assigned by the PDN Gateway (PDN GW) and returned to the Serving Gateway in a Proxy Binding Acknowledgement message. The Serving GW then sends a router advertisement message with the allocated IPv6 prefix to the UE once the PDN connection is established, so that the UE can use the prefix in order to configure its IPv6 address. On the other hand, in S5/S8 GTPv2 (General Packet Radio Service Tunnelling Protocol version 2), the IPv6 network prefix is assigned by the PDN GW and sent directly to the UE in a router advertisement message once the PDN connection is established without involving the Serving Gateway. Like before, upon receiving the router advertisement message, the UE configures its globally unique IPv6 address.</p>
<p id="p-0009" num="0008">In the current 3GPP based implementation, it is assumed that a network always sends an IPv6 router advertisement message upon receiving the routing solicitation message from the UE, or at any time after the PDN connection is setup including at initial attachment, during an access handover with the Serving GW relocation, or during a handover from none 3GPPIP access to 3GPP access. After the PDN connection is setup, the network also renews the IPv6 prefix periodically. For this purpose, the Serving GW sends an IPv6 router advertisement message to the UE with the same IPv6 prefix and new non-zero values in preferred and valid lifetime fields, before the expiry of the router lifetime or prefix lifetime.</p>
<p id="p-0010" num="0009">For example, according to the current 3GPP implementations, there is a lifetime of the IPv6 router advertisement message. When the lifetime timer expires, the UE has to remove the prefix from its routing table which renders the UE unable to send any uplink packets for a certain duration. In order to maintain its routing table usable, the UE has to renew its IPv6 address, and for this purpose sends a Router Solicitation message to the network asking for an IPv6 prefix extension. Alternatively, the PDN GW or the Serving GW needs to periodically send to the UE an IPv6 router advertisement message, solicited or not, in order to avoid the lifetime expiration and the misconfiguration of the UE's IPv6 address. Also during mobility procedures involving the UE, such as for example in the context of an inter-Mobility Access Gateway (MAG) handover, the target Serving GW does not necessarily know when the router advertisement lifetime expires. Therefore, the target Serving GW must send an IPv6 router advertisement to the UE every time a handover is completed.</p>
<p id="p-0011" num="0010">There is a belief in the industry that the extra paging generated by IPv6 router advertisement messages sent when the UE is in idle mode does not cause any concern because IPv6 router advertisement messages are considered necessary UE signalling messages. According to these beliefs, such router advertisement messages need to be sent to the UE periodically in order to always keep the UE routing table correct. However, it was recently noted that some issues can occur and that the periodic transmission of router advertisement messages are not without creating adverse effects.</p>
<p id="p-0012" num="0011">For example, the 3GPP UE may be in an idle mode, i.e. with no network connection established over the air interface, when an IPv6 router advertisement message is sent by the PDN GW to the Serving GW. Sending an IPv6 router advertisement message to an idle mode UE triggers the network to page that UE, which results in the UE establishing a user plane connection that wakes up the UE from idle mode, in order to allow i) for the UE to receive the IPv6 prefix, and ii) for the UE's routing table to be updated according to the received prefix. The above procedure results in a lot of network signalling which is totally unnecessary when the UE is in idle mode, since when in such a mode, the UE does not exchange any data with the network. Moreover, to wake up an idle mode UE too often also results in the faster depletion of the UE's battery.</p>
<p id="p-0013" num="0012">Reference is now made to FIG. <b>1</b>.<i>b </i>(prior art) that shows an exemplary flow-chart diagram illustrative of the current prior art implementation of the transmission of a router advertisement message towards a UE that is in idle mode. In action <b>102</b>, a PDN GW receives downlink data destined to a UE, such as for example a router advertisement message. In action <b>104</b>, it is detected whether or not the UE is in idle mode, and if not, i.e. if the UE is being detected to be in active mode with a radio interface connection already established with the network, in action <b>106</b> the downlink data is transmitted to the UE, including for example the router advertisement message. In action <b>108</b>, the UE receives and processes the router advertisement message and configures its own IPv6 address using the IPv6 Network Prefix. However, if in action <b>104</b>, it is rather detected that the UE is in idle mode, i.e. with no radio interface connection established with the network, the GW pages the UE in action <b>110</b> in order to cause the UE to transition from the idle mode to active mode in action <b>112</b>, so that the downlink data including the router advertisement message can be transmitted from the GW into the UE, in action <b>114</b>. In action <b>116</b>, the UE receives the data including the router advertisement message, and configures its own IPv6 address using the IP prefix included with the router advertisement message. In action <b>118</b>, provided that the UE has no other data to exchange with the network, the UE may go back to idle mode and terminate the radio interface connection with the network.</p>
<p id="p-0014" num="0013">Waking-up a UE from idle mode for the simple purpose of sending the router advertisement message causes the UE to deplete its internal battery faster, which can have negative consequences on the subsequent communications of the UE with the network. Likewise, the actions performed by both the UE and the network for the mere purpose of configuring a new IP address for the UE involves additional signalling between the UE and the network that causes sometimes unnecessary load on the network. For example, in many instances, a UE could be kept in idle mode for extended periods of time had it not been for the receipt of the router advertisement messages. Other times, configuring a new IP address may prove useless, since the UE may never make actual use of such a configuration if the UE is kept in idle mode until the next router advertisement message is received.</p>
<p id="p-0015" num="0014">Although there is no prior art solution as the one proposed hereinafter for solving the above-mentioned deficiencies, the U.S. Pat. No. 7,881,322 bears some relation with the field of the present invention. In this patent, there is disclosed a power-saving mechanism for establishing periodic traffic streams in wireless local area networks. According to the U.S. Pat. No. 7,881,322, a method for coordinating the delivery and receipt of frames from a power-saving station in a wireless local area network is disclosed. According to that patent, a wake-up schedule is established for power-saving stations based on a temporal period and temporal offset that reduces the frequency with which multiple stations in a network wake-up simultaneously, thereby reducing traffic delays and power consumption. In more particular, according to the U.S. Pat. No. 7,881,322, a station, prior to entering power-saved mode, sends a request to an access point that specifies a desire scheduled period for subsequent wake-up that is independent of beacons. The access point determines, based on existing poling and wake-up schedules, a temporal offset that reduces the occurrence of concurring wake-ups of other stations, and sends a positive notice of the temporal offset to the station.</p>
<p id="p-0016" num="0015">The US patent application publication US 2008/0233905A1 also bears some relation with the field of the present invention. Therein, there is provided a subscriber station in sleep mode that is capable of sending and receiving traffic during sleep mode without violating the delay requirements or best effort traffic. Moreover, the subscriber station is capable of remaining asleep and may optionally only be awaken in the event there is data to be transmitted from the base station to the subscriber station or from the subscriber station to the base station. By implementing the wake-up arrangement, the power consumption of the subscriber station can be reduced.</p>
<p id="p-0017" num="0016">However, none of the above-mentioned implementations provides a solution as the ones specified in the present invention.</p>
<p id="p-0018" num="0017">Accordingly, it should be readily appreciated that in order to overcome the deficiencies and shortcomings of the existing solutions, it would be advantageous to have a method and system for efficiently handling the delivery of router advertisement messages to the UE. The present invention provides such a method and system.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0019" num="0018">In one embodiment, the present invention is a method for sending a router advertisement message to a User Equipment (UE), the method comprising the steps of determining that the UE is in idle mode and, responsive to determining that the UE is in idle mode, delaying a transmission of the router advertisement message to the UE until the UE transitions from the idle mode to an active mode, by delaying a paging of the UE.</p>
<p id="p-0020" num="0019">In another embodiment, the present invention is a Packet Data Network Gateway (PDN GW) comprising a communication interface handling messages exchanged with external parties, a processor operationally connected to the communication interface, and an instructions repository operationally connected to the processor. The repository stores instructions that when executed by the processor cause the later to determine that the UE is in idle mode, and responsive to determining that the UE is in idle mode, to delay a transmission of the router advertisement message to the UE until the UE transitions from the idle mode to an active mode. This is achieved by delaying a paging of the UE.</p>
<p id="p-0021" num="0020">In yet another embodiment, the present invention is a method for sending a router advertisement message to a UE, the method comprising the steps of detecting that a router advertisement message needs to be sent to the UE, determining that the UE is in idle mode, and responsive to determining that the UE is in idle mode delaying a paging of the UE. The method further detects when the UE transitions from the idle mode into an active mode and, responsive to the detection that the UE transitions from the idle mode to the active mode, sends the router advertisement message to the UE.</p>
<p id="p-0022" num="0021">In yet another embodiment, the present invention is a PDN GW comprising a communication interface handling messages exchanged with external parties, a processor operationally connected to the communication interface, and an instructions repository operationally connected to the processor and storing instructions that when executed by the processor cause the later to detect that a router advertisement message needs to be sent to the UE, to determine that the UE is in idle mode and responsive to determining that the UE is in idle mode to delay a paging of the UE. The instructions further cause the processor to detect when the UE transitions from the idle mode into an active mode, and responsive to detecting that the UE transitions from the idle mode to the active mode, to instruct the communication interface to send the router advertisement message to the UE.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0023" num="0022">For a more detailed understanding of the invention, for further objects and advantages thereof, reference can now be made to the following description, taken in conjunction with the accompanying drawings, in which:</p>
<p id="p-0024" num="0023">FIG. <b>1</b>.<i>a </i>(Prior Art) is a simplified network diagram of a 3GPP-based telecommunications network;</p>
<p id="p-0025" num="0024">FIG. <b>1</b>.<i>b </i>(Prior Art) is an exemplary flowchart diagram illustrative of the current prior art implementation of a transmission of a router advertisement message towards a UE that is in idle mode;</p>
<p id="p-0026" num="0025">FIG. <b>2</b>.<i>a </i>is a flowchart diagram illustrative of an exemplary implementation of a method according to an embodiment of the invention;</p>
<p id="p-0027" num="0026">FIG. <b>2</b>.<i>b </i>is another flowchart diagram illustrative of an exemplary implementation of another method according to an embodiment of the invention; and</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 3</figref> is a hardware diagram illustrative of an exemplary implementation of an embodiment of the invention in a gateway.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0029" num="0028">The innovative teachings of the present invention will be described with particular reference to various exemplary embodiments. However, it should be understood that this class of embodiments provides only a few examples of the many advantageous uses of the innovative teachings of the invention. In general, statements made in the specification of the present application do not necessarily limit any of the various claimed aspects of the present invention. Moreover, some statements may apply to some inventive features but not to others. In the drawings, like or similar elements are designated with identical reference numerals throughout the several views.</p>
<p id="p-0030" num="0029">It is an object of the invention to solve at least some of the above-mentioned deficiencies of the current 3GPP implementation related to the transmission of a router advertisement message towards a User Equipment (UE).</p>
<p id="p-0031" num="0030">According to embodiments of the present invention, there are provided methods and gateways (GWs) for sending a router advertisement message to a UE, wherein it is determined that the UE is in idle mode, and responsive to determining that the UE is in idle mode, the transmission of the router advertisement message to the UE is delayed until the UE transitions from the idle mode to an active mode. This may be achieved by delaying or cancelling the paging of the idle mode UE, thus allowing the UE to remain in idle mode for longer periods of time. According to other embodiments of the invention, it is detected that a router advertisement message needs to be sent to the UE, it is further detected that the UE is in idle mode, and responsive to determining that the UE is in idle mode the paging of the UE is delayed until it is detected that the UE transitions from the idle mode into an active mode. Responsive to detecting that the UE transitions from the idle mode to the active mode, the router advertisement message is sent to the UE.</p>
<p id="p-0032" num="0031">Detecting that a router advertisement message needs to be sent to the UE, may involve an expiry of a router advertisement message lifetime, or for example, a creation of a router advertisement message in a GW, or the receipt of a transmission of a router advertisement message towards the UE. Once the need for a router advertisement message to be sent to the UE is detected, a second determination may be made to the fact that the UE is in idle mode. If it is determined by the GW that the UE is currently in idle mode, the GW may save the router advertisement message and delay the paging to the UE. The delaying of the page may comprise delaying the paging for a certain period of time, delaying the paging indefinitely (i.e. cancelling a page command or timer), or even creating the paging message but refraining (e.g. on a temporary basis) to send the paging message towards the UE. Thereafter, it is determined when the UE transitions from idle mode back to active mode, and when such a transition is detected, the saved router advertisement message is sent to the UE so that the UE can receive it and configure its own IP address. In the context of the description of the embodiments of the present invention, a gateway (GW) may comprise a serving gateway or a PDN gateway, or any other type of packet data gateway.</p>
<p id="p-0033" num="0032">Reference is now made to FIG. <b>2</b>.<i>a</i>, which is an illustration of a flowchart diagram according to an exemplary embodiment of the invention. Therein, in action <b>202</b> downlink data is received at a GW, the downlink data including, for example, a router advertisement message. In action <b>204</b>, since the gateway has access to the status of the UE, it is determined if the UE is in idle mode, and if not, it is deducted that the UE is rather in active mode (and a radio connection is established between the UE and the network). As a consequence, in action <b>206</b>, the GW sends the downlink data to the UE including for example the router advertisement message, so that in action <b>208</b>, the UE receives and processes the router advertisement message and configures its own IP address to be used in subsequent communications with the network. If in action <b>204</b>, it is rather determined that the UE is in idle mode, i.e. with no radio connection established with the network, then according to embodiments of the invention, the router advertisement message needs to be first buffered in action <b>210</b> since the downlink data cannot be immediately sent to the UE in absence of a radio connection between the network and the UE. Also, since the downlink data received in action <b>202</b> may comprise various types of messages, including a router advertisement message, the method needs to determine in action <b>212</b> if the downlink data received in action <b>202</b> comprises a router advertisement message or not, in order to allow for the special treatment of the router advertisement messages according to embodiments of the present invention. If not, in action <b>214</b>, the method continues with the paging of the UE in order to establish a radio connection between the network and the UE, and in action <b>216</b>, once such a radio connection is established, the downlink data is sent to the UE as per the 3GPP Technical Specifications (TS) 23.401, published in June 2011, and entitled &#x201c;3rd Generation Partnership Project; Technical Specification Group Services and System Aspects; General Packet Radio Service (GPRS) enhancements for Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access (Release 10)&#x201d;, which is herein incorporated by reference in its entirety.</p>
<p id="p-0034" num="0033">Alternatively, if in the action <b>212</b>, it is determined that the downlink data received in the GW is indeed a router advertisement message, in action <b>218</b> the router advertisement message is saved, for example, in an internal memory of the GW. Alternatively, the buffer used in action <b>210</b> may be used to store the router advertisement message. In action <b>220</b>, the paging of the UE is delayed in order to avoid waking up the UE from idle mode for the mere configuration of the IP address. Action <b>220</b> may comprise or be responsive to various sub-actions, including but being not limited to a re-initialization (or resetting) of a router advertisement lifetime timer, a command to refrain from sending the paging messages despite an expiry of the lifetime timer, or the cancellation of the paging command. Such a paging command may have been issued as a consequence of an expiry of a router advertisement lifetime timer. In action <b>222</b>, it is determined if the UE goes from idle mode into an active mode, and if not, i.e. if the UE remains in idle mode, the delaying of the paging continues in action <b>220</b>. Otherwise, if in action <b>222</b> it is determined that the UE indeed goes from idle mode to active mode, i.e. a new radio connection with the network is established, the method moves to step <b>224</b>, where the router advertisement message saved the action <b>218</b> is sent to the UE, so that in action <b>226</b> the UE can receive the router advertisement message including the IPv6 prefix, and use the prefix for the configuration of its own IPv6 address. Action <b>224</b> may be made responsive to action <b>222</b> and also, optionally further responsive to the determination that the router advertisement message is saved in action <b>218</b>.</p>
<p id="p-0035" num="0034">According to another variant of an embodiment of the invention, the router advertisement message is not received by the GW but rather created in the GW, in action <b>230</b>. Such creation may be triggered by an expiry of a router advertisement lifetime timer for a certain UE, or for a plurality of UEs, depending of the network implementation, or by a situation where such timer is about to expire, as generically shown in action <b>229</b>. Following the creation of the router advertisement message, it is determined in action <b>232</b> if the UE is in idle mode. If not, the method moves to action <b>234</b> where the router advertisement message is sent to the UE via the established network connection, so that in action <b>236</b> the UE receives and processes the router advertisement message and configures its own IPv6 address based on the IPv6 prefix included with the router advertisement message.</p>
<p id="p-0036" num="0035">If in action <b>232</b>, it is rather determined that the UE is in idle mode, then the method moves to step <b>218</b> where the router advertisement message is saved in an internal memory of the GW so that the router advertisement message is not immediately sent from to the UE. Alternatively, the buffer used in action <b>210</b> may be used to store the router advertisement message. The method then continues with action <b>220</b> as previously described, that involves the delaying of the paging of the UE in order to avoid to transition the UE from the idle mode into the active mode. Thereafter, subsequent steps <b>222</b>, <b>224</b> and <b>226</b> occur as described hereinbefore.</p>
<p id="p-0037" num="0036">Reference is now made to FIG. <b>2</b>.<i>b </i>which is another flowchart diagram illustrative of an exemplary implementation of another method according to an embodiment of the invention. Shown in FIG. <b>2</b>.<i>b</i>, is a method for sending a router advertisement message to a UE, the method starting in action <b>260</b> by detecting that a router advertisement message needs to be sent to the UE. In action <b>262</b> it is further determined that the UE is in idle mode, and in action <b>264</b>, responsive to determining that the UE is in idle mode, the paging of the UE is delayed. In action <b>266</b>, it is detected when the UE transitions from the idle mode into an active mode; and responsive to detecting that the UE transitions from the idle mode to the active mode, in action <b>268</b> the method allows for sending the router advertisement message to the UE.</p>
<p id="p-0038" num="0037">Reference is now made to <figref idref="DRAWINGS">FIG. 3</figref>, which shows an exemplary implementation of an embodiment of the invention in a GW <b>300</b>. Such a gateway may be, for example, a serving gateway or a PDN gateway, or any other type of packet data gateway. According to this preferred embodiment, the GW comprises a processor <b>302</b> which is connected by appropriate internal interfaces to a communication interface <b>306</b>, which communicates with external nodes to the GW <b>300</b>. The GW <b>300</b> also comprises an instructions repository <b>304</b> that is provided with instructions that when executed by the processor <b>302</b> cause the processor, alone or in combination with the communication interface <b>306</b> to perform the actions previously described in FIGS. <b>2</b>.<i>a </i>and <b>2</b>.<i>b</i>. In particular, the instructions stored on the instructions repository <b>304</b> may cause the processor <b>302</b> to perform the actions <b>204</b> and <b>206</b> in response to the communication interface <b>306</b> receiving downlink data at the GW <b>300</b>, as described for example in action <b>202</b> of the <figref idref="DRAWINGS">FIG. 2</figref>. The GW <b>300</b> may further include a buffer <b>305</b> for storing the downlink data as described in action <b>310</b>, and the instructions repository <b>304</b> may include further instructions that when executed by processor <b>302</b> cause the later to determine that the downlink data is a router advertisement message as described in action <b>212</b>. The communication interface <b>306</b> may also be caused by the instructions executed by the processor to perform actions <b>214</b> and <b>216</b>. Finally, the instructions repository <b>304</b> may be further provided with instructions that when executed by the processor <b>302</b> cause the processor, alone or in combination with the communication interface <b>306</b>, to instruct the saving of the router advertisement message as described in relation to action <b>218</b>, in a memory <b>307</b> of the GW <b>300</b>. Alternatively, the buffer used in action <b>210</b> may be used to store the router advertisement message to delay the paging of the UE, as described in action <b>220</b>. The processor then determines, using the instructions, when the UE goes from idle mode to active mode as described in action <b>222</b>, and finally sends, or cause the communication interface <b>306</b> to send the router advertisement message to the UE as described in action <b>224</b>.</p>
<p id="p-0039" num="0038">Furthermore, according to another embodiment of the present invention, the instructions stored on the instructions repository <b>304</b> may cause the processor <b>302</b> to create the router advertisement message in action <b>230</b> and to determine in action <b>232</b> if the UE is in idle mode.</p>
<p id="p-0040" num="0039">According to another embodiment of the invention, the instructions repository <b>304</b> is operationally connected to the processor <b>302</b> and stores instructions that when executed by the processor <b>302</b> cause the later to detect that a router advertisement message needs to be sent to the UE, to determine that the UE is in idle mode and responsive to determining that the UE is in idle mode to delay a paging of the UE, the instructions further causing the processor to detect when the UE transitions from the idle mode into an active mode, and responsive to detecting that the UE transitions from the idle mode to the active mode, to instruct the communication interface to send the router advertisement message to the UE.</p>
<p id="p-0041" num="0040">According to the embodiments of the present invention, there is provided a method and a GW node for selectively and optimally sending router advertisement messages to the UE's of a given network that preserve the battery life of the UE's of the network while also reducing the network signalling. In so doing, embodiments of the present invention save network resources in terms of processing power and network signalling load. According to embodiments of the present invention, it is determined a need to send a router advertisement message to a UE and further it is determined whether or not the UE is in idle mode. When determining that the UE is in idle mode, the paging of the UE is delayed or inhibited, in order to preserve the battery lifetime of the UE and reduce network signalling. It is only when the UE transitions &#x201c;naturally&#x201d; from the idle mode to the active mode that the router advertisement message is sent to the UE for IP address configuration.</p>
<p id="p-0042" num="0041">Therefore, with the present invention it becomes possible to provide a UE with an IP prefix when needed, i.e. when the UE desires to go into active mode, while saving battery power and network resources when the UE is in idle mode and no data exchange with the network is necessary.</p>
<p id="p-0043" num="0042">Based upon the foregoing, it should now be apparent to those of ordinary skills in the art that the present invention provides an advantageous solution that optimizes the sending of IPv6 router advertisement messages to UEs, and that avoids paging idle mode UEs too often.</p>
<p id="p-0044" num="0043">Although the system and method of the present invention have been described in particular reference to certain radio telecommunications messaging standards (for example, 3GPP), it should be realized upon reference hereto that the innovative teachings contained herein are not necessarily limited thereto and may be implemented advantageously with any applicable radio telecommunications standard. It is believed that the operation and construction of the present invention will be apparent from the foregoing description. While the method and system shown and described have been characterized as being preferred, it will be readily apparent that various changes and modifications could be made therein without departing from the scope of the invention as defined by the claims set forth hereinbelow.</p>
<p id="p-0045" num="0044">Although several preferred embodiments of the method and system of the present invention have been illustrated in the accompanying Drawings and described in the foregoing Detailed Description, it will be understood that the invention is not limited to the embodiments disclosed, but is capable of numerous rearrangements, modifications and substitutions without departing from the spirit of the invention as set forth and defined by the following claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method implemented by a network node in a communication network of sending a periodic router advertisement message to a User Equipment (UE), the method comprising the steps of:
<claim-text>detecting, by the network node, that a periodic router advertisement message needs to be sent to the UE;</claim-text>
<claim-text>determining, by the network node, that the UE is in idle mode;</claim-text>
<claim-text>delaying, by the network node, a paging of the UE to deliver the periodic router advertisement message responsive to determining that the UE is in an idle mode;</claim-text>
<claim-text>detecting, by the network node, when the UE transitions from the idle mode into an active mode; and</claim-text>
<claim-text>sending, by the network node, the router advertisement message to the UE responsive to detecting that the UE transitions from the idle mode to the active mode.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the method further comprises the step of saving the periodic router advertisement message in a memory for future delivery to the UE, responsive to determining that the UE is in idle mode.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method claimed in <claim-ref idref="CLM-00002">claim 2</claim-ref>, further comprising the step of determining that the router advertisement message is saved for the UE, wherein the step of sending the router advertisement message to the UE is performed responsive to at least both i) detecting that the UE transitions from the idle mode to the active mode and ii) determining that the router advertisement message is saved for the UE.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the step of delaying the paging of the UE comprises cancelling a paging triggered responsive to detecting that the periodic router advertisement message needs to be sent to the UE.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the step of delaying the paging of the UE is responsive to resetting a router advertisement lifetime timer.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the step of delaying the paging of the UE comprises refraining from paging the UE for as long as the UE is in idle mode.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the step of delaying the paging of the UE comprises cancelling the paging of the UE.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the step of detecting that a periodic router advertisement message needs to be sent to the UE comprises the step of detecting an expiry of a router advertisement lifetime timer.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the step of detecting that a periodic router advertisement message needs to be sent to the UE comprises the step of receiving at a gateway the periodic router advertisement message destined to the UE.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the step of detecting that a periodic router advertisement message needs to be sent to the UE comprises the step of creating at a gateway the periodic router advertisement message.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the steps are performed in a Packet Data Network Serving Gateway (PDN GW).</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method claimed in <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the PDN GW is part of a Proxy Mobile IP version 6 (PMIPv6) based procedure.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method claimed in <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the PDN GW is part of a GPRS Tunnelling Protocol (GTP) based procedure.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the idle mode is a mode where the UE does not have an established radio connection with the network, while the active mode is a mode where the UE has an established radio connection with the network.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. A gateway (GW) comprising:
<claim-text>a communication interface handling messages exchanged with external parties;</claim-text>
<claim-text>a processor operationally connected to the communication interface, said processor configured to:</claim-text>
<claim-text>detect that a periodic router advertisement message needs to be sent to the UE;</claim-text>
<claim-text>determine that the UE is in idle mode;</claim-text>
<claim-text>delay a paging of the UE to deliver the periodic routing advertisement message responsive to determining that the UE is in idle mode;</claim-text>
<claim-text>detect when the UE transitions from the idle mode into an active mode;</claim-text>
<claim-text>instruct the communication interface to send the periodic router advertisement message to the UE responsive to detecting that the UE transitions from the idle mode to the active mode.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The GW claimed in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the GW further comprises a memory for saving the periodic router advertisement message for future delivery to the UE responsive to the processor determining that the UE is in idle mode.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The GW claimed in <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein sending the periodic router advertisement message to the UE by the processor is performed responsive to at least both i) detecting by the processor that the UE transitions from the idle mode to the active mode and ii) determining by the processor that the router advertisement message is saved for the UE.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The GW claimed in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein delaying the paging of the UE by the processor comprises canceling a paging triggered responsive to detecting that the periodic router advertisement message needs to be sent to the UE.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The GW claimed in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein delaying the paging of the UE by the processor comprises resetting a router advertisement lifetime timer.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The GW claimed in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein delaying the paging of the UE by the processor comprises refraining from paging the UE for as long as the UE is in idle mode.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The GW claimed in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein delaying the paging of the UE by the processor comprises canceling the paging of the UE.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The GW claimed in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein detecting, by the processor, that a periodic router advertisement message needs to be sent to the UE comprises detecting an expiry of a router advertisement lifetime timer.</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The GW claimed in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein detecting, by the processor, that a periodic router advertisement message needs to be sent to the UE comprises receiving at the GW the router advertisement message destined to the UE.</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. The GW claimed in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein detecting, by the processor, that a periodic router advertisement message needs to be sent to the UE comprises creating the router advertisement message at the GW.</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The GW claimed in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the GW is part of a Proxy Mobile IP version 6 (PMIPv6) based procedure.</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The GW claimed in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the GW is part of a GPRS Tunneling Protocol (GTP) based procedure.</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. The GW claimed in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the idle mode is a mode where the UE does not have an established radio connection with the network, while the active mode is a mode where the UE has an established radio connection with the network. </claim-text>
</claim>
</claims>
</us-patent-grant>
