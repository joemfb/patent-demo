<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626585-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626585</doc-number>
<kind>B1</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13470650</doc-number>
<date>20120514</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20120101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>Q</subclass>
<main-group>30</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>705 1443</main-classification>
<further-classification>705 1442</further-classification>
<further-classification>705 1441</further-classification>
<further-classification>705 144</further-classification>
<further-classification>705 1449</further-classification>
</classification-national>
<invention-title id="d2e43">Selection of images to display next to textual content</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7697791</doc-number>
<kind>B1</kind>
<name>Chan et al.</name>
<date>20100400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382305</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7996753</doc-number>
<kind>B1</kind>
<name>Chan et al.</name>
<date>20110800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2007/0192164</doc-number>
<kind>A1</kind>
<name>Nong et al.</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2008/0059311</doc-number>
<kind>A1</kind>
<name>Moore et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2009/0012863</doc-number>
<kind>A1</kind>
<name>Saephan</name>
<date>20090100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2010/0131355</doc-number>
<kind>A1</kind>
<name>Kitchen et al.</name>
<date>20100500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 1443</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2010/0262616</doc-number>
<kind>A1</kind>
<name>Eskolin et al.</name>
<date>20101000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2011/0040604</doc-number>
<kind>A1</kind>
<name>Kaib et al.</name>
<date>20110200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 10</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2011/0040612</doc-number>
<kind>A1</kind>
<name>Simmons et al.</name>
<date>20110200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 1442</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2011/0058734</doc-number>
<kind>A1</kind>
<name>Li et al.</name>
<date>20110300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382159</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>27</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>705 1443</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Mhatre</last-name>
<first-name>Amit</first-name>
<address>
<city>Mountain View</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Mhatre</last-name>
<first-name>Amit</first-name>
<address>
<city>Mountain View</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Fish &#x26; Richardson P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Google Inc.</orgname>
<role>02</role>
<address>
<city>Mountain View</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Weiss</last-name>
<first-name>John G</first-name>
<department>3688</department>
</primary-examiner>
<assistant-examiner>
<last-name>Anderson</last-name>
<first-name>Scott C</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Methods, systems, and apparatus, including computer programs encoded on a computer storage medium, for selecting thumbnail images to display with text advertisements. In one aspect, a method includes identifying landing page non-textual content items from a landing page to which the textual content item links and which a user device requests when the textual content item is selected at the user device; for each landing page non-textual content item, determining a relevance measure that measures the relevance of the landing page non-textual content item to the content of the landing page; selecting one or more of the landing page non-textual content items for display with the textual content item based on the relevance measures of the landing page non-textual content items; and storing, in a data storage system, data associating the selected landing page non-textual contents with the textual content items.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="192.11mm" wi="181.86mm" file="US08626585-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="218.10mm" wi="180.85mm" file="US08626585-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="175.94mm" wi="168.40mm" file="US08626585-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="217.17mm" wi="170.35mm" file="US08626585-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="226.65mm" wi="145.97mm" file="US08626585-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="133.10mm" wi="180.85mm" file="US08626585-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0002" num="0001">This specification relates to online content provisioning.</p>
<p id="p-0003" num="0002">The Internet provides access to a wide variety of resources, such as video and/or audio files, and web pages for particular subjects. Access to these resources has provided opportunities for content items to be provided with the resources. There are many different types of content items that can be provided, such as video items, text items, audio items, image items, and combinations thereof. For example, some online content items include a text portion and an image portion. The performance of an online content item is often affected by the form of media used to present the content item.</p>
<p id="p-0004" num="0003">Some advertisements only include a textual portion. In such cases the content item could be enhanced by accompanying the textual portion by an image portion to display jointly to users. However, unless a content item provider specifies an image or images to be provided with the textual portion, selecting a suitable image to display is a time-intensive process that involves a manual search of images and review of the images and the textual portion.</p>
<heading id="h-0002" level="1">SUMMARY</heading>
<p id="p-0005" num="0004">In general, one innovative aspect of the subject matter described in this specification can be embodied in methods that include the actions of, for each of one or more textual content items of a sponsor of the textual content items: identifying landing page non-textual content items from a landing page to which the textual content item links and which a user device requests when the textual content item is selected at the user device, for each landing page non-textual content item, determining a relevance measure that measures the relevance of the landing page non-textual content item to the content of the landing page, selecting one or more of the landing page non-textual content items for display with the textual content item based on the relevance measures of the landing page non-textual content items; and storing, in a data storage system, data associating the selected landing page non-textual contents with the textual content items. Other embodiments of this aspect include corresponding systems, apparatus, and computer programs, configured to perform the actions of the methods, encoded on computer storage devices.</p>
<p id="p-0006" num="0005">Particular embodiments of the subject matter described in this specification can be implemented so as to realize one or more of the following advantages. The automated image selection scheme can be implemented hierarchically so that images that are most likely to be highly relevant to the textual content are more likely to be selected for display with the textual content. This results in the capability of providing virtually all text content with highly relevant images without a significant investment in time and resources. Furthermore, the automated process can be implemented by third parties (e.g., in the case of advertising textual content, a company that maintains an advertising service used by multiple advertisers), thus allowing a third party to add value to a textual advertisement at little or no expense to the advertiser that provides the advertisement. Additionally, in the case of text advertisements, showing relevant images with corresponding text advertisements increases the likelihood of user interaction with the advertisement.</p>
<p id="p-0007" num="0006">The details of one or more embodiments of the subject matter described in this specification are set forth in the accompanying drawings and the description below. Other features, aspects, and advantages of the subject matter will become apparent from the description, the drawings, and the claims.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of an example environment in which an advertisement management system provides advertisements that include a textual portion and an image portion.</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram illustrating an example process for selecting images for advertisements.</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 3</figref> is a flow diagram of an example process for selecting an image to associate with the textual advertisement.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 4</figref> is a flow diagram of an example process for selecting an image to associate with a textual advertisement based on an advertisement entity associated with the textual advertisement.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 5</figref> is a flow diagram of an example process for selecting an image to associate with a textual advertisement based on a vertical associated with the textual advertisement.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 6</figref> is an example computer system.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<p id="p-0014" num="0013">Like reference numbers and designations in the various drawings indicate like elements.</p>
<heading id="h-0004" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0015" num="0014">Overview</p>
<p id="p-0016" num="0015">The systems and methods described herein select non-textual content items for textual content items for displaying next to the textual content items. In some implementations, the textual content items are text advertisements, and the non-textual content items are images of products, services or content that are determined to be related to the text advertisement.</p>
<p id="p-0017" num="0016">The system allows a sponsor of a textual content item (e.g., an advertiser) to specify one or more images for a text ad, and prioritizes these images for showing with the text ad. However, if images are not specified, the system scans the landing page of the text ad for images for use in generating thumbnail images. If the landing page has multiple images, the system prioritizes the images and selects the images according to the prioritization.</p>
<p id="p-0018" num="0017">The system can also scan the text of the ad for advertising entities. An advertising entity is an advertiser or offering of the advertiser, such as advertiser names, product names, or brand names. The text specifying the advertising entities are used as image search queries to identify relevant images for the advertisements. The images are received in an order determined by a search engine, and images are selected for the advertisement, in part, based on the order.</p>
<p id="p-0019" num="0018">In still further implementations, the system can maintain an association of images to verticals. The verticals are, for example, defined by groups of similar products, businesses and/or customers that engage in trade based on specific and specialized needs. The text ads are also associated with the verticals, and the system can use a vertical to which the text ad is associated to obtain an image to display with the text ad.</p>
<p id="p-0020" num="0019">The three processes above can be performed in a hierarchal manner, such that in the absence of an express association of an image to a text advertisement by an advertiser, images from landing pages take precedence over images for advertising entities, and images for advertising entitles take precedence over images for verticals.</p>
<p id="p-0021" num="0020">Potential collisions may occur if multiple text ads in a set of ads to be displayed have the same vertical or entity, resulting in the system showing the same image for two or more ads. To avoid these collisions, the system can maintain multiple images in the association of images to verticals, and use each image only once per display set of advertisements. The system can also ensure that images are selected from vertical images and entity images and also maintain backup generic images that can be shown if a selection collision occurs.</p>
<p id="p-0022" num="0021">While the subject matter is described below in the context of an advertising system in which images are provided for text advertisements, any type of non-textual content can be selected for corresponding textual content by the subject matter described below. The corresponding textual content need not be an advertisement.</p>
<p id="p-0023" num="0022">Example Operating Environment</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of an example environment <b>100</b> in which images are selected for text advertisements. A computer network <b>102</b>, such as a local area network (LAN), wide area network (WAN), the Internet, or a combination thereof, connects resource providers <b>104</b>, user devices <b>106</b>, a search engine <b>110</b>, and an advertisement management system <b>120</b>. The online environment <b>100</b> may include many thousands of resource provider <b>104</b> and user devices <b>106</b>.</p>
<p id="p-0025" num="0024">One example of a resource provider is a resource provider website. A website <b>104</b> includes one or more resources <b>105</b> associated with a domain name and hosted by one or more servers. An example website is a collection of web pages formatted in hypertext markup language (HTML) that can contain text, images, multimedia content, and programming elements, such as scripts. Each website <b>104</b> is maintained by a content resource provider, which is an entity that controls, manages and/or owns the website <b>104</b>.</p>
<p id="p-0026" num="0025">A resource is any data that can be provided by the resource provider <b>104</b> over the network <b>102</b> and that is associated with a resource address. Resources include HTML pages, word processing documents, and portable document format (PDF) documents, images, video, and feed sources, to name just a few. The resources can include content, such as words, phrases, pictures, and so on, and may include embedded information (such as meta information and hyperlinks) and/or embedded instructions (such as JavaScript scripts).</p>
<p id="p-0027" num="0026">A user device <b>106</b> is an electronic device that is under the control of a user and is capable of requesting and receiving resources over the network <b>102</b>. Example user devices <b>106</b> include personal computers, mobile communication devices, televisions, set-top boxes, video game consoles, and other devices that can send and receive data over the network <b>102</b>. A user device <b>106</b> typically includes a user application, such as a web browser, to facilitate the sending and receiving of data over the network <b>102</b>. The web browser can enable a user to display and interact with text, images, videos, music and other information typically located on a web page at a website on the World Wide Web or a local area network.</p>
<p id="p-0028" num="0027">To facilitate searching of these resources <b>105</b>, the search engine <b>110</b> identifies the resources by crawling the resource provider web sites <b>104</b> and indexing the resources provided by the resource provider web sites <b>104</b>. The indexed and, optionally, cached copies of the resources are stored in an indexed cache <b>112</b>.</p>
<p id="p-0029" num="0028">The user devices <b>106</b> submit search queries <b>109</b> to the search engine <b>110</b>. The search queries <b>109</b> are submitted in the form of a search request that includes the search request and, optionally, a unique identifier that identifies the user device <b>106</b> that submits the request. The unique identifier can be data from a cookie stored at the user device, or a user account identifier if the user maintains an account with the search engine <b>110</b>, or some other identifier that identifies the user device <b>106</b> or the user using the user device.</p>
<p id="p-0030" num="0029">In response to the search request, the search engine <b>110</b> uses the indexed cache <b>112</b> to identify resources that are relevant to the queries. The resources may be image resource, web page resources, video resources, or other resource types. The search engine <b>110</b> identifies the resources in the form of search results <b>111</b> and returns the search results to the user devices <b>106</b> in search results page resource. A search result is data generated by the search engine <b>110</b> that identifies a resource that satisfies a particular search query, and includes a resource locator for the resource. An example search result can include a web page title, a snippet of text extracted from the web page, or a thumbnail of an image, and the URL of the resource. The search results are ranked based on scores that are indicative of the relevance of the resource to the query. The search results are ordered according to these scores and provided to the user device according to the order.</p>
<p id="p-0031" num="0030">The user devices <b>106</b> receive the search results pages and render the pages for presentation to users. In response to the user selecting a search result at a user device <b>106</b>, the user device <b>106</b> requests the resource identified by the resource locator included in the selected search result. The resource provider of the web site <b>104</b> hosting the resource receives the request for the resource from the user device <b>106</b> and provides the resource to the requesting user device <b>106</b>.</p>
<p id="p-0032" num="0031">The advertisement management system <b>120</b> facilitates the provisioning of advertisements with the resources <b>105</b>. In particular, the advertisement management system <b>120</b> allows advertisers to define selection rules that take into account attributes of the particular user and/or user device to provide relevant advertisements for the users. Example selection rules include keyword selection rules, in which advertisers provide bids for keywords that are present in either search queries or webpage content. The advertisements are auctioned based, in part, on the keyword bids. Advertisements for which an advertisement slot is awarded in response to the auction are selected for displaying in the advertisement slots.</p>
<p id="p-0033" num="0032">When a user of a user device <b>106</b> selects an advertisement, the user device <b>106</b> generates a request for a landing page of the advertisement, which is typically a webpage of the advertiser. For example, for the particular user device <b>106</b> in <figref idref="DRAWINGS">FIG. 1</figref>, a resource <b>105</b>-<b>1</b> with an advertisement <b>132</b> is displayed. The advertisement <b>132</b> includes a link to a landing page, represented by resource <b>105</b>-<b>2</b>. The landing page <b>105</b>-<b>2</b> is provided by a particular resource provider <b>104</b> hosting respective web pages, one of which is the landing page for the advertisement <b>132</b>.</p>
<p id="p-0034" num="0033">These advertisements can be provided for many different resources, such as the resources <b>105</b> of the resource providers <b>104</b>, and on a search results page resource. For example, a resource <b>105</b> from a resource provider <b>104</b> includes instructions that cause the user device to request advertisements from the advertisement management system <b>120</b>. The request includes a resource provider identifier and, optionally, keyword identifiers related to the content of the resource <b>105</b>. The advertisement management system <b>120</b>, in turn, provides relevant advertisements to the particular user device. With respect to a search results page, the user device renders the search results page and sends a request to the advertisement management system <b>120</b>, along with one or more keywords related to the query that the user provide to the search engine <b>110</b>. The advertisement management system <b>120</b>, in turn, provides relevant advertisements to the particular user device.</p>
<p id="p-0035" num="0034">The advertisement management system <b>120</b> includes a data storage system that stores campaign data <b>122</b> and performance data <b>124</b>. The campaign data <b>122</b> stores advertisement information, selection information, and budgeting information for advertisers. The performance data <b>124</b> stores data indicating the performance of the advertisements that are served. Such performance data can include, for example, click through rates for advertisements, the number of impressions for advertisements, and the number of conversions for advertisements, information regarding selection, such as keywords that cause the advertisements to be served, and serving information, such as auction position information, ad slot information, and/or user device information associated with each impression. Other performance data can also be stored.</p>
<p id="p-0036" num="0035">An advertisement image system <b>130</b> is a subsystem of the advertisement management system <b>120</b>, and is responsible for selecting one or more images to associate with a text advertisement. In some implementations, advertisers may opt-in to having images automatically selected for display with their respective text advertisements. The selection of an image for a text advertisement can, for example, be conditioned on the advertiser not specifying a particular image or images to be associated with the text advertisement. For example, when creating a text advertisement for the advertisement management system <b>120</b>, the advertiser may specify whether an image can be displayed with the text advertisement, and, if so, whether the advertiser prefers to provide an image or images, or whether the advertiser prefers that the ad image system <b>130</b> automatically select one or more images for the advertisement.</p>
<p id="p-0037" num="0036">The advertisement image system <b>130</b> includes a data storage system that stores image data <b>132</b> that associates images with textual advertisements. The image data <b>132</b> can further include the selected images. Selection of the images and associating the images with advertisements is described in more detail with respect to <figref idref="DRAWINGS">FIGS. 2-5</figref> below.</p>
<p id="p-0038" num="0037">In operation, the advertisement management system <b>120</b> receives a request for an advertisement from a client device <b>106</b>. The advertisement management system <b>120</b> selects an advertisement to provide to the client device based on campaign data <b>122</b> and performance data <b>124</b>. In response to the advertisement management system <b>120</b> selecting a textual advertisement, the advertisement image system <b>130</b> selects an image for display with the textual advertisement based on image data <b>132</b>. The advertisement management system <b>120</b>, in turn, provides the associated image to the client device <b>106</b> for display with the textual advertisement.</p>
<p id="p-0039" num="0038">Which images are selected for display with textual advertisements can depend on a variety of factors, such as the rank of an advertisement in an auction, the position of the advertisement on a page, and other factors. For example, in some implementations, in each advertisement block on a web page in which are displayed multiple advertisements, only the top-ranked advertisement in the ad block is selected for display with an image. In other implementations, all text advertisements can be displayed with images.</p>
<p id="p-0040" num="0039">Image Selection</p>
<p id="p-0041" num="0040">The advertisement image system <b>130</b> is also used to generate the image data <b>132</b>. To generate the image data <b>132</b>, the advertisement image system <b>130</b> identifies for each advertisement candidate images from multiple different image sources, and from these candidate images selects one or more images for association with the textual advertisement.</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram illustrating an example process for selecting images for association with an advertisement. The example process of <figref idref="DRAWINGS">FIG. 2</figref> includes multiple methods to identify and select images for association with a textual advertisement, and each of the methods corresponds to a particular image source or corpus. <figref idref="DRAWINGS">FIGS. 3-5</figref> each illustrate flow diagrams of example processes for each of these methods.</p>
<p id="p-0043" num="0042">In some cases, the advertiser specifies images to be provided with particular advertisements. The specified images <b>142</b> are provided by the advertiser to associate with a textual advertisement. In such cases, the specified images <b>142</b> are provided with the textual advertisement to the client devices <b>106</b> for concurrent display.</p>
<p id="p-0044" num="0043">For textual advertisements for which the advertiser has not specified an associated image, one or all of the multiple methods can be used to identify and select a suitable image to associate and display with the textual advertisement. For example, images can be selected from the landing page images, entity images or vertical images.</p>
<p id="h-0005" num="0000">Example Process for Image Selection from a Landing Page</p>
<p id="p-0045" num="0044">With respect to the landing page images, landing pages associated with a textual advertisement are scanned for images. A landing page of an advertisement is a page to which the user is redirected when a user selects the advertisement. A set of data describing the image in the context of the landing is determined for each of the images identified from scanning the landing page associated with the advertisement. Examples of such data include the location of the image on the rendered landing page, the dimensions of the image, and the resolution of the image. The data and image selection criteria are used to determine a measure of relevance of an image to the content of the associated landing page. The identified images are then ranked by the advertisement image system <b>130</b> according to the relevance measures.</p>
<p id="p-0046" num="0045">For example, image selection criteria can specify that images must have a minimum resolution in order to be selected, and that the image cannot be in a frame that is a child of the landing page. Other criteria can include the rules regarding the size and dimension of an image to ensure that the image, when displayed in the allocated slot of the advertisement space, is visually appealing. For example, if the area allocated for the display of an image associated with a particular advertisement is such that a reduced version of the image in thumbnail form may not be visually appealing, then the image may not be selected. One way of making such a determination is by means of feature processing to determine feature values that describe image features, such as edges and color. For example, a relatively high density in detected edges in the full size version of the image may indicate that a thumbnail version of the image may not be visually appealing. Likewise, the advertisement image system <b>130</b> can be configured to exclude images that are smaller than a size defined by minimum dimensions.</p>
<p id="p-0047" num="0046">Other rules and criteria can further be implemented to specify additional features required for an image to be selected by the advertisement image system <b>130</b>. For example, the ad image system <b>130</b> can utilize an object detection service that detects objects (e.g., products, landmarks, etc.) in an image. If the page contains one or more keywords related to the detected object, then the particular image including the object would receive a boost in its relevance score. Other examples indicative of a high measure of relevance can include identifying an object within an image of a landing page and that is associated with a keyword from the textual advertisement.</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 3</figref> is a flow diagram of an example process <b>300</b> for selecting an image from a landing page of a textual advertisement to associate with the textual advertisement. The process <b>300</b> can be implemented in the advertisement image system <b>130</b>, e.g., one or more computers and associated storage devices. The process is described in the context of an iterative example to illustrate the selection of an image to associate with the textual advertisement and how an image is selected from the landing page. The process <b>300</b> can be modified to operate in parallel with other instances of the process <b>300</b> or processes <b>400</b> and <b>500</b> (described below) so that the selected image is selected from the output of more than one process, depending on the system architecture used and processing capabilities available.</p>
<p id="p-0049" num="0048">The process <b>300</b> selects a textual advertisement (<b>302</b>) and determines whether the advertiser has specified an image for association with the selected textual advertisement (<b>314</b>). If the advertiser specified such an image, process <b>300</b> associates the advertiser specified image with the selected textual advertisement (<b>316</b>). The association is persisted to the image data <b>132</b>.</p>
<p id="p-0050" num="0049">For a textual advertisement that the advertiser has not specified an image (or, optionally and as indicated by the dashed line, to associate additional images with the advertisement), the process <b>300</b> identifies a landing page image from a landing page to which the textual advertisement links (<b>318</b>). For each identified landing page image in the landing page, the process <b>300</b> determines a relevance measure that represents the relevance of the landing page image to the content of the landing page (<b>310</b>). For example, the process <b>300</b> can determine a relevance measure that represents the relevance of the content of the landing page to the landing page image by object detection in the image and comparing the detected object to keywords in the landing page. To illustrate, assume the textual advertisement redirects a user to a landing page for shoes offered by an online clothing store, and the keywords &#x201c;shoes&#x201d; and &#x201c;boots&#x201d; are be detected as keywords that appear frequently in the landing page. The context of the landing page, in such case, could be identified as, for example, footwear. A measure of relevance between each identified image from the landing page and the context footwear is determined. For example, an image containing the tennis shoes would receive a higher relevance measure than an image containing a belt that is used as in image link to a page in which are listed belts offered by the online clothing store.</p>
<p id="p-0051" num="0050">Alternatively or in addition, the process can determine a size of the landing page image and determine a relevance measure that has magnitude that is, in part, proportional to the size of the image. The size of the image is the area of the image on the landing page, e.g., the vertical and horizontal dimensions of the image. This excludes small images that may lack detail or substance.</p>
<p id="p-0052" num="0051">The process <b>300</b> selects one or more of the candidate landing page images for display with the textual advertisement based on the relevance measures of the image (<b>312</b>), and associates the selected landing page images with the textual advertisement (<b>314</b>). For example, the images identified from the landing page are ranked based on the relevance measures, and one or more images are selected from the highest ranking images and associated with the advertisement. The highest ranking images may be determined, for example, as images for which a relevance measure is above a threshold, the top N images, or the images in the top X % of ranked images, for example. The associations are then persisted in the image data <b>132</b>.</p>
<p id="h-0006" num="0000">Example Process for Image Selection from Entity Images</p>
<p id="p-0053" num="0052">With respect to entity images, the textual advertisement is scanned for entities, e.g., text of a name identifying an advertiser or describing a product. In response to identifying a particular entity in a textual advertisement, the advertisement image system <b>130</b> provides the text describing the entity to a search engine that conducts and image search, and that returns a list of ranked images that are determined to be responsive to the search. In some implementations, one or more of the highest ranking more images are selected for association with the textual advertisement. In variations of this implementation, the images are re-ranked, in part, based on selection criterion similar to the criterion discussed above, e.g., image size, image features, etc. Data associating the selected entity images with the textual advertisement are then stored in the image data <b>132</b>.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 4</figref> is a flow diagram of an example process <b>400</b> for selecting an image to associate with the textual advertisement, based on an advertisement entity associated with the textual advertisement. The process <b>400</b> can be implemented in the advertisement image system <b>130</b>, e.g., one or more computers and associated storage devices. The process is described in the context of an iterative example to illustrate the selection of an image to associate with the textual advertisement and how an image is selected based on the advertisement entity. The process <b>400</b> can be modified to operate in parallel with other instances of the process so that the selected image is selected from the output of more than one process, depending on the system architecture used and processing capabilities available.</p>
<p id="p-0055" num="0054">The process <b>400</b> determines an advertising entity for the textual advertisement (<b>402</b>). The advertising entities for the textual advertisement can be determined, for example, by selecting keywords from the textual advertisement that specify one of a product or service described in the textual advertisement. In some implementations, a keyword list is included in the advertisement image system <b>130</b> to ensure that keywords specified by the list are not provided as a query to the image search engine <b>110</b>. The advertisement image system <b>130</b> can employ further filtering and selection criteria for selecting advertising entities, such as a mapping of keywords to additional keywords to implement keyword expansion.</p>
<p id="p-0056" num="0055">Once an advertising entity associated with the textual advertisement is determined, the process <b>400</b> provides the text describing the advertising entity as a query to an image search engine (<b>404</b>). In response to providing the advertising entity as a query to an image search engine <b>110</b>, the process <b>400</b> receives data identifying images responsive to the query (<b>406</b>). The data describes the ranking of the images according to an order of relevance to the query.</p>
<p id="p-0057" num="0056">The process <b>400</b> selects images that are highest ranked in the order as the entity images (<b>408</b>). In some implementations, the images may be checked to determine whether the images are subject to a competitive restriction, e.g., an image for a product marketed by Company A may not be used for an advertisement for a competing product marketed by Company B. Such evaluation processes can include determining a domain name associated with the image, processing image metadata, watermark analysis, and object detection to identify objects and trade names, to name just a few. Provided the image is not subject to a competitive restriction, the process <b>400</b> associates the selected entity images with the textual advertisement. Data associating the selected entity images and the textual advertisement is stored in the image data <b>132</b>.</p>
<p id="h-0007" num="0000">Example Process for Image Selection from Vertical Images</p>
<p id="p-0058" num="0057">With respect to the vertical images, verticals are determined for the textual advertisement, by for example scanning the textual advertisement for keywords associated with a vertical. For example, the keyword &#x201c;smart-phone&#x201d; could be associated with the vertical &#x201c;electronics&#x201d; or &#x201c;mobile phone.&#x201d; In such case, the advertisement image system <b>130</b> would identify the keyword &#x201c;smart-phone&#x201d;, and rank images associated with the vertical &#x201c;electronics&#x201d; or &#x201c;mobile phone&#x201d; and select the highest ranking images for association with the textual advertisement. Data associating the highest ranked one or more images with the textual advertisement are then stored in the image data <b>132</b>.</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 5</figref> is a flow diagram of an example process <b>500</b> for selecting an image to associate with the textual advertisement, based on a vertical associated with the textual advertisement. The process <b>500</b> can be implemented in the advertisement image system <b>130</b>, e.g., one or more computers and associated storage devices. The process is described in the context of an iterative example to illustrate the selection of an image to associate with the textual advertisement and how an image is selected based on the advertisement entity. The process <b>500</b> can be modified to operate in parallel with other processes so that the selected image is selected from the output of more than one process, depending on the system architecture used and processing capabilities available.</p>
<p id="p-0060" num="0059">The process <b>500</b> determines a vertical for the textual advertisement (<b>502</b>). Verticals can specify a group of similar business or industries. For example, the textual advertisement may include the text &#x201c;smart phone,&#x201d; and this term may be associated with a particular vertical in a vertical association accessible by the advertisement image system <b>130</b>. In such case, the process <b>500</b> determines that the advertising vertical associated with phone is, for example, &#x201c;electronics&#x201d; or &#x201c;mobile-phones.&#x201d;</p>
<p id="p-0061" num="0060">The process <b>500</b> selects one or more vertical images based on the vertical of the textual advertisement (<b>504</b>). For example, the process <b>500</b> accesses a pre-defined association of images to verticals specifying associations of images with verticals, and selects an image associated with the vertical &#x201c;electronics&#x201d; or &#x201c;mobile-phone.&#x201d; For example, the vertical &#x201c;mobile-phone&#x201d; may be associated with a set of images each including a brand obfuscated mobile phone. Similarly, the vertical &#x201c;electronics&#x201d; can be associated with a set of images each including a brand obfuscated consumer electronic device.</p>
<p id="p-0062" num="0061">The process <b>500</b> associates the selected vertical images with the textual advertisement. The association data associating the selected one or more images with textual advertisement are stored in the image data <b>132</b>. Additionally, as described with respect to the process <b>400</b> above, the images can be processed to determine if they are subject to competitive restrictions.</p>
<p id="p-0063" num="0062">Additional Implementation Details</p>
<p id="p-0064" num="0063">The processes described above can be used to select an image for textual advertisements that the advertiser has not specified an associated image. The highest ranking images obtained using these methods are sorted and compared based on rules specified by the advertisement image system <b>130</b>. The advertisement image system <b>130</b> is responsible for selecting one or more highest ranking images, provided by the discussed methods, for association with each textual advertisement. In some embodiments, rules further specifying method preferences are stored in the advertisement image system <b>130</b>. For example, weights can be used to indicate that a landing page image is of higher preference than an entity image, and that an entity image is of higher preference than a vertical image. In such case, the advertisement image system is more likely to associate a landing page image with a textual advertisement that is identified to be highly relevant to the landing page image and a vertical image.</p>
<p id="p-0065" num="0064">In some implementations in which multiple images may be associated with an advertisement, historical performance data is recorded to determine which image performs the best for a particular textual advertisement. As a particular image emerges to yield the best performance, the particular image is selected more often over other associated images. In other implementations, machine learning can be used to determine such preferences.</p>
<p id="p-0066" num="0065">In some implementations, the ad image system <b>130</b> can implement machine learning to build one or more models that are used in the selection of images for textual advertisements. For example, in some implementations, the ad image system <b>130</b> implements separate models that each respectively predicts the performance of a textual advertisement when shown with an entity based image, a landing page image, and a vertical image. The output of each predictive model (e.g., the output of an entity based image model, a landing page image model, and a vertical image model) can be compared to determine the image with the highest predicted performance. The image for which the highest predicted performance is then selected by the ad image system <b>130</b> for serving with the textual advertisement. In variations of these implementations, a single model can be trained for all of the image types.</p>
<p id="p-0067" num="0066">The machine learning processes can take into account historical performance and various feature sets, such as landing page features (e.g., colors, text, vertical, domain), text advertisement features (e.g., terms, verticals), image features, audience features, and other features that can be used for model training features. Additionally, variety of different machine learning algorithms and training techniques can be used to generate the predictive models.</p>
<p id="p-0068" num="0067">Embodiments of the subject matter and the operations described in this specification can be implemented in digital electronic circuitry, or in computer software, firmware, or hardware, including the structures disclosed in this specification and their structural equivalents, or in combinations of one or more of them. Embodiments of the subject matter described in this specification can be implemented as one or more computer programs, i.e., one or more modules of computer program instructions, encoded on computer storage medium for execution by, or to control the operation of, data processing apparatus. Alternatively or in addition, the program instructions can be encoded on an artificially-generated propagated signal, e.g., a machine-generated electrical, optical, or electromagnetic signal, that is generated to encode information for transmission to suitable receiver apparatus for execution by a data processing apparatus. A computer storage medium can be, or be included in, a computer-readable storage device, a computer-readable storage substrate, a random or serial access memory array or device, or a combination of one or more of them. Moreover, while a computer storage medium is not a propagated signal, a computer storage medium can be a source or destination of computer program instructions encoded in an artificially-generated propagated signal. The computer storage medium can also be, or be included in, one or more separate physical components or media (e.g., multiple CDs, disks, or other storage devices).</p>
<p id="p-0069" num="0068">The operations described in this specification can be implemented as operations performed by a data processing apparatus on data stored on one or more computer-readable storage devices or received from other sources. The term &#x201c;data processing apparatus&#x201d; encompasses all kinds of apparatus, devices, and machines for processing data, including by way of example a programmable processor, a computer, a system on a chip, or multiple ones, or combinations, of the foregoing. The apparatus can include special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application-specific integrated circuit). The apparatus can also include, in addition to hardware, code that creates an execution environment for the computer program in question, e.g., code that constitutes processor firmware, a protocol stack, a database management system, an operating system, a cross-platform runtime environment, a virtual machine, or a combination of one or more of them. The apparatus and execution environment can realize various different computing model infrastructures, such as web services, distributed computing and grid computing infrastructures.</p>
<p id="p-0070" num="0069">On such example apparatus is shown in <figref idref="DRAWINGS">FIG. 6</figref>, which is an example computer system. The system <b>600</b> and includes a processor <b>610</b>, a memory <b>620</b>, a storage device <b>630</b>, and an input/output device <b>640</b>. Each of the components <b>610</b>, <b>620</b>, <b>630</b>, and <b>640</b> can, for example, be interconnected using a system bus <b>650</b>. The processor <b>610</b> is capable of processing instructions for execution within the system <b>600</b>. In one implementation, the processor <b>610</b> is a single-threaded processor. In another implementation, the processor <b>610</b> is a multi-threaded processor. The processor <b>610</b> is capable of processing instructions stored in the memory <b>620</b> or on the storage device <b>630</b>.</p>
<p id="p-0071" num="0070">The memory <b>620</b> stores information within the system <b>600</b>. In one implementation, the memory <b>620</b> is a computer-readable medium. In one implementation, the memory <b>620</b> is a volatile memory unit. In another implementation, the memory <b>620</b> is a non-volatile memory unit.</p>
<p id="p-0072" num="0071">The storage device <b>630</b> is capable of providing mass storage for the system <b>600</b>. In one implementation, the storage device <b>630</b> is a computer-readable medium. In various different implementations, the storage device <b>630</b> can, for example, include a hard disk device, an optical disk device, or some other large capacity storage device.</p>
<p id="p-0073" num="0072">The input/output device <b>640</b> provides input/output operations for the system <b>600</b>. In one implementation, the input/output device <b>640</b> can include one or more of a network interface devices, e.g., an Ethernet card, a serial communication device, e.g., and RS-232 port, and/or a wireless interface device, e.g., and 802.11 card. In another implementation, the input/output device can include driver devices configured to receive input data and send output data to other input/output devices, e.g., keyboard, printer and display devices <b>660</b>.</p>
<p id="p-0074" num="0073">A computer program (also known as a program, software, software application, script, or code) can be written in any form of programming language, including compiled or interpreted languages, declarative or procedural languages, and it can be deployed in any form, including as a stand-alone program or as a module, component, subroutine, object, or other unit suitable for use in a computing environment. A computer program may, but need not, correspond to a file in a file system. A program can be stored in a portion of a file that holds other programs or data (e.g., one or more scripts stored in a markup language document), in a single file dedicated to the program in question, or in multiple coordinated files (e.g., files that store one or more modules, sub-programs, or portions of code). A computer program can be deployed to be executed on one computer or on multiple computers that are located at one site or distributed across multiple sites and interconnected by a communication network.</p>
<p id="p-0075" num="0074">The processes and logic flows described in this specification can be performed by one or more programmable processors executing one or more computer programs to perform actions by operating on input data and generating output. The processes and logic flows can also be performed by, and apparatus can also be implemented as, special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application-specific integrated circuit).</p>
<p id="p-0076" num="0075">Processors suitable for the execution of a computer program include, by way of example, both general and special purpose microprocessors, and any one or more processors of any kind of digital computer. Generally, a processor will receive instructions and data from a read-only memory or a random access memory or both. The essential elements of a computer are a processor for performing actions in accordance with instructions and one or more memory devices for storing instructions and data. Generally, a computer will also include, or be operatively coupled to receive data from or transfer data to, or both, one or more mass storage devices for storing data, e.g., magnetic, magneto-optical disks, or optical disks. However, a computer need not have such devices. Moreover, a computer can be embedded in another device, e.g., a mobile telephone, a personal digital assistant (PDA), a mobile audio or video player, a game console, a Global Positioning System (GPS) receiver, or a portable storage device (e.g., a universal serial bus (USB) flash drive), to name just a few. Devices suitable for storing computer program instructions and data include all forms of non-volatile memory, media and memory devices, including by way of example semiconductor memory devices, e.g., EPROM, EEPROM, and flash memory devices; magnetic disks, e.g., internal hard disks or removable disks; magneto-optical disks; and CD-ROM and DVD-ROM disks. The processor and the memory can be supplemented by, or incorporated in, special purpose logic circuitry.</p>
<p id="p-0077" num="0076">To provide for interaction with a user, embodiments of the subject matter described in this specification can be implemented on a computer having a display device, e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor, for displaying information to the user and a keyboard and a pointing device, e.g., a mouse or a trackball, by which the user can provide input to the computer. Other kinds of devices can be used to provide for interaction with a user as well; for example, feedback provided to the user can be any form of sensory feedback, e.g., visual feedback, auditory feedback, or tactile feedback; and input from the user can be received in any form, including acoustic, speech, or tactile input. In addition, a computer can interact with a user by sending documents to and receiving documents from a device that is used by the user; for example, by sending web pages to a web browser on a user's user device in response to requests received from the web browser.</p>
<p id="p-0078" num="0077">Embodiments of the subject matter described in this specification can be implemented in a computing system that includes a back-end component, e.g., as a data server, or that includes a middleware component, e.g., an application server, or that includes a front-end component, e.g., a user computer having a graphical user interface or a Web browser through which a user can interact with an implementation of the subject matter described in this specification, or any combination of one or more such back-end, middleware, or front-end components. The components of the system can be interconnected by any form or medium of digital data communication, e.g., a communication network. Examples of communication networks include a local area network (&#x201c;LAN&#x201d;) and a wide area network (&#x201c;WAN&#x201d;), an inter-network (e.g., the Internet), and peer-to-peer networks (e.g., ad hoc peer-to-peer networks).</p>
<p id="p-0079" num="0078">The computing system can include users and servers. A user and server are generally remote from each other and typically interact through a communication network. The relationship of user and server arises by virtue of computer programs running on the respective computers and having a user-server relationship to each other. In some embodiments, a server transmits data (e.g., an HTML page) to a user device (e.g., for purposes of displaying data to and receiving user input from a user interacting with the user device). Data generated at the user device (e.g., a result of the user interaction) can be received from the user device at the server.</p>
<p id="p-0080" num="0079">While this specification contains many specific implementation details, these should not be construed as limitations on the scope of any inventions or of what may be claimed, but rather as descriptions of features specific to particular embodiments of particular inventions. Certain features that are described in this specification in the context of separate embodiments can also be implemented in combination in a single embodiment. Conversely, various features that are described in the context of a single embodiment can also be implemented in multiple embodiments separately or in any suitable subcombination. Moreover, although features may be described above as acting in certain combinations and even initially claimed as such, one or more features from a claimed combination can in some cases be excised from the combination, and the claimed combination may be directed to a subcombination or variation of a subcombination.</p>
<p id="p-0081" num="0080">Similarly, while operations are depicted in the drawings in a particular order, this should not be understood as requiring that such operations be performed in the particular order shown or in sequential order, or that all illustrated operations be performed, to achieve desirable results. In certain circumstances, multitasking and parallel processing may be advantageous. Moreover, the separation of various system components in the embodiments described above should not be understood as requiring such separation in all embodiments, and it should be understood that the described program components and systems can generally be integrated together in a single software product or packaged into multiple software products.</p>
<p id="p-0082" num="0081">Thus, particular embodiments of the subject matter have been described. Other embodiments are within the scope of the following claims. In some cases, the actions recited in the claims can be performed in a different order and still achieve desirable results. In addition, the processes depicted in the accompanying figures do not necessarily require the particular order shown, or sequential order, to achieve desirable results. In certain implementations, multitasking and parallel processing may be advantageous.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method performed by data processing apparatus, the method comprising:
<claim-text>for each of one or more textual advertisements of a sponsor of the textual advertisements, each of the advertisements including a link to a corresponding landing page that causes a user device to request the landing page in response to the advertisement being selected when the advertisement is displayed on the user device:
<claim-text>identifying landing page images in the landing page to which the textual advertisement links;</claim-text>
<claim-text>for each landing page image identified in the landing page, determining a relevance measure that measures the relevance of the landing page image to the content of the landing page;</claim-text>
</claim-text>
<claim-text>selecting, by a data processing apparatus, one or more of the landing page images for concurrent display with the textual advertisement based on the relevance measures of the landing page images; and
<claim-text>storing, in a data storage system, data associating the selected landing page images with the textual advertisements.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein determining a relevance measure that represents the relevance of the landing page image to the content of the landing page comprises determining a relevance measure that measures the relevance of the content of the landing page to the landing page image.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein determining a relevance measure that measures the relevance of the landing page image to the content of the landing page comprises:
<claim-text>determining a size of the landing page image; and</claim-text>
<claim-text>determining a relevance measure having a magnitude that is, in part, proportional to the size of the image.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising, for each of the one or more textual advertisements:
<claim-text>determining an advertising entity for the textual advertisement;</claim-text>
<claim-text>identifying one or more entity images based on the advertising entity; and</claim-text>
<claim-text>storing, in the data storage system, data associating the entity images with the textual advertisement.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein identifying one or more entity images based on the advertising entity comprises:
<claim-text>providing the advertising entity as a query to an image search engine;</claim-text>
<claim-text>receiving, from the image search engine, data identifying images responsive to the query, the images being ranked according to an order of relevance to the query; and</claim-text>
<claim-text>selecting images that are the highest ranked in the order as the entity images.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein determining an advertising entity for the textual advertisement comprises selecting keywords from the textual advertisement, each keyword specifying one of a product or service described in the textual advertisement.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising, for each of the one or more textual advertisements:
<claim-text>determining a vertical for the textual advertisement; and</claim-text>
<claim-text>selecting one or more vertical images based on the vertical of the textual advertisement; and</claim-text>
<claim-text>storing, in the data storage system, data associating the vertical images with the textual advertisement.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising for each of the one or more textual advertisements:
<claim-text>determining an advertising entity for the textual advertisement;</claim-text>
<claim-text>identifying one or more entity images based on the advertising entity;</claim-text>
<claim-text>storing, in the data storage system, data associating the entity images with the textual advertisement;</claim-text>
<claim-text>determining a vertical for the textual advertisement;</claim-text>
<claim-text>selecting one or more vertical images based on the vertical of the textual advertisement; and</claim-text>
<claim-text>storing, in the data storage system, data associating the vertical images with the textual advertisement.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>receiving requests for textual advertisements;</claim-text>
<claim-text>for each textual advertisement that an advertiser has specified an image to be displayed with the textual advertisement, providing the textual advertisement and the image specified by the advertiser; and</claim-text>
<claim-text>for each textual advertisement that an advertiser has not specified an image to be displayed with the textual advertisement, selecting one of the landing page images associated with the textual advertisement and providing the textual advertisement and the selected landing page image.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each of the one or more textual content items of the sponsor is an advertisement for which the sponsor has not specified an image to be displayed with the advertisement.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, further comprising:
<claim-text>generating one or more machine learned models to predict respective performance measures of the textual content item when respectively shown with a landing page image, an entity image, and a vertical image, wherein the one or more machine learned models receive at least image feature values and textual content item feature values as input to predict the respective performance measures;</claim-text>
<claim-text>receiving a request for the textual advertisement;</claim-text>
<claim-text>for each textual advertisement that an advertiser has not specified an image to be displayed with the textual advertisement:
<claim-text>determining respective performance measures for the landing page images, entity images and vertical images associated with the textual advertisement; and</claim-text>
<claim-text>selecting one of the landing page images, entity images and vertical images based on respectively predicted performance measures generated by the one or more machine learned models.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A system, comprising:
<claim-text>a data processing apparatus;</claim-text>
<claim-text>a memory storage apparatus in data communication with the data processing apparatus and storing instructions executable by the data processing apparatus and that upon such execution cause the data processing apparatus to perform operations comprising:</claim-text>
<claim-text>for each of one or more textual advertisements of a sponsor of the textual advertisements, each of the advertisements including a link to a corresponding landing page that causes a user device to request the landing page in response to the advertisement being selected when the advertisement is displayed on the user device:
<claim-text>identifying landing page images in the landing page to which the textual advertisement links;</claim-text>
<claim-text>for each landing page image identified in the landing page, determining a relevance measure that measures the relevance of the landing page image to the content of the landing page;</claim-text>
<claim-text>selecting, by the data processing apparatus, one or more of the landing page images for concurrent display with the textual advertisement based on the relevance measures of the landing page images; and</claim-text>
<claim-text>storing, in a data storage system, data associating the selected landing page images with the textual advertisements.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein determining a relevance measure that represents the relevance of the landing page image to the content of the landing page comprises determining a relevance measure that measures the relevance of the content of the landing page to the landing page image.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein determining a relevance measure that measures the relevance of the landing page image to the content of the landing page comprises:
<claim-text>determining a size of the landing page image; and</claim-text>
<claim-text>determining a relevance measure having a magnitude that is, in part, proportional to the size of the image.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the operations further comprise, for each of the one or more advertisements:
<claim-text>determining an advertising entity for the textual advertisement;</claim-text>
<claim-text>identifying one or more entity images based on the advertising entity; and</claim-text>
<claim-text>storing, in the data storage system, data associating the entity images with the textual advertisement.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The system of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein identifying one or more entity images based on the advertising entity comprises:
<claim-text>providing the advertising entity as a query to an image search engine;</claim-text>
<claim-text>receiving, from the image search engine, data identifying images responsive to the query, the images being ranked according to an order of relevance to the query; and</claim-text>
<claim-text>selecting images that are the highest ranked in the order as the entity images.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The system of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein determining an advertising entity for the textual advertisement comprises selecting keywords from the textual advertisement, each keyword specifying one of a product or service described in the textual advertisement.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, further comprising, for each of a plurality of textual advertisements that an advertiser has not specified an image to be displayed with the textual advertisement:
<claim-text>determining a vertical for the textual advertisement; and</claim-text>
<claim-text>selecting one or more vertical images based on the vertical of the textual advertisement; and</claim-text>
<claim-text>storing, in the data storage system, data associating the vertical images with the textual advertisement.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, further comprising for each of a plurality of textual advertisements that an advertiser has not specified an image to be displayed with the textual advertisement:
<claim-text>determining an advertising entity for the textual advertisement;</claim-text>
<claim-text>identifying one or more entity images based on the advertising entity;</claim-text>
<claim-text>storing, in the data storage system, data associating the entity images with the textual advertisement;</claim-text>
<claim-text>determining a vertical for the textual advertisement;</claim-text>
<claim-text>selecting one or more vertical images based on the vertical of the textual advertisement; and</claim-text>
<claim-text>storing, in the data storage system, data associating the vertical images with the textual advertisement.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, further comprising:
<claim-text>receiving requests for textual advertisements;</claim-text>
<claim-text>for each textual advertisement that an advertiser has specified an image to be displayed with the textual advertisement, providing the textual advertisement and the image specified by the advertiser; and</claim-text>
<claim-text>for each textual advertisement that an advertiser has not specified an image to be displayed with the textual advertisement, selecting one of the landing page images associated with the textual advertisement and providing the textual advertisement and the selected landing page image.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein each of the one or more textual content items of the sponsor is an advertisement for which the sponsor not specified an image to be displayed with the advertisement.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. A non-transitory computer storage apparatus storing instructions executable by a data processing apparatus and that upon such execution cause the data processing apparatus to perform operations comprising:
<claim-text>for each of one or more textual advertisements of a sponsor of the textual advertisements, each of the advertisements including a link to a corresponding landing page that causes a user device to request the landing page in response to the advertisement being selected when the advertisement is displayed on the user device:
<claim-text>identifying landing page images in the landing page to which the textual advertisement links;</claim-text>
<claim-text>for each landing page image identified in the landing page, determining a relevance measure that measures the relevance of the landing page image to the content of the landing page;</claim-text>
<claim-text>selecting, by the data processing apparatus, one or more of the landing page images for concurrent display with the textual advertisement based on the relevance measures of the landing page images; and</claim-text>
<claim-text>storing, in a data storage system, data associating the selected landing page images with the textual advertisements.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The computer storage apparatus of <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein determining a relevance measure that measures the relevance of the landing page image to the content of the landing page comprises:
<claim-text>determining a size of the landing page image; and</claim-text>
<claim-text>determining a relevance measure having a magnitude that is, in part, proportional to the size of the image.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. The computer storage apparatus of <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein the operations further comprise, for each of the one or more advertisements:
<claim-text>determining an advertising entity for the textual advertisement;</claim-text>
<claim-text>identifying one or more entity images based on the advertising entity; and</claim-text>
<claim-text>storing, in the data storage system, data associating the entity images with the textual advertisement.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The computer storage apparatus of <claim-ref idref="CLM-00024">claim 24</claim-ref>, wherein identifying one or more entity images based on the advertising entity comprises:
<claim-text>providing the advertising entity as a query to an image search engine;</claim-text>
<claim-text>receiving, from the image search engine, data identifying images responsive to the query, the images being ranked according to an order of relevance to the query; and</claim-text>
<claim-text>selecting images that are the highest ranked in the order as the entity images.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The computer storage apparatus of <claim-ref idref="CLM-00022">claim 22</claim-ref>, further comprising for each of a plurality of textual advertisements that an advertiser has not specified an image to be displayed with the textual advertisement:
<claim-text>determining an advertising entity for the textual advertisement;</claim-text>
<claim-text>identifying one or more entity images based on the advertising entity;</claim-text>
<claim-text>storing, in the data storage system, data associating the entity images with the textual advertisement;</claim-text>
<claim-text>determining a vertical for the textual advertisement;</claim-text>
<claim-text>selecting one or more vertical images based on the vertical of the textual advertisement; and</claim-text>
<claim-text>storing, in the data storage system, data associating the vertical images with the textual advertisement.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. The computer storage apparatus of <claim-ref idref="CLM-00025">claim 25</claim-ref>, further comprising:
<claim-text>receiving requests for textual advertisements;</claim-text>
<claim-text>for each textual advertisement that an advertiser has specified an image to be displayed with the textual advertisement, providing the textual advertisement and the image specified by the advertiser; and</claim-text>
<claim-text>for each textual advertisement that an advertiser has not specified an image to be displayed with the textual advertisement, selecting one of the landing page images associated with the textual advertisement and providing the textual advertisement and the selected landing page image. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
