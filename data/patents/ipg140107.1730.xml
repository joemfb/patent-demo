<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08622914-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08622914</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13024581</doc-number>
<date>20110210</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>124</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>A</section>
<class>61</class>
<subclass>B</subclass>
<main-group>8</main-group>
<subgroup>14</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>600459</main-classification>
<further-classification> 73584</further-classification>
</classification-national>
<invention-title id="d2e53">Integrated ultrasound transmitter with cascode trimming</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6380766</doc-number>
<kind>B2</kind>
<name>Savord</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327108</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7588539</doc-number>
<kind>B2</kind>
<name>Petersen</name>
<date>20090900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7659756</doc-number>
<kind>B2</kind>
<name>Walker</name>
<date>20100200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2006/0098059</doc-number>
<kind>A1</kind>
<name>Ohguro et al.</name>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>347 72</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2009/0007414</doc-number>
<kind>A1</kind>
<name>Phelps et al.</name>
<date>20090100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 29594</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>9</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>600459</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327108</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327109</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327112</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>2</number-of-drawing-sheets>
<number-of-figures>4</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120209120</doc-number>
<kind>A1</kind>
<date>20120816</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Petersen</last-name>
<first-name>David A.</first-name>
<address>
<city>Fall City</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Petersen</last-name>
<first-name>David A.</first-name>
<address>
<city>Fall City</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Siemens Medical Solutions USA, Inc.</orgname>
<role>02</role>
<address>
<city>Malvern</city>
<state>PA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Le</last-name>
<first-name>Long V.</first-name>
<department>3768</department>
</primary-examiner>
<assistant-examiner>
<last-name>Evoy</last-name>
<first-name>Nicholas</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Transmitters and waveform generators are provided for ultrasound imaging. Low-voltage transistors are connected in cascode with the high-voltage transistors used to generate the ultrasound pulses. The low-voltage transistors trim the high-voltage transistors, adjusting the drive strength of the high-voltage transistors. By trimming, the rise and fall time of the pulses generated by the high-voltage transistors may be more closely matched.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="236.22mm" wi="195.58mm" file="US08622914-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="203.37mm" wi="179.58mm" file="US08622914-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="235.29mm" wi="195.41mm" file="US08622914-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0002" num="0001">The present embodiments relate to ultrasound imaging transmitters. In particular, a ultrasound pluser is used to generate an ultrasound wave for scanning a patient.</p>
<p id="p-0003" num="0002">Ultrasound transmitters include waveform generators for generating ultrasound waveforms. Unipolar or bipolar pulsed waves may be generated using one or more transistors. The transistors are switched on and off, connecting high voltage sources (+/&#x2212;) or ground to an output. The connections generate a square wave.</p>
<p id="p-0004" num="0003">Ultrasound transmitters may be integrated in an application specific integrated circuit. For bipolar operation, both P-type and N-type transistors are used, one for generating positive portion of the waveform and the other for generating the negative portion of the waveform. Since different types of transistors are used, the rise and fall times of the portions may be mismatched. For harmonic or contrast agent imaging, this mismatch may result in noise or an artifact. Mirror symmetric positive and negative portions are desired.</p>
<heading id="h-0002" level="1">BRIEF SUMMARY</heading>
<p id="p-0005" num="0004">By way of introduction, the preferred embodiments described below include methods, transmitters, waveform generators, and systems for ultrasound imaging. Low-voltage transistors are connected in cascode with the high-voltage transistors used to generate the ultrasound pulses. The low-voltage transistors trim the high-voltage transistors, adjusting the drive strength of the high-voltage transistors. By trimming, the rise and fall time of the pulses generated by the high-voltage transistors may be more closely matched.</p>
<p id="p-0006" num="0005">In a first aspect, a bipolar transmitter is provided for generating bipolar ultrasound pulses with first and second high-voltage transistors. This switching pulser is improved by including a first low-voltage transistor connectable between a positive voltage source and a first source terminal of the first high-voltage transistor and a second low-voltage transistor connectable between a negative voltage source and a second source terminal of the second high-voltage transistor. The first and second low-voltage transistors are operable to adjust drive strengths of the first and second high-voltage transistors, respectively. The first and second high-voltage transistors comprise first and second gate terminals connectable with positive and negative gate voltage sources, respectively, such that the first and second low-voltage transistors are operable control an on/off state of the first and second high-voltage transistors, respectively, with the positive and negative gate voltages sources comprising constant, during transmission, voltages connected to the first and second gates.</p>
<p id="p-0007" num="0006">In a second aspect, a method is provided for generating an ultrasound waveform. A drive strength of a high-voltage transistor is trimmed with a low-voltage transistor connected in cascode. The ultrasound waveform is generated with the high-voltage transistor as trimmed by the low-voltage transistor.</p>
<p id="p-0008" num="0007">In a third aspect, a waveform generator is provided for ultrasound imaging. A first field effect transistor (FET) is operable over at least a ten volt range. A second FET connects in cascode with the first FET. An output connects with the first FET. The first FET is operable to generate a transmit pulse on the output.</p>
<p id="p-0009" num="0008">The present invention is defined by the following claims, and nothing in this section should be taken as a limitation on those claims. Further aspects and advantages of the invention are discussed below in conjunction with the preferred embodiments and may be later claimed independently or in combination.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0010" num="0009">The components and the figures are not necessarily to scale, emphasis instead being placed upon illustrating the principles of the invention. Moreover, in the figures, like reference numerals designate corresponding parts throughout the different views.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of an ultrasound waveform generator according to one embodiment;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram of one embodiment of a transmitter with cascode trimming;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3</figref> is a circuit diagram of an example embodiment of the transmitter of <figref idref="DRAWINGS">FIG. 2</figref>; and</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 4</figref> is a flowchart diagram of one embodiment of a method for generating an ultrasound waveform.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE DRAWINGS AND PRESENTLY PREFERRED EMBODIMENTS</heading>
<p id="p-0015" num="0014">In one embodiment, rise and fall times are trimmed to match each other and/or rise and fall times of other pulses. The trimming is programmed By changing the trimming for generating different ultrasound waveforms, the matching may occur over a wide range of transmitter outputs. Trimming is provided by an array of low-voltage transistors in cascode with a single pair of high-voltage transistors. Selection of trim codes directly varies the drive strengths of the high-voltage transistors. Low-voltage transistors are much smaller than high-voltage transistors, so the circuit is smaller than where additional high-voltage devices are provided. Multiple high-voltage devices for the positive side and multiple high-voltage devices for the negative side are not used. Digital control is used for trimming, so that precise analog control of the high-voltage transistor gate drivers is not needed.</p>
<p id="p-0016" num="0015">The drive strength of a high-voltage transistor is adjusted by a low-voltage transistor connected in cascode. The state (i.e., on/off pulsing) of the high-voltage transistor is controlled by only turning on and off the low-voltage transistor rather than controlling the gate signal. For refined trimming, an array of low-voltage transistors is used. This array of low-voltage transistors is controlled by digital signals. The array controls the drive strength over a wide range of output voltages. The same adjustable transmitter may be used for both pulse wave (e.g., 10-200 volt peak-to-peak) and continuous wave (e.g., 1-20, such as 1-5, volt peak-to-peak) outputs. For bipolar operation, a complementary pair of such adjustable strength devices matches overall rise and fall characteristics of an integrated ultrasound transmitter.</p>
<p id="p-0017" num="0016">Low voltage transistors (e.g., LV CMOS FETs) to do the switching and high voltage transistors (e.g., HV FETs) shield the low voltage transistors from exposure to high voltage while letting the low voltage transistors be responsible for turning the switch on and off and for determining the strength when on.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 1</figref> shows one embodiment of a waveform generator for ultrasound imaging. The waveform generator is a transmitter <b>10</b>. The transmitter <b>10</b> connects to a transducer element <b>11</b>. The transmitter <b>10</b> generates a waveform, such as a bipolar or unipolar square wave. The waveform may not be an exact square wave as the transistors of the transmitter have rise and fall times which are not instantaneous. The transducer element <b>11</b> converts the electrical waveform into acoustic energy. By providing the waveform generator for each of a plurality of channels and corresponding elements <b>11</b>, phased array scanning may be provided. One waveform generator may include one or more transmitters <b>10</b>, such as having 64, 128, 256, or 288 transmitters <b>10</b>.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 2</figref> shows one example of two switches <b>12</b>, <b>14</b> operable as a transmitter for generating ultrasound pulses. An ultrasound pulse is a pulse at an ultrasound frequency. The pulse is a single positive or negative pulse. A chain of such pulses may be generated. For bipolar operation, positive and negative pulses are generated in sequence. For generating bipolar ultrasound pulses, two additional switches of <figref idref="DRAWINGS">FIG. 2</figref> are provided for a bipolar transmitter.</p>
<p id="p-0020" num="0019">The switches <b>12</b>, <b>14</b> are integrated in a same circuit or chip. For example, an application specific integrated circuit includes one or more of the transmitters shown in <figref idref="DRAWINGS">FIG. 2</figref>. The different components are formed using the same or different processes on the same semiconductor substrate, such as using CMOS processes.</p>
<p id="p-0021" num="0020">The integrated circuit is used within an ultrasound system. For example, a coaxial cable connects the output <b>22</b> to a transducer element <b>11</b> of an ultrasound array. In another embodiment, the integrated circuit is positioned within a transducer housing for connection to a multi-dimensional array, such as a transesophageal array. By integrating both high and low voltage switches <b>12</b>, <b>14</b> in the same integrated circuit, a small transmit beamformer for use in a probe is provided. The same semiconductor substrate is used for both the high voltage and low voltage switches <b>12</b>, <b>14</b>. Multiple transmitters, such as 64, 128, 256, or other number of transmitters may be integrated into the same chip or application specific integrated circuit.</p>
<p id="p-0022" num="0021">The application specific integrated circuit and/or the chip may have various inputs and outputs. For example, traces are provided to receive signals or voltages from positive and negative voltage sources, the positive and negative gate voltage sources, gate control signals for the low-voltage switches <b>12</b>, positive pulse and negative pulse activation signals (e.g., binary indication of on or off for a given high-voltage switch <b>14</b>), and/or fail safe control. One or more outputs may be provided for outputting the ultrasound signals. Any combination of inputs and outputs may be used.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 3</figref> shows a bipolar circuit diagram of an example of the transmitter of <figref idref="DRAWINGS">FIG. 2</figref>. The circuit includes high voltage switches M<b>1</b>/M<b>2</b> (<b>14</b>), low voltage switch arrays M<b>3</b>/M<b>4</b> (<b>12</b>), and/or other components. The circuit diagram is of an integrated circuit with various inputs and the output TX Port (<b>22</b>). A high positive voltage power supply connector Vph (<b>16</b>), a high negative voltage power supply connector Vnh (<b>16</b>), negative and positive trim control connectors trim-n and trim-p (<b>18</b>), positive and negative gate voltages Vnx and Vpx (<b>20</b>), ground GND, logic power supply connector Vpd, safety override control connectors safe-hi and safe-lo, and pulse control connectors tx_hi and tx_low. Additional, different or fewer inputs and outputs may be provided. For example, the trim controller is included on the integrated circuit, so separate inputs are not provided for trim control. As another example, the trim control is also used as the pulse control.</p>
<p id="p-0024" num="0023">In one embodiment of <figref idref="DRAWINGS">FIG. 2</figref>, the low-voltage switch <b>12</b> is a low voltage transistor, such as a 3.3V FET. The low voltage transistor may be manufactured using CMOS processes. The high-voltage switch <b>14</b> is a high-voltage FET (a non-CMOS device). The pair of devices provides a positive or negative pulse. Another pair of switches <b>12</b> and <b>14</b> may provide the other of negative or positive pulse. For example, <figref idref="DRAWINGS">FIG. 3</figref> shows two pairs of the low- and high-voltage switches M<b>3</b>/M<b>4</b> and M<b>1</b>/M<b>2</b> connected with a same output TX Port for generating a bipolar waveform. The low-voltage switch arrays <b>12</b> are connected in cascode for adjusting the strength of the respective high-voltage switches <b>14</b> so that the high-voltage switches <b>14</b> have matched or similar rise and fall times. The bipolar waveform may be more mirror-symmetric.</p>
<p id="p-0025" num="0024">The positive and negative voltage connectors <b>16</b> are for connection with or connect to positive and negative voltage sources, respectively. The voltages provided at the positive and negative voltage connectors <b>16</b> are supplied by fixed or variable voltage sources. Other voltage regulators may be provided, such as providing for a voltage supply or regulation integrated within the integrated circuit. Any voltage may be provided, such as +/&#x2212;10-200 volts for pulse wave operation or 1-20 volts for continuous wave operation.</p>
<p id="p-0026" num="0025">The positive and negative gate voltage connectors <b>20</b> are for connection with or connect to positive and negative voltage sources, respectively. The same sources as the positive and negative voltage sources may be used, such as with a voltage divider to provide gate voltages less than the positive and negative voltages. Alternatively, separate sources are provided. The voltages provided at the positive and negative gate voltage connectors <b>20</b> are supplied by fixed or variable voltage sources. Other voltage regulators may be provided, such as providing for a voltage supply or regulation integrated within the integrated circuit.</p>
<p id="p-0027" num="0026">The positive and negative gate voltages are fixed, DC, or otherwise constant during transmission. The gate voltages may be different for different operation, such as being about 2-4 (e.g., 3) volts less or more than the positive and negative voltages at the connectors <b>16</b>. This voltage difference is selected to avoid overloading the low-voltage switches <b>12</b>.</p>
<p id="p-0028" num="0027">The high-voltage switches <b>14</b> are field effect transistors (FETs). For example, a P-type FET or N-type FET are used. In the embodiment of <figref idref="DRAWINGS">FIG. 3</figref>, the positive high-voltage switch M<b>1</b> is a P-type FET, and the negative high-voltage switch M<b>2</b> is a N-type FET. The high voltage switches <b>14</b> form a waveform generator and are complimentary field effect transistors, but may include other types of transistors or switches. Each of the high voltage switches <b>14</b> may be of a same or different type of switch or transistor.</p>
<p id="p-0029" num="0028">The high voltage switches <b>14</b> are operable with at least 10 or more volts, such as allowing for a 10 to 200 volt supply at the input connector <b>16</b>. A lower voltage may be provided, such as a voltage lower than the highest voltage for operating with continuous waves. For example, each of the high voltage switches <b>14</b> is sized to have a gate oxide and other associated dimensions for operating with a 10 or 200 volt power supply. The drain-to-source resistance in the &#x201c;on&#x201d; state may be of any of various values, such as being 500 or less ohms The high voltage switches <b>14</b> are integrated on a same chip or within a same circuit.</p>
<p id="p-0030" num="0029">The high-voltage switches each have a gate, source, and drain. The sources are connected with the drains of the low-voltage switches <b>12</b>. The gate connects with the gate voltage connector <b>20</b>. The drain connects with the output <b>22</b>. Other connections, such as with or without intervening components, may be used.</p>
<p id="p-0031" num="0030">The high-voltage switch <b>14</b> is configured to generate a transmit pulse with a relatively constant voltage at the gate. The voltage at the gate is constant during the on/off operation of the high-voltage switch <b>14</b>. The difference in the gate and source voltages activates or not the high-voltage switch <b>14</b>. The low-voltage switch <b>12</b> may be used to create or not a sufficient difference between the source voltage and the gate voltage, such as being no difference for &#x201c;off&#x201d; and being at least 1, 2, 3, or greater volts difference for &#x201c;on.&#x201d; In the embodiment of <figref idref="DRAWINGS">FIG. 3</figref>, the gate voltages are 47 and &#x2212;47 volts and the positive and negative voltages at the connectors Vph and Vnh are 50 and &#x2212;50 volts, but other absolute voltages and/or difference in voltages may be used. The voltage difference is greater than the threshold-on voltage of the high-voltage switch <b>14</b>. In one embodiment, the high-voltage switch <b>14</b> turns on and off only by the low-voltage switch <b>12</b> connected in cascode turning on and off. In alternative embodiments, a combination of change in the gate and change in the source voltage or change only in the gate voltage turns the high voltage switch <b>14</b> on and off. The degree that high-voltage switch <b>14</b> turns on (its &#x201c;strength&#x201d;) depends on the difference in its source and gate voltage.</p>
<p id="p-0032" num="0031">The high voltage switches <b>14</b> are operable to generate a transmit pulse on the output <b>22</b>. The high voltage switch or switches <b>14</b> form a switching pulser. More complex pulsers may be provided using a greater number of switches. The high voltage switches <b>14</b> generate transmit pulses. By turning on, then off, a pulse is generated. Turning on the switch <b>14</b> causes the voltage provided by the trimming low-voltage switch <b>12</b> to connect to the output <b>22</b>. The low-voltage switch <b>12</b> connects the voltage from the connector <b>16</b>, as adjusted by the trimming, to the output <b>22</b>. This creates a substantially square wave pulse. Substantially accounts for the rise time and fall time as well as any overshoot. By turning on, then off repetitively, a pulse train is generated. Either a single pulse or multiple pulse train type of waveform may be used.</p>
<p id="p-0033" num="0032">The high voltage switch <b>14</b> with the low voltage switch <b>12</b> (the transmitter <b>10</b>) operates for or with different supply voltages. The voltages supplied at the supply voltage connector <b>16</b> and the gate voltage connector <b>20</b> may be different for different modes of operation. For example, a supply voltage of 10-50 volts is provided for continuous wave scanning. A supply voltage of 50-200 volts is provided for pulsed wave scanning. The supply voltage sets the amplitude of the output waveform. The peak voltage on the output <b>22</b> for the generated transmit pulses may be different depending on the supply voltage. The gate voltage of the high voltage switch <b>14</b> is at a constant ratio or difference from the supply voltage. The difference between the gate voltage and the supply voltage applied to the low voltage switch <b>12</b> is less than five, four or other operation voltage regardless of continuous or pulse wave operation.</p>
<p id="p-0034" num="0033">The integrated circuit <b>10</b> is operable to generate either pulsed or continuous waves. The output <b>22</b> connects directly or indirectly with a transducer element <b>11</b> for converting the generated waveform into acoustic energy. The continuous or pulsed waveforms are bipolar waveforms, but unipolar or more complex waveforms may be generated for either or both of continuous or pulsed wave operation.</p>
<p id="p-0035" num="0034">The continuous and pulsed waveforms generated by the high voltage switch <b>14</b> are output on the output <b>22</b>. The output <b>22</b> is a signal trace, a connector, conductor or other device for electronically connecting the integrated circuit on the semiconductor chip with external components. The output TX Port is connected with the two high voltage switches M<b>1</b>/M<b>2</b> in the embodiment of <figref idref="DRAWINGS">FIG. 3</figref>. The output <b>22</b> allows connection to a given ultrasound transducer element <b>11</b> or other component.</p>
<p id="p-0036" num="0035">The low voltage switch <b>12</b> is a complementary field effect transistor, but other switches or transistors may be used. For example, the low voltage switch <b>12</b> is a Low voltage transistor, such as a low voltage FET. In the embodiment of <figref idref="DRAWINGS">FIG. 3</figref>, the low voltage switches M<b>3</b>/M<b>4</b> may be of a same type or different type of switches from each other. Each low voltage switch <b>12</b> has a turn-on threshold of less than 6 volts, such as a 1 to 2 volt threshold. Greater or lesser threshold voltages may be provided. The low voltage switches <b>12</b> have a thinner oxide layer at the gate or other differences in dimensions for operation with exposure to a lesser voltage than the high voltage switches <b>14</b>. In one embodiment, the low voltage switch <b>12</b> is smaller than the high voltage switch <b>14</b>. For example, the low voltage switch <b>12</b> is operable with voltage supplies or differences across the gate and source less than 10 volts, such as voltages of 2.5 to 12 volts. The drain-to-source resistance of the low voltage switch <b>12</b> is much lower, such as ten times smaller than the drain to source resistance of the high voltage switch <b>14</b>. For example, the resistance of the low voltage switch <b>12</b> is 50 ohms or less. Lesser resistance is provided by having a thinner oxide and a shorter channel. Greater resistances may be provided with a similar or different ratio of resistances from the high voltage switch <b>14</b> to the low voltage switch <b>12</b>.</p>
<p id="p-0037" num="0036">The low voltage switch <b>12</b> connects between the voltage source, such as the positive voltage source connector <b>16</b> and the source of the high voltage switch <b>14</b>. The connection may be connectable, such as associated with a fixed connection or a connection that may be connected or removable (e.g., a chip for mounting on a board or with a switch provided between the devices). In the embodiment of <figref idref="DRAWINGS">FIG. 3</figref>, the low voltage switches M<b>3</b>/M<b>4</b> are connectable between the sources of the high voltage switches M<b>1</b>/M<b>2</b> and the respective positive and negative voltage supply connectors Vph and Vnh.</p>
<p id="p-0038" num="0037">This is a cascode connection. A static bias voltage is applied to the gates of the high voltage switch <b>14</b> so that the low voltage switch <b>12</b> controls the high voltage switch <b>14</b> through voltage applied to the source. Cascode connection may avoid turn-on delay associated with the drain-gate Miller capacitance due to the static potential applied at the gate of the high voltage switch <b>14</b>.</p>
<p id="p-0039" num="0038">The low voltage switch <b>12</b> may trim the high voltage switch <b>14</b>, such as by controlling the drive strength of the high voltage switch <b>14</b>. The low voltage switch <b>12</b> may control the amount of voltage or current applied at the source of the high voltage switch <b>14</b> as a peak voltage. In the embodiment of <figref idref="DRAWINGS">FIG. 3</figref>, the low voltage transistors (e.g., low voltage switches M<b>3</b>/M<b>4</b>) are configured to trim the FETs (e.g., high voltage switches M<b>1</b>/M<b>2</b>) such that a drive strength of the FETs changes in response to the Low voltage transistor. The gate is connectable with the trim control connector <b>18</b> to set the trim level.</p>
<p id="p-0040" num="0039">The trimming is provided without using additional high-voltage devices other than the one (unipolar) or two (bipolar) high voltage pulsers (switch <b>14</b>). This may result in a more efficient integration due to the smaller size of low voltage switch <b>12</b>.</p>
<p id="p-0041" num="0040">The trimming controls the rise and/or fall time of the high voltage switch <b>14</b>. The generated waveform may be created with programmable or set rise and/or fall characteristics. In the bipolar waveform generator embodiment of <figref idref="DRAWINGS">FIG. 3</figref>, the rise and fall times of the different type (P-type vs. N-type) of high voltage devices may be matched. By matching, the positive and negative pulses are more closely mirror images of each other. For harmonic or other imaging, the matched pulses may generate less transmitter based harmonic information, better isolating harmonic response from tissue or contrast agents. Where phase or pulse inversion is used to cancel fundamental response or where phase shifting is used to cancel other frequency components, matched pulses may better cancel the desired spectra.</p>
<p id="p-0042" num="0041">In one embodiment, the low voltage switch <b>12</b> is part of an array of such switches. For example, <figref idref="DRAWINGS">FIG. 3</figref> shows arrays of eight low voltage devices (switches M<b>3</b>/M<b>4</b>) connected in cascode with the FETs (switch M<b>1</b>/M<b>2</b>). The array of eight low voltage devices is binary-weighted in size to provide 256 effective combinations. The channel length of all eight devices is the same but the channel widths are in a ratio of 1:2:4:8:16:32:64:128. Other number of devices, channel length differences, and/or ratios may be provided. The low voltage switches <b>12</b> of the array are connected in parallel with each other.</p>
<p id="p-0043" num="0042">The array of low voltage devices acts like a variable-strength switch. The exhibits variable on-resistance and variable peak current. During operation, there is a fixed dc voltage (e.g. 3.3V) between the high-voltage supply and the gate of the high-voltage transistor <b>14</b>. This voltage is divided between the low voltage transistor array (e.g., CMOS devices) and the source-to-gate voltage of the high-voltage transistor <b>14</b>. By varying the strength of the low voltage transistor array, more or less voltage can be applied as the source-to-gate voltage of the high-voltage transistor <b>14</b> thereby varying the strength of that fixed-size transistor. Separate gate signals are provided for turning on and off each of the low voltage switches <b>12</b> individually. In the example with eight switches <b>12</b> in the array, there are 256 levels of trimming provided. The switches <b>12</b> of the array are responsive to a digital control to turn on and off. In the bipolar example of <figref idref="DRAWINGS">FIG. 3</figref>, each of the arrays of low voltage switches M<b>3</b>/M<b>4</b> is controllable by the digital code. The codes for the different arrays may be the same or different. The digital code indicates some of the CMOS devices to be on and some of the CMOS devices to be off during operation of the transmitter. The digital code controls an amount of trimming of the high-voltage switch <b>14</b>. Since the low voltage switches <b>12</b> of the array turn the high voltage switch <b>14</b> on and off, the code indicates one group to be off during the pulsing and the other group to be both off before the pulse and on during the pulse.</p>
<p id="p-0044" num="0043">By turning on a given group, a different level of trimming or strength control is provided. Different groups of Low voltage transistors may be selected for different purposes. For example, different groups with or without common switches <b>12</b> are used for pulsed wave operation and for continuous wave operation. The difference in peak amplitude or peak output current may affect the amount of trimming needed or desired. The Low voltage transistors that are on and off are different for the different peak or operating voltage levels. As another example, different transmitters <b>10</b> may have different characteristics due to manufacturing variance. By calibrating the transmitter <b>10</b>, the group of low voltage switches <b>12</b> to use for a given application may be different for different transmitters.</p>
<p id="p-0045" num="0044">The code may be used to turn the high voltage switch <b>14</b> on and off for generating a pulse. The selected group of low voltage switches <b>12</b> or a single low voltage switch <b>12</b> is turned on and then off to cause the high voltage switch <b>14</b> to turn on and off in cascode operation. The source of the high voltage switch <b>14</b> controls activation or the on/off state.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 3</figref> shows an example control structure for trimming and operating the high voltage switches M<b>1</b>/M<b>2</b>. The bits received at the trim connectors trim_p/n select the low voltage switches M<b>3</b>/M<b>4</b> to operate. This is a static selection, set for the duration of the generation of a transmit waveform for trimming. The trimming code used for a given operating point of the transmitter <b>10</b>, such as the peak output current or the final on-resistance for a given application, is stored in the chip or off of the chip. In one embodiment, the code is stored in the chip after manufacture and measurement or calibration of the transmitter <b>10</b>. The storage may be a fused-ROM or other type of memory. The code may be stored for use, or read out, interpolated and provided back to the chip.</p>
<p id="p-0047" num="0046">The bit at each of the transmit control connectors <b>18</b> control the activation of the switch. In <figref idref="DRAWINGS">FIG. 3</figref>, the AND gates U<b>5</b> and OR gates U<b>10</b> output the digital code to the gates of the low voltage switches. The logic gates U<b>5</b> and U<b>10</b> are strength-adjusted according to the size of the M<b>3</b>/M<b>4</b> low voltage device to which the logic gates U<b>5</b> and U<b>10</b> are connected respectively. For example, the logic gate attached to the 128x transistor M<b>3</b> is a stronger gate than the one used for controlling the 1x M<b>3</b> transistor. The AND gates U<b>5</b> and OR gates U<b>10</b> require both selection and activation of any given low voltage switch M<b>3</b>/M<b>4</b> in the array to turn on the low voltage switches M<b>3</b>/M<b>4</b>. The inverters U<b>3</b>/U<b>4</b> and U<b>8</b>/U<b>9</b> form floating latches. These latches maintain the state (i.e., on or off) of the high voltage switches M<b>1</b>/M<b>2</b>. The state control is provided through floating capacitors C<b>1</b>-C<b>4</b>, reducing or eliminating any static supply current requirements. Reduction or elimination may minimize or reduce power dissipation.</p>
<p id="p-0048" num="0047">In the example embodiment of <figref idref="DRAWINGS">FIG. 3</figref>, a fail-safe system is included. The transistors M<b>5</b> and M<b>6</b> form the fail-safe circuit. The drains are connected to the gate potential of the high voltage switches M<b>1</b>/M<b>2</b> and the sources connect with the inverters U<b>3</b>/<b>4</b>, U<b>8</b>/<b>9</b>. The circuit forces the latches U<b>3</b>/U<b>4</b> and U<b>8</b>/U<b>9</b> to an off state at all times other than during transmission. The control signals for the fail-safe transistors M<b>5</b> and M<b>6</b> are either the same as the voltage at the gates of the high voltage switches M<b>1</b>/M<b>2</b> (fail-safe off) or the same as the voltage supply (fail-safe on). A pair (positive and negative) of dc-coupled level translators provides the fail-safe control signal. This control sign switches between the two voltages (e.g., from +/&#x2212;50 volts to +/&#x2212;47 volts). The translators are either on or off the chip and may provide the signals in common to all of the transmitters <b>10</b> in the chip or in other chips. The power-up state of the transmitter <b>10</b> is with the fail-safe active to prevent simultaneous conduction in the positive and negative portions of the transmitter <b>10</b>. Random power-on latch states may otherwise cause simultaneous conduction.</p>
<p id="p-0049" num="0048">Other control circuitry, control signals, transmitter components, or arrangements may be used. Different combinations of components may be used on the same chip, spread between multiple chips, or provided as a circuit not integrated on a chip.</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 4</figref> shows one embodiment of a method for generating an ultrasound waveform. The waveforms are either pulsed or continuous waves. Pulsed waves may have 1-5 cycles or more, and continuous waves may have 10 or more cycles (e.g., hundreds, thousands, millions, or billions of cycles). The method uses the transmitter of <figref idref="DRAWINGS">FIG. 1</figref>, <figref idref="DRAWINGS">FIG. 2</figref>, or <figref idref="DRAWINGS">FIG. 3</figref>, but other integrated circuits, chips, transmitters, waveform generators or devices may be used. Additional, different or fewer acts than shown in <figref idref="DRAWINGS">FIG. 4</figref> may be provided.</p>
<p id="p-0051" num="0050">In act <b>40</b>, a drive strength of a high-voltage transistor is trimmed with a low-voltage transistor connected in cascode. The low-voltage transistor controls both the drive strength and the on/off operation or state of the high-voltage transistor.</p>
<p id="p-0052" num="0051">For trimming, the low-voltage transistor controls the amount of source-to-gate (or gate-to-source) voltage applied to the high-voltage transistor. The trimming alters the drive strength. This alteration affects one or more properties of the operation of the high-voltage switch. The trimming may control the rise time, fall time, or both of the high-voltage switch. Trimming can also be used to control the on-resistance of the high-voltage switch. By adjusting the trimming, different rise or fall times of a generally square wave result.</p>
<p id="p-0053" num="0052">For bipolar pulsing, different high-voltage transistors are trimmed differently or the same. The rise and fall times of positive and negative portions of the ultrasound waveform are matched using the trimming of the high-voltage transistors. Different low-voltage transistors in cascode with respective high-voltage transistors trim the output.</p>
<p id="p-0054" num="0053">The amount of trimming is controlled by amount of activation or turn-on of the low-voltage transistor. One transistor may control the level over a range. Preferably, an array of of binary-weighed low-voltage transistors controls the trim levels. The control with an array may be digital. Each transistor in the array is turned all the way on or all the way off (digital control). The bits indicate which of the low-voltage transistors to contribute to the trimming and which do not. Some of the low-voltage transistors (e.g., CMOS devices) are activated or selected for activation and the others of the low-voltage transistors are deactivated or selected for not trimming. The selections for trimming are maintained during the generating of a given pulse, pulse sequence, or waveform.</p>
<p id="p-0055" num="0054">Different selections may be used for different levels of trimming and/or different operating points of the transmitter. Different combinations of the low-voltage transistors are selected for different operating points. The peak amplitude to be used or operating point may determine the selection. The rise and fall time characteristics may be different for different levels of source voltage. As a result, the trimming to match the pulses or set the desired characteristic may be different. In one embodiment, different selection for trimming is used for different modes of imaging, such as different selections for pulsed wave, continuous wave, Doppler or flow, B-mode, elasticity, shear, strain, and/or contrast agent imaging modes. These or other modes may have different peak amplitude, rise and fall time, spectra or other requirements that may be controlled by trimming.</p>
<p id="p-0056" num="0055">In act <b>42</b>, the ultrasound waveform is generated. For unipolar waveforms, one high-voltage transistor as trimmed by the low-voltage transistor is cycled on and then off for each pulse. Two switches may be used in a unipolar transmitter, one to pull up and the other down (to zero). For bipolar waveforms, one high-voltage transistor as trimmed by a low-voltage transistor is cycled on and then off for each positive pulse. Another high-voltage transistor as trimmed by a low-voltage transistor is cycled on and then off for each negative pulse. Only the positive or negative operation may be trimmed in another embodiment. More than one high-voltage transistor may be used for generating the positive pulse and/or negative pulse.</p>
<p id="p-0057" num="0056">The high-voltage transistor generates the pulse using the voltage applied to the source and gate. The source is trimmed by the low-voltage transistor. The low-voltage transistor applies the trimmed supply voltage to the source of the high-voltage transistor. The amount of trim or trim settings may be preprogrammed For example, different settings are used for different modes. The settings may be the same across all transmitters of a given type. Alternatively, each transmitter or batch of transmitters (e.g., transmitters from a same wafer or same run) is calibrated. The output waveform (or output current) is measured to determine an optimal or sufficient trim setting. This setting is stored in the chip or in another memory in an assembled ultrasound system. The calibration may be performed for each of the operating points.</p>
<p id="p-0058" num="0057">The supply voltage is applied to the source of the low-voltage transistor. When the low-voltage transistor and high-voltage transistors are both on, the difference in voltage between the gate of the high-voltage transistor and the supply voltage at the source of the low-voltage transistor is below a break-down voltage level of the low-voltage transistor. For example, the difference is less than 4 volts for a CMOS device (e.g., low voltage transistor). Four volts may be the voltage tolerance of the low-voltage transistor, so exceeding four volts across the low-voltage transistor is avoided. Setting the gate voltage of the high-voltage transistor based on the voltage tolerance also biases the gate of the high-voltage transistor at a static or DC potential, avoiding or reducing turn-on delay. The gate voltage may vary during pulsing in other embodiments. The gate voltage may be different for different modes of operation or operating points, such as maintaining the amount of difference where the supply voltage is set based on the mode of imaging or desired peak amplitude of the generating waveform.</p>
<p id="p-0059" num="0058">Since the low-voltage transistor is connected in cascode, the low-voltage transistor switches the high-voltage transistor on and off. The source voltage provided to the high-voltage transistor is controlled. For the array of trimming transistors, the selected transistors are turned on, causing a positive or negative voltage difference between the source and the gate of the high-voltage transistor. This voltage difference causes the transistor to conduct, generating the pulse. To turn the high-voltage transistor off, the source voltage is disconnected by the low-voltage transistors. Other pulsing control may be used.</p>
<p id="p-0060" num="0059">When the high-voltage transistor is on or conducting, the source is connected with the output. This causes a high voltage (e.g., 10 volts or greater) pulse lasting until the high-voltage transistor is turned off. The generated pulse has a peak amplitude at the supply voltage level. Different supply voltages may be used to create different peak amplitudes.</p>
<p id="p-0061" num="0060">The ultrasound pulses are output when generated. Continuous or pulsed waves are generated at different times but share a common output from the same integrated circuit and associated semiconductor chip. The same transmitter and associated waveform generator may be used for generating either pulsed waves or continuous waves for different modes of ultrasound imaging.</p>
<p id="p-0062" num="0061">The rise and fall time of the positive pulses, negative pulses, or both are controlled by trimming. For harmonic and contrast agent imaging modes, multiple waveforms may be generated, but 180 degrees out of phase. By summing the received signals, the harmonic or other response of the tissue or contrast agent is provided. If the transmitted pulses include energy at the harmonic, a portion of the received signal at the harmonic will be due to transmission at that frequency rather than the nonlinear response of the tissue or contrast agent. By controlling the rise and fall time, less harmonic energy may be generated. By controlling the rise and fall time of the positive and negative pulses to be similar, better cancellation may be provided.</p>
<p id="p-0063" num="0062">While the invention has been described above by reference to various embodiments, it should be understood that many changes and modifications can be made without departing from the scope of the invention. It is therefore intended that the foregoing detailed description be regarded as illustrative rather than limiting, and that it be understood that it is the following claims, including all equivalents, that are intended to define the spirit and scope of this invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>I claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. In a bipolar transmitter for generating bipolar ultrasound pulses with first and second high-voltage transistors, an improvement comprising:
<claim-text>a first low-voltage transistor connected between a positive voltage source and a first source terminal of the first high-voltage transistor; and</claim-text>
<claim-text>a second low-voltage transistor connected between a negative voltage source and a second source terminal of the second high-voltage transistor;</claim-text>
<claim-text>wherein the first and second low-voltage transistors are configured to adjust drive strengths of the first and second high-voltage transistors, respectively, and the first and second high-voltage transistors comprise first and second gates connected with positive and negative gate voltage sources, respectively, such that the first and second low-voltage transistors are operable to control an on/off state of the first and second high-voltage transistors, respectively, with the positive and negative gate voltage sources configured to maintain constant, during transmission, voltages connected to the first and second gates.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The bipolar transmitter of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the first and second low-voltage transistors are connected in cascode with the first and second high-voltage transistors.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The bipolar transmitter of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the first and second low-voltage transistors are each part of an array of CMOS devices connected between the positive and negative voltage sources and the first and second source terminals, respectively.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The bipolar transmitter of <claim-ref idref="CLM-00003">claim 3</claim-ref> wherein each of the arrays is controllable by a digital code indicating some of the CMOS devices to be on and some of the CMOS devices to be off during operation of the transmitter, the digital code controlling an amount of trimming of the first and second high-voltage transistors by the first and second low voltage transistors, respectively, the drive strengths set by the amount of trimming.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The bipolar transmitter of <claim-ref idref="CLM-00004">claim 4</claim-ref> wherein the first and second high-voltage transistors are operable with different voltage levels from the positive and negative source voltage sources, the CMOS devices that are on and off being different for the different voltage levels.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The bipolar transmitter of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the first and second low-voltage transistors and the first and second high-voltage transistors are in an application specific integrated circuit (ASIC), the ASIC comprising inputs for connection to the positive and negative voltage sources, the positive and negative gate voltage sources, gate control signals for the first and second low-voltage transistors, and binary positive pulse and negative pulse activation.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The bipolar transmitter of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the first and second low-voltage transistors are operable, through trimming of the first and second high-voltage transistors, respectively, with the drive strengths to match rise and fall times of pulses generated by the first and second high-voltage transistors.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The bipolar transmitter of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the first and second low-voltage transistors comprise CMOS devices, the first high-voltage transistor comprises a P-type FET, and the second high-voltage transistor comprises a N-type FET.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The bipolar transmitter of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the positive and negative gate voltage sources are within a low-voltage overload voltage of the first and second low-voltage transistors difference from the positive and negative voltage sources, respectively, during the transmission. </claim-text>
</claim>
</claims>
</us-patent-grant>
