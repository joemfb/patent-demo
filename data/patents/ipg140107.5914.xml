<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08627023-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08627023</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13458846</doc-number>
<date>20120427</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2007-332639</doc-number>
<date>20071225</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<disclaimer>
<text>This patent is subject to a terminal disclaimer.</text>
</disclaimer>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>13</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>711158</main-classification>
<further-classification>711162</further-classification>
<further-classification>711165</further-classification>
</classification-national>
<invention-title id="d2e69">Information processing apparatus and information processing method that selects data to be deleted without a user having to perform a delete operation</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>8190833</doc-number>
<kind>B2</kind>
<name>Takaki</name>
<date>20120500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711158</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>8</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>711158</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>711162</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>711165</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>9</number-of-drawing-sheets>
<number-of-figures>13</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>12273385</doc-number>
<date>20081118</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8190833</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13458846</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120216006</doc-number>
<kind>A1</kind>
<date>20120823</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Takaki</last-name>
<first-name>Yasuhito</first-name>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Takaki</last-name>
<first-name>Yasuhito</first-name>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Canon U.S.A., Inc. IP Division</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Canon Kabushiki Kaisha</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Elmore</last-name>
<first-name>Reba I</first-name>
<department>2189</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An information processing apparatus and an information processing method are capable of correctly selecting data to be deleted, without a user having to perform a troublesome operation. In a backup operation, a determination is made for each image file as to whether a predetermined condition is satisfied. If the condition is satisfied, image files are backed up, and storage priority levels defined for these image files are reduced in accordance with a rule predefined by a user. The storage priority level is a measure indicating the priority of keeping an image file in a storage unit. The higher the storage priority, the lower the probability that image files are deleted. The storage priority levels are changed depending on whether image files have been backed up and depending on the number of times image files were backed up.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="149.27mm" wi="139.45mm" file="US08627023-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="166.03mm" wi="138.35mm" file="US08627023-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="122.60mm" wi="164.08mm" file="US08627023-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="247.48mm" wi="174.92mm" file="US08627023-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="176.95mm" wi="128.86mm" file="US08627023-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="166.37mm" wi="172.30mm" file="US08627023-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="168.66mm" wi="152.23mm" file="US08627023-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="202.27mm" wi="154.86mm" orientation="landscape" file="US08627023-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="238.25mm" wi="188.81mm" file="US08627023-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="103.12mm" wi="111.00mm" file="US08627023-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">The present application is a continuation of U.S. patent application Ser. No. 12/273,385, filed Nov. 18, 2008, entitled &#x201c;INFORMATION PROCESSING APPARATUS AND INFORMATION PROCESSING METHOD THAT SELECTS DATA TO BE DELETED WITHOUT A USER HAVING TO PERFORM A DELETE OPERATION&#x201d;, the content of which is expressly incorporated by reference herein in its entirety. Further, the present application claims priority from Japanese Patent Application No. 2007-332639, filed Dec. 25, 2007, which is also hereby incorporated by reference herein in its entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The present invention relates to an information processing apparatus, such as a digital camera, and an information processing method.</p>
<p id="p-0005" num="0004">2. Description of the Related Art</p>
<p id="p-0006" num="0005">In recent years, a great increase in the capacity of storage media for storing electronic data has been achieved, and the storage capacity is still rapidly increasing. Some new types of digital cameras have a large-capacity built-in storage medium that is not exchangeable. Such a type of digital camera is also called a medialess digital camera.</p>
<p id="p-0007" num="0006">In a case where a user of a digital camera stores image data in a storage medium so that the image data can be played back whenever the user wants to do so, if the storage medium is of an exchangeable type, it is possible to store unlimitedly store image data by exchange the storage medium as required. However, in the case of medialess digital cameras, the storage medium disposed therein has an upper limit on the storage capacity no matter how large the storage capacity is, and thus it is necessary to delete some image data sooner or later.</p>
<p id="p-0008" num="0007">The free space of a storage medium decreases to a low level if a large number of image data are stored therein. In such a situation, it is very troublesome to find, from a large number of image data, image data that is not necessary to be retained further and delete the found unnecessary image data.</p>
<p id="p-0009" num="0008">Japanese Patent Laid-Open No. 2001-100971 discloses a technique to delete image data stored in a digital camera. In this technique, image data is deleted one by one taking into account information described in a print log. More specifically, storage priority information is added to image data on the basis of the print log, and deleting of image data is performed according to the storage priority information.</p>
<p id="p-0010" num="0009">Although the technique disclosed in Japanese Patent Laid-Open No. 2001-100971 makes it easier to delete unnecessary image data from the storage medium, the technique has the following problems. First, when there is image data that a user wants to keep in the form of electronic data, there is a possibility that some or all of such image data that should be kept is deleted by mistake. Second, when a user wants to keep image data in a specific device, the desire of the user is not reflected in the storage priority information. That is, the desire of the user is not taken into account in the deletion of image data.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0011" num="0010">In view of the above, the present invention provides a technique to solve all or at least one of the problems described above.</p>
<p id="p-0012" num="0011">The present invention provides an information processing apparatus including an acquisition unit configured to acquire electronic information, a storage unit configured to store the electronic information acquired by the acquisition unit, a transmission unit configured to transmit the electronic information stored in the storage unit to the outside, an addition unit configured to add priority, in terms of keeping the electronic information stored in the storage unit, to the electronic information stored in the storage unit, a change unit configured to change the priority depending on a result of the transmission performed by the transmission unit, and a deletion determination unit configured to determine electronic information to be deleted preferentially, in accordance with the priority.</p>
<p id="p-0013" num="0012">Further features of the present invention will become apparent from the following description of exemplary embodiments with reference to the attached drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram illustrating a functional configuration of a digital camera (an information processing apparatus) according to an embodiment of the present invention.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 2</figref> is a diagram illustrating a structure of data stored in a storage unit.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 3</figref> is a flow chart illustrating a backup operation performed under the control of a digital camera.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 4</figref> is a flow chart illustrating details of a backup operation.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 5</figref> is a flow chart illustrating an operation of deleting image files without a user having to select images.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 6</figref> is a flow chart illustrating a backup operation performed under the control of an external backup device.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 7</figref> is a block diagram illustrating an example of a configuration of a backup system.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIGS. 8A to 8C</figref> are sequence charts illustrating a process performed by a camera to detect a connection with a storage device according to an embodiment of the present invention.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIGS. 9A and 9B</figref> are a sequence charts illustrating a process as to data communication with a storage device, performed by a camera according to an embodiment of the present invention.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 10</figref> is a diagram illustrating a backup system.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DESCRIPTION OF THE EMBODIMENTS</heading>
<p id="p-0024" num="0023">Embodiments of the present invention are described below with reference to the accompanying drawings.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram illustrating a functional configuration of a digital camera (an information processing apparatus) according to an embodiment of the present invention.</p>
<p id="p-0026" num="0025">As shown in <figref idref="DRAWINGS">FIG. 1</figref>, the digital camera <b>100</b> includes a camera controller <b>101</b> and a user operation unit <b>102</b>. The camera controller <b>101</b> receives information as to operations performed by a user from the user operation unit <b>102</b> and controls various processes such as an image capturing process, an image information writing process, an image information reading process, etc. More specifically, for example, when a notification of starting of a release operation is received from the user operation unit <b>102</b>, the camera controller <b>101</b> performs the image capturing process. The user operation unit <b>102</b> accepts various operations such as pressing of a button performed by a user, and requests the camera controller <b>101</b> to control the camera operation according to the operation performed by the user.</p>
<p id="p-0027" num="0026">The digital camera <b>100</b> further includes a display <b>103</b>, an image capturing unit <b>104</b>, and a storage unit <b>105</b>. In accordance with a request from the camera controller <b>101</b>, the display <b>103</b> displays various kinds of information for a user. The image capturing unit <b>104</b> functions as an acquisition unit configured to convert an optical image into digital information under the control of the camera controller <b>101</b> and transfer the obtained image data to the storage unit <b>105</b>. The storage unit <b>105</b> is configured to store the image data produced by the image capturing unit <b>104</b> in the form of a file (electronic information) in a storage area of a flash memory or the like. In the present embodiment, a storage medium that provides the storage area is unremovable and has a fixed storage capacity.</p>
<p id="p-0028" num="0027">The digital camera <b>100</b> also includes an image managing unit <b>106</b> having a storage priority operation unit <b>107</b>. The storage priority operation unit <b>107</b> operates to specify the storage priority that is a measure of the priority in terms of keeping image files in the storage unit <b>105</b>. In the present embodiment, for example, the storage priority levels are expressed by integers such that greater values indicate higher priority. The image managing unit <b>106</b> manages images in accordance with the storage priority. More specifically, for example, the image managing unit <b>106</b> selects an image file to be deleted and selects an image file to be backed up.</p>
<p id="p-0029" num="0028">The digital camera <b>100</b> also includes a communication unit <b>108</b> configured to communicate with an external backup device (transmission target device) and transmit/receive image data to/from the external backup device.</p>
<p id="p-0030" num="0029">The parts <b>101</b> to <b>108</b> described above are connected to each other via an internal bus <b>109</b> so that signals and image files can be transmitted among the parts <b>101</b> to <b>108</b> via the internal bus <b>109</b>.</p>
<p id="p-0031" num="0030">Next, the structure of data stored in the storage unit <b>105</b> is described below. <figref idref="DRAWINGS">FIG. 2</figref> is a diagram illustrating the structure of data stored in the storage unit <b>105</b>.</p>
<p id="p-0032" num="0031">As shown in <figref idref="DRAWINGS">FIG. 2</figref>, one image file <b>201</b> is assigned to one image data <b>203</b> produced by the image capturing unit <b>104</b>. The image file <b>201</b> also includes an image file name <b>202</b>, a storage priority level <b>204</b>, and a backup log <b>205</b>.</p>
<p id="p-0033" num="0032">The image file name <b>202</b> is a name uniquely assigned to each piece of image data <b>203</b> produced by the image capturing unit <b>104</b> of the digital camera <b>100</b> in responses to an image capture operation performed by a user.</p>
<p id="p-0034" num="0033">The storage priority <b>204</b> is, as described above, the measure of the priority in terms of keeping the image file <b>201</b> in the storage unit <b>105</b>. The higher the storage priority <b>204</b> of the image file <b>201</b>, the lower the probability of being deleted. When the image file <b>201</b> is produced, an initial value of the storage priority level thereof is assigned by the image managing unit <b>106</b>. The initial value of the storage priority level may be set to, for example, 4, although the initial value is not limited to 4. Alternatively, the initial value may be set by a user. The storage priority level <b>204</b> changes mainly depending on whether backup has been performed and depending on the number of times the backup was performed, as will be described in further detail below. A description will also be given below as to how the storage priority level <b>204</b> is used.</p>
<p id="p-0035" num="0034">The backup log <b>205</b> represents various kinds of information associated with the storing of the backup data of the image file <b>201</b> in an external backup device such as a personal computer. More specifically, for example, the backup log <b>205</b> includes information indicating a backup data storing date/time, information (ID) identifying an external backup device in which the backup data is stored, and a folder path where the backup data is stored. The backup log <b>205</b> is described in further detail below.</p>
<p id="p-0036" num="0035">An operation of storing an image file in an external backup device is explained below for a case where the operation is performed under the primary control of the digital camera <b>100</b>. <figref idref="DRAWINGS">FIG. 3</figref> is a flow chart illustrating a backup operation performed under the control of the digital camera.</p>
<p id="p-0037" num="0036">First, in step S<b>401</b>, if the digital camera <b>100</b> is connected by a user to an external backup device, the camera controller <b>101</b> starts communication with the external backup device. The connection between the digital camera <b>100</b> and the external backup device may be realized by a wireless or wired connection.</p>
<p id="p-0038" num="0037">Next, in step S<b>402</b>, the camera controller <b>101</b> determines whether the external backup device connected to the digital camera <b>100</b> is a device specified as an automatic backup device. The automatic backup device refers to an external backup device having an experience of being connected to the digital camera <b>100</b> and specified as an &#x201c;automatic backup device&#x201d; via the user operation unit <b>102</b>. If the camera controller <b>101</b> determines that the digital camera <b>100</b> is connected to an automatic backup device, the processing flow proceeds to step S<b>411</b>, but otherwise the processing flow proceeds to step S<b>403</b>.</p>
<p id="p-0039" num="0038">In step S<b>403</b>, the camera controller <b>101</b> determines whether a plurality of external backup devices are connected to the digital camera <b>100</b>. If it is determined that a plurality of external backup devices are connected, the processing flow proceeds to step S<b>404</b>, but otherwise the processing flow proceeds to step S<b>406</b>.</p>
<p id="p-0040" num="0039">In step S<b>404</b>, the display <b>103</b> displays a dialog to prompt a user to specify one of the plurality of external backup devices as a device to which the backup data is to be stored. In response, the user selects one of the external backup devices via the user operation unit <b>102</b> (step S<b>405</b>). The process then proceeds to step S<b>406</b>.</p>
<p id="p-0041" num="0040">In step S<b>406</b>, the display <b>103</b> displays a dialog to prompt the user to specify a folder in which the backup data is to be stored. In response, the user specifies a folder in which the backup data is to be stored, via the user operation unit <b>102</b> (step S<b>407</b>).</p>
<p id="p-0042" num="0041">Next, in step S<b>408</b>, the display <b>103</b> displays a dialog to prompt the user to specify a reduction value by which to reduce the storage priority level for the image data to be subjected to the backup process. In accordance with a value specified by the user via the user operation unit <b>102</b>, the camera controller <b>101</b> sets the reduction value by which to reduce the storage priority level (step S<b>409</b>). That is, the camera controller <b>101</b> operates as a change value determination unit to set the reduction value, as a predetermined condition, indicating the reduction value by which to reduce the storage priority level.</p>
<p id="p-0043" num="0042">Subsequently, in step S<b>410</b>, the camera controller <b>101</b> stores backup setting data including a combination of information input by the user in steps S<b>405</b>, S<b>407</b>, and S<b>409</b>, in the storage unit <b>105</b>. More specifically, the backup setting data includes the information indicating the external backup device, the information indicating the folder in which to back up the image data, and the information indicating the reduction value by which to reduce the storage priority level. The backup setting data may further include information such as a password used in authentication of the user of the external backup device. The process then proceeds to step S<b>415</b>. The user may refer to the backup setting data and may set the external backup device as an automatic backup device. As described above, device information associated with each device to which data is transmitted, and information indicating the manner of changing the priority defined for each device or each device type are stored in advance. When the backup process or the image data transmission process is performed, the information is referred to, and the storage priority is updated depending on the device to which the image data is transmitted. Note that there is no restriction on the timing of setting the external backup device. For example, when the backup setting data is produced, a user may be asked to decide whether the external backup device is set as an automatic backup device. Alternatively, after a sequence of processes is completed, a user may perform the setting by operating the user operation unit <b>102</b>.</p>
<p id="p-0044" num="0043">In step S<b>411</b>, the camera controller <b>101</b> determines whether a plurality of automatic backup devices are connected to the digital camera <b>100</b>. If it is determined that a plurality of automatic backup devices are connected to the digital camera <b>100</b>, the process proceeds to step S<b>412</b>, but otherwise the process proceeds to step S<b>414</b>.</p>
<p id="p-0045" num="0044">In step S<b>412</b>, the display <b>103</b> displays a dialog to prompt the user to specify one of the plurality of automatic backup devices to which the backup data is to be stored. In response, the user selects one of the automatic backup devices via the user operation unit <b>102</b> (step S<b>413</b>). The process then proceeds to step S<b>414</b>.</p>
<p id="p-0046" num="0045">In step S<b>414</b>, the camera controller <b>101</b> reads the backup setting data including the information associated with the automatic backup device specified in step S<b>413</b> from the storage unit <b>105</b>. The process then proceeds to step S<b>415</b>.</p>
<p id="p-0047" num="0046">In step S<b>415</b>, the camera controller <b>101</b> performs a backup process on the image file via the communication unit <b>108</b>. The backup process is performed according to the information set in steps S<b>407</b> and S<b>409</b> or the information read in step S<b>414</b>, as will be described in further detail below.</p>
<p id="p-0048" num="0047">Thereafter, in step S<b>416</b>, the camera controller <b>101</b> releases the connection with the external backup device (automatic backup device).</p>
<p id="p-0049" num="0048">Next, details of the backup process in step S<b>415</b> are explained below. <figref idref="DRAWINGS">FIG. 4</figref> is a flow chart illustrating the details of the backup process in step S<b>415</b>.</p>
<p id="p-0050" num="0049">In the backup processes (S<b>501</b> to S<b>506</b>), steps S<b>502</b> to S<b>505</b> described below are performed repeatedly on each image file until all image files have been processed.</p>
<p id="p-0051" num="0050">In step S<b>502</b>, the camera controller <b>101</b> determines whether the following two conditions are satisfied:</p>
<p id="h-0006" num="0000">(1st Condition) Whether the image file of interest has not yet been backed up in the external backup device (or the automatic backup device) of interest; and</p>
<p id="h-0007" num="0000">(2nd Condition) Whether the storage priority level is equal to or greater than 1.</p>
<p id="p-0052" num="0051">The determination as to whether the first condition is satisfied or not can be made by checking the backup log <b>205</b> associated with the image file <b>201</b>. The determination as to whether the second condition is satisfied or not can be made by checking the storage priority level <b>204</b> assigned to the image file <b>201</b>. If the camera controller <b>101</b>, operating as a transmission determination unit, determines that the two conditions are satisfied, the process proceeds to step S<b>503</b>. However, in a case where at least one of the two conditions is not satisfied, the camera controller <b>101</b> makes the determination in step S<b>502</b> for a next image file (step S<b>506</b>).</p>
<p id="p-0053" num="0052">In step S<b>503</b>, the camera controller <b>101</b> copies the image file into the external backup device via the communication unit <b>108</b>.</p>
<p id="p-0054" num="0053">Thereafter, in step S<b>504</b>, the storage priority operation unit <b>107</b> subtracts the value indicated by the reduction value of storage priority included in the backup setting data from the storage priority level <b>204</b> and stores the result in the storage unit <b>105</b>. That is, the storage priority operation unit <b>107</b> operates as a change unit to change the storage priority level <b>204</b> in accordance with a result of the communication performed via the communication unit <b>108</b>.</p>
<p id="p-0055" num="0054">Subsequently, in step S<b>505</b>, the image managing unit <b>106</b> updates the backup log <b>205</b> and stores the updated backup log <b>205</b> in the storage unit <b>105</b>.</p>
<p id="p-0056" num="0055">Thereafter, the camera controller <b>101</b> makes the determination in step S<b>502</b> after step S<b>506</b> for a next image file.</p>
<p id="p-0057" num="0056">Via the process described above, the image file <b>201</b> is backed up (copied) in the external backup device. As a result of the backup process, the storage priority level <b>204</b> changes, and the backup log <b>205</b> is updated. The storage priority level <b>204</b> is reduced each time the backup process is performed. That is, if the reduction value of storage priority is set to be constant, then the storage priority level <b>204</b> of each image file <b>201</b> simply decrease with increasing number of times the image file <b>201</b> is backed up. That is, the greater the number of times an image file <b>201</b> has been backed up in the external backup device, the lower the storage priority level <b>204</b>. In other words, the greater the probability that a backup copy of an image file <b>201</b> can be found anywhere when the image file <b>201</b> is deleted from the digital camera <b>100</b>, the lower the storage priority level <b>204</b> assigned to the image file <b>201</b>.</p>
<p id="p-0058" num="0057">When an external backup device connected to the digital camera <b>100</b> is recognized as an automatic backup device, an automatic backup process is performed without having to produce backup setting data. That is, it is possible for a user to perform the automatic backup process only by performing a very simple operation. Furthermore, it is possible to prevent the same image file <b>201</b> from being backed up a plurality of times in a single external backup device. It is also possible to prevent a further backup operation from being performed for image files having a low storage priority level <b>204</b> and thus having a high possibility that they have already been backed up in some external backup devices. That is, the determination based on the backup log <b>205</b> (step S<b>502</b>) makes it possible to prevent the image file <b>201</b> from being backed up a greater number of times than necessary.</p>
<p id="p-0059" num="0058">Next, deleting of image files from the digital camera <b>100</b> is discussed below. In the present embodiment, a user is allowed to select image files and delete the selected image files in a similar manner to the conventional manner. In addition, it is also possible to delete image files without a user having to select image files. <figref idref="DRAWINGS">FIG. 5</figref> is a flow chart illustrating an operation of deleting image files, which is performed without a user having to select image files.</p>
<p id="p-0060" num="0059">First, in step S<b>301</b>, the camera controller <b>101</b> determines whether the storage unit <b>105</b> has a free storage space equal to or greater than a storage capacity threshold value. The storage capacity threshold value is set, for example, by a user. More specifically, for example, the user sets the storage capacity threshold value to be equal to or greater than the storage space necessary to store image files that will be produced during the image capturing operation that is going to be performed. If it is determined that the current free space is equal to or greater than the storage capacity threshold value, the file deleting process is ended without deleting any image file. In this case, the image capturing operation is performed using the image capturing unit <b>104</b>, and a new image file produced as a result of the image capturing operation is stored in the storage unit <b>105</b>. On the other hand, if it is determined that the current free space is smaller than the storage capacity threshold value, the processing flow proceeds to step S<b>302</b>.</p>
<p id="p-0061" num="0060">In step S<b>302</b>, the camera controller <b>101</b> determines whether there is an image file <b>201</b> with a storage priority level <b>204</b> equal to or lower than a priority threshold value. The priority threshold value is also set by a user. The priority threshold value is set, for example, to &#x201c;0&#x201d;. If an image file <b>201</b> is found that has a storage priority level <b>204</b> equal to or lower than the priority threshold value, the processing flow proceeds to step S<b>303</b>. However, if no image file <b>201</b> is found that has a storage priority level <b>204</b> equal to or lower than the priority threshold value, the processing flow proceeds to step S<b>304</b>.</p>
<p id="p-0062" num="0061">In step S<b>303</b>, the camera controller <b>101</b> operates as a deletion determination unit to determine that the image file <b>201</b> detected in step S<b>302</b> are preferentially deleted because their storage priority <b>204</b> is equal to or lower than the priority threshold value, and the camera controller <b>101</b> deletes the selected image file <b>201</b>. In a case where there are a plurality of image files <b>201</b> with a storage priority level <b>204</b> equal to or lower than the priority threshold value, if the image files <b>201</b> have different values of the storage priority <b>204</b>, the image files <b>201</b> are deleted in increasing order of the storage priority level <b>204</b>. In a case where there are a plurality of image files <b>201</b> having the same storage priority level <b>204</b>, the image files <b>201</b> are deleted in order from oldest to latest image capture date/time. Thereafter, the processing flow returns to step S<b>301</b>.</p>
<p id="p-0063" num="0062">In step S<b>304</b>, the camera controller <b>101</b> notifies the user via the display <b>103</b> that no more image can be captured because there is no enough free storage space. Thereafter, the process is ended.</p>
<p id="p-0064" num="0063">In the operation according to the present embodiment, image files <b>201</b> are deleted in increasing order of the storage priority level <b>204</b>. That is, deleting is performed first for image files <b>201</b> that have already been backed up in one or more external backup devices and that have thus a low risk of having a problem when they are deleted from the digital camera <b>100</b>. Therefore, it is possible to delete only image files <b>201</b> regarded as being probably unnecessary to be further kept while keeping image files <b>201</b> that have a high storage priority level <b>204</b> and are thus regarded as being necessary to be further kept in the storage unit <b>105</b>.</p>
<p id="p-0065" num="0064">By properly setting the storage priority, it becomes possible to selectively delete image files depending on weights indicating the intention of a user as to which device is used to keep image data.</p>
<p id="p-0066" num="0065">A discussion is given below on a first example case in which it is assumed that a device A and a device B are used as backup devices, and a user manages image files using the device A. It is also assumed that, in the user's mind, image files that have already been backed up in the device A are allowed to be deleted from the digital camera <b>100</b>, while images files that have already been backed up in the device B are allowed to be deleted when the free storage space of the storage unit <b>105</b> decreases to an unacceptably low level even, if they are not backed up in the device A. The storage priority levels are initially set to &#x201c;4&#x201d;. In this first example case, for example, in step S<b>409</b>, the user may set the reduction value of storage priority to &#x201c;4&#x201d; for image files that have already been backed up in the device A and to &#x201c;2&#x201d; for image files that have already been backed up in the device B, and, in step S<b>302</b>, the user may set the threshold value to &#x201c;2&#x201d;.</p>
<p id="p-0067" num="0066">When the values are set in the above-described manner, if an image file is backed up in the device A, then the storage priority of this backed-up image file is changed to &#x201c;0&#x201d;. On the other hand, if an image file is backed up in the device B, then the storage priority of this backed-up image file is changed to &#x201c;2&#x201d;. The storage priority levels are maintained at &#x201c;4&#x201d; for image files that have not yet been backed up in either device. Therefore, if it is determined that the free storage space of the storage unit <b>105</b> has become lower than the threshold value (step S<b>301</b>), the image files backed up in the device A are preferentially deleted from the storage unit <b>105</b> (steps S<b>302</b> to S<b>303</b>). In a case where the image files stored in the storage unit <b>105</b> include no image files that have already been backed up in the device A, image files that have been backed up in the device B are deleted from the storage unit <b>105</b> (steps S<b>302</b> to S<b>303</b>). On the other hand, in a case where image files stored in the storage unit <b>105</b> have not been backed up in either the device A or the device B, any image file is not deleted, and a message is displayed to indicate that no more images can be captured (step S<b>304</b>).</p>
<p id="p-0068" num="0067">Next, a discussion is given below on a second example case in which it is assumed that a device A and a device B are used as backup devices, and a user manages image files using both devices A and B. It is also assumed that, in the user's mind, only image files that have already been backed up in both devices A and B are allowed to be deleted from the digital camera <b>100</b>. The storage priority levels are initially set to &#x201c;4&#x201d;. In this second example case, for example, in step S<b>409</b>, the user may set the reduction value of storage priority to &#x201c;2&#x201d; for image files that have already been backed up in the device A and to &#x201c;2&#x201d; for image files that have already been backed up in the device B, and, in step S<b>302</b>, the user may set the threshold value to &#x201c;0&#x201d;.</p>
<p id="p-0069" num="0068">When the values are set in the above-described manner, if an image file is backed up only in the device A, then the storage priority of this backed-up image file is changed to &#x201c;2&#x201d;. If an image file is backed up only in the device B, then the storage priority of this backed-up image file is changed to &#x201c;2&#x201d;. The storage priority levels are maintained at &#x201c;4&#x201d; for image files that have not yet been backed up in either device. For image files that have been backed up in both device A and device B, the storage priority is set to &#x201c;0&#x201d;. Therefore, if it is determined that the free storage space of the storage unit <b>105</b> has become lower than the threshold value (step S<b>301</b>), only the image files backed up in both the device A and the device B are deleted from the storage unit <b>105</b> (steps S<b>302</b> to S<b>303</b>). On the other hand, in a case where image files stored in the storage unit <b>105</b> have not been backed up at least one of the device A and the device B, any image file is not deleted, and a message is displayed to indicate that no more images can be captured (step S<b>304</b>).</p>
<p id="p-0070" num="0069">In the manner described above, it is possible to delete image files according to the intention of the user.</p>
<p id="p-0071" num="0070">In the backup operation, the digital camera <b>100</b> has a primary control, for example, in a situation in which the digital camera <b>100</b> is set as a master device and the external backup device is set as a slave device. In an opposite situation, the backup operation is performed under the control of the external backup device. The backup operation is explained in further detail below for the case where image files stored in the digital camera are backed up in the external backup device under the control of the external backup device. <figref idref="DRAWINGS">FIG. 6</figref> is a flow chart illustrating the backup operation performed under the control of the external backup device.</p>
<p id="p-0072" num="0071">First, in step S<b>600</b>, the camera controller <b>101</b> determines whether the digital camera <b>100</b> or the external backup device connected to the digital camera <b>100</b> is set as a master device. In the case where the digital camera <b>100</b> is set as a master device, the backup operation is performed according to the processing flow shown in <figref idref="DRAWINGS">FIG. 3</figref>. On the other hand, in the case where the external backup device is set as a master device, the processing flow proceeds to step S<b>601</b>.</p>
<p id="p-0073" num="0072">In step S<b>601</b>, the camera controller <b>101</b> establishes a connection between the digital camera <b>100</b> and the external backup device. The camera controller <b>101</b> then starts a communication with the external backup device.</p>
<p id="p-0074" num="0073">Next, in step S<b>602</b>, if the camera controller <b>101</b> receives a request from external backup device, the camera controller <b>101</b> transmits an image file <b>201</b> to the external backup device via the communication unit <b>108</b> in accordance with the request. The camera controller <b>101</b> stores information identifying the transmitted image file <b>201</b> in the storage unit <b>105</b>.</p>
<p id="p-0075" num="0074">In step S<b>603</b>, the camera controller <b>101</b> terminates the communication between the digital camera <b>100</b> and the external backup device, and the camera controller <b>101</b> turns off the electric power of the digital camera <b>100</b>.</p>
<p id="p-0076" num="0075">If the electric power of the digital camera <b>100</b> is again turned on thereafter and the digital camera <b>100</b> is activated, then, in step S<b>604</b>, the camera controller <b>101</b> prompts the user to specify the reduction value by which to reduce the storage priority level <b>204</b> of the image file <b>201</b> subjected to the immediately previous backup process. In response, the user specifies the reduction value by which to reduce the storage priority <b>204</b>. That is, in this step S<b>604</b>, the camera controller <b>101</b> performs the process similar to steps S<b>408</b> and S<b>409</b> described above. Instead of specifying the value by the user, a fixed value may be set as the reduction value by which to reduce the storage priority <b>204</b>. In a case where there is a backup setting data associated with the external backup device, the reduction value of storage priority described therein may be employed. In the case where the reduction value of storage priority is not specified by the user, it is desirable that the reduction value of storage priority be adjusted such that the reduction value of storage priority is smaller than that used in the case where the backup operation is performed under the primary control of the digital camera <b>100</b>.</p>
<p id="p-0077" num="0076">Next, in step S<b>605</b>, the storage priority operation unit <b>107</b> subtracts the value specified in step S<b>604</b> from the storage priority <b>204</b> assigned to the image file <b>201</b> subjected to the immediately previous backup process, and the resultant new storage priority <b>204</b> is stored in the storage unit <b>105</b>. The process is then ended.</p>
<p id="p-0078" num="0077">As described above, in the case where the backup process is performed under the primary control of an external backup device, the timing of decreasing the storage priority <b>204</b> is adjusted such that the storage priority <b>204</b> is changed after the backup is completed for all image files of interest. That is, in the case where the backup process is performed under the primary control of the digital camera <b>100</b>, the storage priority <b>204</b> is reduced each time one image file is backed up. In contrast, in the case where the backup process is performed under the primary control of an external backup device, the timing of decreasing the storage priority <b>204</b> is delayed. This is because the digital camera <b>100</b> cannot recognize whether the backup of each image file <b>201</b> is completed or not, although the digital camera <b>100</b> can recognize whether the transmission of each image file <b>201</b> to the external backup device is completed. More specifically, for example, even when the digital camera <b>100</b> is simply accessed by the external backup device, the digital camera <b>100</b> receives a request similar to the backup request. That is, reliability in the backup process under the control of the external backup device is lower than in the backup process under the control of the digital camera <b>100</b>. To avoid a problem due to the above, the timing of changing the storage priority <b>204</b> is delayed.</p>
<p id="p-0079" num="0078">Thus, as described above, even in the case where the backup process is performed under the primary control of the external backup device, it is possible to properly change the storage priority <b>204</b>. In the case where the reduction value of storage priority is set by a user, it is desirable to adjust the reduction value of storage priority such that the reduction value of storage priority be smaller than in the case where the backup process is performed under the primary control of the digital camera <b>100</b>, because, if the reduction value of storage priority is set to be equal to that used in the backup process under the primary control of the digital camera <b>100</b>, the above-described low reliability in the backup process under the control of the external backup device can cause an image file to be deleted in an unpredictable manner.</p>
<p id="p-0080" num="0079">Note that the storage priority <b>204</b> does not necessarily need to be described in the corresponding image file <b>201</b>, but it may be stored separately from the image file <b>201</b> in other storage areas in the storage unit <b>105</b>. Furthermore, in the present invention, the file type is not limited to the image file, but the invention may be applied to other data files such as an audio data file, a document data file, etc. The storage medium is not limited to that of the unremovable type, but a removable storage medium may be used.</p>
<p id="p-0081" num="0080">The communication between the digital camera and an external device such as a personal computer or other types of storage devices may be performed via a wired communication medium such as a USB (Universal Serial Bus) bus or via a wireless communication medium. In the case of the wireless communication, the communication may be performed using a near field communication based on a communication protocol defined for use in communication in a short range of 1 m or several ten centimeters. As for communication protocols, non-contact communication protocols are known for use within a short range less than 70 cm and for use within a very short range less than 10 cm. These protocols are defined in standards ISO/IEC 15693, ISO/IEC 14434, ECMA-340 (ISO/IEC 18092) etc.</p>
<p id="p-0082" num="0081">The present invention is very useful, in particular, when the control according to the first embodiment described above is applied to a system in which image data is automatically backed up using near field communication when a digital camera is brought to a location close to a storage device.</p>
<p id="p-0083" num="0082">The near field communication is performed as follows.</p>
<p id="p-0084" num="0083"><figref idref="DRAWINGS">FIG. 10</figref> is a diagram illustrating an example of a backup system using a near field communication. This backup system includes a camera <b>1100</b> having a near field communication capability, a remote controller <b>1111</b> for remotely controlling the camera <b>1100</b>, and a storage device <b>1109</b> functioning as a cradle. The storage device <b>109</b> has a near field communication capability and includes a storage medium <b>1091</b> such as a hard disk drive. The storage device <b>109</b> is capable of storing image data received from the camera <b>1100</b> via the near field communication in the storage medium <b>1091</b>. The storage device <b>1109</b> may be connected to a personal computer (PC) <b>1200</b> via a cable or the like so that the storage device <b>1109</b> is operable under the control of the PC <b>1200</b>.</p>
<p id="p-0085" num="0084"><figref idref="DRAWINGS">FIG. 7</figref> is a block diagram illustrating an example of a configuration of the backup system using the near field communication. The camera <b>1100</b> includes a system controller <b>1101</b> configured to control the operation of the whole camera, and also includes various functional blocks. The system controller <b>1101</b> includes a nonvolatile storage medium for storing a control program or the like, a CPU (Central Processing Unit) for executing the control program, and a RAM used as a work area by the CPU. An image capturing unit <b>1102</b> includes an optical system having an automatic focusing capability and a zooming capability, a control motor for controlling the optical system, and an image sensing device such as a CCD image sensor or a CMOS image sensor. The image capturing unit <b>1102</b> forms an optical image of a subject on an image sensing plane of the image sensing device. The optical image of the subject is converted by the image sensing device into an electrical signal of each pixel, and the electric signal is further converted by an image processing unit <b>1103</b> into digital data. The image processing unit <b>1103</b> produces image data file by performing image processing on the digital data in accordance with the setting of the camera. The image data file is stored in the storage medium <b>1105</b> such as a semiconductor memory via a storage medium interface <b>1104</b>.</p>
<p id="p-0086" num="0085">To play back the image data file stored in the storage medium <b>1105</b>, the image processing unit <b>1103</b> performs a process on the image data file read from the storage medium <b>1105</b> to produce image data to be displayed. The resultant image data is displayed on a display <b>1106</b> under the control of the system controller <b>1101</b>. In the configuration shown in <figref idref="DRAWINGS">FIG. 7</figref>, the storage medium <b>1105</b> is firmly disposed in the camera <b>1100</b>. Alternatively, the storage medium <b>1105</b> may be implemented in a removable form using a memory card or the like.</p>
<p id="p-0087" num="0086">The display <b>1106</b> is, for example, an LCD (Liquid Crystal Display) configured to display various GUIs (Graphical User Interfaces) such as a menu screen and an image read from the storage medium <b>1105</b>. The display <b>1106</b> may also function as an electronic viewfinder by continuously displaying images sensed by the image capturing unit <b>1102</b>.</p>
<p id="p-0088" num="0087">A communication interface <b>1107</b> establishes and releases a communication channel of near field communication with an external device via an antenna <b>1108</b>. After the communication channel is established, the communication interface <b>1107</b> transmits/receives data to/from the external device via the established communication channel.</p>
<p id="p-0089" num="0088">A PC <b>1200</b> includes, as with the camera <b>1100</b>, a CPU, a RAM, a storage medium, a communication interface, etc.</p>
<p id="p-0090" num="0089">The camera <b>1100</b> may be controlled by a single piece of hardware or a plurality of pieces of hardware. In the case where a plurality of pieces of hardware are used, the plurality of pieces of hardware cooperate with each other to control the whole camera. This also applies to the control of the PC <b>1200</b>.</p>
<p id="p-0091" num="0090">In this system, the camera <b>1100</b> and the storage device <b>1109</b> are capable of communicating with each other. More specifically, it is possible to transmit image data stored in the storage medium <b>1105</b> of the camera <b>1100</b> to the storage device <b>1109</b> to store it therein, and it is also possible to transmit image data stored in the storage device <b>1109</b> to the camera <b>1100</b> to store it in the storage medium <b>1105</b>.</p>
<p id="p-0092" num="0091">A user operation unit <b>1110</b> is a unit used by a user to issue a command to the camera <b>1100</b>. An operation performed by the user on the user operation unit <b>1110</b> is notified to the system controller <b>1101</b>. The system controller <b>1101</b> controls various parts of the camera <b>1100</b> such that the camera <b>1100</b> operates according to the operation of the user operation unit <b>1110</b>. In the present embodiment, the user operation unit <b>1110</b> includes an arrow-key pad also called a direction-key pad or a cursor-key pad <b>1110</b><i>a</i>, a set key also called an apply key or an execution key <b>1110</b><i>b</i>, and a menu key <b>1110</b><i>c. </i></p>
<p id="p-0093" num="0092">As described above, the camera <b>1100</b> is capable of being remote-controlled by the remote controller <b>1111</b>. A signal (for example, an infrared signal) transmitted from the remote controller <b>1111</b> is received by a remote control signal receiver <b>1112</b> and supplied to the system controller <b>1101</b> via a remote control signal interface <b>1113</b>. The system controller <b>1101</b> controls various parts of the camera <b>1100</b> so that the camera <b>1100</b> operates according to the operation of the remote controller <b>1111</b>. The setting as to whether remote control signals (thereby to remote-control the camera <b>1100</b>) are accepted or not may be performed by a user by performing a menu operation on the user operation unit <b>1110</b>.</p>
<p id="p-0094" num="0093">The remote controller <b>1111</b> includes operation keys corresponding to those disposed on the user operation unit <b>1110</b> of the camera <b>1100</b>. The data indicating the setting as to whether the remote control is enabled or disabled is stored, for example, in the nonvolatile storage medium <b>1114</b>. If the setting is changed, the data stored in the nonvolatile storage medium <b>1114</b> is updated.</p>
<p id="h-0008" num="0000">Connection Detecting Process</p>
<p id="p-0095" num="0094">Next, referring to sequence charts shown in <figref idref="DRAWINGS">FIGS. 8A to 8C</figref>, a connection detecting process performed by the camera <b>1100</b> to detect a connection with the storage device <b>1109</b> is explained below. A communication procedure shown in <figref idref="DRAWINGS">FIGS. 8A to 8C</figref> can also be applied to a case where the camera <b>1100</b> and the storage device <b>1109</b> operate oppositely such that image data stored in the storage device <b>1109</b> is transmitted to the digital camera <b>1100</b>. In view of the above, in the sequence chart of the procedure of near field communication shown in <figref idref="DRAWINGS">FIGS. 8A to 8C</figref>, a general communication procedure is explained assuming that a connection request is issued by a device A, and a device B responds to the connection request.</p>
<p id="p-0096" num="0095">To perform near field communication, it is necessary that the antenna of the device A and the antenna of the device B should be located within a predetermined small range (hereinafter, referred to simply as a communication range). When a connection request is issued by the device A, if the antenna of the device B is located outside the communication range as is the case in <figref idref="DRAWINGS">FIG. 8A</figref>, the device B cannot receive the connection request (S<b>1201</b>), and thus the device B returns no response to the connection request. In this case, connection is not established.</p>
<p id="p-0097" num="0096">When the distance between the antennas of the devices A and B (hereinafter, an expression &#x201c;the distance between the devices A and B&#x201d; will also be used to describe the distance between the antennas of the devices A and B) is within the communication range, the connection establishment process is performed between the two devices.</p>
<p id="p-0098" num="0097">A connection establishment process is shown in <figref idref="DRAWINGS">FIG. 8B</figref> for a case where a connection request is issued from the device A to the device B in the system in which a connection between the devices A and B is established when the devices A and B come close to each other within the communication range, and the connection is maintained until the devices A and B go away out of the communication range.</p>
<p id="p-0099" num="0098">When the connection request is issued by the device A (S<b>1201</b>), if a response is returned from the device B to accept the connection request (S<b>1202</b>), the connection is established. The connection between the device A and the device B is maintained as long as they are located within the communication range unless a disconnection request is transmitted from the device A (S<b>1205</b>) and a disconnection response is returned from the device B (S<b>1206</b>).</p>
<p id="p-0100" num="0099">In this system, it is necessary to monitor the connection status by periodically transmitting a connection monitor request from the device A (S<b>1203</b>). If a connection confirmation response is returned from the device B (S<b>1204</b>) in response to the connection monitor request from the device A (S<b>1203</b>), the connection is in a connected status, but otherwise the connection is in a disconnected status. After the connection is established, if the distance between the device A and the device B increases beyond the upper limit of the communication range, no response is returned to the connection monitor request (S<b>1203</b>), and thus the device A performs a connection release process as a timeout handling process.</p>
<p id="p-0101" num="0100"><figref idref="DRAWINGS">FIG. 8C</figref> shows a connection confirmation procedure between the device A and the device B in a system in which connection and disconnection are performed each time data is transmitted/received. The connection status can be confirmed by transmitting a connection request from the device A (S<b>1201</b>) and receiving a connection acceptance response from the device B (S<b>1202</b>). In the example shown in <figref idref="DRAWINGS">FIG. 8C</figref>, no data is transmitted/received, and thus, after the connection status is confirmed, a disconnection request is transmitted from the device A (S<b>1205</b>) and the connection is released.</p>
<p id="p-0102" num="0101">In the example described above, the confirmation of the connection establishment between the device A and the device B is performed on the basis of confirmation on whether wireless communication is possible, the connection establishment may be confirmed on the basis of the communication radio wave strength or the status of a mechanical switch.</p>
<p id="h-0009" num="0000">Data Communication Process</p>
<p id="p-0103" num="0102">Next, referring to sequence charts shown in <figref idref="DRAWINGS">FIGS. 9A and 9B</figref>, a data communication process between the camera <b>1100</b> and the storage device <b>1109</b> is explained below. The communication procedures shown in <figref idref="DRAWINGS">FIGS. 9A and 9B</figref> can also be applied to a case where the camera <b>1100</b> and the storage device <b>1109</b> operate oppositely such that image data stored in the storage device <b>1109</b> is transmitted to the digital camera <b>1100</b>. In view of the above, a general procedure of near field communication is explained below assuming that a connection request is issued by a device A, and a response to the request is returned by a device B. In <figref idref="DRAWINGS">FIGS. 9A and 9B</figref>, similar steps to those in <figref idref="DRAWINGS">FIG. 8A</figref>, <b>8</b>B, or <b>8</b>C are denoted by similar step numbers.</p>
<p id="p-0104" num="0103">In the data transmission process shown in <figref idref="DRAWINGS">FIG. 9A</figref>, as in the process shown in <figref idref="DRAWINGS">FIG. 8B</figref>, a connection between the devices A and B is established when the devices A and B come close to each other within the communication range, and the connection is maintained until the devices A and B go away out of the communication range.</p>
<p id="p-0105" num="0104">If the device A transmits a data transmission request (S<b>1301</b>), the device B performs a data reception preparation process and returns a reception-ready response to the device A (S<b>1302</b>). If the device A receives this response, the device A transmits data to the device B (S<b>1303</b>). If the transmission of the data is completed, the device A transmits a transmission end message to the device B (S<b>1305</b>). If the device B receives this message, the device B transmits a reception end message to the device A (S<b>1306</b>), and thus the data transmission process is completed.</p>
<p id="p-0106" num="0105"><figref idref="DRAWINGS">FIG. 9B</figref> illustrates a procedure for a case where data is transmitted from the device B to the device A (i.e., the device A receives data A from the device B).</p>
<p id="p-0107" num="0106">The device A transmits a reception request to the device B (S<b>1307</b>). In response to this request, the device B performs a transmission preparation process, and returns a transmission-ready message (S<b>1308</b>). If the device A receives this response, the device A performs a reception preparation process and returns a reception-ready message to the device B (S<b>1309</b>). If the device B receives the reception-ready message, the device B transmits data to the device A (S<b>1310</b>). If the transmission of the data is completed, the device B transmits a transmission end message (S<b>1312</b>). If the device A receives this message, the device A transmits a reception end message to the device B (S<b>1313</b>), and thus the data reception process is completed.</p>
<p id="p-0108" num="0107">In the embodiment described above, when a digital camera is brought to a location close to a storage device, image data is automatically backed up using near field communication. When the image data backup process (or the image data transmission process) is performed, the storage priority information may be advantageously updated in the above-described manner.</p>
<p id="p-0109" num="0108">When image data transmission is started in response to bringing the digital camera to a location close to a target device to which the data is to be transmitted, there is a possibility that the target device is in various situations. For example, the target device may be a personal computer or a storage device possessed by a user, or may be a personal computer of a friend of the user. In another situation, the target device may be a device for temporarily storing data.</p>
<p id="p-0110" num="0109">In a circumstance in which image data is allowed to be transmitted to various devices, the storage priority may be determined depending on the device to which image data is transmitted so that the image data is deleted immediately after the transmission or may be kept depending on the storage priority.</p>
<p id="p-0111" num="0110">More specifically, the storage priority may be controlled depending on the target device to which image data is transmitted such that the priority is reduced greatly when image data is transmitted to a PC of a user but the priority is maintained without being changed or may be reduced slightly when image data is transmitted to a storage device (such as a storage device of a friend) other than the PC of the user.</p>
<p id="p-0112" num="0111">This makes it possible to minimize the risk that image data is deleted from a source device after the image data is transmitted from the source device to a target device that is not suitable for keeping the image data for a long term.</p>
<p id="p-0113" num="0112">In particular, in a system in which image data is transmitted or backed up automatically, there is a possibility that a user is not aware which device the image data is transmitted to. By controlling the priority in the above-described manner, it is possible to reduce the probability that image data that should be kept is incorrectly deleted compared to a system in which image data is deleted unconditionally after the image data is backed up.</p>
<p id="p-0114" num="0113">The embodiments described above may be implemented by executing a program on a computer. A medium used to supply the program to the computer such as a computer-readable storage medium such as a CD-ROM disk on which the program is stored or a transmission medium such as the Internet by which the program is transmitted may be used to implement the embodiments described above. The program may be implemented according to one or a combination of the embodiments described above. Note that the program, the storage medium, the transmission medium, and the program product fall within the scope of the present invention.</p>
<p id="p-0115" num="0114">While the present invention has been described with reference to exemplary embodiments, it is to be understood that the invention is not limited to the disclosed exemplary embodiments. The scope of the following claims is to be accorded the broadest interpretation so as to encompass all modifications and equivalent structures and functions.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An information processing apparatus comprising:
<claim-text>an acquisition unit configured to acquire electronic information;</claim-text>
<claim-text>a storage unit configured to store the electronic information acquired by the acquisition unit;</claim-text>
<claim-text>a transmission unit configured to transmit the electronic information stored in the storage unit to destination outside of the information processing apparatus;</claim-text>
<claim-text>a management unit configured to manage the priority information of the electronic information; and</claim-text>
<claim-text>a deletion determination unit configured to determine the electronic information to be deleted preferentially in accordance with the priority information;</claim-text>
<claim-text>wherein the priority information managed by the management unit is for determining the electronic information to be deleted from among the electronic information stored in the storage unit,</claim-text>
<claim-text>wherein the management unit updates the priority information of transmitted electronic information in accordance with the destination to which the electronic information is transmitted by the transmission unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The information processing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a memory unit configured to store information indicating a manner of changing the priority information depending on the destination.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The information processing apparatus according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the priority information is numerical information and amount of change to change the numerical information of the electronic information in accordance with the destination is stored in the memory unit.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The information processing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein in a case where the electronic information is transmitted under a condition that the information processing apparatus is set as a master device and the destination is set as a slave device for transmission, the management unit updates the priority information so that the transmitted electronic information to be deleted easier compared to the condition that the information processing apparatus is set as a slave device and the destination is set as a master devise for transmission.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The information processing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the communication by the transmission unit is performed by a near field communication unit.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The information processing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the acquisition unit is an image capturing unit.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A method for controlling an information processing apparatus, the method comprising:
<claim-text>via an acquisition unit, acquiring electronic information;</claim-text>
<claim-text>via a storage unit, storing the electronic information acquired by the acquisition unit;</claim-text>
<claim-text>via transmission unit, transmitting the electronic information stored in the storage unit to destination outside of the information processing apparatus;</claim-text>
<claim-text>via a management unit, managing the priority information of the electronic information; and</claim-text>
<claim-text>via a deletion determination unit, determining the electronic information to be deleted preferentially in accordance with the priority information;</claim-text>
<claim-text>wherein the managed priority information managed is for determining the electronic information to be deleted from among the stored electronic information,</claim-text>
<claim-text>wherein the management unit updates the priority information of transmitted electronic information in accordance with the destination to which the electronic information is transmitted by the transmission unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A non-transitory computer readable medium containing computer-executable instructions for controlling an information processing apparatus, the medium comprising:
<claim-text>computer-executable instructions for acquiring electronic information via an acquisition unit;</claim-text>
<claim-text>computer-executable instructions for storing the acquired electronic information via a storage unit;</claim-text>
<claim-text>computer-executable instructions for transmitting the electronic information stored in the storage unit to destination outside of the information processing apparatus via transmission unit;</claim-text>
<claim-text>computer-executable instructions for managing the priority information of the electronic information via a management unit; and</claim-text>
<claim-text>computer-executable instructions for determining the electronic information to be deleted preferentially in accordance with the priority information via a deletion determination unit;</claim-text>
<claim-text>wherein the managed priority information managed is for determining the electronic information to be deleted from among the stored electronic information,</claim-text>
<claim-text>wherein the management unit updates the priority information of transmitted electronic information in accordance with the destination to which the electronic information is transmitted by the transmission unit. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
