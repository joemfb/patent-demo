<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625424-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625424</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13033464</doc-number>
<date>20110223</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>212</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>J</subclass>
<main-group>1</main-group>
<subgroup>16</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370231</main-classification>
<further-classification>709223</further-classification>
</classification-national>
<invention-title id="d2e53">Method and system for routing information in a network</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7082135</doc-number>
<kind>B2</kind>
<name>Gebhardt, Jr. et al.</name>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7603418</doc-number>
<kind>B1</kind>
<name>Xu</name>
<date>20091000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709206</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2003/0069614</doc-number>
<kind>A1</kind>
<name>Bowman et al.</name>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>607 60</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2004/0193090</doc-number>
<kind>A1</kind>
<name>Lebel et al.</name>
<date>20040900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>604  1</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2004/0213274</doc-number>
<kind>A1</kind>
<name>Fan et al.</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2005/0157698</doc-number>
<kind>A1</kind>
<name>Park et al.</name>
<date>20050700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2006/0098608</doc-number>
<kind>A1</kind>
<name>Joshi</name>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370338</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2006/0291404</doc-number>
<kind>A1</kind>
<name>Thubert et al.</name>
<date>20061200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370254</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2007/0127503</doc-number>
<kind>A1</kind>
<name>Zhao</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2007/0192451</doc-number>
<kind>A1</kind>
<name>Tran et al.</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709223</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2007/0233835</doc-number>
<kind>A1</kind>
<name>Kushalnagar et al.</name>
<date>20071000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709223</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2008/0186907</doc-number>
<kind>A1</kind>
<name>Yagyuu et al.</name>
<date>20080800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2009/0296704</doc-number>
<kind>A1</kind>
<name>Kim et al.</name>
<date>20091200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2012/0036237</doc-number>
<kind>A1</kind>
<name>Hasha et al.</name>
<date>20120200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709221</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>EP</country>
<doc-number>2109228</doc-number>
<kind>A1</kind>
<date>20091000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>WO</country>
<doc-number>99/55031</doc-number>
<kind>A1</kind>
<date>19991000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>WO</country>
<doc-number>2011/001211</doc-number>
<kind>A1</kind>
<date>20110100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00018">
<othercit>Extended Search Report, European Patent Application No. 11173409.1, May 16, 2012, 8 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00019">
<othercit>Neumann, A., et al., &#x201c;Better Approach to Mobile Ad-hoc Networking (B.A.T.M.A.N),&#x201d; Network Working Group, Internet-Draft, Apr. 7, 2008, 24 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>370225</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370229</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370231</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370254</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370338</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370392</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709206</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709221</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709223</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709225</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>20</number-of-drawing-sheets>
<number-of-figures>20</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120213227</doc-number>
<kind>A1</kind>
<date>20120823</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Jaeger</last-name>
<first-name>Morten Gravild Bjerregaard</first-name>
<address>
<city>Phuket</city>
<country>TH</country>
</address>
</addressbook>
<residence>
<country>TH</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Jaeger</last-name>
<first-name>Morten Gravild Bjerregaard</first-name>
<address>
<city>Phuket</city>
<country>TH</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Lewis, Rice &#x26; Fingersh, L.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>HP Ventures A/S</orgname>
<role>03</role>
<address>
<country>DK</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Phillips</last-name>
<first-name>Hassan</first-name>
<department>2467</department>
</primary-examiner>
<assistant-examiner>
<last-name>Cattungal</last-name>
<first-name>Ajay</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method and system for determining an optimal route from a node to a given sink node in a network is described. Sink node periodically transmits routing information containing an indicator of recency. This indicator of recency is periodically updated. Routing information is received by a plurality of nodes in the network. Each node receiving routing information compares the indicator of recency contained in the routing information with an indicator of recency stored at the node to determine whether the received routing information is more recent than the stored routing information. An optimal route to the sink node is determined based on this comparison. Each node also periodically transmits routing information based on stored routing information to other nodes.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="187.37mm" wi="130.73mm" file="US08625424-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="186.69mm" wi="151.64mm" orientation="landscape" file="US08625424-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="223.10mm" wi="134.70mm" file="US08625424-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="205.57mm" wi="153.59mm" orientation="landscape" file="US08625424-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="211.24mm" wi="143.68mm" orientation="landscape" file="US08625424-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="199.31mm" wi="106.26mm" file="US08625424-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="210.23mm" wi="155.62mm" orientation="landscape" file="US08625424-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="210.23mm" wi="148.93mm" orientation="landscape" file="US08625424-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="211.24mm" wi="152.91mm" orientation="landscape" file="US08625424-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="181.10mm" wi="144.02mm" orientation="landscape" file="US08625424-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="207.26mm" wi="154.94mm" orientation="landscape" file="US08625424-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="172.47mm" wi="149.94mm" orientation="landscape" file="US08625424-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="216.15mm" wi="134.96mm" file="US08625424-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="219.71mm" wi="138.60mm" file="US08625424-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="151.05mm" wi="131.40mm" orientation="landscape" file="US08625424-20140107-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="221.49mm" wi="152.32mm" orientation="landscape" file="US08625424-20140107-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="220.47mm" wi="168.83mm" orientation="landscape" file="US08625424-20140107-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="201.51mm" wi="166.12mm" orientation="landscape" file="US08625424-20140107-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="185.42mm" wi="139.36mm" file="US08625424-20140107-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="183.05mm" wi="151.30mm" orientation="landscape" file="US08625424-20140107-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="205.57mm" wi="162.90mm" file="US08625424-20140107-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD</heading>
<p id="p-0002" num="0001">The embodiments described herein relate to a method and system for routing information in a network.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">Routing protocols define how routers disseminate information to other routers in order for any router to determine a route from itself to a number of destinations, or sinks in a network. When a node sends a message to a destination node, the message typically traverses a route from the node to the destination node through one or more intermediary nodes. Each intermediary node typically keeps a table containing: (a) destination nodes and (b) the neighboring node to which the intermediary node should send the message if the intermediary node receives a message destined for the destination node.</p>
<p id="p-0004" num="0003">To determine what the next neighboring node should be, some traditional routing protocols require each node to keep track of the topology of the network, and/or some sort of metric as to the quality of a route through the neighboring node (e.g., the number of hops to the destination node, link quality, etc.)</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0005" num="0004">The embodiments described herein provide in one aspect, a method for determining the optimal route between a node and a sink node, the method comprising: sending routing information from a sink node at a periodic interval, the routing information comprising an indicator of recency and allowing identification of the sink node; sending routing information from each of a plurality of nodes at a periodic interval, the routing information being based on stored routing information at each of the plurality of nodes; repeatedly receiving routing information at any node able to receive routing information; determining at each node receiving routing information whether the received routing information is more recent than stored routing information at the node; and if the received routing information at a node is more recent than the stored routing information, storing the received routing information at the node.</p>
<p id="p-0006" num="0005">The routing information stored at each node is used to indicate an optimal route to one or more sink nodes of the network.</p>
<p id="p-0007" num="0006">The embodiments described herein provide in another aspect, a system for establishing a route in a network, the system comprising: a plurality of nodes, each node comprising: a node memory; and a node processor, the node processor configured to: send routing information at a periodic interval, the routing information being based on information stored in the node memory; receive routing information; determine whether the received routing information is more recent than the stored routing information at the node; and if the received routing information is more recent than stored routing information, to store the received routing information in the node memory; wherein at least one of the nodes is a sink node, the processor of the sink node further configured to: send routing information at a periodic interval, the routing information comprising an indicator of recency and allowing identification of the sink node.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0008" num="0007">For a better understanding of the embodiments described herein and to show more clearly how they may be carried into effect, reference will now be made, by way of example only, to the accompanying drawings which show at least one exemplary embodiment, and in which:</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic illustration of an example network topology layout;</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 2</figref> is a flowchart that illustrates the steps of a method for determining a route in a network;</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 3A</figref> is a schematic diagram illustrating the sequential flow of routing information containing race numbers from a sink node to non-sink nodes in an example network topology;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 3B</figref> is a schematic diagram illustrating the sequential flow of routing information containing race numbers from a sink node to non-sink nodes, one periodic interval after the state shown in <figref idref="DRAWINGS">FIG. 3A</figref>;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3C</figref> illustrates an example routing table that contains routing information stored at a non-sink node;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 3D</figref> is a schematic diagram illustrating the sequential flow of routing information containing race numbers from a sink node to non-sink node when a new and faster route is available, in an example network topology;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 4A</figref> is a schematic diagram illustrating the sequential flow of routing information containing race numbers from a sink node to a non-sink node in an example network topology wherein links between neighbor nodes occasionally fail;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 4B</figref> is a schematic diagram illustrating the sequential flow of routing information containing race numbers from a sink node to a non-sink node in an example network topology wherein the neighboring node of a failed link has updated its route;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 5A</figref> is a schematic diagram illustrating the sequential flow of race numbers from the perspective of one example sink node having a race number value range of 0 to 3;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 5B</figref> is a schematic diagram illustrating the sequential flow of routing information containing race numbers from a sink node to non-sink nodes in an example network wherein one non-sink node is receiving routing information from its neighboring nodes that will cause an ambiguity in race numbers;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 5C</figref> is a schematic diagram illustrating the sequential flow of race numbers from the perspective of one example non-sink node, showing ambiguities in the race numbers contained in routing information it is receiving from neighboring nodes;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 6A</figref> is a schematic diagram illustrating the propagation of race numbers contained in routing information over a network comprising 4 nodes.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 6B</figref> is a schematic diagram illustrating the propagation of race numbers contained in routing information over a network comprising 5 nodes.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 7</figref> is a schematic diagram illustrating the repetition of race numbers from the perspective of one sink node in an exemplary embodiment;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 8</figref> is a schematic diagram of the timing and flow of routing information through a network topology in which the nodes are not synchronized;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 9</figref> is a table illustrating results from a binominal distribution calculation for determining the probability of wait times for routes of varying lengths;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 10</figref> is a schematic diagram illustrating the repetition of race numbers in an embodiment with 1-bit race numbers in an example network topology;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 11A</figref> is a schematic diagram showing example aggregated routing information for transmission;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 11B</figref> illustrates a schematic diagram of a network topology where sink nodes are grouped; and</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 11C</figref> illustrates sequentially grouped route messages.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0029" num="0028">It will be appreciated that numerous specific details are set forth in order to provide a thorough understanding of the exemplary embodiments described herein. However, it will be understood by those of ordinary skill in the art that the embodiments described herein may be practiced without these specific details. In other instances, well-known methods, procedures and components have not been described in detail so as not to obscure the embodiments described herein. Furthermore, this description is not to be considered as limiting the scope of the embodiments described herein in any way, but rather as merely describing the implementation of the various embodiments described herein.</p>
<p id="p-0030" num="0029">The embodiments of the systems and methods described herein may be implemented in hardware or software, or a combination of both. However, preferably, these embodiments are implemented in computer programs executable on programmable computers each comprising at least one processor, a data storage system (including volatile and non-volatile memory and/or storage elements) and units for sending and receiving routing information and data over a network. For example and without limitation, the programmable computers may be any device containing one or more computational devices in the form of a microprocessor or a microcontroller, a personal computer, laptop, personal data assistant, and cellular telephone. In some embodiments, the computers can include dedicated sensor units, which will be described in further detail below.</p>
<p id="p-0031" num="0030">Referring to <figref idref="DRAWINGS">FIG. 1</figref>, therein illustrated is an example network layout. In the example embodiment, the network layout may be for that of a sensor network, shown generally as <b>100</b>. There may be one or more sink nodes <b>102</b> and one or more sensor nodes <b>104</b>. Each sink node <b>102</b> may be operable to receive data sent from the sensor nodes <b>104</b>. The data sent from a given sensor node <b>104</b> may be routed through one or more other sensor nodes <b>104</b> or even a sink node <b>102</b>. It will be understood that sensor nodes <b>104</b> may act as data gathering nodes that gather data, in addition to acting as &#x201c;routing&#x201d; nodes. Data gathering is presented as an example only. The nodes of the network may perform any other function in addition to performing the essential task of acting as a &#x201c;routing&#x201d; node and routing data. It will be understood that sink nodes also perform the task of routing data.</p>
<p id="p-0032" num="0031">It will be understood that although the described embodiments are being described with respect to sensor networks, the embodiments may also be applicable to non-sensor network topologies. For example, the embodiments may be applicable to data routed through routers used for the Internet or other suitably connected devices for routing information communicated between sink nodes.</p>
<p id="p-0033" num="0032">In some embodiments, a sink node <b>102</b> may have more processing power and, larger capacity than non-sink nodes <b>104</b>. Sink nodes may also be operatively connected to other devices through a physical network, or through a wireless network, or by other connections through which the messages received from the non-sink nodes <b>104</b> may be relayed. In one embodiment, a sink node <b>102</b> may alternatively contain larger storage facilities to store data received from non-sink nodes <b>104</b> to only periodically relay the data collected from the non-sink nodes <b>104</b> to devices or media unrelated to the sensor network as such. Such relaying may be performed through a periodic connection to a network, and/or through a physical downloading of data through periodic physical maintenance.</p>
<p id="p-0034" num="0033">Each node in the network may be operable to gather data from physical environments in which they are placed. For example, nodes may be deployed in a physical environment such as a forest for collecting environmental data regarding meteorological phenomenon such as precipitation. Nodes may typically contain transceivers for transmitting the contents of such data to the sink nodes <b>102</b>, and for routing information destined for sink nodes <b>102</b> from other non-sink nodes <b>104</b>, or even from sink nodes <b>102</b>.</p>
<p id="p-0035" num="0034">Non-sink nodes <b>104</b> typically have limited computing resources both in terms of processing power and the amount of memory. Moreover, any node will typically have to meet harsh low power requirements because of limits in terms of its power source, which could include, but would not be limited to electrical power from chemical reactions, solar cells, capacitive electrical storage, piezo electric power, power generated by magnetic inductance and combinations thereof.</p>
<p id="p-0036" num="0035">Any node may be deployed in a way, or located under circumstances, that may inconvenience the upgrade, replacement or replenishment of any parts or resources used during the operation, or consumed by the operation of the node. For example, they may be embedded into buildings behind cement walls, or be deployed randomly in a forest in such a manner that they are difficult to physically locate. Accordingly, it is advantageous for nodes to employ a method of routing information that requires minimal computational (processing and memory) and power resources. Such objectives may be achieved by reducing the amount of data required for the computation of routes and thereby reducing the amount of data that is stored at each node for the routing protocol, and/or by reducing the size of the routing information so that the transceiver may be in operation for a reduced period of time (i.e., having the effect of minimizing power requirements). In addition, in various embodiments described herein, such objectives are further achieved by not using routing protocols with a larger-than-linear computational complexity.</p>
<p id="p-0037" num="0036">Referring back to <figref idref="DRAWINGS">FIG. 1</figref>, a line joining two nodes denotes a connection or link <b>101</b> between two neighbor nodes. In some embodiments two neighbor nodes may be wired together. In other embodiments, in a wireless network, neighbor nodes are nodes that are located within range of each other, such that each neighbor node is able to receive data transmitted from the other neighbor nodes.</p>
<p id="p-0038" num="0037">The interconnection of nodes causes some nodes to have a choice of multiple routes when attempting to transmit data to a given sink node. Referring back to <figref idref="DRAWINGS">FIG. 1</figref>, for example, non-sink node <b>106</b> has three neighbor nodes with which it can send and receive data. Two of these neighbor nodes are along routes that lead to the sink node <b>102</b>. The third neighbor node is non-sink node <b>108</b>, which is only connected to the sink node <b>102</b> through node <b>106</b>. It will be appreciated that non-sink node <b>108</b> is the worst choice for routing data from node <b>106</b> to the sink node. One of the other neighbor nodes is located along a route to the sink node consisting of four non-sink nodes. The third neighbor node is located on a route consisting of two non-sink nodes. Normally, the shortest route is the fastest route. However, it will be understood by those of ordinary skill in the art that the route containing the lowest number of non-sink nodes is not necessarily always the fastest route. For example, a link along the route consisting of two sink nodes may fail from time to time to the effect that it sometimes is faster to route data through the longer route. Therefore, evaluating the speed of a route simply by evaluating the number of nodes along a route may not always be adequate. It is the object of the present invention to describe a method for a node to determine a fastest route from the node to a given sink node in a network, especially one in which the network topology may change dynamically.</p>
<p id="p-0039" num="0038">Referring now to <figref idref="DRAWINGS">FIG. 2</figref>, a flowchart illustrates the steps of the method <b>20</b> of the present invention for determining a route in a network. At step <b>21</b>, each sink node <b>102</b> sends routing information at a periodic interval. This routing information will be used by nodes to determine the fastest route from the node to the sink node. In one embodiment, the routing information is broadcast to all neighbor nodes. The routing information may include a sink node identifier to identify the sink node. When a sink node identifier is not included, the routing information is structured in a way that allows for the identification of the sink node. The routing information additionally includes an indicator of recency. This indicator is used by the nodes when comparing received routing information to stored routing information, to determine whether received routing information is more recent than the stored routing information. In one embodiment, this indicator is a race number. This indicator of recency may also be implemented in other ways, such as a time stamp.</p>
<p id="p-0040" num="0039">At step <b>23</b>, each sink node updates the routing information it sends at each subsequent periodic interval by changing the indicator of recency contained in the routing information. This update is made to indicate that the routing information sent in one period is more recent than routing information sent in previous periods.</p>
<p id="p-0041" num="0040">At step <b>25</b>, each node sends routing information at a periodic interval. In one embodiment, the routing information is broadcast to all neighbor nodes. Therefore while each sink node is sending routing information at a periodic interval, each other node of the network, including each other sink node, is also sending its own routing information at a periodic interval. Routing information sent by a node is based on stored routing information stored at the node at the moment the routing information is sent. This routing information may comprise one or more sink node identifiers to identify one or more sink nodes and one or more indicators of recency, each indicator corresponding to a sink node identified in the routing information. Where sink node identifiers are not included, the routing information is structured in a way that allows for the identification of each sink node.</p>
<p id="p-0042" num="0041">Since sink nodes also route data, each sink node also performs step <b>25</b> wherein routing information is sent at a periodic interval, and wherein the routing information sent is based on stored routing information stored at the sink node at the moment routing information is sent. Likewise, this routing information may comprise one or more sink node identifiers to identify one or more sink nodes and one or more indicators of recency, each indicator corresponding to a sink node identified in the routing information. Furthermore, where sink node identifiers are not included, the routing information is structured in a way that allows for the identification of each sink node. The sending of routing information at this step <b>25</b> may include the sending of routing information of step <b>21</b>.</p>
<p id="p-0043" num="0042">Whereas each non-sink node always sends routing information that is the same as its stored routing information, each sink node is different in that it updates the routing information by changing the indicator of recency corresponding to itself at the step <b>23</b> before sending routing information at step <b>25</b>. It will be understood that each sink node sends routing information corresponding to other sink nodes based on its stored routing information.</p>
<p id="p-0044" num="0043">Each node receiving routing information must be able to identify the neighbor node that sent the routing information. Knowing the identity of this neighbor node becomes important when each node has to route data at a future time. Identification and addressing of the neighbor node may be done by a plurality of means. For example, a neighbor node may be identified using a unique serial number assigned to each node by the manufacturer of the node. Node identifiers may also be assigned by other means known in the art. The node identifier used in any practical method of identifying a neighbor node is herein referred to as a &#x201c;node ID&#x201d;.</p>
<p id="p-0045" num="0044">At step <b>27</b>, routing information sent by a node at step <b>25</b> is received by neighbor nodes of the sending node. A node receives one transmission of routing information from each neighbor node per periodic interval. Where a node has a plurality of neighbor nodes, the node will repeatedly receive routing information from the neighbor nodes within about one periodic interval.</p>
<p id="p-0046" num="0045">At step <b>28</b>, each node receiving routing information compares the indicator of recency contained in the received routing information against the indicator of recency corresponding to the given sink node contained in the stored routing information that each node has stored, in order to determine whether the received routing information is more recent than the stored routing information. As described below, this comparison of indicators of recency and storing of received routing information is the process by which the node determines a fastest route to a given sink node.</p>
<p id="p-0047" num="0046">At step <b>29</b>, if the routing information received at the node is more recent than the stored routing information corresponding to a given sink node, then the node replaces its stored routing information with the received routing information.</p>
<p id="p-0048" num="0047">As discussed above, each node stores routing information. This stored routing information comprises one or more sink node identifiers and one or more indicators of recency. Each indicator of recency corresponds to one sink node identifier that the node has stored and indicates the recency of the routing information stored for that sink node. Additionally, the stored routing information comprises one or more neighbor node IDs. Each sink node identifier is mapped to one neighbor node ID stored at the node.</p>
<p id="p-0049" num="0048">When a node wishes to route data to a given sink node, it finds the sink node identifier for that sink node and the corresponding neighbor node ID to which the given sink node is mapped. The node then routes data to the neighbor node with this node ID.</p>
<p id="p-0050" num="0049">It will be understood that when a node receives routing information that it determines to be more recent, it stores this received routing information without modifying it. Furthermore, when the node sends routing information based on this stored routing information, it does not modify the stored routing information in its transmission of routing information. Therefore, even if routing information sent by a sink node at step <b>21</b> may have been received and re-sent by several other nodes, the routing information will still include the same indicator of recency as was originally included in the routing information sent from the sink node.</p>
<p id="p-0051" num="0050">The nodes of the network are configured to have periodic intervals of approximately equal durations. Nodes preferably do not send routing information at the same time because two or more neighbor nodes simultaneously sending routing information may cause a collision. Several methods exist to solve this problem. For example, if the interval of time that the transmission of routing information occupies is short in comparison to the period with which the transmissions recur, a solution in this case can be for each node to choose a random start time for the periodic interval, as collisions will then happen infrequently. For the purposes of this description of the present invention, it is assumed that a media access protocol is chosen such that collisions occur infrequently and can thus be ignored. It is further assumed that each node transmits routing information at different times from its neighbors.</p>
<p id="p-0052" num="0051">Since nodes send routing information at different times, a node receiving routing information from a first node must wait until the arrival of its next periodic interval before sending routing information to neighbor nodes. The time waited at each node is herein referred to as a &#x201c;node wait time&#x201d;.</p>
<p id="p-0053" num="0052">The lower limit of the duration of this node wait time will approximate 0 units of time (where the non-sink node receives routing information immediately before the arrival of its periodic interval such that it sends routing information almost instantaneously after receiving the routing information). The upper limit will approximate p, where p is the duration of a full period between two transmissions of routing information (where the non-sink node receives routing information immediately after having sent routing information such that it must wait a full period before sending more routing information). In some embodiments the start time of the periods are chosen at random, and can in these cases, and for the purpose of analysis, be seen as stochastic events. For the purpose of further treatment node wait times at each node are considered as having a duration of the average node wait time,</p>
<p id="p-0054" num="0053">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mn>1</mn>
    <mn>2</mn>
  </mfrac>
  <mo>&#x2062;</mo>
  <mrow>
    <mi>p</mi>
    <mo>.</mo>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0055" num="0054">It will be further appreciated that along a route comprising n links, the time that will pass between the time a sink node first sends routing information with a specific indicator of recency and the time the node furthest away from the sink node along the route receives routing information containing this same indicator of recency is given by:</p>
<p id="p-0056" num="0055">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>t</mi>
          <mi>tr</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mn>2</mn>
          </mfrac>
          <mo>&#x2062;</mo>
          <mi>np</mi>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mn>52.1</mn>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where t<sub>tr </sub>is herein referred to as the travel time.
</p>
<p id="p-0057" num="0056">It will then be appreciated that along a route made up of fewer nodes, routing information containing a specific indicator of recency will take less time to reach the furthest node when none of the links along that route fail. In the method where the sink node is updating routing information at a periodic interval, a node receiving routing information that is more recent than some other information will have received the more recent information over a faster route. Therefore, when a node stores the most recent routing information for a given sink node and the neighbor node ID from which this routing information was transmitted, that node is storing the ID of the neighbor node that represents the fastest route to that given sink node. When the node wants to route data to this sink node, the node will route data to the neighbor node having the ID contained in this stored routing information.</p>
<p id="p-0058" num="0057">Furthermore, when the network topology changes, for example, when links fail, for instance due to changing RF conditions, due to nodes failing or due to the movement of mobile nodes, a node may cease receiving routing information that is more recent from its neighbor node along a first route. Instead, the node will receive routing information that is more recent from nodes along another route. This other route may contain more nodes than the first route, but may be a faster route due to failed links on the first route. By receiving routing information from the nodes along the alternative path, and storing this routing information along with the neighbor node ID, the node is effectively updating its stored routing information to reflect the change in the network. As will be understood by those skilled in the art, the dynamic nature of the route selection is particularly well suited to mobile networks where, as nodes move about, conditions change and new routes are formed while old routes may disappear. The dynamic nature of the route selection continually allows the fastest route to be selected.</p>
<p id="p-0059" num="0058">Referring to <figref idref="DRAWINGS">FIG. 3A</figref>, therein illustrated is a schematic diagram of an example operation of the routing protocol. The network <b>200</b> of <figref idref="DRAWINGS">FIG. 3A</figref> has a ring topology containing one sink node <b>202</b> and eight non-sink nodes <b>204</b><i>a</i>, <b>204</b><i>b</i>, <b>204</b><i>c</i>, <b>204</b><i>d</i>, <b>204</b><i>e</i>, <b>204</b><i>f</i>, <b>204</b><i>g</i>, and <b>204</b><i>h </i>(i.e., nodes A, B, C, D, E, F, G, and H, respectively.) Since this network has a ring topology, each node only has two neighbors. For example, sink node <b>202</b> has non-sink nodes <b>204</b><i>a </i>and <b>204</b><i>h </i>as neighbors. It will be understood that the ring topology is for example purposes and any suitable number of sink nodes, non-sink nodes and network topology may be employed to practice the described embodiment. Particularly, it will also be understood that all nodes may be mobile and that network topologies may change frequently.</p>
<p id="p-0060" num="0059">The sink node <b>202</b> of the network of <figref idref="DRAWINGS">FIG. 3A</figref> sends routing information in which race numbers, defined below, are being used as indicators of the recency of the routing information. The sink node <b>202</b> is incrementing race numbers at each periodic interval. Therefore routing information containing a greater race number is considered to be more recent than routing information containing a lesser race number.</p>
<p id="p-0061" num="0060">Each node of the network <b>200</b> sends routing information at a periodic interval. This is illustrated by the arrows pointing outwardly from the sink node <b>202</b> and each non-sink node <b>204</b>. Since in a ring topology such as the one of network <b>200</b>, each node has only two neighbor nodes, routing information is sent to only these two neighbor nodes. Each node also receives routing information from its two neighbor nodes. This is illustrated by the two arrows point inwardly towards each node.</p>
<p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. 3A</figref> shows the race numbers <b>212</b> contained in routing information being sent from each node and the race numbers (<b>212</b><i>a </i>through <b>212</b><i>h </i>respectively) stored by the non-sink nodes in one period. The race numbers are shown at a stage where they are being transmitted between nodes, but have not yet been compared to the race number contained in stored routing information stored at each node. Race number <b>212</b> having the value &#x201c;4&#x201d; indicates that routing information being sent from sink node <b>202</b> to neighbor non-sink nodes <b>204</b><i>a </i>and <b>204</b><i>h </i>contains a race number having the value &#x201c;4&#x201d;. Non-sink nodes <b>204</b><i>a </i>and <b>204</b><i>h </i>each have stored routing information having race numbers <b>212</b><i>a </i>and <b>212</b><i>h </i>with the value &#x201c;3&#x201d;. This is the race number contained in routing information sent by the sink node in a previous period. As non-sink nodes <b>204</b><i>a </i>and <b>204</b><i>h </i>receive the most recent routing information from sink node <b>202</b>, each node will determine that the received routing information is more recent than the stored routing information. As a result, each node <b>204</b><i>a </i>and <b>204</b><i>h </i>will update their respective stored routing information so that the race number stored has the value &#x201c;4&#x201d;.</p>
<p id="p-0063" num="0062">A node receiving routing information compares the race number <b>212</b> included in the received routing information against the race number included in the stored routing information to determine whether the received routing information is more recent than the stored routing information. If the received routing information is more recent, the non-sink node <b>204</b> updates its race number of the stored routing information with race number <b>212</b> of the received routing information.</p>
<p id="p-0064" num="0063">Non-sink nodes that are not neighbors to the sink node <b>202</b> have smaller race number values (<b>212</b><i>b</i>, <b>212</b><i>c</i>, <b>212</b><i>d</i>, <b>212</b><i>e</i>, <b>212</b><i>f</i>, <b>212</b><i>g</i>), which indicate that the routing information stored by these nodes are not as recent. It will be appreciated that a non-sink node located along a longer route from the sink node <b>202</b>, a route which has more neighbor nodes between it and the sink node, stores a lesser race number indicating that the routing information stored at the node is less recent. For example, non-sink node <b>204</b><i>d</i>, which is located along the longest routes from sink node <b>202</b> has the least race number <b>212</b><i>d </i>stored.</p>
<p id="p-0065" num="0064">Referring now to <figref idref="DRAWINGS">FIG. 3B</figref>, the network <b>200</b> is illustrated at a later periodic interval. Sink node <b>202</b> has updated the routing information by incrementing by one the race number of this routing information. Each non-sink node has now received routing information from its neighbor nodes and stored the more recent routing information. Importantly, it will be appreciated that non-sink node <b>204</b><i>d </i>receives routing information from both non-sink nodes <b>204</b><i>c </i>and <b>204</b><i>e</i>. It will be further appreciated that non-sink node <b>204</b><i>c </i>represents the shorter, and in this case faster, route from non-sink node <b>204</b><i>d </i>to sink node <b>202</b>. Non-sink node <b>204</b><i>d </i>already has stored routing information containing a race number with the value &#x2018;2&#x2019;. When it receives routing information from non-sink node <b>204</b><i>e </i>containing a race number with the value &#x2018;2&#x2019;, it will determine that the received routing information is not more recent than the stored routing information and therefore will not store the received routing information. Therefore non-sink node <b>204</b><i>d </i>correctly maintains that the fastest route from it to the sink node <b>202</b> is through non-sink node <b>204</b><i>c. </i></p>
<p id="p-0066" num="0065">Referring briefly to <figref idref="DRAWINGS">FIG. 3C</figref>, therein illustrated is the stored routing information of a non-sink node. For illustrative purposes, the stored routing information <b>201</b> has been presented in a table. The routing information <b>201</b> contains a sink node identifier <b>210</b>, the race number <b>212</b><i>d </i>indicating the recency of the stored routing information corresponding to the sink node identified by the sink node identifier <b>210</b>, and a neighbor node identifier <b>214</b> indicating the node from which the stored routing information was received. The neighbor node identifier <b>214</b> may be a node ID or a node address. This routing table <b>201</b> maps a sink node identifier <b>210</b> to a neighbor node identifier <b>214</b>.</p>
<p id="p-0067" num="0066">In this example, the routing table of non-sink node <b>204</b><i>d </i>is shown. It contains stored routing information indicating that in order to reach sink node <b>202</b> with sink node identifier &#x2018;S<b>1</b>&#x2019; through the fastest route, the non-sink node should route data through neighbor node C. When non-sink node <b>204</b><i>d </i>receives routing information containing sink node identifier &#x2018;S<b>1</b>&#x2019; with a more recent indicator of recency, for example race number with value &#x2018;3&#x2019;, as in <figref idref="DRAWINGS">FIG. 3B</figref>, non-sink node <b>204</b><i>d </i>stores the received routing information along with the neighbor node identifier from which the routing information was received, thereby overwriting previously stored routing information. In the example shown in <figref idref="DRAWINGS">FIG. 3B</figref>, the most recent routing information received by non-sink node <b>204</b><i>d </i>is still from non-sink node <b>204</b><i>c</i>. Therefore, subsequent to receiving routing information containing race numbers from nodes <b>204</b><i>c </i>and <b>204</b><i>e</i>, as illustrated in <figref idref="DRAWINGS">FIG. 3B</figref>, and comparing the race numbers received with the race number contained in the stored routing information, non-sink node <b>204</b><i>d </i>maintains the &#x2018;C&#x2019; as the neighbor node identifier entry, but updates its stored routing information with a new race number entry. It will be appreciated that a neighbor node may store routing information for more than one sink node in a network comprising a plurality of sink nodes. For example, non-sink node <b>204</b><i>d </i>may have additional entries for sink nodes with the IDs &#x2018;S<b>2</b>&#x2019;, &#x2018;S<b>3</b>&#x2019; and so on.</p>
<p id="p-0068" num="0067">Reference is now made to <figref idref="DRAWINGS">FIG. 3D</figref>, which shows the network of <figref idref="DRAWINGS">FIGS. 3A and 3B</figref> with a new link connecting sink node <b>202</b> to non-sink node <b>204</b><i>e</i>. This new link may be created if, for example, non-sink node <b>204</b><i>e </i>is a mobile node and has moved to come within range of sink node <b>202</b> while still being in range of neighbor non-sink nodes <b>204</b><i>f </i>and <b>204</b><i>d</i>. In this example, before receiving more recent routing information from non-sink node <b>204</b><i>e</i>, non-sink node <b>204</b><i>f </i>had stored routing information containing a race number having the value &#x2018;2&#x2019;, which was received from non-sink node <b>204</b><i>g</i>. The stored routing information of non-sink node <b>204</b><i>f </i>indicated that the fastest route to sink node <b>202</b> was through neighbor non-sink node <b>204</b><i>g</i>. When non-sink node <b>204</b><i>f </i>receives routing information containing a race number having the value &#x2018;3&#x2019; from non-sink node <b>204</b><i>e</i>, it will determine that this routing information is more recent. By storing this received routing information along with neighbor node identifier &#x2018;E&#x2019;, non-sink node <b>204</b><i>f </i>has effectively discovered the new faster route through non-sink node <b>204</b><i>e </i>to sink node <b>202</b>.</p>
<p id="p-0069" num="0068">The example in <figref idref="DRAWINGS">FIG. 3D</figref> demonstrates how the steps of the method for determining a route in a network may be applied in a dynamically changing network. In one situation, a link between two neighbor nodes may fail temporarily such that one node cannot receive transmissions sent from the other node for some duration of time. Such failures may occur due to intermittent increases in RF noise or network congestion. A node may also be disconnected temporarily for maintenance before being reconnected. In a network containing mobile nodes, a node may for example move out of range of some neighbor nodes, and then move back within range. Instead of detecting a failure, a node relies on receiving more recent routing information from one of its other neighbor nodes in order to discover faster routes to a given sink node. Therefore, by performing the same steps of the method described above, a non-sink node can overcome the problem of a failure in a link between two neighbor nodes.</p>
<p id="p-0070" num="0069">Reference is now made to <figref idref="DRAWINGS">FIG. 4A</figref>, which illustrates a similar topology to that of <figref idref="DRAWINGS">FIG. 3A</figref> and generally indicated as <b>320</b>. <figref idref="DRAWINGS">FIG. 4A</figref> illustrates the case where there is a failure in the link between sink node <b>202</b> and non-sink node <b>204</b><i>a</i>. The failure has occurred right after node <b>204</b><i>a </i>receives from sink node <b>202</b> routing information containing a race number with the value of &#x2018;1&#x2019;. As can be seen from <figref idref="DRAWINGS">FIG. 4A</figref>, each of the non-sink nodes <b>204</b><i>h</i>, <b>204</b><i>g</i>, <b>204</b><i>f</i>, and <b>204</b><i>e </i>(with neighbor node IDs &#x2018;H&#x2019;, &#x2018;G&#x2019;, &#x2018;F&#x2019;, and &#x2018;E&#x2019;, respectively) continue to transmit routing information containing race numbers such that more recent routing information are propagated along the route formed by those nodes to non-sink node <b>204</b><i>d</i>. Since non-sink node <b>204</b><i>a </i>is not receiving any routing information from sink node <b>202</b> and the routing information sent from non-sink node <b>204</b><i>b </i>is not more recent, the routing information that non-sink node <b>204</b><i>a </i>sends at a periodic interval will continue to be based on its stored routing information. This stored routing information is identical to routing information last received from sink node <b>202</b> before the link to sink node <b>202</b> failed. Therefore, this stored routing information still indicates sink node <b>202</b> as the neighbor with the fastest route and contains a race number <b>212</b><i>a </i>with the value of &#x2018;1&#x2019;.</p>
<p id="p-0071" num="0070">It will be appreciated that because of the failure of the link between sink node <b>202</b> and non-sink node <b>204</b><i>a</i>, the fastest route from non-sink node <b>204</b><i>d </i>to sink node <b>202</b> is now through non-sink node <b>204</b><i>e</i>. It will be further appreciated that when non-sink node. <b>204</b><i>d </i>receives routing information from non-sink node <b>204</b><i>e </i>containing the race number with value &#x2018;2&#x2019;, it will determine this received routing information to be more recent than stored routing information. Non-sink node <b>204</b><i>d </i>will then store this received routing information along With a neighbor node identifier to indicate that neighbor non-sink node <b>204</b><i>e </i>represents the fastest route to the sink node <b>202</b>. As a result, non-sink node <b>204</b><i>d </i>has properly updated its stored route information to reflect the change in network topology caused by the failed link.</p>
<p id="p-0072" num="0071">Reference is now made to <figref idref="DRAWINGS">FIG. 4B</figref> in which two more periodic intervals have passed and no other links have failed. Non-sink node <b>204</b><i>a </i>has received more recent routing information containing a race number with the value &#x2018;2&#x2019; from neighbor non-sink node <b>204</b><i>b</i>. It now stores routing information with this race number and indicates that neighbor node <b>204</b><i>b </i>represents the fastest node. Therefore, it has correctly updated its stored routing information in response to the failed link between the sink node <b>202</b> and non-sink node <b>204</b><i>a</i>. In the case of <figref idref="DRAWINGS">FIGS. 4A and 4B</figref>, if the failed link from sink node <b>202</b> to non-sink node <b>204</b><i>a </i>is reestablished after a few more periods, then the routing information from sink node <b>202</b> that is more recent will be received by non-sink node <b>204</b><i>a</i>. As a result, non-sink node <b>204</b><i>a </i>will store this routing information to reflect the reestablished path. As this routing information is propagated to other nodes of the network, these nodes will again update their stored routing information in response to the reestablished link.</p>
<p id="p-0073" num="0072">In addition, as mentioned above, in various embodiments, the selection of a route comprises a dynamic process and accordingly the selected route may continually change in response to changes in route conditions. For example, if there are two routes and the first route usually is congested while the second route is less congested, the selected route may switch back and forth between the two routes as conditions, such as the congestion of the first route, change.</p>
<p id="p-0074" num="0073">Congestion along a route may occur for example when many mobile nodes are located within the same range of each other such that each node has many neighbors. In order to throttle the data being transmitted among neighbor nodes, the nodes may be configured to reduce the amount of data it transmits when there is congestion. For example, due to congestion, a node may only send routing information every few periodic intervals rather than every periodic interval. It will be appreciated that this will affect how often more recent routing information is sent by that node. Furthermore, in some embodiments, where congestion reaches a certain threshold, a node may cease transmitting data entirely. It will be appreciated that this case produces the same practical effects as when a link has failed, in that neighbor nodes will not receive any routing information at all from that node.</p>
<p id="p-0075" num="0074">When the first route is not congested, which may occur, for example, 10% of the time, routing information reach the node in question more quickly through the first route than through the second route. The other 90% of the time, as a result of the congestion of the first route, the second route more quickly provides routing information to the node in question. Consequently, the route selected by the node may continually switch back and forth between the two routes depending on conditions and the selected route may be the first route 10% of the time and the second route the remaining 90% of the time.</p>
<p id="p-0076" num="0075">In a dynamically changing network, sink nodes must update the recency indicator in their routing information typically every period before the routing information is sent. In the case where the indicator of recency is a race number, the size of the race number will always be limited by number of bits allocated for representing the race number within a transmission of routing information. In a network comprising many sink nodes, the need to send routing information from each node containing many race numbers corresponding to each sink node can lead to the need to send a significant amount of data at each periodic interval. Accordingly, in various embodiments, only a set of race numbers of limited size is used, with the set being made as small as possible. When updates to routing information have used all the race numbers in the set, the first number of the set is used again. Therefore, race numbers are said to be cyclical. In some embodiments, this is achieved by having race number values that are selected from a subset of the integers.</p>
<p id="p-0077" num="0076">In some embodiments, as illustrated in <figref idref="DRAWINGS">FIG. 5A</figref>, the set consists of an ordered series of race numbers with monotonically increasing values, where after reaching the greatest race number in the series, the sequence of race number cycles back to the least race number. However, it should be understood that the set of race numbers does not need to be a series of monotonically increasing numbers. For example, the routing protocol would operate in the same manner if the race numbers are monotonically decreasing or if the race numbers progress through a pre-determined sequence of numbers. The set of race numbers could comprise any unique elements as long as the nodes that receive the race numbers know the order of the race numbers in the series. It will be appreciated that the use of a limited set of race number values can significantly shorten the length of the transmitted data, and improve the efficiency of the method of the present invention. The length of transmitted data can be further shortened through the use of aggregated routing information, as discussed later. That is, routing information from multiple sinks can be sent as one aggregated routing message, allowing for the routing information to be compressed. In one embodiment, the routing information is compressed by omitting the sink node identifiers. Instead, the position of the race numbers in the aggregated routing message can be used to identify the sink node.</p>
<p id="p-0078" num="0077">Referring to <figref idref="DRAWINGS">FIG. 5A</figref>, therein illustrated is a schematic diagram illustrating a series of 2-bit race numbers being sent from a sink node <b>102</b>, over time, with a race number range of 0 to 3, more generally referred as <b>400</b>. In one embodiment, the race numbers may be monotonically increasing such that the race numbers repeatedly iterate from 0 to 3. It will be understood that although an exemplary 2-bit race number is discussed, the bit length of the race number may be modified to be shorter or longer. For example, in some embodiments, it may be an advantage to have an indication of uninitialized values i.e. an indication that the race number value is unknown or undefined. The total number of possible race number values can be an odd number, and, as will be shown later, an odd number of possible race number values is as efficient as an even number of possible race number values. Since a binary representation results in an even number of possible values, restricting the number of possible race number values to an odd number leaves one available value in the binary representation, which can then be used to represent the uninitialized value. As such, for the 2-bit race number example, the range of race numbers would be in the range 0 to 2, instead of 0 to 3.</p>
<p id="p-0079" num="0078">When the race numbers are cyclical, ambiguity may result when comparing two values of race numbers. For example, a race number appearing later in the series (e.g. a higher value number in the case of a monotonically increasing series) could either be a more recent race number or a less recent race number from a previous cycle. This ambiguity can cause a node to incorrectly assess that received routing information containing an earlier race number is more recent than stored routing information containing a later race number. Referring back to <figref idref="DRAWINGS">FIG. 5A</figref>, race numbers <b>412</b><i>a</i>, <b>412</b><i>b</i>, <b>412</b><i>c </i>have the values &#x2018;0&#x2019;, &#x2018;2&#x2019;, &#x2018;0&#x2019; respectively. A non-sink node that has stored routing information containing race number <b>412</b><i>b </i>with a value &#x2018;0&#x2019; will be unable to determine whether a race number having a value &#x2018;2&#x2019; contained in some received routing information is more recent (race number <b>412</b><i>c</i>) or less recent (race number <b>412</b><i>a</i>).</p>
<p id="p-0080" num="0079">Referring now to <figref idref="DRAWINGS">FIG. 5B</figref>, which illustrates a network with the same topology as the networks of <figref idref="DRAWINGS">FIGS. 3A and 4A</figref>. The link between node <b>202</b> and non-sink node <b>204</b><i>a </i>has just been reestablished after having failed for a significant duration of tune. Before the link being reestablished, non-sink node <b>204</b><i>a </i>received routing information sent from non-sink node <b>204</b><i>b</i>. Since non-sink node <b>204</b><i>a </i>determined this routing information to be more recent, it stores'routing information from non-sink node <b>204</b><i>b </i>to indicate that non-sink node <b>204</b><i>b </i>is the neighbor node representing the shortest path to node <b>202</b>. For example, it may receive routing information from non-sink node <b>204</b><i>b </i>with the race number <b>212</b><i>a </i>having the value &#x2018;2&#x2019;, which it stores. However, after the link between node <b>202</b> and non-sink node <b>204</b><i>a </i>is reestablished, non-sink node <b>204</b><i>a </i>will receive routing information from sink node <b>202</b> containing a race number <b>212</b> with the value &#x2018;0&#x2019;. It will be appreciated that in order for the non-sink node <b>204</b><i>a </i>to correctly determine that this last received routing information is more recent, it must have some way of distinguishing cyclical race numbers. For example, in this case, due to race numbers being cyclical, a race number with a lesser value may still indicate that the routing information is more recent than other routing information containing a race number with a greater value.</p>
<p id="p-0081" num="0080">Reference is now made to <figref idref="DRAWINGS">FIG. 5C</figref>, more generally referred to as <b>402</b>, which illustrates the series of race numbers used for <figref idref="DRAWINGS">FIG. 4B</figref>. The race number contained in the routing information received by non-sink node <b>204</b><i>a </i>from the sink node is indicated by reference indicia <b>420</b>. By simply determining the greater race number value as the more recent, non-sink node <b>204</b><i>a </i>is effectively misinterpreting the race number in the routing information received from non-sink node <b>204</b><i>b </i>as being the race number indicated by reference indicia <b>425</b> in <figref idref="DRAWINGS">FIG. 4B</figref>. However, the actual race number contained in the routing information received from non-sink node <b>204</b><i>b </i>is indicated by reference indicia <b>430</b> and, as can be seen, is actually an older race number than that received from the sink node. This error in interpreting the race number contained in received routing information is herein referred to as an ambiguity in race numbers.</p>
<p id="p-0082" num="0081">The ambiguity in race numbers illustrated above can be avoided by appropriately selecting the number of possible race number values based on the network topology. In general, given a particular network topology, if the set of race numbers is appropriately large, then the ambiguity can be avoided. The actual minimum size varies depending on the network topology. To ensure that ambiguities are avoided, the size of the set of race number values is selected such that when received routing information is compared with stored routing information, the maximum allowable numerical distance in the series of race numbers between the two race numbers of the compared routing information, does not exceed</p>
<p id="p-0083" num="0082">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>L</mi>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <mi>N</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
          <mn>2</mn>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mn>78.1</mn>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
assuming N is an odd number, and where N is the size of the set of race number values. If this condition is met, this will allow the most recent of the two race numbers thus compared to be determined.
</p>
<p id="p-0084" num="0083">For the example network <b>401</b> in <figref idref="DRAWINGS">FIG. 5B</figref>, the worst case occurs when the link between the sink node and a neighbor non-sink node fails. Non-sink node <b>204</b><i>a </i>is directly connected with a link to sink node <b>202</b>. When this link fails, non-sink node <b>204</b><i>a </i>will only receive routing information from neighbor node <b>204</b><i>b</i>. The propagation of routing information through the network will allow non-sink node <b>204</b><i>a </i>to receive more recent routing information from node <b>204</b><i>b </i>after some time. This will effectively update the stored routing information of node <b>204</b><i>a </i>to reflect the change in network topology caused by the failed link. If at any time afterwards, the failed link between non-sink node <b>204</b><i>a </i>and sink node <b>202</b> is re-established, node <b>204</b><i>a </i>will again receive routing information from both sink node <b>202</b> and non-sink node <b>204</b><i>b</i>. However, the routing information it receives from sink node <b>202</b> will be more recent than the routing information it receives from <b>204</b><i>b </i>since the latter has traveled over a much longer route and therefore was originally sent by sink node <b>202</b> several periods ago.</p>
<p id="p-0085" num="0084">It will be appreciated that there may be a large difference between the values of the two race numbers contained in routing information received by node <b>204</b><i>a </i>from sink node <b>202</b> and in routing information sent from non-sink node <b>204</b><i>b</i>. It will be further appreciated that the potential difference between the values is largest at node <b>204</b><i>a</i>, or node <b>204</b><i>h </i>because they are connected to the sink node over the longest possible route between any non-sink node and the sink node in the network.</p>
<p id="p-0086" num="0085">The difference in the race numbers contained in routing information received by non-sink <b>204</b><i>a </i>from its two neighbors gives rise to a potential miscalculation of the route to the sink for the two nodes. Indeed, this ambiguity can exist at any node where the values of the received race numbers are ambiguous, as described in paragraphs [0070]-[0072], but for the topology given in <figref idref="DRAWINGS">FIG. 5B</figref>, comparison of routing information received by node <b>204</b><i>a </i>from its two neighbors represents a worst-case. A similar worst-case exists for node <b>204</b><i>h</i>. In general, for any given network topology, if the set of race numbers is appropriately large, this ambiguity can be avoided.</p>
<p id="p-0087" num="0086">In most network topologies, a topology similar to the one shown in <figref idref="DRAWINGS">FIG. 5B</figref>, used previously in discussing ambiguities in race numbers, can be had as the longest chordless cycle of the topology. In analyzing the worst case for which ambiguities most readily arise, the longest chordless cycle is of interest because it is along the nodes in the longest chordless cycle that race numbers will potentially propagate over the largest number of links because any alternative route connecting the nodes which form the longest chordless cycle, will per definition have longer path lengths. It is thus the longest chordless cycle in the topology that shows the potential of ambiguities when comparing race numbers, and the worst case is exhibited when a link between a sink and its neighbor fails for some time before being reestablished, as exemplified previously with the ring topology. Note that the sink node does not necessarily have to be a node in the longest chordless cycle, for the described worst case scenario, but at least one node, part of the longest chordless cycle, has to provide the shortest route to the sink node of this analysis. In the following it is assumed that the sink node is part of the longest chordless cycle, for ease of description.</p>
<p id="p-0088" num="0087">In the case where the longest chordless cycle comprises h nodes (including the sink node), the largest potential difference in race number values contained in routing information received from neighbor nodes will occur, as stated above, at a non-sink node that is directly connected to the sink node. Referring again to <figref idref="DRAWINGS">FIG. 5B</figref> the sink node is node <b>202</b>. The non-sink node <b>204</b><i>h </i>has the sink node <b>202</b> as a first neighbor node. It also has a second neighbor node, which is a non-sink node connecting the first non-sink node to the sink node over the longest possible route. In the example network of <figref idref="DRAWINGS">FIG. 5B</figref>, the second neighbor node is node <b>204</b><i>g</i>. This second neighbor node is connected to the sink node over a route comprising h&#x2212;2 links. Along this route, the time for a race number to propagate through the nodes will on the average be t<sub>prop </sub>defined as:</p>
<p id="p-0089" num="0088">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>t</mi>
          <mi>prop</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <msub>
              <mi>t</mi>
              <mi>tr</mi>
            </msub>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>h</mi>
                <mo>-</mo>
                <mn>2</mn>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>=</mo>
          <mrow>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mrow>
                  <mfrac>
                    <mn>1</mn>
                    <mn>2</mn>
                  </mfrac>
                  <mo>&#x2062;</mo>
                  <mi>h</mi>
                </mrow>
                <mo>-</mo>
                <mn>1</mn>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mo>&#x2062;</mo>
            <mi>p</mi>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mn>83.1</mn>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
as per the definition of travel time of equation 52.1 taking into account an average node wait time
</p>
<p id="p-0090" num="0089">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mn>1</mn>
    <mn>2</mn>
  </mfrac>
  <mo>&#x2062;</mo>
  <mi>p</mi>
</mrow>
</math>
</maths>
<br/>
at each node. Since the sink node updates routing information at every periodic interval p, it will have carried out
</p>
<p id="p-0091" num="0090">
<maths id="MATH-US-00006" num="00006">
<math overflow="scroll">
<mrow>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <mn>2</mn>
    </mfrac>
    <mo>&#x2062;</mo>
    <mi>h</mi>
  </mrow>
  <mo>-</mo>
  <mn>1</mn>
</mrow>
</math>
</maths>
<br/>
updates in that time.
</p>
<p id="p-0092" num="0091">Reference is now made to <figref idref="DRAWINGS">FIGS. 6A and 6B</figref> simultaneously, illustrating two networks with ring topologies composed of 4 and 5 nodes respectively. These represent examples of networks having an even and an odd number of nodes, respectively. In both examples, an update of the race number at the sink node <b>602</b> to the value &#x2018;0&#x2019; is considered to occur at time t=0. The beginning of the period for sink node <b>602</b> is defined to start at an infinitesimal time after time t=0, at which time sink node <b>602</b> will transmit the routing information to node <b>604</b><i>a</i>. At t=0, the link directly connecting sink node <b>602</b> with node <b>604</b><i>h </i>is in a failed state.</p>
<p id="p-0093" num="0092">Referring now to <figref idref="DRAWINGS">FIG. 6A</figref> only, illustrating a network where h=4. In this network, node <b>604</b><i>h</i>'s second neighbor node is node <b>604</b><i>b</i>. The propagation time of routing information sent from sink node <b>602</b> to node <b>604</b><i>h </i>over the longest path containing node <b>604</b><i>b </i>is calculated using equation 83.1:</p>
<p id="p-0094" num="0093">
<maths id="MATH-US-00007" num="00007">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>t</mi>
    <mi>prop</mi>
  </msub>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mrow>
            <mfrac>
              <mn>1</mn>
              <mn>2</mn>
            </mfrac>
            <mo>&#x2062;</mo>
            <mn>4</mn>
          </mrow>
          <mo>-</mo>
          <mn>1</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
      <mo>&#x2062;</mo>
      <mi>p</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mn>1</mn>
      <mo>&#x2062;</mo>
      <mi>p</mi>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
Within this time interval 1p, sink node <b>602</b> will have undertaken 1 update of its race number. If the link directly connecting node <b>604</b><i>h </i>to sink node <b>602</b> is re-established at sometime within the interval t&#x3b5;[0 . . . p[, then node <b>604</b><i>h </i>will receive routing information containing race number &#x2018;1&#x2019; from node <b>602</b> and routing information containing race number &#x2018;0&#x2019; from node <b>604</b><i>b </i>in the interval t&#x3b5;[p . . . 1.5p[. Since 1 update occurred at sink node <b>602</b> within this interval, the result is a difference of 1 in the race number updates at the time node <b>604</b><i>h </i>compares race numbers from node <b>604</b><i>b </i>and from sink node <b>602</b>.
</p>
<p id="p-0095" num="0094">Referring now to <figref idref="DRAWINGS">FIG. 6B</figref> only, therein illustrated is a network where h=5. In this network, node <b>604</b><i>h</i>'s second neighbor node is node <b>604</b><i>c</i>. The propagation time of routing information sent from sink node <b>602</b> to node <b>604</b><i>h </i>over the longest path containing node <b>604</b><i>c </i>is calculated using equation 83.1:</p>
<p id="p-0096" num="0095">
<maths id="MATH-US-00008" num="00008">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>t</mi>
    <mi>prop</mi>
  </msub>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mrow>
            <mfrac>
              <mn>1</mn>
              <mn>2</mn>
            </mfrac>
            <mo>&#x2062;</mo>
            <mn>5</mn>
          </mrow>
          <mo>-</mo>
          <mn>1</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
      <mo>&#x2062;</mo>
      <mi>p</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mn>1.5</mn>
      <mo>&#x2062;</mo>
      <mi>p</mi>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
Within this interval, sink node <b>602</b> will have undertaken 1.5 update of its race number. If the link directly connecting node <b>604</b><i>h </i>to sink node <b>602</b> is reestablished at some time within the interval t&#x3b5;[0 . . . 1.5p[, then node <b>604</b><i>h </i>may receive routing information containing race number &#x2018;1&#x2019; from sink node <b>602</b> and routing information containing race number &#x2018;0&#x2019; from node <b>604</b><i>c </i>in the interval t&#x3b5;[1.5p . . . 2p[. However, since equation 52.1 is based on the assumption that the start times of the periods of the nodes are random, the result of 1.5 updates from equation 83.1, with h=5, gives an equal probability that either 1 or 2 updates of the race number may occur at the sink node within this same time interval. Accordingly, the difference may be of 1 or of 2 race number updates when node <b>604</b><i>h </i>compares race numbers received from node <b>604</b><i>c </i>and from sink node <b>602</b>.
</p>
<p id="p-0097" num="0096">Applying equation 83.1 to the topology of <figref idref="DRAWINGS">FIG. 5B</figref> where h=9, the result is that the sink completes</p>
<p id="p-0098" num="0097">
<maths id="MATH-US-00009" num="00009">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>t</mi>
    <mi>prop</mi>
  </msub>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mrow>
            <mfrac>
              <mn>1</mn>
              <mn>2</mn>
            </mfrac>
            <mo>&#x2062;</mo>
            <mn>9</mn>
          </mrow>
          <mo>-</mo>
          <mn>1</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
      <mo>&#x2062;</mo>
      <mi>p</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mn>3.5</mn>
      <mo>&#x2062;</mo>
      <mi>p</mi>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
updates in the time it takes routing information containing a specific race number to travel over the longest path from sink node <b>202</b> to non-sink node <b>204</b><i>h</i>. There is therefore an equal probability that either 3 or 4 updates of the race number may occur at the sink node within this time interval. Since the exact number of updates to occur within the time interval, a boundary condition exists when h is odd.
</p>
<p id="p-0099" num="0098">To avoid this boundary condition, for further analysis, the number of links h used in the topologies for these examples is assumed to be even. Therefore, for any t<sub>prop </sub>of equation 83.1, the number of updates of the race number at a sink node will always be a natural number given by</p>
<p id="p-0100" num="0099">
<maths id="MATH-US-00010" num="00010">
<math overflow="scroll">
<mrow>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <mn>2</mn>
    </mfrac>
    <mo>&#x2062;</mo>
    <mi>h</mi>
  </mrow>
  <mo>-</mo>
  <mn>1.</mn>
</mrow>
</math>
</maths>
<br/>
Furthermore, the numerical distance between the values of race numbers contained in routing information received by the first non-sink node from its two neighbor nodes is also
</p>
<p id="p-0101" num="0100">
<maths id="MATH-US-00011" num="00011">
<math overflow="scroll">
<mrow>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <mn>2</mn>
    </mfrac>
    <mo>&#x2062;</mo>
    <mi>h</mi>
  </mrow>
  <mo>-</mo>
  <mn>1.</mn>
</mrow>
</math>
</maths>
<br/>
Referring to equation 78.1, the maximum allowable numerical distance between two race numbers cannot exceed the constraint of this equation in order for the result of the comparison of the two race numbers to be unambiguous. Therefore, in order to ensure that there may not be any potential for ambiguity in the race numbers contained in routing information received from the neighbor node, L must satisfy the inequality:
</p>
<p id="p-0102" num="0101">
<maths id="MATH-US-00012" num="00012">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>L</mi>
        <mo>&#x2265;</mo>
        <mrow>
          <mrow>
            <mfrac>
              <mn>1</mn>
              <mn>2</mn>
            </mfrac>
            <mo>&#x2062;</mo>
            <mi>h</mi>
          </mrow>
          <mo>-</mo>
          <mn>1</mn>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mn>88.1</mn>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
when taking into account average node wait times of
</p>
<p id="p-0103" num="0102">
<maths id="MATH-US-00013" num="00013">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mn>1</mn>
    <mn>2</mn>
  </mfrac>
  <mo>&#x2062;</mo>
  <mrow>
    <mi>p</mi>
    <mo>.</mo>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0104" num="0103">When the size of the set of race numbers is appropriately selected as discussed above and is updated by incrementing by one, and wrapping around to &#x2018;0&#x2019; after &#x2018;N&#x2212;1&#x2019;, then the following algorithmic steps can be used to determine which race number is the most recent. The following example assumes two race numbers A and B (where A is the currently received race number and B is the stored race number), a maximum distinguishable distance in a sequence of numbers, L, as defined by equations 78.1 and 88.1 and race numbers belonging to [0 . . . N&#x2212;1], where N is an odd natural number.</p>
<p id="p-0105" num="0104">To determine which of two race numbers is more recent in a set of race numbers comprising a repeating sequence starting from &#x2018;0&#x2019; and incrementing to &#x2018;N&#x2212;1&#x2019;, the following steps may be carried out:
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0105">1. X=A&#x2212;B;</li>
        <li id="ul0002-0002" num="0106">2. If (A&#x3c;B), then X=X+N;</li>
        <li id="ul0002-0003" num="0107">3. If (X&#x3e;L), then race number B is more recent, else race number A is more recent or race numbers A and B are equally recent.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0106" num="0108">In various embodiments of the present invention, a race number pertaining to a given sink node is repeated at least once by the sink node. That is, its value is not changed during one or more subsequent periods of the sink node. Repeating the race number may reduce the likelihood of an ambiguity when comparing the race numbers of routing information propagating through the network.</p>
<p id="p-0107" num="0109">Referring to <figref idref="DRAWINGS">FIG. 7</figref>, therein illustrated is a stream of race numbers shown generally as <b>700</b>. The race numbers shown in <b>700</b> are incremented by the corresponding sink node only after r number of periods. Since a node only updates its stored routing information with the newly received routing information if that routing information is more recent, the repeating of race numbers causes nodes to update their stored routing information for the corresponding sink less often.</p>
<p id="p-0108" num="0110">As earlier discussed, the possibility of ambiguities when comparing race numbers propagating through the network can be reduced with the use of an appropriately-sized set of race numbers. Furthermore, in some embodiments, the repetition of a race number and the selection of a suitable size for the set of race numbers may together be used to prevent ambiguities in determining the recency of routing information. The repetition rate of race numbers, represented by &#x2018;r&#x2019;, is inversely related to the maximum distinguishable numerical distance in a sequence of numbers, represented by &#x2018;L&#x2019;. Particularly, L and r should be selected such that:</p>
<p id="p-0109" num="0111">
<maths id="MATH-US-00014" num="00014">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>rL</mi>
        <mo>&#x2265;</mo>
        <mrow>
          <mrow>
            <mfrac>
              <mn>1</mn>
              <mn>2</mn>
            </mfrac>
            <mo>&#x2062;</mo>
            <mi>h</mi>
          </mrow>
          <mo>-</mo>
          <mn>1</mn>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mn>93.1</mn>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where h is the length of the longest chordless cycle in the network topology.
</p>
<p id="p-0110" num="0112">Accordingly, the two factors, the repetition rate and the size of the set of race numbers, can be configured to depend on what is preferable in the network: faster updates or smaller numeric range of the race numbers. On the one hand, faster updates allow nodes to update their stored routing information more frequently in response to changes in the network. On the other hand, a smaller numeric range of the routing numbers will reduce the size of the routing information, resulting in lower radio usage and lower power consumption. It will be understood that all combinations of these two factors are within the contemplation of the subject embodiment.</p>
<p id="p-0111" num="0113">Referring now to <figref idref="DRAWINGS">FIG. 8</figref>, therein illustrated is an example of the node wait times caused by the fact that the start times of the nodes are not synchronized, as previously discussed. Recall that because the start time of the periods are chosen at random, each non-sink node receiving routing information will wait an average of</p>
<p id="p-0112" num="0114">
<maths id="MATH-US-00015" num="00015">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mn>1</mn>
    <mn>2</mn>
  </mfrac>
  <mo>&#x2062;</mo>
  <mi>p</mi>
</mrow>
</math>
</maths>
<br/>
before sending its routing information. <figref idref="DRAWINGS">FIG. 8</figref> illustrates an example timing of routing information sent over a network of 9 nodes, where the periodic interval is chosen to be much greater than the duration of time from the time a node starts sending routing information to the time routing information is fully received at a neighbor node. It will be appreciated that by picking a long duration for the periodic interval, the duration of the transmission becomes small in comparison to the period, allowing for the approximation that the data is available at the receiver at the very beginning of the periodic interval for the transmitter.
</p>
<p id="p-0113" num="0115">The dotted rectangles represent the node wait times <b>820</b> at each node. The hashes denote the periodic intervals <b>830</b> at which nodes send routing information. It will be appreciated that each hash, denoting the arrival of periodic intervals, is not lined up in time with the hashes of other nodes to show that the time of transmission is not synchronized between nodes. Furthermore, it will be noted that dotted rectangles at each node are differently sized to show that the wait time at each node is typically different.</p>
<p id="p-0114" num="0116">As discussed, the duration of the maximum node wait time approximates p. As stated, the maximum node wait time is experienced when a node receives routing information immediately after sending routing information of its own. Further, as discussed, the largest difference between two race numbers being compared e.g. after a failed link gets restored, or after a change of network topology, will occur at a node in the path of the longest chordless cycle of the network. This maximum difference may occur when the first node receives routing information from the sink node in the path of the longest chordless cycle (or from any other node in the path of the longest chordless cycle providing the best route to a sink), and from its second neighbor node over a path comprising h&#x2212;2 links after the link between the sink node and the first node is reestablished after having failed for some time, or after a topology change forms an equivalent longest chordless cycle in the network.</p>
<p id="p-0115" num="0117">If the maximum node wait time occurs at each node along a route, then the travel time along a route comprising h&#x2212;2 links will approximate (h&#x2212;2)p. Furthermore; within this time, a sink node will have updated the routing information it sends h&#x2212;2 times. Therefore, the numerical distance between two race numbers being compared at a node connected to a sink node may approximate h&#x2212;2. It will be appreciated that h&#x2212;2 is much greater than</p>
<p id="p-0116" num="0118">
<maths id="MATH-US-00016" num="00016">
<math overflow="scroll">
<mrow>
  <mrow>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <mn>2</mn>
      </mfrac>
      <mo>&#x2062;</mo>
      <mi>h</mi>
    </mrow>
    <mo>-</mo>
    <mn>1</mn>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
</maths>
<br/>
the numerical distance between two race numbers being compared at node after a time t<sub>prop </sub>calculated according to equation 83.1 when taking into account an average node wait time of
</p>
<p id="p-0117" num="0119">
<maths id="MATH-US-00017" num="00017">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mn>1</mn>
    <mn>2</mn>
  </mfrac>
  <mo>&#x2062;</mo>
  <mi>p</mi>
</mrow>
</math>
</maths>
<br/>
for each node. While it is highly unlikely that each node along a route will have a node wait time with a duration of p, some nodes may still have a node wait time that is longer than the average node wait time
</p>
<p id="p-0118" num="0120">
<maths id="MATH-US-00018" num="00018">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mn>1</mn>
    <mn>2</mn>
  </mfrac>
  <mo>&#x2062;</mo>
  <mrow>
    <mi>p</mi>
    <mo>.</mo>
  </mrow>
</mrow>
</math>
</maths>
<br/>
Where several nodes along a route consisting of n links have node wait times that are all longer or shorter than the average, the travel time over this route may become longer or shorter than the average travel time of t<sub>tr </sub>of equation 52.1 Therefore, even if the constraint set out in equation 93.1 is met, the results of comparing two race numbers may still be ambiguous.
</p>
<p id="p-0119" num="0121">Therefore, in some embodiments the factors r and L are chosen according to the equation</p>
<p id="p-0120" num="0122">
<maths id="MATH-US-00019" num="00019">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>rL</mi>
        <mo>&#x2265;</mo>
        <mrow>
          <mi>c</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mrow>
                <mfrac>
                  <mn>1</mn>
                  <mn>2</mn>
                </mfrac>
                <mo>&#x2062;</mo>
                <mi>h</mi>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mn>99.1</mn>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where c is a factor to compensate for the situation where the travel time over a worst case path as described is longer than the average by a certain amount with a certain probability.
</p>
<p id="p-0121" num="0123">By treating whether the node wait time at a particular node will be greater or less than the average as a single stochastic event, it is possible to determine the probability of a number of nodes along of the route having node wait times deviating in the same direction away from the average node wait time of</p>
<p id="p-0122" num="0124">
<maths id="MATH-US-00020" num="00020">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mn>1</mn>
    <mn>2</mn>
  </mfrac>
  <mo>&#x2062;</mo>
  <mi>p</mi>
</mrow>
</math>
</maths>
<br/>
along this route by using cumulative binominal probabilities. That is, it is possible to calculate the probability that a certain number m nodes all have node wait times greater than
</p>
<p id="p-0123" num="0125">
<maths id="MATH-US-00021" num="00021">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mn>1</mn>
    <mn>2</mn>
  </mfrac>
  <mo>&#x2062;</mo>
  <mi>p</mi>
</mrow>
</math>
</maths>
<br/>
or less than
</p>
<p id="p-0124" num="0126">
<maths id="MATH-US-00022" num="00022">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mn>1</mn>
    <mn>2</mn>
  </mfrac>
  <mo>&#x2062;</mo>
  <mrow>
    <mi>p</mi>
    <mo>.</mo>
  </mrow>
</mrow>
</math>
</maths>
<br/>
When the node wait time is less than
</p>
<p id="p-0125" num="0127">
<maths id="MATH-US-00023" num="00023">
<math overflow="scroll">
<mrow>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <mn>2</mn>
    </mfrac>
    <mo>&#x2062;</mo>
    <mi>p</mi>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
</maths>
<br/>
it will fall in a range between 0 and
</p>
<p id="p-0126" num="0128">
<maths id="MATH-US-00024" num="00024">
<math overflow="scroll">
<mrow>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <mn>2</mn>
    </mfrac>
    <mo>&#x2062;</mo>
    <mi>p</mi>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
</maths>
<br/>
with the average being
</p>
<p id="p-0127" num="0129">
<maths id="MATH-US-00025" num="00025">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mn>1</mn>
    <mn>4</mn>
  </mfrac>
  <mo>&#x2062;</mo>
  <mrow>
    <mi>p</mi>
    <mo>.</mo>
  </mrow>
</mrow>
</math>
</maths>
<br/>
When the node wait time is greater than
</p>
<p id="p-0128" num="0130">
<maths id="MATH-US-00026" num="00026">
<math overflow="scroll">
<mrow>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <mn>2</mn>
    </mfrac>
    <mo>&#x2062;</mo>
    <mi>p</mi>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
</maths>
<br/>
it will fall in a range between
</p>
<p id="p-0129" num="0131">
<maths id="MATH-US-00027" num="00027">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mn>1</mn>
    <mn>2</mn>
  </mfrac>
  <mo>&#x2062;</mo>
  <mi>p</mi>
</mrow>
</math>
</maths>
<br/>
and <i>p</i>, with the average being
</p>
<p id="p-0130" num="0132">
<maths id="MATH-US-00028" num="00028">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mn>3</mn>
    <mn>4</mn>
  </mfrac>
  <mo>&#x2062;</mo>
  <mrow>
    <mi>p</mi>
    <mo>.</mo>
  </mrow>
</mrow>
</math>
</maths>
<br/>
If m nodes over a route deviate in the same direction away from the average node wait time, then the path will on average either be lengthened by
</p>
<p id="p-0131" num="0133">
<maths id="MATH-US-00029" num="00029">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mi>m</mi>
    <mn>4</mn>
  </mfrac>
  <mo>&#x2062;</mo>
  <mi>p</mi>
</mrow>
</math>
</maths>
<br/>
or shortened by
</p>
<p id="p-0132" num="0134">
<maths id="MATH-US-00030" num="00030">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mi>m</mi>
    <mn>4</mn>
  </mfrac>
  <mo>&#x2062;</mo>
  <mrow>
    <mi>p</mi>
    <mo>.</mo>
  </mrow>
</mrow>
</math>
</maths>
<br/>
It win be appreciated that, for every 4 nodes that deviate in the same direction, the travel time over a route will be lengthened or shortened by p time on average. <figref idref="DRAWINGS">FIG. 9</figref> illustrates a table of the results from calculations based on the binominal distribution. The table shows the probability of 1 or more to 6 or more (<b>917</b>) nodes deviating in the same direction away from the average node wait time over routes with lengths ranging from 12 to 30 nodes.
</p>
<p id="p-0133" num="0135">As shown in <figref idref="DRAWINGS">FIG. 9</figref>, for a route having a length of 30 nodes, there is a probability of 0.1002 (<b>919</b>) that 4 nodes or more will deviate from the average node wait time in the same direction. Similarly, in view of a relatively similar probability of 0.1052 (<b>921</b>) for a route with a length of 16 nodes, 3 nodes or more would deviate in the same direction away from the average node wait time.</p>
<p id="p-0134" num="0136">By using cumulative binominal probabilities, as provided in <figref idref="DRAWINGS">FIG. 9</figref>, the probability of such deviations can be determined. The factor c of equation 99.1 illustrates a factor by which to compensate for these possible variations in travel time along a route, to make the possibility of ambiguities in comparing two race numbers small enough in a given practical application.</p>
<p id="p-0135" num="0137">Typically, rL, and c are parameters used in the design phase of a given implementation of the present invention, and can possibly be difficult to change in a finished product. In this case, knowing rL and c will allow for making a prediction as to how well a given implementation will cope with worst case scenarios. The design choice of rL and c is thus based on satisfying the inequality of 99.1. The larger the value of c is chosen to be, the less likely are the variations in travel time to influence the worst case scenario. By making a choice of rL and c in the design phase, a limit is imposed on the size of the longest chordless cycle in a given network topology for which an optimal route between a given node and a sink node, or sink nodes, is guaranteed to be found. Note that if the inequality of 99.1 is not satisfied, sub-optimal routes may sometimes be selected for some nodes in the network, although a route is always found.</p>
<p id="p-0136" num="0138">In one embodiment, the repetition of race numbers may allow the set of race numbers to be represented by one bit, representing, for example, the values &#x2018;0&#x2019; and &#x2018;1&#x2019;. In contrast to a set of race numbers that is large in size, it is in this embodiment no longer possible to directly compare two race numbers to determine which race number is more recent. Instead the recency of any routing information is determined by observing the race numbers received over time. For example, if a node has been receiving the same race number for sufficiently long time from all its neighbors, and then receives a change in race number in the received routing information from one of its neighbors, it will know that the optimal route to the sink is through said neighbor.</p>
<p id="p-0137" num="0139">Referring to <figref idref="DRAWINGS">FIG. 10</figref>, therein illustrated is an example embodiment of the operation of the subject routing protocol with the use of 1-bit race numbers when the network topology is similar to that which is shown in <figref idref="DRAWINGS">FIG. 3A</figref>, shown generally as <b>1010</b>. To address the fact that it is no longer possible to determine which race number comes after another race number in the sequence by simply comparing the two numbers, the number of times a number is repeated must be chosen appropriately.</p>
<p id="p-0138" num="0140">In this embodiment, a node now waits for all neighbors to send the same race number before accepting the first neighbor to send a changed race number as the neighbor having the optimal route to the given sink. Instead of storing the race number of the most recent routing information in the routing table, each node must now keep track of the race number contained in the last routing information received from each neighbor node. In order to meet the condition that a node receives routing information containing the same race numbers from all of its neighbor nodes, the number of times r, a race number is repeated in successive updates of routing information at each sink node must be sufficiently large. This will guarantee that each node of the network will be able to find the optimal route. To meet this condition, the number of repetitions must be sufficiently large such that all the nodes in the longest chordless cycle of a given topology receives the same race number before the race number is changed in an update at a given sink node. This condition is given by the inequality 99.1 where for this 1-bit case, L=1.</p>
<p id="p-0139" num="0141">Referring back to <figref idref="DRAWINGS">FIG. 10</figref>, an example network is shown in which 1-bit race numbers are used to determine the fastest route to a sink. Stored race numbers <b>1006</b><i>a</i>, <b>1006</b><i>b</i>, <b>1006</b><i>c</i>, <b>1006</b><i>d</i>, <b>1006</b><i>e</i>, <b>1006</b><i>f</i>, <b>1006</b><i>g</i>, and <b>1006</b><i>h </i>represent the last race numbers received by nodes <b>1004</b><i>a</i>, <b>1004</b><i>b</i>, <b>1004</b><i>c</i>, <b>1004</b><i>d</i>, <b>1004</b><i>e</i>, <b>1004</b><i>f</i>, <b>1004</b><i>g</i>, and <b>1004</b><i>h </i>respectively from each of their neighbor nodes. Since each node only has two neighbor nodes, two received race numbers are stored at each node. In this example, node <b>1004</b><i>a </i>has stored race numbers <b>1006</b><i>a </i>with the values &#x2018;1&#x2019; and &#x2018;1&#x2019; to represent that the last race numbers it received from its two neighbors nodes, sink node <b>1002</b><i>a </i>and node <b>1004</b><i>b </i>respectively, had the value &#x2018;1&#x2019;. Since node <b>1004</b><i>a </i>has received the same race number from all of its neighbor nodes, it will determine the first neighbor node to transmit a change in race number to be the neighbor node representing the optimal route to a given sink node. In <figref idref="DRAWINGS">FIG. 10</figref>, sink node has changed the value of the race number to &#x2018;0&#x2019; and is sending routing information to node <b>1004</b><i>a </i>containing this race number to nodes <b>1004</b><i>a </i>and <b>1004</b><i>h</i>. When node <b>1004</b><i>a </i>receives this routing information, it will determined that there is a change in race number and will therefore determine that sink node <b>1002</b> represents the optimal route. It will be appreciated that since each of the other nodes of the network also have stored race numbers &#x2018;1&#x2019; and &#x2018;1&#x2019;, when routing information containing race number with the value &#x2018;0&#x2019; is received by these other nodes, each of these nodes will determine that it has received a change in race number and will consequently update its optimal route to sink node <b>1002</b>.</p>
<p id="p-0140" num="0142">It will be understood by those skilled in the art that the tracking at a node of the last race number received from each of the neighbor nodes may be implemented in a plurality of ways known in the art.</p>
<p id="p-0141" num="0143">As there may be more than one sink node <b>102</b> (in a network <b>100</b>, each sink node <b>102</b> may send out its own routing information on a periodic basis. As such, a node may receive routing information from numerous sink nodes <b>102</b> or non-sink nodes <b>204</b> within one period. In one embodiment, a node may send aggregated routing information comprising routing information for more than one sink node of the network.</p>
<p id="p-0142" num="0144">To reduce the size of the aggregated routing information sent, sink node identifiers could be omitted from the aggregated routing information. Instead, sink node identity can be inferred from the placement of each indicator of recency corresponding to each sink node within the aggregated routing information. For example, each sink node may be assigned a position in the sent aggregated routing information so that a non-sink node <b>204</b> may determine the identity of sink node <b>102</b> from the position in which the indicator of recency corresponding to sink node is placed within the received aggregated routing information.</p>
<p id="p-0143" num="0145">Referring to <figref idref="DRAWINGS">FIG. 11A</figref>, therein illustrated is an example of aggregated routing information that a node may periodically send out, referred to generally as <b>1100</b>. Such aggregated routing information may contain routing information for sink nodes <b>202</b> with sink node identifiers. However in other embodiments, aggregated routing information may be structured such that sink nodes <b>202</b> may be identified without the inclusion of sink node identifiers. For example, in <figref idref="DRAWINGS">FIG. 11A</figref>, aggregated routing information contains positions &#x2018;S<b>1</b>&#x2019; through &#x2018;S<b>8</b>&#x2019;. Each position corresponds to a sink node of the network. It will be appreciated that in this example, up to eight sink nodes may be found in the network. The indicator of recency corresponding to each sink node is placed at the appropriate position within the aggregated routing information. For example, routing information containing the race number <b>212</b> with value &#x2018;1&#x2019; for sink node <b>202</b> (with sink node ID &#x2018;S<b>1</b>&#x2019;) may be placed at position &#x2018;S<b>1</b>&#x2019; and included in the aggregated routing information sent from a non-sink node. As compared to a situation where routing information from each sink node <b>102</b> is sent separately, aggregating routing information in this manner can eliminate a significant amount of overhead, and may therefore be a desirable optimization.</p>
<p id="p-0144" num="0146">It will be appreciated that the routing information stored at a non-sink node may have a similar configuration where sink nodes are identified by positions &#x2018;S<b>1</b>&#x2019; through &#x2018;S<b>8</b>&#x2019; and the indicator of recency corresponding to each sink node is stored at the appropriate position. In addition, a node ID (not shown) is included to identify the neighbor node representing the fastest route to the sink node identified by that position.</p>
<p id="p-0145" num="0147">In another embodiment, the entirety of the aggregated routing information stored at a node is not sent all at once in a single periodic interval. Instead, sink nodes are separated into groups of one or more sink nodes such that only the routing information for one group of sink nodes is sent per period by the node. The aggregated routing information comprising the routing information of all sink nodes of a group sink nodes is herein referred to as a &#x201c;page&#x201d;. The node cycles through the groups of sink nodes, sending the page for each group at a periodic interval,</p>
<p id="p-0146" num="0148">Referring to <figref idref="DRAWINGS">FIG. 11B</figref>, therein illustrated is a schematic diagram of a further embodiment containing a network topology wherein sink nodes are grouped or &#x201c;paged&#x201d;, shown generally as <b>1110</b>. It should be understood that <figref idref="DRAWINGS">FIG. 11B</figref> is a schematic diagram and does not necessarily illustrate relative physical positioning of elements, i.e. in various embodiments, sink node grouping, for example as shown in <figref idref="DRAWINGS">FIG. 11B</figref>, reflects a logical grouping, and may or may not be related to any physical placement of the sink nodes.</p>
<p id="p-0147" num="0149">Continuing with <figref idref="DRAWINGS">FIG. 11B</figref>, therein illustrated is an exemplary network where there are 8 sink nodes <b>1102</b> labeled &#x2018;S<b>1</b>&#x2019; to &#x2018;S<b>8</b>&#x2019;. The sink nodes <b>1102</b> may be divided into 4 groups of 2 nodes each, groups &#x2018;A&#x2019; through &#x2018;D&#x2019;, for example. It will be understood that the number of sinks is for example purposes and any suitable number of sink nodes, non-sink nodes or network topology may be employed to practice the described embodiment. Particularly, it will also be understood that nodes may be mobile and that network topologies may change frequently.</p>
<p id="p-0148" num="0150">Referring to <figref idref="DRAWINGS">FIG. 11C</figref>, therein illustrated is an example of pages of routing information being sent over time in the example embodiment where sink nodes <b>1102</b> are grouped. The routing information, shown generally as <b>1101</b>, corresponding to the group of sink nodes named Group A in this example is shown to be sent in Page <b>0</b> and routing information corresponding to Group B is shown to be sent in Page <b>1</b>, etc. In comparison to the aggregated routing information illustrated in <figref idref="DRAWINGS">FIG. 11A</figref>, <figref idref="DRAWINGS">FIG. 11C</figref> illustrates routing information for sink nodes in groups &#x2018;A&#x2019; through &#x2018;D&#x2019; being attended to sequentially through successive transmission of aggregated routing information <b>1110</b> in 5 consecutive periodic intervals (t=0 to t=4). Particularly, sink nodes labeled &#x2018;S<b>1</b>&#x2019; and &#x2018;S<b>2</b>&#x2019; are being attended to in the first periodic interval (t=0), sink nodes labeled &#x2018;S<b>3</b>&#x2019; and &#x2018;S<b>4</b>&#x2019; in the second periodic interval (t=1), sink nodes labeled &#x2018;S<b>5</b>&#x2019; and &#x2018;S<b>6</b>&#x2019; in the third periodic interval (t=2) and sink nodes labeled &#x2018;S<b>7</b>&#x2019; and &#x2018;S<b>8</b>&#x2019; in the fourth periodic interval (t=3). After cycling through all available sink nodes, sink nodes labeled &#x2018;S<b>1</b>&#x2019; and &#x2018;S<b>2</b>&#x2019; are attended to again in the fifth periodic interval (t=4). It will be understood that sink node groups may not need to be addressed in numerical sequence, and may be reordered according to a predetermined order.</p>
<p id="p-0149" num="0151">To identify the sink nodes in each group, each transmission of shortened aggregated routing information <b>1110</b> may also contain a field <b>1112</b> for identifying the group of sink nodes that are being attended to. Such group address field <b>1112</b> may be configured to be of a bit-length that is no larger than is necessary to properly identify each group present in the network. For example, for the 4 groups &#x2018;A&#x2019; through &#x2018;D&#x2019; in the example network topology, the group address field may be 2-bits so as to allow for the unique identification of the 4 groups.</p>
<p id="p-0150" num="0152">Since sink nodes also act as routing nodes and store routing information indicating the fastest route to other sink nodes of the network, sink nodes also cycle through the groups of nodes, sending a page for each group at a periodic interval. When the page to be sent from a given sink node contains routing information corresponding to that sink node, the sink node updates its own indicator of recency in that page to indicate that the routing information is more recent. For routing information corresponding to all other sink nodes, the sink node sends routing information based on its stored routing information.</p>
<p id="p-0151" num="0153">When received at a node, the contents of a page of aggregated routing information <b>1110</b> may be directly mapped to the specific sink nodes <b>1102</b> through the location within the page, <b>1110</b>. As with the full-length transmission of aggregated routing information discussed in relation to <figref idref="DRAWINGS">FIG. 11A</figref>, the mapping of routing information to a sink node within a page may be done based on the position of the routing information within the page, so as to avoid the need for the explicit addressing of sink nodes <b>1102</b>.</p>
<p id="p-0152" num="0154">The placement of sink nodes into groups, as shown in <figref idref="DRAWINGS">FIG. 11B</figref>, allows the page to be a fraction of the size of the full-length transmission of aggregated routing information. Even though each page <b>1110</b> may need to contain an additional group address field <b>1112</b>, the overall length of each transmission may still be shorter. This may have the effect of reducing the bandwidth requirement and radio usage of each node, thereby leading to reduced power consumption by each node. Notwithstanding the benefits of aggregating routing information, the grouping of sink nodes causes routes to be updated less frequently. In a configuration where sink nodes have been grouped into k groups, a node receiving aggregated routing information from a neighboring node for a first group of nodes will have to wait until the neighbor nodes cycles through all the other groups before again receiving more recent routing information for that particular group of sink nodes. The node will therefore have to wait k periods between receptions of routing information for a group of sink nodes from a particular neighbor node. Similarly, the rate of route updates has been decreased by a factor k.</p>
<p id="p-0153" num="0155">Referring back to <figref idref="DRAWINGS">FIG. 11C</figref>, a neighboring node will receive routing information for sink nodes of Group A at time <b>0</b> but must wait four periodic intervals before again receiving more recent routing information for sink nodes of Group A at time t=4. When a node receives routing information for a certain group of sink nodes, it must wait an average time of:</p>
<p id="p-0154" num="0156">
<maths id="MATH-US-00031" num="00031">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>t</mi>
          <mi>group</mi>
        </msub>
        <mo>=</mo>
        <mfrac>
          <mi>kp</mi>
          <mn>2</mn>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mn>121.1</mn>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
for the arrival of the periodic interval in which routing information for that group of sink nodes is sent from the node. This wait time is herein referred to as &#x201c;group wait time&#x201d; and is similar to the node wait time. The minimum group wait time approximates zero, and the maximum group wait time approximates kp.
</p>
<p id="p-0155" num="0157">Similar to the description earlier in the context of deviations from the average node wait time at each node, the deviation from the average group wait time of equation 121.1 at each node may also be treated as a stochastic event. This is because the transmission of groups are not synchronized between nodes. That is, the order in which the groups are transmitted is known, but the routing information from which of the group is first received by a node may be random. Therefore it is possible to calculate the probability that a subset of a known quantity of nodes, all have a group wait time that deviates from the average group wait time given in equation 121.1. More specifically, when the average group wait time is less than</p>
<p id="p-0156" num="0158">
<maths id="MATH-US-00032" num="00032">
<math overflow="scroll">
<mfrac>
  <mi>kp</mi>
  <mn>2</mn>
</mfrac>
</math>
</maths>
<br/>
it will fall in a range between 0 and
</p>
<p id="p-0157" num="0159">
<maths id="MATH-US-00033" num="00033">
<math overflow="scroll">
<mfrac>
  <mi>kp</mi>
  <mn>2</mn>
</mfrac>
</math>
</maths>
<br/>
with the average group wait time being
</p>
<p id="p-0158" num="0160">
<maths id="MATH-US-00034" num="00034">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mi>kp</mi>
    <mn>4</mn>
  </mfrac>
  <mo>.</mo>
</mrow>
</math>
</maths>
<br/>
When the average group wait time is more than
</p>
<p id="p-0159" num="0161">
<maths id="MATH-US-00035" num="00035">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mi>kp</mi>
    <mn>2</mn>
  </mfrac>
  <mo>,</mo>
</mrow>
</math>
</maths>
<br/>
it will fall in a range between
</p>
<p id="p-0160" num="0162">
<maths id="MATH-US-00036" num="00036">
<math overflow="scroll">
<mfrac>
  <mi>kp</mi>
  <mn>2</mn>
</mfrac>
</math>
</maths>
<br/>
to kp, with the average group wait time being
</p>
<p id="p-0161" num="0163">
<maths id="MATH-US-00037" num="00037">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mrow>
      <mn>3</mn>
      <mo>&#x2062;</mo>
      <mi>kp</mi>
    </mrow>
    <mn>4</mn>
  </mfrac>
  <mo>.</mo>
</mrow>
</math>
</maths>
<br/>
Deviations at several nodes in the same direction away from the average group wait time will cause a lengthening or shortening of the travel time over a route.
</p>
<p id="p-0162" num="0164">Like in the context of node wait times, the table of <figref idref="DRAWINGS">FIG. 9</figref> may be used to illustrate the results from calculations based on cumulative binominal probabilities. The table shows the probability of 1 or more to 6 or more (<b>917</b>) nodes deviating in the same direction away from the average group wait time over routes with lengths ranging from 12 to 30 nodes.</p>
<p id="p-0163" num="0165">In reference to the example of <figref idref="DRAWINGS">FIG. 9</figref>, for a route with a length of 30 nodes, there is a probability of 0.1002 (<b>919</b>) that 4 nodes or more will deviate in the same direction from the average group wait time. Similarly, in view of a relatively close probability of 0.1052 (<b>921</b>) for a route with a length of 16 nodes, 3 nodes or more would deviate in the same direction from the average group wait time.</p>
<p id="p-0164" num="0166">The probabilities from calculations based on cumulative binominal probabilities, as provided in <figref idref="DRAWINGS">FIG. 9</figref>, can be used for determining the overall probability that a given route would experience such deviations. More specifically, for a network that does not apply grouping of sink nodes (i.e., k=1) and for a route consisting of 16 nodes, based on the cumulative binominal distribution, the result is a probability of 0.11 that the group wait time will be lengthened by at least</p>
<p id="p-0165" num="0167">
<maths id="MATH-US-00038" num="00038">
<math overflow="scroll">
<mrow>
  <mrow>
    <mn>3</mn>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mfrac>
      <mn>1</mn>
      <mn>4</mn>
    </mfrac>
    <mo>&#x2062;</mo>
    <mi>p</mi>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mn>0.75</mn>
    <mo>&#x2062;</mo>
    <mrow>
      <mi>p</mi>
      <mo>.</mo>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0166" num="0168">However, for a network that groups sink nodes into 8 groups (i.e., k=8) and for a route consisting of 16 nodes, based on the cumulative binominal distribution, the result is a probability of 0.11 that the group wait time will be lengthened by at least</p>
<p id="p-0167" num="0169">
<maths id="MATH-US-00039" num="00039">
<math overflow="scroll">
<mrow>
  <mrow>
    <mn>3</mn>
    <mo>&#x2062;</mo>
    <mstyle>
      <mspace width="0.3em" height="0.3ex"/>
    </mstyle>
    <mo>&#x2062;</mo>
    <mfrac>
      <mn>8</mn>
      <mn>4</mn>
    </mfrac>
    <mo>&#x2062;</mo>
    <mi>p</mi>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mn>6</mn>
    <mo>&#x2062;</mo>
    <mi>p</mi>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0168" num="0170">In effect, when grouping is not used, as previously described, the deviations in node wait times from the average does not have a significant impact on the travel time over the route. However, when grouping is used, it will be appreciated that the impact on the travel time over a node due to deviations from the average group wait time is much more important.</p>
<p id="p-0169" num="0171">The use of groups of sink nodes has the effect of slowing down the rate at Which more recent routing information is sent from each sink node by a factor of k. Accordingly, the rate at which nodes update their stored routing information to indicate a neighbor node representing the fastest route to a particular sink node is also slowed. Similarly, as previously discussed, the repetition of race numbers also slows down the rate at which more recent routing information is sent. Advantageously, the use of grouping of sink nodes in conjunction with repeating of race numbers does not compound to slow down the total rate at which more recent routing information is sent and received. Note however, for efficiency, the number of repetitions should be at least equal to the number of pages used, or a multiple thereof.</p>
<p id="p-0170" num="0172">For example, in a situation where a sink node of a network is not repeating race numbers, but the sink nodes have been divided into k groups, a non-sink node directly connected to the sink node may be receiving every race number contained in the routing information received but will still only send routing information for the given sink node every k periodic intervals. Therefore, each transmission of routing period from the non-sink node will only contain every k'th race number. All other updates of its own race number that the sink may make to its own routing table between sending said race number are lost. In this case, even though the repetition rate is minimal, thereby allowing faster updates, these updates are still slowed down by the use of paging. Similarly, if the repetition rate r is greater than the number of pages, even though routing information for a given sink node may be sent every k periodic intervals; the same race number may be sent twice. Therefore, in one embodiment, the repetition rate and the number of pages are selected to be equal, such that neither mechanism slows down the rate at which more recent routing information is sent more than the other mechanism.</p>
<p id="p-0171" num="0173">As discussed for embodiments where paging is not used, there is a deviation in travel time from the average travel time caused by the fact that start times of periods in which routing information is transmitted are selected at random. This was seen to be causing a potential for ambiguities in race numbers when two race numbers are compared, after having being propagated over a significant number of nodes. A similar, but amplified, effect is experienced when paging is used. Since the group wait times cause the time for routing information to propagate over a given route to be further lengthened, the potential for ambiguities in race numbers when comparing routing information becomes even greater. However, the effect caused by use of paging is fully mitigated if the number of times a race number is repeated is the same as the number of pages. It will be understood that the number of groups may also be selected according to the intended operation of the network. That is, if it is expected that the network topology may be quite dynamic, a smaller number of groups <b>1110</b> may be selected so as to provide for faster route updates at the expense of larger aggregated route messages. Conversely, if it is known that the deployment of non-sink nodes may be quite static (i.e. they will not be very mobile), then a larger number of groups may be selected so as to potentially reduce the speed of route updates while allowing for shorter transmissions of aggregated route information <b>1110</b>. Generally, optimal parameter selection relies on balancing of the number of groups employed with the frequency in which routes are updated in view of the available computational and power resources. Various configurations that take into account these factors are within the contemplation of the subject embodiments.</p>
<p id="p-0172" num="0174">The above described steps can be performed by the system implemented in hardware or software, or a combination of both. Each node comprises node memory, which stores the stored routing information of the node. Each node further comprises one node processor, which is configured to receive routing information sent from neighboring nodes, determine whether the routing information is more recent than the stored routing information at the node, storing received routing information, and sending updated routing information based on stored routing information stored in the node memory at a periodic interval.</p>
<p id="p-0173" num="0175">Every node is configured to send routing information at a periodic interval. This routing information comprises an indicator of recency and allows identification of the sink node. Where the node is a sink node, the node is further configured to update the indicator of recency corresponding to itself when sending routing information. The update is done every period or every r&#x2032;th period, r being a natural number greater than 1 and represents the repetition rate of race numbers.</p>
<p id="p-0174" num="0176">It will also be understood that such routing information may be sent at any applicable layer of the protocol stack. Borrowing terminology from the Open System Interconnection (OSI) model known in the art, such messages may be sent in the data link layer (e.g., at the Media Access Control (MAC) layer), or in the network layer (e.g., using internet protocol (IP) addresses).</p>
<p id="p-0175" num="0177">Further embodiments of the system and method of the present application can be implemented by reconfiguring the elements of this system without the need for additional elements.</p>
<p id="p-0176" num="0178">While the above description provides examples of the embodiments, it will be appreciated that some features and/or functions of the described embodiments are susceptible to modification without departing from the spirit and principles of operation of the described embodiments. Accordingly, what has been described above has been intended to be illustrative of the embodiments and non-limiting, and it will be understood by persons skilled in the art that other variants and modifications may be made without departing from the scope of the embodiments as defined in the claims appended hereto.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08625424-20140107-M00001.NB">
<img id="EMI-M00001" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08625424-20140107-M00002.NB">
<img id="EMI-M00002" he="6.35mm" wi="76.20mm" file="US08625424-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08625424-20140107-M00003.NB">
<img id="EMI-M00003" he="6.35mm" wi="76.20mm" file="US08625424-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08625424-20140107-M00004.NB">
<img id="EMI-M00004" he="6.69mm" wi="76.20mm" file="US08625424-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US08625424-20140107-M00005.NB">
<img id="EMI-M00005" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00006" nb-file="US08625424-20140107-M00006.NB">
<img id="EMI-M00006" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00007" nb-file="US08625424-20140107-M00007.NB">
<img id="EMI-M00007" he="6.35mm" wi="76.20mm" file="US08625424-20140107-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00008" nb-file="US08625424-20140107-M00008.NB">
<img id="EMI-M00008" he="6.35mm" wi="76.20mm" file="US08625424-20140107-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00009" nb-file="US08625424-20140107-M00009.NB">
<img id="EMI-M00009" he="6.35mm" wi="76.20mm" file="US08625424-20140107-M00009.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00010" nb-file="US08625424-20140107-M00010.NB">
<img id="EMI-M00010" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00010.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00011" nb-file="US08625424-20140107-M00011.NB">
<img id="EMI-M00011" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00011.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00012" nb-file="US08625424-20140107-M00012.NB">
<img id="EMI-M00012" he="6.35mm" wi="76.20mm" file="US08625424-20140107-M00012.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00013" nb-file="US08625424-20140107-M00013.NB">
<img id="EMI-M00013" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00013.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00014" nb-file="US08625424-20140107-M00014.NB">
<img id="EMI-M00014" he="6.35mm" wi="76.20mm" file="US08625424-20140107-M00014.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00015" nb-file="US08625424-20140107-M00015.NB">
<img id="EMI-M00015" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00015.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00016" nb-file="US08625424-20140107-M00016.NB">
<img id="EMI-M00016" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00016.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00017" nb-file="US08625424-20140107-M00017.NB">
<img id="EMI-M00017" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00017.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00018" nb-file="US08625424-20140107-M00018.NB">
<img id="EMI-M00018" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00018.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00019" nb-file="US08625424-20140107-M00019.NB">
<img id="EMI-M00019" he="6.69mm" wi="76.20mm" file="US08625424-20140107-M00019.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00020" nb-file="US08625424-20140107-M00020.NB">
<img id="EMI-M00020" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00020.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00021" nb-file="US08625424-20140107-M00021.NB">
<img id="EMI-M00021" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00021.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00022" nb-file="US08625424-20140107-M00022.NB">
<img id="EMI-M00022" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00022.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00023" nb-file="US08625424-20140107-M00023.NB">
<img id="EMI-M00023" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00023.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00024" nb-file="US08625424-20140107-M00024.NB">
<img id="EMI-M00024" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00024.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00025" nb-file="US08625424-20140107-M00025.NB">
<img id="EMI-M00025" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00025.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00026" nb-file="US08625424-20140107-M00026.NB">
<img id="EMI-M00026" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00026.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00027" nb-file="US08625424-20140107-M00027.NB">
<img id="EMI-M00027" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00027.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00028" nb-file="US08625424-20140107-M00028.NB">
<img id="EMI-M00028" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00028.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00029" nb-file="US08625424-20140107-M00029.NB">
<img id="EMI-M00029" he="5.67mm" wi="76.20mm" file="US08625424-20140107-M00029.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00030" nb-file="US08625424-20140107-M00030.NB">
<img id="EMI-M00030" he="5.67mm" wi="76.20mm" file="US08625424-20140107-M00030.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00031" nb-file="US08625424-20140107-M00031.NB">
<img id="EMI-M00031" he="6.35mm" wi="76.20mm" file="US08625424-20140107-M00031.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00032" nb-file="US08625424-20140107-M00032.NB">
<img id="EMI-M00032" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00032.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00033" nb-file="US08625424-20140107-M00033.NB">
<img id="EMI-M00033" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00033.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00034" nb-file="US08625424-20140107-M00034.NB">
<img id="EMI-M00034" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00034.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00035" nb-file="US08625424-20140107-M00035.NB">
<img id="EMI-M00035" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00035.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00036" nb-file="US08625424-20140107-M00036.NB">
<img id="EMI-M00036" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00036.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00037" nb-file="US08625424-20140107-M00037.NB">
<img id="EMI-M00037" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00037.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00038" nb-file="US08625424-20140107-M00038.NB">
<img id="EMI-M00038" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00038.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00039" nb-file="US08625424-20140107-M00039.NB">
<img id="EMI-M00039" he="6.01mm" wi="76.20mm" file="US08625424-20140107-M00039.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00040" nb-file="US08625424-20140107-M00040.NB">
<img id="EMI-M00040" he="6.35mm" wi="76.20mm" file="US08625424-20140107-M00040.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00041" nb-file="US08625424-20140107-M00041.NB">
<img id="EMI-M00041" he="6.35mm" wi="76.20mm" file="US08625424-20140107-M00041.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method of determining a route in a network, the method comprising:
<claim-text>sending routing information from a sink node at a periodic interval, the routing information comprising a race number as an indicator of recency and allowing identification of the sign node, a same race number being repeated at least once in routing information sent successively at the periodic interval;</claim-text>
<claim-text>sending routing information from each of a plurality of nodes at a periodic interval, the routing information being based on stored routing information at each of the plurality of nodes;</claim-text>
<claim-text>repeatedly receiving routing information at any node able to receive routing information;</claim-text>
<claim-text>determining at each node receiving routing information whether the received routing information is more recent than stored routing information at the node; and</claim-text>
<claim-text>if the received routing information at a node is more recent than the stored routing information, storing the received routing information at the node;</claim-text>
<claim-text>wherein the race number belongs to a subset of the integers; and wherein the size of the subset is selected based on the rate of repetition of the race number and the length of the longest chordless cycle of the topology of the network.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the race number is represented by one bit.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, the method further comprising:
<claim-text>storing at each node the last race number received from each of one or more neighbor nodes of each of the nodes; and</claim-text>
<claim-text>if there is a change in the race number contained in routing information received at the node from a first neighbor node after receiving the same race number from each of the one or more neighbor nodes, determining the received routing information to be more recent.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the routing information sent from each of a plurality of nodes comprises a plurality of race numbers as indicators of recency corresponding to a plurality of sink nodes.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A non-transitory computer-readable medium upon which a plurality of instructions are stored, the instructions for performing the steps of the method as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the size of the subset is selected according to:</claim-text>
<claim-text>
<maths id="MATH-US-00040" num="00040">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>rL</mi>
    <mo>&#x2265;</mo>
    <mrow>
      <mrow>
        <mi>c</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mrow>
              <mfrac>
                <mn>1</mn>
                <mn>2</mn>
              </mfrac>
              <mo>&#x2062;</mo>
              <mi>h</mi>
            </mrow>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.8em" height="0.8ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mi>and</mi>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.8em" height="0.8ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mi>L</mi>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mfrac>
    <mrow>
      <mi>N</mi>
      <mo>-</mo>
      <mn>1</mn>
    </mrow>
    <mn>2</mn>
  </mfrac>
</mrow>
</math>
</maths>
<claim-text>wherein r is the repetition rate of race number, c is a compensating factor, h is the length of the longest chordless cycle of nodes in the network and N is the size of the subset of the integers.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A system for establishing a route in a network, the system comprising:
<claim-text>a plurality of nodes, each node comprising:
<claim-text>a node memory; and</claim-text>
<claim-text>a node processor, the node processor configured to:
<claim-text>send routing information at a periodic interval, the routing information being based on information stored in the node memory;</claim-text>
<claim-text>receive routing information;</claim-text>
<claim-text>determine whether the received routing information is more recent than the stored routing information at the node; and</claim-text>
<claim-text>if the received routing information is more recent than stored routing information, to store the received routing information in the node memory;</claim-text>
</claim-text>
</claim-text>
<claim-text>wherein at least one of the nodes is a sink node, the processor of the sink node further configured to:
<claim-text>send routing information at a periodic interval, the routing information comprising a race number as an indicator of recency and allowing identification of the sink node, a same race number being repeated at least once in routing information sent successively at the periodic interval;</claim-text>
</claim-text>
<claim-text>wherein the race number belongs to a subset of the integers; and</claim-text>
<claim-text>wherein the size of the subset is selected based on the rate of repetition of the race number and the length of the longest chordless cycle of the topology of the network.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The system of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the race number is represented by one bit.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The system of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the node processor is further configured to;
<claim-text>store at each node the last race number received from each of one or more neighbor nodes of each of the nodes; and</claim-text>
<claim-text>if there is a change in the race number contained in routing information received at the node from a first neighbor node after receiving the same race number from each of the one or more neighbor nodes, determine the received routing information to be more recent.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The system of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein node processor is further configured to send routing information at a periodic interval, the routing information comprising a plurality of race numbers as indicators of recency corresponding to a plurality of sink nodes.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The system of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the size of the subset is selected according to:</claim-text>
<claim-text>
<maths id="MATH-US-00041" num="00041">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>rL</mi>
    <mo>&#x2265;</mo>
    <mrow>
      <mrow>
        <mi>c</mi>
        <mo>&#x2061;</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mrow>
              <mfrac>
                <mn>1</mn>
                <mn>2</mn>
              </mfrac>
              <mo>&#x2062;</mo>
              <mi>h</mi>
            </mrow>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.8em" height="0.8ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mi>and</mi>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.8em" height="0.8ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mi>L</mi>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mfrac>
    <mrow>
      <mi>N</mi>
      <mo>-</mo>
      <mn>1</mn>
    </mrow>
    <mn>2</mn>
  </mfrac>
</mrow>
</math>
</maths>
<claim-text>wherein r is the repetition rate of race number, c is a compensating factor, h is the length of the longest chordless cycle of nodes in the network and N is the size of the subset of the integers.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A method of determining a route in a network, the method comprising:
<claim-text>sending routing information from a sink node at a periodic interval, the routing information comprising a race number as an indicator of recency and allowing identification of the sink node, a same race number being repeated at least once in routing information sent successively at the periodic interval;</claim-text>
<claim-text>sending routing information from each of a plurality of nodes at a periodic interval, the routing information being based on stored routing information at each of the plurality of nodes;</claim-text>
<claim-text>repeatedly receiving routing information at any node able to receive routing information;</claim-text>
<claim-text>determining at each node receiving routing information whether the received routing information is more recent than stored routing information at the node; and</claim-text>
<claim-text>if the received routing information at a node is more recent than the stored routing information, storing the received routing information at the node;</claim-text>
<claim-text>wherein sending routing information from a sink node comprises sending at a first periodic interval routing information comprising a first group identifying field and one or more race numbers as indicators of recency corresponding to a first group of one or more sink nodes and sending at a second periodic interval routing information comprising a second group identifying field and one or more race numbers as indicators of recency corresponding to a second group of one or more sink nodes, wherein each of the one or more sink nodes of the first group are identified based on the first group identifying field and the position of each of the one or more race numbers within the routing information sent at the first periodical interval and each of the one or more sink nodes of the second group are identified based on the second group identifying field and the position of each of the one or more race numbers within the routing information sent at the second periodical interval.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the race number is represented by one bit.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, the method further comprising:
<claim-text>storing at each node the last race number received from each of one or more neighbor nodes of each of the nodes; and</claim-text>
<claim-text>if there is a change in the race number contained in routing information received at the node from a first neighbor node after receiving the same race number from each of the one or more neighbor nodes, determining the received routing information to be more recent.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein a same first race number corresponding to one of the sink nodes of the first group sent successively at the first periodic interval is repeated a number of times that is equal to the number of sink nodes in the first group and wherein a same second race number corresponding to one of the sink nodes of the second group sent successively at the second periodic interval is repeated a number of times that is equal to the number of sink nodes in the second group.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. A non-transitory computer-readable medium upon which a plurality of instructions are stored, the instructions for performing the steps of the method as claimed in <claim-ref idref="CLM-00012">claim 12</claim-ref>.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. A system for establishing a route in a network, the system comprising:
<claim-text>a plurality of nodes, each node comprising:
<claim-text>a node memory; and</claim-text>
<claim-text>a node processor, the node processor configured to:
<claim-text>send routing information at a periodic interval, the routing information being based on information stored in the node memory;</claim-text>
<claim-text>receive routing information;</claim-text>
<claim-text>determine whether the received routing information is more recent than the stored routing information at the node; and</claim-text>
<claim-text>if the received routing information is more recent than stored routing information, to store the received routing information in the node memory;</claim-text>
</claim-text>
</claim-text>
<claim-text>wherein at least one of the nodes is a sink node, the processor of the sink node is further configured to: send routing information at a periodic interval, the routing information comprising a race number as an indicator of recency and allowing identification of the sink node, a same race number being repeated at least once in routing information sent successively at the periodic interval; and</claim-text>
<claim-text>wherein the node processor is further configured to send at a first periodic interval routing information comprising a first group identifying field and one or more race numbers as indicators of recency corresponding to a first group of one or more sink nodes and to send at a second periodic interval routing information comprising a second group identifying field and one or more race numbers as indicators of recency corresponding to a second group of one or more sink nodes, wherein each of the one or more sink nodes of the first group are identified based on the first group identifying field and the position of each of the one or more race numbers within the routing information sent at the first periodical interval and each of the one or more sink nodes of the second group are identified based on the second group identifying field and the position of each of the one or more race numbers within the routing information sent at the second periodical interval.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The system of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the race number is represented by one bit.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The system of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the node processor is further configured to:
<claim-text>store at each node the last race number received from each of one or more neighbor nodes of each of the nodes; and</claim-text>
<claim-text>if there is a change in the race number contained in routing information received at the node from a first neighbor node after receiving the same race number from each of the one or more neighbor nodes, determine the received routing information to be more recent.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The system of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein a same first race number corresponding to one of the sink nodes of the first group sent successively at the first periodic interval is repeated a number of times that is equal to the number of sink nodes in the first group and wherein a same second race number corresponding to one of the sink nodes of the second group sent successively at the second periodic interval is repeated a number of times that is equal to the number of sink nodes in the second group.</claim-text>
</claim>
</claims>
</us-patent-grant>
