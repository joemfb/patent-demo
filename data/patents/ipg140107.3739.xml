<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624805-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624805</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12389273</doc-number>
<date>20090219</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>1009</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>09</class>
<subclass>G</subclass>
<main-group>3</main-group>
<subgroup>32</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>345 80</main-classification>
</classification-national>
<invention-title id="d2e53">Correction of TFT non-uniformity in AMOLED display</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7259521</doc-number>
<kind>B1</kind>
<name>Ritter</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2002/0101172</doc-number>
<kind>A1</kind>
<name>Bu</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>3151693</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2005/0110420</doc-number>
<kind>A1</kind>
<name>Arnold et al.</name>
<date>20050500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>3151693</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2005/0156836</doc-number>
<kind>A1</kind>
<name>Yoneyama et al.</name>
<date>20050700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2005/0200291</doc-number>
<kind>A1</kind>
<name>Naugler et al.</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>315149</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2006/0192111</doc-number>
<kind>A1</kind>
<name>Fuhrer et al.</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2007/0069994</doc-number>
<kind>A1</kind>
<name>Takahashi</name>
<date>20070300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2007/0075939</doc-number>
<kind>A1</kind>
<name>Cho et al.</name>
<date>20070400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2007/0195020</doc-number>
<kind>A1</kind>
<name>Nathan et al.</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345 76</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00010">
<othercit>PCT International Search Report and Written Opinion, PCT Application No. PCT/US 09/34735, Apr. 9, 2009.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>3151693</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>315149</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345 76</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345 80</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>12</number-of-drawing-sheets>
<number-of-figures>12</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61031220</doc-number>
<date>20080225</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61104983</doc-number>
<date>20081013</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20090213049</doc-number>
<kind>A1</kind>
<date>20090827</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>McCreary</last-name>
<first-name>James Leo</first-name>
<address>
<city>Los Altos</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>McCreary</last-name>
<first-name>James Leo</first-name>
<address>
<city>Los Altos</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Kile Park Reed &#x26; Houtteman PLLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Siliconfile Technologies Inc.</orgname>
<role>03</role>
<address>
<city>Seoul</city>
<country>KR</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Wang</last-name>
<first-name>Quan-Zhen</first-name>
<department>2693</department>
</primary-examiner>
<assistant-examiner>
<last-name>Davis</last-name>
<first-name>Tony</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Sub-pixel current in an OLED display is forced to converge to a desired level regardless of the source of pixel current error. By using a feedback loop, the pixel transistor current is forced to be equal to a predetermined target current that is established by an analog control circuit. The predetermined target current is selected to generate the desired pixel transistor current through the sub-pixel, and can be set by setting a target voltage. The sub-pixels have a 3T cell structure including 3 TFTs, one TFT for connecting the data line to the storage capacitor, another TFT for driving the sub-pixel current, and still another TFT for connecting the OLED diode anode to the data line of the AMOLED panel. Thus, the feedback loop of the present invention (comprising Taps M and N of a resistor string, and an amplifier, a comparator, and digital logic) senses the pixel transistor current via the data lines of the AMOLED panel to compensate for Mura.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="166.96mm" wi="222.00mm" file="US08624805-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="196.34mm" wi="118.28mm" orientation="landscape" file="US08624805-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="210.90mm" wi="165.78mm" orientation="landscape" file="US08624805-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="230.80mm" wi="172.80mm" orientation="landscape" file="US08624805-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="220.98mm" wi="165.86mm" orientation="landscape" file="US08624805-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="144.27mm" wi="118.28mm" orientation="landscape" file="US08624805-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="211.50mm" wi="173.40mm" orientation="landscape" file="US08624805-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="203.20mm" wi="168.99mm" orientation="landscape" file="US08624805-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="205.15mm" wi="164.00mm" orientation="landscape" file="US08624805-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="207.77mm" wi="169.33mm" orientation="landscape" file="US08624805-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="219.37mm" wi="160.78mm" orientation="landscape" file="US08624805-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="208.96mm" wi="166.45mm" orientation="landscape" file="US08624805-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="226.40mm" wi="179.41mm" orientation="landscape" file="US08624805-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">The present invention claim priority under 35 U.S.C. &#xa7;119(e) from U.S. Provisional Patent Application No. 61/031,220, entitled &#x201c;Dynamic Calibration of Pixel Current Variation and Aging in AMOLED Display,&#x201d; filed on Feb. 25, 2008, and from U.S. Provisional Patent Application No. 61/104,983, entitled &#x201c;Correction of TFT Non-Uniformity in AMOLED Display,&#x201d; filed on Oct. 13, 2008, the subject matters of both of which are incorporated by reference herein in their entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The present invention relates to calibration of current variations in the pixels/sub-pixels of an active matrix organic light-emitting diode (AMOLED) display caused by non-uniformity of thin-film transistors (TFTs) in the sub-pixels.</p>
<p id="p-0005" num="0004">2. Description of the Related Arts</p>
<p id="p-0006" num="0005">An OLED display is generally comprised of an array of organic light emitting diodes (hereafter referred to as &#x201c;OLED diodes&#x201d;) that have carbon-based films deposited between two charged electrodes. Generally one electrode is comprised of a transparent conductor, for example, indium tin oxide (ITO). Generally, the organic material films are comprised of a hole-injection layer, a hole-transport layer, an emissive layer and an electron-transport layer. When voltage is applied to the OLED diode, the injected positive and negative charges recombine in the emissive layer and transduce electrical energy to light energy. Unlike liquid crystal displays (LCDs) that require backlighting, OLED displays are self-emissive devices&#x2014;they emit light rather than modulate transmitted or reflected light. Accordingly, OLEDs are brighter, thinner, faster and lighter than LCDs, and use less power, offer higher contrast and are cheaper to manufacture.</p>
<p id="p-0007" num="0006">An OLED display typically includes a plurality of OLED diodes arranged in a matrix form including a plurality of rows and a plurality of columns, with the intersection of each row and each column forming a pixel of the OLED display. An OLED display is generally activated by way of a current driving method that relies on either a passive-matrix (PM) scheme or an active-matrix (AM) scheme.</p>
<p id="p-0008" num="0007">In a passive matrix OLED (PM OLED) display, a matrix of electrically-conducting rows and columns forms a two-dimensional array of picture elements called pixels. Sandwiched between the orthogonal column and row lines are thin films of organic material of the OLEDs that are activated to emit light when current is applied to the designated row and column lines. The brightness of each pixel is proportional to the amount of current applied to the OLED diodes of the pixel. While PM OLEDs are fairly simple structures to design and fabricate, they demand relatively expensive, current-sourced drive electronics to operate effectively and are limited as to the number of lines because only one line can be on at a time and therefore the PM OLED must have instantaneous brightness equal to the desired average brightness times the number of lines. Thus, PM OLED displays are typically limited to under 100 lines. In addition, their power consumption is significantly higher than that required by an active-matrix OLED. PM OLED displays are most practical in alpha-numeric displays rather than higher resolution graphic displays.</p>
<p id="p-0009" num="0008">An active-matrix OLED (AMOLED) display is comprised of OLED pixels (that are each comprised of R, G, B sub-pixels) that have been deposited or integrated onto a thin film transistor (TFT) array to form a matrix of pixels that emit light upon electrical activation. In contrast to a PM OLED display, for which electricity is distributed row by row, the active-matrix TFT backplane acts as an array of switches coupled with sample and hold circuitry that control and hold the amount of current flowing through each individual OLED sub-pixel during the total frame time. The active matrix TFT array continuously controls the current that flows to the OLED diodes in each of the sub-pixels, signaling to each pixel how brightly to illuminate.</p>
<p id="p-0010" num="0009">AMOLED displays require regulated current in each pixel to produce a desired brightness from the pixel. Ideally, the TFTs in the active matrix TFT array exhibit uniform electrical characteristics, so that the AMOLED display can be precisely controlled in a uniform manner. However, the TFTs in the AMOLED are typically fabricated with poly-silicon (p-Si) that is difficult to fabricate in a uniform manner. This is because p-Si is made by converting amorphous silicon (a-Si) to p-Si by laser annealing the a-Si to increase the crystal grain size. The larger the crystal grain size, the faster and more stable is the resulting semiconductor material. Unfortunately the grain size produced in the laser anneal step is not uniform due to a temperature spread in the laser beam. Thus, uniform TFTs are very difficult to produce and thus the current supplied by TFTs in conventional AMOLED displays is often non-uniform, resulting in non-uniform display brightness. TFT non-uniformity throughout the OLED display causes &#x201c;Mura&#x201d; (streaking or spots) in the OLED displays made with p-Si TFTs. In other words, TFTs may produce different OLED currents due to their non-uniformities from pixel to pixel, even if the same gate voltage is applied to the TFTs.</p>
<p id="p-0011" num="0010">Another problem with AMOLED displays occurs due to aging of the material in the OLEDs. As the OLED diode in each sub-pixel ages with use, it becomes less efficient in converting current to light, i.e., the efficiency of light emission of the OLED diode decreases. Thus, as OLED diode current to light efficiency of the OLED material decreases with use (age), light emitted from an OLED diode in each sub-pixel for a given gate voltage applied to the drive TFTs of the OLED display also decreases. As a result, the OLED display emits less light for display than desired in response to a given gate voltage applied to the drive TFTs. In addition, since the OLED diodes on various parts of the AMOLED display do not age (are not used) equally in a uniform manner, OLED aging also causes non-uniformity in the OLED display.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0012" num="0011">According to various embodiments of the present invention, sub-pixel current in an AMOLED display is forced to converge to a desired level regardless of the source of pixel current error. This is accomplished by forcing pixel transistor current of each sub-pixel to converge to a value such that the pixel transistor current matches a predetermined target current that is established using an analog feedback control circuit, in order to correct Mura. By using a feedback loop, the pixel transistor current of each sub-pixel is forced to be equal to the predetermined target current. The predetermined target current is selected to generate the desired current through the OLED diode for each sub-pixel, and can be set by setting a target voltage. The feedback control circuit can be comprised of a single-sided transresistance amplifier, or a differential transresistance amplifier. At a high level, Mura calibration senses pixel transistor current and allows offset adjustments so that the pixel transistor current becomes equal to a target current.</p>
<p id="p-0013" num="0012">The OLED sub-pixels have a so-called 3T cell structure including three TFTs, one TFT for connecting the data line to the storage capacitor in the OLED sub-pixel, another TFT (the pixel transistor) for driving the OLED diode in each sub-pixel, and still another TFT for connecting the OLED diode anode to the data line of the AMOLED panel so that the pixel transistor current can be measured for Mura calibration. Thus, the feedback loop of the present invention senses the pixel transistor current via the data lines of the AMOLED panel to correct Mura.</p>
<p id="p-0014" num="0013">For Mura correction, an average RGB value corresponding to a target current is loaded onto the column digital-to-analog converters (DACs) driving the data lines of the AMOLED panel. Any deviation of the pixel transistor current from the target current causes Mura distortion (streaking or spotting) and is sensed by the feedback loop via the data line. The feedback circuit determines the offset value to be added to the average RGB value and needed in order to force the pixel transistor current to be equal to the target current. Such offset values are determined, pixel-by-pixel, for all the sub-pixels of the AMOLED panel, thereby obtaining calibration (offset) values needed for Mura correction for each sub-pixel of the AMOLED display.</p>
<p id="p-0015" num="0014">The present invention has the advantage that the pixel transistor current is forced to converge to the desired current level simply by setting the predetermined target current, regardless of the cause of variations, inaccuracies, or non-uniformity in the sub-pixels. Mura calibration can be accurately performed by using such feedback circuitry.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0016" num="0015">The teachings of the embodiments of the present invention can be readily understood by considering the following detailed description in conjunction with the accompanying drawings.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a sub-pixel structure of an AMOLED display, according to one embodiment of the present invention.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 2</figref> illustrates the configuration of an AMOLED panel including OLED sub-pixels with the pixel structure of <figref idref="DRAWINGS">FIG. 1</figref>, according to one embodiment of the present invention.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 3</figref> illustrates an EPIC DDI (Electrical Pixel Correction Display Driver IC) driving an AMOLED panel, according to one embodiment of the present invention.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 4</figref> illustrates the circuitry of the EPIC DDI in more detail, according to one embodiment of the present invention.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 5</figref> illustrates the multiplexer in the EPIC DDI of <figref idref="DRAWINGS">FIG. 4</figref> in more detail, according to one embodiment of the present invention.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIGS. 6A</figref>, <b>6</b>B, <b>6</b>C, <b>6</b>D, and <b>6</b>E illustrate how the EPIC DDI of <figref idref="DRAWINGS">FIG. 4</figref> compensates for Mura distortion in the AMOLED display, according to one embodiment of the present invention.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 7</figref> illustrates the addition of compensation data to real-time display data, according to one embodiment of the present invention.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 8</figref> illustrates the circuitry of the EPIC DDI using a differential transresistance amplifier Mura calibration cell, according to another embodiment of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF EMBODIMENTS</heading>
<p id="p-0025" num="0024">The Figures and the following description relate to preferred embodiments of the present invention by way of illustration only. It should be noted that from the following discussion, alternative embodiments of the structures and methods disclosed herein will be readily recognized as viable alternatives that may be employed without departing from the principles of the claimed invention.</p>
<p id="p-0026" num="0025">Reference will now be made in detail to several embodiments of the present invention(s), examples of which are illustrated in the accompanying figures. It is noted that wherever practicable similar or like reference numbers may be used in the figures and may indicate similar or like functionality. The figures depict embodiments of the present invention for purposes of illustration only. One skilled in the art will readily recognize from the following description that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles of the invention described herein.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a sub-pixel structure of an AMOLED display, according to one embodiment of the present invention. For a color AMOLED display, each pixel includes 3 sub-pixels that have identical structure but emit different colors (R, G, B). For simplicity of illustration, <figref idref="DRAWINGS">FIG. 1</figref> illustrates only one sub-pixel corresponding to one of the R, G, B colors per sub-pixel at the intersection of each row and each column of the AMOLED display panel. As shown in <figref idref="DRAWINGS">FIG. 1</figref>, the active drive circuitry of each sub-pixel <b>100</b> includes TFTs M<b>1</b>, M<b>2</b>, and M<b>3</b> and a storage capacitor C<b>0</b> for driving the OLED diode D<b>0</b> of the sub-pixel. In the following explanation of <figref idref="DRAWINGS">FIG. 1</figref> and ensuing figures, the type of the TFTs M<b>1</b>, M<b>2</b>, M<b>3</b> is p-channel TFT. However, note that n-channel TFTs may also be utilized in the active matrix.</p>
<p id="p-0028" num="0027">The source of TFT M<b>2</b> is connected to data line D, and the drain of TFT M<b>2</b> is connected to the gate of TFT M<b>1</b> (the &#x201c;pixel transistor&#x201d;) and to one side of storage capacitor C<b>0</b>. The source of TFT M<b>1</b> is connected to positive supply voltage ELVDD. The other side of storage capacitor C<b>0</b> is also connected, for example, to the positive supply voltage ELVDD and to the source of TFT M<b>1</b>. Note that the storage capacitor C<b>0</b> may be tied to any reference electrode in the pixel, but the connection shown in <figref idref="DRAWINGS">FIG. 1</figref> has performance benefits in the presence of ELVDD noise. The drain of TFT M<b>1</b> is connected to the anode of the OLED diode D<b>0</b>. The cathode of the OLED diode D<b>0</b> is connected to negative supply voltage ELVSS. The source of TFT M<b>3</b> is connected to the anode of OLED diode D<b>0</b>, and the drain of TFT M<b>3</b> is connected to data line D. The data line D voltages are downloaded to the AMOLED display a row at a time.</p>
<p id="p-0029" num="0028">When TFT M<b>2</b> is turned on, the analog gate voltage from the data line D is applied to the gate of each TFT M<b>1</b> of each sub-pixel, which is locked by storage capacitor C<b>0</b>. In other words, the continuous current flow to the OLED diodes is controlled by the two TFTs M<b>1</b>, M<b>2</b> of each sub-pixel. TFT M<b>2</b> is used to start and stop the charging of storage capacitor C<b>0</b>, which provides a voltage source to the gate of TFT M<b>1</b> at the level needed to create a constant current to the OLED diode. The TFT M<b>2</b> samples the data on the data line D, which is then transferred to and held by the storage capacitor C<b>0</b>. The voltage held on the storage capacitor C<b>0</b> is applied to the gate of the TFT M<b>1</b>. In response, TFT M<b>1</b> drives current through the OLED diode D<b>0</b> to a specific brightness depending on the value of the sampled and held voltage as stored in the storage capacitor C<b>0</b>.</p>
<p id="p-0030" num="0029">In addition to the two TFTs M<b>1</b>, M<b>2</b> typically found in conventional AMOLED cells (&#x201c;2T cell structure&#x201d;), the AMOLED sub-pixel of the present invention employs a &#x201c;3T cell structure&#x201d; that additionally includes a third TFT M<b>3</b> with one additional control line S that can be used to control the gate voltage of TFT M<b>3</b>. As will be explained in more detail below, TFT M<b>3</b>, when turned on, enables either the current through OLED diode D<b>0</b> or the current in pixel transistor M<b>1</b> to be sensed via the data line D. Thus, the AMOLED display of the present invention uses &#x201c;data line sensing&#x201d; to sense either of these currents. As shown in <figref idref="DRAWINGS">FIG. 1</figref>, each sub-pixel <b>100</b> may be represented as a circuit block with 5 terminals, i.e., TFT M<b>2</b> gate voltage G, data line voltage D, M<b>3</b> gate voltage S, and ELVDD and ELVSS.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 2</figref> illustrates the configuration of an AMOLED display panel including OLED sub-pixels with the sub-pixel structure of <figref idref="DRAWINGS">FIG. 1</figref>, according to one embodiment of the present invention. The AMOLED display panel <b>200</b> is for a 480&#xd7;800 RGB AMOLED. Each sub-pixel structure <b>100</b> corresponds to that shown in <figref idref="DRAWINGS">FIG. 1</figref>. Each of 3 sub-pixels is supplied by a dedicated data line D<b>1</b>, D<b>2</b>, . . . , D<b>2400</b> corresponding to each of R, G, B. All the supply voltage lines corresponding to the 2400 columns (800 columns&#xd7;3 colors) D<b>1</b>, D<b>2</b>, . . . , D<b>2400</b> are powered by a common ELVDD supply voltage line. Thus, one column contains 3 data lines. Also note that one additional control line (S<b>1</b>, S<b>2</b>, . . . , S<b>480</b>) is added to each row, to control the TFTs M<b>3</b> in each sub-pixel and achieve data line sensing of the OLED diode current or the pixel transistor current in each sub-pixel via the corresponding data lines D<b>1</b>, D<b>2</b>, . . . , D<b>2400</b>.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 3</figref> illustrates a EPIC DDI (Electrical Pixel Correction Display Driver IC) driving an AMOLED panel <b>200</b>, according to one embodiment of the present invention. EPIC DDI <b>300</b> includes 800 column DACs (Digital-to-Analog Converters) <b>306</b> corresponding to the data lines (D<b>1</b>, D<b>2</b>, . . . , D<b>2400</b>), in groups of 3, of the AMOLED panel <b>200</b> (LTPS backplane). Each of 800 column DACs <b>306</b> can address 3 data lines by using a 1-to-3 RGB MUX (not shown in <figref idref="DRAWINGS">FIG. 3</figref>). Thus all 2400 data lines D<b>1</b>, D<b>2</b>, . . . , D<b>2400</b> can be addressed. An 800&#xd7;2 multiplexer <b>304</b> is used to divert pixel current to a calibration circuit (not shown in <figref idref="DRAWINGS">FIG. 3</figref> but shown in <figref idref="DRAWINGS">FIG. 4</figref>). Multiplexer <b>304</b> includes switches SW<b>1</b>, SW<b>2</b> for each column. Switch SW<b>1</b> connects or disconnects the column DAC <b>306</b> to/from the corresponding column, and switch SW<b>2</b> connects or disconnects the calibration cell (not shown) to the corresponding column for sensing of pixel transistor current in the case of Mura correction (or for sensing of OLED diode current in the case of image sticking calibration) of each sub-pixel via the selected data line (D<b>1</b>, D<b>2</b>, . . . , D<b>2400</b>).</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 4</figref> illustrates the circuitry of the EPIC DDI in more detail, according to one embodiment of the present invention. As will be explained in more detail below with reference to <figref idref="DRAWINGS">FIGS. 6A through 6F</figref>, the EPIC DDI circuitry of <figref idref="DRAWINGS">FIG. 4</figref> can be used to correct Mura (streaking or spotting) and aging of the OLEDs in the sub-pixels and other current variations. According to the circuitry in <figref idref="DRAWINGS">FIG. 4</figref>, either OLED diode current (in the case of image sticking calibration) or pixel transistor current (in the case of Mura calibration) in the sub-pixel is forced to converge to a desired level represented by the input voltage Vtarget at the comparator <b>408</b>, regardless of the source of pixel current error. Vtarget can be selected to generate the desired current through the sub-pixel.</p>
<p id="p-0034" num="0033">Switches SW<b>1</b> (see <figref idref="DRAWINGS">FIG. 3</figref>) in MUX <b>304</b> connect each of 800 column DACs <b>306</b> to each of 800 columns of the AMOLED panel. Switches SW<b>2</b> in MUX <b>304</b> allows each of the columns to be switched sequentially to a single calibration cell (see <figref idref="DRAWINGS">FIG. 4</figref>) comprised of amplifier <b>410</b>, switch SW<b>5</b>, resistor Rdd, resistor string <b>412</b>, comparator <b>408</b>, offset RAM <b>406</b>, etc., so that one calibration cell can be used to calibrate all the sub-pixels in the AMOLED panel <b>200</b>. Although one calibration cell is used in the following description herein, multiple calibration cells may also be used to reduce Mura calibration time at the expense of the additional circuitry. Column DACs <b>306</b> drive Vdata voltage on the selected data lines (D<b>1</b>, D<b>2</b>, . . . , D<b>2400</b>) to be proportional to RGB display data. Offset RAMs <b>406</b> contain offset values that can be added to (or subtracted from) RGB data for calibration. As a result, column DACs <b>306</b> generate the Vdata voltage driving each pixel that is offset from an average RGB value by a unique amount corresponding to the offset values in the offset RAMS <b>406</b> so that the pixel transistor current is identical in each sub-pixel (of the same color) independent of pixel transistor variations or mismatches.</p>
<p id="p-0035" num="0034">In the case of Mura calibration, the switches SW<b>1</b> connect the column DACs <b>306</b> (through the RGB MUX not shown in <figref idref="DRAWINGS">FIG. 4</figref>) to the data lines (D<b>1</b>, D<b>2</b>, . . . , D<b>2400</b>) of the AMOLED panel <b>200</b>. The non-inverting input to amplifier <b>410</b> is simultaneously set to the voltage Vdx. However, when switches SW<b>2</b> in the MUX <b>304</b> connect the data lines to the calibration circuitry comprised of the amplifier <b>410</b>, comparator <b>408</b>, and resistor Rdd, etc., the current through the pixel transistors (not shown in <figref idref="DRAWINGS">FIG. 4</figref>) in the connected sub-pixel is sensed via resistor Rdd as the voltage Vamp at the output of feedback amplifier <b>410</b>. Specifically, Vamp (more specifically, Vamp&#x2212;Vdx) is proportional to data line current, which is proportional to pixel transistor current. Resistor string <b>412</b> is a Gamma DAC with taps at each gray level of the AMOLED display. Voltage Vdx at the positive input of amplifier <b>410</b> can be set by Tap N of resistor string <b>412</b>. Voltage Vtarget at one input of comparator <b>408</b> can be set by Tap M of resistor string <b>412</b>. During Mura calibration, both SW<b>8</b> and SW<b>9</b> are open and the SMPS (switched-mode power supply) <b>402</b> is turned off. Then both ELVDD and ELVSS are externally driven by a low-noise DC power supply that is equal to the ELVDD value of the SMPS <b>402</b>. This prevents pixel current flow through the OLEDs.</p>
<p id="p-0036" num="0035">Referring to <figref idref="DRAWINGS">FIG. 4</figref>, the output Vcomp of comparator <b>408</b> is used to increase or decrease (Inc/Dec) the values in the Offset RAMs <b>406</b>, based on the value of Vtarget and Vamp. Vdata increases or decreases according to the values in the offset RAMs <b>406</b>, and then this new value of Vdata is loaded onto the storage capacitors C<b>0</b> of the corresponding sub-pixels via switches SW<b>1</b> and this in turn increases or decrease pixel transistor current in the corresponding AMOLED sub-pixels. Such pixel transistor current is then sensed via its corresponding data line via switches SW<b>2</b> in MUX <b>304</b> as voltage Vamp at the output of amplifier <b>410</b>. Thus, a sampled-data feedback loop <b>400</b> is formed by this circuitry.</p>
<p id="p-0037" num="0036">Comparator <b>408</b> compares Vtarget to Vamp. As will be explained further below, Vamp decreases as the pixel transistor current sensed via data lines D<b>1</b>, D<b>2</b>, . . . , D<b>2400</b> increases. If Vtarget&#x3c;Vamp initially, comparator <b>408</b> increments the DAC offset RAM value until Vtarget&#x3e;Vamp as a result of multiple iterations of the feedback loop <b>400</b>. If Vtarget&#x3e;Vamp initially, comparator <b>408</b> decrements the DAC offset RAM until Vtarget&#x3c;Vamp, as a result of multiple iterations of the feedback loop <b>400</b>. The process converges when the comparator <b>408</b> output switches. In this manner, Vamp is forced to be equal to Vtarget regardless of variations, errors, etc. in the OLED sub-pixels, and thus the pixel transistor current represented by Vamp is forced to be equal to the target current value represented by the voltage Vtarget. Thus, after iterations converge, pixel transistor current in each sub-pixel can be precisely controlled and forced to a fixed value simply by setting Vtarget.</p>
<p id="p-0038" num="0037">Note that, for simplicity of illustration of Mura calibration, <figref idref="DRAWINGS">FIG. 4</figref> and <figref idref="DRAWINGS">FIGS. 6A through 6E</figref> show only the offset RAMs <b>406</b> as providing the digital input to the column DACs <b>306</b>, and other components that would be present in actual implementations of the AMOLED panel are omitted in <figref idref="DRAWINGS">FIG. 4</figref>. However, in actual implementation, the offset RAM <b>406</b> would be replaced by the combined circuitry including Mura offset RAM <b>706</b>, aging offset RAM <b>704</b>, Mura offset data scaler <b>718</b>, aging offset data scaler <b>720</b>, RGB input data <b>724</b>, adder <b>722</b>, together generating the compensated RGB data <b>702</b> for input to the column DACs <b>306</b>, as shown and explained in more detail below with reference to <figref idref="DRAWINGS">FIG. 7</figref>. For Mura calibration, it is the Mura offset RAM <b>706</b> whose values are calibrated (incremented or decremented) based on the outputs from the Vcomp comparator <b>408</b> by operation of the feedback loop <b>400</b>.</p>
<p id="p-0039" num="0038">Note that during Mura calibration of the OLED pixels at the factory, the SMPS ELVDD voltage is measured, and then the SMPS <b>402</b> (which powers the AMOLED in normal operation) is turned off. For Mura calibration, ELVDD voltage is then supplied to the AMOLED panel <b>200</b> by a low-noise supply (not shown herein), and the ELVSS pin is forced to the same voltage as ELVDD, ensuring that the OLED diode current is zero. For image sticking calibration in the field, ELVDD is driven to GND by switch SW<b>8</b>, and ELVSS is driven by VSS, an adjustable regulator, to a voltage (&#x2212;2 to &#x2212;4 volt) by switch SW<b>9</b>, thus ensuring that with the appropriate gate voltage on TFT M<b>1</b> the pixel transistor current is zero.</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 5</figref> illustrates the multiplexer (MUX) <b>304</b> in the EPIC DDI of <figref idref="DRAWINGS">FIG. 4</figref> in more detail, according to one embodiment of the present invention. As shown in <figref idref="DRAWINGS">FIG. 5</figref>, the MUX <b>304</b> has two switches, SW<b>1</b> and SW<b>2</b> corresponding to each of the 800 columns of the AMOLED. MUX <b>304</b> connects the column DAC <b>306</b> to the corresponding column for normal operation using switch SW<b>1</b>, and connects a selected column to the calibration circuitry (resistor Rdd in <figref idref="DRAWINGS">FIG. 4</figref>) for pixel transistor current measurement in the feedback loop <b>400</b> for calibration using switch SW<b>2</b>.</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIGS. 6A</figref>, <b>6</b>B, <b>6</b>C, <b>6</b>D, and <b>6</b>E illustrate how the EPIC DDI of <figref idref="DRAWINGS">FIG. 4</figref> compensates for Mura distortion in the AMOLED display, according to one embodiment of the present invention. As mentioned above, in order to simplify the Mura calibration explanation, the RGB input <b>724</b>, offset scalers <b>718</b> and <b>720</b>, adder <b>722</b> and compensated RGB data register <b>724</b> at the input of each column DAC <b>306</b> are omitted in <figref idref="DRAWINGS">FIGS. 6A</figref>, <b>6</b>B, <b>6</b>C, <b>6</b>D, and <b>6</b>E. Capacitor CL and resistor RL represent the parasitic capacitance and parasitic resistance, respectively, present on each data line and can be assumed to be equal for all data lines.</p>
<p id="p-0042" num="0041">The first step of Mura calibration is to store an average RGB value on the pixel storage capacitors C<b>0</b>, as shown in <figref idref="DRAWINGS">FIG. 6A</figref>. Here, the &#x201c;average RGB value&#x201d; is the analog equivalent of the &#x201c;average RGB data&#x201d; (when converted to analog) which produces a pixel transistor current equal to Itarget (e.g., 200 nA) in all pixels, which could have been measured in the factory empirically. Loading such average RGB value onto the OLED pixels prior to Mura calibration reduces the time required for Mura calibration.</p>
<p id="p-0043" num="0042">Referring to <figref idref="DRAWINGS">FIG. 6A</figref>, the ELVSS pin is set to ELVDD for Mura calibration operations. Tap N of resistor string <b>412</b> is set to a nominal data line voltage (+2V) at Vdx for pixel transistor current measurement for Mura calibration operations. Then, the &#x201c;average RGB data&#x201d; is loaded into column DAC <b>306</b> (for the 1st bit of Mura offset calibration), and the offset RAM <b>406</b> value is set to zero (0) only for the 1st bit of the Mura calibration offset value of a pixel that is being calibrated. For all other bits of Mura calibration, the offset RAM <b>406</b> will begin with the previous value set during calibration of the previous bit. Thereafter, switch SW<b>2</b> is opened and switches SW<b>1</b> and SW<b>5</b> are closed as shown in <figref idref="DRAWINGS">FIG. 6A</figref>. Also, TFT M<b>3</b> is turned off, and TFT M<b>2</b> is turned on. Then, the RGB MUX is selected to connect the corresponding column to one of the three data lines connected to the sub-pixel that is to be calibrated. Note that this step of selecting the RGB MUX is performed because there are 3 sub-pixels each corresponding to colors R, G, B, in a pixel, but does not directly affect the calibration process. For the purposes of illustration of Mura calibration according to the present invention, each sub-pixel may be treated like a single, independent OLED pixel.</p>
<p id="p-0044" num="0043">Next, since TFT M<b>2</b> is on, the column DAC <b>306</b> voltage (which is set to the average RGB value) applied to the connected data line D is also applied as the gate voltage Vg to TFT M<b>1</b>, as shown in arrow <b>602</b>, and the voltage Vg settles on data line D. Then, TFT M<b>2</b> is turned off, and the pixel voltage corresponding to the voltage Vg settles on storage capacitor C<b>0</b>. As a result, charges corresponding to the average RGB value are stored in the pixel storage capacitor C<b>0</b> of the calibrated sub-pixel.</p>
<p id="p-0045" num="0044">The second step of Mura calibration is to pre-charge the data line D to the voltage Vdx set by Tap N of the resistor string <b>412</b>, as shown in <figref idref="DRAWINGS">FIG. 6B</figref>. Continuing from <figref idref="DRAWINGS">FIG. 6A</figref>, TFT M<b>2</b> is turned off, switch SW<b>1</b> is opened, and switches SW<b>2</b> and SW<b>5</b> are closed. Also, TFT M<b>3</b> is turned on by applying a turn-on voltage to the gate of TFT M<b>3</b> on the sense line S. Next, Vtarget is set to Vtarget=Vdx&#x2212;Itarget&#xd7;Rdd where Itarget=200 nA (for example). Closing switch SW<b>5</b> forces the voltage on data line D to settle quickly to Vdx.</p>
<p id="p-0046" num="0045">The third step of Mura calibration is to measure the pixel transistor current and determine the 1st bit of the offset RAM <b>406</b> value for calibration based on the measured pixel transistor current, as shown in <figref idref="DRAWINGS">FIG. 6C</figref>. To this end, switch SW<b>5</b> is opened, which causes the pixel transistor current Ip to flow from TFT M<b>1</b>, through TFT M<b>3</b>, through resistor RL on data line D, and through resistor Rdd in the calibration circuitry. The output voltage Vamp of amplifier <b>410</b> becomes Vamp=Vdx&#x2212;Ip&#xd7;Rdd. That is, the larger the pixel transistor current Ip, the smaller the output voltage Vamp of amplifier <b>410</b>. Using Comp to denote the logical output of comparator <b>408</b>, if Comp=0, then Vtarget&#x3e;Vamp, which means the pixel transistor current Ip is larger than the desired current Itarget as represented by the voltage Vtarget and thus the strobed or clocked comparator <b>408</b> decrements the offset value (1<sup>st </sup>bit) in offset RAM <b>406</b>. If Comp=1, then Vtarget&#x3c;Vamp, which means the pixel transistor current Ip is smaller than the desired current Itarget as represented by the voltage Vtarget and thus the strobed or clocked comparator <b>408</b> increments the offset value (1<sup>st </sup>bit) in offset RAM <b>406</b>. This comparison process by comparator <b>408</b> occurs once per each bit of the offset value. As a result, the offset RAM <b>406</b> contains the value of the 1st bit of Mura calibration (this value can be positive or negative).</p>
<p id="p-0047" num="0046">The next step of Mura calibration is to add the average RGB data to the offset RAM <b>406</b> data and to apply this sum to the column DAC <b>306</b> digital input. This action changes the DAC <b>306</b> output and this new value is then transferred onto the storage capacitor C<b>0</b> of the OLED sub-pixel. The second bit of the offset value for Mura calibration can now be determined. Referring to <figref idref="DRAWINGS">FIG. 6D</figref>, the updated column DAC <b>306</b> value (reflecting the 1<sup>st </sup>bit of the offset RAM <b>406</b> data determined with reference to FIG. <b>6</b>C added to the average RGB data) is loaded onto storage capacitor C<b>0</b> via path <b>602</b>, by turning TFT M<b>3</b> off and TFT M<b>2</b> on, opening switch SW<b>2</b> and closing switches SW<b>1</b> and SW<b>5</b>, and selecting the same RGB MUX (for the same pixel). As a result, the modified column DAC <b>306</b> voltage quickly settles on the data line D, is applied as the gate voltage Vg of TFT M<b>1</b>, and is stored in the storage capacitor C<b>0</b>. Then, TFT M<b>2</b> is turned off. Then, the same processes as explained with reference to <figref idref="DRAWINGS">FIGS. 6B and 6C</figref> are performed to sense the pixel transistor current Ip via path <b>604</b>&#x2032; and determine the second bit of the offset RAM <b>406</b> value for Mura calibration.</p>
<p id="p-0048" num="0047">The processes described in <figref idref="DRAWINGS">FIGS. 6A through 6D</figref> are repeated to obtain the subsequent bits of the offset RAM <b>406</b> data until the maximum number of bits of the offset RAM for Mura calibration are determined (for SAR search) or the comparator <b>406</b> switches (for proximity search, which is a linear sequential search). Such final value of the offset RAM <b>406</b> is stored in the Mura offset RAM (<b>706</b> in <figref idref="DRAWINGS">FIG. 7</figref>) location for the 1st pixel, and as a result the 1st pixel Mura calibration is complete. Then, staying on the same data line D, the calibration process of <figref idref="DRAWINGS">FIGS. 6A through 6D</figref> is repeated, traversing down the same column as in the first calibrated pixel, until all pixels in that column have been calibrated and their offsets are stored into their corresponding locations in the offset RAM <b>406</b>. Then, the calibration process of <figref idref="DRAWINGS">FIGS. 6A through 6D</figref> is repeated, proceeding to the next column and so on, until all pixels in all columns have been calibrated for Mura or streaking. As a result, Mura calibration is complete, and ELVSS and ELVDD voltages are reset for normal operation of the AMOLED display. Either successive approximation (SAR search) or linear search could be used during calibration.</p>
<p id="p-0049" num="0048">As can be seen from the above and further illustrated in <figref idref="DRAWINGS">FIG. 6E</figref>, Mura calibration according to the present invention uses discrete time feedback. Column DAC <b>306</b> voltage drives the gate voltage Vg of TFT M<b>1</b> via path <b>602</b>, and voltage Vg determines pixel transistor current Ip. Pixel transistor current Ip determines the output voltage Vamp of amplifier <b>410</b> via path <b>604</b>&#x2032;, and the voltage Vamp drives an input to comparator <b>408</b>. Comparator <b>408</b> drives offset RAM <b>406</b>, whose data is added to the average RGB data, and then this sum is applied to the digital input of the column DAC <b>306</b>. The feedback loop <b>602</b>, <b>604</b>&#x2032;, <b>606</b> improves calibration cell accuracy by cancelling out offsets, gain errors, and non-linearities during Mura calibration.</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 7</figref> illustrates the generation of compensated RGB data that is held in column DAC register <b>702</b> which drives the column DAC <b>306</b> for real-time display by adding the scaled Mura and image sticking (aging) offset data to the RGB data in real time, according to one embodiment of the present invention. The Mura offset RAM <b>706</b> and the aging offset RAM <b>704</b> store offset values for correction of the DAC data in order to compensate for Mura and aging, respectively, in the AMOLED display. The offset data for age (image sticking) compensation may be determined in a variety of ways, which are not the subject of the invention herein and are not described herein. Data in the Mura offset RAM <b>704</b> are entered through the Mura calibration process described above with reference to <figref idref="DRAWINGS">FIGS. 6A-6E</figref>.</p>
<p id="p-0051" num="0050">For aging compensation, the un-aged OLED diode forward voltage Vf(un-aged) <b>716</b> (shown as &#x201c;Un-aged Pixel Vf&#x201d; in <figref idref="DRAWINGS">FIG. 7</figref>) of each sub-pixel for un-aged sub-pixels conducting a predetermined constant OLED diode current (Itarget) may be compared with the forward voltage Vf(aged) <b>714</b> (shown as &#x201c;Aged Pixel Vf&#x201d; in <figref idref="DRAWINGS">FIG. 7</figref>) of aged OLED diodes needed to have the same predetermined constant OLED diode current (Itarget) flow in aged OLED diodes, to determine a difference &#x394;VF <b>712</b> in such forward voltages and infer how aged the OLED diode is. The forward voltage difference &#x394;VF <b>712</b> is used as an index into a look-up table <b>710</b> that stores factory-determined full-scale aging offset data needed to compensate for such aging in the OLED diodes as a function of the inferred age of the OLED diode. Such aging offset data is stored in the aging offset RAM <b>704</b> at a location corresponding to the calibrated sub-pixel.</p>
<p id="p-0052" num="0051">The data stored for each sub-pixel in the offset RAMs <b>704</b> and <b>706</b> corresponds to the correction needed for full-scale pixel current (e.g., Ip=200 nA) which corresponds to a full-scale RGB data (also equal to the &#x201c;average RGB data&#x201d;). For real-time display, the data in the offset RAMs <b>704</b> and <b>706</b> should be scaled according to the real-time RGB data so that full-scale offsets are scaled accordingly for less than full-scale RGB input data. Mura offset data scaler <b>718</b> and aging offset data scaler <b>720</b> scale the full-scale Mura offset data and the full-scale aging offset data, respectively, to correspond to the real-time RGB data <b>724</b> for the driven sub-pixel. Adder <b>722</b> performs real-time addition of the scaled Mura offset value <b>732</b> and the scaled aging (image sticking) offset value <b>734</b> to the real-time RGB data <b>724</b> corresponding to the driven sub-pixel, and the summed result is stored temporarily in column DAC registers <b>702</b> as compensated RGB data for driving the column DAC <b>306</b> that subsequently drives the sub-pixel for real-time display.</p>
<p id="p-0053" num="0052">Note that unwanted external noise is present in the OLED display panel <b>200</b>. As can be seen from FIGS. <b>4</b> and <b>6</b>A-<b>6</b>E, the calibration cell of FIGS. <b>4</b> and <b>6</b>A-<b>6</b>E use a single-sided transresistance amplifier <b>410</b>, in that amplifier <b>410</b> generates a single signal that contains both the pixel current signal and also associated panel noise. This approach results in amplifier <b>410</b> amplifying the associated panel noise as well as the pixel current signal in the OLED pixel to be calibrated.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 8</figref> illustrates the circuitry of the EPIC DDI using a differential transresistance amplifier Mura calibration cell, according to another embodiment of the present invention. The calibration cell <b>800</b> shown in <figref idref="DRAWINGS">FIG. 8</figref> uses a differential transresistance amplifier comprised of two amplifiers, Vampa <b>410</b> and Vampb <b>810</b>. In other words, the calibration cell <b>800</b> shown in <figref idref="DRAWINGS">FIG. 8</figref> is substantially same as the calibration cell <b>300</b> shown in FIGS. <b>4</b> and <b>6</b>A-<b>6</b>E, except that it additionally includes the second amplifier circuitry comprised of amplifier Vampb <b>810</b>, resistor Rdd<b>2</b>, switch SW<b>6</b>, column DAC B <b>806</b>, and switch SW<b>7</b>, sensing noise current from an adjacent data line B <b>802</b> adjacent to data line A <b>801</b> for Mura calibration. Voltage Vdx at tap N of resistor string <b>412</b> is provided to the positive input of amplifier Vampa <b>410</b>. On the other hand, the target voltage Vtarget at tap M of resistor string <b>412</b> is provided to the positive input of amplifier Vampb <b>810</b>, rather than directly to one input of comparator Comp <b>408</b>. The benefit of this approach is noise cancellation, as explained in more detail below.</p>
<p id="p-0055" num="0054">Noise in the OLED panel <b>200</b> is present in nearly equal amounts on all data lines of the OLED panel <b>200</b>. Noise current is coupled in equal amounts to data line A <b>801</b> and data line B <b>802</b> by capacitors CLa and CLb, respectively. During Mura calibration, the gate voltage of pixel transistor M<b>1</b><i>a </i><b>803</b> is driven by column DAC A <b>306</b> which generates a pixel current Ipa through transistor M<b>1</b><i>a </i><b>803</b> that is sensed by amplifier Vampa <b>410</b>. The output of amplifier Vampa <b>410</b> is a voltage representing the pixel current through transistor M<b>1</b><i>a </i><b>803</b> as well as noise. Column DAC B <b>806</b> simultaneously drives the gate voltage of the sub-pixel transistor M<b>1</b><i>b </i><b>804</b> such that the current of sub-pixel transistor M<b>1</b><i>b </i>is zero. The sub-pixel transistor M<b>1</b><i>b </i><b>804</b> is on the same row as the sub-pixel transistor M<b>1</b><i>a</i>, but is connected to an adjacent data line B <b>802</b>. Since pixel current of transistor M<b>1</b><i>b </i>is driven to zero, only noise current is sensed through data line B <b>802</b> across resistor Rdd<b>2</b> at the output of amplifier Vampb <b>810</b>, and absent the noise current, the output voltage Vampb is equal to the voltage Vtarget. Thus, amplifier Vampb <b>810</b> amplifies only the noise present on data line B <b>802</b>. Since noise components on data line B <b>802</b> and data line A <b>801</b> are substantially equal, the output voltages of both amplifiers Vampa <b>410</b> and Vampb <b>810</b> have the same noise voltages. Comparator Comp <b>408</b> rejects (cancels out) this noise, because it is common-mode noise (present in equal amounts at each input of comparator Comp <b>408</b>). Therefore the differential transresistance amplifier comprised of the two amplifiers <b>410</b>, <b>810</b> has the benefit of rejecting unwanted external noise in the OLED display <b>200</b> during pixel current measurement of the Mura-calibrated sub-pixel.</p>
<p id="p-0056" num="0055">More specifically, the 3T OLED pixel to be Mura-calibrated is connected to data line A <b>801</b> and includes OLED D<b>0</b><i>a</i>, capacitor C<b>0</b><i>a</i>, and transistors M<b>1</b><i>a </i><b>803</b>, M<b>2</b><i>a</i>, and M<b>3</b><i>a</i>. Another 3T OLED pixel is connected to data line B <b>802</b> adjacent to data line A <b>801</b> on the same row, and includes OLED D<b>0</b><i>b</i>, capacitor C<b>0</b><i>b</i>, and transistors M<b>1</b><i>b </i><b>804</b>, M<b>2</b><i>b</i>, and M<b>3</b><i>b</i>. The gate voltage of pixel transistor M<b>1</b><i>a </i><b>803</b> is controlled by column DAC A <b>306</b> via switch SW<b>1</b>, and the gate voltage of pixel transistor M<b>1</b><i>b </i><b>804</b> is controlled by column DAC B <b>806</b> via switch SW<b>7</b>.</p>
<p id="p-0057" num="0056">Amplifier Vampa <b>410</b> forms a transresistance amplifier connected to data line A <b>801</b>, senses pixel current Ipa through pixel transistor M<b>1</b><i>a </i><b>803</b> via data line A <b>801</b>, and provides an output voltage Vampa proportional to such pixel current through pixel transistor M<b>1</b><i>a </i><b>803</b>. Similarly, amplifier Vampb <b>810</b> forms another transresistance amplifier connected to data line B <b>802</b>, senses pixel current through pixel transistor M<b>1</b><i>b </i><b>804</b> via data line B <b>802</b>, and provides an output voltage Vampb proportional to such pixel current through pixel transistor M<b>1</b><i>b </i><b>804</b>. However, for Mura calibration, this pixel current in the adjacent pixel through pixel transistor M<b>1</b><i>b </i>is set to zero by column DAC B <b>806</b>. Therefore the output of amplifier Vampb <b>810</b> is ideally equal to Vtarget, if noise were not present. The voltage Vdx <b>811</b> at Tap N of resistor string <b>412</b> sets the bias voltage of data line A <b>801</b> to an appropriate value for sensing the pixel current Ipa over the required voltage range. The voltage Vtarget <b>812</b> is set by Tap M of resistor string <b>412</b> to the value representing the target pixel current of pixel transistor M<b>1</b><i>a </i><b>803</b>. If the pixel current Ipa through pixel transistor M<b>1</b><i>a </i>is same as the target current set by the voltage Vtarget, the outputs of amplifier Vampa <b>410</b> and Vampb <b>810</b> would be equal and the comparator <b>408</b> would be at its switching point.</p>
<p id="p-0058" num="0057">When no external panel noise is present, the output voltage Vamp of amplifier Vampb <b>810</b> would be exactly equal to Vtarget because the pixel current through M<b>1</b><i>b </i><b>804</b> on data line B <b>802</b> is zero. In this condition, the voltage input to the comparator <b>408</b> is the same for the differential transresistance amplifier of <figref idref="DRAWINGS">FIG. 8</figref> as for the single ended transresistance amplifier of <figref idref="DRAWINGS">FIGS. 6A-6E</figref>. The process of Mura calibration then results in a feedback convergence as previously described above with reference to <figref idref="DRAWINGS">FIGS. 6A-6E</figref>. At the end of the calibration cycle, the offset RAM <b>406</b> (more specifically, Mura offset RAM <b>706</b>) contains the proper offset to the RGB value that provides the gate voltage that exactly produces the pixel current value Itarget that corresponds to the voltage Vtarget.</p>
<p id="p-0059" num="0058">However, when noise is present in the OLED panel <b>200</b> noise, the data line A <b>801</b> and the data line B <b>802</b> pickup equal or nearly equal noise voltages. These noise voltages are amplified by both amplifier Vampa <b>410</b> and Vampb <b>810</b>, which drive equally amplified noise voltages on each input of comparator Comp <b>408</b>. Since the comparator <b>408</b> is designed with good rejection of such common mode signals, the noise is rejected. Thus, the calibration cell <b>800</b> of <figref idref="DRAWINGS">FIG. 8</figref> allows superior detection of small pixel currents and more accurate Mura calibration without adverse effects from noise present in the AMOLED panel. Although the example in <figref idref="DRAWINGS">FIG. 8</figref> illustrates the situation where amplifier Vampb <b>810</b> is connected to a sub-pixel on a data line adjacent to that of the sub-pixel to be calibrated for Mura, amplifier Vampb <b>810</b> could be connected to non-adjacent data lines, since noise in the OLED sub-pixels is generally at the same level from data line to data line.</p>
<p id="p-0060" num="0059">The process for Mura calibration using the calibration cell of <figref idref="DRAWINGS">FIG. 8</figref> is substantially the same as the process for Mura calibration using the calibration cell described above with reference to <figref idref="DRAWINGS">FIGS. 6A-6E</figref>, except that the voltage Vtarget is augmented with the noise voltage amplified by amplifier Vampb <b>810</b> connected to the adjacent data line B <b>802</b> on the same row as transistor M<b>1</b><i>a </i><b>803</b>, for comparison with the output voltage Vampa of amplifier Vampa <b>410</b> reflecting the pixel current through pixel transistor M<b>1</b><i>a</i>. Specifically, the first step of Mura calibration using the calibration cell of <figref idref="DRAWINGS">FIG. 8</figref> is to store an average RGB value on the pixel storage capacitors C<b>0</b><i>a </i>of the OLED pixel to be calibrated. Again, the &#x201c;average RGB value&#x201d; is the analog equivalent of the &#x201c;average RGB data&#x201d; (when converted to analog) which produces a pixel transistor current equal to Itarget (e.g., 200 nA) in all pixels, which could have been measured in the factory empirically. Loading such average RGB value onto the OLED pixels prior to Mura calibration reduces the time required for Mura calibration. The ELVSS pin is set to ELVDD for Mura calibration operations to ensure that the OLEDs D<b>0</b><i>a</i>, D<b>0</b><i>b </i>are turned off. Tap N of resistor string <b>412</b> is set to a nominal data line voltage (+2V) at Vdx <b>811</b> for pixel transistor current measurement for Mura calibration operations.</p>
<p id="p-0061" num="0060">Then, the &#x201c;average RGB data&#x201d; is loaded into column DAC A <b>306</b> (for the 1st bit of Mura offset calibration), and the offset RAM <b>406</b> value is set to zero (0) only for the 1st bit of the Mura calibration offset value of a pixel that is being calibrated. For all other bits of Mura calibration, the offset RAM <b>406</b> will begin with the previous value set during calibration of the previous bit. Also, zero RGB data is loaded onto the column DAC B <b>806</b> of the OLED pixel coupled to the adjacent data line on the same row as the OLED pixel to be calibrated. Thereafter, switches SW<b>1</b>, SW<b>5</b>, SW<b>6</b>, and SW<b>7</b> are closed but switches SW<b>2</b> and SW<b>3</b> are open. Also, TFT M<b>3</b><i>a </i>is turned off, TFT M<b>2</b><i>a </i>is turned on, TFT M<b>3</b><i>b </i>is turned off, and TFT M<b>2</b><i>b </i>is turned on. Then, the RGB MUX for both pixels is selected to connect the corresponding column to one of the three data lines connected to the sub-pixel that is to be calibrated. Note that this step of selecting the RGB MUX is performed because there are 3 sub-pixels each corresponding to colors R, G, B, in a pixel, but does not directly affect the calibration process. For the purposes of illustration of Mura calibration according to the present invention, each sub-pixel may be treated like a single, independent OLED pixel.</p>
<p id="p-0062" num="0061">Next, since TFT M<b>2</b><i>a </i>is on, the column DAC A <b>306</b> voltage (which is set to the average RGB value) applied to the connected data line A <b>801</b> is also applied as the gate voltage Vg to TFT M<b>1</b><i>a</i>, and the voltage Vg settles on data line A <b>801</b>. Similarly, the zero RGB data on column DAC B <b>806</b> also settles as zero gate voltage on data line B <b>802</b>. Then, TFT M<b>2</b><i>a </i>and TFT M<b>2</b><i>b </i>are turned off, and the pixel voltage corresponding to the voltage Vg settles on storage capacitor C<b>0</b><i>a </i>and zero voltage settles on storage capacitor C<b>0</b><i>b </i>in the adjacent OLED sub-pixel. As a result, charges corresponding to the average RGB value are stored in the pixel storage capacitor C<b>0</b><i>a </i>of the calibrated sub-pixel, while no charges are stored in the pixel storage capacitor C<b>0</b><i>b </i>of the adjacent sub-pixel.</p>
<p id="p-0063" num="0062">The second step of Mura calibration is to pre-charge the data line A <b>801</b> to the voltage Vdx set by Tap N of the resistor string <b>412</b>. To this end, TFT M<b>2</b><i>a </i>is turned off, switch SW<b>1</b> is opened, and switches SW<b>2</b> and SW<b>5</b> are closed. Also, TFT M<b>3</b><i>a </i>is turned on by applying a turn-on voltage to the gate of TFT M<b>3</b><i>a </i>on the sense line S. Closing switch SW<b>5</b> forces the voltage on data line A <b>801</b> to settle quickly to Vdx. Vdx=2V for bias voltage optimization. Similarly, TFT M<b>2</b><i>b </i>is turned off, switch SW<b>7</b> is opened and switches SW<b>3</b> and SW<b>6</b> are closed. Also, TFT M<b>3</b><i>b </i>is turned on by applying a turn-on voltage to the gate of TFT M<b>3</b><i>b </i>on the sense line S. Next, voltage Vtarget is set to Vtarget=Vdx&#x2212;Itarget&#xd7;Rdd where Itarget=200 nA (for example). Closing switch SW<b>6</b> forces the voltage on data line B <b>802</b> to quickly settle to Vtarget.</p>
<p id="p-0064" num="0063">The third step of Mura calibration is to measure the pixel transistor current and determine the 1st bit of the offset RAM <b>406</b> value for calibration based on the measured pixel transistor current, as shown in <figref idref="DRAWINGS">FIG. 8</figref>. To this end, switch SW<b>5</b> is opened, which causes the pixel transistor current Ipa to flow from TFT M<b>1</b><i>a</i>, through TFT M<b>3</b><i>a</i>, on data line A <b>801</b>, and through resistor Rdd<b>1</b>. The output voltage Vampa of amplifier <b>410</b> becomes Vampa=Vdx&#x2212;(Ipa+Ina)&#xd7;Rdd<b>2</b>, where Ipa is the pixel transistor current through TFT M<b>1</b><i>a </i>and Ina is the current reflecting the noise on data line A <b>801</b> of the calibrated pixel. The larger the pixel transistor current Ipa and the noise current Ina, the smaller the output voltage Vamp of amplifier <b>410</b>. Similarly, current Inb reflecting noise in the adjacent data line B containing TFT M<b>1</b><i>b </i>would be present, and the output voltage Vampb of amplifier <b>801</b> becomes Vampb=Vtarget&#x2212;(Inb)&#xd7;Rdd<b>2</b>, since the pixel current through TFT M<b>1</b><i>b </i>is zero. The resistance value of resistor Rdd<b>1</b> may be same as the resistance value of resistor Rdd<b>2</b>.</p>
<p id="p-0065" num="0064">Using Comp to denote the logical output of comparator <b>408</b>, if Comp=0, then Vampb&#x3e;Vampa, which means the pixel transistor current Ipa is larger than the desired current Itarget as represented by the voltage Vtarget and thus the strobed or clocked comparator <b>408</b> decrements the offset value (1<sup>st </sup>bit) in offset RAM <b>406</b>. If Comp=1, then Vampb&#x3c;Vampa, which means the pixel transistor current Ipa is smaller than the desired current Itarget as represented by the voltage Vtarget and thus the strobed or clocked comparator <b>408</b> increments the offset value (1<sup>st </sup>bit) in offset RAM <b>406</b>. This comparison process by comparator <b>408</b> occurs once per each bit of the offset value. As a result, the offset RAM <b>406</b> contains the value of the 1st bit of Mura calibration (this value can be positive or negative). Note that the noise voltage components in Vampa and Vampb reflecting the noise current Ina and Inb in the two adjacent pixels are canceled out by the comparator <b>408</b>. Thus, the calibration cell <b>800</b> is able measure the pixel current Ipa much more accurately for Mura calibration. The increments or decrements that occur during each bit comparison could either be unity in the case of a linear analog-to-digital converter or binary as in the case of a SAR analog-to-digital converter.</p>
<p id="p-0066" num="0065">The next step of Mura calibration is to add the average RGB data to the offset RAM <b>406</b> data and to apply this sum to the column DAC A <b>306</b> digital input. This action changes the DAC A <b>306</b> output and this new value is then transferred onto the storage capacitor C<b>0</b><i>a </i>of the OLED sub-pixel to be calibrated. The second bit of the offset value for Mura calibration can now be determined. The updated column DAC A <b>306</b> value (reflecting the 1<sup>st </sup>bit of the offset RAM <b>406</b> data added to the average RGB data) is loaded onto storage capacitor C<b>0</b><i>a</i>, by turning TFT M<b>3</b><i>a </i>off and TFT M<b>2</b><i>a </i>on, closing switches SW<b>1</b> and SW<b>5</b> and opening switch SW<b>2</b>, and selecting the same RGB MUX (for the same pixel). As a result, the modified column DAC <b>306</b> voltage quickly settles on the data line A <b>801</b>, is applied as the gate voltage Vg of TFT M<b>1</b><i>a</i>, and is stored in the storage capacitor C<b>0</b><i>a</i>. Since the current in data line B <b>802</b> remains zero, it is not necessary to change switch setting. Switches SW<b>7</b> and SW<b>6</b> remain open and switch SW<b>3</b> remains closed. Then, TFT M<b>2</b><i>a </i>is turned off. Then, the same processes as explained above are performed to sense the pixel transistor current Ipa and determine the second bit of the offset RAM <b>406</b> value for Mura calibration.</p>
<p id="p-0067" num="0066">The processes described are repeated to obtain the subsequent bits of the offset RAM <b>406</b> data until the maximum number of bits of the offset RAM for Mura calibration are determined (for SAR search) or the number of times that comparator <b>406</b> switches reaches a preset limit (for proximity search, which is a linear sequential search). Such final value of the offset RAM <b>406</b> is stored in the Mura offset RAM (<b>706</b> in <figref idref="DRAWINGS">FIG. 7</figref>) location for the 1st pixel, and as a result the 1st pixel Mura calibration is complete. Then, staying on the same row, the same calibration process as described above is repeated, traversing across the same row as in the first calibrated pixel, until all pixels in that row have been calibrated and their offsets are stored into their corresponding locations in the offset RAM <b>706</b>. Then, the same calibration process as described above is repeated, proceeding to the next row and so on, until all pixels in all rows have been calibrated for Mura or streaking. As a result, Mura calibration is complete, and ELVSS and ELVDD voltages are reset for normal operation of the AMOLED display. Either successive approximation (SAR search) or linear search could be used during calibration.</p>
<p id="p-0068" num="0067">Upon reading this disclosure, those of skill in the art will appreciate still additional alternative designs for Mura compensation in AMOLED displays. Thus, while particular embodiments and applications of the present invention have been illustrated and described, it is to be understood that the invention is not limited to the precise construction and components disclosed herein and that various modifications, changes and variations which will be apparent to those skilled in the art may be made in the arrangement, operation and details of the method and apparatus of the present invention disclosed herein without departing from the spirit and scope of the present invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An active matrix organic light-emitting diode (AMOLED) display device, comprising:
<claim-text>a plurality of sub-pixels arranged in rows and columns, each sub-pixel including at least an organic light-emitting diode (OLED), a first transistor for driving the OLED, a storage capacitor for turning on or off the first transistor according to charges stored in said storage capacitor, and a second transistor for connecting a data line of said each sub-pixel to the storage capacitor and the first transistor; and</claim-text>
<claim-text>calibration circuitry configurable to be coupled to at least one of the sub-pixels and adapted to sense pixel transistor current through the first transistor in said one of the sub-pixels, the calibration circuitry forming part of a feedback loop forcing the sensed pixel transistor current to converge to a predetermined target current,</claim-text>
<claim-text>wherein said each AMOLED sub-pixel further includes a third transistor connecting the data line with a node between the OLED and the first transistor,</claim-text>
<claim-text>wherein the calibration circuitry comprises a first transresistance amplifier, a comparator, a memory, and a column digital-to-analog converter (DAC),</claim-text>
<claim-text>wherein the first transresistance amplifier is configured to receive a first pixel transistor current from said one of the sub-pixels via the third transistor and the data line, and to generate a first output voltage based on the first pixel transistor current,</claim-text>
<claim-text>wherein the comparator is configured to receive the first output voltage from the first transresistance amplifier, to compare the first output voltage to a first predetermined voltage corresponding to the predetermined target current, and to generate a second output voltage based on the comparison,</claim-text>
<claim-text>wherein the memory is configured to store an offset value based on the second output voltage, and</claim-text>
<claim-text>wherein the column DAC is configured to generate a second pixel transistor current based on display data and the offset value stored in the memory, and to transmit the second pixel transistor current to the second transistor of said one of the sub-pixels via the data line.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The AMOLED display device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the feedback loop forces the sensed pixel transistor current in each of the plurality of sub-pixels to be substantially equal to the predetermined target current, notwithstanding non-uniformity of transistors in the AMOLED sub-pixels.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The AMOLED display device of <claim-ref idref="CLM-00001">claim 1</claim-ref>,
<claim-text>wherein the comparator is configured to increase the offset value to be combined with the display data for said one of the sub-pixels responsive to a first comparison state corresponding to when the first output voltage of the first transresistance amplifier exceeds the first predetermined voltage,</claim-text>
<claim-text>wherein the comparator is configured to decrease the offset value responsive to a second comparison state corresponding to when the first output voltage of the first transresistance amplifier is less than the first predetermined voltage, and</claim-text>
<claim-text>wherein the sensed pixel transistor current converges to the predetermined target current when the comparator switches from the first comparison state to the second comparison state or from the second comparison state to the first comparison state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The AMOLED display device of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the calibration circuitry further includes:
<claim-text>a second transresistance amplifier configured to sense noise voltage on another data line in another sub-pixel different from said one of the sub-pixels,</claim-text>
<claim-text>wherein the comparator is configured to compare the first output voltage of the first transresistance amplifier with an output voltage of the second transresistance amplifier, the output voltage of the second transresistance amplifier corresponding to the first predetermined voltage combined with the sensed noise,</claim-text>
<claim-text>wherein the comparator is configured to increase the offset value responsive to the first comparison state corresponding to when the first output voltage of the first transresistance amplifier exceeds the output voltage of the second transresistance amplifier,</claim-text>
<claim-text>wherein the comparator is configured to decrease the offset value responsive to the second comparison state corresponding to when the first output voltage of the first transresistance amplifier is less than the output voltage of the second transresistance amplifier, and</claim-text>
<claim-text>wherein the sensed pixel transistor current converges to the predetermined target current when the comparator switches from the first comparison state to the second comparison state or from the second comparison state to the first comparison state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The AMOLED display device of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein said another sub-pixel is on a same row as said one of the sub-pixels and is connected to another data line adjacent to said data line of said one of the sub-pixels.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The AMOLED display device of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the comparator rejects common mode noise in both the first output voltage of the first transresistance amplifier and the output voltage of the second transresistance amplifier.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The AMOLED display device of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the first transresistance amplifier and the second transresistance amplifier form a differential amplifier.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The AMOLED display device of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the second transresistance amplifier includes:
<claim-text>a first input coupled to the first predetermined voltage;</claim-text>
<claim-text>a second input configurable to be coupled to said another data line;</claim-text>
<claim-text>an output coupled to the comparator; and</claim-text>
<claim-text>a second resistor coupled between the output of the second transresistance amplifier and the second input of the second transresistance amplifier.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The AMOLED display device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a multiplexer configured to connect the data line to the column DAC or to the calibration circuitry.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The AMOLED display device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first transresistance amplifier includes:
<claim-text>a first input coupled to a second predetermined voltage;</claim-text>
<claim-text>a second input configurable to be coupled to the data line;</claim-text>
<claim-text>an output coupled to the comparator; and</claim-text>
<claim-text>a first resistor coupled between the output of the first transresistance amplifier and the second input of the first transresistance amplifier,</claim-text>
<claim-text>and wherein the first output voltage of the first transresistance amplifier is proportional to the pixel transistor current sensed across the first resistor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The AMOLED display device of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein both the first predetermined voltage and the second predetermined voltage are generated by a first tap and a second tap, respectively, of a resistor string coupled to a reference voltage and including a plurality of taps corresponding to gray scales of the AMOLED display device.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A method of compensating for non-uniformity in transistors of a plurality of sub-pixels of an active matrix organic light-emitting diode (AMOLED) display device,
<claim-text>wherein the display device comprises a plurality of sub-pixels arranged in rows and columns, each sub-pixel including at least an organic light-emitting diode (OLED), a first transistor for driving the OLED, a storage capacitor for turning on or off the first transistor according to charges stored in said storage capacitor, and a second transistor for connecting a data line of said each sub-pixel to the storage capacitor and the first transistor,</claim-text>
<claim-text>wherein the display device further comprises calibration circuitry configurable to be coupled to at least one of the sub-pixels and adapted to sense pixel transistor current through the first transistor in said one of the sub-pixels, the calibration circuitry forming part of a feedback loop forcing the sensed pixel transistor current to converge to a predetermined target current,</claim-text>
<claim-text>wherein said each AMOLED sub-pixel further includes a third transistor connecting the data line with a node between the OLED and the first transistor,</claim-text>
<claim-text>wherein the calibration circuitry comprises a first transresistance amplifier, a comparator, a memory, and a column digital-to-analog converter (DAC),</claim-text>
<claim-text>the method comprising:
<claim-text>receiving, by the first transresistance amplifier, a first pixel transistor current from said one of the sub-pixels via the third transistor and the data line, and generating a first output voltage based on the first pixel transistor current;</claim-text>
<claim-text>receiving, by the comparator, the first output voltage from the first transresistance amplifier, comparing the first output voltage to a first predetermined voltage corresponding to the predetermined target current, and generating a second output voltage based on the comparison;</claim-text>
<claim-text>storing, by the memory, an offset value based on the second output voltage; and</claim-text>
<claim-text>generating, by the column DAC, a second pixel transistor current based on display data and the offset value stored in the memory, and transmitting the second pixel transistor current to the second transistor of said one of the sub-pixels via the data line.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, further comprising pre-charging the data line to a second predetermined voltage, prior to the receiving the first pixel transistor current.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, further comprising driving the second transistor with average RGB data corresponding to an average of RGB data that produces pixel transistor current equal to the predetermined target current in said plurality of sub-pixels, prior to the receiving the first pixel transistor current.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>,
<claim-text>wherein the generating the second output voltage comprises increasing the offset value to be combined with the display data for said one of the sub-pixels responsive to a first comparison state corresponding to when the first output voltage exceeds the first predetermined voltage,</claim-text>
<claim-text>wherein the generating the second output voltage comprises decreasing the offset value responsive to a second comparison state corresponding to when the first output voltage is less than the first predetermined voltage, and</claim-text>
<claim-text>wherein the sensed pixel transistor current converges to the predetermined target current responsive to switching from the first comparison state to the second comparison state or from the second comparison state to the first comparison state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method of <claim-ref idref="CLM-00015">claim 15</claim-ref>, further comprising:
<claim-text>sensing noise voltage on another data line in another sub-pixel different from said one of the sub-pixels,</claim-text>
<claim-text>wherein the comparing comprises comparing the first output voltage to a combined voltage combining the first predetermined voltage with the sensed noise voltage,</claim-text>
<claim-text>wherein the increasing the offset value comprises increasing the offset value responsive to the first comparison state corresponding to when the first output voltage exceeds the combined voltage,</claim-text>
<claim-text>wherein the decreasing the offset value comprises decreasing the offset value responsive to the second comparison state corresponding to when the first output voltage is less than the combined voltage, and</claim-text>
<claim-text>wherein the sensed pixel transistor current converges to the predetermined target current responsive to switching from the first comparison state to the second comparison state or from the second comparison state to the first comparison state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein said another sub-pixel is on a same row as said one of the sub-pixels and is connected to another data line adjacent to said data line.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein common mode noise in both the first output voltage and the combined voltage is rejected.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the method is repeated for all sub-pixels of the AMOLED display device.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the OLED of said one of the sub-pixels is turned off while the first pixel transistor current is received. </claim-text>
</claim>
</claims>
</us-patent-grant>
