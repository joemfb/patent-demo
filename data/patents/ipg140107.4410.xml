<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625483-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625483</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12294663</doc-number>
<date>20070312</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="regional">
<country>EP</country>
<doc-number>06007736</doc-number>
<date>20060412</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>671</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20090101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>W</subclass>
<main-group>4</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370328</main-classification>
<further-classification>370310</further-classification>
</classification-national>
<invention-title id="d2e71">Connection based local IP-mobility</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>2001/0046223</doc-number>
<kind>A1</kind>
<name>Malki et al.</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370338</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2003/0223395</doc-number>
<kind>A1</kind>
<name>Chitrapu</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2004/0077341</doc-number>
<kind>A1</kind>
<name>Chandranmenon</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2004/0105408</doc-number>
<kind>A1</kind>
<name>Suh</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2005/0111377</doc-number>
<kind>A1</kind>
<name>Lioy et al.</name>
<date>20050500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370252</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2005/0128969</doc-number>
<kind>A1</kind>
<name>Lee et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370313</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2005/0286471</doc-number>
<kind>A1</kind>
<name>Yang et al.</name>
<date>20051200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370331</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2006/0018296</doc-number>
<kind>A1</kind>
<name>Muraoka et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370338</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2007/0109997</doc-number>
<kind>A1</kind>
<name>Hong et al.</name>
<date>20070500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370331</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>EP</country>
<doc-number>1 589 718</doc-number>
<date>20051000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>JP</country>
<doc-number>2005-533458</doc-number>
<date>20051100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00012">
<othercit>T. Narten and R. Draves, &#x201c;Privacy Extensions for Stateless Address Autoconfiguration in IPv6, RFC 3041,&#x201d; Jan. 2001, The Internet Society.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00013">
<othercit>T. T Narten and R. Draves, &#x201c;Privacy Extensions for Stateless Address Autoconfiguration in IPv6, RFC 3041 ,&#x201d; Jan. 2001, The Internet Society.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>Hong et al., &#x201c;Fast Handover for Mobile IPv6 using Access Router Based Movement Detection and CoA configuration&#x201d;, 2004, IEEE.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00015">
<othercit>Narten et al., RFC 3041, &#x201c;Privacy Extensions for Stateless Address Autoconfiguration in IPv6&#x201d;, Jan. 2001, Internet Society.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00016">
<othercit>International Search Report dated May 2, 2007.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00017">
<othercit>Y. Chen et al., &#x201c;Dynamic home agent reassignment in mobile IP,&#x201d; Wireless Communications and Networking Conference, 2002.WCNC2002. 2002 IEEE, Piscataway, NJ, USA, IEEE, Mar. 17, 2002, pp. 44-48.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00018">
<othercit>Japanese Office Action dated Mar. 2, 2012 with English translation.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00019">
<othercit>G. Giaretta, et al., &#x201c;Network-based localized mobility management (NETLMM) with distributed anchor routers,&#x201d; &#x3c;draft-giaretta-netlmm-protocol-00.txt&#x3e;, Internet Draft, Oct. 14, 2005, pp. 1-39.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>15</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>7</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20100097983</doc-number>
<kind>A1</kind>
<date>20100422</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Schuringa</last-name>
<first-name>Jon</first-name>
<address>
<city>Langen</city>
<country>DE</country>
</address>
</addressbook>
<residence>
<country>DE</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Velev</last-name>
<first-name>Genadi</first-name>
<address>
<city>Langen</city>
<country>DE</country>
</address>
</addressbook>
<residence>
<country>DE</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Hakenberg</last-name>
<first-name>Rolf</first-name>
<address>
<city>Langen</city>
<country>DE</country>
</address>
</addressbook>
<residence>
<country>DE</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Schuringa</last-name>
<first-name>Jon</first-name>
<address>
<city>Langen</city>
<country>DE</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Velev</last-name>
<first-name>Genadi</first-name>
<address>
<city>Langen</city>
<country>DE</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Hakenberg</last-name>
<first-name>Rolf</first-name>
<address>
<city>Langen</city>
<country>DE</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Dickinson Wright PLLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Panasonic Corporation</orgname>
<role>03</role>
<address>
<city>Osaka</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Lee</last-name>
<first-name>Jae Y</first-name>
<department>2466</department>
</primary-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/EP2007/002162</doc-number>
<kind>00</kind>
<date>20070312</date>
</document-id>
<us-371c124-date>
<date>20081119</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2007/115629</doc-number>
<kind>A </kind>
<date>20071018</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">The invention relates to a method for packet switched data transmission in a local network, the local network comprising a mobile node and a plurality of interconnected connection anchor points each with a link at which the mobile node can attach. The method comprises the steps of detecting a movement of the mobile node from a first connection anchor point to a second connection anchor point, the mobile node communicating via a tunneled connection between the first and second connection anchor point, maintaining the existing tunneled connections between the second connection anchor point and the first connection anchor point, and enabling new connections between the mobile node and correspondent nodes using addresses that are topologically correct.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="134.45mm" wi="158.33mm" file="US08625483-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="201.85mm" wi="171.53mm" file="US08625483-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="187.88mm" wi="195.16mm" file="US08625483-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="144.95mm" wi="187.37mm" file="US08625483-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="164.51mm" wi="173.31mm" file="US08625483-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="173.99mm" wi="169.16mm" file="US08625483-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">The invention is related to mobile communications systems. More specifically it relates to local IP mobility from mobile communications on the internet protocol (IPv6) or similar protocols.</p>
<p id="p-0004" num="0003">2. Description of the Related Art</p>
<p id="p-0005" num="0004">The invention is described for the example of the Internet Protocol version 6 (IPv6). It is, however, also applicable to other protocols defining equivalent entities corresponding to the described entities of IPv6.</p>
<p id="p-0006" num="0005">When an IPv6 mobile node (MN) moves from a serving access router (AR) to another AR on a different IP link, the mobile node needs to configure new IP address(es) based on the IP prefix(es) advertised by the new AR. The change of the serving AR means that a new IP connectivity has to be re-established, and therefore that active IP sessions will be lost.</p>
<p id="p-0007" num="0006">One approach to keep the existing active IP sessions alive is the Mobile IPv6 (MIPv6) protocol, RFC3775 (D. Johnson, C. Perkins, J. Arkko, &#x201c;Mobility Support in IPv6&#x201d;, RFC3775, June 2004).</p>
<p id="p-0008" num="0007">In MIPv6, each MN has configured a home IP address (HoA), which is used to identify itself independently of its topological location in the Internet. The MN also configures a care-of-address (CoA), which is topologically related to the actual location of the MN. Whenever a MN performs a handover, a new CoA is configured and announced to the home agent (HA), which tunnels the packets to the MN.</p>
<p id="p-0009" num="0008">Another approach to keep the existing active IP sessions alive is to configure a local set of ARs to advertise the same set of IP prefixes, so that the MN can keep using the IP addresses that have been configured at the old AR. This approach is called network-based localized mobility management (NetLMM, a description of the NetLMM framework can be found at: http://www.ieff.org/html.charters/netlmm-charter.html), since the MN is not actively involved in mobility management functions.</p>
<p id="p-0010" num="0009">In contrast to NetLMM, MIPv6 can be categorized as host-based mobility management. Detailed information about the problems with existing host-based mobility management can be found in J. Kempf et. al. (&#x201c;Problem Statement for IP Local Mobility&#x201d;, draft-kempf-netlmm-nohost-ps-00.txt, June 2005), it also describes an architecture for a possible localized mobility management approach.</p>
<p id="p-0011" num="0010">The NetLMM protocol proposed by Giaretta et al. (G. Giaretta et al., &#x201c;Network-based localized mobility management (NETLMM) with distributed anchor routers&#x201d;, draft-giaretta-netlmm-protocol-00.txt), 2005 can be used to handle IP mobility within a localized mobility management domain. The edge of a domain is made up of Access Routers (ARs) and Border Gateways (BGs) <b>106</b>, as illustrated in <figref idref="DRAWINGS">FIG. 1</figref>. An AR <b>102</b> can manage one or more IP links (i.e. layer 2 access networks), each one univocally associated with at least an IPv6 prefix. It represents the first IP router encountered by the mobile node <b>100</b> on the way to the destination. The BGs <b>106</b> are used to interconnect the domain with external networks, like the Internet. There are no constraints on the internal topology of a domain. As long as the mobile node <b>100</b> remains within the same domain, it can keep on using the same IP address even if it happens to change the AR it is attached to.</p>
<p id="p-0012" num="0011">The AR <b>102</b> on the link where an MN powers on will be the Home Access Router (HAR) for that MN <b>100</b>. The IP address of the MN <b>100</b> will be based on the prefix advertised by its HAR <b>102</b>. As long as the MN <b>100</b> is on the same link as its HAR <b>102</b>, packets can be normally routed (i.e. no tunnelling) to and from the MN <b>100</b>, since the MN's IP address is topologically correct.</p>
<p id="p-0013" num="0012">If an MN moves away from its HAR, it can keep using the same IP address, despite the fact that that address is now topologically incorrect. To allow this IP tunnelling is used to direct packets between the HAR and the Visiting AR (VAR).</p>
<p id="p-0014" num="0013">The problem with the previously described prior art is that tunnels are needed if the MN moves away from its HAR (this is the AR where the MN powers on). Tunnels are inefficient for a number of reasons:</p>
<p id="p-0015" num="0014">Workload increase at the tunnel endpoints: Each packet through the tunnel needs to be encapsulated and decapsulated, and this requires processing at the endpoints.</p>
<p id="p-0016" num="0015">Increased Bandwidth Consumption: Because of the extra header needed for tunnelling, 40 additional bytes are needed for each packet (when using IPv6). For small packets like voice packets, this is a very high overhead.</p>
<p id="p-0017" num="0016">Increased packet end-to-end delay: This is a direct result of the two reasons explained above.</p>
<p id="p-0018" num="0017">Due to these drawbacks of tunnels, the goal of this invention is to avoid or limit the use of tunnels, while maintaining all functionalities of the prior art.</p>
<p id="p-0019" num="0018">&#x201c;Always on&#x201d; devices can be particularly disadvantageous when used in Giaretta's NetLMM, namely if that device powers on at a place where it normally does not reside, it may occur that that device will always need a tunnel for the rest of its on period.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0020" num="0019">The object of the invention is to provide increased efficiency of communications in local IP mobility.</p>
<p id="p-0021" num="0020">The object is solved by the subject matter of the independent claims. Advantageous embodiments of the invention are subject matters to the dependent claims.</p>
<p id="p-0022" num="0021">To achieve this object, the present invention provides a method, mobile node, connection anchor point, system and computer readable medium for packet switched data transmission in a local network, the local network comprising a mobile node and a plurality of interconnected connection anchor points each with a link at which the mobile node can attach. A movement of the mobile node from a first connection anchor point to a second connection anchor point is detected, the mobile node communicating via a tunnelled connection between the first and second connection anchor point. The existing tunnelled connections between the second connection anchor point and the first connection anchor point are maintained, and new connections between the mobile node and correspondent nodes are enabled using addresses that are topologically correct.</p>
<p id="p-0023" num="0022">According to an advantageous embodiment the step of enabling new connections comprises broadcasting a router solicitation message by the mobile node, responding to the router solicitation message by the second connection anchor point, and checking for duplicate addresses for each of a plurality of addresses of the mobile node.</p>
<p id="p-0024" num="0023">In a further embodiment of this invention the step of responding to the router solicitation message comprises sending by the second connection anchor point a first message to the mobile node for each of the plurality of addresses of the mobile node.</p>
<p id="p-0025" num="0024">An advantageous aspect of the invention is that the first message is a router advertisement.</p>
<p id="p-0026" num="0025">According to another advantageous embodiment the method further comprises the steps of detecting a movement of the mobile node from the second connection anchor point to a third connection anchor point, changing existing tunnelled connections via the second connection anchor point to the third connection anchor point, and setting up a new tunnelled connection from the second connection anchor point to the third connection anchor point.</p>
<p id="p-0027" num="0026">In another embodiment of the invention each of the plurality of addresses of the mobile node is tentative or preferred or deprecated or invalid.</p>
<p id="p-0028" num="0027">In a further embodiment of the invention the first message comprises a preferred and valid lifetime of the address of the mobile node and wherein an advertised prefix equals that of the first connection anchor point</p>
<p id="p-0029" num="0028">According to another advantageous embodiment of the invention the preferred lifetime of the address is zero.</p>
<p id="p-0030" num="0029">In a further advantageous embodiment the method further comprises the step of calculating a valid lifetime from a projected address expiration time stored at the first connection anchor point.</p>
<p id="p-0031" num="0030">According to another advantageous embodiment the method further comprises the step of sending a second message to refresh a valid lifetime of a deprecated address in use by the mobile node.</p>
<p id="p-0032" num="0031">Another advantageous embodiment has inactive connections being removed.</p>
<p id="p-0033" num="0032">In a further advantageous embodiment the second message is sent before the valid lifetime expires.</p>
<p id="p-0034" num="0033">According to a further embodiment the method further comprises the step of starting a timer in the first connection anchor point when the mobile node moves to the second connection anchor point, in order to keep track of the valid lifetime of the address of the mobile node.</p>
<p id="p-0035" num="0034">In another advantageous embodiment the timer is started after the first message is sent.</p>
<p id="p-0036" num="0035">Another advantageous embodiment comprises the step of monitoring a usage of the existing tunnelled connection for the transmission of packets and setting an indicator accordingly.</p>
<p id="p-0037" num="0036">In a further embodiment of the invention the method further comprises the following steps when the indicator indicates activity: sending by the first connection anchor point a message to the second connection anchor point with a preconfigured valid lifetime, sending by the second connection anchor point a router advertisement message to the mobile node, setting the indicator to indicate no activity and re-initialising the timer.</p>
<p id="p-0038" num="0037">According to another advantageous embodiment of the invention the existing tunnelled connection is removed when the indicator indicates no activity.</p>
<p id="p-0039" num="0038">Another advantageous embodiment of the invention relates to a mobile node in a local network using packet switched data transmission, the local network comprising the mobile node and a plurality of interconnected connection anchor points each with a link at which the mobile node can attach, the mobile node comprising transmission means adapted to broadcast a router solicitation message.</p>
<p id="p-0040" num="0039">A further advantageous embodiment of the invention relates to a connection anchor point in a local network using packet switched data transmission, the local network comprising a mobile node and a plurality of interconnected connection anchor points each with a link at which the mobile node can attach, the connection anchor point comprising detection means adapted to detect a movement of the mobile node from the connection anchor point to a second connection anchor point, the mobile node communicating via a tunnelled connection between the first and second connection anchor point, connection means adapted to maintain the existing tunnelled connections between the second connection anchor point and the connection anchor point, and connection means adapted to enable new connections between the mobile node and correspondent nodes using addresses that are topologically correct.</p>
<p id="p-0041" num="0040">A further advantageous embodiment relates to a communication system for packet switched data transmission in a local network, the local network comprising a mobile node and a plurality of interconnected connection anchor points.</p>
<p id="p-0042" num="0041">A further embodiment of the invention relates to a computer readable medium storing instructions that, when executed by a processor in a mobile node in a local network using packet switched data transmission, the local network comprising the mobile node and a plurality of interconnected connection anchor points each with a link at which the mobile node can attach, cause the mobile node to broadcast a router solicitation message.</p>
<p id="p-0043" num="0042">Another advantageous embodiment of the invention relates to a computer readable medium storing instructions that, when executed by a processor in a connection anchor point in a local network using packet switched data transmission, the local network comprising a mobile node and a plurality of interconnected connection anchor points each with a link at which the mobile node can attach, cause the connection anchor point to detect a movement of the mobile node from the connection anchor point to a second connection anchor point, the mobile node communicating via a tunnelled connection between the first and second connection anchor point, maintain the existing tunnelled connections between the second connection anchor point and the connection anchor point, and enable new connections between the mobile node and correspondent nodes using addresses that are topologically correct.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0044" num="0043">The accompanying drawings are incorporated into and form a part of the specification for the purpose of explaining the principles of the invention. The drawings are not to be construed as limiting the invention to only the illustrated and described examples of how the invention can be made and used. Further features and advantages will become apparent from the following and more particular description of the invention as illustrated in the accompanying drawings, wherein</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 1</figref> shows the prior art reference architecture as proposed by Giaretta;</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 2</figref> illustrates the main benefit of the invention. In the figure, the MN powered on at the IP-link served by AR<b>1</b> (CAP<b>1</b>), starts a connection and moves to a new IP-link. The MN now starts another connection. In the prior art case, the new connection needs to make use of the tunnel, while in this invention it does not;</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 3</figref> illustrates the four possible IPv6 address states as described in RFC 2462 (S. Thomson, T. Narten, &#x201c;IPv6 Stateless Address Autoconfiguration&#x201d;, RFC 2462, December 1998);</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 4</figref> shows how events like handover and router advertisements influence the states of a single IPv6 address. The main point is to control the preferred and valid lifetimes for that address at the MN in the desired way;</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 5</figref> shows the lifecycle of an address in this invention in a more general way than in <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 6</figref> displays the message exchange between the network entities for a MN that moves to a new IP-link and has two active connections anchored at two CAPs; and</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 7</figref> shows the RA-Refresh related messages and timers. The goal is to refresh the valid lifetime for active IP addresses at a visited CAP.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0052" num="0051">The illustrative embodiments of the present invention will be described with reference to the figure drawings wherein like elements and structures are indicated by like reference numbers. The following paragraphs will describe various embodiments of the invention. For exemplary purposes only, most of the embodiments are outlined in relation to a MIPv6 communication system and the terminology used in the subsequent sections mainly relates to the MIPv6 terminology. However, the used terminology and the description of the embodiments with respect to a MIPv6 architecture is not intended to limit the principles and ideas of the inventions to such systems.</p>
<p id="p-0053" num="0052">Also the detailed explanations given in the Technical Background section above are merely intended to better understand the mostly MIPv6 specific exemplary embodiments described in the following and should not be understood as limiting the invention to the described specific implementations of processes and functions in the packet switched communication network.</p>
<p id="p-0054" num="0053">Notes:
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0054">The meaning of &#x201c;connection&#x201d; as used in this report: Any IP activity like a TCP connection, or an UDP stream between the MN and a CN.</li>
        <li id="ul0002-0002" num="0055">Connection Anchor Points (CAPs), which are introduced in this invention also have the functionality of ARs (like in NetLMM), in the sense that they send periodic router advertisements and can therefore be detected and used as default routers by the MNs.</li>
        <li id="ul0002-0003" num="0056">This text makes use of Home CAPs (HCAP) and Visited CAPs (VCAP). Strictly speaking however, a connection is only anchored at its HCAP; the connection is never anchored at a VCAP. But, a VCAP for one connection may be the HCAP for another connection.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0055" num="0057">This invention allows mobile nodes to keep their IP-address, and therefore their existing connections, while moving between IP links in a local domain. The difference to existing systems network based local mobility management (NetLMM) that provide such behaviour is that the MN (Mobile Node) always uses a topologically correct IP address for new connections, even after moving to a new IP-link. Thus, multiple IP addresses may be in use by the mobile node at the same time, and there is always a topologically correct address to use for new connections. The main benefit is increased efficiency, because tunnelling of packets can be avoided in many cases. This invention primarily deals with controlling the preferred, deprecated and valid address states of the mobile nodes to provide the desired behaviour.</p>
<p id="p-0056" num="0058">To accomplish this behaviour, this invention mainly deals with network-controlled management of the MN IPv6 address states (tentative, preferred, deprecated and invalid).</p>
<p id="p-0057" num="0059">In Giaretta's proposal, the need for tunnelling comes up from the fact that addresses become topologically incorrect when MNs <b>100</b> are away from their Home AR <b>200</b>. All communication is then tunnelled through to the HAR <b>200</b> of the MN (see, for example, <figref idref="DRAWINGS">FIG. 2</figref>). The main idea of this invention is that only existing communication sessions use a tunnel after a handover, and newly initiated communication sessions use the topologically correct IP address. This typically requires multiple IP addresses at the MN at the same time.</p>
<p id="p-0058" num="0060"><figref idref="DRAWINGS">FIG. 1</figref> illustrates the architecture of the NetLMM proposal by Giaretta. The important point here is that each AR <b>102</b> advertises its own topologically correct prefix, and therefore no tunnels are needed for communication to and from MNs <b>100</b> that are at their home AR. To be consistent with the draft G. Giaretta et al. (&#x201c;Network-based localized mobility management (NETLMM) with distributed anchor routers&#x201d;, draft-giaretta-netlmm-protocol-00.txt, 2005), this figure shows the gateway <b>106</b>, but the gateway is actually irrelevant to this invention, and will therefore not be shown in the remaining figures.</p>
<p id="p-0059" num="0061">The difference in behaviour of this invention compared to prior art is illustrated in <figref idref="DRAWINGS">FIG. 2</figref>. It is assumed that the MN <b>100</b> powered on at the IP link served by AR<b>1</b> <b>200</b> (CAP<b>1</b> <b>208</b>). The MN starts a connection and moves to AR<b>2</b> <b>202</b>. There, a second connection is initiated. For generality, the second connection uses a different corresponding node <b>206</b>, but it would work equally well with only one corresponding node <b>204</b>. In Giaretta's case, the second connection uses the tunnel and longer path through the Home AR <b>200</b> of the MN <b>100</b>. This invention uses the topologically correct address for this connection and therefore does not need a tunnel.</p>
<p id="p-0060" num="0062">When Connection <b>1</b> finishes, then Giaretta's proposal still uses a tunnel, in contrast to this invention, where no tunnel is needed anymore.</p>
<p id="p-0061" num="0063"><figref idref="DRAWINGS">FIG. 3</figref> shows the different states of an IPv6 address as explained in RFC2462. Since the use of especially the deprecated state is crucial to this invention, special attention will be given here.</p>
<p id="p-0062" num="0064">Any newly created IP address must be checked for uniqueness. Until that check is completed, the address is in the &#x201c;tentative&#x201d; state. If that check is successful, the next state will normally be the preferred state. This depends on the values of the timers in the router advertisements. The address will become invalid if the preferred lifetime expires.</p>
<p id="p-0063" num="0065">The deprecated state is explained in RFC 2462: &#x201c;While in a deprecated state, the use of an address is discouraged, but not strictly forbidden. New communication (e.g., the opening of a new TCP connection) should use a preferred address when possible. A deprecated address should be used only by applications that have been using it and would have difficulty switching to another address without a service disruption.&#x201d;</p>
<p id="p-0064" num="0066"><figref idref="DRAWINGS">FIG. 4</figref> and <figref idref="DRAWINGS">FIG. 5</figref> show the life cycle of a MN IP-address as used in this invention. It is important to note that the MN will have more than one valid address. Note that valid addresses include the preferred as well as the deprecated addresses. The figures only show the life cycle of one address.</p>
<p id="p-0065" num="0067">Two messages with special functionality are used in this invention; these are labelled MSG<b>1</b> and MSG<b>2</b>. Both messages are sent over two hops, but do not have the same packet format at those hops; they therefore have a sub-label a and b (e.g. MSG<b>1</b><i>a</i>), denoting the message at the corresponding hop.</p>
<p id="p-0066" num="0068">New IP address initiation: When a MN powers up, or enters a new IP-link, it will receive router advertisements on that link. Since these advertisements have the &#x2018;A&#x2019;-bit set, they will be used by the MN to auto-configure the first or an additional IP-address based on the received prefix. Furthermore, these advertisements contain a valid and a preferred lifetime h, which is a preconfigured constant (e.g., 2 hours). After performing duplicate address detection (DAD), the address moves from tentative to the preferred state, if no duplicates were found.</p>
<p id="p-0067" num="0069">Subsequent advertisement while on the initial link: The preferred and valid lifetimes of the address are updated when receiving unsolicited router advertisements. This is the normal IPv6 procedure.</p>
<p id="h-0005" num="0000">Link Change</p>
<p id="p-0068" num="0070">After a link change, but before this is detected by the MN and VCAP, the address is still in the preferred state, but is now topologically incorrect, as illustrated in <figref idref="DRAWINGS">FIGS. 4 and 5</figref>. Note that the residual time in this state should be kept as small as possible.</p>
<p id="p-0069" num="0071">The MN movement will quickly be detected by the new CAP, since the MN signals after a layer-2 movement that it is willing to keep its current IP-addresses (details are explained in the description of <figref idref="DRAWINGS">FIG. 6</figref>). This new CAP sends an unsolicited unicast RA (Router Advertisement) to the MN, containing a Preferred Lifetime of zero (MSG<b>1</b>). This is done for each IP-address the MN is willing to keep. The result is that the IP address will become, or remain, deprecated. Thus, this address will not be used for new connections, it should be noted that after the link change, the MN configures a new IP address next to all addresses it already uses. <figref idref="DRAWINGS">FIG. 4</figref> and <figref idref="DRAWINGS">FIG. 5</figref> however, concentrate on keeping the current addresses valid, but is still valid for existing connections.</p>
<p id="p-0070" num="0072">The second timer value to be set in the RA is the Valid Lifetime (VL). The value for this is calculated (t<b>1</b>), depending on the projected address expiration time stored at the HCAP. As will be shown later, the reason for this is that an address should expire when it is not being used anymore. If a constant value (e.g. t<b>1</b>=1 hour) were to be advertised, and the MN makes one or more link changes within each hour, the valid lifetime would never expire, which is clearly unwanted.</p>
<p id="h-0006" num="0000">Valid Lifetime Updating while Away from Initial Link</p>
<p id="p-0071" num="0073">The IP address must remain in deprecated state as least as long as the MN has active connections using this address. In other words, the valid lifetime of the address may not reach zero in that case.</p>
<p id="p-0072" num="0074">The RA-Refresh message (MSG<b>2</b>) is introduced for this purpose. This router advertisement has a preferred lifetime of zero and a valid lifetime t<b>2</b>, which is a preconfigured constant value greater than zero. It must be sent before that valid lifetime expires but only if the MN has active connections. See the description of <figref idref="DRAWINGS">FIG. 7</figref> for details.</p>
<p id="p-0073" num="0075">If no RA-Refresh messages are sent to the MN, the address state of the MN will move from deprecated to invalid when the valid lifetime timer expires for that address. This should be the case for addresses that are not in use anymore by the MN. The details to perform this are explained in the description of <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0074" num="0076"><figref idref="DRAWINGS">FIG. 6</figref> shows the steps performed by a MN and the CAPs when the MN moves to a new IP link. The MN is moving with two active connections: the initial situation is as illustrated on the right-hand side in <figref idref="DRAWINGS">FIG. 2</figref>. The MN is now moving to CAP<b>3</b>.</p>
<p id="p-0075" num="0077">A description of the events/messages in <figref idref="DRAWINGS">FIG. 6</figref> (the first three points are normal IPv6 behaviour, and are also used by Giaretta):</p>
<p id="p-0076" num="0078">The MN detects <b>600</b> movements as described in the prior art, or any other method (e.g. using layer 2 hints/events).</p>
<p id="p-0077" num="0079">After detection, the MN sends <b>602</b> a router solicitation (RS) to the all routers multicast address.</p>
<p id="p-0078" num="0080">The CAP on the new link (CAP<b>3</b>) responds <b>604</b> to the router solicitation with the topological correct prefix on that link, the &#x2018;A&#x2019;-bit set and a valid lifetime greater than zero. The MN uses this advertisement to create an additional IP address using stateless auto-configuration (details of this are not shown in the figure).</p>
<p id="p-0079" num="0081">The MN signals that it is willing to keep its previous addresses by performing a DAD check for them. It does this for all of its valid addresses. Note that in Giaretta's case this is only done for one address. In the example shown in the figure the MN has two addresses and these are processed sequentially for clarity, but it is favourable to process them in parallel.</p>
<p id="p-0080" num="0082">The visited CAP on the new link (CAP<b>3</b>) detects the DAD for all global IP addresses of the MN. Based on a table at each CAP, the visited CAP can determine the Home CAP address for each IP address of the MN. The foreign CAP then initiates the tunnel setup <b>608</b>, <b>616</b>, as explained in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0081" num="0083">After the tunnel setup, an unsolicited unicast router advertisement is sent <b>614</b>, <b>622</b> to the MN, with a preferred lifetime of 0. Upon reception of this message, the corresponding IP address will become deprecated, but is still valid.</p>
<p id="p-0082" num="0084">The final result of this handover procedure is that the MN now has a new, topologically correct, preferred address, and the addresses in use by both connections are now deprecated. The deprecated addresses can still be used, but require tunnelling via their respective HCAPs.</p>
<p id="p-0083" num="0085"><figref idref="DRAWINGS">FIG. 7</figref> describes RA-Refresh (RA_MSG<b>2</b>). The RA-refresh related messages and actions are needed to refresh the valid lifetime of a deprecated IP address in use by a MN. The main point of this message is that the valid lifetime should be renewed when the address is still in use by the MN, but should expire when it is inactive. Since MNs may move with their IP address, some additional effort must take place to get the desired result.</p>
<p id="p-0084" num="0086">In <figref idref="DRAWINGS">FIG. 7</figref>, it is assumed that the MN performs a second movement, from an old VCAP to a new VCAP. The first action in the figure is the movement of the MN, in this case with only 1 active IP address: IP_MN<b>1</b>. Once the MN detects its movement, it is signalling that it is willing to keep its IP address by performing a DAD check for it. Since IP_MN<b>1</b> is not known at the new VCAP at that moment, this VCAP also detects the movement and informs the HCAP (the address of HCAP can be found based on IP_MN<b>1</b> and a preconfigured mapping of prefixes to HCAP addresses) with a location update <b>700</b> for (IP_MN<b>1</b>). A new tunnel is then set up between HCAP and new VCAP <b>608</b>, to route packets to and from the MN. The old tunnel is removed <b>610</b> since it is not valid anymore. The tunnel setup and removal itself is performed as in the prior art.</p>
<p id="p-0085" num="0087">The HCAP keeps track of the valid lifetimes of all the addresses that it manages. For each address that leaves its HCAP, a timer is started at the HCAP. The timeout should occur before the valid lifetime of the MN's address expires.</p>
<p id="p-0086" num="0088">That timer is started after the RA_MSG<b>1</b><i>a </i>is sent (see <figref idref="DRAWINGS">FIG. 7</figref>). As explained in <figref idref="DRAWINGS">FIG. 4</figref>, this message triggers RA_MSG<b>1</b><i>b </i>and the latter sets the address state to deprecated at the MN. The goal of the timer is to trigger a RA to prevent that an active address becomes invalid. The timer is set to t<b>1</b>-&#x394;, where t<b>1</b> denotes the projected time until address lifetime expiration, and &#x394; needs to be chosen to take the time into account that is needed for the message to arrive at the MN. Since RA's are not acknowledged, this message can be sent multiple times, to improve the probability of successful reception.</p>
<p id="p-0087" num="0089">Since active addresses must be kept alive, the HCAP monitors the use of the tunnel for each address to see whether or not packets have been transmitted to or from this address. Whenever this is the case, an activity flag for this address is set to true at the HCAP.</p>
<p id="p-0088" num="0090">Now, if the timer expires, that flag is inspected and based on its value, one of the following actions occur.</p>
<p id="p-0089" num="0091">Activity=true</p>
<p id="p-0090" num="0092">The HCAP sends <b>704</b> a RA_MSG<b>2</b><i>a </i>message with the preconfigured time value t<b>2</b> to the current VCAP of the MN. The VCAP creates a standard conform RA (RA_MSG<b>2</b><i>b</i>) and sends <b>706</b> it to the MN. This message acts as a valid lifetime refresh message. The activity flag is reset to false after the HCAP sends the message. Furthermore, the timer is reinitialized to t<b>2</b>-&#x394;.</p>
<p id="p-0091" num="0093">Activity=false</p>
<p id="p-0092" num="0094">No packets have been received nor transmitted to or from the address for the last t<b>2</b> period, therefore this address is considered to be not in use anymore, and all state information and the tunnel will be removed <b>710</b>. The timer is not restarted.</p>
<p id="p-0093" num="0095">In this way, unused addresses will eventually be deleted from the system.</p>
<p id="p-0094" num="0096">When the local domain is relatively small, in terms of the number of used IP-links, a variant of this invention is where all router advertisements are preconfigured and are multicast to all nodes (Static Router Advertisement). The advantage is that the system can be simplified to a great extent, since no MN-related status information needs to be stored at the HCAP. Consequently, no actions specific for a MN (RA_MSG<b>1</b> and RA_MSG<b>2</b>) needs to take place. The disadvantage is that all MNs configure IP-addresses for all prefixes that they receive, and these will remain valid as long as they are in the local domain and receive the router advertisements.</p>
<p id="p-0095" num="0097">Because of the aforementioned disadvantage, this variant would only make sense in relatively, in terms of number of IP-links, small local domains.</p>
<p id="p-0096" num="0098">This invention uses one or more CAPs per IP-link. This allows address movements between IP-links. Now, by replacing an IP-link by a complete NetLMM domain, this invention could be used to allow MNs to move between different NetLMM domains while keep using their IP addresses. Each domain would have at least one CAP, and this allows MNs to move between different domains while keeping their IP addresses. This would then be an Inter NetLMM Domain handover.</p>
<p id="p-0097" num="0099">The following changes to the Mobile Node are necessary for the invention to be carried out. Like in Giaretta's draft, the impacts on the MN are minimal and are limited to slight modifications in the way IP addresses are renewed across mobility events. After a link change, it must be possible for the MN to request the continued use of all the IP addresses it used on previously visited links.</p>
<p id="p-0098" num="0100">One possibility, as described above, is that the MN sends a Neighbor Solicitation (NS) as part of the Duplicate Address Detection (DAD) procedure for each if its addresses (see <figref idref="DRAWINGS">FIG. 6</figref>). In principle, any message that contains the MN's IP-address and is received by the CAP can be used as a trigger that indicates the MN is asking the activation of a specific address.</p>
<p id="p-0099" num="0101">The following changes are necessary to an Access Router to make it a Connection Anchor Point.</p>
<p id="p-0100" num="0102">In case of the Home CAP function:</p>
<p id="p-0101" num="0103">Process &#x201c;Location updates&#x201d; for a MN's IP-address:</p>
<p id="p-0102" num="0104">Store the current location (which VCAP) of that address</p>
<p id="p-0103" num="0105">Setup a tunnel to the Visited CAP</p>
<p id="p-0104" num="0106">Two possibilities here: A separate tunnel for each MN, or multiple MN's using the same tunnel between 1 HCAP and 1 VCAP</p>
<p id="p-0105" num="0107">If a previous tunnel exists for that MN-address, remove it</p>
<p id="p-0106" num="0108">Send the router advertisement message with correct values for prefix, valid and preferred lifetime, to the VCAP.</p>
<p id="p-0107" num="0109">Start the timer with the timeout value based on the projected preferred lifetime.</p>
<p id="p-0108" num="0110">Set activity flag to &#x201c;false&#x201d;.
<ul id="ul0003" list-style="none">
    <li id="ul0003-0001" num="0000">
    <ul id="ul0004" list-style="none">
        <li id="ul0004-0001" num="0111">Monitor tunnel activity for each MN-Address</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0109" num="0112">Upon detection: set activity to &#x201c;true&#x201d;.</p>
<p id="p-0110" num="0113">Action Performed at Timer Timeout:</p>
<p id="p-0111" num="0114">Case 1: Activity flag=&#x201c;false&#x201d;</p>
<p id="p-0112" num="0115">Remove the tunnel to the current VCAP of the address in question.</p>
<p id="p-0113" num="0116">Case 2: Activity flag=&#x201c;true&#x201d;</p>
<p id="p-0114" num="0117">Send a router refresh</p>
<p id="p-0115" num="0118">In case of the Visited CAP function:</p>
<p id="p-0116" num="0119">Detect the movement of a MN and the addresses it uses</p>
<p id="p-0117" num="0120">Upon movement detection, send a location update for each detected MN-address to the corresponding Home CAP.</p>
<p id="p-0118" num="0121">Forward packets arriving at a tunnel to the MN at the VCAP's link</p>
<p id="p-0119" num="0122">Receive and forward the first and second (router advertisement) message, thereby reformatting the packet to a standard format that is understood by the MN.</p>
<p id="p-0120" num="0123">Correctly respond and take actions to &#x201c;tunnel remove and setup&#x201d; messages originating from the HCAP.</p>
<p id="p-0121" num="0124">Another embodiment of the invention relates to the implementation of the above described various embodiments using hardware and software. It is recognized that the various above mentioned methods may be implemented or performed using computing devices (processors), as for example general purpose processors, digital signal processors (DSP), application specific integrated circuits (ASIC), field programmable gate arrays (FPGA) or other programmable logic devices, etc. The various embodiments of the invention may also be performed or embodied by a combination of these devices.</p>
<p id="p-0122" num="0125">Further, the various embodiments of the invention may also be implemented by means of software modules which are executed by a processor or directly in hardware. Also a combination of software modules and a hardware implementation may be possible. The software modules may be stored on any kind of computer readable storage media, for example RAM, EPROM, EEPROM, flash memory, registers, hard disks, CD-ROM, DVD, etc.</p>
<p id="h-0007" num="0000">Abbreviations</p>
<p id="h-0008" num="0000">AR&#x2014;Access Router</p>
<p id="h-0009" num="0000">BG&#x2014;Border Gateway</p>
<p id="h-0010" num="0000">CAP&#x2014;Connection Anchor Point</p>
<p id="h-0011" num="0000">CN&#x2014;Corresponding Node</p>
<p id="h-0012" num="0000">DAD&#x2014;Duplicate Address Detection</p>
<p id="h-0013" num="0000">HA&#x2014;Home Agent</p>
<p id="h-0014" num="0000">HAR&#x2014;Home Access Router</p>
<p id="h-0015" num="0000">HCAP&#x2014;Home Connection Anchor Point</p>
<p id="h-0016" num="0000">HO&#x2014;Handover</p>
<p id="h-0017" num="0000">HoA&#x2014;Home Address</p>
<p id="h-0018" num="0000">MIPv6&#x2014;Mobile IPv6</p>
<p id="h-0019" num="0000">MN&#x2014;Mobile Node</p>
<p id="h-0020" num="0000">NetLMM&#x2014;Network-based Localized Mobility Management</p>
<p id="h-0021" num="0000">NS&#x2014;Neighbour Solicitation</p>
<p id="h-0022" num="0000">PL&#x2014;Preferred Lifetime</p>
<p id="h-0023" num="0000">RA&#x2014;Router Advertisement</p>
<p id="h-0024" num="0000">RS&#x2014;Router Solicitation</p>
<p id="h-0025" num="0000">TCP&#x2014;Transport Control Protocol</p>
<p id="h-0026" num="0000">UDP&#x2014;User Datagram Protocol</p>
<p id="h-0027" num="0000">VAR&#x2014;Visited Access Router</p>
<p id="h-0028" num="0000">VCAP&#x2014;Visited Connection Anchor Point</p>
<p id="h-0029" num="0000">VL&#x2014;Valid Lifetime</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for packet switched data transmission in a local network, the local network comprising a mobile node and a plurality of interconnected connection anchor points, each with a link at which the mobile node can attach, the method comprising the steps of:
<claim-text>detecting by a second connection anchor point a movement of the mobile node from a first connection anchor point to the second connection anchor point, the mobile node having an address configured with an advertised prefix from the first connection anchor point and communicating via a tunneled connection between the first and second connection anchor points;</claim-text>
<claim-text>maintaining the tunneled connection between the second connection anchor point and the first connection anchor point;</claim-text>
<claim-text>receiving by the second connection anchor point a router advertisement including the advertised prefix being sent from the first connection anchor point; and</claim-text>
<claim-text>sending by the second connection anchor point a first message to the mobile node, the first message including the advertised prefix from the first connection anchor point, wherein:</claim-text>
<claim-text>the first message is the router advertisement.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising the steps of:
<claim-text>detecting a movement of the mobile node from the second connection anchor point to a third connection anchor point;</claim-text>
<claim-text>changing existing tunneled connections via the second connection anchor point to the third connection anchor point; and</claim-text>
<claim-text>setting up a new tunneled connection from the second connection anchor point to the third connection anchor point.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first message comprises a preferred and valid lifetime of the address of the mobile node.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the preferred lifetime of the address is zero.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising the following step:
<claim-text>calculating a valid lifetime from a projected address expiration time stored at the first connection anchor point.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising the step of:
<claim-text>sending a second message to refresh a valid lifetime of a deprecated address in use by the mobile node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, further comprising the step of:
<claim-text>removing inactive connections.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the second message is sent before the valid lifetime expires.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, further comprising the step of:
<claim-text>starting a timer in the first connection anchor point when the mobile node moves to the second connection anchor point, in order to keep track of the valid lifetime of the address of the mobile node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the timer is started after the first message is sent.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, further comprising the step of:
<claim-text>monitoring a usage of the tunneled connection for transmission of packets and setting an indicator accordingly.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising the following steps when the indicator indicates activity:
<claim-text>sending by the first connection anchor point a message to the second connection anchor point with a preconfigured valid lifetime;</claim-text>
<claim-text>sending by the second connection anchor point a router advertisement message to the mobile node;</claim-text>
<claim-text>setting the indicator to indicate no activity; and</claim-text>
<claim-text>re-initializing the timer.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising the following step when the indicator indicates no activity:
<claim-text>removing the tunneled connection.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. A connection anchor point in a local network using packet switched data transmission, the local network comprising a mobile node and a plurality of interconnected connection anchor points, each with a link at which the mobile node can attach, the connection anchor point comprising:
<claim-text>a detection unit configured to detect a movement of the mobile node from a first connection anchor point to the connection anchor point, the mobile node communicating via a tunneled connection between the first connection anchor point and the connection anchor point;</claim-text>
<claim-text>a connection unit configured to maintain the tunneled connection between the first connection anchor point and the connection anchor point;</claim-text>
<claim-text>a receiving unit configured to receive a router advertisement including an advertised prefix from the first connection anchor point; and</claim-text>
<claim-text>a sending unit configured to send a first message to the mobile node, the first message including the advertised prefix from the first connection anchor point, wherein:</claim-text>
<claim-text>the first message is a router advertisement.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. A communication system for packet switched data transmission in a local network, the local network comprising:
<claim-text>a mobile node in the local network configured to use the packet switched data transmission, and</claim-text>
<claim-text>a plurality of interconnected connection anchor points according to <claim-ref idref="CLM-00014">claim 14</claim-ref>. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
