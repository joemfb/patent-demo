<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626233-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626233</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12180508</doc-number>
<date>20080725</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>777</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>M</subclass>
<main-group>1</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>455551</main-classification>
<further-classification>455406</further-classification>
<further-classification>455465</further-classification>
<further-classification>4555521</further-classification>
</classification-national>
<invention-title id="d2e53">Method and apparatus for flexible multiple number assignment modules</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5249302</doc-number>
<kind>A</kind>
<name>Metroka et al.</name>
<date>19930900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4555521</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5675630</doc-number>
<kind>A</kind>
<name>Beatty</name>
<date>19971000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455551</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6757268</doc-number>
<kind>B1</kind>
<name>Zendle</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370338</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>7437158</doc-number>
<kind>B2</kind>
<name>Russell</name>
<date>20081000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554352</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2001/0000777</doc-number>
<kind>A1</kind>
<name>McGregor et al.</name>
<date>20010500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455406</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2004/0248595</doc-number>
<kind>A1</kind>
<name>Hicks et al.</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455465</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2006/0116105</doc-number>
<kind>A1</kind>
<name>Frankel et al.</name>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455406</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2008/0228610</doc-number>
<kind>A1</kind>
<name>Kim et al.</name>
<date>20080900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 34</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2010/0056203</doc-number>
<kind>A1</kind>
<name>Hicks et al.</name>
<date>20100300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4555521</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>15</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>455551</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>4</number-of-drawing-sheets>
<number-of-figures>4</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20100022267</doc-number>
<kind>A1</kind>
<date>20100128</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Hossain</last-name>
<first-name>Asif</first-name>
<address>
<city>Kanata</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Rao</last-name>
<first-name>Padakandla Krishna</first-name>
<address>
<city>Cupertino</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Hossain</last-name>
<first-name>Asif</first-name>
<address>
<city>Kanata</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Rao</last-name>
<first-name>Padakandla Krishna</first-name>
<address>
<city>Cupertino</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Moffat &#x26; Co.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>BlackBerry Limited</orgname>
<role>03</role>
<address>
<city>Waterloo</city>
<country>CA</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Alam</last-name>
<first-name>Fayyaz</first-name>
<department>2647</department>
</primary-examiner>
<assistant-examiner>
<last-name>Bilodeau</last-name>
<first-name>David</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method and apparatus for configuring a mobile device capable of supporting multiple number assignment modules, the method writing a first configuration parameter to indicate whether the mobile device should support multiple number assignment modules; specifying a second configuration parameter to indicate whether the mobile device should support data connectivity on a second or subsequent number assignment module; and setting a third configuration parameter to indicate whether separate billing should occur for data usage on the multiple number assignment modules. Also, a method and apparatus for data connectivity on a mobile device supporting multiple name assignment modules, the method checking, subsequent to transitioning to a second name assignment module, whether the second name assignment module supports data connectivity; responsive to the checking, determining whether separate billing is required for the second name assignment module; and responsive to the determining, establishing a data connection.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="210.23mm" wi="148.67mm" file="US08626233-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="215.82mm" wi="149.78mm" file="US08626233-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="216.66mm" wi="166.71mm" file="US08626233-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="194.90mm" wi="141.99mm" orientation="landscape" file="US08626233-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="223.60mm" wi="155.87mm" orientation="landscape" file="US08626233-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE DISCLOSURE</heading>
<p id="p-0002" num="0001">The present disclosure relates to multiple number assignment modules or alternative line services, and in particular to data services for multiple number assignment modules or alternative line service enabled mobile devices.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">A number assignment module (NAM) is a memory storage in a mobile device which stores a telephone number and an electronic serial number. Phones with dual or multi NAM features offer users the option of registering the phone with more than one number. For example, this could be registering the phone with a local number in two separate markets.</p>
<p id="p-0004" num="0003">Dual NAMs or alternative lines services have been available in code division multiple access (CDMA) and global systems for mobile communications (GSM) products for some time. For example, on CDMA products each NAM has its own mobile directory number (MDM), preferred roaming list (PRL), and other associate non-volatile memory items including the international mobile subscriber identity (IMSI) which makes the mobile device appear as a separate or a different subscriber to the network for billing purposes. This differentiation applies to voice services not to data services.</p>
<p id="p-0005" num="0004">For data billing, data credentials such as the session initiation protocol (SIP) and a network layer protocol called mobile internet protocol (MIP) username and password are used. Further, an access node (AN) username/password for evolution-data optimized networks can be used.</p>
<p id="p-0006" num="0005">Current implementations of non-volatile memory support only one number assignment module storage space for data credentials. Due to this limitation the mobile would have to use the first data credentials even though the user had switched to the second NAM (NAM2), thus causing the network to bill the NAM2 user for all voice services but still bill the first NAM (NAM1) subscriber for data services.</p>
<p id="p-0007" num="0006">In addition, not all carriers and their customer's require the dual NAM features on their handset. For example, carrier A may not want this feature on any of their handsets, whereas carrier B may want the feature on some of their handsets where specific customers require the advanced feature. Further, a first customer on the second carrier may want to have to have dual NAM functionality with separate data billing for each NAM while a customer B on the second carrier may want all data billed to NAM1 only.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0008" num="0007">The present disclosure will be better understood with reference to the drawings in which:</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 1</figref> is a data flow diagram showing configuration of a mobile device for flexible multi number assignment module;</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 2</figref> is a data flow diagram showing implementation of the configuration on a mobile device;</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram of an exemplary CDMA/EVDO system architecture; and</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram of an exemplary mobile device.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0013" num="0012">The present disclosure provides a solution to incorporate a flexible dual NAM feature. The flexibility includes various components including dual NAM support, data service permissible on NAM2 inquiries, and separate data billing, as described in detail below.</p>
<p id="p-0014" num="0013">Dual/multiple number assignment modules, or alternative line services (ALS) are used interchangeably herein and are not meant to limiting to one term or the other. Further, the use of dual number assignment modules is meant for illustration purposes and the present disclosure could equally apply to multiple number assignment modules.</p>
<p id="p-0015" num="0014">The present disclosure therefore provides a method for configuring a mobile device capable of supporting multiple number assignment modules comprising: writing a first configuration parameter to indicate whether the mobile device should support multiple number assignment modules; specifying a second configuration parameter to indicate whether the mobile device should support data connectivity on a second or subsequent number assignment module; and setting a third configuration parameter to indicate whether separate billing should occur for data usage on the multiple number assignment modules.</p>
<p id="p-0016" num="0015">The present disclosure further provides a method for data connectivity on a mobile device supporting multiple name assignment modules comprising: checking, subsequent to transitioning to a second name assignment module, whether the second name assignment module supports data connectivity; responsive to the checking, determining whether separate billing is required for the second name assignment module; and responsive to the determining, establishing a data connection.</p>
<p id="p-0017" num="0016">The present disclosure further provides a mobile device configured for flexible data connectivity with multiple name assignment modules, the mobile device comprising: memory having a first configuration parameter to indicate whether the mobile device should support multiple number assignment modules, a second configuration parameter to indicate whether the mobile device should support data connectivity on a second or subsequent number assignment module; and a third configuration parameter to indicate whether separate billing should occur for data usage on the multiple number assignment modules; a communications subsystem; and a processor configured to: check, subsequent to transitioning to a second name assignment module, whether the second name assignment module supports data connectivity; responsive to the checking, determine whether separate billing is required for the second name assignment module; and responsive to the determining, establish a data connection over the communications subsystem.</p>
<p id="p-0018" num="0017">The present disclosure provides for a flexible dual or multiple NAM feature. This feature is described with regard to both configuration and use on a mobile device.</p>
<p id="h-0005" num="0000">Configuration</p>
<p id="p-0019" num="0018">Reference is now made to <figref idref="DRAWINGS">FIG. 1</figref>. In <figref idref="DRAWINGS">FIG. 1</figref>, configuration of the mobile device is started at block <b>110</b> and proceeds through standard configuration steps. As will be appreciated, configuration can occur at the factory when the device is created or at a point of sale, for example. In other embodiments configuration could also occur after sale by re-provisioning the device, for example at a carrier's sales outlet.</p>
<p id="p-0020" num="0019">In addition to standard configuration, the process includes a block <b>120</b> in which a check is made to determine whether dual or multiple NAMs should be supported by the mobile device. The determination could be based on a carrier wide policy regarding whether to support multiple NAMs, a policy for the particular type of device or based on the customer purchasing the device.</p>
<p id="p-0021" num="0020">As will be appreciated, if dual or multiple NAMs are supported, a user has the choice of switching between the NAMs. Otherwise, if the feature is disabled, the user may not have a user interface accessibility to change the NAM.</p>
<p id="p-0022" num="0021">If, in block <b>120</b>, it is determined that dual or multiple NAMs should not be supported the process proceeds to block <b>124</b> in which the configuration setting of not permitting multiple NAMs is written to a non-volatile memory item and the process then proceeds to block <b>130</b> and ends.</p>
<p id="p-0023" num="0022">Conversely, if in block <b>120</b> it is determined that dual or multiple NAMs should be supported the process proceeds to block <b>122</b> in which the configuration parameter indicating the allowance of dual or multiple NAM support is written to a non-volatile memory location. As will be appreciated, in CDMA and EVDO networks, rather then using a SIM card the information about network access may be stored in non-volatile memory locations.</p>
<p id="p-0024" num="0023">From step <b>122</b> the process is then configured to proceed to a second aspect of configuration. Specifically, the process proceeds to block <b>140</b> in which a check is made to determine whether data service is permissible on the second or subsequent NAM. This check in block <b>140</b> defines whether a user who has switched to NAM2, for example, will be permitted to access data.</p>
<p id="p-0025" num="0024">If data is not permissible, as determined in block <b>140</b>, then the configuration information is specified for the non-volatile memory in block <b>142</b> and the process proceeds to block <b>130</b> and ends.</p>
<p id="p-0026" num="0025">As will be appreciated, if data is disabled by being non-permissible in block <b>140</b>, no data service is available when the mobile device is on NAM2, for example, and this is the equivalent to having data service turned off</p>
<p id="p-0027" num="0026">From block <b>140</b>, if data is permitted on NAM2 or subsequent NAMs the process then proceeds to block <b>144</b> in which the configuration setting is specified for the non-volatile memory and the process then proceeds to the third aspect of the configuration.</p>
<p id="p-0028" num="0027">Specifically, the third aspect of the configuration determines how billing should be handled concerning data on NAM2 or subsequent NAMs. Various options exist, including having a separate bill generated for data use on NAM2 or grouping the data usage for NAM2 and NAM1 under a single bill.</p>
<p id="p-0029" num="0028">The process proceeds to block <b>150</b> in which a determination is made concerning whether separate billing should be used. If no, the process proceeds to block <b>152</b> in which this configuration option is set at the non-volatile memory. Subsequently, when a user is connecting to a data source the mobile device will use the same credentials as in NAM1 for data connectivity and these credentials are created from the non-volatile memory. The process then proceeds to block <b>130</b> and ends.</p>
<p id="p-0030" num="0029">Conversely, if the process in block <b>150</b> determines that separate data credentials, and thus separate billing, are to be used, the process proceeds to block <b>154</b> in which the configuration is set at the non-volatile memory. The process then proceeds to block <b>130</b> and ends.</p>
<p id="p-0031" num="0030">In one embodiment, new credentials for data connectivity from NAM2 can be written into non-volatile memory as well.</p>
<p id="p-0032" num="0031">In alternative embodiments it may be desirable to not create new non-volatile memory items for separate configuration credentials. This may avoid non-volatile memory mismatches between chip manufacturers and mobile device manufacturers. In this case, an on-the-fly technique can be used to modify the credentials.</p>
<p id="p-0033" num="0032">Credentials for data connectivity are typically in the format of MDN@domainname. Carriers use different ways to differentiate between different data types. For example, on-device data usage may be treated differently than if the device was used as a tethered modem. In one case, the carrier may bill the on-device data usage differently from data received when the device is being used as a modem.</p>
<p id="p-0034" num="0033">Specifically, if a carrier uses a different mobile IP (MIP) network access identifier (NAI) to differentiate between data types or if the carrier adds an extra string to a domain to differentiate the separate data types, the domain name can be modified at the time of data connectivity.</p>
<p id="p-0035" num="0034">Thus, the carrier may use credentials MDN1@mip.1x.carrier.com for modem usage and MDN1@device.1x.carrier.com for on-device data usage. In this case, for NAM2 the credentials could be modified on-the-fly in random access memory (RAM) to replace MDN1 with MDN2. The substituted credentials could look like MDN2@mip.1x.carrier.com for modem usage and MDN2@device.1x.carrier.com for on-device data usage. Similarly, if the carrier appends an extra string to the domain to differentiate the modem then the credential MDN1@carrier.com could be used for on-device data usage and MDN1@modem.carrier.com could be used for modem usage. The credential could be modified on-the-fly for NAM2 by using MDN2@carrier.com and MDN2@modem.carrier.com for on-device and modem usage respectfully.</p>
<p id="p-0036" num="0035">In a further embodiment, credentials could be supplied by personal computer software for modem usage. Such supplied credentials are used in the case where the modem software on the device is configurable by a user to provide the connectivity parameters. When the parameters are provided by a user, a policy could be implemented to utilize the credentials supplied by the PC software regardless of whether NAM1 or NAM2 is being used. In other words, no modification of credentials occurs for modem data whenever these are supplied by the PC. Conversely, on-device data usage could still change from MDN1 to MDN2 on-the-fly in RAM.</p>
<p id="p-0037" num="0036">As will be appreciated, the above three aspects of configuration, namely configuring whether multiple NAMs are permitted, configuring whether a second or subsequent NAM is allowed data connectivity, and configuring billing for data connectivity on second or subsequent NAMs, provide for increased flexibility for carriers. The carriers could configure the mobile device based on the needs of the carrier and of each individual consumer.</p>
<p id="p-0038" num="0037">The configuration above can occur utilizing any standard configuration tools.</p>
<p id="h-0006" num="0000">Use</p>
<p id="p-0039" num="0038">Reference is now made to <figref idref="DRAWINGS">FIG. 2</figref>. <figref idref="DRAWINGS">FIG. 2</figref> shows a process for the use of a mobile device that has been configured as shown in <figref idref="DRAWINGS">FIG. 1</figref> above.</p>
<p id="p-0040" num="0039">A dual NAM device may be used, for example, by a user who has a mobile device provided by his or her employer. During the day the user can use NAM1 and receive voice and data with this identity. In the evening, the user can switch to NAM2 which allows the user to use the mobile device for personal voice calls and thus eliminates the need to have a second mobile device for this purpose. In some cases data may also be permitted on NAM2.</p>
<p id="p-0041" num="0040">The process of <figref idref="DRAWINGS">FIG. 2</figref> starts at block <b>210</b> and proceeds to block <b>212</b> in which the device is booted. During booting, the process writes the configuration settings from the non-volatile memory into RAM as illustrated in block <b>214</b>.</p>
<p id="p-0042" num="0041">The process then proceeds to block <b>220</b> in which a check is made to determine whether a user has switched to NAM2. As will be appreciated, the switch to NAM2 is merely an example, and the process is equally applicable to switching the device to NAM3, NAM4, etc.</p>
<p id="p-0043" num="0042">From block <b>220</b>, if the user has not switched to NAM2, the process continues to loop on step <b>220</b> and check whether a switch has been made.</p>
<p id="p-0044" num="0043">In the alternative, block <b>220</b> may be used to determine whether the mobile device can proceed to NAM2. For example, if the configuration of the NV parameter for whether a device is allowed to have multiple NAMs is set to false, the process may instead end after the check at block <b>220</b>. In this case the user interface for accessing a second NAM could be disabled.</p>
<p id="p-0045" num="0044">Once the user has switched to NAM2 the process proceeds to block <b>230</b> in which a check is made to determine whether data is enabled for NAM2. If no, the process proceeds to block <b>232</b> in which an optional operation is performed to prohibit access to data applications by a user. For example, the user interface of the mobile device may be altered to prevent the user from accessing a browser or email application when no data is permitted. This step is optional since other ways of preventing data transfer include prompting or warning a user when the user attempts to use a data application or merely showing no data connectivity when the user accesses an application.</p>
<p id="p-0046" num="0045">From block <b>232</b> the process proceeds to block <b>234</b> and ends.</p>
<p id="p-0047" num="0046">If, in block <b>230</b>, it is determined that data is enabled on the device for NAM2 the process proceeds to block <b>240</b> in which a check is made to determine whether always-on data applications exist on the device. If yes, the process proceeds to block <b>242</b> in which the RAM is checked to determine whether the NV parameter requiring separate billing has been set to true.</p>
<p id="p-0048" num="0047">From block <b>242</b>, if separate billing is required the process proceeds to block <b>244</b> in which the configuration parameters are changed on-the-fly, as described above. The process then proceeds to block <b>246</b> in which a data connection is established utilizing the modified data configuration parameters.</p>
<p id="p-0049" num="0048">From block <b>242</b>, if separate billing is not required, the process proceeds to block <b>248</b> in which a data connection is established utilizing the credentials from NAM1.</p>
<p id="p-0050" num="0049">From block <b>246</b> or block <b>248</b> the process proceeds to block <b>250</b> and ends.</p>
<p id="p-0051" num="0050">From block <b>240</b>, if always-on data is not required the process proceeds to block <b>260</b> in which a check is made to determine whether the user or the network has initiated a data connection. If no, the process continues to loop at block <b>260</b> until the user or network attempts to initiate a data connection.</p>
<p id="p-0052" num="0051">Once user or network has attempted to initiate a data connection in block <b>260</b> the process proceeds to block <b>242</b> to determine whether separate billing is required.</p>
<p id="p-0053" num="0052">The above therefore illustrates the use of the non-volatile memory configuration parameters by the mobile device in determining whether a user is allowed to change a mobile device's identity, whether a data connection is allowed in the new identity, and how to establish a data connection.</p>
<p id="p-0054" num="0053">The description above uses terminology for CDMA and EVDO networks. The principles are however the same for other network types. For example, in GSM a separate APN could be used for each ALS. In this way data connectivity parameters and setting could be determined when the user changes to a different ALS. Further the carrier could specify whether separate billing or the same billing is used for data when the user switches between different ALS. The present disclosure is thus meant to include any network type that supports multiple identities on a mobile device.</p>
<p id="p-0055" num="0054">The above can be implemented on any mobile device and in any network. An exemplary CDMA/EVDO network is illustrated below with regard to <figref idref="DRAWINGS">FIG. 3</figref> and an exemplary mobile device on which the above is implemented is illustrated with regard to <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0056" num="0055">Reference is now made to <figref idref="DRAWINGS">FIG. 3</figref>. <figref idref="DRAWINGS">FIG. 3</figref> is a block diagram of an exemplary wireless data network in accordance with the present application and with which the various embodiments of the method of the instant application may cooperate. <figref idref="DRAWINGS">FIG. 3</figref> shows a block diagram of a wireless data device <b>310</b> and exemplary CDMA 1x network <b>320</b>, an exemplary EVDO network <b>330</b>, a public switched telephone network (PSTN) <b>335</b>, a data network <b>340</b>, wireless gateway <b>342</b> and e-mail server <b>344</b> with which the instant techniques of this application may cooperate. The wireless data device <b>310</b> is preferably a two-way communication device having data and voice communication capabilities.</p>
<p id="p-0057" num="0056">CDMA network <b>320</b> is comprised of a base transceiver station (BTS) <b>322</b> and a base station controller (BSC) <b>324</b>. Base station controller <b>324</b> communicates with a mobile switching centre <b>326</b> which, as will be appreciated, is a circuit switched only component communicating with PSTN <b>335</b>. Base station controller <b>324</b> further communicates with a packet data serving node (PDSN) <b>328</b> which is a packet switched only component. PDSN <b>328</b> further communicates with IP network <b>340</b>.</p>
<p id="p-0058" num="0057">EVDO network <b>330</b> contains an EVDO sector <b>332</b> which communicates with access node (AN) <b>334</b>. Since the EVDO network <b>330</b> is a data only network, access node <b>334</b> communicates only with PDSN <b>328</b> and not with any circuit switched components.</p>
<p id="p-0059" num="0058">An authentication, authorization and accounting node <b>336</b> is associated with AN <b>334</b>, and a similar node <b>329</b> is associated with PDSN <b>328</b>.</p>
<p id="p-0060" num="0059">Operationally, mobile device <b>310</b> communicates wirelessly with CDMA network <b>320</b> using BTS <b>322</b> and BSC <b>324</b> to gain access to the CDMA 1x network. As indicated above, the CDMA 1x network is given priority and the establishment of the CDMA network occurs prior to any EVDO network connection being established.</p>
<p id="p-0061" num="0060">Mobile device <b>310</b> sends and receives both data and voice services through CDMA network <b>320</b> until an EVDO network connection is established. Base station controller <b>324</b> communicates with circuit switched services provided by mobile switching center (MSC) <b>326</b> such as voice and short message service (SMS) via PSTN <b>335</b>.</p>
<p id="p-0062" num="0061">Prior to an EVDO connection being established, mobile device <b>310</b> further communicates wirelessly with BTS <b>322</b> and BSC <b>324</b> to gain access to packet data services provided by PDSN <b>328</b>, such as e-mail, wireless application protocol (WAP) and other data services via data network <b>340</b>. Such services are provided through wireless gateway <b>342</b> and servers such as e-mail server <b>344</b>.</p>
<p id="p-0063" num="0062">Once a network connection is established with CDMA 1x network <b>320</b> and the mobile device enters CDMA 1x idle state, wireless device <b>310</b> establishes a connection with EVDO network <b>330</b>. This is done through EVDO sector <b>332</b> and AN <b>334</b>. In this way, mobile device <b>310</b> gains access to packet data services provided by PDSN <b>328</b> using EVDO network <b>330</b>. Subsequent to the establishment of an EVDO network connection with mobile device <b>310</b>, CDMA network <b>320</b> is used to provide circuit switched services such as voice and SMS while EVDO network <b>330</b> is used to provide packet data services such as e-mail and WAP.</p>
<p id="p-0064" num="0063">As will be appreciated by those skilled in the art, wireless device <b>310</b> can include voice communication means such as a headpiece <b>350</b> or a user can communicate directly into the wireless device <b>310</b>.</p>
<p id="p-0065" num="0064">A further advantage of the present system is that due to high transfer rates associated with EVDO networks, wireless device <b>310</b> can be used as a wireless modem and be connected through various means such as a USB or other serial port, or by short range wireless communications with a computer <b>354</b>. Computer <b>354</b> can then gain access to data network <b>340</b> through EVDO network <b>330</b> using mobile device <b>310</b> as the modem.</p>
<p id="p-0066" num="0065">Reference is now made to <figref idref="DRAWINGS">FIG. 4</figref>. <figref idref="DRAWINGS">FIG. 4</figref> is a block diagram illustrating a mobile device apt to be used with preferred embodiments of the apparatus and method of the present application. Mobile device <b>400</b> is preferably a two-way wireless communication device having at least voice and data communication capabilities. Mobile device <b>400</b> preferably has the capability to communicate with other computer systems on the Internet. Depending on the exact functionality provided, the wireless device may be referred to as a data messaging device, a two-way pager, a wireless e-mail device, a cellular telephone with data messaging capabilities, a wireless Internet appliance, or a data communication device, as examples.</p>
<p id="p-0067" num="0066">Where mobile device <b>400</b> is enabled for two-way communication, it will incorporate a communication subsystem <b>411</b>, including both a receiver <b>412</b> and a transmitter <b>414</b>, as well as associated components such as one or more, preferably embedded or internal, antenna elements <b>416</b> and <b>418</b>, local oscillators (LOs) <b>413</b>, and a processing module such as a digital signal processor (DSP) <b>420</b>. As will be apparent to those skilled in the field of communications, the particular design of the communication subsystem <b>411</b> will be dependent upon the communication network in which the device is intended to operate. For example, mobile device <b>400</b> may include a communication subsystem <b>411</b> designed to operate within the CDMA 1x/EVDO hybrid system.</p>
<p id="p-0068" num="0067">Network access requirements will also vary depending upon the type of network <b>419</b>. In some CDMA networks network access is associated with a subscriber or user of mobile device <b>400</b>. A CDMA mobile device may require a removable user identity module (RUIM) or a subscriber identity module (SIM) card in order to operate on a CDMA network. The SIM/RUIM interface <b>444</b> is normally similar to a card-slot into which a SIM/RUIM card can be inserted and ejected like a diskette or PCMCIA card. The SIM/RUIM card can hold many key configuration <b>451</b>, and other information <b>453</b> such as identification, and subscriber related information. In other embodiments the configuration information can be stored in non-volatile memory <b>446</b> on mobile device <b>400</b>.</p>
<p id="p-0069" num="0068">When required network registration or activation procedures have been completed, mobile device <b>400</b> may send and receive communication signals over the network <b>419</b>. As illustrated in <figref idref="DRAWINGS">FIG. 4</figref>, network <b>419</b> can consist of multiple base stations communicating with the mobile device. For example, in a hybrid CDMA 1x EVDO system, a CDMA base station and an EVDO base station communicate with the mobile device and the mobile device is connected to both simultaneously. The EVDO and CDMA 1x base stations use different paging slots to communicate with the mobile device.</p>
<p id="p-0070" num="0069">Signals received by antenna <b>416</b> through communication network <b>419</b> are input to receiver <b>412</b>, which may perform such common receiver functions as signal amplification, frequency down conversion, filtering, channel selection and the like, and in the example system shown in <figref idref="DRAWINGS">FIG. 4</figref>, analog to digital (A/D) conversion. A/D conversion of a received signal allows more complex communication functions such as demodulation and decoding to be performed in the DSP <b>420</b>. In a similar manner, signals to be transmitted are processed, including modulation and encoding for example, by DSP <b>420</b> and input to transmitter <b>414</b> for digital to analog conversion, frequency up conversion, filtering, amplification and transmission over the communication network <b>419</b> via antenna <b>418</b>. DSP <b>420</b> not only processes communication signals, but also provides for receiver and transmitter control. For example, the gains applied to communication signals in receiver <b>412</b> and transmitter <b>414</b> may be adaptively controlled through automatic gain control algorithms implemented in DSP <b>420</b>.</p>
<p id="p-0071" num="0070">Mobile device <b>400</b> preferably includes a microprocessor <b>438</b> which controls the overall operation of the device. Communication functions, including at least data and voice communications, are performed through communication subsystem <b>411</b>. Microprocessor <b>438</b> also interacts with further device subsystems such as the display <b>422</b>, flash memory <b>424</b>, random access memory (RAM) <b>426</b>, auxiliary input/output (I/O) subsystems <b>428</b>, serial port <b>430</b>, one or more keyboards or keypads <b>432</b>, speaker <b>434</b>, microphone <b>436</b>, other communication subsystem <b>440</b> such as a short-range communications subsystem and any other device subsystems generally designated as <b>442</b>. Serial port <b>430</b> could include a USB port or other port known to those in the art.</p>
<p id="p-0072" num="0071">Some of the subsystems shown in <figref idref="DRAWINGS">FIG. 4</figref> perform communication-related functions, whereas other subsystems may provide &#x201c;resident&#x201d; or on-device functions. Notably, some subsystems, such as keyboard <b>432</b> and display <b>422</b>, for example, may be used for both communication-related functions, such as entering a text message for transmission over a communication network, and device-resident functions such as a calculator or task list.</p>
<p id="p-0073" num="0072">Operating system software used by the microprocessor <b>438</b> is preferably stored in a persistent store such as flash memory <b>424</b>, which may instead be a read-only memory (ROM) or similar storage element (not shown). Those skilled in the art will appreciate that the operating system, specific device applications, or parts thereof, may be temporarily loaded into a volatile memory such as RAM <b>426</b>. Received communication signals may also be stored in RAM <b>426</b>.</p>
<p id="p-0074" num="0073">As shown, flash memory <b>424</b> can be segregated into different areas for both computer programs <b>458</b> and program data storage <b>450</b>, <b>452</b>, <b>454</b> and <b>456</b>. These different storage types indicate that each program can allocate a portion of flash memory <b>424</b> for their own data storage requirements. Microprocessor <b>438</b>, in addition to its operating system functions, preferably enables execution of software applications on the mobile device. A predetermined set of applications that control basic operations, including at least data and voice communication applications for example, will normally be installed on mobile device <b>400</b> during manufacturing. A preferred software application may be a personal information manager (PIM) application having the ability to organize and manage data items relating to the user of the mobile device such as, but not limited to, e-mail, calendar events, voice mails, appointments, and task items. Naturally, one or more memory stores would be available on the mobile device to facilitate storage of PIM data items. Such PIM application would preferably have the ability to send and receive data items, via the wireless network <b>419</b>. In a preferred embodiment, the PIM data items are seamlessly integrated, synchronized and updated, via the wireless network <b>419</b>, with the mobile device user's corresponding data items stored or associated with a host computer system. Further applications may also be loaded onto the mobile device <b>400</b> through the network <b>419</b>, an auxiliary I/O subsystem <b>428</b>, serial port <b>430</b>, short-range communications subsystem <b>440</b> or any other suitable subsystem <b>442</b>, and installed by a user in the RAM <b>426</b> or preferably a non-volatile store <b>446</b> for execution by the microprocessor <b>438</b>. Such flexibility in application installation increases the functionality of the device and may provide enhanced on-device functions, communication-related functions, or both. For example, secure communication applications may enable electronic commerce functions and other such financial transactions to be performed using the mobile device <b>400</b>.</p>
<p id="p-0075" num="0074">In a data communication mode, a received signal such as a text message or web page download will be processed by the communication subsystem <b>411</b> and input to the microprocessor <b>438</b>, which preferably further processes the received signal for output to the display <b>422</b>, or alternatively to an auxiliary I/O device <b>428</b>. A user of mobile device <b>400</b> may also compose data items such as email messages for example, using the keyboard <b>432</b>, which is in one embodiment a complete alphanumeric keyboard or telephone-type keypad, in conjunction with the display <b>422</b> and possibly an auxiliary I/O device <b>428</b>. Such composed items may then be transmitted over a communication network through the communication subsystem <b>411</b>.</p>
<p id="p-0076" num="0075">For voice communications, overall operation of mobile device <b>400</b> is similar, except that received signals would preferably be output to a speaker <b>434</b> and signals for transmission would be generated by a microphone <b>436</b>. Alternative voice or audio I/O subsystems, such as a voice message recording subsystem, may also be implemented on mobile device <b>400</b>. Although voice or audio signal output is preferably accomplished primarily through the speaker <b>434</b>, display <b>422</b> may also be used to provide an indication of the identity of a calling party, the duration of a voice call, or other voice call related information for example.</p>
<p id="p-0077" num="0076">Serial port <b>430</b> in <figref idref="DRAWINGS">FIG. 4</figref>, would normally be implemented in a personal digital assistant (PDA)-type mobile device for which synchronization with a user's desktop computer (not shown) may be desirable, but is an optional device component. Such a port <b>430</b> would enable a user to set preferences through an external device or software application and would extend the capabilities of mobile device <b>400</b> by providing for information or software downloads to mobile device <b>400</b> other than through a wireless communication network. The alternate download path may for example be used to load an encryption key onto the device through a direct and thus reliable and trusted connection to thereby enable secure device communication. As will be appreciated by those skilled in the art, serial port <b>430</b> can further be used to connect the mobile device to a computer to act as a modem. A modem unit <b>460</b> interacts with a driver <b>462</b> in a computer <b>464</b> to allow data transfer through the mobile device. With EVDO networks, a high rate of data transfer can be achieved using the mobile device <b>400</b> as the modem. Depending on the interface provided by driver <b>462</b>, unit <b>460</b> could be an IP routing module. Further, driver <b>462</b> could provide either a modem interface or alternatively an IP interface to computer <b>464</b>. As will be appreciated by those skilled in the art, the combination of driver <b>462</b> and unit <b>460</b> must provide a communication interface for computer <b>430</b> to be enabled for communications originated and/or terminated at computer <b>430</b>.</p>
<p id="p-0078" num="0077">Other communications subsystems <b>440</b>, such as a short-range communications subsystem, is a further optional component which may provide for communication between mobile device <b>400</b> and different systems or devices, which need not necessarily be similar devices. For example, the subsystem <b>440</b> may include an infrared device and associated circuits and components or a Bluetooth&#x2122; communication module to provide for communication with similarly enabled systems and devices.</p>
<p id="p-0079" num="0078">The embodiments described herein are examples of structures, systems or methods having elements corresponding to elements of the techniques of this application. This written description may enable those skilled in the art to make and use embodiments having alternative elements that likewise correspond to the elements of the techniques of this application. The intended scope of the techniques of this application thus includes other structures, systems or methods that do not differ from the techniques of this application as described herein, and further includes other structures, systems or methods with insubstantial differences from the techniques of this application as described herein.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for configuring a mobile device capable of supporting multiple number assignment modules comprising:
<claim-text>writing a first configuration parameter to indicate whether the mobile device should support multiple number assignment modules located on said mobile device, each number assignment module providing registration, with a network, of a separate telephone number for billing of wireless voice services, the mobile device is a dual mode device and capable of supporting both wireless voice services in a wireless voice communication mode and wireless data services in a wireless data communication mode;</claim-text>
<claim-text>providing a non-volatile memory having a single storage space to store data credentials for the wireless data service in the wireless data communication mode, the credentials associated with a first of said number assignment modules, wherein billing of the wireless data services from said mobile device is associated with said stored data credentials;</claim-text>
<claim-text>specifying a second configuration parameter to indicate whether the mobile device should support wireless data service connectivity on a second or subsequent of said number assignment modules; and</claim-text>
<claim-text>setting a third configuration parameter to indicate whether separate billing should occur for wireless data service usage on the second or subsequent of the multiple number assignment modules</claim-text>
<claim-text>checking, subsequent to transitioning to a second of said number assignment modules, whether the second number assignment module supports wireless data service connectivity;</claim-text>
<claim-text>responsive to the checking, determining whether separate billing is required for wireless data services oil the second number assignment module; and</claim-text>
<claim-text>responsive to the determining, establishing a wireless data connection using data credentials of said second number assignment module.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first configuration parameter, second configuration parameter and third configuration parameter are in non-volatile memory on the mobile device.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the method is performed during manufacture of the mobile device.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the method is performed at a point of sale of the mobile device.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A method for data service billing on a mobile device comprising:
<claim-text>supporting multiple number assignment modules on said mobile device, each number assignment module providing registration, with a network, of a separate telephone number for billing of wireless voice services, the mobile device is a dual mode device and capable of supporting both wireless voice services, in a wireless voice communication mode and wireless data services in a wireless data communication mode;</claim-text>
<claim-text>providing a non-volatile memory having a single storage space to store data credentials for the wireless data service in said wireless data communication mode, the data credentials associated with a first of said number assignment modules, wherein billing of the wireless data services to said mobile device is associated with said stored data credentials;</claim-text>
<claim-text>checking, subsequent to transitioning to a second of said number assignment modules, whether the second number assignment module supports wireless data service connectivity; responsive to the checking, determining whether separate billing is required for wireless data services on the second number assignment module; and</claim-text>
<claim-text>responsive to the determining, establishing a wireless data connection using data credentials of said second number assignment module.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the checking uses a parameter set in a non-volatile memory location to check whether the second name assignment module supports data connectivity.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, further comprising blocking access to data applications if said second name assignment module does not support data connectivity.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein said determining uses a parameter set in a non-volatile memory location to determine whether separate billing is required.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein said establishing uses credentials from a first name assignment module to establish the data connection if separate billing is not required.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein said establishing changes credentials from a first name assignment module to a second name assignment module automatically if separate billing is required, the changed credentials being used to establish the data connection.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the changing is done in random access memory.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the credential is a mobile internet protocol network access indicator.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the credential is a domain name.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the establishing uses credentials received from a personal computer without changing the credentials.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. A mobile device configured for flexible data connectivity with multiple number assignment modules (NAM) comprising:
<claim-text>multiple number assignment modules, each NAM providing registration, with a network, of a separate telephone number for billing of wireless voice services, the mobile device being a dual mode device and capable of supporting both wireless voice services in a wireless voice communication mode and wireless data services in a wireless data communication mode;</claim-text>
<claim-text>non volatile memory having a single storage space for NAM data credentials for the wireless data service in the wireless data communication mode, the data credentials used for billing of said wireless data service; the non volatile memory having a first configuration parameter to indicate whether the mobile device should support said multiple number assignment modules, a second configuration parameter to indicate whether the mobile device should support wireless data service connectivity on a second or subsequent of said number assignment modules; and a third configuration parameter to indicate whether separate billing should occur for wireless data service usage on the multiple number assignment modules;</claim-text>
<claim-text>a communications subsystem; and</claim-text>
<claim-text>a processor configured to:
<claim-text>check, subsequent to transitioning to a second name assignment module, whether the second name assignment module supports wireless data service connectivity;</claim-text>
<claim-text>responsive to the checking, determine whether separate billing is required for the second number assignment module; and</claim-text>
<claim-text>responsive to the determining, establish a wireless data service connection over the communications subsystem using data credentials of said second number assignment module. </claim-text>
</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
