<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625529-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625529</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12749912</doc-number>
<date>20100330</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>707</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20090101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>W</subclass>
<main-group>4</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370331</main-classification>
<further-classification>370248</further-classification>
<further-classification>370238</further-classification>
<further-classification>370329</further-classification>
<further-classification>370328</further-classification>
</classification-national>
<invention-title id="d2e53">System for and method of dynamic home agent allocation</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6430698</doc-number>
<kind>B1</kind>
<name>Khalil et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714  41</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7006472</doc-number>
<kind>B1</kind>
<name>Immonen et al.</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370332</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7031275</doc-number>
<kind>B1</kind>
<name>Borella et al.</name>
<date>20060400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370328</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>7376128</doc-number>
<kind>B2</kind>
<name>Chen et al.</name>
<date>20080500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370352</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7512093</doc-number>
<kind>B2</kind>
<name>Nakatsugawa et al.</name>
<date>20090300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370328</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7693093</doc-number>
<kind>B2</kind>
<name>Riedel et al.</name>
<date>20100400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370260</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>7747251</doc-number>
<kind>B1</kind>
<name>Pippert et al.</name>
<date>20100600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554321</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>8041898</doc-number>
<kind>B2</kind>
<name>Moga et al.</name>
<date>20111000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711141</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>8060088</doc-number>
<kind>B2</kind>
<name>Ihattula</name>
<date>20111100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370331</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>8144687</doc-number>
<kind>B2</kind>
<name>Bedekar et al.</name>
<date>20120300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370351</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>8156225</doc-number>
<kind>B2</kind>
<name>Yamada et al.</name>
<date>20120400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709226</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2004/0202126</doc-number>
<kind>A1</kind>
<name>Leung et al.</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370331</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2006/0010250</doc-number>
<kind>A1</kind>
<name>Eisl et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709245</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2007/0206556</doc-number>
<kind>A1</kind>
<name>Yegani et al.</name>
<date>20070900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370338</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2007/0297370</doc-number>
<kind>A1</kind>
<name>Shimizu et al.</name>
<date>20071200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370331</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>2008/0039079</doc-number>
<kind>A1</kind>
<name>Iyer et al.</name>
<date>20080200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554321</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>2008/0069030</doc-number>
<kind>A1</kind>
<name>Hirano et al.</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370328</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>2008/0240053</doc-number>
<kind>A1</kind>
<name>Oswal et al.</name>
<date>20081000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370338</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>2008/0279150</doc-number>
<kind>A1</kind>
<name>Shousterman et al.</name>
<date>20081100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370331</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00020">
<othercit>Kulkarni et al. (&#x201c;Mobile IPV4 Dynamic Home Agent Assignment&#x201d;) ; Mar. 2006; p. 1-25.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
</us-references-cited>
<number-of-claims>65</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>370331</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37039521</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370397</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3703952</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370248</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370328</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370238</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110243072</doc-number>
<kind>A1</kind>
<date>20111006</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Omar</last-name>
<first-name>Hassan M.</first-name>
<address>
<city>Mt. Vernon</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Omar</last-name>
<first-name>Hassan M.</first-name>
<address>
<city>Mt. Vernon</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Verizon Patent and Licensing Inc.</orgname>
<role>02</role>
<address>
<city>Basking Ridge</city>
<state>NJ</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Ngo</last-name>
<first-name>Ricky</first-name>
<department>2464</department>
</primary-examiner>
<assistant-examiner>
<last-name>Samuel</last-name>
<first-name>Dewanda</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A system for and method of dynamic home agent allocation is presented. The system and method may include receiving, via a network, a request for allocation of a Logical Home Agent for a mobile node, selecting a Logical Home Agent for the mobile node based on one or more performance metrics, and communicating Logical Home Agent selection to the selected Logical Home Agent and the mobile node.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="180.59mm" wi="217.09mm" file="US08625529-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="217.93mm" wi="183.81mm" orientation="landscape" file="US08625529-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="150.71mm" wi="140.38mm" orientation="landscape" file="US08625529-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="249.77mm" wi="140.55mm" file="US08625529-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="173.65mm" wi="117.60mm" orientation="landscape" file="US08625529-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="205.57mm" wi="183.13mm" orientation="landscape" file="US08625529-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND INFORMATION</heading>
<p id="p-0002" num="0001">Users of mobile networking devices travel and transfer from connectivity via a first network to connectivity via a second network. Users prefer a fixed IP address for a number of applications. Protocols such as, for example, Mobile IP, address the need for a fixed IP address across networks. However, such protocols employ sub-optimal routing requiring either routing of network traffic to a home network regardless of the location of a mobile user or modification of all existing correspondent nodes communicating with the mobile user.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0002" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0003" num="0002">The present invention, together with further objects and advantages, may best be understood by reference to the following description taken in conjunction with the accompanying drawings, in the several figures of which like reference numerals identify like elements, and in which:</p>
<p id="p-0004" num="0003"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic diagram illustrating a system for performing dynamic home agent allocation, according to a particular embodiment;</p>
<p id="p-0005" num="0004"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram of a hardware component of the system for performing dynamic home agent allocation, according to a particular embodiment;</p>
<p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. 3</figref> depicts a method for performing dynamic home agent allocation, according to a particular embodiment;</p>
<p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. 4</figref><i>a </i>illustrates an exemplary protocol extension for performing dynamic home agent allocation requests, according to an embodiment of the disclosure;</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 4</figref><i>b </i>illustrates an exemplary protocol extension for indicating dynamic home agent allocation preferences, according to an embodiment of the disclosure; and</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 5</figref> is a schematic diagram of a system for performing dynamic home agent allocation, according to an embodiment of the disclosure.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0003" level="1">DETAILED DESCRIPTION OF PREFERRED EMBODIMENTS</heading>
<p id="p-0010" num="0009">Mobile IP may provide a fixed IP address for one or more mobile clients. Many real-time types of traffic and mission critical applications may require a network to support specified performance metrics. Users may expect a same level of experience even while on the move between different networks and while using the different available wired and wireless access technologies. The Mobile-IP protocol may support the mobility of users without the need to tear down existing sessions. In Mobile-IP, traffic destined to a mobile user may be forwarded to a statically configured home network address to be intercepted by the home agent (HA), and then forwarded to a current foreign agent (FA) that may be providing service to a mobile user. This arrangement may cause sub-optimal routing that may significantly impact performance metrics such as delay, in particular if a mobile user is far away from a home network. In Mobile-IP, network traffic to or from a mobile device may still need to be sent to a home agent on the home network even though the mobile device is now associated with a foreign agent on a different network.</p>
<p id="p-0011" num="0010">According to an embodiment, a system for and method of dynamic home agent allocation is presented. The system and method may include receiving, via a network, a request for allocation of a Logical Home Agent (&#x201c;LHA&#x201d;) for a mobile node. The system and method may also include selecting a Logical Home Agent for the mobile node based on one or more performance metrics, and communicating Logical Home Agent selection to the selected Logical Home Agent and the mobile node. The selected Logical Home Agent may then begin forwarding traffic for the mobile node. Selection of a Logical Home Agent may be policy based and may provide flexibility in offering and supporting different levels of service. Logical resource sharing techniques may be used to allow network and service providers to optimize the utilization of existing infrastructure. Such an approach may provide better performance for mobile users when moving into areas with no presence of home network owned resources.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic diagram illustrating a system for performing dynamic home agent allocation, according to a particular embodiment. As illustrated, networks <b>102</b> and <b>118</b> may be communicatively coupled with each other and with one or more devices including network element <b>104</b>(<b>1</b>) through network element <b>104</b>(<i>n</i>), data storage <b>108</b>, network element <b>110</b>, network element <b>112</b>, mobile node <b>114</b>, and node <b>116</b>. Network elements <b>104</b> may contain modules <b>106</b>. Other devices may be communicatively coupled with networks <b>102</b> and <b>118</b> via one or more intermediary devices.</p>
<p id="p-0013" num="0012">The description below describes network elements, computers, and/or components of a system of and method for performing dynamic home agent allocation that may include one or more modules. As used herein, the term &#x201c;module&#x201d; may be understood to refer to executable software, firmware, hardware, and/or various combinations thereof. Modules however are not to be interpreted as software which is not implemented on hardware, firmware, or recorded on a processor readable recordable storage medium (i.e., modules are not software per se). It is noted that the functional separation of the modules is exemplary. The modules may be combined, integrated, separated, and/or duplicated to support various applications. Also, a function described herein as being performed at a particular module may be performed at one or more other modules and/or by one or more other devices instead of or in addition to the function performed at the particular module. Further, the modules may be implemented across multiple devices and/or other components local or remote to one another. Additionally, the modules may be moved from one device and added to another device, and/or may be included in both devices.</p>
<p id="p-0014" num="0013">Networks <b>102</b> and <b>118</b> may be one or more of: a wireless network, a wired network or any combination of wireless network and wired network. For example, networks <b>102</b> and <b>118</b> may include one or more of a fiber optics network, a passive optical network, a cable network, an Internet network, a satellite network (e.g., operating in Band C, Band Ku or Band Ka), a wireless LAN, a Global System for Mobile Communication (&#x201c;GSM&#x201d;), a Personal Communication Service (&#x201c;PCS&#x201d;), a Personal Area Network (&#x201c;PAN&#x201d;), D-AMPS, Wi-Fi, Fixed Wireless Data, IEEE 802.11a, 802.11b, 802.15.1, 802.11n and 802.11g or any other wired or wireless network for transmitting and/or receiving a data signal. In addition, networks <b>102</b> and <b>118</b> may include, without limitation, telephone line, fiber optics, IEEE Ethernet 802.3, a Wide Area Network (&#x201c;WAN&#x201d;), a Local Area Network (&#x201c;LAN&#x201d;), or a global network such as the Internet. Also, networks <b>102</b> and <b>118</b> may support, an Internet network, a wireless communication network, a cellular network, or the like, or any combination thereof.</p>
<p id="p-0015" num="0014">Networks <b>102</b> and <b>118</b> may further include one, or any number of the exemplary types of networks mentioned above operating as a stand-alone network or in cooperation with each other. Networks <b>102</b> and <b>118</b> may utilize one or more protocols of one or more network elements to which it is communicatively coupled. Networks <b>102</b> and <b>118</b> may translate to or from other protocols to one or more protocols of network devices. Although networks <b>102</b> and <b>118</b> are each depicted as one network, it should be appreciated that according to one or more embodiments, networks <b>102</b> and <b>118</b> may each comprise a plurality of interconnected networks, such as, for example, a service provider network, the Internet, a broadcaster's network, a cable television network, corporate networks, and home networks.</p>
<p id="p-0016" num="0015">Although embodiments of the present disclosure illustrate Mobile IP and a hierarchical configuration, it should be appreciated that concepts in this disclosure are applicable to other models of network topology and other network protocols.</p>
<p id="p-0017" num="0016">Network elements <b>104</b>, <b>110</b>, <b>112</b>, mobile node <b>114</b>, and data storage <b>108</b> may include one or more processors for recording, transmitting, receiving, and storing data. Although network elements and data storage <b>108</b> are depicted as individual elements, it should be appreciated that the contents of one or more of a network element and data storage <b>108</b> may be combined into fewer or greater numbers of devices and may be connected to additional devices not depicted in <figref idref="DRAWINGS">FIG. 1</figref>. Furthermore, the one or more devices may be local, remote, or a combination thereof to a first network element and data storage <b>108</b>.</p>
<p id="p-0018" num="0017">Network elements <b>104</b>, <b>110</b>, <b>112</b>, mobile node <b>114</b>, modules <b>106</b>, and data storage <b>108</b> may transmit and receive data to and from networks <b>102</b> and <b>118</b> representing dynamic home agent allocation data, resource utilization data, packet delay, jitter, packet loss, and other data. The data may be transmitted and received utilizing a standard telecommunications protocol or a standard networking protocol. For example, one embodiment may utilize Session Initiation Protocol (&#x201c;SIP&#x201d;). In other embodiments, the data may be transmitted and/or received utilizing other Voice Over IP (&#x201c;VOIP&#x201d;) or messaging protocols. According to at least one embodiment, the data may be transmitted using a Request For Comments (&#x201c;RFC&#x201d;) 4433 compliant protocol. Data may also be transmitted and/or received using Wireless Application Protocol (&#x201c;WAP&#x201d;), Multimedia Messaging Service (&#x201c;MMS&#x201d;), Enhanced Messaging Service (&#x201c;EMS&#x201d;), Short Message Service (&#x201c;SMS&#x201d;), Global System for Mobile Communications (&#x201c;GSM&#x201d;) based systems, Code Division Multiple Access (&#x201c;CDMA&#x201d;) based systems, Transmission Control Protocol/Internet (&#x201c;TCP/IP&#x201d;) Protocols, or other protocols and systems suitable for transmitting and receiving broadcast or parallel search data. Data may be transmitted and received wirelessly or may utilize cabled network or telecom connections such as an Ethernet RJ45/Category 5 Ethernet connection, a fiber connection, a traditional phone wireline connection, a cable connection or other wired network connection. Networks <b>102</b> and <b>118</b> may use standard wireless protocols including IEEE 802.11a, 802.11b and 802.11g. Networks <b>102</b> and <b>118</b> may also use protocols for a wired connection, such as an IEEE Ethernet 802.3.</p>
<p id="p-0019" num="0018">Mobile node <b>114</b> may be a cellular phone, a mobile phone, a satellite phone, a Personal Digital Assistants (&#x201c;PDA&#x201d;), a computer, a handheld MP3 player, a handheld video player, a personal media player, a gaming devices, or other devices capable of communicating with networks <b>102</b> and <b>118</b>. According to some embodiments, mobile node <b>114</b> may be use Session Initiation Protocol, Voice Over IP, or other protocols to provide network resource sensitive applications. Network resource sensitive applications may include, but is not limited to, gaming, gaming burst software download service, Bandwidth on Demand (&#x201c;BoD&#x201d;), Video on Demand (&#x201c;VoD&#x201d;), video over IP, IPTV, internet access, Virtual Private Network (&#x201c;VPN&#x201d;) services, or other performance sensitive services.</p>
<p id="p-0020" num="0019">Node <b>116</b> may be a correspondent node providing or participating in one or more performance sensitive applications. According to some embodiments, node <b>116</b> may be a correspondent node in communication with mobile node <b>114</b>.</p>
<p id="p-0021" num="0020">Data storage <b>108</b> may be network accessible storage and may be local, remote, or a combination thereof to network elements <b>104</b>, <b>110</b>, and <b>112</b>. Data storage <b>108</b> may utilize a redundant array of inexpensive disks (&#x201c;RAID&#x201d;), tape, disk, a storage area network (&#x201c;SAN&#x201d;), an internet small computer systems interface (&#x201c;iSCSI&#x201d;) SAN, a Fibre Channel SAN, a common Internet File System (&#x201c;CIFS&#x201d;), network attached storage (&#x201c;NAS&#x201d;), a network file system (&#x201c;NFS&#x201d;), or other computer accessible storage. In one or more embodiments, Data storage <b>108</b> may be a database, such as an Oracle database, a Microsoft SQL Server database, a DB2 database, a MySQL database, a Sybase database, an object oriented database, a hierarchical database, or other database. Data storage <b>108</b> may utilize flat file structures for storage of data.</p>
<p id="p-0022" num="0021">According to some embodiments, data storage <b>108</b> may be a relational database, an object oriented database; a flat file, or other electronic storage that may store performance metrics, network topology information (e.g., node information, link information, etc.), bandwidth, utilization, logical home element utilization, QoS (&#x201c;Quality of Service&#x201d;) profile information, and other resource and utilization data. Data may be aggregated, sorted, processed, and queried to identify memory trends, network connectivity problems, configuration problems, and other issues. Associations may be made between identified issues identified in the diagnostic data and requested QoS levels. According to some embodiments, data storage <b>108</b> may provide one or more APIs or other interfaces which may be used by a web server or other application to distribute, present, and share information.</p>
<p id="p-0023" num="0022">Data storage <b>108</b> may be implemented as a standalone unit or as an integrated module within the network element <b>110</b> or another network element. Data storage <b>108</b> may track information including, but not limited to: links of a network topology, a maximum bandwidth for each link, and current link utilization. Data storage <b>108</b> may support topology and configuration intervention, which may accommodate allowing QoS requests that may not be satisfied otherwise.</p>
<p id="p-0024" num="0023">Network elements <b>104</b>, <b>110</b>, and <b>112</b> may provide Application Programming Interfaces (&#x201c;APIs&#x201d;), interface tables, Remote Procedure Calls (&#x201c;RPCs&#x201d;), web services, Extensible Markup Language (&#x201c;XML&#x201d;) based interfaces, Simple Object Access Protocol (&#x201c;SOAP&#x201d;) based interfaces, Common Object Request Broker Architecture (&#x201c;CORBA&#x201d;) and other interfaces for sending or receiving media searches, preferences or other information. Network elements <b>104</b>, <b>110</b>, and <b>112</b> may receive data associated with dynamic home agent allocation, resource utilization, QoS requests, and other network data. This network data may be provided or accessible to other network elements via one or more APIs, services, interfaces, or other data exchange mechanisms.</p>
<p id="p-0025" num="0024">According to some embodiments, module <b>106</b> may be a Logical Home Agent. As illustrated in <figref idref="DRAWINGS">FIG. 1</figref>, a network element may contain one module <b>106</b>, multiple modules <b>106</b>, or no modules <b>106</b>. For example, network element <b>104</b>(<b>1</b>) may be a gateway foreign agent which may contain modules <b>106</b>(<b>1</b>), <b>106</b>(<b>2</b>), and <b>106</b>(<b>3</b>). Network element <b>104</b>(<b>2</b>) may not contain any modules <b>106</b>, network element <b>104</b>(<b>3</b>) may contain module <b>106</b>(<b>4</b>), network element <b>104</b>(<b>4</b>) may contain modules <b>106</b>(<b>5</b>) and <b>106</b>(<b>6</b>). A single network element may support multiple modules <b>106</b> (e.g., Logical Home Agents), and may utilize resource sharing and logical separation techniques that may allow utilization of existing resources while meeting performance and security requirements requested by clients. Mobile node <b>114</b> may be communicatively coupled to module <b>106</b>(<b>5</b>) of network element <b>104</b>(<b>5</b>). Module <b>106</b>(<b>5</b>) may serve as a home agent for mobile node <b>114</b>. Mobile node <b>114</b> may be running a network resource sensitive application such as, for example, video conferencing. Node <b>116</b> may be a correspondent node participating in a video conference call with mobile node <b>116</b>. A user of mobile node <b>114</b> may be traveling with mobile node <b>114</b> during the video conference call with node <b>116</b>. Mobile node <b>114</b> may require a fixed IP address for the conference call functionality while traveling across networks. Mobile node <b>114</b> may utilize Mobile IP or other protocols to maintain a fixed IP address. For example, if mobile node moves from an area with network traffic handled by network element <b>104</b>(<b>4</b>) to an area where network traffic is handled by network element <b>104</b>(<b>5</b>), mobile node <b>114</b> may maintain a same IP address. If mobile node <b>114</b> moves to network element <b>104</b>(<b>5</b>), network element <b>104</b>(<b>5</b>) may serve as a foreign agent for mobile node <b>114</b>. Network element <b>104</b>(<b>5</b>) may send and receive IP traffic for mobile node <b>114</b>. In Mobile IP implementations mobile node <b>114</b> may have previously been required to send and receive traffic to correspondent node <b>116</b> through its home agent, module <b>106</b>(<b>5</b>). Module <b>106</b>(<b>5</b>) would then send the network traffic for mobile node <b>114</b> to network element <b>104</b>(<b>5</b>) (e.g., via an IP tunnel). Module <b>106</b>(<b>5</b>) would also previously send traffic for node <b>116</b>, which has been received from mobile node <b>114</b> at network element <b>104</b>(<b>5</b>), to node <b>116</b>.</p>
<p id="p-0026" num="0025">According to one or more embodiments, a Logical Home Agent may be allocated for mobile node <b>114</b> when mobile node <b>114</b> moves to a different area. For example, mobile node <b>114</b> may transmit a registration request when it moves from module <b>106</b>(<b>5</b>) to network element <b>104</b>(<b>5</b>) (e.g., from a home agent to a foreign agent). In addition to triggering a home agent allocation request when a mobile node moves other events may trigger a home agent allocation request. For example, a new QoS requirement may trigger a home agent allocation request. In some situations, the performance requirements associated with a mobile user may change while residing in the same service area without moving. For example, a mobile user may need to engage in a high quality interactive multimedia session with strict delay and jitter requirements. The current home agent may not be able to support such strict requirements. In such a case, selecting a new Logical Home Agent may be warranted. In response, mobile node <b>114</b> may transmit a registration request to obtain a home agent capable of handling the new QoS requirement. According to some embodiments, a network element other than mobile node <b>114</b> may detect a change in location for mobile node <b>114</b> or a change in QoS requirements and may generate a registration request.</p>
<p id="p-0027" num="0026">Other events may also be considered as a trigger a request for a Logical Home Agent allocation. For example, when a mobile user moves to a new service area, it is possible that this move may impact performance aspects such as, for example, propagation delay due to the distance between a home agent and a new foreign agent. It may be appropriate to verify if a new Logical Home Agent selection can contribute to performance enhancement. Furthermore, it is possible that a new service area may be able to provide additional resources such as, for example, higher bandwidth wireless interfaces. It may also be possible that such new resources, along with a new Logical Home Agent, may provide additional benefits.</p>
<p id="p-0028" num="0027">As discussed in greater detail with reference to <figref idref="DRAWINGS">FIGS. 4</figref><i>a </i>and <b>4</b><i>b </i>below, a registration request may contain one or more protocol extensions providing data associated with Logical Home Agent allocation requests, preferences, and data. For example, a QoS extension may be used to specify a QoS requirement for mobile node <b>114</b>. Multiple types of extensions may be used to extend functionality. A registration request may be intercepted by, received by, or forwarded to a network element which may be a common ancestor between a home agent and a foreign agent or between a former foreign agent and a current foreign agent.</p>
<p id="p-0029" num="0028">For example, a registration request may be received by module <b>106</b>(<b>3</b>) of network element <b>104</b>(<b>1</b>) which may serve as a gateway foreign agent. The registration request may then be forwarded to a network element which may provide one or more network resource and home agent management services. For example, when a foreign agent (e.g., a gateway foreign agent or a common ancestor) detects a registration request extension, a copy of the registration request may be forwarded to a network element which may provide one or more network resource and home agent management services. According to one or more embodiments, network element <b>110</b> may be a network element configured to provide resource and home agent management. Network element <b>104</b>(<b>1</b>) may continue to forward network traffic while a registration request is being processed by a network element providing one or more network resource and home agent management services. Thus, any time delay associated with processing a messaging request and selecting a Logical Home Agent may not impact network service for a mobile user.</p>
<p id="p-0030" num="0029">According to one or more embodiments, network element <b>110</b> may be a network element configured to provide resource and home agent management. Network element <b>110</b> may receive and handle one or more requests for Logical Home Agent allocation. Network element <b>110</b> may utilize performance metrics to process home agent allocation requests. Network element <b>110</b> may be a Resource and Home agent Manager (&#x201c;RHM&#x201d;). When network element <b>110</b> receives a registration request it may parse it to extract data for further processing. For example, network element <b>110</b> may identify a QoS requirement in an extension to the registration request (e.g., &#x201c;Delay from, subnet 192.168.1.0 (Correspondent Node subnet) to the mobile user needs to be limited to 20 milliseconds for traffic with IP precedence 5&#x201d;). Network element <b>110</b> may then identify one or more portions of network topology and network resources used by a mobile node and may determine associated performance metrics. Network element <b>110</b> may identify a current home agent associated with the mobile node and determine one or more metrics associated with the current home agent. Network element <b>110</b> may identify a current path from a correspondent node to the current home agent and determine one or more metrics associated with the current path from the correspondent node to the current home agent. Network element <b>110</b> may also identify a current path from a current home agent to a current foreign agent and determine one or more metrics associated with the current path from the current home agent to the current foreign agent. Network element <b>110</b> may further identify a current path from a current foreign agent to the mobile node and determine one or more metrics associated with the current path from the current foreign agent to the mobile node. Identified topology, resources, and metrics may be used together with policies or rules to determine current home agent performance.</p>
<p id="p-0031" num="0030">A distributed Logical Home Agent arrangement may be used to efficiently support a Logical Home Agent selection function. Network element <b>110</b> may collect input from the mobile users, different network elements in a topology, and a performance monitoring module (e.g., network element <b>112</b>). Network element <b>110</b> may compile the collected information and apply a set of configurable rules (e.g., policy based rules) to identify a Logical Home Agent which is appropriate to serve a mobile node.</p>
<p id="p-0032" num="0031">Metrics associated with network topology and resources may be retrieved from data storage <b>108</b>. Network element <b>110</b> may inspect metrics received from data storage <b>108</b> to determine if they are valid. Validity may be based on a timestamp associated with performance metrics. For example, if a timestamp associated with a performance metric for portion of network topology indicates that the metric is greater than a specified age, network element <b>110</b> may request performance testing of the portion of network topology. According to some embodiments, network element <b>112</b> may perform one or more requested performance tests and obtain other metrics. Network element <b>112</b> may provide metrics to data storage <b>108</b> and network element <b>110</b>. Once network element <b>110</b> has received one or more metrics associated with a current network topology associated with a mobile node (e.g., a current home agent and one or more current network paths used to support a mobile node), network element <b>110</b> may determine whether current network resources and network topology associated with a mobile node may meet one or more QoS requirements for the mobile node. For example, network element <b>110</b> may determine whether the forwarding delay in sending network traffic to a home agent (e.g., module <b>106</b>(<b>5</b>)) for mobile node <b>114</b> fails to meet a QoS requirement after mobile node <b>114</b> moves to a foreign agent (e.g., network element <b>104</b>(<b>5</b>)). Performance metrics evaluated by network element <b>110</b> may include measurements of delay, jitter, packet loss, and other network performance characteristics. Network element <b>110</b> may also evaluate a load on one or more network resources such as, for example, network element <b>104</b>(<b>4</b>). Network element <b>110</b> may apply one or more rules. If one or more QoS requirements for mobile node <b>114</b> may not be met by current network resources and topology, network element <b>110</b> may begin selecting a new Logical Home Agent. If one or more QoS requirements for mobile node <b>114</b> may be met by current network resources and topology, network element <b>110</b> may ignore a request for a Logical Home Agent allocation (e.g., an extension to a QoS request). Network element <b>110</b> may continue forwarding received network traffic for mobile node <b>114</b>.</p>
<p id="p-0033" num="0032">If it is determined that a Logical Home Agent should be assigned for mobile node <b>114</b>, network element <b>110</b> may begin reviewing performance metrics to determine if a Logical Home Agent is available that may meet one or more QoS requirements for mobile node <b>114</b>. Network element <b>110</b> may obtain performance metrics from data storage <b>108</b> and may determine if one or more Logical Home Agents and portions of network topology may meet QoS requirements for mobile node <b>114</b>. If performance metrics received from data storage <b>108</b> are not valid (e.g., they are expired), network element <b>110</b> may request one or more performance tests from a performance monitoring module (e.g., network element <b>112</b>), which may be responsible for managing test implementation. According to some embodiments, data storage <b>108</b>, network element <b>112</b>, or another network element may request one or more performance tests at periodic intervals, upon detection of expiration of a performance metric, in response to a user request, or based on other network factors.</p>
<p id="p-0034" num="0033">When evaluating one or more potential Logical Home Agents and network resources to allocate to a mobile node (e.g., mobile node <b>114</b>), network element <b>110</b> may evaluate a Logical Home Agent status and utilization. For example, network element <b>110</b> may evaluate the status and utilization of module <b>106</b>(<b>3</b>) which may be a potential Logical Home Agent for mobile node <b>114</b> when mobile node <b>114</b> is associated with, network element <b>104</b>(<b>5</b>) (e.g., using network element <b>104</b>(<b>5</b>) as a foreign agent). Network element <b>110</b> may attempt to optimize load sharing among one or more Logical Home Agents. Network element <b>110</b> may determine whether a potential Logical Home Agent may support expected processing and forwarding loads associated with supporting one or more mobile nodes. Network element <b>110</b> may evaluate bandwidth of one or more paths, links, or other portions of network topology associated with a Logical Home Agent and the impact of the addition of a mobile node to such topology. Network element <b>110</b> may determine whether expected or estimated delay or other performance metrics are within limits of QoS requirements for mobile node <b>114</b>. If multiple potential Logical Home Agents are identified, network element <b>110</b> may determine an optimum Logical Home Agent. If no potential Logical Home Agents are identified, a current home agent may be maintained and the request for a Logical Home Agent allocation may be ignored. Traffic forwarding may continue as before. If a Logical Home Agent is identified, network element <b>110</b> may notify the Logical Home Agent (e.g., module <b>106</b>(<b>3</b>)) and the mobile node (e.g., mobile node <b>114</b>). The Logical Home Agent may accept registration for the mobile node and the Logical Home Agent may begin forwarding traffic to the mobile node. For example, if mobile node <b>114</b> moves to network element <b>104</b>(<b>5</b>) as a foreign agent, network element <b>110</b> may identify module <b>106</b>(<b>3</b>) as a Logical Home Agent. Network traffic between node <b>116</b> (e.g., a correspondent node) and mobile node <b>114</b> (now at network element <b>104</b>(<b>5</b>)) may be handled by module <b>106</b>(<b>3</b>) instead of routing it all the way to module <b>106</b>(<b>5</b>) (the former home agent). This may improve performance for network traffic between mobile node <b>114</b> and node <b>116</b> and relieve an unnecessary load on network topology between network element <b>104</b>(<b>1</b>) and network element <b>104</b>(<b>4</b>).</p>
<p id="p-0035" num="0034">According to some embodiments, a request for a Logical Home Agent allocation may indicate one or more specified preferences. Additionally a request for Logical Home Agent allocation may identify a profile to be used (e.g., a QoS profile). A QoS profile may be shared among one or more mobile nodes and may indicate QoS preferences and other settings. For example, changing a Logical Home Agent serving a particular mobile user may impact a currently active communication session between the different hosts and the mobile user. Accordingly, a mobile user profile may include a preference regarding the criteria of when to allow or to postpone a pending Logical Home Agent change events. Examples of such criteria include, but are not limited to, the frequency of changing of a Logical Home Agent and the last time a Logical Home Agent was changed. A profile may indicate a preference to postpone a transition to a new Logical Home Agent until a number of active sessions is less than a specified threshold. Additionally, a profile may identify a particular stream or set of streams that identify traffic that should not be impacted by a Logical Home Agent change event. In such as case, Logical Home Agent change may be placed on hold until specified streams are no longer active.</p>
<p id="p-0036" num="0035">Other criteria to identify critical traffic may be possible, including, for example, application type, source/destination IP, and QoS marking. A mobile user may desire that a Logical Home Agent change is considered only when a specific QoS criteria can not be met using the current home agent. For example, a profile may identify that a Logical Home Agent change is warranted only if the specified delay requirements can not be satisfied. But, in this example, Logical Home Agent change may not be warranted if the objective meets packet loss requirements.</p>
<p id="p-0037" num="0036">According to some embodiments, Logical Home Agents may be shared. For example, logical partitioning and resource sharing may be implemented such that a service provider may maximize the use of existing infrastructure and resources while offering an affordable attractive service to the clients. Instead of dedicating separate physical network element to support individual home networks, existing foreign agent platforms may be used to serve multiple clients while maintaining acceptable traffic separation features satisfying common security requirements. As discussed with further detail in reference to <figref idref="DRAWINGS">FIG. 5</figref> below, multiple Logical Home Agents may be supported on a single platform by sharing system resources like memory and CPU.</p>
<p id="p-0038" num="0037">Although embodiments of the present disclosure illustrate Logical Home Agents, it should be appreciated that concepts in this disclosure are applicable to other approaches as well (e.g., non-Logical Home Agents).</p>
<p id="p-0039" num="0038">The various components of system <b>100</b> as shown in <figref idref="DRAWINGS">FIG. 1</figref> may be further duplicated, combined and/or integrated to support various applications and platforms. Additional elements may also be implemented in the systems described above to support various applications.</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram of a hardware component of the system for performing dynamic home agent allocation, according to a particular embodiment. As illustrated, the dynamic home agent allocation module <b>202</b> may contain one or more components including dynamic home agent triggering module <b>204</b>, agent selection module <b>206</b>, topology resources and utilization module <b>208</b>, performance monitoring module <b>210</b>, and error handling and reporting module <b>214</b>. Although dynamic home agent allocation module <b>202</b> is depicted as a single module, functionality or modules of dynamic home agent allocation module <b>202</b> may be located on a single device or distributed across a plurality of devices including one or more centralized servers and one or more pieces of customer premises equipment or end user devices.</p>
<p id="p-0041" num="0040">Dynamic home agent triggering module <b>204</b> may detect one or more conditions indicating a potential performance improvement to be gained by allocating a Logical Home Agent for a mobile node. According to one or more embodiments, dynamic home agent triggering module <b>204</b> may initiate a Logical Home Agent allocation determination when a mobile node moves to a different area. According to one or more embodiments, dynamic home agent triggering module <b>204</b> may receive a registration request from mobile node <b>114</b> when mobile node <b>114</b> moves from module <b>106</b>(<b>5</b>) to network element <b>104</b>(<b>5</b>) (e.g., from a home agent to a foreign agent). Dynamic home agent triggering module <b>204</b> may also trigger a home agent allocation request for other events. For example, a new QoS requirement may trigger a home agent allocation request. In some situations, the performance requirements associated with a mobile user may change while residing in the same service area without moving. For example, a mobile user may need to engage in a high quality interactive multimedia session with strict delay and jitter requirements. The current home agent may not be able to support such strict requirements. In such a case, selecting a new Logical Home Agent may be warranted. Dynamic home agent triggering module <b>204</b> may receive a registration request from mobile node <b>114</b> to obtain a home agent capable of handling the new QoS requirement.</p>
<p id="p-0042" num="0041">Agent selection module <b>206</b> may provide resource and home agent management. Agent selection module <b>206</b> may receive and handle one or more requests for Logical Home Agent allocation. Agent selection module <b>206</b> may utilize performance metrics to process home agent allocation requests. Agent selection module <b>206</b> may be a Resource and Home agent Manager. When agent selection module <b>206</b> receives a registration request it may parse it to extract data for further processing. For example, agent selection module <b>206</b> may identify a QoS requirement in an extension to the registration request (e.g., &#x201c;Delay from subnet 192.168.1.0 (Correspondent Node subnet) to the mobile user needs to be limited to 20 milliseconds for traffic with IP precedence 5&#x201d;).</p>
<p id="p-0043" num="0042">After receiving a registration request, agent selection module <b>206</b> may identify one or more portions of network topology and network resources used by a mobile node and may determine associated performance metrics. Agent selection module <b>206</b> may identify a current home agent associated with the mobile node and determine one or more metrics associated with the current home agent. Agent selection module <b>206</b> may identify a current path from a correspondent node to the current home agent and determine one or more metrics associated with the current path from the correspondent node to the current home agent. Agent selection module <b>206</b> may also identify a current path from a current home agent to a current foreign agent and determine one or more metrics associated with the current path from the current home agent to the current foreign agent. Agent selection module <b>206</b> may further identify a current path from a current foreign agent to the mobile node and determine one or more metrics associated with the current path from the current foreign agent to the mobile node.</p>
<p id="p-0044" num="0043">Agent selection module <b>206</b> may inspect metrics received from topology resources and utilization module <b>208</b> to determine if they are valid. Validity may be based on a timestamp associated with performance metrics. For example, if a timestamp associated with a performance metric for portion of network topology indicates that the metric is greater than a specified age, agent selection module <b>206</b> may request performance testing of the portion of network topology. Once agent selection module <b>206</b> has received one or more metrics associated with a current network topology associated with a mobile node (e.g., a current home agent and one or more current network paths used to support a mobile node), agent selection module <b>206</b> may determine whether current network resources and network topology associated with a mobile node may meet one or more QoS requirements for the mobile node. For example, agent selection module <b>206</b> may determine whether delay in sending network traffic to a home agent (e.g., module <b>106</b>(<b>5</b>)) for mobile node <b>114</b> fails to meet a QoS requirement after mobile node <b>114</b> moves to a foreign agent (e.g., network element <b>104</b>(<b>5</b>)). Performance metrics evaluated by agent selection module <b>206</b> may include measurements of delay, jitter, packet loss and other network performance characteristics.</p>
<p id="p-0045" num="0044">Agent selection module <b>206</b> may also evaluate a load on one or more network resources such as, for example, network element <b>104</b>(<b>4</b>). Agent selection module <b>206</b> may apply one or more rules. If one or more QoS requirements for mobile node <b>114</b> may not be met by a current network resources and topology or load sharing optimization suggests the consideration of a new Logical Home Agent, agent selection module <b>206</b> may begin selecting a new Logical Home Agent. If one or more QoS requirements for mobile node <b>114</b> may be met by a current network resources and topology, agent selection module <b>206</b> may ignore a request for a Logical Home Agent allocation (e.g., an extension to a QoS request). Agent selection module <b>206</b> may continue forwarding received network traffic for mobile node <b>114</b>.</p>
<p id="p-0046" num="0045">If it is determined that a Logical Home Agent should be assigned for mobile node <b>114</b>, agent selection module <b>206</b> may begin reviewing performance metrics to determine if a Logical Home Agent is available that may meet one or more QoS requirements for mobile node <b>114</b>. Agent selection module <b>206</b> may determine obtain performance metrics from topology resources and utilization module <b>208</b> and may determine if one or more Logical Home Agents and portions of network topology may meet QoS requirements for mobile node <b>114</b>. If performance metrics received from topology resources and utilization module <b>208</b> are not valid (e.g., they are expired), agent selection module <b>206</b> may request one or more performance tests from performance monitoring module <b>210</b>. According to some embodiments, topology resources and utilization module <b>208</b>, performance monitoring module <b>210</b>, or another network element may request one or more performance tests at periodic intervals, upon detection of expiration of a performance metric, in response to a user request, or based on other network factors.</p>
<p id="p-0047" num="0046">When evaluating one or more potential Logical Home Agents and network resources to allocate to a mobile node (e.g., mobile node <b>114</b>), agent selection module <b>206</b> may evaluate a Logical Home Agent status and utilization. For example, agent selection module <b>206</b> may evaluate the status and utilization of module <b>106</b>(<b>3</b>) which may be a potential Logical Home Agent for mobile node <b>114</b> when mobile node <b>114</b> is associated with network element <b>104</b>(<b>5</b>) (e.g., using network element <b>104</b>(<b>5</b>) as a foreign agent). Agent selection module <b>206</b> may attempt to optimize load sharing among one or more Logical Home Agents.</p>
<p id="p-0048" num="0047">Topology resources and utilization module <b>208</b> may store, retrieve, and provide one or more metrics associated with network topology and resources.</p>
<p id="p-0049" num="0048">According to some embodiments, topology resources and utilization module <b>208</b> may be or may use a relational database, an object oriented database, a flat file, or other electronic storage that may store performance metrics, network topology information (e.g., node information, link information, etc.), bandwidth, utilization, logical home element utilization, QoS profile information, and other resource and utilization data. Data may be aggregated, sorted, processed, and queried to identify memory trends, network connectivity problems, configuration problems, and other issues. Associations may be made between identified issues identified in the diagnostic data and requested QoS levels. According to some embodiments, topology resources and utilization module <b>208</b> may provide one or more APIs or other interfaces which may be used by a web server or other application to distribute, present, and share information.</p>
<p id="p-0050" num="0049">According to some embodiments, performance monitoring module <b>210</b> may perform one or more requested performance tests and obtain other metrics. Performance monitoring module <b>210</b> may provide metrics to topology resources and utilization module <b>208</b> and agent selection module <b>206</b>.</p>
<p id="p-0051" num="0050">Error handling and reporting module <b>214</b> may handle one or more errors associated with dynamic home agent allocation. Error handling and reporting module <b>214</b> may provide alerts or messages to administrators in the event of an error. Error handling and reporting module <b>214</b> may produce one or more reports including diagnostic test result reports and corrective action reports. Error handling and reporting module <b>214</b> may produce log files, formatted reports, and electronic communications.</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. 3</figref> depicts a method for performing dynamic home agent allocation, according to a particular embodiment. At block <b>302</b>, the method <b>300</b> for dynamic home agent allocation may begin.</p>
<p id="p-0053" num="0052">At block <b>304</b>, it may be determined whether a dynamic home agent triggering event has occurred. For example, one or more conditions may be detected indicating a potential performance improvement to be gained by allocating a Logical Home Agent for a mobile node. For example, a mobile node may move to a different area. According to one or more embodiments, a registration request from a mobile node may be received when the mobile node moves from a home agent to a foreign agent. Other events may also provide a dynamic home agent triggering event. For example, a new QoS requirement may trigger a home agent allocation request. In some situations, the performance requirements associated with a mobile user may change while residing in the same service area without moving. For example, a mobile user may need to engage in a high quality interactive multimedia session with strict delay and jitter requirements. The current home agent may not be able to support such strict requirements. In such a case, selecting a new Logical Home Agent may be warranted. A registration request may be received from mobile node <b>114</b> to obtain a home agent capable of handling the new QoS requirement. If a dynamic home agent triggering event has been received, the method <b>300</b> may continue at block <b>308</b>. If a dynamic home agent triggering event has not been received the method may continue at block <b>306</b>.</p>
<p id="p-0054" num="0053">At block <b>306</b>, the method may wait a specified period of time before returning to block <b>304</b>.</p>
<p id="p-0055" num="0054">At block <b>308</b>, a registration request may be forwarded to a common ancestor or other network node capable of handling foreign agent registration requests. If a foreign agent registration request is received, it may be examined to determine whether a protocol extension such as, for example, a QoS request extension is contained in the request. If a protocol extension is contained in the request indicating a request for Logical Home Agent allocation, the registration request may be forwarded to a Resource and Home agent Manager network element. At block <b>310</b>, a Resource and Home Agent manager network element may receive the registration request. The RHM network element may parse the request and identify one or more QoS requirements. The RHM network element may identify a current home agent and one or more portions of network topology associated with a requesting mobile node. The RHM network element may obtain one or more performance metrics associated with a current home agent and network topology of a requesting mobile node.</p>
<p id="p-0056" num="0055">At block <b>312</b>, the method <b>300</b> may determine whether a new Logical Home Agent should be allocated. The determination may be based on one or more of performance metrics associated with a current home agent, performance metrics associated with network topology, and QoS requirements for a mobile node. If a new Logical Home Agent is to be allocated, the method <b>300</b> may continue at block <b>314</b>. If a new Logical Home Agent is not to be allocated the method <b>300</b> may return to block <b>304</b>.</p>
<p id="p-0057" num="0056">At block <b>314</b>, one or more performance tests may be executed. Performance tests may identify bandwidth, network congestion, load, delay, jitter, packet loss, and other performance characteristics of a potential Logical Home Agent and network topology (e.g., links) associated with a potential Logical Home Agent.</p>
<p id="p-0058" num="0057">At block <b>316</b>, a Logical Home Agent may be identified for the requesting mobile node. The Logical Home Agent selection may be communicated to the mobile node and the Logical Home Agent at block <b>318</b>. At block <b>320</b>, the identified Logical Home Agent may begin handling traffic for the mobile node.</p>
<p id="p-0059" num="0058">At block <b>322</b>, the method may end.</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 4</figref><i>a </i>illustrates an exemplary protocol extension for performing dynamic home agent allocation requests, according to an embodiment of the disclosure. As illustrated in <figref idref="DRAWINGS">FIG. 4</figref><i>a</i>, an exemplary protocol extension to Mobile IP may include an eight bit type field. An exemplary value may be &#x201c;217&#x201d; which may indicate a QoS Request Extension message. Another eight bits of the protocol extension may be allocated for a length field. The length field may indicate the length of the extension in bytes. An additional eight bits may be reserved for a sub-type field. A sub-type field may contain a &#x201c;1&#x201d; to indicate a resource request and a &#x201c;2&#x201d; to indicate a resource reply. Bits twenty-four to thirty-one of the exemplary protocol extension may be reserved for a data field. The data field may contain details regarding the QoS request. Exemplary data field contents may include:
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0060">Resource request ID (e.g., 1 byte);</li>
        <li id="ul0002-0002" num="0061">Requesting entity (e.g., 1 byte, 1=Mobile Node);</li>
        <li id="ul0002-0003" num="0062">QoS profile length (e.g., 2 bytes, structure length);</li>
        <li id="ul0002-0004" num="0063">QoS profile map (e.g., 2 bytes, QoS Profile map);</li>
        <li id="ul0002-0005" num="0064">QoS profile data (e.g., variable);</li>
        <li id="ul0002-0006" num="0065">QoS profile id;</li>
        <li id="ul0002-0007" num="0066">Requested Allocation Type (e.g., 1 Byte, 1=IP Source, 2=IP Destination, 3=Differentiated Services Code Point (DSCP) or IP precedence marking);</li>
        <li id="ul0002-0008" num="0067">Requested resource direction (e.g., 1 byte, 1=upstream, 2=downstream, 3=upstream &#x26; downstream);</li>
        <li id="ul0002-0009" num="0068">Address/subnet for source (e.g., 8 bytes);</li>
        <li id="ul0002-0010" num="0069">Address/subnet for destination (e.g., 8 bytes);</li>
        <li id="ul0002-0011" num="0070">Resource marking upstream (e.g., 1 byte, Differentiated Services Code Point (DSCP) or IP precedence value);</li>
        <li id="ul0002-0012" num="0071">Resource marking downstream (e.g., 1 byte, Differentiated Services Code Point (DSCP) or IP precedence value);</li>
        <li id="ul0002-0013" num="0072">One or Performance aspect code and value (e.g., 1 byte code, 4 bytes value);</li>
        <li id="ul0002-0014" num="0073">QoS requirement scope (e.g., 1 byte, 1=Correspondent Node to Mobile Node, 2=Home Agent to Mobile Node, 3=Gateway Foreign Agent to Mobile Node); and</li>
        <li id="ul0002-0015" num="0074">Desired Logical Home Agent address (e.g., 4 bytes).</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0061" num="0075">This extension may allow a mobile user to supply information related to the desired QoS requirement using a QoS profile. The mobile user may identify a QoS requirement for all or a subset of the traffic. An example is a mobile user identifying performance aspect code=2 (delay performance aspect) and value=20000 microseconds as the maximum allowed delay. The mobile user may identify IP subnet (e.g., 192.168.1.0) and mask (e.g., 255.255.255.0) or other network parameters to limit the number of source IP addresses subjected to a QoS requirement. Additionally, to accommodate more complicated QoS profiles and to allow for more flexibility, the mobile user may include a QoS profile ID. The provided QoS profile ID may be mapped by a Resource Home agent Manager (RHM) network element to detailed QoS requirements. This feature may provide more efficiency, relieve a mobile user from collecting detailed requirements, and may also facilitate sharing profiles between multiple mobile users. The QoS extension may also allow for specification of a desired Logical Home Agent address. Although the Logical Home Agent selection extension also allows for specifying a desired IP address, having the option of including a desired Logical Home Agent IP address in the QoS extension may add additional flexibility in associating Logical Home Agents with QoS profiles, and may also facilitate supporting mobile users with multiple IP addresses.</p>
<p id="p-0062" num="0076"><figref idref="DRAWINGS">FIG. 4</figref><i>b </i>illustrates an exemplary protocol extension for indicating dynamic home agent allocation preferences, according to an embodiment of the disclosure. As illustrated in <figref idref="DRAWINGS">FIG. 4</figref><i>b</i>, an exemplary protocol extension to Mobile IP may include an eight bit type field. An exemplary value may be &#x201c;219&#x201d; which may indicate a home agent selection extension message Another eight bits of the protocol extension may be allocated for a length field. The length field may indicate the length of the extension in bytes. An additional eight bits may be reserved for a sub-type field. A sub-type field may contain a &#x201c;1&#x201d; to indicate a home agent selection request and a &#x201c;2&#x201d; to indicate a home agent selection reply. Bits twenty-four to thirty-one of the exemplary protocol extension may be reserved for a data field. The data field may contain details regarding the home agent selection request. Exemplary data field contents may include:
<ul id="ul0003" list-style="none">
    <li id="ul0003-0001" num="0000">
    <ul id="ul0004" list-style="none">
        <li id="ul0004-0001" num="0077">Home agent selection enabled/disabled (1 byte); and</li>
        <li id="ul0004-0002" num="0078">Desired home agent address/subnet (8 bytes)</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0063" num="0079"><figref idref="DRAWINGS">FIG. 5</figref> is a schematic diagram of a system for performing dynamic home agent allocation, according to an embodiment of the disclosure. The home agent function is typically hosted on a system that resides on the home network of the mobile users. In this situation, the home agent hardware is dedicated to one client. In the case of hosted home agent function, it May not be efficient to dedicate a separate physical system for each client. To improve efficiency, a Logical Home Agent function may be supported using shared resources. Multiple Logical Home Agents may be supported on a single platform by sharing system resources such as, for example, memory and CPU. For example, a Logical Home Agent serving client-A may be allocated a dedicated 1 Gigabyte of memory. Client-B may share a 3 Gigabyte memory pool with five other clients (client-c to client-g) for example. A service provider may associate different rates to different allocation configurations which meet individual client needs. Other resources such as, for example, CPU cycles and storage space may be allocated using similar approaches. The amount of dedicated resources and the maximum amount that may be allocated and used by a particular client may be tailored to provide a differentiated service aspect.</p>
<p id="p-0064" num="0080">To address security issues, logical separation techniques can be used. Concepts such as, for example, virtual routing domains, may create a logically dedicated system partition for each client, providing traffic separation features.</p>
<p id="p-0065" num="0081">As illustrated in <figref idref="DRAWINGS">FIG. 5</figref>, a single platform may support a plurality of clients such as, for example, virtual client router <b>514</b>, virtual client router <b>516</b>, virtual client router <b>518</b>, and virtual client router <b>520</b>. The first client, client virtual client router <b>514</b>, may have strict requirements regarding dedicated resources, and may be willing to pay for a premium service. Accordingly a service provider may dedicate resources for this particular client. Dedicated routing resource <b>522</b> may represent a dedicated portion of a resource type (e.g., memory) and may be dedicated for virtual client router <b>514</b>. Similarly, dedicated routing resource <b>524</b> may represent a dedicated portion of a second type of resource (e.g., CPU resources) that may be dedicated to a same client, virtual client router <b>514</b>. From an implementation point of view, dedicated resources may be supported by tagging a hardware module as dedicated for a client. Modular systems may support such partitioning. For example, dedicated CPU resources may be allocated by adding a CPU board to support a particular client. Furthermore, client virtual client, router <b>514</b> may select to use a dedicated network interface ports for ingress and egress traffic (e.g., interfaces <b>504</b> and <b>506</b>). According to some embodiments, virtual client router <b>514</b> may have a dedicated management interface (e.g., interface <b>502</b>). Virtual client routers <b>516</b>, <b>518</b>, and <b>520</b> may share ingress, egress, and management ports interfaces <b>508</b>, <b>510</b>, and <b>512</b>. Shared routing resources <b>526</b> and <b>528</b> may be routing resources (e.g., CPU, memory) shared among a plurality of clients (e.g., virtual client routers <b>518</b> and <b>520</b>).</p>
<p id="p-0066" num="0082">Virtual client router <b>516</b>, virtual client router <b>518</b>, and virtual client router <b>520</b> may have less strict requirements regarding resources such that a provider may allocate pools of shared memory and CPU resources for those clients. Within this shared model, a provider may still set rules to differentiate between virtual client router <b>516</b>, virtual client router <b>518</b>, and virtual client router <b>520</b> and the amount of resources available to each. An example of such rules is:
<ul id="ul0005" list-style="none">
    <li id="ul0005-0001" num="0000">
    <ul id="ul0006" list-style="none">
        <li id="ul0006-0001" num="0083">The total amount of shared routing resource <b>526</b> allocated to virtual client router <b>516</b>+virtual client router <b>518</b>+virtual client router <b>520</b>=Four Gigabytes</li>
        <li id="ul0006-0002" num="0084">Instantaneous Resources of shared routing resource <b>526</b> for virtual client router <b>516</b> can not exceed 50% of shared routing resource <b>526</b>.</li>
        <li id="ul0006-0003" num="0085">Instantaneous Resources of shared routing resource <b>526</b> for virtual client router <b>518</b> can not exceed 30% of shared routing resource <b>526</b>.</li>
        <li id="ul0006-0004" num="0086">Instantaneous Resources of shared routing resource <b>526</b> for virtual client router <b>520</b> can not exceed 20% of shared routing resource <b>526</b>.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0067" num="0087">Such rules may ensure having a boundary that limits allocation for each client. This may allow a company to share resources among business groups or other entities and apportion costs to each. It may also allow a service provider to offer a hosted home agent service. A home agent service provider may offers clients (home networks) a logical dynamic home agent service over an agreed-on geographical area. Mobile users that belong to the clients may be authorized to receive home agent service from those Logical Home Agents. Clients (home networks) supporting mobile users that typically roam across different foreign networks may be able to provide their mobile users with dynamic home agent selection options that may allow for support of better QoS. This may improve performance for real time and other services with strict performance requirements. Additionally, users of a hosted home agent service may be able to avoid the technical resources to create and manage a dedicated network supporting home agent selection. Furthermore, a cost associated with deploying and operating a dedicated set of home agents for a single client may be prohibitive. This may allow for the distribution of the costs among several users. Service providers may be able to offer multiple levels of service and performance that may correspond to a user's needs. The costs may correspond to the level of resource usage.</p>
<p id="p-0068" num="0088">It is further noted that the software described herein may be tangibly embodied in one or more physical media, such as, but not limited to, a compact disc (CD), a digital versatile disc (DVD), a floppy disk, a hard drive, read only memory (ROM), random access memory (RAM), as well as other physical media capable of storing software, or combinations thereof. Moreover, the figures illustrate various components (e.g., servers, computers, etc.) separately. The functions described as being performed at various components may be performed at other components, and the various components may be combined or separated. Other modifications also may be made.</p>
<p id="p-0069" num="0089">In the preceding specification, various preferred embodiments have been described with references to the accompanying drawings. It will, however, be evident that various modifications and changes may be made thereto, and additional embodiments may be implemented, without departing from the broader scope of invention as set forth in the claims that follow. The specification and drawings are accordingly to be regarded in an illustrative rather than restrictive sense.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>I claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method, comprising:
<claim-text>receiving, via a network, a request for allocation of a Logical Home Agent for a mobile node;</claim-text>
<claim-text>determining whether a Logical Home Agent should be selected for the mobile node based at least in part on comparing one or more identified performance metrics with a specified Quality of Service (QoS) for a mobile node, the determination comprising one or more of:
<claim-text>identifying a current home agent associated with the mobile node and determining one or more metrics associated with the current home agent;</claim-text>
<claim-text>identifying a current path from a correspondent node to the current home agent and determining one or more metrics associated with the current path from the correspondent node to the current home agent;</claim-text>
<claim-text>identifying a current path from a current home agent to a current foreign agent and determining one or more metrics associated with the current path from the current home agent to the current foreign agent; and</claim-text>
<claim-text>identifying a current path from a current foreign agent to the mobile node and determining one or more metrics associated with the current path from the current foreign agent to the mobile node;</claim-text>
</claim-text>
<claim-text>selecting a Logical Home Agent for the mobile node based on one or more performance metrics; and</claim-text>
<claim-text>communicating Logical Home Agent selection to the selected Logical Home Agent and the mobile node, wherein selecting a Logical Home Agent for the mobile node based on one or more performance metrics further comprises one or more of:
<claim-text>identifying a potential Logical Home Agent to associate with the mobile node and determining one or more metrics associated with the potential Logical Home Agent;</claim-text>
<claim-text>identifying a potential path from a correspondent node to the potential Logical Home Agent and determining one or more metrics associated with the potential path from the correspondent node to the potential Logical Home Agent;</claim-text>
<claim-text>identifying a potential path from a potential Logical Home Agent to a current foreign agent and determining one or more metrics associated with the current path from the current home agent to the current foreign agent; and</claim-text>
<claim-text>identifying a current path from a current foreign agent to the mobile node and determining one or more metrics associated with the current path from the current foreign agent to the mobile node.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the request for allocation of a Logical Home Agent is received from the mobile node.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>detecting the association of the mobile node with a foreign agent; and</claim-text>
<claim-text>transmitting a request for allocation of a Logical Home Agent based on the association of the mobile node with a foreign agent.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>detecting new QoS requirements for the mobile node; and</claim-text>
<claim-text>transmitting a request for allocation of a Logical Home Agent based on the new QoS requirements for the mobile node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein selecting a Logical Home Agent for the mobile node based on one or more performance metrics comprises one or more of: network topology performance metrics and network resource performance metrics.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the one or more performance metrics comprise performance metrics stored in a performance metric repository.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, further comprising:
<claim-text>determining whether the one or more performance metrics are expired; and</claim-text>
<claim-text>running one or more performance tests to produce at least one performance metric in the event that at least one of the one or more performance metrics is expired.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein registration request received by a common ancestor of a current foreign agent and a home agent in a hierarchical mobile IP network topology.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein registration request received by a common ancestor of a current foreign agent and a previous foreign agent in a hierarchical mobile IP network topology.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the request for allocation of a Logical Home Agent for a mobile node specifies a QoS profile, the QoS profile identifying one or more QoS requirements.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the request for allocation of a Logical Home Agent for a mobile node specifies one or more of: a desired Logical Home Agent address, differentiated services code point marking, IP precedence marking, a performance aspect code, a requested allocation type, a requested resource direction, an address and subnet for a source, and an address and subnet for a destination.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the request for allocation of a Logical Home Agent for a mobile node is transmitted as an extension to a RFC (Request For Comments) 4433 QoS request extension.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising
<claim-text>transmitting, from the mobile node, a home agent selection extension indicating a desired home agent.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein a Logical Home Agent may be shared among a plurality mobile nodes.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref>, further comprising applying one or more rules to determine Logical Home Agent resource allocation among a plurality of mobile nodes.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>handling, using the selected Logical Home Agent, one or more portions of network traffic for the mobile node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>determining a timing of a switch to the selected Logical Home Agent based at least in part on an impact to an active network session of the mobile node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein a factor considered in determining a timing of a switch to the selected Logical Home Agent includes at least one of:
<claim-text>a frequency of changing a home agent associated with the mobile node, a number of active sessions associated with the mobile node, a specified stream of network traffic not to be impacted by the switch, a specified set of streams of network traffic not to be impacted by the switch, an application type of an active session associated with the mobile node, a source of network traffic for an active session associated with the mobile node, a destination of network traffic for an active session associated with the mobile node, QoS marking of network traffic for an active session associated with the mobile node, and one or more specified QoS criteria not met by a current home agent.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. A non-transitory computer readable media comprising code to perform the acts of the method of <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. A system, comprising:
<claim-text>a network element, wherein the network element comprises one or more processors configured to:
<claim-text>receive, via a network, a request for allocation of a Logical Home Agent for a mobile node;</claim-text>
<claim-text>determine whether a Logical Home Agent should be selected for the mobile node based at least in part on comparing one or more identified performance metrics with a specified Quality of Service (QoS) for a mobile node, the determination comprising one or more of:
<claim-text>identifying a current home agent associated with the mobile node and determining one or more metrics associated with the current home agent;</claim-text>
<claim-text>identifying a current path from a correspondent node to the current home agent and determining one or more metrics associated with the current path from the correspondent node to the current home agent;</claim-text>
<claim-text>identifying a current path from a current home agent to a current foreign agent and determining one or more metrics associated with the current path from the current home agent to the current foreign agent; and</claim-text>
<claim-text>identifying a current path from a current foreign agent to the mobile node and determining one or more metrics associated with the current path from the current foreign agent to the mobile node;</claim-text>
</claim-text>
<claim-text>select a Logical Home Agent for the mobile node based on one or more performance metrics; and</claim-text>
<claim-text>communicate Logical Home Agent selection to the selected Logical Home Agent and the mobile node, wherein selecting a Logical Home Agent for the mobile node based on one or more performance metrics further comprises one or more of:
<claim-text>identifying a potential Logical Home Agent to associate with the mobile node and determining one or more metrics associated with the potential Logical Home Agent;</claim-text>
<claim-text>identifying a potential path from a correspondent node to the potential Logical Home Agent and determining one or more metrics associated with the potential path from the correspondent node to the potential Logical Home Agent;</claim-text>
<claim-text>identifying a potential path from a potential Logical Home Agent to a current foreign agent and determining one or more metrics associated with the current path from the current home agent to the current foreign agent; and</claim-text>
<claim-text>identifying a current path from a current foreign agent to the mobile node and determining one or more metrics associated with the current path from the current foreign agent to the mobile node.</claim-text>
</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. A system, comprising:
<claim-text>a communication module configured to receive, via a network, a request for allocation of a Logical Home Agent for a mobile node and configured to communicate Logical Home Agent selection to a selected Logical Home Agent and the mobile node;</claim-text>
<claim-text>a network topology resource utilization module configured to store one or more network topology performance metrics;</claim-text>
<claim-text>a Logical Home Agent determination module configured to determine whether a Logical Home Agent should be selected for the mobile node based at least in part on comparing one or more identified performance metrics with a specified Quality of Service (QoS) for a mobile node, the determination comprising one or more of:
<claim-text>identifying a current home agent associated with the mobile node and determining one or more metrics associated with the current home agent;</claim-text>
<claim-text>identifying a current path from a correspondent node to the current home agent and determining one or more metrics associated with the current path from the correspondent node to the current home agent;</claim-text>
<claim-text>identifying a current path from a current home agent to a current foreign agent and determining one or more metrics associated with the current path from the current home agent to the current foreign agent; and</claim-text>
<claim-text>identifying a current path from a current foreign agent to the mobile node and determining one or more metrics associated with the current path from the current foreign agent to the mobile node; and</claim-text>
</claim-text>
<claim-text>a Logical Home Agent selection module configured to select a Logical Home Agent for the mobile node based on the one or more stored network topology performance metrics, wherein selecting a Logical Home Agent for the mobile node based on one or more performance metrics further comprises one or more of:
<claim-text>identifying a potential Logical Home Agent to associate with the mobile node and determining one or more metrics associated with the potential Logical Home Agent;</claim-text>
<claim-text>identifying a potential path from a correspondent node to the potential Logical Home Agent and determining one or more metrics associated with the potential path from the correspondent node to the potential Logical Home Agent;</claim-text>
<claim-text>identifying a potential path from a potential Logical Home Agent to a current foreign agent and determining one or more metrics associated with the current path from the current home agent to the current foreign agent; and</claim-text>
<claim-text>identifying a current path from a current foreign agent to the mobile node and determining one or more metrics associated with the current path from the current foreign agent to the mobile node.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The system of <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein the one or more processors are further configured to:
<claim-text>detect the association of the mobile node with a foreign agent; and</claim-text>
<claim-text>transmit a request for allocation of a Logical Home Agent based on the association of the mobile node with a foreign agent.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. A method, comprising:
<claim-text>receiving, via a network, a request for allocation of a Logical Home Agent for a mobile node;</claim-text>
<claim-text>determining whether a Logical Home Agent should be selected for the mobile node based at least in part on comparing one or more identified performance metrics with a specified Quality of Service (QoS) for a mobile node, the determination comprising one or more of:
<claim-text>identifying a current home agent associated with the mobile node and determining one or more metrics associated with the current home agent;</claim-text>
<claim-text>identifying a current path from a correspondent node to the current home agent and determining one or more metrics associated with the current path from the correspondent node to the current home agent;</claim-text>
<claim-text>identifying a current path from a current home agent to a current foreign agent and determining one or more metrics associated with the current path from the current home agent to the current foreign agent; and</claim-text>
<claim-text>identifying a current path from a current foreign agent to the mobile node and determining one or more metrics associated with the current path from the current foreign agent to the mobile node;</claim-text>
</claim-text>
<claim-text>selecting a Logical Home Agent for the mobile node based on one or more performance metrics;</claim-text>
<claim-text>communicating Logical Home Agent selection to the selected Logical Home Agent and the mobile node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the request for allocation of a Logical Home Agent is received from the mobile node.</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, further comprising:
<claim-text>detecting the association of the mobile node with a foreign agent; and</claim-text>
<claim-text>transmitting a request for allocation of a Logical Home Agent based on the association of the mobile node with a foreign agent.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, further comprising:
<claim-text>detecting new QoS requirements for the mobile node; and</claim-text>
<claim-text>transmitting a request for allocation of a Logical Home Agent based on the new QoS requirements for the mobile node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein selecting a Logical Home Agent for the mobile node based on one or more performance metrics comprises one or more of: network topology performance metrics and network resource performance metrics.</claim-text>
</claim>
<claim id="CLM-00028" num="00028">
<claim-text>28. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the one or more performance metrics comprise performance metrics stored in a performance metric repository.</claim-text>
</claim>
<claim id="CLM-00029" num="00029">
<claim-text>29. The method of <claim-ref idref="CLM-00028">claim 28</claim-ref>, further comprising:
<claim-text>determining whether the one or more performance metrics are expired; and</claim-text>
<claim-text>running one or more performance tests to produce at least one performance metric in the event that at least one of the one or more performance metrics is expired.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00030" num="00030">
<claim-text>30. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein registration request received by a common ancestor of a current foreign agent and a home agent in a hierarchical mobile IP network topology.</claim-text>
</claim>
<claim id="CLM-00031" num="00031">
<claim-text>31. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein registration request received by a common ancestor of a current foreign agent and a previous foreign agent in a hierarchical mobile IP network topology.</claim-text>
</claim>
<claim id="CLM-00032" num="00032">
<claim-text>32. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the request for allocation of a Logical Home Agent for a mobile node specifies a QoS profile, the QoS profile identifying one or more QoS requirements.</claim-text>
</claim>
<claim id="CLM-00033" num="00033">
<claim-text>33. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the request for allocation of a Logical Home Agent for a mobile node specifies one or more of: a desired Logical Home Agent address, differentiated services code point marking, IP precedence marking, a performance aspect code, a requested allocation type, a requested resource direction, an address and subnet for a source, and an address and subnet for a destination.</claim-text>
</claim>
<claim id="CLM-00034" num="00034">
<claim-text>34. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the request for allocation of a Logical Home Agent for a mobile node is transmitted as an extension to a RFC (Request For Comments) 4433 QoS request extension.</claim-text>
</claim>
<claim id="CLM-00035" num="00035">
<claim-text>35. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, further comprising
<claim-text>transmitting, from the mobile node, a home agent selection extension indicating a desired home agent.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00036" num="00036">
<claim-text>36. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein a Logical Home Agent may be shared among a plurality mobile nodes.</claim-text>
</claim>
<claim id="CLM-00037" num="00037">
<claim-text>37. The method of <claim-ref idref="CLM-00036">claim 36</claim-ref>, further comprising applying one or more rules to determine Logical Home Agent resource allocation among a plurality of mobile nodes.</claim-text>
</claim>
<claim id="CLM-00038" num="00038">
<claim-text>38. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, further comprising:
<claim-text>handling, using the selected Logical Home Agent, one or more portions of network traffic for the mobile node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00039" num="00039">
<claim-text>39. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, further comprising:
<claim-text>determining a timing of a switch to the selected Logical Home Agent based at least in part on an impact to an active network session of the mobile node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00040" num="00040">
<claim-text>40. The method of <claim-ref idref="CLM-00039">claim 39</claim-ref>, wherein a factor considered in determining a timing of a switch to the selected Logical Home Agent includes at least one of:
<claim-text>a frequency of changing a home agent associated with the mobile node, a number of active sessions associated with the mobile node, a specified stream of network traffic not to be impacted by the switch, a specified set of streams of network traffic not to be impacted by the switch, an application type of an active session associated with the mobile node, a source of network traffic for an active session associated with the mobile node, a destination of network traffic for an active session associated with the mobile node, QoS marking of network traffic for an active session associated with the mobile node, and one or more specified QoS criteria not met by a current home agent.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00041" num="00041">
<claim-text>41. A non-transitory computer readable media comprising code to perform the acts of the method of <claim-ref idref="CLM-00023">claim 23</claim-ref>.</claim-text>
</claim>
<claim id="CLM-00042" num="00042">
<claim-text>42. A method, comprising:
<claim-text>receiving, via a network, a request for allocation of a Logical Home Agent for a mobile node;</claim-text>
<claim-text>selecting a Logical Home Agent for the mobile node based on one or more performance metrics;</claim-text>
<claim-text>communicating Logical Home Agent selection to the selected Logical Home Agent and the mobile node; and</claim-text>
<claim-text>determining a timing of a switch to the selected Logical Home Agent based at least in part on an impact to an active network session of the mobile node, wherein a factor considered in determining a timing of a switch to the selected Logical Home Agent includes at least one of:</claim-text>
<claim-text>a frequency of changing a home agent associated with the mobile node, a number of active sessions associated with the mobile node, a specified stream of network traffic not to be impacted by the switch, a specified set of streams of network traffic not to be impacted by the switch, an application type of an active session associated with the mobile node, a source of network traffic for an active session associated with the mobile node, a destination of network traffic for an active session associated with the mobile node, QoS marking of network traffic for an active session associated with the mobile node, and one or more specified QoS criteria not met by a current home agent.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00043" num="00043">
<claim-text>43. The method of <claim-ref idref="CLM-00042">claim 42</claim-ref>, wherein the request for allocation of a Logical Home Agent is received from the mobile node.</claim-text>
</claim>
<claim id="CLM-00044" num="00044">
<claim-text>44. The method of <claim-ref idref="CLM-00042">claim 42</claim-ref>, further comprising:
<claim-text>detecting the association of the mobile node with a foreign agent; and
<claim-text>transmitting a request for allocation of a Logical Home Agent based on the association of the mobile node with a foreign agent.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00045" num="00045">
<claim-text>45. The method of <claim-ref idref="CLM-00042">claim 42</claim-ref>, further comprising:
<claim-text>detecting new QoS requirements for the mobile node; and</claim-text>
<claim-text>transmitting a request for allocation of a Logical Home Agent based on the new QoS requirements for the mobile node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00046" num="00046">
<claim-text>46. The method of <claim-ref idref="CLM-00042">claim 42</claim-ref>, wherein selecting a Logical Home Agent for the mobile node based on one or more performance metrics comprises one or more of: network topology performance metrics and network resource performance metrics.</claim-text>
</claim>
<claim id="CLM-00047" num="00047">
<claim-text>47. The method of <claim-ref idref="CLM-00042">claim 42</claim-ref>, further comprising:
<claim-text>determining whether a Logical Home Agent should be selected for the mobile node based at least in part on comparing one or more identified performance metrics with a specified Quality of Service (QoS) for a mobile node, the determination comprising one or more of:
<claim-text>identifying a current home agent associated with the mobile node and determining one or more metrics associated with the current home agent;</claim-text>
<claim-text>identifying a current path from a correspondent node to the current home agent and determining one or more metrics associated with the current path from the correspondent node to the current home agent;</claim-text>
<claim-text>identifying a current path from a current home agent to a current foreign agent and determining one or more metrics associated with the current path from the current home agent to the current foreign agent; and</claim-text>
<claim-text>identifying a current path from a current foreign agent to the mobile node and determining one or more metrics associated with the current path from the current foreign agent to the mobile node.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00048" num="00048">
<claim-text>48. The method of <claim-ref idref="CLM-00042">claim 42</claim-ref>, wherein the one or more performance metrics comprise performance metrics stored in a performance metric repository.</claim-text>
</claim>
<claim id="CLM-00049" num="00049">
<claim-text>49. The method of <claim-ref idref="CLM-00048">claim 48</claim-ref>, further comprising:
<claim-text>determining whether the one or more performance metrics are expired; and</claim-text>
<claim-text>running one or more performance tests to produce at least one performance metric in the event that at least one of the one or more performance metrics is expired.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00050" num="00050">
<claim-text>50. The method of <claim-ref idref="CLM-00042">claim 42</claim-ref>, wherein registration request received by a common ancestor of a current foreign agent and a home agent in a hierarchical mobile IP network topology.</claim-text>
</claim>
<claim id="CLM-00051" num="00051">
<claim-text>51. The method of <claim-ref idref="CLM-00042">claim 42</claim-ref>, wherein registration request received by a common ancestor of a current foreign agent and a previous foreign agent in a hierarchical mobile IP network topology.</claim-text>
</claim>
<claim id="CLM-00052" num="00052">
<claim-text>52. The method of <claim-ref idref="CLM-00042">claim 42</claim-ref>, wherein the request for allocation of a Logical Home Agent for a mobile node specifies a QoS profile, the QoS profile identifying one or more QoS requirements.</claim-text>
</claim>
<claim id="CLM-00053" num="00053">
<claim-text>53. The method of <claim-ref idref="CLM-00042">claim 42</claim-ref>, wherein the request for allocation of a Logical Home Agent for a mobile node specifies one or more of: a desired Logical Home Agent address, differentiated services code point marking, IP precedence marking, a performance aspect code, a requested allocation type, a requested resource direction, an address and subnet for a source, and an address and subnet for a destination.</claim-text>
</claim>
<claim id="CLM-00054" num="00054">
<claim-text>54. The method of <claim-ref idref="CLM-00042">claim 42</claim-ref>, wherein the request for allocation of a Logical Home Agent for a mobile node is transmitted as an extension to a RFC (Request For Comments) 4433 QoS request extension.</claim-text>
</claim>
<claim id="CLM-00055" num="00055">
<claim-text>55. The method of <claim-ref idref="CLM-00042">claim 42</claim-ref>, further comprising
<claim-text>transmitting, from the mobile node, a home agent selection extension indicating a desired home agent.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00056" num="00056">
<claim-text>56. The method of <claim-ref idref="CLM-00042">claim 42</claim-ref>, wherein a Logical Home Agent may be shared among a plurality mobile nodes.</claim-text>
</claim>
<claim id="CLM-00057" num="00057">
<claim-text>57. The method of <claim-ref idref="CLM-00056">claim 56</claim-ref>, further comprising applying one or more rules to determine Logical Home Agent resource allocation among a plurality of mobile nodes.</claim-text>
</claim>
<claim id="CLM-00058" num="00058">
<claim-text>58. The method of <claim-ref idref="CLM-00042">claim 42</claim-ref>, further comprising:
<claim-text>handling, using the selected Logical Home Agent, one or more portions of network traffic for the mobile node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00059" num="00059">
<claim-text>59. A non-transitory computer readable media comprising code to perform the acts of the method of <claim-ref idref="CLM-00042">claim 42</claim-ref>.</claim-text>
</claim>
<claim id="CLM-00060" num="00060">
<claim-text>60. A system, comprising:
<claim-text>a network element, wherein the network element comprises one or more processors configured to:
<claim-text>receive, via a network, a request for allocation of a Logical Home Agent for a mobile node;</claim-text>
<claim-text>determine whether a Logical Home Agent should be selected for the mobile node based at least in part on comparing one or more identified performance metrics with a specified Quality of Service (QoS) for a mobile node, the determination comprising one or more of:
<claim-text>identifying a current home agent associated with the mobile node and determining one or more metrics associated with the current home agent;</claim-text>
<claim-text>identifying a current path from a correspondent node to the current home agent and determining one or more metrics associated with the current path from the correspondent node to the current home agent;</claim-text>
<claim-text>identifying a current path from a current home agent to a current foreign agent and determining one or more metrics associated with the current path from the current home agent to the current foreign agent; and</claim-text>
<claim-text>identifying a current path from a current foreign agent to the mobile node and determining one or more metrics associated with the current path from the current foreign agent to the mobile node;</claim-text>
</claim-text>
</claim-text>
<claim-text>select a Logical Home Agent for the mobile node based on one or more performance metrics; and</claim-text>
<claim-text>communicate Logical Home Agent selection to the selected Logical Home Agent and the mobile node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00061" num="00061">
<claim-text>61. The system of <claim-ref idref="CLM-00060">claim 60</claim-ref>, wherein the one or more processors are further configured to:
<claim-text>detect the association of the mobile node with a foreign agent; and</claim-text>
<claim-text>transmit a request for allocation of a Logical Home Agent based on the association of the mobile node with a foreign agent.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00062" num="00062">
<claim-text>62. A system, comprising:
<claim-text>a network element, wherein the network element comprises one or more processors configured to:
<claim-text>receive, via a network, a request for allocation of a Logical Home Agent for a mobile node;</claim-text>
<claim-text>select a Logical Home Agent for the mobile node based on one or more performance metrics;</claim-text>
<claim-text>communicate Logical Home Agent selection to the selected Logical Home Agent and the mobile node;</claim-text>
<claim-text>determine a timing of a switch to the selected Logical Home Agent based at least in part on an impact to an active network session of the mobile node, wherein a factor considered in determining a timing of a switch to the selected Logical Home Agent includes at least one of: a frequency of changing a home agent associated with the mobile node, a number of active sessions associated with the mobile node, a specified stream of network traffic not to be impacted by the switch, a specified set of streams of network traffic not to be impacted by the switch, an application type of an active session associated with the mobile node, a source of network traffic for an active session associated with the mobile node, a destination of network traffic for an active session associated with the mobile node, QoS marking of network traffic for an active session associated with the mobile node, and one or more specified QoS criteria not met by a current home agent.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00063" num="00063">
<claim-text>63. The system of <claim-ref idref="CLM-00062">claim 62</claim-ref>, wherein the one or more processors are further configured to:
<claim-text>detect the association of the mobile node with a foreign agent; and</claim-text>
<claim-text>transmit a request for allocation of a Logical Home Agent based on the association of the mobile node with a foreign agent.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00064" num="00064">
<claim-text>64. A system, comprising:
<claim-text>a communication module configured to receive, via a network, a request for allocation of a Logical Home Agent for a mobile node and configured to communicate Logical Home Agent selection to a selected Logical Home Agent and the mobile node;</claim-text>
<claim-text>a network topology resource utilization module configured to store one or more network topology performance metrics;</claim-text>
<claim-text>a Logical Home Agent selection module configured to select a Logical Home Agent for the mobile node based on the one or more stored network topology performance metrics; and</claim-text>
<claim-text>a performance monitoring module configured to determine whether a Logical Home Agent should be selected for the mobile node based at least in part on comparing one or more identified performance metrics with a specified Quality of Service (QoS) for a mobile node, the determination comprising one or more of:
<claim-text>identifying a current home agent associated with the mobile node and determining one or more metrics associated with the current home agent;</claim-text>
<claim-text>identifying a current path from a correspondent node to the current home agent and determining one or more metrics associated with the current path from the correspondent node to the current home agent;</claim-text>
<claim-text>identifying a current path from a current home agent to a current foreign agent and determining one or more metrics associated with the current path from the current home agent to the current foreign agent; and</claim-text>
<claim-text>identifying a current path from a current foreign agent to the mobile node and determining one or more metrics associated with the current path from the current foreign agent to the mobile node.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00065" num="00065">
<claim-text>65. A system, comprising:
<claim-text>a communication module configured to receive, via a network, a request for allocation of a Logical Home Agent for a mobile node and configured to communicate Logical Home Agent selection to a selected Logical Home Agent and the mobile node;</claim-text>
<claim-text>a network topology resource utilization module configured to store one or more network topology performance metrics;</claim-text>
<claim-text>a Logical Home Agent selection module configured to select a Logical Home Agent for the mobile node based on the one or more stored network topology performance metrics; and</claim-text>
<claim-text>a performance monitoring module configured to determine a timing of a switch to the selected Logical Home Agent based at least in part on an impact to an active network session of the mobile node, wherein a factor considered in determining a timing of a switch to the selected Logical Home Agent includes at least one of: a frequency of changing a home agent associated with the mobile node, a number of active sessions associated with the mobile node, a specified stream of network traffic not to be impacted by the switch, a specified set of streams of network traffic not to be impacted by the switch, an application type of an active session associated with the mobile node, a source of network traffic for an active session associated with the mobile node, a destination of network traffic for an active session associated with the mobile node, QoS marking of network traffic for an active session associated with the mobile node, and one or more specified QoS criteria not met by a current home agent. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
