<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625221-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625221</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13327279</doc-number>
<date>20111215</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>194</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>B</subclass>
<main-group>5</main-group>
<subgroup>09</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>B</subclass>
<main-group>1</main-group>
<subgroup>66</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>M</subclass>
<main-group>13</main-group>
<subgroup>03</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>360 51</main-classification>
<further-classification>360 53</further-classification>
<further-classification>375341</further-classification>
<further-classification>714792</further-classification>
</classification-national>
<invention-title id="d2e53">Detector pruning control system</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5278703</doc-number>
<kind>A</kind>
<name>Rub</name>
<date>19940100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5278846</doc-number>
<kind>A</kind>
<name>Okayama</name>
<date>19940100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5317472</doc-number>
<kind>A</kind>
<name>Schweitzer, III</name>
<date>19940500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5325402</doc-number>
<kind>A</kind>
<name>Ushirokawa</name>
<date>19940600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5392299</doc-number>
<kind>A</kind>
<name>Rhines</name>
<date>19950200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5417500</doc-number>
<kind>A</kind>
<name>Martinie</name>
<date>19950500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5513192</doc-number>
<kind>A</kind>
<name>Janku</name>
<date>19960400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>5523903</doc-number>
<kind>A</kind>
<name>Hetzler</name>
<date>19960600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>5550810</doc-number>
<kind>A</kind>
<name>Monogioudis et al.</name>
<date>19960800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>5550870</doc-number>
<kind>A</kind>
<name>Blaker</name>
<date>19960800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>5612964</doc-number>
<kind>A</kind>
<name>Haraszti</name>
<date>19970300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>5710784</doc-number>
<kind>A</kind>
<name>Kindred</name>
<date>19980100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>5717706</doc-number>
<kind>A</kind>
<name>Ikeda</name>
<date>19980200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>5802118</doc-number>
<kind>A</kind>
<name>Bliss</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>5844945</doc-number>
<kind>A</kind>
<name>Nam</name>
<date>19981200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>5898710</doc-number>
<kind>A</kind>
<name>Amrany</name>
<date>19990400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>5923713</doc-number>
<kind>A</kind>
<name>Hatakeyama</name>
<date>19990700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>5978414</doc-number>
<kind>A</kind>
<name>Nara</name>
<date>19991100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>5983383</doc-number>
<kind>A</kind>
<name>Wolf</name>
<date>19991100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>6005897</doc-number>
<kind>A</kind>
<name>Mccallister</name>
<date>19991200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>6023783</doc-number>
<kind>A</kind>
<name>Divsalar</name>
<date>20000200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>6029264</doc-number>
<kind>A</kind>
<name>Kobayashi</name>
<date>20000200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>6065149</doc-number>
<kind>A</kind>
<name>Yamanaka</name>
<date>20000500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>6097764</doc-number>
<kind>A</kind>
<name>McCallister</name>
<date>20000800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00025">
<document-id>
<country>US</country>
<doc-number>6145110</doc-number>
<kind>A</kind>
<name>Khayrallah</name>
<date>20001100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00026">
<document-id>
<country>US</country>
<doc-number>6216249</doc-number>
<kind>B1</kind>
<name>Bliss</name>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00027">
<document-id>
<country>US</country>
<doc-number>6216251</doc-number>
<kind>B1</kind>
<name>McGinn</name>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00028">
<document-id>
<country>US</country>
<doc-number>6266795</doc-number>
<kind>B1</kind>
<name>Wei</name>
<date>20010700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00029">
<document-id>
<country>US</country>
<doc-number>6317472</doc-number>
<kind>B1</kind>
<name>Choi</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00030">
<document-id>
<country>US</country>
<doc-number>6351832</doc-number>
<kind>B1</kind>
<name>Wei</name>
<date>20020200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00031">
<document-id>
<country>US</country>
<doc-number>6377610</doc-number>
<kind>B1</kind>
<name>Hagenauer</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00032">
<document-id>
<country>US</country>
<doc-number>6381726</doc-number>
<kind>B1</kind>
<name>Weng</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00033">
<document-id>
<country>US</country>
<doc-number>6473878</doc-number>
<kind>B1</kind>
<name>Wei</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00034">
<document-id>
<country>US</country>
<doc-number>6535553</doc-number>
<kind>B1</kind>
<name>Limberg et al.</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00035">
<document-id>
<country>US</country>
<doc-number>6625775</doc-number>
<kind>B1</kind>
<name>Kim</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00036">
<document-id>
<country>US</country>
<doc-number>6748034</doc-number>
<kind>B2</kind>
<name>Hattori</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00037">
<document-id>
<country>US</country>
<doc-number>6757862</doc-number>
<kind>B1</kind>
<name>Marianetti, II</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00038">
<document-id>
<country>US</country>
<doc-number>6785863</doc-number>
<kind>B2</kind>
<name>Blankenship</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00039">
<document-id>
<country>US</country>
<doc-number>6810502</doc-number>
<kind>B2</kind>
<name>Eidson</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00040">
<document-id>
<country>US</country>
<doc-number>6970511</doc-number>
<kind>B1</kind>
<name>Barnette</name>
<date>20051100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00041">
<document-id>
<country>US</country>
<doc-number>6986098</doc-number>
<kind>B2</kind>
<name>Poeppelman</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00042">
<document-id>
<country>US</country>
<doc-number>7047474</doc-number>
<kind>B2</kind>
<name>Rhee</name>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00043">
<document-id>
<country>US</country>
<doc-number>7058873</doc-number>
<kind>B2</kind>
<name>Song</name>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00044">
<document-id>
<country>US</country>
<doc-number>7073118</doc-number>
<kind>B2</kind>
<name>Greenberg</name>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00045">
<document-id>
<country>US</country>
<doc-number>7093179</doc-number>
<kind>B2</kind>
<name>Shea</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00046">
<document-id>
<country>US</country>
<doc-number>7117427</doc-number>
<kind>B2</kind>
<name>Ophir</name>
<date>20061000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00047">
<document-id>
<country>US</country>
<doc-number>7133228</doc-number>
<kind>B2</kind>
<name>Fung</name>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00048">
<document-id>
<country>US</country>
<doc-number>7184486</doc-number>
<kind>B1</kind>
<name>Wu</name>
<date>20070200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00049">
<document-id>
<country>US</country>
<doc-number>7191378</doc-number>
<kind>B2</kind>
<name>Eroz</name>
<date>20070300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00050">
<document-id>
<country>US</country>
<doc-number>7203887</doc-number>
<kind>B2</kind>
<name>Eroz</name>
<date>20070400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00051">
<document-id>
<country>US</country>
<doc-number>7308061</doc-number>
<kind>B1</kind>
<name>Huang</name>
<date>20071200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00052">
<document-id>
<country>US</country>
<doc-number>7310768</doc-number>
<kind>B2</kind>
<name>Eidson</name>
<date>20071200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00053">
<document-id>
<country>US</country>
<doc-number>7313750</doc-number>
<kind>B1</kind>
<name>Feng</name>
<date>20071200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00054">
<document-id>
<country>US</country>
<doc-number>7370258</doc-number>
<kind>B2</kind>
<name>Iancu</name>
<date>20080500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00055">
<document-id>
<country>US</country>
<doc-number>7415651</doc-number>
<kind>B2</kind>
<name>Argon</name>
<date>20080800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00056">
<document-id>
<country>US</country>
<doc-number>7502189</doc-number>
<kind>B2</kind>
<name>Sawaguchi</name>
<date>20090300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00057">
<document-id>
<country>US</country>
<doc-number>7523375</doc-number>
<kind>B2</kind>
<name>Spencer</name>
<date>20090400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00058">
<document-id>
<country>US</country>
<doc-number>7587657</doc-number>
<kind>B2</kind>
<name>Haratsch</name>
<date>20090900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00059">
<document-id>
<country>US</country>
<doc-number>7590168</doc-number>
<kind>B2</kind>
<name>Raghavan</name>
<date>20090900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00060">
<document-id>
<country>US</country>
<doc-number>7646829</doc-number>
<kind>B2</kind>
<name>Ashley</name>
<date>20100100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00061">
<document-id>
<country>US</country>
<doc-number>7702986</doc-number>
<kind>B2</kind>
<name>Bjerke</name>
<date>20100400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00062">
<document-id>
<country>US</country>
<doc-number>7752523</doc-number>
<kind>B1</kind>
<name>Chaichanavong</name>
<date>20100700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00063">
<document-id>
<country>US</country>
<doc-number>7779325</doc-number>
<kind>B2</kind>
<name>Song</name>
<date>20100800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00064">
<document-id>
<country>US</country>
<doc-number>7802172</doc-number>
<kind>B2</kind>
<name>Vila Casado et al.</name>
<date>20100900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00065">
<document-id>
<country>US</country>
<doc-number>7952824</doc-number>
<kind>B2</kind>
<name>Dziak</name>
<date>20110500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00066">
<document-id>
<country>US</country>
<doc-number>7958425</doc-number>
<kind>B2</kind>
<name>Chugg</name>
<date>20110600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00067">
<document-id>
<country>US</country>
<doc-number>7996746</doc-number>
<kind>B2</kind>
<name>Livshitz</name>
<date>20110800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00068">
<document-id>
<country>US</country>
<doc-number>8018360</doc-number>
<kind>B2</kind>
<name>Nayak</name>
<date>20110900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00069">
<document-id>
<country>US</country>
<doc-number>8201051</doc-number>
<kind>B2</kind>
<name>Tan</name>
<date>20120600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00070">
<document-id>
<country>US</country>
<doc-number>8237597</doc-number>
<kind>B2</kind>
<name>Liu</name>
<date>20120800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00071">
<document-id>
<country>US</country>
<doc-number>8261171</doc-number>
<kind>B2</kind>
<name>Annampedu</name>
<date>20120900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00072">
<document-id>
<country>US</country>
<doc-number>8291284</doc-number>
<kind>B2</kind>
<name>Savin</name>
<date>20121000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00073">
<document-id>
<country>US</country>
<doc-number>8295001</doc-number>
<kind>B2</kind>
<name>Liu</name>
<date>20121000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00074">
<document-id>
<country>US</country>
<doc-number>2008/0069373</doc-number>
<kind>A1</kind>
<name>Jiang</name>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00075">
<document-id>
<country>US</country>
<doc-number>2008/0304558</doc-number>
<kind>A1</kind>
<name>Zhu et al.</name>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00076">
<document-id>
<country>US</country>
<doc-number>2009/0132893</doc-number>
<kind>A1</kind>
<name>Miyazaki</name>
<date>20090500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00077">
<document-id>
<country>US</country>
<doc-number>2009/0185643</doc-number>
<kind>A1</kind>
<name>Fitzpatrick</name>
<date>20090700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00078">
<document-id>
<country>US</country>
<doc-number>2011/0167227</doc-number>
<kind>A1</kind>
<name>Yang</name>
<date>20110700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00079">
<document-id>
<country>US</country>
<doc-number>2011/0264987</doc-number>
<kind>A1</kind>
<name>Li</name>
<date>20111000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00080">
<document-id>
<country>US</country>
<doc-number>2012/0124118</doc-number>
<kind>A1</kind>
<name>Ivkovic</name>
<date>20120500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00081">
<document-id>
<country>US</country>
<doc-number>2012/0182643</doc-number>
<kind>A1</kind>
<name>Zhang</name>
<date>20120700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00082">
<document-id>
<country>US</country>
<doc-number>2012/0207201</doc-number>
<kind>A1</kind>
<name>Xia</name>
<date>20120800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00083">
<document-id>
<country>US</country>
<doc-number>2012/0212849</doc-number>
<kind>A1</kind>
<name>Xu</name>
<date>20120800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00084">
<document-id>
<country>US</country>
<doc-number>2012/0262814</doc-number>
<kind>A1</kind>
<name>Li</name>
<date>20121000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00085">
<document-id>
<country>US</country>
<doc-number>2012/0265488</doc-number>
<kind>A1</kind>
<name>Sun</name>
<date>20121000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00086">
<othercit>Axvig et al., &#x201c;Average Min-Sum Decoding of LDPC Codes&#x201d;, 5th International Symposium on Turbo Codes and Related Topics (2008).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00087">
<othercit>Bahl et al., &#x201c;Optimal decoding of linear codes for minimizing symbol error rate&#x201d;, IEEE Trans. Inform. Theory, vol. 20, pp. 284-287 (Mar. 1974).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00088">
<othercit>Blaum, &#x201c;High-Rate Modulation Codes for Reverse Concatenation&#x201d;, IEEE Transactions on Magnetics, vol. 43, No. 2 (Feb. 2007).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00089">
<othercit>Casado et al., Multiple-rate low- density parity-check codes with constant blocklength, IEEE Transations on communications, Jan. 2009, vol. 57, pp. 75-83.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00090">
<othercit>Cui et al., &#x201c;High-Throughput Layered LDPC Decoding Architecture&#x201d;, IEEE Transactions on Very Large Scale Integration (VLSI) Systems, vol. 17, No. 4 (Apr. 2009).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00091">
<othercit>Fan et al., &#x201c;Constrained coding techniques for soft iterative decoders&#x201d; Proc. IEEE Global Telecommun. Conf., vol. 1b, pp. 631-637 (1999).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00092">
<othercit>Fossorier, Marc P.C. &#x201c;Quasi-Cyclic Low-Density Parity-Check Codes From Circulant Permutation Maricies&#x201d; IEEE Transactions on Information Theory, vol. 50, No. 8 Aug. 8, 2004.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00093">
<othercit>Gross, &#x201c;Stochastic Decoding of LDPC Codes over GF(q)&#x201d;, HDPCC Workshop, Tel Aviv (Mar. 2, 2010).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00094">
<othercit>Gunnam et al., &#x201c;VLSI Architectures for Layered Decoding for Irregular LDPC Codes of WiMax&#x201d;, IEEE ICC Proceedings (2007).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00095">
<othercit>Hagenauer, J. et al A Viterbi Algorithm with Soft-Decision Outputs and its Applications in Proc. IEEE Globecom, pp. 47. 11-47 Dallas, TX Nov. 1989.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00096">
<othercit>Han and Ryan, &#x201c;Pinning Techniques for Low-Floor Detection/Decoding of LDPC-Coded Partial Response Channels&#x201d;, 5th International Symposium on Turbo Codes &#x26;Related Topics, 2008.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00097">
<othercit>Kautz, &#x201c;Fibonacci Codes for Synchronization Control&#x201d;, IEEE Trans. Info. Theory, vol. 11, No. 2, pp. 284-292 (Apr. 1965).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00098">
<othercit>Kschischang et al., &#x201c;Factor Graphs and the Sum-Product Algorithm&#x201d;, IEEE Transactions on Information Theory, vol. 47, No. 2 (Feb. 2001).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00099">
<othercit>Leduc-Primeau et al., &#x201c;A Relaxed Half-Stochastic Iterative Decoder for LDPC Codes&#x201d;, IEEE Communications Society, IEEE Globecom proceedings (2009).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00100">
<othercit>Lee et al., &#x201c;Partial Zero-Forcing Adaptive MMSE Receiver for DS-CDMA Uplink in Multicell Environments&#x201d; IEEE Transactions on Vehicular Tech. vol. 51, No. 5, Sep. 2002.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00101">
<othercit>Li et al &#x201c;Efficient Encoding of Quasi-Cyclic Low-Density Parity Check Codes&#x201d; IEEE Transactions on Communications on 53 (11) 1973-1973, 2005.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00102">
<othercit>Lim et al. &#x201c;Convergence Analysis of Constrained Joint Adaptation in Recording Channels&#x201d; IEEE Trans. on Signal Processing vol. 54, No. 1 Jan. 2006.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00103">
<othercit>Lin et al &#x201c;An efficient VLSI Architecture for non binary LDPC decoders&#x201d;&#x2014;IEEE Transaction on Circuits and Systems II vol. 57, Issue 1 (Jan. 2010) pp. 51-55.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00104">
<othercit>Moon et al, &#x201c;Pattern-dependent noise prediction in signal-dependent Noise,&#x201d; IEEE JSAC, vol. 19, No. 4 pp. 730-743, Apr. 2001.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00105">
<othercit>Moon et al., &#x201c;Maximum transition run codes for data storage systems&#x201d;, IEEE Trans. Magn., vol. 32, No. 5, pp. 3992-3994 (Sep. 1996).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00106">
<othercit>Shokrollahi &#x201c;LDPC Codes: An Introduction&#x201d;, Digital Fountain, Inc. (Apr. 2, 2003).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00107">
<othercit>Spagnol et al, &#x201c;Hardware Implementation of GF(2'm) LDPC Decoders&#x201d;, IEEE Transactions on Circuits and Systems{hacek over (s)}i: Regular Papers, Vol. 56, No. 12 (Dec. 2009).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00108">
<othercit>Tehrani et al., &#x201c;Fully Parallel Stochastic LDPC Decoders&#x201d;, IEEE Transactions on Signal Processing, vol. 56, No. 11 (Nov. 2008).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00109">
<othercit>Todd et al., &#x201c;Enforcing maximum-transition-run code constraints and low-density parity check decoding&#x201d;, IEEE Trans. Magn., vol. 40, No. 6, pp. 3566-3571 (Nov. 2004).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00110">
<othercit>U.S. Appl. No. 13/284,767, Unpublished (filed Oct. 28, 2011) (Fan Zhang).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00111">
<othercit>U.S. Appl. No. 13/239,683, Unpublished (filed Sep. 22, 2011) (Changyou Xu).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00112">
<othercit>U.S. Appl. No. 13/186,234, Unpublished (filed Jul. 19, 2011) (Haitao Xia).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00113">
<othercit>U.S. Appl. No. 13/300,078, Unpublished (filed Nov. 18, 2011) (Chung-Li Wang).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00114">
<othercit>U.S. Appl. No. 13/227,416, Unpublished (filed Sep. 7, 2011) (Lei Chen).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00115">
<othercit>U.S. Appl. No. 13/213,751, Unpublished (filed Aug. 19, 2011) (Fan Zhang).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00116">
<othercit>U.S. Appl. No. 13/305,551, Unpublished (filed Nov. 28, 2011) (Yang Han).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00117">
<othercit>U.S. Appl. No. 13/296,022, Unpublished (filed Nov. 14, 2011) (Victor Krachkovsky).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00118">
<othercit>U.S. Appl. No. 13/174,453, Unpublished (filed Jun. 30, 2011) (Johnson Yen).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00119">
<othercit>U.S. Appl. No. 13/316,741, Unpublished (filed Dec. 12, 2011) (Yang Han).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00120">
<othercit>U.S. Appl. No. 13/302,119, Unpublished (filed Nov. 22, 2011) (Lei Chen).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00121">
<othercit>U.S. Appl. No. 13/227,544, Unpublished (filed Sep. 8, 2011) (Shaohua Yang).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00122">
<othercit>U.S. Appl. No. 13/283,549, Unpublished (filed Oct. 27, 2011) (Wu Chang).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00123">
<othercit>U.S. Appl. No. 13/305,510, Unpublished (filed Nov. 28, 2011) (Lei Chen).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00124">
<othercit>U.S. Appl. No. 13/113,219, Unpublished (filed May 23, 2011) (Yang Han).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00125">
<othercit>U.S. Appl. No. 13/180,495, Unpublished (filed Jul. 11, 2011) (Chung-Li Wang).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00126">
<othercit>U.S. Appl. No. 13/295,150, Unpublished (filed Nov. 14, 2011) (Zongwang Li).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00127">
<othercit>U.S. Appl. No. 13/316,858, Unpublished (filed Dec. 12, 2011) (Zongwang Li).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00128">
<othercit>U.S. Appl. No. 13/284,730, Unpublished (filed Oct. 28, 2011) (Fan Zhang).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00129">
<othercit>U.S. Appl. No. 13/269,852, Unpublished (filed Oct. 10, 2011) (Haitao Xia).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00130">
<othercit>U.S. Appl. No. 13/174,537, Unpublished (filed Jun. 30, 2011) (Anantha Raman Krishnan).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00131">
<othercit>U.S. Appl. No. 13/269,832, Unpublished (filed Oct. 10, 2011) (Haitao Xia).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00132">
<othercit>U.S. Appl. No. 13/171,615, Unpublished (filed Jun. 29, 2011) (Bradley D. Seago).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00133">
<othercit>Vasic, B., &#x201c;High-Rate Low-Density Parity-Check Codes Based on Anti-Pasch Affine Geometries,&#x201d; Proc ICC 2002, pp. 1332-1336.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00134">
<othercit>Vasic, B., &#x201c;High-Rate Girth-Eight Codes on Rectangular Integer Lattices&#x201d;, IEEE Trans. Communications, vol. 52, Aug. 2004, pp. 1248-1252.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00135">
<othercit>Weon-Cheol Lee et al., &#x201c;Vitierbi Decoding Method Using Channel State Info. in COFDM System&#x201d; IEEE Trans. on Consumer Elect., IEEE Service Center, NY, NY vol. 45, No. 3 Aug. 1999.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00136">
<othercit>Yeo et al., &#x201c;VLSI Architecture for Iterative Decoders in Magnetic Storage Channels&#x201d;, Mar. 2001, pp. 748-55, IEEE trans. Magnetics, vol. 37, No. 2.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00137">
<othercit>Zhang et al., &#x201c;Analysis of Verification-Based Decoding on the q-ary Symmetric Channel for Large q&#x201d;, IEEE Trans. On Information Theory, vol. 57, No. 10 (Oct. 2011).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00138">
<othercit>Zhong et al., &#x201c;Joint Code-Encoder Design for LDPC Coding System VLSI Implementation&#x201d;, ISCAS, IEEE pp. 389-392, May 2004.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00139">
<othercit>Zhong et al., &#x201c;High-Rate Quasi-Cyclic LDPC Codes for Magnetic Recording Channel with Low Error Floor&#x201d;, ISCAS, IEEE pp. 3546-3549, May 2006.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00140">
<othercit>Zhong et al., &#x201c;Quasi Cyclic LDPC Codes for the Magnetic Recording Channel: Code Design and VSLI Implementation&#x201d;, IEEE Transactions on Magnetics, v. 43, pp. 1118-1123, Mar. 2007.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00141">
<othercit>Zhong et al., &#x201c;Design of VLSI Implementation-Oriented LDPC Codes&#x201d;, IEEE, pp. 670-673, 2003.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00142">
<othercit>Zhong, &#x201c;Block-LDPC: A Practical LDPC Coding System Design Approach&#x201d;, IEEE Trans. On Circuits, Regular Papers, vol. 5, No. 4, pp. 766-775, Apr. 2005.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>9</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130155541</doc-number>
<kind>A1</kind>
<date>20130620</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Feng</last-name>
<first-name>Wei</first-name>
<address>
<city>Shanghai</city>
<country>CN</country>
</address>
</addressbook>
<residence>
<country>CN</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Wang</last-name>
<first-name>Lei</first-name>
<address>
<city>Shanghai</city>
<country>CN</country>
</address>
</addressbook>
<residence>
<country>CN</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Feng</last-name>
<first-name>Wei</first-name>
<address>
<city>Shanghai</city>
<country>CN</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Wang</last-name>
<first-name>Lei</first-name>
<address>
<city>Shanghai</city>
<country>CN</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Hamilton DeSanctis &#x26; Cha</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>LSI Corporation</orgname>
<role>02</role>
<address>
<city>Milpitas</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Holder</last-name>
<first-name>Regina N</first-name>
<department>2688</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Various embodiments of the present invention provide apparatuses, systems and methods for data detection in a detector with a pruning control system. For example, a data detector is disclosed that includes a first set of counters operable to distinguish prunable data from non-prunable data in the data detector, a second set of counters operable to generate initial values for the first set of counters, and a prune control signal generator operable to generate a prune control signal based on the first set of counters. The second set of counters is operable to generate the initial values at least in part before a syncmark is detected in a data sector. The initial values are used to initialize the first set of counters when the syncmark is detected in the data sector. The prune control signal controls whether the data detector is allowed to prune a trellis.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="119.21mm" wi="175.43mm" file="US08625221-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="230.55mm" wi="195.92mm" orientation="landscape" file="US08625221-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="210.14mm" wi="120.99mm" file="US08625221-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="253.75mm" wi="182.12mm" file="US08625221-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="243.84mm" wi="135.64mm" file="US08625221-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="234.78mm" wi="182.63mm" file="US08625221-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0002" num="0001">Various products including hard disk drives utilize a read channel device to retrieve information from a medium and decode and convert the information to a digital data format. Such read channel devices may include data processing circuits including encoder, detector and decoder circuits to encode, detect and decode data as it is stored and retrieved from a medium or transmitted through a data channel, in order to reduce the likelihood of errors in the retrieved data.</p>
<p id="p-0003" num="0002">It is important that the read channel devices be able to rapidly and accurately detect the data bits in retrieved or received data samples so they can be decoded. A number of various types of detectors are available to identify the value of encoded data bits as they are retrieved or received, before the detected data is decoded. One such detector is a maximum a posteriori (MAP) detector, which determines the most likely value of each encoded data bit. A typical MAP detector uses a trellis structure to calculate the probability or branch metric for each possible value of a bit or group of bits. A forward pass through the trellis is performed, calculating the probabilities of the possible values, a backward pass through the trellis is performed, again calculating the probabilities of the possible values, and the results of the forward and backward passes are combined to arrive at a decision based on the probabilities.</p>
<p id="p-0004" num="0003">Because efforts are continually being made to increase the speed of data processing circuits while reducing their size and complexity, all while operating with increasingly dense storage devices or transmission channels that increase noise, there exists a need in the art for improving data detection in data processing circuits.</p>
<heading id="h-0002" level="1">BRIEF SUMMARY</heading>
<p id="p-0005" num="0004">Various embodiments of the present invention provide apparatuses, systems and methods for data detection in a detector with a pruning control system. For example, a data detector is disclosed that includes a first set of counters operable to distinguish prunable data from non-prunable data in the data detector, a second set of counters operable to generate initial values for the first set of counters, and a prune control signal generator operable to generate a prune control signal based on the first set of counters. The second set of counters is operable to generate the initial values at least in part before a syncmark is detected in a data sector. The initial values are used to initialize the first set of counters when the syncmark is detected in the data sector. The prune control signal controls whether the data detector is allowed to prune a trellis. Some embodiments include a third set of counters operable to generate second initial values for the first set of counters, and a fourth set of counters operable to generate ending values for the first set of counters. The third set of counters generates the second initial values at least in part before a second syncmark is detected in the data sector. The second initial values are used to initialize the first set of counters when the second syncmark is detected in the sector. The ending values are used for the first set of counters when a data fragment being processed in the data detector ends before the second syncmark is detected.</p>
<p id="p-0006" num="0005">Other embodiments provide a method of detecting data in a data detector with a pruning control system, including calculating initial values for a first set of counters using a second set of counters while searching for a syncmark in a sector of data, calculating second initial values for the first set of counters using a second set of counters while searching for a second syncmark in the sector of data, when the syncmark is detected, initializing the first set of counters with the initial values, and when the second syncmark is detected, initializing the first set of counters with the second initial values, and generating a prune control signal based on the first set of counters. Some instances of the aforementioned embodiments also include calculating ending values for the first set of counters for use when a data fragment is completed before the syncmark or the second syncmark are detected.</p>
<p id="p-0007" num="0006">This summary provides only a general outline of some embodiments according to the present invention. Many other objects, features, advantages and other embodiments of the present invention will become more fully apparent from the following detailed description, the appended claims and the accompanying drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0008" num="0007">A further understanding of the various embodiments of the present invention may be realized by reference to the figures which are described in remaining portions of the specification. In the figures, like reference numerals may be used throughout several drawings to refer to similar components. In the figures, like reference numerals are used throughout several figures to refer to similar components. In some instances, a sub-label consisting of a lower case letter is associated with a reference numeral to denote one of multiple similar components. When reference is made to a reference numeral without specification to an existing sub-label, it is intended to refer to all such multiple similar components.</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 1</figref> depicts a block diagram of a read channel including a detector with a pruning control system which may be used to store and retrieve or transmit and receive data in accordance with various embodiments of the present invention;</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 2</figref> depicts a trellis diagram illustrating branch metric probabilities in transitions between states in accordance with various embodiments of the present invention;</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 3</figref> depicts a diagram of a sector format showing codewords including user bits and parity bits in accordance with various embodiments of the present invention;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 4</figref> depicts a block diagram illustrating a set of counters used to generate a prune control signal and three groups of counters used to generate initial or ending values for the set of counters in various system states in accordance with various embodiments of the present invention;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 5</figref> depicts a state diagram used to select one of the three groups of counters of <figref idref="DRAWINGS">FIG. 4</figref> in accordance with various embodiments of the present invention;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 6</figref> depicts a state diagram used to calculate values for the three groups of counters of <figref idref="DRAWINGS">FIG. 4</figref> in accordance with various embodiments of the present invention;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 7</figref> depicts a flow diagram showing a method for generating a prune control signal in accordance with various embodiments of the present invention;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 8</figref> depicts a storage system including a detector with a pruning control system in accordance with some embodiments of the present invention; and</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 9</figref> depicts a wireless communication system including a detector with a pruning control system in accordance with some embodiments of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0018" num="0017">Various embodiments of the present invention provide apparatuses, systems and methods for data detection in a detector with pruning. The detector may comprise any channel detector or data detector which calculates branch metrics or probabilities for transitions between states relating to data bit values, and which prunes branches corresponding to forbidden data patterns. The detector may comprise, but is not limited to, a soft output Viterbi algorithm (SOVA) or maximum a posteriori (MAP) detector in which forward and backward recursions are performed in a trellis of data states. A trellis implemented by a detector with soft pruning can have any number of states, including a 2-state trellis that calculates transitions between single-bit values, or a 16-state trellis with four-bit values, or any other number of states.</p>
<p id="p-0019" num="0018">In certain operating environments, the probability that data transitions take particular branches is affected by constraints imposed on the data by other data processing elements. For example, when the detector processes data encoded by a maximum transition run (MTR) encoder, some data patterns are prohibited by the constraints imposed by the MTR encoder. MTR encoders may be used in environments such as high density magnetic recording, in which long transition runs can cause significant burst errors. An MTR encoder applies a constraint which limits the number of consecutive transitions in a stream of data bits in the non-return to zero (NRZ) domain. An MTR(3) encoder limits the data stream to three consecutive transitions between bits of opposite state. The MTR(3) encoder will not produce a stream of data bits with four consecutive transitions, or five consecutive different values.</p>
<p id="p-0020" num="0019">Constraints such as this affect the likelihood of certain branches or paths through the trellis in the detector. These forbidden branches may be pruned by biasing the branch metrics in the detector. A pruning control system is used to generate one or more prune control signals which enable and disable pruning in the detector, for example enabling and disabling application of branch metric offsets or biases to forbidden branches in the detector. The pruning control system considers channel conditions that affect the channel data and the detection process. For example, the MTR constraint imposed by the encoder may be affected or violated by parity bits inserted after the encoding process or by other formatting data inserted into the encoded data such as parity bits, sync patterns, headers, etc. The pruning control system discontinues pruning in response to these environmental conditions, for example turning off the pruning operation when processing parity bits or encoded bits adjacent parity bits where the MTR constraint that was used to generate the branch metric offsets are or may be violated. The pruning control system uses counters to distinguish data which may be pruned in the detector from data which should not be pruned.</p>
<p id="p-0021" num="0020">The detector pruning control system disclosed herein is not limited to use with any particular type of detector, or with any particular pruning scheme. The detector pruning control system identifies when pruning may take place in the detector, activating and deactivating pruning so that efficiency can be increased by pruning without introducing errors by improperly pruning, such as when any of the data bits being detected contain LDPC parity bits or are in a preamble, address mark or post-amble.</p>
<p id="p-0022" num="0021">Although the detector with pruning disclosed herein is not limited to any particular application, it may be used in a read channel of a storage device. Turning to <figref idref="DRAWINGS">FIG. 1</figref>, a read channel <b>100</b> is used to process user data bits <b>102</b>, and store them in or transit them through a storage or transmission channel <b>104</b> and retrieve the user data bits <b>156</b> without introducing errors. The user data bits <b>102</b> are processed in an MTR encoder <b>110</b>, an enumerative encoder which limits maximum transition run length. The frequency response of the read channel <b>100</b> is generally at a maximum at DC and degrades near the Nyquist frequency, particularly when the storage or transmission channel <b>104</b> is a magnetic storage device. By limiting the maximum transition run length in the encoded user bits <b>112</b>, the read channel <b>100</b> operates below the Nyquist frequency and avoids errors that might be introduced by the degraded frequency response near the Nyquist frequency.</p>
<p id="p-0023" num="0022">The encoded user bits <b>112</b> are provided to a low density parity check (LDPC) encoder <b>114</b>, which produces parity bits <b>116</b> for the encoded user bits <b>112</b>. The parity bits <b>116</b> are combined with the encoded user bits <b>112</b> in a multiplexer <b>120</b>. The resulting digital data stream <b>122</b> may be manipulated before storage or transmission in storage or transmission channel <b>104</b>. For example, the digital data stream <b>122</b> may be converted to analog format and modulated or otherwise processed before it used to drive a magnetic write head or to be transmitted as a radio frequency signal or other wired or wireless signal.</p>
<p id="p-0024" num="0023">The read channel <b>100</b> includes an analog front end circuit <b>124</b> that receives and processes an analog signal <b>126</b> from the storage or transmission channel <b>104</b>. Analog front end circuit <b>124</b> may include, but is not limited to, an analog filter and an amplifier circuit as are known in the art. Based upon the disclosure provided herein, one of ordinary skill in the art will recognize a variety of circuitry that may be included as part of analog front end circuit <b>124</b>. In some cases, the gain of a variable gain amplifier included as part of analog front circuit <b>124</b> may be modifiable, and the cutoff frequency and boost of an analog filter included in analog front end circuit <b>124</b> may be modifiable. Analog front end circuit <b>124</b> receives and processes the analog signal <b>126</b>, and provides a processed analog signal <b>130</b> to an analog to digital converter circuit <b>132</b>. In some cases, analog signal <b>126</b> is derived from a read/write head assembly in the storage or transmission channel <b>104</b> that is disposed in relation to a storage medium. In other cases, analog signal <b>126</b> is derived from a receiver circuit in the storage or transmission channel <b>104</b> that is operable to receive a signal from a transmission medium. The transmission medium may be wireless or wired such as, but not limited to, cable or optical connectivity. Based upon the disclosure provided herein, one of ordinary skill in the art will recognize a variety of sources from which analog input <b>126</b> may be derived.</p>
<p id="p-0025" num="0024">Analog to digital converter circuit <b>132</b> converts processed analog signal <b>130</b> into a corresponding series of digital samples <b>134</b>. Analog to digital converter circuit <b>130</b> may be any circuit known in the art that is capable of producing digital samples corresponding to an analog input signal. Based upon the disclosure provided herein, one of ordinary skill in the art will recognize a variety of analog to digital converter circuits that may be used in relation to different embodiments of the present invention. Digital samples <b>134</b> are provided to an equalizer circuit <b>136</b>. Equalizer circuit <b>136</b> applies an equalization algorithm to digital samples <b>134</b> to yield an equalized output <b>140</b>. In some embodiments of the present invention, equalizer circuit <b>136</b> is a digital finite impulse response filter circuit as are known in the art. Equalized output <b>140</b> is provided to a data detector circuit <b>142</b>. In some cases, equalizer <b>136</b> includes sufficient memory to maintain one or more codewords until a data detector circuit <b>142</b> is available for processing.</p>
<p id="p-0026" num="0025">The data detector circuit <b>142</b> performs a data detection process on the received input from the storage or transmission channel <b>104</b> resulting in a detected output <b>144</b>. The detected output <b>144</b> is provided to a decoder such as an LDPC decoder <b>146</b> which performs parity checks on the detected output <b>144</b>, ensuring that parity constraints established by the LDPC encoder <b>114</b> are satisfied in order to detect and correct any errors that may have occurred in the data while passing through the storage or transmission channel <b>104</b> or other components of the read channel <b>100</b>. Other error detection and correction encoders and decoders may be used in the read channel <b>100</b> in place of the LDPC encoder <b>114</b> and LDPC decoder <b>146</b>, and one of ordinary skill in the art will recognize a variety of error detection and correction encoders and decoders that may be used in relation to different embodiments of the present invention. In the case of the LDPC encoder <b>114</b> and LDPC decoder <b>146</b>, the data detector circuit <b>142</b> and LDPC decoder <b>146</b> may operate in an iterative fashion, with extrinsic information <b>150</b> passed from the LDPC decoder <b>146</b> to the data detector circuit <b>142</b> to aid in the data detection and parity check process. The LDPC decoder <b>146</b> yields encoded user bits <b>152</b> retrieved from the storage or transmission channel <b>104</b>, with the parity bits removed after the combination of encoded user bits and parity bits satisfy the parity check constraints.</p>
<p id="p-0027" num="0026">The encoded user bits <b>152</b> from the LDPC decoder <b>146</b> are provided to an MTR decoder <b>154</b> which reverses the enumerative encoding performed by the MTR encoder <b>110</b>. The MTR decoder <b>154</b> yields user data bits <b>156</b>, which should be identical to user data bits <b>102</b> if the data is not corrupted in the storage or transmission channel <b>104</b> beyond the capacity of the data detector circuit <b>142</b> and LDPC decoder <b>146</b> to correct.</p>
<p id="p-0028" num="0027">Data detector circuit <b>142</b> is operable to apply a data detection algorithm to a received codeword or data set, and in some cases data detector circuit <b>142</b> can process two or more codewords in parallel. The received codeword or data set includes a number of multi-bit symbols. In one particular embodiment of the present invention, the multi-bit symbols are four bit symbols that may take one of sixteen possible values for each four bit symbol (i.e., &#x2018;0000&#x2019;, &#x2018;0001&#x2019;, &#x2018;0010&#x2019;, . . . &#x2018;1111&#x2019;). In such a case, a detected output <b>144</b> from data detector circuit <b>142</b> includes sixteen soft decision values (L<b>0</b> corresponding to a likelihood that &#x2018;0000&#x2019; is the appropriate hard decision, L<b>1</b> corresponding to a likelihood that &#x2018;0001&#x2019; is the appropriate hard decision, L<b>2</b> corresponding to a likelihood that &#x2018;0010&#x2019; is the appropriate hard decision, and so on to L<b>16</b> which corresponds to a likelihood that &#x2018;1111&#x2019; is the appropriate hard decision). In other embodiments of the present invention, the multi-bit symbols are two or three bit symbols or symbols of other widths. Based upon the disclosure provided herein, one of ordinary skill in the art will recognize a number of different symbol sizes that may be used in relation to different embodiments of the present invention.</p>
<p id="p-0029" num="0028">In some embodiments of the present invention, data detector circuit <b>142</b> is a soft output Viterbi algorithm (SOVA) data detector circuit as is known in the art. In other embodiments of the present invention, data detector circuit <b>142</b> is a maximum a posteriori data detector circuit as is known in the art. Of note, the general phrases &#x201c;maximum a posteriori data detection algorithm&#x201d; or &#x201c;maximum a posteriori data detector circuit&#x201d; are used in their broadest sense to mean any maximum a posteriori detection algorithm or detector circuit or variations thereof including, but not limited to, simplified maximum a posteriori data detection algorithm and a max-log maximum a posteriori data detection algorithm, or corresponding detector circuits. Based upon the disclosure provided herein, one of ordinary skill in the art will recognize a variety of data detector circuits that may be used in relation to different embodiments of the present invention. Data detector circuit <b>142</b> is started based upon availability of a data set from equalizer circuit <b>136</b> or other source.</p>
<p id="p-0030" num="0029">An example MAP detector that may benefit from soft pruning implements the Bahl-Cocke-Jelinek-Raviv (BCJR) algorithm, performing forward and reverse recursions through a trellis of states, calculating the likelihood of each path between states in both the forward and reverse recursions, then combining the results. The MAP detector may yield a soft output, the likelihood of each bit or symbol, or may yield hard decisions, the value of each bit or symbol.</p>
<p id="p-0031" num="0030">Turning to <figref idref="DRAWINGS">FIG. 2</figref>, a trellis diagram <b>200</b> is shown illustrating branch metric probabilities in transitions between states at time k <b>202</b> and time k+1 <b>204</b>. In the trellis diagram <b>200</b> of <figref idref="DRAWINGS">FIG. 2</figref>, at time k <b>202</b> illustrated in the left column, each state (e.g., <b>206</b>) has a four bit value. (E.g., &#x2018;0000&#x2019;) Between time k <b>202</b> and time k+1 <b>204</b>, another bit is received and is added to the right-most end of the value, with the left-most bit from time k <b>202</b> dropping off. For example, state <b>206</b> has two possible transitions <b>210</b> and <b>212</b>. If a &#x2018;0&#x2019; bit is received, taking transition path <b>210</b>, state <b>206</b> is followed by state <b>214</b>, still with value &#x2018;0000&#x2019;. If a &#x2018;1&#x2019; bit is received, taking transition path <b>212</b>, state <b>206</b> is followed by state <b>216</b> with value &#x2018;0001&#x2019;.</p>
<p id="p-0032" num="0031">If the data processed by the detector is encoded by an MTR(3) encoder, certain data patterns are prohibited in encoded user data to limit the maximum transition run length and zero-run length. For example, from state <b>220</b> at time k having value &#x2018;0101&#x2019;, the receipt of a &#x2018;0&#x2019; along transition path <b>222</b> would be a run of four consecutive transitions, &#x2018;01010&#x2019;, which is prohibited by a &#x201c;j-constraint&#x201d; and will not be produced by the MTR(3) encoder. Thus, the probability of transition <b>222</b> between states <b>220</b> and <b>224</b> is zero. As a result, the probability of receiving a &#x2018;1&#x2019; and taking transition <b>226</b> between states <b>220</b> and <b>230</b> with value &#x2018;1011&#x2019; is one, or one hundred percent. Similarly, from state <b>232</b> at time k with value &#x2018;1010&#x2019;, the receipt of a &#x2018;1&#x2019; along transition path <b>234</b> would be a run of four consecutive transitions, &#x2018;10101&#x2019;, which is prohibited and will not be produced by the MTR(3) encoder. Thus, the probability of transition <b>234</b> between state <b>232</b> at time k and state <b>236</b> is zero. As a result, the probability of receiving a &#x2018;0&#x2019; and taking transition <b>240</b> between states <b>232</b> and <b>242</b> with value &#x2018;0100&#x2019; is one, or one hundred percent. In some embodiments, a &#x201c;k-constraint&#x201d; in the MTR(3) encoder prevents five consecutive &#x2018;0&#x2019; values, and thus transition <b>210</b> should not occur and may be pruned if all five bits are within a prunable region such as user data.</p>
<p id="p-0033" num="0032">Transitions <b>222</b> and <b>234</b> may be pruned in the detector by calculating branch metric offsets and combining them with the branch metric calculations in add/square blocks of a detector for transitions <b>222</b> and <b>234</b> that reduce the overall likelihood or probability for those transitions or branches to zero. The probabilities for transitions <b>226</b> and <b>240</b> are also modified by calculating and combining branch metric offsets for them that increase the overall likelihood or probability for those transitions or branches to one. Thus, the detector with soft pruning applies branch metric offsets for states associated with prohibited transitions. Other branch metrics may also be modified according to the pruning algorithm implemented, when enabled by the pruning control system.</p>
<p id="p-0034" num="0033">The pruning is selectively activated and deactivated in the data detector by the pruning control system based on the content or format of the incoming data. Turning back to <figref idref="DRAWINGS">FIG. 1</figref>, although the conditional state transition probabilities may be based on a single component such as the MTR encoder <b>110</b> or upon a single mode of operation in a read channel <b>100</b>, these conditional state transition probabilities may be affected by other components or modes of operation, such as the parity bits <b>116</b> generated by LDPC encoder <b>114</b> and inserted in the encoded user bits <b>112</b> by multiplexer <b>120</b>.</p>
<p id="p-0035" num="0034">Turning to <figref idref="DRAWINGS">FIG. 3</figref>, a diagram of a sector format showing codewords including user bits and parity bits is illustrated in accordance with various embodiments of the present invention. Notably, the sector format of <figref idref="DRAWINGS">FIG. 3</figref> is merely an example illustration, and the pruning control system may be adapted to any data format to distinguish between prunable data and non-prunable data. In this particular embodiment, the pruning control system includes a J counter and a K counter to represent a current data bits position in a codeword, used to determine whether the current data bit is a user data bit or a parity bit (not to be confused with the j-constraint and k-constraint applied by the MTR encoder <b>110</b>). The determination of whether a current data bit is a user data bit or a parity bit is used to generate one or more prune control signals to enable and disable pruning in the detector. A sector <b>300</b> includes several codewords. Each codeword (e.g., <b>302</b>) includes repeat_num successive parity+user patterns (e.g., <b>304</b>), each including a parity block (e.g., <b>306</b>) of parity bits such as LDPC parity bits and a user block (e.g., <b>310</b>) of MTR encoded user data bits, followed by a user<b>2</b> block <b>312</b>. Notably, the blocks in sector <b>300</b> are not drawn to scale in <figref idref="DRAWINGS">FIG. 3</figref>. The first data bit in the sector is an LDPC parity bit in the parity block <b>306</b>. The length of each parity block (e.g., <b>306</b>) is denoted as parityLen, the length of each user block (e.g., <b>310</b>) is denoted as userLen. The length of a parity_user pattern (e.g., <b>304</b>) is PatternLen=parityLen+userLen. The length of the succession <b>314</b> of parity_user patterns (e.g., <b>304</b>) is (parityLen+userLen)*repeat_num. The length of the user<b>2</b> block <b>312</b> is user<b>2</b>Len. The length of the codeword is thus cwLen=(parityLen+userLen)*repeat_num+user<b>2</b>Len. The sector <b>300</b> includes a succession of codewords until the sector is completed and a sectorLen <b>316</b> is reached. Notably, <figref idref="DRAWINGS">FIG. 3</figref> shows only user data and parity bits which affect the counters in the pruning control system to keep the illustration of data affecting counters in the pruning control system clear. The sector <b>300</b> also includes formatting data which are not shown in <figref idref="DRAWINGS">FIG. 3</figref>, such as a preamble and first syncmark before the first parity block <b>306</b>, and a second syncmark before the user<b>2</b> block <b>312</b>.</p>
<p id="p-0036" num="0035">The J counter represents the current data's position in a codeword. J rolls over or is reset when it reaches cwLen, and may be represented as j=(intervalCount&#x2212;1)%cwLen, where intervalCount is incremented by 1 for each 12 bit data block received. The K counter represents the current data's position in the parity+user pattern (e.g., <b>304</b>). The K counter rolls over or is reset when it reaches PatternLen, and may be represented as k=j%PatternLen. Using j and k, the pruning control system can determine whether a current data bit or symbol is a parity bit or user data.</p>
<p id="p-0037" num="0036">In the example embodiment, parityLen, userLen and userLen<b>2</b> are in units of 12, meaning that if parityLen is 1, the parity block (e.g., <b>306</b>) contains 12 bits or symbols. The example detector processes 4 bits or symbols (referred to herein as a nibble) per clock cycle, so 3 clock cycles are used to process 12 bits or symbols. A cycle_cnt counter counts clock cycles from 0 to 2, rolling over before exceeding 2. Thus, when cycle_cnt reaches 2, 12 data bits or symbols have been received, and the J and/or K counters are incremented. The J and K counters may be realized using a nibbleCount counter that is used to count all incoming data nibbles for the sector, starting from 1 for the first data nibble in the first fragment, although it is not incremented in formatting fields such as the preamble, first and second syncmark fields and the postamble used in sector formatting for a magnetic hard drive. In the example embodiment, a data fragment is a portion of a sector, including a preamble, syncmark, and data with user data bits and parity bits. A SERVO field separates fragments in the sector. The nibbleCount counter is incremented as each 4-bit data nibble is received, excluding preamble and syncmark data, starting with the first data nibble in the first fragment of the sector and continuing to count data nibbles across multiple fragments over the entire sector. An intervalCount is defined as ceiling(nibbleCount/3). Thus intervalCount is incremented by one for each 12 bit data block received. Pseudo-code for generating a prune control signal using the j and k counters based on the intervalCount counter is set forth below:</p>
<p id="p-0038" num="0037">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="28pt" align="left"/>
<colspec colname="1" colwidth="189pt" align="left"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>int pruneUserSymbol(int intervalCount, int valid)</entry>
</row>
<row>
<entry/>
<entry>{</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="42pt" align="left"/>
<colspec colname="1" colwidth="175pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>int j,k;</entry>
</row>
<row>
<entry/>
<entry>int userSymbol;</entry>
</row>
<row>
<entry/>
<entry>userSymbol=0;</entry>
</row>
<row>
<entry/>
<entry>// don't prune when not valid</entry>
</row>
<row>
<entry/>
<entry>if(valid) {</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="56pt" align="left"/>
<colspec colname="1" colwidth="161pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>// prune when valid but not over parity bits</entry>
</row>
<row>
<entry/>
<entry>j=((intervalCount&#x2212;1)%cwLen);</entry>
</row>
<row>
<entry/>
<entry>if(j&#x3e;=cwLen&#x2212;userLen2)</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="70pt" align="left"/>
<colspec colname="1" colwidth="147pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>userSymbol=1; // in user2 block</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="56pt" align="left"/>
<colspec colname="1" colwidth="161pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>else{</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="70pt" align="left"/>
<colspec colname="1" colwidth="147pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>k=(j%PatternLen);</entry>
</row>
<row>
<entry/>
<entry>if(k&#x3e;=parityLen)</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="84pt" align="left"/>
<colspec colname="1" colwidth="133pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>userSymbol=1; // in user block</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="70pt" align="left"/>
<colspec colname="1" colwidth="147pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>else</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="84pt" align="left"/>
<colspec colname="1" colwidth="133pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>userSymbol=0; // in parity block</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="70pt" align="left"/>
<colspec colname="1" colwidth="147pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>}</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="56pt" align="left"/>
<colspec colname="1" colwidth="161pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>}</entry>
</row>
<row>
<entry/>
<entry>return(userSymbol);</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="42pt" align="left"/>
<colspec colname="1" colwidth="175pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>}</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0039" num="0038">In summary, the cycle_cnt counter counts from 0 to 2. When 4 data bits or symbols are entered, cycle_cnt is incremented by one. When cycle_cnt is at 2 and 4 data bits or symbols are entered, cycle_cnt rolls over to 0 and the J counter is incremented, with the J counter counting from 0 to (cwLen&#x2212;1). The K counter counts from 0 to (patternLen&#x2212;1), incrementing when cycle_cnt rolls over to 0 and only when the J counter&#x3c;cwLen&#x2212;userLen<b>2</b>.</p>
<p id="p-0040" num="0039">As disclosed above, the sector <b>300</b> includes formatting data which are not shown in <figref idref="DRAWINGS">FIG. 3</figref>, such as a preamble and first syncmark before the first parity block <b>306</b>, and a second syncmark before the user<b>2</b> block <b>312</b>. A first syncmark found signal (syncfnd) and a second syncmark found signal (sync2fnd) are used in the detector to indicate when valid data is being sent to the first MAP block in the detector. However, these signals have a latency of M clock cycles. This means that when syncfnd and sync2fnd are asserted, M MTR data have already been sent to the first MAP block in the detector, and the counters in the pruning control system would be behind. The pruning control system thus pre-calculates the starting position value of the counters for when the syncfnd and sync2fnd signals are asserted. Thus, when syncfnd or sync2fnd is asserted, intervalCount jumps to the correct pre-calculated value. This calculation may be performed while the preamble field is being processed to reduce latency. Similarly, the pruning control system uses a SERVO field time to calculate a very short fragment's ending position value. The detector uses the intervalCount counter along with pruning parameters programmed into a SIF register to calculate prune signals, with parameters such as:
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0040">parityLen, the parity pattern length, during which pruning is disabled</li>
        <li id="ul0002-0002" num="0041">userLen, the user pattern length, pruning enabled</li>
        <li id="ul0002-0003" num="0042">repeat_num, the number of times the parity+user pattern repeats before user<b>2</b></li>
        <li id="ul0002-0004" num="0043">userLen<b>2</b>, the user <b>2</b> length, pruning enabled</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0041" num="0044">Turning to <figref idref="DRAWINGS">FIG. 4</figref>, a block diagram <b>400</b> illustrates the use of first and second state machines <b>402</b> and <b>404</b> to control the calculation and usage of a cycle_cnt, J and K counters for various conditions. <figref idref="DRAWINGS">FIG. 4</figref> illustrates the selection of different counter groups and the origin of pre-calculated counter values based on system state, and does not show the clock inputs actually being counted, because the counting operation for the cycle_cnt, J and K counters has been disclosed above. Three sets <b>406</b>, <b>408</b> and <b>410</b> of cycle_cnt, J and K counters are used in the example embodiment of <figref idref="DRAWINGS">FIG. 4</figref> to calculate initial values for a main set <b>412</b> of counters. The main set <b>412</b> of counters includes a cycle_cnt counter <b>414</b>, used to track 12 bit input groups and increment a pt_j counter <b>416</b> or J counter and a pt_k <b>418</b> or K counter, used to generate a prune control signal <b>420</b> in prune control signal logic <b>422</b>. Again, the pruning control system is not limited to use with any particular pruning scheme, and the details of the prune control signal logic <b>422</b> will therefore not be given. In one example embodiment, the prune control signal logic <b>422</b> includes logic gates that enable the prune control signal <b>420</b> when all of the bits related to a state transition in the detector trellis are user data bits, and that disable the prune control signal <b>420</b> when one or more of the bits are parity bits or other formatting bits, where the prune control signal <b>420</b> allows the detector to apply branch metric offsets to the branch metrics for the state transition to prune the state transition.</p>
<p id="p-0042" num="0045">The first set <b>406</b> of cycle_cnt, J and K counters is used to generate initial counter values for the main set <b>412</b> of counters when syncfnd is asserted. The second set <b>408</b> of cycle_cnt, J and K counters is used to generate initial counter values for the main set <b>412</b> of counters when sync2fnd is asserted. The third set <b>410</b> of cycle_cnt, J and K counters is used to generate ending values for the main set <b>412</b> of counters for a short data event, or a data event which ends before the M clock cycle latency completes. The first state machine <b>402</b> controls a multiplexer <b>430</b> to copy values from one of the three sets <b>406</b>, <b>408</b> and <b>410</b> of cycle_cnt, J and K counters to the main set <b>412</b> of counters, based on the syncfnd and sync2fnd signals which indicate that the first syncmark or second syncmark has been found in the sector, and on a nibbleCount counter that identifies a short data event.</p>
<p id="p-0043" num="0046">Again, because of the latency of the syncfnd and sync2fnd signals, the initial values for cycle_cnt <b>414</b>, pt_j <b>416</b> and pt_k <b>418</b> are calculated, using one of the three sets <b>406</b>, <b>408</b> and <b>410</b> of cycle_cnt, J and K counters to generate the initial values by counting clock cycles. The main set <b>412</b> of counters is used during the detection process to identify which trellis branches may be pruned (e.g., those containing only user data bits) and which trellis branches may not be pruned (e.g., those containing some or only parity bits and/or formatting bits). This is accomplished by counting data nibbles with the nibbleCount and data intervals with intervalCount, and using those counters to update one or more of the three sets <b>406</b>, <b>408</b> and <b>410</b> of cycle_cnt, J and K counters as disclosed in the pseudocode above before or as the data is processed in the detector. However, because of the latency of the syncfnd and sync2fnd signals, the main set <b>412</b> of counters cannot start counting at the beginning of the user data in each fragment. To avoid having to delay the initialization of the detector and the beginning of the detection process until after the syncfnd or sync2fnd signals are asserted, one of sets <b>406</b> and <b>408</b> of cycle_cnt, J and K counters are used to count clock cycles before either the syncfnd or sync2fnd signal, respectively, is asserted. Once either the syncfnd or sync2fnd signal is asserted, the corresponding counts are copied from set <b>406</b> or <b>408</b> of cycle_cnt, J and K counters to the main set <b>412</b> of counters, enabling the main set <b>412</b> of counters to continue counting data from that point on to track whether data contains user data or parity/formatting data. In some instances, the third set <b>410</b> of cycle_cnt, J and K counters is used to determine the ending value for the main set <b>412</b> of counters, when the fragment ends before the sync2fnd signal is asserted. For short fragments such as these, they will have passed before the sync2fnd signal is asserted, so the third set <b>410</b> of cycle_cnt, J and K counters provides the ending value for the main set <b>412</b> of counters for the short fragment. (In some embodiments, short fragments may also occur after the first syncmark, in which cases the third set <b>410</b> of cycle_cnt, J and K counters may also be used to calculate the ending value when the syncfnd is asserted after a short fragment.) Given these initial values and ending value, the main set <b>412</b> of counters can be used when processing the data in the detector to determine whether transitions in the detector trellis can be pruned for particular bit sequences. The counting in the three sets <b>406</b>, <b>408</b> and <b>410</b> of cycle_cnt, J and K counters is initiated at a time that will provide correct values when transferred to the main set <b>412</b> of counters after the syncfnd or sync2fnd signal is asserted.</p>
<p id="p-0044" num="0047">Turning to <figref idref="DRAWINGS">FIG. 5</figref>, a state diagram <b>500</b> used in a state machine to select one of the three sets <b>406</b>, <b>408</b> and <b>410</b> of cycle_cnt, J and K counters is illustrated in accordance with various embodiments of the present invention. The state machine implementing state diagram <b>500</b> is suitable for use in place of the first state machine <b>402</b> of <figref idref="DRAWINGS">FIG. 4</figref> in some embodiments. The state diagram <b>500</b> has an IDLE state <b>502</b>, SEP state <b>504</b>, SYNC2 state <b>506</b> and DATA state <b>510</b>. The state diagram <b>500</b> bases the state transitions on a number of control signals and registers. A syncfnd signal is asserted when the first syncmark is detected, and a sync2fnd signal is asserted when the second syncmark is detected. A sync2reg register is configured in advance, indicating whether the sector will contain a second syncmark. A !resetb signal resets the state diagram <b>600</b> before operation. The nibbleCount counter is used to determine when a data fragment is shorter than normal.</p>
<p id="p-0045" num="0048">When the syncfnd signal is asserted, indicating that the first syncmark is found, and the sync2reg register is set to indicate that the sector contains a second syncmark, the state diagram <b>500</b> transitions from IDLE state <b>502</b> to SEP state <b>504</b>. There are a known number of bits between the first and second syncmarks, therefore, after a predetermined number of clock cycles has passed, the state diagram <b>500</b> transitions from SEP state <b>504</b> to SYNC2 state <b>506</b>, unless the data fragment between the first and second syncmarks is shorter than the known number of bits, in which case the state diagram <b>500</b> transitions from SEP state <b>504</b> to IDLE state <b>502</b>. If the state diagram <b>500</b> does transition from SEP state <b>504</b> to SYNC2 state <b>506</b>, after another number of clock cycles has passed, the state diagram <b>500</b> transitions from SYNC2 state <b>506</b> to DATA state <b>510</b>. After all data has been provided to the detector, the state diagram <b>500</b> transitions from DATA state <b>510</b> to IDLE state <b>502</b>. If the data event is short, after syncfnd or sync2fnd is asserted, the fragment has finished and the state diagram <b>500</b> will stay in IDLE state <b>502</b>, and will trigger the calculation of ending values in the third set <b>410</b> of cycle_cnt, J and K counters.</p>
<p id="p-0046" num="0049">If the state diagram <b>500</b> is in the IDLE state <b>502</b> and syncfnd is asserted with the sync2reg indicating that the sector does not contain a second syncmark, or if sync2fnd is asserted, the state diagram <b>500</b> transitions from the IDLE state <b>502</b> to DATA state <b>510</b>. After all data has been provided to the detector, the state diagram <b>500</b> transitions back from DATA state <b>510</b> to IDLE state <b>502</b>.</p>
<p id="p-0047" num="0050">Turning to <figref idref="DRAWINGS">FIG. 6</figref>, a state diagram <b>600</b> used in a state machine to calculate values for the three sets <b>406</b>, <b>408</b> and <b>410</b> of cycle_cnt, J and K counters is illustrated in accordance with various embodiments of the present invention. The state machine implementing state diagram <b>600</b> is suitable for use in place of the second state machine <b>404</b> of <figref idref="DRAWINGS">FIG. 4</figref> in some embodiments. The state diagram <b>600</b> has an IDLE state <b>602</b>, SYNC CAL state <b>604</b>, SYNC2_CAL state <b>606</b>, and SM_CAL state <b>610</b>. The state diagram <b>600</b> bases the state transitions on a number of control signals and registers. A READM signal is asserted at the beginning of a sector at the start of the preamble and first syncmark and is de-asserted at the end of the sector after any padding bits. A syncfnd signal is asserted when the first syncmark is detected, and a sync2fnd signal is asserted when the second syncmark is detected. A !resetb signal resets the state diagram <b>600</b> before operation.</p>
<p id="p-0048" num="0051">The state diagram <b>600</b> transitions from IDLE state <b>602</b> to SYNC_CAL state <b>604</b> when a positive edge is detected on the READM signal, if the sync2reg is set. In the SYNC_CAL state <b>604</b>, the pruning control system calculates the value of the first set <b>406</b> of cycle_cnt, J and K counters, used as initial counter values for the main set <b>412</b> of counters when syncfnd is asserted. In some embodiments, the first set <b>406</b> of cycle_cnt, J and K counters count only in the SYNC_CAL state <b>604</b>, taking 18 clock cycles. At this stage, it is unknown whether the first syncmark or second syncmark is used, so the state diagram <b>600</b> transitions from SYNC_CAL state <b>604</b> to SYNC2_CAL state <b>606</b> to calculate the value of the second set <b>408</b> of cycle_cnt, J and K counters, used as initial counter values for the main set <b>412</b> of counters when sync2fnd is asserted, with the second set <b>408</b> of counters counting only in SYNC2_CAL state <b>606</b>. This takes either 28 or 90 cycles, depending on the format of the second syncmark, in some embodiments. While in SYNC2_CAL state <b>606</b>, if it is determined that the first syncmark is currently being processed, the state diagram <b>600</b> transitions back to IDLE state <b>602</b>. When the syncfnd or sync2fnd signals are asserted after the M clock cycle latency, the first state machine <b>402</b> selects the values from either the first set <b>406</b> of cycle_cnt, J and K counters or the second set <b>408</b> of cycle_cnt, J and K counters as the initial counter values for the main set <b>412</b> of counters. When the fragment is very small, that is when sync2fnd is asserted, the fragment will have finished loading to the detector by the time sync2fnd is asserted. In other words, the fragment length is smaller than the M clock cycle latency required to assert the sync2fnd signal. In this case, the state diagram <b>600</b> transitions from IDLE state <b>602</b> to SM_CAL state <b>610</b> to calculate the ending values for the main set <b>412</b> of counters using the third set <b>410</b> of cycle_cnt, J and K counters according to the fragment length. The signals used to trigger state transitions in the state diagram <b>600</b> may be adapted to the particular design of the detector. For example, in some embodiments a the state diagram <b>600</b> transitions based on the READM signal to start the counting in the SYNC_CAL state <b>604</b> and on a sm_cal_trig signal indicating that the fragment is short and triggering the SM_CAL state <b>610</b>, during which the third set <b>410</b> of cycle_cnt, J and K counters are actively counting.</p>
<p id="p-0049" num="0052">Turning to <figref idref="DRAWINGS">FIG. 7</figref>, a flow diagram <b>700</b> depicts a method for generating a prune control signal in accordance with various embodiments of the present invention. The method of <figref idref="DRAWINGS">FIG. 7</figref>, or variations thereof, may be performed in detector pruning control systems such as those illustrated in <figref idref="DRAWINGS">FIGS. 4-6</figref>. Following flow diagram <b>700</b>, initial counter values associated with first syncmark are calculated when sector reading begins using a first set of secondary counters, such as set <b>406</b> of cycle_cnt, J and K counters. (Block <b>702</b>) Initial counter values associated with second syncmark are calculated using a second set of secondary counters, such as set <b>408</b> of cycle_cnt, J and K counters. (Block <b>704</b>) In some embodiments, if the first syncmark is found while the initial counter values associated with the second syncmark are still being calculated, the calculation of the initial counter values associated with the second syncmark is cancelled when the first syncmark is detected, or when syncfnd is asserted. When a syncfnd or sync2fnd signal is asserted indicating the presence of first syncmark or secondsync mark, the main counters are initialized with the calculated initial counter values associated with the appropriate first or second syncmark. (Block <b>706</b>) For example, if sync2fnd is asserted, the main counters are initialized from the second set of secondary counters, such as set <b>408</b> of cycle_cnt, J and K counters. If data fragment reading finishes before syncfnd or sync2fnd signal is asserted for the fragment, ending values for the main counters are calculated using third set of secondary counters, such as the third set <b>410</b> of cycle_cnt, J and K counters. (Block <b>710</b>) User data is distinguished from non-user data using the main counters. (Block <b>712</b>) This may be accomplished, for example, using J and K counters <b>416</b> and <b>416</b> to track the position of parity and user blocks (e.g., <b>306</b> and <b>310</b>). At least one prune control signal is generated based on the main counters, for example in prune control signal logic <b>422</b>.</p>
<p id="p-0050" num="0053">Although the data detector with pruning control system disclosed herein is not limited to any particular application, several examples of applications are presented in <figref idref="DRAWINGS">FIGS. 8 and 9</figref> that benefit from embodiments of the present invention. Turning to <figref idref="DRAWINGS">FIG. 8</figref>, a storage system <b>800</b> is illustrated as an example application of a data detector with pruning control system in accordance with some embodiments of the present invention. The storage system <b>800</b> includes a read channel circuit <b>802</b> with a data detector with pruning control system in accordance with some embodiments of the present invention. Storage system <b>800</b> may be, for example, a hard disk drive. Storage system <b>800</b> also includes a preamplifier <b>804</b>, an interface controller <b>806</b>, a hard disk controller <b>810</b>, a motor controller <b>812</b>, a spindle motor <b>814</b>, a disk platter <b>816</b>, and a read/write head assembly <b>820</b>. Interface controller <b>806</b> controls addressing and timing of data to/from disk platter <b>816</b>. The data on disk platter <b>816</b> consists of groups of magnetic signals that may be detected by read/write head assembly <b>820</b> when the assembly is properly positioned over disk platter <b>816</b>. In one embodiment, disk platter <b>816</b> includes magnetic signals recorded in accordance with either a longitudinal or a perpendicular recording scheme.</p>
<p id="p-0051" num="0054">In a typical read operation, read/write head assembly <b>820</b> is accurately positioned by motor controller <b>812</b> over a desired data track on disk platter <b>816</b>. Motor controller <b>812</b> both positions read/write head assembly <b>820</b> in relation to disk platter <b>816</b> and drives spindle motor <b>814</b> by moving read/write head assembly <b>820</b> to the proper data track on disk platter <b>816</b> under the direction of hard disk controller <b>810</b>. Spindle motor <b>814</b> spins disk platter <b>816</b> at a determined spin rate (RPMs). Once read/write head assembly <b>820</b> is positioned adjacent the proper data track, magnetic signals representing data on disk platter <b>816</b> are sensed by read/write head assembly <b>820</b> as disk platter <b>816</b> is rotated by spindle motor <b>814</b>. The sensed magnetic signals are provided as a continuous, minute analog signal representative of the magnetic data on disk platter <b>816</b>. This minute analog signal is transferred from read/write head assembly <b>820</b> to read channel circuit <b>802</b> via preamplifier <b>804</b>. Preamplifier <b>804</b> is operable to amplify the minute analog signals accessed from disk platter <b>816</b>. In turn, read channel circuit <b>802</b> decodes and digitizes the received analog signal to recreate the information originally written to disk platter <b>816</b>. This data is provided as read data <b>822</b> to a receiving circuit. As part of processing the received information, read channel circuit <b>802</b> performs a data detection process on the received signal using a data detector with pruning control system. Such a data detector with soft pruning may be implemented consistent with the disclosure above in relation to <figref idref="DRAWINGS">FIGS. 1-6</figref>. In some cases, the data detection may be performed consistent with the flow diagram disclosed above in relation to <figref idref="DRAWINGS">FIG. 7</figref>. A write operation is substantially the opposite of the preceding read operation with write data <b>824</b> being provided to read channel circuit <b>802</b> and written to disk platter <b>816</b>.</p>
<p id="p-0052" num="0055">It should be noted that storage system <b>800</b> may be integrated into a larger storage system such as, for example, a RAID (redundant array of inexpensive disks or redundant array of independent disks) based storage system. Such a RAID storage system increases stability and reliability through redundancy, combining multiple disks as a logical unit. Data may be spread across a number of disks included in the RAID storage system according to a variety of algorithms and accessed by an operating system as if it were a single disk. For example, data may be mirrored to multiple disks in the RAID storage system, or may be sliced and distributed across multiple disks in a number of techniques. If a small number of disks in the RAID storage system fail or become unavailable, error correction techniques may be used to recreate the missing data based on the remaining portions of the data from the other disks in the RAID storage system. The disks in the RAID storage system may be, but are not limited to, individual storage systems such storage system <b>800</b>, and may be located in close proximity to each other or distributed more widely for increased security. In a write operation, write data is provided to a controller, which stores the write data across the disks, for example by mirroring or by striping the write data. In a read operation, the controller retrieves the data from the disks. The controller then yields the resulting read data as if the RAID storage system were a single disk.</p>
<p id="p-0053" num="0056">Turning to <figref idref="DRAWINGS">FIG. 9</figref>, a wireless communication system <b>900</b> or data transmission device including a transmitter <b>902</b> and receiver <b>904</b> with a data detector with pruning control system is shown in accordance with some embodiments of the present invention. Communication system <b>900</b> includes a transmitter <b>902</b> that is operable to transmit encoded information via a transfer medium <b>906</b> as is known in the art. The encoded data is received from transfer medium <b>906</b> by receiver <b>904</b>. Receiver <b>904</b> incorporates a data detector with pruning control system. Such a data detector with pruning control system may be implemented consistent with that described above in relation to <figref idref="DRAWINGS">FIGS. 1-6</figref>. In some cases, the data detection in receiver <b>904</b> may be done consistent with the flow diagrams in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0054" num="0057">It should be noted that the various blocks discussed in the above application may be implemented in integrated circuits along with other functionality. Such integrated circuits may include all of the functions of a given block, system or circuit, or only a subset of the block, system or circuit. Further, elements of the blocks, systems or circuits may be implemented across multiple integrated circuits. Such integrated circuits may be any type of integrated circuit known in the art including, but are not limited to, a monolithic integrated circuit, a flip chip integrated circuit, a multichip module integrated circuit, and/or a mixed signal integrated circuit. It should also be noted that various functions of the blocks, systems or circuits discussed herein may be implemented in either software or firmware. In some such cases, the entire system, block or circuit may be implemented using its software or firmware equivalent. In other cases, the one part of a given system, block or circuit may be implemented in software or firmware, while other parts are implemented in hardware.</p>
<p id="p-0055" num="0058">In conclusion, the present invention provides novel apparatuses, systems, and methods for data detection in a data detector with soft pruning. While detailed descriptions of one or more embodiments of the invention have been given above, various alternatives, modifications, and equivalents will be apparent to those skilled in the art without varying from the spirit of the invention. Therefore, the above description should not be taken as limiting the scope of the invention, which is defined by the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A data detector comprising:
<claim-text>a first set of counters operable to distinguish prunable data from non-prunable data in the data detector;</claim-text>
<claim-text>a second set of counters operable to generate initial values for the first set of counters, wherein the second set of counters is operable to generate the initial values at least in part before a syncmark is detected in a data sector, and wherein the data detector is operable to initialize the first set of counters with the initial values when the syncmark is detected in the data sector; and</claim-text>
<claim-text>a prune control signal generator operable to generate a prune control signal based on the first set of counters, wherein the prune control signal controls whether the data detector is allowed to prune a trellis.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The data detector of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a third set of counters operable to generate second initial values for the first set of counters, wherein the third set of counters is operable to generate the second initial values at least in part before a second syncmark is detected in the data sector, and wherein the data detector is operable to initialize the first set of counters with the second initial values when the second syncmark is detected in the sector.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The data detector of <claim-ref idref="CLM-00002">claim 2</claim-ref>, further comprising a fourth set of counters operable to generate ending values for the first set of counters, wherein the data detector is operable to use the ending values for the first set of counters when a data fragment being processed in the data detector ends before the second syncmark is detected.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The data detector of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first set of counters comprises a clock cycle counter.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The data detector of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the first set of counters comprises a J counter tracking a current data position in a codeword.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The data detector of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the J counter is incremented when the clock cycle counter rolls over, and wherein the J counter rolls over when it reaches a codeword length.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The data detector of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the J counter is only incremented when the current data position is in user data bits or parity bits.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The data detector of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the first set of counters comprises a K counter tracking a current data position in a block of data comprising a parity portion and a user data portion.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The data detector of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the K counter contains a remainder of a value of the J counter divided by a length of the block of data.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The data detector of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the prunable data comprises user data bits, and wherein the non-prunable data comprises at least one bit of non-user data.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The data detector of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the data detector is operable to prune the trellis when a data sequence to be pruned from the trellis comprises a sequence that is not generated by an upstream maximum-transition-run encoder and the prune control signal is asserted.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The data detector of <claim-ref idref="CLM-00003">claim 3</claim-ref>, further comprising a first state machine operable to determine whether the initial values, the second initial values or the ending values are valid.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The data detector of <claim-ref idref="CLM-00003">claim 3</claim-ref>, further comprising a second state machine operable to control counting in the second set of counters, the third set of counters and the fourth set of counters.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The data detector of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first set of counters, the second set of counters and the prune control signal generator comprise a pruning control system implemented as an integrated circuit.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The data detector of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first set of counters, the second set of counters and the prune control signal generator comprise a pruning control system incorporated in a storage device.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The data detector of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first set of counters, the second set of counters and the prune control signal generator comprise a pruning control system incorporated in a transmission device.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. A method of detecting data in a data detector with a pruning control system, comprising:
<claim-text>calculating initial values for a first set of counters using a second set of counters while searching for a syncmark in a sector of data;</claim-text>
<claim-text>calculating second initial values for the first set of counters using a second set of counters while searching for a second syncmark in the sector of data;</claim-text>
<claim-text>when the syncmark is detected, initializing the first set of counters with the initial values, and when the second syncmark is detected, initializing the first set of counters with the second initial values; and</claim-text>
<claim-text>generating a prune control signal based on the first set of counters.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising calculating ending values for the first set of counters for use when a data fragment is completed before the syncmark or the second syncmark are detected.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. A storage system comprising:
<claim-text>a storage medium maintaining a data set;</claim-text>
<claim-text>a read/write head assembly operable to write the data set to the storage medium and to read the data set from the storage medium;</claim-text>
<claim-text>a data detector with a pruning control system comprising:
<claim-text>a first set of counters operable to distinguish user data from non-user data in the data set;</claim-text>
<claim-text>a second set of counters operable to generate initial values for the first set of counters, wherein the second set of counters operates to generate the initial values at least in part before a syncmark is detected in a data sector, and wherein the initial values are used to initialize the first set of counters when the syncmark is detected in the data sector; and</claim-text>
<claim-text>a prune control signal generator operable to generate a prune control signal based on the first set of counters, wherein the prune control signal controls whether the data detector is allowed to prune a trellis.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The storage system of <claim-ref idref="CLM-00019">claim 19</claim-ref>, further comprising:
<claim-text>a third set of counters operable to generate second initial values for the first set of counters, wherein the third set of counters is operable to generate the second initial values at least in part before a second syncmark is detected in the data sector, and wherein the pruning control system is operable to initialize the first set of counters with the second initial values when the second syncmark is detected in the sector; and</claim-text>
<claim-text>a fourth set of counters operable to generate ending values for the first set of counters, wherein the pruning control system is operable to use the ending values for the first set of counters when a data fragment being processed in the data detector ends before the second syncmark is detected. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
