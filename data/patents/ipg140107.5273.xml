<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626373-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626373</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13382592</doc-number>
<date>20090709</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>82</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>B</section>
<class>60</class>
<subclass>L</subclass>
<main-group>11</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>02</class>
<subclass>P</subclass>
<main-group>7</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>701 22</main-classification>
<further-classification>318432</further-classification>
<further-classification>318434</further-classification>
</classification-national>
<invention-title id="d2e53">Fuel cell system and control method of same</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7235937</doc-number>
<kind>B2</kind>
<name>Takai et al.</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>318139</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>8342275</doc-number>
<kind>B2</kind>
<name>Ojima et al.</name>
<date>20130100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>180 6531</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2008/0197796</doc-number>
<kind>A1</kind>
<name>Bae et al.</name>
<date>20080800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>318432</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2009/0131215</doc-number>
<kind>A1</kind>
<name>Shamoto</name>
<date>20090500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>477  3</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2011/0213518</doc-number>
<kind>A1</kind>
<name>Welchko et al.</name>
<date>20110900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701 22</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>DE</country>
<doc-number>102007049081</doc-number>
<kind>A1</kind>
<date>20080700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>JP</country>
<doc-number>2002-252932</doc-number>
<kind>A</kind>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>JP</country>
<doc-number>2005-348530</doc-number>
<kind>A</kind>
<date>20051200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>JP</country>
<doc-number>2008-306784</doc-number>
<kind>A</kind>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>JP</country>
<doc-number>2009-104825</doc-number>
<kind>A</kind>
<date>20090500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>WO</country>
<doc-number>2009049782</doc-number>
<kind>A1</kind>
<date>20090400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00012">
<othercit>International Search Report mailed Oct. 13, 2009 of PCT/JP2009/062551.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00013">
<othercit>Office Action dated Nov. 5, 2013, issued in German Patent Application No. 11 2009 005 050.6 (English translation).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>5</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>701 22</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701 99</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318432</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318434</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318798</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318800</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318801</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318806</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>180 6529</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>180 65285</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>9</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120109444</doc-number>
<kind>A1</kind>
<date>20120503</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Umayahara</last-name>
<first-name>Kenji</first-name>
<address>
<city>Miyoshi</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Umayahara</last-name>
<first-name>Kenji</first-name>
<address>
<city>Miyoshi</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Kenyon &#x26; Kenyon LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Toyota Jidosha Kabushiki Kaisha</orgname>
<role>03</role>
<address>
<city>Toyota-Shi</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Tran</last-name>
<first-name>Khoi</first-name>
<department>3664</department>
</primary-examiner>
<assistant-examiner>
<last-name>Nguyen</last-name>
<first-name>Robert</first-name>
</assistant-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/JP2009/062551</doc-number>
<kind>00</kind>
<date>20090709</date>
</document-id>
<us-371c124-date>
<date>20120106</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2011/004488</doc-number>
<kind>A </kind>
<date>20110113</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Provided are a fuel cell system and a control method thereof capable of inhibiting the occurrence of problems caused by surplus electrical power even in cases where the torque able to be generated by the motor is limited due to a low motor drive voltage. A fuel cell system provided with a fuel cell and a motor is further provided with required output torque calculation means for calculating a required output torque based on an output requirement, torque upper limit value calculation means for calculating a torque upper limit value of torque able to be generated by the motor based on a drive voltage of the motor, required motor torque calculation means for calculating a required motor torque based on the required output torque and the torque upper limit value, required motor power calculation means for calculating a required motor power based on the required motor torque, and required generated power calculation means for calculating a required generated power of the fuel cell based on the required motor power.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="234.53mm" wi="185.17mm" file="US08626373-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="228.85mm" wi="179.83mm" orientation="landscape" file="US08626373-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="247.31mm" wi="167.56mm" orientation="landscape" file="US08626373-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="251.38mm" wi="158.07mm" file="US08626373-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="148.51mm" wi="168.91mm" file="US08626373-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="261.62mm" wi="189.40mm" file="US08626373-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="245.28mm" wi="177.80mm" orientation="landscape" file="US08626373-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="233.00mm" wi="192.11mm" file="US08626373-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="271.78mm" wi="195.50mm" file="US08626373-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<p id="p-0002" num="0001">This is a 371 national phase application of PCT/JP2009/062551 filed 09 Jul. 2009, the contents of which are incorporated herein by reference.</p>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0003" num="0002">The present invention relates to a fuel cell system installed in a vehicle, and more particularly, to a hybrid type of fuel cell system that supplies electrical power from a fuel cell and a battery to a motor that drives a vehicle.</p>
<heading id="h-0002" level="1">BACKGROUND ART</heading>
<p id="p-0004" num="0003">Fuel cell systems installed in vehicles are provided with an inverter for supplying electrical power to a motor from a fuel cell and an energy storage device. For example, Patent Publication JP-A-2005-348530 discloses a fuel cell system provided with two DC-DC converters in addition to an inverter. These consist of a first DC-DC converter that supplies electrical power to the inverter while controlling output voltage of the fuel cell, and a second DC-DC converter that supplies electrical power of an energy storage device while controlling input voltage of the inverter (Patent Literature 1).</p>
<p id="p-0005" num="0004">According to the invention described in Patent Literature 1, by controlling the first DC-DC converter and setting the output voltage value of the fuel cell to within the range between a maximum value and minimum value of the circuit voltage of the energy storage device, the frequency of execution of a voltage conversion operation can be reduced, thereby making it possible to suppress increases in power loss (Paragraph 0012).</p>
<p id="p-0006" num="0005">In addition, with respect to controlling power conversion of the inverter, Patent Literature 1 describes that a torque command is calculated based on a signal of an accelerator depression amount related to the amount of depressing operation of an accelerator pedal by a driver, the torque signal is input to the inverter, and current of each phase is output to each phase of the motor in order to generate the required torque (paragraph 0023).</p>
<heading id="h-0003" level="1">CITATION LIST</heading>
<heading id="h-0004" level="1">Patent Literature</heading>
<p id="p-0007" num="0006">Patent Literature 1: Patent Publication JP-A-2005-348530</p>
<heading id="h-0005" level="1">SUMMARY OF INVENTION</heading>
<heading id="h-0006" level="1">Technical Problem</heading>
<p id="p-0008" num="0007">However, there is an upper limit on the amount of torque that can be generated by the motor in the case the drive voltage of the motor is low. Even if a torque command is calculated based on an accelerator depression amount and that torque command is ordered to the motor as in Patent Literature 1, in the case drive voltage is low, the motor is unable to drive at the torque specified by the torque order. Moreover, power consumed by the motor is the power that corresponds to the actually generated torque.</p>
<p id="p-0009" num="0008">Here, in a fuel cell system, in parallel with calculating a torque command based on an accelerator depression amount, a required generated power is also calculated for the fuel cell so that generated power is output an amount able to compensate for the increased required power of the motor corresponding to the torque command. For example, in the fuel system described in the above-mentioned Patent Literature 1, electrical power assuming the case of the motor being driven at the torque specified by the torque command is generated by the fuel cell regardless of whether or not the motor is able to drive at the torque specified by the torque command.</p>
<p id="p-0010" num="0009">However, in the case the motor is unable to drive at the torque specified by the torque command as described above, since power actually consumed by the motor decreases in comparison with the case of the motor being driven as specified by the torque command, the balance between power generation and power consumption is lost, and a surplus occurs in the power generated by the fuel cell. This surplus of generated power causes overcharging of the energy storage device and leads to damage to the energy storage device or impaired balance of electrical power distribution.</p>
<p id="p-0011" num="0010">Therefore, in order to solve the above-mentioned problems, a preferable aspect of the invention of the present application provides a fuel cell system and a control method thereof that are capable of inhibiting the occurrence of problems attributable to surplus electrical power by suitably controlling electrical power balance even in the case the drive voltage of the motor is low and there are limitations on the amount of torque that can be generated.</p>
<heading id="h-0007" level="1">Solution To Problem</heading>
<p id="p-0012" num="0011">One aspect of a fuel cell system that solves the above-mentioned problems is a fuel cell system provided with a fuel cell, a motor connected to enable generated power from the fuel cell to be supplied thereto, and a control device that controls the fuel cell by calculating a required generated power of the fuel cell, the control device calculating a required motor torque based on a required output torque calculated based on an output requirement and a torque upper limit value able to be generated by the motor, the torque upper limit value being calculated correspondingly to a drive voltage of the motor, and calculating the required generated power based on the required motor torque.</p>
<p id="p-0013" num="0012">Another aspect of a fuel cell system that solves the above-mentioned problems is a fuel cell system provided with a fuel cell and a motor connected to enable generated power from the fuel cell to be supplied thereto, wherein, the fuel cell system is provided with required output torque calculation means for calculating required output torque based on an output requirement, torque upper limit value calculation means for calculating a torque upper limit value able to be generated by the motor based on the drive voltage of the motor, required motor torque calculation means for calculating required motor torque based on the required output torque and the torque upper limit value, required motor power calculation means for calculating required motor power based on the required motor torque, and required generated power calculation means for calculating required generated power of the fuel cell based on the required motor power.</p>
<p id="p-0014" num="0013">One aspect of a control method of a fuel cell system that solves the above-mentioned problems is a control method of a fuel cell system provided with a fuel cell and a motor connected to enable generated power from the fuel cell to be supplied thereto, wherein the control method is provided with a step for calculating a required output torque based on an output requirement, a step for calculating a torque upper limit value based on the drive voltage of the motor, a step for calculating a required motor torque based on the required output torque and the torque upper limit value, and a step for calculating a required generated power of the fuel cell based on the required motor torque.</p>
<p id="p-0015" num="0014">There is a limit (upper limit) on the torque able to be generated by a motor corresponding to the drive voltage, and particularly in cases in which drive voltage is low. The power consumed by a motor is determined corresponding to rotating speed in the case of driving at this torque upper limit value. According to the configuration of the invention of the present application, in the case of calculating a required output torque based on an input output requirement, the torque upper limit value is calculated based on the drive voltage of the motor, and the required motor torque is calculated so as not to exceed this torque upper limit value. The required generated power of the fuel cell is then calculated based on the required motor torque of which the upper limit thereof is processed at this torque upper limit value. Consequently, under circumstances in which the motor is only able to be driven up the torque upper limit value even in the case an output requirement requiring torque equal to or greater than the torque upper limit value has been input, a required generated power is calculated that matches the power able to be consumed by the motor driven at the torque upper limit value. Accordingly, problems resulting from the generation of surplus power unable to be consumed by the motor can be avoided.</p>
<p id="p-0016" num="0015">The following elements can be selectively added to the present invention as desired.
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0016">(1) The required output torque may also be calculated based on the accelerator depression amount and the rotating speed of the motor. In the invention of the present application, although an &#x201c;output requirement&#x201d; is a value that is input to the fuel cell system, in the case the fuel cell system is installed in a moving body (such as an automobile), this &#x201c;output requirement&#x201d; becomes a depression amount of the accelerator (gas pedal). Accordingly, the required output torque in this case is calculated based on the accelerator depression amount and the motor rotating speed.</li>
    <li id="ul0001-0002" num="0017">(2) An inverter may be provided connected to the motor, and the torque upper limit value may be calculated as an upper limit value of torque able to be generated by the motor based on the input voltage of the inverter and the rotating speed of the motor. In a system provided with an inverter serving as an electrical power conversion device that supplies electrical power to a motor, the drive voltage of the motor is a voltage determined corresponding to the input voltage of the inverter, and is, for example, a three-phase alternating current voltage. Accordingly, torque upper limit value in such a system is calculated based on the input voltage of the inverter and the rotating speed of the motor.</li>
    <li id="ul0001-0003" num="0018">(3) The present invention may also be configured so that the torque upper limit value is calculated base on voltage control response characteristics at the input voltage of the inverter. In a system provided with an inverter that supplies electrical power to a motor, drive voltage of the motor corresponds to the input voltage of the inverter, and the input voltage of the inverter is determined based on control characteristics of means for setting the input voltage such as a converter. For example, a change in the input voltage of the inverter is delayed from the time the change is ordered until the input voltage of the inverter changes to the value specified by the command, or in other words, appears as a delay in the voltage control response. According to this configuration, since the torque upper limit value is calculated based on the voltage control response characteristics at the input voltage of the inverter, neither a surplus or shortage of required generated power of the fuel cell is calculated even during a time period in which a delay occurs in control of the input voltage of the inverter.</li>
    <li id="ul0001-0004" num="0019">(4) In the case the required output torque is equal to or less than the torque upper limit value, the required motor torque is calculated as the required output torque, while in the case the required output torque exceeds the torque upper limit value, the required motor torque is calculated as the torque upper limit value. According to this configuration, upper limit processing is executed in which a torque upper limit value is calculated in the case the required output torque exceeds the torque upper limit value.</li>
    <li id="ul0001-0005" num="0020">(5) The required generated power is preferably calculated by adding the required motor power and a required power of a load device other than the motor. According to this configuration, since the required generated torque is calculated to include the required power of a load device other than the motor, the required generated power of the fuel cell can be determined based on an accurate calculation of electrical power balance in the case the required power of the load device is large or in the case of a large number of load devices and the required power determined by totaling that required power becomes large.</li>
</ul>
</p>
<p id="p-0017" num="0021">Furthermore, the aspects indicated below are considered to be specific aspects of a fuel cell system for solving the above-mentioned problems that include the previously described options.
<ul id="ul0002" list-style="none">
    <li id="ul0002-0001" num="0022">(1) A fuel cell system provided with an inverter connected to a motor, a first converter that is connected between a fuel cell and the inverter, and sets an output voltage of the fuel cell, a second converter that is connected between an energy storage device and the inverter, and sets an input voltage of the inverter, and a control device that controls the first converter and the second converter; wherein, the control device calculates a required output torque based on an accelerator depression amount and a rotating speed of the motor, calculates a torque upper limit value of torque able to be generated by the motor based on the input voltage of the inverter and the rotating speed of the motor, compares the required output torque and the torque upper limit value and calculates the required output torque as a required motor torque in the case the required output torque is equal to or less than the torque upper limit value while calculates the torque upper limit value as the required motor torque in the case the required output torque exceeds the torque upper limit value, calculates a required motor power based on the calculated required motor torque and the rotating speed of the motor, and calculates a required generated power of the fuel cell based on the required motor power and a required power of a load device.</li>
    <li id="ul0002-0002" num="0023">(2) A fuel cell system provided with an inverter connected to a motor, a first converter that is connected between a fuel cell and the inverter, and sets an output voltage of the fuel cell, a second converter that is connected between an energy storage device and the inverter, and sets an input voltage of the inverter, and a control device that controls the first converter and the second converter; wherein, the control device calculates a required output torque based on an accelerator depression amount and a rotating speed of the motor, calculates a torque upper limit value of torque able to be generated by the motor based on the input voltage of the inverter, the rotating speed of the motor and voltage control response characteristics at the input voltage of the inverter, compares the required output torque and the torque upper limit value and calculates the required output torque as a required motor torque in the case the required output torque is equal to or less than the torque upper limit value while calculates the torque upper limit value as the required motor torque in the case the required output torque exceeds the torque upper limit value, calculates a required motor power based on the calculated required motor torque and the rotating speed of the motor, and calculates a required generation power of the fuel cell based on the required motor power and a required power of a load device.</li>
</ul>
</p>
<heading id="h-0008" level="1">Advantageous Effects of Invention</heading>
<p id="p-0018" num="0024">According to the invention, since a required motor torque is calculated so as not to exceed a torque upper limit value of torque able to be generated and a required generated power is calculated, problems attributable to the generation of surplus electrical power in an amount unable to be completely consumed by the motor can be avoided.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0009" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading>
<p id="p-0019" num="0025"><figref idref="DRAWINGS">FIG. 1</figref> is system block diagram of an FCHV system according to an embodiment;</p>
<p id="p-0020" num="0026"><figref idref="DRAWINGS">FIG. 2</figref> is a functional block diagram by which fuel cell system control is executed according to a first embodiment;</p>
<p id="p-0021" num="0027"><figref idref="DRAWINGS">FIG. 3</figref> is a characteristics diagram of rotating speed N versus required output torque T<sub>ACC </sub>corresponding to accelerator depression amount at a relatively low input voltage V<sub>INV </sub>of an inverter <b>14</b>;</p>
<p id="p-0022" num="0028"><figref idref="DRAWINGS">FIG. 4</figref> is a characteristics diagram of rotating speed N versus torque upper limit value T<sub>LIM </sub>corresponding to accelerator depression amount at a relative low input voltage V<sub>INV </sub>of an inverter <b>14</b>;</p>
<p id="p-0023" num="0029"><figref idref="DRAWINGS">FIG. 5</figref> is a characteristics diagram of rotating speed N versus required motor torque T<sub>REQ </sub>corresponding to input voltage V<sub>INV </sub>of an inverter <b>14</b>;</p>
<p id="p-0024" num="0030"><figref idref="DRAWINGS">FIG. 6</figref> is a control flow chart of a fuel cell system according to a first embodiment;</p>
<p id="p-0025" num="0031"><figref idref="DRAWINGS">FIG. 7</figref> is a functional block diagram by which fuel cell system control is executed according to a second embodiment;</p>
<p id="p-0026" num="0032"><figref idref="DRAWINGS">FIG. 8</figref> is a timing chart for explaining response characteristics of accelerator depression amount Acc, inverter input voltage V<sub>INV </sub>and required motor torque T<sub>REQ</sub>; and</p>
<p id="p-0027" num="0033"><figref idref="DRAWINGS">FIG. 9</figref> is a control flow chart of a fuel cell system according to a second embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0010" level="1">DESCRIPTION OF EMBODIMENTS</heading>
<p id="p-0028" num="0034">The following provides an explanation of preferred embodiments for carrying out the present invention with reference to the drawings.</p>
<p id="p-0029" num="0035">In the following descriptions of the drawings, the same or similar reference symbols are used to indicate the same or similar components. However, the drawings are only intended to be schematic. Thus, specific characteristics and the like should be understood by comparing with the following explanations. In addition, portions are naturally contained in which characteristics mutually differ between drawings. In addition, although all processing is described to be carried out with a single control device in the following embodiments, the case of carrying out control processing according to the present invention by enabling a plurality of control units to operate in concert with each other is also included.</p>
<p id="p-0030" num="0036">(First Embodiment)</p>
<p id="p-0031" num="0037">The first embodiment relates to as aspect in which an upper limit is provided for a required motor torque based on an upper limit torque value determined corresponding to an input voltage of an inverter.</p>
<p id="p-0032" num="0038">(System Configuration)</p>
<p id="p-0033" num="0039"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of a fuel cell system <b>100</b> installed in a vehicle according to the first embodiment. This type of vehicle is a fuel cell hybrid vehicle (FCHV).</p>
<p id="p-0034" num="0040">The fuel cell system <b>100</b> is configured by being provided with a fuel cell <b>10</b>, a first converter <b>11</b>, a second converter <b>12</b>, a battery <b>13</b>, an inverter <b>14</b>, a motor <b>15</b>, an auxiliary inverter <b>18</b>, a high-voltage auxiliary device <b>19</b> and a control device <b>20</b>.</p>
<p id="p-0035" num="0041">The fuel cell <b>10</b> is electrical power generation means composed by layering a plurality of unit cells in series. The unit cells have a structure in which a membrane electrode assembly (MEA), consisting of an ion exchange member such as a polymer electrolyte membrane interposed between an anode pole and a cathode pole, is interposed between separators. The anode pole has an anode pole catalyst layer provided on a porous support layer, while the cathode pole has a cathode pole catalyst layer provided on a porous support layer. A fuel gas (such as hydrogen gas) is supplied from a fuel gas supply system not shown to the anode pole of each unit cell via a separator. An oxidizing gas (such as air) is supplied from an oxidizing gas supply system not shown to the cathode pole of each unit cell via a separator. A liquid coolant flow path is formed in the separator, and liquid coolant is supplied from a liquid coolant supply system not shown. In the fuel cell <b>10</b>, the oxidation reaction of formula (1) occurs at the anode pole, the reduction reaction of formula (2) occurs at the cathode pole, and the electromotive reaction of formula (3) occurs throughout the fuel cell <b>10</b>.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>H<sub>2</sub>&#x2192;2H<sup>+</sup>+2<i>e</i><sup>&#x2212;</sup>&#x2003;&#x2003;(1)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>(&#xbd;)O<sub>2</sub>+2H<sup>+</sup>+2<i>e</i><sup>&#x2212;</sup>&#x2192;H<sub>2</sub>O&#x2003;&#x2003;(2)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>H<sub>2 </sub>+(&#xbd;)O<sub>2</sub>&#x2192;H<sub>2</sub>O&#x2003;&#x2003;(3)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
As a result of a plurality of the unit cells being connected in series, the fuel cell <b>10</b> outputs an output voltage V<sub>FC </sub>to an output terminal. The fuel cell <b>10</b> has prescribed current-voltage output characteristics, and the output current and output voltage change corresponding to a change in the output voltage V<sub>FC</sub>.
</p>
<p id="p-0036" num="0042">The first converter <b>11</b> is a voltage converter that is provided with the configuration of a DC-DC converter. The first converter <b>11</b> is provided with a circuit configuration such as that of a three-phase bridge converter in the case a three-phase operating system is used. The three-phase bridge converter is provided with a switching element composed of a reactor, rectifying diode or insulated gate bipolar transistor (IGBT) and the like. Combination of these elements results in the formation of a circuit portion resembling an inverter that temporarily converts input direct current voltage to alternating current, and a portion that re-rectifies the alternating current and converts it to a different direct current voltage. Furthermore, the circuit configuration of the first converter <b>11</b> is not limited to that described above, but rather any configuration can be employed that is able to control the output voltage V<sub>FC </sub>of the fuel cell <b>10</b>.</p>
<p id="p-0037" num="0043">An output terminal of the fuel cell <b>10</b> is connected to the primary side of the first converter <b>11</b>, while an input terminal of the inverter <b>14</b> is connected to the secondary side. The first converter <b>11</b> is configured so as to control the primary side terminal voltage (output voltage V<sub>FC </sub>of the fuel cell <b>10</b>) according to a command CV<sub>FC </sub>from the control device <b>20</b>. Namely, the output voltage V<sub>FC </sub>of the fuel cell <b>10</b> is controlled to a voltage corresponding to a target voltage (namely, a target output voltage V<sub>FC</sub>) by the first converter <b>11</b>. In addition, the first converter <b>11</b> is configured to convert voltage so as to match the output voltage V<sub>FC </sub>of the fuel cell <b>10</b> and the input voltage V<sub>INV </sub>of the inverter <b>14</b>.</p>
<p id="p-0038" num="0044">The battery <b>13</b> is an energy storage device, and functions as a storage source of surplus electrical power generated by the fuel cell <b>10</b>, a regenerative energy storage source during regenerative braking, and an energy buffer during fluctuations in the load accompanying acceleration or deceleration of a fuel cell vehicle. A secondary battery such as a nickel-cadmium storage battery, nickel-hydrogen storage battery or lithium secondary battery is used for the battery <b>13</b>. An output voltage V<sub>BAT </sub>of the battery <b>13</b> is the input voltage of the second converter <b>12</b>.</p>
<p id="p-0039" num="0045">The second converter <b>12</b> is a voltage converter, and is provided with the configuration of a DC-DC converter in the same manner as the first converter <b>11</b>. An output terminal of the battery <b>13</b> is connected to the primary side of the second converter <b>12</b>, while the input terminal of the inverter <b>14</b> is connected to the secondary side. The second converter <b>12</b> is configured so as to control the secondary side terminal voltage (input voltage V<sub>INV </sub>of the inverter <b>14</b>) according to a command C<sub>VINV </sub>from the control device <b>20</b>. For example, in the case the required electrical power of the motor <b>15</b> has changed suddenly (and hereinafter presuming the case of having increased), the second converter <b>12</b> controls the input voltage V<sub>INV </sub>of the inverter <b>14</b> until it reaches a set target input voltage (required voltage). Furthermore, any configuration that enables control of the input voltage V<sub>INV </sub>of the inverter <b>14</b> can be employed for the circuit configuration of the second converter <b>12</b>.</p>
<p id="p-0040" num="0046">The inverter <b>14</b> is an electrical power converter, and is configured so as to convert a direct current input voltage supplied to the input terminal to an alternating current voltage and supply that voltage to the motor <b>15</b>. The circuit configuration of the inverter <b>14</b> is provided with, for example, a PWM inverter circuit driven by pulse width modulation. The inverter <b>14</b> is configured so as to supply a three-phase alternating current voltage corresponding to the input voltage V<sub>INV </sub>controlled by the second converter <b>12</b> to the motor <b>15</b>. In addition, it is also configured so as to output a drive voltage (inverter output voltage) Vd currently being output to the control device <b>20</b> in the form of a drive voltage signal S<sub>Vd</sub>.</p>
<p id="p-0041" num="0047">The motor <b>15</b> is a traction motor for driving the vehicle, and in the case of being supplied with a drive voltage, imparts thrust to the vehicle, while in the case of decelerating, generates regenerative electrical power. A differential <b>16</b> is a reduction device, and is configured so as to reduce high-speed rotation of the motor <b>15</b> at a prescribed ratio and rotate a shaft provided with tires <b>17</b>. A wheel speed sensor and the like not shown is provided on the shaft enabling detection of vehicle speed. A rotating speed sensor <b>23</b> detects rotating speed of the motor <b>15</b> and outputs a rotating speed signal S<sub>N </sub>to the control device <b>20</b>.</p>
<p id="p-0042" num="0048">The auxiliary inverter <b>18</b> is an electrical power converter, and is configured so as to convert a direct current supplied to the input terminal to alternating current and supply it to the high-voltage auxiliary device <b>19</b>. The circuit configuration of the auxiliary inverter <b>18</b> is the same as that of the above-mentioned inverter <b>14</b>. The auxiliary inverter <b>18</b> is configured so as to supply a three-phase alternating current voltage corresponding to the input voltage V<sub>INV </sub>controlled by the second converter <b>12</b> to the high-voltage auxiliary device <b>19</b>. Furthermore, the high-voltage auxiliary device <b>19</b> is a generic term for a humidifier, air compressor, hydrogen pump or liquid coolant pump and the like not shown for allowing the fuel cell system <b>100</b> to function.</p>
<p id="p-0043" num="0049">The control device <b>20</b> is a computer system that controls the fuel cell system <b>100</b>, and is provided with, for example, a CPU, RAM, ROM and the like. The control device <b>20</b> inputs an accelerator depression amount signal S<sub>ACC </sub>corresponding to accelerator depression amount Acc from an accelerator pedal sensor <b>21</b>. In addition, the control device <b>20</b> inputs various signals from a sensor group <b>22</b> and performs various calculations required for control. The sensor group <b>22</b> includes, for example, a current sensor that detects output current of the fuel cell <b>10</b>, a voltage sensor that detects output voltage, a temperature sensor that detects liquid coolant temperature of the fuel cell <b>10</b>, and rotating speed sensors that detect the rotating speed of an air compressor, hydrogen pump and liquid coolant pump and the like. In addition, the control device <b>20</b> inputs the rotating speed signal S<sub>N </sub>from the rotating speed sensor <b>23</b> that detects a rotating speed N of the motor <b>15</b>.</p>
<p id="p-0044" num="0050">The control device <b>20</b> controls the entire system by referring to these signals. In providing a general explanation thereof, the control device calculates a required output torque T<sub>ACC </sub>based on the accelerator depression amount Acc and the motor rotating speed N, and then calculates a required motor torque T<sub>REQ</sub>. The control device <b>20</b> then calculates a required motor power P<sub>M </sub>based on the required motor torque T<sub>REQ </sub>and the motor rotating speed N, and then calculates a required generated power P<sub>FC </sub>based on the required motor power P<sub>M </sub>and the high-voltage auxiliary device power P<sub>AUX</sub>. The control device <b>20</b> then calculates the output voltage V<sub>FC </sub>of the fuel cell <b>10</b> required to output the required generated power P<sub>FC </sub>from the current-voltage (I-V) characteristics of the fuel cell <b>10</b>. The control device <b>20</b> determines the respective distribution of output electrical power of the fuel cell <b>10</b> and the battery <b>13</b>. The control device <b>20</b> outputs a command C<sub>VFC </sub>to the first converter <b>11</b> and controls the output voltage V<sub>FC </sub>of the fuel cell <b>10</b> so that the determined required electrical power of the fuel cell <b>10</b> is obtained. In addition, the control device <b>20</b> outputs a command C<sub>VINV </sub>to the second converter <b>12</b> and controls the input voltage V<sub>INV </sub>of the inverter <b>14</b> so that the determined required electrical power of the battery <b>13</b> can be extracted. The input voltage V<sub>INV </sub>of the inverter <b>14</b> corresponds to the required motor torque T<sub>REQ </sub>imparted to the motor <b>15</b>.</p>
<p id="p-0045" num="0051">(Function Blocks)</p>
<p id="p-0046" num="0052"><figref idref="DRAWINGS">FIG. 2</figref> is a functional block diagram for controlling the fuel cell system <b>100</b> that is realized functionally by the control device <b>20</b> in the first embodiment. These function blocks are realized functionally by the control device <b>20</b> calling up a program that executes control processing according to the present invention (see <figref idref="DRAWINGS">FIG. 6</figref>) either regularly or irregularly.</p>
<p id="p-0047" num="0053">Furthermore, the configuration of the function blocks shown in <figref idref="DRAWINGS">FIG. 2</figref> is divided according to function for the sake of convenience, and functions are not necessarily required to be separated as shown in <figref idref="DRAWINGS">FIG. 2</figref>. Function blocks differing from those shown in <figref idref="DRAWINGS">FIG. 2</figref> may also be provided as long as the configuration is able to control the output voltage V<sub>FC </sub>of the fuel cell <b>10</b> based on the inputs listed in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0048" num="0054">As shown in <figref idref="DRAWINGS">FIG. 2</figref>, the control device <b>20</b> is configured by being provided with function blocks consisting of required output torque calculation means <b>201</b>, torque upper limit value calculation means <b>202</b>, required motor torque calculation means <b>203</b>, required motor power calculation means <b>204</b> and required generated power calculation means <b>205</b>.</p>
<p id="p-0049" num="0055">The required output torque calculation means <b>201</b> is a function block that calculates the required output torque T<sub>ACC </sub>based on the accelerator depression amount Acc acquired from the accelerator depression amount signal S<sub>ACC </sub>and the rotating speed N of the motor <b>15</b> acquired from the rotating speed signal S<sub>N</sub>. This required output torque is the required torque T<sub>REQ </sub>inherently required by the motor <b>15</b> in consideration of the accelerator depression amount Acc.</p>
<p id="p-0050" num="0056"><figref idref="DRAWINGS">FIG. 3</figref> is a characteristics diagram of rotating speed N versus required output torque T<sub>ACC </sub>corresponding to accelerator depression amount at an ordinary inverter input voltage V<sub>INV</sub>. A typical characteristic of motors is such that when motor rotating speed has been determined, the amount of torque able to be generated corresponding to rotating speed is determined based on prescribed rotating speed-torque characteristics (to be referred to as &#x201c;N-T characteristics&#x201d;) as shown in <figref idref="DRAWINGS">FIG. 3</figref>. These N-T characteristics are suitable in cases in which the input voltage V<sub>INV </sub>of the inverter (namely, corresponding to the drive voltage Vd of the motor) is sufficiently high (V<sub>INV</sub>=V0). The N-T characteristics change when the size of the output requirement, such as the accelerator depression amount, changes.</p>
<p id="p-0051" num="0057">The example shown in <figref idref="DRAWINGS">FIG. 3</figref> shows examples of an N-T characteristic T<sub>ACC</sub>(a) when the accelerator depression amount Acc is a depression amount a, an N-T characteristic T<sub>ACC</sub>(b) when the accelerator depression amount Acc is a depression amount b, and an N-T characteristic T<sub>ACC</sub>(c) when the accelerator depression amount Acc is a depression amount c. As shown in <figref idref="DRAWINGS">FIG. 3</figref>, in the case the rotating speed N of the motor <b>15</b> is Nreq, the required output torque T<sub>ACC </sub>can be calculated as Tna from the N-T characteristic T<sub>ACC</sub>(a) when the accelerator depression amount Acc is the depression amount a. The required output torque T<sub>ACC </sub>can be calculated as Tnb from the N-T characteristic T<sub>ACC</sub>(b) when the accelerator depression amount Acc is the depression amount b. The required output torque T<sub>ACC </sub>can be calculated as Tnc from the N-T characteristic T<sub>ACC</sub>(c) when the accelerator depression amount Acc is the depression amount c. The required output torque calculation means <b>201</b> uses the N-T characteristics as shown in <figref idref="DRAWINGS">FIG. 3</figref> to calculate the required output torque T<sub>ACC </sub>by storing in the form of a data table or in the form of a relational expression.</p>
<p id="p-0052" num="0058">In consideration of the input voltage V<sub>INV </sub>of the inverter <b>14</b>, namely the required output voltage of the second converter <b>12</b>, the first embodiment is configured such that, in the case the motor <b>15</b> is not able to generate the inherently required torque T<sub>REQ</sub>, the amount of electrical power generated by the fuel cell <b>10</b> is limited according to this situation. The function blocks that carry out that processing are the torque upper limit value calculation means <b>202</b> and the required motor torque calculation means <b>203</b> to be explained next.</p>
<p id="p-0053" num="0059">The torque upper limit value calculation means <b>202</b> is a function block that calculates a torque upper limit value T<sub>LIM </sub>of torque able to be generated by the motor <b>15</b> based on the input voltage V<sub>INV </sub>of the inverter <b>14</b>.</p>
<p id="p-0054" num="0060"><figref idref="DRAWINGS">FIG. 4</figref> shows a characteristics diagram of rotating speed N versus required output torque T<sub>ACC </sub>corresponding to accelerator depression amount at a relatively low inverter input voltage V<sub>INV</sub>. Differing from the case of <figref idref="DRAWINGS">FIG. 3</figref> in which the input voltage of the inverter <b>14</b> (namely, corresponding to the drive voltage Vd of the motor) is sufficiently high, in a region where the input voltage V<sub>INV </sub>of the inverter <b>14</b> is relatively low (V<sub>INV</sub>=VI(&#x3c;V0)), torque cannot be generated according to N-T characteristics like those shown in <figref idref="DRAWINGS">FIG. 3</figref>. As shown in <figref idref="DRAWINGS">FIG. 4</figref>, although N-T characteristics are such that the amount of torque that can be generated is determined corresponding to the rotating speed N of the motor, this indicates the maximum value of torque T of the motor <b>15</b> able to generated at the input voltage V<sub>INV </sub>of the inverter <b>14</b>. When the size of the power requirement such as the accelerator depression amount changes, the torque upper limit value T<sub>LIM</sub>, which defines the upper limit of torque, changes corresponding to the accelerator depression amount. Since the N-T characteristics shown in <figref idref="DRAWINGS">FIG. 4</figref> change corresponding to the input voltage V<sub>INV </sub>of the inverter <b>14</b>, it is preferable to provide in advance several types of N-T characteristics in accommodation of the input voltage V<sub>INV</sub>.</p>
<p id="p-0055" num="0061">The example of <figref idref="DRAWINGS">FIG. 4</figref> shows examples of a torque upper limit value characteristic T<sub>LIM</sub>(a) when the accelerator depression amount Acc is a depression amount a, a torque upper limit value characteristic T<sub>LIM</sub>(b) when the accelerator depression amount Acc is a depression amount b, and a torque upper limit value characteristic T<sub>LIM</sub>(c) when the accelerator depression amount Acc is a depression amount c. As shown in <figref idref="DRAWINGS">FIG. 4</figref>, in the case the rotating speed N of the motor <b>15</b> is Nreq, the torque upper limit value T<sub>LIM </sub>can be calculated from the torque upper limit value characteristic T<sub>LIM</sub>(a) as TIa when the accelerator depression amount Acc is the depression amount a. When the accelerator depression amount Acc is the depression amount b, the torque upper limit value T<sub>LIM </sub>can be calculated from the torque upper limit value characteristic T<sub>LIM</sub>(b) as TIb. When the accelerator depression amount Acc is the depression amount c, the torque upper limit value T<sub>LIM </sub>can be calculated from the torque upper limit value characteristic T<sub>LIM</sub>(c) as TIc. The torque upper limit value calculation means <b>202</b> uses the torque upper limit value characteristics as shown in <figref idref="DRAWINGS">FIG. 4</figref> to calculate the torque upper limit value T<sub>LIM </sub>by storing in the form of a data table or relational expression.</p>
<p id="p-0056" num="0062">The required motor torque calculation means <b>203</b> is a function block that calculates the required motor torque T<sub>REQ </sub>based on the calculated required output torque T<sub>ACC </sub>and torque upper limit value T<sub>LIM</sub>. More specifically, the required motor torque calculation means <b>203</b> calculates the required output torque T<sub>ACC </sub>as the required motor torque T<sub>REQ</sub>(=T<sub>ACC</sub>) in the case the required output torque T<sub>ACC </sub>is equal or less than the torque upper limit value T<sub>LIM</sub>. In addition, the required motor torque calculation means <b>203</b> calculates the torque upper limit value T<sub>LIM </sub>as the required motor torque T<sub>REQ</sub>(=T<sub>LIM</sub>) in the case the required output torque T<sub>ACC </sub>exceeds the torque upper limit value T<sub>LIM</sub>. The upper limit of the required output torque T<sub>ACC </sub>is processed at the torque upper limit value T<sub>LIM</sub>.</p>
<p id="p-0057" num="0063">The required motor power calculation means <b>204</b> is a function block that calculates required motor power based on the required motor torque T<sub>REQ</sub>. The required motor power P<sub>M </sub>is a value obtained by multiplying the rotating speed N by the required motor torque T<sub>REQ</sub>(P<sub>M</sub>=N&#xd7;T<sub>REQ</sub>).</p>
<p id="p-0058" num="0064">The required generated power calculation means <b>205</b> is a function block that calculates the required generated power P<sub>FC </sub>of the fuel cell based on the required motor power P<sub>M</sub>. The required generated power P<sub>FC </sub>is calculated by adding the required power of a load device other than the motor to the calculated required motor power P<sub>M</sub>. More specifically, a value determined by adding the high-voltage auxiliary device power P<sub>AUX </sub>required by the high-voltage auxiliary device <b>19</b> to the required motor power P<sub>M </sub>is calculated as the required generated power P<sub>FC</sub>.</p>
<p id="p-0059" num="0065">In the processing described above, the required output torque calculation means <b>201</b> determined the required output torque T<sub>ACC </sub>based on N-T characteristics as shown in <figref idref="DRAWINGS">FIG. 3</figref>, and the torque upper limit value calculation means <b>202</b> determined the torque upper limit value T<sub>LIM </sub>based on N-T characteristics as shown in <figref idref="DRAWINGS">FIG. 4</figref>. The required motor torque calculation means <b>203</b> then compared the two and determined the required motor torque T<sub>REQ</sub>. This processing can also be understood from the N-T characteristics of rotating speed N versus required motor torque T<sub>REQ </sub>corresponding to the input voltage V<sub>INV </sub>of the inverter <b>14</b> determined for each accelerator depression amount Acc as shown in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0060" num="0066">Once the accelerator depression amount Acc is determined, the N-T characteristics of the rotating speed N versus the required motor torque T<sub>REQ </sub>are determined corresponding to the input voltage V<sub>INV </sub>of the inverter <b>14</b> as shown in <figref idref="DRAWINGS">FIG. 5</figref>. In <figref idref="DRAWINGS">FIG. 5</figref>, examples are shown of a required motor torque characteristic t<sub>v</sub>(Va) when the inverter input voltage V<sub>INV </sub>is a voltage Va, a required motor torque characteristic t<sub>v</sub>(Vb) when the inverter input voltage V<sub>INV </sub>is a voltage Vb, and a required motor torque characteristic t<sub>v</sub>(Vc) when the inverter input voltage V<sub>INV </sub>is a voltage Vc. As shown in <figref idref="DRAWINGS">FIG. 5</figref>, in the case the rotating speed N of the motor <b>15</b> is Nreq, the required motor torque T<sub>REQ </sub>can be calculated from the motor required torque characteristic t<sub>v</sub>(Va) as Tra when the drive voltage is the voltage Va. The required motor torque T<sub>REQ </sub>can be calculated from the motor required torque characteristic t<sub>v</sub>(Vb) as Trb when the drive voltage is the voltage Vb. The required motor torque T<sub>REQ </sub>can be calculated from the motor required torque characteristic t<sub>v</sub>(Vc) as Trc when the drive voltage is the voltage Vc.</p>
<p id="p-0061" num="0067">Here, as shown in <figref idref="DRAWINGS">FIG. 5</figref>, in the case the input voltage V<sub>INV </sub>of the inverter is the voltage Va, T<sub>ACC </sub>is determined to be the required motor torque T<sub>REQ </sub>based on N-T characteristics as shown in <figref idref="DRAWINGS">FIG. 3</figref> in the case there is assumed to be no limitation by the torque upper limit value T<sub>LIM</sub>. In reality, however, the motor <b>15</b> has torque upper limit characteristics as shown in <figref idref="DRAWINGS">FIG. 4</figref>. Consequently, in the case the inverter input voltage V<sub>INV </sub>is the voltage Va, the torque Tra, which is limited by the torque upper limit value T<sub>LIM</sub>, is determined to be the required motor torque T<sub>REQ</sub>. A power &#x394;P(=Nreq&#xd7;&#x394;T), which corresponds to a difference &#x394;T(=T<sub>ACC</sub>&#x2212;Tra) between the required motor torque T<sub>ACC </sub>in the case of assuming the absence of torque limitation and the required motor torque Tra determined by including torque limitation, is surplus electrical power attributable to the absence of torque limitation. According to the present invention, as a result of this suitable torque limitation processing, the generation of the surplus power &#x394;P in terms of electrical power balance is prohibited, thereby successfully inhibiting the generation of surplus electrical power.</p>
<p id="p-0062" num="0068">Furthermore, processing by the required output torque calculation means <b>201</b>, the torque upper limit value calculation means <b>202</b> and the required motor torque calculation means <b>203</b> can be simplified by using N-T characteristics of rotating speed N versus motor required torque T<sub>REQ </sub>corresponding to the input voltage V<sub>INV </sub>of the inverter <b>14</b> as shown in <figref idref="DRAWINGS">FIG. 5</figref>. For example, N-T characteristics as shown in <figref idref="DRAWINGS">FIG. 5</figref> are measured in advance for each accelerator depression amount Acc, and those characteristics are stored in the form of a data table or in the form of a relational expression. The required motor torque T<sub>REQ </sub>is then specified by referring to the data table or relational expression using the accelerator depression amount Acc, the rotating speed N of the motor <b>15</b> and the input voltage V<sub>INV </sub>of the inverter <b>14</b> as input values. As a result of this processing, a required motor torque T<sub>REQ</sub>, which has been limited corresponding to the torque upper limit value T<sub>LIM</sub>, can be determined by referring to a data table or relational expression only once.</p>
<p id="p-0063" num="0069">(Operation)</p>
<p id="p-0064" num="0070">Next, an explanation is provided of control processing of the fuel cell system <b>100</b> of the first embodiment realized with the above-mentioned function blocks with reference to the flow chart of <figref idref="DRAWINGS">FIG. 6</figref>. The following control processing is a processing set that is repeatedly executed at regular or irregular intervals. For example, in the present embodiment, a program that executes control processing as shown in <figref idref="DRAWINGS">FIG. 6</figref> is called up within the control device <b>20</b> for each prescribed control cycle Tint.</p>
<p id="p-0065" num="0071">In step S<b>10</b>, the control device <b>20</b> determines whether or not it is time to execute control according to the control cycle Tint. As a result of that determination, in the case a time for executing control has arrived (YES), processing proceeds to step S<b>11</b>, the required output torque calculation means <b>201</b> shown in <figref idref="DRAWINGS">FIG. 2</figref> reads the accelerator depression amount signal S<sub>ACC </sub>from the accelerator pedal sensor <b>21</b>, and reads the rotating speed signal S<sub>N </sub>from the rotating speed sensor <b>23</b>. The required output torque calculation means <b>201</b> then calculates the required output torque T<sub>ACC </sub>based on the accelerator depression amount Acc indicated by the accelerator depression amount signal S<sub>ACC </sub>and the motor rotating speed N indicated by the rotating speed signal S<sub>N</sub>. Namely, the required output torque calculation means <b>201</b> refers to a data table or relational expression indicating N-T characteristics as shown in <figref idref="DRAWINGS">FIG. 3</figref>, specifies rotating speed N-required output torque characteristics T<sub>ACC</sub>(Acc) corresponding to the accelerator depression amount Acc, and calculates the required output torque T<sub>ACC </sub>corresponding to the motor rotating speed N from those N-T characteristics.</p>
<p id="p-0066" num="0072">Next, processing proceeds to step S<b>12</b>, and the torque upper limit value calculation means <b>202</b> shown in <figref idref="DRAWINGS">FIG. 2</figref> acquires the current input voltage V<sub>INV </sub>of the inverter <b>14</b>. The torque upper limit value calculation means <b>202</b> then refers to a data table or relational expression indicating N-T characteristics as shown in <figref idref="DRAWINGS">FIG. 4</figref> corresponding to the acquired inverter input voltage V<sub>INV</sub>. The torque upper limit value calculation means <b>202</b> then specifies torque upper limit value characteristics T<sub>LIM</sub>(Acc) corresponding to the accelerator depression amount Acc and calculates the torque upper limit value T<sub>LIM </sub>corresponding to the motor rotating speed N from those N-T characteristics.</p>
<p id="p-0067" num="0073">Next, in step S<b>13</b>, the required motor torque calculation means <b>203</b> shown in <figref idref="DRAWINGS">FIG. 2</figref> compares the calculated required output torque T<sub>ACC </sub>and torque upper limit value T<sub>LIM</sub>. As a result of comparison, in the case the required output torque T<sub>ACC </sub>is equal to or less than the torque upper limit value T<sub>LIM </sub>(YES), processing proceeds to step S<b>14</b>, and the required motor torque calculation means <b>203</b> calculates the required output torque T<sub>ACC </sub>as the required motor torque T<sub>REQ</sub>(=T<sub>ACC</sub>). On the other hand, in the case the required output torque T<sub>ACC </sub>exceeds the torque upper limit value T<sub>LIM </sub>as a result of the above-mentioned comparison (NO), processing proceeds to step S<b>15</b> and the required motor torque calculation means <b>203</b> calculates the torque upper limit value T<sub>LIM </sub>as the required motor torque T<sub>REQ</sub>(=T<sub>LIM</sub>).</p>
<p id="p-0068" num="0074">Next, processing proceeds to step S<b>16</b>, and the required motor power calculation means <b>204</b> shown in <figref idref="DRAWINGS">FIG. 2</figref> calculates the required motor power based on the required motor torque T<sub>REQ</sub>. More specifically, a value determined by multiplying the rotating speed N by the required motor torque T<sub>REQ </sub>is calculated as the required motor power P<sub>M</sub>(=N&#xd7;T<sub>REQ</sub>).</p>
<p id="p-0069" num="0075">Next, processing proceeds to step S<b>17</b>, and the required generated power calculation means <b>205</b> calculates the required generated power P<sub>FC </sub>of the fuel cell based on the required motor power P<sub>M</sub>. More specifically, a value determined by adding the calculated required motor power P<sub>M </sub>and the high-voltage auxiliary device power P<sub>AUX </sub>required by the high-pressure auxiliary device <b>19</b> is calculated as the required generated power P<sub>FC</sub>.</p>
<p id="p-0070" num="0076">Furthermore, in the case it has been determined in step S<b>10</b> that it is not time to execute control (NO), control processing is not executed and processing ends.</p>
<p id="p-0071" num="0077">Subsequently, the control device <b>20</b> determines the output voltage V<sub>FC </sub>to enable the fuel cell <b>10</b> to output the required generated power based on the I-V characteristics of the fuel cell <b>10</b>, and outputs the command C<sub>VFC </sub>for controlling to this output voltage V<sub>FC </sub>to the first converter <b>11</b>. As a result of this processing, neither a surplus or shortage of generated power corresponding to the required generated power P<sub>FC </sub>is output from the fuel cell <b>10</b>. Since this generated power is equal to the electrical power consumed by the motor <b>15</b> that has undergone torque upper limit processing, the occurrence of a surplus of electrical power is inhibited.</p>
<p id="p-0072" num="0078">(Advantages of the First Embodiment)</p>
<p id="p-0073" num="0079">The following advantages are obtained according to the first embodiment.
<ul id="ul0003" list-style="none">
    <li id="ul0003-0001" num="0080">(1) According to the first embodiment, in the case of calculating the required output torque T<sub>ACC </sub>based on the accelerator depression amount that has been input as an output requirement, the torque upper limit value T<sub>LIM </sub>is calculated based on the inverter input voltage V<sub>INV</sub>, and the required motor torque T<sub>ACC </sub>is calculated so as not exceed this torque upper limit value T<sub>LIM</sub>. The required generated power P<sub>FC </sub>of the fuel cell <b>10</b> is calculated based on the required motor torque T<sub>REQ </sub>that has undergone upper limit processing with the torque upper limit value T<sub>LIM</sub>. Consequently, even if the accelerator depression amount Acc requires torque equal or greater than the torque upper limit value T<sub>LIM</sub>, under circumstances such that the motor <b>15</b> can only be driven up to the torque upper limit value T<sub>LIM</sub>, a required generated power P<sub>FC </sub>is generated that matches the power able to be consumed by the motor <b>15</b> driven at the torque upper limit value T<sub>LIM</sub>. Accordingly, problems resulting from the generation of surplus power unable to be completely consumed by the motor <b>15</b> can be avoided.</li>
    <li id="ul0003-0002" num="0081">(2) According to the first embodiment, since the required output torque T<sub>ACC </sub>is calculated based on the accelerator depression amount Acc and the rotating speed N of the motor <b>15</b>, it is suitable for a fuel cell system <b>100</b> installed in a vehicle.</li>
    <li id="ul0003-0003" num="0082">(3) According to the first embodiment, since the torque upper limit value T<sub>LIM </sub>is stored corresponding to the inverter input voltage V<sub>INV</sub>, the motor rotating speed N and the accelerator depression amount Acc, a suitable torque upper limit value T<sub>LIM </sub>can be determined.</li>
    <li id="ul0003-0004" num="0083">(4) According to the first embodiment, since the torque upper limit value T<sub>LIM </sub>is calculated to be the required motor torque T<sub>REQ </sub>in the case the required output torque T<sub>ACC </sub>exceeds the torque upper limit value T<sub>RIM</sub>, the required motor torque T<sub>REQ </sub>can be made to actually conform to the torque generated by the motor <b>15</b>.</li>
    <li id="ul0003-0005" num="0084">(5) According to the first embodiment, since the required generated power P<sub>FC </sub>is determined by adding high-voltage auxiliary device power P<sub>AUX </sub>consumed by the high-voltage auxiliary device <b>19</b> to the required motor power P<sub>M</sub>, the required generated power P<sub>FC </sub>can be calculated that reflects a suitable electrical power balance.</li>
</ul>
</p>
<p id="p-0074" num="0085">(Second Embodiment)</p>
<p id="p-0075" num="0086">The second embodiment relates to a control method of the fuel cell system <b>100</b> that takes into consideration voltage control response characteristics of the inverter <b>14</b>.</p>
<p id="p-0076" num="0087">Since the second embodiment is similar to the above-mentioned first embodiment explained based on <figref idref="DRAWINGS">FIG. 1</figref> with respect to the configuration of the fuel cell system <b>100</b>, the same reference symbols are used and an explanation thereof is omitted.</p>
<p id="p-0077" num="0088"><figref idref="DRAWINGS">FIG. 7</figref> is a functional block diagram for controlling the fuel cell system <b>100</b> that is realized functionally by the control device <b>20</b> in the second embodiment. These function blocks are realized functionally by the control device <b>20</b> calling up a program that executes control processing according to the present invention (see <figref idref="DRAWINGS">FIG. 9</figref>) either regularly or irregularly.</p>
<p id="p-0078" num="0089">Furthermore, the configuration of the function blocks shown in <figref idref="DRAWINGS">FIG. 7</figref> is divided according to function for the sake of convenience, and functions are not necessarily required to be separated as shown in <figref idref="DRAWINGS">FIG. 7</figref>. Function blocks differing from those shown in <figref idref="DRAWINGS">FIG. 7</figref> may also be provided as long as the configuration is able to control the output voltage V<sub>FC </sub>of the fuel cell <b>10</b> based on the inputs listed in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0079" num="0090">As shown in <figref idref="DRAWINGS">FIG. 7</figref>, the control device <b>20</b> is configured by being provided with function blocks consisting of the required output torque calculation means <b>201</b>, the torque upper limit value calculation means <b>202</b>, the required motor torque calculation means <b>203</b>, the required motor power calculation means <b>204</b>, the required generated power calculation means <b>205</b> and addition means <b>206</b>. Since the required output torque calculation means <b>201</b>, the torque upper limit value calculation means <b>202</b>, the required motor torque calculation means <b>203</b>, the required motor power calculation means <b>204</b> and the required generated power calculation means <b>205</b> are the same as explained for the above-mentioned first embodiment, an explanation thereof is omitted.</p>
<p id="p-0080" num="0091">In particular, the second embodiment differs from the above-mentioned first embodiment with respect to being provided with the addition means <b>206</b>. This addition means <b>206</b> is a function block for adding the input voltage V<sub>INV </sub>of the inverter <b>14</b> to a voltage offset &#x394;V derived from voltage control response characteristics of the second converter <b>12</b>. Namely, the torque upper limit value calculation means <b>202</b> is characterized by being input with the sum of the inverter input voltage V<sub>INV </sub>and the offset voltage &#x394;V (=V<sub>INV</sub>+&#x394;V). The technical significance of adding the offset voltage &#x394;V based on the voltage control response characteristics of the second converter <b>12</b> to the inverter input voltage V<sub>INV </sub>is explained below based on <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0081" num="0092"><figref idref="DRAWINGS">FIG. 8</figref> shows a timing chart for explaining response characteristics of the accelerator depression amount Acc, the inverter input voltage V<sub>INV </sub>and the required motor torque T<sub>REQ</sub>. <figref idref="DRAWINGS">FIG. 8</figref> indicates response control in the case of the control cycle Tint relating to control of the fuel cell system <b>100</b> arriving at times t<b>1</b>, t<b>2</b> and t<b>3</b> in that order.</p>
<p id="p-0082" num="0093">An accelerator depression amount Acc<b>1</b> is assumed to be input for the accelerator depression amount Acc until the time t<b>1</b>. In accommodation thereof, an inverter input voltage V<sub>INV</sub><b>1</b> is output from the second converter <b>12</b> for the inverter input voltage V<sub>INV</sub>, and a required motor torque T<sub>REQ</sub><b>1</b> is output for the required motor torque T<sub>REQ</sub>.</p>
<p id="p-0083" num="0094">At the current time t<b>2</b>, the accelerator is assumed to be depressed and the accelerator depression amount Acc is assumed to have changed from Acc<b>1</b> to Acc<b>2</b>. As has been previously explained in the first embodiment, in the case the accelerator depression amount Acc has changed, the required output torque calculation means <b>201</b> shown in <figref idref="DRAWINGS">FIG. 7</figref> changes the required output torque T<sub>ACC</sub>, and the required motor torque calculation means <b>203</b> changes the required motor torque T<sub>REQ</sub>.</p>
<p id="p-0084" num="0095">Here, the second converter <b>12</b> serving as the actuating device generates a control delay corresponding to prescribed output response characteristics extending from the time the command C<sub>VINV </sub>is designated as a command value that causes the required inverter input voltage V<sub>INV </sub>to be output until the time that command value is reflected in the output voltage. For example, in the example shown in <figref idref="DRAWINGS">FIG. 8</figref>, in response to the accelerator depression amount Acc having changed from Acc<b>1</b> to Acc<b>2</b>, the command C<sub>VINV </sub>is ordered to the second converter <b>12</b> at the time t<b>2</b> so as to change the inverter input voltage V<sub>INV </sub>from V<sub>INV</sub><b>1</b> to V<sub>INV</sub><b>2</b>. After having received this command, the second converter <b>12</b> changes the output voltage thereof starting at the time t<b>2</b>. The response characteristic of this output voltage is, for example, a linear change. Here, an output response characteristic V<sub>0</sub>(t) of the second converter <b>12</b> can be approximated with, for example, the relational expression of equation (4) when the time t<b>2</b> is taken to be the starting point.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>0</sub>(<i>t</i>)=&#x394;<i>V&#xb7;t</i>/Tint+<i>V</i><sub>INV</sub><b>1</b> &#x2003;&#x2003;(4)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
The output response characteristic V<sub>0</sub>(t) shown in equation (4) is a response characteristic such that the voltage changes by &#x394;V when the control cycle Tint has elapsed. Namely, the input voltage of the inverter <b>14</b> increases by &#x394;V each time an amount of time equivalent to the control cycle Tint elapses. When the required inverter input voltage V<sub>INV</sub><b>2</b> is reached, the input voltage V<sub>INV </sub>of the inverter <b>14</b> becomes a constant value (V<sub>INV</sub><b>2</b>).
</p>
<p id="p-0085" num="0096">Since the second converter <b>12</b> has output response characteristics as described above, even if the command C<sub>VINV</sub>, which changes the required output voltage (=V<sub>IN</sub>) of the second converter <b>12</b> in response to a change in the accelerator depression amount Acc, is transmitted, the change in the input voltage of the inverter <b>14</b> does not occur instantaneously. Accordingly, the inverter input voltage V<sub>INV </sub>that is input to the torque upper limit value calculation means <b>202</b> shown in <figref idref="DRAWINGS">FIG. 7</figref> in order to calculate the torque upper limit value T<sub>LIM </sub>does not change from the input voltage V<sub>INV </sub>of the inverter <b>14</b> at the time immediately prior to execution of control. Namely, as shown in <figref idref="DRAWINGS">FIG. 8</figref>, the input voltage of the inverter <b>14</b> input to the torque upper limit value calculation means <b>202</b> at the time t<b>2</b> remains at nearly V<sub>INV</sub><b>1</b> (=V<sub>0</sub>(t<b>2</b>)).</p>
<p id="p-0086" num="0097">Here, due to the delay attributable to the output response characteristics V<sub>0</sub>(t) of the second converter <b>12</b> as described above and electrical power generation response characteristics of the fuel cell <b>10</b>, the required generated power P<sub>FC </sub>calculated by the control device <b>20</b> at the time t<b>2</b> is actually reflected at the time t<b>3</b>. Accordingly, the required generated power P<sub>FC </sub>to be calculated at the time t<b>2</b> must be calculated based on the torque upper limit value T<sub>LIM </sub>presumed to exist at the time t<b>3</b>. Consequently, in order to determine the correct torque upper limit value T<sub>LIM </sub>at the time t<b>3</b>, the input voltage of the inverter <b>14</b> input at the time t<b>3</b> (=V<sub>0</sub>(t<b>3</b>)=V<sub>INV</sub><b>1</b>+&#x394;V) must be input to the torque upper limit value calculation means <b>202</b> at the time t<b>2</b>.</p>
<p id="p-0087" num="0098">Therefore, in the second embodiment, an offset voltage &#x394;V presumed to be generated from the response characteristic V<sub>0</sub>(t) of the second converter <b>12</b> after the control cycle Tint has elapsed is preliminarily added to the input voltage V<sub>INV </sub>of the inverter <b>14</b> by the addition means <b>206</b> of <figref idref="DRAWINGS">FIG. 7</figref> followed by input to the torque upper limit value calculation means <b>202</b>. The voltage input to the torque upper limit value calculation means <b>202</b> corresponds to V<sub>1</sub>(t) of equation (5).
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>1</sub>(<i>t</i>)=<i>V</i><sub>0</sub>(<i>t</i>) +&#x394;<i>V </i>&#x2003;&#x2003;(<sup>5</sup>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0088" num="0099">In the case processing is not executed in this manner, the required motor torque T<sub>REQ </sub>calculated by the required motor torque calculation means <b>203</b> changes in the manner indicated by T<sub>0</sub>(t) of <figref idref="DRAWINGS">FIG. 8</figref>. In the second embodiment, since the required motor torque T<sub>REQ </sub>is calculated based on the offset voltage &#x394;V of the output voltage presumed to be generated after the control cycle Tint has elapsed as previously described, the required motor torque T<sub>REQ </sub>as indicated by T<sub>1</sub>(t) of <figref idref="DRAWINGS">FIG. 8</figref> is calculated as the calculated value. Furthermore, T<sub>ACC </sub>is the required motor torque T<sub>REQ </sub>in the case of assuming that a delay attributable to output response characteristics does not occur.</p>
<p id="p-0089" num="0100">Next, an explanation is provided of control processing of the fuel cell system <b>100</b> of the second embodiment realized with the above-mentioned function blocks with reference to the flow chart of <figref idref="DRAWINGS">FIG. 9</figref>. The following control processing is a processing set that is repeatedly executed at regular or irregular intervals. For example, in the present embodiment, a program that executes control processing as shown in <figref idref="DRAWINGS">FIG. 9</figref> is called up within the control device <b>20</b> for each prescribed control cycle Tint.</p>
<p id="p-0090" num="0101">In step S<b>20</b>, the control device <b>20</b> determines whether or not it is time to execute control according to the control cycle Tint. As a result of that determination, in the case a time for executing control has arrived (YES), the required output torque calculations means <b>201</b> shown in <figref idref="DRAWINGS">FIG. 7</figref> proceeds to step S<b>21</b> and calculates the required output torque T<sub>ACC </sub>based on the accelerator depression amount Acc indicated by the accelerator depression amount signal S<sub>ACC </sub>and the motor rotating speed N indicated by the rotating speed signal S<sub>N </sub>in the same manner as step S<b>11</b> of <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0091" num="0102">Next, processing proceeds to step S<b>22</b>, and the addition means <b>206</b> shown in <figref idref="DRAWINGS">FIG. 7</figref> inputs the input voltage V<sub>INV </sub>of the inverter <b>14</b>. In addition, the addition means <b>206</b> inputs the offset voltage &#x394;V determined according to the preliminarily measured output response characteristic V<sub>0</sub>(t) of the second converter <b>12</b> (see equation (4)). A voltage value obtained by adding the detected input voltage V<sub>INV </sub>of the inverter <b>14</b> and the presumed offset voltage &#x394;V is then output to the torque upper limit value calculation means <b>202</b>.</p>
<p id="p-0092" num="0103">Next, processing proceeds to step S<b>23</b>, and the torque upper limit value calculation means <b>202</b> shown in <figref idref="DRAWINGS">FIG. 7</figref> refers to a data table or relational expression indicating N-T characteristics as shown in <figref idref="DRAWINGS">FIG. 4</figref> in the same manner as step S<b>12</b> in <figref idref="DRAWINGS">FIG. 6</figref>. The torque upper limit value calculation means <b>202</b> then specifies the torque upper limit value characteristic T<sub>LIM</sub>(Acc) corresponding to the accelerator depression amount Acc, and calculates the torque upper limit value T<sub>LIM </sub>corresponding to the motor rotating speed N from the N-T characteristics. At this time, the N-T characteristics that are referred to are the N-T characteristics in the case the inverter input voltage is V<sub>INV</sub>+&#x394;V.</p>
<p id="p-0093" num="0104">Next, in step S<b>24</b>, the required motor torque calculation means <b>203</b> shown in <figref idref="DRAWINGS">FIG. 7</figref> compares the calculated required output torque T<sub>ACC </sub>and torque upper limit value T<sub>LIM </sub>in the same manner as step S<b>13</b> in <figref idref="DRAWINGS">FIG. 6</figref>. As a result of comparison, in the case the required output torque T<sub>ACC </sub>is equal to or less than the torque upper limit value T<sub>LIM </sub>(YES), processing proceeds to step S<b>25</b>, and the required motor torque calculation means <b>203</b> calculates the required output torque T<sub>ACC </sub>as the required motor torque T<sub>REQ </sub>(=T<sub>ACC</sub>). On the other hand, in the case the required output torque T<sub>ACC </sub>exceeds the torque upper limit value T<sub>LIM </sub>as a result of the above-mentioned comparison (NO), processing proceeds to step S<b>26</b> and the required motor torque calculation means <b>203</b> calculates the torque upper limit value T<sub>LIM </sub>as the required motor torque T<sub>REQ</sub>(=T<sub>LIM</sub>).</p>
<p id="p-0094" num="0105">Next, processing proceeds to step S<b>27</b>, and the required motor power calculation means <b>204</b> shown in <figref idref="DRAWINGS">FIG. 7</figref> calculates the required motor power based on the required motor torque T<sub>REQ </sub>in the same manner as step S<b>16</b> of <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0095" num="0106">Next, processing proceeds to step S<b>28</b>, and the required generated power calculation means <b>205</b> shown in <figref idref="DRAWINGS">FIG. 7</figref> calculates the required generated power P<sub>FC </sub>of the fuel cell based on the required motor power P<sub>M </sub>in the same manner as step S<b>17</b> of <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0096" num="0107">Furthermore, in the case it has been determined in step S<b>20</b> that it is not time to execute control (NO), control processing is not executed and processing ends.</p>
<p id="p-0097" num="0108">Subsequently, the control device <b>20</b> determines the output voltage V<sub>FC </sub>to enable the fuel cell <b>10</b> to output the required generated power based on the I-V characteristics of the fuel cell <b>10</b>, and outputs the command C<sub>VFC </sub>for controlling to this output voltage V<sub>FC </sub>to the first converter <b>11</b>.</p>
<p id="p-0098" num="0109">According to the second embodiment as previously described, even in the case a delay derived from output response characteristics has occurred in the second converter <b>12</b> and the like, neither a surplus or shortage of generated power corresponding to the required generated power P<sub>FC </sub>is output from the fuel cell <b>10</b>. Since this generated power is equal to the electrical power consumed by the motor <b>15</b> that has undergone torque upper limit processing, the occurrence of a surplus of electrical power is inhibited.</p>
<p id="p-0099" num="0110">(Variations)</p>
<p id="p-0100" num="0111">The present invention is not limited to the above-mentioned embodiments, but rather can also be suitably modified prior to application within a range that does not conflict with the gist of the present invention.</p>
<p id="p-0101" num="0112">For example, although the present invention was applied to the fuel cell system <b>100</b> provided with the first converter <b>11</b>, the second converter <b>12</b> and the inverter <b>14</b> in the above-mentioned embodiments, the present invention is not limited thereto. The present invention can also be applied to a fuel cell system provided with one DC-DC converter or three or more DC-DC converters.</p>
<p id="p-0102" num="0113">In addition, the motor <b>15</b> may also enable direct current driving, allowing the present invention to also be applied to a fuel cell system not requiring the inverter <b>14</b>. Such a fuel cell system may be used by detecting the input voltage of the motor <b>15</b> instead of the input voltage of the inverter.</p>
<p id="p-0103" num="0114">In addition, the motor <b>15</b> is not necessarily required to be a motor for vehicle driving. The present invention can be applied to any motor provided it is a motor that has an upper limit on torque generated corresponding to drive voltage.</p>
<p id="p-0104" num="0115">In addition, although the accelerator (gas pedal) depression amount Acc was input as an output requirement in the above-mentioned embodiments, the present invention is not limited thereto. For example, in the case of a mounted fuel cell system, there may be no operating means present that is equivalent to an accelerator. Such a system may be configured so as to use information relating to an output requirement other than an accelerator.</p>
<p id="h-0011" num="0000">Industrial Applicability</p>
<p id="p-0105" num="0116">The fuel cell system and control method thereof of the present invention is not limited to a vehicle, but rather can be applied by installing in another type of moving body. Examples of applicable moving bodies include trains, ships, aircraft and submarines. In addition, the fuel cell system and control method thereof of the present invention are not limited to application to moving bodies in the manner of a vehicle, but rather can also be applied to stationary power supply systems and portable power supply systems.</p>
<p id="h-0012" num="0000">Reference Signs List</p>
<p id="p-0106" num="0117"><b>10</b>: fuel cell, <b>11</b>: first converter, <b>12</b>: second converter, <b>13</b>: battery, <b>14</b>: inverter, <b>15</b>: motor, <b>16</b>: differential, <b>17</b>: tire, <b>18</b>: auxiliary inverter, <b>19</b>: high-voltage auxiliary device, <b>20</b>: control device, <b>21</b>: accelerator pedal sensor, <b>22</b>: sensor group, <b>23</b>: rotating speed sensor, <b>100</b>: fuel cell system, <b>201</b>: required output torque calculation means, <b>202</b>: torque upper limit value calculation means, <b>203</b>: required motor torque calculation means, <b>204</b>: required motor power calculation means, <b>205</b>: required generated power calculation means, <b>206</b>: addition means, Acc: accelerator depression amount, N: motor rotating speed, P<sub>AUX</sub>: high-voltage auxiliary device power, P<sub>FC</sub>: required generated power, P<sub>M</sub>: required motor power, S<sub>ACC</sub>: accelerator depression amount signal, S<sub>N</sub>: rotating speed signal, S<sub>Vd</sub>: drive voltage signal, T: torque, T<sub>ACC</sub>: required output torque, Tint: control cycle, T<sub>LIM</sub>: torque upper limit value, T<sub>REQ</sub>: required motor torque, V<sub>BAT</sub>: output voltage, Vd: drive voltage, Vd<b>2</b>: drive voltage, V<sub>FC</sub>: output voltage, V<sub>FC</sub>: target output voltage, V<sub>INV</sub>: inverter <b>14</b> input voltage, &#x394;V: offset voltage</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>I claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A control method of a fuel cell system provided with:
<claim-text>a fuel cell;</claim-text>
<claim-text>a motor connected to enable generated power from the fuel cell to be supplied thereto; an inverter connected to the motor; and</claim-text>
<claim-text>a converter that sets an input voltage of the inverter,</claim-text>
<claim-text>the method comprising the steps of:</claim-text>
<claim-text>calculating, by a required output torque calculation device, a required motor output torque based on an output requirement;</claim-text>
<claim-text>calculating, by a torque upper limit value calculation device, a torque upper limit value of torque able to be generated by the motor;</claim-text>
<claim-text>comparing, by a required motor torque calculation device, the required output torque and the torque upper limit value and calculating the required output torque as a required motor torque in the case the required output torque is equal to or less than the torque upper limit value while calculating the torque upper limit value as the required motor torque in the case the required output torque exceeds the torque upper limit value;</claim-text>
<claim-text>calculating, by a required motor power calculation device, a required motor power based on the required motor torque; and</claim-text>
<claim-text>calculating, by a required generated power calculation device, a required generated power of the fuel cell based on the required motor power,</claim-text>
<claim-text>the torque upper limit value being calculated based on a sum obtained by adding an offset voltage based on voltage control response characteristics of the converter to the input voltage of the inverter.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A fuel cell system, comprising:
<claim-text>a fuel cell;</claim-text>
<claim-text>a motor connected to enable generated power from the fuel cell to be supplied thereto;</claim-text>
<claim-text>an inverter connected to the motor; and</claim-text>
<claim-text>a converter that sets an input voltage of the inverter,</claim-text>
<claim-text>the fuel cell system further comprising:</claim-text>
<claim-text>a required output torque calculation device that calculates a required motor output torque based on an output requirement;</claim-text>
<claim-text>a torque upper limit value calculation device that calculates a torque upper limit value of torque able to be generated by the motor;</claim-text>
<claim-text>a required motor torque calculation device that compares the required output torque and the torque upper limit value and calculates the required output torque as a required motor torque in the case the required output torque is equal to or less than the torque upper limit value while calculating the torque upper limit value as the required motor torque in the case the required output torque exceeds the torque upper limit value;</claim-text>
<claim-text>a required motor power calculation device that calculates a required motor power based on the required motor torque; and</claim-text>
<claim-text>a required generated power calculation device that calculates a required generated power of the fuel cell based on the required motor power,</claim-text>
<claim-text>the torque upper limit value calculation device calculating the torque upper limit value based on a sum obtained by adding an offset voltage based on voltage control response characteristics of the converter to the input voltage of the inverter.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The fuel cell system according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein
<claim-text>the torque upper limit value calculation device calculates the torque upper limit value based on the sum and a rotating speed of the motor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The fuel cell system according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein
<claim-text>the required output torque calculation device calculates the required output torque based on an accelerator depression amount and a rotating speed of the motor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The fuel cell system according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein
<claim-text>the required generated power calculation device calculates the required generated power of the fuel cell by adding the required motor power and a required power of a load device other than the motor.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
