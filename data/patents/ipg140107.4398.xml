<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625471-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625471</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12205670</doc-number>
<date>20080905</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>614</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>B</subclass>
<main-group>7</main-group>
<subgroup>005</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>B</subclass>
<main-group>1</main-group>
<subgroup>44</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370278</main-classification>
<further-classification>370282</further-classification>
</classification-national>
<invention-title id="d2e53">System and method for carrier deferral for full duplex energy efficient ethernet PHYs</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6029202</doc-number>
<kind>A</kind>
<name>Frazier et al.</name>
<date>20000200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6711691</doc-number>
<kind>B1</kind>
<name>Howard et al.</name>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713300</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2005/0163150</doc-number>
<kind>A1</kind>
<name>Yang et al.</name>
<date>20050700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370445</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2006/0077995</doc-number>
<kind>A1</kind>
<name>Lenell</name>
<date>20060400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370412</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2006/0182080</doc-number>
<kind>A1</kind>
<name>Yang et al.</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370347</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2008/0037467</doc-number>
<kind>A1</kind>
<name>Diepstraten et al.</name>
<date>20080200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370330</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2009/0077395</doc-number>
<kind>A1</kind>
<name>Tsai</name>
<date>20090300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713310</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2011/0249674</doc-number>
<kind>A1</kind>
<name>Chang et al.</name>
<date>20111000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370392</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00009">
<othercit>Dove, Energy Efficient Ethernet Switching Perspective, Jan. 2008, IEEE 802.3az Interim Meeting, Dove Networking Solutions for ProCurve Networking by HP.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00010">
<othercit>Healey et al., 1000BASE-T Low-Power Idle, Jan. 2008, IEEE P802.3az Task Force Meeting, LSI Corporation.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00011">
<othercit>Hays et al., Active/Idle Toggling with Low-Power Idle, Jan. 2008, IEEE 802.3az Task Force, Intel Corporation.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00012">
<othercit>Dove, Dan, Energy Efficient Ethernet Switching Perspective, Jan. 2008, IEEE 802.az Interim Meeting, Dove Networking Solutions for ProCurve Networking by HP.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
</us-references-cited>
<number-of-claims>19</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>370276</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>5</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61028217</doc-number>
<date>20080213</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20090201837</doc-number>
<kind>A1</kind>
<date>20090813</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Diab</last-name>
<first-name>Wael William</first-name>
<address>
<city>San Francisco</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Frazier</last-name>
<first-name>Howard</first-name>
<address>
<city>Pleasanton</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Diab</last-name>
<first-name>Wael William</first-name>
<address>
<city>San Francisco</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Frazier</last-name>
<first-name>Howard</first-name>
<address>
<city>Pleasanton</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Kobayashi</last-name>
<first-name>Duane S.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Broadcom Corporation</orgname>
<role>02</role>
<address>
<city>Irvine</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Thier</last-name>
<first-name>Michael</first-name>
<department>2474</department>
</primary-examiner>
<assistant-examiner>
<last-name>Cox</last-name>
<first-name>Brian</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A system and method for carrier deferral for full duplex energy efficient Ethernet (EEE) physical layer devices (PHYs). A carrier deferral signal can be asserted to a media access control layer to indicate to the media access control (MAC) layer that transmission of data is to be deferred due to a power savings initiative in the physical layer device. In one example, the carrier deferral signal is used when a PHY is awakened by the MAC when the MAC has something to transmit. In another example, the carrier deferral signal is used when a PHY is switching link rates.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="135.55mm" wi="183.73mm" file="US08625471-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="158.41mm" wi="184.83mm" file="US08625471-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="148.42mm" wi="174.41mm" file="US08625471-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="144.95mm" wi="176.36mm" file="US08625471-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="147.49mm" wi="134.11mm" file="US08625471-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="144.02mm" wi="121.75mm" file="US08625471-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<p id="p-0002" num="0001">This application claims priority to provisional application No. 61/028,217, filed Feb. 13, 2008, which is incorporated by reference herein, in its entirety, for all purposes.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The present invention relates generally to Ethernet systems and, more particularly, to a system and method for carrier deferral for full duplex energy efficient Ethernet (EEE) physical layer devices (PHYs).</p>
<p id="p-0005" num="0004">2. Introduction</p>
<p id="p-0006" num="0005">Energy costs continue to escalate in a trend that has accelerated in recent years. Such being the case, various industries have become increasingly sensitive to the impact of those rising costs. One area that has drawn increasing scrutiny is the IT infrastructure. Many companies are now looking at their IT systems' power usage to determine whether the energy costs can be reduced. For this reason, an industry focus on energy efficient networks has arisen to address the rising costs of IT equipment usage as a whole (i.e., PCs, displays, printers, servers, network equipment, etc.).</p>
<p id="p-0007" num="0006">In designing an energy efficient solution, one of the considerations is the traffic profile on the network link. For example, many network links are typically in an idle state between sporadic bursts of data, while in other network links, there can be regular or intermittent low-bandwidth traffic, with bursts of high-bandwidth traffic. An additional consideration for an energy efficient solution is the extent to which the traffic is sensitive to buffering and latency. For example, some traffic patterns (e.g., HPC cluster or high-end 24-hr data center) are very sensitive to latency such that buffering would be problematic. For these and other reasons, applying energy efficient concepts to different traffic profiles would lead to different solutions. These varied solutions can therefore seek to adapt the link, link rate, and layers above the link to an optimal solution based on various energy costs and impact on traffic, which itself is dependent on the application.</p>
<p id="p-0008" num="0007">One example of an EEE solution is a low power idle (LPI) mode. In general, LPI relies on turning the active channel silent when there is nothing to transmit. Energy is thereby saved when the link is off. Under common traffic scenarios, the remote side of the link will exhibit a high bit error rate (BER) when the physical layer device emerges out of LPI mode. What is needed therefore is a mechanism that enables the physical layer device to quickly emerge from a deep-sleep state without having an adverse impact on the BER.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0002" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0009" num="0008">In order to describe the manner in which the above-recited and other advantages and features of the invention can be obtained, a more particular description of the invention briefly described above will be rendered by reference to specific embodiments thereof which are illustrated in the appended drawings. Understanding that these drawings depict only typical embodiments of the invention and are not therefore to be considered limiting of its scope, the invention will be described and explained with additional specificity and detail through the use of the accompanying drawings in which:</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 1</figref> illustrates an example of an end-to-end link that enables EEE functionality.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 2</figref> illustrates an example of a controller.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 3</figref> illustrates an example of a switch.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a flowchart of a process of carrier deferral for full duplex low power idle physical layer devices.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a flowchart of an EEE process that uses carrier deferral.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0015" num="0014">A system and method for carrier deferral for full duplex energy efficient Ethernet (EEE) physical layer devices (PHYs), substantially as shown in and/or described in connection with at least one of the figures, as set forth more completely in the claims.</p>
<heading id="h-0004" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0016" num="0015">Various embodiments of the invention are discussed in detail below. While specific implementations are discussed, it should be understood that this is done for illustration purposes only. A person skilled in the relevant art will recognize that other components and configurations may be used without parting from the spirit and scope of the invention.</p>
<p id="p-0017" num="0016">Ethernet has become an increasingly pervasive technology that has been applied in various contexts such as twisted pair and backplane. IEEE 802.3az Energy Efficient Ethernet (EEE) continues to evaluate various methods for reducing energy used during periods of low link utilization. In this process, a protocol would be defined that would facilitate transition to and from lower power consumption modes in response to changes in network demand.</p>
<p id="p-0018" num="0017">As noted, one of the protocols being considered is a low power idle (LPI) mode. In this mode, the active channel is turned silent, thereby saving energy. When a physical layer device (PHY) emerges out of a deep-sleep state in the LPI mode to accommodate the transmission of data, it is important that the PHY reacquire synchronization with the other end of the link. As part of this process, for example, the settings for the cancellers (e.g., echo, NEXT, FEXT, etc.) may need to be updated or reacquired/retrained. In the case of 100BASE-TX (Full Duplex) that utilize free running scramblers, an effective process of waking up from a deep-sleep state in the LPI mode would require seven to eight bytes (i.e., 60 clean idle bits) for both ends to acquire synchronization. If both sides of the link are not properly synchronized, then the BER would be driven higher.</p>
<p id="p-0019" num="0018">In general, the BER can take a long time to stabilize as the PHYs transition out of the LPI mode into an active mode. For cases such as 100BASE-TX, the need for an initial transmission of 60 clean idle bits has multiple effects. First, it increases the wake time from the deep sleep/LPI state. Second, and more importantly, it requires the MAC to hold off transmission of the frames until enough clean idle bits have been sent to the other side.</p>
<p id="p-0020" num="0019">One possibility for accommodating the need to hold off transmission is to require buffering in the PHY to allow for the transmission of the clean idle bits. Unfortunately, this buffering option unnecessarily complicates the PHY implementation in supporting LPI as modern 802.3 PHYs are not specified to provide buffering. Moreover, the inclusion of buffering in the PHY would incur additional latency, which could be a significant issue for latency-sensitive traffic.</p>
<p id="p-0021" num="0020">In accordance with the present invention, the transmission of the clean idle bits can be accommodated without requiring any buffering in the PHY or any modification of the MAC. The later benefit is significant in the EEE framework because it enables an EEE PHY to be coupled to existing legacy MACs. In other words, an EEE PHY can switch into and out of a deep-sleep state LPI mode whether or not the MAC to which it is coupled supports EEE PHYs. This feature is significant when considering the large market of controller or switch chips that integrate a MAC. EEE benefits can therefore accrue to existing legacy devices without requiring an overhaul of the entire device.</p>
<p id="p-0022" num="0021">To illustrate these features of the present invention, reference is now made to the example end-to-end link of <figref idref="DRAWINGS">FIG. 1</figref>. As illustrated, server <b>110</b> is coupled to switch <b>120</b> by a link supported by EEE PHYs. <figref idref="DRAWINGS">FIG. 2</figref> illustrates one example of a controller such as that within server <b>110</b>. As would be appreciated, a controller can generally be part of a client (e.g., laptop, desktop or workstation), a server (e.g., audio-video (AV) server, high performance computing (HPC) server), or a consumer edge device (e.g., HDTV, Blueray, etc.). As illustrated, host system <b>220</b> is coupled to integrated Ethernet controller <b>210</b>. Ethernet controller <b>210</b> further includes EEE PHY <b>211</b>, which is coupled to MAC <b>212</b>. In the illustrated example, MAC <b>212</b> is coupled to PCI Express device <b>216</b> via memory controller <b>213</b>, which is also coupled to buffers <b>214</b> and processor <b>215</b>.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 3</figref> illustrates one example of a network switch. In various examples, switching system <b>300</b> can represent a router or any other device that incorporates multi-port switch functionality. In various examples, the switch can be a consumer, SMB, enterprise, metro, or access switch. In another example, switching system <b>300</b> can represent a voice over IP (VoIP) chip that has a network interface (Port <b>0</b>) and a PC interface (Port <b>1</b>). In yet another example, switching system <b>300</b> can represent a customer premise equipment (CPE) device in a service provider access network that can have an optical central office (CO) facing interface (Port <b>0</b>) and multiple interfaces (Ports <b>1</b>-N) that are facing the home and/or gateway (e.g., the CPE can simply be a media converter and/or part of the home gateway). Still further, switching system <b>300</b> can represent an access point such as a WLAN base station. As illustrated, switching system <b>300</b> includes switch <b>310</b> that supports a host connection (e.g., internal port) and a plurality of external ports <b>0</b>-N via MAC and EEE PHY interfaces. Switch <b>310</b> is also supported by buffers <b>320</b> and control <b>330</b>.</p>
<p id="p-0024" num="0023">In the illustration of <figref idref="DRAWINGS">FIG. 1</figref>, only a single direction of a full duplex is shown where transmitter (TX) <b>112</b> in server <b>110</b> transmits traffic to receiver (RX) <b>122</b> in switch <b>120</b>. As would be appreciated, the principles of the present invention can be applied to both directions of the link.</p>
<p id="p-0025" num="0024">It should also be noted that the principles of the present invention can also be applied to symmetric or asymmetric applications of EEE. In a symmetric application of EEE, both direction of the link would transition between various power consumption modes in a coordinated fashion. In an asymmetric application of EEE, the two directions of the link would transition between various power consumption modes independently.</p>
<p id="p-0026" num="0025">In the present invention, a coordinated control policy can be used to impact the operation of a PHY. In general, EEE mechanisms can touch a number of devices and software throughout the stack and across the link. In the example illustration of a link in <figref idref="DRAWINGS">FIG. 1</figref>, energy savings are sought to be effected in the link between the PHYs in the server and the switch. The control policy that governs the operation of the link between the PHYs can be implemented in one or more of the PHY, MAC, MAC control, MAC client, or higher layer in the server and/or switch. As would be appreciated, the particular mechanism by which the control policy is effected would be implementation dependent. The key, however, is the linkage of the control policy to the EEE savings that can be produced in transitioning the operation of the PHYs. In one example, a coordinated control policy can include the exchange of load information by the two ends of the link ahead of time. In other examples, the coordinated control policy can be designed to monitor subsystem states (e.g., PCI Express going to sleep), buffer level relative to a watermark, a rate of change of a traffic queue, etc.</p>
<p id="p-0027" num="0026">When the EEE control policy indicates that the EEE PHYs should enter into an LPI mode, the EEE PHYs enter into a deep-sleep state. As noted above, this can be a result of a multitude of trigger events. For example, the EEE PHY can enter into an LPI mode after the control policy above the MAC has determined that it wants to go into EEE mode, and that the PHY has been through an access into its register space. In another example, the EEE PHY can have enough intelligence and/or buffering to determine the trigger event. Regardless of the process by which the EE PHY enters into an LPI mode, the PHY can assert a carrier deferral signal to hold off the MAC.</p>
<p id="p-0028" num="0027">As noted, emerging from this deep-sleep state can lead to a rise in the BER. Reduction of this BER can be accomplished by a process such as that illustrated in <figref idref="DRAWINGS">FIG. 4</figref>. As illustrated, the process begins at step <b>402</b> where an EEE PHY awakens from a deep-sleep state in LPI mode. This awakening can be prompted, for example, by the MAC when it has something to transmit over the link.</p>
<p id="p-0029" num="0028">Next, at step <b>404</b>, the EEE PHY then asserts a carrier deferral signal (CRS) to the MAC layer. As illustrated in <figref idref="DRAWINGS">FIG. 1</figref>, the CRS is transmitted from PHY <b>112</b> to the MAC in server <b>110</b>. Conventionally, the CRS has been used in half-duplex links to alert a deference element in the MAC that the medium is occupied and that transmission must be deferred.</p>
<p id="p-0030" num="0029">In the context of the full-duplex link of the present invention, the CRS is used not to signal that the medium is occupied with incoming data, but that the transmission is deferred for the transmission of other outgoing data. This other outgoing data is the 60 clean idle bits that are used to enable synchronization in the free running scramblers. In <figref idref="DRAWINGS">FIG. 1</figref>, this deferral scenario is illustrated by the figurative break in the communication path between the MAC in server <b>110</b> and transmitter <b>112</b> in the EEE PHY. This transmission deferral is made in lieu of the completion of the transmission of a set of clean idle bits.</p>
<p id="p-0031" num="0030">After the CRS is asserted at step <b>404</b>, a determination is then made at step <b>406</b> as to whether enough clean idle bits have passed. If it is determined that not enough clean idle bits have passed, then the EEE PHY continues to assert the CRS to the MAC. After it is determined that enough clean idle bits have passed, then the PHY can deassert the CRS at step <b>408</b>. The deassertion of the CRS will then alert the MAC that the medium is ready for use for the transmission of data. The MAC can then proceed to send data to the EEE PHY for transmission at step <b>410</b>. While the above description was provided in the context of 100BASE-TX, it should be noted that the principles of the present invention can be applied to any PHY that has a free running scrambler that requires clean idle bits to synchronize.</p>
<p id="p-0032" num="0031">As has been described, the assertion and deassertion of the CRS leverages existing functionality in the PHY for half-duplex links. The receipt of such a signal by the MAC is therefore accommodated without requiring a modification to the MAC.</p>
<p id="p-0033" num="0032">To further illustrate the features of the present invention, reference is now made to the flowchart of <figref idref="DRAWINGS">FIG. 5</figref>. As illustrated, the process begins at step <b>502</b> where an EEE control policy indicates the need to transition to another power consumption mode. In one example, the transition can represent a transition into or out of an LPI mode, a transition in link rate up or down for subset PHYs, etc. As would be appreciated, the EEE control policy can be based on an analysis of various link-related parameters on either end of the link. Regardless of the particular EEE control policy that is utilized, the PHY is alerted of the indicated need to transition to another power consumption mode.</p>
<p id="p-0034" num="0033">Upon such an indication, the EEE PHY then sends a carrier deferral signal to the MAC, at step <b>504</b>, for the MAC to suspend transmission of traffic to the EEE PHY that originated the carrier deferral signal. Next, at step <b>506</b>, the EEE PHY then transitions to another power consumption mode.</p>
<p id="p-0035" num="0034">In general, the carrier deferral signal is used to hold off the MAC from transmitting anything. Effectively, from the MAC's perspective, when the carrier deferral signal is asserted it means that the medium is not available. Within the context of EEE, the carrier deferral signal can mean that the PHY itself is not available (e.g., due to the transmission of clean idle bits, transition in link rate, etc.). As would be appreciated, the specific timing between the assertion of the carrier deferral signal and the transition between various power consumption modes would be implementation dependent.</p>
<p id="p-0036" num="0035">Returning to the flow chart of <figref idref="DRAWINGS">FIG. 5</figref>, it is then determined at step <b>508</b> whether the transition by the EEE PHY is complete. If it is determined that the transmission by the EEE PHY is complete, then the EEE PHY would deassert the carrier deferral signal at step <b>510</b>. Upon such a deassertion, the MAC could then proceed to resume the previously suspended transmission of data to the PHY.</p>
<p id="p-0037" num="0036">As has been described, an EEE control policy can be used to trigger the generation of a carrier deferral signal, thereby leveraging existing flow control mechanisms in a unique manner. In an alternative embodiment, a software mechanism can be used to simulate the receipt of a EEE PHY generated carrier deferral signal. For example, if the MAC has a carrier deferral variable that is programmable, the software mechanism can &#x201c;fake&#x201d; the carrier deferral event and set the variable, thereby holding off the MAC. As such, the hardware carrier deferral signal mechanism need not actually be triggered to achieve the results that are effected in software. In a further embodiment, a PHY without the carrier deferral signal circuitry can be used with the software mechanism that simulates the receipt of a EEE PHY generated carrier deferral signal. It should also be noted that the principles of the present invention can be broadly applied to various contexts, such as in all PHYs that implement EEE (e.g., backplane, twisted pair, optical, etc.). Moreover, the principles of the present invention can be applied to standard or non-standard (e.g., 2.5 G, 5 G, etc.) link rates, as well as future link rates (e.g., 40 G, 100 G, etc.).</p>
<p id="p-0038" num="0037">These and other aspects of the present invention will become apparent to those skilled in the art by a review of the preceding detailed description. Although a number of salient features of the present invention have been described above, the invention is capable of other embodiments and of being practiced and carried out in various ways that would be apparent to one of ordinary skill in the art after reading the disclosed invention, therefore the above description should not be considered to be exclusive of these other embodiments. Also, it is to be understood that the phraseology and terminology employed herein are for the purposes of description and should not be regarded as limiting.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An energy efficient Ethernet method in a first physical layer device that is coupled to a second physical layer device via a transmission medium, comprising:
<claim-text>awakening said first physical layer device from a low power consumption mode into a higher power consumption mode;</claim-text>
<claim-text>asserting, by said first physical layer device, a carrier deferral signal from said awakened first physical layer device to a media access control layer device, said media access control layer device being directly coupled to said first physical layer device via an interface and being configured to recognize said carrier deferral signal as an indication that transmission of data by said media access control layer device is to be deferred due to an unavailability of said transmission medium used by said awakened first physical layer device; and</claim-text>
<claim-text>deasserting, by said first physical layer device, said carrier deferral signal after it is determined that a set of bits used for synchronization of said first and second physical layer device has been passed from said first physical layer device to said second physical layer device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said first physical layer device is a 100 BASE-TX physical layer device.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said low power consumption mode is a low power idle mode.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said asserting is simulated using software.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said asserting comprises setting a carrier deferral variable via software.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A method in a first physical layer device that is coupled to a second physical layer device via a transmission medium, comprising:
<claim-text>asserting, by said first physical layer device, a carrier deferral signal to a media access control layer device, said media access control layer device being directly coupled to said first physical layer device via an interface and being configured to recognize said carrier deferral signal as an indication that a transmission of a first stream of data by said media access control layer device is to be deferred due to an unavailability of a transmission medium used by said first physical layer device;</claim-text>
<claim-text>during said deferral by said media access control layer device, transmitting, by said first physical layer device, a second stream of data to said second physical layer device via said transmission medium; and</claim-text>
<claim-text>upon completion of said transmission of said second stream of data, deasserting, by said first physical layer device, said carrier deferral signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein said second stream of data includes bits that enable synchronization of said first and second physical layer devices.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein said asserting occurs after said first physical layer device has a transition in power consumption mode.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein said media access control layer device transmits said first stream of data to said first physical layer device upon said deassertion of said carrier deferral signal.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein said asserting is simulated using software.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein said asserting comprises setting a carrier deferral variable via software.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A network node, comprising:
<claim-text>a media access control layer device, said media access control layer device being configured to recognize a carrier deferral signal as an indication that a transmission of data by said media access control layer device is to be deferred due to an unavailability of a transmission medium; and</claim-text>
<claim-text>a first physical layer device that communicates with said media access control layer device via a directly coupled interface, said first physical layer device being coupled to a second physical layer device via said transmission medium, said first physical layer device being operative to assert a carrier deferral signal to said media access control layer device upon a power savings initiative in said first physical layer device, said power savings initiative including a transmission of data from said first physical layer device to said second physical layer device over said transmission medium while said carrier deferral signal is asserted, said first physical layer device also being operative to deassert said carrier deferral signal after it is determined that said transmission of data from said first physical layer device to said second physical layer device over said transmission medium is completed.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The network node of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein said power savings initiative is a transition in power consumption mode by said first physical layer device.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The network node of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein said first physical layer device is a twisted pair physical layer device.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The network node of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein said first physical layer device is a backplane physical layer device.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The network node of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein said first physical layer device is an optical physical layer device.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The network node of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein said first physical layer device operates at a standard link rate.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The network node of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein said first physical layer device operates at a non-standard link rate.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The network node of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein said first physical layer device operates at a 100 Gbit/s link rate.</claim-text>
</claim>
</claims>
</us-patent-grant>
