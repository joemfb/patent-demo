<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626893-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626893</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13162757</doc-number>
<date>20110617</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>93</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>173</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>709223</main-classification>
<further-classification>709224</further-classification>
<further-classification>709227</further-classification>
<further-classification>370328</further-classification>
<further-classification>370338</further-classification>
<further-classification>370332</further-classification>
<further-classification>370352</further-classification>
<further-classification>3402861</further-classification>
<further-classification>713323</further-classification>
</classification-national>
<invention-title id="d2e53">Application layer protocol support for sleeping nodes in constrained networks</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>8077015</doc-number>
<kind>B1</kind>
<name>Kammer et al.</name>
<date>20111200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>34028601</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>8249037</doc-number>
<kind>B2</kind>
<name>Bachmann et al.</name>
<date>20120800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370338</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2006/0002320</doc-number>
<kind>A1</kind>
<name>Costa-Requena et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2006/0014534</doc-number>
<kind>A1</kind>
<name>Costa-Requena et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2006/0075100</doc-number>
<kind>A1</kind>
<name>Stirbu</name>
<date>20060400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2008/0098241</doc-number>
<kind>A1</kind>
<name>Cheshire</name>
<date>20080400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2009/0046610</doc-number>
<kind>A1</kind>
<name>Yamaji</name>
<date>20090200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2010/0125744</doc-number>
<kind>A1</kind>
<name>Hong</name>
<date>20100500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713323</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2010/0208660</doc-number>
<kind>A1</kind>
<name>Ji</name>
<date>20100800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370328</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2011/0244792</doc-number>
<kind>A1</kind>
<name>Park et al.</name>
<date>20111000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455 39</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00011">
<othercit>Rahman et al., &#x201c;Sleeping and Multicast Considerations for CoAP: draft-rahman-core-sleeping-00.txt&#x201d;, CoRE Group, Internet Draft, Jun. 29, 2010, 1-16.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00012">
<othercit>Shelby et al., &#x201c;Constrained Application Protocol (CoAP): draft-ietf-core-coap-00&#x201d;, CoRE Working Group, Internet-Draft, Jun. 7, 2010, 1-31.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>16</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>709223</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709224</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709227</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370328</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370332</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370338</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370352</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>713323</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>30</number-of-drawing-sheets>
<number-of-figures>30</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61355679</doc-number>
<date>20100617</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61376468</doc-number>
<date>20100824</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61416915</doc-number>
<date>20101124</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120151028</doc-number>
<kind>A1</kind>
<date>20120614</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Lu</last-name>
<first-name>Guang</first-name>
<address>
<city>Dollard-des-Ormeaux</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Seed</last-name>
<first-name>Dale N.</first-name>
<address>
<city>Allentown</city>
<state>PA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Gauvreau</last-name>
<first-name>Jean-Louis</first-name>
<address>
<city>La Prairie</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
<us-applicant sequence="004" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Rahman</last-name>
<first-name>Shamim Akbar</first-name>
<address>
<city>Cote St. Luc</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Lu</last-name>
<first-name>Guang</first-name>
<address>
<city>Dollard-des-Ormeaux</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Seed</last-name>
<first-name>Dale N.</first-name>
<address>
<city>Allentown</city>
<state>PA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Gauvreau</last-name>
<first-name>Jean-Louis</first-name>
<address>
<city>La Prairie</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
<inventor sequence="004" designation="us-only">
<addressbook>
<last-name>Rahman</last-name>
<first-name>Shamim Akbar</first-name>
<address>
<city>Cote St. Luc</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Condo Roccia LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>InterDigital Patent Holdings, Inc.</orgname>
<role>02</role>
<address>
<city>Wilmington</city>
<state>DE</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Shin</last-name>
<first-name>Kyung H</first-name>
<department>2443</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Methods and systems providing application layer support for one or more sleeping nodes in constrained networks are contemplated. Embodiments contemplate inserting sleep information in a header option or payload of an application layer message. The application layer message may be conveyed in a hypertext transfer protocol (HTTP) or a constrained application protocol (CoAP). Embodiments contemplate communicating the application layer message to a server, which may serve as a caching and/or buffering proxy.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="121.84mm" wi="224.71mm" file="US08626893-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="203.12mm" wi="177.55mm" orientation="landscape" file="US08626893-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="219.20mm" wi="136.48mm" file="US08626893-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="249.26mm" wi="164.68mm" orientation="landscape" file="US08626893-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="228.77mm" wi="167.22mm" orientation="landscape" file="US08626893-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="236.47mm" wi="182.03mm" orientation="landscape" file="US08626893-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="223.69mm" wi="144.86mm" orientation="landscape" file="US08626893-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="237.74mm" wi="172.38mm" file="US08626893-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="225.55mm" wi="179.41mm" file="US08626893-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="224.28mm" wi="192.28mm" file="US08626893-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="185.17mm" wi="130.73mm" orientation="landscape" file="US08626893-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="186.35mm" wi="104.73mm" orientation="landscape" file="US08626893-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="195.41mm" wi="150.62mm" orientation="landscape" file="US08626893-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="182.63mm" wi="133.27mm" orientation="landscape" file="US08626893-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="199.90mm" wi="132.00mm" orientation="landscape" file="US08626893-20140107-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="203.79mm" wi="132.00mm" orientation="landscape" file="US08626893-20140107-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="159.60mm" wi="103.21mm" orientation="landscape" file="US08626893-20140107-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="221.06mm" wi="129.46mm" orientation="landscape" file="US08626893-20140107-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="213.36mm" wi="191.01mm" file="US08626893-20140107-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="220.47mm" wi="183.90mm" orientation="landscape" file="US08626893-20140107-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="230.72mm" wi="170.43mm" orientation="landscape" file="US08626893-20140107-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00021" num="00021">
<img id="EMI-D00021" he="228.09mm" wi="186.52mm" orientation="landscape" file="US08626893-20140107-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00022" num="00022">
<img id="EMI-D00022" he="236.47mm" wi="191.52mm" orientation="landscape" file="US08626893-20140107-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00023" num="00023">
<img id="EMI-D00023" he="237.74mm" wi="183.30mm" file="US08626893-20140107-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00024" num="00024">
<img id="EMI-D00024" he="235.20mm" wi="176.19mm" orientation="landscape" file="US08626893-20140107-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00025" num="00025">
<img id="EMI-D00025" he="243.50mm" wi="173.65mm" file="US08626893-20140107-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00026" num="00026">
<img id="EMI-D00026" he="232.58mm" wi="172.38mm" file="US08626893-20140107-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00027" num="00027">
<img id="EMI-D00027" he="230.72mm" wi="182.03mm" file="US08626893-20140107-D00027.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00028" num="00028">
<img id="EMI-D00028" he="234.53mm" wi="178.14mm" file="US08626893-20140107-D00028.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00029" num="00029">
<img id="EMI-D00029" he="229.45mm" wi="174.33mm" file="US08626893-20140107-D00029.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00030" num="00030">
<img id="EMI-D00030" he="234.53mm" wi="176.19mm" file="US08626893-20140107-D00030.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application claims the benefit of U.S. Patent Provisional Application No. 61/355,679, titled &#x201c;Application Layer Protocol Support for Sleeping Nodes in Constrained Networks&#x201d;, filed on Jun. 17, 2010; U.S. Patent Provisional Application No. 61/376,468, titled &#x201c;Methods and Systems Providing Application Layer Support for Sleeping Nodes in Constrained Networks&#x201d;, filed on Aug. 24, 2010; U.S. Patent Provisional Application No. 61/416,915, titled &#x201c;Methods and Systems Providing Application Layer Support for Sleeping Nodes in Constrained Networks&#x201d;, filed on Nov. 24, 2010, the content of all three applications being hereby incorporated by reference herein, for all purposes.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">A constrained network and the nodes within them have may have limited packet sizes, may exhibit a high degree of packet loss, and may have a substantial number of devices that may be in a sleep mode (e.g., powered off) at any point in time but periodically &#x201c;wake up&#x201d; for brief periods of time. Nodes of constrained networks may be characterized by limits on throughput, available power, and/or RAM, and may be connected over a low power wireless connection (e.g., LoWPAN (Low-Power Wireless Personal Area Networks), such as IEEE 802.15.4).</p>
<p id="p-0004" num="0003">In many applications that use IEEE 802.15.4, nodes are battery powered, and battery replacement or recharging in relatively short intervals may often be impractical. Therefore, power consumption may be of concern. Battery-powered nodes may often require duty-cycling to reduce power consumption. These devices may spend most of their operational life in a sleep mode; however, each node may periodically listen to an RF channel in order to determine whether a message is pending. This mechanism allows the application designer to decide on the balance between battery consumption and message latency. IEEE 802.15.4 and 802.15.5 define power saving techniques at the Media Access Control (MAC) and Physical (PHY) layers in constrained networks.</p>
<p id="p-0005" num="0004">IEEE 802.15.4 defines two ways of synchronization between nodes, both with and without beacons. The standard sets forth that all devices operating on a beacon-enabled Personal Area Network (PAN) shall be able to acquire beacon synchronization in order to detect any pending messages or to track the beacon. Further, all devices operating on a non-beacon-enabled PAN shall be able to poll the coordinator for data at the discretion of the next higher layer.</p>
<p id="p-0006" num="0005">IEEE 802.15.5 defines a Synchronous Energy Saving (SES) power saving mechanism that utilizes a synchronous time schedule for data transmission. For SES, all mesh devices should be synchronized network-wide and have the same time structure including an active and an inactive duration. A wakeup notification command frame allows a mesh device to notify its own schedule information to neighbors in the optional energy saving mode. When a setting (e.g., meshASESOn) is set to TRUE, it should be transmitted at the beginning of the active duration for every wakeup interval.</p>
<p id="p-0007" num="0006">Constrained Application Protocol (CoAP) is an HTTP-like application layer protocol designed for constrained networks. The protocol is REQUEST/RESPONSE based and uses the Representational State Transfer (REST) architecture. CoAP defines at least 4 HTTP-like methods, for example GET, POST, PUT and DELETE.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0008" num="0007">This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description of Illustrative Embodiments. This Summary is not intended to identify key features or essential features of the claimed subject matter, nor is it intended to be used to limit the scope of the claimed subject matter.</p>
<p id="p-0009" num="0008">Disclosed herein are systems and methods for application layer protocol support for sleeping nodes in constrained networks. According to an aspect, a proxy node in a communication system may include an interface configured to communicate with a sleep node in a constrained network. The proxy node may also include a resource management function configured to receive sleep information from the sleep node. Further, the resource management function may be configured to manage a resource of one of the proxy node and the sleep node based on the sleep information.</p>
<p id="p-0010" num="0009">Disclosed herein are methods and systems providing application layer support for sleeping nodes in constrained networks. According to an aspect, a method may include inserting sleep information in a header option or payload of an application layer message. The method may also include communicating the application layer message to a server.</p>
<p id="p-0011" num="0010">According to another aspect, a method may include storing sleep information in a URI of a message. The method may also include communicating the application layer message to a server.</p>
<p id="p-0012" num="0011">Disclosed herein are methods and systems providing application layer support for sleeping nodes in constrained networks. According to an aspect, a method may include inserting sleep information in a header option or payload of an application layer message. Further, the method may include communicating the application layer message to a server, proxy or client.</p>
<p id="p-0013" num="0012">According to another aspect, a method is disclosed that may include storing sleep attribute information using a dedicated sleep attributes CoAP resource with corresponding URI. The method may also include communicating the application layer message to a server.</p>
<p id="p-0014" num="0013">According to another aspect, a method may include supporting sleep attributes to being added in a request URI field within a CoAP header options. This aspect may be used rather than defining new dedicated attribute header options.</p>
<p id="p-0015" num="0014">According to another aspect, a method is disclosed that may include receiving a message targeting a sleeping node. Further, the method may include determining that the node is sleeping. The method may also include buffering the message in response to determining that the node is sleeping. In response to determining that the node is available, the message may be forwarded to the node.</p>
<p id="p-0016" num="0015">According to another aspect, a method is disclosed that may include caching a subscription to a resource residing on a sleep node. The method may also include storing a state of the sleep node. Further, the method may include sending a notification of the state of the sleep node to a subscriber.</p>
<p id="p-0017" num="0016">Embodiments contemplate a first node, where the first node may be associated with a first communication network and the first node may be in communication with a second communication network. The first node being may be configured, at least in part, to communicate with a second node, where the second node may be associated with the second communication network. Embodiments contemplate that the first node may also receive sleep information from the second node, and may manage at least one resource of the second node based, at least in part, on the sleep information. Embodiments contemplate that the first node may be a non-constrained node, and that the first node may functions as a proxy node. Also embodiments contemplate that the second node may be a constrained node. Further, embodiments contemplate that the first node may be further configured to receive an application layer message from the second node, where the sleep information may be included in one or more fields of the application layer message.</p>
<p id="p-0018" num="0017">Embodiments contemplate methods that may be performed by a first node, where the first node may be associated with a first communication network and the first node may be in communication with a second communication network. The method may comprise communicating with a second node, where the second node may be associated with the second communication network. Embodiments contemplate that the method may include receiving sleep information from the second node and managing at least one resource of the second node based, at least in part, on the sleep information. Embodiments contemplate that the first node may receive an application layer message from the second node. Embodiments contemplate that the sleep information may be included in one or more fields of the application layer message, and the one or more fields of the application layer message may be a part of at least one of a header or a payload. In addition, the first node may subscribe to the second node to receive the sleep information, and also the method may further include responding to the second node upon receipt of the sleep information.</p>
<p id="p-0019" num="0018">Embodiments contemplate methods that may be performed by a first node, where the first node may be associated with a first communication network and the first node may be in communication with a second communication network. The method may include communicating with a second node, where the second node may be associated with the second communication network. The method may also include receiving at least one of a hypertext transfer protocol (HTTP) or a constrained application protocol (CoAP) message from the second node, where the HTTP or the CoAP may include at least one header. The method may also include determining one or more sleep attributes of the second node from the at least one HTTP or CoAP message header, and responding to the message from the second node. Embodiments contemplate that the sleep attributes may be represented by a uniform resource identifier (URI) in the at least one HTTP or CoAP message header. Embodiments also contemplate synchronizing with the second node upon the second node transitioning form a sleep mode to a non-sleep mode. Further, embodiments contemplate placing the second node into a sleep mode.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0020" num="0019">A more detailed understanding may be had from the following description, given by way of example in conjunction with the accompanying drawings wherein:</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 1A</figref> is a system diagram of an example communications system in which one or more disclosed embodiments may be implemented;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 1B</figref> is a system diagram of an example wireless transmit/receive unit (WTRU) that may be used within the communications system illustrated in <figref idref="DRAWINGS">FIG. 1A</figref>;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 1C</figref> is a system diagram of an example radio access network and an example core network that may be used within the communications system illustrated in <figref idref="DRAWINGS">FIG. 1A</figref>;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 1D</figref> is a system diagram of another example radio access network and an example core network that may be used within the communications system illustrated in <figref idref="DRAWINGS">FIG. 1A</figref>;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 1E</figref> is a system diagram of another example radio access network and an example core network that may be used within the communications system illustrated in <figref idref="DRAWINGS">FIG. 1A</figref>;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic diagram of exemplary sleeping nodes in constrained and non-constrained networks and an exemplary proxy node;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 3</figref> is an exemplary messaging diagram including three options of how to use a URI for sharing sleep information;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a definition of the CoAP message header format;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 5</figref> illustrates an exemplary messaging diagram showing proxy caching for both source and destination nodes;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 6</figref> is a message flow diagram of an exemplary exchange of sleep information using a link format;</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 7</figref> is a message flow diagram of an exemplary exchange of sleep information using well-known URI;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 8</figref> is a message flow diagram of another exemplary exchange of sleep information using URI;</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 9</figref> is a message flow diagram of an exemplary exchange of sleep information using embedded sleep information;</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 10</figref> is a diagram of an exemplary CoAP POST request message with sleep information;</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 11</figref> is a message flow diagram illustrating how the client informs the server that its sleep duration will be 1 hour, and piggy-back the information in a REQUEST, using any suitable method;</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 12</figref> is an example of CoAP message header format;</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 13</figref> is a CoAP message with sleep attributes header options according to embodiments;</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 14</figref> is a CoAP message exchange with sleep attributes header options according to embodiments;</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 15</figref> illustrates a query of a resource for sleep attributes according to embodiments;</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 16</figref> illustrates an example exchange of sleep attributes using URI according to embodiments;</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 17</figref> illustrates a message flow diagram of creating/maintaining sleep attributes on a proxy resource according to embodiments;</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 18</figref> illustrates an example where the sleep node informs the proxy that its sleep duration will be 1 hour in accordance with embodiments;</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 19</figref> shows an example of a proxy buffering a PUT request message on behalf of a sleep node;</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 20</figref> shows an example CoAP message indicating a number of buffered messages;</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 21</figref> is a message flow diagram of a proxy subscribing to a sleep node resource and receiving a response from the sleep node resource which it caches according to embodiments;</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 22</figref> is a message flow diagram of a cache refresh with maximum retransmission failure according to embodiments;</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 23</figref> is an example message flow diagram including a buffered cache refresh request and response according to embodiments;</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 24</figref> illustrates a flowchart of an exemplary constrained nod interfacing embodiment;</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 25</figref> illustrates a flowchart of another exemplary constrained node interfacing embodiment; and</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 26</figref> illustrates a flowchart of another exemplary embodiment constrained node interfacing embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0051" num="0050">A detailed description of illustrative embodiments will now be described with reference to the various Figures. Although this description provides a detailed example of possible implementations, it should be noted that the details are intended to be exemplary and in no way limit the scope of the application.</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. 1A</figref> is a diagram of an example communications system <b>100</b> in which one or more disclosed embodiments may be implemented. The communications system <b>100</b> may be a multiple access system that provides content, such as voice, data, video, messaging, broadcast, etc., to multiple wireless users. The communications system <b>100</b> may enable multiple wireless users to access such content through the sharing of system resources, including wireless bandwidth. For example, the communications systems <b>100</b> may employ one or more channel access methods, such as code division multiple access (CDMA), time division multiple access (TDMA), frequency division multiple access (FDMA), orthogonal FDMA (OFDMA), single-carrier FDMA (SC-FDMA), and the like.</p>
<p id="p-0053" num="0052">As shown in <figref idref="DRAWINGS">FIG. 1A</figref>, the communications system <b>100</b> may include wireless transmit/receive units (WTRUs) <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c</i>, and/or <b>102</b><i>d </i>(which generally or collectively may be referred to as WTRU <b>102</b>), a radio access network (RAN) <b>103</b>/<b>104</b>/<b>105</b>, a core network <b>106</b>/<b>107</b>/<b>109</b>, a public switched telephone network (PSTN) <b>108</b>, the Internet <b>110</b>, and other networks <b>112</b>, though it will be appreciated that the disclosed embodiments contemplate any number of WTRUs, base stations, networks, and/or network elements. Each of the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c</i>, <b>102</b><i>d </i>may be any type of device configured to operate and/or communicate in a wireless environment. By way of example, the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c</i>, <b>102</b><i>d </i>may be configured to transmit and/or receive wireless signals and may include user equipment (UE), a mobile station, a fixed or mobile subscriber unit, a pager, a cellular telephone, a personal digital assistant (PDA), a smartphone, a laptop, a netbook, a personal computer, a wireless sensor, consumer electronics, and the like.</p>
<p id="p-0054" num="0053">The communications systems <b>100</b> may also include a base station <b>114</b><i>a </i>and a base station <b>114</b><i>b</i>. Each of the base stations <b>114</b><i>a</i>, <b>114</b><i>b </i>may be any type of device configured to wirelessly interface with at least one of the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c</i>, <b>102</b><i>d </i>to facilitate access to one or more communication networks, such as the core network <b>106</b>/<b>107</b>/<b>109</b>, the Internet <b>110</b>, and/or the networks <b>112</b>. By way of example, the base stations <b>114</b><i>a</i>, <b>114</b><i>b </i>may be a base transceiver station (BTS), a Node-B, an eNode B, a Home Node B, a Home eNode B, a site controller, an access point (AP), a wireless router, and the like. While the base stations <b>114</b><i>a</i>, <b>114</b><i>b </i>are each depicted as a single element, it will be appreciated that the base stations <b>114</b><i>a</i>, <b>114</b><i>b </i>may include any number of interconnected base stations and/or network elements.</p>
<p id="p-0055" num="0054">The base station <b>114</b><i>a </i>may be part of the RAN <b>103</b>/<b>104</b>/<b>105</b>, which may also include other base stations and/or network elements (not shown), such as a base station controller (BSC), a radio network controller (RNC), relay nodes, etc. The base station <b>114</b><i>a </i>and/or the base station <b>114</b><i>b </i>may be configured to transmit and/or receive wireless signals within a particular geographic region, which may be referred to as a cell (not shown). The cell may further be divided into cell sectors. For example, the cell associated with the base station <b>114</b><i>a </i>may be divided into three sectors. Thus, in one embodiment, the base station <b>114</b><i>a </i>may include three transceivers, i.e., one for each sector of the cell. In another embodiment, the base station <b>114</b><i>a </i>may employ multiple-input multiple output (MIMO) technology and, therefore, may utilize multiple transceivers for each sector of the cell.</p>
<p id="p-0056" num="0055">The base stations <b>114</b><i>a</i>, <b>114</b><i>b </i>may communicate with one or more of the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c</i>, <b>102</b><i>d </i>over an air interface <b>115</b>/<b>116</b>/<b>117</b>, which may be any suitable wireless communication link (e.g., radio frequency (RF), microwave, infrared (IR), ultraviolet (UV), visible light, etc.). The air interface <b>115</b>/<b>116</b>/<b>117</b> may be established using any suitable radio access technology (RAT).</p>
<p id="p-0057" num="0056">More specifically, as noted above, the communications system <b>100</b> may be a multiple access system and may employ one or more channel access schemes, such as CDMA, TDMA, FDMA, OFDMA, SC-FDMA, and the like. For example, the base station <b>114</b><i>a </i>in the RAN <b>103</b>/<b>104</b>/<b>105</b> and the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>may implement a radio technology such as Universal Mobile Telecommunications System (UMTS) Terrestrial Radio Access (UTRA), which may establish the air interface <b>115</b>/<b>116</b>/<b>117</b> using wideband CDMA (WCDMA). WCDMA may include communication protocols such as High-Speed Packet Access (HSPA) and/or Evolved HSPA (HSPA+). HSPA may include High-Speed Downlink Packet Access (HSDPA) and/or High-Speed Uplink Packet Access (HSUPA).</p>
<p id="p-0058" num="0057">In another embodiment, the base station <b>114</b><i>a </i>and the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>may implement a radio technology such as Evolved UMTS Terrestrial Radio Access (E-UTRA), which may establish the air interface <b>115</b>/<b>116</b>/<b>117</b> using Long Term Evolution (LTE) and/or LTE-Advanced (LTE-A).</p>
<p id="p-0059" num="0058">In other embodiments, the base station <b>114</b><i>a </i>and the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>may implement radio technologies such as IEEE 802.16 (i.e., Worldwide Interoperability for Microwave Access (WiMAX)), CDMA2000, CDMA2000 1X, CDMA2000 EV-DO, Interim Standard 2000 (IS-2000), Interim Standard 95 (IS-95), Interim Standard 856 (IS-856), Global System for Mobile communications (GSM), Enhanced Data rates for GSM Evolution (EDGE), GSM EDGE (GERAN), and the like.</p>
<p id="p-0060" num="0059">The base station <b>114</b><i>b </i>in <figref idref="DRAWINGS">FIG. 1A</figref> may be a wireless router, Home Node B, Home eNode B, or access point, for example, and may utilize any suitable RAT for facilitating wireless connectivity in a localized area, such as a place of business, a home, a vehicle, a campus, and the like. In one embodiment, the base station <b>114</b><i>b </i>and the WTRUs <b>102</b><i>c</i>, <b>102</b><i>d </i>may implement a radio technology such as IEEE 802.11 to establish a wireless local area network (WLAN). In another embodiment, the base station <b>114</b><i>b </i>and the WTRUs <b>102</b><i>c</i>, <b>102</b><i>d </i>may implement a radio technology such as IEEE 802.15 to establish a wireless personal area network (WPAN). In yet another embodiment, the base station <b>114</b><i>b </i>and the WTRUs <b>102</b><i>c</i>, <b>102</b><i>d </i>may utilize a cellular-based RAT (e.g., WCDMA, CDMA2000, GSM, LTE, LTE-A, etc.) to establish a picocell or femtocell. As shown in <figref idref="DRAWINGS">FIG. 1A</figref>, the base station <b>114</b><i>b </i>may have a direct connection to the Internet <b>110</b>. Thus, the base station <b>114</b><i>b </i>may not be required to access the Internet <b>110</b> via the core network <b>106</b>/<b>107</b>/<b>109</b>.</p>
<p id="p-0061" num="0060">The RAN <b>103</b>/<b>104</b>/<b>105</b> may be in communication with the core network <b>106</b>/<b>107</b>/<b>109</b>, which may be any type of network configured to provide voice, data, applications, and/or voice over internet protocol (VoIP) services to one or more of the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c</i>, <b>102</b><i>d</i>. For example, the core network <b>106</b>/<b>107</b>/<b>109</b> may provide call control, billing services, mobile location-based services, pre-paid calling, Internet connectivity, video distribution, etc., and/or perform high-level security functions, such as user authentication. Although not shown in <figref idref="DRAWINGS">FIG. 1A</figref>, it will be appreciated that the RAN <b>103</b>/<b>104</b>/<b>105</b> and/or the core network <b>106</b>/<b>107</b>/<b>109</b> may be in direct or indirect communication with other RANs that employ the same RAT as the RAN <b>103</b>/<b>104</b>/<b>105</b> or a different RAT. For example, in addition to being connected to the RAN <b>103</b>/<b>104</b>/<b>105</b>, which may be utilizing an E-UTRA radio technology, the core network <b>106</b>/<b>107</b>/<b>109</b> may also be in communication with another RAN (not shown) employing a GSM radio technology.</p>
<p id="p-0062" num="0061">The core network <b>106</b>/<b>107</b>/<b>109</b> may also serve as a gateway for the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c</i>, <b>102</b><i>d </i>to access the PSTN <b>108</b>, the Internet <b>110</b>, and/or other networks <b>112</b>. The PSTN <b>108</b> may include circuit-switched telephone networks that provide plain old telephone service (POTS). The Internet <b>110</b> may include a global system of interconnected computer networks and devices that use common communication protocols, such as the transmission control protocol (TCP), user datagram protocol (UDP) and the internet protocol (IP) in the TCP/IP internet protocol suite. The networks <b>112</b> may include wired or wireless communications networks owned and/or operated by other service providers. For example, the networks <b>112</b> may include another core network connected to one or more RANs, which may employ the same RAT as the RAN <b>103</b>/<b>104</b>/<b>105</b> or a different RAT.</p>
<p id="p-0063" num="0062">Some or all of the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c</i>, <b>102</b><i>d </i>in the communications system <b>100</b> may include multi-mode capabilities, i.e., the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c</i>, <b>102</b><i>d </i>may include multiple transceivers for communicating with different wireless networks over different wireless links. For example, the WTRU <b>102</b><i>c </i>shown in <figref idref="DRAWINGS">FIG. 1A</figref> may be configured to communicate with the base station <b>114</b><i>a</i>, which may employ a cellular-based radio technology, and with the base station <b>114</b><i>b</i>, which may employ an IEEE 802 radio technology.</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. 1B</figref> is a system diagram of an example WTRU <b>102</b>. As shown in <figref idref="DRAWINGS">FIG. 1B</figref>, the WTRU <b>102</b> may include a processor <b>118</b>, a transceiver <b>120</b>, a transmit/receive element <b>122</b>, a speaker/microphone <b>124</b>, a keypad <b>126</b>, a display/touchpad <b>128</b>, non-removable memory <b>130</b>, removable memory <b>132</b>, a power source <b>134</b>, a global positioning system (GPS) chipset <b>136</b>, and other peripherals <b>138</b>. It will be appreciated that the WTRU <b>102</b> may include any sub-combination of the foregoing elements while remaining consistent with an embodiment. Also, embodiments contemplate that the base stations <b>114</b><i>a </i>and <b>114</b><i>b</i>, and/or the nodes that base stations <b>114</b><i>a </i>and <b>114</b><i>b </i>may represent, such as but not limited to transceiver station (BTS), a Node-B, a site controller, an access point (AP), a home node-B, an evolved home node-B (eNodeB), a home evolved node-B (HeNB), a home evolved node-B gateway, and proxy nodes, among others, may include some or all of the elements depicted in <figref idref="DRAWINGS">FIG. 1B</figref> and described herein.</p>
<p id="p-0065" num="0064">The processor <b>118</b> may be a general purpose processor, a special purpose processor, a conventional processor, a digital signal processor (DSP), a plurality of microprocessors, one or more microprocessors in association with a DSP core, a controller, a microcontroller, Application Specific Integrated Circuits (ASICs), Field Programmable Gate Array (FPGAs) circuits, any other type of integrated circuit (IC), a state machine, and the like. The processor <b>118</b> may perform signal coding, data processing, power control, input/output processing, and/or any other functionality that enables the WTRU <b>102</b> to operate in a wireless environment. The processor <b>118</b> may be coupled to the transceiver <b>120</b>, which may be coupled to the transmit/receive element <b>122</b>. While <figref idref="DRAWINGS">FIG. 1B</figref> depicts the processor <b>118</b> and the transceiver <b>120</b> as separate components, it will be appreciated that the processor <b>118</b> and the transceiver <b>120</b> may be integrated together in an electronic package or chip.</p>
<p id="p-0066" num="0065">The transmit/receive element <b>122</b> may be configured to transmit signals to, or receive signals from, a base station (e.g., the base station <b>114</b><i>a</i>) over the air interface <b>115</b>/<b>116</b>/<b>117</b>. For example, in one embodiment, the transmit/receive element <b>122</b> may be an antenna configured to transmit and/or receive RF signals. In another embodiment, the transmit/receive element <b>122</b> may be an emitter/detector configured to transmit and/or receive IR, UV, or visible light signals, for example. In yet another embodiment, the transmit/receive element <b>122</b> may be configured to transmit and receive both RF and light signals. It will be appreciated that the transmit/receive element <b>122</b> may be configured to transmit and/or receive any combination of wireless signals.</p>
<p id="p-0067" num="0066">In addition, although the transmit/receive element <b>122</b> is depicted in <figref idref="DRAWINGS">FIG. 1B</figref> as a single element, the WTRU <b>102</b> may include any number of transmit/receive elements <b>122</b>. More specifically, the WTRU <b>102</b> may employ MIMO technology. Thus, in one embodiment, the WTRU <b>102</b> may include two or more transmit/receive elements <b>122</b> (e.g., multiple antennas) for transmitting and receiving wireless signals over the air interface <b>115</b>/<b>116</b>/<b>117</b>.</p>
<p id="p-0068" num="0067">The transceiver <b>120</b> may be configured to modulate the signals that are to be transmitted by the transmit/receive element <b>122</b> and to demodulate the signals that are received by the transmit/receive element <b>122</b>. As noted above, the WTRU <b>102</b> may have multi-mode capabilities. Thus, the transceiver <b>120</b> may include multiple transceivers for enabling the WTRU <b>102</b> to communicate via multiple RATs, such as UTRA and IEEE 802.11, for example.</p>
<p id="p-0069" num="0068">The processor <b>118</b> of the WTRU <b>102</b> may be coupled to, and may receive user input data from, the speaker/microphone <b>124</b>, the keypad <b>126</b>, and/or the display/touchpad <b>128</b> (e.g., a liquid crystal display (LCD) display unit or organic light-emitting diode (OLED) display unit). The processor <b>118</b> may also output user data to the speaker/microphone <b>124</b>, the keypad <b>126</b>, and/or the display/touchpad <b>128</b>. In addition, the processor <b>118</b> may access information from, and store data in, any type of suitable memory, such as the non-removable memory <b>130</b> and/or the removable memory <b>132</b>. The non-removable memory <b>130</b> may include random-access memory (RAM), read-only memory (ROM), a hard disk, or any other type of memory storage device. The removable memory <b>132</b> may include a subscriber identity module (SIM) card, a memory stick, a secure digital (SD) memory card, and the like. In other embodiments, the processor <b>118</b> may access information from, and store data in, memory that is not physically located on the WTRU <b>102</b>, such as on a server or a home computer (not shown).</p>
<p id="p-0070" num="0069">The processor <b>118</b> may receive power from the power source <b>134</b>, and may be configured to distribute and/or control the power to the other components in the WTRU <b>102</b>. The power source <b>134</b> may be any suitable device for powering the WTRU <b>102</b>. For example, the power source <b>134</b> may include one or more dry cell batteries (e.g., nickel-cadmium (NiCd), nickel-zinc (NiZn), nickel metal hydride (NiMH), lithium-ion (Li-ion), etc.), solar cells, fuel cells, and the like.</p>
<p id="p-0071" num="0070">The processor <b>118</b> may also be coupled to the GPS chipset <b>136</b>, which may be configured to provide location information (e.g., longitude and latitude) regarding the current location of the WTRU <b>102</b>. In addition to, or in lieu of, the information from the GPS chipset <b>136</b>, the WTRU <b>102</b> may receive location information over the air interface <b>115</b>/<b>116</b>/<b>117</b> from a base station (e.g., base stations <b>114</b><i>a</i>, <b>114</b><i>b</i>) and/or determine its location based on the timing of the signals being received from two or more nearby base stations. It will be appreciated that the WTRU <b>102</b> may acquire location information by way of any suitable location-determination method while remaining consistent with an embodiment.</p>
<p id="p-0072" num="0071">The processor <b>118</b> may further be coupled to other peripherals <b>138</b>, which may include one or more software and/or hardware modules that provide additional features, functionality and/or wired or wireless connectivity. For example, the peripherals <b>138</b> may include an accelerometer, an e-compass, a satellite transceiver, a digital camera (for photographs or video), a universal serial bus (USB) port, a vibration device, a television transceiver, a hands free headset, a Bluetooth&#xae; module, a frequency modulated (FM) radio unit, a digital music player, a media player, a video game player module, an Internet browser, and the like.</p>
<p id="p-0073" num="0072"><figref idref="DRAWINGS">FIG. 1C</figref> is a system diagram of the RAN <b>103</b> and the core network <b>106</b> according to an embodiment. As noted above, the RAN <b>103</b> may employ a UTRA radio technology to communicate with the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>over the air interface <b>115</b>. The RAN <b>103</b> may also be in communication with the core network <b>106</b>. As shown in <figref idref="DRAWINGS">FIG. 1C</figref>, the RAN <b>103</b> may include Node-Bs <b>140</b><i>a</i>, <b>140</b><i>b</i>, <b>140</b><i>c</i>, which may each include one or more transceivers for communicating with the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>over the air interface <b>115</b>. The Node-Bs <b>140</b><i>a</i>, <b>140</b><i>b</i>, <b>140</b><i>c </i>may each be associated with a particular cell (not shown) within the RAN <b>103</b>. The RAN <b>103</b> may also include RNCs <b>142</b><i>a</i>, <b>142</b><i>b</i>. It will be appreciated that the RAN <b>103</b> may include any number of Node-Bs and RNCs while remaining consistent with an embodiment.</p>
<p id="p-0074" num="0073">As shown in <figref idref="DRAWINGS">FIG. 1C</figref>, the Node-Bs <b>140</b><i>a</i>, <b>140</b><i>b </i>may be in communication with the RNC <b>142</b><i>a</i>. Additionally, the Node-B <b>140</b><i>c </i>may be in communication with the RNC<b>142</b><i>b</i>. The Node-Bs <b>140</b><i>a</i>, <b>140</b><i>b</i>, <b>140</b><i>c </i>may communicate with the respective RNCs <b>142</b><i>a</i>, <b>142</b><i>b </i>via an Iub interface. The RNCs <b>142</b><i>a</i>, <b>142</b><i>b </i>may be in communication with one another via an Iur interface. Each of the RNCs <b>142</b><i>a</i>, <b>142</b><i>b </i>may be configured to control the respective Node-Bs <b>140</b><i>a</i>, <b>140</b><i>b</i>, <b>140</b><i>c </i>to which it is connected. In addition, each of the RNCs <b>142</b><i>a</i>, <b>142</b><i>b </i>may be configured to carry out or support other functionality, such as outer loop power control, load control, admission control, packet scheduling, handover control, macrodiversity, security functions, data encryption, and the like.</p>
<p id="p-0075" num="0074">The core network <b>106</b> shown in <figref idref="DRAWINGS">FIG. 1C</figref> may include a media gateway (MGW) <b>144</b>, a mobile switching center (MSC) <b>146</b>, a serving GPRS support node (SGSN) <b>148</b>, and/or a gateway GPRS support node (GGSN) <b>150</b>. While each of the foregoing elements are depicted as part of the core network <b>106</b>, it will be appreciated that any one of these elements may be owned and/or operated by an entity other than the core network operator.</p>
<p id="p-0076" num="0075">The RNC <b>142</b><i>a </i>in the RAN <b>103</b> may be connected to the MSC <b>146</b> in the core network <b>106</b> via an IuCS interface. The MSC <b>146</b> may be connected to the MGW <b>144</b>. The MSC <b>146</b> and the MGW <b>144</b> may provide the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>with access to circuit-switched networks, such as the PSTN <b>108</b>, to facilitate communications between the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>and traditional land-line communications devices.</p>
<p id="p-0077" num="0076">The RNC <b>142</b><i>a </i>in the RAN <b>103</b> may also be connected to the SGSN <b>148</b> in the core network <b>106</b> via an IuPS interface. The SGSN <b>148</b> may be connected to the GGSN <b>150</b>. The SGSN <b>148</b> and the GGSN <b>150</b> may provide the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>with access to packet-switched networks, such as the Internet <b>110</b>, to facilitate communications between and the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>and IP-enabled devices.</p>
<p id="p-0078" num="0077">As noted above, the core network <b>106</b> may also be connected to the networks <b>112</b>, which may include other wired or wireless networks that are owned and/or operated by other service providers.</p>
<p id="p-0079" num="0078"><figref idref="DRAWINGS">FIG. 1D</figref> is a system diagram of the RAN <b>104</b> and the core network <b>107</b> according to an embodiment. As noted above, the RAN <b>104</b> may employ an E-UTRA radio technology to communicate with the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>over the air interface <b>116</b>. The RAN <b>104</b> may also be in communication with the core network <b>107</b>.</p>
<p id="p-0080" num="0079">The RAN <b>104</b> may include eNode-Bs <b>160</b><i>a</i>, <b>160</b><i>b</i>, <b>160</b><i>c</i>, though it will be appreciated that the RAN <b>104</b> may include any number of eNode-Bs while remaining consistent with an embodiment. The eNode-Bs <b>160</b><i>a</i>, <b>160</b><i>b</i>, <b>160</b><i>c </i>may each include one or more transceivers for communicating with the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>over the air interface <b>116</b>. In one embodiment, the eNode-Bs <b>160</b><i>a</i>, <b>160</b><i>b</i>, <b>160</b><i>c </i>may implement MIMO technology. Thus, the eNode-B <b>160</b><i>a</i>, for example, may use multiple antennas to transmit wireless signals to, and receive wireless signals from, the WTRU <b>102</b><i>a. </i></p>
<p id="p-0081" num="0080">Each of the eNode-Bs <b>160</b><i>a</i>, <b>160</b><i>b</i>, <b>160</b><i>c </i>may be associated with a particular cell (not shown) and may be configured to handle radio resource management decisions, handover decisions, scheduling of users in the uplink and/or downlink, and the like. As shown in <figref idref="DRAWINGS">FIG. 1D</figref>, the eNode-Bs <b>160</b><i>a</i>, <b>160</b><i>b</i>, <b>160</b><i>c </i>may communicate with one another over an X2 interface.</p>
<p id="p-0082" num="0081">The core network <b>107</b> shown in <figref idref="DRAWINGS">FIG. 1D</figref> may include a mobility management gateway (MME) <b>162</b>, a serving gateway <b>164</b>, and a packet data network (PDN) gateway <b>166</b>. While each of the foregoing elements are depicted as part of the core network <b>107</b>, it will be appreciated that any one of these elements may be owned and/or operated by an entity other than the core network operator.</p>
<p id="p-0083" num="0082">The MME <b>162</b> may be connected to each of the eNode-Bs <b>160</b><i>a</i>, <b>160</b><i>b</i>, <b>160</b><i>c </i>in the RAN <b>104</b> via an Si interface and may serve as a control node. For example, the MME <b>162</b> may be responsible for authenticating users of the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c</i>, bearer activation/deactivation, selecting a particular serving gateway during an initial attach of the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c</i>, and the like. The MME <b>162</b> may also provide a control plane function for switching between the RAN <b>104</b> and other RANs (not shown) that employ other radio technologies, such as GSM or WCDMA.</p>
<p id="p-0084" num="0083">The serving gateway <b>164</b> may be connected to each of the eNode-Bs <b>160</b><i>a</i>, <b>160</b><i>b</i>, <b>160</b><i>c </i>in the RAN <b>104</b> via the Si interface. The serving gateway <b>164</b> may generally route and forward user data packets to/from the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c</i>. The serving gateway <b>164</b> may also perform other functions, such as anchoring user planes during inter-eNode B handovers, triggering paging when downlink data is available for the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c</i>, managing and storing contexts of the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c</i>, and the like.</p>
<p id="p-0085" num="0084">The serving gateway <b>164</b> may also be connected to the PDN gateway <b>166</b>, which may provide the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>with access to packet-switched networks, such as the Internet <b>110</b>, to facilitate communications between the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>and IP-enabled devices.</p>
<p id="p-0086" num="0085">The core network <b>107</b> may facilitate communications with other networks. For example, the core network <b>107</b> may provide the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>with access to circuit-switched networks, such as the PSTN <b>108</b>, to facilitate communications between the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>and traditional land-line communications devices. For example, the core network <b>107</b> may include, or may communicate with, an IP gateway (e.g., an IP multimedia subsystem (IMS) server) that serves as an interface between the core network <b>107</b> and the PSTN <b>108</b>. In addition, the core network <b>107</b> may provide the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>with access to the networks <b>112</b>, which may include other wired or wireless networks that are owned and/or operated by other service providers.</p>
<p id="p-0087" num="0086"><figref idref="DRAWINGS">FIG. 1E</figref> is a system diagram of the RAN <b>105</b> and the core network <b>109</b> according to an embodiment. The RAN <b>105</b> may be an access service network (ASN) that employs IEEE 802.16 radio technology to communicate with the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>over the air interface <b>117</b>. As will be further discussed below, the communication links between the different functional entities of the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c</i>, the RAN <b>105</b>, and the core network <b>109</b> may be defined as reference points.</p>
<p id="p-0088" num="0087">As shown in <figref idref="DRAWINGS">FIG. 1E</figref>, the RAN <b>105</b> may include base stations <b>180</b><i>a</i>, <b>180</b><i>b</i>, <b>180</b><i>c</i>, and an ASN gateway <b>182</b>, though it will be appreciated that the RAN <b>105</b> may include any number of base stations and ASN gateways while remaining consistent with an embodiment. The base stations <b>180</b><i>a</i>, <b>180</b><i>b</i>, <b>180</b><i>c </i>may each be associated with a particular cell (not shown) in the RAN <b>105</b> and may each include one or more transceivers for communicating with the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>over the air interface <b>117</b>. In one embodiment, the base stations <b>180</b><i>a</i>, <b>180</b><i>b</i>, <b>180</b><i>c </i>may implement MIMO technology. Thus, the base station <b>180</b><i>a</i>, for example, may use multiple antennas to transmit wireless signals to, and receive wireless signals from, the WTRU <b>102</b><i>a</i>. The base stations <b>180</b><i>a</i>, <b>180</b><i>b</i>, <b>180</b><i>c </i>may also provide mobility management functions, such as handoff triggering, tunnel establishment, radio resource management, traffic classification, quality of service (QoS) policy enforcement, and the like. The ASN gateway <b>182</b> may serve as a traffic aggregation point and may be responsible for paging, caching of subscriber profiles, routing to the core network <b>109</b>, and the like.</p>
<p id="p-0089" num="0088">The air interface <b>117</b> between the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>and the RAN <b>105</b> may be defined as an R<b>1</b> reference point that implements the IEEE 802.16 specification. In addition, each of the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>may establish a logical interface (not shown) with the core network <b>109</b>. The logical interface between the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>and the core network <b>109</b> may be defined as an R<b>2</b> reference point, which may be used for authentication, authorization, IP host configuration management, and/or mobility management.</p>
<p id="p-0090" num="0089">The communication link between each of the base stations <b>180</b><i>a</i>, <b>180</b><i>b</i>, <b>180</b><i>c </i>may be defined as an R<b>8</b> reference point that includes protocols for facilitating WTRU handovers and the transfer of data between base stations. The communication link between the base stations <b>180</b><i>a</i>, <b>180</b><i>b</i>, <b>180</b><i>c </i>and the ASN gateway <b>182</b> may be defined as an R<b>6</b> reference point. The R<b>6</b> reference point may include protocols for facilitating mobility management based on mobility events associated with each of the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c. </i></p>
<p id="p-0091" num="0090">As shown in <figref idref="DRAWINGS">FIG. 1E</figref>, the RAN <b>105</b> may be connected to the core network <b>109</b>. The communication link between the RAN <b>105</b> and the core network <b>109</b> may defined as an R<b>3</b> reference point that includes protocols for facilitating data transfer and mobility management capabilities, for example. The core network <b>109</b> may include a mobile IP home agent (MIP-HA) <b>184</b>, an authentication, authorization, accounting (AAA) server <b>186</b>, and a gateway <b>188</b>. While each of the foregoing elements are depicted as part of the core network <b>109</b>, it will be appreciated that any one of these elements may be owned and/or operated by an entity other than the core network operator.</p>
<p id="p-0092" num="0091">The MIP-HA may be responsible for IP address management, and may enable the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>to roam between different ASNs and/or different core networks. The MIP-HA <b>184</b> may provide the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>with access to packet-switched networks, such as the Internet <b>110</b>, to facilitate communications between the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>and IP-enabled devices. The AAA server <b>186</b> may be responsible for user authentication and for supporting user services. The gateway <b>188</b> may facilitate interworking with other networks. For example, the gateway <b>188</b> may provide the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>with access to circuit-switched networks, such as the PSTN <b>108</b>, to facilitate communications between the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>and traditional land-line communications devices. In addition, the gateway <b>188</b> may provide the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>with access to the networks <b>112</b>, which may include other wired or wireless networks that are owned and/or operated by other service providers.</p>
<p id="p-0093" num="0092">Although not shown in <figref idref="DRAWINGS">FIG. 1E</figref>, it will be appreciated that the RAN <b>105</b> may be connected to other ASNs and the core network <b>109</b> may be connected to other core networks. The communication link between the RAN <b>105</b> the other ASNs may be defined as an R<b>4</b> reference point, which may include protocols for coordinating the mobility of the WTRUs <b>102</b><i>a</i>, <b>102</b><i>b</i>, <b>102</b><i>c </i>between the RAN <b>105</b> and the other ASNs. The communication link between the core network <b>109</b> and the other core networks may be defined as an R<b>5</b> reference, which may include protocols for facilitating interworking between home core networks and visited core networks.</p>
<p id="p-0094" num="0093">As referred to herein, the term &#x201c;sleep mode&#x201d; refers to a state in which a device or node is not capable of sending or receiving messages. This mode may be entered for the purpose of power conservation at the device or node, for example.</p>
<p id="p-0095" num="0094">As referred to herein, the term &#x201c;sleep node&#x201d; refers to a node or device that is capable of entering a sleep mode. The sleep mode may be entered at any time. One or more sleep nodes may be in, for example, a constrained network. A sleeping node may refer to a node currently in the sleep mode.</p>
<p id="p-0096" num="0095">In constrained networks, nodes are often battery powered with limited capacity. In the interest of power conservation, such nodes spend most of the time in sleep mode. The presently disclosed systems and methods are capable of managing sleeping. In constrained networks, nodes are often battery powered with limited capacity. In the interest of power conservation, such nodes spend most of the time in sleep mode. The presently disclosed systems and methods are capable of managing sleeping nodes in constrained networks. Also, the presently disclosed systems and methods are capable of providing application layer support for sleeping nodes in constrained networks.</p>
<p id="p-0097" num="0096">Although MAC and PHY layers typically have mechanisms for power saving (e.g., turn off transmitter and receiver for a short period of time and listen to the RF channel periodically), it the present subject matter provides improved techniques for application layer protocols to efficiently manage sleep nodes as well. When the application layer is aware and able to handle sleep nodes, it can help provide additional power saving mechanisms complementary to those supported by the lower layers. Unfortunately, current application layer protocols such as HTTP as well as the proposed constrained application layer protocol CoAP do not support sleep-aware mechanisms such as the sharing of sleep schedule information nor the synchronization of devices at the application layer. On the other hand, if the application layer is not able to handle sleep situations, sleeping can cause long delays in message delivery, unnecessary retransmissions, or even cause disconnection at the application layer. This can severely impact applications and user experience.</p>
<p id="p-0098" num="0097">Embodiments contemplate that HTTP may also run on constrained devices. For example, constrained devices that are connected to the Internet (e.g. Zigbee devices) may run HTTP as an application. The CoAP protocol is contemplated as perhaps more efficient than HTTP and hence may improve performance for constrained devices. One or more embodiments contemplate that constrained devices may run on HTTP alone.</p>
<p id="p-0099" num="0098">Embodiments contemplate scenarios in which where the normal device may run HTTP (e.g. web browser on a laptop). Such normal devices may want to communicate with a constrained device (e.g. light switch in the home) that may run CoAP. For example, the owner of a home goes to his web browser (on his laptop) to set his home light switch to turn on at 7 pm since he will be arriving home late and wants the lights to be on upon his arrival. The web browser may then send HTTP messages to a proxy in the home. The proxy may then process the HTTP message as described herein (e.g., if the light switch is sleeping at that moment) and may then convert the message to CoAP at a proper time. The CoAP protocol describes how to do the HTTP to CoAP conversion. Embodiments described herein contemplate how to do the signaling, buffering, and processing, among other actions, at the application layer. Embodiments described herein also contemplate how to do the signaling, buffering, and processing, among other actions, at the application layer if the constrained node is asleep.</p>
<p id="p-0100" num="0099">Embodiments contemplate that constrained networks may be connected to the Internet, where for example the Internet connection may be the Layer 3 connection, while the IEEE 802.15.4 connection may be the Layer 2 connection. Embodiments also contemplate scenarios in which a normal (e.g., non-constrained) node, perhaps anywhere on the Internet, communicates with a constrained node (e.g., where a constrained node may be asleep when the non-constrained node sends a message to it). The CoAP or HTTP application layer signaling, by way of example and not limitation perhaps somewhere in Layers 4-7, would be running on top of Layers 3 (Internet) and Layers 2 (e.g., IEEE 802.15.4 for the constrained device, and perhaps Ethernet for the normal device).</p>
<p id="p-0101" num="0100">In accordance with embodiments of the presently disclosed subject matter, sleep-aware support is provided to an application layer protocol that is not supported by existing application layer protocols such as, for example, HTTP or CoAP. Doing so, enables an application layer protocol to more effectively optimize the exchange of application layer messages and as a result maximize the overall efficiency of sleep nodes and proxies. For example, by making sleep schedule information available to a proxy's application layer, the proxy can then implement enhancements to its application layer protocol and messaging that allow it to maintain tighter synchronization with a sleep node. Therefore, the sleep node does not need to check-in with the proxy each time it wakes up, thus optimizing the node's battery lifetime and reducing signaling messages.</p>
<p id="p-0102" num="0101"><figref idref="DRAWINGS">FIG. 2</figref> illustrates a schematic diagram of exemplary sleeping nodes <b>200</b> in constrained and non-constrained networks <b>202</b> and <b>204</b>, respectively, and an exemplary proxy node <b>206</b>. This example is used for illustrating various embodiments of the presently disclosed subject matter. In the constrained network <b>202</b>, most or all nodes <b>200</b> can be sleep nodes. The proxy node <b>206</b> may stay on all the time and proxies the messages for the sleep nodes <b>200</b>. The constrained network <b>202</b> can be connected to the non-constrained network <b>204</b>, or another constrained network. Each constrained network can have non-sleep nodes and/or sleep nodes. The non-constrained network <b>204</b> may include non-sleep nodes (e.g., a router <b>208</b> and computer <b>210</b>). The application layer protocol, discussed as an HTTP-like protocol (such as CoAP) in this disclosure, may be configured to be aware of and to handle sleep nodes.</p>
<p id="p-0103" num="0102">The presently disclosed subject matter provides application layer methods for supporting sleep nodes in constrained networks, that may include proxy nodes. The systems and methods disclosed herein may manage how sleep nodes and proxy nodes exchange sleep information, what sleep information can be exchanged, and how the sleep information can be utilized. The methods may include: using URI represented resources to exchange sleep information; using header field (e.g., CoAP header option); and using reserved fields in protocol header. The systems and methods disclosed herein may also manage how sleep and proxy nodes obtain and maintain synchronization by leveraging the exchange of sleep information. The systems and methods disclosed herein may also manage proxy initiated and controlled sleep scheduling. Further, the systems and methods disclosed herein manage proxy operation when both source and destination nodes are sleep nodes. The systems and methods disclosed herein also reduce overhead for sleep nodes. These methods and systems are described in more detail herein below. Although these methods and systems are described in the context of a CoAP in a constrained network, these methods and systems may also be applied to any other suitable protocols as well as in a non-constrained network.</p>
<p id="p-0104" num="0103">Embodiments contemplate indications of sleep modes. A node can provide its power consumption mode, for example, whether it may go to sleep mode (e.g., sleep mode) or it will always be powered on (e.g., no sleep mode) to the proxy node or other nodes at the application protocol layer. This can ease the operation at the proxy node. For example, when the proxy node receives messages destined for a &#x201c;non-sleep node&#x201d;, the proxy node may decide not to cache for the node and can instead forward messages, perhaps immediately. Otherwise, if the node is a &#x201c;sleep node&#x201d;, the proxy can decide to always cache messages destined for the sleep node.</p>
<p id="p-0105" num="0104">In addition to indication of sleep mode, a sleep node and the proxy node can exchange more detailed sleep information so the proxy node can make more informed decisions about caching and message delivery.</p>
<p id="p-0106" num="0105">Sleep information can be exchanged between the sleep node and proxy using CoAP messages at anytime. The sleep information can be sent by the constrained node, or by the proxy. When the sleep information is available at the sleep node, the sleep node can inform the proxy (or other sleep nodes) of its sleep schedule. In another way, a proxy can instruct or configure a constrained node of its sleep schedule. A sleep node can use methods such as POST/PUT to inform the proxy about its sleep information. Alternatively, the proxy may subscribe to the sleep info and get notified when it changes.</p>
<p id="p-0107" num="0106">Several mechanisms to exchange sleep information using CoAP are discussed in details below. The figures use the notion of client and server. A client is the node that initiates the CoAP request and a server is the recipient of the request. A client and server can be constrained nodes or proxies.</p>
<p id="p-0108" num="0107">Embodiments contemplate the exchange of sleep information at application protocol. Below are examples of sleep information that a sleep node and a proxy may exchange.
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0108">Indication of Sleep Mode
        <ul id="ul0003" list-style="none">
            <li id="ul0003-0001" num="0109">Sleep or non-sleep node; and/or</li>
            <li id="ul0003-0002" num="0110">Sleep pattern: periodic, ad-hoc, etc.</li>
        </ul>
        </li>
        <li id="ul0002-0002" num="0111">Node's Sleep Schedule (Note: relative time can be used as discussed below)
        <ul id="ul0004" list-style="none">
            <li id="ul0004-0001" num="0112">Sleep start time;</li>
            <li id="ul0004-0002" num="0113">Wake up time;</li>
            <li id="ul0004-0003" num="0114">Sleep interval;</li>
            <li id="ul0004-0004" num="0115">Awake duration; and/or</li>
            <li id="ul0004-0005" num="0116">Time unit.</li>
        </ul>
        </li>
        <li id="ul0002-0003" num="0117">Triggers for a node to switch to sleep mode. Knowing the trigger can help the proxy node predict the device's next sleep cycle, and this is especially helpful when the node's sleep schedule is event based and unpredictable.
        <ul id="ul0005" list-style="none">
            <li id="ul0005-0001" num="0118">E.g. a battery-powered device switches to sleep mode when it reaches a certain percentile of remaining battery; and/or</li>
            <li id="ul0005-0002" num="0119">E.g. a smart meter switches to sleep mode each time a Report is sent (e.g. sends POST to certain URI).</li>
        </ul>
        </li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0109" num="0120">The sleep information may provide proxy(s) or other nodes with awareness of resources that they are able to proxy for, as well as which devices sleep and their corresponding sleep cycle attributes. Using this sleep information, the proxy(s) could choose which device resources it wants to create/maintain intercept caches for (e.g. support intercept caches only for sleeping devices). The information can also be used by the proxy to optimize the size of a device's intercept cache. For example, nodes with longer sleep cycles could be allocated larger caches vs. nodes with shorter sleep cycles.</p>
<p id="p-0110" num="0121">The following sections discuss detailed techniques for sleep node and proxy node exchange of sleep information using an HTTP-like application protocol. The CoAP protocol may be used as an example for the purpose of discussions. It should be noted that the individual methods described can be used independently or in a combined manner.</p>
<p id="p-0111" num="0122">Embodiments contemplate that sleep information can be treated as a resource and represented by a URI. This may allow a proxy or other nodes to retrieve a node's sleep information, or may allow the constrained node to post the sleep information to the proxy.</p>
<p id="p-0112" num="0123">A sleep node can support a URI which may allow a proxy node to retrieve the sleep node's sleep information or may allow the sleep node to post the sleep information to the proxy node. This approach may provide for the exchange of more sophisticated sleep information, and the format can be more flexible (in comparison to embedding sleep information into the headers of existing message exchanges, for example). <figref idref="DRAWINGS">FIG. 3</figref> illustrates an exemplary messaging diagram including three options of how to use a URI for sharing sleep information. As an extension, the URI of a sleep node may be stored in a repository, not the sleep node itself.</p>
<p id="p-0113" num="0124">In option <b>1</b> of <figref idref="DRAWINGS">FIG. 3</figref>, the sleep node can use methods such as POST/PUT to inform the proxy about its sleep information.</p>
<p id="p-0114" num="0125">In option <b>2</b> of <figref idref="DRAWINGS">FIG. 3</figref>, the proxy node may subscribe to the sleep information URI and gets notified when it changes. This is based on the assumption that the proxy node knows the URI for the sleep information. The proxy can receive the URI information if the sleep node sends it to the proxy node (such as mentioned in Option <b>3</b> below), or &#x201c;well known&#x201d; resource can be defined to represent sleep information during resource discovery.</p>
<p id="p-0115" num="0126">In option <b>3</b> of <figref idref="DRAWINGS">FIG. 3</figref>, the sleep node includes the sleep information in a message, such as in the option header as discussed in more detail below. The actual method of the message can be any type thus the sleep info URI can be piggy-backed. The proxy node can use GET to retrieve the sleep info stored under this URI.</p>
<p id="p-0116" num="0127">Typical information stored in the URI to describe the sleep pattern may include the sleep interval, sleep pattern type (event triggered, periodic), and start of next sleeping interval. The semantics on how the sleeping information is stored could be standardized using a language such as, but not limited to, HTML.</p>
<p id="p-0117" num="0128">Below are examples of the URI (URL) representation of sleep information. CoAP [I-D.draft-ietf-core-coap] splits the URI into Uri-Scheme, Uri-Authority and Uri-Path Options.
<ul id="ul0006" list-style="none">
    <li id="ul0006-0001" num="0000">
    <ul id="ul0007" list-style="none">
        <li id="ul0007-0001" num="0129">Coap://sensor1.example.com:COAP_TBD_PORT/SleepInfo;</li>
        <li id="ul0007-0002" num="0130">Coap://sensor1.example.com:COAP_TBD_PORT/SleepInfo/SleepType; and/or</li>
        <li id="ul0007-0003" num="0131">Coap://sensor1.example.com:COAP_TBD_PORT/SleepInfo/SleepDuration.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0118" num="0132">The sleep information URI can be exchanged during CoAP resource discovery using link format. The sleep information can be carried in link-value, link-extensions, etc. <figref idref="DRAWINGS">FIG. 6</figref> illustrates a message flow diagram of an exemplary exchange of sleep information using a link format.</p>
<p id="p-0119" num="0133">Alternatively, in CoAP discovery, the CoAP well-known URI can be used to carry the sleep information. For example, /.well-known/r/sleep (assuming /.well-known/r is the CoAP well-known URI). Therefore a proxy can query a node about its sleep schedule using GET request. [GET/.well-known/r/sleep] returns a list of sleep information stored under this location.</p>
<p id="p-0120" num="0134"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a definition of the CoAP message header format. This definition provides an example of the message format in a constrained application layer protocol. The header fields are defined in the following paragraphs.</p>
<p id="p-0121" num="0135">Ver (Version): A 2-bit unsigned integer that indicates the version of CoAP. This field is set to 0. The values 1-3 are reserved for future versions.</p>
<p id="p-0122" num="0136">T (2-bit Message Type Flag): Indicates if this message is a CoAP request (0), response (1), or notify (2) header. The value 3 is forbidden to avoid collision with the magic byte &#x2018;r&#x2019;.</p>
<p id="p-0123" num="0137">O (4-bit Number of Options Field): Indicates if there are option headers following the base header. If set to 0, the payload (if any) immediately follows the base header. If greater than 0, the field indicates the number of options to immediately follow the header.</p>
<p id="p-0124" num="0138">A (1-bit Acknowledgement Flag): When set to 1, indicates that the destination must respond with a response message matching this request. When set to 0, the destination must not send a response to this request.</p>
<p id="p-0125" num="0139">Meth (4-bit Unsigned Integer): This field indicates the CoAP method of the request, including GET, POST, PUT, DELETER, and SUBSCRIBE.</p>
<p id="p-0126" num="0140">Code (6-bit unsigned integer): This field indicates the code of a response or notify message.</p>
<p id="p-0127" num="0141">Transaction ID (16-bit Unsigned Integer): A unique transaction ID assigned by the source and used to match responses. The transaction ID must be changed for each new request (regardless of the end-point) and must not be changed when retransmitting a request.</p>
<p id="p-0128" num="0142"><sub>&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;</sub>: This field is unused. It must be initialized to zero by the sender and must be ignored by the receiver.</p>
<p id="p-0129" num="0143">Embodiments contemplate techniques to support unicast and multicast transport in a constrained network.</p>
<p id="p-0130" num="0144"><figref idref="DRAWINGS">FIG. 7</figref> illustrates a message flow diagram of an exemplary exchange of sleep information using, perhaps in some embodiments well-known, URI.</p>
<p id="p-0131" num="0145"><figref idref="DRAWINGS">FIG. 8</figref> illustrates a message flow diagram of another exemplary exchange of sleep information using URI. The diagram shows the transactions when sleep information URI are exchanged between the client and server. The client informs the server of the sleep information URI. Later the node with the sleep information URI can issue a GET request to obtain the detailed sleep information. Even though the examples herein show that the sensor node posts the sleep information URI to the proxy, both the constrained node and proxy can be either the CoAP client or server. For example, a proxy node may instruct the constrained node to use certain URI to store the sleep information.</p>
<p id="p-0132" num="0146">Embodiments contemplate utilizing one or more CoAP header option and/or payload fields. The sleep information could also be shared via embedding it (i.e. &#x2018;piggy-backing it&#x2019;) within existing application layer protocol messages. Embodiments contemplate that sleep schedule information could be shared in a less costly manner (e.g. by leveraging the existing resources and application layer messaging infrastructure already in place).</p>
<p id="p-0133" num="0147">For example, the CoAP application layer protocol header options, or CoAP payload could be used to share updated sleep information as a part of every message exchange or alternatively for only a subset of the message exchanges between a sleep node and the proxy node. In the event that sleep information needs to be exchanged at a faster rate than the normal message exchange rate, additional messages could also be generated for the sole purpose of exchanging sleep information within the message header (e.g. a short optimized message with only a header and no data payload could be exchanged). The encoding of the sleep information should follow the Content-type encoding defined by the CoAP protocol.</p>
<p id="p-0134" num="0148">For example, CoAP specifies TLV format for the Header Options which may be used to encode some sleep pattern information such as the following:
<ul id="ul0008" list-style="none">
    <li id="ul0008-0001" num="0000">
    <ul id="ul0009" list-style="none">
        <li id="ul0009-0001" num="0149">TYPE: Sleep Interval</li>
        <li id="ul0009-0002" num="0150">LEN: 2-bit unsigned integer allowing values of &#x2212;4 octets, or 10-bit unsigned integer allowing values of 5-1024 octets; and/or</li>
        <li id="ul0009-0003" num="0151">VALUE: Sleep interval in seconds.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0135" num="0152"><figref idref="DRAWINGS">FIG. 9</figref> is a message flow diagram of an exemplary exchange of sleep information using embedded sleep information. Referring to <figref idref="DRAWINGS">FIG. 9</figref>, the figure shows that a client used the POST method to send its sleep information to the server. The server stored the information, created an URI for the stored information and returned the created URI.</p>
<p id="p-0136" num="0153"><figref idref="DRAWINGS">FIG. 10</figref> is a diagram of an exemplary CoAP POST request message with sleep information. Referring to <figref idref="DRAWINGS">FIG. 10</figref>, the figure shows how to compose the CoAP POST Request message, adding sleep information in the payload or Header Options respectively. The &#x201c;Type&#x201d; of sleep information may be assumed to be 10 and 12 for elective options &#x201c;Sleep Type&#x201d; and &#x201c;Sleep duration&#x201d;. CoAP may define such options for sleep information. TID is Transaction ID.</p>
<p id="p-0137" num="0154">Embodiments contemplate that reserved values can be used to signify particular sleep patterns. The reserved fields can be in the message header, or header options of an application layer protocol. For example, one reserved bit can inform other nodes that the device is now operating under an unpredictable sleep pattern (triggered by an external event). In another example, another field may be present indicating when the next sleep interval will start. In this example, a reserved value or the absence of this field may signify that the device sleep period has started. In another example, a bit can be reserved to indication a node's sleep mode (as discussed herein previously).</p>
<p id="p-0138" num="0155">Embodiments contemplate that sleep nodes and proxy node can utilize the exchange of application layer sleep schedule information to help maintain synchronization with one another.</p>
<p id="p-0139" num="0156">A proxy node can subscribe to a sleep node, and the sleep node can send notify message when it wakes up. In the notify message, the sleep node can include updates for resources as well as sleep cycle information. In this way, the proxy node can maintain loose synchronization with the sleep node. If the proxy node already has a sleep node's sleep information (such as a schedule), and the sleep node and proxy node are synchronized, the sleep node may not need to check-in with the proxy every time it wakes up.</p>
<p id="p-0140" num="0157">If the proxy node maintains a counter that is reset each time it receives a sleep node's check-in message, it can also keep track of how long a sleep node has been sleeping and how soon before it wakes up. Leveraging this information, a proxy node can more efficiently schedule messages to/from the sleep node (e.g. transmit messages just before a sleep node wakes up to minimize the amount of buffering required by intermediate nodes within a multi-hop constrained network).</p>
<p id="p-0141" num="0158">Message delivery latency may be considered for synchronization. For example, the time &#x201c;Now&#x201d; in a source device would be &#x201c;Now+message delivery latency&#x201d; in the destination device, providing both are synchronized in time. The sleep node and the proxy node can exchange their perception of how long &#x201c;message delivery latency&#x201d; should be so they can maintain more accurate synchronization.</p>
<p id="p-0142" num="0159">Embodiments contemplate that a sleep node may switch to sleep mode autonomously based on its own triggers. However, a proxy node (or network) can also initiate sleeping for sleep nodes. For example, a proxy can initiate a command for a sleep node to switch into sleep mode and provide the duration of the sleep time. This may enable the proxy node to have better control and coordination of the sleep nodes in a constrained network, and the proxy node can have a sleep node's schedule without having to get it from the sleep node.</p>
<p id="p-0143" num="0160">In a HTTP-like application protocol, a new method &#x201c;SLEEP&#x201d; can be used for a proxy node to command a sleep node to go to sleep. Alternatively, a sleep node can subscribe to &#x201c;proxy initiated sleep cycle&#x201d; and the proxy node may send notification to the sleep node for switching to sleep mode.</p>
<p id="p-0144" num="0161"><figref idref="DRAWINGS">FIG. 5</figref> illustrates an exemplary messaging diagram showing proxy caching for both source and destination nodes. This is an example when both source and destination nodes (called Node <b>1</b> and Node <b>2</b>) in the communication may go into sleep mode. When a sleep node wakes up, it may send a message to the proxy node, indicating it is awake, providing updated contents, or updating its sleep information. This procedure is marked as &#x201c;synchronization&#x201d; in the diagram.</p>
<p id="p-0145" num="0162">In the example, Node <b>1</b> may be assumed to be a constrained node using CoAP and it sends a CoAP REQUEST. The REQUEST may contain any CoAP method, such as GET, POST PUT, DELETE, or SUBSCRIBE. The proxy node may intercept the request, and may check the sleep state of the Node <b>2</b> (if Node <b>2</b> registered with the proxy about its sleep state), and the proxy node may decide either to cache the REQUEST on behalf of the node, or it can forward the REQUEST.</p>
<p id="p-0146" num="0163">The POST, PUT, DELETE and SUBSCRIBE methods require certain actions of the destination node so the proxy node will deliver the message to the destination when the destination device is awake.</p>
<p id="p-0147" num="0164">The GET method retrieves information from the destination so it is handled differently from other methods. The proxy node can cache the response and send the response to the source node when it is awake. If the proxy node has updated content, it may not send the GET request to the destination node at all.</p>
<p id="p-0148" num="0165">When both nodes are sleep nodes, it may cause challenges to the proxy node to cache for both nodes. There can be cases when both sleep nodes are not synchronized. For example, Node <b>1</b> sends GET request to Node <b>2</b>, while Node <b>2</b> is sleeping and the proxy node does not have an updated record. Node <b>2</b> wakes up and sends updates to the proxy node, and Node <b>1</b> may have gone back to sleep in the meantime. To mitigate such a situation, the proxy node can command a sleep node not to go back to sleep for a period of time, or the proxy node may help nodes to synchronize their sleep schedule, using proxy initiated sleep as discussed herein above.</p>
<p id="p-0149" num="0166">Embodiments contemplate reduced messaging overhead. In accordance with embodiments, retransmission times may be reduced for each message when a node may be in sleep mode. For example, if by default a re-transmission counter is set to 3, the number can be decreased or even set to 0 if the message is sent to a sleep node. Therefore, in case the message cannot be delivered due to the destination being sleeping, the source does not need to re-transmit it again. This can also relieve the source node so it can switch to sleep mode quicker.</p>
<p id="p-0150" num="0167">Using information from the sleep node such as its sleep schedule and its memory buffer size, a proxy node can implement a flow control mechanism to reduce the loading on the constrained device as well as other devices in the network (e.g. intermediate devices located between the proxy and targeted device). As mentioned herein above, a sleep node could provide a proxy node with its sleep schedule information as part of the CoAP message header or as part of the CoAP resource discovery process (i.e. CoAP link header). This same methodology could also be used to share other device attributes such as buffer size. Using this information, the proxy node may then implement an intelligent flow control mechanism tuned to a sleep node's attributes. This methodology could also be scaled to take into account not just a single sleep node's attribute's but also interdependencies between nodes (e.g. having the proxy perform flow control for a multi-hop network path of devices).</p>
<p id="p-0151" num="0168">Embodiments contemplate &#x201c;piggy-backing&#x201d; in request URI. Sleep information can be added in the request URI in the CoAP header options. In this way, the sleep information can be piggybacked in any CoAP messages. <figref idref="DRAWINGS">FIG. 11</figref> is a message flow diagram illustrating how the client informs the server that its sleep duration will be 1 hour. The sleep information is piggy-backed in the request URI. Such information can be exchanged at any time, using any CoAP method.</p>
<p id="p-0152" num="0169">By way of details of a URI, a URI may provide a simple and extensible means for identifying a resource. By way of example, each URI may begin with a scheme name that refers to a specification for assigning identifiers within that scheme. As such, the URI syntax is a federated and extensible naming system wherein each scheme's specification may further restrict the syntax and semantics of identifiers using that scheme.</p>
<p id="p-0153" num="0170">Embodiments contemplate that scheme names may include a sequence of characters beginning with a letter and followed by any combination of letters, digits, plus (&#x201c;+&#x201d;), period (&#x201c;.&#x201d;), or hyphen (&#x201c;-&#x201d;), for example. Although schemes may be case-insensitive, the canonical form is lowercase and documents that specify schemes may, and in some embodiments perhaps must, do so with lowercase letters. An implementation may accept uppercase letters as equivalent to lowercase in scheme names (e.g., allow &#x201c;HTTP&#x201d; as well as &#x201c;http&#x201d;) for the sake of robustness and may produce lowercase scheme names for consistency, or in some embodiments perhaps should only produce lowercase scheme names for consistency. For example, scheme=ALPHA*(ALPHA/DIGIT/&#x201c;+&#x201d;/&#x201c;-&#x201d;/&#x201c;.&#x201d;).</p>
<p id="p-0154" num="0171">Individual schemes are contemplated. The scheme registry may maintain the mapping between scheme names and their specifications. URI scheme specifications may, and perhaps must, define their own syntax so that all strings matching their scheme-specific syntax may also match the &#x3c;absolute-URI&#x3e; grammar.</p>
<p id="p-0155" num="0172">When presented with a URI that may violates one or more scheme-specific restrictions, the scheme-specific resolution process may, and perhaps should, flag the reference as an error rather than ignore the unused parts. In so doing, the number of equivalent URIs may be reduced and detection of abuses of the generic syntax may be helped, which might indicate that the URI has been constructed to mislead a user. Embodiments contemplate that a resource can be anything physical (such as a device) or abstract (such as a concept). The widely used URL (Uniform Resource Locator) for the Web is a subset of URI.</p>
<p id="p-0156" num="0173">As referred to herein, the term &#x201c;uniform resource identifier&#x201d; or &#x201c;URI&#x201d; can be an identifier for a resource. A resource may be anything physical (such as a device) or abstract (such as a concept). A uniform resource locator (URL) is a subset of URI. CoAP splits the URI into three parts: Uri-Scheme, Uri-Authority and Uri-Path. For CoAP, the Uri-Scheme is &#x201c;coap&#x201d;. The Uri-Authority indicates the host and port of a URI, such as &#x201c;198.51.100.0:8000&#x201d;. The Uri-Path indicates the absolute path of a resource, such as &#x201c;s/light&#x201d;.</p>
<p id="p-0157" num="0174">CoAP [I-D.draft-ietf-core-coap] is an HTTP-like application layer protocol designed for constrained networks. It is a REQUEST/RESPONSE based protocol using the REST (REpresentational State Transfer) architecture. CoAP defines 4 HTTP-like methods: GET, POST, PUT, DELETE.</p>
<p id="p-0158" num="0175"><figref idref="DRAWINGS">FIG. 12</figref> is an example of CoAP message header format. Header Fields:
<ul id="ul0010" list-style="none">
    <li id="ul0010-0001" num="0000">
    <ul id="ul0011" list-style="none">
        <li id="ul0011-0001" num="0176">Ver: Version. 2-bit unsigned integer. Indicates the version of CoAP. Implementations of this specification MUST set this field to 1. Other values are reserved for future versions.</li>
        <li id="ul0011-0002" num="0177">T: 2-bit unsigned integer to indicate Transaction Type field. Indicates if this message is Confirmable (0), Non-Confirmable (1), Acknowledgment (2) or Reset (3).</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0159" num="0178">OC: 4-bit unsigned integer for Option Count field. Indicates if there are Option Headers following the base header. If set to 0 the payload (if any) immediately follows the base header. If greater than zero the field indicates the number of options to immediately follow the header.</p>
<p id="p-0160" num="0179">Code: 8-bit unsigned integer. This field indicates the CoAP Method of the request or the code of a response.</p>
<p id="p-0161" num="0180">Transaction ID: 16-bit unsigned integer. A unique Transaction ID assigned by the source and used to match responses. The Transaction ID MUST be changed for each new request (regardless of the end-point) and MUST NOT be changed when retransmitting a request.</p>
<p id="p-0162" num="0181">The term &#x201c;CON&#x201d; refers to confirmable. Some messages require an acknowledgment, either just to know they did arrive or also to deliver the reply to a request. These messages are called &#x201c;Confirmable&#x201d;.</p>
<p id="p-0163" num="0182">The term &#x201c;ACK&#x201d; refers to Acknowledgment. An Acknowledgment message acknowledges that a specific Confirmable message (identified by its Transaction ID) arrived. It may carry a payload and some options to provide more details.</p>
<p id="p-0164" num="0183">As referred to herein, a client may be node that initiates a CoAP request. A server may be the recipient of the request. A client and server can be constrained nodes or proxies.</p>
<p id="p-0165" num="0184">The present disclosure provides methods and apparatus for the IETF CoAP protocol to support exchange of sleep information at discovery phase and dynamically during network operations. The CoAP client and server can exchange the sleep information using any CoAP RESTful methods, such as POST, PUT, GET and the Subscribe/Notification mechanisms.</p>
<p id="p-0166" num="0185">In accordance with embodiments of the presently disclosed subject matter, may provide sleep-aware support to an application layer protocol that is not supported by existing application layer protocols such as, for example, HTTP or CoAP. Doing so may enable an application layer protocol to more effectively optimize the exchange of application layer messages and as a result maximize the overall efficiency of sleep nodes and proxies. For example, by making sleep schedule information available to a proxy's application layer, the proxy can then implement enhancements to its application layer protocol and messaging that allow it to maintain tighter synchronization with a sleep node. Therefore, the sleep node does not need to check-in with the proxy each time it wakes up, thus optimizing the node's battery lifetime and reducing signaling messages.</p>
<p id="p-0167" num="0186">Method and system embodiments described herein provide for the IETF CoAP protocol to support exchange of sleep attribute at discovery phase and dynamically during network operations. The CoAP client and server can exchange the sleep attributes using any CoAP RESTful methods, such as POST, PUT, GET and the Subscribe/Notification mechanisms, for example.</p>
<p id="p-0168" num="0187">Embodiments of the present disclosure can provide the following features:
<ul id="ul0012" list-style="none">
    <li id="ul0012-0001" num="0000">
    <ul id="ul0013" list-style="none">
        <li id="ul0013-0001" num="0188">The encoded sleep attributes can be embedded in the CoAP header options or payload.</li>
        <li id="ul0013-0002" num="0189">Sleep attributes can be treated as a CoAP resource and represented by a URI:
        <ul id="ul0014" list-style="none">
            <li id="ul0014-0001" num="0190">Sleep attributes can be exchanged at discovery phase using link format;</li>
            <li id="ul0014-0002" num="0191">Sleep attributes can be exchanged using well-known URI; and/or</li>
            <li id="ul0014-0003" num="0192">Sleep attributes URI can be exchanged dynamically</li>
        </ul>
        </li>
        <li id="ul0013-0003" num="0193">Piggy-back sleep attributes in request URI in any CoAP messages.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0169" num="0194">According to embodiments, methods and systems are provided for the IETF CoAP protocol to support proxy buffering of messages targeting sleeping nodes. Proxy buffering may involve queuing of messages on behalf of a resource while it is unavailable to service the messages itself. Once the resource is available the messages can then be forwarded to the resource to be serviced.</p>
<p id="p-0170" num="0195">Alternatively or additionally, embodiments contemplate methods and systems that may provide for the IETF CoAP protocol to support proxy caching subscriptions for sleep node resources. Caching a subscription to a resource residing on a sleep node may require a proxy to maintain client subscription state on behalf of the sleep node and send notifications on behalf of the sleep node to the client.</p>
<p id="p-0171" num="0196">Alternatively or additionally, embodiments contemplate methods and systems that may provide for the IETF CoAP protocol to support an enhanced cache refresh mechanism optimized for networks consisting of sleep nodes.</p>
<p id="p-0172" num="0197">Embodiments contemplate the exchange of sleep attributes. Clients of sleeping devices may use a proxy to access resources while the device is sleeping. According to one or more embodiments, sleep attribute information may be provided within the CoAP protocol for allowing a proxy to access resources while the device is sleeping.</p>
<p id="p-0173" num="0198">Sleep attribute information may include, but is not limited to:
<ul id="ul0015" list-style="none">
    <li id="ul0015-0001" num="0000">
    <ul id="ul0016" list-style="none">
        <li id="ul0016-0001" num="0199">Sleep duration&#x2014;indicates a maximum duration of time (e.g., in seconds) a node sleeps; and/or</li>
        <li id="ul0016-0002" num="0200">Sleep state&#x2014;indicates whether a sleep node is currently sleeping or not.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0174" num="0201">One or more embodiments for exchanging sleep attributes using CoAP are contemplated. Examples provided herein use the notion of client and server. In these examples, a client is the node that may initiate the CoAP request and a server may be the recipient of the request, and a client and server can be constrained nodes or proxies.</p>
<p id="p-0175" num="0202">Embodiments contemplate that sleep attributes may be embedded in the CoAP Options Header. In embodiments, sleep attributes can be exchanged using any of the supported CoAP message types. In such cases, the sleep node can update its proxy or other client nodes either via a dedicated message or by piggy-backing the update within in an existing message.</p>
<p id="p-0176" num="0203">The CoAP may support two sleep node attribute header options or alternatives: &#x201c;Sleep Duration&#x201d; and &#x201c;Sleep State&#x201d;. These alternatives are elective so they can be assigned an even number. Assuming the type for &#x201c;Sleep Duration&#x201d; may be x, which may be an integer, the header options are illustrated in Table 1 below.</p>
<p id="p-0177" num="0204">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0" pgwide="1">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="259pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE 1</entry>
</row>
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>Exemplary CoAP Sleep Attribute Header Options</entry>
</row>
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry><chemistry id="CHEM-US-00001" num="00001">
<img id="EMI-C00001" he="37.17mm" wi="88.98mm" file="US08626893-20140107-C00001.TIF" alt="embedded image" img-content="table" img-format="tif"/>
</chemistry>
</entry>
</row>
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0178" num="0205">Sleep Duration can have a default value of 0, hence in the absence of this alternative, a node may be assumed to be a non-sleep node. Sleep State can have a default value of 0, hence in the absence of this alternative, a node may be assumed to be &#x2018;Awake&#x2019;. In the event that a client or proxy receives a message containing a Sleep State setting of 1, it can be interpreted that the sleep node is going to enter into sleep mode following the successful completion of this message exchange.</p>
<p id="p-0179" num="0206"><figref idref="DRAWINGS">FIG. 13</figref> illustrates a CoAP message with sleep attributes header options according to embodiments. The figure shows how sleep attributes can be shared with other nodes using the header options in a CoAP message. Note, although the &#x2018;Sleep Duration&#x2019; and &#x2018;Sleep State&#x2019; options are shown together in this example, they can also be used independently of one another.</p>
<p id="p-0180" num="0207"><figref idref="DRAWINGS">FIG. 14</figref> illustrates a CoAP message exchange with sleep attributes header options according to embodiments. The figure shows an example where a sleep node includes sleep attributes within the header of a response message.</p>
<p id="p-0181" num="0208">Embodiments contemplate that sleep attributes can be implemented using a dedicated sleep attributes CoAP resource with a corresponding URI. This may provide a proxy or other client nodes accessibility to a node's sleep attributes via this corresponding resource. This resource can be implemented either locally on the sleep node itself or remotely on another node such as a proxy, for example.</p>
<p id="p-0182" num="0209">Below are some examples of a URI representation of a sleep attributes resource. CoAP splits the URI into Uri-Scheme, Uri-Authority and Uri-Path Options:
<ul id="ul0017" list-style="none">
    <li id="ul0017-0001" num="0000">
    <ul id="ul0018" list-style="none">
        <li id="ul0018-0001" num="0210">coap://sensor1.example.com:COAP_TBD_PORT/Sleep; and/or</li>
        <li id="ul0018-0002" num="0211">coap://sensor1.example.com:COAP_TBD_PORT/Sleep/SleepDuration
<br/>
A link to the sleep attributes resource can be included in the list of resources hosted by a node and discoverable via queries to the node's well-known resource (e.g. GET/.well-known/core).
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0183" num="0212"><figref idref="DRAWINGS">FIG. 15</figref> illustrates a query of a resource for sleep attributes according to embodiments.</p>
<p id="p-0184" num="0213">Embodiments contemplate that, in response to a client or proxy discovering the sleep attributes resource of a node, it can then query (e.g., GET sensor1.example.com:CoAP-PORT/Sleep) to obtain the sleep attributes of the node. The sleep attributes can then be returned in the CoAP header options of the response message. In addition, a client or proxy can also subscribe to the sleep attributes resource and have the sleep node notify it of changes to its sleep attributes if/when they occur.</p>
<p id="p-0185" num="0214">Alternatively or additionally, embodiments contemplate that individual sleep attributes may be carried within the link format description of the sleep attributes resource itself. For example, individual sleep attributes can be carried in the link-value and link-extensions fields of the link format description. Doing so can allow a client to obtain sleep attributes of a node during resource discovery rather than having to perform an additional query of the sleep attributes resource thereafter.</p>
<p id="p-0186" num="0215">Alternatively or additionally, embodiments contemplate that in CoAP resource discovery, the CoAP URI can also be used to carry the sleep attributes, perhaps rather than relying on a dedicated sleep attributes resource. For example, /.well-known/core/sleep. Therefore, a proxy or client can query a node to get its sleep attributes using a GET request. [GET/.well-known/core/sleep] returns a list of sleep attributes stored under this location. The sleep attributes can be returned in the CoAP header options of the ACK response message.</p>
<p id="p-0187" num="0216"><figref idref="DRAWINGS">FIG. 16</figref> illustrates an example exchange of sleep attributes using URI according to one or more embodiments.</p>
<p id="p-0188" num="0217"><figref idref="DRAWINGS">FIG. 17</figref> illustrates a message flow diagram of creating/maintaining sleep attributes on a proxy resource according to embodiments. The figure shows an approach where a sleep node creates a sleep attributes resource remotely on its proxy via a POST operation. Later, the sleep node may issue a GET request to the sleep attributes resource on the proxy to obtain an updated version of its sleep attributes which have been potentially updated by the proxy. For example, a proxy node may instruct the constrained node to use certain sleep attributes which the proxy has coordinated across other nodes on the network. Alternatively or additionally, embodiments contemplate that the sleep node can also make future updates to its sleep attributes by performing a PUT operation to the proxy's resource.</p>
<p id="p-0189" num="0218">An example advantage of using a sleep attributes resource is that sleep attributes become a known resource for the sleep node, proxy, and other nodes. Additional sleep attributes can be exchanged, and the format can be more flexible (compared to embedding sleep attributes into the headers of existing message exchanges). Additionally, the sleep attributes may be managed remotely in a centralized repository, not necessarily locally on the sleep node itself. This can facilitate centralized control and configuration of sleep attributes for sleep nodes within a network.</p>
<p id="p-0190" num="0219">Alternatively or additionally, embodiments contemplate that sleep attributes can be added in the request URI within the CoAP header options, perhaps rather than defining new dedicated sleep attribute header options. In this way, the sleep attributes can be piggybacked in any CoAP message. <figref idref="DRAWINGS">FIG. 18</figref> illustrates an example where the sleep node informs the proxy that its sleep duration will be 1 hour in accordance with one or more embodiments. The sleep attributes are piggy-backed in the response URI. Embodiments contemplate that such attributes can be exchanged at any time, using any suitable CoAP method.</p>
<p id="p-0191" num="0220">Embodiments contemplate one or more sleep node attribute use scenarios. Example sleep duration scenarios follow:
<ul id="ul0019" list-style="none">
    <li id="ul0019-0001" num="0000">
    <ul id="ul0020" list-style="none">
        <li id="ul0020-0001" num="0221">A proxy can detect whether a resource resides on a sleep node and may determine whether a proxy buffer is required as well as the amount of corresponding resources to allocate (e.g. larger buffer for sleep nodes having larger max sleep duration values);</li>
        <li id="ul0020-0002" num="0222">A client can determine if a resource resides on a sleep node and hence whether or not a proxy may, or perhaps must, be used to access the resource; and/or</li>
        <li id="ul0020-0003" num="0223">A proxy or client can optimally configure their response timeout value to take into account the time a node spends sleeping.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0192" num="0224">Embodiments contemplate one or more example of sleep state use cases, such as:
<ul id="ul0021" list-style="none">
    <li id="ul0021-0001" num="0000">
    <ul id="ul0022" list-style="none">
        <li id="ul0022-0001" num="0225">A proxy or client can more optimally schedule cache refreshes to a sleep node's resource such that it occurs while the sleep node is awake;</li>
        <li id="ul0022-0002" num="0226">A proxy or client can reduce network congestion by throttling (e.g. buffering) requests to sleeping nodes;</li>
        <li id="ul0022-0003" num="0227">Using the sleep state, a proxy or client can optimize scheduling messages to a sleep node for cases where the sleep duration is larger than the retransmission window calculated as RESPONSE_TIMEOUT*(2^MAX_RETRANSMIT&#x2212;1). Doing so can avoid the occurrence of a max retransmission error while the node is sleeping; and/or</li>
        <li id="ul0022-0004" num="0228">Optimize when to schedule sending of messages (E.g. schedule requests when sleep node is awake and possibly avoid the need to use a proxy).</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0193" num="0229">Embodiments contemplate that proxy buffering can involve queuing of messages on behalf of a resource while it may be unavailable to service the messages itself. Once the resource is available the messages are then forwarded to the resource to be serviced (e.g. PUT request to a sleep node resource). This may be in contrast to caching, where a proxy can service a message on behalf of resource without having to forward any messages to the resource (e.g. servicing a GET request using a cached version of the resource).</p>
<p id="p-0194" num="0230">Embodiments contemplate that support for proxy caching in CoAP. To support a proxy buffering feature in CoAP, a mechanism may be provided for a proxy to determine when (and when not) to buffer for a corresponding resource. Sleep Node Attributes can be leveraged by a proxy to help make this determination. For example, if a resource supports a PUT operation and it resides on a node having a non-zero Sleep Duration then the resource is a candidate for buffering by a proxy. In addition, if the Sleep State of this resource changes to &#x2018;Asleep&#x2019; then the proxy may, or perhaps should, enable buffering. Likewise, if the Sleep State of the resource changes to &#x2018;Awake&#x2019; then the proxy may, or perhaps should, start forwarding any buffered messages to the resource.</p>
<p id="p-0195" num="0231"><figref idref="DRAWINGS">FIG. 19</figref> shows an example of a proxy buffering a PUT request message on behalf of a sleep node. In this example, the proxy discovers the sleep attributes resource of the sleep node by querying its well-known resource. The proxy may then subscribe to the sleep attributes resource such that it is notified of changes. The resource then notifies the proxy each time its sleep attributes are updated. This is an example of how sleep attributes can be shared between the sleep node and its proxy.</p>
<p id="p-0196" num="0232">Using the Sleep State attribute, the proxy may start buffering incoming messages when it is notified that the resource is entering sleep mode. Likewise, the proxy forwards buffered messages to the resource when it is notified that the resource has exited sleep mode.</p>
<p id="p-0197" num="0233">Embodiments contemplate that an incremental feature enhancement may allow the proxy to convey the number of buffered messages to the sleep node using a CoAP header alternative. In doing so, a sleep node can be made aware of the number of buffered messages that are waiting to be serviced at the proxy and may refrain from going back to sleep until some or all buffered messages have been serviced. For example, in <figref idref="DRAWINGS">FIG. 19</figref>, the proxy could include this header alternative within the ACK message to the &#x2018;Awake&#x2019; notification. Table 2 shows a CoAP number of buffered messages header option.</p>
<p id="p-0198" num="0234">
<tables id="TABLE-US-00002" num="00002">
<table frame="none" colsep="0" rowsep="0" pgwide="1">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="259pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE 2</entry>
</row>
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>Exemplary CoAP number of Buffered Messages Header Option</entry>
</row>
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry><chemistry id="CHEM-US-00002" num="00002">
<img id="EMI-C00002" he="29.21mm" wi="87.55mm" file="US08626893-20140107-C00002.TIF" alt="embedded image" img-content="table" img-format="tif"/>
</chemistry>
</entry>
</row>
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0199" num="0235"><figref idref="DRAWINGS">FIG. 20</figref> shows an example CoAP message indicating a number of buffered messages.</p>
<p id="p-0200" num="0236">Embodiments contemplate proxy caching for sleep node resources. Embodiments contemplate that CoAP may, or perhaps must, support the caching of recent resource requests, along with caching subscriptions to sleeping nodes. Unlike caching the response to a recent resource request (e.g. response to a GET request), caching a subscription to a resource residing on a sleep node requires a proxy to maintain client subscription state on behalf of the sleep node. By maintaining client subscription state, a proxy can then send notifications on behalf of the sleep node to the client. These notifications can be initially serviced by the proxy using its cached version of the sleep node resource. Thereafter, as the proxy receives resource updates from the sleep node, it can provide notification updates to all subscribed clients on behalf of the sleep node. Contemplate embodiments define functionality for caching subscriptions to sleeping nodes such that a proxy can send notification responses on behalf of a sleeping node.</p>
<p id="p-0201" num="0237"><figref idref="DRAWINGS">FIG. 21</figref> illustrates a message flow diagram of a proxy subscribing to a sleep node resource and receiving a response from the sleep node resource which it caches according to an embodiment. The proxy then receives a subscribe request to the same sleep node resource which it services on behalf of the sleep node, using its locally cached version of the resource value. In addition, the proxy also maintains a cached version of the client's subscription request. Later when the sleep node wakes-up and provides a notification to the proxy with an updated value for the Temp resource, the proxy creates a corresponding notification to the subscribed client. In doing so, the proxy can off-load work from the sleep node since the sleep node does not need to maintain a subscription for the client. In addition, the proxy can provide notifications to the client node even when the sleep node is sleeping.</p>
<p id="p-0202" num="0238">Embodiments contemplate that CoAP may define cache refresh functionality using a CoAP GET request, for example. Although this scheme may be adequate for networks consisting of non-sleep nodes, it can be problematic for networks having sleep nodes. For example, a GET request to a sleep node with a sleep duration that exceeds the CoAP retransmission window defined by RESPONSE_TIMEOUT*(2^MAX_RETRANSMIT&#x2212;1) can result in a timeout as shown in <figref idref="DRAWINGS">FIG. 22</figref>. For the case where a resource is implemented on a sleep node, the use of a CoAP GET request to support a cache refresh operation may not be optimal hence alternatives are needed. Embodiments contemplate that this problem may be most prevalent for nodes that communicate directly with sleep nodes. For example, a proxy for a sleep node or possibly a client node that communicates directly with a sleep node (in the event that a proxy is not available). For nodes that communicate indirectly with a sleep node via a proxy, this may be less of a problem since the caching and buffering implemented by the proxy can help alleviate this issue.</p>
<p id="p-0203" num="0239">Embodiments contemplate that, for cache refresh, supporting sleep nodes may include leveraging a subscribe/notify scheme. When deciding to cache a resource that resides on a sleep node, a proxy or client can rely on notifications from the sleep node to refresh its cached version of the resource rather than initiating a GET request to the sleep node resource. Once subscribed to a resource, a proxy or client can receive cache refresh notification from a sleep node (e.g., each time the sleep node wakes-up).</p>
<p id="p-0204" num="0240"><figref idref="DRAWINGS">FIG. 23</figref> illustrates an example message flow diagram including a buffered cache refresh request and response according to embodiments. Embodiments contemplate that when sleep nodes are involved, care should be exercised when configuring the CoAP Max-age header option. Max-age may, and perhaps should, be configured such that it is greater than the cumulative sleep duration of all sleep nodes located in the path between the proxy/client and the sleep node. Otherwise, the cached representation of a resource can timeout prematurely before a refresh notification is received. Embodiments also contemplate that the value of Subscription Lifetime may be greater than both the Max-Age and Sleep Duration.</p>
<p id="p-0205" num="0241">Embodiments contemplate methods and apparatus for the IETF CoAP protocol to support exchange of sleep information at discovery phase and dynamically during network operations. The CoAP client and server can exchange the sleep information using any CoAP RESTful methods, such as POST, PUT, GET and the Subscribe/Notification mechanisms.</p>
<p id="p-0206" num="0242">In light of the previous description, and referring to <figref idref="DRAWINGS">FIG. 24</figref>, embodiments contemplate that a first node may be associated with a first communication network and the first node may also be in communication with a second communication network. The first node may perform methods that, at <b>2402</b>, may include communicating with a second node, where the second node may be associated with the second communication network. At <b>2404</b>, embodiments contemplate receiving sleep information from the second node, and at <b>2406</b>, managing at least one resource of the second node based, at least in part, on the sleep information. Embodiments contemplate that the first node may be a non-constrained node, and that the first node may function as a proxy node. Embodiments contemplate that the second node may be a constrained node. At <b>2408</b>, embodiments contemplate receiving an application layer message from the second node.</p>
<p id="p-0207" num="0243">Embodiments contemplate that the sleep information may be included in one or more fields of the application layer message, and the one or more fields of the application layer message may be a part of at least one of a header or a payload. Further, embodiments contemplate, at <b>2410</b>, subscribing to the second node to receive the sleep information. Referring to <figref idref="DRAWINGS">FIG. 25</figref>, embodiments contemplate, at <b>2412</b>, responding to the second node upon receipt of the sleep information. Embodiments contemplate that the application layer message may be provided in at least one of hypertext transfer protocol (HTTP) or a constrained application protocol (CoAP). Also, embodiments contemplate that the sleep information may include at least one of a sleep duration or a sleep state. Embodiments contemplate, at <b>2414</b>, receiving a message from a third node, where the third node may be associated with the first communication network, and the message from the third node may be directed to the second node. Also, embodiments contemplate that the management of the at least one resource of the second node may include, at <b>2416</b>, caching the message from the third node and, at <b>2418</b>, providing the message to the second node.</p>
<p id="p-0208" num="0244">Referring to <figref idref="DRAWINGS">FIG. 26</figref>, embodiments contemplate that a first node may be associated with a first communication network and the first node may also be in communication with a second communication network. The first node may perform methods that, at <b>2602</b>, may include communicating with a second node, where the second node may be associated with the second communication network. At <b>2604</b>, embodiments contemplate receiving a constrained application protocol (CoAP) message from the second node, where the CoAP may include at least one header. Also, embodiments contemplate, at <b>2606</b>, determining one or more sleep attributes of the second node from the at least one CoAP message header, and at <b>2608</b>, responding to the message from the second node. In addition, embodiments contemplate that the sleep attributes may be represented by a uniform resource identifier (URI) in the at least one CoAP message header. Embodiments contemplate, at <b>2610</b>, synchronizing with the second node upon the second node transitioning from a sleep mode to a non-sleep mode. And embodiments contemplate, at <b>2612</b>, placing the second node into a sleep mode.</p>
<p id="p-0209" num="0245">Although features and elements are described above in particular combinations, one of ordinary skill in the art will appreciate that each feature or element can be used alone or in any combination with the other features and elements. In addition, the methods described herein may be implemented in a computer program, software, or firmware incorporated in a computer-readable medium for execution by a computer or processor. Examples of computer-readable media include electronic signals (transmitted over wired or wireless connections) and computer-readable storage media. Examples of computer-readable storage media include, but are not limited to, a read only memory (ROM), a random access memory (RAM), a register, cache memory, semiconductor memory devices, magnetic media such as internal hard disks and removable disks, magneto-optical media, and optical media such as CD-ROM disks, and digital versatile disks (DVDs). A processor in association with software may be used to implement a radio frequency transceiver for use in a WTRU, UE, terminal, base station, RNC, or any host computer.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-chemistry idref="CHEM-US-00001" cdx-file="US08626893-20140107-C00001.CDX" mol-file="US08626893-20140107-C00001.MOL"/>
<us-chemistry idref="CHEM-US-00002" cdx-file="US08626893-20140107-C00002.CDX" mol-file="US08626893-20140107-C00002.MOL"/>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A first node, the first node being associated with a first communication network and the first node being in communication with a second communication network, the first node being configured, at least in part, to:
<claim-text>communicate with a second node, the second node being associated with the second communication network;</claim-text>
<claim-text>receive a first sleep information from the second node, the first sleep information encoded in a uniform resource identifier (URI) of a first constrained application protocol (CoAP) message;</claim-text>
<claim-text>update the first sleep information to form an updated sleep information; and</claim-text>
<claim-text>send the updated sleep information to the second node, the updated sleep information encoded in a URI of a second CoAP message.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The first node of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first node is a non-constrained node, and the first node functions as a proxy node.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The first node of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the second node is a constrained node.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The first node <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processor is further configured such that the updated sleep information is sent to the second node in response to a request from the second node.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The first node of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least one of the first sleep information or the updated sleep information includes at least one of a sleep duration or a sleep state.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The first node of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first node is further configured to:
<claim-text>manage at least one resource of the second node based, at least in part, on the first sleep information; and</claim-text>
<claim-text>receive a message from a third node, the third node being associated with the first communication network, and the message from the third node being directed to the second node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The first node of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the management of the at least one resource of the second node includes caching the message from the third node and providing the message to the second node.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A method, the method performed by a first device, the first device being associated with a first communication network and the first device being in communication with a second communication network, the method comprising:
<claim-text>communicating by the first device with a second device, the second device being associated with the second communication network;</claim-text>
<claim-text>receiving at the first device a first sleep information from the second device, the first sleep information encoded in a uniform resource identifier (URI) of a first constrained application protocol (CoAP) message;</claim-text>
<claim-text>updating at the first device the first sleep information to form an updated sleep information; and</claim-text>
<claim-text>sending the updated sleep information from the first device to the second device, the updated sleep information encoded in a URI of a second CoAP message.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the first device is a non-constrained device, the first device functions as a proxy device, and the second device is a constrained node.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the updated sleep information is sent to the second node in response to a request from the second node.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the method further comprises subscribing to the second device to receive the first sleep information.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the method further comprises responding to the second device upon receipt of the first sleep information.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A method, the method performed by a first device, the first device being associated with a first communication network, and the first device being in communication with a second communication network, the method comprising:
<claim-text>communicating by the first device with a second device, the second device being associated with the second communication network;</claim-text>
<claim-text>performing by the first device a resource discovery of the second device;</claim-text>
<claim-text>receiving at the first device a first constrained application protocol (CoAP) message from the second device, the first CoAP message including at least one header;</claim-text>
<claim-text>determining by the first device based on an indicator in the at least one header that the second device is operating under a sleep pattern triggered by an external event; and</claim-text>
<claim-text>determining by the first device one or more sleep attributes of the second device from a link format description of a sleep attributes resource during the resource discovery of the second device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, further comprising sending a second CoAP message to the second device from the first device, wherein the second CoAP message includes an indication in a header, the indication indicating a number of messages for the second device being buffered at the first device.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the method further comprises synchronizing with the second device upon the second device transitioning from a sleep mode to a non-sleep mode.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the method further comprises placing the second device into a sleep mode.</claim-text>
</claim>
</claims>
</us-patent-grant>
