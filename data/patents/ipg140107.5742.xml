<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626846-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626846</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12735377</doc-number>
<date>20090210</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="regional">
<country>EP</country>
<doc-number>08290126</doc-number>
<date>20080211</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>473</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>16</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>709206</main-classification>
<further-classification>709207</further-classification>
</classification-national>
<invention-title id="d2e71">Method for remote configuration of an apparatus via a network</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7865581</doc-number>
<kind>B2</kind>
<name>Straub et al.</name>
<date>20110100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709221</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>8000345</doc-number>
<kind>B2</kind>
<name>Blackford et al.</name>
<date>20110800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370466</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2006/0028981</doc-number>
<kind>A1</kind>
<name>Wright</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2007/0201508</doc-number>
<kind>A1</kind>
<name>Blackford et al.</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370466</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2009/0064268</doc-number>
<kind>A1</kind>
<name>Straub et al.</name>
<date>20090300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>725152</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2009/0100489</doc-number>
<kind>A1</kind>
<name>Strothmann</name>
<date>20090400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>725114</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>WO</country>
<doc-number>WO 2007/146048</doc-number>
<date>20071200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>WO</country>
<doc-number>WO 2008/039481</doc-number>
<date>20080400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00009">
<othercit>&#x201c;CPE WAN Management Protocol&#x201d; May 2004, Produced by DSLHome-Technical Working Group, Editors: Jeff Berstein, Tim Spets.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00010">
<othercit>&#x201c;ACES: An Efficient Admission Controll Scheme for QoS-Aware Web Servers&#x201d; Xiangping Chen, Huamin Chen, Prasant Mohapatra, Computer Communications, 2002.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00011">
<othercit>Written Opinion, Apr. 22, 2009.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00012">
<othercit>International Search Report, Apr. 5, 2009.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00013">
<othercit>Search Report Transmittal, Apr. 5, 2009.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>9</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>709206</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709207</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>4</number-of-drawing-sheets>
<number-of-figures>4</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110016183</doc-number>
<kind>A1</kind>
<date>20110120</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Coppens</last-name>
<first-name>Jan</first-name>
<address>
<city>Merelbeke</city>
<country>BE</country>
</address>
</addressbook>
<residence>
<country>BE</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Stevens</last-name>
<first-name>Christoph</first-name>
<address>
<city>Stekene</city>
<country>BE</country>
</address>
</addressbook>
<residence>
<country>BE</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Justen</last-name>
<first-name>Pascal</first-name>
<address>
<city>Sint-Pieters-Woluwe</city>
<country>BE</country>
</address>
</addressbook>
<residence>
<country>BE</country>
</residence>
</us-applicant>
<us-applicant sequence="004" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Van Den Bosch</last-name>
<first-name>Sven</first-name>
<address>
<city>Lochristi</city>
<country>BE</country>
</address>
</addressbook>
<residence>
<country>BE</country>
</residence>
</us-applicant>
<us-applicant sequence="005" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Acke</last-name>
<first-name>Willem</first-name>
<address>
<city>Bonheiden</city>
<country>BE</country>
</address>
</addressbook>
<residence>
<country>BE</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Coppens</last-name>
<first-name>Jan</first-name>
<address>
<city>Merelbeke</city>
<country>BE</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Stevens</last-name>
<first-name>Christoph</first-name>
<address>
<city>Stekene</city>
<country>BE</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Justen</last-name>
<first-name>Pascal</first-name>
<address>
<city>Sint-Pieters-Woluwe</city>
<country>BE</country>
</address>
</addressbook>
</inventor>
<inventor sequence="004" designation="us-only">
<addressbook>
<last-name>Van Den Bosch</last-name>
<first-name>Sven</first-name>
<address>
<city>Lochristi</city>
<country>BE</country>
</address>
</addressbook>
</inventor>
<inventor sequence="005" designation="us-only">
<addressbook>
<last-name>Acke</last-name>
<first-name>Willem</first-name>
<address>
<city>Bonheiden</city>
<country>BE</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Harness, Dickey &#x26; Pierce</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Alcatel Lucent</orgname>
<role>03</role>
<address>
<city>Paris</city>
<country>FR</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Wasel</last-name>
<first-name>Mohamed</first-name>
<department>2454</department>
</primary-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/EP2009/051499</doc-number>
<kind>00</kind>
<date>20090210</date>
</document-id>
<us-371c124-date>
<date>20100907</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2009/101077</doc-number>
<kind>A </kind>
<date>20090820</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An embodiment of the method includes remote configuration of at least one apparatus using a configuration server to configure the apparatus in situ via a network, to which the apparatus and the configuration server are connected. The method includes exchanging information requests and inform messages between the configuration server and the apparatus. The method further includes prioritizing, at the configuration server, the requested information indicated by the at least one of information requests and inform messages. The method also includes sending, from the configuration server, the requested information indicated by the at least one of information requests and inform messages over the network to the apparatus.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="189.91mm" wi="116.33mm" file="US08626846-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="160.44mm" wi="155.19mm" file="US08626846-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="213.53mm" wi="116.67mm" file="US08626846-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="209.38mm" wi="106.26mm" file="US08626846-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="220.05mm" wi="143.51mm" file="US08626846-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0002" num="0001">The present invention relates to a method for remote configuration of at least one apparatus using a configuration server to configure the apparatus in situ via a network.</p>
<p id="p-0003" num="0002">Lately, it has become more common to allow apparatuses, like domestic devices, such as TV's, set-top boxes, Voice Over-Internet Phones (VoIP), laptops, media servers, modems, routers, gateways, and the like, to be configured via a network to which these apparatuses are connected, such as for instance the Internet, while at their location of use (i.e. in situ). There are several embodiments of such methods, such as for instance the SNMP and/or TR-069.</p>
<p id="p-0004" num="0003">Below, by way of non-limiting example reference will be made to the TR-069 protocol, without excluding any alternative embodiment, protocol or standard, either already existing or to be developed in the future.</p>
<p id="p-0005" num="0004">TR-069 is an abbreviation for Technical Report 069, and is a DSL Forum technical specification entitled CPE WAN Management Protocol (CWMP). The abbreviation CPE stands for Consumer Premise Equipment, herein also referred to as simply an &#x201c;apparatus&#x201d; in a broader sense than just the TR-069 protocol. The TR-069 protocol defines an application layer protocol for remote management of end-user devices or CPE's or simply apparatuses.</p>
<p id="p-0006" num="0005">As a bidirectional SOAP/HTTP based protocol TR-069 provides the communication between CPE and Auto Configuration Servers (ACS), herein also referred to as configuration servers in general. It includes both a safe auto configuration and the control of other CPE management functions within an integrated framework. In the course of the boom of the broadband market, the number of different Internet access possibilities grew in proportion with this boom, where for instance modems, routers, gateways, Set-top box, and VoIP-phones became more common and the underlying technologies emerged to reach a bigger part of the public at large.</p>
<p id="p-0007" num="0006">At the same time the configuration of this equipment became more complicated&#x2014;too complicated for the end-users. For this reason the TR-069 protocol was developed. It provides the possibility of auto configuration of these access types. The technical specifications are managed and published by the DSL Forum. Using TR-069 the terminals can get in contact with the Auto Configuration Servers (ACS) and establish the configuration automatically. Accordingly other service functions can be provided. TR-069 is the current protocol for activation of terminals in the range of DSL broadband market. Other fora, such as Home Gateway Initiative (HGI) and DVB, are endorsing CWMP as the protocol for remote management of home network devices (e.g. the HGI gateway) and terminals (e.g. the DVB IPTV STB).</p>
<p id="p-0008" num="0007">Generally speaking, such apparatus configuring methods like the TR-069 protocol have in common that the configuration information can comprise a download of information, such as programs, firmware or software, to initially set-up an apparatus for the apparatus to function as desired/intended, or to provide an update. Alternatively or additionally, the information can replace existing information in an already functioning apparatus, or an amendment or update may be desired in already provided information. The download of information to the apparatus can be initiated by the configuration server or indeed by the apparatus itself, when that is in need of initial information or of updated information, etc. For this the apparatus upon initialization or in use can send to the configuration server a request to be provided with initial or updates/amended configuration information. The apparatus may be programmed to inquire if updates are available at regular intervals. Also the configuration server may be used to download to any number of such apparatuses an updated or amended version of configuration information, when or shortly after such updated or amended configuration for the apparatuses has been made available to the configuration server. All kinds of permutations are possible, e.g. where a configuration server sends to all apparatuses a notification that a &#x201c;new&#x201d; version of configuration information is available for download to the apparatuses upon request, after which the apparatuses activate a routine for requesting for the &#x201c;new&#x201d; configuration information, and other permutations are also possible.</p>
<p id="p-0009" num="0008">The problems with these prior art methods or protocols relate to the configuration servers having to provide services to growing numbers of apparatuses or end user devices or, in terms of the TR-069 protocol, CPE's.</p>
<p id="p-0010" num="0009">For example, the TR-069 protocol allows defining a notification attribute for each parameter in the object model of a managed device. The notification attribute indicates whether the CPE should include changed values of the specified parameter(s) in the Inform message, and whether the CPE must initiate a session to the ACS when the specified parameter(s) change in value. Notification settings for a parameter include &#x2018;off&#x2019;, &#x2018;passive&#x2019; and &#x2018;active&#x2019;.</p>
<p id="p-0011" num="0010">In case of passive notification, whenever the specified parameter value changes, the CPE must include the new value in the ParameterList in the Inform message that is sent the next time a session is established to the ACS. It is emphasized here that in case of active notification, whenever the specified parameter value changes, the CPE must initiate a session to the ACS, and include the new value in the ParameterList in the associated Inform message.</p>
<p id="p-0012" num="0011">However, when many of such notifications occur (e.g., when used for sending frequent alarms to the ACS), it can significantly change the performance and scalability requirements on the ACS. However, the TR-069 protocol and other similar initiatives were designed as protocols for infrequent communication (e.g., the default periodic Inform interval in TR-069 is set to 24 hours) between an ACS and large numbers of CPE's. With new sessions being set up for very frequent active notifications, the interaction frequency may be expected to increase significantly, thus invalidating to some extent the assumptions TR-069 is based on.</p>
<p id="p-0013" num="0012">Thus, the frequency of these active notifications increases (when used for alarm handling for example), there are currently no solutions to this emerging problem available.</p>
<p id="p-0014" num="0013">For instance, the publication DSLHOME-TECHNICAL WORKING GROUP: &#x201c;CPE-WAN Management Protocol&#x201d;, XP002316355, retrievable from http://www.dslforum.org/aboutdsl/Technical_Reports/TR-069.pdf in the version of Feb. 4, 2005, reflects the state of the art with respect to the TR-069 protocol, based on rare occurrences of communications and information requests or inform messages in particular.</p>
<heading id="h-0002" level="1">SUMMARY</heading>
<p id="p-0015" num="0014">The present invention has for an objective to resolve or at least lessen the problems of the prior art by providing a method in accordance with the appended independent claim. All embodiments are based on a priority that is assigned to the TR-069 notification attributes.</p>
<p id="p-0016" num="0015">The invention thus provides mechanisms that allow reducing the load on the ACS, spreading it or help it define which messages to process and which messages to refuse in accordance with a priority scheme or mechanism.</p>
<p id="p-0017" num="0016">It is acknowledged here that from Chen, X., et al: &#x201c;ACES: An efficient admission control scheme for QoS-aware web servers&#x201d; a prioritization of server information is known, However, this know prioritization scheme relates specifically to high-load web-servers with anticipated high frequencies of information requests and inform messages. The skilled person would find no incentive in this disclosure to apply the teachings thereof in the TR-069 or any similar low-load oriented protocol or technology, as for instance known from DSLHOME-TECHNICAL WORKING GROUP: &#x201c;CPE-WAN Management Protocol&#x201d;, XP002316355.</p>
<p id="p-0018" num="0017">The invention can be embodied in different manners, each forming a preferred embodiment of the invention. Such embodiments are defined in the appended dependent claims.</p>
<p id="p-0019" num="0018">For example, an embodiment can be to prioritize inform messages according to the TR-069 protocol at the ACS side to allow the ACS to refuse or delay low-priority sessions. Low priority sessions could even be advanced, if the capacity demand of the ACS allows for this, and dependent on other inform messages and the priority thereof attributed thereto. If pursuant to the TR-069 protocol a CPE is addressed on a designated or predetermined port and URL, this causes the CPE to perform a fixed action: it establishes a session with the pre-determined ACS address. Once a connection is established, the CPE sends an inform message to the ACS. With the priority attributed to the inform message, sequences for handling of inform messages can be done in accordance with the predetermined order or prioritization.</p>
<p id="p-0020" num="0019">Alternatively, such prioritization could be embodied at the CPE side to allow the CPE to block, pause or delay low-priority sessions.</p>
<p id="p-0021" num="0020">In the embodiment of setting the manner of handling of inform messages at the ACS side, it is possible to prioritize all inform messages so there is control over which inform messages are dropped at the ACS side in overload conditions. At least in this embodiment the ACS will have available all current needs for information and is best able to assign a handling order or sequence or could even be allowed to disregard information requests or messages. This priority information can be included in the inform messages or in a header field in any lower layer network protocol (e.g., HTTP, TCP, etc.). Also the ACS could have available a table in which the inform messages are ranked by priority.</p>
<p id="p-0022" num="0021">In the embodiment where the prioritization is done at the CPE side, a threshold can be defined on the CPE for each parameter with active notification. If the notification priority of the parameter is below the threshold, no active notification, new event code or alternative delivery is sent. The threshold can be set on the basis of alarm severity and/or on categorizing what is an alarm for that CPE.</p>
<p id="p-0023" num="0022">Also, in general for prioritizing at the configuration server or in the apparatus, it is possible to define a threshold vector, where the index corresponds to the priority-number, and the value the number of pending alarms for this priority. For example, in the TR-069 protocol, prio[1. .3]={1, 5, 10} is an indication that if one prio=1 alarm is pending, an inform message is to be sent, and if 5 prio=2 alarms have been cumulated, another inform message is to be sent.</p>
<p id="p-0024" num="0023">The case described in this embodiment maps to the following: prio[1. . x]={1, 1, 1, 0, 0, 0, . . . 0}, where a &#x201c;0&#x201d; indicates that no inform message is to be sent, and where the threshold here is prio=3. The same can naturally be embodied in the configuration server.</p>
<p id="p-0025" num="0024">Additionally or alternatively a back-off mechanism, which could be dynamic, can be employed within the scope of the present invention. Such a back-off mechanism can be provided in the ACS (based on the configured threshold) or in the CPE. In overload conditions, sessions may be refused or declined, which defines a back-off mechanism. By sending a notification to the CPE or CPE's that an overload situation is occurring, this causes the CPE or CPE's to &#x201c;back off&#x201d; and send the inform message at a later time instance. If the active notifications are high-priority, the back-off interval might be shorter, or the inform message may be awarded priority in a priority listing of sending tasks.</p>
<p id="p-0026" num="0025">Additionally or alternatively the invention could comprise sending an &#x201c;umbrella&#x201d; alarm. When too many alarms are generated by the CPE, an &#x201c;umbrella&#x201d; alarm, i.e. an alarm indicating &#x201c;too many alarms&#x201d;, can be sent to the ACS instead of each individual alarm. This way, only a single session is set up with the ACS and the burden of investigating each alarm is put on the ACS. However, the required buffer of alarms is maintained on the CPE. Alternatively, both an &#x201c;umbrella&#x201d; alarms and individual alarms may be sent, but with different priority.</p>
<p id="p-0027" num="0026">Further, additionally or alternatively a dedicated ACS could be employed for high-priority notifications. More in general a separate ACS could be provided for each priority or class or group of priorities, comprising a predetermined number of priorities. In addition to the regular ACS, it is possible to install a dedicated ACS, which has the task of handling high-priority active notifications. The regular ACS will need to configure each CPE with the address of the other ACS, which will also require changes to the TR-069 protocol, if that is the embodiment of the present invention actually employed for incorporating the invention therein. In this variant of the invention, the inform message or information request being sent can be analyzed via a TR-069 proxy and routed accordingly towards a dedicated ACS. It is noted this may involve inspection of ParameterValues and/or a new EventCode in the inform message or information request.</p>
<p id="p-0028" num="0027">Because the existing solutions do not address the problem of many active notifications, the main advantages of the present invention are scalability and overload protection of the configuration server, and in case of the TR-069 protocol this configuration server is an ACS.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0029" num="0028">The present invention will now be elucidated by way of example in the following description, which is drawn up in conjunction with the accompanying drawings, wherein the same or similar components, features and aspects of the invention are identified with the same reference numbers, and wherein:</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 1</figref> shows a TR-069 protocol based system in which the invention is embodied.</p>
<p id="p-0031" num="0030">In <figref idref="DRAWINGS">FIG. 2</figref> a flow chart is depicted for clarifying the process order in the scenario of case <b>1</b>.</p>
<p id="p-0032" num="0031">In <figref idref="DRAWINGS">FIG. 3</figref> a flow chart is depicted for clarifying the process order in the scenario of case <b>2</b>.</p>
<p id="p-0033" num="0032">In <figref idref="DRAWINGS">FIG. 4</figref> a flow chart is depicted for clarifying the process order in the scenario of case <b>3</b>.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF EXAMPLE EMBODIMENTS</heading>
<p id="p-0034" num="0033">In <figref idref="DRAWINGS">FIG. 1</figref> a TR-069 protocol based system <b>1</b> is shown schematically. The system forms an embodiment of the present invention, comprising a network <b>4</b> to which at least one CPE <b>2</b> as well as at least one ACS <b>3</b> are connected. Each CPE <b>2</b> is connected to the network <b>4</b> via a DSLAM <b>5</b>, whilst each ACS <b>3</b> is connected to the network <b>4</b> via a BRAS <b>6</b>. Each ACS <b>3</b> can be under control of a corresponding OSS or service configuration manager <b>7</b>. Likewise, each CPE <b>2</b> is connected to at least one end-user device, such as a set-top box <b>8</b>, a VoIP telephone <b>9</b>, a router <b>10</b>, a gateway <b>11</b>, etcetera. The CPE <b>2</b> can be a part of and incorporated into any of the devices <b>8</b>-<b>11</b>, or even into the DSLAM <b>5</b>.</p>
<p id="p-0035" num="0034">The shown configuration according to the TR-069 protocol allows defining a notification attribute for each parameter in the object model of a managed device <b>8</b>-<b>11</b> or CPE <b>2</b> itself, or even the DSLAM <b>5</b>. In <figref idref="DRAWINGS">FIG. 1</figref>, two single CPE's <b>2</b> and two distinct ACS's <b>3</b> are shown. More CPE's <b>2</b> and ACS's <b>3</b> are also possible, which be described in more detail below.</p>
<p id="p-0036" num="0035">The notification attribute indicates whether the CPE <b>2</b> should include changed values of the specified parameter(s) in any inform message sent by the CPE to an ACS <b>3</b>, and whether the CPE <b>2</b> must initiate a session to the ACS <b>3</b>, when the specified parameter(s) change in value. Notification settings for a parameter include &#x2018;off&#x2019;, &#x2018;passive&#x2019; and &#x2018;active&#x2019;.</p>
<p id="p-0037" num="0036">In case of passive notification, whenever the specified parameter value changes, the CPE <b>2</b> must include the new value in the ParameterList in the Inform message that is sent the next time a session is established to the ACS <b>3</b>. In case of active notification, whenever the specified parameter value changes, the CPE must initiate a session to the ACS, and include the new value in the ParameterList in the associated Inform message.</p>
<p id="p-0038" num="0037">However, when many of such notifications occur (e.g., when used for sending frequent alarms to the ACS <b>3</b>), it can significantly change the performance and scalability requirements on the ACS <b>3</b>. Namely, when the frequency of these active notifications increases (when used for alarm handling for example), the invention is intended to provide a solution.</p>
<p id="p-0039" num="0038">According to the invention mechanisms are defined to allow reducing the load on the ACS <b>3</b> or ACS's <b>3</b>, spreading it or help it define which messages to process and which messages to refuse to a priority mechanism.</p>
<p id="p-0040" num="0039">The invention comprises several measures and/or features that are embodied in isolation or any combination, to reduce the load on the ACS <b>3</b> or ACS's <b>3</b> in case of very frequent active notifications. All embodiments are based on a priority that is assigned to the TR-069 notification attributes.</p>
<p id="p-0041" num="0040">The first preferred embodiment relates to prioritizing TR-069 inform messages. This can be done either or both of at the ACS <b>3</b> side to allow the ACS <b>3</b> to refuse, delay or advance low-priority sessions. Additionally or alternatively prioritization can be done at the CPE <b>2</b> side to allow the CPE <b>2</b> itself to block low-priority sessions. In the first embodiment, it is possible to prioritize all inform messages sent along connection A over the network <b>4</b>, so there is control over which inform messages are dropped, delayed or advanced in a handling queue at the ACS <b>3</b> side in overload conditions.</p>
<p id="p-0042" num="0041">This priority information can be included in the inform messages or in a header field in any lower layer network protocol (e.g., HTTP, TCP, etc.).</p>
<p id="p-0043" num="0042">In another alternative or additional embodiment, a threshold can be defined on the CPE <b>2</b> for each parameter with active notification. If the notification priority of the parameter is below the threshold, no active notification, new event code or alternative delivery is sent. The threshold can be on alarm severity and/or on categorizing what is an alarm for that CPE <b>2</b>, from which the inform message or information request originates. Another possibility (i.e., the general case) is to define a threshold vector, where the index corresponds to the priority-number, and the value the number of pending alarms for this priority. For example, prio[1. .3]={1, 5, 10} means if one prio=1 alarm is pending, send an inform message, if 5 prio=2 alarms have been cumulated, send an inform message. The original case described in the embodiment maps to the following: prio[1. .x]={1, 1, 1, 0, 0, 0, . . . , 0} [0 means no inform to be sent] where the threshold here is prio=3.</p>
<p id="p-0044" num="0043">Further, additionally or alternatively a dynamic back-off mechanism can be implemented. It is possible to implement such a measure of a back-off mechanism in the ACS <b>3</b> (based on the configured threshold) or in the CPE <b>2</b>. In overload conditions, sessions may be refused, which causes the CPE <b>2</b> to &#x201c;back off&#x201d; and send the inform message or information request at a later time instance. If the active notifications are high-priority, the back-off interval might be shorter. The inform request can take precedence over back-off signals emitted by the ACS <b>3</b>.</p>
<p id="p-0045" num="0044">Also, additionally or alternatively an &#x201c;umbrella&#x201d; alarm could be sent. When too many alarms are generated by the CPE <b>2</b>, an &#x201c;umbrella&#x201d; alarm (i.e., a &#x201c;too many alarms&#x201d;-alarm) is sent to the ACS <b>2</b> instead of each individual alarm. This way, only a single session is set up with the ACS <b>3</b> and the burden of investigating each alarm is put on the ACS <b>3</b>. However, the required buffer of alarms is maintained on the CPE <b>2</b>.</p>
<p id="p-0046" num="0045">Alternatively, both an &#x201c;umbrella&#x201d; alarms and individual alarms may be sent, but with different priority.</p>
<p id="p-0047" num="0046">Also, additionally or alternatively, a dedicated ACS <b>3</b> for higher-priority notifications can be provided. In addition to the regular ACS <b>3</b>, it is possible to install a dedicated ACS <b>3</b>, which has the task of handling high-priority active notifications. The regular ACS <b>3</b> will need to configure each CPE <b>2</b> with the address of the other higher priority ACS <b>3</b>, which will also require changes to the TR-069 protocol.</p>
<p id="p-0048" num="0047">In this embodiment with the aid of a TR-069 proxy <b>12</b>, the inform message sent along connection A can be routed accordingly towards a dedicated ACS <b>3</b> designed for handling inform messages or information requests from CPE's <b>2</b> at a predetermined priority level. This may involve inspection of ParameterValues and/or a new EventCode in the inform message sent over connection A to the plurality of ACS's <b>3</b> via the proxy <b>12</b>. Other inform messages or information requests may be directed to another of the ACS's <b>3</b>, since these have another (higher or lower) priority, indicated these should be handled by and routed to the correspondingly selected ACS.</p>
<p id="p-0049" num="0048">The decision what priority to assign to any parameter can be taken by an operator (a person or component) in control of the ACS and the CPE's, i.e. the operator decides which parameters are relevant to get notified and in which manner (passive or active notification).</p>
<p id="p-0050" num="0049">The present invention as such thus relates to an extra dimension in this respect: not only the operator must know or record somewhere what parameters must be notified for value changes and how this is to be achieved. It is also relevant or at least of interest how frequently the operator is interested to receive notification for a given parameter.</p>
<p id="p-0051" num="0050">This issue of parameter notification classification (in terms of importance or priorities) becomes primordial, when the received number of parameter value change notifications reaches a critical amount, in such a way the ACS gets overloaded and is not able to function properly (i.e. when notifications become too frequent and/or the number of CPE's to manage exceeds a certain critical point).</p>
<p id="p-0052" num="0051">The manner in which prioritized parameter value change notifications are handled, is as follows:</p>
<p id="p-0053" num="0052">Basically, such prioritized parameter value change notifications can be handled either at CPE side or at ACS side. In particular an association between the parameter name and its notification priority [A<b>1</b>] plus an association between notification priority and its notification attempts count [A<b>2</b>] must be registered, memorized, stored or otherwise kept &#x201c;somewhere&#x201d;:</p>
<p id="p-0054" num="0053">In a first case of association at the CPE side, most obviously [A<b>1</b>] is anextra Parameter Attribute information in the TR-069 Object Model database, and a global priority vector [A<b>2</b>]. In this first case the CPE decides when notifications are sent, and the ACS accept them unconditionally. This is in fact a conventional arrangement.</p>
<p id="p-0055" num="0054">In a second case of association at the ACS side, most obviously [A<b>1</b>] is provided as a table comprising parameter value change notifications applicable to all or a group of CPE's. Groups of CPE's can for instance be defined based on IP address or from information retrieved from the Inform message, e.g. TR-069 DeviceId, DeviceType or one or more of its constituents (ProductClass, OUI, Manufacturer). For each CPE, a dedicated priority vector [A<b>2</b>] is kept. In this case the CPE sends notifications in a per se conventional manner, and the ACS decides when notifications are being accepted to further handling.</p>
<p id="p-0056" num="0055">Then in a third case of mixed CPE/ACS, the CPE maintains and manages [A<b>1</b>]. Upon notification, the CPE sends an Inform extended with an indicator field containing the highest priority notification of the list. In this case, the CPE classifies and reports the highest impacted priority to the ACS and the ACS decides if it accepts the notification for further handling.</p>
<p id="p-0057" num="0056">For both the second and third cases, the ACS owns a dedicated [A<b>2</b>] per CPE and compares this priority indicator from the Inform message with this [A<b>2</b>] for this CPE, and by consequence can decide to accept or reject the session.</p>
<p id="p-0058" num="0057">In semantics terms, the preceding description can be summarized as follows:</p>
<p id="p-0059" num="0058">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="14pt" align="left"/>
<colspec colname="2" colwidth="203pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="2" rowsep="1">TABLE A1</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>&#x2003;</entry>
<entry>name = &#x201c;InternetGatewayDevice.Parameter1&#x201d;, priority = 3</entry>
</row>
<row>
<entry/>
<entry>name = &#x201c;InternetGatewayDevice.Parameter2&#x201d;, priority = 2</entry>
</row>
<row>
<entry/>
<entry>...</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0060" num="0059">
<tables id="TABLE-US-00002" num="00002">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="14pt" align="left"/>
<colspec colname="2" colwidth="203pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="2" rowsep="1">TABLE A2</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>&#x2003;</entry>
<entry>prio = 1, threshold = 2, attempts = 0</entry>
</row>
<row>
<entry/>
<entry>prio = 2, threshold = 3, attempts = 2</entry>
</row>
<row>
<entry/>
<entry>prio = 3, threshold = 7, attempts = 6</entry>
</row>
<row>
<entry/>
<entry>...</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0061" num="0060">Parameter Notification (algorithm):</p>
<p id="p-0062" num="0061">
<tables id="TABLE-US-00003" num="00003">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="28pt" align="left"/>
<colspec colname="1" colwidth="189pt" align="left"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>-Validate notification attempt:</entry>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;* Lookup Priority p by Parameter Name in table</entry>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;[A1]</entry>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;* Increment value of attempts for priority p in</entry>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;table [A2]</entry>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;* Threshold is reached? (i.e. attempts[p] reaches</entry>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;threshold[p]). If yes, the notification attempt</entry>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;is validated and reset attempts for priority p in</entry>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;table [A2]</entry>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;* Threshold not reached? (i.e. attempts[p] under</entry>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;threshold[p]) .Reject.</entry>
</row>
<row>
<entry/>
<entry>- If the notification is validated, proceed with</entry>
</row>
<row>
<entry/>
<entry>parameter notification scenario</entry>
</row>
<row>
<entry/>
<entry>- If the notification is rejected, abort the scenario</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0063" num="0062">Next, the manner for the ACS to manage [A<b>1</b>] on the CPE is described for the first and third cases.</p>
<p id="p-0064" num="0063">A first option is through extension of Parameter Notification Attributes in the TR-069 Object Model.</p>
<p id="p-0065" num="0064">For this, the ACS is aware what priority must be assigned to which parameters. In order to receive (active or passive) parameter value change notifications, the ACS must modify the &#x201c;parameter notification type&#x201d; attribute of every parameter in question (ACTIVE notification). For this purpose, the standard TR-069 SetParameterAttributes RPC is used.</p>
<p id="p-0066" num="0065">This RPC contains an array of 1 or more SetParameterAttributesStruct. Each constituent and individual SetParameterAttributesStruct contains the parameter attributes for 1 parameter in question. In a specific current embodiment this is composed as follows:
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0066">Name: the complete Parameter Name</li>
        <li id="ul0002-0002" num="0067">Notification: the Parameter Notification Type, being 0 (OFF), 1 (PASSIVE) and 2 (ACTIVE)</li>
        <li id="ul0002-0003" num="0068">AccessList: an array of zero or more entities for which write access to the specified Parameter(s) is granted, which is in itself not particularly relevant.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0067" num="0069">This SetParameterAttributesStruct can now be extended with priority information:
<ul id="ul0003" list-style="none">
    <li id="ul0003-0001" num="0000">
    <ul id="ul0004" list-style="none">
        <li id="ul0004-0001" num="0070">NotificationPriority: is a numeric value that assigns a priority to subsequent parameter value changes of the parameter in question. This is particularly relevant for the aspect of the present invention of prioritized types of information requests or messages.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0068" num="0071">Alternatively it is within the realm of possibilities for the skilled person to define a new TR-069 RPC in order to set priorities on parameters.</p>
<p id="p-0069" num="0072">Next it is described below how the ACS manages [A<b>2</b>] on the CPE for the first case. This can be achieved in three ways:</p>
<p id="p-0070" num="0073">1. By defining a new TR-069 RPC in order to assign priorities and thresholds.</p>
<p id="p-0071" num="0074">2. By defining a dedicated Object Model tree, comprising an array of objects reflecting associations [A<b>2</b>]</p>
<p id="p-0072" num="0075">3. Predefined and/or standardized priority classes (e.g. priority 1=URGENT, 2=NORMAL, etc.) possibly and preferably combined with predefined thresholds. In this case, no ACS participation is needed.</p>
<p id="p-0073" num="0076">The manner in which the ACS manages [A<b>1</b>] and [A<b>2</b>] on the ACS for cases <b>2</b> and <b>3</b> is self-explanatory, since the ACS manages [A<b>1</b>] and [A<b>2</b>] &#x201c;locally&#x201d; in its database.</p>
<p id="p-0074" num="0077">In <figref idref="DRAWINGS">FIG. 2</figref> a flow chart is depicted for clarifying the process order in the scenario of case <b>1</b>. According to <figref idref="DRAWINGS">FIG. 2</figref>, CPE validates whether an Inform must be sent, based on [A<b>1</b>] and [A<b>2</b>]. If this is found to be the case, and if this is validated, an Inform message is sent. Thereafter, the ACS processes the notifications unconditionally.</p>
<p id="p-0075" num="0078">In <figref idref="DRAWINGS">FIG. 3</figref> a flow chart is depicted for clarifying the process order in the scenario of case <b>2</b>. Therein, the CPE sends an Inform message unconditionally. In response, the ACS checks [A<b>1</b>] and [A<b>2</b>] to see if the threshold was reached, and either validates or rejects. In case of validation, the InformResponse is sent. If rejected, InformResponse is sent with FaultStruct. This can indicate a fault code, for instance: 8001 can be an indication for &#x201c;Request Denied&#x201d;, 8004 can be an indication for &#x201c;Resources Exceeded&#x201d; and/or 8005 can be an indication for &#x201c;Retry Request&#x201d;.</p>
<p id="p-0076" num="0079">Then also for the scenario of case <b>3</b> in <figref idref="DRAWINGS">FIG. 4</figref> a flow chart is depicted for clarifying the relevant process order. Therein, the CPE evaluates whether an Inform must be sent, based on [A<b>1</b>]. If validated, the Inform message containing highest priority is sent. Then, the ACS checks [A<b>2</b>] to see if the threshold was reached, and either validates or rejects. In case of validation, the InformResponse is sent, while in case of rejection, the InformResponse is sent with a FaultStruct, which can again be a fault code such as: 8001, 8004 and/or 8005 (Retry Request)</p>
<p id="p-0077" num="0080">After the preceding description of an exemplary embodiment of the invention in conjunction with specific alternative or additional embodiments and shown in the accompanying drawings, the skilled person will immediately realize, that many alternatives and supplemental possibilities are within the scope of the invention as defined in the appended claims, unless these variations depart from the letter or spirit of the claims. For instance, the invention may relate to another protocol than TR-069, such as the SNMP protocol. Further, the invention may relate to end-user devices with CPE's incorporated therein. Also any single CPE <b>2</b> could be employed to service any number of end-user devices, as noted above. More than two ACS's <b>3</b> could be provided to divide the workload there over. Especially when a division is made on the basis of priorities for inform messages, more ACS's may be useful to handle the subsequent provision in information to the CPE's <b>2</b>. Further it is noted that the TR-069 proxy <b>12</b> is shown in the figure as arranged between the B-RAS <b>6</b> and the DSLAM <b>5</b>, although the skilled person may recognize, that a more suitable position of the proxy <b>12</b> could be located between the ACS's <b>3</b> and the B-RAS <b>6</b>, in view of the relevant PPP-termination.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is: </us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for remote configuration of at least one apparatus using a configuration server to configure the at least one apparatus in situ via a network, to which the at least one apparatus and the configuration server are connected, the method comprising:
<claim-text>exchanging at least one of information requests and inform messages between the configuration server and the at least one apparatus;</claim-text>
<claim-text>prioritizing, at the configuration server, the requested information indicated by the at least one of information requests and inform messages;</claim-text>
<claim-text>sending, from the configuration server, the requested information indicated by the at least one of information requests and inform messages over the network to the at least one apparatus; and</claim-text>
<claim-text>emitting, from the configuration server, a delay request to the at least one apparatus, the delay request providing an indication to the at least one apparatus regarding a time delay before the at least one apparatus is to resubmit the at least one of information requests and information messages to the configuration server.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>creating a table with a ranking of prioritized types of information requests or messages, and</claim-text>
<claim-text>referring to said table upon arrival at the configuration server for determining a handling order.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>defining a threshold vector for the prioritizing at the configuration server or in the at least one apparatus.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>determining the time delay to be obeyed in dependence of the priority of the at least one of information requests and inform messages.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>sending from the at least one apparatus a combined or &#x201c;umbrella&#x201d; alarm indicating multiple inform messages or information requests.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>providing at least two configuration servers, and dividing handling of the at least one of information requests and inform messages over the configuration servers.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method as claimed in <claim-ref idref="CLM-00006">claim 6</claim-ref>, further comprising:
<claim-text>analysing the at least one of information requests and inform messages with the aid of a TR-069 proxy and routing the at least one of information requests and inform messages to a corresponding one of the configuration servers on the basis of priority attributed to the at least one of information requests and inform messages in question at any given time.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method as claimed in <claim-ref idref="CLM-00006">claim 6</claim-ref>, further comprising:
<claim-text>associating with the at least one of information requests and inform messages a selected ACS on the basis of either or both of a priority to be attributed to the at least one of information requests and inform messages and a relevant TR-069 parameter.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the prioritizing is performed at either or both of the configuration server side and the at least one apparatus side.</claim-text>
</claim>
</claims>
</us-patent-grant>
