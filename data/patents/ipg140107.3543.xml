<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624608-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624608</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13347346</doc-number>
<date>20120110</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2011-004552</doc-number>
<date>20110113</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>191</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>R</subclass>
<main-group>27</main-group>
<subgroup>26</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>324684</main-classification>
<further-classification>324658</further-classification>
<further-classification>324665</further-classification>
<further-classification>324669</further-classification>
</classification-national>
<invention-title id="d2e71">Capacitance detecting device</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6949937</doc-number>
<kind>B2</kind>
<name>Knoedgen</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>324658</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2001/0019273</doc-number>
<kind>A1</kind>
<name>Nonoyama et al.</name>
<date>20010900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>324678</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2008/0122457</doc-number>
<kind>A1</kind>
<name>Taguchi</name>
<date>20080500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>324679</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2009/0051656</doc-number>
<kind>A1</kind>
<name>Saito</name>
<date>20090200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345168</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2010/0013502</doc-number>
<kind>A1</kind>
<name>Kuang</name>
<date>20100100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>324686</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>JP</country>
<doc-number>2007-003300</doc-number>
<date>20070100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>3</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>324658-690</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>7</number-of-drawing-sheets>
<number-of-figures>20</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120182028</doc-number>
<kind>A1</kind>
<date>20120719</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Oya</last-name>
<first-name>Junichiro</first-name>
<address>
<city>Miyagi-ken</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Oya</last-name>
<first-name>Junichiro</first-name>
<address>
<city>Miyagi-ken</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Brinks Gilson &#x26; Lione</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Alps Electric Co., Ltd.</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Hollington</last-name>
<first-name>Jermele M</first-name>
<department>2858</department>
</primary-examiner>
<assistant-examiner>
<last-name>Clarke</last-name>
<first-name>Adam</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">In a capacitance detecting device including an offset adjustment circuit for removing offset from charge transmitted to an integrator from a charge reading mechanism, the offset adjustment circuit includes a variable capacitance element switching the number of capacitative elements connected in parallel to a charge transmission line made up of a plurality of the capacitative elements and setting the number to a predetermined capacitance value; and a capacitative element for adjustment connected in parallel to the variable capacitance element and parallel, and having a capacitance value corresponding to the minimum value of the capacitative elements constituting the variable capacitance element. Driving is controlled so that offset removal is performed only N times (M&#x3e;N; M and N are natural numbers) in the capacitative element for adjustment while offset removal is repeated M times in the variable capacitance element.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="113.37mm" wi="212.17mm" file="US08624608-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="226.74mm" wi="152.57mm" orientation="landscape" file="US08624608-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="227.92mm" wi="167.05mm" file="US08624608-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="229.45mm" wi="179.32mm" file="US08624608-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="216.24mm" wi="139.53mm" orientation="landscape" file="US08624608-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="225.04mm" wi="126.92mm" orientation="landscape" file="US08624608-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="217.17mm" wi="131.49mm" orientation="landscape" file="US08624608-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="231.56mm" wi="135.30mm" orientation="landscape" file="US08624608-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CLAIM OF PRIORITY</heading>
<p id="p-0002" num="0001">This application claims benefit of Japanese Patent Application No. 2011-004552 filed on Jan. 13, 2011, which is hereby incorporated by reference in its entirety.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">1. Field of the Disclosure</p>
<p id="p-0004" num="0003">The present disclosure relates to a capacitance detecting device which performs offset adjustment in the process during which converts minute changes in capacitance detected through a capacitance-type sensor into charge, and transmits the charge to an integrator.</p>
<p id="p-0005" num="0004">2. Description of the Related Art</p>
<p id="p-0006" num="0005">In related art, there is a capacitance detecting device (Japanese Unexamined Patent Application Publication No. 2007-3300) which detects minute changes in capacitance through a capacitance-type sensor, converts the amount of change of the detected capacitance into charge using a charge reading mechanism, transmits the charge read by the charge reading mechanism to an integrator, and integrates the transmitted charge, thereby converting the charge into a voltage signal. A capacitance component (hereinafter referred to as &#x201c;offset&#x201d;) other than the inherent capacitance to be detected is included in the charge read from the capacitance-type sensor by the charge reading mechanism and transmitted to the integrator. It is desirable to remove the offset in the process during which charge is transmitted to the integrator from the charge reading mechanism.</p>
<p id="p-0007" num="0006">An offset adjustment circuit for charge extraction (or injection) can be provided in a line which transmits charge to the integrator from the charge reading mechanism. The offset adjustment circuit includes a variable capacitance element which has one end connected to the charge transmission line which transmits charge and can apply a driving pulse from the other end. In synchronization with an integral action (charge transmission to the integrator from the charge reading mechanism), a driving pulse is added at each integration, and the charge equivalent to the offset is extracted from the transmission charge. The resolution of the variable capacitance element included in the offset adjustment circuit is determined by the synthetic capacitance of a plurality of capacitative elements for adjustment which constitutes the variable capacitance element. The number of the capacitative elements for adjustment is selected, and the charge equivalent to the synthetic capacitance is extracted as offset in the variable capacitance element.</p>
<p id="p-0008" num="0007">However, individual capacitors which constitute the variable capacitance element have a limit on realizing smaller capacitance due to restrictions of a semiconductor process. For this reason, there is also a limit on the precision of the capacitance by which the offset adjustment circuit extracts (or injects) in the variable capacitance element in one integral action, and sufficient resolution is not necessarily realizable.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0009" num="0008">A capacitance detecting device includes: a capacitance element having varying capacitance depending on surrounding circumstances; a charge reading mechanism reading charges of the capacitance element; an integrator integrating the read charges transmitted from the charge reading mechanism to convert the read charges into a voltage signal; an offset adjustment circuit removing offset from the charges transmitted to the integrator from the charge reading mechanism; and a control circuit controlling the operation of the offset adjustment circuit. The offset adjustment circuit has a variable capacitance element changing the number of capacitative elements connected in parallel to a charge transmission line made up of a plurality of the capacitative elements and formed between the charge reading mechanism and the integrator, and setting the number to a predetermined capacitance value; and a capacitative element for adjustment connected in parallel to the charge transmission line together with the variable capacitance element and parallel, and having a capacitance value corresponding to the minimum value of the capacitative element constituting the variable capacitance element. The control circuit drives the variable capacitance element so that offset removal is performed in the variable capacitance element whenever charges are transmitted from the charge reading mechanism to the integrator, and drives the capacitative element for adjustment so that offset removal is performed only N times (M&#x3e;N; M and N are natural numbers) in the capacitative element for adjustment while offset removal is repeated M times in the variable capacitance element.</p>
<p id="p-0010" num="0009">According to this configuration, the capacitative element for adjustment is driven so that offset removal is performed only N times in the capacitative element for adjustment while offset removal is removed M times in the variable capacitance element. Thus, the resolution of Cmin&#xd7;(N/M) can be realized in a pseudo manner in the offset adjustment circuit if the capacitance value of the capacitative element for adjustment is set to the minimum Cmin on a semiconductor process.</p>
<p id="p-0011" num="0010">According to the invention, it is possible to provide a capacitance detecting device which can adjust offset with precision higher than the minimum of the capacitative element for adjustment.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic view of a capacitance detecting device related to an embodiment of the invention;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIGS. 2A to 2H</figref> are timing charts when the number of continuous integrations M is set to M=5 in the embodiment;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIGS. 3A to 3H</figref> are views showing a comparative example when offset adjustment is performed only by a variable capacitance element;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 4</figref> is a detailed block diagram of a capacitance detecting device adapted to a self-capacitance type capacitance sensor;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 5</figref> is a timing chart of the capacitance detecting device shown in <figref idref="DRAWINGS">FIG. 4</figref>;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 6</figref> is a detailed block diagram of a capacitance detecting device adapted to a mutual capacitance-type capacitance sensor; and</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 7</figref> is a timing chart of the capacitance detecting device shown in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DESCRIPTION OF THE EXEMPLARY EMBODIMENTS</heading>
<p id="p-0019" num="0018">Hereinafter, an embodiment of the invention will be described in detail with reference to the accompanying drawings. <figref idref="DRAWINGS">FIG. 1</figref> is a schematic view of a capacitance detecting device related to the embodiment of the invention. The capacitance detecting device <b>10</b> related to this embodiment includes a charge reading mechanism <b>12</b> which reads the capacitance (charge) detected through a capacitance-type sensor <b>11</b>, an integrator <b>13</b> which integrates the charge read by the charge reading mechanism <b>12</b> to convert the charge into a voltage signal, an offset adjustment circuit <b>14</b> which removes offset from the charge transmitted to the integrator <b>13</b> from the charge reading mechanism <b>12</b>, an A/D converter <b>15</b> which converts the voltage signal output from the integrator <b>13</b> into a digital signal, and a control circuit <b>16</b> which controls the operation of the overall device including offset adjustment.</p>
<p id="p-0020" num="0019">In the capacitance-type sensor <b>11</b>, the capacitance thereof changes depending on the circumstances around a sensor electrode which constitutes a sensor capacitor Cs. For example, when the capacitance-type sensor <b>11</b> is applied to a sensor for a touch panel, the capacitance thereof changes according to the approach of an operator's finger.</p>
<p id="p-0021" num="0020">The offset adjustment circuit <b>14</b> includes a variable capacitance element <b>21</b> which connects capacitative elements C<b>1</b>, C<b>2</b>, and C<b>3</b> for the adjustment of a minimum capacitor Cmin in parallel, switches SW<b>1</b>, SW<b>2</b>, and SW<b>3</b> that independently perform switching ON and OFF between one end of each of the capacitative elements C<b>1</b>, C<b>2</b>, and C<b>3</b> for adjustment and a charge transmission line L<b>1</b>, a pulse generation source <b>22</b> which applies a driving pulse in parallel to the other end of each of the capacitative elements C<b>1</b>, C<b>2</b>, and C<b>3</b> for adjustment which constitutes the variable capacitance element <b>21</b>, one capacitative element <b>23</b> for adjustment made up of the minimum capacitor Cmin connected in parallel to the variable capacitance element <b>21</b>, and a pulse generation source <b>24</b> which applies a driving pulse to the capacitative element <b>23</b> for adjustment. The capacitative elements C<b>1</b>, C<b>2</b>, and C<b>3</b> for adjustment and the capacitative element <b>23</b> for adjustment which constitutes the offset adjustment circuit <b>14</b> are formed in the same integrated circuit. The minimum capacitor Cmin may be a minimum capacitor which can be realized in consideration of restrictions on a semiconductor process.</p>
<p id="p-0022" num="0021">The control circuit <b>16</b> continuously transmits the charge read by the charge reading mechanism <b>12</b> to the integrator <b>13</b> M times, and activates a reset signal only N times per M times to reset the integrator <b>13</b>. At this time, the control circuit <b>16</b> controls the pulse generation source <b>22</b> so that a driving pulse is applied to the variable capacitance element <b>21</b> for each integration in synchronization with charge transmission to the integrator <b>13</b> from the charge reading mechanism <b>12</b>, and controls the pulse generation source <b>24</b> so that a driving pulse is applied to the capacitative element <b>23</b> for adjustment N times (N times is from 0 time to (M&#x2212;1) times) in the process of M continuous integration. M&#x3e;N is satisfied, and M and N are natural numbers. Although extraction (or injection) is performed each time (M times) with a capacitance value set in the variable capacitance element <b>21</b> in the M continuous integrations (charge transmission), the minimum capacitor Cmin of the capacitative element <b>23</b> for adjustment is performed so that extraction (or injection) is performed N times. This causes the minimum capacitor Cmin to perform offset adjustment with a capacitance value of N/M in a pseudo manner. For example, if M=16, N=1, a driving pulse is generated for the capacitative element <b>23</b> for adjustment only once during sixteen continuous integral actions (sixteen driving pulses are generated for the variable capacitance element <b>21</b>). If the minimum capacitor Cmin=100 fF, this is equivalent to obtaining a resolution of 100 fF&#xd7;1/16=6.25 fF.</p>
<p id="p-0023" num="0022">Next, the operation of this embodiment configured as above will be described.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIGS. 2A and 2H</figref> show timing charts when the number of continuous integrations M is set to M=5. The control circuit <b>16</b> supplies a timing signal (A: <figref idref="DRAWINGS">FIG. 2A</figref>) in a predetermined cycle to the pulse generation source <b>22</b> which generates a driving pulse for the capacitance-type sensor <b>11</b>, and also supplies a control signal for charge transmission to the charge reading mechanism <b>12</b>. At this time, a timing signal (B: <figref idref="DRAWINGS">FIG. 2B</figref>) is supplied to the pulse generation source <b>22</b> of the variable capacitance element <b>21</b> at the same timing as the timing signal (A). After five driving pulses are supplied, a read trigger (H: <figref idref="DRAWINGS">FIG. 2H</figref>) is applied to the A/D converter <b>15</b>. After the A/D converter <b>15</b> reads the integration output of integrator <b>13</b>, a reset signal (G: <figref idref="DRAWINGS">FIG. 2G</figref>) is supplied to the integrator <b>13</b>. Then, the control circuit <b>16</b> supplies a timing signal (C: <figref idref="DRAWINGS">FIG. 2C</figref>) to the pulse generation source <b>24</b> of the capacitative element <b>23</b> for adjustment only once in five continuous integration.</p>
<p id="p-0025" num="0024">As shown in <figref idref="DRAWINGS">FIGS. 2A to 2H</figref>, the charge reading mechanism <b>12</b> transmits charge in synchronization with the timing signal (A) (D: <figref idref="DRAWINGS">FIG. 2D</figref>), and a timing signal B is applied to the pulse generation source <b>22</b> of the variable capacitance element <b>21</b> in synchronization with the charge transmission. Thus, charge is extracted or injected to a capacitative element for adjustment connected to the charge transmission line L<b>1</b> via a turned-on switch (SW<b>1</b> to SW<b>3</b>) among the capacitative elements C<b>1</b> to C<b>3</b> for adjustment which constitute the variable capacitance element <b>21</b> at each charge transmission (at each integration). The second to fifth waveforms in <figref idref="DRAWINGS">FIG. 2E</figref> (E in <figref idref="DRAWINGS">FIG. 1</figref>) are equivalent to the charge extracted only by the variable capacitance element <b>21</b>. In the example shown in <figref idref="DRAWINGS">FIG. 2</figref>, a driving pulse is applied to the capacitative element <b>23</b> for adjustment by a timing signal (C), whereby the minimum capacitor Cmin is extracted to the transmission charge provided for first integration among five continuous integrations. This realizes the resolution of Cmin/5 in a pseudo manner in the offset adjustment circuit <b>14</b>. The broken line portion shown in <figref idref="DRAWINGS">FIG. 2E</figref> shows an offset error which slightly remains even depending on the resolution of Cmin/5.</p>
<p id="p-0026" num="0025">The integrator <b>13</b> integrates the transmission charge whose offset is adjusted with the resolution of Cmin/5, and outputs an integration value as a voltage signal (F: <figref idref="DRAWINGS">FIG. 2F</figref>). The offset error is slightly included in the voltage signal (F) as shown by a broken line. The A/D converter <b>15</b> incorporates the voltage signal (F) which is a fifth integration value of the integrator <b>13</b>, converts the voltage signal into a digital signal, and outputs the digital signal to a processing circuit (not shown) in a subsequent stage.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIGS. 3A to 3H</figref> are views showing a comparative example when offset adjustment is performed only by the variable capacitance element <b>21</b>. <figref idref="DRAWINGS">FIGS. 3A</figref>, <b>3</b>B, and <b>3</b>D to <b>3</b>H correspond to the signal waveforms of <figref idref="DRAWINGS">FIGS. 2A</figref>, <b>2</b>B, and <b>2</b>D to <b>2</b>H.</p>
<p id="p-0028" num="0027">As shown in these drawings, since a resolution higher than that of the minimum capacitor Cmin is not obtained when offset adjustment is performed only by the variable capacitance element <b>21</b>, whenever charge is extracted by the variable capacitance element <b>21</b> from the transmission charge, an offset error is caused. This offset error is accumulated at each integration until the integrator <b>13</b> is reset, and a large offset error is caused in a voltage signal (F: <figref idref="DRAWINGS">FIG. 2F</figref>) which is a fifth integration value of the integrator <b>13</b>.</p>
<p id="p-0029" num="0028">As described above, according to this embodiment, in the offset adjustment circuit <b>14</b>, the capacitative element <b>23</b> for adjustment made up of the minimum capacitor Cmin is provided in parallel with the variable capacitance element <b>21</b>, and charge is extracted in synchronization with all the integral actions among the M number of times of integration in the variable capacitance element <b>21</b>. In the capacitative element <b>23</b> for adjustment, however, the extraction of charge in the minimum capacitor Cmin is extracted only N times (M&#x3e;N) among the M number of times of integration. Thus, the resolution of Cmin&#xd7;(N/M) can be realized in a pseudo manner in the offset adjustment circuit <b>14</b>.</p>
<p id="p-0030" num="0029">Next, the detailed configuration of a capacitance detecting device adapted to a self-capacitance type or mutual capacitance-type capacitance sensor will be described. The self-capacitance type capacitance sensor has a self-capacitance (the capacitance between a sensor electrode and GND) as a target to be detected. The mutual capacitance-type capacitance sensor has, as a target to be detected, the mutual capacitance formed between two sensor electrodes, or the capacitance defined as a difference in mutual capacitance formed between a reference electrode and two sensor electrodes.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 4</figref> is a detailed block diagram of a capacitance detecting device adapted to the self-capacitance type capacitance sensor. The basic configuration of the device is the same as that of the capacitance detecting device shown in <figref idref="DRAWINGS">FIG. 1</figref>, and the charge reading mechanism <b>12</b> has a circuit configuration adapted to the self-capacitance type capacitance sensor.</p>
<p id="p-0032" num="0031">The self-capacitance type capacitance sensor is constituted by a sensor capacitor Cs which detects a capacitance change, and a reference capacitor Cref which is a fixed capacitor. In the case of the self-capacitance type, one end of the sensor capacitor Cs and one end of the reference capacitor Cref are connected to the ground. The other end of sensor capacitor Cs and the other end of the reference capacitor Cref can be charged with voltages Vdd via switches SW<b>00</b>, respectively, and the sensor capacitor Cs and the reference capacitor Cref are reset by switches SW<b>11</b>, respectively. The sensor capacitor Cs and the reference capacitor Cref are connected to one end of redistribution capacitors Cpm and Cnm within the charge reading mechanism <b>12</b> via switches SW<b>2</b>, respectively. The redistribution capacitors Cpm and Cnm are configured so as to be capable of being charged with the voltages Vdd via the switches SW<b>12</b>, respectively, and are configured so as to be capable of being reset by switches SW<b>01</b>, respectively. The redistribution capacitors Cpm and Cnm are connected to input ends of a crossing switch XSW via a switch SW<b>3</b>. A variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p </i>and an adjusting capacitor <b>23</b><sub>&#x2014;</sub><i>p </i>in the offset adjustment circuit <b>14</b> are connected in parallel to one input end of the crossing switch XSW. Additionally, a variable capacitance element <b>21</b><sub>&#x2014;</sub><i>n </i>and an adjusting capacitor <b>23</b><sub>&#x2014;</sub><i>n </i>in the offset adjustment circuit <b>14</b> are connected in parallel to the other input end of the crossing switch XSW. Although the offset adjustment circuit <b>14</b> is basically the same as the circuit configuration shown in <figref idref="DRAWINGS">FIG. 1</figref>, an offset adjustment circuit corresponding to the polarity of both charge transmission lines Lp and Ln is provided in correspondence with a differential circuit configuration. In addition, a voltage Vdd/2 is applied to the charge transmission lines Lp and Ln via a switch SW<b>20</b>. The integrator <b>13</b> is connected to output ends of the crossing switch XSW.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 5</figref> is a timing chart of the above capacitance detecting device. In this drawing, charge extraction (injection on the negative polarity side) in the minimum capacitor Cmin using the adjusting capacitor <b>23</b><sub>&#x2014;</sub><i>p</i>/<b>23</b><sub>&#x2014;</sub><i>n </i>is performed at a rate of once per four integrations. In addition, charge extraction (injection on the negative polarity side) using the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n </i>is performed at each integration.</p>
<p id="p-0034" num="0033">Simultaneously when the integrator <b>13</b> is reset, the switches SW<b>00</b>/SW<b>01</b> are turned on, whereby the sensor capacitor Cs and the reference capacitor Cref are charged with the voltages Vdd and the redistribution capacitors Cpm and Cnm are reset. After the switches SW<b>00</b>/SW<b>01</b> are turned off, the switches SW<b>2</b>/SW<b>20</b> are turned on. The switches SW<b>2</b> are turned on, whereby the charge of the sensor capacitor Cs is distributed to the redistribution capacitor Cpm, and the charge of the reference capacitor Cref is distributed to the redistribution capacitor Cnm. Additionally, fixed voltages Vdd/2 are applied to the charge transmission lines Lp and Ln by turning on the switch SW<b>20</b>. The switch SW<b>3</b> is turned on at the timing which the switches SW<b>2</b>/SW<b>20</b> are turned off, thereby connecting the redistribution capacitors Cpm and Cnm with the integrator <b>13</b>, and lowering driving pulses BCDP<b>0</b>/BCDN<b>0</b> and BCDP<b>1</b>/BCDN<b>1</b> in a high-level state until then. A falling pulse when the driving pulse BCDP<b>0</b>/BCDN<b>0</b> is lowered becomes a driving pulse to be applied to the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n</i>, and a falling pulse when the driving pulse BCDP<b>1</b>/BCDN<b>1</b> is lowered becomes a driving pulse to be applied to the adjusting capacitor <b>23</b><sub>&#x2014;</sub><i>p</i>/<b>23</b><sub>&#x2014;</sub><i>n</i>. The crossing switch XSW is set to parallel connection at the timing which the switch SW<b>3</b> is turned on. As a result, the charge of the redistribution capacitor Cpm to which the charge on the sensor capacitor Cs is distributed is input via the charge transmission line Lp to one input terminal (positive electrode side) of the integrator <b>13</b>. Additionally, the charge of the redistribution capacitor Cnm to which the charge on the reference capacitor Cref side is distributed is input via the charge transmission line Ln to the other input terminal (negative electrode side) of the integrator <b>13</b>. At this time, since driving pulses are provided to both the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n </i>and the adjusting capacitor <b>23</b><sub>&#x2014;</sub><i>p</i>/<b>23</b><sub>&#x2014;</sub><i>n</i>, extraction (or injection) of charge is performed in each of the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n </i>and the adjusting capacitor <b>23</b><sub>&#x2014;</sub><i>p</i>/<b>23</b><sub>&#x2014;</sub><i>n. </i></p>
<p id="p-0035" num="0034">Next, after the switch SW<b>3</b> is turned off, the switches SW<b>11</b>/SW<b>12</b> are turned on. The sensor capacitor Cs and the reference capacitor Cref are reset by turning on the switches SW<b>11</b>, and the redistribution capacitors Cpm and Cnm are charged with the voltages Vdd by turning on the switches SW<b>12</b>. After the switches SW<b>11</b>/SW<b>12</b> are turned off, the switches SW<b>2</b>/SW<b>20</b> are turned on. By turning on the switches SW<b>2</b>, redistribution of charge is performed between the redistribution capacitors Cpm and Cnm charged with the voltages Vdd, and the reset sensor capacitor Cs and reference capacitor Cref. After the switches SW<b>2</b> are turned off, the switch SW<b>3</b> is turned on, and only the driving pulse BCDP<b>0</b>/BCDN<b>0</b> is raised. By turning on the switch SW<b>3</b>, the charge of the redistribution capacitors Cpm and Cnm is transmitted to the integrator <b>13</b> with the polarity reversed to the previous time via the crossing switch XSW set in a crossing state. At this time, a rising pulse when the driving pulse BCDP<b>0</b>/BCDN<b>0</b> is raised becomes a driving pulse to be applied to the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n</i>, and offset adjustment (extraction/injection of charge) using only the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n </i>is performed. Below, integration is similarly repeated 3 times and 4 times at the rising/falling edge of the driving pulse BCDP<b>0</b>/BCDN<b>0</b>, and offset adjustment only using the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n </i>is performed at each time. Then, at fifth integration as counted from the beginning, the driving pulse BCDP<b>0</b>/BCDN<b>0</b> and BCDP<b>1</b>/BCDN<b>1</b> are simultaneously lowered. Thereby, charge extraction/injection using the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n </i>is performed with a driving pulse generated at a falling edge of the driving pulse BCDP<b>0</b>/BCDN<b>0</b>, and extraction/injection of charge is performed in the adjusting capacitor <b>23</b><sub>&#x2014;</sub><i>p</i>/<b>23</b><sub>&#x2014;</sub><i>n </i>with a driving pulse generated at a falling edge of BCDP<b>1</b>/BCDN<b>1</b>.</p>
<p id="p-0036" num="0035">As described above, since extraction/injection of charge in the minimum capacitor Cmin using the adjusting capacitor <b>23</b><sub>&#x2014;</sub><i>p</i>/<b>23</b><sub>&#x2014;</sub><i>n </i>is performed at a rate of once per four integrations, the resolution of Cmin&#xd7;(1/5) can be realized in a pseudo manner in the offset adjustment circuit <b>14</b>.</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 6</figref> shows the detailed block of a capacitance detecting device adapted to the mutual capacitance-type capacitance sensor. The basic configuration of the device is the same as that of the capacitance detecting device shown in <figref idref="DRAWINGS">FIG. 1</figref>, and the charge reading mechanism <b>12</b> has a circuit configuration adapted to the mutual capacitance-type capacitance sensor.</p>
<p id="p-0038" num="0037">The mutual capacitance-type capacitance sensor is constituted by a sensor capacitor Cs which detects a capacitance change, and a reference capacitor Cref which is a fixed capacitor. In the case of the mutual capacitance-type, one end of the sensor capacitor Cs and one end of the reference capacitor Cref become supply voltage Vdd/2 sides, and driving pulses SDRV are configured to be capable of being supplied to the other ends of the sensor capacitor and the reference capacitor. The sensor capacitor Cs and the redistribution capacitor Cpm are connected together a switch SW<b>13</b><i>p</i>, and the reference capacitor Cref and the redistribution capacitor Cnm are connected together by a switch SW<b>13</b><i>n</i>. A voltage Vdd/2 is applied via switches SW<b>02</b><i>p </i>and SW<b>13</b><i>p </i>to one terminal of the sensor capacitor Cs. Additionally, a voltage Vdd/2 is applied via switches SW<b>02</b><i>n </i>and SW<b>13</b><i>n </i>to one terminal of the reference capacitor Cref. The other configuration is the same as that of the capacitance detecting device shown in <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 7</figref> is a timing chart of the above capacitance detecting device. In this drawing, charge extraction (injection on the negative polarity side) at the minimum capacitor Cmin using the adjusting capacitor <b>23</b><sub>&#x2014;</sub><i>p</i>/<b>23</b><sub>&#x2014;</sub><i>n </i>is performed at a rate of once per four integrations. In addition, charge extraction (injection on the negative polarity side) using the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n </i>is performed at each integration.</p>
<p id="p-0040" num="0039">Simultaneously when the integrator <b>13</b> is reset, the switch SW<b>02</b><i>p</i>/SW<b>02</b><i>n </i>is turned on, whereby the redistribution capacitors Cpm and Cnm are charged with the voltages Vdd/2. Thereafter, in synchronization with turning off the switch SW<b>02</b><i>p</i>/SW<b>02</b><i>n</i>, switches SW<b>13</b><i>p</i>, and <b>13</b><i>n </i>and <b>20</b> are turned on, and the driving pulses SDRV are raised. The charge corresponding to the capacitance of the sensor capacitor Cs and the capacitance of the reference capacitor Cref is distributed to the redistribution capacitors Cpm and Cnm at the rising edges of the driving pulses SDRV. Next, if the switches SW<b>13</b><i>p</i>, <b>13</b><i>n </i>and <b>20</b> are turned off, the switch SW<b>3</b> is turned on, and the driving pulses BCDP<b>0</b>/BCDN<b>0</b> and BCDP<b>1</b>/BCDN<b>1</b> which are maintained at a high level until then are lowered. The falling edge of the driving pulse BCDP<b>0</b>/BCDN<b>0</b> becomes a driving pulse to be applied to the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n</i>, and a falling edge of the driving pulse BCDP<b>1</b>/BCDN<b>1</b> becomes a driving pulse to be applied to the adjusting capacitor <b>23</b><sub>&#x2014;</sub><i>p</i>/<b>23</b><sub>&#x2014;</sub><i>n</i>. The crossing switch XSW is set to parallel connection at the timing which the switch SW<b>3</b> is turned on. As a result, the charge of the redistribution capacitor Cpm to which the charge on the sensor capacitor Cs is distributed is input via the charge transmission line Lp to one input terminal (positive electrode side) of the integrator <b>13</b>. Additionally, the charge of the redistribution capacitor Cnm to which the charge on the reference capacitor Cref side is distributed is input via the charge transmission line Ln to the other input terminal (negative electrode side) of the integrator <b>13</b>. At this time, since driving pulses are provided to both the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n </i>and the adjusting capacitor <b>23</b><sub>&#x2014;</sub><i>p</i>/<b>23</b><sub>&#x2014;</sub><i>n</i>, extraction (or injection) of charge is performed in each of the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n </i>and the adjusting capacitor <b>23</b><sub>&#x2014;</sub><i>p</i>/<b>23</b><sub>&#x2014;</sub><i>n. </i></p>
<p id="p-0041" num="0040">Next, when the switches SW<b>02</b><i>p </i>and SW<b>02</b><i>n </i>are turned on again, the redistribution capacitors Cpm and Cnm are charged with the voltages Vdd/2. Thereafter, in synchronization with turning off the switch SW<b>02</b><i>p</i>/SW<b>02</b><i>n</i>, switches SW<b>13</b><i>p</i>, and <b>13</b><i>n </i>and <b>20</b> are turned on, and the driving pulses SDRV are lowered. The charge corresponding to the capacitance of the sensor capacitor Cs and the capacitance of the reference capacitor Cref is distributed to the redistribution capacitors Cpm and Cnm at the falling edges of the driving pulses SDRV. Next, if the switches SW<b>13</b><i>p</i>, <b>13</b><i>n </i>and <b>20</b> are turned off, the switch SW<b>3</b> is turned on, and the driving pulse BCDP<b>0</b>/BCDN<b>0</b> which are maintained at a low level until subsequently raised. The rising edge of the driving pulse BCDP<b>0</b>/BCDN<b>0</b> becomes a driving pulse given to the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n</i>. Since the driving pulse BCDP<b>1</b>/BCDN<b>1</b> is not changed, the adjusting capacitor <b>23</b><sub>&#x2014;</sub><i>p</i>/<b>23</b><sub>&#x2014;</sub><i>n </i>is not driven. The crossing switch XSW is set to cross connection at the timing which the switch SW<b>3</b> is turned on. As a result, the charge of the redistribution capacitor Cpm to which the charge the sensor capacitor Cs side is distributed is input to the other input terminal (negative electrode side) of the integrator <b>13</b>, and the charge of the redistribution capacitor Cnm to which the charge on the reference capacitor Cref side is distributed is input to one input terminal (positive electrode side) of the integrator <b>13</b>. At this time, since a driving pulse is given only to the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n</i>, extraction (or injection) of the charge only using the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n </i>is performed. Below, integration is similarly repeated 3 times and 4 times at a rising/falling edge of the driving pulse BCDP<b>0</b>/BCDN<b>0</b>, and offset adjustment only using the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n </i>is performed at each time. Then, at fifth integration as counted from the beginning, the driving pulse BCDP<b>0</b>/BCDN<b>0</b> and BCDP<b>1</b>/BCDN<b>1</b> are simultaneously lowered. Thereby, charge extraction/injection using the variable capacitance element <b>21</b><sub>&#x2014;</sub><i>p</i>/<b>21</b><sub>&#x2014;</sub><i>n </i>is performed with a driving pulse generated at a falling edge of the driving pulse BCDP<b>0</b>/BCDN<b>0</b>, and extraction/injection of charge is performed in the adjusting capacitor <b>23</b><sub>&#x2014;</sub><i>p</i>/<b>23</b><sub>&#x2014;</sub><i>n </i>with a driving pulse generated at a falling edge of BCDP<b>1</b>/BCDN<b>1</b>.</p>
<p id="p-0042" num="0041">As described above, since extraction/injection of charge in the minimum capacitor Cmin using the adjusting capacitor <b>23</b><sub>&#x2014;</sub><i>p</i>/<b>23</b><sub>&#x2014;</sub><i>n </i>is performed at a rate of once per four integrations, the resolution of Cmin&#xd7;(1/5) can be realized in a pseudo manner in the offset adjustment circuit <b>14</b>.</p>
<p id="p-0043" num="0042">In addition, the invention is not limited to the above embodiment, and various modifications thereof can be made. In the above embodiment, the circuit configuration shown in the accompanying drawings is not limited thereto, and the invention can be appropriately changed within a range in which the effects of the invention are exhibited. In addition, the invention can be appropriately changed without departing the purpose thereof.</p>
<p id="p-0044" num="0043">The invention can be applied to capacitance detecting devices of capacitance sensors, such as a touch sensor.</p>
<p id="p-0045" num="0044">It should be understood by those skilled in the art that various modifications, combinations, sub-combinations and alterations may occur depending on design requirements and other factors insofar as they are within the scope of the appended claims of the equivalents thereof.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A capacitance detecting device comprising:
<claim-text>a capacitance element having varying capacitance depending on surrounding circumstances;</claim-text>
<claim-text>a charge reading mechanism reading the charge of the capacitance element;</claim-text>
<claim-text>an integrator integrating the read charge transmitted from the charge reading mechanism to convert the read charge into a voltage signal;</claim-text>
<claim-text>an offset adjustment circuit removing offset from the charge transmitted to the integrator from the charge reading mechanism; and</claim-text>
<claim-text>a control circuit controlling the operation of the offset adjustment circuit,</claim-text>
<claim-text>wherein the offset adjustment circuit includes:</claim-text>
<claim-text>a variable capacitance element switching the number of capacitative elements connected in parallel to a charge transmission line made up of a plurality of the capacitative elements and formed between the charge reading mechanism and the integrator, and setting the number to a predetermined capacitance value; and</claim-text>
<claim-text>a capacitative element for adjustment that is connected in parallel to the variable capacitance element with respect to the charge transmission line, and having a capacitance value corresponding to the minimum value of the capacitative elements constituting the variable capacitance element,</claim-text>
<claim-text>wherein the control circuit drives the variable capacitance element so that offset removal is performed in the variable capacitance element whenever charge is transmitted from the charge reading mechanism to the integrator, and drives the capacitative element for adjustment so that offset removal is performed only N times (M&#x3e;N; M and N are natural numbers) in the capacitative element for adjustment while offset removal is repeated M times in the variable capacitance element.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The capacitance detecting device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,
<claim-text>wherein the variable capacitance element and the capacitative element for adjustment are formed in one integrated circuit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The capacitance detecting device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,
<claim-text>wherein the number of times M of driving of the variable capacitance element, and number of times N of driving of the capacitative element for adjustment are determined so that an offset error caused by the variable capacitance element is absorbed in advance in the capacitative element for adjustment. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
