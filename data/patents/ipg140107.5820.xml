<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626928-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626928</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12951258</doc-number>
<date>20101122</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>433</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>16</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>709227</main-classification>
<further-classification>709232</further-classification>
<further-classification>709233</further-classification>
<further-classification>370230</further-classification>
<further-classification>370231</further-classification>
<further-classification>370412</further-classification>
<further-classification>719318</further-classification>
</classification-national>
<invention-title id="d2e53">Disassociating and freeing managed connections based on usage patterns</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6434543</doc-number>
<kind>B1</kind>
<name>Goldberg et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6988140</doc-number>
<kind>B2</kind>
<name>Chintalapati et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709227</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7089565</doc-number>
<kind>B2</kind>
<name>Kan et al.</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>7136925</doc-number>
<kind>B1</kind>
<name>Eerola</name>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7451454</doc-number>
<kind>B2</kind>
<name>Chen et al.</name>
<date>20081100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>719318</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2002/0198971</doc-number>
<kind>A1</kind>
<name>Resnick et al.</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709221</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2008/0151767</doc-number>
<kind>A1</kind>
<name>Moran et al.</name>
<date>20080600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2008/0177873</doc-number>
<kind>A1</kind>
<name>Ni et al.</name>
<date>20080700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709223</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2009/0006627</doc-number>
<kind>A1</kind>
<name>Castellucci et al.</name>
<date>20090100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709226</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>EP</country>
<doc-number>1351142</doc-number>
<kind>A2</kind>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>WO</country>
<doc-number>0176175</doc-number>
<kind>A2</kind>
<date>20011000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>WO</country>
<doc-number>2004021125</doc-number>
<kind>A2</kind>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00013">
<othercit>&#x201c;Oracle Containers for J2EE Resource Adapter Administrator's Guide,&#x201d; Sep. 2006, http://download.oracle.com/docs/cd/B31017<sub>&#x2014;</sub>01/web.1013/b28956/trmgcont.htm.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>&#x201c;Database Connection Management,&#x201d; http://help.sap.com/saphelp<sub>&#x2014;</sub>nw72/helpdata/en/49/2adfdb5d561907e10000000a42189c/content.htm.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>21</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>709232</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709233</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709234</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709235</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709225</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709227</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709226</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709223</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>719318</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370230</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370231</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370235</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370412</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370418</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370428</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370429</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>6</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120131160</doc-number>
<kind>A1</kind>
<date>20120524</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>George</last-name>
<first-name>Manu T.</first-name>
<address>
<city>Bangalore</city>
<country>IN</country>
</address>
</addressbook>
<residence>
<country>IN</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Surampalli</last-name>
<first-name>Murali K.</first-name>
<address>
<city>Bangalore</city>
<country>IN</country>
</address>
</addressbook>
<residence>
<country>IN</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>George</last-name>
<first-name>Manu T.</first-name>
<address>
<city>Bangalore</city>
<country>IN</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Surampalli</last-name>
<first-name>Murali K.</first-name>
<address>
<city>Bangalore</city>
<country>IN</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Voigt, Jr.</last-name>
<first-name>Robert A.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<orgname>Winstead, P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>International Business Machines Corporation</orgname>
<role>02</role>
<address>
<city>Armonk</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Moore</last-name>
<first-name>Ian N</first-name>
<department>2469</department>
</primary-examiner>
<assistant-examiner>
<last-name>Nguyen</last-name>
<first-name>Hien</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method, system and computer program product for disassociating and freeing managed connection objects. Managed connections are dissociated from their connection handles based on their usage patterns, determined by various connection parameters, which more effectively reduces the idle time of the managed connections. The managed connections whose cost of disassociating and reassociating is less than the cost of keeping the managed connections idle are targeted and released to the free pool of managed connections via the dissociation from its connection handles.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="166.03mm" wi="217.42mm" file="US08626928-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="218.02mm" wi="171.45mm" orientation="landscape" file="US08626928-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="168.23mm" wi="108.20mm" orientation="landscape" file="US08626928-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="236.39mm" wi="144.86mm" file="US08626928-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="87.80mm" wi="128.27mm" file="US08626928-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="237.07mm" wi="173.31mm" file="US08626928-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="219.12mm" wi="121.58mm" orientation="landscape" file="US08626928-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0002" num="0001">The present invention relates to the J2EE Connector Architecture (JCA), and more particularly to disassociating and freeing managed connection objects to a pool of available managed connection objects based on usage patterns.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">The Java 2 Platform, Enterprise Edition (J2EE) is a software standard for developing multitier enterprise applications. The J2EE architecture has a client tier, middle tier, and back-end tier. The client tier supports a variety of client types, and the middle tier supports client services and business logic through web and Enterprise Java Beans (EJB) containers in the middle tier. The back-end tier includes the Enterprise Information Systems (EIS) in the EIS tier and many standard Application Programming Interfaces (APIs) for accessing databases. An Enterprise Information System is generally any kind of computing system that offers high quality of service, deals with large volumes of data and capable of supporting some large organization (&#x201c;an enterprise&#x201d;). One of skill in the art can accordingly alter the objects and components resident on the several tiers. &#x201c;Containers&#x201d; are standardized runtime environments that provide services to components on the platform. All containers provide runtime support for responding to client requests and returning results to clients. The containers also provide APIs to support user session management.</p>
<p id="p-0004" num="0003">Resident within the J2EE architecture is a &#x201c;resource adapter&#x201d; that plays a central role in the integration and connectivity between an EIS and an application server (software framework dedicated to the efficient execution of procedures for supporting the construction of applications) and serves as the point of contact between application components, application servers and enterprise information systems. A resource adapter and other components, must communicate with one another based on a standard referred to as the J2EE Connector Architecture (JCA). To enable seamless integration with an application server, the resource adapter abides by system-level &#x201c;contracts&#x201d; defined by the JCA. These contracts exist between the application server and the EIS, and are implemented through the resource adapter. The contracts specify how a system external to the J2EE platform integrates with it by supporting basic functions handled by the J2EE container. There are three major contracts: the &#x201c;connection management contract&#x201d; which allows applications to connect to an EIS, and enables the application server to utilize pooling; the &#x201c;transaction management contract&#x201d; which allows an application server to manage and perform transactional access across one to many EIS resource managers; and the &#x201c;security contract&#x201d; which provides support for secure access to the EIS.</p>
<p id="p-0005" num="0004">On a J2EE platform, a &#x201c;ManagedConnection&#x201d; interface provides an application-level connection handle from the EIS to the resource adapter's ManagedConnection instance. The ManagedConnection instance represents a physical connection to the underlying EIS. A connection handle to the ManagedConnection instance is created for the application that requests a physical connection represented by the ManagedConnection instance. This connection handle is used by the application code to refer to the underlying physical connection. The ManagedConnection instance is associated with the connection handle until the connection handle is closed and the associated transaction (e.g., loading personalized data from a database) is terminated.</p>
<p id="p-0006" num="0005">In certain situations, the transaction may take a considerable amount of time to complete. In such cases, the ManagedConnection object is idle without being actively engaged in any sort of work.</p>
<p id="p-0007" num="0006">Attempts have been made to reduce or eliminate these idle times by disassociating the ManagedConnection object from its connection handles when the processing is completed regardless of whether the transaction is completed or not. For example, when a portal application acquires a connection to load all personalization data from a database, the ManagedConnection object would be disassociated from its connection handles for this connection when the processing is completed. However, the time it takes to process the data may be significantly greater than the time it takes to load the data thereby causing the ManagedConnection object to be idle for a significant period of time.</p>
<p id="p-0008" num="0007">As a result, there are cases where the connection resources, such as the ManagedConnection object, are being underutilized.</p>
<heading id="h-0003" level="1">BRIEF SUMMARY</heading>
<p id="p-0009" num="0008">In one embodiment of the present invention, a method for disassociating and freeing managed connection objects comprising determining an amount of time a managed connection has been idled. The method further comprises determining an average amount of time that the managed connection is in an idle state. Additionally, the method comprises computing a standard deviation of a number of accesses to a physical connection represented by the managed connection over a time the managed connection has been idled. In addition, the method comprises disassociating, by a connection manager of an application server whose instructions are executed by a processor, the managed connection from a connection handle in response to the amount of time the managed connection has been idled being less than or greater than the standard deviation from the average time the managed connection is in the idle state and in response to the amount of time the managed connection has been idled being greater than the average time the managed connection is in the idle state, where the connection handle is used by an application to refer to the physical connection represented by the managed connection.</p>
<p id="p-0010" num="0009">Other forms of the embodiment of the method described above are in a system and in a computer program product.</p>
<p id="p-0011" num="0010">The foregoing has outlined rather generally the features and technical advantages of one or more embodiments of the present invention in order that the detailed description of the present invention that follows may be better understood. Additional features and advantages of the present invention will be described hereinafter which may form the subject of the claims of the present invention.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE SEVERAL VIEWS OF THE DRAWINGS</heading>
<p id="p-0012" num="0011">A better understanding of the present invention can be obtained when the following detailed description is considered in conjunction with the following drawings, in which:</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 1</figref> is a hardware configuration of a computer system configured in accordance with an embodiment of the present invention;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 2</figref> is a diagram of the software components used in the technique for disassociating and freeing managed connection objects based on their usage patterns in accordance with an embodiment of the present invention;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIGS. 3A-3C</figref> are a flowchart of a method for disassociating and freeing managed connection objects based on their usage patterns in accordance with an embodiment of the present invention; and</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 4</figref> is a graph illustrating the normal distribution of the number of accesses to the physical connection represented by the managed connection over the time that the managed connection has been idled in accordance with an embodiment of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0017" num="0016">The present invention comprises a method, system and computer program product for disassociating and freeing managed connection objects. In one embodiment of the present invention, managed connections are dissociated from their connection handles based on their usage patterns, determined by various connection parameters, which more effectively reduces the idle time of the managed connections. The managed connections whose cost of disassociating and reassociating is less than the cost of keeping the managed connections idle are targeted and released to the free pool of managed connections via the dissociation from its connection handles.</p>
<p id="p-0018" num="0017">In the following description, numerous specific details are set forth to provide a thorough understanding of the present invention. However, it will be apparent to those skilled in the art that the present invention may be practiced without such specific details. In other instances, well-known circuits have been shown in block diagram form in order not to obscure the present invention in unnecessary detail. For the most part, details considering timing considerations and the like have been omitted inasmuch as such details are not necessary to obtain a complete understanding of the present invention and are within the skills of persons of ordinary skill in the relevant art.</p>
<p id="p-0019" num="0018">Referring now to the Figures in detail, <figref idref="DRAWINGS">FIG. 1</figref> illustrates an embodiment of a hardware configuration of a computer system <b>100</b> which is representative of a hardware environment for practicing the present invention. Referring to <figref idref="DRAWINGS">FIG. 1</figref>, computer system <b>100</b> may have a processor <b>101</b> coupled to various other components by system bus <b>102</b>. An operating system <b>103</b> may run on processor <b>101</b> and provide control and coordinate the functions of the various components of <figref idref="DRAWINGS">FIG. 1</figref>. An application <b>104</b> in accordance with the principles of the present invention may run in conjunction with operating system <b>103</b> and provide calls to operating system <b>103</b> where the calls implement the various functions or services to be performed by application <b>104</b>. Application <b>104</b> may include, for example, a user application that requests a physical connection represented by the managed connection object (e.g., ManagedConnection instance defined in the J2EE platform). Application <b>104</b> may also include the software components used for disassociating and freeing managed connection objects (&#x201c;managed connects&#x201d;) based on their usage patterns, as discussed further below in association with <figref idref="DRAWINGS">FIGS. 2</figref>, <b>3</b>A-<b>3</b>C and <b>4</b>.</p>
<p id="p-0020" num="0019">Referring again to <figref idref="DRAWINGS">FIG. 1</figref>, read-only memory (&#x201c;ROM&#x201d;) <b>105</b> may be coupled to system bus <b>102</b> and include a basic input/output system (&#x201c;BIOS&#x201d;) that controls certain basic functions of computer device <b>100</b>. Random access memory (&#x201c;RAM&#x201d;) <b>106</b> and disk adapter <b>107</b> may also be coupled to system bus <b>102</b>. It should be noted that software components including operating system <b>103</b> and application <b>104</b> may be loaded into RAM <b>106</b>, which may be computer system's <b>100</b> main memory for execution. Disk adapter <b>107</b> may be an integrated drive electronics (&#x201c;IDE&#x201d;) adapter that communicates with a disk unit <b>108</b>, e.g., disk drive. It is noted that the applications of application <b>104</b> as discussed further below in association with <figref idref="DRAWINGS">FIGS. 2</figref>, <b>3</b>A-<b>3</b>C and <b>4</b>, may reside in disk unit <b>108</b> or in application <b>104</b>.</p>
<p id="p-0021" num="0020">Computer system <b>100</b> may further include a communications adapter <b>109</b> coupled to bus <b>102</b>. Communications adapter <b>109</b> may interconnect bus <b>102</b> with an outside network (not shown) thereby allowing computer system <b>100</b> to communicate with other similar devices.</p>
<p id="p-0022" num="0021">I/O devices may also be connected to computer system <b>100</b> via a user interface adapter <b>110</b> and a display adapter <b>111</b>. Keyboard <b>112</b>, mouse <b>113</b> and speaker <b>114</b> may all be interconnected to bus <b>102</b> through user interface adapter <b>110</b>. Data may be inputted to computer system <b>100</b> through any of these devices. A display monitor <b>115</b> may be connected to system bus <b>102</b> by display adapter <b>111</b>. In this manner, a user is capable of inputting to computer system <b>100</b> through keyboard <b>112</b> or mouse <b>113</b> and receiving output from computer system <b>100</b> via display <b>115</b> or speaker <b>114</b>.</p>
<p id="p-0023" num="0022">As will be appreciated by one skilled in the art, aspects of the present invention may be embodied as a system, method or computer program product. Accordingly, aspects of the present invention may take the form of an entirely hardware embodiment, an entirely software embodiment (including firmware, resident software, micro-code, etc.) or an embodiment combining software and hardware aspects that may all generally be referred to herein as a &#x201c;circuit,&#x201d; &#x2018;module&#x201d; or &#x201c;system.&#x201d; Furthermore, aspects of the present invention may take the form of a computer program product embodied in one or more computer readable medium(s) having computer readable program code embodied thereon.</p>
<p id="p-0024" num="0023">Any combination of one or more computer readable medium(s) may be utilized. The computer readable medium may be a computer readable signal medium or a computer readable storage medium. A computer readable storage medium may be, for example, but not limited to, an electronic, magnetic, optical, electromagnetic, infrared, or semiconductor system, apparatus, or device, or any suitable combination of the foregoing. More specific examples (a non-exhaustive list) of the computer readable storage medium would include the following: an electrical connection having one or more wires, a portable computer diskette, a hard disk, a random access memory (RAM), a read-only memory (ROM), an erasable programmable read-only memory (EPROM or flash memory), a portable compact disc read-only memory (CD-ROM), an optical storage device, a magnetic storage device, or any suitable combination of the foregoing. In the context of this document, a computer readable storage medium may be any tangible medium that can contain, or store a program for use by or in connection with an instruction execution system, apparatus, or device.</p>
<p id="p-0025" num="0024">A computer readable signal medium may include a propagated data signal with computer readable program code embodied therein, for example, in baseband or as part of a carrier wave. Such a propagated signal may take any of a variety of forms, including, but not limited to, electro-magnetic, optical, or any suitable combination thereof. A computer readable signal medium may be any computer readable medium that is not a computer readable storage medium and that can communicate, propagate, or transport a program for use by or in connection with an instruction execution system, apparatus or device.</p>
<p id="p-0026" num="0025">Program code embodied on a computer readable medium may be transmitted using any appropriate medium, including but not limited to wireless, wireline, optical fiber cable, RF, etc., or any suitable combination of the foregoing.</p>
<p id="p-0027" num="0026">Computer program code for carrying out operations for aspects of the present invention may be written in any combination of one or more programming languages, including an object oriented programming language such as Java, Smalltalk, C++ or the like and conventional procedural programming languages, such as the C programming language or similar programming languages. The program code may execute entirely on the user's computer, partly on the user's computer, as a stand-alone software package, partly on the user's computer and partly on a remote computer or entirely on the remote computer or server. In the latter scenario, the remote computer may be connected to the user's computer through any type of network, including a local area network (LAN) or a wide area network (WAN), or the connection may be made to an external computer (for example, through the Internet using an Internet Service Provider).</p>
<p id="p-0028" num="0027">Aspects of the present invention are described below with reference to flowchart illustrations and/or block diagrams of methods, apparatus (systems) and computer program products according to embodiments of the present invention. It will be understood that each block of the flowchart illustrations and/or block diagrams, and combinations of blocks in the flowchart illustrations and/or block diagrams, can be implemented by computer program instructions. These computer program instructions may be provided to a processor of a general purpose computer, special purpose computer, or other programmable data processing apparatus to product a machine, such that the instructions, which execute via the processor of the computer or other programmable data processing apparatus, create means for implementing the function/acts specified in the flowchart and/or block diagram block or blocks.</p>
<p id="p-0029" num="0028">These computer program instructions may also be stored in a computer readable medium that can direct a computer, other programmable data processing apparatus, or other devices to function in a particular manner, such that the instructions stored in the computer readable medium produce an article of manufacture including instructions which implement the function/act specified in the flowchart and/or block diagram block or blocks.</p>
<p id="p-0030" num="0029">The computer program instructions may also be loaded onto a computer, other programmable data processing apparatus, or other devices to cause a series of operational steps to be performed on the computer, other programmable apparatus or other devices to produce a computer implemented process such that the instructions which execute on the computer or other programmable apparatus provide processes for implementing the function/acts specified in the flowchart and/or block diagram block or blocks.</p>
<p id="p-0031" num="0030">As stated in the Background section, there are cases where the connection resources, such as the managed connection object (e.g., ManagedConnection instance defined on a J2EE platform), are being underutilized. For example, the managed connection object is being idled without being actively engaged in any sort of work.</p>
<p id="p-0032" num="0031">The principles of the present invention provide a technique for dissociating and freeing the managed connections from their connection handles based on their usage patterns thereby more effectively reducing or eliminating these idle times as discussed below in connection with <figref idref="DRAWINGS">FIGS. 2</figref>, <b>3</b>A-<b>3</b>C and <b>4</b>. <figref idref="DRAWINGS">FIG. 2</figref> is a diagram of the software components used in the technique for disassociating and freeing managed connection objects (&#x201c;managed connections&#x201d;) based on their usage patterns. <figref idref="DRAWINGS">FIGS. 3A-3C</figref> are a flowchart of a method for disassociating and freeing managed connection objects based on their usage patterns. <figref idref="DRAWINGS">FIG. 4</figref> is a graph illustrating an example of the normal distribution of the number of accesses to the physical connection represented by the managed connection over the time that the managed connection has been idled.</p>
<p id="p-0033" num="0032">Referring to <figref idref="DRAWINGS">FIG. 2</figref>, as stated above, <figref idref="DRAWINGS">FIG. 2</figref> is a diagram of the software components used in the technique for disassociating and freeing managed connection objects based on their usage patterns in accordance with an embodiment of the present invention. In one embodiment, these software components may reside in application <b>104</b> (<figref idref="DRAWINGS">FIG. 1</figref>).</p>
<p id="p-0034" num="0033">The software components include an application server <b>201</b> interacting with a resource adapter <b>202</b>. In one embodiment, application server <b>201</b> is a software framework dedicated to the efficient execution of procedures for supporting the construction of applications. In one embodiment, resource adapter <b>202</b> plays a central role in the integration and connectivity between application server <b>201</b> and an Enterprise Information System (EIS) (not shown).</p>
<p id="p-0035" num="0034">Resource adapter <b>202</b> includes a managed connection objection &#x201c;managed connection&#x201d; <b>203</b> within the J2EE architecture that represents a physical connection to the underlying EIS. Resource adapter <b>202</b> further includes one or more connection handles, such as connection handle <b>204</b>, which is created for a user application that requests a physical connection represented by managed connection <b>203</b>.</p>
<p id="p-0036" num="0035">Application server <b>201</b> includes a connection manager <b>205</b> configured to disassociate managed connection <b>203</b> from its connection handles <b>204</b> based on the usage of managed connection <b>203</b> and freeing the disassociated managed connection <b>203</b> to a pool of available managed connections <b>203</b> (&#x201c;connection pool&#x201d;). Once in the pool of managed connections <b>203</b>, the disassociated managed connection <b>203</b> can be reused to represent another physical connection to the underlying EIS. In this manner, managed connection <b>203</b> may be used to represent another physical connection to the underlying EIS rather than being idled.</p>
<p id="p-0037" num="0036">The process in connection manager <b>205</b> disassociating managed connection <b>203</b> from its connection handles <b>204</b> thereby reducing or eliminating its idle time is discussed below in connection with <figref idref="DRAWINGS">FIGS. 3A-3C</figref>. <figref idref="DRAWINGS">FIGS. 3A-3C</figref> are a flowchart of a method <b>300</b> for disassociating and freeing managed connection objects (&#x201c;managed connections&#x201d;) based on their usage patterns in accordance with an embodiment of the present. While the following discusses calculating various metrics (e.g., meanIdleTime, meanUseTime, dissociate time, reassociate time) per managed connection <b>203</b>, these metrics may be calculated per connection pool.</p>
<p id="p-0038" num="0037">Referring to <figref idref="DRAWINGS">FIG. 3A</figref>, in conjunction with <figref idref="DRAWINGS">FIGS. 1-2</figref>, in step <b>301</b>, connection manager <b>205</b> determines the amount of time managed connection <b>203</b> has currently been idled.</p>
<p id="p-0039" num="0038">In step <b>302</b>, connection manager <b>205</b> determines the average amount of time that managed connection <b>203</b> is in the idle state.</p>
<p id="p-0040" num="0039">In step <b>303</b>, connection manager <b>205</b> computes the standard deviation from the normal distribution of accesses to a physical connection represented by managed connection <b>203</b> over the time managed connection <b>203</b> has been idled as illustrated in <figref idref="DRAWINGS">FIG. 4</figref>. Referring to <figref idref="DRAWINGS">FIG. 4</figref>, <figref idref="DRAWINGS">FIG. 4</figref> is a graph <b>400</b> of the number of accesses to a physical connection (identified by <b>401</b>) versus the time managed connection <b>203</b> has been idled (&#x201c;idle time&#x201d; <b>402</b>). Graph <b>400</b> also illustrates the mean or average (identified by &#x201c;mean&#x201d; <b>403</b>) of the number of accesses to a physical connection represented by managed connection <b>203</b> over the time managed connection <b>203</b> has been idled. Furthermore, graph <b>400</b> illustrates computing the standard deviation (identified by &#x201c;SD&#x201d;) from the mean value <b>403</b>. In particular, graph <b>400</b> shows the locations <b>404</b>, <b>405</b> where the number of connection accesses to a physical connection is one standard deviation from mean <b>403</b>. The information from graph <b>400</b> will be used in determining whether to disassociate managed connection <b>203</b> from its connection handles <b>204</b> as discussed below in connection with the remaining steps of method <b>300</b>.</p>
<p id="p-0041" num="0040">Returning to <figref idref="DRAWINGS">FIG. 3A</figref>, in conjunction with <figref idref="DRAWINGS">FIGS. 1</figref>, <b>2</b> and <b>4</b>, in step <b>304</b>, connection manager <b>205</b> determines if the amount of time that managed connection <b>203</b> has been idled is less than or greater than one standard deviation (points <b>404</b>, <b>405</b> in graph <b>400</b>) from the average time (point <b>403</b> in graph <b>400</b>) managed connection <b>203</b> is in the idle state.</p>
<p id="p-0042" num="0041">If the amount of time that managed connection <b>203</b> has been idled is less than or greater than one standard deviation (points <b>404</b>, <b>405</b> in graph <b>400</b>) from the average time (point <b>403</b> in graph <b>400</b>) managed connection <b>203</b> is in the idle state, then, in step <b>305</b>, connection manager <b>205</b> computes the parameter (idleThreshold) which estimates the cost of disassociating managed connection <b>203</b> from its connection handles <b>204</b> and reassociating it with another physical connection to the underlying EIS. By quantifying the cost of disassociating and reassociating managed connections <b>203</b>, those managed connections <b>203</b> whose cost of disassociating and reassociating is less than the cost of keeping the managed connection <b>203</b> idle should be targeted and released to the free pool via dissociation from its connection handles <b>204</b> as discussed further below. In one embodiment, the parameter idleThreshold is equation to the following equation:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>idleThreshold=2*(average(dissociate time+reassociate time)),&#x2003;&#x2003;(EQ1)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0043" num="0042">where the average dissociate time is the average time it takes to dissociate a managed connection <b>203</b> from its connection handles <b>204</b> and the average reassociate time is the average time it takes to reassociate the freed managed connection <b>203</b> to another physical connection to the underlying EIS.</p>
<p id="p-0044" num="0043">In step <b>306</b>, connection manager <b>205</b> computes the parameter (meanUseTime) which is the average amount of time that managed connection <b>203</b> is in use (engaged in work).</p>
<p id="p-0045" num="0044">In step <b>307</b>, connection manager <b>205</b> computes the parameter (bufferTime) which corresponds to an amount of time that takes into consideration the variations in time in disassociating and reassociating managed connection <b>203</b>. In one embodiment, the parameter bufferTime is user selected.</p>
<p id="p-0046" num="0045">Referring to <figref idref="DRAWINGS">FIG. 3B</figref>, in conjunction with <figref idref="DRAWINGS">FIGS. 1-2</figref>, in step <b>308</b>, connection manager <b>205</b> determines if the following equation is satisfied:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>meanIdleTime&#x2212;currentIdleTime&#x3e;((2*idleThreshold)+meanUseTime+bufferTime),&#x2003;&#x2003;(EQ 2)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0047" num="0046">where meanIdleTime corresponds to the average amount of time that managed connection <b>203</b> is in the idle state as discussed above in step <b>302</b>, currentIdleTime corresponds to the amount of time managed connection <b>203</b> has been currently idled as discussed above in step <b>301</b>.</p>
<p id="p-0048" num="0047">Referring to <figref idref="DRAWINGS">FIG. 3C</figref>, if equation EQ2 is satisfied, then, in step <b>309</b>, connection manager <b>205</b> disassociates managed connection <b>203</b> from its connection handles <b>204</b> and releases managed connection <b>203</b> to a free pool (i.e., a pool of managed connections <b>203</b> available to be used to represent another physical connection to the underlying EIS).</p>
<p id="p-0049" num="0048">Alternatively, if equation EQ2 is not satisfied, then, in step <b>310</b>, connection manager <b>205</b> determines if the amount of time that managed connection <b>203</b> has been idled exceeds the average time that connection manager <b>203</b> is in the idle state which is represented by the following equation:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>currentIdleTime&#x3e;meanIdleTime&#x2003;&#x2003;(EQ3)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0050" num="0049">If equation EQ3 is satisfied, then, in step <b>309</b>, connection manager <b>205</b> disassociates managed connection <b>203</b> from its connection handles <b>204</b> and releases managed connection <b>203</b> to a free pool (i.e., a pool of managed connections <b>203</b> available to be used to represent another physical connection to the underlying EIS).</p>
<p id="p-0051" num="0050">If, however, equation EQ3 is not satisfied, then method <b>300</b> is terminated in step <b>314</b>.</p>
<p id="p-0052" num="0051">Referring to step <b>304</b> of <figref idref="DRAWINGS">FIG. 3A</figref>, if the amount of time that managed connection <b>203</b> has been idled is not less than or greater than one standard deviation from the average time managed connection <b>203</b> is in the idle state, then, in step <b>311</b> of <figref idref="DRAWINGS">FIG. 3C</figref>, connection manager <b>205</b> determines if the following equation is satisfied:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>((2*idleThreshold)+meanUseTime+bufferTime)&#x3c;(1*<i>n</i>*SD),&#x2003;&#x2003;(EQ4)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0053" num="0052">where n is an integer that is initially set to equal 1.</p>
<p id="p-0054" num="0053">If equation EQ4 is satisfied, then, in step <b>312</b>, connection manager <b>205</b> determines if the following equation is satisfied:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>|(meanIdleTime&#x2212;currentIdleTime)|&#x3e;((2*idleThreshold)+meanUseTime+bufferTime)&#x2003;&#x2003;(EQ5)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0055" num="0054">If equation EQ5 is satisfied, then, in step <b>309</b>, connection manager <b>205</b> disassociates managed connection <b>203</b> from its connection handles <b>204</b> and releases managed connection <b>203</b> to a free pool (i.e., a pool of managed connections <b>203</b> available to be used to represent another physical connection to the underlying EIS).</p>
<p id="p-0056" num="0055">If, however, EQ5 is not satisfied, then, in step <b>313</b>, connection manager <b>205</b> reduces the previous value of n by 0.1 and determines if equation EQ4 is satisfied in step <b>311</b>.</p>
<p id="p-0057" num="0056">Referring to step <b>311</b>, if equation EQ4 is not satisfied, then method <b>300</b> is terminated in step <b>314</b>.</p>
<p id="p-0058" num="0057">In this manner, managed connections <b>203</b> are dissociated and released to a pool of managed connections <b>203</b> based on their usage patterns, determined by various connection parameters discussed above, which more effectively reduces the idle time of managed connections <b>203</b>. Managed connections <b>203</b> whose cost of disassociating and reassociating is less than the cost of keeping the managed connection <b>203</b> idle are targeted and released to the free pool via dissociation from its connection handles <b>204</b>.</p>
<p id="p-0059" num="0058">In some implementations, method <b>300</b> may include other and/or additional steps that, for clarity, are not depicted. Further, in some implementations, method <b>300</b> may be executed in a different order presented and that the order presented in the discussion of <figref idref="DRAWINGS">FIGS. 3A-3C</figref> is illustrative. Additionally, in some implementations, certain steps in method <b>300</b> may be executed in a substantially simultaneous manner or may be omitted.</p>
<p id="p-0060" num="0059">Although the method, system and computer program product are described in connection with several embodiments, it is not intended to be limited to the specific forms set forth herein, but on the contrary, it is intended to cover such alternatives, modifications and equivalents, as can be reasonably included within the spirit and scope of the invention as defined by the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for disassociating and freeing managed connection objects, the method comprising:
<claim-text>determining an amount of time a managed connection has been idled;</claim-text>
<claim-text>determining an average amount of time that said managed connection is in an idle state;</claim-text>
<claim-text>computing a standard deviation of a number of accesses to a physical connection represented by said managed connection over a time said managed connection has been idled; and</claim-text>
<claim-text>disassociating, by a connection manager of an application server whose instructions are executed by a processor, said managed connection from a connection handle in response to said amount of time said managed connection has been idled being less than or greater than said standard deviation from said average time said managed connection is in said idle state and in response to said amount of time said managed connection has been idled being greater than said average time said managed connection is in said idle state, wherein said connection handle is used by an application to refer to said physical connection represented by said managed connection.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>computing a parameter to estimate a cost of dissociating and reassociating said managed connection from said connection handle.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method as recited in <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein said parameter is equal to:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>2*(average(dissociate time+reassociate time)),<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
<claim-text>wherein said dissociate time is a time to dissociate said managed connection from said connection handle, wherein said reassociate time is a time to reassociate said managed connection with a subsequent physical connection.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method as recited in <claim-ref idref="CLM-00003">claim 3</claim-ref> further comprising:
<claim-text>computing an average amount of time said managed connection is in use; and</claim-text>
<claim-text>computing a time for timing variations in dissociating and reassociating said managed connection.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method as recited in <claim-ref idref="CLM-00004">claim 4</claim-ref> further comprising:
<claim-text>disassociating said managed connection from said connection handle in response to said amount of time said managed connection has been idled being less than or greater than said standard deviation from said average time said managed connection is in said idle state and in response to (meanIdleTime&#x2212;currentIdleTime) &#x3e;((2*idleThreshold)+meanUseTime+bufferTime), wherein said meanIdleTime is said average time said managed connection is in said idle state, wherein said currentIdleTime is said amount of time said managed connection has been idled, wherein said idleThreshold is equal to said parameter, wherein said meanUseTime is said average amount of time said managed connection is in use, wherein said bufferTime is said time for timing variations in dissociating and reassociating said managed connection.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method as recited in <claim-ref idref="CLM-00004">claim 4</claim-ref> further comprising:
<claim-text>disassociating said managed connection from said connection handle in response to ((2*idleThreshold)+meanUseTime+bufferTime)&#x3c;(1*n*SD) and in response to |(meanIdleTime&#x2212;currentIdleTime)|&#x3e;((2*idleThreshold)+meanUseTime+bufferTime), wherein said idleThreshold is equal to said parameter, wherein said meanUseTime is said average amount of time said managed connection is in use, wherein said bufferTime is said time for timing variations in dissociating and reassociating said managed connection, wherein said n is an integer initialized to a value of one, wherein said SD is equal to said standard deviation.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method as recited in <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein said n is reduced by a value of 0.1 in response to ((2*idleThreshold)+meanUseTime+bufferTime)&#x3c;(1*n*SD) and in response to |(meanIdleTime&#x2212;currentIdleTime)|&#x2266;((2*idleThreshold)+meanUseTime+bufferTime).</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A computer program product embodied in a computer readable storage medium for disassociating and freeing managed connection objects, the computer program product comprising the programming instructions for:
<claim-text>determining an amount of time a managed connection has been idled;</claim-text>
<claim-text>determining an average amount of time that said managed connection is in an idle state;</claim-text>
<claim-text>computing a standard deviation of a number of accesses to a physical connection represented by said managed connection over a time said managed connection has been idled; and</claim-text>
<claim-text>disassociating said managed connection from a connection handle in response to said amount of time said managed connection has been idled being less than or greater than said standard deviation from said average time said managed connection is in said idle state and in response to said amount of time said managed connection has been idled being greater than said average time said managed connection is in said idle state, wherein said connection handle is used by an application to refer to said physical connection represented by said managed connection.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The computer program product as recited in <claim-ref idref="CLM-00008">claim 8</claim-ref> further comprising the programming instructions for:
<claim-text>computing a parameter to estimate a cost of dissociating and reassociating said managed connection from said connection handle.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The computer program product as recited in <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein said parameter is equal to:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>2*(average(dissociate time+reassociate time)),<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
<claim-text>wherein said dissociate time is a time to dissociate said managed connection from said connection handle, wherein said reassociate time is a time to reassociate said managed connection with a subsequent physical connection.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The computer program product as recited in <claim-ref idref="CLM-00010">claim 10</claim-ref> further comprising the programming instructions for:
<claim-text>computing an average amount of time said managed connection is in use; and</claim-text>
<claim-text>computing a time for timing variations in dissociating and reassociating said managed connection.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The computer program product as recited in <claim-ref idref="CLM-00011">claim 11</claim-ref> further comprising the programming instructions for:
<claim-text>disassociating said managed connection from said connection handle in response to said amount of time said managed connection has been idled being less than or greater than said standard deviation from said average time said managed connection is in said idle state and in response to (meanIdleTime&#x2212;currentIdleTime) &#x3e;((2*idleThreshold)+meanUseTime+bufferTime), wherein said meanIdleTime is said average time said managed connection is in said idle state, wherein said currentIdleTime is said amount of time said managed connection has been idled, wherein said idleThreshold is equal to said parameter, wherein said meanUseTime is said average amount of time said managed connection is in use, wherein said bufferTime is said time for timing variations in releasing said managed connection.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The computer program product as recited in <claim-ref idref="CLM-00011">claim 11</claim-ref> further comprising the programming instructions for:
<claim-text>disassociating said managed connection from said connection handle in response to ((2*idleThreshold)+meanUseTime+bufferTime)&#x3c;(1*n*SD) and in response to |(meanIdleTime&#x2212;currentIdleTime)|&#x3e;((2*idleThreshold)+meanUseTime+bufferTime)), wherein said idleThreshold is equal to said parameter, wherein said meanUseTime is said average amount of time said managed connection is in use, wherein said bufferTime is said time for timing variations in releasing said managed connection, wherein said n is an integer initialized to a value of one, wherein said SD is equal to said standard deviation.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The computer program product as recited in <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein said n is reduced by a value of 0.1 in response to ((2*idleThreshold)+meanUseTime+bufferTime)&#x3c;(1*n*SD) and in response to |(meanIdleTime&#x2212;currentIdleTime)|&#x2266;((2*idleThreshold)+meanUseTime+bufferTime)).</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. A system, comprising:
<claim-text>a memory unit for storing a computer program for disassociating and freeing managed connection objects; and</claim-text>
<claim-text>a processor coupled to said memory unit, wherein said processor, responsive to said computer program, comprises:
<claim-text>circuitry for determining an amount of time a managed connection has been idled;</claim-text>
<claim-text>circuitry for determining an average amount of time that said managed connection is in an idle state;</claim-text>
<claim-text>circuitry for computing a standard deviation of a number of accesses to a physical connection represented by said managed connection over a time said managed connection has been idled; and</claim-text>
<claim-text>circuitry for disassociating, by a connection manager of an application server whose instructions are executed by a processor, said managed connection from a connection handle in response to said amount of time said managed connection has been idled being less than or greater than said standard deviation from said average time said managed connection is in said idle state and in response to said amount of time said managed connection has been idled being greater than said average time said managed connection is in said idle state, wherein said connection handle is used by an application to refer to said physical connection represented by said managed connection.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The system as recited in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein said processor further comprises:
<claim-text>circuitry for computing a parameter to estimate a cost of dissociating and reassociating said managed connection from said connection handle.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The system as recited in <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein said parameter is equal to:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>2*(average(dissociate time+reassociate time)),<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
<claim-text>wherein said dissociate time is a time to dissociate said managed connection from said connection handle, wherein said reassociate time is a time to reassociate said managed connection with a subsequent physical connection.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The system as recited in <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein said processor further comprises:
<claim-text>circuitry for computing an average amount of time said managed connection is in use; and</claim-text>
<claim-text>circuitry for computing a time for timing variations in dissociating and reassociating said managed connection.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The system as recited in <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein said processor further comprises:
<claim-text>circuitry for disassociating said managed connection from said connection handle in response to said amount of time said managed connection has been idled being less than or greater than said standard deviation from said average time said managed connection is in said idle state and in response to (meanIdleTime&#x2212;currentIdleTime)&#x3e;((2*idleThreshold)+meanUseTime+bufferTime), wherein said meanIdleTime is said average time said managed connection is in said idle state, wherein said currentIdleTime is said amount of time said managed connection has been idled, wherein said idleThreshold is equal to said parameter, wherein said meanUseTime is said average amount of time said managed connection has been in use, wherein said bufferTime is said time for timing variations in releasing said managed connection.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The system as recited in <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein said processor further comprises:
<claim-text>circuitry for disassociating said managed connection from said connection handle in response to ((2*idleThreshold)+meanUseTime+bufferTime)&#x3c;(1*n*SD) and in response to |(meanIdleTime&#x2212;currentIdleTime)|&#x3e;((2*idleThreshold)+meanUseTime+bufferTime)), wherein said idleThreshold is equal to said parameter, wherein said meanUseTime is said average amount of time said managed connection is in use, wherein said bufferTime is said time for timing variations in releasing said managed connection, wherein said n is an integer initialized to a value of one, wherein said SD is equal to said standard deviation.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The system as recited in <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein said n is reduced by a value of 0.1 in response to ((2*idleThreshold)+meanUseTime+bufferTime)&#x3c;(1*n*SD) and in response to |(meanIdleTime&#x2212;currentIdleTime)|&#x2266;((2*idleThreshold)+meanUseTime+bufferTime)).</claim-text>
</claim>
</claims>
</us-patent-grant>
