<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626623-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626623</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12168401</doc-number>
<date>20080707</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2007-181506</doc-number>
<date>20070710</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>1057</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20120101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>Q</subclass>
<main-group>40</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>705 35</main-classification>
<further-classification>358  114</further-classification>
<further-classification>358  31</further-classification>
<further-classification>705400</further-classification>
<further-classification>705408</further-classification>
</classification-national>
<invention-title id="d2e71">Image processing apparatus, image processing method, and recording medium</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6027200</doc-number>
<kind>A</kind>
<name>Takahashi et al.</name>
<date>20000200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>347 19</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7083247</doc-number>
<kind>B2</kind>
<name>Yoshida et al.</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2002/0076245</doc-number>
<kind>A1</kind>
<name>Aiyama</name>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>400 61</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2002/0089686</doc-number>
<kind>A1</kind>
<name>Kitahara et al.</name>
<date>20020700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  114</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2005/0200900</doc-number>
<kind>A1</kind>
<name>Hirano</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2006/0092296</doc-number>
<kind>A1</kind>
<name>McGrath et al.</name>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2006/0098232</doc-number>
<kind>A1</kind>
<name>Nakano et al.</name>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2006/0181562</doc-number>
<kind>A1</kind>
<name>Hirano et al.</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>JP</country>
<doc-number>7-107280</doc-number>
<date>19950400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>JP</country>
<doc-number>8-156247</doc-number>
<date>19960600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>JP</country>
<doc-number>8-267828</doc-number>
<date>19961000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>JP</country>
<doc-number>11-112789</doc-number>
<date>19990400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>JP</country>
<doc-number>3039273</doc-number>
<date>20000300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>JP</country>
<doc-number>2002-268861</doc-number>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>JP</country>
<doc-number>2005-35062</doc-number>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>JP</country>
<doc-number>2005-170010</doc-number>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>JP</country>
<doc-number>2006-68982</doc-number>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>JP</country>
<doc-number>2007-69614</doc-number>
<date>20070300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>19</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>347 19</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>347106</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>347  7</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>347 14</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>347 84</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>400 61</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358  114</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358  31</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358501</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>705 35</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>705400</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>705408</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>101485</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>101181</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>101248</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>11</number-of-drawing-sheets>
<number-of-figures>12</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20090018881</doc-number>
<kind>A1</kind>
<date>20090115</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Ito</last-name>
<first-name>Takayuki</first-name>
<address>
<city>Kanagawa</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Hirano</last-name>
<first-name>Masanori</first-name>
<address>
<city>Kanagawa</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Hoshino</last-name>
<first-name>Yoshiaki</first-name>
<address>
<city>Kanagawa</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="004" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Takagi</last-name>
<first-name>Yasunobu</first-name>
<address>
<city>Kanagawa</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Ito</last-name>
<first-name>Takayuki</first-name>
<address>
<city>Kanagawa</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Hirano</last-name>
<first-name>Masanori</first-name>
<address>
<city>Kanagawa</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Hoshino</last-name>
<first-name>Yoshiaki</first-name>
<address>
<city>Kanagawa</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="004" designation="us-only">
<addressbook>
<last-name>Takagi</last-name>
<first-name>Yasunobu</first-name>
<address>
<city>Kanagawa</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Oblon, Spivak, McClelland, Maier &#x26; Neustadt, L.L.P.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Ricoh Company, Ltd.</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Badii</last-name>
<first-name>Behrang</first-name>
<department>3667</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A disclosed image processing apparatus includes an adjusting unit configured to convert input image data into image formation data, an arithmetic unit configured to calculate an image formation ink cost based on the converted image formation data, and a determining unit configured to compare the calculated image formation ink cost with a black-and-white image formation ink cost, wherein the calculated image formation ink cost is fixed based on a determination result of the first determining unit.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="150.45mm" wi="233.09mm" file="US08626623-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="234.53mm" wi="170.69mm" orientation="landscape" file="US08626623-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="158.50mm" wi="165.44mm" file="US08626623-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="175.77mm" wi="129.54mm" file="US08626623-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="127.59mm" wi="148.93mm" file="US08626623-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="239.69mm" wi="154.52mm" file="US08626623-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="262.55mm" wi="173.48mm" orientation="landscape" file="US08626623-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="243.25mm" wi="132.76mm" file="US08626623-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="184.07mm" wi="153.67mm" file="US08626623-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="185.93mm" wi="155.02mm" orientation="landscape" file="US08626623-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="184.07mm" wi="159.68mm" orientation="landscape" file="US08626623-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="205.57mm" wi="169.16mm" orientation="landscape" file="US08626623-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">The present invention relates to an image processing apparatus, an image processing method, and recording medium storing an image processing program that allow users to save ink according to specifications.</p>
<p id="p-0004" num="0003">2. Description of the Related Art</p>
<p id="p-0005" num="0004">Image processing apparatuses for processing image data include personal computers and work stations. The image processing apparatuses produce image data including various objects (characters, fills, lines, photographs, etc.) using application software.</p>
<p id="p-0006" num="0005">Image forming apparatuses, such as printers, facsimile machines, copiers, and multifunction peripherals, form images from the image data and output the images. Image forming methods (e.g., an inkjet recording method and an electrophotographic method), are used that form images using an image formation material such as recording liquid (ink) and toner.</p>
<p id="p-0007" num="0006">If the image data contains many color objects, the amount of the image formation material to be used such as color ink and color toner is increased, resulting in an increase in the cost of the image formation material.</p>
<p id="p-0008" num="0007">Some related-art image forming apparatuses have an image formation material save mode called, e.g., an ink save mode or a toner save mode for reducing the usage of the image formation material. If the image formation material save mode is selected, a predetermined process is performed to reduce the amount of the image formation material to be used for outputting images.</p>
<p id="p-0009" num="0008">For example, Japanese Patent Laid-Open Publication No. 08-267828 (Patent Document 1) discloses a technique that decimates image data to reduce the number of pixels of the image, thereby saving ink and toner.</p>
<p id="p-0010" num="0009">Japanese Patent Laid-Open Publication No. 2005-35062 discloses a technique that controls a drive signal for an inkjet recording head to control the ink ejection amount, thereby saving ink.</p>
<p id="p-0011" num="0010">Japanese Patent Laid-Open Publication No. 2002-268861 discloses a technique that determines a print parameter according to the image formation cost specified by a user, thereby controlling the cost of the image formation material.</p>
<p id="p-0012" num="0011">An image forming apparatus, an image processing apparatus, and an image processing method disclosed in Patent Document 1 perform decimation for each object, thereby saving the image formation material while maintaining the visibility of characters and the like. In some cases, however, the actual cost does not match the image formation material cost desired by a user.</p>
<p id="p-0013" num="0012">An image forming apparatus, an image processing apparatus, and an image processing method disclosed in Patent Document 2 save the image formation material by reducing the ink ejection amount. Therefore, the resulting image might be too light to satisfy the specification of the image desired by a user.</p>
<p id="p-0014" num="0013">An image forming apparatus, an image processing apparatus, and an image processing method disclosed in Patent Document 3 require a user to specify the image formation material cost each time printing is performed. Therefore, the number of operating steps is increased, resulting in a burden on the user.</p>
<p id="p-0015" num="0014">That is, the problem with the related-art image formation material save mode is that it is not possible to adjust the image formation material cost desired by a user each time recording a page without increasing burden on the user, and provide a recording image that satisfies the specifications desired by the user.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0016" num="0015">In view of the foregoing, the present invention is directed toward providing an image processing apparatus, an image processing method, and a recording medium storing an image processing program that save color image formation ink by adjusting the amount of an image formation material based on the image formation ink cost for black-and-white recording.</p>
<p id="p-0017" num="0016">According to an embodiment of the present invention, there is provided an image processing apparatus that comprises an adjusting unit configured to convert input image data into image formation data, an arithmetic unit configured to calculate an image formation ink cost based on the converted image formation data, and a determining unit configured to compare the calculated image formation ink cost with a black-and-white image formation ink cost, wherein the calculated image formation ink cost is fixed based on a determination result of the first determining unit.</p>
<p id="p-0018" num="0017">According to another embodiment of the present invention, there is provided an image processing method that comprises an adjusting step of converting input image data into image formation data; an arithmetic step of calculating an image formation ink cost based on the converted image formation data; a determining step of comparing the calculated image formation ink cost with a black-and-white image formation ink cost; and a fixing step of fixing the calculated image formation ink cost based on a determination result in the determining step.</p>
<p id="p-0019" num="0018">According to still another embodiment of the present invention, there is provided a computer-readable recording medium storing an image processing program. The program includes computer-executable instructions for executing a method comprising an adjusting step of converting input image data into image formation data; an arithmetic step of calculating an image formation ink cost based on the converted image formation data; a determining step of comparing the calculated image formation ink cost with a black-and-white image formation ink cost; and a fixing step of fixing the calculated image formation ink cost based on a determination result in the determining step.</p>
<p id="p-0020" num="0019">According to an embodiment of the present invention, there are provided an image processing apparatus, an image processing method, and a recording medium storing an image processing program that save color image formation ink by adjusting the amount of an image formation material based on the image formation ink cost for black-and-white recording, and thus place little burden on a user and achieve an image formation ink cost and a recording image that satisfy the specifications desired by the user.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic diagram illustrating a mechanical section of an inkjet recording apparatus as an example of an image processing apparatus according to an embodiment of the present invention;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic plan view illustrating a part of the mechanical section;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 3</figref> is a schematic perspective view for explaining a configuration of a head of the apparatus;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 4</figref> is a diagram for explaining an example of a transport belt of the apparatus;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIGS. 5A and 5B</figref> are diagrams for explaining a recording operation of the apparatus;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram schematically illustrating a control unit of the apparatus;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 7</figref> is a functional block diagram illustrating an example of a configuration of a printer driver in an image processing apparatus;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 8</figref> is a functional block diagram illustrating an example of a configuration for an image formation ink saving process in an image processing apparatus;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 9</figref> is a functional block diagram illustrating an example of a configuration for adjusting the image formation ink droplet amount in an image processing apparatus;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 10</figref> is a functional block diagram illustrating an example of a configuration for calculating the image formation ink cost in an image processing apparatus; and</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 11</figref> is a functional block diagram illustrating an example of a configuration for selecting whether to reset an ink save mode based on a black-and-white image formation cost in an image processing apparatus.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
<p id="p-0032" num="0031">An image processing apparatus according to an embodiment of the present invention realizes the following:</p>
<p id="p-0033" num="0032">Saving color image formation ink by adjusting, each time recording a page, the amount of image formation ink for each object based on the image formation ink cost for black-and-white recording, thus placing little operational burden on a user and achieving an image formation ink cost and a recording image that satisfy the specifications desired by a user.</p>
<p id="p-0034" num="0033">The following is an example of a preferred embodiment of the present invention that realizes the above-described image processing apparatus.</p>
<p id="p-0035" num="0034">The image processing apparatus includes a recording head and is configured to adjust, each time recording a page, the image formation ink amount based on the image formation ink cost for black-and-white recording. The recording head includes a droplet ejection head having plural nozzle arrays for ejecting inks of different colors or plural droplet ejection heads for ejecting inks of different colors.</p>
<p id="p-0036" num="0035">The image formation ink amount is adjusted for each type of object of a color image. If the object to be output is a character and has a size smaller than a predetermined size, adjustment of the ink amount is not performed. If the object is not a character, adjustment of the ink amount is performed regardless of the size of the object.</p>
<p id="p-0037" num="0036">A unit for adjusting the image formation ink amount may be provided that corrects R, G, and B values of input image data, wherein corrected values R&#x2032;, G&#x2032;, and B&#x2032; of the R, G, and B values are represented by R&#x2032;=R_max&#x2212;p&#xd7;(R_max&#x2212;R), G&#x2032;=G_max&#x2212;p&#xd7;(G_max&#x2212;G), and B&#x2032;=B_max&#x2212;p&#xd7;(B_max&#x2212;B), respectively, in which R_max, G_max, and B_max represent maximum level values of the R, G, and B values, respectively, of the input image data and p is a coefficient (p being equal to or greater than 0 and less than or equal to 1.0), and preferably regulates the image formation ink amount using a total amount regulating value multiplied by a coefficient r (r being equal to or greater than 0 and less than or equal to 1.0). The upper/lower limits and the initial values of the coefficients are preferably specified.</p>
<p id="p-0038" num="0037">Alternatively, another unit for adjusting the image formation ink amount may be provided that corrects C, M, Y and K values of input image data by multiplying the C, M, Y, and K values by a coefficient q (q being equal to or greater than 0 and less than or equal to 1.0), and preferably regulates the image formation ink amount using a total amount regulating value multiplied by a coefficient r (r being equal to or greater than 0 and less than or equal to 1.0). The upper/lower limits and the initial values of the coefficients are preferably specified.</p>
<p id="p-0039" num="0038">A unit for adjusting the image formation ink amount to a target amount may preferably be provided that resets and changes repeatedly the coefficient p or q and the coefficient r until the image formation ink cost, which is calculated by multiplying the adjusted image formation ink amount by the ink cost per unit ink amount, becomes equal to s % of the image formation ink cost for black-and-white image recording. The s % is preferably 100% because when s is 100 the color image formation ink cost becomes equal to the black-and-white image formation ink cost. The ink cost per unit ink amount may be acquired from an ink cartridge.</p>
<p id="p-0040" num="0039">The above-described image processing apparatus may preferably be configured as described below.</p>
<p id="p-0041" num="0040">It should be understood that the present invention is not limited to the below-described configuration of the image processing apparatus and variations and modifications may be made without departing from the scope of the invention.</p>
<p id="p-0042" num="0041">According to the below-described configuration of the image processing apparatus, an inkjet recording apparatus is applied to an image forming unit, for example.</p>
<p id="p-0043" num="0042">An example of a configuration of the inkjet recording apparatus applied to the image processing apparatus is described with reference to <figref idref="DRAWINGS">FIGS. 1 through 4</figref>.</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic diagram illustrating an entire mechanical section of an inkjet recording apparatus according to an embodiment of the present invention.</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic plan view illustrating a part of the inkjet recording apparatus.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 3</figref> is a schematic perspective view for explaining a diagram illustrating a head configuration of the inkjet recording apparatus.</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 4</figref> is a cross-sectional schematic diagram illustrating a transport belt of the inkjet recording apparatus.</p>
<p id="p-0048" num="0047">The inkjet recording apparatus includes an image forming unit <b>2</b> inside an apparatus body <b>1</b>. A sheet feed tray <b>4</b> capable of holding a large number of sheets <b>3</b> of recording media (hereafter referred to simply as &#x201c;sheets&#x201d;) is provided in the lower side of the apparatus body <b>1</b>. The inkjet recording apparatus loads the sheet <b>3</b> from the sheet feed tray <b>4</b>, records a predetermined image using the image forming unit <b>2</b> while transporting the sheet <b>3</b> using a transport mechanism <b>5</b>, and ejects the sheet <b>3</b> to a sheet ejection tray <b>6</b> attached to a side of the apparatus body <b>1</b>.</p>
<p id="p-0049" num="0048">The inkjet recording apparatus further includes a duplex unit <b>7</b>, which is detachable from the apparatus body <b>1</b>. Upon performing duplex printing, the inkjet recording apparatus prints one side (front side) of the sheet <b>3</b>, loads the sheet <b>3</b> into the duplex unit <b>7</b> by transporting the sheet <b>3</b> in the opposite direction using the transport mechanism <b>5</b>, and rotates the sheet <b>3</b> to pass the sheet <b>3</b> again to the transport mechanism <b>5</b>, prints the other side, and ejects the sheet <b>3</b> to the sheet ejection tray <b>6</b>.</p>
<p id="p-0050" num="0049">The image forming unit <b>2</b> causes a carriage <b>13</b>, which is slidably held by guide shafts <b>11</b> and <b>12</b>, to move (i.e., to perform main scanning) in a direction orthogonal to a transport direction of the sheet <b>3</b> using a main scanning motor (not shown). On the carriage <b>13</b>, a recording head <b>14</b> is mounted that includes plural droplet ejection heads. Each droplet ejection head has plural nozzle openings <b>14</b><i>n </i>(see <figref idref="DRAWINGS">FIG. 3</figref>) as ejection ports for ejecting droplets. Further, an ink cartridge <b>15</b> is detachably mounted and is configured to supply liquid to the recording head <b>14</b>. In an alternative embodiment, a sub tank, to which a main tank supplies ink, may be mounted in place of the ink cartridge <b>15</b>.</p>
<p id="p-0051" num="0050">As shown in <figref idref="DRAWINGS">FIGS. 2 and 3</figref>, the recording head <b>14</b> includes, as the droplet ejection heads, four independent inkjet heads <b>14</b><i>y</i>, <b>14</b><i>m</i>, <b>14</b><i>c</i>, and <b>14</b><i>k </i>for ejecting ink droplets of yellow (Y), magenta (M), cyan (C), and black (B), respectively. In an alternative embodiment, one or more heads each having plural nozzle arrays for ejecting different colors of ink droplets may be used in place of the droplet ejection heads. The number of colors and the order of the arrangement are not limited to those illustrated in this example.</p>
<p id="p-0052" num="0051">The recording head <b>14</b> further includes an energy generation mechanism for ejecting ink. Examples of an energy generation mechanism of the recording head <b>14</b> include a piezoelectric actuator such as a piezoelectric element; a thermal actuator that utilizes a phase change due to film boiling of liquid using an electrothermal conversion element such as a heating element; a shape memory alloy actuator that utilizes a metallic phase change due to a temperature change; and an electrostatic actuator using electrostatic force.</p>
<p id="p-0053" num="0052">The electrothermal conversion element used herein has non-linear properties. That is, the resistance value of the electrothermal conversion element does not easily change in response to application of low voltage, but greatly changes in response to application of voltage higher than a predetermined level.</p>
<p id="p-0054" num="0053">In the case of electrothermal conversion elements having linear properties, noise voltage is applied to non-selected heating units, resulting in a waste of energy. Furthermore, the noise voltage affects the drive voltage, resulting in a change in the ink ejection amount, which would affect an image to be recorded. In particular, in the case of inkjet recording heads that apply voltage to plural vertical lines and plural horizontal lines and thus selectively drive heating units arranged on intersections of the vertical lines and the horizontal lines in a matrix form, a voltage lower than the voltage might be applied to non-selected heating units while driving selected heating units. If the voltage applied to the non-selected heating units is a forward voltage, the non-selected heating units generate unwanted heat. If the non-selected heating units are selected and heated for ejecting ink, accumulation of unwanted heat causes excessive heat and ejection of an excessive amount of ink. As a result, the ink ejection amount varies from nozzle to nozzle.</p>
<p id="p-0055" num="0054">Use of electrothermal conversion elements having non-linear properties prevents the heating elements from generating unwanted heat due to application of a voltage lower than the drive voltage such as noise, and thus prevents a variation in the ink ejection amount, resulting in reduced graininess and improved gradation of the printout. Furthermore, it is possible to prevent unwanted heat generation and a waste of energy.</p>
<p id="p-0056" num="0055">The resistance of each electrothermal conversion element of the recording head may be measured to allow adjustment of the drive voltage to be applied to each electrothermal conversion element based on the measured resistance. Especially, in the case of relatively long recording heads, the resistance of the electrothermal conversion element tends to vary from nozzle to nozzle, resulting in a variation in the ink ejection amount. However, the adjustment of the application voltage based on the feedback of the resistance of each electrothermal conversion element allows ejection of ink droplets of desired size.</p>
<p id="p-0057" num="0056">In the case of using a thermal recording head, the electrothermal conversion element (ejection energy generating unit) may be provided with a protective layer. The provision of a protective layer prevents erosion by ink, kogation (burnt ink components), and cavitation (destruction due to impact upon contraction of bubbles) from directly affecting the electrothermal conversion element. Thus the electrothermal conversion element is protected from damage, thereby allowing a longer service life of the electrothermal conversion element.</p>
<p id="p-0058" num="0057">The sheet <b>3</b> in the sheet feed tray <b>4</b> is separated from the other sheets <b>3</b> and fed inside the apparatus body <b>1</b> by a sheet feed roller (semicircular roller) <b>21</b> and a separation pad (not shown), and then is fed to the transport mechanism <b>5</b>.</p>
<p id="p-0059" num="0058">The transport mechanism <b>5</b> includes a transport guide unit <b>23</b> for guiding the sheet <b>3</b> fed from the sheet feed tray upward along a guide surface <b>23</b><i>a </i>and for guiding the sheet <b>3</b> fed from the duplex unit <b>7</b> along a guide surface <b>23</b><i>b</i>, a transport roller <b>24</b> for transporting the sheet <b>3</b>, a pressure roller <b>25</b> for pressing the sheet <b>3</b> against the transport roller <b>24</b>, a guide member <b>26</b> for guiding the sheet <b>3</b> to the transport roller <b>24</b>, a guide member <b>27</b> for guiding the returned sheet <b>3</b> to the duplex unit <b>7</b> for duplex printing, and a pressure roller <b>28</b> for pressing the sheet <b>3</b> fed from the transport roller <b>24</b>.</p>
<p id="p-0060" num="0059">The transport mechanism <b>5</b> further includes a transport belt <b>33</b> extending around a driving roller <b>31</b> and a driven roller <b>32</b> for guiding the sheet <b>3</b> flat under the recording head <b>14</b>, a charging roller <b>34</b> for electrically charging the transport belt <b>33</b>, a guide roller <b>35</b> facing the charging roller <b>34</b>, a guide member (platen plate) (not shown) for guiding the transport belt <b>33</b> at a position facing the image forming unit <b>2</b>, and a cleaning roller (not shown) made of a porous body or the like for removing recording liquid (ink) adhered to the transport belt <b>33</b>.</p>
<p id="p-0061" num="0060">The transport belt <b>33</b> is an endless belt extending around the driving roller <b>31</b> and the driven roller (tension roller) <b>32</b> and is configured to rotate in the direction (sheet transport direction) indicated by an arrow of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0062" num="0061">The transport belt <b>31</b> may have a single layer structure, a double layer structure including a first layer (front layer) <b>33</b><i>a </i>and a second layer (back layer) <b>33</b><i>b </i>as shown in <figref idref="DRAWINGS">FIG. 4</figref>, or a structure having three or more layers. For example, the transport belt <b>31</b> may include a front layer of about 40 &#x3bc;m thickness serving as a sheet attracting face and a back layer (intermediate resistance layer, grounding layer). The front layer is made of a pure resin material, such as ETFE pure material, and is not subjected to resistance control. The back layer is made of the same material as the front layer but is subjected to resistance control using carbon.</p>
<p id="p-0063" num="0062">The charging roller <b>34</b> is in contact with the surface of the transport belt <b>33</b> and is rotated by rotation of the transport belt <b>33</b>. A high tension circuit (high voltage power supply) <b>114</b> (described below) applies a high voltage to the charging roller <b>34</b> to form a predetermined pattern.</p>
<p id="p-0064" num="0063">A sheet ejection roller <b>38</b> for ejecting the sheet <b>3</b> onto the sheet ejection tray <b>6</b> is provided at the subsequent stage of the transport mechanism <b>5</b>.</p>
<p id="p-0065" num="0064">In the image forming unit having the above-described configuration, the transport belt <b>33</b> rotates in the direction of the arrow and is positively charged by contact with the charging roller <b>34</b> to which a high voltage is applied. The charging roller <b>34</b> switches the polarity at predetermined time intervals such that the transport belt <b>33</b> is charged to have bands of alternating polarities with a predetermined pitch.</p>
<p id="p-0066" num="0065">When the sheet <b>3</b> is fed onto the transport belt <b>33</b> charged at high potential, the inside of the sheet <b>3</b> is polarized, so that the electric charges of the sheet <b>3</b> having a polarity opposite to the polarity of the charges on the transport belt <b>33</b> are moved to the surface of the sheet <b>3</b> in contact with the transport belt <b>33</b>. The electric charges on the transport belt <b>33</b> and the electric charges moved to the surface of the sheet <b>3</b> electrostatically attract each other, so that the sheet <b>3</b> is electrostatically attracted to the transport belt <b>33</b>. The sheet <b>3</b> is tightly attracted to the transport belt <b>33</b>, and therefore warping and irregularities of the sheet <b>3</b> are corrected, so that the surface of the sheet <b>3</b> becomes essentially flat.</p>
<p id="p-0067" num="0066">The sheet <b>3</b> is moved by rotation of the transport belt <b>33</b>. The recording head <b>14</b> is driven according to an image signal while moving the carriage <b>13</b> in one direction or two directions. As shown in <figref idref="DRAWINGS">FIGS. 5A and 5B</figref>, the recording head <b>14</b> ejects (injects) droplets (ink droplets) <b>14</b><i>i </i>onto the stationary sheet <b>3</b> to form dots Di, thereby recording a single line. Then the sheet <b>3</b> is moved by a predetermined distance, and the next line is recorded. The recording operation is terminated in response to a recording termination signal or a signal indicting that the trailing edge of the sheet <b>3</b> has reached a recording area. <figref idref="DRAWINGS">FIG. 5B</figref> is an enlarged view of the dot Di of <figref idref="DRAWINGS">FIG. 5A</figref>.</p>
<p id="p-0068" num="0067">The sheet <b>3</b> with an image recorded thereon is ejected to the sheet ejection tray <b>6</b> by the sheet ejection roller <b>38</b>.</p>
<p id="p-0069" num="0068">A control unit <b>100</b> of the image processing apparatus of an embodiment of the present invention is described below with reference to <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0070" num="0069"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram schematically illustrating the entire control unit <b>100</b>.</p>
<p id="p-0071" num="0070">The control unit <b>100</b> comprises a CPU <b>101</b> that controls the apparatus, a ROM <b>102</b> that stores programs to be executed by the CPU <b>101</b> and other fixed data, a RAM <b>103</b> that temporarily stores image data and the like, a nonvolatile memory (NVRAM) <b>104</b> that retains data even when power is removed, and an ASIC <b>105</b> that processes various signals including input/output signals for image processing such as sorting and input/output signals for controlling the entire apparatus.</p>
<p id="p-0072" num="0071">The control unit <b>100</b> further includes an I/F <b>106</b> for transmitting data and signals to and receiving data and signals from a host <b>90</b> (e.g., an image processing apparatus such as a personal computer), a head drive controller <b>107</b> and a head driver <b>108</b> that control and drive the recording head <b>14</b>, a main scanning motor driver <b>111</b> that drives a main scanning motor <b>110</b>, a sub scanning motor driver <b>113</b> that drives a sub scanning motor <b>112</b>, a sub system driver (not shown) that drives a motor of the sub system, an environmental sensor <b>118</b> that detects environmental temperature and/or environmental humidity, and an I/O <b>116</b> that receives detection signals from various sensors (not shown).</p>
<p id="p-0073" num="0072">An operations panel <b>117</b> for inputting and displaying information necessary for the apparatus is connected to the control unit <b>100</b>. The control unit <b>100</b> controls switching on/off the high tension circuit (high voltage power supply) <b>114</b> that applies a high voltage to the charging roller <b>34</b> and switches the output polarity.</p>
<p id="p-0074" num="0073">The control unit <b>100</b> receives, at the I/F <b>106</b>, print data including image data from the host <b>90</b> (e.g., a data processing apparatus such as a personal computer, an image reading apparatus such as an image scanner, and an imaging apparatus such as a digital camera) through a cable or a network. A printer driver <b>91</b> of the host <b>90</b> according to an embodiment of the present invention generates and outputs the print data to the control unit <b>100</b>.</p>
<p id="p-0075" num="0074">The CPU <b>101</b> reads and analyzes the print data held in a receive buffer of the I/F <b>106</b>. Then the ASIC <b>105</b> performs processing such as data sorting and transfers the data to the head drive controller <b>107</b>. Regarding conversion of the print data into bit map data, the printer driver <b>91</b> of the host <b>90</b> expands image data into bit map data and transfers the data to the apparatus as described above. In an alternative embodiment, for example, font data may be stored in the ROM <b>102</b> to allow such conversion.</p>
<p id="p-0076" num="0075">The head drive controller <b>107</b> receives one line of image data (dot pattern data) for the recording head <b>14</b>, and sends the received one line of dot pattern data as serial data to the head driver <b>108</b> in synchronization with a clock signal. The head drive controller <b>107</b> also sends a latch signal to the head driver <b>108</b> with a predetermined timing.</p>
<p id="p-0077" num="0076">The head drive controller <b>107</b> includes a ROM (or the ROM <b>102</b>) storing pattern data of drive waveforms (drive signals) and a drive waveform generation circuit including an amplifier and a waveform generation circuit having a D/A converter for performing D/A conversion of the data of drive waveforms read from the ROM.</p>
<p id="p-0078" num="0077">The head driver <b>108</b> includes a shift register that receives the clock signal and the serial data as the image data from the head drive controller <b>107</b>, a latch circuit that latches the registration value of the shift register with the latch signals from the head drive controller <b>107</b>, a level shift circuit (level shifter) that shifts the level of the output value of the latch circuit, and an analog switch array (switch unit), on/off of which analog switch array is controlled by the level shifter. The on/off of the analog switch array is controlled such that a desired drive waveform contained in the drive waveforms is selectively applied to the actuator unit of the recording head <b>14</b>, and the recording head <b>14</b> is driven accordingly.</p>
<p id="p-0079" num="0078">In an embodiment of the present invention, it is possible to print a medium (a sheet) without providing a blank space at least on a part of the periphery of the sheet.</p>
<p id="p-0080" num="0079">For the periphery to be printed, ink is ejected not only within the sheet but also outside the sheet. If an attempt to eject ink onto the border of the sheet is made, the ink often cannot be ejected onto the ideal area because of a transport error of a sheet transport system or an error in driving the carriage, resulting in a blank space. To avoid such a problem, ink is ejected onto an area wider than the ideal area taking a print position error into consideration. That is, ink is ejected not only within the sheet but also outside the sheet.</p>
<p id="p-0081" num="0080">The ink ejected outside the sheet does not contribute to recording and therefore is wasted. It is desirable to reduce the amount of the ink to be ejected outside the sheet.</p>
<p id="p-0082" num="0081">One way of reducing the amount of ink to be ejected outside the sheet is improving the accuracy of transporting the sheet. Improving the transport accuracy allows a reduction in the area outside the sheet on which the ink is to be ejected, thereby reducing the amount of the ink to be wastefully ejected outside the sheet. More specifically, the sheet feed pitch is reduced when printing near the periphery of the sheet, thereby improving the transport accuracy.</p>
<p id="p-0083" num="0082">An example of an image processing apparatus including a printer driver is described below with reference to <figref idref="DRAWINGS">FIG. 7</figref>. This image processing apparatus is the host <b>90</b> that transfers image data to be used by the image forming unit for forming an image.</p>
<p id="p-0084" num="0083">The printer driver <b>91</b> of the image processing apparatus processes image data <b>130</b>, which may be provided from application software, at an image processing unit <b>120</b>. The image processing unit <b>120</b> includes a CMM (Color Management Module) processing unit <b>131</b> for converting a color space for monitor display to a color space for a recording apparatus (an RGB color space to a CMY color space), a BG/UCR (Black Generation/Under Color Removal) processing unit <b>132</b> for performing black generation/under color removal from CMY values, a &#x3b3; correction unit <b>133</b> for performing input/output correction based on characteristics of the recording apparatus and user preferences, a zooming unit <b>134</b> for zooming according to the resolution of the recording apparatus, and a halftone processing unit <b>135</b> including a multiple value/small value matrix for converting the image data into a pattern arrangement of dots to be ejected from the recording apparatus.</p>
<heading id="h-0005" level="1">Embodiment</heading>
<p id="p-0085" num="0084">A preferred embodiment of the present invention is described below.</p>
<p id="p-0086" num="0085">The terms used hereinafter may be modified or changed by those skilled in the art without departing from the scope of the present invention.</p>
<p id="p-0087" num="0086">This embodiment is directed toward saving color image formation ink by adjusting, each time recording a page, the amount of image formation ink for each object based on the image formation ink cost for black-and-white recording.</p>
<p id="p-0088" num="0087">First, a preferred configuration example of an image processing apparatus according to the present invention is described with reference to <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0089" num="0088"><figref idref="DRAWINGS">FIG. 8</figref> illustrates the outline and <figref idref="DRAWINGS">FIGS. 9</figref>, <b>10</b>, and <b>11</b> illustrate details.</p>
<p id="p-0090" num="0089">Image data RGB of a color space for monitor display, which are provided by application software or the like, are input to an input-image-data input unit <b>200</b>. According to the settings in an ink save mode setting unit <b>301</b> as a setting unit, an image formation ink adjustment processing unit <b>201</b> as an adjusting unit adjusts the image data and converts the image data into image formation data K&#x2032; C&#x2032; M&#x2032; Y&#x2032;. The adjustment and conversion of the image data performed herein constitute an adjustment of the amount of the image formation ink droplets.</p>
<p id="p-0091" num="0090">Next, an image formation ink cost calculation processing unit <b>202</b> as an arithmetic unit calculates the image formation ink cost based on the image formation data K&#x2032; C&#x2032; M&#x2032; Y&#x2032;.</p>
<p id="p-0092" num="0091">Finally, an image formation determination processing unit <b>203</b> as a determining unit compares the calculated image formation ink cost and the white-and-black image formation ink cost to determine whether the calculated image formation ink cost and the white-and-black image formation ink cost satisfy a predetermined condition. If the calculated image formation ink cost and the white-and-black image formation ink cost satisfy a predetermined condition, the image formation determination processing unit <b>203</b> outputs an image formation command to the control unit <b>100</b>. If not, the image formation determination processing unit <b>203</b> outputs an image formation ink readjustment command to the ink save mode setting unit <b>301</b> for readjusting the image formation ink.</p>
<p id="p-0093" num="0092">An example of the image formation ink adjustment processing unit <b>201</b> as an adjusting unit is shown in <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="p-0094" num="0093">A color conversion unit <b>303</b> performs conversion of the image data RGB of a color space for monitor display, which are provided by application software or the like, into a color space for a recording apparatus (conversion from the RGB color space to the CMY color space), performs BG/UCR (Black Generation/Under Color Removal) from CMYK values, and forms image-formation image intermediate data CMY. In the color conversion unit <b>303</b>, a color conversion parameter is specified by the ink save mode setting unit <b>301</b> through the color conversion parameter setting unit <b>302</b>. The input image data RGB are multiplied by the color conversion parameter as a coefficient. The following is an example:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>R&#x2032;=R</i>_max&#x2212;<i>p</i>&#xd7;(<i>R</i>_max&#x2212;<i>R</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>G&#x2032;=G</i>_max&#x2212;<i>p</i>&#xd7;(<i>G</i>_max&#x2212;<i>G</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>B&#x2032;=B</i>_max&#x2212;<i>p</i>&#xd7;(<i>B</i>_max&#x2212;<i>B</i>)&#x2003;&#x2003;(1)<?in-line-formulae description="In-line Formulae" end="tail"?>
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0094">The meaning of the signs is as follows:</li>
        <li id="ul0002-0002" num="0095">R&#x2003;G&#x2032;B&#x2032;: new image data to be processed by the color conversion unit <b>303</b></li>
        <li id="ul0002-0003" num="0096">R_max G_max B_max: maximum level values of the input image data</li>
        <li id="ul0002-0004" num="0097">p: the coefficient specified by the ink save mode setting unit <b>301</b></li>
        <li id="ul0002-0005" num="0098">RGB: input image data</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0095" num="0099">According to this set (1) of expressions, the entire image becomes lighter, thereby allowing a reduction of the amount of the image formation ink, resulting in reducing the cost of the image formation ink. The coefficient p is equal to or greater than 0 and less than or equal to 1.0. When the coefficient p is 1.0, the new image data is the same as the original image data.</p>
<p id="p-0096" num="0100">A lower limit of the coefficient p is preferably specified because the visibility of an image might be reduced depending on the value of the coefficient p. Further, an initial value of the coefficient p is preferably specified. This is to reduce the calculation cost, because the image formation ink adjustment processing unit <b>201</b> performs processing plural times depending on the condition (described below).</p>
<p id="p-0097" num="0101">It is to be noted although the method of adjusting the input image data RGB is described in this embodiment, a method of multiplying the image data KCMY by a coefficient q may alternatively be used without adjusting the input image data RGB.</p>
<p id="p-0098" num="0102">A total amount regulating unit <b>305</b> receives the KCMY data from the color conversion unit <b>303</b>, corrects the KCMY data to output K&#x2032;C&#x2032;M&#x2032;Y&#x2032; data according to the total amount regulation value indicating the maximum amount of the image formation ink. The total amount regulating unit <b>305</b> controls the image formation ink in order to prevent failures due to adhesion of excessive amount of image formation ink. A total amount regulation parameter is specified by the ink save mode setting unit <b>301</b> through a total amount regulation parameter setting unit <b>304</b>. The total amount regulation value is multiplied by the total amount regulation parameter. The following is an example:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Limit&#x2032;=<i>r</i>&#xd7;Limit&#x2003;&#x2003;(2)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0099" num="0103">The meaning of the signs is as follows:</p>
<p id="p-0100" num="0104">Limit&#x2032;: a new total amount regulation value to be processed by the total amount regulating unit <b>305</b></p>
<p id="p-0101" num="0105">r: a coefficient specified by the total amount regulation parameter setting unit <b>304</b></p>
<p id="p-0102" num="0106">Limit: the original total amount regulation value</p>
<p id="p-0103" num="0107">According to this expression (2), the regulation value of the amount of the image formation ink is reduced, resulting in saving the cost of the image formation ink. The coefficient r is equal to or greater than 0 and less than or equal to 1.0. When the coefficient r is 1.0, the new total amount regulation value is equal to the original total amount regulation value.</p>
<p id="p-0104" num="0108">A lower limit of the coefficient r is preferably specified because the gradation expression of dark colors might be degraded depending on the value of the coefficient r. Further, an initial value of the coefficient r is preferably specified. This is to reduce the calculation cost, because the image formation ink adjustment processing unit <b>201</b> performs processing plural times depending the condition (described below).</p>
<p id="p-0105" num="0109">The coefficient p or q and the coefficient r are preferably specified for each type of the object. The coefficients p and q have an effect of making the entire image lighter. The coefficient r does not have any effect on light images but has an effect of making dark images darker to a certain level (in some cases, gradation in dark portions is removed so that so-called &#x201c;gradation loss&#x201d; occurs). Because there is a method for suitably adjusting image data for each object, the effects of the coefficient p or q and the coefficient r need to be selectively applied.</p>
<p id="p-0106" num="0110">For example, if the object is a character, in order to ensure the visibility, it is preferable that the coefficient p or q and the coefficient r satisfy p&#x3e;r or q&#x3e;r and that the coefficient p or q and the coefficient r be fixed at 1.0.</p>
<p id="p-0107" num="0111">If the object is a photograph, a fill, or a line, because the visibility can be sacrificed to some extent, it is preferable that the coefficient p or q and the coefficient r satisfy p&#x3c;r or q&#x3c;r. In this case, to ensure gradation, it is preferable to adjust the coefficient p or q while setting the coefficient r to 1.</p>
<p id="p-0108" num="0112">If the object has a size greater than a predetermined size, it is preferable to greatly adjust the image formation ink amount (reduce the values of the coefficient p or q and the coefficient r). This is because the object having a size greater than the predetermined size is often a decoration and therefore lightening such a object does not cause a visibility problem.</p>
<p id="p-0109" num="0113">An example of the image formation ink cost calculation processing unit <b>202</b> as an arithmetic unit is shown in <figref idref="DRAWINGS">FIG. 10</figref>.</p>
<p id="p-0110" num="0114">The image formation ink cost calculation processing unit <b>202</b> includes a halftone processing unit <b>307</b>, a droplet amount calculating unit <b>308</b>, a cost calculation parameter setting unit <b>309</b> as a determining unit, and an image formation ink cost calculating unit <b>310</b>, and is configured to calculate an image formation ink cost and a black-and-white image formation ink cost.</p>
<p id="p-0111" num="0115">Examples of a method of calculating the image formation ink cost and a method of calculating the black-and-white image formation ink cost are described below. First, the halftone processing unit <b>307</b> generates a dot pattern. The halftone processing unit <b>307</b> includes a multiple value/small value matrix for converting the image formation data K&#x2032;C&#x2032;M&#x2032;Y&#x2032; into a pattern arrangement (dot pattern) of dots to be ejected.</p>
<p id="p-0112" num="0116">The droplet amount calculating unit <b>308</b> calculates the image formation ink droplet amount based on the number of ink droplets of the dot pattern. Then the image formation ink cost calculating unit <b>310</b> multiplies the image formation ink droplet amount by an ink cost per unit ink droplet amount to calculate the image formation ink cost.</p>
<p id="p-0113" num="0117">The droplet amount calculating unit <b>308</b> accumulates the value of each pixel of color conversion data on a per color basis, and calculates an ink usage based on the accumulated value of each color. The image formation ink cost calculating unit <b>310</b> multiples the calculated ink usage by the ink cost per unit ink droplet amount. In this case, the black-and-white image ink cost is previously calculated.</p>
<p id="p-0114" num="0118">The ink cost per unit ink droplet amount is specified by the cost calculation parameter setting unit <b>309</b>. The cost calculation parameter setting unit <b>309</b> is preferably configured to read the ink cost from one of various types of image holding units (such as a non-volatile memory) of an ink cartridge. This is to calculate the image formation ink cost with higher accuracy, because the ink cost varies depending on the type of the ink droplet and the size of the ink cartridge <b>15</b>.</p>
<p id="p-0115" num="0119">An example of the image formation determination processing unit <b>203</b> as a determining unit is shown in <figref idref="DRAWINGS">FIG. 11</figref>. The image formation ink cost determining unit <b>314</b> compares the image formation ink cost and the black-and-white recording image formation ink cost <b>313</b> to determine whether the image formation ink cost and the black-and-white recording image formation ink cost <b>313</b> satisfy a condition specified in an image formation ink cost determination condition setting unit <b>316</b>. Then a selecting unit <b>315</b> determines whether to reset the image parameter based on the determination result of the image formation ink cost determining unit <b>314</b>. In the case of resetting the image parameter, the selecting unit <b>315</b> sends an image parameter resetting command to the ink save mode setting unit <b>301</b>. In the case of not resetting the image parameter, the selecting unit <b>315</b> sends an image formation command to the control unit <b>100</b>.</p>
<p id="p-0116" num="0120">The black-and-white recording image formation ink cost <b>313</b> holds, as information, the black-and-white image formation ink cost calculated by the above-described arithmetic unit.</p>
<p id="p-0117" num="0121">The image formation ink cost determination condition setting unit <b>316</b> specifies s % (s indicating a value greater than 0) of the image formation ink cost for black-and-white image recording in the image formation ink cost determining unit <b>314</b>. Then the image formation ink cost determining unit <b>314</b> compares s % of the image formation ink cost for black-and-white image recording with the image formation ink cost.</p>
<p id="p-0118" num="0122">It is preferable that s % be 100%. In this case, it is possible to record a color image with the same image forming cost as the black-and-white image recording, thereby saving ink. The s may be specified by a user using an input unit such as an operations unit.</p>
<p id="p-0119" num="0123">As a result of the comparison made by the image formation ink cost determining unit <b>314</b>, if s % of the image formation ink cost for black-and-white recording is equal to the image formation ink cost, the selecting unit <b>315</b> sends an image formation command to the control unit <b>100</b>. If not, the selecting unit <b>315</b> sends an image formation parameter resetting command (a command to reset the coefficient p or q and the coefficient r) to the ink save mode setting unit <b>301</b>.</p>
<p id="p-0120" num="0124">Having received the image parameter resetting command, the ink save mode setting unit <b>301</b> sets values, which are not used last time, to the coefficient p or q and the coefficient r. In this way, the coefficients are reset repeatedly until s % of the image formation ink cost for black-and-white image recording becomes equal to the image formation ink cost. In the case where values available as the setting values of the coefficient do not include values that make s % of the image formation ink cost for black-and-white image recording equal to the image formation ink cost, the image formation ink adjustment is performed using the setting values of the coefficients that make s % of the image formation ink cost for black-and-white image recording the closest to the image formation ink cost.</p>
<p id="p-0121" num="0125">The image processing apparatus and the image processing method of the above-described embodiments of the present invention may be provided as a program or a recording medium storing the program for realizing the apparatus and the method.</p>
<p id="p-0122" num="0126">Examples of recording medium include flexible disks, CD-ROMs, magneto-optical disks, IC cards, ROM cartridges, punched cards, materials with barcodes or other codes printed thereon, internal storage devices (memories such as RAMs and ROMs) and external storage devices for computers, and a variety of other computer readable media. The present invention may be embodied as a program providing device that provides the computer program to a computer through the above-described I/F (communication pathway).</p>
<p id="p-0123" num="0127">The present application is based on Japanese Priority Application No. 2007-181506 filed on Jul. 10, 2007, with the Japanese Patent Office, the entire contents of which are hereby incorporated herein by reference.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An image processing apparatus, comprising:
<claim-text>an adjusting unit configured to convert input color image data into color image formation data;</claim-text>
<claim-text>an arithmetic unit configured to calculate a color image formation ink cost based on the converted color image formation data; and</claim-text>
<claim-text>a first determining unit, including a processor, configured to compare the calculated color image formation ink cost with a black-and-white image formation ink cost,</claim-text>
<claim-text>wherein when a comparison in the first determining unit does not satisfy a predetermined condition, the calculated color image formation ink cost is adjusted by modifying the converted color image formation data based on a determination result of the first determining unit; and,</claim-text>
<claim-text>wherein the adjusting unit corrects R, G, and B values of the input image data by multiplying the R, G, and B values by a coefficient p, p being equal to or greater than 0 and less than or equal to 1.0, according to R&#x2032;=R_max&#x2212;p&#xd7;(R_max&#x2212;R), G&#x2032;=G_max&#x2212;p&#xd7;(G_max&#x2212;G), and B&#x2032;=B_max&#x2212;p&#xd7;(B_max&#x2212;B), respectively, wherein R&#x2032;, G&#x2032;, and B&#x2032; represent corrected R, G, and B values, respectively, and R_max, G_max, and B_max represent maximum level values of the R, G, and B values, respectively, of the input image data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The image processing apparatus as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first determining unit determines whether the calculated color image formation ink cost is equal to s % of the black-and-white image formation ink cost, s being a user specified value.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The image processing apparatus as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a setting unit configured to specify a value of s; and</claim-text>
<claim-text>an input unit configured to allow a user to change a specified value of s.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The image processing apparatus as claimed in <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the arithmetic unit calculates the color image formation ink cost by multiplying an image formation ink amount by an ink cost per unit ink amount.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The image processing apparatus as claimed in <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the arithmetic unit includes a second determining unit configured to acquire type information from an ink cartridge and determine the ink cost per unit ink amount based on the acquired type information.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The image processing apparatus as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the adjusting unit corrects C, M, Y, and K values of the input image data by multiplying the C, M, Y, and K values by a coefficient q, q being equal to or greater than 0 and less than or equal to 1.0.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The image processing apparatus as claimed in <claim-ref idref="CLM-00006">claim 6</claim-ref>,
<claim-text>wherein the adjusting unit includes a total amount regulating unit configured to adjust an image formation ink amount, and</claim-text>
<claim-text>wherein the adjusting unit multiplies a total amount regulating value to be used for the adjustment by a coefficient r, r being equal to or greater than 0 and less than or equal to 1.0.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The image processing apparatus as claimed in <claim-ref idref="CLM-00006">claim 6</claim-ref>, further comprising:
<claim-text>a holding unit configured to hold initial values of the coefficient p and a coefficient r as rewritable information,</claim-text>
<claim-text>wherein the adjusting unit includes a total amount regulating unit configured to adjust an image formation ink amount,</claim-text>
<claim-text>wherein the adjusting unit multiplies a total amount regulating value to be used for the adjustment by the coefficient r, r being equal to or greater than 0 and less than or equal to 1.0, and</claim-text>
<claim-text>wherein the adjusting unit acquires, for the adjustment of the image formation ink amount, the initial values of the coefficient p and the coefficient r held in the holding unit as the coefficients p and r or acquires the coefficients p and r via a network or a record holding device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The image processing apparatus as claimed in <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the holding unit holds upper limits or lower limits of the coefficient p and the coefficient r to be used for the adjustment of the image formation ink amount as rewritable information.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The image processing apparatus as claimed in <claim-ref idref="CLM-00008">claim 8</claim-ref>, further comprising:
<claim-text>a setting unit configured to specify a value of s; and</claim-text>
<claim-text>an input unit configured to allow a user to change a specified value of s,</claim-text>
<claim-text>wherein the adjusting unit adjusts the values of the coefficient p and the coefficient r based on a value of s specified by the setting unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The image processing apparatus as claimed in <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the adjusting unit adjusts the values of the coefficient p and the coefficient r based on a type and a size of an object of an image.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A method of controlling an image processing apparatus that performs an operation, comprising:
<claim-text>converting, input color image data into color image formation data;</claim-text>
<claim-text>calculating, a color image formation ink cost based on the converted color image formation data;</claim-text>
<claim-text>comparing, the calculated color image formation ink cost with a black-and-white image formation ink cost; and</claim-text>
<claim-text>adjusting, with a processor, the calculated image formation ink cost by modifying the color image formation data based on a determination result in the determining step, when the comparison in the determining unit does not satisfy a predetermined condition, and,</claim-text>
<claim-text>wherein the adjusting corrects R, G, and B values of the input image data by multiplying the R, G, and B values by a coefficient p, p being equal to or greater than 0 and less than or equal to 1.0, according to R&#x2032;=R_max&#x2212;p&#xd7;(R_max&#x2212;R), G&#x2032;=G_max&#x2212;p&#xd7;(G_max&#x2212;G), and B&#x2032;=B_max&#x2212;p&#xd7;(B_max&#x2212;B), respectively, wherein R&#x2032;, G&#x2032;, and B&#x2032; represent corrected R, G, and B values, respectively, and R_max, G_max, and B_max represent maximum level values of the R, G, and B values, respectively, of the input image data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A non-transitory computer-readable recording medium encoded with computer-executable instructions, wherein the instructions, when executed by a processor, cause the processor to execute a method comprising:
<claim-text>converting input color image data into color image formation data;</claim-text>
<claim-text>calculating a color image formation ink cost based on the converted color image formation data;</claim-text>
<claim-text>comparing the calculated color image formation ink cost with a black-and-white image formation ink cost; and</claim-text>
<claim-text>adjusting the calculated image formation ink cost by modifying the color image formation data based on a result of a comparison of the calculated color image formation cost with the black-and-white image formation ink cost, when the comparison does not satisfy a predetermined condition.</claim-text>
<claim-text>wherein the adjusting corrects R, G, and B values of the input image data by multiplying the R, G, and B values by a coefficient p, p being equal to or greater than 0 and less than or equal to 1.0, according to R&#x2032;=R_max&#x2212;p&#xd7;(R_max&#x2212;R), G&#x2032;=G_max&#x2212;p&#xd7;(G_max&#x2212;G), and B&#x2032;=B_max&#x2212;p&#xd7;(B_max&#x2212;B), respectively, wherein R&#x2032;, G&#x2032;, and B&#x2032; represent corrected R, G, and B values, respectively, and R_max, G_max, and B_max represent maximum level values of the R, G, and B values, respectively, of the input image data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The image processing apparatus as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the converted color image formation data includes a coefficient p, a coefficient q, and a coefficient r, and at least one of the coefficient p, the coefficient q, and the coefficient r are modified such that the calculated color image formation ink cost is adjusted to be substantially equal to the black-and-white image formation ink cost.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The image processing apparatus as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the calculated color image formation ink cost is adjusted by repeatedly resetting an image parameter until s% of the black-and-white image formation ink cost for black-and-white image recording becomes equal to the color image formation ink cost.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The image processing apparatus as claimed in <claim-ref idref="CLM-00007">claim 7</claim-ref>, further comprising:
<claim-text>a holding unit configured to hold initial values of the coefficient q and a coefficient r as rewritable information,</claim-text>
<claim-text>wherein the adjusting unit includes a total amount regulating unit configured to adjust an image formation ink amount,</claim-text>
<claim-text>wherein the adjusting unit multiplies a total amount regulating value to be used for the adjustment by the coefficient r, r being equal to or greater than 0 and less than or equal to 1.0,and</claim-text>
<claim-text>wherein the adjusting unit acquires, for the adjustment of the image formation ink amount, the initial values of the coefficient q and the coefficient r held in the holding unit as the coefficients q and r or acquires the coefficients q and r via a network or a record holding device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The image processing apparatus as claimed in <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the holding unit holds upper limits or lower limits of the coefficient q and the coefficient r to be used for the adjustment of the image formation ink amount as rewritable information.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The image processing apparatus as claimed in <claim-ref idref="CLM-00016">claim 16</claim-ref>, further comprising:
<claim-text>a setting unit configured to specify a value of s; and</claim-text>
<claim-text>an input unit configured to allow a user to change a specified value of s,</claim-text>
<claim-text>wherein the adjusting unit adjusts the values of the coefficient q and the coefficient r based on a value of s specified by the setting unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The image processing apparatus as claimed in <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the adjusting unit adjusts the values of the coefficient q and the coefficient r based on a type and a size of an object of an image.</claim-text>
</claim>
</claims>
</us-patent-grant>
