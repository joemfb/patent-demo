<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08627179-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08627179</doc-number>
<kind>B1</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13685207</doc-number>
<date>20121126</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>M</subclass>
<main-group>13</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>714769</main-classification>
</classification-national>
<invention-title id="d2e43">Split sector recovery method</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5818806</doc-number>
<kind>A</kind>
<name>Wong et al.</name>
<date>19981000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>369 5333</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6690524</doc-number>
<kind>B1</kind>
<name>Wakefield et al.</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6826140</doc-number>
<kind>B2</kind>
<name>Brommer et al.</name>
<date>20041100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>369 94</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6982939</doc-number>
<kind>B2</kind>
<name>Powelson et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>369 4753</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7020833</doc-number>
<kind>B2</kind>
<name>Watanabe et al.</name>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7512040</doc-number>
<kind>B2</kind>
<name>Yoshida et al.</name>
<date>20090300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>369 3023</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2002/0126604</doc-number>
<kind>A1</kind>
<name>Powelson et al.</name>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>369 4753</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2003/0161422</doc-number>
<kind>A1</kind>
<name>Bi</name>
<date>20030800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375348</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2004/0205395</doc-number>
<kind>A1</kind>
<name>Kojima</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714 21</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2007/0113161</doc-number>
<kind>A1</kind>
<name>Lingam et al.</name>
<date>20070500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714796</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2007/0273995</doc-number>
<kind>A1</kind>
<name>Unoki et al.</name>
<date>20071100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00012">
<othercit>U.S. Appl. No. 12/263,235, filed Oct. 31, 2008, Zining Wu et al., &#x201c;Split Sector Recovery Method&#x201d;.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>714758-766</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714768-776</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714779</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714781</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714786</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714798-801</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714805</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>10</number-of-drawing-sheets>
<number-of-figures>13</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>13410068</doc-number>
<date>20120301</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8321763</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13685207</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>12263235</doc-number>
<date>20081031</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8136016</doc-number>
<date>20120313</date>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13410068</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60986366</doc-number>
<date>20071108</date>
</document-id>
</us-provisional-application>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only" applicant-authority-category="assignee">
<addressbook>
<orgname>Marvell International Ltd.</orgname>
<address>
<city>Hamilton</city>
<country>BM</country>
</address>
</addressbook>
<residence>
<country>BM</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Wu</last-name>
<first-name>Zining</first-name>
<address>
<city>Los Altos</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Burd</last-name>
<first-name>Gregory</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Nangare</last-name>
<first-name>Nitin</first-name>
<address>
<city>Santa Clara</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Marvell International Ltd.</orgname>
<role>03</role>
<address>
<city>Hamilton</city>
<country>BM</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Iqbal</last-name>
<first-name>Nadeem</first-name>
<department>2114</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Reproduction of encoded data which includes a split-mark. FIR data corresponding to split-mark and FIR data affected by the split-mark due to inter-symbol-interference are identified. FIR data corresponding to the split-mark is removed from the received FIR data. Recovered data is created by removing incorrect inter-symbol-interference from the FIR data due to the split-mark, and adding correct inter-symbol-interference from codeword bits. The recovered data is stitched together with data unaffected by split-mark data.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="166.88mm" wi="194.73mm" file="US08627179-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="222.50mm" wi="196.09mm" orientation="landscape" file="US08627179-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="198.63mm" wi="178.22mm" orientation="landscape" file="US08627179-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="241.64mm" wi="143.59mm" orientation="landscape" file="US08627179-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="239.18mm" wi="188.89mm" orientation="landscape" file="US08627179-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="230.38mm" wi="180.09mm" orientation="landscape" file="US08627179-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="197.95mm" wi="195.75mm" file="US08627179-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="236.98mm" wi="193.29mm" orientation="landscape" file="US08627179-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="232.83mm" wi="187.03mm" orientation="landscape" file="US08627179-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="240.45mm" wi="181.02mm" orientation="landscape" file="US08627179-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="239.18mm" wi="176.95mm" orientation="landscape" file="US08627179-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading>
<p id="p-0002" num="0001">The present disclosure is a continuation of and claims priority to U.S. patent application Ser. No. 13/410,068, filed Mar. 1, 2012, now U.S. Pat. No. 8,321,763, issued Nov. 27, 2012, which is a continuation of U.S. patent application Ser. No. 12/263,235, filed Oct. 31, 2008, now U.S. Pat. No. 8,136,016, issued Mar. 13, 2012, which claims the benefit of U.S. Provisional Patent Application No. 60/986,366, filed Nov. 8, 2007, which are incorporated herein by reference.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">TECHNICAL FIELD</heading>
<p id="p-0003" num="0002">The present disclosure generally relates to reading data from a hard disk which includes a split sector.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">Storing and retrieving data on a hard disk or other storage media are essential to modern computing. Ordinarily, data is stored in a hard disk in concentric circles called tracks. The disk is generally further formatted with the SERVO wedges. In today's drives there are generally about 200 SERVO wedges. Portions of the tracks corresponding to servo wedges contain some system information and user data is generally written elsewhere on the track.</p>
<p id="p-0005" num="0004">User data is generally stored on the media in logical sector format, e.g. 512 bytes of user data plus some overhead for error correction code. Logical sectors are protected by Error Correction Code (ECC), e.g. Reed Solomon (RS) or Low-Density Parity Check Code (LDPC) to ensure high data reliability. ECC may protect an entire logical sector or logical sectors may be sub-divided into multiple ECC code words.</p>
<p id="p-0006" num="0005">Sometimes it is not possible to fit an integral number of logical sectors between two consecutive SERVO wedges. In this case, a logical sector is broken into two physical sectors. A first physical sector is written before the SERVO wedge and a second physical sector is written after the SERVO wedge. This is commonly referred to as a split sector. In the absence of a split sector, a logical sector coincides with a physical sector. Each physical sector generally has the following format on the media: (preamble (a sequence of 00110011 . . . ), sync mark 1, user data +ECC, postamble (11001100 . . . )). Alternatively, it is also possible to have two sync marks per physical sector: (preamble, sync1, data1, sync2, data2, postamble). Here the second syncmark splits the user payload into two parts: data1 and data2.</p>
<p id="p-0007" num="0006">Split sectors, and second syncmark causes fragmentation of user data on media in that user data that belongs to the same logical sector does not correspond to a continuous segment on the media. Instead some other bits (e.g. corresponding to the 2<sup>nd </sup>syncmark) are placed in-between user bits. During the readback process, the decoder has to remove any system information that was inserted in-between the data (e.g. sync2) and format the data into logical sectors before starting an ECC decoding process and/or returning data back to a Host.</p>
<heading id="h-0004" level="1">SUMMARY</heading>
<p id="p-0008" num="0007">The present disclosure addresses the foregoing issues by providing a formatter block that can stitch FIR samples together into a single continuous stream, thereby removing the necessity for an iterative decoder to have any knowledge of data format on the media. Multiple implementations of a formatting operation are discussed herein. In particular a formatting operation that largely removes any discontinuity in an FIR data stream that might result in stitching FIR samples corresponding to not-contiguous bits streams on the media is disclosed.</p>
<p id="p-0009" num="0008">This brief summary has been provided so that the nature of the disclosure may be understood quickly. A more complete understanding can be obtained by reference to the following detailed description in connection with the attached drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 1A</figref> is a representation of a hard disk including a split sector caused by a servo wedge.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 1B</figref> is a representational view of a hard disk drive according to an example embodiment.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram illustrating an encoding process in which a syncmark is introduced into a codeword.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3A</figref> illustrates an analog waveform without a split sector.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 3B</figref> illustrates an analog waveform with a split sector added.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 3C</figref> illustrates a comparison between the analog waveform without a split sector, and an analog waveform after simple stitching is conducted.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIGS. 4A and 4B</figref> are block diagrams of a system for split-sector recovery.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart illustrating a process of split-sector recovery.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 6</figref> is a histogram comparing error locations at a soft output Viterbi algorithm (SOVA) detector between data without a split sector, data with simple stitching, and data reproduced by the system for split-sector recovery.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 7</figref> is a histogram comparing error locations at an outer decoder between data without a split sector, data with simple stitching, and data reproduced by the system for split-sector recovery.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 8</figref> is a chart of bit error rate (BER) against signal-to-noise ratio (SNR) at a SOVA detector between data without a split sector, data with simple stitching, and data reproduced by the system for split-sector recovery.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 9</figref> is a chart of bit error rate (BER) against signal-to-noise ratio (SNR) at an outer decoder between data without a split sector, data with simple stitching, and data reproduced by the system for split-sector recovery.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0022" num="0021">A process of recording data onto a disk and common causes of split-mark data will be described with respect to <figref idref="DRAWINGS">FIGS. 1 to 3</figref>.</p>
<p id="p-0023" num="0022">Generally, to store data on a hard disk, the data is partitioned into logical sectors, encoded by Error Correction Code (ECC), and then written onto the magnetic media.</p>
<p id="p-0024" num="0023">In accordance with various embodiments of the present invention, in the absence of a split sector and a second syncmark, the entire logical sector is written to a portion of the track without any system data being inserted in between. For such sectors, ideal FIR data is just convolution of codeword bits with the target response h(k) as shown in the following equation, Eq. (1):</p>
<p id="p-0025" num="0024">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msubsup>
          <mi>y</mi>
          <mi>i</mi>
          <mi>&#x2032;</mi>
        </msubsup>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>k</mi>
              <mo>=</mo>
              <mn>0</mn>
            </mrow>
            <mi>M</mi>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <msub>
              <mi>h</mi>
              <mi>k</mi>
            </msub>
            <mo>&#xb7;</mo>
            <msub>
              <mi>c</mi>
              <mrow>
                <mi>i</mi>
                <mo>-</mo>
                <mi>k</mi>
              </mrow>
            </msub>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where y&#x2032;<sub>i </sub>is ideal FIR data, c<sub>k </sub>are codeword bits, h<sub>k </sub>is target channel response of form <u style="single">h</u>=[h<sub>0 </sub>h<sub>1 </sub>. . . h<sub>M</sub>], and M is the memory length of channel response.
</p>
<p id="p-0026" num="0025">On the other hand if the amount of media between sector start and next SERVO wedge is not enough to hold the entire logical sector, then the logical sector may be split into two (or more) physical sectors. Sometimes it is not possible to fit an integral number of logical sectors between two consecutive SERVO wedges. In this case, a logical sector is broken into two physical sectors. A first physical sector is written before the SERVO wedge and a second physical sector is written after the SERVO wedge (For example, see <figref idref="DRAWINGS">FIG. 1A</figref>). This is commonly referred to as a split sector. In the absence of a split sector, a logical sector coincides with a physical sector. Each physical sector generally has the following format on the media: (preamble (a sequence of 00110011 . . . ), sync mark 1, user data +ECC, postamble (11001100 . . . )). Alternatively, it is also possible to have two sync marks per physical sector: (preamble, sync1, data1, sync2, data2, postamble). Here the second syncmark splits the user payload into two parts: data1 and data2.</p>
<p id="p-0027" num="0026">As can be seen from <figref idref="DRAWINGS">FIG. 1A</figref>, a split sector <b>103</b> has been introduced into the data on hard disk <b>101</b>. This split sector is caused by a servo wedge <b>104</b> intersecting encoded data on that sector. A servo wedge bisects a track <b>102</b> causing the split sector <b>103</b>. In contrast, non-split sector <b>105</b> consists of continuous data. A similar case occurs if a dual sync mark is used. The second sync mark fragments the ECC codeword into two parts.</p>
<p id="p-0028" num="0027">As indicated above, a servo wedge is added to the recorded data purposely by the system. For example, the servo wedge can contain a unique magnetic pattern that provides a reference to the center of the track, so that the hard drive can quickly and accurately locate data on the disk.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 1B</figref> is a representational view of a hard disk drive according to an example embodiment. Mechanically, hard disk drive <b>150</b> includes housing <b>151</b> which houses hard disk <b>101</b>. In one implementation, hard disk <b>101</b> is a platter coated with a magnetic material and rotatable about spindle <b>152</b> by a drive motor (not shown). A read/write head <b>153</b> is mounted to arm <b>154</b> for movement of the read/write head across the surface of hard disk <b>101</b> under control of actuator <b>155</b>.</p>
<p id="p-0030" num="0029">Hard disk drive <b>150</b> further includes disk controller <b>156</b> which generally includes a processor such as a digital signal processor, a microprocessor, a microcontroller or the like, for execution of instructions stored in memory for electrical and mechanical control of the hard disk drive components, and for electrical and mechanical control of hard disk drive circuitry. Disk controller <b>156</b> includes an interface via bus <b>157</b> to a host <b>158</b>. Host <b>158</b> might be a personal computer such as a laptop or desktop, or host <b>158</b> can be an embedded device such as a hand-held PDA or music player. Other examples of host <b>158</b> are given in connection with <figref idref="DRAWINGS">FIGS. 10A through 10H</figref>, below.</p>
<p id="p-0031" num="0030">Bus <b>157</b> can be an EIDE interface, an ATA or serial ATA (SATA) interface, a fiber channel (FC), or a serial attached SCSI (SAS) interface, although it will be understood that other buses and other interfaces might be used.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram illustrating an encoding process that includes introduction of a second syncmark <b>204</b> into a codeword <b>205</b>, causing a split within the codeword <b>205</b>.</p>
<p id="p-0033" num="0032">As mentioned above, when user data is stored on a hard disk <b>206</b>, it is first encoded into binary data, a process represented by encoder <b>201</b> A codeword of length N may be represented as:
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0033">c<sub>1</sub>c<sub>2</sub>c<sub>3</sub>c<sub>4 </sub>. . . c<sub>N&#x2212;3</sub>c<sub>N&#x2212;2</sub>c<sub>N&#x2212;1</sub>c<sub>N </sub>
<br/>
where (c<sub>1 </sub>. . . c<sub>N</sub>) represent the encoded and interleaved data bits.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0034" num="0034">However, a second syncmark <b>204</b> may be added to the data. For example, the syncmark may be added to aid data synchronization. Thus, the codeword <b>205</b> on the hard disk <b>206</b> now contains a &#x2018;split&#x2019; due to the addition of the syncmark data. The written data stream may be represented as:
<ul id="ul0003" list-style="none">
    <li id="ul0003-0001" num="0000">
    <ul id="ul0004" list-style="none">
        <li id="ul0004-0001" num="0035">c<sub>1</sub>c<sub>2</sub>c<sub>3 </sub>. . . c<sub>L</sub>a<sub>1</sub>a<sub>2</sub>a<sub>3 </sub>. . . a<sub>s&#x2212;2</sub>a<sub>s&#x2212;1</sub>a<sub>s</sub>c<sub>L+1 </sub>. . . c<sub>N&#x2212;1</sub>c<sub>N </sub>
<br/>
where (a<sub>1 </sub>. . . a<sub>s</sub>) represent the split-mark data bits.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0035" num="0036">As a result of the servo wedge in <figref idref="DRAWINGS">FIG. 1B</figref> or the second syncmark insertion in <figref idref="DRAWINGS">FIG. 2</figref>, FIR samples corresponding to a physical sector do not form a continuous stream, and instead contain some samples corresponding to system bits (e.g. second sync, preamble or postamble). Thus, when the data is read from the disk, the system needs a way to discard the split-mark data and the accompanying inter-signal interference (ISI) affecting the data following the split.</p>
<p id="p-0036" num="0037">One method for removing this discontinuity is referred to as &#x201c;simple stitching&#x201d;, in which the FIR data before and after the split are simply connected together in the reproduction process. However, simple stitching does not adequately account for the incorrect ISI in the signal due to the split.</p>
<p id="p-0037" num="0038">For example, <figref idref="DRAWINGS">FIG. 3A</figref> depicts an analog waveform of data without a split as it appears when read from a hard disk, and <figref idref="DRAWINGS">FIG. 3B</figref> depicts an analog waveform when read from a hard disk with an added split where [A] shows the beginning of the split data and [B] shows the end of the split data.</p>
<p id="p-0038" num="0039"><figref idref="DRAWINGS">FIG. 3C</figref> shows an FIR waveform without a split and an FIR waveform that has had a split removed using simple stitching. These waveforms are shown as they appear after reading from the hard disk. As seen in <figref idref="DRAWINGS">FIG. 3C</figref>, the simply stitched waveform deviates significantly from the ideal waveform without a split.</p>
<p id="p-0039" num="0040">Accordingly, a system and method for split sector recovery will now be described with respect to <figref idref="DRAWINGS">FIGS. 4A</figref>, <b>4</b>B and <b>5</b>.</p>
<p id="p-0040" num="0041"><figref idref="DRAWINGS">FIGS. 4A and 4B</figref> schematically depict data reproduction systems in which split sector recovery may be practiced. This system may be embodied in any number of devices for reproducing data, including a hard disk controller, a hard disk drive, a CD-ROM drive, and a DVD-RW drive, among many others.</p>
<p id="p-0041" num="0042">In general, a read-back waveform passes from the disk <b>400</b> to the analog from end (AFE) <b>402</b>, sampled by the analog-to-digital converter (ADC) <b>404</b>, and passed through a finite impulse response (FIR) filter <b>406</b>. Output of the FIR filter <b>406</b> is referred to as FIR data henceforth. FIR data of every recorded bit generally contains interference from adjacent recorded bits, commonly known as inter-symbol-interference (ISI). FIR samples are fed to a Viterbi detector <b>408</b> that produces hard decisions. Due to channel noise, the bit stream at the output of the Viterbi detector <b>408</b> might contain errors. The Viterbi output is then given to an ECC decoder <b>412</b>, after passing through formatter <b>410</b>, to correct any residual errors before outputting the data to the Host.</p>
<p id="p-0042" num="0043">If the decoder <b>412</b> utilizes hard decision decoding (e.g. RS ECC decoder), then the Read Formatter <b>410</b> simply has to remove the bits corresponding to the second syncmark prior to using the RS ECC decoder <b>412</b>. Similarly for the case of split sector, the formatter <b>410</b> has to concatenate several data streams that come at different times in order to form a received ECC codeword. A corresponding configuration for LDPC code is shown in <figref idref="DRAWINGS">FIG. 4B</figref>. If the decoder <b>412</b> is an iterative decoder, i.e. the decoder consists of a channel detector <b>416</b> (e.g. BCJR/SOVA) and a LDPC code decoder <b>418</b> (e.g. Sum-Product (SP), or Min-Sum (MS) decoder), then such a decoder takes FIR samples as the input. It then proceeds to iterate between the channel and the code decoder until some predetermined number of iterations have been performed, or no parity violations have been detected. <figref idref="DRAWINGS">FIG. 4B</figref> illustrates an exemplary block diagram of a data path with an iterative decoder <b>414</b>. Unlike a hard RS ECC decoder that takes Viterbi hard-decisions as input, an iterative decoder takes FIR samples as the input from the FIR Sample Buffers <b>420</b>. Consequently, in the presence of an iterative decoder, the formatter <b>410</b> has to group together FIR samples corresponding to an entire iterative codeword (i.e. remove samples corresponding to second sync, and or any data added to accommodate split sector.</p>
<p id="p-0043" num="0044">Note that forming a continuous stream of FIR samples corresponding to an iterative codeword is not necessary. Alternatively, it is possible to run the channel detector on FIR samples that include the second sync mark, obtain Log-Likelihood Ratios (LLR's) and then have a formatter inside the iterative decoder to remove LLR's corresponding to, for example, the second sync mark prior to sending them to the code decoder. However, such an architecture would be very difficult to implement and would require extra storage for FIR samples corresponding to split-mark data. Furthermore, having to process extra samples (ones corresponding to second sync or split-mark data) would unnecessarily eat up available time, and therefore result in a reduction of the number of iterations that can be performed by the iterative decoder. Consequently, it is desirable to format FIR samples prior to sending them to the iterative decoder <b>414</b>. In this embodiment the iterative decoder <b>414</b> does not have to be aware of the physical sector format, it only needs to deal with the iterative codeword.</p>
<p id="p-0044" num="0045">Following FIR filter, the following relationship holds between FIR samples, and the data that is written onto the media:</p>
<p id="p-0045" num="0046">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>y</mi>
    <mi>i</mi>
  </msub>
  <mo>=</mo>
  <mrow>
    <mrow>
      <munderover>
        <mo>&#x2211;</mo>
        <mrow>
          <mi>k</mi>
          <mo>=</mo>
          <mn>0</mn>
        </mrow>
        <mi>M</mi>
      </munderover>
      <mo>&#x2062;</mo>
      <mrow>
        <msub>
          <mi>h</mi>
          <mi>k</mi>
        </msub>
        <mo>&#xb7;</mo>
        <msub>
          <mi>c</mi>
          <mrow>
            <mi>i</mi>
            <mo>-</mo>
            <mi>k</mi>
          </mrow>
        </msub>
      </mrow>
    </mrow>
    <mo>+</mo>
    <msub>
      <mi>noise</mi>
      <mi>i</mi>
    </msub>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0046" num="0047">where y<sub>i</sub><sub><sub2>&#x2014;</sub2></sub> c<sub>i</sub><sub><sub2>&#x2014;</sub2></sub> represents the FIR sample and data bit at time i. Note that the FIR sample at time is a function of data bits at times i-M to i. As a result, splicing together FIR samples is not as easy as splicing hard decisions. In particular, if one simply stitches FIR samples for data 1 and data 2 portions, i.e. remove the second sync, then the above formula would not necessarily hold around the splicing point. This creates a so-called discontinuity in the FIR data stream and can later result in a degraded iterative decoder error rate. Note that the discontinuity does not happen if the last 4 bits of data 1 is matching the last 4 bits of the 2-nd sync. However this case happens with a probability of (&#xbd;)^M, therefore most of the time we do get a discontinuity.</p>
<p id="p-0047" num="0048">As discussed previously, there are two main reasons behind logical sector segmentation on the media&#x2014;split sector and second sync mark. In the following description of the present invention, second sync mark will be used to illustrate various embodiments. However, it should be clear to those skilled in the art that the same techniques described herein also apply to the case of a split sector without any modifications.</p>
<p id="p-0048" num="0049">The process for recovering data will now be described in more detail.</p>
<p id="p-0049" num="0050">As described above with respect to <figref idref="DRAWINGS">FIG. 2</figref>, ideal FIR data may be given according to the equation</p>
<p id="p-0050" num="0051">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msubsup>
          <mi>y</mi>
          <mi>i</mi>
          <mi>&#x2032;</mi>
        </msubsup>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>k</mi>
              <mo>=</mo>
              <mn>0</mn>
            </mrow>
            <mi>M</mi>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <msub>
              <mi>h</mi>
              <mi>k</mi>
            </msub>
            <mo>&#xb7;</mo>
            <msub>
              <mi>c</mi>
              <mrow>
                <mi>i</mi>
                <mo>-</mo>
                <mi>k</mi>
              </mrow>
            </msub>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where y&#x2032;<sub>i </sub>is FIR data, c<sub>k </sub>are codeword bits, h<sub>k </sub>is a magnetic channel target response of form <u style="single">h</u>=[h<sub>0 </sub>h<sub>1 </sub>. . . h], and M is the memory length of a magnetic channel.
</p>
<p id="p-0051" num="0052">As also discussed above, a codeword including a split may be represented by
<ul id="ul0005" list-style="none">
    <li id="ul0005-0001" num="0000">
    <ul id="ul0006" list-style="none">
        <li id="ul0006-0001" num="0053">c<sub>1</sub>c<sub>2</sub>c<sub>3 </sub>. . . c<sub>L</sub>a<sub>1</sub>a<sub>2</sub>a<sub>3 </sub>. . . a<sub>s&#x2212;2</sub>a<sub>s&#x2212;1</sub>a<sub>s</sub>c<sub>L+1 </sub>. . . c<sub>N&#x2212;1</sub>c<sub>N </sub>
<br/>
where (c<sub>1 </sub>. . . c<sub>N</sub>) represent the encoded and interleaved data bits and where (a<sub>1 </sub>. . . a<sub>s</sub>) represent the split-mark data bits.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0052" num="0054">When there is a split in the data introduced following data bit c<sub>L</sub>, the FIR data for M bits after the split-mark end location, i.e. y<sub>L+1 </sub>. . . y<sub>L+M </sub>may be calculated using the following equation, (Eq. 2), which takes the split-mark data into account:</p>
<p id="p-0053" num="0055">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>y</mi>
            <mrow>
              <mi>L</mi>
              <mo>+</mo>
              <mn>1</mn>
            </mrow>
          </msub>
          <mo>=</mo>
          <mrow>
            <mrow>
              <msub>
                <mi>h</mi>
                <mn>0</mn>
              </msub>
              <mo>&#xb7;</mo>
              <msub>
                <mi>c</mi>
                <mrow>
                  <mi>L</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
              </msub>
            </mrow>
            <mo>+</mo>
            <mrow>
              <munderover>
                <mo>&#x2211;</mo>
                <mrow>
                  <mi>k</mi>
                  <mo>=</mo>
                  <mn>1</mn>
                </mrow>
                <mi>M</mi>
              </munderover>
              <mo>&#x2062;</mo>
              <mrow>
                <msub>
                  <mi>h</mi>
                  <mi>k</mi>
                </msub>
                <mo>&#xb7;</mo>
                <msub>
                  <mi>a</mi>
                  <mrow>
                    <mi>s</mi>
                    <mo>-</mo>
                    <mi>k</mi>
                    <mo>+</mo>
                    <mn>1</mn>
                  </mrow>
                </msub>
              </mrow>
            </mrow>
            <mo>+</mo>
            <msubsup>
              <mi>n</mi>
              <mrow>
                <mi>L</mi>
                <mo>+</mo>
                <mn>1</mn>
              </mrow>
              <mi>y</mi>
            </msubsup>
          </mrow>
        </mrow>
        <mo>&#x2062;</mo>
        <mstyle>
          <mtext>
</mtext>
        </mstyle>
        <mo>&#x2062;</mo>
        <mrow>
          <msub>
            <mi>y</mi>
            <mrow>
              <mi>L</mi>
              <mo>+</mo>
              <mn>2</mn>
            </mrow>
          </msub>
          <mo>=</mo>
          <mrow>
            <mrow>
              <msub>
                <mi>h</mi>
                <mn>0</mn>
              </msub>
              <mo>&#xb7;</mo>
              <msub>
                <mi>c</mi>
                <mrow>
                  <mi>L</mi>
                  <mo>+</mo>
                  <mn>2</mn>
                </mrow>
              </msub>
            </mrow>
            <mo>+</mo>
            <mrow>
              <msub>
                <mi>h</mi>
                <mn>1</mn>
              </msub>
              <mo>&#xb7;</mo>
              <msub>
                <mi>c</mi>
                <mrow>
                  <mi>L</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
              </msub>
            </mrow>
            <mo>+</mo>
            <mrow>
              <munderover>
                <mo>&#x2211;</mo>
                <mrow>
                  <mi>k</mi>
                  <mo>=</mo>
                  <mn>2</mn>
                </mrow>
                <mi>M</mi>
              </munderover>
              <mo>&#x2062;</mo>
              <mrow>
                <msub>
                  <mi>h</mi>
                  <mi>k</mi>
                </msub>
                <mo>&#xb7;</mo>
                <msub>
                  <mi>a</mi>
                  <mrow>
                    <mi>s</mi>
                    <mo>-</mo>
                    <mi>k</mi>
                    <mo>+</mo>
                    <mn>2</mn>
                  </mrow>
                </msub>
              </mrow>
            </mrow>
            <mo>+</mo>
            <msubsup>
              <mi>n</mi>
              <mrow>
                <mi>L</mi>
                <mo>+</mo>
                <mn>2</mn>
              </mrow>
              <mi>y</mi>
            </msubsup>
          </mrow>
        </mrow>
        <mo>&#x2062;</mo>
        <mstyle>
          <mtext>
</mtext>
        </mstyle>
        <mo>&#x2062;</mo>
        <mi>&#x22ee;</mi>
        <mo>&#x2062;</mo>
        <mstyle>
          <mtext>
</mtext>
        </mstyle>
        <mo>&#x2062;</mo>
        <mrow>
          <msub>
            <mi>y</mi>
            <mrow>
              <mi>L</mi>
              <mo>+</mo>
              <mi>M</mi>
            </mrow>
          </msub>
          <mo>=</mo>
          <mrow>
            <mrow>
              <munderover>
                <mo>&#x2211;</mo>
                <mrow>
                  <mi>k</mi>
                  <mo>=</mo>
                  <mn>0</mn>
                </mrow>
                <mrow>
                  <mi>M</mi>
                  <mo>-</mo>
                  <mn>1</mn>
                </mrow>
              </munderover>
              <mo>&#x2062;</mo>
              <mrow>
                <msub>
                  <mi>h</mi>
                  <mi>k</mi>
                </msub>
                <mo>&#xb7;</mo>
                <msub>
                  <mi>c</mi>
                  <mrow>
                    <mi>L</mi>
                    <mo>+</mo>
                    <mi>M</mi>
                    <mo>-</mo>
                    <mi>k</mi>
                  </mrow>
                </msub>
              </mrow>
            </mrow>
            <mo>+</mo>
            <mrow>
              <msub>
                <mi>h</mi>
                <mi>M</mi>
              </msub>
              <mo>&#xb7;</mo>
              <msub>
                <mi>a</mi>
                <mi>s</mi>
              </msub>
            </mrow>
            <mo>+</mo>
            <msubsup>
              <mi>n</mi>
              <mrow>
                <mi>L</mi>
                <mo>+</mo>
                <mi>M</mi>
              </mrow>
              <mi>y</mi>
            </msubsup>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where n<sub>i</sub><sup>y </sup>represents Additive White Gaussian Noise (AWGN) with mean=0 and variance=&#x3c3;<sup>2</sup>.
</p>
<p id="p-0054" num="0056">Bits c<sub>1</sub>c<sub>2 </sub>. . . c<sub>L&#x2212;1</sub>c<sub>L </sub>experience the same ISI as if a split-mark is not present, due to the causal nature of the ISI. However, bits c<sub>L+1</sub>c<sub>L+2 </sub>. . . c<sub>L+M </sub>experience ISI from codeword bits as well as from part of the split-mark bits. The split recovery method removes the ISI caused by the split-mark bits and recovers the sector as if the ISI were generated only by the codeword bits (similar to the ideal received data without a split-mark).</p>
<p id="p-0055" num="0057">Due to the finite memory of a magnetic channel, only M received samples after the split-mark are affected by the split-mark. Thus, split sector recovery is performed for these M samples.</p>
<p id="p-0056" num="0058">FIR data, when the split-mark is present in the channel data, may be expressed in the form:
<ul id="ul0007" list-style="none">
    <li id="ul0007-0001" num="0000">
    <ul id="ul0008" list-style="none">
        <li id="ul0008-0001" num="0059">y<sub>1</sub>y<sub>2</sub>y<sub>3 </sub>. . . y<sub>L</sub>x<sub>1</sub>x<sub>2</sub>x<sub>3 </sub>. . . x<sub>s&#x2212;2</sub>x<sub>s&#x2212;1</sub>x<sub>s</sub>y<sub>L+1 </sub>. . . y<sub>M</sub>y<sub>M+1 </sub>. . . y<sub>N&#x2212;1</sub>y<sub>N </sub>
<br/>
where (x<sub>1 </sub>. . . x<sub>5</sub>) represents FIR data corresponding to split-mark data. At this time, the FIR data includes some data unaffected by split-mark data because it comes before the split (y<sub>1</sub>, y<sub>2 </sub>. . . y<sub>L</sub>), some data corresponding to split-mark data (x<sub>1</sub>, x<sub>2</sub>, . . . x<sub>5</sub>), some data that is affected by split-mark data through ISI (y<sub>L+1</sub>, . . . y<sub>M&#x2212;1</sub>, y<sub>M</sub>), and some data unaffected by split-mark data because it is beyond the limit of the channel memory (y<sub>M+1</sub>, . . . y<sub>N&#x2212;1</sub>, y<sub>N</sub>).
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0057" num="0060">From Eq. (1) the ideal FIR data y&#x2032;<sub>L+1 </sub>can be derived:</p>
<p id="p-0058" num="0061">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mrow>
  <msubsup>
    <mi>y</mi>
    <mrow>
      <mi>L</mi>
      <mo>+</mo>
      <mn>1</mn>
    </mrow>
    <mi>&#x2032;</mi>
  </msubsup>
  <mo>=</mo>
  <mrow>
    <munder>
      <mrow>
        <msub>
          <mi>h</mi>
          <mn>0</mn>
        </msub>
        <mo>&#xb7;</mo>
        <msub>
          <mi>c</mi>
          <mrow>
            <mi>L</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
      </mrow>
      <munder>
        <mi>&#xfe38;</mi>
        <mrow>
          <mo>(</mo>
          <mn>1</mn>
          <mo>)</mo>
        </mrow>
      </munder>
    </munder>
    <mo>+</mo>
    <munder>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>k</mi>
            <mo>=</mo>
            <mn>1</mn>
          </mrow>
          <mi>M</mi>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <msub>
            <mi>h</mi>
            <mi>k</mi>
          </msub>
          <mo>&#xb7;</mo>
          <msub>
            <mi>c</mi>
            <mrow>
              <mi>L</mi>
              <mo>+</mo>
              <mn>1</mn>
              <mo>-</mo>
              <mi>k</mi>
            </mrow>
          </msub>
        </mrow>
      </mrow>
      <munder>
        <mi>&#xfe38;</mi>
        <mrow>
          <mo>(</mo>
          <mn>2</mn>
          <mo>)</mo>
        </mrow>
      </munder>
    </munder>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0059" num="0062">Moreover, the first FIR data corresponding to a split-mark can be written as Eq. (3):</p>
<p id="p-0060" num="0063">
<maths id="MATH-US-00006" num="00006">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>x</mi>
          <mn>1</mn>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mrow>
              <mrow>
                <msub>
                  <mi>h</mi>
                  <mn>0</mn>
                </msub>
                <mo>&#xb7;</mo>
                <msub>
                  <mi>a</mi>
                  <mn>1</mn>
                </msub>
              </mrow>
              <mo>+</mo>
              <mrow>
                <munderover>
                  <mo>&#x2211;</mo>
                  <mrow>
                    <mi>k</mi>
                    <mo>=</mo>
                    <mn>1</mn>
                  </mrow>
                  <mi>M</mi>
                </munderover>
                <mo>&#x2062;</mo>
                <mrow>
                  <msub>
                    <mi>h</mi>
                    <mi>k</mi>
                  </msub>
                  <mo>&#xb7;</mo>
                  <msub>
                    <mi>c</mi>
                    <mrow>
                      <mi>L</mi>
                      <mo>+</mo>
                      <mn>1</mn>
                      <mo>-</mo>
                      <mi>k</mi>
                    </mrow>
                  </msub>
                </mrow>
              </mrow>
              <mo>+</mo>
              <msubsup>
                <mi>n</mi>
                <mn>1</mn>
                <mi>x</mi>
              </msubsup>
            </mrow>
            <mo>&#x21d2;</mo>
            <mrow>
              <munder>
                <mrow>
                  <munderover>
                    <mo>&#x2211;</mo>
                    <mrow>
                      <mi>k</mi>
                      <mo>=</mo>
                      <mn>1</mn>
                    </mrow>
                    <mi>M</mi>
                  </munderover>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <msub>
                      <mi>h</mi>
                      <mi>k</mi>
                    </msub>
                    <mo>&#xb7;</mo>
                    <msub>
                      <mi>c</mi>
                      <mrow>
                        <mi>L</mi>
                        <mo>+</mo>
                        <mn>1</mn>
                        <mo>-</mo>
                        <mi>k</mi>
                      </mrow>
                    </msub>
                  </mrow>
                </mrow>
                <munder>
                  <mi>&#xfe38;</mi>
                  <mrow>
                    <mo>(</mo>
                    <mn>2</mn>
                    <mo>)</mo>
                  </mrow>
                </munder>
              </munder>
              <mo>+</mo>
              <msubsup>
                <mi>n</mi>
                <mn>1</mn>
                <mi>x</mi>
              </msubsup>
            </mrow>
          </mrow>
          <mo>=</mo>
          <mrow>
            <msub>
              <mi>x</mi>
              <mn>1</mn>
            </msub>
            <mo>-</mo>
            <mrow>
              <msub>
                <mi>h</mi>
                <mn>0</mn>
              </msub>
              <mo>&#xb7;</mo>
              <msub>
                <mi>a</mi>
                <mn>1</mn>
              </msub>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0061" num="0064">Using Eq. (2) from above, one can derive Eq. (4):</p>
<p id="p-0062" num="0065">
<maths id="MATH-US-00007" num="00007">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <munder>
            <mrow>
              <msub>
                <mi>h</mi>
                <mn>0</mn>
              </msub>
              <mo>&#xb7;</mo>
              <msub>
                <mi>c</mi>
                <mrow>
                  <mi>L</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
              </msub>
            </mrow>
            <munder>
              <mi>&#xfe38;</mi>
              <mrow>
                <mo>(</mo>
                <mn>1</mn>
                <mo>)</mo>
              </mrow>
            </munder>
          </munder>
          <mo>+</mo>
          <msubsup>
            <mi>n</mi>
            <mrow>
              <mi>L</mi>
              <mo>+</mo>
              <mn>1</mn>
            </mrow>
            <mi>y</mi>
          </msubsup>
        </mrow>
        <mo>=</mo>
        <mrow>
          <msub>
            <mi>y</mi>
            <mrow>
              <mi>L</mi>
              <mo>+</mo>
              <mn>1</mn>
            </mrow>
          </msub>
          <mo>-</mo>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>k</mi>
                <mo>=</mo>
                <mn>1</mn>
              </mrow>
              <mi>M</mi>
            </munderover>
            <mo>&#x2062;</mo>
            <mrow>
              <msub>
                <mi>h</mi>
                <mi>k</mi>
              </msub>
              <mo>&#xb7;</mo>
              <msub>
                <mi>a</mi>
                <mrow>
                  <mi>s</mi>
                  <mo>-</mo>
                  <mi>k</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
              </msub>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>4</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0063" num="0066">Finally, adding Eq. (3) and Eq. (4) yields Eq. (5):</p>
<p id="p-0064" num="0067">
<maths id="MATH-US-00008" num="00008">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <munder>
            <mrow>
              <msub>
                <mi>h</mi>
                <mn>0</mn>
              </msub>
              <mo>&#xb7;</mo>
              <msub>
                <mi>c</mi>
                <mrow>
                  <mi>L</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
              </msub>
            </mrow>
            <munder>
              <mi>&#xfe38;</mi>
              <mrow>
                <mo>(</mo>
                <mn>1</mn>
                <mo>)</mo>
              </mrow>
            </munder>
          </munder>
          <mo>+</mo>
          <munder>
            <mrow>
              <munderover>
                <mo>&#x2211;</mo>
                <mrow>
                  <mi>k</mi>
                  <mo>=</mo>
                  <mn>1</mn>
                </mrow>
                <mi>M</mi>
              </munderover>
              <mo>&#x2062;</mo>
              <mrow>
                <msub>
                  <mi>h</mi>
                  <mi>k</mi>
                </msub>
                <mo>&#xb7;</mo>
                <msub>
                  <mi>c</mi>
                  <mrow>
                    <mi>L</mi>
                    <mo>+</mo>
                    <mn>1</mn>
                    <mo>-</mo>
                    <mi>k</mi>
                  </mrow>
                </msub>
              </mrow>
            </mrow>
            <munder>
              <mi>&#xfe38;</mi>
              <mrow>
                <mo>(</mo>
                <mn>2</mn>
                <mo>)</mo>
              </mrow>
            </munder>
          </munder>
          <mo>+</mo>
          <munder>
            <mrow>
              <msubsup>
                <mi>n</mi>
                <mrow>
                  <mi>L</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
                <mi>y</mi>
              </msubsup>
              <mo>+</mo>
              <msubsup>
                <mi>n</mi>
                <mn>1</mn>
                <mi>x</mi>
              </msubsup>
            </mrow>
            <munder>
              <mi>&#xfe38;</mi>
              <mrow>
                <mi>two</mi>
                <mo>-</mo>
                <mi>noise</mi>
                <mo>-</mo>
                <mi>terms</mi>
              </mrow>
            </munder>
          </munder>
        </mrow>
        <mo>=</mo>
        <mrow>
          <msub>
            <mi>y</mi>
            <mrow>
              <mi>L</mi>
              <mo>+</mo>
              <mn>1</mn>
            </mrow>
          </msub>
          <mo>-</mo>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>k</mi>
                <mo>=</mo>
                <mn>1</mn>
              </mrow>
              <mi>M</mi>
            </munderover>
            <mo>&#x2062;</mo>
            <mrow>
              <msub>
                <mi>h</mi>
                <mi>k</mi>
              </msub>
              <mo>&#xb7;</mo>
              <msub>
                <mi>a</mi>
                <mrow>
                  <mi>s</mi>
                  <mo>-</mo>
                  <mi>k</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
              </msub>
            </mrow>
          </mrow>
          <mo>+</mo>
          <msub>
            <mi>x</mi>
            <mn>1</mn>
          </msub>
          <mo>-</mo>
          <mrow>
            <msub>
              <mi>h</mi>
              <mn>0</mn>
            </msub>
            <mo>&#xb7;</mo>
            <msub>
              <mi>a</mi>
              <mn>1</mn>
            </msub>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>5</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0065" num="0068">The left-side of Eq. (5) is the same as an ideal received signal, y&#x2032;<sub>L+1</sub>, plus two noise terms. The right side of Eq. (5) has all known terms or received FIR data terms. Thus, ideal signal recovery for term y<sub>L+1 </sub>is performed using Eq. (5).</p>
<p id="p-0066" num="0069">In Eq. (5), the ISI contribution due to the split-mark has been removed from the FIR data y<sub>L+1</sub>, and the ISI contribution due to the original codeword bits has been added to the FIR data y<sub>L+1</sub>, such that it appears as if the split-mark were never present in the sector. In doing so, two noise terms are added to the sample, increasing the noise variance at the recovered sample positions. However, simulations show that the benefit of split sector recovery outweighs the increased noise variance.</p>
<p id="p-0067" num="0070">In general, the M equations for doing split-sector-recovery may be written as:</p>
<p id="p-0068" num="0071">
<maths id="MATH-US-00009" num="00009">
<math overflow="scroll">
  <mrow>
    <mrow>
      <msubsup>
        <mi>y</mi>
        <mrow>
          <mi>L</mi>
          <mo>+</mo>
          <mi>i</mi>
        </mrow>
        <mi>&#x2032;</mi>
      </msubsup>
      <mo>+</mo>
      <munder>
        <mrow>
          <msubsup>
            <mi>n</mi>
            <mrow>
              <mi>L</mi>
              <mo>+</mo>
              <mi>i</mi>
            </mrow>
            <mi>y</mi>
          </msubsup>
          <mo>+</mo>
          <msubsup>
            <mi>n</mi>
            <mi>i</mi>
            <mi>x</mi>
          </msubsup>
        </mrow>
        <munder>
          <mi>&#xfe38;</mi>
          <mrow>
            <mi>two</mi>
            <mo>-</mo>
            <mi>noise</mi>
            <mo>-</mo>
            <mi>terms</mi>
          </mrow>
        </munder>
      </munder>
    </mrow>
    <mo>=</mo>
    <mrow>
      <msub>
        <mi>y</mi>
        <mrow>
          <mi>L</mi>
          <mo>+</mo>
          <mi>i</mi>
        </mrow>
      </msub>
      <mo>-</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>k</mi>
            <mo>=</mo>
            <mi>i</mi>
          </mrow>
          <mi>M</mi>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <msub>
            <mi>h</mi>
            <mi>k</mi>
          </msub>
          <mo>&#xb7;</mo>
          <msub>
            <mi>a</mi>
            <mrow>
              <mi>s</mi>
              <mo>-</mo>
              <mi>k</mi>
              <mo>+</mo>
              <mi>i</mi>
            </mrow>
          </msub>
        </mrow>
      </mrow>
      <mo>+</mo>
      <msub>
        <mi>x</mi>
        <mi>i</mi>
      </msub>
      <mo>-</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>k</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow>
            <mi>i</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <msub>
            <mi>h</mi>
            <mi>k</mi>
          </msub>
          <mo>&#xb7;</mo>
          <msub>
            <mi>a</mi>
            <mrow>
              <mi>i</mi>
              <mo>-</mo>
              <mi>k</mi>
            </mrow>
          </msub>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00009-2" num="00009.2">
<math overflow="scroll">
  <mrow>
    <mrow>
      <mi>for</mi>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.8em" height="0.8ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mn>1</mn>
    </mrow>
    <mo>&#x2264;</mo>
    <mi>i</mi>
    <mo>&#x2264;</mo>
    <mi>M</mi>
  </mrow>
</math>
</maths>
</p>
<p id="p-0069" num="0072">Accordingly, using the equation shown above, split sector recovery is performed for sectors including split-mark data.</p>
<p id="p-0070" num="0073"><figref idref="DRAWINGS">FIG. 5</figref> summarizes this process of split recovery.</p>
<p id="p-0071" num="0074">Item <b>501</b> represents the sector FIR data including split-mark data, or
<ul id="ul0009" list-style="none">
    <li id="ul0009-0001" num="0000">
    <ul id="ul0010" list-style="none">
        <li id="ul0010-0001" num="0075">y<sub>1</sub>y<sub>2</sub>y<sub>3 </sub>. . . y<sub>L</sub>x<sub>1</sub>x<sub>2</sub>x<sub>3 </sub>. . . x<sub>s&#x2212;2</sub>x<sub>s&#x2212;1</sub>x<sub>s</sub>y<sub>L+1 </sub>. . . y<sub>M</sub>y<sub>M+1 </sub>. . . y<sub>N&#x2212;1</sub>y<sub>N</sub>.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0072" num="0076">The removal of the split-mark data is represented by item <b>502</b>. More specifically, the split-mark data is removed by first removing FIR data corresponding to the split-mark, x<sub>1</sub>x<sub>2</sub>x<sub>3 </sub>. . . x<sub>s&#x2212;2</sub>x<sub>s&#x2212;1</sub>x<sub>s</sub>, shown in item <b>503</b>.</p>
<p id="p-0073" num="0077">After removal of the split data, the FIR data with the split-mark removed remains, i.e., y<sub>1</sub>y<sub>2</sub>y<sub>3 </sub>. . . y<sub>L</sub>y<sub>L+1 </sub>. . . y<sub>M</sub>y<sub>M+1 </sub>. . . y<sub>N&#x2212;1</sub>y<sub>N </sub>shown in item <b>504</b>, where y<sub>L+1 </sub>. . . y<sub>M </sub>is FIR data that has been affected by the split data because of ISI.</p>
<p id="p-0074" num="0078">The split sector recovery equation is performed in item <b>505</b>:</p>
<p id="p-0075" num="0079">
<maths id="MATH-US-00010" num="00010">
<math overflow="scroll">
  <mrow>
    <mrow>
      <msubsup>
        <mi>y</mi>
        <mrow>
          <mi>L</mi>
          <mo>+</mo>
          <mi>i</mi>
        </mrow>
        <mi>&#x2032;</mi>
      </msubsup>
      <mo>+</mo>
      <munder>
        <mrow>
          <msubsup>
            <mi>n</mi>
            <mrow>
              <mi>L</mi>
              <mo>+</mo>
              <mi>i</mi>
            </mrow>
            <mi>y</mi>
          </msubsup>
          <mo>+</mo>
          <msubsup>
            <mi>n</mi>
            <mi>i</mi>
            <mi>x</mi>
          </msubsup>
        </mrow>
        <munder>
          <mi>&#xfe38;</mi>
          <mrow>
            <mi>two</mi>
            <mo>-</mo>
            <mi>noise</mi>
            <mo>-</mo>
            <mi>terms</mi>
          </mrow>
        </munder>
      </munder>
    </mrow>
    <mo>=</mo>
    <mrow>
      <msub>
        <mi>y</mi>
        <mrow>
          <mi>L</mi>
          <mo>+</mo>
          <mi>i</mi>
        </mrow>
      </msub>
      <mo>-</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>k</mi>
            <mo>=</mo>
            <mi>i</mi>
          </mrow>
          <mi>M</mi>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <msub>
            <mi>h</mi>
            <mi>k</mi>
          </msub>
          <mo>&#xb7;</mo>
          <msub>
            <mi>a</mi>
            <mrow>
              <mi>s</mi>
              <mo>-</mo>
              <mi>k</mi>
              <mo>+</mo>
              <mi>i</mi>
            </mrow>
          </msub>
        </mrow>
      </mrow>
      <mo>+</mo>
      <msub>
        <mi>x</mi>
        <mi>i</mi>
      </msub>
      <mo>-</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>k</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow>
            <mi>i</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <msub>
            <mi>h</mi>
            <mi>k</mi>
          </msub>
          <mo>&#xb7;</mo>
          <msub>
            <mi>a</mi>
            <mrow>
              <mi>i</mi>
              <mo>-</mo>
              <mi>k</mi>
            </mrow>
          </msub>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00010-2" num="00010.2">
<math overflow="scroll">
  <mrow>
    <mrow>
      <mi>for</mi>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.8em" height="0.8ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mn>1</mn>
    </mrow>
    <mo>&#x2264;</mo>
    <mi>i</mi>
    <mo>&#x2264;</mo>
    <mi>M</mi>
  </mrow>
</math>
</maths>
<br/>
to subtract out the ISI for M terms following the split-mark. This operation is specifically utilized by replacing y<sub>L+i </sub>with the right side of the equation for 1&#x2266;i&#x2266;M, so that y<sub>L+1 </sub>. . . y<sub>M </sub>bits are now equal to the ideal received signal bits y&#x2032;<sub>L+1 </sub>. . . y&#x2032;M, from equation (1) plus the two added noise terms
</p>
<p id="p-0076" num="0080">
<maths id="MATH-US-00011" num="00011">
<math overflow="scroll">
<mrow>
  <munder>
    <mrow>
      <msubsup>
        <mi>n</mi>
        <mrow>
          <mi>L</mi>
          <mo>+</mo>
          <mi>i</mi>
        </mrow>
        <mi>y</mi>
      </msubsup>
      <mo>+</mo>
      <msubsup>
        <mi>n</mi>
        <mi>i</mi>
        <mi>x</mi>
      </msubsup>
    </mrow>
    <mi>&#xfe38;</mi>
  </munder>
  <mo>.</mo>
</mrow>
</math>
</maths>
</p>
<p id="p-0077" num="0081">Calling the FIR data y&#x2033;<sub>L+1 </sub>. . . y&#x2033;<sub>M</sub>, where</p>
<p id="p-0078" num="0082">
<maths id="MATH-US-00012" num="00012">
<math overflow="scroll">
<mrow>
  <mrow>
    <msubsup>
      <mi>y</mi>
      <mrow>
        <mi>L</mi>
        <mo>+</mo>
        <mi>i</mi>
      </mrow>
      <mi>&#x2033;</mi>
    </msubsup>
    <mo>=</mo>
    <mrow>
      <msubsup>
        <mi>y</mi>
        <mrow>
          <mi>L</mi>
          <mo>+</mo>
          <mi>i</mi>
        </mrow>
        <mi>&#x2032;</mi>
      </msubsup>
      <mo>+</mo>
      <munder>
        <mrow>
          <msubsup>
            <mi>n</mi>
            <mrow>
              <mi>L</mi>
              <mo>+</mo>
              <mi>i</mi>
            </mrow>
            <mi>y</mi>
          </msubsup>
          <mo>+</mo>
          <msubsup>
            <mi>n</mi>
            <mi>i</mi>
            <mi>x</mi>
          </msubsup>
        </mrow>
        <munder>
          <mi>&#xfe38;</mi>
          <mrow>
            <mi>two</mi>
            <mo>-</mo>
            <mi>noise</mi>
            <mo>-</mo>
            <mi>terms</mi>
          </mrow>
        </munder>
      </munder>
    </mrow>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
</maths>
<br/>
the recovered sector data is depicted in item <b>506</b> as
<ul id="ul0011" list-style="none">
    <li id="ul0011-0001" num="0000">
    <ul id="ul0012" list-style="none">
        <li id="ul0012-0001" num="0083">y<sub>1</sub>y<sub>2</sub>y<sub>3 </sub>. . . y<sub>L</sub>y&#x2033;<sub>L+1 </sub>. . . y&#x2033;<sub>M</sub>y<sub>M+1 </sub>. . . y<sub>N&#x2212;1</sub>y<sub>N</sub>.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0079" num="0084"><figref idref="DRAWINGS">FIGS. 6 and 7</figref> show error-location histograms at the SOVA output and outer decoder output, respectively, whereby 600-bit splits were added at the 1000, 2000, and 3000 bit positions of a codeword of length N&#x3e;4100 bits. As can be seen in these figures, the split sector recovery method lowers the amount of error at both the SOVA output and outer decoder output.</p>
<p id="p-0080" num="0085"><figref idref="DRAWINGS">FIGS. 8 and 9</figref> display bit-error-rates at the output of the SOVA and outer decoder output, respectively. These figures show that the bit-error-rate for a codeword containing split data that is processed using the split sector recovery method will more closely approximate the bit-error-rate of a codeword with no split-marks present than will the bit-error-rate of a codeword containing split data that is simply stitched back together.</p>
<p id="p-0081" num="0086">Thus, by virtue of the split sector recovery method, SNR loss is ordinarily reduced and bit-error rate is ordinarily improved. Moreover, since the system is not required to retain the data corresponding to the split-mark data, the amount of required memory can be reduced.</p>
<p id="p-0082" num="0087">The present disclosure has been described above with respect to particular illustrative embodiments. It is understood that the disclosure is not limited to the above-described embodiments and that various changes and modifications may be made by those skilled in the relevant art without departing from the spirit and scope of this disclosure.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08627179-20140107-M00001.NB">
<img id="EMI-M00001" he="9.14mm" wi="76.20mm" file="US08627179-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08627179-20140107-M00002.NB">
<img id="EMI-M00002" he="8.81mm" wi="76.20mm" file="US08627179-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08627179-20140107-M00003.NB">
<img id="EMI-M00003" he="9.14mm" wi="76.20mm" file="US08627179-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08627179-20140107-M00004.NB">
<img id="EMI-M00004" he="32.85mm" wi="76.20mm" file="US08627179-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US08627179-20140107-M00005.NB">
<img id="EMI-M00005" he="12.02mm" wi="76.20mm" file="US08627179-20140107-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00006" nb-file="US08627179-20140107-M00006.NB">
<img id="EMI-M00006" he="12.02mm" wi="76.20mm" file="US08627179-20140107-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00007" nb-file="US08627179-20140107-M00007.NB">
<img id="EMI-M00007" he="9.14mm" wi="76.20mm" file="US08627179-20140107-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00008" nb-file="US08627179-20140107-M00008.NB">
<img id="EMI-M00008" he="22.61mm" wi="76.20mm" file="US08627179-20140107-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00009 MATH-US-00009-2" nb-file="US08627179-20140107-M00009.NB">
<img id="EMI-M00009" he="13.04mm" wi="76.20mm" file="US08627179-20140107-M00009.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00010 MATH-US-00010-2" nb-file="US08627179-20140107-M00010.NB">
<img id="EMI-M00010" he="13.04mm" wi="76.20mm" file="US08627179-20140107-M00010.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00011" nb-file="US08627179-20140107-M00011.NB">
<img id="EMI-M00011" he="4.91mm" wi="76.20mm" file="US08627179-20140107-M00011.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00012" nb-file="US08627179-20140107-M00012.NB">
<img id="EMI-M00012" he="6.69mm" wi="76.20mm" file="US08627179-20140107-M00012.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00013 MATH-US-00013-2" nb-file="US08627179-20140107-M00013.NB">
<img id="EMI-M00013" he="13.04mm" wi="76.20mm" file="US08627179-20140107-M00013.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00014" nb-file="US08627179-20140107-M00014.NB">
<img id="EMI-M00014" he="8.81mm" wi="76.20mm" file="US08627179-20140107-M00014.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00015 MATH-US-00015-2" nb-file="US08627179-20140107-M00015.NB">
<img id="EMI-M00015" he="13.04mm" wi="76.20mm" file="US08627179-20140107-M00015.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00016" nb-file="US08627179-20140107-M00016.NB">
<img id="EMI-M00016" he="8.81mm" wi="76.20mm" file="US08627179-20140107-M00016.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A disk drive controller comprising:
<claim-text>a reading unit configured to read encoded data from a hard disk, wherein the encoded data comprises (i) a first segment of data, (ii) a second segment of data, and (iii) a third segment of data, wherein the first segment of data, the second segment of data and the third segment of data form consecutive segments of the encoded data, wherein the third segment of data comprises (i) a first subset of data and (ii) a second subset of data, wherein the first subset of data separates the second segment of data from the second subset of data, wherein the second segment of data is affected by a first contribution of inter-symbol interference due to the first segment of data, wherein the first subset of data is affected by a second contribution of inter-symbol interference due to the second segment of data, and wherein the second subset of data is unaffected by any contribution of inter-symbol interference due to the second segment of data;</claim-text>
<claim-text>an identification unit configured to identify, in the encoded data, (i) the first segment of data, (ii) the second segment of data, and (iii) the first subset of data from the third segment of data;</claim-text>
<claim-text>a recovery unit configured to (i) remove the second segment of data from the encoded data, (ii) remove the second contribution of the inter-symbol-interference from the first subset of data, and (iii) add the first contribution of the inter-symbol-interference to the first subset of data; and</claim-text>
<claim-text>a stitching unit configured to, subsequent to the recovery unit (i) removing the second segment of data (ii) removing the second contribution of the inter-symbol-interference and (iii) adding the first contribution of the inter-symbol-interference, stitch together the first segment of data and the third segment of data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The disk drive controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>an output unit configured to, subsequent to the stitching unit stitching together the first segment of data and the third segment of data, transmit the first segment of data and the third segment of data to a decoder.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The disk drive controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the recovery unit is configured to refrain from (i) removing any contribution of inter-symbol-interference from the second subset of data, and (ii) adding any contribution of inter-symbol-interference to the second subset of data.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The disk drive controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the second contribution of inter-symbol-interference is removed from the first subset of data according to the following equation:</claim-text>
<claim-text>
<maths id="MATH-US-00013" num="00013">
<math overflow="scroll">
  <mrow>
    <mrow>
      <msubsup>
        <mi>y</mi>
        <mrow>
          <mi>L</mi>
          <mo>+</mo>
          <mi>i</mi>
        </mrow>
        <mi>&#x2032;</mi>
      </msubsup>
      <mo>+</mo>
      <munder>
        <mrow>
          <msubsup>
            <mi>n</mi>
            <mrow>
              <mi>L</mi>
              <mo>+</mo>
              <mi>i</mi>
            </mrow>
            <mi>y</mi>
          </msubsup>
          <mo>+</mo>
          <msubsup>
            <mi>n</mi>
            <mi>i</mi>
            <mi>x</mi>
          </msubsup>
        </mrow>
        <munder>
          <mi>&#xfe38;</mi>
          <mrow>
            <mi>two</mi>
            <mo>-</mo>
            <mi>noise</mi>
            <mo>-</mo>
            <mi>terms</mi>
          </mrow>
        </munder>
      </munder>
    </mrow>
    <mo>=</mo>
    <mrow>
      <msub>
        <mi>y</mi>
        <mrow>
          <mi>L</mi>
          <mo>+</mo>
          <mi>i</mi>
        </mrow>
      </msub>
      <mo>-</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>k</mi>
            <mo>=</mo>
            <mi>i</mi>
          </mrow>
          <mi>M</mi>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <msub>
            <mi>h</mi>
            <mi>k</mi>
          </msub>
          <mo>&#xb7;</mo>
          <msub>
            <mi>a</mi>
            <mrow>
              <mi>s</mi>
              <mo>-</mo>
              <mi>k</mi>
              <mo>+</mo>
              <mi>i</mi>
            </mrow>
          </msub>
        </mrow>
      </mrow>
      <mo>+</mo>
      <msub>
        <mi>x</mi>
        <mi>i</mi>
      </msub>
      <mo>-</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>k</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow>
            <mi>i</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <msub>
            <mi>h</mi>
            <mi>k</mi>
          </msub>
          <mo>&#xb7;</mo>
          <msub>
            <mi>a</mi>
            <mrow>
              <mi>i</mi>
              <mo>-</mo>
              <mi>k</mi>
            </mrow>
          </msub>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00013-2" num="00013.2">
<math overflow="scroll">
  <mrow>
    <mrow>
      <mi>for</mi>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.8em" height="0.8ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mn>1</mn>
    </mrow>
    <mo>&#x2264;</mo>
    <mi>i</mi>
    <mo>&#x2264;</mo>
    <mi>M</mi>
  </mrow>
</math>
</maths>
</claim-text>
<claim-text>wherein
<claim-text>y&#x2032; is an ideal signal unaffected by the second contribution of inter-symbol-interference,</claim-text>
<claim-text>y is the ideal signal affected by the second contribution of inter-symbol-interference,</claim-text>
</claim-text>
<claim-text>
<maths id="MATH-US-00014" num="00014">
<math overflow="scroll">
<mrow>
  <mrow>
    <munderover>
      <mo>&#x2211;</mo>
      <mrow>
        <mi>k</mi>
        <mo>=</mo>
        <mi>i</mi>
      </mrow>
      <mi>M</mi>
    </munderover>
    <mo>&#x2062;</mo>
    <mrow>
      <msub>
        <mi>h</mi>
        <mi>k</mi>
      </msub>
      <mo>&#xb7;</mo>
      <msub>
        <mi>a</mi>
        <mrow>
          <mi>s</mi>
          <mo>-</mo>
          <mi>k</mi>
          <mo>+</mo>
          <mi>i</mi>
        </mrow>
      </msub>
    </mrow>
  </mrow>
  <mo>+</mo>
  <msub>
    <mi>x</mi>
    <mi>i</mi>
  </msub>
  <mo>-</mo>
  <mrow>
    <munderover>
      <mo>&#x2211;</mo>
      <mrow>
        <mi>k</mi>
        <mo>=</mo>
        <mn>0</mn>
      </mrow>
      <mrow>
        <mi>i</mi>
        <mo>-</mo>
        <mn>1</mn>
      </mrow>
    </munderover>
    <mo>&#x2062;</mo>
    <mrow>
      <msub>
        <mi>h</mi>
        <mi>k</mi>
      </msub>
      <mo>&#xb7;</mo>
      <msub>
        <mi>a</mi>
        <mrow>
          <mi>i</mi>
          <mo>-</mo>
          <mi>k</mi>
        </mrow>
      </msub>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</claim-text>
<claim-text>represents the second contribution of inter-symbol-interference over the first subset of data, where the first subset of data comprises &#x2018;M&#x2019; bits of data,
<claim-text>&#x2018;h&#x2019; represents a magnetic channel target response,</claim-text>
<claim-text>&#x2018;a&#x2019; represents data bits of the second segment of data, and</claim-text>
<claim-text>&#x2018;x&#x2019; represents the data bits of the second segment of data after convolution through the magnetic channel target response.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The disk drive controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the encoded data is produced by a convolution of (i) channel bits and (ii) magnetic channel target response.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The disk drive controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each of the first segment of data and the third segment of data comprises user data.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The disk drive controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the second segment of data comprises non-user data.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The disk drive controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the second segment of data comprises split mark data.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The disk drive controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the second segment of data comprises servo data.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The disk drive controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the second segment of data comprises syncmark data.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A method comprising:
<claim-text>receiving encoded data, wherein the encoded data comprises (i) a first segment of data, (ii) a second segment of data, and (iii) a third segment of data, wherein the first segment of data, the second segment of data and the third segment of data form consecutive segments of the encoded data, wherein the third segment of data comprises (i) a first subset of data and (ii) a second subset of data, wherein the first subset of data separates the second segment of data from the second subset of data, wherein the second segment of data is affected by a first contribution of inter-symbol interference due to the first segment of data, wherein the first subset of data is affected by a second contribution of inter-symbol interference due to the second segment of data, and wherein the second subset of data is unaffected by any contribution of inter-symbol interference due to the second segment of data</claim-text>
<claim-text>identifying, in the encoded data, (i) the first segment of data, (ii) the second segment of data, and (iii) the first subset of data from the third segment of data;</claim-text>
<claim-text>removing the second segment of data from the encoded data;</claim-text>
<claim-text>removing the second contribution of the inter-symbol-interference from the first subset of data;</claim-text>
<claim-text>adding the first contribution of the inter-symbol-interference to the first subset of data; and</claim-text>
<claim-text>subsequent to (i) removing the second segment of data, (ii) removing the second contribution of the inter-symbol-interference, and (iii) adding the first contribution of the inter-symbol-interference, stitching together the first segment of data and the third segment of data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the second contribution of inter-symbol-interference is removed from the first subset data of data according to the following equation:</claim-text>
<claim-text>
<maths id="MATH-US-00015" num="00015">
<math overflow="scroll">
  <mrow>
    <mrow>
      <msubsup>
        <mi>y</mi>
        <mrow>
          <mi>L</mi>
          <mo>+</mo>
          <mi>i</mi>
        </mrow>
        <mi>&#x2032;</mi>
      </msubsup>
      <mo>+</mo>
      <munder>
        <mrow>
          <msubsup>
            <mi>n</mi>
            <mrow>
              <mi>L</mi>
              <mo>+</mo>
              <mi>i</mi>
            </mrow>
            <mi>y</mi>
          </msubsup>
          <mo>+</mo>
          <msubsup>
            <mi>n</mi>
            <mi>i</mi>
            <mi>x</mi>
          </msubsup>
        </mrow>
        <munder>
          <mi>&#xfe38;</mi>
          <mrow>
            <mi>two</mi>
            <mo>-</mo>
            <mi>noise</mi>
            <mo>-</mo>
            <mi>terms</mi>
          </mrow>
        </munder>
      </munder>
    </mrow>
    <mo>=</mo>
    <mrow>
      <msub>
        <mi>y</mi>
        <mrow>
          <mi>L</mi>
          <mo>+</mo>
          <mi>i</mi>
        </mrow>
      </msub>
      <mo>-</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>k</mi>
            <mo>=</mo>
            <mi>i</mi>
          </mrow>
          <mi>M</mi>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <msub>
            <mi>h</mi>
            <mi>k</mi>
          </msub>
          <mo>&#xb7;</mo>
          <msub>
            <mi>a</mi>
            <mrow>
              <mi>s</mi>
              <mo>-</mo>
              <mi>k</mi>
              <mo>+</mo>
              <mi>i</mi>
            </mrow>
          </msub>
        </mrow>
      </mrow>
      <mo>+</mo>
      <msub>
        <mi>x</mi>
        <mi>i</mi>
      </msub>
      <mo>-</mo>
      <mrow>
        <munderover>
          <mo>&#x2211;</mo>
          <mrow>
            <mi>k</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow>
            <mi>i</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <mo>&#x2062;</mo>
        <mrow>
          <msub>
            <mi>h</mi>
            <mi>k</mi>
          </msub>
          <mo>&#xb7;</mo>
          <msub>
            <mi>a</mi>
            <mrow>
              <mi>i</mi>
              <mo>-</mo>
              <mi>k</mi>
            </mrow>
          </msub>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00015-2" num="00015.2">
<math overflow="scroll">
  <mrow>
    <mrow>
      <mi>for</mi>
      <mo>&#x2062;</mo>
      <mstyle>
        <mspace width="0.8em" height="0.8ex"/>
      </mstyle>
      <mo>&#x2062;</mo>
      <mn>1</mn>
    </mrow>
    <mo>&#x2264;</mo>
    <mi>i</mi>
    <mo>&#x2264;</mo>
    <mi>M</mi>
  </mrow>
</math>
</maths>
</claim-text>
<claim-text>wherein
<claim-text>y&#x2032; is an ideal signal unaffected by the second contribution of inter-symbol-interference,</claim-text>
<claim-text>y is the ideal signal affected by the second contribution of inter-symbol-interference,</claim-text>
</claim-text>
<claim-text>
<maths id="MATH-US-00016" num="00016">
<math overflow="scroll">
<mrow>
  <mrow>
    <munderover>
      <mo>&#x2211;</mo>
      <mrow>
        <mi>k</mi>
        <mo>=</mo>
        <mi>i</mi>
      </mrow>
      <mi>M</mi>
    </munderover>
    <mo>&#x2062;</mo>
    <mrow>
      <msub>
        <mi>h</mi>
        <mi>k</mi>
      </msub>
      <mo>&#xb7;</mo>
      <msub>
        <mi>a</mi>
        <mrow>
          <mi>s</mi>
          <mo>-</mo>
          <mi>k</mi>
          <mo>+</mo>
          <mi>i</mi>
        </mrow>
      </msub>
    </mrow>
  </mrow>
  <mo>+</mo>
  <msub>
    <mi>x</mi>
    <mi>i</mi>
  </msub>
  <mo>-</mo>
  <mrow>
    <munderover>
      <mo>&#x2211;</mo>
      <mrow>
        <mi>k</mi>
        <mo>=</mo>
        <mn>0</mn>
      </mrow>
      <mrow>
        <mi>i</mi>
        <mo>-</mo>
        <mn>1</mn>
      </mrow>
    </munderover>
    <mo>&#x2062;</mo>
    <mrow>
      <msub>
        <mi>h</mi>
        <mi>k</mi>
      </msub>
      <mo>&#xb7;</mo>
      <msub>
        <mi>a</mi>
        <mrow>
          <mi>i</mi>
          <mo>-</mo>
          <mi>k</mi>
        </mrow>
      </msub>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</claim-text>
<claim-text>represents the second contribution of inter-symbol-interference over the first subset of data, where the first subset of data comprises &#x2018;M&#x2019; bits of data,
<claim-text>&#x2018;h&#x2019; represents a magnetic channel target response,</claim-text>
<claim-text>&#x2018;a&#x2019; represents data bits of the second segment of data, and</claim-text>
<claim-text>&#x2018;x&#x2019; represents data bits of the second segment of data after convolution through the magnetic channel target response.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising:
<claim-text>refraining from (i) removing any contribution of inter-symbol-interference from the second subset of data, and (ii) adding any contribution of inter-symbol-interference to the second subset of data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising:
<claim-text>generating the encoded data by a convolution of (i) channel bits and (ii) magnetic channel target response.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising:
<claim-text>subsequent to stitching together the first segment of data and the third segment of data, transmitting the first segment of data and the third segment of data to a decoder.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein each of the first segment of data and the third segment of data comprises user data.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the second segment of data comprises non-user data.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the second segment of data comprises split mark data.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the second segment of data comprises servo data.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the second segment of data comprises syncmark data.</claim-text>
</claim>
</claims>
</us-patent-grant>
