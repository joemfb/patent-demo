<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626198-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626198</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13297733</doc-number>
<date>20111116</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>7</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20090101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>W</subclass>
<main-group>24</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>4554563</main-classification>
<further-classification>4554561</further-classification>
<further-classification>4554562</further-classification>
<further-classification>455440</further-classification>
<further-classification>455444</further-classification>
<further-classification>4555501</further-classification>
</classification-national>
<invention-title id="d2e53">Characterizing an indoor structure based on detected movements and/or position locations of a mobile device</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7848881</doc-number>
<kind>B2</kind>
<name>Tan et al.</name>
<date>20101200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>8320939</doc-number>
<kind>B1</kind>
<name>Vincent</name>
<date>20121100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2007/0010940</doc-number>
<kind>A1</kind>
<name>Tan et al.</name>
<date>20070100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701207</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2007/0224977</doc-number>
<kind>A1</kind>
<name>Yamaguchi et al.</name>
<date>20070900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2010/0008337</doc-number>
<kind>A1</kind>
<name>Bajko</name>
<date>20100100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370338</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2010/0125409</doc-number>
<kind>A1</kind>
<name>Prehofer</name>
<date>20100500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2010/0178934</doc-number>
<kind>A1</kind>
<name>Moeglein et al.</name>
<date>20100700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2010/0255856</doc-number>
<kind>A1</kind>
<name>Kansal et al.</name>
<date>20101000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2011/0081918</doc-number>
<kind>A1</kind>
<name>Burdo et al.</name>
<date>20110400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2011/0172906</doc-number>
<kind>A1</kind>
<name>Das et al.</name>
<date>20110700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00011">
<othercit>International Search Report and Written Opinion&#x2014;PCT/US2012/063954&#x2014;ISA/EPO&#x2014;Mar. 25, 2013.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>58</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>455427</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>45540402</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4554561</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4554562</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4554563</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4554564</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370328</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370338</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370332</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>7</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130122935</doc-number>
<kind>A1</kind>
<date>20130516</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Das</last-name>
<first-name>Saumitra Mohan</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Khorashadi</last-name>
<first-name>Behrooz</first-name>
<address>
<city>Mountain View</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Das</last-name>
<first-name>Saumitra Mohan</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Khorashadi</last-name>
<first-name>Behrooz</first-name>
<address>
<city>Mountain View</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Berkeley Law &#x26; Technology Group, LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>QUALCOMM Incorporated</orgname>
<role>02</role>
<address>
<city>San Diego</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Wang-Hurst</last-name>
<first-name>Kathy</first-name>
<department>2646</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An embodiment relates to characterizing a signaling environment by gathering a plurality of measurements, generated during a period of time, in response to a determination that a mobile device is within an area of location uncertainty. Such an example mobile device may generate a position fix, e.g., at or subsequent to an end of the period of time, based, at least in part, on one or more signals received at the mobile device within an area of location certainty; and in response to a determination that it is to report a travel history for at least a portion of the area of location uncertainty, generate a travel log based, at least in part, on the plurality of measurements and the position fix, and transmit at least a portion of the travel log to one or more external devices.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="187.96mm" wi="127.85mm" file="US08626198-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="180.51mm" wi="152.91mm" file="US08626198-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="221.66mm" wi="146.90mm" file="US08626198-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="222.08mm" wi="123.61mm" file="US08626198-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="203.28mm" wi="126.83mm" file="US08626198-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="158.16mm" wi="100.33mm" file="US08626198-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="193.97mm" wi="109.22mm" file="US08626198-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="223.52mm" wi="158.75mm" file="US08626198-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD</heading>
<p id="p-0002" num="0001">The subject matter disclosed herein relates to electronic devices, and more particularly to methods, apparatuses and articles of manufacture for use in characterizing an area of location uncertainty within an indoor structure based on detected movements and/or position locations of a mobile device.</p>
<heading id="h-0002" level="1">INFORMATION</heading>
<p id="p-0003" num="0002">The Global Positioning System (GPS) represents one type of Global Navigation Satellite System (GNSS), which along with other types of satellite positioning systems (SPS) provide or otherwise support signal-based position location capabilities (e.g., navigation functions) in mobile devices, and particularly in outdoor environments. However, since some satellite signals may not be reliably received and/or acquired by a mobile device within an indoor environment, different techniques may be employed to enable position location services.</p>
<p id="p-0004" num="0003">For example, mobile devices may attempt to obtain a position fix by measuring ranges to three or more terrestrial transmitters (e.g., wireless access point devices, beacons, cell towers, etc.) which are positioned at known locations. Such ranges may be measured, for example, by obtaining a MAC ID address from signals received from such transmitters and obtaining range measurements to the transmitters by measuring one or more characteristics of signals received from such transmitters such as, for example, signal strength, a round trip time delay, etc.</p>
<p id="p-0005" num="0004">These and other like position location and navigation techniques tend to be of further benefit to a user if presented with certain mapped features. For example, mapped features may relate to or otherwise identify certain physical objects, characteristics, or points of interest within a building or complex, etc. Thus, in certain instances, an indoor navigation system may provide a digital electronic map to a mobile device upon entering a particular indoor area, e.g., in response to a request for position assistance data. Such a map may show indoor features such as doors, hallways, entry ways, walls, etc., points of interest such as bathrooms, pay phones, room names, stores, etc. Such a digital electronic map may be stored at a server to be accessible by a mobile device through selection of a URL, for example. By obtaining and displaying such a map, a mobile device may overlay a current location of the mobile device (and user) over the displayed map to provide the user with additional context.</p>
<p id="p-0006" num="0005">In certain instances, some of the information that may be provided to and/or otherwise used by a mobile device for navigational or other like purposes may change from time to time, or may even be unknown. Thus, it may be useful to determine whether such information may have changed, or to otherwise gather and/or develop such information in an efficient manner.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0007" num="0006">In accordance with an example aspect, a method at a mobile device may comprise: in response to a determination that the mobile device is within an area of location uncertainty, gathering a plurality of measurements generated during a period of time; generating a position fix at or subsequent to an end of said period of time based, at least in part, on one or more signals received at said mobile device within an area of location certainty; and in response to a determination that said mobile device is to report a travel history for at least a portion of said area of location uncertainty: establishing one or more signals representing a travel log based, at least in part, on said plurality of measurements and said position fix; and transmitting one or more signals representing at least a portion of said travel log to an external device.</p>
<p id="p-0008" num="0007">In accordance with another example aspect, an apparatus for use in a mobile device may comprise: means for obtaining a plurality of measurements gathered during a period of time, in response to a determination that the mobile device is within an area of location uncertainty; means for obtaining a position fix at or subsequent to an end of said period of time based, at least in part, on one or more signals received at said mobile device within an area of location certainty; means for determining whether said mobile device is to report a travel history for at least a portion of said area of location uncertainty; means for establishing a travel log in response to a determination that said mobile device is to report said travel history, said travel log being based, at least in part, on said plurality of measurements and said position fix; and means for transmitting at least a portion of said travel log to an external device in response to said determination that said mobile device is to report said travel history.</p>
<p id="p-0009" num="0008">In accordance with yet another example implementation a mobile device may comprise a network interface, a satellite positioning system (SPS) receiver, and a processing unit to: gather a plurality of measurements generated during a period of time in response to a determination that the mobile device is within an area of location uncertainty; generate a position fix obtained via said SPS receiver at or subsequent to an end of said period of time within an area of location certainty; and in response to a determination that said mobile device is to report a travel history for at least a portion of said area of location uncertainty: establish a travel log based, at least in part, on said plurality of measurements and said position fix; and initiate transmission of one or more signals representing at least a portion of said travel log via said network interface to an external device.</p>
<p id="p-0010" num="0009">In accordance with still another example aspect, an article of manufacture may comprise a non-transitory computer readable medium having stored therein computer implementable instructions that are executable by a processing unit in a mobile device to: obtain a plurality of measurements gathered during a period of time in response to a determination that the mobile device is within an area of location uncertainty; obtain a position fix at or subsequent to an end of said period of time based, at least in part, on one or more signals received at said mobile device within an area of location certainty; determine whether said mobile device is to report a travel history for at least a portion of said area of location uncertainty; establish a travel log in response to a determination that said mobile device is to report said travel history, said travel log being based, at least in part, on said plurality of measurements and said position fix; and initiate transmission of at least a portion of said travel log to an external device in response to said determination that said mobile device is to report said travel history.</p>
<p id="p-0011" num="0010">In accordance with an example aspect, a method at a computing device may comprise: obtaining one or more signals representing at least a portion of a travel log from a mobile device, said travel log being indicative of or based at least in part on: a plurality of measurements gathered by said mobile device during a period of time within an area of location uncertainty, and a position fix at or subsequent to an end of said period of time based, at least in part, on one or more signals received at said mobile device within an area of location certainty; and determining an estimated trajectory of said mobile device within at least a portion of said area of location uncertainty within an indoor structure leading to said position fix based, at least in part on at least a portion of said plurality of measurements and said position fix.</p>
<p id="p-0012" num="0011">In accordance with another example aspect, an apparatus for use in a computing device may comprise: means for obtaining at least a portion of a travel log from a mobile device, said travel log being indicative of or based at least in part on: a plurality of measurements gathered by said mobile device during a period of time within an area of location uncertainty, and a position fix at or subsequent to an end of said period of time based, at least in part, on one or more signals received at said mobile device within an area of location certainty; and means for determining an estimated trajectory of said mobile device within at least a portion of said area of location uncertainty within an indoor structure leading to said position fix based, at least in part on at least a portion of said plurality of measurements and said position fix.</p>
<p id="p-0013" num="0012">In accordance with yet another example aspect, a computing device may comprise a network interface, and a processing unit to: obtain, via said network interface, at least a portion of a travel log from a mobile device, said travel log being indicative of or based at least in part on: a plurality of measurements gathered by said mobile device during a period of time within an area of location uncertainty, and a position fix at or subsequent to an end of said period of time based, at least in part, on one or more signals received at said mobile device within an area of location certainty; and determine an estimated trajectory of said mobile device within at least a portion of said area of location uncertainty within an indoor structure leading to said position fix based, at least in part on at least a portion of said plurality of measurements and said position fix.</p>
<p id="p-0014" num="0013">In accordance with still another example aspect, an article of manufacture may comprise a non-transitory computer readable medium having stored therein computer implementable instructions that are executable by a processing unit in a computing device to: obtain at least a portion of a travel log from a mobile device, said travel log being indicative of or based at least in part on: a plurality of measurements gathered by said mobile device during a period of time within an area of location uncertainty, and a position fix at or subsequent to an end of said period of time based, at least in part, on one or more signals received at said mobile device within an area of location certainty; and determine an estimated trajectory of said mobile device within at least a portion of said area of location uncertainty within an indoor structure leading to said position fix based, at least in part on at least a portion of said plurality of measurements and said position fix.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading>
<p id="p-0015" num="0014">Non-limiting and non-exhaustive aspects are described with reference to the following figures, wherein like reference numerals refer to Like parts throughout the various figures unless otherwise specified.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic block diagram illustrating an example environment that includes a mobile device and a computing device for use in characterizing at least a portion of an area of location uncertainty within an indoor structure based on detected movements and/or position locations of the mobile device, in accordance with an implementation.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic block diagram illustrating certain features of an example mobile device for use in characterizing at least a portion of an area of location uncertainty within an indoor structure based on detected movements and/or position locations of the mobile device, in accordance with an implementation.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 3</figref> is a schematic block diagram illustrating certain features of an example computing platform for use at a computing device to characterize at least a portion of an area of location uncertainty within an indoor structure based on detected movements and/or position locations of one or more mobile devices, in accordance with an implementation.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 4</figref> is a flow diagram illustrating certain features of an example process or method for a mobile device for use in characterizing at least a portion of an area of location uncertainty within an indoor structure based on detected movements and/or position locations of the mobile device, in accordance with an implementation.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 5</figref> is a flow diagram illustrating certain features of an example process or method for a computing platform for use at an external computing device to characterize at least a portion of an area of location uncertainty within an indoor structure based on detected movements and/or position locations of one or more mobile devices, in accordance with an implementation.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 6</figref> is a diagram illustrating certain detected movements and/or position locations of a mobile device through at least a portion of an area of location uncertainty leading to a position fix obtained within an area of location certainty, in accordance with an implementation.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 7</figref> is a diagram illustrating that certain detected movements and/or position locations of a mobile device through at least a portion of an area of location uncertainty leading to a position fix obtained within an area of location certainty as in <figref idref="DRAWINGS">FIG. 6</figref> may be used to estimate a trajectory of movements within an area of location uncertainty an indoor structure, in accordance with an implementation.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 8</figref> is a diagram illustrating that certain trajectory of movements within at least a portion of an area of location uncertainty within an indoor structure as in <figref idref="DRAWINGS">FIG. 7</figref> may be used to estimate a path of travel within an indoor structure, in accordance with an implementation.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0024" num="0023">As described in greater detail herein, various methods, apparatuses and articles of manufacture are provided which may be implemented in various devices for use in characterizing at least a portion of an area of location uncertainty of an indoor structure based on detected movements and/or position locations of the mobile device.</p>
<p id="p-0025" num="0024">As used herein, an &#x201c;area of location uncertainty&#x201d; is intended to specify at least one region in space for which wireless signaling location information may be sufficiently lacking (e.g., nonexistent, sparse, inaccurate, etc.) such that a mobile device may be unable to determine or otherwise estimate its location to a desired level of accuracy based, at least in part, on the wireless signals which may be received. Conversely, as used herein an &#x201c;area of location certainty&#x201d; is intended to specify at least one region in space for which wireless signaling location information may be sufficiently available to allow a mobile device to determine or otherwise estimate its location to a desired level of accuracy based, at least in part, on wireless signals which may be received. Thus, for example, in certain instances an electronic map and/or other like information (e.g., a radio signal heatmap, etc.) may include distinct areas that may be considered as either an area of location certainty or an area of location uncertainty based, at least in part, on the availability or unavailability, respectively, of adequate wireless signaling information with regard to the signaling environment within a given area.</p>
<p id="p-0026" num="0025">By way of one particular example, an electronic map may specify a floor plan for a building comprising an older section and a newly constructed section. Since the older section of the building has been in place for some time, let us assume that sufficient wireless signaling location information is known and available to allow a mobile device to estimate its current location while in the older section of the building to a desired level of accuracy based, at least in part, on the wireless signals received therein. For example, a mobile device may have access to a radio signal heatmap, and/or the like, which may allow the mobile device to estimate its location within the older section of the building based on signals received from certain transmitting devices. Accordingly, an area within the older section of the building in this example may represent an &#x201c;area of location certainty&#x201d; with respect to the present description.</p>
<p id="p-0027" num="0026">However, wireless signaling location information may be lacking with regard to all or part of the newly constructed section of the building. Thus, an area within the newly constructed section of the building in this example may represent an &#x201c;area of location uncertainty&#x201d; with respect to the present description since adequate wireless signaling location information is not available. Therefore, a user of a mobile device may, for example, travel through a portion of the newly constructed section of the building and end up somewhere in the older section of the building, which may represent a transition from an area of location uncertainty to an area of location certainty and at which point a position fix (of a desired level of accuracy) may be determined (e.g., using the wireless signaling location information available for the older section of the building). As described in greater detail herein, a mobile device may gather wireless signaling location information, other movement information, etc., while in an area of location uncertainty and possibly provide all or part of that information and/or information derived therefrom, e.g., as part of a travel log, etc., to one or more other devices along with the position fix. Thus, for example, separately or in addition to gathering wireless signaling location information, a mobile device may gather inertial and/or environmental sensor data from onboard sensors while in the newly constructed section of the building, and such gathered movement information may subsequently be used for dead reckoning or other like positioning purposes.</p>
<p id="p-0028" num="0027">By way of another example, an electronic map may specify in outdoor area that is adjacent to a structure comprising an indoor area. Here, for example, all or part of an outdoor area may represent an &#x201c;area of location certainty&#x201d; with respect to the present description if wireless signals may be adequately received by a mobile device, e.g., from one or more SPS or other like location services, to allow the mobile device to determine or otherwise estimate its location to a desired level of accuracy based thereon. Accordingly, an area may be considered an area of location certainty if known wireless signals may be adequately received by a mobile device while in such an area to allow the mobile device to determine otherwise estimate its location to a desired level of accuracy based, at least in part, thereon. Assuming, that in this example, all or part of the structure may interfere with the mobile device acquiring such known wireless signals when the mobile device is within the structure, and further that there is an inadequate amount of wireless signaling location information available for an area with in the structure to allow the mobile device to estimate its location to a desired level of accuracy, then such an area within the structure may represent an &#x201c;area of location uncertainty&#x201d; with respect to the present description. However, a user of a mobile device may, for example, travel through a portion of such an indoor structure and end up somewhere outside, which may represent a transition from an area of location uncertainty to an area of location certainty since at or about that point in time a position fix may be determined within the area of location certainty. Again as described in greater detail herein, a mobile device may gather wireless signaling location information, other movement information, etc., while in such an area of location uncertainty and possibly provide all or part of that information and/or information derived therefrom, e.g., as part of a travel log, etc., to one or more other devices along with the position fix.</p>
<p id="p-0029" num="0028">One or more measurements gathered over a period of time within an area of location uncertainty by a mobile device may be considered along with a subsequently obtained position fix (e.g., an estimated location of the mobile device within an area of location certainty) to detect movements and/or position locations of the mobile device within an indoor environment. For example, a position fix may be obtained based on SPS signals or other positioning system signals received by a mobile device upon transitioning to an area of location certainty, e.g., at some location position within or near to an indoor structure. For example, SPS signals may be received at or near an exit/entryway of an indoor structure, e.g., as a mobile device is moved out of an indoor structure. As illustrated in the examples herein, by gathering various sensor measurements prior to obtaining such a position fix, it may be possible to estimate a trajectory and/or path of travel of the mobile device in a period of time leading up to the position fix while the mobile device is within an area of location uncertainty. Moreover, in certain example implementations, various signaling characteristics may be gathered for an area of location uncertainty which may permit various signaling environment characteristic models and/or like radio heatmaps to be established, maintained, refined, and which may at some point in time allow for location position determination by mobile devices within an indoor structure (e.g., an area of location uncertainty may become an area of location certainty once an adequate amount of wireless signaling location information is available).</p>
<p id="p-0030" num="0029">By way of example, certain measurements may be obtained with a mobile device and used to determine movements of the mobile device during a period of time, e.g., while the mobile device may be within an area of location uncertainty within an indoor structure and possibly leading up to a position fix. Such measurements may, for example, comprise sensor measurements from one or more inertial sensors in the mobile device, signal measurements from one or more wireless signals received by a radio in the mobile device, environment measurements from one or more environmental sensors in the mobile device, input measurements received from one or more user input mechanisms in the mobile device, and/or the like or some combination thereof, and which may be time-stamped or otherwise temporally relatable in some manner.</p>
<p id="p-0031" num="0030">In certain example implementations, a mobile device may process all or part of the gathered measurements and/or the position fix in some manner to estimate its previous movements and/or location positions, and possibly to further characterize all or part of an indoor structure. In certain implementations, a mobile device may simply act to gather measurements and obtain a position fix and report such to an external device for further processing. In certain implementations, a mobile device may perform certain further processing on its own, e.g., using such gathered travel history.</p>
<p id="p-0032" num="0031">In certain example implementations, a mobile device may determine whether all or part of its gathered travel history with regard to one or more areas of location uncertainty is to be reported, e.g., transmitted via one or more messages and/or encoded data files to one or more external computing devices. Such a determination may, for example, be based, at least in part, on a number and/or type of measurements obtained, a period time associated with the obtained measurements and/or a position fix, the particular indoor structure and/or other potential areas of location uncertainty, a received message, one or more flagged or otherwise identified values (flag value), one or more threshold values being satisfied, and/or the like or some combination thereof. In response to a determination that a travel history is to be reported, a mobile device may, for example, establish and transmit a travel log based, at least in part, on at least a portion of the gathered travel history (e.g., measurements from within an area of location uncertainty and position fix from within an area of location certainty).</p>
<p id="p-0033" num="0032">In certain example implementations, a mobile device may perform additional processing to determine an estimated trajectory within an area of location uncertainty leading to a position fix within an area of location certainty based, at least in part, on the gathered travel history, e.g., using reversed dead reckoning and/or other like techniques. In certain example implementations, a mobile device may perform additional processing to estimate its path of travel with regard to an area of location uncertainty within an indoor structure based, at least in part, on an estimated trajectory, e.g., using an electronic map and/or a routability graph for the indoor structure, etc.</p>
<p id="p-0034" num="0033">In certain example implementations, a mobile device may perform additional processing to characterize all or part of an environment at one or more points along its estimated trajectory within an area of location uncertainty, e.g., based, at least in part, on signal measurements/characteristics for wireless signals received from various transmitting devices. For example, a characterized environment may be indicative of at least a portion of a received signal heatmap, radio model, and/or the like for an indoor structure or portion thereof.</p>
<p id="p-0035" num="0034">As such, a mobile device may, for example, establish and transmit a travel log for at least a portion of an area of location uncertainty that may comprise all or part of, and/or may be based at least in part on, a gathered travel history, one or more measurements, one or more position fixes from an area of location certainty, one or more estimated trajectories, one or more estimated paths of travel, one or more characterized environments, and/or the like or some combination thereof.</p>
<p id="p-0036" num="0035">In certain example implementations, an external computing device may obtain one or more travel logs or portions thereof from one or more mobile devices for one or more areas of location uncertainty.</p>
<p id="p-0037" num="0036">In certain example implementations, an external computing device may process at least a portion of the reported measurements and a position fix received from a mobile device in a travel log in some manner to detect the mobile device's movements and/or position locations, and/or to further characterize all or part of an area of location uncertainty with regard to it signaling environment. For example, an external computing device may determine an estimated trajectory of a mobile device within an area of location uncertainty leading to a position fix within an area of location certainty based, at least in part, on a received travel log, e.g., using reversed dead reckoning and/or other like techniques. For example, an external computing device may estimate a mobile device's path of travel with regard to an area of location uncertainty based, at least in part, on an estimated trajectory, e.g., using an electronic map and/or a routability graph for an applicable indoor structure, etc. For example, an external computing device may characterize an environment at one or more position locations along a mobile device's estimated trajectory and/or one or more position locations of an electronic map or the like, e.g., based, at least in part, on signal measurements for wireless signal received from transmitting devices by the mobile device while located within an area of location uncertainty. For example, a characterized environment may be indicative of at least a portion of a signal heatmap and/or the like for an indoor structure or portion thereof. In certain example implementations, an external computing device may establish/maintain a signal heatmap and/or the like for an indoor structure or portion thereof based on travel logs obtained from a plurality of mobile devices over time, e.g., as part of a crowd-sourcing server capability. Thus, for example, an indoor structure that may initially be considered an area of location uncertainty may subsequently be considered an area of location certainty.</p>
<p id="p-0038" num="0037">In certain example implementations, an external computing device (e.g., as part of a crowd-sourcing server capability) may provide a suggested route of travel associated with an area of location uncertainty to a mobile device. Hence, a mobile device may, for example, indicate such a suggested route of travel to a user with regard to an indoor structure, which, if taken, may permit further measurements to be gathered along at least a portion of the suggested route of travel within an area of location uncertainty. As such, over time, an example crowd-sourcing server capability may establish/maintain various beneficial navigation data that may be of use by mobile devices in performing navigation and/or positioning functions relative to an indoor structure, etc.</p>
<p id="p-0039" num="0038">As used herein the term &#x201c;indoor structure&#x201d; may, for example, apply to (all or part of) one or more natural and/or man-made physical arrangements of object(s), the knowledge of which may be of use to a user of mobile device. For example, an indoor structure may comprise all or part of a building that a user of a mobile device may enter into, exit from, and/or otherwise move about within. Some example indoor structures may comprise a mixture of indoor and outdoor spaces. In certain instances, an indoor structure may comprise one or more distinguishable regions. In certain instances, for example, two or more different regions within an indoor structure may be distinguished from one another based, at least in part, on various physical arrangements of objects, e.g., floors, ceilings, decks, walls, staircases, elevators, walkways, etc. Thus, for example, two or more regions of a structure may relate to two or more different levels (e.g., floors) of a building, two or more office suites in a building, stores in a shopping mall, etc. Unless otherwise stated, for the examples herein, it will be assumed that an indoor structure comprises one or more areas of location uncertainty, and conversely that and outdoor area or the like comprises at least one area of location certainty within which a mobile device may obtain a position fix of a desired accuracy.</p>
<p id="p-0040" num="0039">Attention is now drawn to <figref idref="DRAWINGS">FIG. 1</figref>, which is a schematic block diagram illustrating an example environment <b>100</b> that includes a mobile device <b>102</b> and an external computing device <b>106</b>.</p>
<p id="p-0041" num="0040">As illustrated, mobile device <b>102</b> may be located at various positions <b>154</b> within an indoor structure <b>150</b>. By way of example, mobile device <b>102</b> may comprise any electronic device that may be moved about by a user within a structure and which comprises a network interface <b>114</b>. In this example implementation network interface <b>114</b> comprises a radio <b>132</b> for receiving signals transmitted by transmitters <b>130</b> (e.g., access point devices, cell towers, beacon transmitters, etc.) and/or possibly other resources in network(s) <b>104</b>, etc. Thus, by way of some examples, mobile device <b>102</b> may comprise a cell phone, a smart phone, a computer (e.g., a personal computer such as a laptop computer, a tablet computer, a wearable computer, etc.), a navigation aid, a digital book reader, a gaming device, a music and/or video player device, a camera, etc.</p>
<p id="p-0042" num="0041">Apparatus <b>116</b> is representative of circuitry, such as, e.g., hardware, firmware, a combination of hardware and software, and/or a combination of firmware and software or other like logic that may be provided in mobile device <b>102</b> for use in characterizing indoor structure <b>150</b> based, at least in part, on detected movements and/or position locations of mobile device <b>102</b>.</p>
<p id="p-0043" num="0042">In certain example implementations, mobile device <b>102</b> may function exclusively or selectively as a stand-alone device, and may provide a one or more capabilities/services of interest/use to a user. In certain example implementations, mobile device <b>102</b> may communicate in some manner with one or more other devices, for example, as illustrated by the wireless communication link to the cloud labeled network(s) <b>104</b>. Network(s) <b>104</b> may be representative of one or more communication and/or computing resources (e.g., devices and/or services) which mobile device <b>102</b> may communicate with or through, e.g., via network interface <b>114</b> using one or more wired or wireless communication links. Thus, in certain instances mobile device <b>102</b> may receive (or send) data and/or instructions via network(s) <b>104</b>. In certain instances, mobile device <b>102</b> may, for example, not only receive a signal from a transmitter <b>130</b>, but may also transmit a signal to such a transmitter (e.g., having a receiver).</p>
<p id="p-0044" num="0043">In certain example implementations, mobile device <b>102</b> may be enabled to receive signals associated with one or more wireless communication networks, location services, and/or the like or any combination thereof which may be associated with one or more transmitters <b>130</b> and/or network(s) <b>104</b>.</p>
<p id="p-0045" num="0044">Mobile device <b>102</b> may, for example, be enabled (e.g., via network interface <b>114</b>) for use with various wireless communication networks such as a wireless wide area network (WWAN), a wireless local area network (WLAN), a wireless personal area network (WPAN), and so on. The term &#x201c;network&#x201d; and &#x201c;system&#x201d; may be used interchangeably herein. A WWAN may be a Code Division Multiple Access (CDMA) network, a Time Division Multiple Access (TDMA) network, a Frequency Division Multiple Access (FDMA) network, an Orthogonal Frequency Division Multiple Access (OFDMA) network, a Single-Carrier Frequency Division Multiple Access (SC-FDMA) network, and so on. A CDMA network may implement one or more radio access technologies (RATs) such as cdma2000, Wideband-CDMA (W-CDMA), Time Division Synchronous Code Division Multiple Access (TD-SCDMA), to name just a few radio technologies. Here, cdma2000 may include technologies implemented according to IS-95, IS-2000, and IS-856 standards. A TDMA network may implement Global System for Mobile Communications (GSM), Digital Advanced Mobile Phone System (D-AMPS), or some other RAT. GSM and W-CDMA are described in documents from a consortium named &#x201c;3rd Generation Partnership Project&#x201d; (3GPP). Cdma2000 is described in documents from a consortium named &#x201c;3rd Generation Partnership Project 2&#x201d; (3GPP2). 3GPP and 3GPP2 documents are publicly available. A WLAN may include an IEEE 802.11x network, and a WPAN may include a Bluetooth network, an IEEE 802.15x, for example. Wireless communication networks may include so-called next generation technologies (e.g., &#x201c;4G&#x201d;), such as, for example, Long Term Evolution (LTE), Advanced LTE, WiMAX, Ultra Mobile Broadband (UMB), and/or the like.</p>
<p id="p-0046" num="0045">In certain example implementations, mobile device <b>102</b> may be enabled (e.g., via an SPS receiver <b>140</b>) for use with various SPS signals <b>162</b> from one or more transmitting devices of one or more SPS <b>160</b>, such as, a Global Navigation Satellite System (GNSS), or other like satellite and/or terrestrial locating service, a location based service (e.g., via a cellular network, a WiFi network, etc.).</p>
<p id="p-0047" num="0046">As further illustrated, in certain example implementations, mobile device <b>102</b> may be comprise one or more inertial sensors <b>131</b>, such as, one or more accelerometers, one or more gyrometers/gyroscopes, and/or the like or some combination thereof. In certain example implementations, mobile device <b>102</b> may be comprise one or more environmental sensors <b>134</b>, such as, one or more magnetometers and/or a compass, one or more barometers, one or more thermometers, one or more light transducers and/or cameras, one or more sound transducers and/or microphones, and/or the like or some combination thereof. In certain example implementations, mobile device <b>102</b> may be comprise one or more user input mechanisms <b>136</b>, such as, one or more buttons, keys, and/or knobs, one or more touch screens, and/or the like or some combination thereof. In certain example instances, a user input mechanism <b>136</b> may comprise or use one or more environmental sensors, such as, a microphone and/or a camera to receive user inputs.</p>
<p id="p-0048" num="0047">An example computing device <b>106</b> is illustrated as being connected to network(s) <b>104</b> via a network interface <b>118</b>, which in certain implementations may be similar to network interface <b>114</b>. Computing device <b>106</b> may, for example, comprise one or more computing platforms, e.g., servers, etc., which may provide an apparatus <b>120</b>. Apparatus <b>128</b> is representative of circuitry, such as, e.g., hardware, firmware, a combination of hardware and software, and/or a combination of firmware and software or other like logic that may be provided in computing device <b>106</b> for use in characterizing indoor structure <b>150</b> based, at least in part, on detected movements and/or position locations of mobile device <b>102</b>. Apparatus <b>120</b> may, for example, obtain (and/or maintain) one or more travel logs <b>142</b> from (and/ or for) one or more mobile devices. Apparatus <b>120</b> may, for example, establish and/or maintain one or more electronic maps <b>146</b> for one or more indoor structures. Apparatus <b>120</b> may, for example, establish and/or maintain one or more routability graphs <b>148</b> for one or more indoor structures. Apparatus <b>120</b> may, for example, receive all or part of a travel log <b>142</b> from mobile device <b>102</b> via networks <b>104</b>. Apparatus <b>120</b> may, for example, transmit all or part of electronic map <b>146</b> and/or all or part of routability graph <b>148</b> to mobile device <b>102</b> via networks <b>104</b>. Apparatus <b>120</b> may, for example, transmit all or part of a signal heatmap and/or the like relating to an indoor structure to one or more mobile devices via network(s) <b>104</b>.</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic block diagram illustrating certain features of an example mobile device <b>102</b> for use in characterizing an indoor structure (an area of location uncertainty) based on detected movements and/or position locations of the mobile device, in accordance with an implementation.</p>
<p id="p-0050" num="0049">As illustrated mobile device <b>102</b> may comprise one or more processing units <b>202</b> to perform data processing (e.g., in accordance with the techniques provided herein) coupled to memory <b>204</b> via one or more connections <b>206</b>. Processing unit(s) <b>202</b> may, for example, be implemented in hardware or a combination of hardware and software. Processing unit(s) <b>202</b> may be representative of one or more circuits configurable to perform at least a portion of a data computing procedure or process. By way of example but not limitation, a processing unit may include one or more processors, controllers, microprocessors, microcontrollers, application specific integrated circuits, digital signal processors, programmable logic devices, field programmable gate arrays, or the like, or any combination thereof.</p>
<p id="p-0051" num="0050">Memory <b>204</b> may be representative of any data storage mechanism. Memory <b>204</b> may include, for example, a primary memory <b>204</b>-<b>1</b> and/or a secondary memory <b>204</b>-<b>2</b>. Primary memory <b>204</b>-<b>1</b> may comprise, for example, a random access memory, read only memory, etc. While illustrated in this example as being separate from the processing units, it should be understood that all or part of a primary memory may be provided within or otherwise co-located/coupled with processing unit(s) <b>202</b>, or other like circuitry within mobile device <b>102</b>. Secondary memory <b>204</b>-<b>2</b> may comprise, for example, the same or similar type of memory as primary memory and/or one or more data storage devices or systems, such as, for example, a disk drive, an optical disc drive, a tape drive, a solid state memory drive, etc. In certain implementations, secondary memory may be operatively receptive of, or otherwise configurable to couple to, computer readable medium <b>260</b>. Memory <b>204</b> and/or computer readable medium <b>260</b> may comprise instructions <b>262</b> associated with data processing, e.g., in accordance with the techniques and/or apparatus <b>116</b> (<figref idref="DRAWINGS">FIG. 1</figref>), as provided herein.</p>
<p id="p-0052" num="0051">Mobile device <b>102</b> may, for example, further comprise one or more user input mechanisms <b>136</b>, one or more output devices <b>210</b>, one or more network interfaces <b>114</b>, one or more radios <b>132</b>, one or more SPS receivers <b>140</b>, one or more inertial sensors <b>131</b>, and/or one or more environmental sensors <b>134</b>.</p>
<p id="p-0053" num="0052">User input mechanisms <b>136</b> may, for example, comprise various buttons, switches, a touch pad, a trackball, a joystick, a touch screen, a microphone, a camera, and/or the like, which may be used to receive one or more user inputs. Output devices <b>210</b> may, for example, comprise various devices that may be used in producing a visual output, an audible output, and/or a tactile output for a user.</p>
<p id="p-0054" num="0053">A network interface <b>114</b> may, for example, provide connectivity to one or more transmitters <b>130</b> and/or network(s) <b>104</b> (<figref idref="DRAWINGS">FIG. 1</figref>), e.g., via one or more wired and/or wireless communication links using radio <b>132</b>. SPS receiver <b>216</b> may, for example, obtain signals from one or more SPS <b>160</b>, which may be used in estimating a position fix that may be provided to or otherwise associated with one or more signals stored in memory. For example, SPS receiver <b>140</b> may be used to estimate a position fix that may indicate that mobile device <b>102</b> is at or nearby, or possibly approaching/leaving a particular exit/entryway of a structure.</p>
<p id="p-0055" num="0054">Processing unit(s) <b>202</b> and/or instructions <b>262</b> may, for example, provide or otherwise be associated with one or more signals that may be stored in memory <b>204</b> from time to time, such as: instructions and/or encoded data relating to apparatus <b>116</b>; a plurality of measurements <b>220</b> (e.g., time-stamped measurements, sensor measurements for inertial sensor(s), signal measurements for signal(s) received via a radio, environment measurements for environmental sensor(s), input measurements for user input mechanism(s), etc.); a period of time <b>222</b> (e.g., from a first measurement timestamp to a last measurement timestamp, from a first measurement timestamp to a position fix timestamp, etc.); a position fix <b>224</b> (e.g., a location coordinate, a map coordinate, etc.); a travel history <b>226</b>; a travel log <b>142</b>; signal characteristics <b>228</b> (e.g., for characterizing a signal environment, comprising or based, at feast in part, on: received signal strength indication (RSSI) measurements, time of flight (TOF) measurements, round-trip-time (RTT) measurements, pseudoranges, etc.); one or more pseudoranges <b>320</b> (e.g., to a transmitting device, SPS, etc.); identifiers <b>232</b> of one or more transmitting devices (e.g., access point (AP) devices, etc.); one or more estimated trajectories <b>234</b> (e.g., distances, velocities, headings, elevations, travel modes, etc.); one or more paths of travel <b>236</b> (e.g., with regard to an electronic map, a routability graph, etc.); one or more filters <b>238</b> (e.g., a Kalman filter, a particle filter, etc., for use in estimating a trajectory and/or a path of travel, etc.); one or more electronic maps <b>146</b> (e.g., an encoded version of all or part of a floor plan, an architectural drawing, an engineering drawing, a CAD drawing, a personnel/entity location chart, etc.); one or more routability graphs <b>148</b> (e.g., encoded version of navigation route suitable for a user of a mobile device within a structure based, at least in part, on one or more electronic maps, etc.); one or more messages <b>240</b> (e.g., from an external computing device requesting that certain travel history be gathered/reported, etc.); one or more flag values (e.g., indicating whether to report travel history, etc.); one or more threshold values (e.g., for use in determining whether to report travel history, whether to establish a travel log, associated with a number of measurements, associated with a period time, associated with a type of at least one of the measurements, associated with a structure, etc.); and/or the like or some combination thereof.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 3</figref> is a schematic block diagram illustrating certain features of an example computing platform <b>300</b> for use at an external computing device <b>106</b> (<figref idref="DRAWINGS">FIG. 1</figref>) to characterize an indoor structure (an area of location uncertainty) he's based on detected movements and/or position locations of one or more mobile devices, in accordance with an implementation.</p>
<p id="p-0057" num="0056">As illustrated computing platform <b>300</b> may comprise one or more processing units <b>302</b> to perform data processing (e.g., in accordance with the techniques provided herein) coupled to memory <b>304</b> via one or more connections <b>306</b>. Processing unit(s) <b>302</b> may, for example, be implemented in hardware or a combination of hardware and software. Processing unit(s) <b>302</b> may be representative of one or more circuits configurable to perform at least a portion of a data computing procedure or process. By way of example but not limitation, a processing unit may include one or more processors, controllers, microprocessors, microcontrollers, application specific integrated circuits, digital signal processors, programmable logic devices, field programmable gate arrays, or the like, or any combination thereof.</p>
<p id="p-0058" num="0057">Memory <b>304</b> may be representative of any data storage mechanism. Memory <b>304</b> may include, for example, a primary memory <b>304</b>-<b>1</b> and/or a secondary memory <b>304</b>-<b>2</b>. Primary memory <b>304</b>-<b>1</b> may comprise, for example, a random access memory, read only memory, etc. While illustrated in this example as being separate from the processing units, it should be understood that all or part of a primary memory may be provided within or otherwise co-located/coupled with processing unit(s) <b>302</b>, or other like circuitry within computing platform <b>300</b>. Secondary memory <b>304</b>-<b>2</b> may comprise, for example, the same or similar type of memory as primary memory and/or one or more data storage devices or systems, such as, for example, a disk drive, an optical disc drive, a tape drive, a solid state memory drive, etc. In certain implementations, secondary memory may be operatively receptive of, or otherwise configurable to couple to, computer readable medium <b>360</b>. Memory <b>304</b> and/or computer readable medium <b>360</b> may comprise instructions <b>362</b> associated with data processing, e.g., in accordance with the techniques and/or apparatus <b>120</b> or apparatus <b>126</b> (<figref idref="DRAWINGS">FIG. 1</figref>), as provided herein.</p>
<p id="p-0059" num="0058">Computing platform <b>300</b> may, for example, further comprise one or more network interfaces <b>118</b>. A network interface <b>118</b> may, for example, provide connectivity to network(s) <b>104</b>, mobile device <b>102</b>, and/or other devices (<figref idref="DRAWINGS">FIG. 1</figref>), e.g., via one or more wired and/or wireless communication links.</p>
<p id="p-0060" num="0059">Processing unit(s) <b>302</b> and/or instructions <b>362</b> may, for example, provide or otherwise be associated with one or more signals that may be stored in memory <b>304</b> from time to time, such as: instructions and/or encoded data relating to apparatus <b>120</b>; one or more sets of measurements <b>220</b>; one or more periods of time <b>222</b>; one or more position fixes <b>224</b>; one or more travel logs <b>142</b>; one or more signal characteristics <b>228</b>; one or more pseudoranges <b>320</b>; one or more identifiers <b>232</b>; one or more estimated trajectories <b>234</b>; one or more paths of travel <b>236</b>; one or more filters <b>238</b>; one or more electronic maps <b>146</b>; one or more routability graphs <b>148</b>; one or more suggested routes (e.g., with regard to an electronic map and/or routability graph, structure, signal characterizing heatmap, etc.); and/or the like or some combination thereof.</p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 4</figref> is a flow diagram illustrating certain features of an example process or method <b>400</b> for use by a mobile device <b>102</b> for use in characterizing an indoor structure (an area of location uncertainty) based on detected movements and/or position locations of the mobile device, in accordance with an implementation.</p>
<p id="p-0062" num="0061">At example block <b>402</b>, a mobile device may obtain a plurality of measurements by gathering such measurements during a period of time within an area of location uncertainty. As illustrated by recursive arrow <b>403</b>, in certain example implementations, block <b>402</b> may be repeated under certain conditions. For example, block <b>402</b> may be restarted or otherwise affected based on a threshold time value, a threshold movement value, a threshold power usage value, a memory limit value, and/or the like, e.g., such that a measurement gathering effort is not open ended, overly cumbersome, wasteful, inefficient, etc. For example, if a mobile device is stationary within a structure (e.g., a user is sitting in a chair), then block <b>402</b> may be capable of ending, restarting, timing out, waiting, being triggered, etc., at some point. For example, if a mobile device gathers more than or less than a threshold number of measurements, and/or a period of time is too long or short based on threshold values, then the resulting measurements may not be as useful or reliable as desired. Hence, a resulting travel history may be more useful if it relates to recent detectable movements, signals, inputs, times, etc., which may allow for a trajectory and/or path of travel within at least a portion of an area of location uncertainty to be estimated in a temporally reversed manner from a subsequent position fix within an area of location certainty. Thus, in certain examples, a position fix may indicate an end of a period of time at block <b>402</b>. In other example implementations, a timestamp or some time thereafter of a last measurement obtained prior to a time of the position fix may represent an end of a period of time at block <b>402</b>.</p>
<p id="p-0063" num="0062">Furthermore, in certain example implementations, example block <b>404</b> may comprise determining whether the mobile device is within an area of location uncertainty based, at least in part, on an absence of sufficient wireless signaling location information to allow the mobile device to estimate its location to a desired level of accuracy, e.g., based, at least in part, on one or more wireless signals received at the mobile device. In certain in certain example implementations, at example block <b>404</b> may comprise determining whether the mobile device is within an area of location certainty based, at least in part, on a presence of sufficient wireless signaling location information to allow the mobile device to estimate its location to a desired level of accuracy, e.g., based, at least in part, on one or more wireless signals received at the mobile device.</p>
<p id="p-0064" num="0063">In certain further example implementations, at example block <b>404</b> may comprise initiating the gathering of one or more measurements, e.g., based, at least in part, on at least one of: a passage of time; at least one signal generated by at least one sensor; and/or at least one user input.</p>
<p id="p-0065" num="0064">At example block <b>404</b>, a position fix may be obtained at, or subsequent to, an end of the period of time based, at least in part, on one or more signals received at the mobile device.</p>
<p id="p-0066" num="0065">At example block <b>406</b> a mobile device may determine whether or not to report a travel history for one or more areas of location uncertainty. Thus, for example, one or more threshold values may be considered to determine whether or not to report a travel history. For example, at block <b>406</b>, a number and/or type of measurements within an area of location uncertainty gathered at block <b>402</b> may be considered in determining whether or not to report a travel history. For example, at block <b>406</b>, a length of the period of time during which measurements were gathered within an area of location uncertainty at block <b>402</b> may be considered in determining whether or not to report a travel history. For example, at block <b>406</b>, one or more messages <b>240</b>, flag values <b>242</b>, an operating mode of the mobile device, and/or the like may be considered in determining whether or not to report a travel history. As illustrated by arrow <b>407</b>, in response to a &#x201c;No&#x201d; determination at block <b>406</b> method <b>400</b> may, for example, return to block <b>402</b>. In response to a &#x201c;Yes&#x201d; determination at block <b>406</b> method <b>400</b> may, for example, proceed to block <b>408</b>.</p>
<p id="p-0067" num="0066">At example block <b>408</b>, a travel log may be established with respect to at least a portion of at least one area of location uncertainty to report a travel history based, at least in part, on the plurality of measurements and corresponding position fixes within one or more areas of location certainty. In certain example instances, a travel log may comprise an encoded version of all or part of the plurality of measurements and/or position fix. In certain example instances, a travel log may further or alternatively comprise one or more or some combination of: an estimated trajectory within an area of location uncertainty (e.g., as determined at block <b>410</b>), an estimated path of travel within an area of location uncertainty (e.g., as determined at block <b>412</b>), or a characterization of a signal environment within an area of location uncertainty (e.g., as determined at block <b>414</b>).</p>
<p id="p-0068" num="0067">At example block <b>416</b>, at least a portion of a travel log established at block <b>408</b> may be transmitted to one or more external devices.</p>
<p id="p-0069" num="0068"><figref idref="DRAWINGS">FIG. 5</figref> is a flow diagram illustrating certain features of an example process or method <b>500</b> for a computing platform <b>300</b> for use at an external computing device <b>106</b> to characterize an indoor structure (an area of location uncertainty) based on detected movements and/or position locations of one or more mobile devices <b>102</b> therein, in accordance with an implementation.</p>
<p id="p-0070" num="0069">At example block <b>502</b> at least a portion of a travel log may be obtained from a mobile device. For example, a travel log may be indicative of, or based at least in part on: a plurality of measurements gathered by the mobile device during a period of time within an area of location uncertainty, and a position fix within an area of location certainty obtained at, or subsequent to, an end of the period of time based, at least in part, on one or more signals received at the mobile device. In certain example implementations, a travel log may comprise an encoded version of all or part of the plurality of measurements and/or position fix. In certain example instances, a travel log may further or alternatively comprise one or more or some combination of: an estimated trajectory, an estimated path of travel, or a characterization of a signal environment, as determined by a mobile device with respect to an area of location uncertainty.</p>
<p id="p-0071" num="0070">At block <b>504</b>, an estimated trajectory of a mobile device within an indoor structure leading to the position fix may be determined (e.g., if needed) based, at least in part on at least a portion of the plurality of measurements and the position fix. In certain instances, for example, at block <b>506</b>, an estimated path of travel may be determined, e.g., based on an estimated trajectory with regard to an electronic map, a routability graph, etc., for an indoor structure or portion thereof. In certain instances, for example, at block <b>508</b>, a signal environment may be characterized, e.g., to establish/maintain a signal heatmap, etc., for an indoor structure or portion thereof. In certain example implementations, all or part of the determinations at block <b>504</b> may be based one or more travel logs from one or more mobile devices. In certain example implementations, at block <b>504</b> all or part of an estimated trajectory, estimated path of travel, signal environment characterization (e.g., signal heatmap, etc.), etc., may be transmitted to one or more other devices, including one or more mobile devices. Furthermore, in certain example implementations, at block <b>504</b>, an electronic map, routability graph, etc., relating to an indoor structure may be affected in some manner based, at least in part, on the various measurements and/or determinations of methods <b>400</b> and/or <b>500</b>.</p>
<p id="p-0072" num="0071">As shown in the example methods <b>400</b> and <b>500</b> above, in certain implementations all or part of the trajectory estimation, path of travel estimation, and/or signal environment characterization determinations within an area of location uncertainty may be preformed at a mobile device <b>102</b>, a computing device <b>106</b>, and/or some combination thereof (e.g., in a distributed manner) and results shared accordingly.</p>
<p id="p-0073" num="0072">Attention is drawn next to <figref idref="DRAWINGS">FIG. 6</figref>, which is a diagram graphically illustrating certain detected movements and/or position locations <b>600</b> of a mobile device starting from a time T<b>1</b> (within an area of location uncertainty) and leading to a position fix PF<b>1</b> (within an area of location certainty) at or after a time T<b>4</b>, in accordance with an implementation. Thus, in this example, with regard to time, a period of time is illustrated at points along a trajectory <b>602</b> as beginning at time T<b>1</b>, continuing through times T<b>2</b> and T<b>3</b>, and ending at either time T<b>4</b> or at a time of position fix PF<b>1</b>.</p>
<p id="p-0074" num="0073">As shown, there are several (sensor) measurements labeled S<b>1</b> through S<b>15</b> gathered as the mobile device is moved along trajectory <b>602</b> within an area of location uncertainty towards an area of location certainty. If the period of time ends at time T<b>4</b>, then in such an example, sensor measurements S<b>1</b> through <b>514</b>, but not S<b>15</b> may be considered. If the period of time ends at a time of PF<b>1</b>, then in such an example, sensor measurements S<b>1</b> through S<b>15</b> may be considered. The sensor measurements represented by S<b>1</b> through <b>315</b> may comprise or be based on various inertial sensor measurements, environmental sensor measurements, and/or user input measurements.</p>
<p id="p-0075" num="0074">Additionally, as shown in <figref idref="DRAWINGS">FIG. 6</figref>, are several (radio signal) measurements labeled R<b>1</b> through R<b>5</b> gathered as the mobile device is moved along trajectory <b>602</b> within an area of location uncertainty towards an area of location certainty. In certain instances, a radio signal measurement may be gathered at or about the same time as a sensor measurement, e.g., see R<b>1</b> and S<b>2</b>, R<b>2</b> and S<b>5</b>, R<b>3</b> and S<b>7</b>, and R<b>5</b> and S<b>13</b>. In other instances, a radio signal measurement may be gathered at a different time, e.g., see R<b>4</b> which is gathered between a time of <b>310</b> being obtained and time T<b>3</b>.</p>
<p id="p-0076" num="0075">As mentioned, in certain example implementations, measurements may be time-stamped and hence trajectory <b>602</b>, for example, recreated with detected movements from time T<b>1</b> at S<b>1</b> to PF<b>1</b>. For example, a filter may be used to estimate one or more trajectories based on measurements in reverse temporal order, e.g., from PF<b>1</b> to S<b>15</b> to S<b>14</b> to S<b>13</b> and/or R<b>5</b>, then to S<b>12</b> and S<b>11</b> and possibly R<b>4</b> or S<b>10</b>, S<b>9</b>, S<b>8</b>, S<b>7</b> and/or R<b>3</b>, and then to S<b>6</b>, S<b>5</b> and/or R<b>2</b>, and then to S<b>4</b> and S<b>3</b>, and possibly R<b>1</b> or S<b>2</b> and then S<b>1</b>.</p>
<p id="p-0077" num="0076">Reference is made next to <figref idref="DRAWINGS">FIG. 7</figref>, which is a diagram illustrating that trajectory <b>602</b> may be related to a layout or floor plan <b>700</b> of a portion of a structure having a exit/entryway with a coordinates at or nearby that of PF<b>1</b>. As graphically shown, trajectory <b>602</b> when aligned to floor plan <b>700</b> using PF<b>1</b> may be oriented as shown by trajectory <b>702</b> in a manner that appears to be a possible match to the areas of floor plan <b>700</b> which appear to be open for navigation by a user. For example, as may be seen in <figref idref="DRAWINGS">FIG. 7</figref>, trajectory <b>702</b> appears to indicate that a user with a mobile device moved though several connected hallways and exited the structure through an exit/entryway. Floor plan <b>700</b> may, for example, be considered in estimating a trajectory based on measurements.</p>
<p id="p-0078" num="0077">With this in mind, as illustrated in a similar <figref idref="DRAWINGS">FIG. 8</figref>, a path of travel <b>802</b> may be determined based on trajectory <b>702</b> and applying constraints of an electronic map and/or routability graph. Hence, the resulting path of travel <b>802</b> may be used for future and/or other navigational and/or positional functions/purposes, and/or affecting an electronic map, a routability graph, a signal or radio heatmap, etc.</p>
<p id="p-0079" num="0078">As illustrated in the examples above, in particular implementations, a location of a mobile device may be modeled as being placed at certain position locations (points) along edges connecting neighboring nodes in a routability graph. Likewise, transitions from an initial position to a subsequent position may be modeled to occur along edges of such a routability graph. In addition, a likelihood model may further characterize possible transitions of a mobile device from an initial position location to a subsequent position location over a time period. In a particular example, a particle filtering model and/or the like may establish a likelihood that a mobile device have a particular subsequent location, velocity and heading that is conditioned on an initial location, velocity and heading.</p>
<p id="p-0080" num="0079">In certain example implementations, it may be possible to identify or estimate a particular travel mode based on certain measurements. For example, measurements may be compared to known signatures to identify or estimate that a mobile device is being transported in a particular manner. For example, it may be inferred that a user is walking or possibly running while carrying a mobile device based on inertial sensor measurements. For example, it may be inferred that a user is riding on an escalator or elevator, or some other machine while carrying a mobile device based on inertial sensor and/or environmental measurements. Thus, a travel mode may be used to estimate a trajectory and/or path of travel.</p>
<p id="p-0081" num="0080">A particle filter and/or the like may, for example, incorporate measurements (e.g., R<b>1</b>-R<b>5</b>, or some subset thereof) obtained from signals received from wireless access point (APs) and/or the like while in an indoor structure. In updating and predicting a state of a mobile device, a particle filter may also incorporate measurements (e.g., S<b>1</b>-S<b>14</b> or S<b>1</b>-S<b>15</b>, or some subset thereof) obtained from various sensors on the mobile device including sensors such as, for example, accelerometers, gyroscopes, magnetometers, cameras, microphones, buttons, just to provide a few examples. In a particular implementation, a particle filter may be used to estimate a past trajectory leading up to or preceding a position fix (e.g., PF<b>1</b>). For example, as illustrated herein, a mobile device may maintain a travel history of measurements obtained from RF receivers and/or various sensors by, for example, time-stamping and storing such measurements in a memory, and a travel log may be established. Subsequent to obtaining the stored measurements, a mobile device may obtain a position fix by, for example, obtaining a SPS signals upon exiting an indoor structure. In certain instances, a position fix may be obtained using other techniques such as indoor positioning techniques discussed above. Using the SPS position fix as a final and known location point in a trajectory, a particle filter may apply past time-stamped measurements to backtrack for tracing an estimated past trajectory leading up to the position fix, as illustrated herein.</p>
<p id="p-0082" num="0081">An additional advantage of the techniques illustrated by the various non-limiting examples herein is that a signal heatmap and/or the like may be established/maintained over time using crowd sourcing.</p>
<p id="p-0083" num="0082">Another advantage of the techniques illustrated by the various non-limiting examples herein is that processing may be offloaded from a mobile device to an external computing device.</p>
<p id="p-0084" num="0083">Yet another advantage of the techniques illustrated by the various non-limiting examples herein is that one or more mobile devices may efficiently map an unknown and/or changing environment. For example, measurement gathering may be triggered in response to a mobile device entering an unmapped indoor structure and/or other like area of location uncertainty. For example, a mobile device may have a suggested route sent to it, which if taken may improve understanding of an indoor structure.</p>
<p id="p-0085" num="0084">Reference throughout this specification to &#x201c;one example&#x201d;, &#x201c;an example&#x201d;, &#x201c;certain examples&#x201d;, or &#x201c;exemplary implementation&#x201d; means that a particular feature, structure, or characteristic described in connection with the feature and/or example may be included in at least one feature and/or example of claimed subject matter. Thus, the appearances of the phrase &#x201c;in one example&#x201d;, &#x201c;an example&#x201d;, &#x201c;in certain examples&#x201d; or &#x201c;in certain implementations&#x201d; or other like phrases in various places throughout this specification are not necessarily all referring to the same feature, example, and/or limitation. Furthermore, the particular features, structures, or characteristics may be combined in one or more examples and/or features.</p>
<p id="p-0086" num="0085">The methodologies described herein may be implemented by various means depending upon applications according to particular features and/or examples. For example, such methodologies may be implemented in hardware, firmware, and/or combinations thereof, along with software. In a hardware implementation, for example, a processing unit may be implemented within one or more application specific integrated circuits (ASICs), digital signal processors (DSPs), digital signal processing devices (DSPDs), programmable logic devices (PLDs), field programmable gate arrays (FPGAs), processors, controllers, micro-controllers, microprocessors, electronic devices, other devices units designed to perform the functions described herein, and/or combinations thereof.</p>
<p id="p-0087" num="0086">In the preceding detailed description, numerous specific details have been set forth to provide a thorough understanding of claimed subject matter. However, it will be understood by those skilled in the art that claimed subject matter may be practiced without these specific details. In other instances, methods and apparatuses that would be known by one of ordinary skill have not been described in detail so as not to obscure claimed subject matter.</p>
<p id="p-0088" num="0087">Some portions of the preceding detailed description have been presented in terms of algorithms or symbolic representations of operations on binary digital electronic signals stored within a memory of a specific apparatus or special purpose computing device or platform. In the context of this particular specification, the term specific apparatus or the like includes a general purpose computer once it is programmed to perform particular functions pursuant to instructions from program software. Algorithmic descriptions or symbolic representations are examples of techniques used by those of ordinary skill in the signal processing or related arts to convey the substance of their work to others skilled in the art. An algorithm is here, and generally, is considered to be a self-consistent sequence of operations or similar signal processing leading to a desired result. In this context, operations or processing involve physical manipulation of physical quantities. Typically, although not necessarily, such quantities may take the form of electrical or magnetic signals capable of being stored, transferred, combined, compared or otherwise manipulated as electronic signals representing information. It has proven convenient at times, principally for reasons of common usage, to refer to such signals as bits, data, values, elements, symbols, characters, terms, numbers, numerals, information, or the like. It should be understood, however, that all of these or similar terms are to be associated with appropriate physical quantities and are merely convenient labels. Unless specifically stated otherwise, as apparent from the following discussion, it is appreciated that throughout this specification discussions utilizing terms such as &#x201c;processing,&#x201d; &#x201c;computing,&#x201d; &#x201c;calculating,&#x201d; &#x201c;determining&#x201d;, &#x201c;establishing&#x201d;, &#x201c;obtaining&#x201d;, &#x201c;identifying&#x201d;, &#x201c;applying,&#x201d; and/or the like refer to actions or processes of a specific apparatus, such as a special purpose computer or a similar special purpose electronic computing device. In the context of this specification, therefore, a special purpose computer or a similar special purpose electronic computing device is capable of manipulating or transforming signals, typically represented as physical electronic or magnetic quantities within memories, registers, or other information storage devices, transmission devices, or display devices of the special purpose computer or similar special purpose electronic computing device. In the context of this particular patent application, the term &#x201c;specific apparatus&#x201d; may include a general purpose computer once it is programmed to perform particular functions pursuant to instructions from program software.</p>
<p id="p-0089" num="0088">The terms, &#x201c;and&#x201d;, &#x201c;or&#x201d;, and &#x201c;and/or&#x201d; as used herein may include a variety of meanings that also are expected to depend at least in part upon the context in which such terms are used. Typically, &#x201c;or&#x201d; if used to associate a list, such as A, B or C, is intended to mean A, B, and C, here used in the inclusive sense, as well as A, B or C, here used in the exclusive sense. In addition, the term &#x201c;one or more&#x201d; as used herein may be used to describe any feature, structure, or characteristic in the singular or may be used to describe a plurality or some other combination of features, structures or characteristics. Though, it should be noted that this is merely an illustrative example and claimed subject matter is not limited to this example.</p>
<p id="p-0090" num="0089">While there has been illustrated and described what are presently considered to be example features, it will be understood by those skilled in the art that various other modifications may be made, and equivalents may be substituted, without departing from claimed subject matter. Additionally, many modifications may be made to adapt a particular situation to the teachings of claimed subject matter without departing from the central concept described herein.</p>
<p id="p-0091" num="0090">Therefore, it is intended that claimed subject matter not be limited to the particular examples disclosed, but that such claimed subject matter may also include all aspects falling within the scope of appended claims, and equivalents thereof.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method comprising, at a mobile device:
<claim-text>in response to a determination that said mobile device is within an area of location uncertainty, gathering a plurality of measurements generated during a period of time;</claim-text>
<claim-text>generating a position fix at or subsequent to an end of said period of time based, at least in part, on one or more signals received at said mobile device within an area of location certainty;</claim-text>
<claim-text>in response to a determination that said mobile device is to report a travel history for at least a portion of said area of location uncertainty:
<claim-text>generating a travel log based, at least in part, on said plurality of measurements and said position fix, and by:
<claim-text>(i) determining an estimated trajectory of said mobile device through at least a portion of said area of location uncertainty within an indoor structure leading to said position fix; and</claim-text>
<claim-text>(ii) generating a received signal heatmap characterizing an environment within said indoor structure at a plurality of points along said estimated trajectory, said received signal heatmap being based, at least in part, on at least a portion of said plurality of measurements indicating signal characteristics for at least one wireless signal received by said mobile device within said indoor structure; and</claim-text>
</claim-text>
<claim-text>transmitting one or more signals representing at least a portion of said travel log to an external device, said portion of said travel log comprising at least said received signal heatmap.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref>, and further comprising at least one of:
<claim-text>determining that said mobile device is within said area of location uncertainty based, at least in part, on an absence of sufficient wireless signaling location information to allow said mobile device to estimate its location to a desired level of accuracy based, at least in part, on one or more wireless signals received at said mobile device; or</claim-text>
<claim-text>determining that said mobile device is within said area of location certainty based, at least in part, on a presence of sufficient wireless signaling location information to allow said mobile device to estimate its location to said desired level of accuracy based, at least in part, on said one or more wireless signals received at said mobile device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref>, and further comprising:
<claim-text>initiating said gathering of said plurality of measurements based, at least in part, on at least one of: a passage of time; at least one signal generated by at least one sensor; or at least one user input.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least one of said plurality of measurements comprises a time-stamped measurement.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method as recited in <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein said time-stamped measurement is based, at least in part, on at least one signal representing at least one of: an inertial sensor measurement; a radio signal measurement; an environmental sensor measurement; or a user input.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method as recited in <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein said radio signal measurement comprises at least one of: a received signal strength indication (RSSI) measurement for at least one signal transmitted by an access point device; a time of flight (TOF) measurement for at least one signal transmitted from an access point (AP) device to said mobile device; a round trip time (RTT) for at least one signal transmitted between said mobile device and said AP device; a pseudorange from said mobile device to said AP device; or an identifier of said AP device.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref>, and further comprising, with said mobile device:
<claim-text>determining an estimated trajectory of said mobile device through at least a portion of said area of location uncertainty leading to said position fix based, at least in part on at least a portion of said plurality of measurements and said position fix.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method as recited in <claim-ref idref="CLM-00007">claim 7</claim-ref>, and further comprising, with said mobile device:
<claim-text>estimating a path of travel of said mobile device with regard to said area of location uncertainty within said indoor structure based, at least in part, on said estimated trajectory.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method as recited in <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein determining said estimated trajectory of said mobile device further comprises:
<claim-text>applying at least said portion of said plurality of measurements and said position fix to a filter.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method as recited in <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein said filter is constrained by at least one of: an electronic map for said indoor structure; or a routability graph for said indoor structure.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least said portion of said travel log comprises at least a portion of said plurality of measurements and said position fix.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least a portion of said travel log comprises at least one of: said estimated trajectory of said mobile device leading to said position fix; or an estimated path of travel of said mobile device within at least a portion of said area of location uncertainty with regard to said indoor structure.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref>, and further comprising, at said mobile device:
<claim-text>determining whether said mobile device is to report said travel history based, at least in part, on at least one of: a number of measurements in said plurality of measurements; a period time associated with said plurality of measurements; a type of at least one of said plurality of measurements; said indoor structure; said position fix; a received message; a flag value; or a threshold value being satisfied.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said external device comprises a crowd-sourcing server capability.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref>, and further comprising, at said mobile device:
<claim-text>indicating to a user of said mobile device a suggested route of travel within at least a portion of said area of location uncertainty within said indoor structure, and wherein at least one of said plurality of measurements is obtained along said suggested route of travel.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method as recited in <claim-ref idref="CLM-00015">claim 15</claim-ref>, and further comprising, at said mobile device:
<claim-text>receiving one or more signals from said external device representing said suggested route of travel within said area of location uncertainty within said indoor structure.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref>, and further comprising, at said mobile device:
<claim-text>receiving one or more signals from said external device representing at least one of: an electronic map for said indoor structure; or a routability graph for said indoor structure.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said one or more signals received at said mobile device comprise satellite positioning system (SPS) signals.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. An apparatus for use in a mobile device, the apparatus comprising:
<claim-text>means for obtaining a plurality of measurements gathered during a period of time, in response to a determination that said mobile device is within an area of location uncertainty;</claim-text>
<claim-text>means for obtaining a position fix at or subsequent to an end of said period of time based, at least in part, on one or more signals received at said mobile device within an area of location certainty;</claim-text>
<claim-text>means for determining whether said mobile device is to report a travel history for at least a portion of said area of location uncertainty;</claim-text>
<claim-text>means for establishing a travel log in response to a determination that said mobile device is to report said travel history, said travel log being based, at least in part, on said plurality of measurements and said position fix, said means for establishing said travel log further comprising:
<claim-text>(i) means for determining an estimated trajectory of said mobile device through at least a portion of said area of location uncertainty within an indoor structure leading to said position fix; and</claim-text>
<claim-text>(ii) means for generating a received signal heatmap characterizing an environment within said indoor structure at a plurality of points along said estimated trajectory, said received signal heatmap being based, at least in part, on at least a portion of said plurality of measurements indicating signal characteristics for at least one wireless signal received by said mobile device within said indoor structure; and</claim-text>
</claim-text>
<claim-text>means for transmitting at least a portion of said travel log to an external device in response to said determination that said mobile device is to report said travel history, said portion of said travel log comprising at least said received signal heatmap.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The apparatus as recited in <claim-ref idref="CLM-00019">claim 19</claim-ref>, and further comprising at least one of:
<claim-text>means for determining that said mobile device is within said area of location uncertainty based, at least in part, on an absence of sufficient wireless signaling location information to allow said mobile device to estimate its location to a desired level of accuracy based, at least in part, on one or more wireless signals received at said mobile device; or</claim-text>
<claim-text>means for determining that said mobile device is within said area of location certainty based, at least in part, on a presence of sufficient wireless signaling location information to allow said mobile device to estimate its location to said desired level of accuracy based, at least in part, on said one or more wireless signals received at said mobile device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The method as recited in <claim-ref idref="CLM-00019">claim 19</claim-ref>, and further comprising:
<claim-text>means for initiating said means for obtaining said plurality of measurements based, at least in part, on at least one of: a passage of time; at least one signal generated by at least one sensor; or at least one user input.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The apparatus as recited in <claim-ref idref="CLM-00019">claim 19</claim-ref>, and further comprising at least one of:
<claim-text>means for obtaining a time-stamped sensor measurement for an inertial sensor;</claim-text>
<claim-text>means for obtaining a time-stamped signal measurement for a radio;</claim-text>
<claim-text>means for obtaining a time-stamped environment measurement for an environmental sensor; or</claim-text>
<claim-text>means for obtaining a time-stamped input measurement for a user input mechanism.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The apparatus as recited in <claim-ref idref="CLM-00019">claim 19</claim-ref>, and further comprising:
<claim-text>means for determining an estimated trajectory of said mobile device through at least a portion of said area of location uncertainty leading to said position fix based, at least in part on at least a portion of said plurality of measurements and said position fix.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. The apparatus as recited in <claim-ref idref="CLM-00023">claim 23</claim-ref>, and further comprising:
<claim-text>means for estimating a path of travel of said mobile device with regard to said area of location uncertainty within said indoor structure based, at least in part, on said estimated trajectory.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The apparatus as recited in <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein said travel log comprises at least one of: at least a portion of said plurality of measurements and said position fix; said estimated trajectory of said mobile device leading to said position fix; or an estimated path of travel of said mobile device with regard to said indoor structure.</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The apparatus as recited in <claim-ref idref="CLM-00019">claim 19</claim-ref>, and further comprising:
<claim-text>means for indicating to a user of said mobile device a suggested route of travel within at least a portion of said area of location uncertainty within an indoor structure, and wherein at least one of said plurality of measurements is obtained along said suggested route of travel.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. The apparatus as recited in <claim-ref idref="CLM-00026">claim 26</claim-ref>, and further comprising:
<claim-text>means for receiving one or more signals from said external device representing said suggested route of travel within at least a portion of said area of location uncertainty within said indoor structure.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00028" num="00028">
<claim-text>28. The apparatus as recited in <claim-ref idref="CLM-00019">claim 19</claim-ref>, and further comprising:
<claim-text>means for receiving one or more signals from said external device representing at least one of: an electronic map for said indoor structure; or a routability graph for said indoor structure.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00029" num="00029">
<claim-text>29. The apparatus as recited in <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein said one or more signals received at said mobile device comprise satellite positioning system (SPS) signals.</claim-text>
</claim>
<claim id="CLM-00030" num="00030">
<claim-text>30. A mobile device comprising:
<claim-text>a network interface</claim-text>
<claim-text>a satellite positioning system (SPS) receiver; and</claim-text>
<claim-text>a processing unit to:
<claim-text>gather a plurality of measurements generated during a period of time in response to a determination that said mobile device is within an area of location uncertainty;</claim-text>
<claim-text>generate a position fix obtained via said SPS receiver at or subsequent to an end of said period of time within an area of location certainty; and</claim-text>
<claim-text>in response to a determination that said mobile device is to report a travel history for at least a portion of said area of location uncertainty:</claim-text>
<claim-text>establish a travel log based, at least in part, on said plurality of measurements and said position fix, and by:
<claim-text>(i) determining an estimated trajectory of said mobile device through at least a portion of said area of location uncertainty within an indoor structure leading to said position fix; and</claim-text>
<claim-text>(ii) generating a received signal heatmap to characterize an environment within said indoor structure at a plurality of points along said estimated trajectory, said received signal heatmap being based, at least in part, on at least a portion of said plurality of measurements indicating signal characteristics for at least one wireless signal received via said network interface within said indoor structure; and</claim-text>
</claim-text>
</claim-text>
<claim-text>initiate transmission of one or more signals representing at least a portion of said travel log via said network interface to an external device; said portion of said travel log comprising at least said received signal heatmap.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00031" num="00031">
<claim-text>31. The mobile device as recited in <claim-ref idref="CLM-00030">claim 30</claim-ref>, said processing unit to further:
<claim-text>initiate gathering of said plurality of measurements based, at least in part, on at least one of: a passage of time; at least one signal generated by at least one sensor; or at least one user input.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00032" num="00032">
<claim-text>32. The mobile device as recited in <claim-ref idref="CLM-00030">claim 30</claim-ref>, wherein at least one of said plurality of measurements comprises a time-stamped measurement.</claim-text>
</claim>
<claim id="CLM-00033" num="00033">
<claim-text>33. The mobile device as recited in <claim-ref idref="CLM-00032">claim 32</claim-ref>, and further comprising at least one of:
<claim-text>an inertial sensor and wherein said time-stamped measurement is based, at least in part, on one or more signals from said inertial sensor;</claim-text>
<claim-text>a radio in said network interface and wherein said time-stamped measurement is based, at least in part, on one or more signals from said radio;</claim-text>
<claim-text>an environmental sensor and wherein said time-stamped measurement is based, at least in part, on one or more signals from said environmental sensor; or</claim-text>
<claim-text>a user input mechanism and wherein said time-stamped measurement is based, at least in part, on one or more signals from said user input mechanism.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00034" num="00034">
<claim-text>34. The mobile device as recited in <claim-ref idref="CLM-00033">claim 33</claim-ref>, wherein said time-stamped measurement is based, at least in part, on said one or more signals from said radio and comprises at least one of: a received signal strength indication (RSSI) measurement for at least one signal transmitted by an access point device; a time of flight (TOF) measurement for at least one signal transmitted from an access point (AP) device to said mobile device; a round trip time (RTT) for at least one signal transmitted between said mobile device and said AP device; a pseudorange from said mobile device to said AP device; or an identifier of said AP device.</claim-text>
</claim>
<claim id="CLM-00035" num="00035">
<claim-text>35. The mobile device as recited in <claim-ref idref="CLM-00030">claim 30</claim-ref>, said processing unit to further:
<claim-text>determine said estimated trajectory of said mobile device through at least a portion of said area of location uncertainty leading to said position fix based, at least in part on at least a portion of said plurality of measurements and said position fix.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00036" num="00036">
<claim-text>36. The mobile device as recited in <claim-ref idref="CLM-00035">claim 35</claim-ref>, said processing unit to further:
<claim-text>estimate a path of travel of said mobile device with regard to said area of location uncertainty within said indoor structure based, at least in part, on said estimated trajectory.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00037" num="00037">
<claim-text>37. The mobile device as recited in <claim-ref idref="CLM-00036">claim 36</claim-ref>, said processing unit to further:
<claim-text>determine said estimated trajectory of said mobile device by applying at least said portion of said plurality of measurements and said position fix to a filter.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00038" num="00038">
<claim-text>38. The mobile device as recited in <claim-ref idref="CLM-00037">claim 37</claim-ref>, wherein said filter is constrained by at least one of: an electronic map for said indoor structure; or a routability graph for said indoor structure.</claim-text>
</claim>
<claim id="CLM-00039" num="00039">
<claim-text>39. The mobile device as recited in <claim-ref idref="CLM-00030">claim 30</claim-ref>, said processing unit to further:
<claim-text>determine that said mobile device is within said area of location uncertainty based, at least in part, on an absence of sufficient wireless signaling location information to allow said mobile device to estimate its location to a desired level of accuracy based, at least in part, on one or more wireless signals received at said mobile device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00040" num="00040">
<claim-text>40. The mobile device as recited in <claim-ref idref="CLM-00039">claim 39</claim-ref>, wherein at least said portion of said travel log comprises at least a portion of said plurality of measurements and said position fix.</claim-text>
</claim>
<claim id="CLM-00041" num="00041">
<claim-text>41. The mobile device as recited in <claim-ref idref="CLM-00039">claim 39</claim-ref>, wherein at least a portion of said travel log comprises at least one of: said estimated trajectory of said mobile device leading to said position fix; or an estimated path of travel of said mobile device within at least a portion of said area of location uncertainty with regard to said indoor structure.</claim-text>
</claim>
<claim id="CLM-00042" num="00042">
<claim-text>42. The mobile device as recited in <claim-ref idref="CLM-00039">claim 39</claim-ref>, said processing unit to further:
<claim-text>determine whether to report said travel history based, at least in part, on at least one of: a number of measurements in said plurality of measurements; a period time associated with said plurality of measurements; a type of at least one of said plurality of measurements; said indoor structure; said position fix; a received message; a flag value; or a threshold value being satisfied.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00043" num="00043">
<claim-text>43. The mobile device as recited in <claim-ref idref="CLM-00039">claim 39</claim-ref>, wherein said external device comprises a crowd-sourcing server capability.</claim-text>
</claim>
<claim id="CLM-00044" num="00044">
<claim-text>44. The mobile device as recited in <claim-ref idref="CLM-00039">claim 39</claim-ref>, and further comprising:
<claim-text>an output device; and</claim-text>
<claim-text>said processing unit to further indicate, via said output device, a suggested route of travel within at least a portion of said area of location uncertainty within said indoor structure, and wherein at least one of said plurality of measurements is obtained along said suggested route of travel.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00045" num="00045">
<claim-text>45. The mobile device as recited in <claim-ref idref="CLM-00044">claim 44</claim-ref>, said processing unit to further:
<claim-text>obtain said suggested route of travel associated with said indoor structure via said network interface.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00046" num="00046">
<claim-text>46. The mobile device as recited in <claim-ref idref="CLM-00039">claim 39</claim-ref>, said processing unit to further:
<claim-text>obtain, via said network interface, at least one of: an electronic map for said indoor structure; or a routability graph for said indoor structure.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00047" num="00047">
<claim-text>47. The mobile device as recited in <claim-ref idref="CLM-00039">claim 39</claim-ref>, wherein said plurality of measurements have been gathered over a period of time while said mobile device is within said indoor structure.</claim-text>
</claim>
<claim id="CLM-00048" num="00048">
<claim-text>48. An article comprising:
<claim-text>a non-transitory computer readable medium having stored therein computer implementable instructions that are executable by a processing unit in a mobile device to:
<claim-text>obtain a plurality of measurements gathered during a period of time, in response to a determination that said mobile device is within an area of location uncertainty;</claim-text>
<claim-text>obtain a position fix at or subsequent to an end of said period of time based, at least in part, on one or more signals received at said mobile device within an area of location certainty;</claim-text>
<claim-text>determine whether said mobile device is to report a travel history for at least a portion of said area of location uncertainty;</claim-text>
<claim-text>establish a travel log in response to a determination that said mobile device is to report said travel history, said travel log being based, at least in part, on said plurality of measurements and said position fix, and by:
<claim-text>(i) determining an estimated trajectory of said mobile device through at least a portion of said area of location uncertainty within an indoor structure leading to said position fix; and</claim-text>
<claim-text>(ii) generating a received signal heatmap characterizing an environment within said indoor structure at a plurality of points along said estimated trajectory, said received signal heatmap being based, at least in part, on at least a portion of said plurality of measurements indicating signal characteristics for at least one wireless signal received by said mobile device within said indoor structure; and</claim-text>
<claim-text>initiate transmission of at least a portion of said travel log to an external device in response to said determination that said mobile device is to report said travel history, said portion of said travel log comprising at least said received signal heatmap.</claim-text>
</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00049" num="00049">
<claim-text>49. The article as recited in <claim-ref idref="CLM-00048">claim 48</claim-ref>, said computer implementable instructions being further executable by said processing unit to:
<claim-text>determine that said mobile device is within said area of location uncertainty based, at least in part, on an absence of sufficient wireless signaling location information to allow said mobile device to estimate its location to a desired level of accuracy based, at least in part, on one or more wireless signals received at said mobile device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00050" num="00050">
<claim-text>50. The article as recited in <claim-ref idref="CLM-00048">claim 48</claim-ref>, said computer implementable instructions being further executable by said processing unit to:
<claim-text>initiate said obtaining of said plurality of measurements based, at least in part, on at least one of: a passage of time; at least one signal generated by at least one sensor; or at least one user input.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00051" num="00051">
<claim-text>51. The article as recited in <claim-ref idref="CLM-00048">claim 48</claim-ref>, said computer implementable instructions being further executable by said processing unit to:
<claim-text>obtain a time-stamped sensor measurement for an inertial sensor in said mobile device;</claim-text>
<claim-text>obtain a time-stamped signal measurement for a radio in said mobile device;</claim-text>
<claim-text>obtain a time-stamped environment measurement for an environmental sensor in said mobile device; or</claim-text>
<claim-text>obtain a time-stamped input measurement for a user input mechanism in said mobile device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00052" num="00052">
<claim-text>52. The article as recited in <claim-ref idref="CLM-00048">claim 48</claim-ref>, said computer implementable instructions being further executable by said processing unit to:
<claim-text>determine an estimated trajectory of said mobile device through at least a portion of said area of location uncertainty leading to said position fix based, at least in part on at least a portion of said plurality of measurements and said position fix.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00053" num="00053">
<claim-text>53. The article as recited in <claim-ref idref="CLM-00052">claim 52</claim-ref>, said computer implementable instructions being further executable by said processing unit to:
<claim-text>estimate a path of travel of said mobile device with regard to said area of location uncertainty within said indoor structure based, at least in part, on said estimated trajectory.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00054" num="00054">
<claim-text>54. The article as recited in <claim-ref idref="CLM-00048">claim 48</claim-ref>, wherein said travel log comprises at least one of: at least a portion of said plurality of measurements and said position fix; said estimated trajectory of said mobile device within at least a portion of said area of location uncertainty leading to said position fix; or an estimated path of travel of said mobile device with regard to said indoor structure.</claim-text>
</claim>
<claim id="CLM-00055" num="00055">
<claim-text>55. The article as recited in <claim-ref idref="CLM-00048">claim 48</claim-ref>, said computer implementable instructions being further executable by said processing unit to:
<claim-text>initiate to a user of said mobile device an indication of a suggested route of travel within at least a portion of said area of location uncertainty within said indoor structure, and wherein at least one of said plurality of measurements is obtained along said suggested route of travel.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00056" num="00056">
<claim-text>56. The article as recited in <claim-ref idref="CLM-00055">claim 55</claim-ref>, said computer implementable instructions being further executable by said processing unit to:
<claim-text>obtain said suggested route of travel within said area of location uncertainty within said indoor structure from said external device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00057" num="00057">
<claim-text>57. The article as recited in <claim-ref idref="CLM-00048">claim 48</claim-ref>, said computer implementable instructions being further executable by said processing unit to:
<claim-text>obtain at least one of: an electronic map for said indoor structure; or a routability graph for said indoor structure.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00058" num="00058">
<claim-text>58. The article as recited in <claim-ref idref="CLM-00048">claim 48</claim-ref>, wherein said one or more signals received at said mobile device comprise satellite positioning system (SPS) signals.</claim-text>
</claim>
</claims>
</us-patent-grant>
