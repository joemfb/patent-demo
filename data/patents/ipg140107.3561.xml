<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624626-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624626</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13295312</doc-number>
<date>20111114</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>01</class>
<subclass>L</subclass>
<main-group>23</main-group>
<subgroup>538</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>01</class>
<subclass>L</subclass>
<main-group>21</main-group>
<subgroup>50</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>326 37</main-classification>
<further-classification>326 41</further-classification>
<further-classification>257777</further-classification>
</classification-national>
<invention-title id="d2e43">3D IC structure and method</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5498975</doc-number>
<kind>A</kind>
<name>Cliff et al.</name>
<date>19960300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>326 10</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6271587</doc-number>
<kind>B1</kind>
<name>Patti</name>
<date>20010800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2009/0121736</doc-number>
<kind>A1</kind>
<name>Jenkins et al.</name>
<date>20090500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>324763</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2010/0020585</doc-number>
<kind>A1</kind>
<name>Rajan</name>
<date>20100100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>365 63</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2011/0090004</doc-number>
<kind>A1</kind>
<name>Schuetz</name>
<date>20110400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2011/0110064</doc-number>
<kind>A1</kind>
<name>Foster, Sr. et al.</name>
<date>20110500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2011/0110065</doc-number>
<kind>A1</kind>
<name>Foster et al.</name>
<date>20110500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>361803</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2011/0131391</doc-number>
<kind>A1</kind>
<name>Barowski et al.</name>
<date>20110600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2012/0124532</doc-number>
<kind>A1</kind>
<name>Coteus et al.</name>
<date>20120500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>716104</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00010">
<othercit>Shamshri, S. et al., &#x201c;Modeling Yield, Cost, and Quality of a Spare-enhanced Multi-core Chip&#x201d;, IEEE Transactions on Computers, 2009, pp. 1-14.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>326 37</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>326 39</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>326 40</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>326 41</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>326 46</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>326 47</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>257773</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>257777</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>365 63</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>20</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130120021</doc-number>
<kind>A1</kind>
<date>20130516</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Chi</last-name>
<first-name>Shyh-An</first-name>
<address>
<city>Hsinchu</city>
<country>TW</country>
</address>
</addressbook>
<residence>
<country>TW</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Chi</last-name>
<first-name>Shyh-An</first-name>
<address>
<city>Hsinchu</city>
<country>TW</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Duane Morris LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Koffs</last-name>
<first-name>Steven E.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Taiwan Semiconductor Manufacturing Co., Ltd.</orgname>
<role>03</role>
<address>
<city>Hsin-chu</city>
<country>TW</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Chang</last-name>
<first-name>Daniel D</first-name>
<department>2819</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An apparatus comprises a first integrated circuit (IC) die, and a second IC die stacked on the first IC die. The first and second IC dies are operational independently of each other. Each respective one of the first and second IC dies has: at least one circuit for performing a function; an operation block coupled to selectively disconnect the circuit from power; and an output enable block coupled to selectively connect the circuit to at least one data bus.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="114.22mm" wi="196.26mm" file="US08624626-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="180.09mm" wi="160.87mm" orientation="landscape" file="US08624626-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="217.85mm" wi="173.65mm" orientation="landscape" file="US08624626-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="227.50mm" wi="158.24mm" orientation="landscape" file="US08624626-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="215.31mm" wi="145.46mm" orientation="landscape" file="US08624626-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="201.85mm" wi="116.67mm" orientation="landscape" file="US08624626-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="240.96mm" wi="149.35mm" orientation="landscape" file="US08624626-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="172.64mm" wi="98.55mm" file="US08624626-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="158.50mm" wi="106.43mm" orientation="landscape" file="US08624626-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD</heading>
<p id="p-0002" num="0001">The present disclosure relates to semiconductor integrated circuits (IC) generally, and more particularly to packages including stacked dies, also referred to as 3D ICs.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">A 3D IC package contains two or more integrated circuit dies (ICs) stacked vertically so that they occupy less space. Connections between the vertically stacked ICs may be made using through-semiconductor-vias, also referred to as through-silicon-vias (TSV), which pass through the entire thickness of a die, permitting connections between conductive patterns on the front face and back face of the die. The resulting package has no added length or width.</p>
<p id="p-0004" num="0003">3D IC packages present new challenges for fabrication and verification. Assuming that only known good dies are included in the 3D IC package, one of the stacked dies may be damaged during the packaging process. Once the stacked dies have been incorporated into an encapsulated 3D IC package, it is no longer practical to repair or replace one of the dies.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0005" num="0004"><figref idref="DRAWINGS">FIG. 1A</figref> is an example of a 3D IC mounted on a silicon interposer.</p>
<p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. 1B</figref> is an example of a 3D IC.</p>
<p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram of an embodiment of one of the dies of <figref idref="DRAWINGS">FIGS. 1A and 1B</figref>.</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram of an embodiment of the control logic of <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 4</figref> is a diagram of the bus access switch of <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 5</figref> is a diagram of the die stack of <figref idref="DRAWINGS">FIG. 1A</figref>, with a failed (or spare) middle die.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIGS. 6A to 6G</figref> are timing diagrams showing the clock, operation block, and output enable signal values.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 7</figref> is a block diagram of a second embodiment of one of the IC dies of <figref idref="DRAWINGS">FIG. 1A</figref> or <b>1</b>B.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 8</figref> is a plan view of the IC die of <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 9</figref> is a block diagram of the decoding logic of <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 10</figref> is a block diagram of a embodiment of a die stack, in which the operation block of the dies include latches.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 11</figref> is a detailed block diagram of one of the dies of <figref idref="DRAWINGS">FIG. 10</figref>.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 12</figref> is a flow chart of a method.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 13</figref> shows contact maps for power and signals for two dies.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0019" num="0018">This description of the exemplary embodiments is intended to be read in connection with the accompanying drawings, which are to be considered part of the entire written description. In the description, relative terms such as &#x201c;lower,&#x201d; &#x201c;upper,&#x201d; &#x201c;horizontal,&#x201d; &#x201c;vertical,&#x201d;, &#x201c;above,&#x201d; &#x201c;below,&#x201d; &#x201c;up,&#x201d; &#x201c;down,&#x201d; &#x201c;top&#x201d; and &#x201c;bottom&#x201d; as well as derivative thereof (e.g., &#x201c;horizontally,&#x201d; &#x201c;downwardly,&#x201d; &#x201c;upwardly,&#x201d; etc.) should be construed to refer to the orientation as then described or as shown in the drawing under discussion. These relative terms are for convenience of description and do not require that the apparatus be constructed or operated in a particular orientation. Terms concerning attachments, coupling and the like, such as &#x201c;connected&#x201d; and &#x201c;interconnected,&#x201d; refer to a relationship wherein structures are secured or attached to one another either directly or indirectly through intervening structures, unless expressly described otherwise.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIGS. 1A and 1B</figref> are block diagrams of an apparatus <b>100</b> or <b>180</b>. The apparatus <b>100</b>, <b>180</b> includes a plurality of stacked integrated circuit (IC) dies <b>110</b>, <b>120</b>, <b>130</b> in 3D IC package <b>160</b>, <b>170</b>. In some embodiments, two of the dies are similarly configured, so that one of the two dies can be substituted for the other in the event of a failure, and the failed die can be bypassed. A variety of die types may be included, depending on the type of apparatus <b>100</b> and functions performed by the apparatus. For example, the apparatus <b>100</b>, <b>180</b> may be the main processor of a laptop computer, a tablet computer, a smart phone, an audio/video player, a cellular phone, a video game console, a television, a radio, or other electronic device.</p>
<p id="p-0021" num="0020">In some embodiments (e.g., <figref idref="DRAWINGS">FIG. 1B</figref>), the apparatus <b>180</b> is a complete system in package (SiP), in which IC <b>150</b> is a general purpose processor, and ICs <b>110</b>, <b>120</b> and <b>130</b> may be any combination of dynamic random access memory (DRAM), a graphics processor, an audio/video processor, a digital radio receiver, a flash memory (or other solid state memory), a communications processor (which may include a WiFi (802.11) interface, a global positioning satellite (GPS) receiver, a Bluetooth interface, a second processor, a power management unit or other communications interface used by the apparatus <b>100</b>. These die types are only listed as examples, and are not exclusive of other types of dies. Although <figref idref="DRAWINGS">FIG. 1B</figref> shows a 3D IC <b>180</b> having four stacked dies <b>150</b>, <b>110</b>, <b>120</b>, <b>130</b>, the 3D IC may have any desired number of dies to perform the functions of the product in which the 3D IC is installed.</p>
<p id="p-0022" num="0021">In other embodiments (e.g., <figref idref="DRAWINGS">FIG. 1A</figref>), the 3D IC package <b>160</b> containing IC dies <b>110</b>, <b>120</b>, <b>130</b> is optionally mounted to a semiconductor interposer (e.g., a silicon interposer) <b>140</b>, in a 2.5D IC configuration. The interposer <b>140</b> has one or more additional IC dies <b>150</b>, <b>158</b> mounted horizontally from the 3D IC <b>160</b>. In one non-limiting example, the IC die <b>150</b> is the main system processor, die <b>158</b> is a system bus, and IC dies <b>110</b>, <b>120</b> and <b>130</b> are three identical DRAM dies. In some examples, the IC dies <b>110</b>, <b>120</b> and <b>130</b> are three different SRAM dies with similar contact maps for power and signals. For example, die <b>110</b>, <b>120</b> and <b>130</b> may contain 1M bits, 2M bits, 4M bits of SRAM respectively, but their contact maps for power and signals are similar. For example, <figref idref="DRAWINGS">FIG. 13</figref> shows two dies <b>110</b>, <b>120</b>, in which the first die <b>110</b> has a contact map for power P and signals S; and the second die <b>120</b> has a contact map for power P and signals S that matches the contact map of the first die.</p>
<p id="p-0023" num="0022">For ease of explanation, an example below refers to the three DRAM dies <b>110</b>, <b>120</b> and <b>130</b> and a central processing unit (CPU) or finite state machine (FSM) <b>150</b>. However, the discussion is not limited to the 2.5D IC configuration of <figref idref="DRAWINGS">FIG. 1A</figref>, and the dies <b>110</b>, <b>120</b>, <b>130</b> are not limited to DRAM. For example, the discussion below also applies to a stack <b>170</b> of four dies, <b>150</b>, <b>110</b>, <b>120</b>, <b>130</b>, (<figref idref="DRAWINGS">FIG. 1B</figref>) in which the bottom die <b>150</b> is the core processor, and the dies <b>110</b>, <b>120</b> and <b>130</b> are stacked on die <b>150</b> in a single 3D IC SiP configuration <b>180</b>.</p>
<p id="p-0024" num="0023">The IC dies <b>110</b>, <b>120</b>, <b>130</b> are connected to each other by electrical connections, such as through substrate vias (TSV) <b>112</b>, <b>122</b>, <b>132</b>, (also referred to as through-silicon vias in the case where the IC dies are fabricated on a silicon substrate), metal patterns, conductive vias, redistribution layer or the like. The discussion herein applies to IC dies fabricated on any type of semiconductor substrate. Although <figref idref="DRAWINGS">FIG. 1</figref> only shows three electrical connections <b>112</b>, <b>122</b>, <b>132</b> per die, this is just for illustrative purpose. Any number of electrical connections may be provided for power, ground and signals, where the signals may include clock, device enable signals and data.</p>
<p id="p-0025" num="0024">Referring now to <figref idref="DRAWINGS">FIG. 1B</figref>, an apparatus comprises N stacked integrated circuit (IC) dies <b>110</b>, <b>120</b>, <b>130</b>, where N is an integer greater than one. Each one of the IC dies <b>110</b>, <b>120</b>, <b>130</b> may be operated independently of each other IC die. For example, two of the three dies <b>110</b>, <b>120</b> and <b>130</b> may be operating, while the remaining one of the three dies is bypassed. A variety of means may be used to bypass one of the dies, including but not limited to disconnecting the one die from power, or clock gating of functional circuitry in the die.</p>
<p id="p-0026" num="0025">By way of example, <figref idref="DRAWINGS">FIG. 2</figref> schematically shows stacked die <b>110</b>. Stacked dies <b>120</b> and <b>130</b>, although not shown in <figref idref="DRAWINGS">FIG. 2</figref>, may include the same components shown in <figref idref="DRAWINGS">FIG. 2</figref>. IC die <b>110</b> has: at least one circuit <b>118</b> (which may include memory <b>118</b><i>a</i>) for performing a function; an output enable block <b>111</b> coupled to selectively connect the circuit <b>118</b> to at least one data bus <b>155</b>, the output enable block <b>111</b> in IC die <b>110</b> comprising N output enable electrical connections <b>112</b><i>a</i>-<b>112</b><i>c</i>, one of the output enable electrical connections <b>112</b><i>c </i>corresponding to that one IC die. Control logic <b>114</b> is coupled to the circuit <b>118</b> and to the output enable electrical connections <b>112</b><i>c </i>corresponding to the one IC die. The control logic <b>114</b> is configured so that the circuit <b>118</b> only outputs data to the at least one data bus <b>155</b> when the output enable electrical connections <b>112</b><i>c </i>of the one IC die <b>110</b> carries a signal having a predetermined logic state (e.g., logic high).</p>
<p id="p-0027" num="0026">The functional circuitry block <b>118</b> performs the functions of the die. For example, if IC die <b>110</b> is a DRAM die, then the functional circuitry block <b>118</b> contains the DRAM array. In some embodiments, an optional built-in self test (BIST) block <b>115</b> is provided, corresponding to the functional circuitry block <b>118</b>. The BIST block <b>115</b> tests the functional circuitry block <b>118</b>, and reports the result to the CPU or FSM <b>150</b>. In other embodiments, software test patterns can be used to test the functionalities of functional circuitry block <b>118</b>.</p>
<p id="p-0028" num="0027">An operation block <b>113</b> is coupled to selectively bypass a corresponding die from normal operations of the stacked dies. In the example of <figref idref="DRAWINGS">FIG. 2</figref>, the respective operation block <b>113</b> of die <b>110</b> has a plurality of electrical connections <b>112</b><i>d</i>-<b>112</b><i>f </i>through the respective IC die and coupled to the circuit <b>118</b>, such that when a first one of the electrical connections <b>112</b><i>d </i>has a first signal with a first predetermined logic state, the corresponding die <b>110</b> is bypassed from the normal operations of the stacked dies.</p>
<p id="p-0029" num="0028">In some embodiments, one of the dies <b>110</b>, <b>120</b>, <b>130</b> is redundant. The redundant die is similar with the N stacked integrated circuit dies, so that at any given time, one of the dies is bypassed, and the other dies are operational. In other embodiments, the apparatus includes at least four IC dies <b>150</b>, <b>110</b>, <b>120</b>, <b>130</b>, of which at least two of the IC dies are redundant dies, and the operation block is configured to be coupled to selectively bypass at least two dies from operations.</p>
<p id="p-0030" num="0029">In some embodiments, to bypass a die from the normal operations of the stacked dies, that die is removed from the power (Vdd) that is provided for the functional circuitry <b>118</b>. For example, in some embodiments, the first one of the electrical connections <b>112</b><i>d </i>is connected to the gate(s) of one or more P-type MOSFET <b>119</b>. The source of the transistor is coupled to the circuit of functional circuitry <b>118</b>, and a drain of the transistor is coupled to a supply voltage. When the gate of transistor <b>119</b> is in the logic low state, the transistor is turned on, and current flows from the source to the drain. If, however, the first signal on electrical connections <b>112</b><i>d </i>is set to a logic high state, the transistor is turned off, and no current flows.</p>
<p id="p-0031" num="0030">Although <figref idref="DRAWINGS">FIG. 2</figref> shows P-type MOSFET transistors <b>119</b> used for selectively disconnecting the functional circuitry <b>118</b> from Vdd, other types of transistors or other types of switches may be used. For example, one of ordinary skill in the field can readily construct a configuration using N-type MOSFETs.</p>
<p id="p-0032" num="0031">The operation block <b>113</b> in each IC die is configured with N operation block electrical connections to control N IC dies, where N is an integer. For example, with three IC dies, <b>110</b>, <b>120</b>, <b>130</b>, there are three electrical connections <b>112</b><i>d</i>, <b>112</b><i>e</i>, <b>112</b><i>f</i>. Thus, if there are more than three stacked dies, the number of electrical connections in the operation block <b>113</b> is increased accordingly. In some embodiments, the operation block <b>113</b> in each IC die is configured with M electrical connections to control N IC stacked dies, where M is larger than N. For example, the operation block <b>113</b> in each IC die is configured with three electrical connections to control two IC stacked dies to meet specific system/functional requirements and re-use the existing IC die.</p>
<p id="p-0033" num="0032">Each operation block electrical connections <b>112</b><i>d</i>-<b>112</b><i>f </i>in each IC die <b>110</b>, <b>120</b>, <b>130</b> is configured to connect to a successive operation block electrical connections in an adjacent one of the IC dies. Thus, if a logic high (&#x201c;1&#x201d;) signal is provided on the electrical connections <b>112</b><i>d </i>of the die <b>110</b>, the logic high signal is transmitted to the electrical connections <b>112</b><i>f </i>of die <b>120</b> and to the TSV <b>112</b><i>e </i>of die <b>130</b>. One of ordinary skill in the art appreciates that the rotation can be round-robin in either direction. For example, in an alternative embodiment (not shown), if a logic high (&#x201c;1&#x201d;) signal is provided on the electrical connections <b>112</b><i>d </i>of the die <b>110</b>, the logic high signal is transmitted to the electrical connections <b>112</b><i>e </i>of die <b>120</b> and to the electrical connections <b>112</b><i>f </i>of die <b>130</b>.</p>
<p id="p-0034" num="0033">Thus, within each of the stacked dies <b>110</b>, <b>120</b>, <b>130</b> in <figref idref="DRAWINGS">FIG. 1</figref>, the signal level of the electrical connections <b>112</b><i>d </i>(most significant bit, or MSB) in <figref idref="DRAWINGS">FIG. 2</figref> determines whether the corresponding die is selectively bypassed from normal operations of the stacked dies. For example, values of 1,0,0 in electrical connections <b>112</b><i>d</i>, <b>112</b><i>e</i>, <b>112</b><i>f </i>respectively causes that die being bypassed from normal operations of the stacked dies.</p>
<p id="p-0035" num="0034">A full table of the state and operation switch value for each die, with one of the stacked dies bypassed from normal operations, is provided in Table 1. Note that Table 1 presents three different cases, with a different die bypassed from normal operations in each case.</p>
<p id="p-0036" num="0035">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="1" colwidth="63pt" align="center"/>
<colspec colname="2" colwidth="35pt" align="left"/>
<colspec colname="3" colwidth="119pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="3" rowsep="1">TABLE 1</entry>
</row>
<row>
<entry namest="1" nameend="3" align="center" rowsep="1"/>
</row>
<row>
<entry>Die</entry>
<entry>Die State</entry>
<entry>Operation Block Values</entry>
</row>
<row>
<entry namest="1" nameend="3" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>130</entry>
<entry>functional</entry>
<entry>010</entry>
</row>
<row>
<entry>120</entry>
<entry>functional</entry>
<entry>001</entry>
</row>
<row>
<entry>110</entry>
<entry>bypassed</entry>
<entry>100</entry>
</row>
<row>
<entry>130</entry>
<entry>functional</entry>
<entry>001</entry>
</row>
<row>
<entry>120</entry>
<entry>bypassed</entry>
<entry>100</entry>
</row>
<row>
<entry>110</entry>
<entry>functional</entry>
<entry>010</entry>
</row>
<row>
<entry>130</entry>
<entry>bypassed</entry>
<entry>100</entry>
</row>
<row>
<entry>120</entry>
<entry>functional</entry>
<entry>010</entry>
</row>
<row>
<entry>110</entry>
<entry>functional</entry>
<entry>001</entry>
</row>
<row>
<entry namest="1" nameend="3" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0037" num="0036">Although an example is provided in which the MSB op[<b>2</b>] of the operation block <b>113</b> is used to bypass the die, in other embodiments, any predetermined bit of the operation switch may be used.</p>
<p id="p-0038" num="0037">Although the functional circuitry <b>118</b> of one of the dies may be bypassed by disconnecting that circuitry from Vdd, the electrical connections <b>112</b><i>a</i>-<b>112</b><i>f </i>of that die continue to conduct signals to an adjacent die above. For example, when the functional circuitry <b>118</b> of die <b>110</b> is disconnected from Vdd, the electrical connections <b>112</b><i>a</i>-<b>112</b><i>f </i>pass the output enable and operation block signals to die <b>120</b>, which in turn passes the signals to die <b>130</b>.</p>
<p id="p-0039" num="0038">In the embodiment of <figref idref="DRAWINGS">FIG. 2</figref>, the die <b>110</b> further includes an output enable block <b>111</b>. In <figref idref="DRAWINGS">FIGS. 1A</figref>, <b>1</b>B and <figref idref="DRAWINGS">FIG. 2</figref>, the IC dies <b>110</b>, <b>120</b>, <b>130</b> share a common data bus <b>155</b>. An output enable block <b>111</b> is coupled to selectively connect the circuit of functional circuitry block <b>118</b> to at least one data bus <b>155</b> by way of the contact bump <b>117</b>.</p>
<p id="p-0040" num="0039">The respective output enable block <b>111</b> has a plurality of electrical connections <b>112</b><i>a</i>-<b>112</b><i>c </i>through each respective IC die <b>110</b>, <b>120</b>, <b>130</b>. Each IC die <b>110</b>, <b>120</b>, <b>130</b> further comprises respective control logic <b>114</b> coupled to receive an output enable signal, for example oe[0] in <figref idref="DRAWINGS">FIG. 2</figref>, from the respective output enable block <b>111</b> of that IC die. Each IC die is configured, such that the circuit is only connected to the at least one data bus when a respective bit of the output enable signal corresponding to that IC die has a predetermined logic state (e.g., logic high). For example, the functional circuitry <b>118</b> only outputs data to the at least one data bus <b>155</b> when the output enable electrical connections <b>112</b><i>c </i>of the one stacked die <b>110</b> carries a signal having a logic high level.</p>
<p id="p-0041" num="0040">The data bus <b>155</b> may be integrated within the processor <b>150</b>, or one or more separate data bus chips <b>158</b> may be provided. The output enable block <b>111</b> enables bus access, one at a time, to each of the dies <b>110</b>, <b>120</b>, <b>130</b> for which the corresponding die is not bypassed. In the example, bus access is provided to each die <b>110</b>, <b>120</b>, <b>130</b> in round robin fashion.</p>
<p id="p-0042" num="0041">Each output enable block electrical connections <b>112</b><i>a</i>-<b>112</b><i>c </i>in each IC die <b>110</b>, <b>120</b>, <b>130</b> is configured to connect to a successive output enable block TSV in an adjacent one of the IC dies. Thus, if a logic high (&#x201c;1&#x201d;) signal is provided on the TSV <b>112</b><i>c </i>of the die <b>110</b>, the logic high signal is transmitted to the TSV <b>112</b><i>b </i>of die <b>120</b> and to the TSV <b>112</b><i>a </i>of die <b>130</b>. One of ordinary skill in the art appreciates that the rotation can be round-robin in either direction. For example, in an alternative embodiment (not shown), if a logic high (&#x201c;1&#x201d;) signal is provided on the electrical connections <b>112</b><i>c </i>of the die <b>110</b>, the logic high signal is transmitted to the electrical connections <b>112</b><i>a </i>of die <b>120</b> and to the electrical connections <b>112</b><i>b </i>of die <b>130</b>.</p>
<p id="p-0043" num="0042">Thus, within each of the stacked dies <b>110</b>, <b>120</b>, <b>130</b> in <figref idref="DRAWINGS">FIG. 1</figref>, the signal level of the output enable electrical connections <b>112</b><i>c </i>(least significant bit, or LSB) in <figref idref="DRAWINGS">FIG. 2</figref> determines whether the functional circuitry <b>118</b> in that die is selected to communicate with the shared data bus <b>155</b>. For example, values of 0, 0, 1 in electrical connections <b>112</b><i>a</i>, <b>112</b><i>b</i>, <b>112</b><i>c </i>respectively, and cause the functional circuitry <b>118</b> within that die to be provided bus access.</p>
<p id="p-0044" num="0043">The output enable block values are shifted among the active IC dies during successive cycles. Table 2 shows the values during two successive cycles. Note that Table 2 presents three different cases, with a die being bypassed from normal operations of the stacked die in each case. Thus for a given case, during one of the cycles, a value, based on different cases, is chosen to be applied on output enable block <b>111</b> of stacked die <b>110</b>.</p>
<p id="p-0045" num="0044">
<tables id="TABLE-US-00002" num="00002">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="1" colwidth="28pt" align="center"/>
<colspec colname="2" colwidth="42pt" align="left"/>
<colspec colname="3" colwidth="70pt" align="center"/>
<colspec colname="4" colwidth="77pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="4" rowsep="1">TABLE 2</entry>
</row>
<row>
<entry namest="1" nameend="4" align="center" rowsep="1"/>
</row>
<row>
<entry/>
<entry/>
<entry>Output Enable Block</entry>
<entry>Output Enable Block</entry>
</row>
<row>
<entry>Die</entry>
<entry>Die State</entry>
<entry>Values (1<sup>st </sup>cycle)</entry>
<entry>Values (2<sup>nd </sup>cycle)</entry>
</row>
<row>
<entry namest="1" nameend="4" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>130</entry>
<entry>functional</entry>
<entry>010</entry>
<entry>001</entry>
</row>
<row>
<entry>120</entry>
<entry>functional</entry>
<entry>001</entry>
<entry>100</entry>
</row>
<row>
<entry>110</entry>
<entry>bypassed</entry>
<entry>100</entry>
<entry>010</entry>
</row>
<row>
<entry>130</entry>
<entry>functional</entry>
<entry>100</entry>
<entry>001</entry>
</row>
<row>
<entry>120</entry>
<entry>bypassed</entry>
<entry>010</entry>
<entry>100</entry>
</row>
<row>
<entry>110</entry>
<entry>functional</entry>
<entry>001</entry>
<entry>010</entry>
</row>
<row>
<entry>130</entry>
<entry>bypassed</entry>
<entry>100</entry>
<entry>010</entry>
</row>
<row>
<entry>120</entry>
<entry>functional</entry>
<entry>010</entry>
<entry>001</entry>
</row>
<row>
<entry>110</entry>
<entry>functional</entry>
<entry>001</entry>
<entry>100</entry>
</row>
<row>
<entry namest="1" nameend="4" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0046" num="0045">For example, in the first case of Table 2, the CPU/FSM <b>150</b> decides to bypass the first die <b>110</b>. In the 1st cycle the value that the CPU/FSM applied to the output enable block <b>111</b> of the first die <b>110</b> will be 100. As a result, in the 1st cycle the second die <b>120</b> will output data. Moreover, in the 2nd cycle, the CPU/FSM <b>150</b> applies 010 to the output enable block <b>111</b> of the first die <b>110</b>; in the second die <b>120</b> the value is 100, and the output is disabled, because the LSB is 0. In the third die <b>130</b>, the output enable value is 001; the LSB is &#x201c;1&#x201d;, so output is enabled, and in this cycle the third die <b>130</b> is allowed access to output data.</p>
<p id="p-0047" num="0046">Referring again to <figref idref="DRAWINGS">FIG. 2</figref>, the control logic block <b>114</b> receives the LSB oe[<b>0</b>] from output enable block electrical connections <b>112</b><i>c </i>and the MSB op[<b>2</b>] from operation block electrical connections <b>112</b><i>d</i>. The control logic <b>114</b> issues an enable signal to allow the functional circuitry <b>118</b> of the die <b>110</b> to access the shared data bus <b>155</b> if the LSB oe[<b>0</b>] from output enable block electrical connection <b>112</b><i>c </i>has a logic high value (&#x201c;1&#x201d;) and the MSB op[<b>2</b>] from operation block electrical connections <b>112</b><i>d </i>has a logic low value (&#x201c;0&#x201d;). In other words, the CPU or FSM causes the apparatus <b>100</b> to cycle through all of the IC dies in a round-robin fashion.</p>
<p id="p-0048" num="0047">Thus, the first electrical connection <b>112</b><i>d </i>is coupled to control logic <b>114</b>; the control logic <b>114</b> being configured to discontinue communication between the circuit <b>118</b> and the at least one data bus <b>155</b> if the first signal op[<b>2</b>] has the first predetermined logic state (&#x201c;1&#x201d;). A second electrical connection <b>112</b><i>c </i>is coupled to the control logic <b>114</b> for transmitting a second signal oe[<b>0</b>], such that the circuit <b>118</b> only outputs data to the at least one data bus <b>155</b> when the first signal op[<b>2</b>] has the first predetermined logic state (&#x201c;0&#x201d;), and the second signal oe[<b>0</b>] has a second predetermined logic state (&#x201c;1&#x201d;).</p>
<p id="p-0049" num="0048">The output enable block in each IC die is configured with N output enable electrical connections to control N IC dies, where N is an integer. In the example of <figref idref="DRAWINGS">FIG. 1</figref> and <figref idref="DRAWINGS">FIG. 2</figref>, there are three output enable electrical connections <b>112</b><i>a</i>-<b>112</b><i>c </i>to control the three dies <b>110</b>, <b>120</b>, <b>130</b>. Each output enable electrical connections <b>112</b><i>a</i>, <b>112</b><i>b</i>, <b>112</b><i>c </i>in each IC die is configured to connect to a successive output enable electrical connections <b>112</b><i>c</i>, <b>112</b><i>b</i>, <b>112</b><i>a</i>, respectively, in an adjacent one of the IC dies. That is, electrical connection <b>112</b><i>a </i>in die <b>110</b> connects to electrical connection <b>112</b><i>c </i>in die <b>120</b>, electrical connection <b>112</b><i>b </i>in die <b>110</b> connects to electrical connection <b>112</b><i>a </i>in die <b>120</b>, and electrical connection <b>112</b><i>c </i>in die <b>110</b> connects to electrical connection <b>112</b><i>b </i>in die <b>120</b>. In other embodiments, the order of this rotation can be different. For example, in another embodiment, electrical connection <b>112</b><i>a </i>in die <b>110</b> connects to electrical connection <b>112</b><i>b </i>in die <b>120</b>, electrical connection <b>112</b><i>b </i>in die <b>110</b> connects to electrical connection <b>112</b><i>c </i>in die <b>120</b>, and electrical connection <b>112</b><i>c </i>in die <b>110</b> connects to electrical connection <b>112</b><i>a </i>in die <b>120</b>. In some embodiments, the output enable block in each IC die is configured with M output enable electrical connections to control N IC dies, where M and N are integers, and M is larger than N. For example, in one embodiment, the output enable block in each IC die is configured with three output enable electrical connections to control two IC dies.</p>
<p id="p-0050" num="0049">Although an example is provided in which the LSB oe[<b>0</b>] of the output enable block <b>111</b> is used to control the control logic <b>114</b>, in other embodiments, any predetermined bit of the output enable block <b>111</b> may be used.</p>
<p id="p-0051" num="0050">In some embodiments, the values provided to the operation block <b>113</b> are only changed infrequently. For example, the CPU/FSM <b>150</b> may only set operation block values immediately after the CPU/FSM <b>150</b> is powered on, or at an infrequent interval (e.g., daily). On the other hand, the CPU/FSM <b>150</b> provides new values to the output enable block <b>111</b> with each database access cycle.</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. 3</figref> shows an example of control logic <b>114</b> for implementing this rotation. The LSB oe[<b>0</b>] from output enable block electrical connection <b>112</b><i>c </i>is provided to one input of the AND gate <b>114</b> and the MSB op[<b>2</b>] from operation block electrical connection <b>112</b><i>d </i>is inverted and provided to the other input of the AND gate <b>114</b>. If both of the conditions are met, the AND gate <b>114</b> outputs a logic high enable signal. One of ordinary skill in the art can readily design alternative control logic to perform the function of AND gate <b>114</b> in various embodiments. For example, if transistors <b>119</b> are replaced by N-type MOSFETs, then the signal op[<b>2</b>] is not inverted at the input to AND gate <b>114</b>.</p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. 4</figref> shows an example of the switching mechanism <b>116</b>. The switching mechanism <b>116</b> within the IC die <b>110</b>. The enable signal received from control logic <b>114</b> is inverted by inverter <b>116</b><i>a</i>. The inverted signal is then provided to a switch, such as a transmission gate <b>116</b><i>b</i>. The switching mechanism allows the IC die <b>110</b> to access the shared data bus <b>155</b> during its scheduled turn, and does not allow the IC die <b>110</b> to access the shared data bus at other times.</p>
<p id="p-0054" num="0053">In operation, the BIST block <b>115</b> in each die runs a self test operation, and provides the result to the CPU or FSM <b>150</b>. (In embodiments having no BIST, the CPU/FSM can run test sequences to check the function of the functional circuitry <b>118</b>). The CPU or FSM <b>150</b> sets the value of the operation block signals op[2:0] and the output enable signals oe[2:0], based on the results from the BIST block <b>115</b>. The operation block MSB op[<b>2</b>] is used to control the transistors <b>119</b> to connect or disconnect the IC die <b>110</b> to power. The operation block MSB op(<b>2</b>) and the output enable LSB oe(<b>0</b>) are provided to the control logic to control the transmission gate <b>116</b><i>b </i>of switch <b>116</b>, to only allow the functional circuitry <b>118</b> of die <b>110</b> to communicate with the shared data bus <b>155</b> during its assigned time slot.</p>
<p id="p-0055" num="0054">For ease of explanation, in this example, the dies <b>120</b> and <b>130</b> are identical to die <b>110</b>. However, in other embodiments, each die has a respectively different functional circuitry block <b>118</b> and BIST block <b>115</b>.</p>
<p id="p-0056" num="0055">FIGS. <b>5</b> and <b>6</b>A-<b>6</b>G show an example, in which the second die <b>120</b> is to be bypassed (e.g., because of a failure detected by the BIST circuit <b>115</b>). <figref idref="DRAWINGS">FIG. 6A</figref> shows the clock signal CLK. <figref idref="DRAWINGS">FIG. 6B</figref> shows the operation block bits op[2:0] for die <b>130</b>. The MSB is 0, so the die is in functional operation. <figref idref="DRAWINGS">FIG. 6C</figref> shows the operation block bits op[2:0] for die <b>120</b>. The MSB is 1, so the die is bypassed. <figref idref="DRAWINGS">FIG. 6D</figref> shows the operation block bits op[2:0] for die <b>110</b>. The MSB is 0, so the die is in functional operation. <figref idref="DRAWINGS">FIG. 6E</figref> shows the output enable block bits oe[2:0] for die <b>130</b> during two consecutive bus access cycles. During the first cycle, the LSB is 0, so die <b>130</b> does not have bus access. During the second cycle, the LSB is 1, so die <b>130</b> has bus access. <figref idref="DRAWINGS">FIG. 6F</figref> shows the output enable block bits oe[2:0] for die <b>120</b>. During both cycles, the LSB is 0, so die <b>120</b> does not have bus access. <figref idref="DRAWINGS">FIG. 6G</figref> shows the output enable block bits oe[2:0] for die <b>110</b>. During the first cycle, the LSB is 1, so die <b>110</b> has bus access. During the second cycle, the LSB is 0, so die <b>110</b> does not have bus access.</p>
<p id="p-0057" num="0056"><figref idref="DRAWINGS">FIG. 7</figref> is a block diagram of an alternative embodiment adapted for use in systems having plural data buses. For example, data bus <b>1</b> may be an instruction bus, and data bus <b>2</b> may be used for payload data. In other embodiments, either bus may be used for transmitting instructions or data. In this embodiment, the various circuit elements combine to allow two of the IC dies to access the data buses <b>1</b> and <b>2</b> at the same time. <figref idref="DRAWINGS">FIG. 7</figref> only shows a single die <b>210</b>, but the structures shown in <figref idref="DRAWINGS">FIG. 7</figref> may be replicated in each die of the 3D IC. <figref idref="DRAWINGS">FIG. 8</figref> is a plan view of an embodiment of the die <b>210</b>.</p>
<p id="p-0058" num="0057">Several of the structures in IC die <b>210</b> are the same as discussed above with reference to IC die <b>110</b>, including functional circuitry <b>118</b>, BIST <b>115</b>, operation block <b>113</b> and transistors <b>119</b>. Descriptions of these elements are not repeated, for brevity.</p>
<p id="p-0059" num="0058">In <figref idref="DRAWINGS">FIG. 7</figref>, the output enable block <b>211</b> includes a plurality of multiplexers <b>208</b><i>a</i>-<b>208</b><i>c</i>. Each multiplexer <b>208</b><i>a</i>, <b>208</b><i>b</i>, <b>208</b><i>c </i>receives one of its input signals from its respective electrical connections <b>112</b><i>a</i>, <b>112</b><i>b</i>, <b>112</b><i>c</i>. Each multiplexer <b>208</b><i>a</i>, <b>208</b><i>b</i>, <b>208</b><i>c </i>receives as its second input signals from an adjacent electrical connections <b>112</b><i>c</i>, <b>112</b><i>a</i>, <b>112</b><i>b </i>in the rotation. Thus, the first input of each multiplexer is connected to a second input of a succeeding multiplexer in round-robin fashion. The MSB op[<b>2</b>] of the operation block <b>113</b>, from electrical connection <b>112</b><i>d </i>is used as the mux select signal for controlling each multiplexer <b>208</b><i>a</i>-<b>208</b><i>c </i>to select either its first or second input. The selected signal is then output from each multiplexer <b>208</b><i>a</i>-<b>208</b><i>c</i>. Thus, if a die has the MSB op[<b>2</b>] of its operation block electrical connection <b>112</b><i>d </i>set to &#x201c;1&#x201d;, each of the multiplexers <b>208</b><i>a</i>-<b>208</b><i>c </i>pass the output enable signal received from the bottom bumps to the next die above, without shifting ID[2:0]. On the other hand, if a die has the MSB op[<b>2</b>] of its operation block TSV <b>112</b><i>d </i>set to &#x201c;0&#x201d;, each of the multiplexers <b>208</b><i>a</i>-<b>208</b><i>c </i>pass the output enable signal received from the input to an adjacent die, so that the values transmitted to the die above are shifted. In <figref idref="DRAWINGS">FIG. 7</figref>, the output enable block in each of the IC dies is configured with three sets of multiplexer and electrical connection to control three IC dies. In some embodiments, the output enable block in each IC die is configured with M sets of multiplexer and electrical connections to control N IC dies, where M and N are integers, and M is larger than N. For example, in one embodiment, the output enable block in each IC die is configured with three sets of multiplexer and electrical connection to control two IC dies.</p>
<p id="p-0060" num="0059">In place of the control logic <b>114</b>, the die <b>210</b> has decoding logic <b>214</b>. The decoding logic receives the MSB op[<b>2</b>] of the operation block <b>113</b> from electrical connection <b>112</b><i>d</i>, and also receives the output enable block values from electrical connections <b>112</b><i>a</i>-<b>112</b><i>c. </i></p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 9</figref> is a diagram of one example of the decoding logic <b>214</b>. The decoding logic <b>214</b> comprises three inverters for each AND gate <b>214</b><i>a</i>, <b>214</b><i>b</i>. Decoding logic <b>214</b> includes two four-input AND gates <b>214</b><i>a</i>, <b>214</b><i>b</i>. AND gate <b>214</b><i>a </i>receives an inverted version of the MSB op[<b>2</b>] of the operation block <b>113</b> from electrical connection <b>112</b><i>d</i>, and also receives the output enable block value ID[<b>2</b>] from electrical connection <b>112</b><i>a </i>and inverted versions of ID[<b>1</b>] and ID[<b>0</b>] from electrical connections <b>112</b><i>b </i>and <b>112</b><i>c</i>. Thus, AND gate <b>214</b><i>a </i>implements the logic equation:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>data1_en=ID[2] and ID[1]bar and ID[0]bar and OP[2]bar&#x2003;&#x2003;(1)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where the values of Die ID are input by the CPU or FSM <b>150</b> in a similar manner to the output enable vector oe[2:0] described above in <figref idref="DRAWINGS">FIG. 2</figref>. The values assigned to Die ID are listed in Table 3 below.
</p>
<p id="p-0062" num="0061">AND gate <b>214</b><i>b </i>receives an inverted version of the MSB op[<b>2</b>] of the operation block <b>113</b> from electrical connection <b>112</b><i>d</i>, and also receives the output enable block value ID[<b>1</b>] from electrical connection <b>112</b><i>b </i>and inverted versions of ID[<b>2</b>] and ID[<b>0</b>] from electrical connections <b>112</b><i>a </i>and <b>112</b><i>c</i>. Thus, AND gate <b>214</b><i>b </i>implements the logic equation:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>data2_en=ID[2]bar and ID[1] and ID[0]bar and OP[2]bar&#x2003;&#x2003;(2)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0063" num="0062">Given equations (1) and (2), for any given die, for any given bus access cycle, data<b>1</b>_en and data<b>2</b>_en cannot both be set to a logic high value. (ID[<b>2</b>] and ID[<b>2</b>]bar cannot both be logic high; and ID[<b>1</b>]bar and ID[<b>1</b>] cannot both be logic high). Thus, a given die, at most, has access to one of the data buses during a single bus access cycle. The decoding logic <b>214</b> outputs data<b>1</b>_en and data<b>2</b>_en to the switches <b>116</b> for controlling access to the data buses <b>1</b> and <b>2</b>. The functional circuitry <b>118</b> is selectively connectable to each of the first and second data buses. The respective output enable block <b>211</b> in each IC die <b>210</b> is configured to selectively connect the respective circuit <b>118</b> in that IC die to one of the first and second data buses, based on the truth table in Table 3. As in the example of <figref idref="DRAWINGS">FIG. 2</figref> and Table 1, when the operation block value is 100 (i.e., the MSB, op[<b>2</b>] is logic high), the corresponding die is bypassed.</p>
<p id="p-0064" num="0063">
<tables id="TABLE-US-00003" num="00003">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="1" colwidth="35pt" align="left"/>
<colspec colname="2" colwidth="42pt" align="left"/>
<colspec colname="3" colwidth="77pt" align="center"/>
<colspec colname="4" colwidth="63pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="4" rowsep="1">TABLE 3</entry>
</row>
<row>
<entry namest="1" nameend="4" align="center" rowsep="1"/>
</row>
<row>
<entry/>
<entry/>
<entry>Output Enable Block</entry>
<entry>Operation Block</entry>
</row>
<row>
<entry>Die</entry>
<entry>Die State</entry>
<entry>DIE ID</entry>
<entry>Values</entry>
</row>
<row>
<entry namest="1" nameend="4" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>Top</entry>
<entry>functional</entry>
<entry>010</entry>
<entry>010</entry>
</row>
<row>
<entry>Middle</entry>
<entry>functional</entry>
<entry>100</entry>
<entry>001</entry>
</row>
<row>
<entry>Bottom</entry>
<entry>bypassed</entry>
<entry>100</entry>
<entry>100</entry>
</row>
<row>
<entry>Top</entry>
<entry>functional</entry>
<entry>010</entry>
<entry>001</entry>
</row>
<row>
<entry>Middle</entry>
<entry>bypassed</entry>
<entry>010</entry>
<entry>100</entry>
</row>
<row>
<entry>Bottom</entry>
<entry>functional</entry>
<entry>100</entry>
<entry>010</entry>
</row>
<row>
<entry>Top</entry>
<entry>bypassed</entry>
<entry>001</entry>
<entry>100</entry>
</row>
<row>
<entry>Middle</entry>
<entry>functional</entry>
<entry>010</entry>
<entry>010</entry>
</row>
<row>
<entry>Bottom</entry>
<entry>functional</entry>
<entry>100</entry>
<entry>001</entry>
</row>
<row>
<entry namest="1" nameend="4" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0065" num="0064">In embodiments having two or more data buses, the decoding logic <b>214</b> includes a respective AND gate <b>214</b><i>a</i>, <b>214</b><i>b </i>for each respective data bus, the AND gate having a respective input for each of the three IC dies and for the operation block. Thus a third bus can be accommodated by using five-input AND gates (which can be provided by cascading two 3-input AND gates), and a fourth bus can be accommodated by using six-input AND gates (which can be provided by cascading a 3-input AND gate and a 4-input AND gate).</p>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIGS. 10 and 11</figref> show another embodiment of a die stack <b>300</b> employing a shift register structure, including latches <b>317</b> in each of three dies <b>310</b>, <b>320</b> and <b>330</b>. <figref idref="DRAWINGS">FIG. 11</figref> shows details of an exemplary die <b>310</b>. Dies <b>320</b> and <b>330</b> may be the same as die <b>310</b>, or may include different functional circuitry <b>118</b> and BIST circuitry <b>115</b>. Several elements of die <b>310</b> may be the same as die <b>110</b> (<figref idref="DRAWINGS">FIG. 2</figref>), including functional circuitry <b>118</b>, BIST <b>115</b>, transistors <b>119</b>, data bus output switch <b>116</b>, control logic <b>114</b> and output enable block <b>111</b>, including electrical connections <b>112</b><i>a</i>-<b>112</b><i>c</i>. For brevity, detailed descriptions of these items are not repeated. In addition, several details shown in <figref idref="DRAWINGS">FIG. 11</figref> are omitted from <figref idref="DRAWINGS">FIG. 10</figref> for clarity.</p>
<p id="p-0067" num="0066">As shown in <figref idref="DRAWINGS">FIGS. 10 and 11</figref>, the operation block <b>313</b> is replaced in die <b>310</b> by a latch <b>317</b>, which may be a D flip-flop, for example. In this configuration, electrical connection <b>112</b><i>d </i>carries the clock signal, and electrical connection <b>112</b><i>e </i>is a serial data input. The respective operation block <b>313</b> in each IC die <b>310</b>, <b>320</b>, <b>330</b> includes a latch <b>317</b> having an output coupled to control logic <b>114</b> for selectively enabling communication between the functional circuitry <b>118</b> and the data bus if the output of the latch <b>317</b> has a first predetermined state. The first IC die <b>310</b> has a first electrical connection <b>112</b><i>g </i>coupled to the output of the latch <b>317</b>; and the second IC die <b>320</b> has a second electrical connection <b>112</b><i>e </i>coupled to the first electrical connection <b>112</b><i>g</i>. The second electrical connection <b>112</b><i>e </i>provides an input to the latch <b>317</b> of the second IC die <b>320</b>.</p>
<p id="p-0068" num="0067">To drop the first die <b>310</b> using the latches <b>317</b> of this shift register structure, the data &#x201c;001&#x201d; is shifted (MSB first) into the latches <b>317</b>. To drop the second die <b>320</b>, the data &#x201c;010&#x201d; is shifted (MSB first) into the registers. To drop the third die <b>330</b>, the data &#x201c;100&#x201d; is shifted (MSB first) into the registers.</p>
<p id="p-0069" num="0068"><figref idref="DRAWINGS">FIG. 12</figref> is a flow chart of a method of configuring a 3D IC to bypass a die and use a redundant die.</p>
<p id="p-0070" num="0069">At step <b>1200</b> a test of at least one circuit <b>118</b> is performed using a BIST circuit <b>115</b> in each IC die <b>110</b>, <b>120</b>, <b>130</b>, and/or software test patterns, in a 3D IC package <b>160</b>, <b>180</b>. The package <b>160</b>, <b>180</b> has a plurality of stacked IC dies <b>110</b>, <b>120</b>, <b>130</b> that are operable independently of each other by way of electrical connections <b>112</b><i>a</i>-<b>112</b><i>f </i>in each of the stacked IC dies.</p>
<p id="p-0071" num="0070">At step <b>1202</b>, test results of the BIST circuit <b>115</b> and/or the software test patterns are transmitted to the CPU or FSM <b>150</b>.</p>
<p id="p-0072" num="0071">At step <b>1204</b>, the CPU or FSM <b>150</b> evaluates the results of the self test and decides whether to maintain the current configuration of active IC dies, or swap out a failed or poorly performing die and swap in the redundant die. For example, if the SiP <b>100</b> is currently operating with IC dies <b>110</b> and <b>120</b> active and die <b>130</b> disconnected from power, CPU/FSM <b>150</b> may decide to replace die <b>120</b> with die <b>130</b>. Once the decision is made, the CPU sets the operation switch signal based on a result of the test performed in each IC die.</p>
<p id="p-0073" num="0072">At step <b>1206</b>, the operation signal and output enable signal are provided to each IC die in the stack <b>110</b>, <b>120</b>, <b>130</b> by way of the electrical connections <b>112</b><i>a</i>-<b>112</b><i>f. </i></p>
<p id="p-0074" num="0073">At step <b>1208</b>, the operation signal is used to selectively bypass one of the IC dies if the operation signal has a predetermined logic state.</p>
<p id="p-0075" num="0074">At step <b>1210</b>, the output enable signal is used to selectively enable communication between at least one circuit in one of the remaining IC dies and at least one data bus. In some embodiments of the method, the plurality of IC dies includes three or more IC dies, the at least one data bus includes two data buses, and the step of using the output enable signal comprises selectively enabling communication between the circuits in two remaining IC dies and the two data buses, under control of decoding logic, in response to the operation signal and the output enable signal.</p>
<p id="p-0076" num="0075">The methods described above may be used to increase 3D IC chips' reliability and life time. For example, one or more redundant dies may be included within a 3D IC. During normal operation, the redundant die is bypassed. Upon detection of a failure of one of the dies, the redundant die is put in the operational state and the failed die is bypassed, and is no longer allocated time slots for bus access.</p>
<p id="p-0077" num="0076">In some embodiments, in addition to increasing reliability, power consumption may be reduced by disconnecting one of the dies from power, because a redundant IC does not consume any power during normal operation of the remaining ICs, and the failed IC die which is taken out of service does not draw any power subsequently. Many other uses will be apparent to those of ordinary skill.</p>
<p id="p-0078" num="0077">Although the examples above describe the use of the method to replace a failed or compromised die with a good die, in other embodiments, the die that is operational may be different from the die that is bypassed (and may be different from the rest of the N stacked IC dies in functionality). In one embodiment, a first die is optimized for performance and a second die is optimized for efficiency and low power consumption. Based on dynamic conditions, the CPU/FSM <b>150</b> may decide to activate the first die for performing a numerically intensive application, or to activate the second die at other times.</p>
<p id="p-0079" num="0078">In some embodiments, the apparatus includes a stack of dies <b>150</b>, <b>110</b>, <b>120</b>, <b>130</b>, as shown in <figref idref="DRAWINGS">FIG. 1B</figref>. The first die has a first memory <b>118</b><i>a </i>(<figref idref="DRAWINGS">FIG. 2</figref>) with a first memory storage capacity, a first function and a first power consumption rate. The second die has a second memory <b>118</b><i>a </i>with a second memory storage capacity different than the first storage capacity, a second function different from the first function, and a second power consumption rate different from the first power consumption rate. The operation block <b>113</b> (<figref idref="DRAWINGS">FIG. 2</figref>) is configurable to select either the first or second die for operation, based on storage capacity, function or power.</p>
<p id="p-0080" num="0079">In some embodiments, an apparatus comprises a first integrated circuit (IC) die, and a second IC die stacked on the first IC die. The first and second IC dies are operational independently of each other. Each respective one of the first and second IC dies has: at least one circuit for performing a function; an operation block coupled to selectively disconnect the circuit from power; and an output enable block coupled to selectively connect the circuit to at least one data bus.</p>
<p id="p-0081" num="0080">In some embodiments, an apparatus comprises N stacked integrated circuit (IC) dies, where N is an integer greater than one. Each one of the IC dies is operational independently of each other IC die. Each respective one of the N IC dies has at least one circuit for performing a function. An output enable block is coupled to selectively connect the circuit to at least one data bus. The output enable block in each IC die comprises N output enable electrical connections, one of the output enable electrical connection corresponding to the one IC die, and control logic coupled to the circuit and to the output enable electrical connection corresponding to the one IC die. The control logic is configured so that the circuit only outputs data to the at least one data bus when the output enable electrical connection of the one IC die carries a signal having a predetermined logic state.</p>
<p id="p-0082" num="0081">In some embodiments, a method comprises providing an operation signal and an output enable signal to each integrated circuit (IC) die in a package having a plurality of stacked IC dies that are operable independently of each other by way of electrical connections in each of the stacked IC dies. The operation signal is used to selectively disconnect one of the IC dies from power if the operation signal has a predetermined logic state. The output enable signal is used to selectively enable communication between at least one circuit in one of the remaining IC dies and at least one data bus.</p>
<p id="p-0083" num="0082">Although the subject matter has been described in terms of exemplary embodiments, it is not limited thereto. Rather, the appended claims should be construed broadly, to include other variants and embodiments, which may be made by those skilled in the art.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. Apparatus comprising:
<claim-text>a first integrated circuit (IC) die, and a second IC die stacked on the first IC die, each respective one of the first and second IC dies having:
<claim-text>at least one circuit for performing a function;</claim-text>
<claim-text>an operation block coupled to selectively bypass that respective die from operations; and</claim-text>
<claim-text>an output enable block coupled to selectively connect the circuit to at least one data bus,</claim-text>
<claim-text>wherein the operation block of the first IC die is configured to selectively bypass the first IC die from operations while the second IC die remains in operation above the first die.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the respective operation block is configurable to output at least one first signal and is electrically connected to the circuit, such that when the at least one first signal has a first predetermined logic state, the corresponding die is bypassed from operations.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The apparatus of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein a control logic is electrically connected to receive the at least one first signal, the control logic being configured to discontinue communication between the circuit and the at least one data bus if the first signal has the first predetermined logic state.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:
<claim-text>the output enable block in each IC die is configured with M output enable block electrical connections to control N IC dies, where M and N are integers and M&#x3e;=N,</claim-text>
<claim-text>each output enable block electrical connections in each IC die, are configured to connect to output enable block electrical connections of a successive output enable block in an adjacent one of the IC dies.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:
<claim-text>the first die has a first memory with a first memory storage capacity, a first function and a first power consumption rate;</claim-text>
<claim-text>the second die has a second memory with a second memory storage capacity different than the first storage capacity, a second function different from the first function, and a second power consumption rate different from the first power consumption rate; and</claim-text>
<claim-text>the operation block is configurable to select either the first or second die for operation, based on storage capacity, function or power.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:
<claim-text>the first die has a contact map for power and signals; and</claim-text>
<claim-text>the second die has a contact map for power and signals that matches the contact map of the first die.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. Apparatus comprising:
<claim-text>a first integrated circuit (IC) die, and a second IC die stacked on the first IC die, each respective one of the first and second IC dies having:
<claim-text>at least one circuit for performing a function, being electrically connectable to a first and a second data buses;</claim-text>
<claim-text>an operation block coupled to selectively bypass the respective die from operations; and</claim-text>
<claim-text>an output enable block coupled to selectively connect the at least one circuit to one of the first and second data buses,</claim-text>
<claim-text>wherein the operation block of the first IC die is configured to selectively bypass the first IC die from operations while the second IC die remains in operation above the first die.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The apparatus of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein
<claim-text>the respective operation block is configurable to output at least one first signal to the circuit, such that when the at least one first signal has a first predetermined logic state, the corresponding die is bypassed from operations.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The apparatus of <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein a decoding logic is electrically connected to receive the at least one first signal, the decoding logic being configured to discontinue communication between the circuit and the first and second data bus if the first signal has the first predetermined logic state.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein:
<claim-text>the first die has a first memory with a first memory storage capacity, a first function and a first power consumption rate;</claim-text>
<claim-text>the second die has a second memory with a second memory storage capacity different from the first storage capacity, a second function different from the first function, and a second power consumption rate different from the first power consumption rate; and</claim-text>
<claim-text>the operation block is configurable to select either the first or second die for operation, based on storage capacity, function or power.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein:
<claim-text>the first die has a contact map for power and signals; and</claim-text>
<claim-text>the second die has a contact map for power and signals that matches the contact map of the first die.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein:
<claim-text>the output enable block in each IC die is configured with M output enable block electrical connections to control N IC dies, where M and N are integers and M&#x3e;=N,</claim-text>
<claim-text>each output enable block electrical connection in each IC die is configured to connect to the output enable block electrical connections of a successive output enable block in an adjacent one of the IC dies.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the first and second data buses are on first and second separate chips from the first and second IC dies, and are on separate chips from each other.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. Apparatus comprising:
<claim-text>N stacked integrated circuit (IC) dies, where N is an integer greater than one, one of the N stacked integrated circuit dies is a redundant die, each respective one of the N IC dies having:
<claim-text>at least one circuit for performing a function;</claim-text>
<claim-text>an operation block coupled to selectively bypass the respective die from operations; and</claim-text>
<claim-text>an output enable block coupled to selectively connect the at least one circuit to at least one data bus, the output enable block in each IC die comprising M output enable electrical connections, where M is an integer and greater than or equal to N,</claim-text>
<claim-text>wherein the operation block of a first one of the IC dies is configured to selectively bypass the first one of the IC dies from operations, while at least another of the IC dies above the first one of the IC dies remains in operation.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The apparatus of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein:
<claim-text>the respective operation block is configurable to output at least one first signal to the circuit, such that when the at least one first signal has a first predetermined logic state, the corresponding die is bypassed from operations.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The apparatus of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein:
<claim-text>a control logic is configured to receive the at least one first signal, the control logic being configured to discontinue communication between the circuit and the at least one data bus if the first signal has the first predetermined logic state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The apparatus of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein:
<claim-text>a first die in the N stacked integrated circuit dies has a first memory with a first memory storage capacity, a first function and a first power consumption rate;</claim-text>
<claim-text>a second die different from the first die in the N stacked integrated circuit dies has a second memory with a second memory storage capacity different from the first storage capacity, a second function different from the first function, and a second power consumption rate different from the first power consumption rate; and</claim-text>
<claim-text>the operation block is configurable to select either the first or second die for operation, based on storage capacity, function or power.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The apparatus of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the redundant die is different from the other N stacked integrated circuit dies in functionality.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The apparatus of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the respective circuit for performing a function in each of the N IC dies is different from the respective circuits for performing a function in the others of the N IC dies.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The apparatus of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein each one of the N IC dies includes a respectively different built-in self-test circuit for testing the respective circuit for performing a function in that one of the N IC dies. </claim-text>
</claim>
</claims>
</us-patent-grant>
