<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626341-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626341</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12907946</doc-number>
<date>20101019</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2009-241324</doc-number>
<date>20091020</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>432</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>B</section>
<class>25</class>
<subclass>J</subclass>
<main-group>13</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>B</section>
<class>25</class>
<subclass>J</subclass>
<main-group>15</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>05</class>
<subclass>B</subclass>
<main-group>15</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>700260</main-classification>
<further-classification>901 34</further-classification>
<further-classification>901 11</further-classification>
</classification-national>
<invention-title id="d2e71">Apparatus and method for adjusting parameter of impedance control</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6539292</doc-number>
<kind>B1</kind>
<name>Ames, Jr.</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701 19</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7652446</doc-number>
<kind>B2</kind>
<name>Lin et al.</name>
<date>20100100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>318650</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2004/0230325</doc-number>
<kind>A1</kind>
<name>Ramamoorthy et al.</name>
<date>20041100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2006/0195236</doc-number>
<kind>A1</kind>
<name>Katsuta et al.</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701 19</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2008/0253752</doc-number>
<kind>A1</kind>
<name>Lin et al.</name>
<date>20081000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>388824</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2011/0178638</doc-number>
<kind>A1</kind>
<name>Tsusaka et al.</name>
<date>20110700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>700257</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>JP</country>
<doc-number>2001-277162</doc-number>
<date>20011000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00008">
<othercit>Toshio Tsuji et al., Neural Network Learning of Robot Arm Impedance in Operation Space, Apr. 1996, IEEE Transactions.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00009">
<othercit>Extended European Search Report for corresponding EP Application No. 10185835.5-1239, Feb. 6, 2012.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>8</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>700245</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>700250</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>700251</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>700260-263</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>901 11</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>901 14- 16</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>901 34</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>901 41</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>10</number-of-drawing-sheets>
<number-of-figures>12</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110093120</doc-number>
<kind>A1</kind>
<date>20110421</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Ando</last-name>
<first-name>Shingo</first-name>
<address>
<city>Kitakyushu</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Nagai</last-name>
<first-name>Ryoichi</first-name>
<address>
<city>Kitakyushu</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Inoue</last-name>
<first-name>Yasuyuki</first-name>
<address>
<city>Kitakyushu</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Ando</last-name>
<first-name>Shingo</first-name>
<address>
<city>Kitakyushu</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Nagai</last-name>
<first-name>Ryoichi</first-name>
<address>
<city>Kitakyushu</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Inoue</last-name>
<first-name>Yasuyuki</first-name>
<address>
<city>Kitakyushu</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Ditthavong Mori &#x26; Steiner, P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Kabushiki Kaisha Yaskawa Denki</orgname>
<role>03</role>
<address>
<city>Kitakyushu-Shi</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Holloway</last-name>
<first-name>Jason</first-name>
<department>3664</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An apparatus has a parameter initial value calculator, a force reference impression part, an evaluation data measurement part, an allowable value setting part, a viscosity parameter calculator, an end determining part, and an inertia parameter adjusting part. The force reference impression part intermittently supplies a force reference to an impedance controller. The evaluation data measurement part measures setting time of time response, an overshoot amount, and the number of vibration times. The allowable value setting part sets allowable values of the overshoot amount and the setting time. The viscosity parameter calculator calculates a viscosity parameter with which the setting time becomes shortest. The end determining part determines the end or continuation of the process by comparing the adjustment values with the allowable values. The inertia parameter calculator adjusts the inertia parameter according to the adjustment values of the overshoot amount and the setting time.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="166.71mm" wi="183.47mm" file="US08626341-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="186.86mm" wi="184.74mm" file="US08626341-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="172.13mm" wi="116.84mm" file="US08626341-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="269.75mm" wi="192.45mm" file="US08626341-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="269.75mm" wi="186.86mm" file="US08626341-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="270.43mm" wi="175.60mm" file="US08626341-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="105.33mm" wi="172.80mm" file="US08626341-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="172.13mm" wi="147.66mm" file="US08626341-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="141.65mm" wi="179.83mm" file="US08626341-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="215.48mm" wi="181.95mm" file="US08626341-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="198.71mm" wi="107.44mm" file="US08626341-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">The present application claims priority under 35 U.S.C. &#xa7;119 to Japanese Patent Application No. 2009-241324 filed Oct. 20, 2009. The contents of the application are incorporated herein by reference in their entirety.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The present invention relates to an apparatus and method for adjusting parameters of impedance control based on information of a force sensor provided for an end effector of an industrial robot.</p>
<p id="p-0005" num="0004">The impedance control denotes a control on a position and a force for setting mechanical impedances (inertia, damping coefficient, and rigidity) which are generated in the case where a force is applied from the outside to the end of a robot to values convenient to a target work.</p>
<p id="p-0006" num="0005">2. Discussion of the Background</p>
<p id="p-0007" num="0006">There is a widely known technique that, in the case of executing a contact work such as mating by using an industrial robot, a force sensor is attached to an end effector or a wrist part of a robot manipulator, and force control using information of the force sensor is performed. As a force control method, for example, impedance control is easily used.</p>
<p id="p-0008" num="0007">In the impedance control, feedback control is performed so that a response of a position when an external force acts on an end effector is obtained according to desired inertia, viscosity, and rigidity characteristics. By the control, a force generated when workpieces (objects to be worked) come into contact with each other at the time of a mating operation is passed off, and a positional error can be absorbed. However, if the parameters such as inertia, viscosity, and rigidity are improper, it may take an extremely long time to execute the operation. There is a case that a control system becomes unstable (oscillates) at the time of contact and the operation cannot be performed. Consequently, the parameters of the impedance control have to be properly adjusted.</p>
<p id="p-0009" num="0008">Japanese Unexamined Patent Application Publication No. 2001-277162 discloses a technique of adjusting parameters of the impedance control.</p>
<p id="p-0010" num="0009">In the publication, an adjustment worker (teacher) adjusts behavior designation parameters of weight (heavy and light) and hardness (hard and soft) by a button operation while recognizing a force response on a display unit and, based on the behavior designation parameters, adjusts impedance parameters by the fuzzy inference.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0011" num="0010">According to one aspect of the present invention, there is provided an apparatus for adjusting parameters of impedance control based on information of a force sensor provided for an end effector of a robot manipulator, the apparatus including:</p>
<p id="p-0012" num="0011">a parameter initial value calculator for calculating initial values of an inertia parameter and a viscosity parameter which are set at the time of parameter adjustment;</p>
<p id="p-0013" num="0012">a force reference impression part for intermittently supplying a stepwise force reference to impedance control, thereby repeatedly pressing a workpiece held by the end effector against a target workpiece;</p>
<p id="p-0014" num="0013">an evaluation data measurement part for recording time response of a force feedback from the force sensor each time the workpiece is pressed and automatically measuring setting time of the time response of the force feedback, an overshoot amount, and the number of vibration times;</p>
<p id="p-0015" num="0014">an allowable value setting part for setting an overshoot amount allowable value as a maximum value of an allowable overshoot amount and a setting time allowable value as a maximum value of allowable setting time;</p>
<p id="p-0016" num="0015">a viscosity parameter calculator for calculating a viscosity parameter with which the setting time is shortest by executing the repetitive pressing while fixing the inertia parameter;</p>
<p id="p-0017" num="0016">an end determining part for determining whether the repeating process is finished or continued by comparing the setting time adjustment value and the overshoot amount adjustment value obtained from the evaluation data measurement part as a result of calculation of the viscosity parameter by the viscosity parameter calculator with the allowable values; and</p>
<p id="p-0018" num="0017">an inertia parameter calculator, in the case where the end determining part determines that the repeating process is continued, for increasing/decreasing the inertia parameter or lessening either the overshoot amount allowable value or the setting time allowable value and for re-executing the viscosity parameter calculator.</p>
<p id="p-0019" num="0018">According to another aspect of the present invention, there is provided a method for adjusting parameters of impedance control based on information of a force sensor provided for an end effector of a robot manipulator by repeatedly measuring time response of a force feedback, the method including:</p>
<p id="p-0020" num="0019">a step of calculating initial values of an inertia parameter and a viscosity parameter which are set at the time of parameter adjustment;</p>
<p id="p-0021" num="0020">(a) an allowable value setting step of setting an overshoot amount allowable value (upper limit) and a setting time allowable value (upper limit) related to the time response of the force feedback;</p>
<p id="p-0022" num="0021">(b) a viscosity parameter calculating step of calculating a viscosity parameter with which the setting time is shortest while fixing the inertia parameter;</p>
<p id="p-0023" num="0022">(c) an end determining step of determining whether the repeating process is finished or continued by comparing the overshoot amount adjustment value and the setting time adjustment value obtained from a result of execution of the viscosity parameter calculating step with the allowable values; and</p>
<p id="p-0024" num="0023">(d) an inertia parameter adjusting step, in the case where continuation of the process is determined in the end determining step, of increasing/decreasing the inertia parameter or lessening either the overshoot amount allowable value or the setting time allowable value and of re-executing the viscosity parameter calculating step.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0025" num="0024">A more complete appreciation of the invention and many of the attendant advantages thereof will be readily obtained as the same becomes better understood by reference to the following detailed description when considered in connection with the accompanying drawings, wherein:</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 1</figref> is a configuration diagram of an impedance control parameter adjusting apparatus according to the present invention;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 2</figref> is a flowchart of an impedance control parameter adjusting method according to the present invention;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart of a viscosity parameter calculating process of the present invention;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 4</figref> is a flowchart of an end determining process and an inertia parameter calculating process of the present invention;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 5A</figref> shows an example of a force reference which is outputted from an impression part of force reference of the present invention;</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 5B</figref> shows principles of measuring evaluation data values of the present invention together with a state of force response setting time and a state of an overshoot amount;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 5C</figref> shows principles of measuring evaluation data values of the present invention together with a state of force response setting time, an overshoot amount, and the number of vibration times;</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 6</figref> shows a state where calculation of a viscosity parameter of the present invention advances;</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 7</figref> is a configuration diagram of an industrial robot of the present invention;</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 8</figref> is a configuration diagram of an industrial robot which is impedance controlled according to the present invention;</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 9</figref> is a block diagram of the impedance control of the present invention; and</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 10</figref> is a flowchart of a calculator of an initial parameter of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DESCRIPTION OF THE EMBODIMENTS</heading>
<p id="p-0038" num="0037">Embodiments will now be described with reference to the accompanying drawings, wherein like reference numerals designate corresponding or identical elements throughout the various drawings.</p>
<p id="p-0039" num="0038">Embodiments of the present invention will be described below with reference to the drawings.</p>
<p id="p-0040" num="0039">First, a system configuration of a general industrial robot and impedance control and, after that, techniques related to the present invention will be described.</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 7</figref> is a configuration diagram of a general industrial robot. The configuration diagram shows a manipulator, a controller, and a portable teaching operation panel. In <figref idref="DRAWINGS">FIG. 7</figref>, a robot <b>101</b> is a manipulator having a plurality of joint axes and links. In each of the joint axes, a drive motor with an encoder is provided. The axes can be driven independently of each other. A controller <b>102</b> for the robot <b>101</b> is an apparatus for performing a feedback control (positional control system) based on an encoder signal of each of the joint axis drive motors and for controlling motion of the robot <b>101</b>. A portable teaching operation panel <b>103</b> is an interface used by the teacher to manually (JOG) operate the robot and to create and edit an operation program. The portable teaching operation panel <b>103</b> has, mainly, an operation button group <b>103</b><i>a </i>and a display screen <b>103</b><i>b</i>. An end effector <b>104</b> is provided at the wrist of the robot <b>101</b>. To the end effector, various tools are attached according to applications. In the case of <figref idref="DRAWINGS">FIG. 7</figref>, a hand (gripper) for gripping a part is attached.</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 8</figref> is a configuration diagram of an industrial robot which is impedance controlled. A six-axis force sensor <b>105</b> is attached to the wrist of the robot <b>101</b>. The six-axis force sensor can measure forces in the X, Y, and Z-axis directions and moments about the axes. An impedance controller <b>106</b> is constructed in the controller <b>102</b>. The impedance controller <b>106</b> is used to perform a feedback control system based on signals from the force sensor <b>105</b> and the axis encoders. From the impedance controller <b>106</b>, a torque reference or a current reference of each of the drive motors is outputted to a drive amplifier <b>107</b> for an actuator. Based on the torque (or current) reference value, the drive amplifier <b>107</b> for the actuator supplies power to each of the drive motors. A memory <b>108</b> for an operation program stores an operation program created (taught) by the portable teaching operation panel in the controller. An operation program execution part <b>109</b> interprets/executes the operation program stored in the memory <b>108</b> for the operation program and gives an operation reference to the impedance controller <b>106</b>. There are provided a workpiece <b>110</b><i>a </i>(for example, a mating part) gripped by the end effector <b>104</b> and a target workpiece <b>110</b><i>b </i>(for example, a part to be mated). In a mating work as an example, by setting the robot <b>101</b> in an impedance control state and properly adjusting the parameters, position and orientation errors are allowed and the parts can be mated with each other.</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 9</figref> is a control block diagram of the impedance control. In <figref idref="DRAWINGS">FIG. 9</figref>, a positional control system <b>106</b><i>a </i>outputs a torque (or current reference) of each of the drive motors to the drive amplifier <b>107</b> for the actuator based on the position reference of each joint axis and a present position (feedback). Fref indicates a force moment reference (force moment target value), and Ffb indicates a force moment feedback value. &#x3b8;ref indicates a position reference (joint coordinate system) sent from the operation program execution part <b>109</b>, and &#x3b4;&#x3b8; indicates a position correction amount calculated by an impedance control operation part <b>106</b><i>b</i>. In the impedance control operation part <b>106</b><i>b</i>, first, based on Fref and Frb, a position correction amount &#x3b4;P in an orthogonal coordinate system is calculated in accordance with the following equation (impedance model <b>106</b><i>c</i>).
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x3b4;<i>P</i>=(<i>Ms</i><sup>2</sup><i>+Ds+K</i>)<sup>&#x2212;1</sup>(<i>Fref&#x2212;Ffb</i>)&#x2003;&#x2003;(1)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0044" num="0043">Where M, D, and K denote an inertia matrix, a viscosity coefficient matrix, and a rigidity matrix (spring constant), respectively. Usually, using those as diagonal matrixes, impedance characteristics independent of one another in the different axis directions are set. Here, &#x201c;s&#x201d; denotes a Laplace operator and corresponds to a first derivation related to time.</p>
<p id="p-0045" num="0044">The position correction amount &#x3b4;P in the orthogonal coordinate system is broken down to a position correction amount &#x3b4;&#x3b8; in the joint coordinate system by the following equation using a Jacobian matrix J(&#x3b8;) (velocity resolution operation unit <b>106</b><i>d</i>).
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x3b4;&#x3b8;=<i>J</i>(&#x3b8;)<sup>&#x2212;1</sup><i>&#x3b4;P</i>&#x2003;&#x2003;(2)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0046" num="0045">By giving a position reference &#x3b8;ref' obtained by adding &#x3b4;&#x3b8; to &#x3b8;ref to the positional control system <b>106</b><i>a</i>, the robot operates while maintaining the characteristics designated by M, D, and K to an external force and a moment. For example, when the robot operates like a spring in response to an external force by the rigidity matrix K, by reducing the inertia matrix M and the viscosity coefficient matrix D, the robot operates lightly and smoothly.</p>
<p id="p-0047" num="0046">The present invention relates to the technique of adjusting the inertia M and the viscosity D in the three parameters.</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 1</figref> is a configuration diagram of an impedance control apparatus according to the present invention. The apparatus in <figref idref="DRAWINGS">FIG. 1</figref> is roughly divided into the robot <b>101</b> and the controller <b>102</b>. In <figref idref="DRAWINGS">FIG. 1</figref>, an impression part <b>111</b> of a force reference repeatedly intermittently supplies a stepwise force reference to the impedance controller <b>106</b>. <figref idref="DRAWINGS">FIG. 5A</figref> shows an example (<b>501</b>) of a force reference which is outputted from the impression part <b>111</b> of the force reference. A force reference having a force Fstp and a predetermined time (T<b>1</b>) is outputted and, after that, the force reference is reset to zero. By repeatedly giving the force reference in the direction of the target workpiece <b>110</b><i>b</i>, the workpiece <b>110</b><i>a </i>to be gripped can be repeatedly pressed against the target workpiece <b>110</b><i>b. </i></p>
<p id="p-0049" num="0048">A measurement part <b>112</b> of evaluation data records time response (force response) of a force sensor feedback each time the pressing operation is performed, and automatically measures setting time, an overshoot amount, and the number of vibration times as evaluation data values for parameter adjustment from the time response.</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIGS. 5B and 5C</figref> show principles of measuring the evaluation data values. For the setting time, first, an upper limit value <b>502</b> and a lower limit value <b>503</b> are determined for a stepwise force reference <b>501</b>, and a setting range <b>504</b> is provided. Time <b>506</b> at which a force response <b>505</b> starts converging in the setting range <b>504</b> (enters the setting range and does not come out later) is setting time. As the overshoot amount, a value <b>507</b> at which the force response <b>505</b> exceeds the stepwise force reference and becomes the maximum is set. As the number of vibration times, the number of times the force response goes out of the setting range <b>504</b> is counted. Note that, only in the case where the force response exceeds the upper limit value <b>502</b> and the lower limit value <b>503</b> alternatively, the number of times is counted.</p>
<p id="p-0051" num="0050">In the case of a force response <b>508</b><i>a </i>in <figref idref="DRAWINGS">FIG. 5C</figref>, it does not exceed the upper limit value <b>502</b> even once, so that the number of vibration times is zero. In the case of a force response <b>508</b><i>b</i>, after it exceeds the upper limit value <b>502</b> once, it is converged in the setting range <b>504</b> and does not go below the lower limit value <b>503</b>, so that the number of vibration times is once. In the case of a force response <b>508</b><i>c</i>, it exceeds the upper limit value <b>502</b>, passed through the setting range <b>504</b>, goes below the lower limit value <b>503</b>, and is set, so that the number of vibration times is two.</p>
<p id="p-0052" num="0051">In <figref idref="DRAWINGS">FIG. 1</figref>, a setting part <b>113</b> of an allowable value sets allowable values for setting time and an overshoot amount. A calculator <b>114</b> of a viscosity parameter calculates a viscosity parameter D at which the setting time becomes the minimum in the repetitive pressing process in a state where the inertia parameter M is fixed. The details of the calculating method will be described later. An end determining part <b>115</b> determines whether the adjusting process is finished or continued by comparing the setting time (setting time adjustment value) obtained by a result of the viscosity parameter calculation and an overshoot amount (overshoot amount adjustment value) with the setting time allowable value and the overshoot amount allowable value which are set by the setting part <b>113</b> of allowable value. The method of determining the end will be described later. A calculator <b>116</b> of an inertia parameter changes the value of the inertia parameter M when the end determining part <b>115</b> determines that the parameter adjusting process continues. After the calculator <b>116</b> of the inertia parameter changes the inertia parameter, the calculator <b>114</b> of the viscosity parameter is re-executed. Until the end determining part <b>115</b> determines the end, the calculator of the viscosity parameter and the calculator of the inertia parameter are repeatedly executed.</p>
<p id="p-0053" num="0052">A calculator <b>117</b> of an initial parameter calculates initial values of an inertia parameter and a viscosity parameter which are set at the time of parameter adjustment from weights of the end effector which is set and a gripped workpiece and a band of a positional control system of the robot manipulator.</p>
<p id="p-0054" num="0053">According to the present invention as described above, only by setting the weights of the end effector and a gripped workpiece and the band of the positional control system of the robot manipulator by the calculator of the initial parameters and setting allowable values of the setting time and the overshoot amount by the setting part of allowable values, the calculator of the viscosity parameter, the end determining part, and the calculator of the inertia parameter repeatedly execute adjustment of the viscosity parameter and the inertia parameter based on clear evaluation data. There is, consequently, an effect that a plurality of parameters can be adjusted without depending on skills of individuals and without special knowledge.</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 2</figref> is a flowchart of a method of adjusting parameters of the impedance control according to the present invention.</p>
<p id="p-0056" num="0055">In <figref idref="DRAWINGS">FIG. 2</figref>, in S<b>201</b>, initial values of the inertia parameter M and the viscosity parameter D of the impedance control are set in a coordinate axis direction of adjustment (pressing operation). In S<b>202</b>, allowable values of setting time of a force response and the overshoot amount are set. In S<b>203</b>, by executing the repetitive pressing operation in a state where the inertia parameter M is fixed, the viscosity parameter with which the setting time of the force response becomes minimum is calculated. In S<b>204</b>, whether the process is continued or finished is determined by comparing the setting time (setting time adjustment value) and the overshoot amount (overshoot amount adjustment value) obtained as a result of the calculation of the viscosity parameter. When it is determined in S<b>204</b> that the process is continued, the inertia parameter is adjusted (finely adjusted) in S<b>205</b>, the flow returns to S<b>203</b> and the viscosity parameter is re-calculated. The series of processes in S<b>203</b> to S<b>205</b> are repeatedly executed until the end is determined in S<b>204</b>.</p>
<p id="p-0057" num="0056">Next, the details of the method of calculating the viscosity parameter in S<b>203</b> will be described.</p>
<p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. 3</figref> shows a detailed flowchart of the viscosity parameter calculation S<b>203</b>.</p>
<p id="p-0059" num="0058">In <figref idref="DRAWINGS">FIG. 3</figref>, in S<b>301</b>, initial values of the force Fstp of the force reference value <b>501</b>, impression time T<b>1</b> and T<b>2</b>, calculation width &#x394;D of the viscosity parameter D, calculation direction coefficient &#x3b1; (1 or &#x2212;1), a decrease ratio &#x3b3; of the calculation width (less than 1), and a diminution threshold &#x3b4;T of the setting time are set. In S<b>302</b>, the stepwise force reference <b>501</b> is supplied to the impedance controller <b>106</b> as shown in <figref idref="DRAWINGS">FIG. 5A</figref>. In S<b>303</b>, the time response (force response) of the force sensor feedback is recorded (measured and stored). In S<b>304</b>, as shown in <figref idref="DRAWINGS">FIGS. 5B and 5C</figref>, the setting time, the overshoot amount, and the number of vibration times are automatically measured with respect to the recorded force response.</p>
<p id="p-0060" num="0059">In S<b>305</b>, whether the automatically measured number of vibration times exceeds a preset threshold <b>1</b> (for example, 2) or not is determined. If the number of vibration times exceeds the threshold <b>1</b>, the calculation direction coefficient &#x3b1; is set (incremented) to 1 (S<b>306</b>). If the number of vibration times is equal to or less than the threshold <b>1</b>, whether the number of vibration times is below a preset threshold <b>2</b> (for example, 1) or not is determined in S<b>307</b>. If the number of vibration times is below the threshold <b>2</b>, the calculation direction coefficient &#x3b1; is set (decremented) to &#x2212;1 (S<b>308</b>). When the number of vibration times is large (exceeds the threshold <b>1</b>), it is considered that the control system at the time of pressing has an insufficient damping. Consequently, it means that the viscosity parameter D is increased at the next pressing. When the number of vibration times is small (below the threshold <b>2</b>), it is considered that the control system at the time of pressing has an over damping. Consequently, it means that the viscosity parameter is decreased at the next pressing.</p>
<p id="p-0061" num="0060">If the number of vibration times is equal to or larger than the threshold <b>2</b> and equal to or less than the threshold <b>1</b>, whether the setting time has increased more than that in the pressing of last time or not is determined in S<b>309</b>. If the setting time has increased, the sign of the calculation direction coefficient &#x3b1; is inverted and, further, a value obtained by multiplying the calculation width &#x394;D with the damping rate &#x3b3; is re-set as the new calculation width &#x394;D (S<b>310</b>).</p>
<p id="p-0062" num="0061">Next, whether or not the diminution of the setting time since the pressing of last time is equal to or less than the threshold &#x3b4;T is determined in S<b>311</b>. If the diminution of the setting time is equal to or less than the threshold &#x3b4;T, it is considered that the setting time has sufficiently decreased, and the process is finished (S<b>312</b>). If the diminution of the setting time exceeds the threshold &#x3b4;T, the viscosity parameter D is updated based on the following equation in S<b>313</b>.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>D</i>(updated value)=<i>D</i>(value at present)+&#x3b1;&#xd7;&#x394;<i>D</i>&#x2003;&#x2003;(3)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0063" num="0062">After updating the viscosity parameter D, the flow returns to S<b>302</b>, the force reference is given again, and the above-described processes are repeated.</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. 6</figref> schematically shows a state where the above-described viscosity parameter calculation advances. In <figref idref="DRAWINGS">FIG. 6</figref>, the horizontal axis represents the viscosity parameter, and the vertical axis represents a relation of the setting time when the pressing is executed with the viscosity parameter. As shown in the diagram, it is considered that an optimum viscosity parameter at which the setting time becomes minimum exists, and the local minimal value does not exist. Symbols <b>601</b> to <b>606</b> indicate the calculation order. Symbol <b>601</b> indicates the viscosity parameter and the measured setting time at the time of the first pressing. Symbol <b>602</b> indicates the second time, and symbol <b>603</b> indicates the third time (the subsequent numbers indicate similarly). In the pressing of the first time, the number of vibration times is less than the threshold <b>2</b> and the damping is excessive. Consequently, the calculation direction coefficient &#x3b1; is set to &#x2212;1, and the pressing of the second and third times is executed. In this case, the pressing is executed by decreasing the viscosity parameter D only by the initially set calculation width &#x394;D. Although the setting time decreases until the third times, it starts increasing at the fourth time. In the case where the setting time starts increasing, the sign of the calculation direction coefficient &#x3b1; is inverted, and the calculation width &#x394;D is multiplied with the decrease ratio (for example, 0.3). Consequently, at the fifth time and subsequent times, as shown in <figref idref="DRAWINGS">FIG. 6</figref>, the calculation is advanced with a calculation width finer than that up to the fourth time in the direction of increasing D (&#x3b1;=1). As obviously understood from the diagram, by repeating such a process, the calculation is gradually converged to a state where the setting time is the minimum. When the diminution of the setting time becomes equal to or less than the threshold &#x3b4;T, the calculation is finished (depending on setting of the threshold &#x3b4;T, the calculation is finished at the sixth time).</p>
<p id="p-0065" num="0064">Even in the case where the damping is insufficient (the number of vibration times&#x3e;threshold <b>1</b>), the above-described calculating process similarly functions and the viscosity parameter with which the setting time becomes the minimum can be calculated.</p>
<p id="p-0066" num="0065">The details of the viscosity parameter calculating process have been described with reference to <figref idref="DRAWINGS">FIG. 3</figref>. Next, the details of the end determination in S<b>204</b> and the inertia parameter adjustment in S<b>205</b> in <figref idref="DRAWINGS">FIG. 2</figref> will be described.</p>
<p id="p-0067" num="0066"><figref idref="DRAWINGS">FIG. 4</figref> is a detailed flowchart of the end determination in S<b>204</b> and the inertia parameter adjustment S<b>205</b>.</p>
<p id="p-0068" num="0067">In <figref idref="DRAWINGS">FIG. 4</figref>, ranges indicated by broken lines correspond to S<b>204</b> and S<b>205</b>. First, the details of the end determination S<b>204</b> will be described. In S<b>401</b>, whether the adjustment value of the overshoot amount obtained as a result of the viscosity parameter calculation in S<b>203</b> (<figref idref="DRAWINGS">FIG. 2</figref>) is equal to or less than the overshoot amount allowable value which is set in S<b>202</b> or not is determined. If the adjustment value is equal to or less than the allowable value, in S<b>402</b>, whether the setting time adjustment value is equal to or less than the setting time allowable value or not. If both the overshoot amount and the setting time are equal to or less than the allowable values, it is determined that proper adjustment is performed, and the process is finished (S<b>206</b>). If the overshoot amount adjustment value is equal to or less than the allowable value but the setting time adjustment value exceeds the allowable value, the inertia parameter M is too large, so that the calculation direction coefficient &#x3b2; of the inertia parameter is set to &#x2212;1 (S<b>404</b>).</p>
<p id="p-0069" num="0068">On the other hand, also in the case where it is determined in S<b>401</b> that the overshoot amount adjustment value exceeds the allowable value, similarly, whether the setting time adjustment value is equal to or less than the allowable value or not is determined (S<b>403</b>). If the overshoot amount adjustment value exceeds the allowable value and the setting time adjustment value is equal to or less than the allowable value, the inertia parameter M is too small, so that the calculation direction coefficient &#x3b2; of the inertia parameter is set to 1 (S<b>405</b>). In S<b>406</b>, whether the sign (positive/negative) of the calculation direction coefficient &#x3b2; has been changed or not is determined. If the sign is changed (inverted), a value obtained by multiplying the decrease ratio &#x3b5; (less than 1) with the calculation width &#x394;M of the inertia parameter is re-set as a new calculation width &#x394;M (S<b>407</b>). That is, the inertia parameter is updated based on the following equation in S<b>408</b>, and the flow returns to the viscosity parameter calculation S<b>203</b>.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>M</i>(updated value)=<i>M</i>(value at present)+&#x3b2;&#xd7;&#x394;<i>M</i>&#x2003;&#x2003;(4)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0070" num="0069">On the other hand, if both of the overshoot amount adjustment value and the setting time adjustment value exceed the allowable values, the setting of the allowable values are too strict, so that the allowable values are reset in the lessening direction in S<b>409</b>.</p>
<p id="p-0071" num="0070"><figref idref="DRAWINGS">FIG. 10</figref> is a flowchart of the calculator of the initial parameters. The initial values of the inertia parameter M and the viscosity parameter D determined by the calculator of the initial parameters are set in the initial value setting in S<b>201</b> in the method of adjusting the parameters in the impedance control.</p>
<p id="p-0072" num="0071">In S<b>702</b>, the sum MO of weight of the end effector and the gripped workpiece is set. In S<b>703</b>, the band &#x3c9;c of the positional control system of the robot is set. In S<b>704</b>, the damping coefficient &#x3b6; is set. In S<b>705</b>, the sum MO of the weight of the end effector and the gripped workpiece set in S<b>702</b> is determined as the initial value of the inertia parameter M at the time of adjustment. In S<b>704</b>, the rigidity parameter K is calculated by the following equation using the inertia parameter M determined in S<b>705</b> and the band &#x3c9;c of the positional control system of the robot which is set in S<b>703</b>.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>K=M</i>(&#x3c9;<i>c</i>)<sup>2</sup>&#x2003;&#x2003;(5)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0073" num="0072">In S<b>707</b>, the initial value of the viscosity parameter D at the time of adjustment is calculated by the following equation using the inertia parameter M determined in S<b>703</b>, the rigidity parameter K determined in S<b>704</b>, and the damping coefficient set in S<b>704</b>.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>D=&#x3b6;&#xd7;</i>2(<i>MK</i>)<sup>1/2</sup>&#x2003;&#x2003;(6)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0074" num="0073">As described above, according to the present invention, initial values of the inertia parameter and the viscosity parameter at the time of adjustment are automatically set, the calculation direction and the calculation width of the viscosity parameter are automatically adjusted according to increase/decrease in the number of vibration times and the setting time of the force response at the time of pressing, and the calculation direction and the calculation width of the inertia parameter are automatically adjusted according to the adjustment values of the overshoot amount and the setting time. There is consequently an effect that optimum parameters can be always adjusted in short time is produced.</p>
<p id="p-0075" num="0074">According to the apparatus and method for adjusting parameters of impedance control of the present invention, optimum impedance control parameters can be adjusted according to a target work (assembling work, burr removing work, or the like), a target workpiece (material), and a robot (including an end effector).</p>
<p id="p-0076" num="0075">Obviously, numerous modifications and variations of the present invention are possible in light of the above teachings. It is therefore to be understood that within the scope of the appended claims, the present invention may be practiced otherwise than as specifically described herein.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed as new and is desired to be secured by Letters Patent of the United States is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An apparatus for adjusting an inertia parameter and a viscosity parameter of an impedance controller based on information of a force sensor provided for an end effector of a robot manipulator, the apparatus comprising:
<claim-text>a controller configured to be electrically connected to the force sensor and the robot manipulator, the controller being programmed to provide:
<claim-text>a parameter initial value calculator configured to calculate initial values of the inertia parameter and the viscosity parameter which are set at a time of parameter adjustment;</claim-text>
<claim-text>a force reference impression device to repeatedly supply a stepwise force reference to the impedance controller to repeatedly press a workpiece held by the end effector against a target workpiece;</claim-text>
<claim-text>an evaluation data measurement device configured to record a time response of a force feedback from the force sensor each time the workpiece is pressed and configured to automatically measure a setting time of the time response of the force feedback, an overshoot amount of the time response of the force feedback, and a number of vibration times of the time response of the force feedback;</claim-text>
<claim-text>an allowable value setting device configured to set an overshoot amount allowable value as a maximum value of an allowable overshoot amount and a setting time allowable value as a maximum value of an allowable setting time;</claim-text>
<claim-text>a viscosity parameter calculator configured to calculate the viscosity parameter with which the setting time is shortest;</claim-text>
<claim-text>an end determining device configured to determine whether a calculating process of the viscosity parameter calculator is finished or continued by respectively comparing the setting time and the overshoot amount which are obtained from the evaluation data measurement device with the setting time allowable value and the overshoot amount allowable value; and</claim-text>
<claim-text>an inertia parameter calculator configured, in the case where the end determining device determines that the calculating process is continued, to change the inertia parameter or to lessen at least one of the overshoot amount allowable value and the setting time allowable value, the viscosity parameter calculator being configured to calculate the viscosity parameter with which the setting time is shortest by executing a repetitive pressing of the force reference impression device in a state where the inertia parameter is fixed, the viscosity parameter calculator being configured to recalculate the viscosity parameter after the inertia parameter calculator changes the inertia parameter or lessens at least one of the overshoot amount allowable value and the setting time allowable value.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The apparatus for adjusting parameters of impedance control according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the evaluation data measurement device is configured to set, as the setting time, a time period for which the time response of the force feedback is converged within a setting range whose upper and lower limits are designated using a value of the stepwise force reference as a center of the setting range.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The apparatus for adjusting parameters of impedance control according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the evaluation data measurement device is configured to alternately measure a number of times at which the time response of the force feedback exceeds the setting range as a first number of times and a number of times at which the time response of the force feedback is below the setting range as a second number of times, and is configured to set a sum of the first number of times and the second number of times as the number of vibration times.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The apparatus for adjusting parameters of impedance control according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,
<claim-text>wherein the viscosity parameter calculator increases the viscosity parameter in the case where the number of vibration times exceeds a preset first threshold, and</claim-text>
<claim-text>wherein the viscosity parameter calculator decreases the viscosity parameter in the case where the number of vibration times is below a preset second threshold.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The apparatus for adjusting parameters of impedance control according to <claim-ref idref="CLM-00004">claim 4</claim-ref>,
<claim-text>wherein the viscosity parameter calculator inverts a direction of calculating the viscosity parameter and reduces a calculation width at a preset ratio in the case where the setting time becomes longer than that of last time when the number of vibration times is equal to or larger than the second threshold and is equal to or less than the first threshold, and</claim-text>
<claim-text>wherein the viscosity parameter calculator finishes the calculating process when an amount of change from the last time of the setting time becomes equal to or less than a preset threshold.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The apparatus for adjusting parameters of impedance control according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,
<claim-text>wherein the end determining device determines end of the calculating process only in the case where the overshoot amount is equal to or less than the overshoot amount allowable value and the setting time is equal to or less than the setting time allowable value, and</claim-text>
<claim-text>wherein the end determining device determines continuation of the calculating process in the other cases.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The apparatus for adjusting parameters of impedance control according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,
<claim-text>wherein the inertia parameter adjusting device decreases the inertia parameter and recalculates the viscosity parameter in the case where the overshoot amount is equal to or less than the overshoot amount and the setting time is larger than a setting time allowable value,</claim-text>
<claim-text>wherein the inertia parameter adjusting device increases the inertia parameter and recalculates the viscosity parameter in the case where the overshoot amount is larger than the overshoot amount allowable value and the setting time is equal to or less than the setting time allowable value, and</claim-text>
<claim-text>wherein the inertia parameter adjusting device lessens at least one of the overshoot amount allowable value and the setting time allowable value and recalculates the viscosity parameter in the case where the overshoot amount is larger than the overshoot amount allowable value and the setting time is larger than the setting time allowable value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The apparatus for adjusting parameters of impedance control according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the parameter initial value calculator is configured to calculate the initial values of the inertia parameter and the viscosity parameter based on weight of the end effector, weight of a workpiece held by the end effector, and a band of a positional control system of the robot manipulator. </claim-text>
</claim>
</claims>
</us-patent-grant>
