<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625369-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625369</doc-number>
<kind>B1</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13690371</doc-number>
<date>20121130</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<disclaimer>
<text>This patent is subject to a terminal disclaimer.</text>
</disclaimer>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>C</subclass>
<main-group>7</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>36518915</main-classification>
<further-classification>365210</further-classification>
</classification-national>
<invention-title id="d2e51">Determining threshold voltage distribution in flash memory</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6835585</doc-number>
<kind>B2</kind>
<name>Kim</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6853585</doc-number>
<kind>B2</kind>
<name>Lee et al.</name>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>36518522</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7139961</doc-number>
<kind>B2</kind>
<name>Kravtchenko</name>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714756</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>7746702</doc-number>
<kind>B2</kind>
<name>Cho et al.</name>
<date>20100600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>8331169</doc-number>
<kind>B1</kind>
<name>Yang et al.</name>
<date>20121200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>36518915</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>18</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>36518915</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>365210</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>10</number-of-drawing-sheets>
<number-of-figures>10</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>13323787</doc-number>
<date>20111212</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8331169</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13690371</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<division>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>12552925</doc-number>
<date>20090902</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8077520</doc-number>
<date>20111213</date>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13323787</doc-number>
</document-id>
</child-doc>
</relation>
</division>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61094781</doc-number>
<date>20080905</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61094793</doc-number>
<date>20080905</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61094798</doc-number>
<date>20080905</date>
</document-id>
</us-provisional-application>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only" applicant-authority-category="assignee">
<addressbook>
<orgname>Marvell International Ltd.</orgname>
<address>
<city>Hamilton</city>
<country>BM</country>
</address>
</addressbook>
<residence>
<country>BM</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Yang</last-name>
<first-name>Xueshi</first-name>
<address>
<city>Cupertino</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Wu</last-name>
<first-name>Zining</first-name>
<address>
<city>Los Altos</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Burd</last-name>
<first-name>Gregory</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Marvell International Ltd.</orgname>
<role>03</role>
<address>
<city>Hamilton</city>
<country>BM</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Dinh</last-name>
<first-name>Son</first-name>
<department>2824</department>
</primary-examiner>
<assistant-examiner>
<last-name>Nguyen</last-name>
<first-name>Nam</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Methods, apparatuses, and systems for comparing threshold voltages of a plurality of flash memory cells to a plurality of reference voltages. A number of flash memory cells having threshold voltages that fall within each bin of a plurality of bins is determined. The plurality of bins each represent a plurality of threshold voltage ranges. A threshold voltage distribution of the plurality of flash memory cells is calculated based at least in part on the number of flash memory cells that fall into each of the bins.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="151.64mm" wi="238.17mm" file="US08625369-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="193.55mm" wi="177.46mm" orientation="landscape" file="US08625369-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="240.71mm" wi="170.18mm" orientation="landscape" file="US08625369-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="203.45mm" wi="151.98mm" orientation="landscape" file="US08625369-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="187.37mm" wi="155.62mm" orientation="landscape" file="US08625369-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="185.17mm" wi="176.02mm" orientation="landscape" file="US08625369-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="242.91mm" wi="176.45mm" orientation="landscape" file="US08625369-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="245.79mm" wi="140.21mm" orientation="landscape" file="US08625369-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="180.42mm" wi="163.24mm" orientation="landscape" file="US08625369-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="177.46mm" wi="152.99mm" orientation="landscape" file="US08625369-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="209.97mm" wi="144.27mm" orientation="landscape" file="US08625369-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This present disclosure is a continuation of and claims priority to U.S. patent application Ser. No. 13/323,787, filed Dec. 12, 2011, now U.S. Pat. No. 8,331,169, issued Dec. 11, 2012, which is a divisional of and claims priority to U.S. application Ser. No. 12/552,925, filed on Sep. 2, 2009, now U.S. Pat. No. 8,077,520, issued Dec. 13, 2011, which claims priority under 35 U.S.C. &#xa7;119(e) to U.S. Provisional Application No. 61/094,781, filed Sep. 5, 2008, U.S. Provisional Application No. 61/094,793, filed Sep. 5, 2008 and U.S. Provisional Application No. 61/094,798, filed Sep. 5, 2008, which are incorporated herein by reference.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">TECHNICAL FIELD</heading>
<p id="p-0003" num="0002">Embodiments of the present invention relate to the field of digital memories and more particularly, to methods, apparatuses, and systems for determining threshold voltage distributions in flash memory.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">Flash memory employs floating gate transistors in a plurality of memory cells. One or more charge levels may be programmed onto the floating gates of the floating gate transistors in order to store data. The threshold voltage level of a floating gate transistor depends on the level of charge programmed therein. Thus, the data stored within flash memory is read by comparing the threshold voltages of the floating gate transistors to one or more reference voltages. This mechanism is used in both single-bit and in multi-bit flash memories.</p>
<p id="p-0005" num="0004">A floating-gate transistor is capable of storing a voltage on its &#x201c;floating gate&#x201d; for a period, typically many years. The threshold voltage of the floating-gate transistor will change depending on a value currently stored on the floating gate. In a single-bit flash cell, for example, the threshold voltage of the cell will be one of two voltages depending on the level of charge stored in the floating gate transistor. Thus, in some implementations of flash memory, the stored value is read by comparing the threshold voltage to a reference voltage. If the threshold voltage is less than the reference voltage, then the output is considered to be a first binary number (such as a 1). If the threshold voltage is greater than the reference voltage, the output is considered to be a second binary value (such as a 0). In a sense, a floating gate transistor has multiple threshold voltages, each exhibited only when a certain voltage is stored on the floating gate.</p>
<p id="p-0006" num="0005">The levels of these multiple threshold voltages of a floating gate transistor will change over time due to physical changes after repeated erase and program cycles, or for other reasons. A group of flash memory cells will therefore exhibit a change in their overall threshold voltages distribution over time. And if the threshold voltages change as a memory device ages, then it can be useful to adjust the reference voltages used to read the memory cells as the device gets older. This can, for example, result in lower error rates. If the reference voltages are not varied, the device may exhibit higher error rates as it ages.</p>
<p id="p-0007" num="0006">The description in this section is related art, and does not necessarily include information disclosed under 37 C.F.R. 1.97 and 37 C.F.R. 1.98. Unless specifically denoted as prior art, it is not admitted that any of the described related art is prior art.</p>
<heading id="h-0004" level="1">SUMMARY</heading>
<p id="p-0008" num="0007">Embodiments of the disclosure include methods, apparatuses, and systems for comparing threshold voltages of a plurality of flash memory cells to a plurality of reference voltages. A number of flash memory cells having threshold voltages that fall within each bin of a plurality of bins are determined. The plurality of bins each represent a plurality of threshold voltage ranges. A threshold voltage distribution of the plurality of flash memory cells is calculated based at least in part on the number of flash memory cells that fall into each of the bins.</p>
<p id="p-0009" num="0008">Using this information, a threshold voltage distribution may be calculated using the mean and standard deviation of the threshold voltage distribution. In various embodiments, an ideal or near-ideal reference voltage is calculated based at least on the determined mean or standard deviation. In various embodiments, operations are performed on at least one of the plurality of memory cells using this ideal or near-ideal reference voltage. Such operations may include a read, a program, or an erase operation. During the threshold calculation process, a plurality of reference voltages is provided in a sequential manner. The calculations can be based, at least in part, on known storage levels of the plurality of flash memory cells. As for the bins, boundaries between at least two of the bins can be defined by one of the plurality of reference voltages.</p>
<p id="p-0010" num="0009">Apparatuses according to embodiments include a memory bank comprising a plurality of flash memory cells and control circuitry coupled to the reference voltage generator and the memory bank. The control circuitry is configured to command the memory bank to compare threshold voltages of the plurality of flash memory cells to a plurality of reference voltages. The control circuitry will determine, based at least on the comparison results, a number of the plurality of flash memory cells having threshold voltages that fall within each of a plurality of bins. The bins represent a plurality of threshold voltage ranges. The control circuit is also configured to calculate a mean and standard deviation of a threshold voltage distribution of the plurality of flash memory cells based at least in part on the number of flash memory cells that fall into each of the bins.</p>
<p id="p-0011" num="0010">Apparatuses include a reference voltage generator configured to provide the memory bank with the plurality of reference voltages. The reference voltage generator includes a digital-to-analog-converter configured to accept a digital input and to generate an analog voltage corresponding to the digital input. The control circuitry is further configured to calculate an ideal or near-ideal reference voltage based at least in part on the determined mean and standard deviation. The control circuitry is also configured to perform an operation on at least one of the plurality of memory cells using the ideal or near-ideal reference voltage.</p>
<p id="p-0012" num="0011">Embodiments include memory controllers with an input/output interface configured to interface with a memory device. The memory controllers include microcircuits configured to receive a plurality of comparison results from the memory device. The comparison results represent comparisons between threshold voltages of a plurality of flash memory cells and a plurality of reference voltages. The memory controller may determine, based at least on the received comparison results for each bin of a plurality of bins, a number of flash memory cells having threshold voltages that fall within each bin. The plurality of bins represent a plurality of threshold voltage ranges. The memory controller may calculate a mean and standard deviation of a threshold voltage distribution of the plurality of flash memory cells based at least in part on the number of flash memory cells that fall into each of the bins.</p>
<p id="p-0013" num="0012">Methods according to embodiments also include iteratively performing read operations on a plurality of flash memory cells until a condition is met. Each successive read operation utilizes a different reference voltage. Two or more read results of the iterative read operations may be synthesized to determine data for output. The condition may be, for example, that an error correction code decode failure has occurred. The synthesizing includes quantizing the two or more read results. The plurality of reference voltages may be iteratively received, or the plurality of reference voltages may be generated based on a received digital input.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0014" num="0013">Embodiments of the present invention will be readily understood by the following detailed description in conjunction with the accompanying drawings. To facilitate this description, like reference numerals designate like structural elements. Embodiments of the invention are illustrated by way of example and not by way of limitation in the figures of the accompanying drawings.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a memory device configured to compare the threshold voltages of its memory cells to a plurality of reference voltages in accordance with various embodiments of the present invention;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 2</figref> illustrates a system including a memory controller for determining the threshold voltage distribution of a plurality of memory cells in accordance with various embodiments;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 3</figref> illustrates a bin count of threshold voltages of a plurality of memory cells that may be used to determine a threshold voltage distribution in accordance with various embodiments of the present invention.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a method for determining a threshold voltage distribution of a plurality of memory cells in accordance with exemplary embodiments of the invention;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a memory device configured to receive an external reference voltage signal in accordance with various embodiments;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 6</figref> illustrates performing a progressive read operation for a memory device in accordance with various embodiments;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 7</figref> depicts two voltage threshold distributions and the corresponding reference voltages that may be used to perform two-bit quantization of the read results;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 8</figref> illustrates a memory device configured to perform a progressive read in accordance with various embodiments;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 9</figref> illustrates a memory controller configured to interface with a memory device in accordance with various embodiments; and</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 10</figref> illustrates a computing system configured according to various embodiments.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION OF EMBODIMENTS OF THE INVENTION</heading>
<p id="p-0025" num="0024">In the following detailed description, reference is made to the accompanying drawings which form a part hereof wherein like numerals designate like parts throughout, and in which is shown by way of illustration embodiments in which the invention may be practiced. It is to be understood that other embodiments may be utilized and structural or logical changes may be made without departing from the scope of the present invention. Therefore, the following detailed description is not to be taken in a limiting sense, and the scope of embodiments in accordance with the present invention is defined by the appended claims and their equivalents.</p>
<p id="p-0026" num="0025">Various operations may be described as multiple discrete operations in turn, in a manner that may be helpful in understanding embodiments of the present invention; however, the order of description should not be construed to imply that these operations are order dependent.</p>
<p id="p-0027" num="0026">For the purposes of the present invention, the phrase &#x201c;A/B&#x201d; means A or B. For the purposes of the present invention, the phrase &#x201c;A and/or B&#x201d; means &#x201c;(A), (B), or (A and B).&#x201d; For the purposes of the present invention, the phrase &#x201c;at least one of A, B, and C&#x201d; means &#x201c;(A), (B), (C), (A and B), (A and C), (B and C), or (A, B and C).&#x201d; For the purposes of the present invention, the phrase &#x201c;(A)B&#x201d; means &#x201c;(B) or (AB)&#x201d; that is, A is an optional element.</p>
<p id="p-0028" num="0027">The description may use the phrases &#x201c;in an embodiment,&#x201d; or &#x201c;in embodiments,&#x201d; which may each refer to one or more of the same or different embodiments. Furthermore, the terms &#x201c;comprising,&#x201d; &#x201c;including,&#x201d; &#x201c;having,&#x201d; and the like, as used with respect to embodiments of the present invention, are synonymous.</p>
<p id="p-0029" num="0028">Methods, apparatuses, systems, and memory controllers for estimating a threshold voltage distribution in a flash memory are described herein. In various embodiments, the threshold voltages of the flash memory cells are compared to various reference voltages. This may be accomplished, for example, by reading the contents of the memory cells multiple times using a range of discrete reference voltages. Once the results of these comparisons are collected, the numbers of memory cells with threshold voltages that fall into a number of &#x201c;bins&#x201d; are determined. Each bin represents a range of threshold voltages. One of several known statistical techniques can be used to determine the threshold voltage distribution of the cells based on the numbers of memory cells falling into each bin. Determining the threshold voltage distribution may include determining the mean and standard deviation of the threshold voltages of the flash memory cells. An optimal or near-optimal reference voltage is determined based on the determined threshold voltage distribution, using for example the mean and/or the standard deviation of the threshold voltage distribution.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a memory device <b>100</b> configured to compare the threshold voltages of its memory cells to a plurality of reference voltages in accordance with various embodiments of the present invention. Memory device <b>100</b> includes memory bank <b>101</b> which has a plurality of memory cells. These memory cells may be, for example, flash memory cells. These memory cells may be normally used to store data, and thus may not be &#x201c;pilot&#x201d; cells. Memory bank <b>101</b> is coupled to sense amplifier <b>103</b> and to address decoder <b>105</b>. It will be understood that there may be more than one memory bank, sense amplifier and/or address decoder; one of each is shown for the sake of illustration.</p>
<p id="p-0031" num="0030">Control circuitry <b>107</b> is configured to operate memory device <b>100</b>. Control circuitry <b>107</b> is configured to receive memory access commands and associated memory addresses from external devices via input/output (I/O) <b>109</b> and I/O pins <b>111</b>. Control circuitry <b>107</b> may be a microcircuit. Control circuitry <b>107</b> is configured to cause sense amplifier <b>103</b> to iteratively compare threshold voltages of some or all of the plurality of memory cells within memory bank <b>101</b> to a plurality of reference voltages. Reference voltage circuit <b>113</b> may be configured to generate the reference voltages.</p>
<p id="p-0032" num="0031">Control circuitry <b>107</b> is configured to receive results of the compares and to determine, based on those comparison results, the numbers of memory cells that fall into each of a plurality of bins. Each bin represents a range of threshold voltages, as will be discussed in more detail elsewhere within this Detailed Description. Control circuitry <b>107</b> is configured to use statistical techniques to determine a threshold voltage distribution of the memory cells based at least on the numbers of memory cells that fall into each bin. This threshold voltage distribution may include both a mean threshold voltage and/or a standard deviation of the distribution. Control circuit <b>107</b> is configured to calculate an ideal or near-ideal reference voltage for performing operations on the memory cells based at least on the determined threshold voltage distribution. Control circuit <b>107</b> is configured to program reference voltage circuit <b>113</b> and/or sense amplifier <b>103</b> (or other components of memory device <b>100</b> shown or not shown) to use the ideal or near-ideal reference voltage to perform these operations.</p>
<p id="p-0033" num="0032">Alternatively, control circuit <b>107</b> may be configured to transmit, via I/O <b>109</b> for example, the results of the compares to an external device, such as a memory controller or other device. Such embodiments will be discussed elsewhere within this Detailed Description, in particular with reference to <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0034" num="0033">Flash memories configured to accept a reference voltage signal for use for various purposes are herein described. These flash memories are configured to accept the reference voltage signal either on a specified pin or as data input, such as on the address and/or data pins of the flash memory device. Some embodiments may include a Digital-to-Analog Converter (DAC) configured to convert the reference voltage signal into a reference voltage. The reference voltage signal provided to the memory device may change responsive to changing operating conditions, such as device temperature, device age, or other conditions.</p>
<p id="p-0035" num="0034">Flash memories configured to perform a progressive read are herein described. Flash memories so configured can read a group of memory cells&#x2014;such as a memory page&#x2014;at a first reference voltage and to check an ECC (error correction code) circuit to detect and/or correct any errors in the read result. If there is an ECC decoding failure, one or more reference voltages are used to re-read the page. Quantization may be used to attempt to determine the bits stored in the memory cells. This process may be repeated until there is no ECC decoding error. In some embodiments, the process may end upon reaching a predetermined maximum number of read iterations, or a maximum read time, even if no error-free output is determined.</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 2</figref> illustrates a system <b>200</b> including a memory controller <b>201</b> for determining the threshold voltage distribution of a plurality of memory cells in accordance with various embodiments. System <b>200</b> includes memory device <b>203</b> which may include memory bank <b>205</b>, reference voltage circuit <b>207</b>, and control circuit <b>209</b>. Memory controller <b>201</b> is configured to interface with memory device <b>203</b> to provide other devices with access to memory device <b>203</b>; other devices may include, for example, central processing unit (CPU) <b>211</b>.</p>
<p id="p-0037" num="0036">Memory controller <b>201</b> is configured to command memory device <b>203</b> to compare the threshold voltages of some or all of the memory cells within memory bank <b>205</b> to a plurality of reference voltages. Memory controller is configured to pass these commands to control circuitry <b>209</b> and/or reference voltage circuit <b>207</b>. Control circuitry <b>209</b> may be a microcircuit. Memory controller <b>201</b> is configured to receive results of these comparisons and determine the numbers of the memory cells having threshold voltages that fall into a number of bins representing threshold voltage ranges, as described elsewhere within this Detailed Description. Memory controller <b>201</b> is configured to determine a threshold voltage distribution of the memory cells as described elsewhere within this Detailed Description. Memory controller <b>201</b> is configured to calculate an ideal or near-ideal reference voltage based at least on the numbers of memory cells falling into each of the plurality of bins (raw bin count), and to provide the ideal or near-ideal reference voltage to memory device <b>203</b>.</p>
<p id="p-0038" num="0037">Whether it is the memory controller, the memory device, or some other device that determines the numbers of memory cells that fall into each bin of threshold voltage ranges, statistical techniques can be used to take the raw bin count and determine a threshold voltage distribution.</p>
<p id="p-0039" num="0038">Each compare result includes the number of memory cells that have a threshold voltage below the reference voltage, and the number of memory cells that have a threshold voltage above the reference voltage. By synthesizing the results from all of the comparison operations, it can be determined how many memory cells &#x201c;flip&#x201d; their read result somewhere between each reference voltage used. Each bin represents a range of threshold voltages between two of the reference voltages, or a range of threshold voltages that are either above or below a highest or lowest reference voltage.</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 3</figref> illustrates bin counts of threshold voltages of a plurality of memory cells that may be used to determine a threshold voltage distribution in accordance with various embodiments of the present invention. Because in a single-bit memory cell some of the memory cells will contain a binary 1 and others will contain a binary 0, <figref idref="DRAWINGS">FIG. 3</figref> shows two distributions. In the example shown in <figref idref="DRAWINGS">FIG. 3</figref>, each erase bin <b>301</b> represents a range of threshold voltage ranges for those memory cells that have been erased. Each program bin <b>303</b> represents a range of threshold voltage ranges for those memory cells that have been programmed, and thus have a relatively higher threshold voltage than the erased memory cells. In this example, the borders between bins are determined by one of the reference voltages (V<sub>rx</sub>) used to perform the comparisons.</p>
<p id="p-0041" num="0040">Statistical techniques can be used to determine the mean and standard deviations from the raw bin counts. For example a weighted count around each peak can be used to estimate the mean. Curve-fitting techniques can be used to calculate the probability density function of the reference voltage distribution. Also, the statistically-derived mean and standard deviation may be used to determine an ideal or non-ideal reference voltage for use in reading the memory cells.</p>
<p id="p-0042" num="0041">In various embodiments, the actual values&#x2014;or at least the relative distributions of the actual values&#x2014;stored in the flash memory cells may be known. Known values may be programmed to the flash memory cells, or designated subsets of the flash memory cells, prior to performing the comparisons. For example, 50% of the memory cells may be programmed as a binary &#x201c;1&#x201d; while 50% may be programmed as a binary &#x201c;0&#x201d;. This can make the statistical analysis easier. It is not required, however, that the actual values, or their relative distributions, be known. It is also not required to program 50% of both binary 1s and 0s. Some other distribution may be used&#x2014;such as for example a 70:30 distribution ratio&#x2014;and the bin counts can be normalized using known statistical techniques. It will be recognized that embodiments are not limited to any one particular statistical technique; nor are embodiments limited to a subset of statistical techniques.</p>
<p id="p-0043" num="0042">Statistical techniques such as curve fitting or other techniques may be used to determine a mean and/or a standard deviation of the threshold voltage distributions. An ideal or near-ideal reference voltage for performing read operations on the memory cells can be determined from the threshold voltage distributions. A method for doing so is described in U.S. application Ser. No. 11/738,263. It will be noted that embodiments may be used to determine raw bins counts for multi-bit flash memories. In such cases, there will be three or more distributions. In such embodiments, multiple ideal or near-ideal reference voltages may be determined for performing the read operations using the raw bin counts.</p>
<p id="p-0044" num="0043">U.S. application Ser. No. 11/738,263, filed Apr. 20, 2007, titled &#x201c;Channel Estimation for Multi-Level Memories Using Pilot Signals&#x201d; describes using pilot cells to estimate the mean and standard deviation of memory cells' threshold voltages in a flash memory. U.S. application Ser. No. 11/738,263 also describes how to compute an optimal or near-optimal reference voltage from these estimates. In other words, the mean threshold values and standard deviation that are estimated from the pilot cells are used to calculate an ideal or near-ideal reference voltage to use on those memory cells. The optimal detected threshold can be determined by the intersection points of adjacent probability density functions. U.S. application Ser. No. 11/738,263 is hereby incorporated herein in its entirety for all purposes.</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a method for determining a threshold voltage distribution of a plurality of memory cells in accordance with exemplary embodiments of the invention. At <b>401</b>, the threshold voltages of a plurality of memory cells are compared to a plurality of reference voltages. At <b>403</b>, the results of these comparisons are then synthesized to determine the numbers of memory cells with threshold voltages that fall into a plurality of bins that represent a range of threshold voltage ranges. At <b>405</b>, the numbers of memory cells falling into each of the bins is used to determine a threshold voltage distribution, such as by calculating a standard deviation and/or a mean of the threshold voltages. At <b>407</b>, the threshold voltage distribution (or distributions) can be used to calculate ideal or near-ideal reference voltages for performing read operations on the memory cells.</p>
<p id="p-0046" num="0045">At <b>409</b>, once the ideal or near-ideal reference voltage has been calculated, it can be used to perform the operations on the memory cells. At <b>411</b>, the reference voltage may be used until a condition is met. The condition may be that a certain amount of time has passed, or that a certain number of erase/program cycles has occurred. Once the condition is met, the process may move to <b>401</b> and repeat.</p>
<p id="p-0047" num="0046">As described above, memory devices according to embodiments may be configured to generate their own reference voltages. They may also be configured to receive their reference voltages from an external source, such as from a memory controller (memory controllers according to embodiments may be configured to provide such reference voltages). They may also be configured to receive a digital value and to convert that digital value into an analog voltage for use as a reference voltage. Memory devices may be configured to use these received voltages for performing a plurality of comparisons as described elsewhere within this Detailed Description for the purpose of determining a threshold voltage distribution of a plurality of memory cells, or they may be configured to use these reference voltages as reference voltages for performing actual read operations on memory cells.</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a memory device <b>500</b> configured to receive an external reference voltage signal in accordance with various embodiments. Memory device <b>500</b> may include memory bank <b>501</b>, sense amplifier <b>503</b>, address decoder <b>505</b>, and control circuitry <b>507</b>. Memory device <b>500</b> may include a reference voltage circuit <b>509</b> configured to receive a voltage signal on reference voltage pin <b>511</b>. Reference voltage circuit <b>509</b> may be configured to provide this voltage signal, or a voltage derived from this voltage reference signal, to other components within memory device <b>500</b>&#x2014;such as sense amplifier <b>503</b>&#x2014;for performing read operations or other operations on memory cells within memory bank <b>501</b>. Other operations include erase verify and program verify.</p>
<p id="p-0049" num="0048">Alternatively, reference voltage circuit <b>509</b> may be configured to receive a reference voltage signal via I/O <b>513</b>. Reference voltage circuit <b>509</b> may be configured to convert the reference voltage signal to a reference voltage via digital-to-analog converter (DAC) <b>515</b>. Memory device <b>500</b> may be configured to receive a command via I/O <b>513</b> to treat the reference voltage input on I/O <b>513</b> as a reference voltage signal, rather than an address or other command. Alternatively, reference voltage circuit <b>509</b> may utilize a look-up table (not shown) to determine the reference voltage associated with the reference voltage signal.</p>
<p id="p-0050" num="0049">Flash memories according to embodiments can be configured to accept two different operation commands. For example, the flash memory may be configured to interpret a first read command type as a command to perform a read operation utilizing an internal or default reference voltage. The flash memory may also be configured to interpret a second read command type as a command to perform a read operation utilizing an externally-provided reference voltage, or a reference voltage derived from an externally-provided signal. In the latter case, the flash memory may be configured to receive (and a memory controller or other device configured to provide) a reference voltage signal to the flash memory prior to receiving the second read command type. The flash memory may be configured to then use a reference voltage associated with the reference voltage signal to perform the read operation.</p>
<p id="p-0051" num="0050">In an alternative implementation, the reference voltage signal may be received as a part of the read command itself, and the memory device may be configured to receive and interpret such a reference voltage signal.</p>
<p id="p-0052" num="0051">In addition to performing multiple threshold voltage comparisons in order to determine an ideal or near-ideal reference voltage as discussed elsewhere within this Detailed Description, embodiments may perform multiple threshold voltage comparisons on demand as part of a progressive read operation.</p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. 6</figref> illustrates performing a progressive read operation on a memory device in accordance with various embodiments. At <b>601</b>, a read operation may be performed on a group of memory cells (such as for example a page of memory cells or other grouping) using a first reference voltage. At <b>603</b>, the results of the read operations may be input into an Error Correction Code (ECC) circuit. At <b>605</b>, the ECC circuit may detect and/or correct errors in the read results. At <b>607</b>, if there is no ECC decoding failure, then the results of the read may be output.</p>
<p id="p-0054" num="0053">At <b>609</b>, if, however, there is an ECC decoding failure, another condition may be checked. The other condition may be that a maximum number of reads has already been performed during the current progressive read operation. The condition may be that more than a maximum amount of time has been used to perform the current progressive read operation. At <b>611</b>, if the condition is met, then the least-errored result of any previous read of the current progressive read operation is output. Alternatively, the ECC circuit may be configured to perform quantization of multiple read operations using multiple reference voltages and to output results based on the quantization as described below in reference to <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0055" num="0054">At <b>613</b>, if at <b>609</b> the condition is not met, then a new read is performed on the memory cells using one or more new reference voltages, and, at <b>603</b>, the new results are input into the ECC circuit. The process will repeat until either at <b>611</b> the least-errored results are output, or at <b>607</b> error-free results are output.</p>
<p id="p-0056" num="0055">In a further refinement, results from multiple read operations may be utilized to perform quantization of the read results. For example, if reference voltage V<sub>R </sub>is used to perform a &#x201c;normal&#x201d; read&#x2014;such as may be used in the first read operation from <b>601</b> in FIG. <b>6</b>&#x2014;then two additional reference voltages V<sub>X </sub>and V<sub>1-X</sub>, as defined below, may be used to perform two more read operations for purposes of quantizing the results.</p>
<p id="p-0057" num="0056"><figref idref="DRAWINGS">FIG. 7</figref> depicts two voltage threshold distributions and the corresponding reference voltages that may be used to perform two-bit quantization of the read results. The two distributions in <figref idref="DRAWINGS">FIG. 7</figref> correspond to an &#x201c;erase&#x201d; distribution and to a &#x201c;program&#x201d; distribution. After an initial read using reference voltage V<sub>R</sub>, two more reads may be performed using V<sub>X </sub>and V<sub>1-X</sub>, which are defined as follows:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>X</sub><i>=z&#xb7;x</i>&#x2003;&#x2003;Equation 1<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>1-X</sub><i>=z</i>&#xb7;(1<i>&#x2212;x</i>)&#x2003;&#x2003;Equation 2<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0058" num="0057">Where 0&#x3c;x&#x3c;1, and x is a real positive number. The reads performed using V<sub>X </sub>and V<sub>1-X </sub>are combined along with the read results using V<sub>R </sub>to perform two-bit quantization as depicted in the following table. Each column in the table represents a combination of read results, and the last cell of each column represents the quantized value that results from a particular combination of read results.</p>
<p id="p-0059" num="0058">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="9">
<colspec colname="1" colwidth="35pt" align="left"/>
<colspec colname="2" colwidth="21pt" align="center"/>
<colspec colname="3" colwidth="14pt" align="center"/>
<colspec colname="4" colwidth="35pt" align="center"/>
<colspec colname="5" colwidth="14pt" align="center"/>
<colspec colname="6" colwidth="35pt" align="center"/>
<colspec colname="7" colwidth="21pt" align="center"/>
<colspec colname="8" colwidth="35pt" align="center"/>
<colspec colname="9" colwidth="7pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="9" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>V<sub>1-x </sub>read</entry>
<entry>1</entry>
<entry>1</entry>
<entry>1</entry>
<entry>1</entry>
<entry>0</entry>
<entry>0</entry>
<entry>0</entry>
<entry>0</entry>
</row>
<row>
<entry>result</entry>
<entry/>
<entry/>
<entry/>
<entry/>
<entry/>
<entry/>
<entry/>
<entry/>
</row>
<row>
<entry>V<sub>R </sub>read</entry>
<entry>1</entry>
<entry>1</entry>
<entry>0</entry>
<entry>0</entry>
<entry>1</entry>
<entry>1</entry>
<entry>0</entry>
<entry>0</entry>
</row>
<row>
<entry>result</entry>
<entry/>
<entry/>
<entry/>
<entry/>
<entry/>
<entry/>
<entry/>
<entry/>
</row>
<row>
<entry>V<sub>x </sub>read</entry>
<entry>1</entry>
<entry>0</entry>
<entry>1</entry>
<entry>0</entry>
<entry>1</entry>
<entry>0</entry>
<entry>1</entry>
<entry>0</entry>
</row>
<row>
<entry>result</entry>
<entry/>
<entry/>
<entry/>
<entry/>
<entry/>
<entry/>
<entry/>
<entry/>
</row>
<row>
<entry>Quantized</entry>
<entry>0</entry>
<entry>V<sub>1</sub></entry>
<entry>N/A</entry>
<entry>V<sub>2</sub></entry>
<entry>N/A</entry>
<entry>N/A</entry>
<entry>N/A</entry>
<entry>z</entry>
</row>
<row>
<entry>Value</entry>
</row>
<row>
<entry namest="1" nameend="9" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0060" num="0059">Where N/A in the last cell of a column indicates that the particular combination associated with that column is not possible (or would be unintelligible) and where V<sub>1 </sub>and V<sub>2 </sub>are given by:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>1</sub>=(<i>V</i><sub>X</sub><i>+V</i><sub>R</sub>)/2&#x2003;&#x2003;Equation 3<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>2</sub>=(<i>V</i><sub>R</sub><i>+V</i><sub>1-X</sub>)/2&#x2003;&#x2003;Equation 4<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0061" num="0060">A soft decoder&#x2014;for example a convolution code decoder, Low-density parity check (LDPC) decoder, Turbo code decoder, or other decoder&#x2014;is configured to utilize the two-bit quantization output to improve the decoding performance compared with the case where only a single bit quantization is utilized. If the decoding still fails after performing the two-bit quantization, additional reads utilizing further reference voltages can be performed to increase the resolution even further to achieve three-bit, four-bit, or other quantization levels.</p>
<p id="p-0062" num="0061">Thus, additional reads are performed on demand, such as when ECC decoding fails. Performing the additional reads on demand may incur less latency and overhead than if multiple read voltages were always used for every read operation. The first read will be successful far more often than not, and successive read operations will usually be unnecessary.</p>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 8</figref> illustrates a memory device <b>800</b> configured to perform a progressive read in accordance with various embodiments. Memory device <b>800</b> may include memory bank <b>801</b> coupled to sense amplifier <b>803</b> and address decoder <b>805</b>. Memory device <b>800</b> may include control circuitry <b>807</b>, reference voltage circuit <b>809</b>, and I/O <b>811</b>. Memory device <b>800</b> may include ECC circuit <b>813</b> configured to accept as input read results from sense amplifier <b>803</b> and to detect and/or correct any errors in the read results; ECC circuit <b>813</b> may be configured to determine whether there has been an ECC decoding failure. Control circuitry <b>807</b> is configured to determine, based at least in part upon whether there has been an ECC decoding failure, whether to cause sense amplifier <b>803</b> to re-read the memory cells using a new reference voltage, such as may be provided by reference voltage circuit <b>809</b>. Control circuitry <b>807</b> may also be configured to determine, if there has been an ECC decoding failure, whether to perform another read based at least on whether another condition is met. This other condition may be, for example, whether a maximum number of reads has already been performed for the current progressive read operation; or the condition may be that more than a maximum amount of time has transpired during the current progressive read operation. Control circuitry <b>807</b> may be configured to output either the current read results or the least-errored results from the previous read results of the current read operation. ECC circuit <b>813</b> may be configured to perform x-bit quantization of multiple read results such as is described above in relation to <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0064" num="0063">Memory controllers may be employed to perform various operations described within this Detailed Description. For example, error correction and/or error detection may be performed by a memory controller rather than using an error correction/detection circuit within a memory device.</p>
<p id="p-0065" num="0064"><figref idref="DRAWINGS">FIG. 9</figref> illustrates a memory controller <b>900</b> configured to interface with a memory device in accordance with various embodiments. Memory controller <b>900</b> may include micro-circuit <b>901</b> configured to perform various operations as described elsewhere within this Detailed Description. Memory controller <b>900</b> may be, for example, configured to interface with a memory device via I/O <b>903</b> on behalf of a CPU or other component. Micro-circuit <b>901</b> may be configured to determine threshold voltage distributions within a memory device. Micro-circuit <b>901</b> may be configured to determine an ideal or near-ideal reference voltage for performing operations&#x2014;such as read operations&#x2014;using a determined threshold voltage distribution. Micro-circuit <b>901</b> may be configured to provide a voltage reference signal to the memory device as either an analog or a digital signal. These voltage reference signals may be used for either comparison purposes to determine an ideal or near-ideal reference voltage for use in read operations, or may be used for the actual read operations themselves. Micro-circuit <b>901</b> may be configured to receive the results of a read operation, perform error correction, and/or initiate another read using another reference voltage if there is an ECC decoding failure. Micro-circuit <b>901</b> may be configured to perform these and other various operations described within this Detailed Description.</p>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. 10</figref> illustrates a computing system configured according to various embodiments. As shown, computing system <b>1000</b> includes one or more processors <b>1002</b>, and system memory <b>1004</b>. Additionally, computing system <b>1000</b> includes mass storage devices <b>1006</b>, such as a diskette drive, hard drive, CDROM, flash memory and so forth. Computing system <b>1000</b> includes input/output devices <b>1008</b> (such as a keyboard, cursor control, and so forth), and transceiver <b>1010</b> (such as network interface cards, modems and so forth). Computing system <b>1000</b> also includes memory controller <b>1014</b>. The elements are coupled to each other via system bus <b>1012</b>, which represents one or more buses. In the case of multiple buses, they may be bridged by one or more bus bridges (not shown). System memory <b>1004</b> and/or mass storage devices <b>1006</b> may be configured as is described elsewhere within this Detailed Description.</p>
<p id="p-0067" num="0066">Each of these elements may perform its conventional functions known in the art. Also, one or more software modules (not shown) may be executed by processor(s) <b>1002</b>, memory controller <b>1014</b>, system memory <b>1004</b>, and/or mass storage <b>1006</b> to practice or contribute to the practice of the methods described herein such as to determine a threshold voltage reference distribution of system memory <b>1004</b> or mass storage device <b>1006</b> (especially where system memory <b>1004</b> and/or mass storage device <b>1006</b> are flash memories). Such software modules may be placed into mass storage <b>1006</b> of computing system <b>1000</b>, or elsewhere. The placement may be made in the factory, or in the field, through, for example, a distribution medium (not shown), such as a compact disc (CD), Digital Versatile Disc (DVD), or through transceiver <b>1010</b> (from a distribution server (not shown)). In embodiments, the distribution medium may be an article of manufacture having programming instructions configured to implement one or more aspects of one or more methods as disclosed herein. More specifically, the article of manufacture may comprise a computer readable-storage medium having a plurality of programming instructions stored in the storage medium. The programming instructions may then be read or loaded into a computer system to practice or contribute to the practice of the methods described herein to implement the software module(s).</p>
<p id="p-0068" num="0067">In various embodiments, computer system <b>1000</b> may be a server, a desktop computer, a laptop computer, a tablet computer, or a smart phone. In other embodiments, computer system <b>1000</b> may be embedded in a media player, a game console, a set-top box, diskless workstation, a digital recorder, or other device. Computer system <b>1000</b> may be a mobile device.</p>
<p id="p-0069" num="0068">Although certain embodiments have been illustrated and described herein for purposes of description of the preferred embodiment, it will be appreciated by those of ordinary skill in the art that a wide variety of alternate and/or equivalent embodiments or implementations calculated to achieve the same purposes may be substituted for the embodiments illustrated and described without departing from the scope of the present invention.</p>
<p id="p-0070" num="0069">Those with skill in the art will readily appreciate that embodiments in accordance with the present invention may be implemented in a very wide variety of ways. This application is intended to cover any adaptations or variations of the embodiments discussed herein. Therefore, it is manifestly intended that embodiments in accordance with the present invention be limited only by the claims and the equivalents thereof.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A controller for a memory bank, wherein the memory bank comprises a plurality of flash memory cells, wherein the controller comprises control circuitry coupled to (i) a voltage generator, and (ii) the memory bank, wherein the voltage generator is configured to generate a plurality of reference voltages, and wherein the control circuitry is configured to:
<claim-text>command the memory bank to iteratively perform read operations on the plurality of flash memory cells until a condition is met, wherein (i) each iteration of the read operations utilizes a different one of the plurality of reference voltages generated by the voltage generator, and (ii) the iteratively-performed read operations produce two or more read results; and</claim-text>
<claim-text>synthesize two or more of the read results to determine data for output.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control circuitry is configured to synthesize two or more of the read results by at least quantizing the two or more read results.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:
<claim-text>the data for output includes, for each bin of a plurality of bins, a number of flash memory cells of the plurality of flash memory cells having threshold voltages that fall within the bin; and</claim-text>
<claim-text>the plurality of bins represents a plurality of threshold voltage ranges.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The controller of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein a boundary between at least two of the bins is defined by one of the plurality of reference voltages.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The controller of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the control circuitry is further configured to, based at least in part on the number of flash memory cells that fall into each of the bins, calculate a threshold voltage distribution of the plurality of flash memory cells.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The controller of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein:
<claim-text>calculating the threshold voltage distribution comprises calculating (i) a mean of the threshold voltage distribution, and (ii) a standard deviation of the threshold voltage distribution; and</claim-text>
<claim-text>the control circuitry is further configured to
<claim-text>based at least on one or more of (i) the determined mean of the threshold voltage distribution, and (ii) the determined standard deviation of the threshold voltage distribution, calculate an ideal or near-ideal reference voltage, and</claim-text>
<claim-text>using the ideal or near-ideal reference voltage, perform an operation on at least one of the plurality of memory cells.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The controller of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein calculating a threshold voltage is further based at least in part on known storage levels of the plurality of flash memory cells.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The controller of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the condition comprises at least success in decoding an error correction code (ECC).</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A memory device comprising:
<claim-text>a memory bank comprising a plurality of flash memory cells; and</claim-text>
<claim-text>a controller comprising control circuitry coupled to (i) a voltage generator, and (ii) the memory bank, wherein the control circuitry is configured to
<claim-text>command the memory bank to iteratively perform read operations on the plurality of flash memory cells until a condition is met, wherein (i) each iteration of the read operations utilizes a different one of a plurality of reference voltages generated by the voltage generator, and (ii) the iteratively-performed read operations produce two or more read results, and</claim-text>
<claim-text>synthesize two or more of the read results to determine data for output.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The memory device of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the control circuitry is configured to synthesize two or more of the read results by at least quantizing the two or more read results.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The memory device of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein:
<claim-text>the data for output includes, for each bin of a plurality of bins, a number of flash memory cells having threshold voltages that fall within the bin; and</claim-text>
<claim-text>the plurality of bins represents a plurality of threshold voltage ranges.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The memory device of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein a boundary between at least two of the bins is defined by one of the plurality of reference voltages.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The memory device of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the control circuitry is further configured to, based at least in part on the number of flash memory cells that fall into each of the bins, calculate a threshold voltage distribution of the plurality of flash memory cells.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The memory device of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein:
<claim-text>calculating a threshold voltage distribution comprises calculating (i) a mean of the threshold voltage distribution, and (ii) a standard deviation of the threshold voltage distribution;</claim-text>
<claim-text>the control circuitry is further configured to
<claim-text>based at least on one or more of (i) the determined mean of the threshold voltage distribution, and (ii) the determined standard deviation of the threshold voltage distribution, calculate an ideal or near-ideal reference voltage, and</claim-text>
<claim-text>using the ideal or near-ideal reference voltage, perform an operation on at least one of the plurality of memory cells.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The memory device of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein calculating a threshold voltage is further based at least in part on known storage levels of the plurality of flash memory cells.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The memory device of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the condition comprises at least success in decoding an error correction code (ECC).</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The memory device of <claim-ref idref="CLM-00009">claim 9</claim-ref>, further comprising the voltage generator coupled to the memory bank, wherein the voltage generator is further configured to provide the memory bank with the plurality of reference voltages.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The memory device of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein:
<claim-text>the voltage generator includes a digital-to-analog-converter;</claim-text>
<claim-text>the digital-to-analog converter is configured to (i) accept digital inputs, and (ii) generate analog voltages corresponding to the digital inputs; and</claim-text>
<claim-text>the analog voltages serve as the plurality of reference voltages. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
