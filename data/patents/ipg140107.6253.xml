<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08627396-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08627396</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13155102</doc-number>
<date>20110607</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>32</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20110101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>7</main-group>
<subgroup>173</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>725116</main-classification>
<further-classification>709224</further-classification>
</classification-national>
<invention-title id="d2e53">Systems and methods for prioritization of data for intelligent discard in a communication network</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5515377</doc-number>
<kind>A</kind>
<name>Horne et al.</name>
<date>19960500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>37039564</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6222841</doc-number>
<kind>B1</kind>
<name>Taniguchi</name>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7200670</doc-number>
<kind>B1</kind>
<name>Hearn et al.</name>
<date>20070400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709232</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2004/0073692</doc-number>
<kind>A1</kind>
<name>Gentle et al.</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2005/0021806</doc-number>
<kind>A1</kind>
<name>Richardson et al.</name>
<date>20050100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2005/0175085</doc-number>
<kind>A1</kind>
<name>Bergen et al.</name>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>37524001</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2006/0165172</doc-number>
<kind>A1</kind>
<name>Koh et al.</name>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2008/0267140</doc-number>
<kind>A1</kind>
<name>Lee et al.</name>
<date>20081000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2009/0185618</doc-number>
<kind>A1</kind>
<name>Liu et al.</name>
<date>20090700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2009/0193484</doc-number>
<kind>A1</kind>
<name>Zhang et al.</name>
<date>20090700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2009/0232202</doc-number>
<kind>A1</kind>
<name>Chen et al.</name>
<date>20090900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>37524002</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>WO</country>
<doc-number>2006068445</doc-number>
<kind>A1</kind>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00013">
<othercit>R. Fielding et al., &#x201c;Hypertext Transfer Protocol&#x2014;HTTP/1.1&#x201d;, Network Working Group, Standards Track, Jun. 1999, 157 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>M. Baugher et al., &#x201c;The Secure Real-time Transport Protocol (SRTP)&#x201d;, Network Working Group, RFC 3711, Standards Track, Mar. 2004, 57 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00015">
<othercit>John A. Bocharov et al., &#x201c;Portable encoding of audio-video objects, The Protected Interoperable File Format (PIFF)&#x201d;, Microsoft Corporation, First Edition Sep. 8, 2009, Revised Mar. 9, 2010, 32 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00016">
<othercit>&#x201c;Adobe Flash Video File Format Specification&#x201d;, Version 10.1, Aug. 2010, 89 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00017">
<othercit>&#x201c;HTTP Dynamic Streaming on the Adobe Flash Platform&#x201d;, Adobe, Sep. 2010, 18 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00018">
<othercit>&#x201c;Advanced Systems Format (ASF) Specification&#x201d;, Microsoft, Revision 01.20.05, Jun. 2010, 110 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00019">
<othercit>&#x201c;Protocol Analysis of PPlive and PPstream by Internet Measurement&#x201d;, Yunfei Zhang, China Mobile, Mar. 23, 2009, 13 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00020">
<othercit>http://wiki.theory.org/BitTorrentSpecification, last modified Jun. 7, 2011, 25 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00021">
<othercit>R. Pantos et al., &#x201c;HTTP Live Streaming draft-pantos-http-live-streaming-05&#x201d;, Apple Inc., IETF draft, Nov. 19, 2010, 23 sheets.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00022">
<othercit>&#x201c;[MS-SMTH]: IIS Smooth Streaming Transport Protocol&#x201d;, Microsoft Corporation, Sep. 8, 2009, 55 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00023">
<othercit>&#x201c;Flash Media Manifest File Format Specification&#x201d;, OSMF.org, Jun. 28, 2010, version 1.01, http://osmf.org/dev/osmf/specpdfs/FlashMediaManifestFileFormatSpecification.pdf, 5 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00024">
<othercit>&#x201c;PSS: Progressive Download and Dynamic Adaptive Streaming over HTTP (3GP-DASH)&#x201d;, 3GPP Release 10, TS 26.247 V10.1.0, Nov. 2010, 92 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00025">
<othercit>&#x201c;Dynamic adaptive streaming over HTTP (DASH)&#x201d;, MPEG System Technologies, Part 6, ISO/IEC (FCD) 23001-6, Jan. 28, 2011, 86 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00026">
<othercit>&#x201c;Information technology&#x2014;Coding of audio visual objects&#x2014;Part 12: ISO base media file format, Amendment 3: DASH support and RTP reception hint track processing&#x201d;, ISO/IEC 14496-12, Jan. 28, 2011, 43 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00027">
<othercit>Thomas Stockhammer, &#x201c;Dynamic Adaptive Streaming over HTTP&#x2014;Design Principles and Standards&#x201d;, Qualcomm Incorporated, accessed on Aug. 11, 2011, 3 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00028">
<othercit>ITU-R Rec. BT.500-12, &#x201c;Methodology for the subjective assessment of the quality of television pictures&#x201d;, BT Series, Broadcasting service (television), Sep. 2009, 46 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00029">
<othercit>Series P: Telephone Transmission Quality, Telephone Installations, Local Line Networks, Audiovisual quality in multimedia services, &#x201c;Subjective video quality assessment methods for multimedia applications&#x201d;, Itu-T Rec. P.910, Apr. 2008, 42 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00030">
<othercit>ANSI T1.801.3-2003, &#x201c;American National Standard for Telecommunications&#x2014;Digital Transport of One-Way Video Signals&#x2014;Parameters for Objective Performance Assessment.&#x201d;</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00031">
<othercit>Series J: Cable Networks and Transmission of Television, Sound Programme and Other Multimedia Signals, &#x201c;Objective perceptual video quality measurement techniques for digital cable television in the presence of a full reference&#x201d;, ITU-T Rec. J.144, Mar. 2004, 156 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00032">
<othercit>&#x201c;ITS Video Quality Research&#x201d; Video Quality Metric (VQM) website, http://www.its.bldrdoc.gov/n3/video/standards/index.php, accessed Aug. 3, 2011, 3 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00033">
<othercit>Series J: Cable Networks and Transmission of Television, Sound Programme and Other Multimedia Signals, Measurement of the quality of service, &#x201c;Perceptual audiovisual quality measurement techniques for multimedia services over digital cable television networks in the presence of a reduced bandwidth reference&#x201d;, ITU-T Rec. J.246, Aug. 2008, 42 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00034">
<othercit>Series J: Cable Networks and Transmission of Television, Sound Programme and Other Multimedia Signals, Measurement of the quality of service, &#x201c;Objective perceptual multimedia video quality measurement in the presence of a full reference&#x201d;, ITU-T Rec. J.247, Aug. 2008, 108 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00035">
<othercit>Myl&#xe8;ne C. Q. Farias, &#x201c;Video Quality Metrics&#x201d;, Department of Computer Science, University of Brasilia (UnB), Brazil, Feb. 2010, 30 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00036">
<othercit>Z. Wang et al., &#x201c;Image quality assessment: From error visibility to structural similarity&#x201d;, IEEE Transactions on Image Processing, vol. 13, No. 4, Apr. 2004, 14 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00037">
<othercit>&#x201c;Cisco ASR 5000 Multimedia Core Platform&#x201d;, Cisco datasheet, Cisco Systems, Inc., 2010, 4 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00038">
<othercit>V. Vukadinovic, &#x201c;Mobility and opportunistic resource allocation in wireless multimedia networks&#x201d;, Doctoral Thesis, Stockholm, Sweden, 2010, 46 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00039">
<othercit>F. Qian et al., &#x201c;Characterizing Radio Resource Allocation for 3G Networks&#x201d;, Nov. 2010, 14 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00040">
<othercit>S. Kumar et al., &#x201c;Error Resiliency Schemes in H.264/AVC Standard&#x201d;, Elsevier Inc., Aug. 24, 2005, 26 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00041">
<othercit>International Search Report and Written Opinion issued in corresponding PCT/US2011/053495 on Feb. 9, 2012, 8 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00042">
<othercit>International Search Report and Written Opinion issued in corresponding PCT/US2011/053493 on Apr. 9, 2012, 9 pages.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>37</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>725 86-116</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709217-232</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>18</number-of-drawing-sheets>
<number-of-figures>25</number-of-figures>
</figures>
<us-related-documents>
<continuation-in-part>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>12813856</doc-number>
<date>20100611</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8068440</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13155102</doc-number>
</document-id>
</child-doc>
</relation>
</continuation-in-part>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61421510</doc-number>
<date>20101209</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61186707</doc-number>
<date>20090612</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61187113</doc-number>
<date>20090615</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61187118</doc-number>
<date>20090615</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120151540</doc-number>
<kind>A1</kind>
<date>20120614</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Stanwood</last-name>
<first-name>Kenneth</first-name>
<address>
<city>Vista</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Gell</last-name>
<first-name>David</first-name>
<address>
<city>San Diego</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Stanwood</last-name>
<first-name>Kenneth</first-name>
<address>
<city>Vista</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Gell</last-name>
<first-name>David</first-name>
<address>
<city>San Diego</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Procopio, Cory, Hargreaves &#x26; Savitch LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Cygnus Broadband, Inc.</orgname>
<role>02</role>
<address>
<city>San Diego</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Shang</last-name>
<first-name>Annan</first-name>
<department>2424</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Systems and methods for optimizing system performance of capacity and spectrum constrained, multiple-access communication systems by selectively discarding packets are provided. The systems and methods provided herein can drive changes in the communication system using control responses. One such control responses includes the optimal discard (also referred to herein as &#x201c;intelligent discard&#x201d;) of network packets under capacity constrained conditions. Some embodiments inspect a video stream to determine priorities for various elements of the video stream. The elements may be discarding using the priorities. In various embodiments, the elements include frames, slices, macroblocks, and data partitions.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="195.16mm" wi="247.06mm" file="US08627396-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="260.86mm" wi="203.62mm" orientation="landscape" file="US08627396-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="281.35mm" wi="218.36mm" orientation="landscape" file="US08627396-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="142.58mm" wi="149.78mm" orientation="landscape" file="US08627396-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="252.98mm" wi="185.42mm" orientation="landscape" file="US08627396-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="267.72mm" wi="204.89mm" file="US08627396-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="263.06mm" wi="185.42mm" file="US08627396-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="265.51mm" wi="196.09mm" file="US08627396-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="173.06mm" wi="137.67mm" file="US08627396-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="221.15mm" wi="185.25mm" file="US08627396-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="225.64mm" wi="165.61mm" file="US08627396-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="230.63mm" wi="211.16mm" file="US08627396-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="162.64mm" wi="120.31mm" file="US08627396-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="231.65mm" wi="194.56mm" file="US08627396-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="255.52mm" wi="194.82mm" file="US08627396-20140107-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="226.91mm" wi="199.90mm" file="US08627396-20140107-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="250.19mm" wi="205.57mm" file="US08627396-20140107-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="268.73mm" wi="153.08mm" file="US08627396-20140107-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="202.95mm" wi="112.86mm" file="US08627396-20140107-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<p id="p-0002" num="0001">This application claims the benefit of U.S. provisional patent application Ser. No. 61/421,510 entitled &#x201c;SYSTEMS AND METHODS FOR INTELLIGENT DISCARD IN A COMMUNICATION NETWORK,&#x201d; filed on Dec. 9, 2010. U.S. patent application Ser. No. 12/813,856 entitled &#x201c;SYSTEM AND METHOD FOR INTERACTIVE INTELLIGENT DISCARD IN A COMMUNICATION NETWORK,&#x201d; filed on Jun. 11, 2010 which claims the benefit of U.S. provisional patent application Ser. No. 61/186,707 entitled &#x201c;SYSTEM AND METHOD FOR INTERACTIVE INTELLIGENT DISCARD IN A COMMUNICATION NETWORK,&#x201d; filed on Jun. 12, 2009, U.S. provisional patent application Ser. No. 61/187,113 entitled &#x201c;SYSTEM AND METHOD FOR REACTIVE INTELLIGENT DISCARD IN A COMMUNICATION NETWORK,&#x201d; filed on Jun. 15, 2009, and U.S. provisional patent application Ser. No. 61/187,118 entitled &#x201c;SYSTEM AND METHOD FOR PROACTIVE INTELLIGENT DISCARD IN A COMMUNICATION NETWORK,&#x201d; filed on Jun. 15, 2009, are all incorporated herein by reference in their entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">The present invention generally relates to the field of communication systems and more specifically to systems and methods for optimizing system performance by selectively discarding packets in capacity and spectrum constrained, multiple-access communication systems.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">In capacity and spectrum constrained, multiple-access communication system, two goals are omnipresent: the successful transfer of information, and the minimization of such transmissions from disrupting other transfers. Often these goals are in conflict with each other, and thus represent opportunity for system optimization.</p>
<p id="p-0005" num="0004">In a cellular network, for example, the creation of a positive user experience is the success criteria for the transport of information. Often this metric is further defined as the quality of service of a particular user task or application. In contrast, this activity can be viewed by its effect on other network users, specifically through the usage of limited system resources and through the creation of channel interference.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0006" num="0005">Systems and methods for optimizing system performance of capacity and spectrum constrained, multiple-access communication systems by selectively discarding packets are provided. The systems and methods provided herein can drive changes in the communication system using control responses. One such control response includes the optimal discard (also referred to herein as &#x201c;intelligent discard&#x201d;) of network packets under capacity constrained conditions.</p>
<p id="p-0007" num="0006">In one aspect a system managing video transmission responsive to network conditions includes a determination module configured to determine a priority value for each frame in a video stream, each frame having a frame type, wherein the priority value of each frame is based on at least in part on the frame type; and a selection module configured to discard one or more frames based at least in part on the priority value of the frames.</p>
<p id="p-0008" num="0007">In a further aspect each frame comprises one or more slices having a slice type and the determination module is configured to determine a priority value for the one or more slices based at least in part on the slice type. Additionally, the selection module is configured to discard one or more slices based on the priority values of the slices. The discarded slices can be redundant slices. Further, the determination of the priority value of switching slices can be dynamic. In a further aspect each slice comprises a plurality of data partitions, each data partition having a type, and the determination module is configured to determine a priority value for each data partition and the priority value of each data partition is based at least in part based on the frame type.</p>
<p id="p-0009" num="0008">In a further aspect the determination module is configured to determine the priority value for each frame based at least in part on the priority values for the slices in the frame.</p>
<p id="p-0010" num="0009">In another aspect each slice comprises one or more macroblocks having a macroblock type, and the priority of each slice is determined based at least in part on the macroblock types of the macroblocks in the slice. Alternatively, the priority value for each slice is based at least in part on the size of the slice. Additionally, the priority value for each frame can be based at least in part on the size of the frame. Further, the priority value for each frame can be based at least in part on whether an adjacent frame has been discarded.</p>
<p id="p-0011" num="0010">In a further aspect each frame comprises one or more macroblocks having a macroblock type, and the priority of each slice is determined based at least in part on the macroblock types of the macroblocks in the slice.</p>
<p id="p-0012" num="0011">A further aspect relates to a system for managing video transmission responsive to network conditions having a determination module configured to determine a priority value for each frame in a group of pictures (GOP), wherein one or more of the frames depends on another frame for decoding, and wherein the priority value of each frame is based at least in part on the number of frames which depend from the frame.</p>
<p id="p-0013" num="0012">In a further aspect a computer implemented method for managing video transmission responsive to network conditions includes receiving a plurality of frames in a group of pictures (GOP) to be transmitted to one or more devices; determining that insufficient bandwidth is available for sending each frame in the GOP; determining a priority value for each frame in the GOP, wherein one or more of the frames depends on another frame for decoding, and wherein the priority value of each frame is based at least in part on the number of frames which depend from the frame; discarding one or more of the frames based on the priority value of each frame; and transmitting the non-discarded frames to the one or more devices.</p>
<p id="p-0014" num="0013">In another aspect a computer implemented method for managing video transmission responsive to network conditions includes receiving a plurality of frames in a video stream to be transmitted to one or more devices; determining that insufficient bandwidth is available for sending each frame in the video stream; determining a priority value for each frame in the video frame, each frame having a frame type, wherein the priority value of each frame is based on at least in part on the frame type; discarding one or more of the frames based on the priority value of each frame; and transmitting the non-discarded frames to the one or more devices.</p>
<p id="p-0015" num="0014">Other features and advantages of the present invention should be apparent from the following description which illustrates, by way of example, aspects of the invention.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0016" num="0015">The details of the present invention, both as to its structure and operation, may be gleaned in part by study of the accompanying drawings, in which like reference numerals refer to like parts, and in which:</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of a wireless communication network in which the systems and methods disclosed herein can be implemented according to an embodiment;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 2A</figref> is block diagram of another wireless communication network in which the systems and methods disclosed herein can be implemented according to an embodiment;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 2B</figref> is a block diagram of an access point or base station that can be used to implement the systems and methods illustrated in <figref idref="DRAWINGS">FIGS. 3-6</figref> according to an embodiment;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 3</figref> is a logical block diagram of a system for mitigating effects of interference scenarios in a wireless communication network according to an embodiment;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 4</figref> is a flow diagram of a method that can be used to generate the feedforward and feedback adjustments of the radio frequency (RF) network and system environment using the system illustrated in <figref idref="DRAWINGS">FIG. 3</figref> according to an embodiment;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 5</figref> is a flow diagram of a method for mitigating effects of interference scenarios in a wireless communication network according to an embodiment;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 6</figref> is a flow diagram of a method for mitigating effects of interference scenarios in a wireless communication network according to an embodiment;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 7</figref> is a logical block diagram of a system for mitigating effects of interference scenarios in a wireless communication network according to an embodiment;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 8A</figref> is a diagram of plurality of frames in a group of pictures according to an embodiment;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 8B</figref> is a diagram of plurality of frames in a group of pictures according to an embodiment;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 9</figref> is a flow diagram of a method for determining priority for frames in a group of pictures according to a embodiment;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 10</figref> is a diagram of plurality of frames in a group of pictures according to an embodiment;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 11</figref> is a diagram of plurality of frames in a group of pictures according to an embodiment;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 12</figref> is a diagram of plurality of frames in a group of pictures according to an embodiment;</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 13</figref> is a diagram of plurality of frames in a group of pictures according to an embodiment;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 14</figref> is a diagram of plurality of frames in a group of pictures according to an embodiment;</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 15</figref> is a flow diagram of a method for determining burdens for frames in a group of pictures according to a embodiment;</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 16</figref> is a diagram of a weighting factor vector according to an embodiment;</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 17</figref> is a diagram of a weighting factor vector according to an embodiment;</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 18</figref> is a diagram of a frame burden table and frame priority vector according to an embodiment;</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 19</figref> is a flow diagram of a method for determining burdens for frames in a group of pictures according to a embodiment;</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 20</figref> is a diagram of a frame burden table and frame priority vector according to an embodiment;</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 21</figref> is a diagram of a weighting factor table according to an embodiment;</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 22</figref> is a flow diagram of a method for determining priority of a frame according to an embodiment; and</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 23</figref> is a flow diagram of a method for determining priority of a frame according to an embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0042" num="0041">Some embodiments provide systems and methods for a multivariate control system that can be implemented in a base station or other device. The control system can be configured to for mitigating the effects of various interference scenarios in a capacity and spectrum constrained, multiple-access communication network. In other embodiments, the control system can be configured for making adjustments to or changing the overall bandwidth demands. The systems and methods provided herein can drive changes in the communication system using control responses. One such control responses includes the optimal discard (also referred to herein as &#x201c;intelligent discard&#x201d;) of network packets under capacity constrained conditions. Some embodiments provide an interactive response by selectively discarding packets to enhance perceived and actual system throughput, other embodiments provide a reactive response by selectively discarding data packets based on their relative impact to service quality to mitigate oversubscription, others provide a proactive response by discarding packets based on predicted oversubscription, and others provide a combination thereof.</p>
<p id="p-0043" num="0042">According to an embodiment, an interactive response technique is provided that allows transmission and radio access network (RAN)/radio frequency (RF) parameters to be optimized for robustness against interference from neighboring cells and optimized for mitigation of interference to neighboring cells. These optimizations are performed by determining and considering throughput levels and associated quality scores for a set of active services. A high quality user experience can be maintained where perceived and actual system throughput is controlled by selectively discarding packets.</p>
<p id="p-0044" num="0043">According to an embodiment, a reactive response technique is provided that allows selected data packets to be discarded based on their relative impact to service quality in order to mitigate oversubscription caused by modification of transmission parameters or by varying the RAN/RF parameters to mitigate interference between neighboring cells. Reactively discarding packets in reaction to varying available bandwidth can provide an increase in perceived quality of the user experience for a given amount of bandwidth and can provide an increase in the number of services that can be maintained for a given amount of bandwidth.</p>
<p id="p-0045" num="0044">According to an embodiment, a proactive response technique is provided that can improve the quality of the user experience and system throughput by predicting oversubscription and selectively discarding packets or marking packets for efficient discard prior to anticipated oversubscription. Proactively discarding packets in reaction to anticipated oversubscription can provide an increase in perceived quality of the user experience for a given amount of bandwidth and can provide an increase in the number of services that can be maintained for a given amount of bandwidth and for a given amount of change in bandwidth. In an embodiment, selectively proactively discarding packets can be used to optimize transmission and RAN/RF parameters to increase robustness against interference from neighboring cells and to mitigate interference to neighboring cells in anticipation of events which cause a need for such parameter changes. Proactively applying intelligent discard and considering intelligent discard to proactively modify transmission and RAN/RF parameters before a bandwidth limiting event occurs can provide a better user experience transition than can be achieved by waiting to apply intelligent discard and to modify transmission and RAN/RF parameters until after such a bandwidth limiting event.</p>
<p id="p-0046" num="0045">Some embodiments provide systems and methods for a multivariate control system that can be implemented in a base station. The control system can be configured to mitigate the effects of various interference scenarios in a capacity and spectrum constrained, multiple-access communication network. In other embodiments, the control system can be configured for making adjustments to or changing the overall bandwidth demands.</p>
<p id="p-0047" num="0046">The systems and methods disclosed herein can be applied to various capacity-limited communication systems, including but not limited to wireline and wireless technologies. For example, the systems and methods disclosed herein can be used with Cellular 2G, 3G, 4G (including Long Term Evolution (&#x201c;LTE&#x201d;), LTE Advanced, WiMax), WiFi, Ultra Mobile Broadband (&#x201c;UMB&#x201d;), cable modem, and other wireline or wireless technologies. Although the phrases and terms used herein to describe specific embodiments can be applied to a particular technology or standard, the systems and methods described herein are not limited to the these specific standards.</p>
<p id="p-0048" num="0047">Although the phrases and terms used to describe specific embodiments may apply to a particular technology or standard, the methods described remain applicable across all technologies.</p>
<p id="p-0049" num="0048">According to an embodiment, the systems and methods disclosed herein, including intelligent discard of packets, can be practiced within any entity within the communications system that performs scheduling. This includes the scheduling of downlink bandwidth by any form of base station, including macrocell, picocell, enterprise femtocell, residential femtocell, relays, or any other form of base station. According to an embodiment, intelligent discard can be performed by any form of device which transmits in the uplink direction including user devices, both fixed and mobile, and relay devices. According to an embodiment, intelligent discard can be performed by a scheduling algorithm, housed in the core network which centrally directs the actions of devices. According to an embodiment, intelligent discard can be predictively performed by an entity such as a base station that allocates uplink bandwidth for use by another entity, such as a user device known to be capable of intelligent discard. The base station and the user device can negotiate whether or not the user device has intelligent discard capability, or in some embodiments, whether the user device has intelligent discard capability can be determined based on the model identification of the user device.</p>
<p id="h-0006" num="0000">Basic Deployments</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of a wireless communication network in which the systems and methods disclosed herein can be implemented according to an embodiment. <figref idref="DRAWINGS">FIG. 1</figref> illustrates a typical basic deployment of a communication system that includes macrocells, picocells, and enterprise femtocells. In a typical deployment, the macrocells can transmit and receive on one or many frequency channels that are separate from the one or many frequency channels used by the small form factor (SFF) base stations (including picocells and enterprise or residential femtocells). In other embodiments, the macrocells and the SFF base stations can share the same frequency channels. Various combinations of geography and channel availability can create a variety of interference scenarios that can impact the throughput of the communications system.</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a typical picocell and enterprise femtocell deployment in a communications network <b>100</b>. Macro base station <b>110</b> is connected to a core network <b>102</b> through a standard backhaul <b>170</b>. Subscriber stations <b>150</b>(<b>1</b>) and <b>150</b>(<b>4</b>) can connect to the network through macro base station <b>110</b>. In the network configuration illustrated in <figref idref="DRAWINGS">FIG. 1</figref>, office building <b>120</b>(<b>1</b>) causes a coverage shadow <b>104</b>. Pico station <b>130</b>, which can be connected to core network <b>102</b> via standard backhaul <b>170</b>, can provide coverage to subscriber stations <b>150</b>(<b>2</b>) and <b>150</b>(<b>5</b>) in coverage shadow <b>104</b>.</p>
<p id="p-0052" num="0051">In office building <b>120</b>(<b>2</b>), enterprise femtocell <b>140</b> provides in-building coverage to subscriber stations <b>150</b>(<b>3</b>) and <b>150</b>(<b>6</b>). Enterprise femtocell <b>140</b> can connect to core network <b>102</b> via ISP network <b>101</b> by utilizing broadband connection <b>160</b> provided by enterprise gateway <b>103</b>.</p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. 2A</figref> is a block diagram of another wireless communication network in which the system and methods disclosed herein can be implemented according to an embodiment. <figref idref="DRAWINGS">FIG. 2A</figref> illustrates a typical basic deployment in a communications network <b>200</b> that includes macrocells and residential femtocells deployed in a residential environment. Macrocell base station <b>110</b> can be connected to core network <b>102</b> through standard backhaul <b>170</b>. Subscriber stations <b>150</b>(<b>1</b>) and <b>150</b>(<b>4</b>) can connect to the network through macro base station <b>110</b>. Inside residences <b>220</b>, residential femtocell <b>240</b> can provide in-home coverage to subscriber stations <b>150</b>(<b>7</b>) and <b>150</b>(<b>8</b>). Residential femtocells <b>240</b> can connect to core network <b>102</b> via ISP network <b>101</b> by utilizing broadband connection <b>260</b> provided by cable modem or DSL modem <b>203</b>.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 2B</figref> is a high level block diagram of an access point or base station. The base station includes a modem section <b>272</b> which transmits and receives wireless signals. The modem can also measure and determine various characteristics of the received signals. The control and management section <b>270</b> was generally responsible for the operation of the base station. In some embodiments described herein, the control and management section <b>270</b> implements the system and method described herein in connection with <figref idref="DRAWINGS">FIGS. 3-6</figref>.</p>
<p id="h-0007" num="0000">Interference Scenarios</p>
<p id="p-0055" num="0054">Various interference scenarios can result in decreases in perceived and actual performance of the communications network. For example, the 3rd Generation Partnership Project (3GPP) has identified a number of interference scenarios in a technical report (3GPP TR 25.967), which is hereby incorporated by reference in its entirety. Some examples of interference scenarios include: (1) Uplink (UL) transmission from subscriber station to SFF base station interfering with UL of macrocell base station; (2) Downlink (DL) transmission of SFF base station interfering with macrocell base station DL; (3) UL transmission from subscriber station to macrocell base station interfering with SFF base station uplink; (4) DL transmission of macro base station interfering with SFF base station DL; (5) UL transmission from subscriber station to SFF base station interfering with UL of SFF station; (6) DL transmission of SFF base station interfering with SFF base station DL; and (7) interference to and from systems of other technologies.</p>
<p id="h-0008" num="0000">Avoidance and Mitigation Techniques</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 3</figref> is a logical block diagram illustrating an example of the functional elements of a multivariate control system for mitigating the effects of various interference scenarios in a capacity and spectrum constrained, multiple-access communication network, such as those described above, according to an embodiment. The functionality of the system is show in <figref idref="DRAWINGS">FIG. 3</figref> broken down into modules to more clearly illustrate the functionality of the control system. The control system can be implemented in a macrocell base station, picocell, or femtocell, such as macrocell base station <b>110</b>, pico station <b>130</b>, and residential femtocell <b>240</b> illustrated in <figref idref="DRAWINGS">FIGS. 1</figref>, <b>2</b>A, and <b>2</b>B. Alternatively, portions can be distributed to a base station controller (BSC) or other element of core network <b>102</b>.</p>
<p id="p-0057" num="0056">In an embodiment, the control system can be configured to provide optimal responses in the following areas: (1) interference avoidance and (2) interference mitigation. The control system can avoid radio frequency (RF) interface through optimal control of RF/RAN parameters. The control system can also preserve packet quality of service (&#x201c;QoS&#x201d;) when interference cannot be avoided or when interference avoidance or mitigation result in decreased bandwidth availability.</p>
<p id="p-0058" num="0057">According to an embodiment, various types of input parameters can be used by the control system. In an embodiment, these input parameters can be divided into policy parameters and environment parameters. Policy parameters module <b>310</b> can be configured to receive policy parameters, and environment parameter module <b>320</b> can be configured to receive environment parameters. The policy parameters received by policy parameters module <b>310</b> are operational requirements defined by, for example, the network provider. These policy parameters can be broken down into two groups of system requirements: QoS policies and interference policies. In an embodiment, the policy parameters can include QoS policies at an application level, by time/day, by service level agreement (SLA), manually define QoS parameters, or a combination thereof. The policy parameters can also include policies related to various interference related parameters, such as received signal strength indicator (RSSI), energy per bit to noise power spectral density ratio (E<sub>b</sub>/N<sub>0</sub>), carrier-to-interference ratio (C/I), noise floor (the measure of the signal created from the sum of all of the noise source and unwanted signals), or other interference related parameters. The control system can use the policy parameters to determine the types of actions that can be undertaken to avoid interference and to mitigate interference when interference cannot be avoided.</p>
<p id="p-0059" num="0058">The environment input parameters received by environment parameter module <b>320</b> comprise real-time information that describes the operating status of the RF network and system environment. This information can be obtained at a base station (e.g., a macrocell, picocell, or femtocell as depicted in <figref idref="DRAWINGS">FIGS. 1</figref>, <b>2</b>A, and <b>2</b>B) or reported by a subscriber station and can also include information about neighboring cells. The environment input parameters <b>320</b> can be further divided into two categories of input parameters: self environment parameters and remote environment parameters. The self environment parameters are environment parameters related to or obtained by the station in which the control system is implemented. For example, in one embodiment, the self environment parameters can include Layer 1-7 parameters of both the RF and backhaul femtocell or picocell ports. Remote environment parameters are related to or obtained from other cells and/or user equipment operating nearby the base station that can have an impact on the operating environment of the base station. For example, in an embodiment, the remote environment parameters can include Layer 1-7 parameters of the user equipment (UE), Core Network and other neighboring cells defined by base stations, such as evolved Node B (eNB or eNodeB), and pico stations and femtocells, such as evolved Home Node B devices (eHNB or Home eNodeB), collectively e(H)NB devices.</p>
<p id="p-0060" num="0059">From the policy parameters and environment parameters, additional sets of parameters can be derived including control set points, real-time profile, and patterns. Control set points module <b>315</b> is configured to derive control set points from the policy inputs received by the policy parameters module <b>310</b> from the network provider or can be derived manually. The control set points comprise quantitative parameters that can be used as control loop target values. These quantitative parameters can be divided into QoS parameters and interference parameters. Some examples of QoS parameters include frame size and frame rate, and frame error rate (FER) by packet type for video content. Some additional examples of QoS parameters include mean opinion score (&#x201c;MOS&#x201d;), latency, and jitter for voice content. Additional examples of QoS parameters are throughput and bit error rate (BER) for data content. The interference related parameters can include, but are not limited to, various interference related parameters, such as received signal strength indicator (RSSI), energy per bit to noise power spectral density ratio (E<sub>b</sub>/N<sub>0</sub>), carrier-to-interference ratio (C/I), and noise floor (the measure of the signal created from the sum of all of the noise source and unwanted signals). The control set points can be used by assessment module <b>330</b> of the control system to assess the current state of the communication network based on a real-time profile <b>325</b> of the RF network and system environment and to determine whether to feedback signals should be generated to adjust the operating state of the network.</p>
<p id="p-0061" num="0060">The real-time profile module <b>325</b> is configured to generate a real-time profile of the communication system based on the environment input parameters received by environment parameter module <b>320</b>. In an embodiment, the real-time profile comprises quantitative parameters that reflect current operating conditions of the communication network. The real-time profile can comprise QoS and interference related parameters. Some examples of QoS-related parameters include BER, throughput, latency/jitter, protocol-related parameters, and application-related parameters. The interference related parameters can include, but are not limited to, various interference related parameters, such as received signal strength indicator (RSSI), energy per bit to noise power spectral density ratio (E<sub>b</sub>/N<sub>0</sub>), carrier-to-interference ratio (C/I), and noise floor (the measure of the signal created from the sum of all of the noise source and unwanted signals). According to an embodiment, the real-time profile can comprise a datagram, spreadsheet, or other representation of the current operating conditions of the communication network.</p>
<p id="p-0062" num="0061">Patterns module <b>335</b> is configured to generate patterns that comprise a set of historical quantitative parameter patterns that can be used to generate feedforward control responses. The patterns can be derived from the environment parameters received by environment parameter module <b>320</b> and the real-time profile generated by real-time profile module <b>325</b>. These patterns can reflect usage patterns on the network. For example, in an embodiment, the patterns can include specific drivers related to the date and/or time, a specific application or protocol, and/or a specific UE.</p>
<p id="p-0063" num="0062">The control set points generated by control set points module <b>315</b> and the real-time profile generated by real-time profile module <b>325</b> can be assessed by assessment module <b>330</b> to compare the current operating parameters of the communication network represented in the real-time profile with the control set points to determine whether current operating conditions of the network meet the operational requirements included in the policy parameters. If the current operating conditions of the network do not meet the requirements set forth in the policy parameters, the assessment module <b>330</b> can generate feedback signals indicating that operating parameters of the communication system need to be adjusted.</p>
<p id="p-0064" num="0063">The control response module <b>340</b> is configured to receive the feedback signals from the assessment module <b>330</b>. The control response module <b>340</b> (also referred to herein as an optimization module) is configured to optimize the operating parameters of the communication network in an attempt to meet the requirements of the operator policy. The control response module <b>340</b> can be configured to generate control signals based on the feedback signals received from the assessment module <b>330</b>. The control signals fall into two categories: &#x201c;self&#x201d; and &#x201c;remote.&#x201d; Self control signals can be applied to the base station itself (the e(H)NB) to change the operating parameters of the base station and remote control signals can be applied to remote devices or components network, including UEs, the Core Network, and other e(H)NB to change the operating parameters of the remote devices or components of the network.</p>
<p id="p-0065" num="0064"><figref idref="DRAWINGS">FIG. 4</figref> is a flow diagram of a method that can be used to generate the feedforward and feedback adjustments of the RF network and system environment using the system illustrated in <figref idref="DRAWINGS">FIG. 3</figref> according to an embodiment. Updated environment inputs are obtained that represent the current state or new current state of the RF network and system environment (step <b>410</b>). The environment inputs correspond to the environment parameters generated by environment parameter module <b>320</b> of the communication system. As described above, the environment parameters can comprise real-time information related to the RF network and system environment obtained from both the picocell or femtocell, subscriber stations, and neighboring cells including macrocells, picocells, and femtocells. A real-time profile is also derived from the updated environment inputs (step <b>415</b>). In an embodiment, the real-time profile corresponds to real-time profile generated by real-time profile module <b>325</b> and can be generated from the environment input parameters obtained in step <b>410</b>.</p>
<p id="p-0066" num="0065">A determination can be made whether the real-time profile matches the set points generated by control set point module <b>315</b> (step <b>420</b>). As described above, the control set points comprise quantitative parameters that can be used as control loop target values. The control set points can be derived from the policy parameters defined by the network provider. If the real-time profile does not match the set points, the real-time information collected related to the RF network and the system environment indicates that the operating state of the network has deviated from the set points that were derived from the network provider's operator policy. In response, the feedback adjustment control signals can be generated (step <b>440</b>) to steer the communications network toward an operating state that is consistent with the policy parameters.</p>
<p id="p-0067" num="0066">Patterns module <b>335</b> can derive patterns from the real-time profile and environment input parameters (step <b>425</b>). In an embodiment, the patterns comprise a set of historical quantitative parameter patterns. A determination is made whether a pattern has changed (step <b>430</b>), and if a pattern has changed, the historical quantitative parameter patterns that can be used to generate feedforward control responses (step <b>435</b>) that can be used to adjust various operating parameters that can be used to steer the communication network toward a desired state.</p>
<p id="p-0068" num="0067">The feedback signals generated in step <b>440</b> and the feedforward signals generated in step <b>435</b> can be used to generate a set of control signals (step <b>450</b>) that can be applied to the &#x2018;self&#x2019; e(H)NB and remote devices, including UEs, the Core Network and other e(H)NB.</p>
<p id="p-0069" num="0068">A determination is made whether the network provider has made changes to the operator policy (step <b>470</b>). If the network operator has made changes to the policy parameters, new set points can be generated by the control set points module <b>315</b> from the operator policy (step <b>475</b>) before returning to step <b>410</b>. Otherwise, the method returns to step <b>410</b> where the environment inputs are collected.</p>
<p id="h-0009" num="0000">Inputs</p>
<p id="p-0070" num="0069">The SFF base station can have access to various environmental information that can be used in generating feedback and feedforward signals for the control response module <b>340</b>. This information can be part of the environment parameters <b>320</b> that can be used to generate the real-time profile generated by real-time profile module <b>325</b> and the patterns generated by patterns module <b>335</b>. The information can be collected by the SFF base station during step <b>410</b> of the method illustrated in <figref idref="DRAWINGS">FIG. 4</figref>. For example; according to an embodiment, the following environmental input data is typically available (sensed, reported to, etc.) to an SFF base station: (1) signal strength from macro BTS(s), (2) signal strength from other SFF base station(s), (3) knowledge of whether the macro base stations and the SFF base stations are co-channel (or adjacent channel); (4) neighboring cell identification data; and (5) macro network specific information and system parameter thresholds. Some examples of additional information that can be available to an SFF base station include: DL co-channel carrier RSSI, DL adjacent channel carrier RSSI, common pilot channel (CPICH) Energy per Chip to Total Noise Power (Ec/No), received total wideband power (RTWP), public land mobile network (PLMN) ID, cell ID, Local Area Code (LAC), Routing Area Code (RAC), scrambling codes, co-channel CPICH received signal code power (RSCP), adjacent channel CPICH RSCP, P-CPICH Tx Power, macro cell data rate and macro cell dead-zone coverage. The macro cell data rate and macro cell dead-zone coverage can take into account various information, including macro station load, the number of active SFF base stations, distance of the SFF base stations to the macro station, fading environment, and time-of-day. The SFF base station can have macro station parameter information available to the SFF base station, including target SNR, measured SNR, and received power.</p>
<p id="h-0010" num="0000">Adjustments</p>
<p id="p-0071" num="0070">The following item are some examples of the type of parameters that can be adjusted in step <b>450</b> by an SFF base station in response to the environment information received via sensing: (1) DL power, (2) UL noise rise target (UL scheduler), (3) UL power, (4) control channel/data channel power ratio, (5) receiver gain, (6) carrier frequency, (7) DL scrambling code, (8) LAC, and (9) RAC.</p>
<p id="h-0011" num="0000">Additional Inputs</p>
<p id="p-0072" num="0071">The SFF base station can have access to additional input information. This information can be part of the environment parameters <b>320</b> that can be used to generate the real-time profile <b>325</b> and patterns <b>335</b>. The information can be collected by the SFF base station during step <b>410</b> of the method illustrated in <figref idref="DRAWINGS">FIG. 4</figref>. For example, additional inputs such as real-time traffic metrics can also be available to an SFF base station and can be used to generate the real time profile <b>325</b>. For example, real-time traffic metrics, such as the number of active UEs, the number of idle UEs, indicators of UE mobility and changes in position, the aggregate UL usage, the aggregate DL usage, the Layer 4-7 profile (Voice, video, web, FTP, etc.), the backhaul capacity, and the per connection BER. The per connection BER data can be obtained before hybrid automatic repeat request (HARQ) or other retry mechanisms or after HARQ or other retry mechanisms. In some embodiments, the per-connection BER can be obtained without HARQ. In some embodiments, the per-connection BER data can include statistics on retries.</p>
<p id="p-0073" num="0072">Historical pattern data (such as patterns <b>335</b>) can also be available to the SFF base station, such as time of day data, day of week data, local holiday data, known/unknown UE entering the network, typical usage rates, and typical usage durations. This historical data can be used to generate patterns <b>335</b>, which can be used to generate feedforward control signals as described above.</p>
<p id="p-0074" num="0073">Policy input data can also be available to the SFF base station, such as QoS requirements data, priorities data, packet inspection data, and advanced antenna inputs. This policy information can be part of the operator policy data <b>310</b> described above. The QoS requirements data can include delay tolerance data jitter tolerance data, BER/PER tolerance data, minimum acceptance rate data, and/or other QoS related data. The priority input data can include data related to priorities between users, between classes of service, between connections, and/or between packets from the same class of service. Packet inspection data and advanced antenna inputs data can also be available to the SFF base station.</p>
<p id="h-0012" num="0000">Additional Parameters Adjusted</p>
<p id="p-0075" num="0074">Additional parameters can be adjusted in step <b>450</b> in an attempt to remedy oversubscription. In one embodiment, RAN/RF parameters, such as modulation and coding, subchannelization, time within frame, subchannel and time hopping, multiple-input multiple-output (MIMO) parameters, and beamforming can be used to remedy oversubscription on the communication system. In another embodiment, traffic policing can be used to remedy oversubscription. Various types of types of traffic policing can be used, including rate limiting, packet blocking, packet dropping and/or intelligent discard. Various techniques for intelligent discard that can be used to remedy oversubscription are described below.</p>
<p id="h-0013" num="0000">Optimizing Performance</p>
<p id="p-0076" num="0075">According to an embodiment, the described systems and methods include an optimization module to optimize performance by varying extended RAN/RF parameters based on QoS, priority, and policy (also referred to herein as the &#x201c;optimization module&#x201d;). According to an embodiment, the optimization module can be implemented in a base station, including a macrocell, picocell, or femtocell base station.</p>
<p id="p-0077" num="0076">In one embodiment, the optimization module is configured to establish the BER/PER or other quality metric level for each class of service (CoS) or connection. In one embodiment, the quality metric can be prioritized based on known/unknown user equipment, where known user equipment can be given priority over unknown user equipment. The user equipment can include mobile, transient, and stationary subscriber stations. In another embodiment, the quality metric can be prioritized based on specific UE identity, and in yet another embodiment, the quality metric can be prioritized based on the application.</p>
<p id="p-0078" num="0077">According to an embodiment, the optimization module is configured to establish required/desired throughput for each class of service or connection. The required/desired throughput can be optionally modified based on whether a UE is known or unknown, based on a specific UE identity, or based on a specific application.</p>
<p id="p-0079" num="0078">According to an embodiment, the optimization module is configured to use a standards based approach to derive baseline interference scenario and baseline RAN/RF parameters.</p>
<p id="p-0080" num="0079">According to an embodiment, the baseline interference scenario and baseline RAN/RF parameters can change in real-time as conditions change in the communications network. For example, some of the changing conditions include the number of active/inactive UEs, traffic in neighboring cells, and indicators of change in position of UE, such as round trip delay, RSSI, and tracking via receive beamforming.</p>
<p id="p-0081" num="0080">According to an embodiment, optimization module can vary the actual scenario and actual RAN/RF parameters in real time as conditions change. For example, in one embodiment, if the BER or quality metric of service drops below a threshold, the required physical parameters of service can be set to be more robust than a baseline value. For example, MIMO can be changed and beamforming advanced antenna techniques can be applied. Furthermore, modulation and coding changes can be made to improve robustness. Alternatively, a determination can be made whether to exceed baseline interference scenarios and/or RAN/RF parameters. For example, the determination can be based on sensing data, permission from/negotiation with central controller, permission from/negotiation with neighboring BTSs, or use spatial multiplexing (beamforming, etc) to minimize interference. Alternatively, a subchannel and time location in frame (e.g., Orthogonal Frequency Division Multiplexing (OFDM) symbol, time slot, etc.) can be chosen to avoid regular interference. Alternatively, subchannels and time location in the frames can be randomized to statistically avoid interference or selectively increase potential caused interference, but mitigate through randomization of impact.</p>
<p id="p-0082" num="0081">In an embodiment, if demand exceeds new maximum aggregate throughput (DL or UL, including bandwidth for managing active and idles UEs) then optimization module can take steps to mitigate the oversubscription. In one embodiment, delay tolerant traffic can be delayed to temporarily reduce demand. For example, one approach includes delaying and buffering content, such as a live video. Live video can be delayed and buffered so long as the variation in delay (jitter) remains within the capacity/time constraints of the delay/jitter buffer. In another embodiment, substantial deferral of &#x201c;download for later use&#x201d; content is used to decrease demand on the network. For example, in one embodiment, downloads of music and/or video content that is not being consumed as the content is received (e.g., non-streaming content) can be temporarily deferred until demand on the network decreases.</p>
<p id="p-0083" num="0082">In another embodiment, if demand exceeds the new maximum aggregate throughput, optimization module can selectively discard frames within a service to reduce demand on the network. For example, some Moving Picture Experts Group (MPEG) frames are less important than others and can be selectively discarded in order to decrease demand on the communication system. In another example, packets having above a minimum acceptable rate for a service can be discarded to reduce demand.</p>
<p id="p-0084" num="0083">In yet another embodiment, if demand exceeds the new maximum aggregate throughput, call admission control (CAC) can be used to curtail services. In some embodiments, services can be curtailed based on priority, while in some embodiments services can be curtailed based on the application.</p>
<p id="p-0085" num="0084">According to an embodiment, the various mitigating actions taken if demand exceeds the new maximum aggregate throughput can be reversed when conditions improve. For example, in one embodiment, hysteresis can be used to smooth reactions.</p>
<p id="p-0086" num="0085"><figref idref="DRAWINGS">FIG. 5</figref> is a flow chart illustrating a method that can be implemented by the optimization module described above to optimizing performance by varying extended RAN/RF parameters based on QoS, priority, and policy according to an embodiment. In an embodiment, the method illustrated in <figref idref="DRAWINGS">FIG. 5</figref> can be implemented by the control system illustrated in <figref idref="DRAWINGS">FIG. 3</figref>. In an embodiment, the method of <figref idref="DRAWINGS">FIG. 5</figref> can be implemented in step <b>450</b> of <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0087" num="0086">The method starts at step <b>501</b> where in parallel the method determines RAN/RF aspects of the system (steps <b>510</b>, <b>512</b>, and <b>514</b>) and QoS and traffic management aspects of the system (steps <b>520</b>, <b>522</b>, <b>524</b>, and <b>526</b>).</p>
<p id="p-0088" num="0087">In step <b>510</b>, the baseline interference scenario is derived and monitored and baseline for RAF/RF parameter settings is created. In an embodiment, the inputs used to derive the baseline interference scenario can include typical inputs such as those suggested in the 3GPP TS 25.967, and additional inputs as suggested in this document, or both. The RAN/RF parameters adjusted can include typical inputs such as those suggested in the 3GPP TS 25.967, and additional RAN/RF parameters as suggested in this document, or a combination thereof. In one embodiment, step <b>510</b> can be performed by the assessment module <b>330</b>.</p>
<p id="p-0089" num="0088">In step <b>512</b>, a determination is made in real-time whether any of the factors influencing the interference scenario and the RAN/RF parameters that represent the current state of the RF network and the system environment have changed. If these factors have not changed, this parallel activity continues with the method proceeding to step <b>530</b>. If the factors have changed, the method proceeds to step <b>514</b> where the baseline interference and RAN/RF parameters are modified to account for the observed changes, and the method proceeds to decision step <b>530</b>. In one embodiment, step <b>512</b> can be performed by the assessment module <b>330</b>, and step <b>514</b> can be performed by the control response module <b>340</b>.</p>
<p id="p-0090" num="0089">The process of managing the influence on classes of service and individual connections, and conversely, managing the influence of individual services and their associated class of service on the interface environment can be begun in parallel with step <b>510</b>. In step <b>520</b>, the maximum or target bit error rate (BER) or packet error rate (PER) (or other quality metric) is established for each class of service or each individual service or connection. Each individual service or connection's actual BER, PER, or other quality metric can be monitored. The maximum or target BER and PER values can be determined based on the operator policy information <b>310</b> provided by the network provider. Additionally, in step <b>520</b>, the throughput needs or targets of the service can also be determined. These throughput targets can have multiple levels, corresponding to multiple levels of QoS that require differing levels of throughput. The throughput targets can also take into account expected retransmissions based on knowledge of the applications or the transport mechanisms used at the various layers of communication protocol. In one embodiment, step <b>520</b> can be performed by the control set point modules <b>315</b>.</p>
<p id="p-0091" num="0090">In step <b>522</b>, a determination is made whether the actual error rates, such as the BER or PER, or other actual quality metric exceeds a target threshold for the connection determined in step <b>510</b>. If the BER or other quality metric exceeds the threshold for the connection, the method proceeds to decision step <b>524</b> to start the process of taking corrective action. Otherwise, if the quality metric are no worse than the target, the method proceeds to decision step <b>530</b>. In one embodiment, step <b>522</b> can be performed by the assessment module <b>330</b>.</p>
<p id="p-0092" num="0091">In step <b>524</b>, a determination is made whether it is acceptable for the affected service provider to operate in a manner that can exceed the baseline interference scenario and baseline RAN/RF parameters, which could cause greater interference to services active in neighboring cells. For example, a temporary slight increase in transmission power (e.g., 0.5 dB) can add a tolerable increase in interference to services in neighboring cells. If it is acceptable for the affected service provider to operate in manner that can exceed the baseline interference scenario and baseline RAN/RF parameters, the method proceeds to step <b>514</b> where the baseline interference scenario and RAN/RF parameters can be temporarily adjusted to accommodate the need for improved QoS for the service. According to an embodiment, this adjustment may be allowed solely for the affected service or connection, or can be allowed generally for the cell. In one embodiment, step <b>524</b> can be performed by the assessment module <b>330</b> and/or the control response module <b>340</b>.</p>
<p id="p-0093" num="0092">If in decision step <b>524</b> a determination is made that the baseline interference scenario cannot be exceeded, the method proceeds to step <b>526</b> where the transmission parameters of the service are modified to achieve the target BER/PER or quality metric without violating the current baseline interference scenario. In an embodiment, this can include changes in modulation and coding, transmit power or any of the other adjustable transmission parameters. In one embodiment, step <b>526</b> can be performed by the control response module <b>340</b>.</p>
<p id="p-0094" num="0093">According to an embodiment, when parameters are adjusted, there is a possibility that the bandwidth requirements to meet demand can exceed the current available aggregate throughput of the cell. Hence, both parallel paths of the method proceed to decision step <b>530</b>, where a determination is made as to whether the demand exceeds the current available aggregate throughput. If the current available aggregate throughput of the cell is not exceeded, the method returns to step <b>501</b> and can continuously repeat. Otherwise, the method continues to step <b>540</b> before continuing to step <b>501</b> to repeat. In step <b>540</b>, a method to mitigate oversubscription is selected and applied. Several methods for mitigating oversubscription are described below. In one embodiment, steps <b>530</b> and <b>540</b> can be performed by the control response module <b>340</b>.</p>
<p id="p-0095" num="0094">According to an embodiment, the method illustrated in <figref idref="DRAWINGS">FIG. 5</figref> can include an uplink instance and a downlink instance that operate independently, for example in a Frequency Division Duplex (FDD) system. Conversely, in other embodiments, the uplink and downlink instances may need to share information in a Time Division Duplex (TDD) system where the uplink and downlink are on the same frequency and may, therefore, contribute interference in certain situations. This may be especially true of TDD systems that adapt the uplink/downlink ratio dynamically.</p>
<p id="p-0096" num="0095">According to an embodiment, the optimization module can also implement another method to optimize performance based on historical data to perform anticipated adaptation to reduce potential oversubscription. According to an embodiment, the optimization module can implement this second method, which can be used to update the operator policy <b>310</b>. A history of interference can be built through sensing and/or through the use of shared metrics received from other network elements (e.g., the core network, BTSs, UEs). The interference data can be grouped by date and/or time in order to build a picture of interference patterns for various time frames. For example, the interference data can be grouped by the time of day, the day of the week, or by marking the data as holiday or non-holiday. The sensing and/or shared metrics can also include traffic metrics for the SFF base station's own cell and/or for neighboring cells. The can also include &#x201c;update with memory trail off&#x201d; where weighted averaging, exponential averaging, or some other method is used to give higher importance to more recent data.</p>
<p id="p-0097" num="0096">Preemptive decisions can be made based on the history of interference that has been built. For example, a determination can be made whether more or less strict CAC, policy, and/or power control may help to reduce the likelihood of oversubscription. In an embodiment, a determination can be made whether trading off likely robustness versus BER/PER.</p>
<p id="p-0098" num="0097">According to an embodiment, real time monitoring based on the first method described above and illustrated in <figref idref="DRAWINGS">FIG. 5</figref> can be used in case unexpected usage patterns disrupt the predictive interference method described in the second method. In an embodiment, predictive data can be used for a baseline scenario and the first method can be used for real-time optimization of the system. In another embodiment, predictive data generated using the second method can be used to update the operator policy <b>310</b>, and the first method can be used to apply the updated policy.</p>
<p id="h-0014" num="0000">Intelligent Discard</p>
<p id="p-0099" num="0098">Referring to <figref idref="DRAWINGS">FIG. 5</figref>, intelligent discard can be used as one of the techniques of algorithm step <b>540</b> to mitigate oversubscription caused by modification of transmission parameters in step <b>526</b> or caused by varying the interference scenario and RAN/RF parameters in step <b>514</b>. This is the reactive form of intelligent discard. Alternatively, knowledge of available intelligent discard techniques may be used to influence the throughput level target in step <b>520</b>, the transmission parameter modifications in step <b>526</b>, and the changes to the interference scenario and RAN/RF parameters in step <b>514</b>. This is the interactive form of intelligent discard. The interactive form may further be made proactive by using other system information to predict the future oversubscription of bandwidth.</p>
<p id="p-0100" num="0099">According to an embodiment, intelligent discard can be practiced by any entity of the communications network that performs scheduling. This can include the scheduling of downlink bandwidth by any form of base station including macrocell, picocell, enterprise femtocell, residential femtocell, relays, or any other form of scheduling. Intelligent discard can be performed by any form of device that transmits in the uplink direction, including user devices, both fixed and mobile, and relay devices. In an embodiment, intelligent discard can be performed by a scheduling algorithm that is implemented in the core network, which centrally directs the actions of devices. In another embodiment, intelligent discard can also be predictively performed by an entity, such as a base station, that allocates uplink bandwidth for use by another entity, such as a user device capable of intelligent discard. The base station and the user device can negotiate whether or not the user device has intelligent discard capability or it may be known based on the model identification of the user device. According to an embodiment, this approach where an entity, such as a base station, that allocates bandwidth for use by another entity in the network capable of intelligent discard, can coordinate with the other entity, such as a user device, can be referred to as cooperative intelligent discard.</p>
<p id="h-0015" num="0000">Reactive Intelligent Discard</p>
<p id="p-0101" num="0100">In step <b>530</b> of <figref idref="DRAWINGS">FIG. 5</figref>, a determination is made whether or not the application layer throughput demand for bandwidth currently exceeds the available aggregate throughput or whether a specific session or connection is exceeding its allocated throughput. For instance, in step <b>520</b>, throughput level targets can be established for the active connections being serviced by the base station in question. These target levels can be expressed in such quantitative terms as bits per second or bytes per second. In an embodiment, these target levels can include allowances for retransmissions. Based upon the transmission parameters selected in step <b>526</b> and the RAN/RF parameters selected in steps <b>510</b> and <b>514</b>, the throughput levels can be translated into required physical layer resources, such as the resource blocks used in 3GPP LTE, QAM symbols, OFDM symbols, subchannels, UL/DL ratio, or combinations thereof. The required physical layer resources can include allowances for HARQ or other retransmissions. Once converted to physical layer resources, the throughput level targets or demand can be compared against available physical layer resources as is indicated in step <b>530</b>. This comparison may return a result indicting that demand for physical resources currently exceeds available physical resources. In this case, a reduction in physical resource demand is necessary in order to not exceed available physical resources. This in turn determines a necessary reduction in the current demand for bandwidth at the session, connection and/or application.</p>
<p id="p-0102" num="0101">According to an alternative embodiment, other algorithms can be used to determine whether the demand for physical resource exceeds the available physical resources which can provide an available throughput metric that can be used for reactive intelligent discard.</p>
<p id="p-0103" num="0102">Once a determination is made that application layer throughput demand exceeds available physical resources, intelligent discard can be used in step <b>540</b> to reduce the demand while minimizing the need to curtail individual services and while maximizing the quality perceived by the end user.</p>
<p id="p-0104" num="0103">For instance, if the demand for resources for a VoIP service exceeds the available physical resources by 10%, random (not intelligent) discard may cause consecutive or near consecutive VoIP packets to be discarded. In contrast, reactive intelligent discard can identify a number packets that can be dropped in order to reduce at least a portion of the excess demand for bandwidth while preserving the perceived quality of the call. For example, in one embodiment, in an intelligent discard system, the scheduler can discard every tenth packet. This could include packets already queued by the scheduler, or packets as they are being queued, or both. The even distribution of discarded packets by the intelligent discard algorithm may be less noticeable to the end user than clumping of discarded packets by a random discard algorithm. According to an embodiment, other patterns can be used to select the packets to be discarded, so long as the selected pattern minimizes the number of consecutive and near consecutive packets that are discarded.</p>
<p id="p-0105" num="0104">According to an embodiment, the discard algorithm can also be adjusted depending on the specific voice protocol and codec being used. Intelligent discard can allow the call to continue with acceptable quality, as determined by a quality score and compared to the operator, system, or local policy.</p>
<p id="p-0106" num="0105">In another example, in MPEG-2 transmissions, audio packets are more important than video packets, because humans notice changes in audio quality in MPEG-2 transmissions more readily than they notice changes in video quality. Additionally, the video packets are comprised of intra-coded frames (&#x201c;I-frames&#x201d;), predictive-coded frames (&#x201c;P-frames&#x201d;), and bidirectionally-predictive-coded frames (&#x201c;B-frames&#x201d;). The loss of an I-frame is typically more detrimental to the quality of an MPEG-2 transmission than the loss of a P-frame or B-frame. In fact, the loss of an I-frame can result in the receiving device being unable to use a P-frame, even if the P-frame is received correctly. So, in MPEG-2 intelligent discard may discard P-frames and B-frames preferentially to I-frames and may discard all forms of video frames preferentially to audio frames.</p>
<p id="p-0107" num="0106">For MPEG-4 transmission, in addition to the distinction between frames inherited from MPEG-2, there are 11 levels of spatial scalability, 3 levels of temporal scalability, and a variable number of levels of quality scalability depending upon the video application. Fine grain scalability combines these into 11 levels of scalability. In an embodiment, &#x201c;marking&#x201d; of packets with information can be performed and the markings can be used by intelligent discard to allow a fine grained varying of quality as available physical resources change.</p>
<p id="p-0108" num="0107">As with the VoIP example, in the MPEG examples, intelligent discard can perform discard of already queued packets as well as discard upon entry to the scheduling queue. The intelligent discard of a percentage of packets can allow more services to be maintained and accepted by the system's call admission control (CAC) algorithms.</p>
<p id="p-0109" num="0108">In step <b>540</b>, there may be more than one choice of service that can have intelligent discard applied to meet the physical layer resource constraints. There are numerous criteria that can be used to choose the service or services to which to apply intelligent discard. For instance, intelligent discard can be applied in a round robin fashion, similarly impacting all services or all services within a selected class or set of services. Intelligent discard can be applied based on the identity of the end user or membership of the end user in some group. For instance, different users may pay more or less for different service level agreements with the operator of the network. Users with a lower level agreement may be impacted preferentially to users with a higher level agreement. Users that are roaming from another network may be impacted by intelligent discard preferentially to users that subscribe directly to the network. The decision can be based on service type or application. For instance, a VoIP call being made via a third party application such as Skype may be impacted preferentially to a VoIP call made via a VoIP service directly provided by the operator. Which service to impact can be determined algorithmically to maximize total throughput. The decision on how to apply intelligent discard is based on system, operator, or autonomous policy. For instance, a device may have a default policy which may be modified or overridden by a system or operator policy.</p>
<p id="p-0110" num="0109">The decision as to which services to impact can be based on relative degradation, impacting first, for example, those service whose observed quality is least impacted by intelligent discard regardless of the relative quantity of discarded data. To facilitate this, step <b>540</b> can calculate a score for each of the possible throughput levels for the various services. These scores represent a relative level of observed quality for each throughput level. These scores may be based on subjective criteria, such as MOS scores used to score voice quality, or may be quantitative such as the elimination of a feature from the service. The scores can be used in step <b>540</b> as part of the determination of which service will have intelligent discard applied and to what extent. For example, once a set of scores for a set of possible throughput levels for services requiring bandwidth, a target bandwidth level can be selected for one or more of the services based on the set of scores calculated for the various throughput levels, and packets associated with each service can be selectively discarded to reduce the throughput associated with each of the services to the target throughput level associated with that service.</p>
<p id="p-0111" num="0110">Reactive intelligent discard can be performed in any portion of the system that can make a choice regarding transmission or disposition of a packet. For instance, in one embodiment, a base station, pico station, femto station or relay station can include a transceiver for transmitting and receiving packets. According to a preferred embodiment, these stations can include a medium access control (MAC) layer responsible for allocation of bandwidth on the uplink and/or the downlink. The MAC layer preferably can contain or be associated with a scheduler and buffers for storing packets prior to transmission. In one embodiment, the intelligent discard techniques disclosed herein can be implemented in the portion of the MAC layer responsible for buffering ad scheduling the transmission of packets. Alternatively, the equivalent of the MAC scheduler can reside in a core network element that performs centralized scheduling, and possibly, buffering. For example, in one embodiment, the equivalent of the MAC scheduler could be implemented to coordinate simultaneous transmission of data, such as broadcast video or audio, on two or more base stations or other similar devices.</p>
<p id="p-0112" num="0111">In an embodiment, the intelligent discard techniques can also be implemented in the MAC scheduler of a user device that schedules and buffers data prior to transmission in the uplink. According to an embodiment, the core network or base station (or equivalent device) can be configured to mark packets prior to buffering to facilitate making easier discard decisions in the downlink direction. Alternatively, a function preceding the buffering of packets for uplink transmission by the user device can mark packets for easier discard decisions by the MAC scheduler function in the user device.</p>
<p id="h-0016" num="0000">Interactive Intelligent Discard</p>
<p id="p-0113" num="0112">In addition to the previously described reactive intelligent discard, the intelligent discard algorithm can interact with other aspects of the system control to gain improved performance. For example, referring now to <figref idref="DRAWINGS">FIG. 5</figref>, in one embodiment changing a particular RAN/RF network operating parameter, such as lowering the maximum transmit power in step <b>510</b>, might benefit neighboring cells by reducing the observed interference of those cells.</p>
<p id="p-0114" num="0113">Alternatively, choosing a more robust modulation scheme in step <b>526</b> can also have a similar effect. In a typical system, these changes could be undesirable due to the resulting decrease in available physical resources, causing the application layer throughput demand to exceed available bandwidth. In contrast, in a system employing interactive intelligent discard, in step <b>520</b>, a set of throughput levels can be calculated for the active services. The set of throughput levels represents a larger range of physical resource demands when the possible transmission parameter choices of step <b>526</b> and possible RAN/RF parameters of step <b>510</b> are considered. Knowledge of these possible combinations of quality levels, transmission, and RAN/RF parameters allows the system in steps <b>510</b> and <b>526</b> to choose parameters that can substantially increase robustness of the system, temporarily or permanently, at the sacrifice of a small amount of quality to one or more services.</p>
<p id="h-0017" num="0000">Alternative Implementation of Interactive Intelligent Discard</p>
<p id="p-0115" num="0114"><figref idref="DRAWINGS">FIG. 6</figref> is a flow diagram of a modified version of the method illustrated in <figref idref="DRAWINGS">FIG. 5</figref> that enables other aspects of network operation, such as interference mitigation and power control, to make use of intelligent discard to further optimize system performance. In step <b>620</b>, rather than creating a single quality (e.g., BER or PER) and throughput level for a service or connection (as in step <b>520</b> of <figref idref="DRAWINGS">FIG. 5</figref>), a set of throughput levels and/or range of quantitative quality thresholds (e.g., BER and PER) can be created (<b>605</b>). A score can be applied to each of the throughput levels. The score represents a relative level of observed quality for each throughput level. According to an embodiment, a score can be applied to each of the throughput levels to indicate a relative level of observed quality for each throughput level. The scores can be based on subjective criteria, such as MOS scores used to score voice quality, or the scores can be quantitative, such as the elimination of a feature from the service. The scores can be used in step <b>640</b> as part of the determination of which server will have intelligent discard applied and to what extent.</p>
<p id="p-0116" num="0115">The set of throughput levels and scores, exemplified by data block <b>605</b>, can be used by step <b>610</b>, decision step <b>612</b>, and modified step <b>614</b> to make tradeoffs between service quality and other system operational factors. Other steps, such as step <b>626</b> can also use the set of throughput levels and scores to optimize performance choices. For instance, based on the throughput levels and scores, the method in step <b>610</b> can choose to apply a more robust modulation and lower power the baseline parameters for a service, with the knowledge that the performance degradation to the individual service will be small relative to the reduction in interference caused to neighboring cells. In fact, the change in RAN/RF parameters can be a reaction to a request for interference reduction from a neighboring cell, or a command or request for interference reduction or noise floor reduction from a network management entity or other centrally located control function, or an autonomous decision to reduce power, interference potential, or some other aspect of network operation. In this way, step <b>610</b> and similar functions can assess the quality impact implied by the throughput impact resulting from potential alternative actions that can be applied to the previously independent task of choosing appropriate RAN/RF parameters.</p>
<p id="p-0117" num="0116">In a preferred embodiment, an interactive intelligent discard method implements the discard function in the equivalent of the MAC layer scheduler and packet buffering capability prior to transmission by the transceiver of the station, user device, or network function implementing interactive intelligent discard. The derivation of sets of quality thresholds, throughput levels, and scores can be performed by a function that can be implemented in the core network, the base station (macro, pico or femto), or user devices and provides the information to the interactive intelligent discard function which interacts with the buffering and scheduling in the MAC layer to perform intelligent discard. The interactive intelligent discard function can also interact with the physical layer functions, which monitor the RF environment, and interacts with core network functions or functions on other base stations or network elements to exchange information about the RF environments of neighboring cells. A network facing function within interactive intelligent discard can provide information regarding the services, user devices, and RF environment to a core network function or to an interactive intelligent discard function on neighboring devices. The interactive intelligent discard method can provide information to an RF or Physical Layer (PHY) control module, which adjusts the RAN/RF parameters for the transmission of certain information packets.</p>
<p id="h-0018" num="0000">Proactive Intelligent Discard</p>
<p id="p-0118" num="0117">According to an embodiment, proactive intelligent discard is a technique for predictively performing intelligent discard in anticipation of oversubscription conditions and for performing the discard before the oversubscription conditions actually occur. Proactive intelligent discard can be used to reduce anticipated demand when the anticipated demand for network bandwidth exceeds anticipated available bandwidth.</p>
<p id="p-0119" num="0118">Proactive intelligent discard may be applied reactively. For example, expectation of a handover creates expectation of more robust modulation and, therefore, lower throughput per physical layer resource unit as a mobile station approaches the edge of a cell. Proactive intelligent discard can be used to discard ahead of the actual event, allowing smoother handovers with controlled discard of data rather than random loss of data due to congestion.</p>
<p id="p-0120" num="0119">Proactive intelligent discard can be applied interactively. For instance, it may be known from historical data that interference to or from neighboring cells increases at a certain time of day (daily commute, etc.). In proactive intelligent discard, step <b>612</b> can determine that the factors influencing the RAN/RF parameters are about to change, and in step <b>614</b> the RAN/RF parameters can be modified based on the assumption that the change will be needed in combination with the set of throughput levels and scores created by step <b>620</b> in order to proactively modify the system parameters so that intelligent discard can preserve optimal throughput and quality based on the systems policies regarding quality and throughput.</p>
<p id="p-0121" num="0120">Proactive intelligent discard may be performed based on a variety of stimuli or trigger events. Some examples of the types of stimuli or trigger events that can be used to trigger the execution of proactive intelligent discard include:</p>
<p id="p-0122" num="0121">(1) Motion&#x2014;if it is determined that the device is not stationary or is exceeding some speed threshold, proactive intelligent discard may anticipate the need to perform intelligent discard based on expectations of motion caused changes in physical parameters that impact throughput availability.</p>
<p id="p-0123" num="0122">(2) Expectation of handover&#x2014;if it is determined that the likelihood of handover exceeds some threshold metric, intelligent discard can proactively discard data in a controlled fashion so as to minimize the quality impact of predicted decrease in resources.</p>
<p id="p-0124" num="0123">(3) Time of day, day of week, or other historical patterns&#x2014;historical data may show that decrease in resources may be expected at predictable points in time. Proactive intelligent discard can prepare the system for smooth transition to lower resources.</p>
<p id="p-0125" num="0124">(4) Active/inactive user devices in a cell&#x2014;The number of user devices in a cell may be used to predict fluctuations in demand that would cause reactive intelligent discard to take action.</p>
<p id="p-0126" num="0125">(5) Reserve resources&#x2014;proactive intelligent discard can aid in service quality preservation by proactively performing intelligent discard to keep resources in reserve for other functions such as Call Admission Control which may be able to serve more active calls if intelligent discard is applied</p>
<p id="p-0127" num="0126">(6) Changes to Neighbor Cells&#x2014;information regarding changes in the quantity and configuration of neighboring cells, including but not limited to: number of neighbor cells, location of neighbor cells, Cell Operator, frequency and bandwidth of operation, number of active/idle UEs, RF/RAN parameters.</p>
<p id="p-0128" num="0127">Additionally, proactive intelligent discard can provide a smoother transition from one level of discard to another, minimizing the impact on quality of service parameters such as jitter and individual packet delay.</p>
<p id="p-0129" num="0128">In an embodiment, proactive intelligent discard can also be used in an implementation where the discard occurs before being needed, applying a lower throughput in anticipation of lack of resources. In an alternative embodiment, proactive intelligent discard can be used in an implementation where the packets to be dropped during the period of expected lack of resources are tagged for quick discard, but only discarded in the event that the anticipated lack of resources actually occurs.</p>
<p id="p-0130" num="0129">In an embodiment, the intelligent discard can also perform the inverse role: accelerating packet transmission into the channel before a capacity limitation comes into effect. This may allow the avoidance of a future short-term resource constraint.</p>
<p id="p-0131" num="0130">The historical or other data that is used to create the patterns or history that is used to proactively implement intelligent discard can come from a variety of sources. For example, RF modules can collect information regarding the physical environment. In another example, the MAC layer can collect information regarding packet demand and throughput, and numbers of active or inactive user devices and services. In one embodiment, the information can be processed locally on a device to convert the inputs into historical trends, or in an alternative embodiment, the information can be forwarded to a function in the core network or any other processor for conversion into historical trends and patterns. The historical trends and patterns can be used locally by a device or may be shared between devices, such as in the case where interactive intelligent discard is applied proactively.</p>
<p id="p-0132" num="0131">In the following paragraphs various additional embodiments related to discarding packets are described. Some of the embodiments are described with reference to particular standards. However, it will be appreciated that the embodiments described herein may be applied to other systems and standards. It will also be appreciated that the embodiments of intelligent discard described below may be implemented using the systems and methods described above including reactive intelligent discard, proactive intelligent discard, and interactive intelligent discard. For example, the embodiments described below may be used in conjunction with the embodiments of intelligent discard describe above with respect to <figref idref="DRAWINGS">FIGS. 4-6</figref>. Further, the embodiments described below may be implemented using embodiments of the systems described above such as the systems described with respect to <figref idref="DRAWINGS">FIGS. 1-3</figref>.</p>
<p id="p-0133" num="0132">In particular, discarding packets according to one or more of the embodiments described below can be practiced within any entity within the communications system that performs scheduling. This includes the scheduling of downlink bandwidth by any form of base station, including macrocell, picocell, enterprise femtocell, residential femtocell, relays, or any other form of base station. In another embodiment, discarding packets according to one or more of the embodiments described below can be performed by any form of device which transmits in the uplink direction including user devices, both fixed and mobile, and relay devices. According to another embodiment, discarding packets according to one or more of the embodiments described below can be performed by a scheduling algorithm housed in the core network which centrally directs the actions of devices or which schedules a service common to multiple end user devices such as a multicast or broadcast video service.</p>
<p id="p-0134" num="0133">According to another embodiment, discarding packets according to one or more of the embodiments described below can be predictively performed by an entity such as a base station that allocates uplink bandwidth for use by another entity, such as a user device. The base station and the user device can negotiate whether or not the user device is capable of discarding packets according to one or more of the embodiments described herein, or in some embodiments, whether the user device has intelligent discard capability can be determined based on the model identification of the user device.</p>
<p id="p-0135" num="0134">According to another embodiment, the prioritization of packets described below can be performed in one device, such as a device performing deep packet inspection, and may result in a marking of packets where such marking is used by another device, such as a wireless base station, which is performing intelligent discard.</p>
<p id="p-0136" num="0135"><figref idref="DRAWINGS">FIG. 7</figref> is a functional block diagram of one embodiment of control response module <b>340</b> of <figref idref="DRAWINGS">FIG. 3</figref>. As described above, in one embodiment, if demand exceeds maximum aggregate throughput for the network, the control response module <b>340</b> can respond by selectively discarding frames within a service to reduce demand on the network. In the embodiment of <figref idref="DRAWINGS">FIG. 7</figref>, the control response module <b>340</b> comprises a priority/burden determination module <b>744</b> (&#x201c;determination module&#x201d;) and a frame/slice selection module <b>746</b> (&#x201c;selection module&#x201d;). As in greater detail below, when frames or slices, the choice of which frame or slice to discard can have significant effects on the quality of the viewing experience in the resulting video. In one embodiment, determination module <b>744</b> determines a value, e.g., burden or priority, that represents the relative importance of that frame compared to other frames. The selection module <b>746</b> then selects one or more to discard or drop based on the determined value. The operation of the determination module <b>744</b> and the selection module <b>746</b> are described in greater detail below.</p>
<p id="h-0019" num="0000">Prioritization for Intelligent Discard</p>
<p id="p-0137" num="0136">As discussed in part above, in MPEG-2, MPEG-4, and H.264-AVC (MPEG-4 Part 10) a video stream is encoded into different types of frames: intra-code frames or I frames, sometimes referred to as Intra frames, predictive-coded frames or P frames, and bidirectionally-predictive-coded frames or B frames. A frame represents what is displayed on the viewing screen at the frame rate of the viewing device. For instance, the NTSC standard used in the United States operates at 29.97 frames per second. The frames are comprised of macroblocks. A macroblock corresponds to a 16&#xd7;16 pixel region of a frame.</p>
<p id="p-0138" num="0137">The different frame types have different dependencies which can impact error propagation in the video signal. I frames are encoded such that they are not dependent on any other frames. This causes I frames to typically contain the largest amount of data. P frames are encoded based on an I frame or P frame. This allows encoding of primarily the differences between the current P frame and the I or P frame on which it is dependent. This in turn allows P frames to typically contain less data than I frames, i.e. they are smaller and consume less bandwidth to transmit. However, an error in the frame on which a P frame is dependent will propagate errors into the decoding of the P frame even if it is received error free. B frames are dependent on both a preceding I or P frame and a following I or P frame. This dual dependency allows B frames to typically contain less data than either I frames or P frames, but furthers error propagation. I frames and P frames are often referred to as anchor frames or reference frames.</p>
<p id="p-0139" num="0138">These dependencies are realized at the macroblock level. I frames only contain I macroblocks which are encoded without dependencies on macroblocks in other frames. P frames may contain I macroblocks or P macroblocks, or both. P macroblocks are encoded based on a previous (or next) I frame or P frame. B frames may contain I, P, or B macroblocks or any combination. B macroblocks are bidirectionally encoded based on both a previous and a subsequent I or P frame.</p>
<p id="p-0140" num="0139">The pattern of I frames, P frames, and B frames and the associated decode dependencies are referred to as a group of pictures (GOP) or a predictive structure.</p>
<p id="p-0141" num="0140">In addition, H.264-AVC augments the allowable dependencies with multi-reference predictive structure such that a P frame may be dependent on multiple I or P frames. It also adds hierarchical predictive structures which allow B frames to be dependent on other B frames rather than only I and P frames. Embodiments involving both the baseline implementation and the augmentations are described below.</p>
<p id="p-0142" num="0141">A GOP starts with an I frame and may be characterized by two numbers M, the distances between anchor frames (I or P frames), and N, the distance between I frames. The gaps between anchor frames are filled with B frames. A common GOP structure is the M=3, N=12 open GOP shown in <b>8</b>A. The GOP is considered open because the last B frames of the GOP are dependent upon the last P frame of the current GOP and the I frame of the next GOP.</p>
<p id="p-0143" num="0142"><figref idref="DRAWINGS">FIG. 8A</figref> shows the viewing order of the frames in a GOP. The viewing order is indicated with the frame numbers <b>1</b> through <b>12</b>. The frame number <b>1</b>&#x2032; indicates the first frame in the next GOP. The letter below each viewing order frame number indicates the type of frame, I, P, or B at that frame number. The arrows indicate which frame a particular frame is dependent upon. For instance, frame <b>4</b> is a P frame dependent upon I frame <b>1</b>. Frame <b>10</b> is a P frame dependent upon P frame <b>7</b>. Frames <b>5</b> and <b>6</b> are B frames dependent on P frames <b>4</b> and <b>7</b>. It can be seen that an error in I frame <b>1</b> could propagate through all eleven other frames in the GOP and the last two B frames of the preceding GOP. Worse yet, a loss of frame <b>1</b> would make frames <b>2</b> through <b>12</b> and the last two B frames of the preceding GOP useless to the decoder. Delaying frame <b>1</b> past the time it is to be displayed can have the same effect as the loss of frame <b>1</b>. Conversely, in this example, loss or erroneous reception of a B frame does not propagate errors and affects only the individual B frame. Note that there are modes in H.264 where B frames can be dependent on other B frames creating a more complex hierarchy, but there will be &#x201c;leaf node&#x201d; frames on which no other frames are dependent.</p>
<p id="p-0144" num="0143">In some systems, control and management section <b>270</b> addresses this problem of error propagation by applying greater protection to I frames than P frames and B frames, reducing the impact of poor signal quality on the decoder's ability to decode and display the video. However, while beneficial, this causes the I frames, which are already large, to consume even more bandwidth. This approach can also cause problems with out of order transmission of frames which is not supported by many video decoders.</p>
<p id="p-0145" num="0144">In other systems, the control response module <b>340</b> can respond to dropping frames. One approach is for the control response module <b>340</b> to select a frame to drop based on the types of frames being transmitted. For example, given the choice between I, P, and B frames, the control response module can be configured to drop B frames before P frames and P frames before I frames. The decision of which frame amongst several of the same type can be made, for example, at random.</p>
<p id="p-0146" num="0145">In contrast, in other embodiments described herein, the control response module <b>340</b> analyzes and takes advantage of the frame dependencies to preserve the quality of the experience (QoE) of the viewer while intelligently degrading the quality of service (QoS) of the transmission of the video data to use less bandwidth to react to congestion in the transmission medium or to allow more video or data services on the medium simultaneously.</p>
<p id="p-0147" num="0146">In one embodiment, the control module <b>340</b> goes beyond mere classification of I, P, and B frames and determines the relative importance of the frames. As described above, there is an importance attributable to error propagation and the ability for the encoder to use a subsequent frame. But, there is also an element of importance based on the distribution of frames that have equal error propagation importance. These will both be described with reference to <figref idref="DRAWINGS">FIG. 8B</figref>.</p>
<p id="p-0148" num="0147"><figref idref="DRAWINGS">FIG. 8B</figref> shows the same GOP with the same dependencies that was used in <figref idref="DRAWINGS">FIG. 8A</figref>. In addition, in a column with each frame order number and frame type are values indicative of priority, burden, and alternative formulations of burden. In one embodiment, the priority, burden, and alternative burden values are determined by the determination module <b>744</b>. The manner in which the priority and burden values are determined by the determination module <b>744</b> are described in greater detail below.</p>
<p id="p-0149" num="0148">In some embodiments, the frame priority and burden values shown are suitable for marking, for instance by a deep packet inspection (DPI) device preceding the transmitting device. Thus, the functionality described herein with respect to the determination module <b>744</b> may be performed by another device including a device other than a device comprising the system described with respect to <figref idref="DRAWINGS">FIG. 3</figref>. In such a case, the selection module <b>746</b> uses the previously determined priority burden values to select the frames to be dropped. However, for the purpose of explanation, the priority and burden determination functionality is described with respect to determination module <b>744</b>. In some embodiments the described functionality of determination module <b>744</b> may be contained and implemented in Real-Time Profile Modules <b>325</b> or may advantageously have its functionality distributed between the Environment Parameters Module <b>320</b>, which may for instance determine that a data stream is a video stream, the Real-Time Profiles Module <b>325</b>, which may for instance make real-time assessment of a video frame's priority, and Patterns Module <b>335</b>, which may for instance determine the GOP structure through observation over time.</p>
<p id="p-0150" num="0149">In the present description, a lower priority number indicates a greater frame importance, although it should be clear that the reverse relationship could be used. These priorities indicate a relative importance that would allow the transmitting device to intelligently discard frames when faced with congestion or oversubscription of the transmission medium. Frames with a higher priority number are discarded in preference to frames having a lower priority number.</p>
<p id="p-0151" num="0150">With respect to the GOP of <figref idref="DRAWINGS">FIG. 8B</figref>, in one embodiment, the I frame is necessary to be transmitted for all other frames to be useful, so the determination module assigns the I frame at frame <b>1</b> a priority value of 1. The P frames chain their dependence off of the I frame, so the determination module assigns the first P frame a lower priority (higher number) than the I frame, but a higher priority (lower number) than the subsequent P frame. Following this pattern, the determination module gives the P frames in the GOP the priority numbers <b>2</b>, <b>3</b>, and <b>4</b> respectively. One skilled in the art would recognize that lower priority numbers could instead map to lower actual priorities, and higher priority numbers could map to higher actual priorities.</p>
<p id="p-0152" num="0151">In one embodiment, since a B frame is dependent upon other frames, the determination module assigns the B frame a lower priority (higher number) than any frames on which they are dependent. This works well for B frames numbered <b>8</b>, <b>9</b>, <b>11</b>, and <b>12</b> in the transmission order since they are all dependent upon P frame number <b>10</b> which has priority <b>4</b> and is the lowest priority P frame. However, B frames numbered <b>2</b> and <b>3</b>, are less important than P frame <b>4</b> as well, even though they don't depend on it. This is for two reasons. First, as previously described, discard of B frame <b>2</b> or B frame <b>3</b> does not propagate errors while discard of P frame <b>4</b> requires the discard of B frames <b>8</b>, <b>9</b>, <b>11</b>, and <b>12</b> as well. Second, the P frames are evenly distributed in the GOP. Discarding P frames tends to cause numerous frames in a row to be missing, not merely one in a row. So, in one embodiment, the determination module assigns B frames lower priority (higher numbers) than any P frames.</p>
<p id="p-0153" num="0152">Importantly, all B frames are not themselves entirely equal in importance. In particular, the importance of a B frame can change based on whether or not an adjacent B frame is discarded. This occurs because, under certain circumstances, dropping multiple consecutive frames has a worse effect on video quality than dropping frames that are not consecutive. For example, if B frame <b>5</b> were discarded, then subsequently discarding B frame <b>6</b> would lead to 2 frames in a row being discarded. However, a subsequent discard of B frame <b>12</b> instead would not cause this to occur.</p>
<p id="p-0154" num="0153">Advantageously, the determination module can predict and account for this change in importance. To do so, in one embodiment, the determination module assigns an initial priority number of 5 to all B frames in the GOP. However, where there are consecutive B frames, the B frame having a higher frame number in the GOP is assigned a lower priority (higher number) by the determination module. Thus, in the example of <figref idref="DRAWINGS">FIG. 8B</figref> the determination module assigns the B frames alternating priorities of 5 and 6 to predict their change in importance after a neighboring B frame is discarded. In another embodiment, the determination module assigns all B frames the same priority values and the selecting module <b>746</b> could select B frames for discard uniformly rather than in clusters if and when discard was necessary.</p>
<p id="p-0155" num="0154">The functionality of the determination module for determining priority can be summarized as follows: An I frame is assigned priority <b>1</b>. A P frame dependent on frame with priority y, is assigned priority y+1. If z is the largest priority number of any P frame then either: all B frames are assigned priority z+1, or B frames between two anchor frames are assigned priorities z+1, z+2, . . . z+(M&#x2212;1), where M is the spacing between anchor frames. Alternatively, B frames between two anchor frames are assigned priorities z+(M&#x2212;1), z+(M&#x2212;2), . . . , z+1.</p>
<p id="p-0156" num="0155">In another embodiment, the determination module can determine the importance of a frame based, at least in part, on how many other frames are dependent upon it. For instance, the I frame at position <b>1</b> in the GOP of <figref idref="DRAWINGS">FIG. 8B</figref> has 13 other frames that are directly or indirectly dependent upon it. This includes the other 11 frames in this GOP and, since this GOP is open, the last two B frames of the previous GOP which depend on the I frame. The B frames all have 0 other frames dependent upon them. The P frames <b>4</b>, <b>7</b>, and <b>10</b> have 10, 7, and 4 frames dependent upon them, respectively. This value determination based on dependency is referred to herein as burden. <figref idref="DRAWINGS">FIG. 8B</figref> shows the burden values for the frames in the GOP.</p>
<p id="p-0157" num="0156"><figref idref="DRAWINGS">FIG. 9</figref>, describes one embodiment of a method <b>910</b> for determining burden for frames in a GOP. As described above, the method may be implemented by the determination module <b>744</b>. In another embodiment, the method may be implemented by another device or module. For the purpose of explanation, the method is described with respect to the decision module. At step <b>915</b>, the decision module determines the value N, the number of frames in the GOP, and M the distance between anchor (I or P) frames in the GOP. In the example GOP of <figref idref="DRAWINGS">FIG. 8B</figref>, N=12 M=3. This determination can be made by analyzing the frames in the GOP. Alternatively, if these values have previously been determined, the determination module can obtain the previously determined values.</p>
<p id="p-0158" num="0157">At decision step <b>920</b>, the determination module determines if the current frame being considered is a B frame. If so, the method proceeds to step <b>925</b> and the determination module assigns the current B frame a burden of 0. In one embodiment, the assigned burden can be stored in a data structure associated with the frame or the GOP. After the assignment, the next frame in the GOP is made the current frame and the method returns to point <b>927</b> before decision step <b>920</b>.</p>
<p id="p-0159" num="0158">Returning to decision step <b>920</b>, if the current frame is not a B frame, the method proceeds to step <b>930</b>. At step <b>930</b> the determination module determines the frame viewing order (FVO) of the current frame. Again this value can be determined by analyzing the frames in the GOP or by obtaining a previously determined FVO. At step <b>935</b> the determination module assigns a burden to the current frame equal to the result of equation 1:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Burden=(<i>N&#x2212;</i>1)+<i>M</i>&#x2212;FVO&#x2003;&#x2003;Eq. 1)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0160" num="0159">After the assignment, the next frame in the GOP is made the current frame and the method returns to point <b>927</b> before decision step <b>920</b>. This process continues until the determination module has assigned a burden value for each frame in the GOP.</p>
<p id="p-0161" num="0160">As shown in <figref idref="DRAWINGS">FIG. 8B</figref>, when determining burden, the determination module may alternatively count each frame as burdening itself as well. In this embodiment, the determination module assigns a burden of 1 to each B frame. The anchor frames are assigned a burden according to equation 2:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Burden=<i>N+M</i>&#x2212;FVO&#x2003;&#x2003;Eq. 2)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0162" num="0161">Using either burden calculation, the selection module <b>746</b> can intelligently select frames for discarding by discarding those with the lowest burdens first. For frames with the same burden, the selecting module can discard uniformly, i.e., not clumps of adjacent frames, when discard is needed. Alternatively, the selecting module can select between frames of the same burden for discard based on size. For instance, two B frames may be of different sizes because one contains more I or P macroblocks than the other does. If available bandwidth resources allows transmission of the larger B frame, the selection module can preferentially select for discard the smaller B frame over the larger B frame since it contains less information and its loss should, therefore, degrade the video quality less than discarding the larger B frame. However, if available bandwidth resources will not accommodate transmission of the larger B frame due to its size, the selection module can discard the larger B frame instead of the smaller B frame.</p>
<p id="p-0163" num="0162"><figref idref="DRAWINGS">FIG. 10</figref> illustrates a GOP that does not contain any B frames. The method described above with respect to <figref idref="DRAWINGS">FIG. 9</figref> works with these types of GOPs such as those from MPEG-1 and the H.264-AVC baseline profile, or MPEG-2, MPEG-4, or H.264-AVC GOPs for applications that do not want the extra decoding delay caused by B frames. These frames are inherently not open since there are no B frames to have bidirectional dependencies. The determination module can use the same methods for analyzing this type of GOP.</p>
<p id="p-0164" num="0163"><figref idref="DRAWINGS">FIG. 11</figref> illustrates another type of GOP three B frames between anchor frames (M=4). The method described above with respect to <figref idref="DRAWINGS">FIG. 9</figref> works with these types of GOPs as well. In particular, the determination module can use the same methods for analyzing this type of GOP.</p>
<p id="h-0020" num="0000">Hierarchical and Multi-Reference Predictive GOP Structures</p>
<p id="p-0165" num="0164">As previously mentioned, there exist features within standards such as H.264-AVC which allow for hierarchical or multi-reference GOP prediction structures. In the case of a hierarchical GOP, B frames can depend on previous and/or subsequent B frames. The use of multi-reference GOPs allows P frames to depend on one or more P or I frames.</p>
<p id="p-0166" num="0165"><figref idref="DRAWINGS">FIG. 12</figref> illustrates one example of a hierarchical GOP. In particular, <figref idref="DRAWINGS">FIG. 12</figref> shows a 12 frame (N=12) hierarchical GOP structure in viewing order. The sequence begins with an I-frame, and being an open-GOP, includes references to the I-frame, l&#x2032;, of the next GOP. There are no P frames and a subset of B frames reference other B frames. For example, B<b>4</b> references both I<b>1</b> and B<b>7</b>, and B<b>3</b> references I<b>1</b> and B<b>4</b>. The hierarchical set of relationships creates a distinction of purpose and importance among B frames not seen when analyzing non-hierarchical GOPs. This provides additional information for the determination module to consider when analyzing the propagation of errors through a GOP and when calculating frame burden and priority.</p>
<p id="p-0167" num="0166">For example, in one embodiment, the control response module <b>340</b> can require that a single B frame be discarded to meet available capacity, then frames B<b>2</b>, B<b>3</b>, B<b>5</b>, B<b>6</b>, B<b>8</b>, B<b>9</b>, B<b>11</b> or B<b>12</b> would be preferable to frames B<b>4</b>, B<b>7</b> and B<b>10</b> since the former list contains all &#x2018;leaf&#x2019; nodes whose discard would have no effect on subsequent frames. In this embodiment, the control response module <b>340</b> discards a leaf node instead of a node from which other frames depend.</p>
<p id="p-0168" num="0167"><figref idref="DRAWINGS">FIG. 13</figref> illustrates one example of a multi-reference GOP. In this example, frame P<b>2</b> has just one reference frame, I<b>1</b>. However frame P<b>3</b> references two preceding frames, P<b>2</b> and I<b>1</b>. Frame P<b>4</b> references P<b>3</b>, P<b>2</b> and I<b>1</b>. These additional references improve the data compression and reduce the size of the later P frames within the GOP.</p>
<p id="p-0169" num="0168">In one embodiment, the determination module applies an alternative determination process to hierarchical and multi-reference GOP structures such as the GOPs of <figref idref="DRAWINGS">FIGS. 12 and 13</figref>. In one embodiment, the determination module assigns a burden to each frame based on the quantity of frames dependent on it, within a GOP. In making this assessment, the determination module considers two classes of dependencies: direct and indirect. <figref idref="DRAWINGS">FIG. 14</figref> illustrates a set of 4 generic frames F<b>1</b>-F<b>4</b> for the purpose of discussion. Frame F<b>2</b> is considered a direct dependent of Frame F<b>1</b> since Frame F<b>2</b> directly references Frame F<b>1</b> for the decoding of its information. Frame F<b>3</b> is a first level, indirect dependent of Frame F<b>1</b> since Frame F<b>3</b> references Frame F<b>2</b> directly and Frame F<b>2</b> references Frame F<b>1</b> directly. By extension, Frame F<b>4</b> is a second level, indirect dependent of Frame F<b>1</b>.</p>
<p id="p-0170" num="0169"><figref idref="DRAWINGS">FIG. 15</figref> illustrates a method <b>1510</b> for calculating direct frame burden. As described above, the method may be implemented by the determination module <b>744</b>. In another embodiment, the method may be implemented by another device or module. For the purpose of explanation, the method is described with respect to the decision module.</p>
<p id="p-0171" num="0170">At step <b>1520</b>, the determination module calculates N, the length or size of the GOP currently being processed. At step <b>1530</b>, the determination module assigns a frame number to each frame, beginning at 1 for the leading I frame. In one embodiment, these frame numbers are the frame viewing order of the frames. At step <b>1540</b>, the determination module creates a table, D, of size N by N for storing intermediate burden information. The determination module also creates a weighting vector, X, of size N. In another embodiment, the determination module utilizes an existing table and vector instead of creating new ones. At step <b>1550</b>, the determination module initializes the table D by zeroing out each of its values. In another embodiment, the table may have been previously initialized.</p>
<p id="p-0172" num="0171">At step <b>1560</b> the determination module creates a mapping between frames which are directly dependent on each other in the table D. In particular, for each frame, i, in the GOP, the determination module inspects and records the dependencies on all other frames, j, in the GOP. Once a dependency of frame i on frame j is identified, a value of one is assigned to table D at position (i,j), where i denotes the column and j denotes the row. For example, if frame <b>2</b> is the current frame under consideration (i) and depends on frame <b>1</b> (j), the determination module assigns a value of one in table D at position (2,1). One skilled in the art would recognize that the notation D(i,j) with i as the column and j as the row is logically equivalent to the notation D(j,i) as long as the notation is used consistently throughout the algorithm.</p>
<p id="p-0173" num="0172">At step <b>1570</b> the determination module determines weighted direct frame priority for each frame. In particular, for each frame j, the determination module sums the values of table D(i,j) for all values of I and adds one. This sum is the number of direct dependencies on frame j. The determination module then multiplies the sum by the weight X(j) from the weighting vector X. The resulting values can be stored in a length N vector by the determination module. The values in this result vector represent the weighted, direct frame priority of the frames in the GOP.</p>
<p id="p-0174" num="0173"><figref idref="DRAWINGS">FIG. 18</figref> illustrates a direct frame burden table D. Table D of <figref idref="DRAWINGS">FIG. 18</figref> was generated according to the method described with respect to <figref idref="DRAWINGS">FIG. 15</figref> using the GOP shown in <figref idref="DRAWINGS">FIG. 12</figref>. As shown, each entry (i,j) in table D indicates whether frame (i) depends from frame (j). For example, since frame B<b>3</b> is dependent on B<b>4</b> in this GOP, a value of one is located at D(3,4). The resulting weighted, direct priority for each frame j, is also shown in <figref idref="DRAWINGS">FIG. 18</figref>. The result is the sum of the values for that that frame, i.e., the sum of the ones in that frame's row of table D, plus one, multiplied by the corresponding weight from weighting vector X shown in <figref idref="DRAWINGS">FIG. 16</figref>. As shown, Frame I frame I<b>1</b> has the highest priority. However, in contrast to the burdens of B frames generated by the determination module according to the method described above with respect to <figref idref="DRAWINGS">FIG. 9</figref>, the burdens of the B frames shown in <figref idref="DRAWINGS">FIG. 18</figref> are based upon the number of dependencies. Accordingly, the determination module assigns the B frames burdens of 1, 5 or 7 units.</p>
<p id="p-0175" num="0174">In one embodiment, the determination module at step <b>1560</b> considers each frame to be dependent upon itself. In this embodiment, at step <b>1570</b> the determination module does not need to add one to the summation from table D.</p>
<p id="p-0176" num="0175">In another embodiment, direct frame burden table D is replaced with a 1&#xd7;N vector D&#x2032; by the determination module. In this embodiment, at step <b>1590</b>, the determination module increments D&#x2032;(j) by one for each frame i that is dependent on frame j. The weighted, direct priority for frame j is then calculated by multiplying D(j) by X(j) for each element j.</p>
<p id="p-0177" num="0176">As described, the method <b>1505</b> results in a relative description of priority between frames based on at least two factors: (1) the quantity of directly dependent frames and (2) the frame weight. The weighting vector X(j) may be created in a number of ways.</p>
<p id="p-0178" num="0177">For example, in one embodiment, weighting vector X comprises values such that the weight assigned to I frames are larger than P frames, which in turn are larger than B frames. <figref idref="DRAWINGS">FIG. 16</figref> illustrates a weighting vector X with this structure for the GOP shown in <figref idref="DRAWINGS">FIG. 12</figref>. In this example, weighing vector X has a value of 3 for 1 frames, 2 for P frames and 1 for B frames. Thus frame <b>1</b>, the only I frame, is assigned a value of 3 and the remainder of the frames which are all B frames are assigned a value of 1.</p>
<p id="p-0179" num="0178">In another embodiment, weighting vector X comprises values based upon the size of the frames. It some situations, it is advantageous to increase the priority of larger frames as they most likely contain additional scene detail or motion when compared to smaller frames. The use of size in weighting can be done independently of the type of frame (I, B or P) or both size and type of frame may be considered. For example, with reference to the GOP of <figref idref="DRAWINGS">FIG. 12</figref>, leaf frames B<b>5</b> and B<b>6</b> may contain important scene detail or motion. In this case, the sizes of these B-frames would be larger than the remaining leaf and non-leaf B frames. The weighting vector X can account for this by increasing the weighting values corresponding to frames B<b>5</b> and B<b>6</b>.</p>
<p id="p-0180" num="0179">In one embodiment, the weighting vector is assigned relative weights (for example 1-10) based upon the relative or absolute size of the frames. In one embodiment, the assignment is made using a closed form expression, a histogram function, or another type of function. In one embodiment, the assignment function creates weights of either integer or real number form. The function can be linear or non-linear.</p>
<p id="p-0181" num="0180"><figref idref="DRAWINGS">FIG. 17</figref> illustrates a weighting vector X where the weighting values incorporate the size of the frames as discussed above. The weighting vector corresponds to the GOP shown in <figref idref="DRAWINGS">FIG. 12</figref>. As can be seen in <figref idref="DRAWINGS">FIG. 17</figref>, frame I<b>1</b> has the largest weight due to its size. Non-leaf node frames B<b>7</b>, B<b>4</b> and B<b>10</b> have weights larger than 1 due to the larger encoded size of these frames. Because leaf nodes B<b>5</b> and B<b>6</b> contain substantial amounts of detail or motion, their larger size results in weights higher than all other B frames.</p>
<p id="p-0182" num="0181"><figref idref="DRAWINGS">FIG. 19</figref> illustrates a method <b>1902</b> for determining burden based on both direct dependencies and indirect dependencies. As described above, the method may be implemented by the determination module <b>744</b>. In another embodiment, the method may be implemented by another device or module. For the purpose of explanation, the method is described with respect to the decision module.</p>
<p id="p-0183" num="0182">Steps <b>1905</b>, <b>1910</b>, <b>1915</b>, <b>1920</b>, <b>1925</b>, and <b>1930</b> are similar to the corresponding steps of method <b>1505</b> described in relationship to <figref idref="DRAWINGS">FIG. 15</figref>. For details on the implementation of these steps, refer back to the description with respect to <figref idref="DRAWINGS">FIG. 15</figref>. Continuing at step <b>1935</b>, the determination module creates a total burden table T. The determination module copies the values of the table D, generated at step <b>1930</b>, into table T. The total burden table T is an N&#xd7;N table that the determination module uses to determine the effect of both direct and indirect dependencies on burden. For example, with respect to the GOP of <figref idref="DRAWINGS">FIG. 12</figref>, the determination module <b>744</b> uses this trace-back approach to account for the dependence of Frame B<b>9</b> on Frame I<b>1</b> (via B<b>7</b>). In particular, the determination module includes the burden of Frame B<b>9</b> on Frame I<b>1</b> in the burden value of Frame I<b>1</b>. In one embodiment, the determination module uses a trace-back approach in order to account for the indirect dependency of one frame on another.</p>
<p id="p-0184" num="0183">At step <b>1940</b>, the determination module sets the values of its two indices, i and j equal to 1. At step <b>1945</b>, the determination module determines if the value of table T at position (i,j) is greater than zero. In this manner, the determination module determines if the frame j has a dependent frame. If so, the method proceeds to step <b>1950</b>. In step <b>1950</b>, the determination module determines for the frame, j, using a dependent indirect burden table, D, if the frame j itself is dependent on any other frames. If so, then the dependent frame of frame j is included in the burden of the frame for which j is a dependent. For example, using the GOP referenced in <figref idref="DRAWINGS">FIG. 12</figref> and table D of <figref idref="DRAWINGS">FIG. 18</figref>, the direct dependence of frame B<b>9</b> on B<b>7</b> is indicated in the direct burden table D as a value of D(9,7) equal to 1. At step <b>1250</b>, the determination module determines if B<b>7</b> itself is dependent on any frame. The determination module performs this process by searching column <b>7</b> of table D for the existence of any entries greater than zero. In this example, a 1 is found at table location D(7,1) indicating that frame B<b>7</b> is dependent on frame I<b>1</b>. Therefore, by definition, frame B<b>9</b> is a first level, indirect dependent of frame I<b>1</b>. This information is recorded by placing a 1 into total burden table T at position T(9,1). <figref idref="DRAWINGS">FIG. 20</figref> shows the total frame burden table T described with respect to <figref idref="DRAWINGS">FIG. 19</figref>. The shaded values in table T indicated indirect dependencies captured by the determination module utilizing the method of <figref idref="DRAWINGS">FIG. 19</figref>.</p>
<p id="p-0185" num="0184">Continuing from step <b>1950</b>, or if the result of decision step <b>1945</b> is no, the method proceeds to step <b>1955</b>. At step <b>1955</b>, the determination module compares the index j to the value N. If j is less than N, the method proceeds to step <b>1960</b>. At step <b>1960</b> the determination module increments the index j by one and the method returns to decision step <b>1945</b>. Returning to decision step <b>1955</b>, if the index j is not less than N, the method proceeds to step <b>1965</b>. At step <b>1965</b> the determination module sets the index j equal to 1. Continuing at step <b>1970</b>, the determination module determines if the index i is less than N. If i is less than N, the method proceeds to step <b>1975</b>. At step <b>1975</b> the determination module increments the index i by one and the method returns to decision step <b>1945</b>. Returning to decision step <b>1970</b>, if the index i is not less than N, the method proceeds to step <b>1985</b>.</p>
<p id="p-0186" num="0185">The effect of steps <b>1940</b>, <b>1955</b>, <b>1960</b>, <b>1965</b>, <b>1970</b>, and <b>1975</b> is for the determination module to evaluate the dependencies of the GOP using a two level &#x2018;nested&#x2019; loop. Thus, the determination module explores all of the values in direct burden table D for tabulation in total burden table T.</p>
<p id="p-0187" num="0186">The nested loops are complete after the determination module reaches a &#x2018;no&#x2019; decision in step <b>1970</b>. At that point, total burden table T contains the direct and first level indirect frame relationships between all GOP frames. At step <b>1985</b>, for each frame j, the determination module sums the values of table T(i,j) for all values of i, adds one, and then multiplies the result by weight X(j). Note that adding one causes the burden to be non-zero, thereby allowing differentiation through different weights. For instance if two B frames with no dependencies (same burden) had different weights (e.g. if they were different sizes) not adding one would cause the burdens to be zero causing the product of the burden and the respective weights to be zero for both B frames. However adding 1 allows the product of the burdens and the weights to be not equal for the two B frames. The resulting N length vector is the weighted, total frame priority for the GOP. The total frame priority determined by the determination module is shown in <figref idref="DRAWINGS">FIG. 20</figref> where the weighting vector used is the weighting vector shown in <figref idref="DRAWINGS">FIG. 16</figref>.</p>
<p id="p-0188" num="0187">The &#x2018;trace-back&#x2019; method described with respect to <figref idref="DRAWINGS">FIG. 19</figref> will calculate the frame burden based upon the direct dependencies and a single level of indirect dependency. One skilled in the art will appreciate that this method could be extended to include the effect of all indirect dependencies, without limit to the number of dependency levels. In other words, the &#x2018;trace-back&#x2019; can be designed such that the determination module follows dependencies from root to leaf nodes.</p>
<p id="p-0189" num="0188">One embodiment to extend the dependency tracking is for the determination module to create n&#x2212;1 additional burden tables T<b>2</b>, through Tn where each burden table represents the cumulative representation of all dependencies from direct dependencies through nth level indirect dependencies. For example table T<b>3</b> would represent direct dependencies plus all first, second, and third level indirect dependencies. In terms of the method of <figref idref="DRAWINGS">FIG. 19</figref>, step <b>1935</b>-<b>1975</b> would be performed by the determination module for each table Tn. In those steps, the Tn takes the place of table T and table T(n&#x2212;1) takes the place of table D. The determination module would finish generating tables once all the elements of a table Tn were equal to all the elements of a table T(n+1), i.e., no new dependencies are identified by the creation of an additional burden table, T(n+1).</p>
<p id="p-0190" num="0189">In another embodiment, the determination module can take into account duplicate dependencies. For example, as depicted in the table of <figref idref="DRAWINGS">FIG. 18</figref> based on the GOP of <figref idref="DRAWINGS">FIG. 12</figref>, the methods described above do not result in an increased frame burden if more than one dependency path exists between frames. For example, Frame I<b>1</b> is awarded 1 unit of burden due to a dependent frame, B<b>3</b>, despite the fact that there are two dependency paths between I<b>1</b> and B<b>3</b>. One is direct; the other is indirect via frame B<b>4</b>. In one embodiment, the determination module accounts for these duplicate references in order to further amplify the differences among frame burdens. For example, in the case above, frame I<b>1</b> would be awarded one additional unit of burden due to the second, duplicate reference between frame B<b>3</b> and I<b>1</b>.</p>
<p id="p-0191" num="0190">The methods described with respect to <figref idref="DRAWINGS">FIGS. 15 and 19</figref> consider intra-GOP dependency. In other embodiments the determination module can also consider inter-GOP dependencies present in an open GOP structure.</p>
<p id="p-0192" num="0191">As described above, multiple approaches can be used to create a useful weight vector X for use by the determination module in calculating total frame priority. For example, as previously described above with respect to <figref idref="DRAWINGS">FIGS. 16 and 17</figref>, weights could be assigned based upon frame type (I, P or B), by frame size or some combination of the two.</p>
<p id="p-0193" num="0192">In another embodiment, the weight vector is extended into the form of a weight table X, of size N&#xd7;N. In this approach, additional information about frame dependency is considered when assigning weight and calculating priority. In one embodiment, weights are applied to dependencies based upon the &#x2018;directness&#x2019; of the relationship between the frames being considered. That is, the weight applied to direct dependencies is larger than the weight applied to indirect dependencies. In another embodiment, first level, indirect dependencies are weighted higher than second level, indirect dependencies. Similarly, second level indirect dependencies are weighted higher than third level, and so on.</p>
<p id="p-0194" num="0193">For example, weight values of 3, 2 and 1 can be applied to direct dependencies, first level indirect dependencies and second level indirect dependencies, respectively. <figref idref="DRAWINGS">FIG. 21</figref> illustrates a weight table X for using this weighting scheme for the total frame burden table T of <figref idref="DRAWINGS">FIG. 20</figref>.</p>
<p id="p-0195" num="0194">The weight table X of size N&#xd7;N can replace weight vector X of size N in Step <b>1985</b> of <figref idref="DRAWINGS">FIG. 19</figref>. When using weight table X, the weighted total frame priority can be calculated for each frame j by summing the product of T(i,j)*X (i,j) for all values of i, from 1 to N.</p>
<p id="p-0196" num="0195">Advantageously, this approach takes into account that error propagation may be mitigated by I macroblocks as frame errors propagate through the GOP. Thus the importance of dependencies may be reduced as the level of &#x2018;directness&#x2019; between frames is also reduced.</p>
<p id="h-0021" num="0000">Slices</p>
<p id="p-0197" num="0196">In MPEG-2, MPEG-4, and H.264 frames may be further broken into slices. Slices contain an integer number of macroblocks all from the same frame. The dividing of a frame into slices can be implemented by using a single slice for a frame. A frame can also be divided into j slices, each containing a fixed number of macroblocks. Alternatively, a frame may be divided into k slices, each containing a variable number of macroblocks. The macroblocks within a slice are not dependent on the macroblocks in other slices from the same frame. If a slice is less than an entire frame, loss of the slice will impact the quality of the video less than the loss of the entire frame.</p>
<p id="p-0198" num="0197">As with frames, there are I slices, P slices, and B slices. I slices only contain I macroblocks which are encoded without dependencies on macroblocks in other frames. P slices may contain I macroblocks or P macroblocks, or both. P macroblocks are encoded based on a previous (or next) I frame or P frame. B slices may contain I, P, or B macroblocks or any combination. B macroblocks are bidirectionally encoded based on both a previous and a subsequent I or P frames.</p>
<p id="p-0199" num="0198">The same prioritization method, described previously for frames, can be applied to slices. For instance an I slice that is part of an I frame could be assigned the same burden and priority as the original I frame by the determination module. Similarly, the burden and priority for a P slice could be assigned the same burden and priority as the original P frame. The burden and priority for a B slice could be assigned the same burden and priority as the original B frame.</p>
<p id="p-0200" num="0199">Since the macroblocks in one slice of a frame can be decoded independent of the macroblocks of the other slices comprising a frame, prioritizing slices allows a finer grain discard during times of congestion or other times when a reduction in data rate is necessary or beneficial.</p>
<p id="p-0201" num="0200">In addition to prioritizing based on burden and frame or slice type, the determination module can further differentiate slices with the same burden based on the relative quantity of each variety of macroblock they contain. For example, if two P slices have the same burden, the P slice with more I macroblocks and fewer P macroblocks may be given priority over a P slice with fewer I macroblocks or more P macroblocks. Alternatively, the fine grain priority adjustment may be based on ratio of I macroblocks to P macroblocks within the slice. A similar fine grained priority adjustment can be applied to B slices based on the count or ratio of I, P, and B macroblocks. In another embodiment, since I macroblocks typically contain more data than P macroblocks and P macroblocks typically contain more data than B macroblocks, the determination module can adjust priority based on the average size of the macroblocks contained in the slice. This can be calculated by dividing the size of the slice in bytes by the number of macroblocks in the slice.</p>
<p id="p-0202" num="0201">In one embodiment, the determination module implements a scoring system. For example, the determination module can apply an adjustment that accounts for the differences in macroblocks in slices of the same priority level or burden while not allowing slices to cross to a different priority level or burden. In one embodiment, the determination module uses a number such that adding or subtracting the number from a priority value moves the priority value less than half way to the next lower or higher priority. If the difference between priority levels is the integer value 1, then any number x greater than zero, but less than 0.5 could be used. For example, x could equal 0.4.</p>
<p id="p-0203" num="0202"><figref idref="DRAWINGS">FIG. 22</figref> illustrates a method <b>2205</b> for modifying the priority of a slice based on the macroblocks in the slice. As described above, the method may be implemented by the determination module <b>744</b>. In another embodiment, the method may be implemented by another device or module. For the purpose of explanation, the method is described with respect to the determination module. Further, in the present description, a lower priority numbers means a higher priority. One skilled in the art would recognize that this method can also be used for modifying the priority of a frame based on the macroblocks in the frame.</p>
<p id="p-0204" num="0203">At decision step <b>2210</b> the determination module determines if a current slice in the frame is an I slice. If so, the evaluation of the current slice ends and the next slice is considered. If the current slice is not an I slice, the method proceeds to step <b>2220</b>. At step <b>2220</b> the determination module determines a value, y, that is the percentage of macroblocks in the current slice that are I macroblocks. Continuing at step <b>2230</b> the determination module adjusts the priority of the current slice by multiplying x and y and subtracting the product from the slice's current priority. In this manner, the presence of I macro blocks in the slice results in a lower priority number for the slice, i.e., a higher effective priority.</p>
<p id="p-0205" num="0204">Continuing at step <b>2240</b>, the determination module determines if the current slice is a P slice. If so, the evaluation of the current slice ends and the next slice is considered. If the current slice is not a P slice, the method proceeds to step <b>2250</b>. At step <b>2250</b> the determination module determines a value, z, that is the percentage of macroblocks in the current slice that are B macroblocks. Continuing at step <b>2260</b> the determination module adjusts the priority of the current slice by multiplying x and z and adding the product to the slice's current priority. In this manner, the presence of B macro blocks in the slice results in a higher priority number for the slice, i.e., a lower effective priority. In another embodiment, a different value for x can be used in this step than was used in step <b>2330</b> in order to provide greater control over relative priorities. As noted, the determination module can repeat this process for each slice in order to determine adjustments to the slices' priorities.</p>
<p id="p-0206" num="0205"><figref idref="DRAWINGS">FIG. 23</figref> illustrates a method <b>2305</b> for modifying the priority of a slice based on the macroblocks in the slice. As described above, the method may be implemented by the determination module <b>744</b>. In another embodiment, the method may be implemented by another device or module. For the purpose of explanation, the method is described with respect to the decision module. Further, in the present description, a lower priority numbers means a higher priority. One skilled in the art would recognize that this method can also be used for modifying the priority of a frame based on the macroblocks in the frame.</p>
<p id="p-0207" num="0206">The steps <b>2310</b>, <b>2320</b>, <b>2330</b>, and <b>2340</b> are identical to the corresponding steps of method <b>2205</b> of <figref idref="DRAWINGS">FIG. 22</figref>. For details of the implementation of these steps refer to description of the corresponding steps with respect to <figref idref="DRAWINGS">FIG. 22</figref>. Continuing at step <b>2350</b>, the determination module determines a number, z, that represents the percentage of macroblocks in the current slice that are P macroblocks. Continuing at step <b>2360</b>, the determination module adjusts the priority of the current slice by multiplying x&#x2032; and z and subtracting the product to the slice's current priority. In this step, x&#x2032; is calculated similar to x, but allows a different adjustment to be applied for P macroblocks than for 1 macroblocks in the B slice.</p>
<p id="p-0208" num="0207">One skilled in the art would appreciate that other adjustments may be made to a slice or frame priority based on the number, percentage, or size of I, P, and B macroblocks.</p>
<p id="p-0209" num="0208">Some video standards such as H.264-AVC allow redundant slices. Redundant slices carry redundant information in case an original frame is lost or damaged. For the purposes of prioritized discard, redundant slices are assigned a priority level lower than that of B slices since they generally will not be needed by the decoder.</p>
<p id="p-0210" num="0209">Some video standards such as H.264-AVC allow switching slices that allow easier or faster switching between video streams. SI slices allow switching between completely different streams. In one embodiment, if no stream switching is expected, SI slices are assigned a lower priority than B frames since they generally will not be used by the decoder. However, if switching streams is expected to be common, such as in a multicast or broadcast system streaming multiple video streams simultaneously, policy may dictate the priority of SI slices, and they may be prioritized above B or P slices, but typically not above I slices. Similarly, SP slices allow easier or faster switching between streams of the same video content encoded at different rates or resolutions. Unless such a switch is to be made, SP slices are assigned a lower priority than B slices. However, if such a switch is to be made, SP slices are assigned a priority in the same manner as P slices.</p>
<p id="p-0211" num="0210">Both SI and SP slices can be used for video playback and management functions under the control of a human viewer. For example, a person may choose to fast forward or rewind the content currently being viewed. A person may choose to change viewing streams (or &#x2018;channels&#x2019; as they are commonly described in broadcast video) or adjust the displayed resolution and/or screen size once such playback has begun. Depending on the video standard and encoding methods, these viewer requests may involve the use or increased use of SP and/or SI frames. Since user control response time is a critical performance metric for video transport and playback systems, the importance of SP and/or SI frames is substantially higher during such periods of user requests.</p>
<p id="p-0212" num="0211">In one embodiment, dynamic prioritization for SI and SP frames is used to detect user requests and respond by increasing the frame priority for SI and SP frames. This can be implemented, for example by the control response module <b>340</b>. The request detection can take several forms. One approach is to monitor uplink control traffic (traveling in the opposite direction of the video traffic) in order to detect specific user requests. Another form establishes a baseline frame rate for SI and SP frames, measured for example using frames per second, and to detect periods when the current SI or SP frame rate exceeds this baseline rate by some predetermined threshold, for example by a factor of 2&#xd7;. Once a user request has been detected, the priority level for SI or SP frames is raised and can even surpass the priority level currently assigned to I frames. The increased priority level can be maintained for the duration of user request(s) plus some configurable timeout period.</p>
<p id="h-0022" num="0000">Data Partitioning</p>
<p id="p-0213" num="0212">In some video standards such as H.264-AVC, the data in a slice may be further arranged into data partitions. For example, a slice in H.264-AVC may be partitioned into three data partitions. Data partition <b>1</b> contains the slice header and the header data for each macroblock. Data partition <b>2</b> contains the data portion of I or SI macroblocks from the slice. Data partition <b>3</b> contains the data portion of P, B, and SP macroblocks from the slice. These data partitions may be transported separately. Data partitions <b>1</b> and <b>2</b> are both necessary to recover the I macroblocks, so they may be linked together for discard prioritization by the determination module. The priority of partitions <b>1</b> and <b>2</b> can have their priority adjusted by applying the slice priority adjustment algorithm to data partition <b>2</b> and assigning the same priority to data partition <b>1</b>. Alternatively, since data partition <b>1</b> is also necessary for use of data partition <b>3</b>, data partition <b>1</b> can be assigned a priority that is slightly higher than the priority of data partition <b>2</b>. The priority of data partition <b>3</b> can have its priority adjusted by applying the slice priority adjustment algorithm to data partition <b>3</b>.</p>
<p id="p-0214" num="0213">One skilled in the art will appreciate that the prioritization described above may be used for other purposes than intelligent discard, for instance enhancing Call Admission Control by providing additional information regarding how much data from a video service may be discarded while maintaining a required service quality, thus allowing more services to be admitted than would be possible without this information.</p>
<p id="p-0215" num="0214">As described above, the packet discard and frame analysis described above may be performed by communication devices or systems including, but not limited to, an access point, base station, macrocell, picocell, enterprise femtocell, residential femtocell, relay, small form factor base station, subscriber station, core network system or other device. In some embodiments, these communication devices may comprise one or more processors, transceivers, antenna systems, and computer-readable memories or media that operate to accomplish the functionality described herein.</p>
<p id="p-0216" num="0215">Those of skill will appreciate that the various illustrative logical blocks, modules, units, and algorithm steps described in connection with the embodiments disclosed herein can often be implemented as electronic hardware, computer software, or combinations of both. To clearly illustrate this interchangeability of hardware and software, various illustrative components, units, blocks, modules, and steps have been described above generally in terms of their functionality. Whether such functionality is implemented as hardware or software depends upon the particular system and design constraints imposed on the overall system. Skilled persons can implement the described functionality in varying ways for each particular system, but such implementation decisions should not be interpreted as causing a departure from the scope of the invention. In addition, the grouping of functions within a unit, module, block or step is for ease of description. Specific functions or steps can be moved from one unit, module or block without departing from the invention.</p>
<p id="p-0217" num="0216">The various illustrative logical blocks, units, steps and modules described in connection with the embodiments disclosed herein can be implemented or performed with a general purpose processor, a digital signal processor (DSP), an application specific integrated circuit (ASIC), a field programmable gate array (FPGA) or other programmable logic device, discrete gate or transistor logic, discrete hardware components, or any combination thereof designed to perform the functions described herein. A general-purpose processor can be a microprocessor, but in the alternative, the processor can be any processor, controller, microcontroller, or state machine. A processor can also be implemented as a combination of computing devices, for example, a combination of a DSP and a microprocessor, a plurality of microprocessors, one or more microprocessors in conjunction with a DSP core, or any other such configuration.</p>
<p id="p-0218" num="0217">The steps of a method or algorithm and the processes of a block or module described in connection with the embodiments disclosed herein can be embodied directly in hardware, in a software module (or unit) executed by a processor, or in a combination of the two. A software module can reside in RAM memory, flash memory, ROM memory, EPROM memory, EEPROM memory, registers, hard disk, a removable disk, a CD-ROM, or any other form of machine or computer readable storage medium. An exemplary storage medium can be coupled to the processor such that the processor can read information from, and write information to, the storage medium. In the alternative, the storage medium can be integral to the processor. The processor and the storage medium can reside in an ASIC.</p>
<p id="p-0219" num="0218">Various embodiments may also be implemented primarily in hardware using, for example, components such as application specific integrated circuits (&#x201c;ASICs&#x201d;), or field programmable gate arrays (&#x201c;FPGAs&#x201d;).</p>
<p id="p-0220" num="0219">The above description of the disclosed embodiments is provided to enable any person skilled in the art to make or use the invention. Various modifications to these embodiments will be readily apparent to those skilled in the art, and the generic principles described herein can be applied to other embodiments without departing from the spirit or scope of the invention. Thus, it is to be understood that the description and drawings presented herein represent a presently preferred embodiment of the invention and are therefore representative of the subject matter, which is broadly contemplated by the present invention. It is further understood that the scope of the present invention fully encompasses other embodiments that may become obvious to those skilled in the art.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A base station for managing video transmission responsive to network conditions, the base station comprising:
<claim-text>a determination module configured to
<claim-text>receive a video stream, the video stream including frames, at least some of the frames including slices, each of the slices having a slice type, and</claim-text>
<claim-text>inspect the received video stream to determine a slice type for each of the slices and a priority value for each of the slices, the priority value of each of the slices based at least in part on the slice type;</claim-text>
</claim-text>
<claim-text>a selection module configured to discard one or more of the slices based at least in part on the priority values of the slices; and</claim-text>
<claim-text>a modem configured to transmit at least one of the slices that are not discarded to one or more subscriber stations.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The base station of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein slices that are redundant are preferentially discarded over slices that are not redundant.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The base station of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the priority values for slices that are switching slices are dynamic.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The base station of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the determination module is further configured to inspect the received video stream to determine a rate of switching slices and determine a higher priority for the slices that are switching slices when the rate of switching slices is higher than a baseline rate.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The base station of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least some of the slices include macroblocks, each of the macroblocks having a macroblock type, and wherein the determination module if further configured to inspect the received video stream to determine a macroblock type for each of the macroblocks, the priority for each of the slices further based at least in part on the macroblock types determined for the macroblocks in the corresponding slices.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The base station of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the priority values of the slices are further based at least in part on sizes of the slices.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The base station of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the slice types include an intra-coded (I) type slice, a predictive-coded (P) type slice, and a bidirectionally predictive-coded (B) type slice, and wherein slices of type B are preferentially discarded over slices of type P and slices of type P are preferentially discarded over slices of type I.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A base station for managing video transmission responsive to network conditions, the base station comprising:
<claim-text>a determination module configured to
<claim-text>receive a video stream, the video stream including frames, each of the frames having a frame type, and</claim-text>
<claim-text>inspect the received video stream to determine a frame type for each of the frames and a priority value for each of the frames, the priority value of each of the frames based at least in part on the frame type;</claim-text>
</claim-text>
<claim-text>a selection module configured to discard one or more of the frames based at least in part on the priority values of the frames; and</claim-text>
<claim-text>a modem configured to transmit at least one of the frames that are not discarded to one or more subscriber stations.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The base station of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein at least some of the frames include slices, each of the slices having a slice type, and wherein the determination module is further configured to inspect the received video stream to determine a slice type for each of the slices, the priority value for each of the frames further based at least in part on the slice types determined for the slices in the corresponding frame.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The base station of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein at least some of the slices include macroblocks, each of the macroblocks having a macroblock type, and wherein the determination module is further configured to inspect the received video stream to determine a macroblock type for each of the macroblocks, the priority value for each of the frames further based at least in part on the macroblock types determined for the macroblocks in the corresponding slices in the corresponding frames.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The base station of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the priority values for the frames are further based at least in part on sizes of the frames.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The base station of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the priority value for each of the frames is further based at least in part on whether one of the frames adjacent to the respective frame has been discarded.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The base station of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein some of the frames depend on one or more others of the frames for decoding, the priority value of each of the frames further based at least in part on the number of frames that depend from the respective frame.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The base station of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the priority value of each of the frames is further based at least in part on the number of frames that depend indirectly from the respective frame.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The base station of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the frame types include an intra-coded (I) type frame, a predictive-coded (P) type frame, and a bidirectionally predictive-coded (B) type frame, and wherein frames of type B are preferentially discarded over frames of type P and frames of type P are preferentially discarded over frames of type I.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. A base station for managing video transmission responsive to network conditions, the base system comprising:
<claim-text>a determination module configured to
<claim-text>receive a video stream, the video stream including frames, at least some of the frames including slices, at least some of the slices including macroblocks, each of the macroblocks having a macroblock type, and</claim-text>
<claim-text>inspect the received video stream to determine a macroblock type for each of the macroblocks and a priority value for each of the macroblocks, the priority value of each of the macroblocks based at least in part on the macroblock type;</claim-text>
</claim-text>
<claim-text>a selection module configured to discard one or more of the macroblocks based at least in part on the priority values of the macroblocks; and</claim-text>
<claim-text>a modem configured to transmit at least one of the macroblocks that are not discarded to one or more subscriber stations.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The base station of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the macroblock types include an intra-coded (I) type macroblock, a predictive-coded (P) type macroblock, and a bidirectionally predictive-coded (B) type macroblock, and wherein macroblocks of type B are preferentially discarded over macroblocks of type P and macroblocks of type P are preferentially discarded over macroblocks of type I.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. A base station for managing video transmission responsive to network conditions, the base station comprising:
<claim-text>a determination module configured to
<claim-text>receive a video stream, the video stream including frames, at least some of the frames including slices, at least some of the slices including data partitions, each of the data partitions having a data partition type, and</claim-text>
<claim-text>inspect the received video stream to determine a data partition type for each of the data partitions and a priority value for each of the data partitions, the priority value of each of the data partitions based at least in part on the data partition type;</claim-text>
</claim-text>
<claim-text>a selection module configured to discard one or more of the data partitions based at least in part on the priority values of the data partitions; and</claim-text>
<claim-text>a modem configured to transmit at least one of the data partitions that are not discarded to one or more subscriber stations.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The base station of <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein data partitions having data for predictive-coded (P) type macroblocks or bidirectionally predictive-coded (B) type macroblocks are preferentially discarded over data partitions having data for intra-coded (I) type macroblocks and data partitions having data for 1 type macroblocks are preferentially discarded over data partitions having header data.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. A method for managing video transmission from a base station responsive to network conditions, the method comprising:
<claim-text>receiving a video stream, the video stream including frames, each of the frames having a frame type;</claim-text>
<claim-text>inspecting the received video stream to determine a frame type for each of the frames and a priority value for each of the frames, the priority value of each of the frames based at least in part on the frame type;</claim-text>
<claim-text>discarding one or more of the frames based at least in part on the priority values of the frames; and</claim-text>
<claim-text>transmitting the non-discarded frames to one or more devices.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The method of <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein the frame types include an intra-coded (I) type frame, a predictive-coded (P) type frame, and a bidirectionally predictive-coded (B) type frame, and wherein frames of type B are preferentially discarded over frames of type P and frames of type P are preferentially discarded over frames of type I.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The method of <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein some of the frames depend on one or more others of the frames for decoding, the priority value of each of the frames further based at least in part on the number of frames that depend from the respective frame.</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The method of <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein the priority value of each of the frames is further based at least in part on the number of frames that depend indirectly from the respective frame.</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. The method of <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein the priority value of each of the frames is further based at least in part on whether one of the frames adjacent to the respective frame has been discarded.</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The method of <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein at least some of the frames include slices, each of the slices having a slice type, and wherein the method further comprises inspecting the received video stream to determine a slice type for each of the slices, the priority value for each of the frames further based at least in part on the slice types determined for the slices in the corresponding frame.</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The method of <claim-ref idref="CLM-00025">claim 25</claim-ref>, wherein at least some of the slices include macroblocks, each of the macroblocks having a macroblock type, and wherein the method further comprises inspecting the received video stream to determine a macroblock type for each of the macroblocks, the priority value for each of the frames further based at least in part on the macroblock types determined for the macroblocks in the corresponding slices in the corresponding frames.</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. A method for managing video transmission from a base station responsive to network conditions, the method comprising:
<claim-text>receiving a video stream, the video stream including frames, at least some of the frames including slices, each of the slices having a slice type;</claim-text>
<claim-text>inspecting the received video stream to determine a slice type for each of the slices and a priority value for each of the slices, the priority value of each of the slices based at least in part on the slice type;</claim-text>
<claim-text>discarding one or more of the slices based at least in part on the priority values of the slices; and</claim-text>
<claim-text>transmitting the non-discarded slices to one or more devices.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00028" num="00028">
<claim-text>28. The method of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein the slice types include an intra-coded (I) type slice, a predictive-coded (P) type slice, and a bidirectionally predictive-coded (B) type slice, and wherein slices of type B are preferentially discarded over slices of type P and slices of type P are preferentially discarded over slices of type I.</claim-text>
</claim>
<claim id="CLM-00029" num="00029">
<claim-text>29. The method of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein the priority values of the slices are further based at least in part on sizes of the slices.</claim-text>
</claim>
<claim id="CLM-00030" num="00030">
<claim-text>30. The method of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein slices that are redundant are preferentially discarded over slices that are not redundant.</claim-text>
</claim>
<claim id="CLM-00031" num="00031">
<claim-text>31. The method of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein the priority values for slices that are switching slices are dynamic.</claim-text>
</claim>
<claim id="CLM-00032" num="00032">
<claim-text>32. The method of <claim-ref idref="CLM-00031">claim 31</claim-ref>, further comprising inspecting the received video stream to determine a rate of switching slices and wherein a higher priority is determined for the slices that are switching slices when the rate of switching slices is higher than a baseline rate.</claim-text>
</claim>
<claim id="CLM-00033" num="00033">
<claim-text>33. The method of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein at least some of the slices include macroblocks, each of the macroblocks having a macroblock type, and wherein the method further comprises inspecting the received video stream to determine a macroblock type for each of the macroblocks, the priority value for each of the slices further based at least in part on the macroblock types determined for the macroblocks in the corresponding slices.</claim-text>
</claim>
<claim id="CLM-00034" num="00034">
<claim-text>34. A method for managing video transmission from a base station responsive to network conditions, the method comprising:
<claim-text>receiving a video stream, the video stream including frames, at least some of the frames including slices, at least some of the slices including macroblocks, each of the macroblocks having a macroblock type;</claim-text>
<claim-text>inspecting the received video stream to determine a macroblock type for each of the macroblocks and a priority value for each of the macroblocks, the priority value of each of the macroblocks based at least in part on the macroblock type;</claim-text>
<claim-text>discarding one or more of the macroblocks based at least in part on the priority values of the macroblocks; and</claim-text>
<claim-text>transmitting the non-discarded macroblocks to one or more devices.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00035" num="00035">
<claim-text>35. The method of <claim-ref idref="CLM-00034">claim 34</claim-ref>, wherein the macroblock types include an intra-coded (I) type macroblock, a predictive-coded (P) type macroblock, and a bidirectionally predictive-coded (B) type macroblock, and wherein macroblocks of type B are preferentially discarded over macroblocks of type P and macroblocks of type P are preferentially discarded over macroblocks of type I.</claim-text>
</claim>
<claim id="CLM-00036" num="00036">
<claim-text>36. A method for managing video transmission from a base station responsive to network conditions, the method comprising:
<claim-text>receiving a video stream, the video stream including frames, at least some of the frames including slices, at least some of the slices including data partitions, each of the data partitions having a data partition type;</claim-text>
<claim-text>inspecting the received video stream to determine a type for each of the data partitions and a priority value for each of the data partitions, the priority value of each of the data partitions based at least in part on the data partition type;</claim-text>
<claim-text>discarding one or more of the data partitions based at least in part on the priority values of the data partitions; and</claim-text>
<claim-text>transmitting the non-discarded data partitions to one or more devices.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00037" num="00037">
<claim-text>37. The method of <claim-ref idref="CLM-00036">claim 36</claim-ref>, wherein data partitions having data for predictive-coded (P) type macroblocks or bidirectionally predictive-coded (B) type macroblocks are preferentially discarded over data partitions having data for intra-coded (I) type macroblocks and data partitions having data for I type macroblocks are preferentially discarded over data partitions having header data. </claim-text>
</claim>
</claims>
</us-patent-grant>
