<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626114-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626114</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12602817</doc-number>
<date>20070604</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>936</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>M</subclass>
<main-group>11</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>455405</main-classification>
<further-classification>455406</further-classification>
<further-classification>455407</further-classification>
<further-classification>455408</further-classification>
</classification-national>
<invention-title id="d2e53">Method for processing service requests in a telecommunications system</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6026303</doc-number>
<kind>A</kind>
<name>Minamisawa</name>
<date>20000200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455446</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2003/0084184</doc-number>
<kind>A1</kind>
<name>Eggleston et al.</name>
<date>20030500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2004/0246965</doc-number>
<kind>A1</kind>
<name>Westman et al.</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370392</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2006/0035637</doc-number>
<kind>A1</kind>
<name>Westman</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554353</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2008/0186845</doc-number>
<kind>A1</kind>
<name>Maes</name>
<date>20080800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370230</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2010/0325275</doc-number>
<kind>A1</kind>
<name>Van Elburg et al.</name>
<date>20101200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709225</main-classification></classification-national>
</us-citation>
</us-references-cited>
<number-of-claims>18</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>455405</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455406</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455407</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455408</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>3</number-of-drawing-sheets>
<number-of-figures>3</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20100178896</doc-number>
<kind>A1</kind>
<date>20100715</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Terrero Diaz-Chir&#xf3;n</last-name>
<first-name>Maria Esther</first-name>
<address>
<city>Madrid</city>
<country>ES</country>
</address>
</addressbook>
<residence>
<country>ES</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Vares</last-name>
<first-name>Nuria Esteban</first-name>
<address>
<city>Aranjuez</city>
<country>ES</country>
</address>
</addressbook>
<residence>
<country>ES</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Terrero Diaz-Chir&#xf3;n</last-name>
<first-name>Maria Esther</first-name>
<address>
<city>Madrid</city>
<country>ES</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Vares</last-name>
<first-name>Nuria Esteban</first-name>
<address>
<city>Aranjuez</city>
<country>ES</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Telefonaktiebolaget LM Ericsson (Publ)</orgname>
<role>03</role>
<address>
<city>Stockholm</city>
<country>SE</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Magloire</last-name>
<first-name>Vladimir</first-name>
<department>2645</department>
</primary-examiner>
<assistant-examiner>
<last-name>Plata</last-name>
<first-name>Edd Rianne</first-name>
</assistant-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/EP2007/055486</doc-number>
<kind>00</kind>
<date>20070604</date>
</document-id>
<us-371c124-date>
<date>20091203</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2008/148421</doc-number>
<kind>A </kind>
<date>20081211</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A service request (SRV) comprising a second identifier belonging to a collection of identifiers identified by a first identifier (WPSI-I) is rejected or allowed to proceed depending on whether the current usage data stored in relationship with the first identifier reaches a value established by usage limit data stored in relationship with said first identifier. Current usage data is updated according to service requests comprising a second identifier belonging to said collection and allowed to proceed. The usage limit data can state maximum number of simultaneous communications, or maximum number of second identifiers belonging to said collection, and can be dynamically updated according to traffic load conditions in an apparatus of the telecommunications system. The invention prevents overloading resources in telecommunications systems when the number of eventual users can not be foreseen.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="113.28mm" wi="251.97mm" file="US08626114-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="251.29mm" wi="195.24mm" file="US08626114-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="255.02mm" wi="139.28mm" orientation="landscape" file="US08626114-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="252.98mm" wi="174.07mm" file="US08626114-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0002" num="0001">The present invention relates to method and apparatuses for processing service requests in a telecommunications system.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">Users of the services provided by a telecommunications system are assigned to identifiers, which are commonly used for addressing and identification purposes. In legacy telecommunications systems a user was usually assigned to a single identifier. However, this tends to change in modern telecommunications systems, where the same user can be addressed (e.g. called) and identified (e.g. before another user when establishing a communication with him) by more than one identifier. The use of more than one identifier per user in a telecommunications system does not necessarily increase the traffic in the system; rather, it allows a telecommunications operator to deliver more personalized services, which can be adapted, e.g., according to a profile associated to each identifier.</p>
<p id="p-0004" num="0003">An example of a telecommunications system providing such a feature is a Universal Mobile Telecommunications System, UMTS, comprising the&#x2014;so called&#x2014;Internet Protocol IP Multimedia Subsystem, IMS, e.g. as described in 3GPP Specification TS 23.228 V8.0.0 (March-2007). Chapters 4.3.3.2 (&#x201c;Public User Identities&#x201d;) and 4.3.3.4 (&#x201c;Relationship of Private and Public User Identities&#x201d;) in TS 23.228 disclose how a IMS user can be assigned to more than one &#x201c;Public User Identity&#x201d; PUB-ID as identifiers.</p>
<p id="p-0005" num="0004">According to the standardized procedures, a communication can start to be established with a user by receiving in nodes of the IMS a service request for establishing a communication (e.g. a Session Initiation Protocol message &#x201c;INVITE&#x201d;) comprising a PUB-ID assigned to said user, which is then processed according to the user profile associated to said PUB-ID.</p>
<p id="p-0006" num="0005">Following with the illustrative case of IMS, a further kind of identifiers are also considered. These are the &#x2014;so called&#x2014;&#x201c;Public Service Identities&#x201d; PSIs. As disclosed in chapter 4.3.6 of the aforementioned TS 23.228, a PSI differs from a PUB-ID in that it identifies a particular service (or a particular service instance of a service) hosted e.g. by an application server, rather than a particular user. Both, PUB-IDs, as well as well as PSIs, take preferably the form of Session Initiation Protocol Uniform Resource Identifiers, SIP-URIs, or &#x201c;telephony&#x201d; URIs, TEL-URI. According to the standardized procedures, service requests comprising PSIs are routed in the IMS system using essentially the same routing mechanisms as service requests comprising PUB-IDs of users.</p>
<p id="p-0007" num="0006">Recently, the&#x2014;so called&#x2014;&#x201c;Wildcarded PSIs&#x201d; have been also considered for use in IMS systems, which take also the same format (SIP-URI, TEL-URI) as PSIs. A Wildcarded PSI identifies a collection of (distinct) PSIs which belongs to its range. For example, a Wildcarded PSI such as &#x201c;sip:chatlist!.*!@example.com&#x201d;, would identify PSIs such as:
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0007">sip:chatlist1@example.com</li>
        <li id="ul0002-0002" num="0008">sip:chatlist2@example.com</li>
        <li id="ul0002-0003" num="0009">sip:chatlist42@example.com</li>
        <li id="ul0002-0004" num="0010">sip:chatlistABC@example.com</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0008" num="0011">etc.</p>
<p id="p-0009" num="0012">A service request comprising a distinct PSI belonging to a collection of identified by a Wildcarded PSIs is essentially processed in the IMS system as one more PSI. However, a significant advantage provided by the use of Wildcarded PSIs, is that they enable optimization of operation and maintenance procedures in a IMS system.</p>
<p id="p-0010" num="0013">For example, for each and every PUB-ID or PSI, the Home Subscriber Server HSS of a IMS system has to store a set of data (called &#x201c;service profile&#x201d;) which are needed for the processing service requests related to said PUB-ID or PSI in the IMS, such as registrations, multimedia session requests, etc. For a given PUB-ID or PSI these data can comprise, among other: the Serving Call Session Control Function S-CSCF assigned to mediate in sessions originating or terminating in the user/service identified by said PUB-ID or PSI; a set of structured information -called &#x201c;Initial Filter Criteria&#x201d; IFC, which establishes execution triggers that allows processing a service request comprising said PUB-ID or PSI according to predefined rules; other related (public and/or private) identifiers; etc. Furthermore, these service profile data has to be downloaded from the HSS to the corresponding S-CSCF and stored therein, so as to properly serve service requests comprising said PUB-ID or said PSI.</p>
<p id="p-0011" num="0014">However, there is no need of storing and maintain such a service profile for each and every distinct PSIs that belongs to a collection identified by a particular Wildcarded PSI, as only a&#x2014;say&#x2014;generic service profile data is stored for a Wildcarded PSI, which is applicable to all the distinct PSIs identified by (i.e. belonging to) it. Accordingly, a HSS can perform the master storage of the service profile data of a given Wildcarded PSI, which can be then downloaded to a particular S-CSCF that will mediate in all service requests comprising any distinct PSIs belonging to the collection identified by the Wildcarded PSI.</p>
<p id="p-0012" num="0015">Therefore, not only operation and maintenance procedures are simplified, but the quantity of data needed to be stored for some users of the IMS system can be significantly diminished by using Wildcarded PSIs; thereby, allowing optimize the usage of the storage resources, for example, in HSSs and S-CSCFs of the system, while providing essentially the same kind of services to users that can be assigned to, and identified by, distinct PSIs belonging to a Wildcarded PSI. As it is readily apparent, these advantageous features are equally applicable in other telecommunications systems, not necessarily comprising a IMS system, and having to deal with identifiers that belong to a particular collection identified by a given further identifier.</p>
<p id="p-0013" num="0016">Wildcarded PSIs have been envisaged for use in Virtual Private Network VPN scenarios using IMS as a connectivity/services core network; wherein a particular VPN can e.g. be globally associated to a Wildcarded PSI, while each of its users can be individually assigned to distinct PSIs belonging to the collection identified by the Wildcarded PSI. In these scenarios the users of, e.g., a IP-based Private Exchange IP-PBX can get access to multimedia communication services through a IMS system, to which (distributed or centralized) premises of the IP-PBX are connected (e.g. via border gateways), as if they were individually subscribed to it.</p>
<p id="p-0014" num="0017">The advantageous features provided by the use of Wildcarded PSIs promise an early adoption by telecommunications operators owning IMS systems, which could then increase their business opportunities by offering, for example, VPN services to other service providers. Accordingly, it should be desirable minimizing the impact due to implementation of Wildcarded PSIs for a telecommunications operator owning a IMS system.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0015" num="0018">In one aspect, the invention relates to a method, an apparatus and computer Program for processing service requests in a telecommunications system.</p>
<p id="p-0016" num="0019">According to the invention, usage limit data is stored in relationship with a first identifier identifying a collection of second identifiers that can be received in a service request. Further, usage data in relationship with the first identifier is also stored and updated according to service requests comprising a second identifier belonging to said collection and allowed to proceed. Service requests comprising a second identifier belonging to the collection identified by a first identifier are allowed to proceed, or rejected, depending on if the current usage data reaches a value established by the usage limit data.</p>
<p id="p-0017" num="0020">By keeping updated usage data of second identifiers belonging to a collection identified by the first identifier, and then comparing it with the usage limit data set in relationship with the first identifier, overloading resources of a telecommunications system can be prevented when the number of eventual users of said system can not be foreseen in advance.</p>
<p id="p-0018" num="0021">The usage limit related to a first identifier can advantageously be set according to a predefined usage fee agreed between the operator owning the telecommunications system and a service provider benefiting of using second identifiers belonging to the collection identified by the first identifier, which allow negotiation of fair and simplified pricing schemes between these parties and, what is a significant advantage, allowing to dispense with complex accounting functions/systems. Furthermore, a processing according to the invention allows the operator of a telecommunications system to perform a better dimensioning of the involved resources in the system, so as to fit service availability expectations, which can be settled in advance.</p>
<p id="p-0019" num="0022">The solution of the invention provides a further advantage when agreeing the price of a node between a telecommunications operator and the technology provider of the node, particularly when the eventual usage rate of said node due to services related to some users is not known in advance, and when a pricing criterion relates to the usage rate of said node. Accordingly, the solution of the invention permits the settlement of a fair and trustable price between a telecommunications operator and the node provider by pre-configuring the node with a usage limit data consistent to said price.</p>
<p id="p-0020" num="0023">According to one embodiment, the usage limit data states a maximum number of simultaneous communications established with service requests for establishing communications comprising a second identifier belonging to the collection identified by the first identifier, and allowed to proceed. According to another embodiment, the usage limit data states a maximum number of second identifiers belonging to said collection that have been received in service requests. The resource usage in a telecommunications system due to service requests related to certain users, which are not known in advance, can then be controlled in detail.</p>
<p id="p-0021" num="0024">According to another embodiment, the usage limit data is updated according to traffic load conditions in an apparatus of the telecommunications system. This provides an advantageous flexibility for processing service requests comprising a second identifier belonging to a collection identified by a first identifier when said processing, mainly relies upon the capacity of a particular node, or upon a resource utilized by said node.</p>
<p id="p-0022" num="0025">Features and embodiments of the invention described hereinbefore apply to any kind of telecommunications system having to deal with service requests comprising second identifiers belonging to a collection identified by a first identifier; thereby, allowing managing the traffic load in the system which is due to requests to/from an unpredictable number of users ascribed to said second identifiers. Further embodiments of the invention relates to their application to the particular case of an Internet Protocol Multimedia Subsystem, and to some of its nodes. In these embodiments the first identifier can be a Wildcarded Public Service Identifier, and the second identifiers are Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier.</p>
<p id="p-0023" num="0026">According to an embodiment, a Wildcarded Public Service Identifier identifies a group of users of a Private Exchange connected to said Internet Protocol Multimedia Subsystem. The service provider of the Private Exchange can then benefit of the services offered by, or through, the operator of the Internet Protocol Multimedia Subsystem and, in virtue of the features of the invention, the IMS operator can better adapt its network resources to the corresponding expected and/or agreed demand.</p>
<p id="p-0024" num="0027">According to different embodiments, the usage limit data related to a Wildcarded Public Service Identifier can be stored in a Home Subscriber Server, or a Subscription Locator Function, and/or in a Serving Call Session Control Function. In the second case, part or all the usage limit data can be downloaded from a Home Subscriber Server by a Serving Call Session Control Function as a part of the service profile related to the Wildcarded Public Service Identifier.</p>
<p id="p-0025" num="0028">By storing usage limit data as described herein different alternative or complementary embodiments are provided by the invention, which allow implementing the most suitable solution depending on the desired complexity degree.</p>
<p id="p-0026" num="0029">In one embodiment, the usage limit data related to a Wildcarded Public Service Identifier is stored in a Home Subscriber Server, or in a Subscription Locator Function, and used therein for accepting or rejecting service requests consisting on User Location Queries comprising Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier. The Home Subscriber Server, or the Subscription Locator Function, then accepts or rejects a query depending on whether the number of User Location Queries comprising Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier, as updated usage data, exceeds a value stated in the usage limit data. A simplified implementation can thus be achieved, which only involves modifications in Home Subscriber Servers, or in Subscription Locator Functions.</p>
<p id="p-0027" num="0030">In another alternative, or complementary, embodiment, the usage limit data related to a Wildcarded Public Service Identifier is stored in a Serving Call Session Control Function, and used therein for accepting or rejecting service requests for establishing communications which comprise Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier. The usage limit data can be downloaded from a Home Subscriber Server as a part of the service profile related to the Wildcarded Public Service Identifier, or can be set therein by other procedures. The first alternative provides the advantage that neither new messages nor interfaces are needed in a Serving Call Session Control Function, whilst the second alternative allows an implementation which involves modifications only in Serving Call Session Control Functions.</p>
<p id="p-0028" num="0031">As updated usage data, the Serving Call Session Control Function can, either or both, store data about the Distinct Public Service Identifiers belonging to said Wildcarded Public Service Identifier that have been received in service requests for establishing communications, and/or store data about the number of current communications established through it with service requests for establishing communications comprising Distinct Public Service Identifiers belonging to said Wildcarded Public Service Identifier. The Serving Call Session Control Function can then accept or reject a service request depending on whether one or both of these updated usage data exceeds a corresponding value stated in the related usage limit data.</p>
<p id="p-0029" num="0032">By having a Serving Call Session Control Function modified as described herein, overloading of its signaling and/or processing capabilities can be prevented, since traffic load due to an unpredictable number of users, which are ascribed to Public Service Identifiers belonging to a Wildcarded Public Service Identifier said Serving Call Session Control Function is assigned to serve, can be limited in advance. Further, the usage limit data stored in the Serving Call Session Control Function in relationship with a Wildcarded Public Service Identifier can be dynamically modified according to current traffic load conditions; which permits a flexible adaptation for allowing/limiting some service requests related to an unpredictable number of users globally identified by a Wildcarded Public Service Identifier.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0030" num="0033"><figref idref="DRAWINGS">FIG. 1</figref> shows a flowchart illustrating some steps of a method for processing service requests according to one embodiment of the invention.</p>
<p id="p-0031" num="0034"><figref idref="DRAWINGS">FIG. 2</figref> shows a schematic representation of some functional modules of an apparatus according to one embodiment of the invention.</p>
<p id="p-0032" num="0035"><figref idref="DRAWINGS">FIG. 3</figref> shows a simplified signaling flow illustrating some of the steps of <figref idref="DRAWINGS">FIG. 1</figref> according different embodiments of the invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0033" num="0036">Exemplary embodiments of the invention shall now be described with reference to <figref idref="DRAWINGS">FIGS. 1 to 3</figref>.</p>
<p id="p-0034" num="0037">The flowchart of <figref idref="DRAWINGS">FIG. 1</figref> illustrates some steps of a method for processing in a telecommunications system service requests comprising (second) identifiers belonging to a collection of identifiers identified by a given (first) identifier. The steps illustrated in <figref idref="DRAWINGS">FIG. 1</figref> can be performed by one node of the system, or by more than one node, as will be later described.</p>
<p id="p-0035" num="0038">Preferably, before service requests are received comprising identifiers matching a collection identified by a first identifier, a node in the system stores usage limit data (ULD) in relationship with the first identifier. This is illustrated in step <b>110</b>, and can be accomplished by operation and maintenance procedures, or as a result of communication procedures between nodes in the telecommunications system.</p>
<p id="p-0036" num="0039">The usage limit data can be initially set according to various criteria. For example, if there is a service provider providing a VPN service to a plurality of users connected directly, or indirectly (e.g. via a PBX) to the system, wherein these users are individually identified by identifiers belonging to the first identifier, the usage limit data can be set according to a predefined fee agreed between the operator of the telecommunications system and the service provider, which can relate to the quantity and/or quality of services to be provided. The service provider can then agree a simplified pricing scheme with the operator, which can be in accordance with the quantity and/or quality of services it will offer to its customers. An advantage for operator of the telecommunications system is that overloading of system resources, for example, in terms of number of nodes, their respective capability, capacity of the used interconnection networks, etc; can be prevented by knowing in advance the usage limit data configured in the system concerning a plurality of users whose individual identifiers belong to one or more first identifiers, and adapting the system resources accordingly so as to fulfill the expected demand till a predefined limit.</p>
<p id="p-0037" num="0040">The initial setting of step <b>110</b>, and the subsequent processing steps of the method of the invention, allows a further advantage to the operator of the telecommunications system when having to acquire a telecommunications node. For example, a typical pricing parameter for some telecommunications nodes uses to be related to the rate of usage of the node; for example, related to the maximum number of users that can be configured to be served in said node. As those skilled know, in computer-based telecommunications nodes this can be accomplished by a specific software which controls that the rate usage does not exceed the acquired &#x201c;usage licenses&#x201d;. Thus, when acquiring e.g. a HSS, the price agreement between the operator and the provider of the node can be established depending on the number of users whose subscriber data can be configured in said node and who shall be served for registration information from it. Accordingly, the HSS provider configures the software of the node with specific software controlling that the amount of users to be provided therein does not exceeds the maximum amount agreed with the operator. The number of usage licenses in a HSS controls to certain extent the capacity for a IMS system in terms of number of users that can subscribe therein.</p>
<p id="p-0038" num="0041">However, in case the telecommunications operator intends to offer services where, for example, wildcarded-PSIs intervene, said pricing scheme fails, since the amount of users can become unpredictable. The initial setting of step <b>110</b> (e.g. configured in the software of the concerned node/s) allows the settlement of a fair and trustable price between a telecommunications operator and the node provider, which can then pre-configure the node with a usage limit data consistent to said price.</p>
<p id="p-0039" num="0042">In step <b>115</b>, usage counter(s) stored in relationship with the first identifier is(are) reset. These data (UD) will be updated according to service requests comprising a second identifier belonging to said collection and allowed to proceed, as will be detailed with reference to further steps illustrated in <figref idref="DRAWINGS">FIG. 1</figref>. For example, in step <b>135</b> a service request SRV comprising a second identifier belonging to the first identifier is received. The determination on that a received second identifier belongs to a collection identified by a first identifier (step not shown) depends on the nature of these identifiers. For example, in case of Wildcarded PSIs the comparison can be accomplished by matching an identifier received in the message with the portion outside the standardized delimiter expressions &#x201c;!&#x201d; of stored Wildcarded PSIs. Other kind of first identifier can also be envisaged having, for example, no relationship with the format/content of the related second identifiers, which can require other procedures for determining a dependency relationship between them.</p>
<p id="p-0040" num="0043">It is to be noticed here that the service request SRV received in step <b>135</b> can comprise identifiers of one or more users, which can be also identifiers associated to services served by specific application servers. Any of these identifiers are susceptible of belonging to a collection identified by a further (first) identifier. For example, if the service request is a SIP message INVITE, either or both: the received identifier of the originating (calling) party (i.e. user, application service, etc), or the received identifier of the terminating (called) party, can be a PSI belonging to a certain wildcarded-PSI, which makes processing the service request INVITE according to the invention.</p>
<p id="p-0041" num="0044">The execution flow illustrated in <figref idref="DRAWINGS">FIG. 1</figref> assumes that the service request SRV comprises at least one (second) identifier that belongs to the collection identified by a further (first) identifier. The execution then proceeds to step <b>140</b>, wherein the current usage data (UD) stored in relationship with the first identifier is checked against the usage limit data (ULD) set for it. If the current usage data exceeds the limit set by the usage limit data the execution of the services proceeds to step <b>150</b> where it is rejected, otherwise it proceeds to step <b>145</b> wherein the processing of the service request SRV is allowed to continue (CNU). In the latest case, before, during or after the processing of the service, the usage data (UD) stored in relationship with the first identifier are increased accordingly in step <b>120</b>, as illustrated by arrows A and B.</p>
<p id="p-0042" num="0045">In step <b>155</b> an event (EOS) indicating the end of the service SRV takes place. Following the example case above, in step <b>155</b> can be received a SIP BYE message requesting to end up with the communication established with the INVITE received on step <b>135</b>. In addition to the corresponding (e.g. standardized) procedures for processing the event of step <b>155</b>, the method proceeds to step <b>125</b>, as illustrated by arrows Y and Z, wherein the usage data (UD) stored in relationship with the first identifier are decreased accordingly.</p>
<p id="p-0043" num="0046">The updating steps <b>120</b> and <b>125</b> can be driven by service events which imply usage of any service provided to a user and/or application using an (second) identifier belonging to the collection of a given (first) identifier. The service in question does not necessarily implies the establishment of a communication as in the exemplary case cited above, wherein the calling, or called, user is identified by a second identifier. For example, in systems providing dynamic registration capabilities (such as IMS), registration events related to second identifiers belonging to a given first identifier can drive also updating of the concerned usage data in steps <b>120</b> (e.g. at registration of a given second identifier) and <b>125</b> (e.g. at de-registration of said second identifier); which can advantageously be used to limit the number of active registrations for certain group(s) of users.</p>
<p id="p-0044" num="0047">The usage limit data (ULD) stored in relationship with a first identifier are not necessarily static. If appropriate, ULD stored in relationship with one or more first identifiers can be modified depending on dynamic factors, such as traffic load conditions in one or more nodes of the telecommunications system. This is illustrated by step <b>130</b>, triggered by a traffic load event(s) TRAFF, which, depending on its nature, can increase or decrease usage limit data ULD stored in relationship with one or more first identifiers. Depending on different embodiments, traffic condition events can be collected and monitored internally by a node of the system intervening in service requests, and/or received in said node from another node in the system. For example, a node can monitor whether its traffic load exceeds and/or goes below predefined values, and then, update concerned ULD (e.g. if stored internally) and/or notify this event to other cooperating nodes in the system.</p>
<p id="p-0045" num="0048">Step <b>130</b> can run in one or more nodes of a telecommunications system, so as to increase or decrease the usage limit data ULD stored in relationship with a first identifier. For example, a HSS can increase/decrease to a certain margin the ULD stored in relationship with one or more first identifiers depending on the signaling or processing rate it is executing. Alternatively, or additionally, the HSS can notify said rate, or a request to increase/decrease to a concerned S-CSCF. A similar procedure can be run in a S-CSCF with regard to a HSS.</p>
<p id="p-0046" num="0049">The usage limit data ULD related to a first identifier, as well as the range it could oscillate (e.g. depending on dynamic load factors, as illustrated in step <b>130</b>), can be established according to a predefined fixed fee agreed in advance between the operator owning the telecommunications system and a service provider benefiting of using second identifiers belonging to the collection identified by the first identifier. Therefore, a processing as described above with reference to <figref idref="DRAWINGS">FIG. 1</figref> allows the settlement of simplified pricing schemes between these parties and, at the same time, allows dispense with implementation and use of complex accounting functions and systems within the premises of the telecommunications operator, and/or within the premises of the service provider.</p>
<p id="p-0047" num="0050">The internal simplified structure of an apparatus for processing service requests according to the invention shall now be described with reference to <figref idref="DRAWINGS">FIG. 2</figref> considering a possible implementation as a computer-based apparatus which, as in most of the modern telecommunications systems, is a preferred implementation for telecommunications nodes.</p>
<p id="p-0048" num="0051">For the sake of clarity, the description of this and subsequent embodiments shall be made considering that the apparatus implements a Home Subscriber Server HSS (<b>20</b>-A), or a Serving Call Session Control Function S-CSCF (<b>20</b>-B), in a telecommunications system comprising a IP Multimedia Subsystem IMS, having to process&#x2014;among others&#x2014;service requests comprising identifiers that are Distinct Public Service Identifiers belonging to Wildcarded Public Service Identifiers. It is to be noticed that, according to the 3GPP standardized definition, a HSS comprises, among other functions, the functionality of a Home Location Register HLR with the necessary functionality to attend service requests in a IMS system. Given that the&#x2014;say&#x2014;generic functionality of a HSS (or a HLR) e.g. as &#x201c;location registration&#x201d; node, and the one of a S-CSCF e.g. as &#x201c;routing node&#x201d; assigned to serve signaling related to a set of user identifiers), the skilled person would readily realize how to adapt the invention to other kind of telecommunications systems from the description given herein with reference to a IMS system.</p>
<p id="p-0049" num="0052">A telecommunications node which serves or mediates in the services provided by or through a telecommunications system (such as a CSCF, a HSS, etc.), regardless its specific construction details, may be considered as an apparatus comprising of one or more functional modules; each of them arranged to perform a specific (sub)function of the total functionality implemented by said node and, eventually, arranged to cooperate with some of the others. Furthermore, in some implementations, the functionality of a given node may be distributed across various physical machines; each performing a part of the total functionality said node is assigned to perform. Once the functionality of a node in a telecommunications system has been defined (e.g. by a telecommunications standard, or some other document), the construction of the functional modules to build up a realization of the corresponding physical machine(s) is a matter of routine work for those skilled in the art. In particular, a HSS or a CSCF implemented as a computer-based apparatus comprises software and hardware, which can be located within a physical machine, or distributed along various cooperating physical machines. The software comprise one or more computer programs (computer readable program code) that, when executed by a computer-based apparatus makes it to behave according to a predefined manner, as determined by the specific program instructions in said programs, which is in accordance to the specific functionality of the telecommunications node it implements.</p>
<p id="p-0050" num="0053">Accordingly, the explanation given with reference to <figref idref="DRAWINGS">FIG. 2</figref> shall describe some functional components of a HSS or a S-CSCF, modified so as to accomplish with embodiments of the invention, without falling into specific construction details concerning the possible physical realizations, which are well known by those skilled and, consequently, which are not needed to understand the invention.</p>
<p id="p-0051" num="0054">The simplified internal structure shown in <figref idref="DRAWINGS">FIG. 2</figref> comprises: a processing module <b>201</b>, a communications module <b>202</b>, a data storage module <b>203</b> and internal communication bus <b>204</b> which allow data communication and cooperation between them. In general, when a message related to a service is to be sent, the processing module <b>201</b> requests the communications module <b>202</b> to send the message and provides it with the necessary data, and, when a message related to a service is received by the communications module, it transfers the relevant content to the processing module for triggering the necessary processing. In turn, the processing module <b>201</b> accesses the data storage module <b>203</b> to update/check/obtain the necessary data for the operation.</p>
<p id="p-0052" num="0055">The processing module <b>201</b> can comprise one or more processors (only one processor <b>2010</b> is shown in <figref idref="DRAWINGS">FIG. 2</figref>) which, for example, can be arranged to work in load-sharing or active-backup mode.</p>
<p id="p-0053" num="0056">The operation in the HSS <b>20</b>-A or in the S-CSCF <b>20</b>-B is controlled by computer-readable program code <b>203</b>-<b>1</b> comprising instructions (CI-<b>11</b> . . . , CI-<b>1</b>N) that are executed by processor <b>2010</b>. The execution of the corresponding program code makes, for example, processor <b>2010</b> in the HSS to process a received &#x201c;User Location Query&#x201d; (e.g. received as a DIAMETER message &#x201c;Location-Info-Request&#x201d;, LIR), so as to send reply comprising an identifier of the S-CSCF assigned to serve service related signaling for the concerned user (e.g. sent as a DIAMETER message &#x201c;Location-Info-Answer&#x201d;, LIA). Similarly, the execution of the corresponding program code makes, for example, processor <b>2010</b> of a S-CSCF <b>20</b>-B to receive a SIP message INVITE and forward it towards a subsequent node towards its destination (e.g. a further CSCF, an application server, etc). In summary, the execution of the corresponding specific program code <b>203</b>-<b>1</b> makes the HSS or the S-CSCF to perform according to its standardized functions, which are improved according to embodiments of the invention described herein.</p>
<p id="p-0054" num="0057">External communications are performed via communications module <b>202</b>, illustrated in <figref idref="DRAWINGS">FIG. 2</figref> as comprising two communication devices <b>2021</b> and <b>2022</b>. Depending on implementation alternatives, some of the communication devices can be devoted to a specific kind of communication (e.g.: only with some other kind of node with which a standardized or proprietary signaling interface is used, only for a given type of communication protocol, etc). Also, depending on implementation details, some of the communication devices may be suited to handle any kind of the communication that may be carried out by a HSS or by a S-CSCF according to more than one communication protocol. For example, &#x201c;DIAMETER&#x201d; protocol (IETF RFC3588, September 2003) can be used between a S-CSCF (e.g. routing node <b>120</b>) and a HSS (e.g. location registration node <b>130</b>) to convey, among other, messages notifying or requesting information of users. This communication protocol (as well as other protocols) can be easily extended for allowing conveyance of new or modified contents, so as to accomplish with invention, as will be later described.</p>
<p id="p-0055" num="0058">Data storage module <b>203</b> stores the data needed for the operation of a S-CSCF <b>20</b>-B or of a HSS <b>20</b>-A. A data storage module in a computer-based telecommunications node can comprise one or more data storage devices. In the example illustrated in <figref idref="DRAWINGS">FIG. 2</figref> it comprises storage devices <b>2031</b> and <b>2032</b>. Memory chips and magnetic or optical discs are example of data storage devices. Depending on criteria such as data access speed for certain data, storage reliability, etc, the storage module of a telecommunications node can comprise one or more storage devices of the same or different kind. Obviously, depending on the kind of node, e.g. if a HSS or a S-CSCF, the content of the data stored in the storage module <b>203</b> can vary. <figref idref="DRAWINGS">FIG. 2</figref> illustrates only some data that can be stored, either or both: in a HSS <b>20</b>-A, and/or in a S-CSCF <b>20</b>-B, so as to accomplish with embodiments of the invention.</p>
<p id="p-0056" num="0059">Reference <b>203</b>-<b>2</b> represents a list of Wildcarded-PSIs (WPSI-<b>1</b> . . . WPSI-N). The list <b>203</b>-<b>2</b>, as well as some related data, can be provisioned in the node (<b>20</b>-A or <b>20</b>-B) by operation and maintenance procedures, or received from another cooperating node in the telecommunications system. For example, if the list <b>203</b>-<b>2</b> and further related data are kept in a HSS (or in a Subscription Locator Function SLF, as will be later described), the list of Wildcarded-PSIs and some related data can be provisioned therein by operation and maintenance procedures, or received via the so-called &#x201c;Sh&#x201d; interface e.g. from an application server. In the case of a S-CSCF, a Wildcarded-PSI and some of its related data can also be provisioned by operation and maintenance procedures, and/or be received from a HSS, e.g., via the so-called &#x201c;Cx&#x201d; interface, as a part of the service profile related to a Wildcarded-PSI, which belonging (distinct) PSIs are assigned to be served through said S-CSCF.</p>
<p id="p-0057" num="0060">The type of content of usage limit data and updated usage data stored in relationship with a particular Wildcarded-PSI can vary depending on different embodiments, and needs not to be the same for all the Wildcarded-PSIs held by a HSS <b>20</b>-A or a S-CSCF <b>20</b>-B. This is particularly advantageous if the Wildcarded-PSIs are used in a IMS system to handle services for users identified with Distinct PSIs belonging to these Wildcarded-PSIs. As mentioned before, these users can be primarily subscribers of third party service providers who sign connection agreements with the IMS operator, wherein some of their specific characteristics in terms of traffic demand per service provider, and/or set of users, can not be asserted in advance to the same degree of certainty.</p>
<p id="p-0058" num="0061">In the illustrated case, the usage limit data (<b>203</b>-<b>21</b>A) stored in relationship with Wildcarded-PSI WPSI-<b>1</b> states a maximum number of 430 Distinct-PSIs that are allowed to belong to WPSI-<b>1</b>. This first example case illustrates a situation in which the cooperating service provider to which the Wildcarded-PSI WPSI-<b>1</b> is assigned is uncertain about the particular Distinct-PSIs that, belonging to WPSI-<b>1</b>, will be finally used (e.g. due to its users will be free to made said assignation, or due to any other reason). As opposed, for Wildcarded-PSI WPSI-N (that can be assigned to the same or to another service provider) there is not such an uncertainty, and its related usage limit data (<b>203</b>-<b>2</b>NA) comprise an exhaustive list (IN<b>1</b>/IN<b>2</b>/ . . . INN) of allowed Distinct-PSIs belonging to Wildcarded-PSI WPSI-N.</p>
<p id="p-0059" num="0062">In addition to, or instead of, the list and/or number of allowed Distinct-PSIs belonging to a particular Wildcarded-PSI, the related usage limit data can comprise data stating the maximum number of simultaneous communications established using Distinct-PSIs belonging to said Wildcarded-PSI. In the example illustrated by <figref idref="DRAWINGS">FIG. 2</figref>, WPSI-<b>1</b> is assigned to a limit of 360, and WPSI-N to a limit of 37. This allows a simplified usage rate control at the IMS, while provides freedom of Distinct-PSI assignation and use to the third party service provider, or user. The term &#x201c;communication&#x201d; is used herein to refer to a telecommunications service which requires at least a temporary connection between two parties, such as a multimedia session starting with a SIP message INVITE and ending with a SIP message BYE.</p>
<p id="p-0060" num="0063">The example illustrated in <figref idref="DRAWINGS">FIG. 2</figref> considers that Distinct-PSIs belonging to Wildcarded-PSIs WPSI-<b>1</b> and WPSI-N have been involved in service requests (e.g. identifying an originating and/or terminating party of the service), and that the corresponding usage data (<b>203</b>-<b>21</b>B, <b>203</b>-<b>2</b>NB) have been updated accordingly. For example, the limit (430) of different Distinct-PSIs belonging to Wildcarded-PSI WPSI-<b>1</b> has been reached; which means that a subsequent service request comprising a further Distinct-PSIs belonging to the series of WPSI-<b>1</b> which has not been received before, shall be rejected. To accomplish with this, the storage <b>203</b> can comprise a list of Distinct-PSIs belonging to the series of WPSI-<b>1</b> that have been received in service requests (not shown in <figref idref="DRAWINGS">FIG. 2</figref>). However, since the limit of maximum simultaneous communications for WPSI-<b>1</b> (360) has not been reached yet (62 is illustrated), further service requests can be accepted if&#x2014;according to the illustrated example&#x2014;the Distinct-PSIs they comprise have been received before. On the other hand, for Wildcarded-PSI WPSI-N, only 3 allowed Distinct-PSIs have been received so far in service requests: IN3, IN9 and IN6; while there are currently no communications established with any of these Distinct-PSIs. This means that, for example, a SIP message INVITE comprising Distinct-PSI &#x201c;IN5&#x201d; (assumed to belong to WPSI-N series) will be allowed to proceed.</p>
<p id="p-0061" num="0064">Both, a HSS and a S-CSCF, store a set of data (called &#x201c;service profile&#x201d;) which are needed for processing service requests related to users of a IMS system. In short, a S-CSCF downloads the service profile related to an identifier of a user from a HSS, which acts as the master storage. As mentioned earlier, in the particular case of Wildcarded-PSIs, there is no a specific (&#x201c;distinct&#x201d;) service profile for the eventual Distinct-PSI belonging to them, but a &#x2014;say&#x2014;&#x201c;generic&#x201d; service profile associated to each Wildcarded-PSI. Although service profile data related to Wildcarded-PSIs held by a HSS <b>20</b>-A, or a S-CSCF <b>20</b>-B, are not shown in <figref idref="DRAWINGS">FIG. 2</figref>, some of the illustrated data can advantageously be kept stored in relationship with the corresponding profile; which allows a easy download from a HSS to a S-CSCF, since the existing signaling (i.e. through the &#x201c;Cx&#x201d; interface) can be used to convey the necessary new data.</p>
<p id="p-0062" num="0065">In summary, the maximum number of simultaneous sessions supported for a specific Wildcarded-PSI, and/or the maximum number of Distinct-PSIs belonging to it, or its list, can be configured in HSS as a part of the service profile of the Wildcarded-PSI, and later enforced by the S-CSCF, thereby avoiding unpredictable usage of Wildcarded-PSI range that might imply overload in the system resources.</p>
<p id="p-0063" num="0066">Although the apparatus of <figref idref="DRAWINGS">FIG. 2</figref>, and some of its storage data, has been described with reference to a HSS <b>20</b>-A, or to a S-CSCF <b>20</b>-B, it could also represent a SLF node, suited to provide HSS information in a IMS system, and modified to accomplish with an embodiment of the invention.</p>
<p id="p-0064" num="0067">In short, when a IMS system comprises more than one HSS, a SLF can intercept service requests sent from other system nodes, which are queries primarily addressed to the HSS, and gives back the corresponding HSS identifier. The querying node then uses said identifier to redirect the original query to the particular HSS that stores the necessary data to process it. In a IMS system signaling related to service requests exchanged with SLFs and HSSs is commonly conveyed in DIAMETER messages, and it is used, among other, to accomplish with registration and deregistration events, data profile update, service profile download and updating, updating of server assignment information, etc.</p>
<p id="p-0065" num="0068">The invention provides an embodiment in which a SLF is adapted to further process service requests comprising identifiers that belong to the collections identified by Wildcarded-PSIs. In this embodiment, the SLF can store usage limit data (<b>203</b>-<b>21</b>A, <b>203</b>-<b>2</b>NA) and usage data (<b>203</b>-<b>21</b>B, <b>203</b>-<b>2</b>NB) of a plurality of Wildcarded-PSIs (WPSI-<b>1</b> . . . WPSI-N), which can be updated according to signaling related to service requests that it intercepts in a similar manner as described above in relationship with a HSS. This embodiment thus provides a simplified solution which can help to control the traffic due to Wildcarded-PSI usage by controlling the maximum number of Distinct-PSIs, or the allowed ones, not in a plurality of HSSs in a IMS system, but in a&#x2014;usually centralized&#x2014;point, such as a SLF node.</p>
<p id="p-0066" num="0069">The signaling shown in <figref idref="DRAWINGS">FIG. 3</figref> illustrates some of the steps described above with reference to <figref idref="DRAWINGS">FIG. 1</figref>, executed in a IMS system according to different embodiments.</p>
<p id="p-0067" num="0070">For example, service profile data for one or more Wildcarded-PSIs are provisioned, or modified, in the HSS <b>20</b>-A (flows not shown in <figref idref="DRAWINGS">FIG. 3</figref>) via operation and maintenance procedures. Among the received data, it is received the corresponding usage limit data ULD, which are stored in step <b>110</b>, as described in <figref idref="DRAWINGS">FIG. 1</figref>, preferably as one more data of the service profile of the newly defined, or updated, Wildcarded-PSI(s). In case of newly defined Wildcarded-PSI, the HSS can run step <b>115</b> so as to reset updated usage data UD related to it. This step is optional if the control of service requests is going to be enforced only in S-CSCFs according to one embodiment of the invention, as will be later described. Steps <b>110</b> and <b>115</b> as described above can also be run by a SLF, if said SLF is going to be the enforcing point to control service requests, according to one embodiment of the invention.</p>
<p id="p-0068" num="0071">According to the illustrated embodiment, the HSS sends in flow <b>301</b> a DIAMETER message &#x201c;Push Profile Request&#x201d; PPR to the S-CFCF which is assigned to serve signaling related to users identified by Distinct-PSIs belonging to the collection of an updated, or newly defined, Wildcarded-PSI (<b>20</b>-B). The PPR message comprises the new or updated service profile which, according to one embodiment of the invention, can comprise the usage limit data ULD that will apply for said Wildcarded-PSI. This can be accomplished by adding a new data type (e.g. an integer for maximum number of simultaneous service sessions or maximum number of Distinct-PSIs, and/or a list of the SIP-URIs of the allowed Distinct-PSIs of the range, etc) to the schema of DIAMETER message PPR, as this protocol is easily extendable. S-CFCF <b>20</b>-B then stores the updated, or newly defined, profile data of the concerned Wildcarded-PSI, comprising its related ULD in step <b>110</b>, and preferably then resets in step <b>115</b> the corresponding current usage data UD if it is a newly defined service profile data. Message PPR is followed by diameter message &#x201c;Push Profile Answer&#x201d; PPA from S-CSCF to HSS (not shown in <figref idref="DRAWINGS">FIG. 3</figref>).</p>
<p id="p-0069" num="0072">The enforcement of the control of service request according to embodiments of the invention (IMS) can be performed in a HSS alone, in a SLF alone, in the S-CSCF assigned to serve signaling related to Distinct-PSIs related to a Wildcarded-PSI, or by a HSS or SLF in cooperation with said S-CSCF. The example of <figref idref="DRAWINGS">FIG. 3</figref> illustrates cooperation cases between a HSS (or a SLF) <b>20</b>-A and a S-CSCF <b>20</b>-B.</p>
<p id="p-0070" num="0073">In order to a clearer understanding of the invention, it can be assumed that, for example, Wildcarded-PSI &#x201c;sip:pbx7!.*!@example.com&#x201d; identifies all the individual identifiers of the users of a VPN service operator which connects to IMS and are (some or all) served via S-CSCF <b>20</b>-B. <figref idref="DRAWINGS">FIG. 3</figref> illustrates an example case wherein the identifier that triggers the processing according to the invention relates to the user (or service) terminating the service request. However, as explained earlier, said processing can be trigger by any of the identifiers of any party involved in a service request, either, as originating or as terminating party.</p>
<p id="p-0071" num="0074">In flow <b>302</b> a SIP message INVITE is received in the Interrogating-CSCF I-CSCF <b>30</b> comprising, as identifier of the terminating party a SIP URI such as: &#x201c;sip:pbx71234.@example.com&#x201d;, which identifies a user of said service operator. The I-CSCF <b>30</b> then follows the standardized IMS procedures and sends in flow <b>303</b> a DIAMETER message &#x201c;Location-Info-Request&#x201d; LIR towards HSS <b>20</b>-A so as to obtain an identifier usable to further route the received INVITE towards the corresponding assigned S-CSCF. For the HSS <b>20</b>-A the reception of the LIR is a service request <b>135</b> and, among other, checks the received identifier of the terminating party and determines that S-SCSF <b>20</b>-B is assigned to further process the service related signaling.</p>
<p id="p-0072" num="0075">If enforcement of the control of service request is performed partially or totally by the HSS, then it can proceed as follows.</p>
<p id="p-0073" num="0076">The HSS can also determine that the received URI &#x201c;sip:pbx71234.@example.com&#x201d; belongs to Wildcarded-PSI &#x201c;sip:pbx7!.*!@example.com&#x201d; it handle, and then checks some of the usage limit data ULD related to it. For example, it can check whether SIP-URI &#x201c;sip:pbx71234.@example.com&#x201d; is allowed in the series of its Wildcarded-PSI. Alternatively, it can check whether said Distinct-PSI have been received before in another service request (e.g. in another LIR message) and, if not, check whether the number of Distinct-PSIs received so far related to said Wildcarded-PSI exceeds a maximum number as determined by the associated ULD (this involves a storage not detailed in <figref idref="DRAWINGS">FIG. 2</figref>, and a storage step not shown in <figref idref="DRAWINGS">FIGS. 1</figref> or <b>3</b>). In the latest case, the request <b>303</b> can be rejected with a DIAMETER message &#x201c;Location-Info-Answer&#x201d; LIA (<b>304</b>) comprising an error result that would cause the I-CSCF <b>30</b> to reject back the INVITE. Otherwise, flow <b>304</b> can comprise a LIA message conveying an identifier of S-CSCF <b>20</b>-B. In this case, the HSS <b>20</b>-A can, for example, update a usage counter of Distinct-PSIs belonging to Wildcarded-PSI &#x201c;sip:pbx7!.*!@example.com&#x201d; in the updating step <b>120</b> by increasing said counter.</p>
<p id="p-0074" num="0077">If there were more than one HSS in the IMS system, then a SLF could be present which would then intercept the LIR sent from I-CSCF <b>30</b>, so as to provide an identifier of the corresponding HSS (e.g. HSS <b>20</b>-A) to the I-CSCF by using DIAMETER redirection mechanisms. In such a case, instead of performing a (optional) enforcement of the usage of Wildcarded-PSIs in the IMS system in all the HSS that could be involved in said system, the checking(s) and processing described above, including the service rejection if proceeds, could be performed by said SLF (not shown in <figref idref="DRAWINGS">FIG. 3</figref>), which would then need to store the necessary data, e.g., as described with reference to <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0075" num="0078">Assuming a successful processing in the HLR (or SLF) <b>20</b>-A, or assuming said HLR (or SLF) does not implement any processing capability specific for accepting/rejecting service requests according to the invention, the INVITE is forwarded in flow <b>305</b> from I-CSCF <b>30</b> to the assigned S-CSCF <b>20</b>-B using well-known IMS procedures.</p>
<p id="p-0076" num="0079">In order to better describe eventual embodiments of the invention, <figref idref="DRAWINGS">FIG. 3</figref> illustrates the case in which S-CSCF has not received before any service request comprising the SIP-URI &#x201c;sip:pbx71234.@example.com&#x201d;, nor any other distinct PSI belonging to the collection identified by Wildcarded-PSI &#x201c;sip:pbx7!.*!@example.com&#x201d; (e.g. such as &#x201c;sip:pbx79023.@example.com&#x201d;, &#x201c;sip:pbx72966.@example.com&#x201d;, etc). This can be also the case wherein the PPR flow <b>301</b> (and subsequent steps in the S-CSCF <b>20</b>-B) did not take place for said Wildcarded-PSI. In these cases the S-CSCF <b>20</b>-B lacks the service profile data that it needs to further process the INVITE received IN <b>305</b>. Accordingly, in flow <b>306</b> it sends a DIAMETER message &#x201c;Server-Assignment-Request&#x201d; SAR to the HSS <b>20</b>-A comprising, among other data, the received identifier of the terminating party &#x201c;sip:pbx71234.@example.com&#x201d;.</p>
<p id="p-0077" num="0080">According to the IMS standardized procedures, the HLR detects that the received identifier matches a Wildcarded-PSI and then sends in flow <b>307</b> a DIAMETER message &#x201c;Server-Assignment-Answer&#x201d; SAA comprising the matching Wildcarded-PSI (&#x201c;sip:pbx7!.*!@example.com&#x201d;, in the example case) together with the service profile data stored in relationship to it; thereby avoiding further SAA queries from S-CSCF <b>20</b>-B for subsequent service requests comprising an identifier belonging to said Wildcarded-PSI. According to the invention, the SAA message further comprises usage limit data ULD related to the Wildcarded-PSI, which, as described earlier with reference to PPR message, is preferably sent from the HSS as a part of the service profile data conveyed in a DIAMETER message SAA; thereby, avoiding the sending of new kind of messages and/or dispensing with the need of configuring by operation and maintenance the S-CSCF(s) that could be involved in service requests comprising identifiers belonging to Wildcarded-PSIs.</p>
<p id="p-0078" num="0081">The S-CSCF <b>20</b>-B then stores in step <b>110</b> the received usage limit data ULD related to the Wildcarded-PSI &#x201c;sip:pbx7!.*!@example.com&#x201d;, and resets in step <b>115</b> the usage data UD related to said identifier. The usage limit data ULD, and the corresponding UD to be further updated according to service requests, can comprise maximum number and/or list of Distinct-PSIs belonging to the range identified by Wildcarded-PSI &#x201c;sip:pbx7!.*!@example.com&#x201d;. However, if the related checks for said UD/ULD are to be performed by a HSS, or by a SLF, these data can relate to the maximum number of services which are ongoing and which have been setup with service requests comprising Distinct-PSIs belonging to the range identified by said Wildcarded-PSI.</p>
<p id="p-0079" num="0082">Alternatively, the ULD held by a S-CSCF in relationship with a Wildcarded-PSI comprises any one of these usage limit data ULD, or any combination thereof, when a greater degree of granularity control is desirable in the S-CSCF. This provides the further advantage of updating any ULD data according to traffic conditions in the S-CSCF, or traffic conditions reported to it from another cooperating node. In this respect, although not mentioned before, an allowed range determining increasing/decreasing limits for the ULD related to a Wildcarded-PSI can be received in the S-CSCF together with the service profile data in PPR or SAA messages.</p>
<p id="p-0080" num="0083">Regardless of if S-CSCF <b>20</b>-B had not received before any service request comprising the SIP-URI &#x201c;sip:pbx71234.@example.com&#x201d;, nor any other distinct PSI belonging to the collection identified by Wildcarded-PSI &#x201c;sip:pbx7!.*!@example.com&#x201d;, etc; the reception of the INVITE <b>305</b> is a service request <b>135</b> for the S-CSCF and, among other, it checks whether the received identifier of the terminating party &#x201c;sip:pbx71234.@example.com&#x201d; matches a range identified by Wildcarded-PSI &#x201c;sip:pbx7!.*!@example.com&#x201d; that it is assigned to serve, and for which it stores the associated ULD and UD.</p>
<p id="p-0081" num="0084">Since that is the case according to the illustrated example, S-CSCF <b>20</b>-B then checks the usage limit data ULD related to the matching Wildcarded-PSI. For example, S-CSCF <b>20</b>-B can check whether SIP-URI &#x201c;sip:pbx71234.@example.com&#x201d; is allowed in the series of its corresponding Wildcarded-PSI. Alternatively, S-CSCF <b>20</b>-B can check whether said Distinct-PSI have been received before in another service request (e.g. in another INVITE message, e.g., as originating or terminating party identifier) and, if not, check whether the number of Distinct-PSIs received so far related to said Wildcarded-PSI exceeds a maximum number as determined by the associated ULD (this involves a storage not detailed in <figref idref="DRAWINGS">FIG. 2</figref>, and a storage step not shown in <figref idref="DRAWINGS">FIGS. 1</figref> or <b>3</b>). Alternatively, or additionally, S-CSCF <b>20</b>-B can check the ongoing sessions that were initiated with its intervention with service requests (e.g. SIP INVITE messages) comprising Distinct-PSIs belonging to the matching Wildcarded-PSI &#x201c;sip:pbx7!.*!@example.com&#x201d; and which are still alive (this also involves a storage not detailed in <figref idref="DRAWINGS">FIG. 2</figref>, and a storage step not shown in <figref idref="DRAWINGS">FIGS. 1</figref> or <b>3</b>). If the check of the ULD versus the corresponding UD is not passed, the INVITE would be rejected back from the S-CSCF <b>20</b>-B. Otherwise, it is allowed to proceed towards its final destination (flow <b>308</b>), and the UD associated to the Wildcarded-PSI &#x201c;sip:pbx7!.*!@example.com&#x201d; is increased accordingly in step <b>120</b>.</p>
<p id="p-0082" num="0085">Later, a SIP request BYE received in flow <b>309</b> by S-CSCF <b>20</b>-B which indicates that the communication established with the SIP INVITE of <b>302</b>, <b>305</b> and <b>308</b>, is ended. In the illustrated case the message is received from the initiating party; therefore, the S-CSCF <b>20</b>-B forwards it towards the terminating party in flow <b>310</b>, and processes in <b>155</b> an end of the service. If, according to one embodiment described above, S-CSCF <b>20</b>-B keeps updated the number of ongoing communications established with service requests comprising Distinct-PSIs belonging to Wildcarded-PSI &#x201c;sip:pbx7!.*!@example.com&#x201d;, together with the release of the resources assigned to the communication established with the INVITE <b>305</b>, it can update in step <b>125</b> the corresponding UD, for example, by decreasing the number of simultaneous communications established with identifiers belonging to the range of Wildcarded-PSI &#x201c;sip:pbx7!.*!@example.com&#x201d;.</p>
<p id="p-0083" num="0086">Currently, most of the telecommunications nodes are implemented by computer-based apparatuses. Accordingly, computer programs comprising computer-readable program codes are loaded in computer-based nodes of telecommunications systems causing them to behave according to a predefined manner, as determined by the respective program codes, which are in accordance to the specific functionality specified for the telecommunications nodes these apparatuses implement. Thus, those skilled in creating and/or modifying computer programs, would, without departing of the teachings of the present invention, readily apply them to create and/or modify computer programs suitable to be loaded in a computer-based telecommunications node involved in processing service requests, so as to make it to behave according to any of the described embodiments.</p>
<p id="p-0084" num="0087">The invention has been described with respect to some exemplary embodiments in an illustrative and non-restrictive manner. Variations can be readily apparent to those of ordinary skill in the art. For this reason, the invention is to be interpreted and limited in view of the claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for processing service requests in a telecommunications system comprising the steps of:
<claim-text>a. storing usage limit data in relationship with a first identifier, the first identifier identifying a collection of second identifiers that can be received in a service request;</claim-text>
<claim-text>b. storing updated usage data in relationship with the first identifier, the updated usage data being updated according to service requests comprising a second identifier belonging to the collection that have been allowed to proceed;</claim-text>
<claim-text>c. rejecting a service request comprising a second identifier belonging to the collection when current usage data reaches a value established by the usage limit data, or allowing the service request to proceed if current usage data has not reached the value established by the usage limit data; and,</claim-text>
<claim-text>d. dynamically updating the usage limit data according to traffic load conditions in an apparatus of the telecommunications system;</claim-text>
<claim-text>wherein the usage limit data states, either or both:
<claim-text>a maximum number of simultaneous communications; and,</claim-text>
<claim-text>a maximum number of second identifiers belonging to the collection; and,</claim-text>
</claim-text>
<claim-text>wherein the step b comprises at least one step selected from:
<claim-text>b1. storing data about a number of simultaneous communications related to the first identifier, the number being updated according to current communications established with service requests for establishing communications and comprising a second identifier belonging to the collection and allowed to proceed; and,</claim-text>
<claim-text>b2. storing data about the number of second identifiers belonging to the collection that have been received in service requests.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the telecommunications system comprises a Internet Protocol Multimedia Subsystem having a Home Subscriber Server and a Serving Call Session Control Function, wherein the first identifier is a Wildcarded Public Service Identifier, and wherein the second identifiers are Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the Wildcarded Public Service Identifier identifies a group of users of a private exchange connected to the Internet Protocol Multimedia Subsystem.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the Internet Protocol Multimedia Subsystem further comprises a Subscription Locator Function, and wherein the step a. comprises at least one step selected from:
<claim-text>a1. storing usage limit data in the Home Subscriber Server, and</claim-text>
<claim-text>a2. storing usage limit data in the Subscription Locator Function.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the step b. further comprises the step of:
<claim-text>b3. storing in the Home Subscriber Server, or in the Subscription Locator Function, data about the Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier that have been received in the Home Subscriber Server, or in the Subscription Locator Function, in User Location Queries;</claim-text>
</claim-text>
<claim-text>and wherein step c. further comprises the steps of:
<claim-text>c1. receiving in the Home Subscriber Server, or in the Subscription Locator Function, a User Location Query comprising a Distinct Public Service Identifier belonging to the Wildcarded Public Service Identifier; and,</claim-text>
<claim-text>c2. sending a negative result to the User Location Query when a number of Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier exceeds a value stated in the usage limit data, or a positive result to the User Location Query when the number of Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier does not exceed the value stated in the usage limit data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the step a. further comprises the step of:
<claim-text>a1. storing usage limit data in the Home Subscriber Server as a part of a service profile related to the Wildcarded Public Service Identifier, further comprising the step of:</claim-text>
<claim-text>e. downloading from the Home Subscriber Server to the Serving Call Session Control Function the service profile related to the Wildcarded Public Service Identifier comprising at least part of the usage limit data, wherein the step a. comprises the step of:</claim-text>
<claim-text>a3. storing usage limit data in the Serving Call Session Control Function as a part of the service profile related to the Wildcarded Public Service Identifier.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the step b. comprises the step of:
<claim-text>b3. storing data about the Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier that have been received in the Serving Call Session Control Function in service requests for establishing communications, and wherein the step c. further comprises the steps of:
<claim-text>c1. receiving in the Serving Call Session Control Function a service request for establishing a communication comprising a Distinct Public Service Identifier belonging to the Wildcarded Public Service Identifier; and,</claim-text>
<claim-text>c2. sending a negative result to the service request when a number of Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier exceeds a value stated in the usage limit data, or a positive result to the service request when the number of Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier does not exceed the value stated in the usage limit data.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein step b. comprises the step of:
<claim-text>b3. storing data about a number of current communications established through the Serving Call Session Control Function with service requests for establishing communications comprising Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier, and wherein the step c. comprises the steps of:
<claim-text>c1. receiving in the Serving Call Session Control Function a service request for establishing a communication comprising a Distinct Public Service Identifier belonging to the Wildcarded Public Service Identifier and,</claim-text>
<claim-text>c2. sending a negative result to the service request when the number of current communications exceeds a value stated in the usage limit data, or a positive result to the service request when the number of current communications does not exceed the value stated in the usage limit data.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. An apparatus for processing service requests in a telecommunications system, comprising a processor and a storage device in communication with the processor and storing instructions adapted to be executed by the processor to:
<claim-text>store usage limit data in relationship with a first identifier, the first identifier identifying a collection of second identifiers that can be received in a service request,</claim-text>
<claim-text>store updated usage data in relationship with the first identifier, the updated usage data being updated according to service requests comprising a second identifier belonging to the collection that have been allowed to proceed;</claim-text>
<claim-text>reject a service request comprising a second identifier belonging to the collection when current usage data reaches a value established by the usage limit data, or allowing the service request to proceed when current usage data has not reached the value established by the usage limit data; and,</claim-text>
<claim-text>dynamically update the usage limit data according to traffic load conditions in a node of the telecommunications system;</claim-text>
<claim-text>wherein the usage limit data states, either or both:
<claim-text>a maximum number of simultaneous communications; and,</claim-text>
<claim-text>a maximum number of second identifiers belonging to the collection and,</claim-text>
</claim-text>
<claim-text>wherein the storage device further stores instructions adapted to be executed by the processor to:
<claim-text>store data about a number of simultaneous communications related to the first identifier, the number being updated according to current communications established with service requests for establishing communications and comprising a second identifier belonging to the collection that have been allowed to proceed; and/or,</claim-text>
<claim-text>store data about the number of second identifiers belonging to the collection that have been received in service requests.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The apparatus of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the telecommunications system comprises an Internet Protocol Multimedia Subsystem, wherein the first identifier is a Wildcarded Public Service Identifier, and wherein the second identifiers are Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The apparatus of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the Wildcarded Public Service Identifier identifies a group of users of a private exchange connected to the Internet Protocol Multimedia Subsystem.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The apparatus of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the storage device further stores instructions adapted to be executed by the processor to perform as a Home Subscriber Server or as a Subscription Locator Function, and wherein the usage limit data are stored in the Home Subscriber Server, or in the Subscription Locator Function.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The apparatus of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the storage device further stores instructions adapted to be executed by the processor to:
<claim-text>store, as usage limit data, data about the Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier that have been received in User Location Queries;</claim-text>
<claim-text>receive a User Location Query comprising a Distinct Public Service Identifier belonging to the Wildcarded Public Service Identifier; and,</claim-text>
<claim-text>send a negative result to the User Location Query when a number of Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier exceeds a value stated in the usage limit data, or a positive result when the number of Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier does not exceed a value stated in the usage limit data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The apparatus of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the storage device further stores instructions adapted to be executed by the processor to download to a Serving Call Session Control Function a service profile related to a Wildcarded Public Service Identifier comprising at least part of the usage limit data.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The apparatus of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the storage device further stores instructions adapted to be executed by the processor to perform as a Serving Call Session Control Function, and wherein the storage device further stores instructions adapted to be executed by the processor to:
<claim-text>store, as usage limit data, data about the Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier that have been received in the Serving Call Session Control Function in service requests for establishing communications;</claim-text>
<claim-text>receive a service request for establishing a communication comprising a Distinct Public Service Identifier belonging to the Wildcarded Public Service Identifier; and,</claim-text>
<claim-text>send a negative result to the service request when a number of Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier exceeds a value stated in the usage limit data, or a positive result when the number of Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier does not exceed the value stated in the usage limit data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The apparatus of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the storage device further stores instructions adapted to be executed by the processor to perform as a Serving Call Session Control Function, and wherein the storage device further stores instructions adapted to be executed by the processor to:
<claim-text>store, as usage limit data, data about a number of current communications established through the Serving Call Session Control Function with service requests for establishing communications comprising Distinct Public Service Identifiers belonging to the Wildcarded Public Service Identifier;</claim-text>
<claim-text>receive a service request for establishing a communication comprising a Distinct Public Service Identifier belonging to the Wildcarded Public Service Identifier; and,</claim-text>
<claim-text>send a negative result to the service request when the number of current communications exceeds a value stated in the usage limit data, or a positive result when the number of current communications does not exceed the value stated in the usage limit data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The apparatus of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the storage device further stores instructions adapted to be executed by the processor to:
<claim-text>receive from a Home Subscriber Server the service profile related to a Wildcarded Public Service Identifier comprising at least part of the usage limit data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. A computer program embodied on a non-transitory computer readable medium for configuring a computer processor for processing service requests in a telecommunications system, comprising:
<claim-text>a computer-readable program code for storing usage limit data in relationship with a first identifier, the first identifier identifying a collection of second identifiers that can be received in a service request,</claim-text>
<claim-text>a computer-readable program code for storing updated usage data in relationship with the first identifier, the updated usage data being updated according to service requests comprising a second identifier belonging to the collection that have been allowed to proceed;</claim-text>
<claim-text>a computer-readable program code for rejecting a service request comprising a second identifier belonging to the collection when current usage data reaches a value established by the usage limit data, or allowing the service request to proceed when current usage data has not reached the value established by the usage limit data; and,</claim-text>
<claim-text>a computer-readable program code for dynamically updating the usage limit data according to traffic load conditions in an apparatus of the telecommunications system;</claim-text>
<claim-text>wherein the usage limit data states, either or both:
<claim-text>a maximum number of simultaneous communications; and,</claim-text>
<claim-text>a maximum number of second identifiers belonging to the collection; and</claim-text>
</claim-text>
<claim-text>wherein the computer program further comprises:
<claim-text>a computer-readable program code for storing data about a number of simultaneous communications related to the first identifier, the number being updated according to current communications established with service requests for establishing communications and comprising a second identifier belonging to the collection and allowed to proceed and/or,</claim-text>
<claim-text>a computer-readable program code for storing data about the number of second identifiers belonging to the collection that have been received in service requests. </claim-text>
</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
