<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626840-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626840</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11655225</doc-number>
<date>20070119</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<us-term-of-grant>
<us-term-extension>991</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>16</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>709206</main-classification>
<further-classification>709220</further-classification>
<further-classification>700225</further-classification>
<further-classification>4554121</further-classification>
</classification-national>
<invention-title id="d2e53">Method and system for generating a referencing secondary electronic mail message from a primary electronic mail message</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5436960</doc-number>
<kind>A</kind>
<name>Campana et al.</name>
<date>19950700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554121</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6084919</doc-number>
<kind>A</kind>
<name>Kleider et al.</name>
<date>20000700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375285</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7003376</doc-number>
<kind>B2</kind>
<name>Witmond et al.</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>700225</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2003/0149733</doc-number>
<kind>A1</kind>
<name>Capiel</name>
<date>20030800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709206</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2005/0198166</doc-number>
<kind>A1</kind>
<name>Kawaji</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709206</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2006/0031309</doc-number>
<kind>A1</kind>
<name>Luoffo et al.</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709206</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2006/0218234</doc-number>
<kind>A1</kind>
<name>Deng et al.</name>
<date>20060900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709206</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2006/0224679</doc-number>
<kind>A1</kind>
<name>Kikuchi et al.</name>
<date>20061000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709206</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>JP</country>
<doc-number>2005-284955</doc-number>
<kind>A</kind>
<date>20051000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>WO</country>
<doc-number>01/78334</doc-number>
<kind>A2</kind>
<date>20011000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>WO</country>
<doc-number>2006/036042</doc-number>
<kind>A1</kind>
<date>20060400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00012">
<othercit>Push e-mail&#x2014;Wikipedia, the free encyclopedia; Oct. 30, 2006.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00013">
<othercit>Emailing in a nutshell&#x2014;a one page course on email protocols; Jun. 2002.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>&#x201c;Standard for the Format of ARPA Internet Text Messages&#x201d;, revised by David H. Crocker; Dept. of Electrical Engineering, University of Delaware, Newark, DE, RFC # 822, Obsoletes: RFC #733 (NIC #41952); Aug. 13, 1982.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00015">
<othercit>Requirement for Internet Hosts&#x2014;Application and Support, Internet Engineering Task Force, R. Braden, Editor, RFC1123; Oct. 1989.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00016">
<othercit>&#x201c;Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies&#x201d;; Network Working Group, RFC 2045 Obsoletes: 1521, 1522, 1590; N. Freed, Innosoft, N. Borenstein, First Virtual, Nov. 1996.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00017">
<othercit>&#x201c;Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types&#x201d;; Network Working Group, RFC 2046 Obsoletes: 1521, 1522, 1590; N. Freed, Innosoft, N. Borenstein, First Virtual, Nov. 1996.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00018">
<othercit>&#x201c;MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text&#x201d;; Network Working Group; K. Moore, University of Tennessee, RFC 2047, Obsoletes: 1521, 1522, 1590, Nov. 1996.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00019">
<othercit>&#x201c;Multipurpose Internet Mail Extensions (MIME) Part Four: Registration Procedures&#x201d;; Network Working Group; N. Freed, Sun Microsystems, J. Klensin, RFC 4289, Obsoletes: 2048; Dec. 2005.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00020">
<othercit>&#x201c;Multipurpose Internet Mail Extensions (MIME) Part Five: Conformance Criteria and Examples&#x201d;; Network Working Group; N. Freed, Innosoft, N. Borenstein, First Virtual; RfC 2049; Obsoletes: 1521, 1522, 1590; Nov. 1996.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00021">
<othercit>&#x201c;Media Type Specifications and Registration Procedures&#x201d;; Network Working Group; N. Freed, Sun Microsystems, J. Klensin; RFC 4288, Obsoletes: 2048; Dec. 2005.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>8</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>709206</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709221</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>700225</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4554121</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>11</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60859495</doc-number>
<date>20061117</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20080120385</doc-number>
<kind>A1</kind>
<date>20080522</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Maoz</last-name>
<first-name>Gadi</first-name>
<address>
<city>Kochav-Yair</city>
<country>IL</country>
</address>
</addressbook>
<residence>
<country>IL</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Maoz</last-name>
<first-name>Gadi</first-name>
<address>
<city>Kochav-Yair</city>
<country>IL</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Ohlandt, Greeley, Ruggiero &#x26; Perle, L.L.P.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Comverse Ltd.</orgname>
<role>03</role>
<address>
<city>Tel Aviv</city>
<country>IL</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Nguyen</last-name>
<first-name>Tammy</first-name>
<department>2448</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">In a method and system for generating a referencing secondary electronic mail message from a primary electronic mail message, a reference to accompanying data in the primary electronic mail message is obtained that allows reconstitution of the accompanying data from the reference. The referencing secondary electronic mail message is composed with the reference embedded therein instead of the accompanying data. Conversely, a non-referencing electronic mail message is reconstituted from a referencing electronic mail message that includes at least one reference indicative of respective accompanying data by accessing a copy of the respective accompanying data pertaining to each reference in the referencing electronic mail message. The referencing electronic mail message is augmented with the respective copy of the accompanying data relating to each reference.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="255.52mm" wi="230.55mm" file="US08626840-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="231.90mm" wi="128.95mm" orientation="landscape" file="US08626840-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="226.48mm" wi="142.83mm" orientation="landscape" file="US08626840-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="212.85mm" wi="149.78mm" file="US08626840-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="249.26mm" wi="181.86mm" orientation="landscape" file="US08626840-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="240.79mm" wi="177.12mm" orientation="landscape" file="US08626840-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="241.13mm" wi="162.05mm" file="US08626840-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="177.72mm" wi="152.15mm" file="US08626840-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="153.16mm" wi="168.66mm" file="US08626840-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application claims the benefit of U.S. Provisional Patent Application No. 60/859,495, titled &#x201c;Method and System for Reducing Bandwidth Used While Conveying Electronic Mail Messages&#x201d; and filed on Nov. 17, 2006, the disclosure of which is incorporated by reference in its entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">This invention relates to electronic mail. More specifically, the invention relates to reducing bandwidth used while conveying electronic mail messages.</p>
<p id="p-0005" num="0004">2. Description of the Background Art</p>
<p id="p-0006" num="0005">Electronic mail, commonly known as &#x201c;email,&#x201d; is a set of mechanisms designed to allow computer users to send messages (constituting &#x201c;email messages,&#x201d; &#x201c;mail messages,&#x201d; or more concisely just &#x201c;messages&#x201d;) to one another. Hereinafter, throughout the present specification, the term &#x201c;message&#x201d; means &#x201c;email message&#x201d;, unless specifically noted.</p>
<p id="p-0007" num="0006">It is known in the art that email includes Internet email, but it is not limited thereto. There may be other types of email used, such as proprietary email systems, LAN-based email packages, mainframe systems, and the X.400 set of messaging standards (officially named ISO/IEC 10021) basically developed by ISO (International Organization for Standardization) and ITU (International Telecommunications Union).</p>
<p id="p-0008" num="0007">The primary element of email is the message. It is known that every message consists of a header and a body, wherein the header contains various pieces of information about the message (such as &#x201c;from,&#x201d; &#x201c;to,&#x201d; &#x201c;subject,&#x201d; &#x201c;date,&#x201d; etc.) and the body contains the information that the sender wants to communicate. However, the header and body are non-limiting constituents of a message. Sometimes a message is described also as consisting of an envelope, wherein the envelope can specify the source (sender) and destination (recipient) of the message.</p>
<p id="p-0009" num="0008">The message body basically includes free-form text data, i.e., plain text. However, while the usage of email has grown as a communication medium, people eventually wanted to send data other than plain text, such as attached files, multimedia content, formatting, etc.</p>
<p id="p-0010" num="0009">A message is transmitted and routed by the aid of several tasks. Mail Transport Agents (MTAs) are responsible for routing messages. MTAs receive messages from various sources and decide where and how each message should be routed. Once an MTA has received a message, processed it, and decided where to route it, it conveys the message to a Mail Delivery Agent (MDA), which is responsible for delivering the message to another location, e.g., another MTA, a user's inbox, or a program that performs a special task.</p>
<p id="p-0011" num="0010">While MTAs and MDAs are responsible for routing and transporting email messages, Mail User Agents (MUAs) are responsible for providing an interface for users to manage their mails, including viewing messages, managing mail folders, composing new mail messages, sending messages, replying to messages, forwarding messages, etc. In the early days of email the MUA typically resided on the same machine where a user received his email messages. Later on, two protocols, POP (Post Office Protocol) and IMAP (Internet Message Access Protocol), were created, thus allowing use of an MUA to read email that resides on remote machines. POP provides a protocol for MUAs to download the user's inbox from a remote mail server. IMAP provides a protocol for MUAs to manipulate mail folders on a remote mail server.</p>
<p id="p-0012" num="0011">The operation of email is defined in standards. The standards are defined in a set of RCFs (Request For Comments), which define the various protocols and formats necessary to make email work across the Internet. For example, RFC822 (Standard for the Format of ARPA Internet Text Messages), published in 1982, is a Standard defining Internet email messages. RFC822 defines how email messages need to be formatted when being transmitted from host to host, thus providing a normalized format for email messages, so that different types of networks can transfer email from one to another. RFC822 does not define the format of stored email. For example, RFC822 describes that a message consists of header fields and, optionally, a body. The body is simply a sequence of lines containing ASCII characters. It is separated from the header by a null line (i.e., a line with nothing preceding the CR, Carriage Return character, followed by an LF, Line Feed character). Each header field can be viewed as a single, logical line of ASCII characters, comprising a field-name and a field-body. Standard RFC822 header fields include, for example, &#x201c;From,&#x201d; &#x201c;Sender,&#x201d; Reply-To,&#x201d; &#x201c;To,&#x201d; &#x201c;Cc,&#x201d; &#x201c;Bcc,&#x201d; &#x201c;Message-ID,&#x201d; &#x201c;In-Reply-To,&#x201d; &#x201c;References,&#x201d; &#x201c;Date,&#x201d; &#x201c;Received,&#x201d; &#x201c;Return-Path,&#x201d; &#x201c;Subject,&#x201d; &#x201c;Comments,&#x201d; etc.</p>
<p id="p-0013" num="0012">RCF1123 (<i>Requirements for Internet Hosts&#x2014;Application and Support</i>), published in 1989, is another standard. It incorporates, amends, corrects, and supplements the primary protocol standards documents relating to hosts. Specifically, chapter 5 thereof is directed to email and RFC822.</p>
<p id="p-0014" num="0013">It is noted that pure RFC822 message bodies are merely a series of text lines, which have no additional structure or meaning imposed on them. Because additional structure is sometimes desirable (including additional information such as attachments), several other conventions and standards have evolved over the years, outside the scope of the message format standard. For example, because the RFC822 message is limited to US-ASCII, pure RFC822 messages were limited thereby and could not include other characters used in non-English languages. Someone named Andr&#xe9;, for example, is not able to spell his name correctly in a pure RFC822 email message. In addition, RFC822 has no way to identify the structure of the data in stored in the message body. If a sender sends a message containing, for example, an HTML (HyperText Markup Language) file, it is up to the recipient to notice that the data can be viewed by an HTML browser. It is appreciated that if the format of the data had been identified in the message, the MUA could have taken steps necessary to present the data in a proper way. Furthermore, because RFC822 messages are text-based, MUAs need a way to identify non-text data (such as binary data) in order to handle it properly. MIME provides a way to deal with these limitations.</p>
<p id="p-0015" num="0014">RFC2045 (<i>MIME Part One: Format of Internet Message Bodies</i>), RFC2046 (<i>MIME Part Two: Media Types</i>), RFC2047 (<i>MIME Part Three: Message Header Extensions for Non</i>-<i>ASCII Text</i>), and RFC 2049 (<i>MIME Part Five: Conformance </i>Criteria and Examples), all published in 1996, as well as RFC4288 (<i>Media Type Specifications and Registration Procedures</i>) and RFC4289 (<i>MIME Part Four: Registration Procedures</i>), both published in 2005, provide definition of the basic MIME standard.</p>
<p id="p-0016" num="0015">The term &#x201c;entity&#x201d; or &#x201c;MIME entity&#x201d; refers to the MIME-defined header fields and contents of either a message or one of the parts in the body of a multipart entity. That is, an entity consists of the body of a message and the MIME-specific fields in the message header. The entity header contains fields used to describe the contents of the body, such as the type of data included in the body and the coded character set used in the data. MIME-specific header fields are generated by a sending MUA when a message is composed. A receiving MUA uses the MIME-specific header fields to decide how to extract any entities contained in a message.</p>
<p id="p-0017" num="0016">The capacity of email communication has being growing over the years. This has affected communication network performance, as well as the performance of computers, e.g., computers where mail servers operate, where email messages are composed, and/or where email messages are received. Hence, efforts have been made to improve performance. For example, JP 2005-284955 (&#x201c;Electronic Mail Transmitting/Receiving System&#x201d;, Fujioka Hideki, published October 2005) acknowledges the necessity to preserve CPU resources by preventing unnecessary mail transmittance. Hence, a mail transmitting server to which transmission of electronic mail is requested, temporarily stores text of the electronic mail in an external storage device and transmits only a mail ID, a sender, and a title of the case for identifying the mail. A mail recipient makes a request to receive the text of the mail from the mail transmitting server only for those electronic mail messages whose text he desires to read by himself. The mail receiving server acquires the text of the mail from the mail transmitting server in response to the request and sends the text to the mail recipient. Thus, the text of electronic mail is prevented from being unnecessarily transferred via a network.</p>
<p id="p-0018" num="0017">WO 0178334 (&#x201c;Methods and Systems for Composing and Transmitting Content-Rich Communications,&#x201d; Roberts et al., published on Oct. 18, 2001) describes methods, systems, and articles of manufacture that provide the ability for composing and transmitting a communication (such as an electronic mail message) using a content server within a communications network. The content associated with the communication is identified, typically by accessing it from storage or capturing it from peripheral devices. A location for the identified content is then determined within a layout for the body of the communication. The content is then streamed to a dynamic content server instead of being attached to the communication itself. When all of the content for the communication has been identified and streamed to the server, a minimal amount of information is transmitted to the intended recipient within the communication. This transmitted minimal amount of information includes an instruction set referencing the communication's content stored on the server.</p>
<p id="p-0019" num="0018">Further to such methods for reducing email capacity, it is also known in the art how to track mail pieces. For example, U.S. Pat. No. 7,003,376 (&#x201c;Method for tracking a mail piece,&#x201d; Witmond et al., issued on Feb. 21, 2006) discloses a system and method that include capturing an image of the mail piece, associating a tracking number for the mail piece with the image, providing the mail piece and tracking number to a carrier, and utilizing information from the image to investigate a lack of delivery, if no delivery verification is received from the carrier within a certain time period. The system and method may also include extracting information from a portion of the image and presenting the extracted information to a carrier, receiving additional information related to the mail piece from the carrier, providing the mail piece, the additional information, and a tracking number for the mail piece to a carrier, inserting the mail piece into a mail stream, and then utilizing information from the image to investigate a lack of delivery if no delivery verification is received from the carrier within a certain time period.</p>
<p id="p-0020" num="0019">Furthermore, WO 2006036042 (&#x201c;Method and System for Providing Permanent Mail Service,&#x201d; Ahn Jung Eun et al., published on Apr. 6, 2006), for example, discloses a method and system for storing mail permanently without restriction of storage space of mailbox. When a user makes a request to store certain mail permanently, a mail server transforms the requested mail data into permanent mail data with a predetermined format. The transformed mail data is transmitted to an external server that provides personal information storage space. The external server stores received permanent mail data on corresponding user area. If the user makes a request to read the permanent mail data, the mail server requests the requested permanent mail data from the external server, and the external server transmits the requested permanent mail data to the mail server, enabling users to read mails indicated as permanent mail regardless of the capacity of the mailbox.</p>
<p id="p-0021" num="0020">It should be appreciated that traditional email systems are &#x201c;pull&#x201d; based, i.e., the MUA (email reader) polls the MDA (the mail server) to see if there is new mail, and if so downloads it to a mailbox in the user's home directory. Yet, mail messages have been pushed, that is, actively transferred from the origin to the destination MDA. In email systems that are &#x201c;push&#x201d; based, the pushing of messages pushing is extended, while messages are pushed also to the MUA (the email reader, or client). Push based email systems are adapted, for example, for devices that are &#x201c;always on&#x201d;, such as RIM's BlackBerry&#xae; (Research In Motion Ltd. Corp., Waterloo, Ontario, Canada) devices that are connected via a wireless network. RIM's BlackBerry service uses wireless MUAs which are the BlackBerry devices, and a BlackBerry Enterprise Server (BES), which is a gateway attached to a traditional e-mail system. The BES monitors the e-mail server, and upon detecting a new mail message for a BlackBerry user, it retrieves (pulls) a copy thereof and pushes it to the BlackBerry handheld device over the wireless network.</p>
<p id="p-0022" num="0021">A push based email system is described, for example, in U.S. Pat. No. 5,436,960 (&#x201c;Electronic Mail System with RF Communications to Mobile Processors and Method of Operation Thereof,&#x201d; Campana Jr. et al., issued on Jul. 25, 1995), which discloses a system for transmitting originated information from one of a plurality of originating processors in an electronic mail system to at least one of a plurality of destination processors in the electronic mail system. The system includes a RF information transmission network for transmitting the originated information to at least one RF receiver which transfers the originated information to the at least one of the plurality of destination processors, at least one interface switch. The electronic mail system transmits other originated information within the electronic mail system through a telephone network.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0023" num="0022">In one exemplary embodiment, the present invention relates to a method for generating a referencing secondary electronic mail message from a primary electronic mail message. The method includes obtaining the primary electronic mail message and obtaining a reference to accompanying data in the primary electronic mail message that allows reconstitution of the accompanying data from the reference. The method further includes composing the referencing secondary electronic mail message with the reference embedded therein instead of the accompanying data.</p>
<p id="p-0024" num="0023">In another exemplary embodiment, the invention relates to a method for reconstituting a non-referencing electronic mail message from a referencing electronic mail message that includes at least one reference indicative of respective accompanying data. The method includes accessing a copy of the respective accompanying data for each reference in the referencing electronic mail message. The non-referencing electronic mail message is reconstituted by augmenting the referencing electronic mail message with the respective copy of the accompanying data relating to each reference.</p>
<p id="p-0025" num="0024">Other exemplary embodiments and advantages of the invention will be apparent from the following description and the appended claims.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 1A</figref> is a schematic illustration of a system allowing delivery of electronic mail messages.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 1B</figref> schematically illustrates the system of <figref idref="DRAWINGS">FIG. 1A</figref> in greater detail.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic illustration of a target mail server computer adapted for reducing data upload in accordance with an exemplary embodiment of the invention.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIGS. 3A-3D</figref> are schematic illustrations of example email messages in accordance with exemplary embodiments of the invention.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram illustrating an email client in accordance with an exemplary embodiment of the invention;</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 5</figref> is a flow chart illustrating the procedures in transmitting a primary mail message to the respective recipient's mailbox in accordance with an exemplary embodiment of the invention.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 6</figref> is a flow chart illustrating the procedures taken while constructing a referencing message in accordance with an exemplary embodiment of the invention.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 7</figref> is a flow chart illustrating the procedures taken by a mail server while receiving a referencing secondary message in accordance with an exemplary embodiment of the invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE EXEMPLARY EMBODIMENTS</heading>
<p id="p-0034" num="0033">In the following description components that are common to more than one figure will be referenced by the same reference numerals.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 1A</figref> is a schematic illustration of a system <b>1</b>A<b>01</b> allowing delivery of electronic mail messages via a network depicted by a network cloud <b>1</b>A<b>00</b>. An electronic mail message is composed on a computer <b>1</b>A<b>02</b>, constituting a source computer. While sending the message it is transmitted to a computer <b>1</b>A<b>03</b>, referred to as a &#x201c;source mail server computer,&#x201d; or more concisely, &#x201c;source mail server,&#x201d; wherein the source mail server transmits the message further to a target mail server computer <b>1</b>A<b>04</b>, also referred shortly as a &#x201c;target mail server.&#x201d; Upon or further to receiving the mail message, the target mail server transmits it to a target computer <b>1</b>A<b>05</b>, where it is displayed.</p>
<p id="p-0036" num="0035">Those having ordinary skill in the art will appreciate that the system <b>1</b>A<b>01</b> is a non-limiting example and there exist alternatives thereto, such as a source computer and a target computer that are coupled to the same mail server, whereby a single mail server can operate as the source mail server and the target mail server. In addition, it will be appreciated by those skilled in the art that an electronic mail message is normally composed by a sender and transmitted to a recipient. The sender and recipient can compose and read the message on any computer. In one alternative embodiment, the sender can login to a computer (i.e., the source computer), compose the message, send it to the recipient and logout. Then the recipient can login to the same computer or to any other computer (generally referred to as the target computer) and read the message. That is, according to this latter example the source computer and the target computer can be the same, hence, generally, the source computer is the computer to which the sender is logged in, while the recipient computer is the computer to which the recipient is logged in, without requiring that two different &#x201c;physical&#x201d; computers are concerned.</p>
<p id="p-0037" num="0036">It will further be appreciated that the recipient is not necessarily logged into the system when the sender sends the electronic mail message thereto. Hence, the target mail server computer can store the message in an accessible storage device, such as the recipient's mailbox, allowing the recipient to view the message upon logging into the system from any target computer accessible thereto. Hence, the source mail server and the target mail server have storage devices accessible thereto, such as the storage devices <b>1</b>A<b>06</b> and <b>1</b>A<b>07</b>, respectively.</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 1B</figref> schematically illustrates the system of <figref idref="DRAWINGS">FIG. 1A</figref> in greater detail. It will be appreciated that the mail servers, i.e., the source and target mail servers <b>1</b>A<b>03</b> and <b>1</b>A<b>04</b> each operate a Mail Transport Agent (MTA) <b>1</b>B<b>01</b>, that can be coupled with a Mail Delivery Agent (MDA) <b>1</b>B<b>02</b>. In one embodiment, the source and target computers <b>1</b>A<b>02</b> and <b>1</b>A<b>05</b> may each operate a Mail User Agent (MUA) <b>1</b>B<b>03</b>.</p>
<p id="p-0039" num="0038">When the sender composes and sends an email message, the MUA <b>1</b>B<b>03</b> operating in the source computer <b>1</b>A<b>01</b> transmits the message to the MTA <b>1</b>B<b>01</b> operating in the source mail server computer <b>1</b>A<b>03</b>. The MTA determines the routing scheme for the message and conveys the message to the MTA <b>1</b>B<b>01</b> coupled thereto in order for it to transmit it further in accordance with the determined scheme.</p>
<p id="p-0040" num="0039">The network cloud <b>1</b>B<b>00</b> illustrated in the figure may include zero or more nodes relaying the message on its way from the source mail server computer <b>1</b>A<b>03</b> to the target mail server computer <b>1</b>A<b>04</b>.</p>
<p id="p-0041" num="0040">Upon receiving the message, the MTA <b>1</b>B<b>01</b> of the target mail server computer <b>1</b>A<b>04</b> identifies that the message is addressed to a receiver listed as a user thereof. The MTA passes the message to a local MDA <b>1</b>B<b>04</b>, which stores the message in the recipient's mailbox <b>1</b>B<b>05</b>. When the recipient logs into the system, running his MUA <b>1</b>B<b>03</b>, he will access the stored message and read it.</p>
<p id="p-0042" num="0041">Those having ordinary skill in the art will appreciate that variations of the illustrated system exist, and that the present invention is not limited to said system. For example, in one embodiment, instead of being internal to the MTA <b>1</b>B<b>01</b>, the inter server MDA <b>1</b>B<b>02</b> can be external to the MTA <b>1</b>B<b>01</b>. Alternatively, in another embodiment, instead of having two MDAs (<b>1</b>B<b>02</b> and <b>1</b>B<b>04</b>), a mail server computer can have a single MDA in charge of transmitting messages to other MTAs and for storing messages in mailboxes, and sometimes more than two MDAs may exist.</p>
<p id="p-0043" num="0042">In the system shown in <figref idref="DRAWINGS">FIGS. 1A and 1B</figref>, the source mail server computer <b>1</b>A<b>03</b> does not include a local MDA <b>1</b>B<b>04</b>. Those having ordinary skill in the art will appreciate that the source mail server computer <b>1</b>A<b>03</b> can include any module applicable to the case, such as a local MDA, and that the source mail server computer <b>1</b>A<b>03</b> can have access to mailboxes.</p>
<p id="p-0044" num="0043">In some embodiments, the source and/or target computers (<b>1</b>A<b>02</b> and <b>1</b>A<b>05</b>) connect to their respective mail server computers in alternative ways. For example, it is possible to compose and/or read email messages from a web browser accessing the mail server via the Internet. It is also possible to access email services (i.e., connect to the respective mail server computer) via alternative ways such as via Personal Digital Assistants (PDAs), including wireless devices (e.g., RIM's BlackBerry&#xae; wireless platform), mobile phones capable of sending and receiving emails, and also via different non-visual interfaces. Non-limiting examples of non-visual interfaces include an email reader that performs text-to-speech conversion and vocally reads emailed documents to the user and an email dictation machine that performs speech-to-text conversion, vocally receives messages, and automatically converts them to text to be sent via email. Accordingly, the source and target computers (<b>1</b>A<b>02</b> and <b>1</b>A<b>05</b>) represent any device and/or tool that allows access to email services, and they are not restricted to computers known per se, such as PCs (Personal Computers) and workstations. Further, the source and target computers are not required to be of the same type. The source computer can be, for example, a wireless device, while the target computer can be a web browser allowing access to email services. Therefore, instead of using the term &#x201c;source computer&#x201d; and &#x201c;target computer&#x201d;, the general terms &#x201c;source node&#x201d; and &#x201c;target node&#x201d; will be used hereinafter.</p>
<p id="p-0045" num="0044">It is known that sometimes, when connecting a node to a network, the communication path downstream of the node is not equal in capacity to that upstream of the node. This is the case in Asymmetric Digital Subscriber Line (ADSL), for example, wherein the downstream rate is higher than the provided upstream rate. If the source node, for example, is connected to the network via any ADSL, then it will be appreciated that downloading a message whose size is significant will be faster than sending such a message. Hence, transmitting an email message that includes a large attachment, for example, can be severely slower than receiving an identical message.</p>
<p id="p-0046" num="0045">Those skilled in the art will appreciate that further to sending a message (constituting a &#x201c;primary message&#x201d; or a &#x201c;primary electronic mail message&#x201d;) from a sender (constituting a &#x201c;primary sender&#x201d;) to a recipient (constituting a &#x201c;primary recipient&#x201d;), the primary recipient can forward copies of the primary message to one or more other recipients (hence constituting &#x201c;secondary messages&#x201d; or a &#x201c;secondary electronic mail message&#x201d;). In this case, the primary recipient is also a &#x201c;secondary sender,&#x201d; and each recipient of the forwarded message may be considered as a &#x201c;secondary recipient.&#x201d; It will also be appreciated that each one of the secondary recipients can forward copies of the message further. Thus, within very few such &#x201c;generations,&#x201d; a single copy of the primary message can form the basis for many (x) copies of the same message (with or without modification). In addition, the primary message transmitted and forwarded in this latter example can include additional structure and/or information (such as attached files) and it is not composed, necessarily, solely of text. Hereinafter, &#x201c;additional structure and/or information&#x201d; is referred to also as &#x201c;accompanying data&#x201d; and it should be appreciated that the accompanying data is part of the primary message. It will be appreciated that in this case, a large amount of data can be copied again and again, x times. Even worse: upon receiving such a primary message that includes the accompanying data, i.e., upon downloading the primary message and the accompanying data and, when forwarding copies of the message toy other recipients, the recipient (who becomes a sender) has to upload the message y times, including the accompanying data, which is time consuming.</p>
<p id="p-0047" num="0046">According to embodiments of the invention, instead of reducing data download, data upload is reduced. Bearing in mind that a received message can be forwarded many times, it is appreciated that reducing data upload is more significant than reducing data download. This significance is increased even further if the forwarding node is connected to the network via an asymmetric link.</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic illustration of a target mail server, such as <b>1</b>A<b>04</b> in <figref idref="DRAWINGS">FIGS. 1A and 1B</figref>, adapted for reducing data upload, in accordance with one embodiment of the invention. Apart from being coupled to the storage device <b>1</b>A<b>07</b> (and the recipient's mailbox <b>1</b>B<b>05</b>), the local MDA <b>1</b>B<b>04</b> is coupled to a repository managing module <b>201</b>, which in turn is coupled to a repository <b>202</b>.</p>
<p id="p-0049" num="0048">Upon receiving a message, the local MDA <b>1</b>B<b>04</b> stores the message in the recipient's mailbox <b>1</b>B<b>05</b> and conveys the message to the repository managing module <b>201</b>. The repository managing module <b>201</b> analyses the message and stores a copy thereof, including accompanying data, in the repository <b>202</b>. In another embodiment, instead of storing in the repository a copy of the message, the managing module <b>201</b> can store in the repository <b>202</b> only accompanying data (if it exists in the message), in association with an identification of the message. In another embodiment, some mail servers can store copies of incoming messages, apart from storing the messages in the recipients' mailboxes. The mail server's repository in which the mail server stores copies of the incoming messages constitutes a &#x201c;local repository.&#x201d; Thus, in such a mail server it may be possible to use the local repository instead of storing copies of the messages in the repository <b>202</b>.</p>
<p id="p-0050" num="0049">In one embodiment, instead of storing the message and/or accompanying data in the repository <b>202</b> upon receiving the message, the message may be conveyed to the managing module <b>201</b> upon reading the message. That is, when accessing a message stored in the recipient's mailbox <b>1</b>B<b>05</b> and conveying this message to the target node, it is possible to convey the message (or a copy thereof) also to the managing module <b>201</b>.</p>
<p id="p-0051" num="0050">As noted above in the Background, the message can be considered as a primary message. The recipient of the message can forward secondary messages, including a copy of the primary message, to other recipients. That is, a recipient of the primary message can send secondary messages corresponding to the primary message. Those skilled in the art will appreciate that in order to receive and/or send email, each one of the source and the target nodes normally has to be coupled to a respective mail server, while it is customary that a node is coupled to only one mail server, used for sending and for receiving email messages. Hence, it should be appreciated that the mail server used as the target mail server for receiving the primary message, can be used also as the source mail server for transmitting the secondary message. In this case it is possible to use the same MTA <b>1</b>B<b>01</b> for conveying the message to the local MDA <b>1</b>B<b>04</b> and to the inter server MDA <b>1</b>B<b>02</b>. However, this is not mandatory and those skilled in the art will appreciate that two different MTAs can be used if applicable. For the sake of simplicity, the description that follows assumes that a single MTA is used, unless specifically noted otherwise.</p>
<p id="p-0052" num="0051">Thus, it should be appreciated that the secondary message's source node conveys the secondary message to the respective mail server's MTA. Because, according to one embodiment of the invention, the MTA <b>1</b>B<b>01</b> is coupled to the repository managing module <b>201</b> and to the repository <b>202</b> (even if in an indirect manner, e.g., via the local MDA <b>1</b> B<b>04</b>), the mail server can access a copy of the corresponding primary message stored in the repository if such a copy is stored therein. Hence, the target mail server can access also any accompanying data stored in association with the copy of the message. Thus, it should be appreciated that in the secondary message's source node it is possible to compose a secondary message that does not include a copy of any accompanying data being part of the primary message, thereby expediting the transmittal of the secondary message (or messages) from the secondary message's source node to the respective mail server. Upon receiving the secondary message in the mail server, a corresponding copy of the primary message is retrieved from the repository, if such a copy is available therein, and the primary message's associated additional structures and/or information (if this exists) can be added to the secondary message, as if they were added in the secondary message's source node, before conveying the secondary message to its respective mail server computer.</p>
<p id="p-0053" num="0052">In those cases in which the mail server used for receiving the primary message is not the mail server used for sending the secondary message(s), it is noted that in order to allow the mail server used for sending the secondary message to retrieve the copy of the primary message from the repository <b>202</b>, the repository <b>202</b> must be accessible thereto. Alternatively, it is possible to transmit the secondary message to the mail server hosting the repository <b>202</b> (i.e., the mail server used for receiving the primary message), in order to add the additional structures and/or information to the secondary message therein. Then, this mail server can act as if it is a mail client, forwarding the secondary message, which already includes the additional structures and/or information, to the mail server used for sending the secondary message(s).</p>
<p id="p-0054" num="0053">For example, a sender A sends an email message, constituting a primary message, to a receiver B, attaching a file including a large video movie. The target mail server stores a copy of the primary message, in association with the video's file, in the repository. Then, upon receiving the primary message, B decides to forward it to C. Conventionally, B would generate a secondary message that includes a copy of the primary message, including the video file attachment. However, in contrast thereto, in one embodiment of the present invention, B can compose a secondary message omitting the video file therefrom and convey this secondary message to the mail server, in order to transmit it to C. In the mail server, the stored copy of the primary message is retrieved, allowing the video file to be copied therefrom and added to the forwarded secondary message. C therefore, will receive the secondary message with the attached video file, being unaware that B sent it without the attachment.</p>
<p id="p-0055" num="0054">Hereinafter, the term &#x201c;recycling&#x201d; will be used to mean associating with a secondary message additional structures and/or information originally being part of a primary message. In the latter example the mail server recycles the video file; however it is not mandatory to recycle a file. According to a different example and embodiment, the complete content of a message can be recycled. Furthermore, although recycling is described as associating content being part of a primary message while transmitting a secondary message, it will be appreciated that content being part of a secondary message can be recycled when transmitting a tertiary message and so on. Hence, unless specifically noted otherwise, the term &#x201c;primary message&#x201d; is generally used hereinafter to refer to any original message whose content is recycled, while the term &#x201c;secondary message&#x201d; is generally used hereinafter to refer to any message into which the recycled content is embedded. Thus, reverting to the latter example, upon receiving from B the message, which includes the video file, C can further forward it to D. To this end, C considers the message from B as a primary message, and the message to D as a secondary message. It will be appreciated that this secondary message, according to an embodiment of the invention, need include only a reference to the primary message (or to the video file) instead of including the whole primary message. Such a secondary message will also be referred to as a &#x201c;referencing message&#x201d; as distinct from a message that is complete without reference to supplementary content and which will be referred to as a &#x201c;non-referencing message.&#x201d; The mail server used for sending a referencing secondary message to D recycles the video file (or the complete primary message), and hence the message received by D includes the primary message and the video file.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIGS. 3A-3D</figref> schematically illustrate examples of email messages in accordance with embodiments of the invention. <figref idref="DRAWINGS">FIGS. 3A and 3B</figref> depict a primary message <b>301</b> sent from A to B. The message <b>301</b> has a header <b>302</b> and a message body <b>303</b>, which, according to the example, includes a text portion <b>304</b> and an attached video file named Film.AVI and designated <b>305</b>. It is noted though that different embodiments exist, wherein the attached video file <b>305</b> can appear to be included in the header, instead of the message body, but for ease of description, inclusion in the message body is described.</p>
<p id="p-0057" num="0056"><b>306</b> is a secondary message, whereby B forwards the primary message to C, as presently known in the art. It is noted that like the primary message <b>301</b>, the secondary message <b>306</b> also includes a header <b>307</b> and a message body <b>308</b>. It should also be noted that the message body <b>308</b> includes new text <b>309</b> that B writes to C, in addition to a copy <b>310</b> of the original message from A to B, which includes the video file attachment <b>305</b>.</p>
<p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. 3C</figref> depicts an alternative secondary message <b>311</b> conveyed from B to C in accordance with another embodiment of the invention. The header <b>307</b> of this message <b>311</b> is similar to the header <b>307</b> of message <b>306</b>, however, the message body <b>312</b> is shorter. Instead of including a copy of the original message <b>301</b> (shown as <b>310</b> in <figref idref="DRAWINGS">FIG. 3</figref>), the message body <b>312</b> of the secondary message <b>311</b> includes a reference <b>313</b> to the primary message <b>301</b>. Further to sending the message <b>311</b>; the respective mail server recycles the message <b>301</b> by retrieving a copy thereof from the repository <b>202</b> and inserting it into the message <b>311</b>, thus yielding a message similar to message <b>306</b>, which is further transmitted to C's mail server. Upon receiving the message, C is unable to distinguish whether B composed a message similar to message <b>306</b> or message <b>311</b>.</p>
<p id="p-0059" num="0058">The secondary message <b>314</b> shown in <figref idref="DRAWINGS">FIG. 3D</figref> conveyed from B to C is another example of a secondary message corresponding to the primary message <b>301</b>, according to yet another embodiment of the invention. Like the previous secondary messages <b>306</b> and <b>311</b>, the secondary message <b>314</b> also includes a message header <b>307</b> and a message body <b>315</b>, wherein the message header is substantially similar to those of the secondary messages <b>306</b> and <b>311</b>. Yet, the size of message body <b>315</b> is between that of the message <b>306</b> and that of the message <b>311</b>. It is noted that the text of the message body <b>315</b> resembles that of the message body <b>308</b> of message <b>306</b>, although the size is smaller because a reference <b>317</b> to the video file <b>305</b> is included therein, instead of the file itself that is included in the message <b>306</b>. Appreciating that in most cases a reference should be smaller than the file referred to thereby, it should be understood that the message <b>314</b> is smaller in size than the message <b>306</b>. When the source mail server of the message <b>314</b> receives the message, file <b>305</b> is recycled by retrieving the file <b>305</b> from the repository, inserting it into the secondary message <b>314</b>, replacing the reference therewith, and transmitting the message to C. Typically, replacing the reference by the complete content results in deletion of the reference. But actual deletion of the reference is optional, particularly in cases in which the reference is transparent to the end-user. In either case, the referencing electronic mail message is augmented with the respective copy of the accompanying data relating to each reference, thereby reconstituting the non-referencing electronic mail message. Alternatively, instead of including a reference to the file <b>305</b>, thereby requiring the mail server to identify the file without any reference to the primary message, the reference <b>317</b> can include references to both the primary message <b>306</b> and the file <b>305</b>, thus allowing the message <b>306</b> to be retrieved from the repository and allowing the attachment <b>305</b> to be extracted therefrom, whereupon it can be merged with the secondary message <b>314</b>.</p>
<p id="p-0060" num="0059">Generally, the secondary messages <b>306</b>, <b>311</b>, and <b>314</b>, as well as others which similarly appear to the receiver, are referred to hereinafter as &#x201c;equivalent&#x201d; messages. The message that includes the complete information (such as message <b>306</b>) is referred to, hereinafter, as a &#x201c;complete message&#x201d; or, as noted above, a &#x201c;non-referencing message.&#x201d; An equivalent message that is typically smaller in size as a result of including a reference to one or more parts of the complete message (e.g., a reference to the primary message, a reference to one or more attached files, etc.) is referred to hereinafter as a &#x201c;referencing message,&#x201d; as noted above.</p>
<p id="p-0061" num="0060">It is noted that the example illustrated in <figref idref="DRAWINGS">FIG. 3A</figref> is non-limiting and different embodiments are allowed as well, such as the embodiment shown in <figref idref="DRAWINGS">FIG. 3C</figref>, including a reference to the primary message <b>306</b> and to the attached file <b>305</b>. In addition, the example provided describes recycling of a video file <b>305</b>. However, the invention is not limited to files including video films. Moreover, the invention is not limited to messages having only one attachment. Alternative primary messages can include two attached files, three attached files, or any other number of files attached thereto. Furthermore, recycled content, i.e., accompanying data, can also include other types of information apart from attached files, such as formatting. A secondary message can include attachments that are not part of the primary message and it is not limited to be a forwarded message. For example, the secondary message may be a reply.</p>
<p id="p-0062" num="0061">According to another, non-limiting example, accompanying data can include formatting information. It will be appreciated that formatting information includes information such as fonts, and/or size and/or color etc. Sometimes, the primary message is sent from a visual email interface, allowing the addition of formatting information to the message. This primary message's editor, for example, can emphasize a certain sentence using bold fonts, while other sentences can be emphasized using yellow-highlighted text. However, the primary message's editor cannot predict the type of email interface used by the message's receiver for reading this message. It is possible that the primary message's receiver will read the message using a non-graphical interface, such as a non-visual email interface operating on a terminal, or an email reading/editing application operating on a wireless device, such as many existing PDAs, mobile telephones, and RIM's BlackBerry&#xae; wireless platform.</p>
<p id="p-0063" num="0062">Upon reading the primary message using a non-graphical interface, it will be appreciated that formatting information is normally removed from the message. According to the example, the receiver will be able to see only a single font, having a single size and a single color. Then, if a secondary message corresponding to the primary message is forwarded further, or if a response is transmitted to the primary message's editor (in this latter case the response constitutes the secondary message), the secondary message normally includes no formatting information.</p>
<p id="p-0064" num="0063">According to some embodiments of the invention, by considering formatting information as accompanying data and by storing this data in the repository <b>202</b>, the formatting information can be re-added to the secondary message upon transmitting it towards its destination, and hence the receiver of this secondary message will receive the secondary message with formatting information despite being edited using a non-visual interface. It is noted though that formatting information will be added only to those parts of the secondary message which are taken from the primary message, similar to <b>309</b> in the example of <figref idref="DRAWINGS">FIG. 3B</figref>.</p>
<p id="p-0065" num="0064">Yet, this is non-limiting and alternatives exist. For example, in RIM's BlackBerry service the formatting information can be removed from the message in the BlackBerry Enterprise Server&#x2122; (BES) before it is pushed to the BlackBerry device. Hence, it might be impossible to include references to the formatting information (and to alternative accompanying data) upon composing secondary messages. However, upon transmitting the secondary message, it is possible to compare the message with a locally stored copy of the primary message, hence inserting references before transmitting the message to the mail server.</p>
<p id="p-0066" num="0065">Many other alternative examples of different kinds of accompanying data also exist, such as HTML tags etc., and therefore it should be appreciated that the invention addresses accompanying data in general, whenever applicable, and it is not bound by the described examples of attached files and formatting information.</p>
<p id="p-0067" num="0066">Although particular embodiments have been described with reference to <figref idref="DRAWINGS">FIGS. 3A-3D</figref> in which the composer of the secondary message B determines the format of the message and its content (e.g., he determines whether the secondary message is of the form depicted as <b>306</b>, <b>311</b> or <b>314</b>), this is not mandatory. For example, in another embodiment, B can compose a message that appears to be similar to <b>306</b>, that is, a complete (i.e. non-referencing) message, including the complete direct content of the primary message. Yet, upon transmitting the message to its destination, C, or upon providing an explicit command, the email client can automatically construct a referencing message equivalent thereto, such as message <b>311</b> or <b>314</b>.</p>
<p id="p-0068" num="0067"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram illustrating an email client <b>401</b> in accordance with an embodiment of the invention. The email client <b>401</b> includes an email receiver <b>402</b> configured to receive email messages from a mail server. Received messages are then displayed on an email display module <b>403</b>, which in many cases is also configured to allow editing of email messages (including secondary messages). In another embodiment, the email display module and the email editor are separate. The email display module/email editor is coupled to a referencing email converter <b>404</b>, configured to construct a referencing message equivalent to the complete message constructed in the email editor. The referencing email converter <b>404</b> is further coupled to an email transmitter <b>405</b> configured to transmit email messages to a respective mail server, which may be identical to or different from the mail server of the email receiver <b>402</b>.</p>
<p id="p-0069" num="0068">The embodiment of <figref idref="DRAWINGS">FIG. 4</figref> is non-limiting and other embodiments are also feasible. For example, the referencing email converter <b>404</b> can be directly coupled to the email editor without direct coupling to the email transmitter <b>405</b>. It is considered that in this case the email converter <b>404</b> is activated to generate a referencing message in the email editor or in a storage device (such as memory) of the email editor, and then the email editor conveys the stored referencing message to the email transmitter <b>405</b>. This is unlike other embodiments, such as the one illustrated in <figref idref="DRAWINGS">FIG. 4</figref> wherein the referencing email converter <b>404</b> is directly coupled to the email transmitter <b>405</b> and to the email editor <b>403</b>, in which case the referencing email converter <b>404</b> is able to convert a complete message to a referencing message upon transmittal, i.e., upon conveying it to the email transmitter <b>405</b>. According to yet another embodiment the referencing email converter <b>404</b> can be directly coupled to the email transmitter without direct coupling to the email editor <b>403</b>, thus allowing conversion of complete messages to referencing messages upon transmittal to the mail server. Hence, generally, the referencing email converter <b>404</b> can be directly or indirectly coupled to the email editor <b>403</b>, as it can be directly or indirectly coupled to the email transmitter <b>405</b>. Yet, other embodiments are also allowed. For example, in one embodiment there can be a single module functioning as both the email receiver <b>402</b> and email transmitter <b>405</b>. In yet another embodiment, the email editor <b>403</b> can include an email receiver <b>402</b> and/or an email transmitter <b>405</b>.</p>
<p id="p-0070" num="0069">It is noted though that in different embodiments the functionality of the block diagram shown in <figref idref="DRAWINGS">FIG. 4</figref> is not necessarily implemented in the email client <b>401</b>. For example, the same functionality can be implemented in gateways, such as RIM's BlackBerry Enterprise Server&#x2122; (BES), as was previously noted.</p>
<p id="p-0071" num="0070">One way for automatically constructing such a referencing message equivalent to a complete message is by applying a known per-se &#x201c;diff&#x201d; utility to the complete and primary messages. According to the embodiment previously described with reference to <figref idref="DRAWINGS">FIG. 4</figref>, this can be done, e.g., in the referencing email converter <b>404</b>. Reverting to the example of <figref idref="DRAWINGS">FIG. 3</figref>, it can be illustrated that by applying a diff utility to the primary message <b>301</b> and to the complete secondary message <b>306</b>, a structure that resembles the referencing message <b>311</b> would be constructed. The constructed structure can be used as a skeleton, into which it is possible to embed, or insert a reference to the primary message <b>301</b>, thus yielding the referencing message <b>311</b>.</p>
<p id="p-0072" num="0071">The reference can be any unique identifier recognized by the secondary message's composer as well as by the secondary message's source mail server, such as the data (referred to as &#x201c;message id&#x201d;) stored in the Message-ID field of the primary message's header. Upon receiving the referencing secondary message, the respective source mail server will be able to retrieve the primary message from the repository, using this reference (i.e., the message id). Alternatively, upon transmitting a primary message to the respective destination (i.e., upon storing the message in its receiver's inbox) and storing a copy thereof in the repository, the primary message's target mail server can provide an identification data thereto (e.g., a unique number or string, or even a hyperlink to a message stored in the repository), and store this data in an agreed format in the message or in association therewith, such as storing it in the Message-ID header field, or as a comment in the message header, or in association with a predetermined tag in the message body, etc. See, for example, JP 2005-284955 and WO 0178334, both of which add references to the messages to a mail message. Upon reading a primary message and constructing a secondary message respective thereto, the referencing email converter <b>404</b> can retrieve the identification data from the primary message and use it in the secondary message construction.</p>
<p id="p-0073" num="0072"><figref idref="DRAWINGS">FIG. 5</figref> is a flow chart illustrating the procedures in transmitting a primary mail message to the respective recipient's mailbox, in accordance with one embodiment of the invention. It is noted that the described procedures can be taken, for example, by the local MDA <b>1</b>B<b>04</b> or by any other processor in the target mail server <b>1</b>A<b>04</b>. Upon obtaining a primary mail message, at <b>501</b>, the local MDA <b>1</b>B<b>04</b> provides a message ID (i.e., message identification) thereto at <b>502</b>. If the data stored in the Message-ID header field is to be used as a message ID, then the local MDA verifies that the primary message's header includes such a Message-ID and if not, a locally generated message ID data is stored therein. Otherwise, upon using other data as a message ID, the message ID is provided and stored in association with the message in any applicable method and format. For example, the repository managing module <b>201</b> can generate message ID data that identifies the message's copy stored in the repository, wherein the message ID data can be used by the local MDA <b>1</b>B<b>04</b> as a message ID. Then, at <b>503</b> the primary message is stored in the repository <b>202</b> and at <b>504</b> it is further stored in the recipient's mailbox <b>1</b>B<b>05</b>. It is appreciated that in those cases when the message ID is generated by the repository managing module <b>201</b> it is most probable that the message's copy is stored in the repository (see <b>503</b>) before providing a message ID to the message (see <b>502</b>), hence the flow chart of <figref idref="DRAWINGS">FIG. 5</figref> is non-limiting and alternatives are feasible. According to another example, wherein it is ascertained that a primary message must have a Message-ID, step <b>502</b> can be skipped. Alternatively, in another embodiment, the message can be stored, for example, in the recipient's mailbox prior or in parallel to storing it in the repository.</p>
<p id="p-0074" num="0073">It was noted before that other embodiments exist, wherein a message copy is stored in the repository upon reading the email message (i.e., upon accessing the message stored in the mailbox), rather than upon receiving it (i.e., upon storing it in the mailbox). In such embodiments, the flow chart of <figref idref="DRAWINGS">FIG. 5</figref> can be utilized while reading mail messages rather than upon receiving them.</p>
<p id="p-0075" num="0074"><figref idref="DRAWINGS">FIG. 6</figref> is a flow chart illustrating the procedures taken while constructing a referencing message in accordance with one embodiment of the invention. It is noted that the described procedures can be taken, for example, by the referencing email converter <b>404</b> or by any other processor in the email client. Further to obtaining a primary message and the respective complete secondary message (see <b>601</b> and <b>602</b>), the referencing email converter operating in accordance with the embodiment utilizes and applies a known per se diff utility <b>603</b>, such as the UNIX diff tool. It is appreciated that the output of the diff utility, normally indicative of those parts of the secondary email which is different than the content of the primary email, includes those sections added to the secondary message. For example, the diff utility would be applied to the primary message <b>301</b> and to the complete secondary message <b>306</b> shown in <figref idref="DRAWINGS">FIG. 3B</figref>, while the output thereof includes the message header <b>307</b>, the new text <b>309</b> that B writes to C and the delimiter &#x201c;----- Original Message -----&#x201d;.</p>
<p id="p-0076" num="0075">Continuing with <figref idref="DRAWINGS">FIG. 6</figref>, in step <b>604</b> the output is stored in a storage device to form a referencing secondary message skeleton, into which a reference to the primary message can be embedded, thus forming the referencing secondary message equivalent to the complete secondary message obtained in step <b>602</b>. It should be appreciated that the storage device can be a short term memory, such as RAM or a long term device such as a hard disk, allowing further processing of the referencing secondary message skeleton, while constructing the referencing secondary message.</p>
<p id="p-0077" num="0076">Furthermore, at step <b>605</b> the email converter extracts the message ID from the primary message, and at step <b>606</b> the message ID is embedded into the secondary message skeleton as a reference to the primary message. It is noted that embedding the message ID into the skeleton can include, for example, embedding a &#x201c;reference tag&#x201d; or a &#x201c;recycling command&#x201d; therewith, thus indicating to the mail server (or to any module operating therein) that this is a reference that should be replaced with a recycled primary message. Further to embedding the message ID, the secondary message skeleton becomes the referencing secondary message, such as the message <b>311</b>, illustrated in <figref idref="DRAWINGS">FIG. 3</figref>. The referencing secondary message can be conveyed or transmitted to the mail server in order to transmit it toward its destination.</p>
<p id="p-0078" num="0077"><figref idref="DRAWINGS">FIG. 7</figref> is a flow chart illustrating the procedures taken by a mail server (or by any module operating therein) while receiving a referencing secondary message in accordance with one embodiment of the invention. It should be appreciated that in order to construct a complete secondary message based on a referencing secondary message, the mail server has to perform operations which are the reverse of those taken by the referencing email converter when constructing the referencing message. As the referencing secondary message includes a reference to the primary message, the mail server can extract (<b>702</b>) the reference therefrom, retrieving (<b>703</b>) a copy of the primary message from the repository. Further to retrieving the primary message from the repository, the mail server can replace (<b>704</b>) the reference included in the referencing secondary message with the content of the primary message, thus yielding a complete secondary message, equivalent to the referencing secondary message obtained on <b>701</b>. The complete secondary message can then be further transmitted towards its destination.</p>
<p id="p-0079" num="0078">Further to considering the examples illustrated in the flow charts of <figref idref="DRAWINGS">FIGS. 5</figref>, <b>6</b>, and <b>7</b>, it should be considered that these flowcharts describe the procedures that can be taken in order to enable a receiver of a primary message to construct and transmit referencing secondary messages corresponding thereto, wherein the simplest flow of operations taken by the receiver is (1) receiving the primary message; (2) constructing the complete secondary massage and the referencing secondary message; (3) conveying the referencing secondary message to the mail server (and to the referencing email converter); and only afterwards (4) deleting the primary message. It will be appreciated by those skilled in the art that upon deleting a primary message, it may also be deleted from the repository <b>202</b>. Hence, if the receiver decides to operate in accordance with a different flow in which the primary message is deleted before the referencing secondary message is conveyed to the mail server (e.g., he can receive the primary message; construct the complete and referencing secondary messages; delete the primary message; and then convey the referencing secondary message to the mail server), it is possible that the mail server will be unable to reconstitute the complete secondary message in accordance with the referencing secondary message because it may be impossible to retrieve the copy of the primary message from the repository.</p>
<p id="p-0080" num="0079">In accordance with one embodiment of the invention, therefore, when deleting a message from a receiver mailbox, the mail server keeps the copy thereof (if this exists) in the repository. However, if messages are not deleted from the repository, an overflow may occur. Hence, the content of the repository should be managed in order to allow storing therein messages for long enough time intervals allowing safe conversion of referencing secondary messages to complete secondary messages, but preventing overflow situations. According to this embodiment, it is the repository managing module <b>201</b> that can apply the managing scheme.</p>
<p id="p-0081" num="0080">According to one example managing scheme, a copy of a message can be stored in the repository for a predetermined time interval further to the message's deletion. According to a different example managing scheme, instead of defining a predetermined time interval, the repository managing module can compute the time interval based on statistical information, such as the longest time it has taken so far (e.g., since reboot or since installation of the mail server etc.) for the mail server to reproduce a complete secondary message based on a referencing secondary message. According to yet anther embodiment, the longest time mentioned previously can be further affected by a certain factor such as a predetermined constant factor. According to yet another managing scheme, upon constructing a complete secondary message in an email client, a message is sent to the server, and hence to the repository managing module. This message is used as an indication that a copy of the primary message is required for future reconstitution of a complete secondary message corresponding thereto. As long as the indication exists, the repository managing module will avoid deleting the copy of the primary message from the repository. However, subsequent to the reconstitution of the complete secondary message the indication can be deleted, thus allowing the repository managing module to delete the copy of the message from the repository.</p>
<p id="p-0082" num="0081">According to another embodiment of the invention, upon failing to retrieve a copy of a primary message from the repository, and hence failing to reconstitute a complete secondary message, the mail server can convey an indication to the email client that the complete secondary message cannot be reconstituted, hence requesting the email client to convey thereto the complete secondary message instead of the referencing secondary message. In order to allow such an embodiment, the email client needs to retain a copy of the complete secondary message until it is determined that no reconstitution failure message will be received. One embodiment for so doing is to provide an acknowledging message (&#x201c;ACK&#x201d;) whenever the email client conveys a referencing secondary message to the mail server. The ACK is used as indication that the reconstitution of the complete secondary message has succeeded, and that the email client can safely delete the copy of the complete secondary message. If the reconstitution fails, the failure indication (used as &#x201c;NACK&#x201d;) is conveyed to the email client as previously mentioned.</p>
<p id="p-0083" num="0082">In the email client, upon obtaining an ACK, the copy of the complete secondary message can be deleted safely, as it will then be appreciated that the reconstitution was successfully performed. Alternatively, upon obtaining a NACK, indicating that the reconstitution has failed, the email client can convey the copy of the complete secondary message. However, this is non-limiting and ACK and NACK indications can also be used in other embodiments that do not retain copies of the complete secondary messages. For example, there are email clients that store outgoing messages in an &#x201c;Outbox&#x201d; folder, and after transmittal thereof the messages are moved to a &#x201c;Sent Items&#x201d; folder. Such an email client can use the ACK and NACK indications for indicating if and when to move the outgoing secondary message from the Outbox to the Sent Items folder, wherein it is possible to store a copy of the referencing message. Yet, if the email client's user selects to avoid storing messages in the Sent Items folder, the copy of the complete secondary message can be removed from the Outbox (and hence deleted) further to receiving an ACK, or further to conveying the copy of the complete secondary message to the email server.</p>
<p id="p-0084" num="0083">It will also be understood that the system in accordance with embodiments of the invention may be a suitably programmed computer. Likewise, the invention contemplates a computer program being readable by a computer for executing the method of the invention. The invention further contemplates a machine-readable memory tangibly embodying a program of instructions executable by the machine for executing the method of the invention.</p>
<p id="p-0085" num="0084">While the invention has been described with respect to a limited number of embodiments, those skilled in the art, having benefit of this disclosure, will appreciate that other embodiments can be devised which do not depart from the scope of the invention as disclosed herein. Accordingly, the scope of the invention should be limited only by the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method comprising:
<claim-text>at an email server:
<claim-text>(a) obtaining a primary electronic mail message;</claim-text>
<claim-text>(b) obtaining a reference to accompanying data in the primary electronic mail message, wherein the reference allows reconstitution of the accompanying data from the primary electronic mail message, and wherein the accompanying data includes data selected from the group consisting of text, an attached file, a hypertext markup language (HTML) tag, and formatting information;</claim-text>
<claim-text>(c) storing the primary electronic mail message and the reference in a repository; and</claim-text>
<claim-text>(d) storing the primary electronic mail message in a mailbox of a first recipient;</claim-text>
</claim-text>
<claim-text>at an email client:
<claim-text>(e) receiving, from a mail agent of the first recipient, a non-referencing secondary electronic mail message for a second recipient, wherein the non-referencing secondary electronic mail message includes the accompanying data of the primary electronic mail message;</claim-text>
<claim-text>(f) comparing the non-referencing secondary electronic mail message to the primary electronic mail message, thus yielding a difference;</claim-text>
<claim-text>(g) storing the difference in a referencing secondary message skeleton;</claim-text>
<claim-text>(h) retrieving the reference from the repository; and</claim-text>
<claim-text>(i) embedding the reference into the referencing secondary message skeleton, thus yielding a referencing secondary electronic mail message; and</claim-text>
</claim-text>
<claim-text>at the email server:
<claim-text>(j) obtaining the referencing secondary electronic mail message;</claim-text>
<claim-text>(k) reading the reference from the referencing secondary electronic mail message;</claim-text>
<claim-text>(l) retrieving the accompanying data from the repository;</claim-text>
<claim-text>(m) replacing the reference in the referencing secondary electronic mail message with the accompanying data, thus yielding a reconstituted secondary electronic mail message; and</claim-text>
<claim-text>(n) transmitting the reconstituted secondary electronic mail message to a server for the second recipient.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising the email client storing a copy of the non-referencing secondary electronic mail message.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising the email client conveying to the email client, the referencing secondary electronic mail message, and obtaining, from the email server, an acknowledgment message or a failure indication.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, further comprising the email client conveying a copy of the non-referencing secondary electronic mail message to the email server upon obtaining the acknowledgment message or a failure indication.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, further comprising the email client deleting the copy of the non-referencing secondary electronic mail message after conveying the referencing secondary electronic mail message.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, further comprising the email client deleting the copy of the non-referencing secondary electronic mail message after obtaining the acknowledgment message.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A computer readable memory device having recorded thereon instructions executable by processing, the instructions for performing a method comprising:
<claim-text>at an email server:
<claim-text>(a) obtaining a primary electronic mail message;</claim-text>
<claim-text>(b) obtaining a reference to accompanying data in the primary electronic mail message, wherein the reference allows reconstitution of the accompanying data from the primary electronic mail message, and wherein the accompanying data includes data selected from the group consisting of text, an attached file, a hypertext markup language (HTML) tag, and formatting information;</claim-text>
<claim-text>(c) storing the primary electronic mail message and the reference in a repository; and</claim-text>
<claim-text>(d) storing the primary electronic mail message in a mailbox of a first recipient;</claim-text>
</claim-text>
<claim-text>at an email client:
<claim-text>(e) receiving, from a mail agent of the first recipient, a non-referencing secondary electronic mail message for a second recipient, wherein the non-referencing secondary electronic mail message includes the accompanying data of the primary electronic mail message;</claim-text>
<claim-text>(f) comparing the non-referencing secondary electronic mail message to the primary electronic mail message, thus yielding a difference;</claim-text>
<claim-text>(g) storing the difference in a referencing secondary message skeleton;</claim-text>
<claim-text>(h) retrieving the reference from the repository; and</claim-text>
<claim-text>(i) embedding the reference into the referencing secondary message skeleton, thus yielding a referencing secondary electronic mail message; and</claim-text>
</claim-text>
<claim-text>at the email server:
<claim-text>(j) obtaining the referencing secondary electronic mail message;</claim-text>
<claim-text>(k) reading the reference from the referencing secondary electronic mail message;</claim-text>
<claim-text>(l) retrieving the accompanying data from the repository;</claim-text>
<claim-text>(m) replacing the reference in the referencing secondary electronic mail message with the accompanying data, thus yielding a reconstituted secondary electronic mail message; and</claim-text>
<claim-text>(n) transmitting the reconstituted secondary electronic mail message to a server for the second recipient.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A system comprising;
<claim-text>an email server for:
<claim-text>(a) obtaining a primary electronic mail message;</claim-text>
<claim-text>(b) obtaining a reference to accompanying data in the primary electronic mail message, wherein the reference allows reconstitution of the accompanying data from the primary electronic mail message, and wherein the accompanying data includes data selected from the group consisting of text, an attached file, a hypertext markup language (HTML) tag, and formatting information;</claim-text>
<claim-text>(c) storing the primary electronic mail message and the reference in a repository; and</claim-text>
<claim-text>(d) storing the primary electronic mail message in a mailbox of a first recipient; and</claim-text>
</claim-text>
<claim-text>an email client for:
<claim-text>(e) receiving, from a mail agent of the first recipient, a non-referencing secondary electronic mail message for a second recipient, wherein the non-referencing secondary electronic mail message includes the accompanying data of the primary electronic mail message;</claim-text>
<claim-text>(f) comparing the non-referencing secondary electronic mail message to the primary electronic mail message, thus yielding a difference;</claim-text>
<claim-text>(g) storing the difference in a referencing secondary message skeleton;</claim-text>
<claim-text>(h) retrieving the reference from the repository; and</claim-text>
<claim-text>(i) embedding the reference into the referencing secondary message skeleton, thus yielding a referencing secondary electronic mail message,</claim-text>
</claim-text>
<claim-text>wherein the email server is also for:
<claim-text>(j) obtaining the referencing secondary electronic mail message;</claim-text>
<claim-text>(k) reading the reference from the referencing secondary electronic mail message;</claim-text>
<claim-text>(l) retrieving the accompanying data from the repository;</claim-text>
<claim-text>(m) replacing the reference in the referencing secondary electronic mail message with the accompanying data, thus yielding a reconstituted secondary electronic mail message; and</claim-text>
<claim-text>(n) transmitting the reconstituted secondary electronic mail message to a server for the second recipient.</claim-text>
</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
