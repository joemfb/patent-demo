<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624657-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624657</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13541676</doc-number>
<date>20120704</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>G</subclass>
<main-group>7</main-group>
<subgroup>20</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>327349</main-classification>
<further-classification>327356</further-classification>
</classification-national>
<invention-title id="d2e43">Squaring circuit, integrated circuit, wireless communication unit and method therefor</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5552734</doc-number>
<kind>A</kind>
<name>Kimura</name>
<date>19960900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327356</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5581211</doc-number>
<kind>A</kind>
<name>Kimura</name>
<date>19961200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327356</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5926408</doc-number>
<kind>A</kind>
<name>Kimura</name>
<date>19990700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>708835</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6549057</doc-number>
<kind>B1</kind>
<name>Gilbert</name>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7622981</doc-number>
<kind>B2</kind>
<name>Zou</name>
<date>20091100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7777552</doc-number>
<kind>B1</kind>
<name>Gilbert</name>
<date>20100800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2002/0070789</doc-number>
<kind>A1</kind>
<name>Dathe</name>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2009/0045865</doc-number>
<kind>A1</kind>
<name>Li</name>
<date>20090200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2009/0237068</doc-number>
<kind>A1</kind>
<name>Vora</name>
<date>20090900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00010">
<othercit>Song, An MOS Four-Quadrant Analog Multiplier Using Simple Two-Input Squaring Circuits with Source Followers, pp. 841-848, vol. 25, No. 3, IEEE Journal of Solid-State Circuits, Jun. 1990.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>16</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>327346-350</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327355-360</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455323</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455326</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61512701</doc-number>
<date>20110728</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130027110</doc-number>
<kind>A1</kind>
<date>20130131</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Beale</last-name>
<first-name>Christopher Jacques</first-name>
<address>
<city>Tonbridge</city>
<country>GB</country>
</address>
</addressbook>
<residence>
<country>GB</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Tenbroek</last-name>
<first-name>Bernard Mark</first-name>
<address>
<city>West Malling</city>
<country>GB</country>
</address>
</addressbook>
<residence>
<country>GB</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Beale</last-name>
<first-name>Christopher Jacques</first-name>
<address>
<city>Tonbridge</city>
<country>GB</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Tenbroek</last-name>
<first-name>Bernard Mark</first-name>
<address>
<city>West Malling</city>
<country>GB</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Hsu</last-name>
<first-name>Winston</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Margo</last-name>
<first-name>Scott</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>MediaTek Singapore Pte. Ltd.</orgname>
<role>03</role>
<address>
<city>Singapore</city>
<country>SG</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Le</last-name>
<first-name>Dinh T.</first-name>
<department>2816</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A squaring circuit has current mode triplet metal oxide semiconductor (MOS) devices, including a first MOS device, a second MOS device and a third MOS device each having a source operably coupled to a first current source; and a fourth MOS device, a fifth MOS device and a sixth MOS device each having a source operably coupled to a second current source. The drain of first and fourth MOS device is operably coupled to a first supply, the drain of second and fifth MOS device is operably coupled to a first differential output port and the drain of third and sixth MOS device is operably coupled to a second differential output port. The gate of first, second and sixth MOS device is connected to a first differential input port, and the gate of third, fourth and fifth MOS device is connected to a second differential input port.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="170.43mm" wi="256.96mm" file="US08624657-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="247.99mm" wi="165.35mm" orientation="landscape" file="US08624657-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="223.77mm" wi="167.81mm" file="US08624657-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="250.44mm" wi="170.60mm" orientation="landscape" file="US08624657-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="256.37mm" wi="166.71mm" orientation="landscape" file="US08624657-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="271.10mm" wi="180.76mm" orientation="landscape" file="US08624657-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="268.65mm" wi="183.22mm" orientation="landscape" file="US08624657-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="257.47mm" wi="169.50mm" orientation="landscape" file="US08624657-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="242.06mm" wi="184.23mm" file="US08624657-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application claims the benefit of U.S. provisional application No. 61/512,701, filed on Jul. 28, 2011 and incorporated herein by reference.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">The field of this invention relates to an integrated circuit, a communication unit and a method for power detection. The invention is applicable to, but not limited to, an integrated circuit comprising a squaring circuit for a wireless communication unit.</p>
<p id="p-0004" num="0003">In the field of wireless communication systems, power control is needed in a radio access network to allow the transceivers in a base station (referred to as a Node-B in a 3<sup>rd </sup>generation partnership project (3GPP&#x2122;) communication standard within the universal mobile telecommunication system (UMTS&#x2122;)) and the transceivers in a subscriber wireless communication unit (referred to as a user equipment (UE) in 3GPP&#x2122;) to adjust their transmitter output power level to take into account the geographical distance between them. The closer that the subscriber wireless communication unit (UE) is to the base station's (e.g. Node B's) transceiver, the less power the UE and the Node B's transceivers are required to transmit, for the transmitted signal to be adequately received by the other communication unit. Such a transmit &#x2018;power control&#x2019; feature saves battery power in the UE and also helps to reduce the level of potential interference within the communication system. Initial power settings for the UE, along with other control information, are typically set by the information provided on a beacon physical channel in each particular communication cell. Accurate control of the output power level of such wireless communication units is typically achieved by employing a feedback path from an output of the transmitter, to route a portion of the transmit signal to processing circuitry to allow the current power level of the transmit signal to be determined, and hence any gain/attenuation adjustment required.</p>
<p id="p-0005" num="0004">Furthermore, a large number of conventional radio frequency (RF) transmitters use linear power amplifiers (PAs) to enable a wireless communication unit to transmit large amounts of data within a limited frequency bandwidth Accordingly, the power efficiency of such conventional RF transmitters is usually very low, due to the low efficiency of the linear PAs used therein. Hence, linearization techniques are also often employed with the linear PAs, as an attractive alternative to conventional linear PAs within RF transmitters. The vast majority of linearization techniques require the use of feedback signals from an output of the linear PA.</p>
<p id="p-0006" num="0005">Thus, for reasons of both power control and/or linearization, feedback of the radio frequency signal to be transmitted is performed, so that appropriate signal processing of the initial baseband signal, and/or components or circuits in the transmit path, can be controlled. Hence, most present day wireless transmitters include a feedback path to route the transmit signal back to a digital processing block, in order to determine a power level or linearity of the signal being transmitted. This information is used to control, for example, the gain stages of the transmitter chain. Thus, in effect, the feedback path comprises a power detector circuit/architecture.</p>
<p id="p-0007" num="0006">Often the power detector circuit comprises, in effect, a down-conversion receiver to convert and attenuate the transmit radio frequency signal to a baseband output that can be digitally processed to calculate the root mean square (RMS) value of the transmit signal. Typically, the RF down-conversion low-noise amplifier (LNA) and down-conversion mixers are designed for temperature stable gain, to ensure that there is no variation in the gain of the circuit across a wide temperature range. The input signal is typically fed from a power amplifier coupler, located between the PA output and, say a duplex switch.</p>
<p id="p-0008" num="0007">In the feedback path, a conversion circuit to convert the RMS signal to a DC signal, often referred to as RMS-to-DC converters, can be used. RMS-to-DC converters are used to convert the RMS (root-mean-square) value of an arbitrary signal into a quasi-DC signal that represents the true power level of the signal. It is known that some RMS-to-DC converters, use an architecture of balanced squaring cells that are capable of measuring an approximation of the power at microwave frequencies, as illustrated in <figref idref="DRAWINGS">FIG. 1</figref>. High performance squaring circuits generally fall into either of the following two classifications: (i) Multiplier-Circuits configured to implement the square function; or (ii) circuits that directly utilise the trans-conductance Square-Law characteristic of a MOS transistor.</p>
<p id="p-0009" num="0008">The architecture <b>100</b> of <figref idref="DRAWINGS">FIG. 1</figref> proposes a temperature-stabilised RMS-to-DC converter that uses wide-band, matched squaring circuits. Here, RMS-to-DC conversion is achieved by applying an input signal <b>105</b> to be measured to a first squaring cell/circuit (denoted by &#x2018;x2&#x2019;) <b>110</b>. A voltage is generated at the output of the squaring cell/circuit and is determined by the output current signal into the load resistor whose other end is connected to a supply voltage. The voltage at the output of the first squaring cell/circuit <b>110</b> has high frequency content, which is filtered by the filter capacitor to provide a &#x2018;mean&#x2019; low frequency signal into the non-inverting input of the Error-Amplifier (denoted by &#x2018;Error amp&#x2019;). The feedback path <b>115</b> around the Error Amplifier, which includes the second squaring cell/circuit (denoted by &#x2018;x2&#x2019;) <b>120</b>, forms an analogue tracking loop such that the voltage at the input of the Error-Amplifier (error-node) is nulled. As a result the signal at the output of the Error-Amplifier, which also forms the input to second squaring cell/circuit <b>120</b>, represents the RMS value of the input signal <b>105</b>. In this circuit, the RMS voltage is scaled by the buffer to increase the magnitude of the measured voltage for use on the power measurement system. By implementing the squaring cells/circuits <b>110</b>, <b>120</b> as series-connected three-transistor multi-tanh transconductance cells, it is suggested in the literature that square law approximation from DC up to microwave frequencies can be achieved.</p>
<p id="p-0010" num="0009">However, it is noted that the architecture of <figref idref="DRAWINGS">FIG. 1</figref> suffers from sensitivity to DC offsets at the error amplifier input, which limits the functional dynamic range of the circuit. In order to minimize the sensitivity to DC offsets, added complexity is required to auto-zero the internal offsets. Furthermore, the architecture of <figref idref="DRAWINGS">FIG. 1</figref> also suffers from output noise of the error amplifier, which is strongly dependent upon the gain in the feedback path. Since the feedback path contains a squaring function, the feedback path gain is proportional to the signal amplitude. Thus, the noise gain of the system increases for small signal levels, thereby again limiting the Dynamic Range. Notably, the analog filter included in this detector system is large and will occupy significant die area if the system is implemented on an integrated circuit.</p>
<p id="p-0011" num="0010">The paper titled &#x201c;An MOS Four-Quadrant Analog Multiplier Using Simple Two-Input Squaring Circuits with Source Followers&#x201d;, Ho-Jun Song and Choong-Ki Kim, IEEE JSSC, vol. 25, No. 3, June 1990&#x201d; proposes the multiplication of two voltages, V<sub>1 </sub>&#x26; V<sub>2</sub>, based on the &#x201c;difference&#x201d; of the &#x2018;square of the sum of the two voltages&#x2019; and the &#x2018;square of the difference of the two voltages&#x2019;, whereby:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Vo</i>=(<i>V</i><sub>1</sub><i>+V</i><sub>2</sub>)<sup>2</sup>&#x2212;(<i>V</i><sub>1</sub><i>&#x2212;V</i><sub>2</sub>)<sup>2</sup>=4&#xb7;<i>V</i><sub>1</sub><i>&#xb7;V</i><sub>2</sub>&#x2003;&#x2003;[1]<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0012" num="0011">The squaring is achieved using the square-law relationship of the drain-current, I<sub>D</sub>, to gate-source voltage, V<sub>GS</sub>, of a MOS transistor operating in the saturation region. If inputs V1 &#x26; V2 are applied to the gate and source of a MOS transistor respectively, the drain current is proportional to the square of the difference of the voltages:</p>
<p id="p-0013" num="0012">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>I</mi>
          <mi>D</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mi>K</mi>
            <mn>2</mn>
          </mfrac>
          <mo>&#xb7;</mo>
          <mrow>
            <mo>(</mo>
            <mfrac>
              <mi>W</mi>
              <mi>L</mi>
            </mfrac>
            <mo>)</mo>
          </mrow>
          <mo>&#xb7;</mo>
          <msup>
            <mrow>
              <mo>(</mo>
              <mrow>
                <msub>
                  <mi>V</mi>
                  <mi>GS</mi>
                </msub>
                <mo>-</mo>
                <msub>
                  <mi>V</mi>
                  <mi>T</mi>
                </msub>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mn>2</mn>
          </msup>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>[</mo>
        <mn>2</mn>
        <mo>]</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0014" num="0013">Where, K=&#x3bc;<sub>0</sub>&#xb7;C<sub>OX </sub></p>
<p id="p-0015" num="0014">&#x3bc;<sub>0 </sub>represents the carrier mobility,</p>
<p id="p-0016" num="0015">C<sub>OX </sub>the gate capacitance per unit area, and</p>
<p id="p-0017" num="0016">V<sub>T </sub>is the threshold voltage of the MOS transistor.</p>
<p id="p-0018" num="0017">The core squaring circuit <b>200</b> has two differential input voltages V<sub>1 </sub>(V<sub>1</sub>+ and V<sub>1</sub>&#x2212;) &#x26; V<sub>2 </sub>(V<sub>2</sub>+ and V<sub>2</sub>&#x2212;) and a single output current (I<sub>sq</sub>) as shown in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0019" num="0018">In <figref idref="DRAWINGS">FIG. 2</figref>, transistors M<sub>1 </sub>&#x26; M<sub>2 </sub>act as source-follower stages and transfer the input voltage (V<sub>2</sub>) to the sources of M<sub>3 </sub>&#x26; M<sub>4 </sub>respectively. For the squaring function to be fully compliant the voltages across the source followers should be independent of the input gate signal voltage level. In practice the current in the source-followers changes with input voltage; as more current is forced to flow in the &#x2018;squaring transistors&#x2019; (M<sub>3 </sub>&#x26; M<sub>4</sub>). In order that this effect is minimised there is the following requirement for the Width/Length ratios of the source follower transistors compared to the squaring transistors:</p>
<p id="p-0020" num="0019">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mrow>
            <mo>(</mo>
            <mfrac>
              <mi>W</mi>
              <mi>L</mi>
            </mfrac>
            <mo>)</mo>
          </mrow>
          <mrow>
            <mrow>
              <mi>M</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mn>1</mn>
            </mrow>
            <mo>,</mo>
            <mrow>
              <mi>M</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mn>2</mn>
            </mrow>
          </mrow>
        </msub>
        <mo>&#x3e;&#x3e;</mo>
        <msub>
          <mrow>
            <mo>(</mo>
            <mfrac>
              <mi>W</mi>
              <mi>L</mi>
            </mfrac>
            <mo>)</mo>
          </mrow>
          <mrow>
            <mrow>
              <mi>M</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mn>3</mn>
            </mrow>
            <mo>,</mo>
            <mrow>
              <mi>M</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mn>4</mn>
            </mrow>
          </mrow>
        </msub>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>[</mo>
        <mn>3</mn>
        <mo>]</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0021" num="0020">and for this condition:</p>
<p id="p-0022" num="0021">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>I</mi>
          <mi>sq</mi>
        </msub>
        <mo>&#x2248;</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mn>4</mn>
          </mfrac>
          <mo>&#xb7;</mo>
          <mi>K</mi>
          <mo>&#xb7;</mo>
          <msub>
            <mrow>
              <mo>(</mo>
              <mfrac>
                <mi>W</mi>
                <mi>L</mi>
              </mfrac>
              <mo>)</mo>
            </mrow>
            <mrow>
              <mrow>
                <mi>M</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mn>3</mn>
              </mrow>
              <mo>,</mo>
              <mrow>
                <mi>M</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mn>4</mn>
              </mrow>
            </mrow>
          </msub>
          <mo>&#xb7;</mo>
          <msup>
            <mrow>
              <mo>(</mo>
              <mrow>
                <msub>
                  <mi>V</mi>
                  <mn>1</mn>
                </msub>
                <mo>+</mo>
                <msub>
                  <mi>V</mi>
                  <mn>2</mn>
                </msub>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mn>2</mn>
          </msup>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>[</mo>
        <mn>4</mn>
        <mo>]</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0023" num="0022">According to Equation [1] above, multiplication can be achieved by subtracting the &#x2018;square of the difference&#x2019; from &#x2018;the square of the sum&#x2019; of the two input voltages. Therefore if a second core squaring cell is configured to realise the &#x2018;square of the difference&#x2019;, and if V<sub>1</sub>=V<sub>2</sub>=V<sub>in</sub>, it is possible to configure the squaring circuit to have both differential inputs and outputs (I<sub>1</sub>&#x2212;I<sub>0</sub>), as shown in the core squaring circuit <b>300</b> of <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0024" num="0023">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo>(</mo>
          <mrow>
            <msub>
              <mi>I</mi>
              <mn>1</mn>
            </msub>
            <mo>-</mo>
            <msub>
              <mi>I</mi>
              <mn>0</mn>
            </msub>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mo>&#x2248;</mo>
        <mrow>
          <mrow>
            <mo>{</mo>
            <mrow>
              <mi>K</mi>
              <mo>&#xb7;</mo>
              <msub>
                <mrow>
                  <mo>(</mo>
                  <mfrac>
                    <mi>W</mi>
                    <mi>L</mi>
                  </mfrac>
                  <mo>)</mo>
                </mrow>
                <mrow>
                  <mrow>
                    <mi>M</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>5</mn>
                  </mrow>
                  <mo>,</mo>
                  <mn>6</mn>
                  <mo>,</mo>
                  <mn>7</mn>
                  <mo>,</mo>
                  <mn>8</mn>
                </mrow>
              </msub>
            </mrow>
            <mo>}</mo>
          </mrow>
          <mo>&#xb7;</mo>
          <msubsup>
            <mi>V</mi>
            <mrow>
              <mi>i</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>n</mi>
            </mrow>
            <mn>2</mn>
          </msubsup>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>[</mo>
        <mn>5</mn>
        <mo>]</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0025" num="0024">However, a primary assumption in the analysis of the above circuit is that the source-follower devices (M<sub>1</sub>-M<sub>4</sub>) provide a constant voltage drop over the range of input signal voltages. In practice the current in the source-followers varies, and therefore the gate-source voltage varies so as to provide current for the squaring devices (M<sub>5</sub>-M<sub>8</sub>). The authors acknowledge that &#x201c;it is one of the significant error sources for this type of multiplier&#x201d;. This &#x2018;approximation-error&#x2019; acts in addition to other non-idealities associated with the MOS transistors, such as &#x2018;velocity-saturation&#x2019;, &#x2018;mobility-degradation&#x2019;, &#x2018;short channel effects&#x2019; and &#x2018;device mismatches&#x2019;.</p>
<p id="p-0026" num="0025">Thus, a need exists for an improved integrated circuit and method of operation that can preferably be applied to a wideband power detector (e.g. DC to several GHz) and can be implemented in a differential configuration that is insensitive to common-mode voltages at the input, and preferably has low supply voltage (headroom) requirements (&#x2266;1.35V operation).</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0027" num="0026">Accordingly, the invention seeks to mitigate, alleviate or eliminate one or more of the above mentioned disadvantages, individually or in any combination. Aspects of the invention provide a squaring circuit, an integrated circuit, a wireless communication unit comprising such a squaring circuit, and a method therefor as described in the appended claims.</p>
<p id="p-0028" num="0027">A squaring circuit includes a first differential input port and a second differential input port for receiving a differential input signal and a first differential output port and a second differential output port for outputting a differential output signal. The squaring circuit has: a first set of current mode triplet metal oxide semiconductor (MOS) devices comprising a first MOS device, a second MOS device and a third MOS device, each of the first MOS device, second MOS device and third MOS device having a source operably coupled to a first current source, wherein the drain of the first MOS device is operably coupled to a first supply, the drain of the second MOS device is operably coupled to the first differential output port and a drain of the third MOS device is operably coupled to the second differential output port; and a second set of current mode triplet metal oxide semiconductor (MOS) devices comprising a fourth MOS device, a fifth MOS device and a sixth MOS device, each of the fourth MOS device, fifth MOS device and sixth MOS device having a source operably coupled to a second current source, wherein the drain of the fourth MOS device is operably coupled to the first supply, the drain of the fifth MOS device is operably coupled to the first differential output port and a drain of the sixth MOS device is operably coupled to the second differential output port; wherein the gate of each of the first MOS device, second MOS device and sixth MOS device is connected to a first differential input port and the gate of each of the third MOS device, fourth MOS device and fifth MOS device is connected to a second differential input port such that the differential output current observed at the first differential output and second differential output is proportional to the differential input voltage squared.</p>
<p id="p-0029" num="0028">An integrated circuit having the aforementioned squaring circuit and a wireless communication unit having the aforementioned squaring circuit are also provided.</p>
<p id="p-0030" num="0029">A method for calibrating a power detector includes the following steps: calibrating a squaring circuit having a substantially constant gain response across frequency by applying one or more DC reference voltages to the input of the squaring circuit in order to produce calibrated data; calculating a DC offset and a squaring gain factor of the squaring circuit using the calibrated squaring circuit data; applying a transmit signal to the input of the squaring circuit, such that the input signal is representative of a power level of the transmit signal, and the squaring circuit is configured to produce a squared output signal; sampling the squared output signal; and calculating a detected power level using the sampled squared output signal and a calculated DC offset and squaring gain factor of the squaring circuit.</p>
<p id="p-0031" num="0030">A non-transitory computer program product including executable code stored therein for calibrating a power detector is provided, where the executable code is operable for performing the aforementioned method.</p>
<p id="p-0032" num="0031">These and other aspects of the invention will be apparent from, and elucidated with reference to, the embodiments described hereinafter.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0033" num="0032">Further details, aspects and embodiments of the invention will be described, by way of example only, with reference to the drawings. Elements in the figures are illustrated for simplicity and clarity and have not necessarily been drawn to scale. Like reference numerals have been included in the respective drawings to ease understanding.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a known architecture of a temperature-stabilised RMS-to-DC converter that uses wide-band, matched squaring circuits.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 2</figref> and <figref idref="DRAWINGS">FIG. 3</figref> illustrate a further known architecture of a squaring circuit.</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a simplified example block diagram of a wireless communication unit capable of being adapted to support examples of the invention.</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a simplified example block diagram of a RF down-conversion circuit and DBB processor capable of being adapted to support examples of the invention.</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 6</figref> illustrates a simplified example block diagram of a squaring circuit adapted to support examples of the invention.</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 7</figref> illustrates an example squaring circuit capable of being adapted to support examples of the invention.</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 8</figref> illustrates an example flowchart of calibrating a power detector to support examples of the invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0041" num="0040">Examples of the invention will be described in terms of an integrated circuit for a wireless communication unit and method of power detection calibration therefor. However, it will be appreciated by a skilled artisan that the inventive concept herein described may be embodied in any type of architecture or circuit, and need not be limited to an integrated circuit or wireless communication unit, per se. In a number of applications, the adaptation of a radio frequency (RF) power detector with one or more integrated field effect transistor (FET) squaring circuit(s), filtering, averaging and a square root function operationally may combine to determine a root mean square (RMS) input voltage level; and therefore an accurate measure of the input power.</p>
<p id="p-0042" num="0041">In accordance with some examples of the invention, a squaring circuit comprising a first differential input port and a second differential input port for receiving a differential input signal and a first differential output port and a second differential output port for outputting a differential output signal. The squaring circuit comprises a first set of current mode triplet metal oxide semiconductor (MOS) devices comprising a first MOS device, a second MOS device and a third MOS device, each of the first MOS device, second MOS device and third MOS device having a source operably coupled to a first current source, wherein the drain of the first MOS device is operably coupled to a first supply, the drain of the second MOS device is operably coupled to the first differential output port and a drain of the third MOS device is operably coupled to the second differential output port. The squaring circuit further comprises a second set of current mode triplet metal oxide semiconductor (MOS) devices comprising a fourth MOS device, a fifth MOS device and a sixth MOS device, each of the fourth MOS device, fifth MOS device and sixth MOS device having a source operably coupled to a second current source, wherein the drain of the fourth MOS device is operably coupled to the first supply, the drain of the fifth MOS device is operably coupled to the first differential output port and a drain of the sixth MOS device is operably coupled to the second differential output port. The gate of each of the first MOS device, second MOS device and sixth MOS device is connected to a first differential input port and the gate of each of the third MOS device, fourth MOS device and fifth MOS device is connected to a second differential input port such that the differential output current observed at the first differential output and second differential output is proportional to the differential input voltage squared.</p>
<p id="p-0043" num="0042">In this manner, with sets of current mode triplet MOS devices coupled in this way, a FET squaring circuit is arranged to provide a highly accurate square-law transfer function over a wide range of frequencies. In accordance with some examples of the invention, the example FET wide-band squaring circuit may provide near constant gain for frequencies from DC to frequencies to beyond the RF signal under measurement. Thus, examples of the invention may calibrate a squaring circuit having a substantially constant gain response across frequency by applying one or more DC reference voltages to an input of the squaring circuit in order to produce calibrated data. In some examples a substantially constant gain response may encompass a gain with a variation of, say, less than 10% across a frequency range of interest of, say, 3 GHz. In some examples of the invention, an accuracy of &#x3c;0.5 dB tolerance has been achieved across this frequency range.</p>
<p id="p-0044" num="0043">In accordance with some examples of the invention, a power detection scheme may include a novel calibration stage that may overcome a need to design temperature stable gain and offsets of the squaring circuit and/or subsequent stages in the detector path. In some examples, the calibration stage may compensate for temperature variations of both gain &#x26; DC-offset levels, prior to each power measurement.</p>
<p id="p-0045" num="0044">Referring first to <figref idref="DRAWINGS">FIG. 4</figref>, an example block diagram of a wireless communication unit (in the context of the present invention described with reference to a mobile subscriber unit (mobile station (MS) or user equipment (UE, in 3rd generation partnership project (3GPP&#x2122;) parlance)), is shown, in accordance with an example embodiment of the invention. The wireless communication unit <b>400</b> contains an antenna <b>402</b> coupled to a duplex filter or antenna switch <b>404</b> that provides isolation between receive and transmit chains within the wireless communication unit <b>400</b>.</p>
<p id="p-0046" num="0045">The receiver chain, as known in the art, includes receiver front-end circuitry <b>406</b> (effectively providing reception, filtering and intermediate or base-band frequency conversion). The front-end circuitry <b>406</b> is serially coupled to a signal processor <b>408</b> (generally realised by a digital signal processor (DSP)). An output from the signal processor <b>408</b> is provided to a suitable output device <b>410</b>, such as a screen or flat panel display. The receiver chain is coupled to a controller <b>414</b> that maintains overall subscriber unit control. The controller <b>414</b> is also coupled to the signal processor <b>408</b>. The controller <b>414</b> is also coupled to (or comprises) a memory device <b>416</b> that selectively stores operating regimes, such as decoding/encoding functions, synchronisation patterns, code sequences, and the like. In accordance with some examples of the invention, the memory device <b>416</b> may be adapted to store information with regard to a relationship, for example in terms of one or more equations or voltage values of various circuit components or circuit elements in the feedback path, as later described.</p>
<p id="p-0047" num="0046">As regards the transmit chain, this essentially includes an input device <b>420</b>, such as a keypad, coupled in series through the signal processor <b>408</b> and transmitter/modulation circuitry <b>422</b> (that may include up-conversion circuitry and amplifier and filtering stages) and a power amplifier <b>424</b> to the antenna <b>402</b>. The transmitter/modulation circuitry <b>422</b> and the power amplifier <b>424</b> are operationally responsive to the controller <b>414</b>. The output of the power amplifier <b>424</b> is connected to a coupler <b>426</b>, coupled to a detector path <b>428</b> arranged to sample and feed back a portion of the signal output from the power amplifier <b>424</b>. The fed back signal is input to a radio frequency (RF) down-conversion circuit <b>440</b> to convert the sampled signal to base band and input the base band sampled signal to a digital base band (DBB) processor <b>445</b>. In this example embodiment, the RF down-conversion circuit <b>440</b> comprises a squaring block that outputs a baseband signal, where this baseband signal only contains the amplitude information of the RF signal for amplitude detection. The output of the DBB processor <b>445</b> can be input to either the signal processor <b>408</b> (for further processing of the signal or results therefrom) as shown, or input to the transmitter/modulation circuitry <b>422</b> to facilitate control of, say, gain and/or phase-shift stages to set a transmit power level or transmit linearity of signals to be radiated from the antenna <b>402</b> and/or output from the power amplifier <b>424</b>.</p>
<p id="p-0048" num="0047">The signal processor in the transmit chain may be implemented as distinct from a different signal processor in the receive chain. Alternatively, a single processor may be used to implement processing of both transmit and receive signals, as shown in <figref idref="DRAWINGS">FIG. 4</figref>. Clearly, the various components within the wireless communication unit <b>400</b> can be realised in discrete or integrated component form, with an ultimate structure therefore being merely an application-specific or design selection.</p>
<p id="p-0049" num="0048">In accordance with examples of the invention, the RF down-conversion circuit <b>440</b> and DBB processor <b>445</b> have been adapted to down convert the sampled fed-back portion of the signal output from the power amplifier <b>424</b> and digitally process the sample to calculate the RMS input voltage; and therefore Input Power.</p>
<p id="p-0050" num="0049">In accordance with some example embodiments, only one (room-temperature) factory-calibration is required for each frequency band supported by the radio frequency transceiver (communication unit/RF IC) in order to establish the fixed losses in the detector signal path <b>428</b> from the PA output to a squaring-circuit input.</p>
<p id="p-0051" num="0050">In some example embodiments, and referring now to the example feedback circuit <b>500</b> of <figref idref="DRAWINGS">FIG. 5</figref>, the power-detector feedback path <b>428</b> of <figref idref="DRAWINGS">FIG. 4</figref> may be partitioned between a radio frequency (RF) transceiver Integrated Circuit (IC)/chip down-conversion circuit <b>440</b>, and a Digital Base-Band (DBB) processor Integrated Circuit (IC)/chip <b>445</b>. In alternative example embodiments, the power-detector feedback path <b>428</b> of <figref idref="DRAWINGS">FIG. 4</figref> may be performed in a single chip or may be partitioned in some other way. The RF transceiver IC <b>440</b> comprises the power-detector feedback path <b>428</b> feeding the feedback signal RFin into a wide-band squaring function (denoted by &#x2018;X<sup>2</sup>&#x2019;) <b>510</b>. The output of the wide-band squaring function is input to a low-pass filter (LPF) <b>515</b> to remove the high-frequency terms and the filtered signal is then applied to a fixed gain &#x26; temperature stable buffer <b>520</b> that scales the squared and filtered input signal for reasons of improving the SNR; e.g. it uses as much of the ADC input range as is practically possible. The output of the RF transceiver IC <b>440</b> comprises a measured output voltage V<sub>o </sub>and dc voltage V<sub>dc </sub><b>525</b>.</p>
<p id="p-0052" num="0051">The DBB IC <b>445</b> is arranged to perform the averaging (mean) and square root functions; the squaring having been performed in the RF transceiver. The DBB IC <b>445</b> receives the output from the RF transceiver IC <b>440</b> and comprises an analogue-to-digital converter (ADC) <b>530</b>, operably coupled to a mean-determination function/logic circuit, which in one example is a summing function (denoted by &#x2018;&#x3a3;&#x2019;) <b>535</b> followed by dividing logic (denoted by &#x2018;&#xf7;N&#x2019;) <b>540</b>. In the example embodiment the ADC function used for the power detector is arranged to re-use the receive signal path ADC (within block <b>406</b>). This approach is possible in time division duplex (TDD) systems and saves an additional ADC. In alternative embodiments, it is possible to use a separate ADC component for the power detector function. The output from the mean-determination function/logic circuit is provided to a square-root function (denoted by &#x2018;&#x221a;{square root over (X)}&#x2019;) <b>545</b> to produce a digital representation of the power amplified signal (e.g. output from power amplifier <b>424</b> of <figref idref="DRAWINGS">FIG. 4</figref>). In this manner, the DBB IC <b>445</b> is used to convert an analogue output of the filtered squaring-path <b>525</b> to a digital domain, prior to calculating the equivalent input power in signal processor <b>408</b> of <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0053" num="0052">In some examples, the wide-band squaring function <b>510</b> and associated filtering <b>515</b> create a low-frequency (squared) representation of the RF signal envelope; to be employed in the RMS detector measurement. The low-frequency signal is subsequently processed using, for example, a digital signal processor (DSP), or dedicated averaging &#x26; square-root function <b>535</b>, <b>540</b>, in order to determine the RMS value of the original input signal/input power.</p>
<p id="p-0054" num="0053">In some examples, a calibration scheme as illustrated in <figref idref="DRAWINGS">FIG. 6</figref>, combined with the wide-band squaring circuit <b>510</b> of <figref idref="DRAWINGS">FIG. 5</figref> may be arranged to compensate for significant signal path gain and offset variations with temperature. In this manner, the need for rigorous temperature compensated biasing is advantageously removed, which, in turn, simplifies the complexity of the RMS detection path circuitry in, for example, DBB IC <b>445</b>. In some examples, the calibration reference signal comprises one or more DC voltages, such as a zero volt and a known non-zero DC voltage.</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 6</figref> illustrates a simplified example block diagram of an integrated circuit <b>600</b> comprising a wide-band squaring circuit <b>510</b> adapted to support examples of the invention. The wide-band squaring circuit <b>510</b> comprises a temperature stable buffer (denoted by &#x2018;A<sub>in</sub>&#x2019;) <b>605</b> arranged to receive, for example, the power-detector feedback path <b>428</b> of <figref idref="DRAWINGS">FIG. 4</figref> providing the feedback signal into the wide-band squaring function <b>510</b>, which in turn provides an output to an offset and gain calibration control circuit <b>610</b>. In addition to providing temperature stable gain, the input buffer provides a high level of isolation from the coupler path; specifically during the calibration phases. Although the gain and isolation of this buffer are employed in this example embodiment, it is contemplated that in other applications, for example in other systems, the buffer may not be required. In accordance with examples of the invention, the offset and gain calibration control circuit <b>610</b> is configured as a differential arrangement, with the inputs comprising the output from the temperature stable buffer <b>605</b> and a second stable power supply, for example ground. In this example, the offset and gain calibration control circuit <b>610</b> outputs are connected to the differential input of the squaring circuit. A main aspect of the squaring circuit with a differential input circuit stage is that the squaring function is insensitive to any common-mode signal input that may be present on the input bias voltage; being common to both inputs of the squaring circuit. In one example, the differential arrangement of the offset and gain calibration control circuit <b>610</b> is configured with low voltage headroom requirements, for example &#x2266;1.35V operation. The offset and gain calibration control circuit <b>610</b> outputs a differential signal, i.e. first signal <b>615</b> and second signal <b>620</b> (from which the differential therebetween can be determined) to a wideband large-signal voltage squarer (denoted by &#x2018;A.X<sup>2</sup>&#x2019;) <b>625</b>, which in turn outputs a squared representation of the feedback signal to low-pass filter <b>515</b>. In one example of the wideband large-signal voltage squarer <b>625</b>, a simple circuit design may be employed to provide a wideband frequency response from DC to several GHZ, as illustrated in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0056" num="0055">Referring now to <figref idref="DRAWINGS">FIG. 7</figref>, an example squaring circuit <b>625</b> that is capable of being adapted to support examples of the invention is illustrated. <figref idref="DRAWINGS">FIG. 7</figref> illustrates one example circuit. The example circuit comprises two sets of triplet MOS devices, i.e. first set of triplet MOS devices <b>705</b> and second set of triplet MOS devices <b>710</b>, which functions as a true squaring circuit and this particular triplet configuration of devices <b>710</b>, although it may appear similar to a mixer core, actually realises an &#x2018;un-conditional&#x2019; Square-Law and is different to any published circuit configuration. For example the topology shown as prior-art in <figref idref="DRAWINGS">FIG. 3</figref> requires four current sources, each connected to the tail of a FET differential pair, having substantially different device sizes. Within each differential pair the larger device has its drain connected to the positive supply and the drain of the smaller device connects to one of the two circuit outputs. In the exemplary circuit there are only two current sources where each connects to the sources of three FET having similar sizes.</p>
<p id="p-0057" num="0056">The exemplary design does not make approximations and the square law characteristic is limited only by the same non-idealities of the MOS transistors, which cause the voltage-to-current characteristic to deviate from that described by equation [6] below. Thus, and advantageously in this exemplary design, the triplet MOS devices do not need to be large to achieve an ideal square-law; thereby saving current and area compared to the known prior art of <figref idref="DRAWINGS">FIG. 2</figref> and <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0058" num="0057">The inventors of the present invention have determined that a circuit with similar size devices in sets of triplets <b>705</b> &#x26; <b>710</b> as shown, provides a good agreement to a square law response. In some example embodiments, the circuit may be configured with N=1, which works equally well. In this specific example, the circuit is configured with N=2 as it may allow more output gain whilst meeting a particular power budget. In essence, increasing &#x2018;N&#x2019; increases the standing current in the supply connected devices. However, increasing &#x2018;N&#x2019; does not increase the Gain by N-times; since Gain or Iout_diff is proportional to &#x201c;N/(N+2)&#x201d;, for fixed K. Conversely, in other examples, the circuit may be configured with N=&#xbd; or &#xbc;, and, thus, any scaling value of &#x2018;N&#x2019; may be used.</p>
<p id="p-0059" num="0058">Hence, when applied in a differential mode arrangement, the circuit shown in <figref idref="DRAWINGS">FIG. 7</figref> is ideally suited to function as a squarer module in a feedback path, such as the feedback path <b>418</b> of <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0060" num="0059">As illustrated in graph <b>715</b>, subsequent mathematical analysis, based on an expression for the trans-conductance of a saturated MOS device, confirms that the circuit advantageously provides an unconditional square law, which is thus limited only by the square law characteristic of the MOS devices.</p>
<p id="p-0061" num="0060">In some examples, the simple and differential current-mode circuit configuration has the advantage of low parasitic capacitance and therefore wide-bandwidth. In some examples, the use of six similar-sized MOS devices makes the circuit suitable for a low voltage headroom. Thus, unlike a Gilbert-cell Multiplier the signal squaring core all operate at the same common-mode voltage, as there are no stacked signal-handling transistors. In this manner, the supply headroom may be configured to support only the &#x2018;current-sources&#x2019;, &#x2018;active squaring core&#x2019; and output load.</p>
<p id="p-0062" num="0061">The prior art is known to suffer from a sensitivity to DC offsets at the error node, which limits the functional dynamic range of the circuit and/or increases the complexity of the circuit by employing auto-zero offsets. In contrast, example circuit of the invention has the same level of DC offsets but is advantageously configured such that the circuit is relatively insensitive to DC offsets that can be easily calibrated out.</p>
<p id="p-0063" num="0062">The prior art circuit of <figref idref="DRAWINGS">FIG. 1</figref> also suffers from output noise of the &#x2018;closed-loop detector&#x2019;, which is strongly dependent upon input signal level, thereby again limiting the dynamic range at lower input levels. More specifically with the closed loop architecture the output noise is dependent on input signal level; being particularly poor for small input levels. In contrast, example embodiments of the squarer circuit utilises an open-loop architecture with fewer components and therefore less noise. The example embodiments of the squarer circuit is only limited by a fixed output noise; being independent of input signal level.</p>
<p id="p-0064" num="0063">In examples of the invention, accurate determination of the instantaneous &#x2018;squaring-gain&#x2019; allows the input RMS voltage, and therefore the input power, to be calculated independent of temperature.</p>
<p id="p-0065" num="0064">In <figref idref="DRAWINGS">FIG. 7</figref>, equal tail currents, I, provide the bias to each set of current mode triplets. The DC currents are shared between the devices according to the device size ratios. If the smallest unit MOS device has stripe width, W and stripe length, L, then the static device current under zero volt DC or equal input static conditions (where +V=&#x2212;V), is described by [6]. Also the devices having size multipliers of N will be biased at a current that is N-times greater.</p>
<p id="p-0066" num="0065">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>I</mi>
          <msub>
            <mi>D</mi>
            <mn>0</mn>
          </msub>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mi>K</mi>
            <mn>2</mn>
          </mfrac>
          <mo>&#xb7;</mo>
          <mrow>
            <mo>(</mo>
            <mfrac>
              <mi>W</mi>
              <mi>L</mi>
            </mfrac>
            <mo>)</mo>
          </mrow>
          <mo>&#xb7;</mo>
          <msup>
            <mrow>
              <mo>(</mo>
              <mrow>
                <msub>
                  <mi>V</mi>
                  <msub>
                    <mi>GS</mi>
                    <mn>0</mn>
                  </msub>
                </msub>
                <mo>-</mo>
                <msub>
                  <mi>V</mi>
                  <mi>T</mi>
                </msub>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mn>2</mn>
          </msup>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>[</mo>
        <mn>6</mn>
        <mo>]</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0067" num="0066">Where, K=&#x3bc;<sub>0</sub>&#xb7;C<sub>OX </sub></p>
<p id="p-0068" num="0067">&#x3bc;<sub>0 </sub>represents the carrier mobility, C<sub>OX </sub>the gate capacitance per unit area and V<sub>T </sub>is the threshold voltage of the MOS transistor.</p>
<p id="p-0069" num="0068">Similarly the above equation can be re-written as:</p>
<p id="p-0070" num="0069">
<maths id="MATH-US-00006" num="00006">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>I</mi>
          <msub>
            <mi>D</mi>
            <mn>0</mn>
          </msub>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mi>K</mi>
            <mn>2</mn>
          </mfrac>
          <mo>&#xb7;</mo>
          <mrow>
            <mo>(</mo>
            <mfrac>
              <mi>W</mi>
              <mi>L</mi>
            </mfrac>
            <mo>)</mo>
          </mrow>
          <mo>&#xb7;</mo>
          <msup>
            <mrow>
              <mo>(</mo>
              <msub>
                <mi>V</mi>
                <msub>
                  <mi>OV</mi>
                  <mn>0</mn>
                </msub>
              </msub>
              <mo>)</mo>
            </mrow>
            <mn>2</mn>
          </msup>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>[</mo>
        <mn>7</mn>
        <mo>]</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0071" num="0070">Where, V<sub>OV</sub><sub><sub2>0</sub2></sub>=(V<sub>GS</sub><sub><sub2>0</sub2></sub>&#x2212;V<sub>T</sub>)|<sub>[+V]=[&#x2212;V]</sub></p>
<p id="p-0072" num="0071">On applying a differential input voltage the current is steered between the transistors within each set of MOS triplet devices <b>705</b> and <b>710</b>. The resulting differential output current is equally described by the following expressions in equations [8]-[11]:</p>
<p id="p-0073" num="0072">If the differential input voltage is expressed as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>in</sub>=([+<i>V]&#x2212;[&#x2212;V</i>])&#x2003;&#x2003;[8]<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0074" num="0073">and the differential output current is expressed as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>I</i><sub>out</sub>=(<i>I</i><sub>oa</sub><i>&#x2212;I</i><sub>ob</sub>)&#x2003;&#x2003;[9]<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0075" num="0074">the squaring transfer characteristic can be expressed in several ways, for example:</p>
<p id="p-0076" num="0075">
<maths id="MATH-US-00007" num="00007">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>I</mi>
            <mi>out</mi>
          </msub>
          <mo>=</mo>
          <mrow>
            <mrow>
              <mo>{</mo>
              <mrow>
                <mrow>
                  <mo>(</mo>
                  <mfrac>
                    <mi>W</mi>
                    <mi>L</mi>
                  </mfrac>
                  <mo>)</mo>
                </mrow>
                <mo>&#xb7;</mo>
                <mfrac>
                  <mrow>
                    <mi>N</mi>
                    <mo>&#xb7;</mo>
                    <mi>K</mi>
                  </mrow>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>N</mi>
                      <mo>+</mo>
                      <mn>2</mn>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mfrac>
              </mrow>
              <mo>}</mo>
            </mrow>
            <mo>.</mo>
            <msubsup>
              <mi>V</mi>
              <mrow>
                <mi>i</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mi>n</mi>
              </mrow>
              <mn>2</mn>
            </msubsup>
          </mrow>
        </mrow>
        <mo>&#x2062;</mo>
        <mstyle>
          <mtext>
</mtext>
        </mstyle>
        <mo>&#x2062;</mo>
        <mi>and</mi>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>[</mo>
        <mn>10</mn>
        <mo>]</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>I</mi>
          <mi>out</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mo>{</mo>
            <mfrac>
              <mrow>
                <mn>2.</mn>
                <mo>&#x2062;</mo>
                <mrow>
                  <mi>N</mi>
                  <mo>.</mo>
                  <mi>I</mi>
                </mrow>
              </mrow>
              <mrow>
                <msubsup>
                  <mi>V</mi>
                  <msub>
                    <mi>OV</mi>
                    <mn>0</mn>
                  </msub>
                  <mn>2</mn>
                </msubsup>
                <mo>.</mo>
                <msup>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>N</mi>
                      <mo>+</mo>
                      <mn>2</mn>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                  <mn>2</mn>
                </msup>
              </mrow>
            </mfrac>
            <mo>}</mo>
          </mrow>
          <mo>.</mo>
          <msubsup>
            <mi>V</mi>
            <mrow>
              <mi>i</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>n</mi>
            </mrow>
            <mn>2</mn>
          </msubsup>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>[</mo>
        <mn>11</mn>
        <mo>]</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0077" num="0076">Where, &#x2018;I&#x2019; represents the tail current in each of the two current sources of <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0078" num="0077">The previous analysis assumed an ideal (V&#x2192;I) square law for the saturated MOS devices and predicts a large signal output square law. Notably, the prediction is totally compliant to equation [12] below:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>I</i><sub>out</sub><i>=A.V</i><sub>in</sub><sup>2</sup>&#x2003;&#x2003;[12]<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where: &#x2018;A&#x2019; is the squaring-gain.
</p>
<p id="p-0079" num="0078">A skilled artisan will appreciate that in other applications, alternative functions/circuits/devices and/or other techniques may be used.</p>
<p id="p-0080" num="0079">In existing power detector calibration techniques, it is known that the squaring circuit gain &#x26; DC-offsets are both highly temperature dependent. To address this problem, it is common in known power detection architectures to design complex circuits that include temperature compensation, which are required to maintain high accuracy of the power detection measurement over a wide range of operating conditions, such as a wide temperature range.</p>
<p id="p-0081" num="0080">The proposed calibration scheme, together with the proposed wide-band squaring circuit, compensates for significant signal path gain and offset variations with temperature. The need for rigorous temperature compensated biasing is removed which, in turn, simplifies the complexity of the detection path circuitry.</p>
<p id="p-0082" num="0081">Referring now to <figref idref="DRAWINGS">FIG. 8</figref>, a flowchart <b>800</b> illustrates an example method of calibrating a power detector. Although, in one example, the power detector calibration method of <figref idref="DRAWINGS">FIG. 8</figref> is described with respect to a fully differential squaring circuit, in other examples the method may be applied to a single-ended squaring circuit. In example embodiments of the present invention, the signal path Gain (A<sub>in</sub>), prior to the squaring circuit input, is designed to be insensitive to temperature &#x26; frequency, since this gain cannot be compensated for. However, in example embodiments of the present invention, it is also known that the square Law gain factor, &#x2018;A&#x2019;, is constant over the input signal range. It is also known that the value of &#x2018;A&#x2019;, calculated from a DC calibration routine, is the same as the value of &#x2018;A&#x2019; at radio frequencies, thus the method may be applied for calibrating a squaring circuit having a substantially constant frequency response gain from DC to radio frequencies.</p>
<p id="p-0083" num="0082">In one example of the present invention, the Calibration procedure in <figref idref="DRAWINGS">FIG. 8</figref> may be employed during a power measurement, which advantageously compensates for such temperature variations in, and subsequent to, the squaring circuit. In one example embodiment, and in order to meet the required power measurement accuracy over the specified temperature range, a DC Offset &#x26; Gain calibration/measurement is sequenced at the beginning of each power measurement, to calculate/calibrate, for example, an instantaneous gain or offset of an open-loop detector path, such as detector path <b>428</b> of <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0084" num="0083">By performing a power detection open-loop calibration-phase measurement, an accurate determination of the instantaneous squaring gain can be made. Thereafter, by determining average output voltages during an open-loop measurement-phase, and applying a previously determined relationship between the respective measured values through the calibration-phase, for example as indicated in equations [8]-[11] above, it is possible to calculate the input RMS voltage; and therefore the input power. Advantageously, the calculation (measurement) result is largely independent of temperature.</p>
<p id="p-0085" num="0084">Hence, in one example, the method of calibrating a power detector starts at step <b>805</b> and moves on to step <b>810</b> whereby a transmit signal that is routed through the transmitter chain is initiated and a portion thereof sampled and routed along a detector feedback path, such as detector feedback path <b>428</b> of <figref idref="DRAWINGS">FIG. 4</figref>, which comprises a squaring circuit, such as squaring circuit <b>625</b> of <figref idref="DRAWINGS">FIG. 6</figref> and <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0086" num="0085">The proposed method involves, predominantly, a two-step process. A first &#x2018;calibration&#x2019; comprises shorting the squaring circuit differential inputs (V<sub>in</sub>=0V), as in step <b>815</b> and the output offset voltage V<sub>DC </sub>of the squaring circuit measured, as shown in step <b>820</b>. Thereafter, a known (internal) input voltage V<sub>in0 </sub>is applied to the squaring circuit, such as V<sub>in0</sub>=125 mV, as in step <b>825</b>, and the output voltage V<sub>o0 </sub>of the squaring circuit measured, as shown in step <b>830</b>. A relationship between the various values is then extracted in step <b>835</b> from, say, a memory element, such as memory <b>418</b> of <figref idref="DRAWINGS">FIG. 4</figref>. In the illustrated example, the relationship is shown in equation [13] below:</p>
<p id="p-0087" num="0086">
<maths id="MATH-US-00008" num="00008">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>A</mi>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <mo>(</mo>
            <mrow>
              <msub>
                <mi>V</mi>
                <mrow>
                  <mi>o</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mn>0</mn>
                </mrow>
              </msub>
              <mo>-</mo>
              <msub>
                <mi>V</mi>
                <mrow>
                  <mi>D</mi>
                  <mo>&#x2062;</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mi>C</mi>
                </mrow>
              </msub>
            </mrow>
            <mo>)</mo>
          </mrow>
          <msubsup>
            <mi>V</mi>
            <mrow>
              <mi>i</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mi>n</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mn>0</mn>
            </mrow>
            <mn>2</mn>
          </msubsup>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>[</mo>
        <mn>13</mn>
        <mo>]</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0088" num="0087">The measured and forced values are then applied, in step <b>840</b>, with the extracted knowledge of the relationship between [V<sub>o0</sub>, V<sub>DC </sub>&#x26; V<sub>in0</sub>] in order to calculate the squaring gain factor, &#x2018;A&#x2019;, using equation [13].</p>
<p id="p-0089" num="0088">A second measurement-phase is then employed, which uses the results of the calibration phase. In this second measurement-phase, the calculated values for &#x2018;A&#x2019; and V<sub>DC </sub>are then applied, in step <b>845</b>, to the sampled output signal data [V<sub>on</sub>] in order to calculate the RMS signal value. In some examples, the sampled values are taken during a number, of transmission bursts. In some examples, the application of the calculated value for &#x2018;A&#x2019; may use, for example, equation [14] below, as follows:</p>
<p id="p-0090" num="0089">
<maths id="MATH-US-00009" num="00009">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>V</mi>
          <mi>rms</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <msqrt>
            <mrow>
              <mi>mean</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <msubsup>
                  <mi>V</mi>
                  <mrow>
                    <mi>i</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>n</mi>
                  </mrow>
                  <mn>2</mn>
                </msubsup>
                <mo>)</mo>
              </mrow>
            </mrow>
          </msqrt>
          <mo>=</mo>
          <msqrt>
            <mrow>
              <mfrac>
                <mn>1</mn>
                <mi>N</mi>
              </mfrac>
              <mo>[</mo>
              <mrow>
                <munderover>
                  <mo>&#x2211;</mo>
                  <mrow>
                    <mi>n</mi>
                    <mo>=</mo>
                    <mn>1</mn>
                  </mrow>
                  <mi>N</mi>
                </munderover>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mfrac>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>V</mi>
                        <msub>
                          <mi>o</mi>
                          <mi>n</mi>
                        </msub>
                      </msub>
                      <mo>-</mo>
                      <msub>
                        <mi>V</mi>
                        <mrow>
                          <mi>D</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mi>C</mi>
                        </mrow>
                      </msub>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                  <mi>A</mi>
                </mfrac>
              </mrow>
              <mo>]</mo>
            </mrow>
          </msqrt>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>[</mo>
        <mn>14</mn>
        <mo>]</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0091" num="0090">Where:</p>
<p id="p-0092" num="0091">A: Gain Factor</p>
<p id="p-0093" num="0092">V<sub>in</sub>: Input Voltage</p>
<p id="p-0094" num="0093">V<sub>o</sub>: Output Voltage</p>
<p id="p-0095" num="0094">V<sub>DC</sub>: DC Offset Voltage</p>
<p id="p-0096" num="0095">Although aspects of the invention have been described with reference to using equation [13] and equation [14] for the calibration of the power detector, it is envisaged that in other implementations, such as an alternative squaring module circuit to that illustrated in <figref idref="DRAWINGS">FIG. 7</figref>, one or more different equations may be used, dependent upon the circuit layout and components used therein.</p>
<p id="p-0097" num="0096">In some examples, some or all of the steps illustrated in the flowchart of <figref idref="DRAWINGS">FIG. 8</figref> may be implemented in hardware and/or some or all of the steps illustrated in the flowchart may be implemented in software.</p>
<p id="p-0098" num="0097">Although examples of the invention have been described with reference to an RF power detector employed in an RF transmit IC, it is envisaged that the inventive concept may be applied in alternative power detector applications that are not necessarily limited to a radio frequency power detector and/or an IC-based implementation. Although examples of the invention have been described with reference to a FET-based squaring circuit implementation, it is envisaged that the inventive concept may be applied in alternative, non FET-based, power detector/squaring circuit applications.</p>
<p id="p-0099" num="0098">Thus, the hereinbefore examples provide a circuit, for example an integrated circuit, comprising an RF power detector, an apparatus, for example a wireless communication unit adapted for performing power detection and a method for power detection. In particular, the hereinbefore examples of apparatus and methods are capable of RF power detection using integrated field effect transistor (FET) squaring circuit, filtering, averaging and a square root function that combine to determine the RMS input voltage; and therefore an accurate measure of the input power.</p>
<p id="p-0100" num="0099">In one example, a power detection method includes a novel calibration stage, which overcomes a need to design temperature stable gain and offsets of the squaring circuit and subsequent stages in the detector path. The calibration stage may also compensate for temperature variations of both gain &#x26; DC-offset, prior to each power measurement. In one example, the wideband (FET-based) squaring circuit may provide a highly accurate square-law transfer function over a wide range of frequencies. In some examples, the wide-band squaring circuit may provide &#x2018;near constant gain&#x2019; for frequencies from DC to frequencies beyond the RF signal under measurement. In some examples of the present invention, a squaring signal path and associated filtering may create a low-frequency (squared) representation of the RF signal envelope, which is subsequently processed using a digital signal processor (DSP), or dedicated averaging &#x26; a square-root function, in order to determine the RMS value of the original input signal.</p>
<p id="p-0101" num="0100">In particular, it is envisaged that the aforementioned inventive concept can be applied by a semiconductor manufacturer to any integrated circuit comprising a power detector. Furthermore, it is further envisaged that, for example, the inventive concept may be applied by a semiconductor manufacturer in a design of a stand-alone power detector device, or application-specific integrated circuit (ASIC) and/or any other sub-system element.</p>
<p id="p-0102" num="0101">It will be appreciated that, for clarity purposes, the above description has described embodiments of the invention with reference to different functional units and processors. However, it will be apparent that any suitable distribution of functionality between different functional units or processors, for example with respect to the squaring circuit may be used without detracting from the invention. For example, functionality illustrated to be performed by separate processors or controllers may be performed by the same processor or controller. Hence, references to specific functional units are only to be seen as references to suitable means for providing the described functionality, rather than indicative of a strict logical or physical structure or organization.</p>
<p id="p-0103" num="0102">Aspects of the invention may be implemented in any suitable form including hardware, software, firmware or any combination of these. The invention may optionally be implemented, at least partly, as computer software running on one or more data processors and/or digital signal processors or configurable module components such as field programmable gate array (FPGA) devices. Thus, the elements and components of an embodiment of the invention may be physically, functionally and logically implemented in any suitable way. Indeed, the functionality may be implemented in a single unit, in a plurality of units or as part of other functional units.</p>
<p id="p-0104" num="0103">Although the present invention has been described in connection with some embodiments, it is not intended to be limited to the specific form set forth herein. Rather, the scope of the present invention is limited only by the accompanying claims. Additionally, although a feature may appear to be described in connection with particular embodiments, one skilled in the art would recognize that various features of the described embodiments may be combined in accordance with the invention. In the claims, the term &#x2018;comprising&#x2019; does not exclude the presence of other elements or steps.</p>
<p id="p-0105" num="0104">Furthermore, although individually listed, a plurality of means, elements or method steps may be implemented by, for example, a single unit or processor. Additionally, although individual features may be included in different claims, these may possibly be advantageously combined, and the inclusion in different claims does not imply that a combination of features is not feasible and/or advantageous. Also, the inclusion of a feature in one category of claims does not imply a limitation to this category, but rather indicates that the feature is equally applicable to other claim categories, as appropriate.</p>
<p id="p-0106" num="0105">Furthermore, the order of features in the claims does not imply any specific order in which the features must be performed and in particular the order of individual steps in a method claim does not imply that the steps must be performed in this order. Rather, the steps may be performed in any suitable order. In addition, singular references do not exclude a plurality. Thus, references to &#x2018;a&#x2019;, &#x2018;an&#x2019;, &#x2018;first&#x2019;, &#x2018;second&#x2019;, etc., do not preclude a plurality.</p>
<p id="p-0107" num="0106">Thus, an improved circuit, for example an integrated circuit, comprising an RF power detector, an apparatus, for example a wireless communication unit adapted for performing power detection and a method for power detection have been described, wherein the aforementioned disadvantages with prior art arrangements have been substantially alleviated.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08624657-20140107-M00001.NB">
<img id="EMI-M00001" he="6.35mm" wi="76.20mm" file="US08624657-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08624657-20140107-M00002.NB">
<img id="EMI-M00002" he="6.69mm" wi="76.20mm" file="US08624657-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08624657-20140107-M00003.NB">
<img id="EMI-M00003" he="6.69mm" wi="76.20mm" file="US08624657-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08624657-20140107-M00004.NB">
<img id="EMI-M00004" he="6.69mm" wi="76.20mm" file="US08624657-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US08624657-20140107-M00005.NB">
<img id="EMI-M00005" he="6.35mm" wi="76.20mm" file="US08624657-20140107-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00006" nb-file="US08624657-20140107-M00006.NB">
<img id="EMI-M00006" he="6.35mm" wi="76.20mm" file="US08624657-20140107-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00007" nb-file="US08624657-20140107-M00007.NB">
<img id="EMI-M00007" he="20.15mm" wi="76.20mm" file="US08624657-20140107-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00008" nb-file="US08624657-20140107-M00008.NB">
<img id="EMI-M00008" he="7.03mm" wi="76.20mm" file="US08624657-20140107-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00009" nb-file="US08624657-20140107-M00009.NB">
<img id="EMI-M00009" he="12.02mm" wi="76.20mm" file="US08624657-20140107-M00009.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A squaring circuit comprising a first differential input port and a second differential input port for receiving a differential input signal and a first differential output port and a second differential output port for outputting a differential output signal, wherein the squaring circuit comprises:
<claim-text>a first set of current mode triplet metal oxide semiconductor (MOS) devices comprising a first MOS device, a second MOS device and a third MOS device, each of the first MOS device, second MOS device and third MOS device having a source operably coupled to a first current source, wherein the drain of the first MOS device is operably coupled to a first supply, the drain of the second MOS device is operably coupled to the first differential output port and a drain of the third MOS device is operably coupled to the second differential output port; and</claim-text>
<claim-text>a second set of current mode triplet metal oxide semiconductor (MOS) devices comprising a fourth MOS device, a fifth MOS device and a sixth MOS device, each of the fourth MOS device, fifth MOS device and sixth MOS device having a source operably coupled to a second current source, wherein the drain of the fourth MOS device is operably coupled to the first supply, the drain of the fifth MOS device is operably coupled to the first differential output port and a drain of the sixth MOS device is operably coupled to the second differential output port;</claim-text>
<claim-text>wherein the gate of each of the first MOS device, second MOS device and sixth MOS device is connected to a first differential input port and the gate of each of the third MOS device, fourth MOS device and fifth MOS device is connected to a second differential input port such that the differential output current observed at the first differential output and second differential output is proportional to the differential input voltage squared.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The squaring circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the first set of triplet metal oxide semiconductor (MOS) devices and the second set of triplet metal oxide semiconductor (MOS) devices are of substantially the same size.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The squaring circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the gate of one of the first set of current mode triplet MOS devices has a different track width to length ratio (W/L) to the gates of the other MOS devices from the first set of current mode triplet MOS devices and a gate of one of the second set of current mode triplet MOS devices has a different track width to length ratio (W/L) to the gates of the other MOS devices of the second set of current mode triplet MOS devices.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The squaring circuit of <claim-ref idref="CLM-00003">claim 3</claim-ref> wherein the gate of the first MOS device has a different track width to length ratio than that of the gates of the second MOS device and third MOS device, and a gate of the fourth MOS device has a different track width to length ratio than that of the gates of the fifth MOS device and sixth MOS device.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The squaring circuit of <claim-ref idref="CLM-00004">claim 4</claim-ref> wherein the track width to length ratio of a gate of the first MOS device is a factor (N-times) greater than that of the gates of the second MOS device and third MOS device, and a gate of the fourth MOS device has a track width to length ratio (N-times) greater than that of the gates of the fifth MOS device and sixth MOS device.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The squaring circuit of <claim-ref idref="CLM-00005">claim 5</claim-ref> wherein the factor (N) is less than, equal to, or greater than one.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The squaring circuit of <claim-ref idref="CLM-00003">claim 3</claim-ref> wherein the gates of the second, third, fifth and sixth MOS devices have substantially the same sizes and track width to length ratios.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The squaring circuit of <claim-ref idref="CLM-00003">claim 3</claim-ref> wherein the gate of one of the first set of current mode triplet MOS devices has a track width to length ratio (W/L) of substantially twice that of the gates of the other MOS devices from the first set of current mode triplet MOS devices and a gate of one of the second set of current mode triplet MOS devices has a track width to length ratio (W/L) of substantially twice that of the gates of the other MOS devices of the second set of current mode triplet MOS devices.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The squaring circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the squaring circuit further comprises an offset and gain calibration control circuit configured to provide calibration reference signals to the squaring circuit differential inputs.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The squaring circuit of <claim-ref idref="CLM-00009">claim 9</claim-ref> wherein the calibration reference signals comprises at least one from a group of: a zero volt and a known non-zero DC voltage, one or more DC voltages.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The squaring circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the squaring circuit exhibits substantially constant gain from DC to radio frequencies.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. An integrated circuit comprising the squaring circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The integrated circuit of <claim-ref idref="CLM-00012">claim 12</claim-ref> further comprising a temperature stable buffer operably coupled to an offset and gain calibration control circuit arranged to provide differential input signals to the squarer circuit, wherein the temperature stable buffer is configured to provide a buffered temperature stable signal to the offset and gain calibration control circuit.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. A wireless communication unit comprising the squaring circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The wireless communication unit of <claim-ref idref="CLM-00014">claim 14</claim-ref> further comprising a transmit path and a feedback path operably coupled to the transmit path and arranged to feed back a portion of a radio frequency (RF) transmit signal on the transmit path, wherein the feedback path comprises a temperature stable buffer operably coupled to an offset and gain calibration control circuit arranged to provide differential input feedback signals to the squarer circuit, wherein the temperature stable buffer is configured to provide a buffered temperature stable feedback signal to the offset and gain calibration control circuit.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The wireless communication unit of <claim-ref idref="CLM-00015">claim 15</claim-ref> further comprising an analogue-to-digital converter and a signal processor operably coupled to the analogue-to-digital converter and arranged to perform an averaging operation and square root calculation on the squared fed back signal to determine a root mean square (RMS) input voltage level.</claim-text>
</claim>
</claims>
</us-patent-grant>
