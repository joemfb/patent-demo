<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08627261-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08627261</doc-number>
<kind>B1</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13232281</doc-number>
<date>20110914</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>9</main-group>
<subgroup>455</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>17</main-group>
<subgroup>50</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>716133</main-classification>
<further-classification>716132</further-classification>
</classification-national>
<invention-title id="d2e43">Method and apparatus for performing automatic decoupling capacitor selection for power distribution networks</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>2001/0034587</doc-number>
<kind>A1</kind>
<name>Anderson et al.</name>
<date>20011000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>703  2</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2002/0169590</doc-number>
<kind>A1</kind>
<name>Smith et al.</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>703 18</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2012/0136598</doc-number>
<kind>A1</kind>
<name>Dmitriev-Zdorov</name>
<date>20120500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>702 65</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00004">
<othercit>Fizesan, Raul and Dan Pitica, &#x201c;Simulation for Power Integrity to Design a PCB for an Optimum Cost&#x201d;, Sep. 23-26, 2010, Design and Technology in Electronic Packaging (SIITME), 2010 IEEE 16th International Symposium for, pp. 141-146.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00005">
<othercit>Smith, Larry D. et al., &#x201c;Power Distribution System Design Methodology and Capacitor Selection for Modern CMOS Technology&#x201d;, Aug. 1999, Advanced Packaging, IEEE Transactions on, vol. 22 Issue 3, pp. 284-291.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
</us-references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>716133</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>10</number-of-drawing-sheets>
<number-of-figures>10</number-of-figures>
</figures>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Oishei</last-name>
<first-name>Andrew E.</first-name>
<address>
<city>San Diego</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Denisenko</last-name>
<first-name>Dmitry</first-name>
<address>
<city>Toronto</city>
<country>CA</country>
</address>
</addressbook>
<residence>
<country>CA</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Oishei</last-name>
<first-name>Andrew E.</first-name>
<address>
<city>San Diego</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Denisenko</last-name>
<first-name>Dmitry</first-name>
<address>
<city>Toronto</city>
<country>CA</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Cho</last-name>
<first-name>L.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Altera Corporation</orgname>
<role>02</role>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Dinh</last-name>
<first-name>Paul</first-name>
<department>2825</department>
</primary-examiner>
<assistant-examiner>
<last-name>Aisaka</last-name>
<first-name>Bryce</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method for designing a power distribution network (PDN) for a system implementing a target device includes computing a target PDN impedance value for the PDN. For each switching frequency of the target device where an effective PDN impedance value for the PDN is greater than the target PDN impedance value, one or more decoupling capacitors for one or more capacitor types are identified to add to the PDN to drive the effective PDN impedance value below the target PDN value. A selection of decoupling capacitors identified is refined to reduce one or more of a cost of the PDN and space required for implementing the PDN.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="168.23mm" wi="193.72mm" file="US08627261-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="224.37mm" wi="156.80mm" orientation="landscape" file="US08627261-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="246.46mm" wi="163.41mm" orientation="landscape" file="US08627261-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="233.60mm" wi="158.16mm" orientation="landscape" file="US08627261-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="226.31mm" wi="179.24mm" orientation="landscape" file="US08627261-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="226.06mm" wi="174.58mm" orientation="landscape" file="US08627261-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="201.68mm" wi="171.62mm" orientation="landscape" file="US08627261-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="145.29mm" wi="164.08mm" orientation="landscape" file="US08627261-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="197.70mm" wi="171.62mm" orientation="landscape" file="US08627261-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="193.72mm" wi="161.80mm" orientation="landscape" file="US08627261-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="219.46mm" wi="173.99mm" orientation="landscape" file="US08627261-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD</heading>
<p id="p-0002" num="0001">Embodiments of the present invention relate to tools for designing power distribution networks for systems on target devices. More specifically, embodiments of the present invention relate to a method and apparatus for performing automatic decoupling capacitor selection for power distribution networks (PDNs).</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">Target devices such as field programmable gate arrays (FPGAs), structured application specific integrated circuits (ASICs), and ASICs are used to implement large systems that may include million of gates and megabits of embedded memory. Switching activities of components in a target device put stress on a PDN supporting the target device. Target devices such as FPGAs do not consume power evenly. The changing states of logic and memory elements require the target device's PDN to supply more power than if the logic and memory elements were operating in a constant state. When a large number of logic and memory elements change state simultaneously, a large demand is placed on the PDN. Excessive voltage swings by the target device can lead to faulty operation of the target device.</p>
<p id="p-0004" num="0003">To avoid unacceptable voltage deviations, a PDN should be properly decoupled over switching frequencies of the target device. On-board capacitors typically operate to decouple the PDN over a range of switching frequencies that cannot be decoupled by on-die or on-package capacitors of the target device. These decoupling capacitors store electric charge. When extra current is required from a PDN, the decoupling capacitors may meet some of the demand by discharging.</p>
<p id="p-0005" num="0004">Current decoupling capacitor selection techniques require a designer to manually select the appropriate decoupling capacitors to add to a PDN. The iterative approach needed often requires a significant amount of time from the designer.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0006" num="0005">A method and apparatus for performing automatic decoupling capacitor selection for a power distribution network is disclosed. According to an embodiment of the present invention, board, package, die, system, and available capacitor parameters are provided to a computer aided design (CAD) tool to select decoupling capacitors. Decoupling capacitors are selected by the CAD tool to achieve one or more goals that may include reducing the space required for the decoupling capacitors on the board, and reducing the total cost for implementing the decoupling capacitors.</p>
<p id="p-0007" num="0006">According to an embodiment of the present invention, a target PDN impedance value for a PDN is computed. For each switching frequency of a target device where an effective PDN impedance value is greater than the target impedance value, decoupling capacitors are identified to add to the PDN to drive the effective PDN value below the target PDN value. The selection of decoupling capacitors identified is refined to reduce the cost of implementing the PDN and/or to reduce the space required for implementing the decoupling capacitors. Placement locations of the decoupling capacitors may also be determined.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0008" num="0007">The features and advantages of embodiments of the present invention are illustrated by way of example and are not intended to limit the scope of the embodiments of the present invention to the particular embodiments shown.</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a system where a power distribution network resides according to an exemplary embodiment of the present invention.</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 2</figref> illustrates an exemplary target device according to an embodiment of the present invention.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 3</figref> illustrates a model of an exemplary power distribution network according to an embodiment of the present invention.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 4</figref> is a plot illustrating an exemplary power distribution network's impedance characteristic when no decoupling capacitors are used according to an embodiment of the present invention.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 5</figref> is a plot illustrating the exemplary power distribution network's impedance characteristic using decoupling capacitors according to an embodiment of the present invention.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 6</figref> is a flow chart illustrating a method for selecting decoupling capacitors for a power distribution network according to an exemplary embodiment of the present invention.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 7</figref> is a flow chart illustrating a method for refining a selection of decoupling capacitors according to an exemplary embodiment of the present invention.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 8</figref> is a flow chart illustrating a method for placing decoupling capacitors according to an exemplary embodiment of the present invention.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 9</figref> illustrates a block diagram of a computer system implementing a system designer according to an embodiment of the present invention.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 10</figref> is a block diagram of a system designer according to an embodiment of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0019" num="0018">In the following description, for purposes of explanation, specific nomenclature is set forth to provide a thorough understanding of embodiments of the present invention. It will be apparent to one skilled in the art that specific details in the description may not be required to practice the embodiments of the present invention. In other instances, well-known circuits, devices, and programs are shown in block diagram form to avoid obscuring embodiments of the present invention unnecessarily.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a system <b>100</b> where a power distribution network (PDN) resides according to an exemplary embodiment of the present invention. The system includes a target device <b>110</b>. The target device <b>110</b> may be a circuit such as an FPGA, structured ASIC, ASIC, or other device. The target device <b>110</b> includes a die and an outer package and is coupled to board <b>120</b>. According to an embodiment of the present invention, board <b>120</b> is a printed circuit board. A PDN resides on the board <b>120</b> to provide power to the target device <b>110</b> and other components <b>130</b> coupled to the board <b>120</b>. The PDN may include a voltage regulator module (VRM) <b>140</b>, decoupling capacitors <b>150</b>, and vias and traces connecting the VRM to decoupling capacitors <b>150</b>. The PDN may also include components and interconnects on the package and die of the target device <b>110</b> and components <b>130</b> to distribute and regulate power.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 2</figref> illustrates an exemplary target device <b>200</b> according to an embodiment of the present invention. The target device <b>200</b> is a field programmable gate array (FPGA) that includes a plurality of logic-array blocks (LABs). Each LAB may be formed from a plurality of logic blocks, carry chains, LAB control signals, look up table (LUT) chain, and register chain connection lines. A logic block is a small unit of logic providing efficient implementation of user logic functions. A logic block includes one or more combinational cells, where each combinational cell has a single output, and registers. According to one embodiment of the present invention, the logic block may operate similarly to a logic element (LE), such as those found in the Stratix or Cyclone devices manufactured by Altera&#xae; Corporation, or a combinational logic block (CLB) such as those found in Virtex devices manufactured by Xilinx Inc. In this embodiment, the logic block may include a four input LUT with a configurable register. According to an alternate embodiment of the present invention, the logic block may operate similarly to an adaptive logic module (ALM), such as those found in Stratix devices manufactured by Altera Corporation. LABs are grouped into rows and columns across the device <b>200</b>. Columns of LABs are shown as <b>211</b>-<b>216</b>. It should be appreciated that the logic block may include additional or alternate components.</p>
<p id="p-0022" num="0021">The device <b>200</b> includes memory blocks. The memory blocks may be, for example, dual port random access memory (RAM) blocks that provide dedicated true dual-port, simple dual-port, or single port memory up to various bits wide at up to various frequencies. The memory blocks may be grouped into columns across the device in between selected LABs or located individually or in pairs within the device <b>200</b>. Columns of memory blocks are shown as <b>221</b>-<b>224</b>.</p>
<p id="p-0023" num="0022">The device <b>200</b> includes digital signal processing (DSP) blocks. The DSP blocks may be used to implement multipliers of various configurations with add or subtract features. The DSP blocks include shift registers, multipliers, adders, and accumulators. The DSP blocks may be grouped into columns across the device <b>200</b> and are shown as <b>231</b>.</p>
<p id="p-0024" num="0023">The device <b>200</b> includes a plurality of input/output elements (IOEs) <b>240</b>. Each IOE feeds an IO pin (not shown) on the device <b>200</b>. The IOEs <b>240</b> are located at the end of LAB rows and columns around the periphery of the device <b>200</b>. Each IOE may include a bidirectional IO buffer and a plurality of registers for registering input, output, and output-enable signals.</p>
<p id="p-0025" num="0024">The device <b>200</b> may include routing resources such as LAB local interconnect lines, row interconnect lines (&#x201c;H-type wires&#x201d;), and column interconnect lines (&#x201c;V-type wires&#x201d;) (not shown) to route signals between components on the target device.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 3</figref> illustrates a schematic of an exemplary PDN according to an embodiment of the present invention. The schematic of the PDN <b>300</b> includes a first section <b>310</b> that models properties on a board. The first section <b>310</b> includes a VRM <b>311</b> modeled by an inductor. The first section also includes a plurality of decoupling capacitors (PCB Caps) <b>314</b> each modeled by a resistor, capacitor, and inductor. The spreading resistance and inductance on the board plane (R_plane L_plane) are modeled by a resistor and inductor <b>312</b>. The resistance and inductance of vias on the board plane (R_via L_via) are modeled by a resistor and inductor <b>313</b>.</p>
<p id="p-0027" num="0026">The schematic of the PDN <b>300</b> includes a second section <b>320</b> that models properties of a package of a target device. The second section includes a plurality of decoupling capacitors (OPD Caps) each modeled by a resistor, capacitor, and inductor <b>321</b>. The second section also includes trace resistance and inductance on the package (Rp<b>1</b>-<b>3</b>, LP<b>1</b>-<b>3</b>) modeled by a resistor and inductor <b>322</b>-<b>324</b>.</p>
<p id="p-0028" num="0027">The schematic of the PDN <b>300</b> includes a third section <b>330</b> that models properties of a die of a target device. The third section <b>330</b> includes on die resistance (ODR) modeled by a resistor <b>331</b> and on die capacitance (ODC) modeled by a capacitor <b>332</b>.</p>
<p id="p-0029" num="0028">It should be appreciated that a system implementing a target device such as an FPGA may use a plurality of PDNs. Each PDN may serve different sections of the FPGA at different voltages. For example, the core logic (LABs) and memory blocks may use a different PDN than input/outputs elements (IOEs). Phase lock loops (PLLs) may use another PDN to ensure that noise generated by IOE switching does not affect the quality of the clock signal generated by the PLLs.</p>
<p id="p-0030" num="0029">The effective PDN impedance value, Zeffective, at a given frequency indicates how well a PDN responds to power demands of a system at that frequency. The lower the effective PDN impedance value is, the better the PDN responds. A target impedance value for a PDN, Ztarget, may be used to design a PDN that responds well to power demands of a system. According to an embodiment of the present invention, Ztarget may be computed by taking the ratio of a maximum allowable voltage swing of the components supported by the PDN and a maximum transient current that will be seen by the PDN. This relationship may be denoted as Ztarget=&#x394;V/&#x394;I.</p>
<p id="p-0031" num="0030">For some target devices, on-package and on-die decoupling capacitors can effectively respond to current demands with frequencies at approximately 50 MHz and higher. On-board voltage regulators can typically respond to current demands of approximately 100 KHz or lower. This typically leaves a range of frequencies to be handled by on-board decoupling capacitors. The high-end boundary of this range is referred to as the effective frequency, Feffective.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 4</figref> is a plot illustrating an exemplary power distribution network's impedance characteristic where no decoupling capacitors are used. The line labeled Zeffective <b>410</b> illustrates the effective PDN impedance value at each frequency. The line labeled Ztarget <b>420</b> illustrates the target impedance value for the PDN. In this example, Feffective is 30 MHz. As illustrated, the effective PDN impedance value exceeds the target impedance value at 200 KHz to the effective frequency of 30 MHz.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 5</figref> is a plot illustrating the exemplary power distribution network's impedance characteristic using decoupling capacitors. As illustrated, the effective PDN impedance value, illustrated by line <b>510</b>, is at or below the target impedance value for the PDN, illustrated by line <b>520</b>, up to the effective frequency of 30 MHz.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 6</figref> is a flow chart illustrating a method for selecting decoupling capacitors for a power distribution network according to an exemplary embodiment of the present invention. The procedure described in <figref idref="DRAWINGS">FIG. 6</figref> may be performed by an EDA tool. At <b>601</b>, the highest frequency at which board decoupling capacitors respond or affect the effective PDN impedance is computed (Feffective). According to an embodiment of the present invention, Feffective is computed based on properties of the die and package of the target device, and the inductive and capacitive values of the board. The target PDN impedance value (Ztarget) is also computed. According to an embodiment of the present invention, Ztarget may be computed by taking the ratio of a maximum allowable voltage swing of the components supported by the PDN (&#x394;V) and a maximum transient current that will be seen by the PDN (&#x394;I). The maximum allowable voltage swing of the components may be derived from a specification of the board, target device, and other components on the board. An estimation may be made as to how much power is required for the PDN. The estimation may take into account properties of the board which may be provided such as the resistive, inductive, and capacitive (RLC) properties of the power planes on the board, the RLC properties of vias on the board, the RLC properties of the voltage regulator module on the board, the spreading inductance effects on the board, and other properties. The estimation may also take into account properties of a target device such as an amount of logic used by a system implemented on the target device, a number of IOs used by the system implemented on the target device, which frequencies have switching activities, whether enable signals are used on the target device, and/or other information. According to an embodiment of the present invention, half of the estimated current value is designated as the maximum transient current seen by the PDN. It should be appreciated that other types of estimation and designations may be used for the maximum transient current.</p>
<p id="p-0035" num="0034">At <b>602</b>, the effective PDN impedance value (Zeffective) of the PDN is computed at frequencies up to Feffective. According to an embodiment of the present invention, the effective PDN impedance value may be computed analytically or be by using approximation methods. Alternatively, simulation may be used to compute Zeffective.</p>
<p id="p-0036" num="0035">At <b>603</b>, it is determined whether the effective PDN impedance value is less than or equal to the target PDN impedance value for all frequencies up to the effective impedance. If the effective PDN impedance value is less than or equal to the target PDN impedance value for all frequencies up to the effective impedance, control proceeds to <b>607</b>. If the effective PDN impedance value is not less than or equal to the target PDN impedance for all frequencies up to the effective impedance, control proceeds to <b>604</b>.</p>
<p id="p-0037" num="0036">At <b>604</b>, the lowest frequency at which the effective PDN impedance value is greater than the target PDN impedance value is identified.</p>
<p id="p-0038" num="0037">At <b>605</b>, the number of capacitors and capacitor types required for decoupling the PDN to lower the effective PDN impedance value to or below the target PDN impedance value are identified. According to an embodiment of the present invention, the number and type of capacitors that decouple an offending frequency, where Zeffective is greater than Ztarget, are selected starting with the lowest offending frequency. The PDN is tested to determine whether the effective PDN impedance value is lowered to or below the target PDN impedance value. According to an embodiment of the present invention, this procedure may be repeated until all offending frequencies have been decoupled or a predetermined number of capacitors are selected. According to an embodiment of the present invention, for each capacitor type available starting at the capacitor type having the smallest capacitance value, a single capacitor is implemented and the PDN is tested to determine whether the effective PDN impedance value is lowered to or below the target PDN impedance value. Additional capacitors of that type and additional capacitor types may be added and tested until the effective PDN impedance value is lowered to or below the target PDN impedance value. Testing the PDN to determine the effective PDN impedance value may involve performing a simulation or using analytic or approximation methods.</p>
<p id="p-0039" num="0038">At <b>606</b>, the decoupling capacitors identified at <b>605</b> are added to the selection of decoupling capacitors and are implemented in the PDN. Control returns to <b>602</b>.</p>
<p id="p-0040" num="0039">At <b>607</b>, the selection of decoupling capacitors is refined. According to an embodiment of the present invention, the refinement of the selection of decoupling capacitors improves one or more cost metrics. According to an aspect of the present invention, a reduction in the area on the board required for implementing the decoupling capacitors is sought. This may be achieved by reducing the total number of capacitors selected. Reducing capacitor count may free up board space for other devices, reduces via count, and may reduce the size of the board. According to another aspect of the present invention, a reduction in the cost of implementing the PDN is sought. This may be achieved by selecting decoupling capacitors of lower cost or using fewer capacitors. Selection of decoupling capacitors may be based on the price of a capacitor and/or whether capacitors are available in inventory. The cost of a capacitor may also include a topped up estimate that includes the cost of mounting the capacitor. Different mounting methods are available which may result in differing assembly costs as well as differing space requirements. It should be appreciated that other goals and combination of goals maybe sought. The associated cost and inventory information related to the capacitors are provided to the EDA tool to allow the EDA tool to generate an appropriate selection.</p>
<p id="p-0041" num="0040">At <b>608</b>, the refined selection of decoupling capacitors is placed on the board. According to an embodiment of the present invention, placement may include identifying a side of the board to place the decoupling capacitors and/or identifying a specific location on the board to place the decoupling capacitors.</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 7</figref> is a flow chart illustrating a method for refining a selection of decoupling capacitors according to an exemplary embodiment of the present invention. The procedure described in <figref idref="DRAWINGS">FIG. 7</figref> may be used to implement procedure <b>607</b> described in <figref idref="DRAWINGS">FIG. 6</figref>. At <b>701</b>, a reduction in the number of decoupling capacitors selected is attempted. According to an embodiment of the present invention, for every type of capacitor selected, a reduction in the count of capacitors is attempted while maintaining the effective PDN impedance value below or equal to the target PDN impedance value. In one embodiment, a first type of capacitor is identified. The number of selected capacitors of this first type is reduced by one. The effective PDN impedance value is computed for all frequencies up to the effective frequency. If the effective PDN impedance value is less than or equal to the target PDN impedance value for all frequencies up to the effective frequency, the number of selected capacitors of this first type is reduced by another one. This may continue until the effective PDN impedance is greater than the target PDN impedance value where then the number of selected capacitors reverts back to the number last yielding an effective PDN impedance value less than or equal to the target PDN impedance value. Afterwards, the procedure continues for a second type of capacitors in a similar fashion until all types of capacitors have been analyzed for count reduction. It is appreciated that the number of capacitors may be reduced by two, three, or any other value depending on its application. As such, reducing the number of capacitors in increments of one is merely exemplary and not intended to limit the scope of the present invention.</p>
<p id="p-0043" num="0042">At <b>702</b>, an exchange of one or more decoupling capacitors for a decoupling capacitor of smaller size is attempted. According to an embodiment of the present invention, for every type of capacitor selected, a substitution for a smaller sized capacitor is attempted while maintaining the effective PDN impedance value below or equal to the target PDN impedance value. In one embodiment, a first type of capacitor is identified. Two capacitors of the first type are substituted for a single capacitor of another type where the capacitor of the another type has a smaller size than the combined size of the two capacitors of the first type. The effective PDN impedance value is computed for all frequencies up to the effective frequency. If the effective PDN impedance value is less than or equal to the target PDN impedance value for all frequencies up to the effective frequency, another substitution for two capacitors of the first type for a single capacitor of the another type is performed. The substitutions may continue until the effective PDN impedance computed is greater than the target PDN impedance value where the number of substituted capacitors reverts back to the number last yielding an effective PDN impedance value less than or equal to the target PDN impedance value. Afterwards, the procedure continues for substituting two capacitors of additional types in a similar fashion until all types of capacitors have been analyzed for substitution. It should be appreciated that the substitution described above may alternatively involve substituting greater than or fewer than two capacitors of a first type for a capacitor of another type having a size smaller than the combined size of the two capacitors of the first type.</p>
<p id="p-0044" num="0043">At <b>703</b>, an exchange of one or more decoupling capacitors for a decoupling capacitor of lower cost is attempted. According to an embodiment of the present invention, for every type of capacitor selected, a substitution for another type of capacitor having a lower cost is attempted while maintaining the effective PDN impedance value below or equal to the target PDN impedance value. In one embodiment, a first type of capacitor is identified. A capacitor of the first type is substituted for a capacitor of another type, e.g., a second type, where the capacitor of the another type has a lower cost than the capacitor of the first type. The effective PDN impedance value is computed for all frequencies up to the effective frequency. If the effective PDN impedance value is less than or equal to the target PDN impedance value for all frequencies up to the effective frequency, another substitution for a capacitors of the first type for a capacitor of the another type, e.g., a third type, is performed. The substitutions may continue until the effective PDN impedance computed is greater than the target PDN impedance value where then the number of substituted capacitors reverts back to the number last yielding an effective PDN impedance value less than or equal to the target PDN impedance value. Afterwards, the procedure continues for substituting capacitors of additional types in a similar fashion until all types of capacitors have been analyzed for substitution. It should be appreciated that the substitution may involve substituting one or more capacitors of a first type for one or more capacitors of another type having a cost lower than the cost of the substituted capacitor(s) of the first type. It should further be appreciated that the capacitor of the another type may be targeted to be larger or smaller than the size of the one or more capacitors of the first type. It should be appreciated that the procedures described with reference to <figref idref="DRAWINGS">FIG. 7</figref> may be iterative. In this embodiment, if a change were made during one of the procedures <b>701</b>, <b>702</b>, and <b>703</b>, control would return to procedure <b>701</b>. Moreover, it is appreciated that any given one of the methods described above may be performed without necessarily requiring other steps to be performed. In other words, any of the method steps described above or any combination thereof may be performed.</p>
<p id="p-0045" num="0044">When computing Zeffective for the procedures illustrated in <figref idref="DRAWINGS">FIGS. 6 and 7</figref>, the PDN network is modeled. According to an embodiment of the present invention, the modeling may be achieved using analytic calculations. Alternatively, modeling the PDN network may be achieved by performing simulations.</p>
<p id="p-0046" num="0045">According to an embodiment of the present invention, placing the refined selection of decoupling capacitors as described at <b>608</b> in <figref idref="DRAWINGS">FIG. 6</figref> involves identifying a side on board to place the decoupling capacitors. Generally, the side of the board that is closest to the power plane is the preferred side for placing the majority of the decoupling capacitors. In one embodiment, decoupling capacitors are placed in a mirroring configuration on both sides of the board. Placing decoupling capacitors on both sides of a board for the same PDN would allow fewer vias to be used. This is advantageous because the design allows for easier breakout, and a reduction in board area required for the decoupling capacitors.</p>
<p id="p-0047" num="0046">It should be appreciated that placing the refined selection of decoupling capacitors may also involve finding physical locations for each decoupling capacitor on the board. In this embodiment, the board size and stack-up information, which includes the number of layers and material type of each layer, are provided to an EDA tool. The physical dimensions and locations of components placed on the board such as, for example, the target device, voltage regulator module, memory, and via pads are also provided to the EDA tool. <figref idref="DRAWINGS">FIG. 8</figref> is a flow chart illustrating a method for placing decoupling capacitors for a PDN according to an exemplary embodiment of the present invention. The procedure illustrated in <figref idref="DRAWINGS">FIG. 8</figref> may be used to implement procedure <b>608</b> illustrated in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0048" num="0047">At <b>801</b>, the decoupling capacitors are sorted and ordered. According to an embodiment of the present invention, the capacitors are ordered from largest in board footprint to smallest in board footprint.</p>
<p id="p-0049" num="0048">At <b>802</b>, a location for the largest, unplaced capacitor is identified. According to an embodiment of the present invention, the location is a legal location closest to a power pin. A legal location is a location on the board that is not occupied by another component.</p>
<p id="p-0050" num="0049">At <b>803</b>, it is determined whether the identified location for the capacitor satisfies capacitor placement constraints. According to an embodiment of the present invention, the capacitor placement constraint may require that the capacitor be placed within a fixed distance from the target device power pin. The fixed distance may be a function of a wavelength of a wave through a material in a component supported by the PDN. If it is determined that the identified location satisfies capacitor placement constraints, control proceeds to <b>804</b>. If it is determined that the identified location does not satisfy capacitor placement constraints, control proceeds to <b>805</b>.</p>
<p id="p-0051" num="0050">At <b>804</b>, it is determined whether any unplaced capacitor exists. If an unplaced capacitor exists, control returns to <b>802</b>. If all capacitors have been placed, control proceeds to <b>806</b>.</p>
<p id="p-0052" num="0051">At <b>805</b>, an error is generated indicating that a placement location for the decoupling capacitor cannot be found.</p>
<p id="p-0053" num="0052">At <b>806</b>, control terminates the procedure.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIGS. 6 through 8</figref> are flow charts that illustrate embodiments of the present invention. Some of the techniques illustrated may be performed sequentially, in parallel or in an order other than that which is described. Some procedures described may also be repeated. It should be appreciated that not all of the techniques described are required to be performed, that additional techniques may be added, and that some of the illustrated techniques may be substituted with other techniques. For example, instead of using a simple greedy technique where a solution is modified until the solution gets worse, a simulated annealing technique may be used to change a solution in a random manner. A solution may be accepted even if it is not an improvement. However, with the simulated annealing technique, as the procedure progresses, fewer worse solutions are accepted.</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 9</figref> is a block diagram of an exemplary computer system <b>900</b> in which an example embodiment of the present invention resides. The computer system <b>900</b> may be used to implement a system designer such as an EDA tool. The computer system <b>900</b> includes a processor <b>901</b> that processes data signals. The processor <b>901</b> is coupled to a bus <b>910</b> that transmits data signals between components in the computer system <b>900</b>. The bus <b>910</b> may be a single bus or a combination of multiple buses. The computer system <b>900</b> includes a memory <b>902</b>. The memory <b>902</b> may be a dynamic random access memory device, a static random access memory device, and/or other memory device. The memory <b>902</b> may store instructions and code represented by data signals that may be executed by the processor <b>901</b>. A data storage device <b>903</b> is coupled to the bus <b>910</b>. The data storage device <b>903</b> may be a hard disk drive, a floppy disk drive, a CD-ROM device, a flash memory device or other mass storage device.</p>
<p id="p-0056" num="0055">A network controller <b>904</b> is coupled to the bus <b>910</b>. The network controller <b>904</b> may link the computer system <b>900</b> to a network of computers (not shown) and supports communication among the machines. A display device controller <b>905</b> is coupled to the bus <b>910</b>. The display device controller <b>905</b> allows coupling of a display device (not shown) to the computer system <b>900</b> and acts as an interface between the display device and the computer system <b>900</b>. An input interface <b>906</b> is coupled to the bus <b>910</b>. The input interface <b>906</b> may be, for example, a keyboard and/or mouse controller or other input interface. The input interface <b>906</b> allows coupling of an input device to the computer system <b>900</b> and transmits data signals from an input device to the computer system <b>900</b>. It should be appreciated that computer systems having a different architecture or having different components may also be used to implement the computer system <b>900</b>.</p>
<p id="p-0057" num="0056">According to an embodiment of the present invention, a system designer <b>920</b> may reside in memory <b>902</b> and be executed by the processor <b>901</b>. The system designer <b>920</b> may operate to generate a description of a system to be implemented on a target device, synthesize, map, place, and route the system onto the target device. The system designer <b>920</b> may also operate to design a PDN for a larger system that includes the target device. The system designer <b>920</b> automatically selects decoupling capacitor for the PDN. According to an embodiment of the present invention, board, package, die, system, and available capacitor parameters are provided to the system designer <b>920</b>. Decoupling capacitors are selected by the system designer <b>920</b> to achieve one or more goals that may include reducing the space required for the decoupling capacitors on the board, and reducing the total cost for implementing the decoupling capacitors.</p>
<p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. 10</figref> illustrates a system designer <b>1000</b> according to an embodiment of the present invention. The system designer <b>1000</b> may be an EDA tool for designing a system on a target device such as an FPGA, structured application structured integrated circuit (ASIC), ASIC, or other circuitry. <figref idref="DRAWINGS">FIG. 10</figref> illustrates modules implementing an embodiment of the system designer <b>1000</b>. According to one embodiment, the modules represent software modules and system design may be performed by a computer system such as the one illustrated in <figref idref="DRAWINGS">FIG. 9</figref> executing sequences of instructions represented by the modules shown in <figref idref="DRAWINGS">FIG. 10</figref>. Execution of the sequences of instructions causes the computer system to support system design as will be described hereafter. In alternate embodiments, hard-wire circuitry may be used in place of or in combination with software instructions to implement embodiments of present invention. Thus, embodiments of present invention are not limited to any specific combination of hardware circuitry and software.</p>
<p id="p-0059" num="0058">The system designer <b>1000</b> includes a designer manager <b>1010</b>. The designer manager <b>1010</b> is connected to and transmits data between the components of the system designer <b>1000</b>. The designer manager <b>1010</b> also generates a representation of the system from a description of the system input by a designer. According to an embodiment of the present invention, the representation of the system generated may be a register transfer language (RTL) representation in a hardware description languages such as Verilog, very-high-speed integrated circuit (VHSIC) hardware description language (VHDL), or other descriptive language.</p>
<p id="p-0060" num="0059">The system designer <b>1000</b> includes a synthesis unit <b>1020</b> that performs synthesis. The synthesis unit <b>1020</b> generates a logic design of a system to be implemented on the target device. According to an embodiment of the system designer <b>1000</b>, the synthesis unit <b>1020</b> takes a conceptual HDL design definition and generates an optimized logical representation of the system. The optimized logical representation of the system generated by the synthesis unit <b>1010</b> may include a representation that has a minimized number of functional blocks and registers, such as logic gates and logic elements, required for the system. Alternatively, the optimized logical representation of the system generated by the synthesis unit <b>1020</b> may include a representation that has a reduced depth of logic and that generates a lower signal propagation delay.</p>
<p id="p-0061" num="0060">The synthesis unit <b>1020</b> also performs technology mapping. Technology mapping involves determining how to implement the functional blocks and registers in the optimized logic representation utilizing specific resources such as cells on a target device thus creating an optimized &#x201c;technology-mapped&#x201d; netlist. The technology-mapped netlist illustrates how the resources (cells) on the target device are utilized to implement the system. In an embodiment where the target device is an FPGA, the technology-mapped netlist may include cells such as logic array blocks (LABs), registers, memory blocks, digital signal processing (DSP) blocks, input output (IO) elements or other components.</p>
<p id="p-0062" num="0061">The system designer <b>1000</b> includes a placement unit <b>1030</b> that processes the optimized technology-mapped netlist to produce a placement for each of the functional blocks. The placement identifies which components or areas on the target device are to be used for specific functional blocks and registers.</p>
<p id="p-0063" num="0062">The system designer <b>1000</b> includes a routing unit <b>1040</b> that performs routing. The routing unit <b>1040</b> determines the routing resources on the target device to use to provide interconnection between the components implementing functional blocks and registers of the logic design.</p>
<p id="p-0064" num="0063">The system designer manager <b>1010</b> includes a power estimation unit <b>1011</b> that identifies switching frequencies and logic components of a system synthesized by the synthesis unit <b>1020</b>, placed by the placement unit <b>1030</b>, and routed by the routing unit <b>1040</b> on the target device. The power estimation unit <b>1011</b> may also identify an amount of current that a PDN for a target device uses based upon characteristics of the system such as a number of logic cells, input output types, clock frequencies, and/or other components of the system.</p>
<p id="p-0065" num="0064">The system designer <b>1000</b> includes a decoupling capacitor selection unit <b>1050</b> that selects decoupling capacitors for a PDN that supports the system on the target device. The PDN may also support a larger system that the system on the target device is a part of. According to an embodiment of the present invention, a target PDN impedance value for the PDN is computed. For each switching frequency of the target device where an effective PDN impedance value is greater than the target impedance value, decoupling capacitors are identified to add to the PDN to drive the effective PDN value below the target PDN value. The decoupling capacitor selection unit <b>1050</b> may operate to perform the procedure descried with reference to <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0066" num="0065">The system designer <b>1000</b> includes a selection refinement unit <b>1060</b>. The selection refinement unit <b>1060</b> refines the selection of decoupling capacitors to reduce the cost of the system, reduce the space required for implementing the decoupling capacitors, and/or reduce the count of the decoupling capacitors. The selection refinement unit <b>1060</b> may operate to perform the procedures described with reference to <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0067" num="0066">The system designer <b>1000</b> includes a decoupling capacitor placement unit <b>1070</b>. The decoupling capacitor placement unit <b>1070</b> may identify a side on a board to place the decoupling capacitors and/or determine locations on the board to place the decoupling capacitors. The selection refinement unit <b>1070</b> may operate to perform the procedures described with reference to <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0068" num="0067">It should be appreciated that embodiments of the present invention may be provided as a computer program product, or software, that may include a computer-readable or machine-readable medium having instructions. The instructions on the computer-readable or machine-readable medium may be used to program a computer system or other electronic device. The machine-readable medium may include, but is not limited to, floppy diskettes, optical disks, CD-ROMs, and magneto-optical disks or other type of media/machine-readable medium suitable for storing electronic instructions. The techniques described herein are not limited to any particular software configuration. They may find applicability in any computing or processing environment. The terms &#x201c;computer-readable medium&#x201d; or &#x201c;machine-readable medium&#x201d; used herein shall include any medium that is capable of storing or encoding a sequence of instructions for execution by the computer and that cause the computer to perform any one of the methods described herein. Furthermore, it is common in the art to speak of software, in one form or another (e.g., program, procedure, process, application, module, unit, logic, and so on) as taking an action or causing a result. Such expressions are merely a shorthand way of stating that the execution of the software by a processing system causes the processor to perform an action to produce a result.</p>
<p id="p-0069" num="0068">In the foregoing specification, embodiments of the invention have been described with reference to specific exemplary embodiments thereof. It will, however, be evident that various modifications and changes may be made thereto without departing from the broader spirit and scope of the embodiments of the invention. The specification and drawings are, accordingly, to be regarded in an illustrative rather than restrictive sense.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for designing a power distribution network (PDN) for a system implementing a target device, the method comprising:
<claim-text>for each switching frequency within a designated range of switching frequencies of the target device where an effective PDN impedance value for the PDN is greater than the target PDN impedance value, identifying a selection of one or more decoupling capacitors of one or more capacitor types to add to the PDN to drive the effective PDN impedance value below the target PDN value;</claim-text>
<claim-text>reducing a number of the one or more decoupling capacitors of a first capacitor type identified;</claim-text>
<claim-text>computing a new effective PDN impedance value for the PDN implementing the reduced number of the one or more decoupling capacitors of the first capacitor type at each switching frequency within the designated range of switching frequencies of the target device; and</claim-text>
<claim-text>designating the reduced number of decoupling capacitors of the first capacitor type as the number of the one or more decoupling capacitors of the first type to add to the PDN if the new effective PDN impedance value is less than or equal to the target PDN value for all switching frequencies within the designated range of switching frequencies of the target device, wherein at least one of the identifying, reducing, computing, and designating is performed by a computer system.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein computing the target PDN impedance value comprises dividing a maximum allowable voltage swing on the PDN by a maximum transient current on the PDN.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>reducing a number of the one or more decoupling capacitors of a second capacitor type identified;</claim-text>
<claim-text>computing a new effective PDN impedance value for the PDN implementing the reduced number of the one or more decoupling capacitors of the second capacitor type at each switching frequency within the designated range of switching frequencies of the target device; and</claim-text>
<claim-text>designating the reduced number of decoupling capacitors of the second capacitor type as the number of the one or more decoupling capacitors of the second type to add to the PDN if the new effective PDN impedance value is less than or equal to the target PDN value for all switching frequencies within the designed range of switching frequencies of the target device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the decoupling capacitor of the second capacitor type is larger than the decoupling capacitor of the first capacitor type.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the decoupling capacitor of the second capacitor type is smaller than the decoupling capacitor of the first capacitor type.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein reducing the number of the one or more decoupling capacitors of the first capacitor type identified comprises
<claim-text>replacing two decoupling capacitors of the first capacitor type with one decoupling capacitor of a second capacitor type.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein reducing the number of the one or more decoupling capacitors of the first capacitor type identified comprises
<claim-text>replacing a first decoupling capacitor of the first capacitor type with a second decoupling capacitor of a second capacitor type, wherein the second capacitor type costs less than the first capacitor type.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>moving a first decoupling capacitor of a capacitor type from a first side of a board to a second side of the board;</claim-text>
<claim-text>computing a new effective PDN impedance value for the PDN implementing the first decoupling capacitor of the capacitor type at the second side of the board at each switching frequency of the designated range of switching frequencies of the target device; and</claim-text>
<claim-text>designating the second side of the board as a placement location for the first decoupling capacitor if the new effective PDN impedance value is less than or equal to the target PDN value for all switching frequencies within the designated range of switching frequencies of the target device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising generating a placement solution for the refined selection of decoupling capacitors identified on a board.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A non-transitory computer readable medium including a sequence of instructions stored thereon for causing a computer to execute a method comprising:
<claim-text>for each switching frequency within a designated range of switching frequencies of the target device where an effective power distribution network (PDN) impedance value for a PDN is greater than a target PDN impedance value, identifying a selection of one or more decoupling capacitors of one or more capacitor types to add to the PDN to drive the effective PDN impedance value below the target PDN value;</claim-text>
<claim-text>reducing a number of the one or more decoupling capacitors of a first capacitor type in the PDN;</claim-text>
<claim-text>computing a new effective PDN impedance value for the PDN implementing the reduced number of the one or more decoupling capacitors of the first capacitor type at each switching frequency within a designated range of switching frequencies of the target device; and</claim-text>
<claim-text>designating the reduced number of decoupling capacitors of the first capacitor type as the number of the one or more decoupling capacitors of the first type to add to the PDN if the new effective PDN impedance value is less than or equal to the target PDN value for all switching frequencies within the designated range of switching frequencies of the target device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The non-transitory computer readable medium of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the method further comprises computing the target PDN impedance value by dividing a maximum allowable voltage swing on the PDN by a maximum transient current on the PDN.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The non-transitory computer readable medium of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the identifying is performed for low switching frequencies of the target device before high switching frequencies of the target device.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The non-transitory computer readable medium of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein refining the selection of the one or more decoupling capacitors further comprises:
<claim-text>reducing a number of the one or more decoupling capacitors of a second capacitor type identified;</claim-text>
<claim-text>computing a new effective PDN impedance value for the PDN implementing the reduced number of the one or more decoupling capacitors of the second capacitor type at each switching frequency within the designated range of switching frequencies of the target device; and</claim-text>
<claim-text>designating the reduced number of decoupling capacitors of the second capacitor type as the number of the one or more decoupling capacitors of the second type to add to the PDN if the new effective PDN impedance value is less than or equal to the target PDN value for all switching frequencies within the designed range of switching frequencies of the target device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. A system designer comprising:
<claim-text>a decoupling capacitor selection unit operable to identify a selection of one or more decoupling capacitors of one or more capacitor types to add to a power distribution network (PDN) to drive an effective PDN impedance value below a target PDN value for each switching frequency within a designated range of switching frequencies of the target device where the effective PDN impedance value for the PDN is greater than the target PDN impedance value; and</claim-text>
<claim-text>a selection refinement unit operable to replace two decoupling capacitors of a first capacitor type with one decoupling capacitor of a second capacitor type and designate the decoupling capacitor of the second capacitor type as the capacitor to add to the PDN if a new effective PDN impedance value, reflecting use of the decoupling capacitor of the second capacitor type, is less than or equal to the target PDN value for all switching frequencies within the designated range of switching frequencies of the target device, wherein at least one of the computing, identifying, and refining is performed by a computer system.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The system designer of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein computing the target PDN impedance value comprises dividing a maximum allowable voltage swing on the PDN by a maximum transient current on the PDN.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The system designer of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein identifying the selection is performed for low switching frequencies of the target device before high switching frequencies of the target device.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. A method for designing a power distribution network (PDN) for a system implementing a target device, the method comprising:
<claim-text>for each switching frequency within a designated range of switching frequencies of the target device where an effective PDN impedance value for the PDN is greater than a target PDN impedance value, identifying a selection of one or more decoupling capacitors of one or more capacitor types to add to the PDN to drive the effective PDN impedance value below the target PDN value;</claim-text>
<claim-text>replacing a first decoupling capacitor of a first capacitor type with a second decoupling capacitor of a second capacitor type, wherein the second capacitor type costs less than the first capacitor type; and</claim-text>
<claim-text>designating the second decoupling capacitor of the second capacitor type as the capacitor to add to the PDN if a new effective PDN impedance value, reflecting use of the second decoupling capacitor of the second capacitor type, is less than or equal to the target PDN value for all switching frequencies within the designated range of switching frequencies of the target device, wherein at least one of the identifying, replacing, and designating is performed by a computer system.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the identifying is performed for low switching frequencies of the target device before high switching frequencies of the target device.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising computing the target PDN impedance value by dividing a maximum allowable voltage swing on the PDN by a maximum transient current on the PDN.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising generating a placement solution for the refined selection of decoupling capacitors identified on a board.</claim-text>
</claim>
</claims>
</us-patent-grant>
