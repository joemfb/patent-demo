<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624649-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624649</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13873508</doc-number>
<date>20130430</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>K</subclass>
<main-group>3</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>327199</main-classification>
<further-classification>327227</further-classification>
<further-classification>327291</further-classification>
<further-classification>327365</further-classification>
</classification-national>
<invention-title id="d2e43">Delay measuring circuit and delay measuring method</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>3728728</doc-number>
<kind>A</kind>
<name>Vogel et al.</name>
<date>19730400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>342174</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>4754330</doc-number>
<kind>A</kind>
<name>Spieth</name>
<date>19880600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348540</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5459402</doc-number>
<kind>A</kind>
<name>Ueno et al.</name>
<date>19951000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5519255</doc-number>
<kind>A</kind>
<name>Burtch et al.</name>
<date>19960500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>307 102</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7418029</doc-number>
<kind>B2</kind>
<name>Richards et al.</name>
<date>20080800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375150</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7436876</doc-number>
<kind>B2</kind>
<name>Fisher et al.</name>
<date>20081000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375130</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>7811917</doc-number>
<kind>B2</kind>
<name>Marshall</name>
<date>20101000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>438578</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>8407025</doc-number>
<kind>B2</kind>
<name>Blaauw et al.</name>
<date>20130300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>702179</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2006/0263913</doc-number>
<kind>A1</kind>
<name>Marshall</name>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>438 14</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2006/0291537</doc-number>
<kind>A1</kind>
<name>Fullerton et al.</name>
<date>20061200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375145</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2008/0114568</doc-number>
<kind>A1</kind>
<name>Marshall</name>
<date>20080500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>702182</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2011/0064178</doc-number>
<kind>A1</kind>
<name>Sweeney et al.</name>
<date>20110300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375371</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2013/0117589</doc-number>
<kind>A1</kind>
<name>Satyamoorthy et al.</name>
<date>20130500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713320</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>JP</country>
<doc-number>06-118122</doc-number>
<date>19940400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>JP</country>
<doc-number>06-289096</doc-number>
<date>19941000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>JP</country>
<doc-number>11-204595</doc-number>
<date>19990700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>JP</country>
<doc-number>2000-266819</doc-number>
<date>20000900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>JP</country>
<doc-number>2010-2222</doc-number>
<date>20100100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>JP</country>
<doc-number>2010-529476</doc-number>
<date>20100800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>WO</country>
<doc-number>WO 2008/156289</doc-number>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00021">
<othercit>International Search Report mailed Jan. 11, 2011 in corresponding International Application No. PCT/JP2010/069530.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>6</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>327199</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327227</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327291</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327365</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>9</number-of-drawing-sheets>
<number-of-figures>12</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>PCT/JP2010/069530</doc-number>
<date>20101102</date>
</document-id>
<parent-status>PENDING</parent-status>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13873508</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130234770</doc-number>
<kind>A1</kind>
<date>20130912</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only" applicant-authority-category="assignee">
<addressbook>
<orgname>Fujitsu Limited</orgname>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Yonezawa</last-name>
<first-name>Takahiro</first-name>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Staas &#x26; Halsey LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Fujitsu Limited</orgname>
<role>03</role>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Houston</last-name>
<first-name>Adam</first-name>
<department>2816</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A delay measuring circuit includes a first trigger-signal generating unit that, when a value of a signal input to a circuit under test, changes, generates a first trigger signal. The delay measuring circuit includes a second trigger-signal generating unit that, when a value of a signal output from the circuit under test changes, generates a second trigger signal. The delay measuring circuit includes a delay unit that includes a plurality of delay elements connected in series. The delay measuring circuit includes a delay information retaining unit that individually captures and retains the first trigger signal output from each of the delay elements included in the delay unit between when the first trigger signal is generated by the first trigger-signal generating unit and when the second trigger signal is generated by the second trigger-signal generating unit.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="131.57mm" wi="233.26mm" file="US08624649-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="238.59mm" wi="157.99mm" orientation="landscape" file="US08624649-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="233.85mm" wi="168.99mm" orientation="landscape" file="US08624649-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="159.09mm" wi="183.13mm" file="US08624649-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="218.78mm" wi="178.99mm" file="US08624649-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="195.16mm" wi="172.13mm" file="US08624649-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="141.31mm" wi="165.35mm" file="US08624649-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="147.57mm" wi="164.85mm" file="US08624649-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="246.97mm" wi="120.31mm" orientation="landscape" file="US08624649-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="95.84mm" wi="167.30mm" file="US08624649-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading>
<p id="p-0002" num="0001">This application is a continuation of International Application No. PCT/JP2010/069530, filed on Nov. 2, 2010, the entire contents of which are incorporated herein by reference.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">FIELD</heading>
<p id="p-0003" num="0002">The embodiments discussed herein are directed to a delay measuring circuit and a delay measuring method.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">There is a known conventional technology for evaluating the delay characteristics of a circuit by measuring the length of time between when a signal is input to the circuit and when the signal is output from the circuit. An example of such technology is a technology for a delay measuring circuit that inputs a pulse signal to a circuit in which an input signal and an output signal have a one-to-one correspondence with each other and measures the delay time until the input pulse signal is output from the circuit under test.</p>
<p id="p-0005" num="0004">For example, as illustrated in <figref idref="DRAWINGS">FIG. 12</figref>, the delay measuring circuit includes a delay circuit in which a plurality of delay elements that delay an input pulse signal and then output the input pulse signal are connected in series. Moreover, the delay measuring circuit includes a pulse generator that outputs a pulse signal with a predetermined waveform to the circuit under test and the delay circuit at the same time. Moreover, the delay measuring circuit includes a plurality of FFs (Flip-Flops) <b>1</b> to n, each of which receives a pulse signal delayed by the circuit under test and a pulse signal output from a corresponding delay element. Each of the FFs <b>1</b> to n is arranged at the subsequent stage of a corresponding delay element. <figref idref="DRAWINGS">FIG. 12</figref> is a diagram for explaining the delay measuring circuit.</p>
<p id="p-0006" num="0005">Each of the FFs <b>1</b> to n receives a pulse signal that has passed a different number of delay elements and therefore the timing with which the pulse signals are received from the delay elements is different. When each of the FFs <b>1</b> to n receives a pulse signal from the delay element to which it is connected before receiving a delayed pulse signal from the circuit under test, each of the FFs <b>1</b> to n captures the pulse signal received from the delay element.</p>
<p id="p-0007" num="0006">In other words, each of the FFs <b>1</b> to n is classified as an FF that has captured a pulse signal and an FF that has not captured a pulse signal in accordance with the period of time for which the circuit under test delays a pulse signal. The delay measuring circuit measures the period of time for which the circuit under test delays a pulse signal by determining for each of the FFs <b>1</b> to n whether it captures a pulse signal after inputting the pulse signal to the circuit under test and the delay circuit.</p>
<p id="p-0008" num="0007">Patent Document 1: Japanese Laid-open Patent Publication No. 2010-002222</p>
<p id="p-0009" num="0008">However, with the technology that inputs the same pulse signal to the delay circuit and the circuit under test described above, only a pulse signal with a predetermined waveform is input to the circuit under test; therefore, there is a problem in that the worst delay, which is the maximum value of the delay time, is not appropriately measured.</p>
<p id="p-0010" num="0009">For example, the circuit under test has different characteristics in some cases between the case where a signal is input whose logical value changes from a low level to a low level via a high level and the case where a signal is input whose logical value changes from a high level to a high level via a low level. In other words, the circuit under test outputs a signal with a different delay time in some cases depending on the direction in which the input signal changes, i.e., for each of the direction of change from a low level to a high level and the direction of change from a high level to a low level. Therefore, when the delay measuring circuit measures the delay of the input signal in a case where the signal input to the circuit under test changes in one direction, for example, from a low level to a high level, the worst delay is not appropriately measured in some cases.</p>
<heading id="h-0004" level="1">SUMMARY</heading>
<p id="p-0011" num="0010">According to an aspect of an embodiment, a delay measuring circuit includes a first trigger-signal generating unit that, when a value of a signal input to a circuit under test, in which an input signal and an output signal have a one-to-one correspondence with each other, changes, generates a first trigger signal. The delay measuring circuit includes a second trigger-signal generating unit that, when a value of a signal output from the circuit under test changes, generates a second trigger signal. The delay measuring circuit includes a delay unit that includes a plurality of delay elements, which delay the first trigger signal generated by the first trigger-signal generating unit, connected in series. The delay measuring circuit includes a delay information retaining unit that individually captures and retains the first trigger signal output from each of the delay elements included in the delay unit between when the first trigger signal is generated by the first trigger-signal generating unit and when the second trigger signal is generated by the second trigger-signal generating unit.</p>
<p id="p-0012" num="0011">The object and advantages of the invention will be realized and attained by means of the elements and combinations particularly pointed out in the claims.</p>
<p id="p-0013" num="0012">It is to be understood that both the foregoing general description and the following detailed description are exemplary and explanatory and are not restrictive of the invention, as claimed.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram for explaining a chip that includes a measuring unit according to a first embodiment;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 2</figref> is a diagram for explaining the measuring unit according to the first embodiment;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram for explaining a set pulse generator according to the first embodiment;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 4</figref> is a diagram for explaining a circuit example of an RS flip-flop;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 5</figref> is a diagram for explaining a stop pulse generator according to the first embodiment;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 6</figref> is a diagram for explaining a retaining circuit according to the first embodiment;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 7</figref> is a diagram for explaining a circuit example of a D flip-flop;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 8</figref> is a diagram for explaining a change in delay characteristics of a circuit under test;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 9</figref> is a time chart for explaining the initialization of the delay measuring circuit according to the first embodiment;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 10</figref> is a time chart for explaining a process of retaining a SET signal performed by the retaining circuit according to the first embodiment;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 11</figref> is a time chart for explaining a process of continuing to retain a captured signal; and</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 12</figref> is a diagram for explaining a delay measuring circuit.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DESCRIPTION OF EMBODIMENTS</heading>
<p id="p-0026" num="0025">Preferred embodiments of the present invention will be explained with reference to accompanying drawings.</p>
<heading id="h-0007" level="1">[a] First Embodiment</heading>
<p id="p-0027" num="0026">In the first embodiment below, an example of a chip that includes a delay measuring circuit will be described with reference to <figref idref="DRAWINGS">FIG. 1</figref>. <figref idref="DRAWINGS">FIG. 1</figref> is a diagram for explaining the chip that includes the measuring unit according to the first embodiment.</p>
<p id="p-0028" num="0027">As illustrated in <figref idref="DRAWINGS">FIG. 1</figref>, a chip <b>1</b> includes a ring oscillator <b>2</b> and a measuring unit <b>10</b>. Moreover, the chip <b>1</b> includes scan latches #<b>1</b> to #X.</p>
<p id="p-0029" num="0028">The scan latches #<b>1</b> to #X are latches that receive from the measuring unit <b>10</b>, which will be described later, X<sub>retention1 </sub>to X<sub>retentionx </sub>which are signals indicating delay information on the circuit under test and retain the received signals. Therefore, the chip <b>1</b> can obtain the delay characteristics of the circuit under test by obtaining the X<sub>retention1 </sub>to X<sub>retentionx </sub>retained in the scan latches #<b>1</b> to #X.</p>
<p id="p-0030" num="0029">The ring oscillator <b>2</b> includes an oscillation circuit in which a plurality of delay cells and one inverter are connected. The delay cells are delay elements of the same type as delay cells included in the measuring unit <b>10</b>, which will be described later. Moreover, the ring oscillator <b>2</b> includes a divider that includes a plurality of D flip-flops at the subsequent stage of the oscillation circuit.</p>
<p id="p-0031" num="0030">The ring oscillator <b>2</b> having such a configuration generates a high frequency signal corresponding to the delay characteristics of the delay cells by using the oscillation circuit. Moreover, the ring oscillator <b>2</b> lowers the frequency of the generated signal by using the divider and then outputs the signal from the chip <b>1</b>. A user measures the frequency of the signal output from the ring oscillator <b>2</b> and calculates in advance the delay time per delay cell on the basis of the value of the measured frequency.</p>
<p id="p-0032" num="0031">Specifically, the measuring unit <b>10</b>, which will be described later, measures the delay characteristics of the circuit under test by using the delay cells. However, the delay value of each delay cell differs due to process variations in the manufacturing process of the chip <b>1</b>.</p>
<p id="p-0033" num="0032">Therefore, in the first embodiment, the measuring unit <b>10</b> and the ring oscillator <b>2</b> are mounted on the same chip <b>1</b>. Before performing a process of measuring the delay characteristics of the circuit under test, the delay time per delay cell included in the ring oscillator <b>2</b> is calculated in advance. As a result, the delay time of the circuit under test can be calculated by using the delay time of the delay cells in which the process variations are taken into consideration; therefore, the delay time of the circuit under test can be accurately calculated.</p>
<p id="p-0034" num="0033">Next, each component included in the measuring unit <b>10</b> will be described with reference to <figref idref="DRAWINGS">FIG. 2</figref>. <figref idref="DRAWINGS">FIG. 2</figref> is a diagram for explaining the measuring unit according to the first embodiment. As illustrated in <figref idref="DRAWINGS">FIG. 2</figref>, the measuring unit <b>10</b> includes a latch <b>11</b>, a latch <b>12</b>, a circuit under test <b>13</b>, and a delay measuring circuit <b>20</b>. The delay measuring circuit <b>20</b> includes a set pulse generator <b>21</b>, a stop pulse generator <b>22</b>, a delay unit <b>23</b>, and a delay information retaining unit <b>24</b>. The delay unit <b>23</b> includes delay cells #<b>1</b> to #x. The delay information retaining unit <b>24</b> includes retaining circuits <b>25</b> to <b>27</b>.</p>
<p id="p-0035" num="0034">The delay measuring circuit <b>20</b> includes an Inst_T<b>1</b>, which is a delay element, and Inst_T<b>2</b> and T<b>3</b>, which are OR gates. Moreover, the delay measuring circuit <b>20</b> includes a wire net_ini<b>1</b>, which connects the Inst_T<b>1</b> and each of the retaining circuits <b>25</b> to <b>27</b>, and a wire net_ini<b>2</b>, which connects the Inst_T<b>2</b> and the stop pulse generator <b>22</b>. Moreover, the delay measuring circuit <b>20</b> includes a wire net_ini<b>3</b>, which connects the Inst_T<b>3</b> and the set pulse generator <b>21</b>.</p>
<p id="p-0036" num="0035">In the following description, the delay measuring circuit <b>20</b> includes retaining circuits the number of which is the same as that of the delay cells #<b>1</b> to #x; however, retaining circuits other than the retaining circuits <b>25</b>, <b>26</b>, and <b>27</b> are omitted in <figref idref="DRAWINGS">FIG. 2</figref>. Moreover, in the following description, each of the retaining circuits <b>26</b> to <b>27</b> is a retaining circuit that has a circuit configuration similar to the retaining circuit <b>25</b> and performs an operation similar to the retaining circuit <b>25</b>; therefore, descriptions of the retaining circuits <b>26</b> to <b>27</b> are omitted. Moreover, in the following description, each of the delay cells #<b>2</b> to #x is the same as the delay cell #<b>1</b>; therefore, descriptions thereof are omitted.</p>
<p id="p-0037" num="0036">The latch <b>11</b> is a circuit that transmits an A<sub>signal1 </sub>signal to the circuit under test <b>13</b> and the set pulse generator <b>21</b>. The latch <b>12</b> is a circuit that receives an A<sub>signal2 </sub>signal output from the circuit under test <b>13</b>. The circuit under test <b>13</b> is not a circuit that receives an input from other paths but is a circuit in which an input signal and an output signal have a one-to-one correspondence with each other. Specifically, the circuit under test <b>13</b> is a circuit that, when the A<sub>signal1 </sub>signal is received from the latch <b>11</b>, delays the received A<sub>signal1 </sub>signal and then outputs it as the A<sub>signal2 </sub>signal. The A<sub>signal2 </sub>signal may be a signal that is a logical inversion of the A<sub>signal1 </sub>signal. The circuit under test <b>13</b> is a circuit that includes, for example, only a buffer and an inverter and is a circuit without combinational logic.</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram for explaining the set pulse generator according to the first embodiment. When the logical value of a signal input to the circuit under test <b>13</b> changes from a low level to a high level or from a high level to a low level, the set pulse generator <b>21</b> sets an output signal X<sub>set </sub>to a predetermined value. Specifically, as illustrated in <figref idref="DRAWINGS">FIG. 3</figref>, the set pulse generator <b>21</b> includes Inst_<b>1</b> to <b>3</b>, which are delay elements, an Inst_<b>4</b>, which is an XOR (Exclusive-OR) gate, and an Inst_<b>5</b>, which is an RS flip-flop.</p>
<p id="p-0039" num="0038">For example, in the set pulse generator <b>21</b>, when the A<sub>signal1 </sub>signal is received from the latch <b>11</b>, the A<sub>signal1 </sub>signal is directly input to one input terminal of the XOR gate Inst_<b>4</b>. Then, the A<sub>signal1 </sub>signal delayed by the delay elements Inst_<b>1</b>, Inst_<b>2</b>, and Inst_<b>3</b> is input to the other input terminal of the XOR gate Inst_<b>4</b>. Then, the XOR gate Inst_<b>4</b> performs an exclusive OR operation on the two input signals; therefore, the set pulse generator <b>21</b> outputs a high pulse signal to a net_B for the period of the delay time due to the delay elements Inst_<b>1</b>, Inst_<b>2</b>, and Inst_<b>3</b> after the value of the A<sub>signal1 </sub>signal changes. When a pulse generated in the Inst_<b>4</b> is input to the terminal S of the RS flip-flop Inst_<b>5</b> via the net_B, the RS flip-flop Inst_<b>5</b> sets the output terminal Q to high and outputs high as the X<sub>set </sub>signal.</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 4</figref> is a diagram for explaining a circuit example of the RS flip-flop. As illustrated in <figref idref="DRAWINGS">FIG. 4</figref>, the Inst_<b>5</b> in <figref idref="DRAWINGS">FIG. 3</figref> is an RS flip-flop that includes NAND gates. Therefore, the Inst_<b>5</b> outputs a high-level signal as the X<sub>set </sub>signal between when the set pulse generator <b>21</b> receives the A<sub>signal1 </sub>signal and when the set pulse generator <b>21</b> is reset by application of an INIT signal. In the example in <figref idref="DRAWINGS">FIG. 3</figref>, when a high-level signal is applied to the INIT signal, the RS flip-flop Inst_<b>5</b> is reset.</p>
<p id="p-0041" num="0040">Moreover, when a signal delayed by the delay cell #x, which will be described later, is output, the set pulse generator <b>21</b> receives the signal output from the delay cell #x from the INIT terminal illustrated in <figref idref="DRAWINGS">FIG. 3</figref> via the Inst_T<b>3</b> and the net_ini<b>3</b>. In other words, the set pulse generator <b>21</b> receives a signal output from the delay cell #x as the INIT signal. Then, the set pulse generator <b>21</b> resets the state of the Inst_R<b>5</b> by inputting the received INIT signal to the terminal R (Reset terminal) of the Inst_R<b>5</b>.</p>
<p id="p-0042" num="0041">When the measuring unit <b>10</b> receives the INIT signal, the set pulse generator <b>21</b> receives the INIT signal via the Inst_T<b>3</b> and the net_ini<b>3</b>. Then, the set pulse generator <b>21</b> resets the state of the Inst_R<b>5</b> by inputting the received INIT signal to the terminal R of the Inst_R<b>5</b>.</p>
<p id="p-0043" num="0042">In this manner, the set pulse generator <b>21</b> generates a predetermined pulse signal in response to a change in the A<sub>signal1 </sub>signal. Therefore, the set pulse generator <b>21</b> generates a predetermined pulse signal not only when a signal whose logical value transitions from a low level to a high level is received as the A<sub>signal1 </sub>signal but also when a signal whose logical value transitions from a high level to a low level is received as the A<sub>signal1 </sub>signal.</p>
<p id="p-0044" num="0043">In other words, whatever the waveform of a signal that is input to the circuit under test <b>13</b>, the set pulse generator <b>21</b> can generate the X<sub>set </sub>signal that is a predetermined pulse signal for each of the delay cells #<b>1</b> to #x. As a result, the delay measuring circuit <b>20</b> can appropriately measure the delay characteristics of the circuit under test <b>13</b> regardless of the waveform of the signal input to the circuit under test <b>13</b>.</p>
<p id="p-0045" num="0044">Here the description returns to <figref idref="DRAWINGS">FIG. 2</figref>. When the value of the A<sub>signal2 </sub>signal output from the circuit under test <b>13</b> changes, the stop pulse generator <b>22</b> generates X<sub>stop </sub>with a predetermined waveform regardless of whether the change is positive or negative. Specifically, as illustrated in <figref idref="DRAWINGS">FIG. 5</figref>, the stop pulse generator <b>22</b> includes Inst_<b>6</b> to <b>8</b>, which are delay elements, an Inst_<b>9</b>, which is an XOR gate, and an Inst_<b>10</b>, which is an RS flip-flop. <figref idref="DRAWINGS">FIG. 5</figref> is a diagram for explaining the stop pulse generator <b>22</b> according to the first embodiment.</p>
<p id="p-0046" num="0045">As illustrated in <figref idref="DRAWINGS">FIG. 5</figref>, the stop pulse generator <b>22</b> has a circuit configuration similar to the set pulse generator <b>21</b>. When the logical value of the A<sub>signal2 </sub>signal output from the circuit under test <b>13</b> changes, the stop pulse generator <b>22</b> generates the X<sub>stop </sub>with a predetermined waveform regardless of whether the change is positive or negative. For example, when the value of the A<sub>signal2 </sub>signal transitions from a high level to a low level or when the value of the A<sub>signal2 </sub>signal transitions from a low level to a high level, the stop pulse generator <b>22</b> generates the X<sub>stop </sub>that is a pulse signal with a predetermined waveform.</p>
<p id="p-0047" num="0046">Moreover, when the delay cell #x, which will be described later, outputs a signal, the stop pulse generator <b>22</b> receives the signal output from the delay cell #x as the INIT signal via the Inst_T<b>2</b> and the net_ini<b>2</b>. Then, the stop pulse generator <b>22</b> resets the state of the Inst_<b>10</b>, which is an RS flip-flop. Moreover, when the measuring unit <b>10</b> receives the INIT signal, the stop pulse generator <b>22</b> receives the INIT signal via the Inst_T<b>2</b> and the net_ini<b>2</b> and resets the state of the Inst_<b>10</b>.</p>
<p id="p-0048" num="0047">In this manner, the stop pulse generator <b>22</b> can generate the X<sub>stop </sub>signal that is a pulse signal with a predetermined waveform at a timing at which the circuit under test <b>13</b> outputs an input signal regardless of the waveform of the A<sub>signal2 </sub>signal. As a result, the delay measuring circuit <b>20</b> can measure the delay characteristics of the circuit under test <b>13</b> by using a signal having any waveform.</p>
<p id="p-0049" num="0048">In the following description, with regard to the X<sub>stop </sub>signal generated by the stop pulse generator <b>22</b>, a signal transmitted to the retaining circuit <b>25</b> is referred to as a STOP<b>1</b> signal, a signal transmitted to the retaining circuit <b>26</b> is referred to as a STOP<b>2</b> signal, and a signal transmitted to the retaining circuit <b>27</b> is referred to as a STOPX.</p>
<p id="p-0050" num="0049">Here the description returns to <figref idref="DRAWINGS">FIG. 2</figref>. When the delay cell #<b>1</b> receives the X<sub>set </sub>signal from the set pulse generator <b>21</b>, the delay cell #<b>1</b> delays the received X<sub>set </sub>signal and transmits the delayed X<sub>set </sub>signal to the delay cell #<b>2</b> and the retaining circuit <b>25</b>.</p>
<p id="p-0051" num="0050">Moreover, when the delay cell #<b>2</b> receives the X<sub>set </sub>signal, the delay cell #<b>2</b> delays the received X<sub>set </sub>signal and transmits the delayed X<sub>set </sub>signal to the delay cell #<b>3</b> and the retaining circuit <b>26</b>. Moreover, the delay cell #x transmits the delayed X<sub>set </sub>signal to the retaining circuit <b>27</b> and the Inst_T<b>2</b> and T<b>3</b>.</p>
<p id="p-0052" num="0051">In other words, the delay cells #<b>1</b> to #x are delay elements that, when the X<sub>set </sub>signal is received, transmit the delayed X<sub>set </sub>signal to the retaining circuits <b>25</b> to <b>27</b> in stages. In the following description, the X<sub>set </sub>signal transmitted to the retaining circuit <b>25</b> from the delay cell #<b>1</b> is referred to as a SET<b>1</b> signal and the X<sub>set </sub>signal transmitted to the retaining circuit <b>26</b> from the delay cell #<b>2</b> is referred to as a SET<b>2</b> signal. Moreover, in the following description, the X<sub>set </sub>signal transmitted to the retaining circuit <b>27</b> from the delay cell #x is referred to as a SETX signal.</p>
<p id="p-0053" num="0052">The delay information retaining unit <b>24</b> individually captures and retains the SET<b>1</b> to SETX signals output from the delay cells #<b>1</b> to #x, respectively, between when the X<sub>set </sub>signal is generated and when the X<sub>stop </sub>signal is generated. Specifically, the delay information retaining unit <b>24</b> includes the retaining circuits <b>25</b> to <b>27</b>. Moreover, the delay information retaining unit <b>24</b> transmits the SET<b>1</b> signal transmitted from the delay cell #<b>1</b> and the STOP<b>1</b> signal generated by the stop pulse generator <b>22</b> to the retaining circuit <b>25</b>.</p>
<p id="p-0054" num="0053">Moreover, the delay information retaining unit <b>24</b> transmits the SET<b>2</b> signal transmitted from the delay cell #<b>2</b> and the STOP<b>2</b> signal generated by the stop pulse generator <b>22</b> to the retaining circuit <b>26</b>. Moreover, the delay information retaining unit <b>24</b> transmits the SETX signal transmitted from the delay cell #x and the STOPX signal generated by the stop pulse generator <b>22</b> to the retaining circuit <b>27</b>.</p>
<p id="p-0055" num="0054">In other words, the delay information retaining unit <b>24</b> transmits the SET<b>1</b> to SETX signals output from the delay cells #<b>1</b> to #x to the different retaining circuits <b>25</b> to <b>27</b>, respectively. Moreover, the delay information retaining unit <b>24</b> transmits the X<sub>stop </sub>signal generated by the stop pulse generator <b>22</b> to each of the retaining circuits <b>25</b> to <b>27</b>.</p>
<p id="p-0056" num="0055">As will be described later, the retaining circuits <b>25</b> to <b>27</b> retain the SET<b>1</b> to SETX signals, respectively, when triggered by the X<sub>stop </sub>signal. Therefore, the delay information retaining unit <b>24</b> can individually capture and retain the SET<b>1</b> to SETX signals output from the delay cells #<b>1</b> to #x, respectively, between when the X<sub>set </sub>signal is generated and when the X<sub>stop </sub>signal is generated.</p>
<p id="p-0057" num="0056">The circuit configuration that each of the retaining circuits <b>25</b> to <b>27</b> included in the delay information retaining unit <b>24</b> has and the process performed by each of the retaining circuits <b>25</b> to <b>27</b> will be described below. The retaining circuit <b>25</b> is connected to the delay cell #<b>1</b> and the stop pulse generator <b>22</b>. When the retaining circuit <b>25</b> receives the SET<b>1</b> signal transmitted from the delay cell #<b>1</b> before the STOP<b>1</b> signal generated by the stop pulse generator <b>22</b>, the retaining circuit <b>25</b> captures and retains the received SET<b>1</b> signal.</p>
<p id="p-0058" num="0057">The retaining circuit <b>25</b> includes a D flip-flop that captures and retains the SET<b>1</b> signal. When the D flip-flop retains the SET<b>1</b> signal, the retaining circuit <b>25</b> terminates the connection between the D flip-flop and the stop pulse generator <b>22</b>. Moreover, when the D flip-flop retains the SET<b>1</b> signal, the retaining circuit <b>25</b> fixes the circuit portion that inputs the STOP<b>1</b> signal to the D flip-flop at a low level. Moreover, when the retaining circuit <b>25</b> receives the INIT signal via the Inst_T<b>1</b> and the net_ini<b>1</b>, the retaining circuit <b>25</b> resets the state of the D flip-flop.</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 6</figref> is a diagram for explaining the retaining circuit <b>25</b> according to the first embodiment. As illustrated in <figref idref="DRAWINGS">FIG. 6</figref>, the retaining circuit <b>25</b> includes an Inst_R<b>1</b>, which is an OR gate, an Inst_R<b>2</b>, which is an AND gate, an Inst_R<b>3</b>, which is a D flip-flop, and an Inst_R<b>4</b>, which is a NOT gate. Moreover, the retaining circuit <b>25</b> includes an Inst_R<b>5</b>, an Inst_R<b>8</b>, and an Inst_R<b>10</b>, which are delay elements.</p>
<p id="p-0060" num="0059">Moreover, the retaining circuit <b>25</b> includes an Inst_R<b>6</b>, which is a P-type MOSFET (Metal Oxide Semiconductor Field Effect Transistor), and Inst_R<b>7</b> and R<b>11</b>, which are N-type MOSFETs. As illustrated in <figref idref="DRAWINGS">FIG. 7</figref>, the Inst_R<b>3</b> is a D flip-flop composed of NAND gates. <figref idref="DRAWINGS">FIG. 7</figref> is a diagram for explaining a circuit example of the D flip-flop.</p>
<p id="p-0061" num="0060">The operation performed by the retaining circuit <b>25</b> will be described below with a specific example. For example, the retaining circuit <b>25</b> receives the SET<b>1</b> signal from the delay cell #<b>1</b>. The SET<b>1</b> signal is a signal whose logical value transitions from a low level to a low level via a high level. Moreover, a low-level signal is input to the INIT signal and the output value of the D flip-flop Inst_R<b>3</b> is reset to a low level.</p>
<p id="p-0062" num="0061">When a low-level signal is input to the INIT signal, a high-level signal is input to one input terminal of the Inst_R<b>2</b> via the Inst_R<b>4</b>, which is a NOT gate. Therefore, when the INIT signal is a low level and the retaining circuit <b>25</b> receives a high-level signal as the SET<b>1</b> signal, the Inst_R<b>2</b> inputs a high-level signal to the terminal D of the Inst_R<b>3</b>, which is a D flip-flop, via the net_R<b>2</b>.</p>
<p id="p-0063" num="0062">When the output value of the D flip-flop Inst_R<b>3</b> is low, the P-type transistor Inst_R<b>6</b> is in a conductive state. Therefore, the STOP<b>1</b> signal from the stop pulse generator <b>22</b> is transmitted to one input terminal of the OR gate Inst_R<b>1</b> via the net_R<b>5</b>. Because a low-level signal is input to the other input terminal of the OR gate Inst_R<b>1</b> as the INIT signal, the STOP<b>1</b> signal is transmitted to the net_R<b>6</b> via the Inst_R<b>6</b> and the Inst_R<b>1</b>.</p>
<p id="p-0064" num="0063">Therefore, when the INIT signal input to the retaining circuit is at a low level and the STOP<b>1</b> signal changes from a low level to a high level, a signal input to the terminal CK (CLOCK) of the Inst_R<b>3</b> from the Inst_R<b>1</b> via the net_R<b>6</b> is changed from a low level to a high level. As a result, the Inst_R<b>3</b> captures a high-level signal input to the terminal D and sets the output terminal Q to a high level. The high-level signal output from the terminal Q of the D flip-flop Inst_R<b>3</b> is transmitted to the scan latch #<b>1</b> as the X<sub>retention1 </sub>signal.</p>
<p id="p-0065" num="0064">In other words, the Inst_R<b>3</b> is a D flip-flop that retains a signal input to the terminal D when triggered by the application of a high-level voltage to the terminal CK and outputs the retained signal to the scan latch #<b>1</b> as the X<sub>retention1 </sub>signal.</p>
<p id="p-0066" num="0065">Moreover, the Inst_R<b>3</b> outputs the X<sub>retention1 </sub>signal to the Inst_R<b>6</b> via the Inst_R<b>8</b> and the net_R<b>7</b>. Therefore, when the output of the terminal Q of the Inst_R<b>3</b>, which is a D flip-flop, is set high, the net_R<b>7</b> becomes a high level and thus the Inst_R<b>6</b>, which is a P-type MOSFET, becomes non-conductive.</p>
<p id="p-0067" num="0066">In other words, when the output of the terminal Q of the Inst_R<b>3</b> is fixed at a low level, the Inst_R<b>6</b> enters a conductive state and transmits the STOP<b>1</b> signal to the net_R<b>5</b> and the Inst_R<b>1</b>, which is an OR gate. Moreover, when the SET<b>1</b> signal becomes a high level, the Inst_R<b>3</b> sets the signal of the output of the terminal Q to a high level; therefore, the net_R<b>7</b> becomes a high level.</p>
<p id="p-0068" num="0067">As a result, the Inst_R<b>6</b>, which is a P-type MOSFET, becomes non-conductive so that the STOP<b>1</b> signal is not input to the Inst_R<b>1</b> via the net_R<b>5</b>. Therefore, in the Inst_R<b>3</b>, a high-level voltage is not applied to the terminal CK and thus the X<sub>retention1 </sub>signal whose logical value is at a high level is retained.</p>
<p id="p-0069" num="0068">Moreover, the Inst_R<b>3</b> transmits the X<sub>retention1 </sub>signal to the Inst_R<b>11</b> via the Inst_R<b>8</b>, the net_R<b>7</b>, and the Inst_R<b>10</b>. Then, the Inst_R<b>11</b>, which is an N-type MOSFET, connects the net_R<b>5</b> to the ground and fixes the potential of the net_R<b>5</b> at 0 V. As a result, the output of the Inst_R<b>1</b> is fixed at a low level; therefore, the Inst_R<b>3</b> continues to retain the X<sub>retention1 </sub>signal at a high level.</p>
<p id="p-0070" num="0069">In this manner, when the D flip-flop of each of the retaining circuits <b>25</b> to <b>27</b> retains a corresponding one of the SET<b>1</b> to SETX signals, the delay information retaining unit <b>24</b> terminates the connection between the D flip-flop and the stop pulse generator <b>22</b> and fixes the circuit portion that inputs the X<sub>stop </sub>signal to the D flip-flop at a low level. Therefore, each of the retaining circuits <b>25</b> to <b>27</b> can prevent the circuit portion that inputs the X<sub>stop </sub>signal to the D flip-flop from generating a high-level voltage due to the effect of noise. As a result, the delay measuring circuit <b>20</b> can appropriately continue to retain information on the delay retained in the D flip-flops.</p>
<p id="p-0071" num="0070">Moreover, when a high-level signal is input to the retaining circuit <b>25</b> as the INIT signal, a low-level signal is input to one input terminal of the Inst_R<b>2</b> via the Inst_R<b>4</b>, which is a NOT gate. As a result, the output of the AND gate Inst_R<b>2</b> becomes low and thus a low-level signal is input to the terminal D of the D flip-flop Inst_R<b>3</b>. On the other hand, when a high-level signal is input as the INIT signal, the received INIT signal is input to one input terminal of the Inst_R<b>1</b> via the Inst_R<b>5</b> and the Inst_R<b>9</b>.</p>
<p id="p-0072" num="0071">The INIT signal at a high level is input to the gate of the N-type transistor Inst_R<b>7</b> via the net_R<b>3</b> and the N-type transistor Inst_R<b>7</b> becomes conductive. As a result, the net_R<b>5</b> and the ground are connected and the other terminal of the OR gate Inst_R<b>1</b> is fixed at a low level. As described above, when a high-level signal is input as the INIT signal, a low-level signal is input to the terminal D of the Inst_R<b>3</b>. At the same time, a high-level signal is input to the terminal CK of the Inst_R<b>3</b> via the Inst_R<b>5</b>, the Inst_R<b>9</b>, and the Inst_R<b>1</b>. The terminal CK of the Inst_R<b>3</b> can be changed to a high level after the terminal D of the Inst_R<b>3</b> becomes low by delaying transmission of the signal to the terminal CK of the Inst_R<b>3</b> by the buffers Inst_R<b>5</b> and Inst_R<b>9</b>.</p>
<p id="p-0073" num="0072">Therefore, when a high-level signal is input to the INIT signal, the retaining circuit <b>25</b> causes a voltage value that is to be applied to the terminal D of the Inst_R<b>3</b> to transition to a voltage whose logical value becomes a low level and causes a voltage that is to be applied to the terminal CK to transition to a voltage whose logical value becomes a high level regardless of the value of the SET<b>1</b> signal. Then, the Inst_R<b>3</b> captures the low-level value input to the terminal D. In other words, when the retaining circuit <b>25</b> receives the INIT signal, the retaining circuit <b>25</b> resets the state of the Inst_R<b>3</b> regardless of the values of the SET<b>1</b> signal and the STOP<b>1</b> signal.</p>
<p id="p-0074" num="0073">As described above, the delay measuring circuit <b>20</b> includes the retaining circuits <b>25</b> to <b>27</b>. When the retaining circuit <b>25</b> receives the STOP<b>1</b> signal after receiving the SET<b>1</b> signal, the retaining circuit <b>25</b> retains the SET<b>1</b> signal and outputs the retained SET<b>1</b> signal to the scan latch #<b>1</b> as the X<sub>rentention1 </sub>signal. Therefore, the chip <b>1</b> can determine whether the X<sub>set </sub>signal has passed the delay cell #<b>1</b> between when the X<sub>set </sub>signal is generated and when the X<sub>stop </sub>signal is generated on the basis of the X<sub>rentention1 </sub>signal retained in the scan latch #<b>1</b>.</p>
<p id="p-0075" num="0074">The retaining circuits <b>26</b> to <b>27</b> also perform a process in a similar manner to the retaining circuit <b>25</b>. Then, the retaining circuits <b>26</b> to <b>27</b> output the X<sub>retention2 </sub>to X<sub>retentionx </sub>signals to the scan latches #<b>2</b> to #X, respectively. In other words, the delay measuring circuit <b>20</b> outputs the X<sub>retention1 </sub>to X<sub>retentionx </sub>signals, which indicate the number of delay cells that the X<sub>set </sub>signal has passed between when the X<sub>set </sub>signal is output and when the X<sub>stop </sub>signal is output, to the scan latches #<b>1</b> to #X, respectively.</p>
<p id="p-0076" num="0075">The period of time for which the X<sub>set </sub>signal is delayed by one delay cell can be obtained from ROSC-OUT of the ring oscillator <b>2</b>. As a result, the period of time during which a signal propagates through the circuit under test <b>13</b> can be accurately measured on the basis of whether the logical values of the X<sub>rentention1 </sub>to X<sub>retentionx </sub>signals retained in the scan latches #<b>1</b> to #X are at a high level or a low level.</p>
<p id="p-0077" num="0076">The delay characteristics of the circuit under test <b>13</b> change over time due to the effect of power supply noise, crosstalk noise, or the like. In other words, the worst delay of the circuit under test <b>13</b> changes depending on the time.</p>
<p id="p-0078" num="0077">For example, <figref idref="DRAWINGS">FIG. 8</figref> is a diagram for explaining a change in delay characteristics of the circuit under test. In the example illustrated in <figref idref="DRAWINGS">FIG. 8</figref>, in the first measurement, the circuit under test <b>13</b> delays a signal until the X<sub>set </sub>signal is transmitted to the fourth flip-flop. In the second measurement, the circuit under test <b>13</b> delays a signal until the X<sub>set </sub>signal is transmitted to the sixth flip-flop. In the third measurement, the circuit under test <b>13</b> delays a signal until the X<sub>set </sub>signal is transmitted to the third flip-flop.</p>
<p id="p-0079" num="0078">In such an example, when the delay characteristics of the circuit under test are continuously measured, the conventional delay measuring circuit retains only the third measurement result, which is the latest measurement result. Therefore, the conventional delay measuring circuit does not output the second measurement result, which is the worst delay of the circuit under test.</p>
<p id="p-0080" num="0079">In contrast, in each of the retaining circuits <b>25</b> to <b>27</b> according to the first embodiment, when the flip-flop retains the SET signal, the path that transmits the STOP signal to the flip-flop is interrupted. In other words, when the delay measuring circuit <b>20</b> continuously measures the delay characteristics of the circuit under test <b>13</b>, once the SET signal is received before the STOP signal, each of the retaining circuits <b>25</b> to <b>27</b> continues to retain the X<sub>retention </sub>signal.</p>
<p id="p-0081" num="0080">Therefore, in the example illustrated in <figref idref="DRAWINGS">FIG. 8</figref>, when the delay measuring circuit <b>20</b> continuously measures the delay characteristics of the circuit under test <b>13</b>, the delay measuring circuit <b>20</b> continues to retain the second measurement result illustrated in <figref idref="DRAWINGS">FIG. 8</figref>. As a result, when the delay characteristics of the circuit under test <b>13</b> are continuously measured, the chip <b>1</b> can appropriately measure the worst delay of the circuit under test <b>13</b>.</p>
<p id="p-0082" num="0081">Moreover, when a user measures the delay characteristics of the circuit under test by using the conventional delay measuring circuit, the user does not appropriately measure the worst delay; therefore, the delay margin is overestimated in some cases. However, the delay measuring circuit <b>20</b> can appropriately measure the worst delay of the circuit under test <b>13</b>; therefore, overestimation of the delay margin can be prevented.</p>
<p id="p-0083" num="0082">Moreover, when the Inst_R<b>6</b> interrupts the net_R<b>5</b>, the potential of the net_R<b>5</b> becomes unstable in some cases due to the effect of noise. In such a case, the potential of the net_R<b>5</b> transitions to a high level, a voltage higher than a predetermined threshold is applied to the terminal CK of the Inst_R<b>3</b>, and the Inst_R<b>3</b> retains the new potential of the net_R<b>2</b>.</p>
<p id="p-0084" num="0083">Thus, when the Inst_R<b>3</b> retains the SET<b>1</b> signal, the retaining circuit <b>25</b> disconnects the wire that transmits the STOP<b>1</b> signal to the Inst_R<b>3</b> and connects the net_R<b>5</b> and the earth, thereby fixing the potential of the net_R<b>5</b> at 0 V. Therefore, the retaining circuit <b>25</b> can prevent the voltage value of the net_R<b>5</b> from becoming a high level.</p>
<p id="p-0085" num="0084">As a result, the retaining circuit <b>25</b> can appropriately continue to retain the information retained in the D flip-flop. After the Inst_R<b>6</b> disconnects the wire, the net_R<b>5</b> becomes unstable for the delay of the Inst_R<b>10</b> until the net_R<b>5</b> is fixed at 0 V; however, the time thereof is sufficiently short and thus the actual operation is not affected.</p>
<p id="p-0086" num="0085">Flow of Operations by Delay Measuring Circuit</p>
<p id="p-0087" num="0086">Next, the flow of the operations performed by the delay measuring circuit <b>20</b> according to the first embodiment will be described with reference to the drawings. First, the operation of initializing each of the units <b>23</b> to <b>27</b> included in the delay measuring circuit <b>20</b> will be described with reference to <figref idref="DRAWINGS">FIG. 9</figref>. <figref idref="DRAWINGS">FIG. 9</figref> is a time chart for explaining the initialization of the delay measuring circuit <b>20</b> according to the first embodiment. The time chart illustrated in <figref idref="DRAWINGS">FIG. 9</figref> indicates whether the values of the SET<b>1</b> signal, the STOP<b>1</b> signal, the INIT signal, the net_R<b>1</b> to the net_R<b>7</b>, and the X<sub>rentention1 </sub>signal are at a high level or a low level.</p>
<p id="p-0088" num="0087">For example, as indicated by the solid lines in <figref idref="DRAWINGS">FIG. 9</figref>, when a high-level voltage is applied as the INIT signal, the retaining circuit <b>25</b> applies a voltage inverted to a low level by the Inst_R<b>4</b> to the Inst_R<b>2</b>. Therefore, the retaining circuit <b>25</b> applies a low-level voltage to the terminal D of the Inst_R<b>3</b> via the net_R<b>2</b>. Moreover, when the retaining circuit <b>25</b> receives a high-level signal as the INIT signal, the retaining circuit <b>25</b> delays the received INIT signal by using the Inst_R<b>5</b> and the Inst_R<b>9</b>. Then, the retaining circuit <b>25</b> inputs the delayed INIT signal to the Inst_R<b>1</b>.</p>
<p id="p-0089" num="0088">Thereafter, the retaining circuit <b>25</b> inputs the delayed INIT signal to the terminal CK of the Inst_R<b>3</b> via the net_R<b>6</b>. In other words, the retaining circuit <b>25</b> applies a high-level voltage to the terminal CK of the Inst_R<b>3</b>. As a result, the Inst_R<b>3</b> retains a low level of the terminal D; therefore, the value of the X<sub>rentention1 </sub>signal becomes a low level. In other words, when the retaining circuit <b>25</b> receives the INIT signal, the retaining circuit <b>25</b> resets the state of the Inst_R<b>3</b>.</p>
<p id="p-0090" num="0089">The retaining circuit <b>25</b> delays the received INIT signal by using the Inst_R<b>5</b> and the Inst_R<b>9</b> and inputs the delayed INIT signal to the Init_R<b>3</b> as a trigger signal. Therefore, when the retaining circuit <b>25</b> receives the INIT signal, the retaining circuit <b>25</b> prevents the trigger signal from being input to the terminal CK of the Inst_R<b>3</b> before the INIT signal inverted by the Inst_R<b>4</b> is input to the terminal D of the Inst_R<b>3</b>.</p>
<p id="p-0091" num="0090">Next, the operation of retaining the SET<b>1</b> signal and outputting the X<sub>rentention1 </sub>signal by the retaining circuit <b>25</b> will be described with reference to <figref idref="DRAWINGS">FIG. 10</figref>. <figref idref="DRAWINGS">FIG. 10</figref> is a time chart for explaining a process of retaining the SET signal performed by the retaining circuit according to the first embodiment. The example illustrated in <figref idref="DRAWINGS">FIG. 10</figref> indicates whether the values of the INIT signal, the A<sub>signal1 </sub>to A<sub>signal2 </sub>signals, the X<sub>set </sub>signal, the X<sub>stop </sub>signal, the SET<b>1</b> signal, the SETX signal, the net_R<b>2</b>, the net_R<b>5</b> to the net_R<b>7</b>, and the X<sub>rentention1 </sub>signal are at a high level or a low level.</p>
<p id="p-0092" num="0091">In the example illustrated in <figref idref="DRAWINGS">FIG. 10</figref>, when the set pulse generator <b>21</b> receives the A<sub>signal1 </sub>signal, the set pulse generator <b>21</b> outputs the X<sub>set </sub>signal with a predetermined waveform. Thereafter, when the retaining circuit <b>25</b> receives the SET<b>1</b> signal that is the X<sub>set </sub>signal delayed by the delay cell #<b>1</b>, the retaining circuit <b>25</b> applies a high-level voltage to the terminal D of the Inst_R<b>3</b> via the net_R<b>2</b>.</p>
<p id="p-0093" num="0092">Moreover, when the stop pulse generator <b>22</b> receives the A<sub>signal2 </sub>signal, the stop pulse generator <b>22</b> outputs the X<sub>stop </sub>signal with a predetermined waveform. Then, the retaining circuit <b>25</b> applies a high-level voltage to the terminal CK of the Inst_R<b>3</b> via the net_R<b>5</b> and the net_R<b>6</b>. Therefore, the high level signal at the terminal D is set for the output of the terminal Q of the Inst_R<b>3</b> and the X<sub>rentention1 </sub>signal having a high-level value is output.</p>
<p id="p-0094" num="0093">Moreover, the retaining circuit <b>25</b> inputs the X<sub>rentention1 </sub>signal delayed by using the Inst_R<b>8</b> and the Inst_R<b>10</b> to the Inst_R<b>6</b> and the Inst_R<b>11</b> and lowers the potential of the net_R<b>5</b> to the ground. Thus, even when a new STOP<b>1</b> signal is input, the retaining circuit <b>25</b> does not apply a high-level voltage to the terminal CK of the Inst_R<b>3</b>; therefore, the value of the Inst_R<b>3</b> can be appropriately retained.</p>
<p id="p-0095" num="0094">Next, the operation of retaining the output of the X<sub>rentention1 </sub>by the retaining circuit <b>25</b> will be described with reference to <figref idref="DRAWINGS">FIG. 11</figref>. <figref idref="DRAWINGS">FIG. 11</figref> is a time chart for explaining a process of continuing to retain a captured signal. The example in <figref idref="DRAWINGS">FIG. 11</figref> indicates whether the values of the INIT signal, the A<sub>signal1 </sub>to A<sub>signal2 </sub>signals, the X<sub>set </sub>signal, the X<sub>stop </sub>signal, the SET<b>1</b> signal, the SETX signal, the net_R<b>2</b>, the net_R<b>5</b> to the net_R<b>7</b>, and the X<sub>rentention1 </sub>signal are at a high level or a low level. The process of capturing the SET<b>1</b> signal performed by the retaining circuit <b>25</b> is the same as that in <figref idref="DRAWINGS">FIG. 10</figref>; therefore, an explanation thereof is omitted.</p>
<p id="p-0096" num="0095">For example, in the example illustrated in <figref idref="DRAWINGS">FIG. 11</figref>, a new X<sub>stop </sub>signal is generated due to the edge at which the A<sub>signal2 </sub>signal transitions from a high level to a low level. In such a case, the retaining circuit <b>25</b> receives the STOP<b>1</b> signal. However, the retaining circuit <b>25</b> interrupts the connection between the Inst_R<b>3</b> and the stop pulse generator <b>22</b> and connects the net_R<b>5</b> to the ground. Therefore, the retaining circuit <b>25</b> does not apply a high-level voltage to the terminal CK of the Inst_R<b>3</b> and continues to retain the value of the Inst_R<b>3</b>. Thus, the retaining circuit <b>25</b> can continue to retain the X<sub>rentention1 </sub>signal at a high level.</p>
<p id="p-0097" num="0096">Moreover, even when a new A<sub>signal1 </sub>signal is output and the retaining circuit <b>25</b> receives a new SET<b>1</b> signal, the retaining circuit <b>25</b> does not input a trigger signal to the Inst_R<b>3</b> and therefore continues to retain the value of the Inst_R<b>3</b>. Therefore, the retaining circuit <b>25</b> can keep the X<sub>rentention1 </sub>signal at a high level. When the retaining circuits <b>26</b> to <b>27</b> receive the SET<b>2</b> to SETX signals before the STOP<b>2</b> to STOPX signals, respectively, the retaining circuits <b>26</b> to <b>27</b> perform an operation in a similar manner to the retaining circuit <b>25</b> and therefore can keep the X<sub>retention2 </sub>to X<sub>retentionx </sub>signals at a high level, respectively. As a result, the chip <b>1</b> can retain the worst delay of the circuit under test <b>13</b>.</p>
<p id="p-0098" num="0097">Effect of First Embodiment</p>
<p id="p-0099" num="0098">As described above, the delay measuring circuit <b>20</b> according to the first embodiment includes the set pulse generator <b>21</b> that, when the logical value of the A<sub>signal1 </sub>signal input to the circuit under test <b>13</b> changes, generates the X<sub>set </sub>signal with a predetermined waveform regardless of whether the change is positive or negative. Moreover, the delay measuring circuit <b>20</b> includes the stop pulse generator <b>22</b> that, when the logical value of the A<sub>signal2 </sub>signal output from the circuit under test <b>13</b> changes, generates the X<sub>stop </sub>signal with a predetermined waveform regardless of whether the change is positive or negative.</p>
<p id="p-0100" num="0099">Moreover, the delay measuring circuit <b>20</b> includes a plurality of the delay cells #<b>1</b> to #x that delay the X<sub>set </sub>signal. Furthermore, the delay measuring circuit <b>20</b> includes the delay information retaining unit <b>24</b> that individually captures and retains the X<sub>set </sub>signal output from each of the delay cells #<b>1</b> to #x between when the X<sub>set </sub>signal is generated and when the X<sub>stop </sub>signal is generated.</p>
<p id="p-0101" num="0100">Therefore, the delay measuring circuit <b>20</b> can measure the delay characteristics of the circuit under test <b>13</b> regardless of the waveform of the signal input to the circuit under test <b>13</b>. In other words, even when the circuit under test <b>13</b> has delay characteristics that differ depending on the input waveform, the delay measuring circuit <b>20</b> can appropriately measure the delay characteristics. Therefore, the delay measuring circuit <b>20</b> can appropriately measure the worst delay of the circuit under test <b>13</b>.</p>
<p id="p-0102" num="0101">Moreover, when the logical value of the A<sub>signal1 </sub>signal transitions from a high level to a low level or when the logical value of the A<sub>signal1 </sub>signal transitions from a low level to a high level, the set pulse generator <b>21</b> outputs the X<sub>set </sub>signal with a predetermined waveform. Moreover, when the logical value of the A<sub>signal2 </sub>signal transitions from a high level to a low level or when the logical value of the A<sub>signal2 </sub>signal transitions from a low level to a high level, the stop pulse generator <b>22</b> outputs the X<sub>stop </sub>signal with a predetermined waveform.</p>
<p id="p-0103" num="0102">Therefore, the delay measuring circuit <b>20</b> can appropriately measure the worst delay of the circuit under test <b>13</b> not only when the logical value of a signal input to the circuit under test <b>13</b> transitions from a low level to a high level but also when the logical value transitions from a high level to a low level.</p>
<p id="p-0104" num="0103">Moreover, the delay measuring circuit <b>20</b> includes a plurality of the retaining circuits <b>25</b> to <b>27</b>. Moreover, each of the retaining circuits <b>25</b> to <b>27</b> includes a D flip-flop that receives the SET signal output from a corresponding one of the delay cells #<b>1</b> to #x and receives the X<sub>stop </sub>signal. Then, when the D flip-flop included in each of the retaining circuits <b>25</b> to <b>27</b> receives the X<sub>stop </sub>signal after receiving the SET signal output from a corresponding one of the delay cells #<b>1</b> to #x, the D flip-flop retains the received SET signal. Therefore, when the delay characteristics of the circuit under test <b>13</b> are continuously measured, the delay measuring circuit <b>20</b> can continue to retain information on the worst delay generated by the circuit under test <b>13</b>.</p>
<p id="p-0105" num="0104">Moreover, in each of the retaining circuits <b>25</b> to <b>27</b>, when the D flip-flop retains the SET signal, the path that connects the D flip-flop and the stop pulse generator <b>22</b> is interrupted and the voltage value of the wiring portion that inputs the X<sub>stop </sub>signal to the D flip-flop is lowered to the ground, i.e., a low level. Therefore, the delay measuring circuit <b>20</b> can prevent the circuit portion that inputs the X<sub>stop </sub>signal to the D flip-flop from generating a high-level voltage due to the effect of noise. As a result, the delay measuring circuit <b>20</b> can appropriately continue to retain information on the delay retained in the D flip-flop.</p>
<heading id="h-0008" level="1">[b] Second Embodiment</heading>
<p id="p-0106" num="0105">Although the embodiment of the present invention has been described, the embodiment may be embodied in various different forms other than the embodiment described above. Hereinafter, another embodiment included in the present invention will be described as the second embodiment.</p>
<p id="p-0107" num="0106">(1) Circuit Configuration</p>
<p id="p-0108" num="0107">The delay measuring circuit <b>20</b> according to the first embodiment has the circuit configuration illustrated in <figref idref="DRAWINGS">FIG. 2</figref>. However, the embodiment is not limited to this and the delay measuring circuit <b>20</b> may be a delay measuring circuit that has a different circuit configuration but has a similar function. The chip <b>1</b> according to the first embodiment includes the ring oscillator <b>2</b> separately from the measuring unit <b>10</b>. However, the embodiment is not limited to this and the ring oscillator <b>2</b> and the measuring unit <b>10</b> may be circuits independent of each other.</p>
<p id="p-0109" num="0108">Moreover, the measuring unit <b>10</b> is mounted on the independent chip <b>1</b> only for measuring the delay characteristics of the circuit under test <b>13</b>. However, the embodiment is not limited to this and, for example, the measuring unit <b>10</b> may be mounted on a chip to which a technology such as DVFS (Dynamic Voltage and Frequency Scaling) is applied and measure the delay characteristics when the circuit under test <b>13</b> actually operates every time a dynamic voltage control is performed. In this case, the value of each of the X<sub>retention1 </sub>to X<sub>retentionx </sub>signals retained in the retaining circuits <b>26</b> to <b>27</b> may be read from the CPU (Central Processing Unit) in the chip <b>1</b> via a bus (not illustrated) in the chip <b>1</b>.</p>
<p id="p-0110" num="0109">(2) Number of Delay Cells</p>
<p id="p-0111" num="0110">The delay measuring circuit <b>20</b> according to the first embodiment includes a plurality of the delay cells #<b>1</b> to #x. However, the embodiment is not limited to this and the delay measuring circuit may include any number of delay cells. Moreover, the delay measuring circuit <b>20</b> may include a delay unit that, when the X<sub>set </sub>signal is received, sequentially transmits the received X<sub>set </sub>signal to each of the retaining circuit <b>25</b> to <b>26</b> at predetermined time intervals.</p>
<p id="p-0112" num="0111">(3) Fixing of Potential of net_R<b>5</b> by Inst_R<b>11</b></p>
<p id="p-0113" num="0112">When the Inst_R<b>3</b> fixes the output of the terminal Q at a high level, the Inst_R<b>11</b> according to the first embodiment fixes the potential of the net_R<b>5</b> at 0 V by causing the net_R<b>5</b> and the ground to electrically communicate with each other. However, the embodiment is not limited to this and a high-level signal may be prevented from being input to the terminal CK of the Inst_R<b>3</b> from the Inst_R<b>1</b> by fixing the potential of the net_R<b>5</b> at the potential to the degree determined to be a low level.</p>
<p id="p-0114" num="0113">According to one aspect, the worst delay of the circuit under test is appropriately measured.</p>
<p id="p-0115" num="0114">All examples and conditional language recited herein are intended for pedagogical purposes of aiding the reader in understanding the invention and the concepts contributed by the inventor to further the art, and are not to be construed as limitations to such specifically recited examples and conditions, nor does the organization of such examples in the specification relate to a showing of the superiority and inferiority of the invention. Although the embodiments of the present invention have been described in detail, it should be understood that the various changes, substitutions, and alterations could be made hereto without departing from the spirit and scope of the invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A delay measuring circuit comprising:
<claim-text>a first trigger-signal generating unit that, when a value of a signal input to a circuit under test, in which an input signal and an output signal have a one-to-one correspondence with each other, changes, generates a first trigger signal;</claim-text>
<claim-text>a second trigger-signal generating unit that, when a value of a signal output from the circuit under test changes, generates a second trigger signal;</claim-text>
<claim-text>a delay unit that includes a plurality of delay elements, which delay the first trigger signal generated by the first trigger-signal generating unit, connected in series; and</claim-text>
<claim-text>a delay information retaining unit that individually captures and retains the first trigger signal output from each of the delay elements included in the delay unit between when the first trigger signal is generated by the first trigger-signal generating unit and when the second trigger signal is generated by the second trigger-signal generating unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The delay measuring circuit according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>when a value of a signal input to the circuit under test transitions from high to low or when the value of the signal transitions from low to high, the first trigger-signal generating unit generates the first trigger signal, and</claim-text>
<claim-text>when a value of a signal output from the circuit under test transitions from high to low or when the value of the signal transitions from low to high, the second trigger-signal generating unit generates the second trigger signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The delay measuring circuit according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the delay information retaining unit includes a plurality of flip-flops each of which retains, when the second trigger-signal generating unit generates the second trigger signal, a first trigger signal output from a corresponding one of the delay elements.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The delay measuring circuit according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein when the flip-flop retains the first trigger signal, the delay information retaining unit terminates a connection between the flip-flop and the second trigger-signal generating unit and fixes a voltage value of a circuit portion that inputs the second trigger signal to the flip-flop at a low level.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A delay measuring circuit comprising:
<claim-text>a delay circuit that includes a plurality of delay elements, which delay an input signal, connected in series;</claim-text>
<claim-text>a signal input circuit that inputs a trigger signal with a predetermined waveform to a circuit under test, in which an input signal and an output signal have a one-to-one correspondence with each other, and the delay circuit; and</claim-text>
<claim-text>a delay information retaining unit that includes a plurality of storage elements each of which individually captures a signal output from a delay element included in the delay circuit between when a trigger signal is input by the signal input circuit and when a trigger signal delayed by the circuit under test is output and keeps a value of the captured signal after a new trigger signal is output from the circuit under test.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A delay measuring method comprising:
<claim-text>generating a first trigger signal when a value of a signal input to a circuit under test, in which an input signal and an output signal have a one-to-one correspondence with each other, changes;</claim-text>
<claim-text>generating a second trigger signal when a value of a signal output from the circuit under test changes; and</claim-text>
<claim-text>inputting the first trigger signal to a delay device in which a plurality of delay elements, which delay an input first trigger signal, are connected in series,</claim-text>
<claim-text>retaining a first trigger signal output from each of the delay elements included in the delay device between when the first trigger signal is generated and when the second trigger signal is generated. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
