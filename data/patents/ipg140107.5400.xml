<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626500-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626500</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12833563</doc-number>
<date>20100709</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2009-174740</doc-number>
<date>20090727</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>831</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20130101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>10</class>
<subclass>L</subclass>
<main-group>21</main-group>
<subgroup>02</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>704226</main-classification>
</classification-national>
<invention-title id="d2e71">Apparatus and method for noise reduction and sound recording</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7433475</doc-number>
<kind>B2</kind>
<name>Wakui</name>
<date>20081000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>381 941</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7697699</doc-number>
<kind>B2</kind>
<name>Ozawa</name>
<date>20100400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>381 941</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7769188</doc-number>
<kind>B2</kind>
<name>Wakui</name>
<date>20100800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>381 941</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2005/0063553</doc-number>
<kind>A1</kind>
<name>Ozawa</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>381 92</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2006/0176546</doc-number>
<kind>A1</kind>
<name>Wakui</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>359337</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>JP</country>
<doc-number>01-286633</doc-number>
<kind>A</kind>
<date>19891100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>JP</country>
<doc-number>2008-053802</doc-number>
<date>20080300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>JP</country>
<doc-number>2008-211526</doc-number>
<kind>A</kind>
<date>20080900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00009">
<othercit>The above references were cited in a May 7, 2013 Japanese Office Action, which is enclosed without English Translation, that issued in Japanese Patent Application No. 2009-174740.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>12</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>11</number-of-drawing-sheets>
<number-of-figures>19</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110022403</doc-number>
<kind>A1</kind>
<date>20110127</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Washisu</last-name>
<first-name>Koichi</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Kimura</last-name>
<first-name>Masafumi</first-name>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Kajimura</last-name>
<first-name>Fumihiro</first-name>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Washisu</last-name>
<first-name>Koichi</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Kimura</last-name>
<first-name>Masafumi</first-name>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Kajimura</last-name>
<first-name>Fumihiro</first-name>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Cowan, Liebowitz &#x26; Latman, P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Canon Kabushiki Kaisha</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Smits</last-name>
<first-name>Talivaldis Ivars</first-name>
<department>2658</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A sound recording apparatus having a driving unit generates a sound signal from an input sound, detects the level of the sound signal, adjusts the level of the generated sound signal at an amplification factor corresponding to the detected level, and processes the adjusted sound signal to prevent an amplified sound signal from containing a sound signal generated upon driving the driving unit. The sound recording apparatus controls to replace a sound signal in a predetermined period after instructing driving of the driving unit with a signal calculated from a sound signal in the first period after the predetermined period, and to substantially equalize an amplification factor when driving of the driving unit is instructed and that in the first period.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="123.44mm" wi="146.05mm" file="US08626500-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="205.23mm" wi="141.56mm" orientation="landscape" file="US08626500-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="213.19mm" wi="146.30mm" orientation="landscape" file="US08626500-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="149.69mm" wi="147.66mm" file="US08626500-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="209.97mm" wi="141.31mm" file="US08626500-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="215.90mm" wi="167.39mm" file="US08626500-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="215.90mm" wi="190.08mm" file="US08626500-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="211.33mm" wi="150.37mm" file="US08626500-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="213.87mm" wi="143.26mm" file="US08626500-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="208.53mm" wi="156.63mm" file="US08626500-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="206.67mm" wi="187.11mm" file="US08626500-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="215.90mm" wi="125.73mm" file="US08626500-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">The present invention relates to a sound recording apparatus and method.</p>
<p id="p-0004" num="0003">2. Description of the Related Art</p>
<p id="p-0005" num="0004">Recent photographing apparatus such as a camera are gaining more sophisticated functions, and many cameras have an advanced function capable of shooting both moving and still images. In moving image shooting, the photographing apparatus acquires a sound at the same time as acquiring an image, and records it in synchronism with the image.</p>
<p id="p-0006" num="0005">However, the photographing apparatus such as a camera includes driving sources to adjust the optical system and the like, and the driving sounds from these driving sources are recorded as noise. Even the sound of a manipulation by the user propagates as vibrations through the housing of the photographing apparatus, and is recorded as noise. To solve these problems, various sound processing circuits and photographing apparatus have been proposed.</p>
<p id="p-0007" num="0006">Japanese Patent Laid-Open No. 2008-053802 discloses a method of masking the head unloading sound of a hard disk. More specifically, a sound signal at a portion where the head unloading sound of the hard disk was generated is generated using preceding and succeeding reference sounds, thereby masking the head unloading sound. ITU-T Recommendation G.711-Appendix I describes a method of concealing a packet loss in sound transmission as a technique regarding transmission and demodulation of a sound. More specifically, a signal at a portion suffering a packet loss is generated by prediction using a reference sound signal before the loss, thereby concealing the packet loss.</p>
<p id="p-0008" num="0007">In the conventional technique disclosed in Japanese Patent Laid-Open No. 2008-053802, a predicted sound is generated by performing calculation to predict a sound signal in a noise-generated section using, as reference sounds, object sounds before and after the noise-generated section. The generated predicted sound replaces a sound in the noise-generated section. The predicted sound is generated by, for example, successively predicting the next sample of a sound signal using the continuity of the sound waveform. Alternatively, detecting the repetition frequency of a sound and repeating the waveform in a predetermined cycle generate the predicted sound. This means that the precision of the reference sound needs to be high to generate a predicted sound with high precision. However, the precision of reference sounds decreases before and after the noise-generated section. This problem will be explained.</p>
<p id="p-0009" num="0008">A general recorder includes a gain control circuit called an auto level control (ALC) circuit. When the object sound is loud, the ALC function decreases the amplification gain of a postamplifier for the sound detected by a microphone and records the sound, thereby preventing saturation of the sound signal. When the object sound is soft, the ALC function increases the amplification gain of the postamplifier for the sound detected by the microphone and records the sound, thereby increasing the S/N ratio of the sound signal. In this way, the ALC function finely changes the gain of a sound signal detected by the microphone in accordance with the loudness (sound pressure level) of the object sound. If the ALC function operates in the above-mentioned reference sounds generated section, the continuity of the sound pressure with a preceding object sound is lost, decreasing the precision of the predicted sound. That is, when the next sample of a sound signal is successively predicted using the continuity of the sound waveform, the continuity of the sound pressure is lost, failing prediction of the next sample. Also when the repetition frequency of a sound is detected to repeat the waveform in a predetermined cycle, detection of the repetition frequency of the sound fails. This results in poor precision of the predicted sound. This problem is not limited to when generating a predicted sound using reference sounds before and after the noise-generated section, as described in Japanese Patent Laid-Open No. 2008-053802. The precision of the predicted sound decreases even when the ALC amplification gain before a noise-generated section and that in the noise-generated section differ from each other in generating a predicted sound by synthesizing a reference sound before the noise-generated section and a sound in the noise-generated section. This also applies to a case wherein a sound in the noise-generated section is synthesized with a reference sound after a noise reduction section. This problem occurs not only when generating a predicted sound for noise removal processing, but also when, for example, a special effect is used to synthesize temporally preceding and succeeding object sounds. For example, the sound of a moving image is divided into a plurality of sections and the sections are synthesized. In this case, if the sections to be synthesized differ in ALC, their sound pressures become discontinuous, and no high-precision special effect (appropriate special effect) may be obtained.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0010" num="0009">The present invention has been made to solve the above problems, and one aspect of the invention provides a sound recording apparatus and method for suppressing a decrease in the precision of sound processing.</p>
<p id="p-0011" num="0010">According to one aspect of the present invention, there is provided a sound recording apparatus having a driving unit, comprising: a sound collection unit configured to generate a sound signal from an input sound; a detection unit configured to detect a level of the sound signal; an adjustment unit configured to adjust a level of the sound signal at an amplification factor corresponding to the detected level of the sound signal; a processing unit configured to process the sound signal adjusted by the adjustment unit to prevent a sound signal amplified by the adjustment unit from containing a sound signal generated upon driving the driving unit; and a control unit configured to control driving of the driving unit, the adjustment unit, and the processing unit, wherein the control unit controls the processing unit to replace a sound signal in a predetermined period that begins after instructing driving of the driving unit with a signal calculated from a sound signal included in a first period that begins after the predetermined period has elapsed, and controls the adjustment unit to substantially equalize an amplification factor when driving of the driving unit is instructed and an amplification factor in the first period.</p>
<p id="p-0012" num="0011">Also, according to another aspect of the present invention, there is provided a sound recording apparatus having a driving unit, comprising: a sound collection unit configured to generate a sound signal from an input sound; a detection unit configured to detect a level of the sound signal; an adjustment unit configured to adjust a level of the sound signal at an amplification factor corresponding to the detected level of the sound signal; a processing unit configured to process the sound signal adjusted by the adjustment unit to prevent a sound signal amplified by the adjustment unit from containing a sound signal generated upon driving the driving unit; and a control unit configured to control driving of the driving unit, the adjustment unit, and the processing unit, wherein the control unit controls the processing unit to replace a sound signal in a predetermined period that begins after instructing driving of the driving unit with a signal calculated from a sound signal included in a first period that begins after the predetermined period has elapsed, and controls the adjustment unit to increase the amplification factor more quickly at least in the first period than in a remaining period.</p>
<p id="p-0013" num="0012">Furthermore, according to another aspect of the present invention, there is provided a sound recording method in a sound recording apparatus having a driving unit, the method comprising: a sound collection step of generating a sound signal from an input sound; a detection step of detecting a level of the sound signal; an adjustment step of adjusting a level of the sound signal at an amplification factor corresponding to the detected level of the sound signal; a processing step of processing the sound signal adjusted in the adjustment step to prevent a sound signal amplified in the adjustment step from containing a sound signal generated upon driving the driving unit; and a control step of controlling driving of the driving unit, and processes in the adjustment step and the processing step, wherein in the control step, the processing step is controlled to replace a sound signal in a predetermined period after instructing driving of the driving unit with a signal calculated from a sound signal in a first period after the predetermined period, and the adjustment step is controlled to substantially equalize an amplification factor when driving of the driving unit is instructed and an amplification factor in the first period.</p>
<p id="p-0014" num="0013">Furthermore, according to another aspect of the present invention, there is provided a sound recording method in a sound recording apparatus having a driving unit, the method comprising: a sound collection step of generating a sound signal from an input sound; a detection step of detecting a level of the sound signal; an adjustment step of adjusting a level of the sound signal at an amplification factor corresponding to the detected level of the sound signal; a processing step of processing the sound signal adjusted in the adjustment step to prevent a sound signal amplified in the adjustment step from containing a sound signal generated upon driving the driving unit; and a control step of controlling driving of the driving unit, and processes in the adjustment step and the processing step, wherein in the control step, the processing step is controlled to replace a sound signal in a predetermined period after instructing driving of the driving unit with a signal calculated from a sound signal in a first period after the predetermined period, and the adjustment step is controlled to increase the amplification factor more quickly at least in the first period than in a remaining period.</p>
<p id="p-0015" num="0014">According to one aspect of the invention, a decrease in the precision of sound processing can be suppressed.</p>
<p id="p-0016" num="0015">Further features and aspects of the present invention will become apparent from the following description of exemplary embodiments with reference to the attached drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of a photographing apparatus according to an embodiment;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram of a sound processing circuit according to the embodiment;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 3</figref> is a timing chart for explaining sound processing including noise processing;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIGS. 4A and 4B</figref> are timing charts for explaining the relationship between generation of noise and the ALC-fixed section;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIGS. 5A and 5B</figref> are flowcharts for explaining gain control and noise processing according to the first embodiment;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 6</figref> is a timing chart for explaining driving of the stop and the ALC-fixed section;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIGS. 7A to 7E</figref> are charts for explaining a predicted sound and interpolation in the ALC-fixed section;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIGS. 8A and 8B</figref> are timing charts for explaining the relationship between generation of noise and the ALC-fixed section;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIGS. 9A and 9B</figref> are flowcharts for explaining gain control and noise processing according to the second embodiment;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 10</figref> is a timing chart for explaining the ALC quick recovery section; and</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 11</figref> is a flowchart for explaining gain control according to the third embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DESCRIPTION OF THE EMBODIMENTS</heading>
<p id="p-0028" num="0027">Preferred embodiments of the present invention will be described below with reference to the accompanying drawings. The following embodiments do not limit the claims of the present invention, and not all combinations of features set forth in the embodiments are essential for solving means of the present invention.</p>
<heading id="h-0005" level="1">First Embodiment</heading>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram exemplifying the arrangement of a photographing apparatus according to the first embodiment. In the first embodiment, a digital single-lens reflex camera is used as an apparatus capable of shooting a moving image. However, the present invention is not limited to this and is also applicable to a compact digital camera, a cell phone capable of shooting a moving image, and the like. Note that the operation of shooting still and moving images by a digital camera is described in various references, and a description thereof will be omitted.</p>
<p id="p-0030" num="0029">In <figref idref="DRAWINGS">FIG. 1</figref>, reference numeral <b>1</b> denotes a photographing apparatus; <b>2</b>, a lens attached to the photographing apparatus; and <b>4</b>, an optical axis of the lens. The lens barrel stores the building components of the lens <b>2</b>. The photographing apparatus <b>1</b> and photographing lens <b>2</b> are mechanically connected via a predetermined lens attachment mechanism, and electrically connected via an electric contact <b>10</b>. The digital camera formed from the photographing apparatus <b>1</b> and lens <b>2</b> includes an imaging system, image processing system, sound processing system, recording/playback system, and control system. The imaging system includes a photographing optical system <b>3</b> and image sensor <b>6</b>. The image processing system includes an A/D converter <b>20</b> and image processing circuit <b>21</b>. The sound processing system includes a microphone <b>7</b> and sound processing circuit <b>26</b>. The recording/playback system includes a recording processing circuit <b>23</b> and a memory <b>24</b> serving as a storage unit. The control system includes a camera system control circuit <b>25</b> serving as a control unit, a focus detection unit (including an AF sensor) <b>12</b>, an exposure detection unit (including an AE sensor) <b>13</b>, a camera shake sensor <b>14</b>, a manipulation detection circuit <b>27</b>, a lens system control circuit <b>28</b>, a release button <b>30</b>, and an optical system driving unit <b>9</b>. The optical system driving unit <b>9</b> includes a focus lens driving unit <b>9</b><i>a</i>, image blur correction driving unit <b>9</b><i>b</i>, and diaphragm driving unit <b>9</b><i>c</i>. A display unit <b>22</b> includes a display which is attached to the rear surface of the photographing apparatus <b>1</b> and formed from, for example, a liquid crystal display. The display unit <b>22</b> displays a variety of images on the display.</p>
<p id="p-0031" num="0030">The microphone <b>7</b> functions as, for example, a sound collection means for converting an ambient sound into an electrical signal to acquire a sound signal. In the sound processing system, the sound processing circuit <b>26</b> performs appropriate processing for a signal obtained by the microphone <b>7</b>, generating a recording sound signal. In moving image shooting, the recording processing circuit <b>23</b> (to be described later) links the generated recording sound signal to an image and compresses it. The recording processing circuit <b>23</b> outputs an image signal to the memory <b>24</b>, and generates and saves an image to be output to the display unit <b>22</b>. The recording processing circuit <b>23</b> compresses an image, moving image, sound, and the like using a predetermined method.</p>
<p id="p-0032" num="0031">The camera system control circuit <b>25</b> is connected to the focus detection unit <b>12</b> and exposure detection unit <b>13</b>. In still image shooting, the camera system control circuit <b>25</b> obtains a proper focus position and stop position based on signals from the focus detection unit <b>12</b> and exposure detection unit <b>13</b>. The camera system control circuit <b>25</b> issues an instruction to the lens system control circuit <b>28</b> via the electric contact <b>10</b>, and the lens system control circuit <b>28</b> controls the focus lens driving unit <b>9</b><i>a </i>and diaphragm driving unit <b>9</b><i>c</i>. For example, when the object to be photographed becomes bright, the image sensor <b>6</b> or the exposure detection unit <b>13</b> including the AE sensor detects it, and notifies the camera system control circuit <b>25</b> of this information. The camera system control circuit <b>25</b> outputs a signal (diaphragm driving instruction signal) to the lens system control circuit <b>28</b> to cause the diaphragm driving unit <b>9</b><i>c </i>to drive a stop (not shown) arranged in the photographing optical system <b>3</b>. The camera system control circuit <b>25</b> includes a CPU and memory, and controls each block of the photographing apparatus <b>1</b>.</p>
<p id="p-0033" num="0032">Shooting accompanied by sound recording such as so-called moving image shooting will be explained. In shooting accompanied by sound recording, a sound (to be referred to as a mechanical driving sound) generated upon driving the camera body and lens actuator is an unwanted sound and becomes noise.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram showing the detailed arrangement of the sound processing circuit <b>26</b> according to the first embodiment. A signal obtained from the microphone <b>7</b> is supplied to a gain adjustment unit <b>41</b>. The gain adjustment unit <b>41</b> adjusts the signal amplification level of the microphone <b>7</b> to fully utilize the dynamic range of an A/D converter <b>43</b>. The level adjustment will be described later. A filter <b>42</b> is formed from, for example, a low-pass filter having a cutoff frequency suited to the sampling frequency of the A/D converter <b>43</b>. When the microphone <b>7</b> is located near an element which generates a specific frequency, the filter <b>42</b> may include a proper notch filter in addition to the low-pass filter. The A/D converter <b>43</b> converts a signal processed by the gain adjustment unit <b>41</b> and filter <b>42</b> into digital data. A sound pressure level detection unit <b>44</b> detects the A/D-converted sound pressure level. When the sound pressure level detected by the sound pressure level detection unit <b>44</b> exceeds a threshold (for example, &#xbd; of the saturation level), a sound gain control unit <b>47</b> decreases the above-mentioned signal amplification level of the gain adjustment unit <b>41</b>. If the A/D-converted sound pressure level is lower than a threshold (for example, &#xbc; of the saturation level), the sound gain control unit <b>47</b> increases the signal amplification level of the gain adjustment unit <b>41</b>. In this way, the gain adjustment unit <b>41</b>, sound pressure level detection unit <b>44</b>, and sound gain control unit <b>47</b> form an auto gain change unit (auto level control: ALC) which automatically changes the gain (amplification factor) used for recording in accordance with the loudness of a sound input from the microphone <b>7</b>.</p>
<p id="p-0035" num="0034">A noise reduction unit <b>45</b> processes a sound signal containing noise generated upon, for example, driving the diaphragm driving unit <b>9</b><i>c </i>of the camera, thereby reducing noise in the sound in the noise-mixed section. More specifically, the noise reduction unit <b>45</b> removes an object sound signal in the noise-generated section. The noise reduction unit <b>45</b> predicts an object sound (sound prediction) in the noise-generated section using reference signals in sections (learning sections) before and after the noise-generated section (object sounds before and after a predetermined region, that is, noise-generated section). The noise reduction unit <b>45</b> replaces the original signal in the noise-generated section with the predicted object sound, complementing the sound signal. In the sound prediction, for example, the next sample of a sound signal is successively predicted using the continuity of the sound waveform. Alternatively, the repetition frequency of the sound may be detected to repeat the waveform in a predetermined cycle. That is, the sound prediction processing generates a signal which replaces one in the noise-generated section by using the sound of a reference signal. The first embodiment will exemplify driving of the diaphragm driving unit <b>9</b><i>c</i>, but the present invention is also applicable to a case wherein noise is mixed upon driving another driving unit (camera body, lens, or actuator). A filter <b>46</b> is used to perform suitable filter processing, as needed, after noise processing. The filter <b>46</b> is formed from a bandpass filter which passes only sounds in a human audible sound band of, for example, 20 Hz to 20 kHz. If noise processing is unnecessary, the filter <b>46</b> can only transmit a sound or execute proper delay without performing noise processing. A vibration detection unit <b>111</b> is adopted in the second embodiment and can be omitted in the first embodiment.</p>
<p id="p-0036" num="0035">Sound prediction to successively predict the next sample (value) of a sound signal using the continuity of the sound waveform will be explained. Derivation (learning operation) of a linear prediction coefficient used in the sound prediction, and prediction (prediction operation) of a signal using the linear prediction coefficient will be described. In the use of linear prediction, the following linear combination is assumed between a current signal and a finite number (p in this case) of sample values adjacent to the current signal:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>x</i><sub>t</sub>+&#x3b1;<sub>1</sub><i>x</i><sub>t&#x2212;1</sub>+ . . . +&#x3b1;<sub>p</sub><i>x</i><sub>t&#x2212;p</sub>=&#x3b5;<sub>t</sub>&#x2003;&#x2003;(1)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where &#x3b5;<sub>t </sub>indicates random variables which have no correlation, a mean value of 0 and a variance of &#x3c3;<sup>2</sup>. Rewriting equation (1) to predict x<sub>t </sub>from past values yields:
</p>
<p id="p-0037" num="0036">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>x</mi>
          <mi>t</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <msub>
              <mover>
                <mi>x</mi>
                <mo>^</mo>
              </mover>
              <mi>t</mi>
            </msub>
            <mo>+</mo>
            <msub>
              <mi>&#x25b;</mi>
              <mi>t</mi>
            </msub>
          </mrow>
          <mo>=</mo>
          <mrow>
            <mrow>
              <mrow>
                <mrow>
                  <mo>-</mo>
                  <msub>
                    <mi>&#x3b1;</mi>
                    <mn>1</mn>
                  </msub>
                </mrow>
                <mo>&#x2062;</mo>
                <msub>
                  <mi>x</mi>
                  <mrow>
                    <mi>t</mi>
                    <mo>-</mo>
                    <mn>1</mn>
                  </mrow>
                </msub>
              </mrow>
              <mo>-</mo>
              <mi>&#x2026;</mi>
              <mo>-</mo>
              <mrow>
                <msub>
                  <mi>&#x3b1;</mi>
                  <mi>p</mi>
                </msub>
                <mo>&#x2062;</mo>
                <msub>
                  <mi>x</mi>
                  <mrow>
                    <mi>t</mi>
                    <mo>-</mo>
                    <mi>p</mi>
                  </mrow>
                </msub>
              </mrow>
              <mo>+</mo>
              <msub>
                <mi>&#x25b;</mi>
                <mi>t</mi>
              </msub>
            </mrow>
            <mo>=</mo>
            <mrow>
              <mrow>
                <mo>-</mo>
                <mrow>
                  <munderover>
                    <mo>&#x2211;</mo>
                    <mrow>
                      <mi>i</mi>
                      <mo>=</mo>
                      <mn>1</mn>
                    </mrow>
                    <mi>p</mi>
                  </munderover>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <msub>
                      <mi>&#x3b1;</mi>
                      <mi>i</mi>
                    </msub>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>x</mi>
                      <mrow>
                        <mi>t</mi>
                        <mo>-</mo>
                        <mi>i</mi>
                      </mrow>
                    </msub>
                  </mrow>
                </mrow>
              </mrow>
              <mo>+</mo>
              <msub>
                <mi>&#x25b;</mi>
                <mi>t</mi>
              </msub>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0038" num="0037">From equation (2), if &#x3b5;<sub>t </sub>is sufficiently small, the current value is expressed by the linear sum of p neighboring values.</p>
<p id="p-0039" num="0038">If the approximation of x<sub>t </sub>obtained by this prediction is satisfactory, x<sub>t+1 </sub>is also calculated by the linear sum of p neighboring values in the same way.</p>
<p id="p-0040" num="0039">As long as &#x3b5;<sub>t </sub>is sufficiently small, predicted signals can be sequentially obtained.</p>
<p id="p-0041" num="0040">How to determine &#x3b1;<sub>i </sub>which minimizes &#x3b5;<sub>t </sub>will be examined.</p>
<p id="p-0042" num="0041">In this specification, an operation to determine &#x3b1;<sub>i </sub>which minimizes &#x3b5;<sub>t </sub>will be called a learning operation. It suffices to minimize the sum of squares of &#x3b5;<sub>t </sub>in the above-mentioned learning section. Letting t<sub>0 </sub>be the learning start time and t<sub>1 </sub>be the learning end time, we have</p>
<p id="p-0043" num="0042">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>t</mi>
              <mo>=</mo>
              <msub>
                <mi>t</mi>
                <mn>0</mn>
              </msub>
            </mrow>
            <msub>
              <mi>t</mi>
              <mn>1</mn>
            </msub>
          </munderover>
          <mo>&#x2062;</mo>
          <msubsup>
            <mi>&#x25b;</mi>
            <mi>t</mi>
            <mn>2</mn>
          </msubsup>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>t</mi>
                <mo>=</mo>
                <msub>
                  <mi>t</mi>
                  <mn>0</mn>
                </msub>
              </mrow>
              <msub>
                <mi>t</mi>
                <mn>1</mn>
              </msub>
            </munderover>
            <mo>&#x2062;</mo>
            <msup>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <munderover>
                    <mo>&#x2211;</mo>
                    <mrow>
                      <mi>i</mi>
                      <mo>=</mo>
                      <mn>0</mn>
                    </mrow>
                    <mi>p</mi>
                  </munderover>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <msub>
                      <mi>&#x3b1;</mi>
                      <mi>i</mi>
                    </msub>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>x</mi>
                      <mrow>
                        <mi>t</mi>
                        <mo>-</mo>
                        <mi>i</mi>
                      </mrow>
                    </msub>
                  </mrow>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mn>2</mn>
            </msup>
          </mrow>
          <mo>=</mo>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>t</mi>
                <mo>=</mo>
                <msub>
                  <mi>t</mi>
                  <mn>0</mn>
                </msub>
              </mrow>
              <msub>
                <mi>t</mi>
                <mn>1</mn>
              </msub>
            </munderover>
            <mo>&#x2062;</mo>
            <mrow>
              <munderover>
                <mo>&#x2211;</mo>
                <mrow>
                  <mi>i</mi>
                  <mo>=</mo>
                  <mn>0</mn>
                </mrow>
                <mi>p</mi>
              </munderover>
              <mo>&#x2062;</mo>
              <mrow>
                <munderover>
                  <mo>&#x2211;</mo>
                  <mrow>
                    <mi>j</mi>
                    <mo>=</mo>
                    <mn>0</mn>
                  </mrow>
                  <mi>p</mi>
                </munderover>
                <mo>&#x2062;</mo>
                <mrow>
                  <msub>
                    <mi>&#x3b1;</mi>
                    <mi>i</mi>
                  </msub>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>&#x3b1;</mi>
                    <mi>j</mi>
                  </msub>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>x</mi>
                    <mrow>
                      <mi>t</mi>
                      <mo>-</mo>
                      <mi>i</mi>
                    </mrow>
                  </msub>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>x</mi>
                    <mrow>
                      <mi>t</mi>
                      <mo>-</mo>
                      <mi>j</mi>
                    </mrow>
                  </msub>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
for &#x3b1;<sub>0</sub>=1. To simplify equation (3), we assume
</p>
<p id="p-0044" num="0043">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>c</mi>
          <mi>ij</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mo>&#x2211;</mo>
            <mrow>
              <mi>t</mi>
              <mo>=</mo>
              <msub>
                <mi>t</mi>
                <mn>0</mn>
              </msub>
            </mrow>
            <msub>
              <mi>t</mi>
              <mn>1</mn>
            </msub>
          </munderover>
          <mo>&#x2062;</mo>
          <mrow>
            <msub>
              <mi>x</mi>
              <mrow>
                <mi>t</mi>
                <mo>-</mo>
                <mi>i</mi>
              </mrow>
            </msub>
            <mo>&#x2062;</mo>
            <msub>
              <mi>x</mi>
              <mrow>
                <mi>t</mi>
                <mo>-</mo>
                <mi>j</mi>
              </mrow>
            </msub>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>4</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0045" num="0044">Then, to determine &#x3b1;<sub>i </sub>which minimizes the solution of equation (3), equation (3) is solved by setting a partial derivative for &#x3b1;<sub>j </sub>(j=1, 2, . . . , p) in that equation to 0:</p>
<p id="p-0046" num="0045">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mfrac>
            <mo>&#x2202;</mo>
            <mrow>
              <mo>&#x2202;</mo>
              <msub>
                <mi>&#x3b1;</mi>
                <mi>i</mi>
              </msub>
            </mrow>
          </mfrac>
          <mo>&#x2062;</mo>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>t</mi>
                <mo>=</mo>
                <msub>
                  <mi>t</mi>
                  <mn>0</mn>
                </msub>
              </mrow>
              <msub>
                <mi>t</mi>
                <mn>1</mn>
              </msub>
            </munderover>
            <mo>&#x2062;</mo>
            <msubsup>
              <mi>&#x25b;</mi>
              <mi>t</mi>
              <mn>2</mn>
            </msubsup>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mfrac>
              <mo>&#x2202;</mo>
              <mrow>
                <mo>&#x2202;</mo>
                <msub>
                  <mi>&#x3b1;</mi>
                  <mi>i</mi>
                </msub>
              </mrow>
            </mfrac>
            <mo>&#x2062;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <munderover>
                  <mo>&#x2211;</mo>
                  <mrow>
                    <mi>i</mi>
                    <mo>=</mo>
                    <mn>0</mn>
                  </mrow>
                  <mi>p</mi>
                </munderover>
                <mo>&#x2062;</mo>
                <mrow>
                  <munderover>
                    <mo>&#x2211;</mo>
                    <mrow>
                      <mi>j</mi>
                      <mo>=</mo>
                      <mn>0</mn>
                    </mrow>
                    <mi>p</mi>
                  </munderover>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <msub>
                      <mi>&#x3b1;</mi>
                      <mi>i</mi>
                    </msub>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>c</mi>
                      <mi>ij</mi>
                    </msub>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>&#x3b1;</mi>
                      <mi>j</mi>
                    </msub>
                  </mrow>
                </mrow>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>=</mo>
          <mrow>
            <mrow>
              <mn>2</mn>
              <mo>&#x2062;</mo>
              <mrow>
                <munderover>
                  <mo>&#x2211;</mo>
                  <mrow>
                    <mi>i</mi>
                    <mo>=</mo>
                    <mn>0</mn>
                  </mrow>
                  <mi>p</mi>
                </munderover>
                <mo>&#x2062;</mo>
                <mrow>
                  <msub>
                    <mi>&#x3b1;</mi>
                    <mi>i</mi>
                  </msub>
                  <mo>&#x2062;</mo>
                  <msub>
                    <mi>c</mi>
                    <mi>ij</mi>
                  </msub>
                </mrow>
              </mrow>
            </mrow>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>5</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0047" num="0046">Equation (5) reveals that &#x3b1;<sub>i </sub>can be determined by solving p simultaneous linear equations. In equation (5), c<sub>ij </sub>can be obtained from x<sub>t&#x2212;i </sub>(i=1, 2, . . . , p). In other words, &#x3b1;<sub>i </sub>can be obtained from equation (5).</p>
<p id="p-0048" num="0047">When &#x3b1;<sub>i </sub>is determined in accordance with equation (5), the sum of squares of &#x3b5;<sub>t </sub>is minimized. From equation (2), the x<sub>t </sub>value can be satisfactorily approximated by x^<sub>t</sub>. If this approximation is satisfactory, x^<sub>t </sub>can be used as a predicted signal instead of x<sub>t</sub>. Also for x<sub>t&#x2212;1</sub>, its approximate value can be obtained from (p&#x2212;1) neighboring signals and a predicted signal. By sequentially repeating this processing, signals in the prediction section can be generated.</p>
<p id="p-0049" num="0048">By using &#x3b1;<sub>i </sub>determined in this fashion, the predicted signal of a sound in the prediction section is obtained. In this specification, an operation to obtain the approximation (predicted signal) of a prediction section using the determined &#x3b1;<sub>i </sub>will be called a prediction operation. A preferred learning operation and prediction operation will be explained below.</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 3</figref> schematically shows an object sound. The abscissa axis represents time, and the ordinate axis represents the sound pressure level. In the first embodiment, a sound predicted by calculation overwrites (replaces) a sound in a section (noise-generated section) where noise was generated upon driving a driving unit such as the diaphragm driving unit. For this purpose, when the noise reduction unit <b>45</b> detects a diaphragm driving instruction signal, it temporarily stores a sound in the memory.</p>
<p id="p-0051" num="0050">In the first embodiment, the noise reduction unit <b>45</b> assumes that noise generated upon driving the stop is mixed in a period of, for example, 100 msec to 200 msec after detecting the diaphragm driving instruction signal. The section where noise was generated will be called a deletion section. Referring to <figref idref="DRAWINGS">FIG. 3</figref>, in an original object sound <b>51</b><i>a</i>, noise is superposed in a deletion section <b>52</b> serving as the first section. The noise reduction unit <b>45</b> assumes, as a learning section <b>53</b><i>a </i>before the noise-generated section, a period of, for example, 10 msec to 100 msec after detecting the diaphragm driving instruction signal. The noise reduction unit <b>45</b> also assumes, as a learning section <b>53</b><i>b </i>after the noise-generated section, a period of, for example, 200 msec to 300 msec after detecting the diaphragm driving instruction signal. In the first embodiment, the noise reduction unit <b>45</b> determines sections in this fashion upon detecting the diaphragm driving instruction signal. By using a sound predicted by the above-described prediction processing, the noise reduction unit <b>45</b> performs noise removal processing for the sound temporarily stored in the memory before recording on the recording medium. In this case, the noise reduction unit <b>45</b> first deletes an object sound in the deletion section <b>52</b> of the sound stored in the memory.</p>
<p id="p-0052" num="0051">An object sound <b>51</b><i>b </i>is obtained by deleting the object sound in the deletion section <b>52</b>. The noise reduction unit <b>45</b> executes the prediction operation using object sounds in the learning sections <b>53</b><i>a </i>and <b>53</b><i>b </i>before and after the deletion section <b>52</b> that are stored in the memory. Signals predicted by the prediction operation in the respective learning sections are weighted and synthesized. The resultant predicted signal is embedded in the deletion section <b>52</b>. An object sound <b>51</b><i>c </i>is obtained by embedding the predicted signal in a prediction section <b>54</b> of the object sound <b>51</b><i>b</i>. In this manner, neighboring signals before and after the prediction section <b>54</b> (identical to the deletion section <b>52</b>) are used to execute the learning operation. This utilizes the fact that a sound signal is relatively highly repetitive within a very short-time region.</p>
<p id="p-0053" num="0052">The above-described sound prediction calculation is executed independently for two signals in the learning sections <b>53</b><i>a </i>and <b>53</b><i>b</i>. Performing the learning operation in the learning section <b>53</b><i>a </i>before the prediction section <b>54</b> and generating a signal in the prediction section <b>54</b> will be called forward prediction. Performing the learning operation in the learning section <b>53</b><i>b </i>after the prediction section <b>54</b> and generating a signal in the prediction section <b>54</b> will be called backward prediction.</p>
<p id="p-0054" num="0053">A signal in the prediction section <b>54</b> is obtained by executing appropriate calculation to mix predicted values so that the weight of a value in forward prediction becomes high in a section close to the learning section <b>53</b><i>a </i>and that of a value in backward prediction becomes high in a section close to the learning section <b>53</b><i>b</i>. Note that backward prediction cannot be done in real time. In practice, when the noise reduction unit <b>45</b> detects the diaphragm driving instruction signal, it temporarily stores an object sound only by a predetermined section in the memory or the like. Then, the noise reduction unit <b>45</b> replaces, with a predicted sound, a sound in a noise-generated section (corresponding to the deletion section <b>52</b>) where noise is superposed in the stored sound. After that, the sound is recorded on the recording medium. An object sound may be temporarily stored in the memory only when sound prediction is performed. Even when no prediction is done, an object sound may always be temporarily stored in the memory and then recorded on the recording medium. In the first embodiment, when no prediction is performed, an object sound is recorded on the recording medium without storing it in the memory.</p>
<p id="p-0055" num="0054">The reason why noise processing can be done not in real time upon detecting a sound but until a sound is recorded after detecting it will be explained.</p>
<p id="p-0056" num="0055">As described with reference to the block diagram of <figref idref="DRAWINGS">FIG. 1</figref>, the camera system control circuit <b>25</b> controls driving of the stop, so the timing to drive the stop (driving of the stop or the like generates noise) is known. In the first embodiment, therefore, when the noise reduction unit <b>45</b> detects the diaphragm driving instruction signal, it stores, in the memory, sound data of a predetermined time (for example, 300 msec) after detecting the diaphragm driving instruction signal. The noise reduction unit <b>45</b> assumes that noise generated upon driving the stop is mixed in a period of, for example, 100 msec to 200 msec after detecting the diaphragm driving instruction signal. The noise reduction unit <b>45</b> assumes, as the learning section <b>53</b><i>a </i>before the noise-generated section, a period of, for example, 10 msec to 100 msec after detecting the diaphragm driving instruction signal. The noise reduction unit <b>45</b> also assumes, as the learning section <b>53</b><i>b </i>after the noise-generated section, a period of, for example, 200 msec to 300 msec after detecting the diaphragm driving instruction signal. In the first embodiment, the noise reduction unit <b>45</b> determines sections in this way upon detecting the diaphragm driving instruction signal. By using a sound predicted by the above-described prediction processing, the noise reduction unit <b>45</b> performs noise removal processing for the sound temporarily stored in the memory before recording on the recording medium. The noise reduction unit <b>45</b> replaces the sound in the noise section with the predicted sound based on reference sounds in the preceding and succeeding learning sections before sound recording.</p>
<p id="p-0057" num="0056">Next, auto gain change control (to be referred to as auto level control: ALC) will be described.</p>
<p id="p-0058" num="0057">The ALC function is implemented by the gain adjustment unit <b>41</b>, sound pressure level detection unit <b>44</b>, and sound gain control unit <b>47</b> in the sound processing circuit <b>26</b>, as shown in <figref idref="DRAWINGS">FIG. 2</figref>. The ALC function automatically changes the gain. <figref idref="DRAWINGS">FIG. 4A</figref> shows a general ALC operation. The abscissa axis represents time, and the ordinate axis represents the sound pressure level or gain level (since there are two scales, no scale is plotted on the ordinate axis).</p>
<p id="p-0059" num="0058">The object sound <b>51</b><i>a </i>indicated by the dotted line has a normal sound pressure till time t<b>1</b>. The object sound becomes loud (equal to or larger than &#xbd; of the recording saturation level) in a period of time t<b>1</b> to time t<b>2</b>, and then returns to the normal sound pressure level. In <figref idref="DRAWINGS">FIG. 4A</figref>, when a large object sound is generated in a period of time t<b>1</b> to time t<b>2</b>, the ALC function operates to prevent saturation of the sound signal, and the gain adjustment unit <b>41</b> decreases the signal amplification level of the microphone. Hence, a sound <b>61</b> to be recorded indicated by the solid line is not recorded as loud as the object sound <b>51</b><i>a </i>in the section of t<b>1</b> to t<b>2</b>. When the object sound returns to the original sound pressure at time t<b>2</b>, the ALC function operates again, and the gain adjustment unit <b>41</b> gradually returns the signal amplification level of the microphone to the original one. The signal amplification level is &#x201c;gradually returned&#x201d; because if it abruptly returns, the continuity of the sound is lost and an unnatural sound is recorded. However, as is apparent from the schematic view of <figref idref="DRAWINGS">FIG. 4A</figref>, the sound <b>61</b> to be actually recorded changes the sound pressure level from time t<b>2</b> to time t<b>3</b>, failing high-precision recording. Discontinuity of the sound is perceived very unnaturally, so it is important not to abruptly change the signal amplification level. A change of the signal amplification level with a predetermined time constant is also a cause of decreasing the recording precision, as described above. As shown in <figref idref="DRAWINGS">FIG. 4A</figref>, an ALC signal amplification level <b>62</b> (chain line) temporarily decreases at time t<b>1</b> and slowly returns from time t<b>2</b> to time t<b>3</b>. At time t<b>1</b>, the signal amplification level <b>62</b> is decreased not gradually but abruptly in order to prevent sudden saturation of the signal.</p>
<p id="p-0060" num="0059">The relationship between the noise reduction unit and the ALC function will be explained with reference to <figref idref="DRAWINGS">FIGS. 3 and 4A</figref>. Assume that the stop is driven in an object sound (loud) section <b>65</b> in FIG. <b>4</b>A, noise generated upon driving the stop is mixed, and the object sound level changes like the object sound <b>51</b><i>a</i>. In this case, the object sound (loud) section <b>65</b> in <figref idref="DRAWINGS">FIGS. 4A and 4B</figref> corresponds to the deletion section <b>52</b> in <figref idref="DRAWINGS">FIG. 3</figref>. As described with reference to <figref idref="DRAWINGS">FIG. 3</figref>, a sound in the prediction section <b>54</b> is predicted using reference sounds in the preceding and succeeding learning sections <b>53</b><i>a </i>and <b>53</b><i>b</i>. In <figref idref="DRAWINGS">FIG. 4A</figref>, a preceding learning section <b>64</b> and a succeeding learning section <b>66</b> are set. In <figref idref="DRAWINGS">FIG. 4A</figref>, the reference sound (sound <b>61</b> to be recorded) in the preceding learning section <b>64</b> is obtained by recording the object sound <b>51</b><i>a </i>at a predetermined signal amplification level. By using this reference sound, a sound to replace one in the deletion section (deletion section <b>52</b> in <figref idref="DRAWINGS">FIG. 3</figref> or object sound (loud) section <b>65</b> in <figref idref="DRAWINGS">FIG. 4A</figref>) can be predicted with high precision. To the contrary, the reference sound (sound <b>61</b> to be recorded) in the succeeding learning section <b>66</b> is obtained by recording the object sound <b>51</b><i>a </i>at a variable signal amplification level. That is, the reference sound in the succeeding learning section <b>66</b> of the sound <b>61</b> to be recorded is attained by the ALC operation, as described above. For this reason, the sound prediction precision in the deletion section (deletion section <b>52</b> in <figref idref="DRAWINGS">FIG. 3</figref> or object sound (loud) section <b>65</b> in <figref idref="DRAWINGS">FIG. 4A</figref>) using the reference sound in the succeeding learning section <b>66</b> decreases greatly.</p>
<p id="p-0061" num="0060">In the first embodiment, the signal amplification level of the gain adjustment unit <b>41</b> is fixed in a section undergoing sound prediction to prevent a decrease in sound prediction precision caused by a change of the signal amplification level. More specifically, the signal amplification level of the gain adjustment unit <b>41</b> is fixed in a section including the preceding learning section <b>64</b>, noise-generated section <b>65</b>, and succeeding learning section <b>66</b>, as shown in <figref idref="DRAWINGS">FIG. 4B</figref>. This section is defined as an ALC-fixed section <b>71</b>. In the ALC-fixed section <b>71</b>, the sound gain control unit <b>47</b> fixes the signal amplification level at an immediately preceding level regardless of a change of the sound pressure of the object sound. Even in the succeeding learning section <b>66</b>, the object sound is recorded at a predetermined signal amplification level. This can prevent a decrease in the precision of a sound predicted based on the succeeding learning section <b>66</b>. Accordingly, a sound signal containing noise generated upon driving the stop in the diaphragm driving section (deletion section <b>52</b>) can be replaced with a high-quality predicted sound generated from reference sounds in the preceding and succeeding learning sections <b>64</b> and <b>66</b>. Since the ALC level is fixed for the sound <b>61</b> to be recorded, the object sound <b>51</b><i>a </i>becomes loud enough to saturate the circuit in the deletion section <b>52</b> corresponding to the diaphragm driving section. However, since the sound in this section is deleted, no problem occurs even if saturation of the sound occurs. In the first embodiment, the signal amplification level is fixed in the section including the preceding learning section <b>64</b>, noise-generated section <b>65</b>, and succeeding learning section <b>66</b>. The sound in the noise-generated section <b>65</b> is deleted and a sound to replace it is obtained by prediction using sounds in the preceding and succeeding learning sections <b>64</b> and <b>66</b>. When processing sounds in the preceding and succeeding learning sections <b>64</b> and <b>66</b>, like the first embodiment, the signal amplification level in the noise-generated section <b>65</b> need not be fixed. It suffices to control the signal amplification level at a predetermined value in the preceding and succeeding learning sections <b>64</b> and <b>66</b>.</p>
<p id="p-0062" num="0061">In the first embodiment, the ALC level is fixed from time t&#x2212;1 before time t<b>0</b>. In actual shooting, not only a sound generated upon driving the stop, but also the sound of manipulating the photographing apparatus by the user are superposed in an object sound. This sound propagates through the housing of the photographing apparatus, and is input as a very loud sound to the microphone. Such a sound is generated in a short time. However, if the ALC function operates every time the sound is generated, return of the ALC level requires a long time, as represented by a waveform <b>63</b> shown in <figref idref="DRAWINGS">FIG. 4A</figref>. An object sound during the return cannot then be used as a reference sound for prediction. To prevent variations of the ALC level in the learning sections <b>64</b> and <b>66</b>, a section longer than one including the learning sections <b>64</b> and <b>66</b> is set as the ALC-fixed section <b>71</b> (from time t&#x2212;1 to time t<b>4</b>).</p>
<p id="p-0063" num="0062">The ALC-fixed section <b>71</b> is set especially when reducing noise generated by a driving unit driven in accordance with an instruction from the photographing apparatus, like driving of the stop. More specifically, when the photographing apparatus outputs an instruction to, for example, drive the lens stop, it can determine that the stop will be driven. Generation of noise by driving the stop can therefore be predicted, and the ALC-fixed section <b>71</b> can be set. Note that the camera system control circuit <b>25</b> includes a function of predicting generation of such noise, that is, specifying a noise-generated section. The camera system control circuit <b>25</b> instructs the sound gain control unit <b>47</b> to inhibit changing the signal amplification level for a predetermined period (period during which sound processing is done) so as to fix the signal amplification level in the gain adjustment unit <b>41</b> in this section. For example, the camera system control circuit <b>25</b> issues an instruction to fix the signal amplification level at a level set before driving the stop. While the sound gain control unit <b>47</b> receives this instruction, it keeps the gain constant in the gain adjustment unit <b>41</b>.</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIGS. 5A and 5B</figref> are flowcharts for explaining sound recording processing according to the first embodiment. This sequence starts when the digital camera starts recording in moving image shooting. For descriptive convenience, the flowcharts of <figref idref="DRAWINGS">FIGS. 5A and 5B</figref> show processes necessary for a description of the first embodiment, and do not show other general processes. In the first embodiment, when no prediction is done, a sound is recorded on the recording medium without storing it in the memory.</p>
<p id="p-0065" num="0064">An object sound input to the microphone <b>7</b> is amplified by the gain adjustment unit <b>41</b>, undergoes filter processing by the filter <b>42</b>, and is A/D-converted by the A/D converter <b>43</b>. In step S<b>501</b>, the sound pressure level detection unit <b>44</b> detects the sound pressure of the A/D-converted object sound. In step S<b>502</b>, the sound gain control unit <b>47</b> detects whether the camera system control circuit <b>25</b> has output a diaphragm driving instruction signal, and determines whether to drive the stop. If the stop is not to be driven, the process advances to step S<b>503</b>; if the stop is to be driven, to step S<b>506</b>. If the stop is to be driven, processes in steps S<b>503</b> to S<b>505</b> are skipped, changing the gain by the ALC function is inhibited, and the recording level is fixed. This section serves as the ALC-fixed section <b>71</b> where the signal amplification level in the gain adjustment unit <b>41</b> is fixed. In the first embodiment, the ALC gain is fixed at an immediately preceding level in the ALC-fixed section <b>71</b>, but is not limited to this. For example, in the ALC-fixed section, the ALC level may be fixed at a predetermined level. For example, if it is determined in step S<b>502</b> to drive the stop, the process may advance to step S<b>505</b> to fix the ALC level at a normal recording level in the ALC-fixed section.</p>
<p id="p-0066" num="0065">This example concerns the deletion section <b>52</b> arising from driving of the stop, and the ALC-fixed section <b>71</b> is a predetermined period corresponding to the diaphragm driving section. The &#x201c;ALC-fixed driving section&#x201d; will be described in detail. <figref idref="DRAWINGS">FIG. 6</figref> is a chart for explaining the relationship between the ALC-fixed driving section and the diaphragm driving section. The abscissa axis represents time, and the ordinate axis represents the state of each signal. H is signal ON and L is signal OFF. While an ALC-fixed section signal <b>92</b> shown in <figref idref="DRAWINGS">FIG. 6</figref> is ON (H), the sound gain control unit <b>47</b> inhibits changing the gain by the ALC function.</p>
<p id="p-0067" num="0066">When the object to be photographed becomes bright and the exposure needs to be compensated by narrowing down the stop, the camera system control circuit <b>25</b> outputs at time t&#x2212;2 a diaphragm driving instruction signal <b>93</b> indicated by the chain line. In response to this, the camera system control circuit <b>25</b> outputs the ALC-fixed section signal <b>92</b> to the sound gain control unit <b>47</b> at time t&#x2212;1. The camera system control circuit <b>25</b> sets a learning section of, for example, 0.1 sec from time to, and then outputs a diaphragm driving signal <b>91</b>. The lens system control circuit <b>28</b> causes the diaphragm driving unit <b>9</b><i>c </i>to drive the stop in accordance with the diaphragm driving signal <b>91</b>. In this way, prior to diaphragm driving, the camera system control circuit <b>25</b> outputs the ALC-fixed section signal <b>92</b> which ensures the preceding learning section <b>64</b>. The timing when a noise-generated section appears is determined based on a control signal associated with driving of a mechanism such as the stop arranged in the digital camera. The ALC-fixed section is determined to further contain a learning section set before the determined noise-generated section. Note that the control signal is a diaphragm driving instruction signal in this example, but is not limited to this. For example, a user manipulation signal or the like (for example, zoom change manipulation) can also be detected as the control signal.</p>
<p id="p-0068" num="0067">The ALC-fixed section signal <b>92</b> is output from the start of the preceding learning section <b>64</b> or a time earlier than that, stably fixing the signal amplification level in the learning section <b>64</b>. The diaphragm driving time is as almost constant as, for example, about 0.1 sec. The period up to time t<b>4</b> including the diaphragm driving signal generation period (deletion section <b>65</b>) and the succeeding learning section <b>66</b> is set as the ON period of the ALC-fixed section signal <b>92</b>. It is also possible to monitor the diaphragm driving signal and disable the ALC-fixed section signal <b>92</b> upon the lapse of the period of the learning section after disabling the diaphragm driving signal. While the ALC-fixed section signal <b>92</b> is ON, the signal amplification level is fixed at a predetermined level or standard level. The ALC-fixed section signal <b>92</b> is output till the end of the succeeding learning section or time t<b>4</b> later than that, thereby fixing the signal amplification level in the succeeding learning section <b>66</b>.</p>
<p id="p-0069" num="0068">As is apparent from <figref idref="DRAWINGS">FIG. 6</figref>, the ALC-fixed section signal <b>92</b> makes the ALC-fixed section <b>71</b> a long section including the actual diaphragm driving signal <b>91</b>. This prevents the influence of variations of the ALC level on an object sound in the learning section. In other words, the signal amplification level is fixed prior to the diaphragm driving instruction, so the object sound in the learning section is free from the influence of variations of the ALC level.</p>
<p id="p-0070" num="0069">In step S<b>503</b>, the sound gain control unit <b>47</b> determines whether the sound pressure of the object sound detected in step S<b>501</b> is equal to or higher than a predetermined level. If the sound pressure is equal to or higher than the predetermined level, the process advances to step S<b>504</b>, and the gain adjustment unit <b>41</b> decreases the recording level. If the sound pressure is lower than the predetermined level, the process advances to step S<b>505</b> to set a normal recording level. The ALC function executed in S<b>503</b> to S<b>505</b> decreases the gain when the sound pressure is equal to or higher than the predetermined level. Instead, the gain may be increased when the sound pressure is lower than the predetermined level. If the diaphragm driving instruction signal is detected, the process advances to step S<b>506</b>. In step S<b>506</b>, the object sound is recorded at the set level and temporarily stored. In the temporary storage, for example, a memory (not shown) arranged in the sound gain control unit <b>47</b> is usable. The object sound is temporarily stored because a signal (succeeding learning section) after the section subjected to prediction processing is used, as described above.</p>
<p id="p-0071" num="0070">This is gain change control executed in a predetermined period including learning sections before and after the noise-generated section, in order to reduce the influence of variations of the gain on generation of a predicted sound. If necessary, the temporarily stored sound undergoes noise processing to be described below, and is recorded as a recorded sound. Note that the processes in <figref idref="DRAWINGS">FIGS. 5A and 5B</figref> are executed apparently parallelly. In step S<b>507</b>, the noise reduction unit <b>45</b> determines whether the camera system control circuit <b>25</b> has output a diaphragm driving instruction signal, and determines whether to drive the stop. If it is determined in step S<b>507</b> to drive the stop, the process advances to step S<b>509</b>; if not to drive it, to step S<b>513</b>.</p>
<p id="p-0072" num="0071">If it is determined in step S<b>507</b> not to drive the stop, the process shifts to step S<b>513</b> to record the sound signal on the recording medium. If it is determined in step S<b>507</b> to drive the stop, the process shifts to steps S<b>509</b> to S<b>512</b> to execute the foregoing prediction processing and the like, thereby achieving noise removal processing. In step S<b>509</b>, the noise reduction unit (sound gain control unit <b>47</b>) determines whether to start prediction, based on whether the learning section <b>66</b> is completed. If switching of the diaphragm driving signal <b>91</b> to the OFF state is detected and the lapse of a period corresponding to the learning section <b>66</b> is detected, it is determined to start prediction. Alternatively, if the completion of the ALC-fixed section (shift of the ALC-fixed section signal <b>92</b> to the OFF state) is detected, it may be determined to start prediction.</p>
<p id="p-0073" num="0072">If it is determined in step S<b>509</b> to start prediction, the process advances to step S<b>510</b>. In step S<b>510</b>, the noise reduction unit (sound gain control unit <b>47</b>) predicts a sound in the deletion section from sound signals in the learning sections before and after the deletion section. In step S<b>511</b>, the noise reduction unit (sound gain control unit <b>47</b>) embeds the sound predicted in step S<b>510</b> in the deletion section. In step S<b>512</b>, a sound signal having undergone noise processing is embedded in one having undergone no noise processing, and the two sound signals are temporarily aligned. The process then advances to step S<b>513</b>.</p>
<p id="p-0074" num="0073">Sound data obtained by replacing the sound in the noise section with the predicted sound in step S<b>512</b> is temporarily stored in the memory. In step S<b>513</b>, the sound processing circuit <b>26</b> records the sound data in the memory <b>24</b>. For example, the sound processing circuit <b>26</b> records, in the memory <b>24</b>, a sound signal in which the sound signal having undergone noise processing has been embedded in step S<b>512</b>. A sound signal other than one in the diaphragm driving section is directly written in the memory <b>24</b>.</p>
<p id="p-0075" num="0074">Note that the processes in steps S<b>507</b> to S<b>513</b> shown in <figref idref="DRAWINGS">FIG. 5B</figref> may not be executed by the digital camera, and a sound signal recorded by the digital camera may be processed by an external information processing apparatus (for example, personal computer). In this case, a signal obtained in step S<b>504</b> or S<b>505</b> is recorded on the recording medium of the camera together with the diaphragm driving section signal <b>92</b> and diaphragm driving signal <b>91</b>. The external information processing apparatus performs the above-mentioned sound signal noise processing based on the diaphragm driving section signal and diaphragm driving signal recorded together with the sound signal.</p>
<p id="p-0076" num="0075"><figref idref="DRAWINGS">FIGS. 7A to 7E</figref> are charts showing sound signals in the first embodiment of the present invention. The abscissa axis represents time, and the ordinate axis represents the sound pressure level. <figref idref="DRAWINGS">FIG. 7A</figref> shows a state in which diaphragm driving noise is mixed in an object sound signal in a noise-mixed section <b>102</b>. <figref idref="DRAWINGS">FIG. 7B</figref> shows a sound signal waveform (predicted waveform <b>105</b>) while a sound in a prediction section <b>104</b> (corresponding to the noise-mixed section <b>102</b>) is predicted using a preceding learning section <b>101</b>. <figref idref="DRAWINGS">FIG. 7C</figref> shows a signal <b>106</b> obtained by multiplying the predicted signal in <figref idref="DRAWINGS">FIG. 7B</figref> by a triangular window function <b>107</b>. <figref idref="DRAWINGS">FIG. 7D</figref> shows a signal obtained by multiplying, by a window function <b>109</b>, the result of backward sound prediction for the prediction section <b>104</b> (noise-mixed section <b>102</b>). <figref idref="DRAWINGS">FIG. 7E</figref> shows a waveform <b>110</b> obtained by adding the prediction results in <figref idref="DRAWINGS">FIGS. 7C and 7D</figref> and interpolating the sound signal in the noise-mixed section <b>102</b>.</p>
<p id="p-0077" num="0076">In prediction processing, first, the ALC-fixed section <b>71</b> is determined based on the diaphragm driving section signal <b>92</b> output from the camera system control circuit <b>25</b>. The ALC-fixed section <b>71</b> corresponds to the diaphragm driving section signal <b>92</b> output from the camera system control circuit <b>25</b> based on the noise-mixed section <b>102</b> (section where diaphragm driving noise is superposed in the object sound), the preceding learning section <b>101</b>, and a succeeding learning section <b>103</b> shown in <figref idref="DRAWINGS">FIG. 7A</figref>.</p>
<p id="p-0078" num="0077">Then, as shown in <figref idref="DRAWINGS">FIG. 7B</figref>, the sound signal in the preceding learning section <b>101</b> is extended in every cycle (for example, 44 kHz) (predicted waveform <b>105</b>). As shown in <figref idref="DRAWINGS">FIG. 7C</figref>, the predicted signal shown in <figref idref="DRAWINGS">FIG. 7B</figref> before multiplying the window function is multiplied by the triangular window function <b>107</b>, completing the forward predicted signal <b>106</b>. The predicted signal at this stage will be called a window function-multiplied predicted signal. When the number of data in the prediction section is N+1 and data immediately after the start of prediction is n=0, the window function wf(t) is given by wf(n)=(N&#x2212;n)/N.</p>
<p id="p-0079" num="0078">As shown in <figref idref="DRAWINGS">FIG. 7D</figref>, the same processing is executed for a section immediately after the noise-mixed section <b>102</b>, generating a window function-multiplied backward predicted signal <b>108</b> using the window function <b>109</b>. The triangular window function <b>109</b> by which a backward predicted signal before multiplication is multiplied is symmetrical to that in forward prediction and is given by wr(n)=n/N. As shown in <figref idref="DRAWINGS">FIG. 7E</figref>, the sound processing circuit <b>26</b> adds the window function-multiplied forward predicted signal <b>106</b> and window function-multiplied backward predicted signal <b>108</b>. The sound processing circuit <b>26</b> replaces the sound signal in the noise-mixed section with the resultant predicted signal, ending the interpolation.</p>
<p id="p-0080" num="0079">Forward and backward predicted signals before multiplication are multiplied by the triangular window functions and added. As a result, a forward predicted signal and a sound signal immediately after the noise-mixed section are smoothly connected while a backward predicted signal and a sound signal immediately before the noise-mixed section are smoothly connected. As shown in <figref idref="DRAWINGS">FIG. 7A</figref>, the ALC-fixed section <b>71</b> is set longer than a period including the preceding learning section <b>101</b> and succeeding learning section <b>103</b>. The sound signal in this section is free from variations of the sound pressure caused by the ALC function. Only the object sound in the noise-mixed section can be predicted with high precision.</p>
<p id="p-0081" num="0080">As described above, according to the first embodiment, changing the signal amplification level in the gain adjustment unit <b>41</b> is inhibited in a period including entire learning sections before and after a noise-generated section where noise is generated upon driving the stop. The sound in the noise-generated section can be predicted with higher precision and higher quality.</p>
<p id="p-0082" num="0081">In the first embodiment, the signal amplification level is fixed in a period including the preceding learning section <b>64</b>, noise-generated section <b>65</b>, and succeeding learning section <b>66</b>. However, the sound in the noise-generated section <b>65</b> is deleted, and a sound to replace it is predicted from sounds in the preceding and succeeding learning sections <b>64</b> and <b>66</b>. When processing sounds in the preceding and succeeding learning sections <b>64</b> and <b>66</b>, like the first embodiment, the signal amplification level in the noise-generated section <b>65</b> need not be fixed. It suffices to control the signal amplification level at a predetermined value in the preceding and succeeding learning sections <b>64</b> and <b>66</b>.</p>
<p id="p-0083" num="0082">Prediction processing in the first embodiment may be done according to another algorithm based on a sound input from the microphone, as described above. Also in this case, it suffices to control the signal amplification level at a predetermined value for sound signals in learning sections (reference sections) used in sound processing. For example, a sound obtained based on a reference sound in the preceding learning section <b>64</b> and that in the noise-generated section <b>65</b> may be synthesized at a predetermined ratio using a window function. In this case, sound processing uses only sounds in the preceding learning section <b>64</b> and noise-generated section <b>65</b>. The signal amplification level in this section suffices to be fixed at a predetermined value or immediately preceding value.</p>
<p id="p-0084" num="0083">The first embodiment has described processing using prediction as a noise processing method. However, the technique in the embodiment can be employed even when the sound is processed using a plurality of sections of an input sound for the purpose of a special sound effect or the like. More specifically, when the timing when a special sound effect is executed is detected, the signal amplification level in a section used to process the special sound effect is controlled at a predetermined value, preventing a decrease in the precision of the special effect.</p>
<p id="p-0085" num="0084">In the first embodiment, noise removal processing is executed for a sound corresponding to driving of the stop. Noise removal processing may be done for a sound corresponding to driving of another driving unit.</p>
<p id="p-0086" num="0085">The duration of a period serving as the noise-generated section may be changed depending on the degree of driving the stop (for example, 1-step driving or 3-step driving). At the same time, the duration of a period serving as the ALC-fixed section may be changed. For example, both the noise-generated section and ALC-fixed section are set longer in 3-step driving than in 1-step driving. That is, both the noise-generated section and ALC-fixed section are set longer in a driving operation for a longer driving time.</p>
<heading id="h-0006" level="1">Second Embodiment</heading>
<p id="p-0087" num="0086">A photographing apparatus to which a sound processing system according to the second embodiment is applied will be described. A vibration detection unit <b>111</b> shown in <figref idref="DRAWINGS">FIG. 2</figref> is added to the sound processing system in the second embodiment. The vibration detection unit <b>111</b> is formed from an accelerometer or the like, arranged near a microphone <b>7</b> serving as a recording device, and detects vibrations which are generated in the camera and propagate to the microphone <b>7</b>. A sound processing circuit <b>26</b> sets the signal amplification level in a gain adjustment unit <b>41</b> to a predetermined level or immediately preceding level in accordance with an output from the vibration detection unit <b>111</b>.</p>
<p id="p-0088" num="0087">Vibrations which are generated in the camera and serve as a cause of noise include not only vibrations upon driving such as driving of the stop described in the first embodiment, but also those upon rubbing the camera when the user manipulates it. A camera system control circuit <b>25</b> cannot detect such vibrations, unlike the driving signal. Vibrations upon rubbing the camera are input as very large vibrations to the microphone <b>7</b>, and are superposed as noise in an object sound. Hence, the section where the camera is rubbed is also detected to replace a sound in this section with a predicted sound, thereby removing noise. In response to vibrations upon rubbing the camera, the ALC function operates even for the level of a signal detected as a sound by the microphone <b>7</b>, decreasing a sound in the learning section. To prevent this, the vibration detection unit <b>111</b> detects the noise section and sets an ALC-fixed section.</p>
<p id="p-0089" num="0088"><figref idref="DRAWINGS">FIG. 8A</figref> is a chart for explaining the timings of a vibration-generated section and ALC-fixed section in the second embodiment. As shown in <figref idref="DRAWINGS">FIG. 8A</figref>, an ALC-fixed section <b>71</b> is set, which starts when a signal from the vibration detection unit <b>111</b> reaches a predetermined level and ends a predetermined section (for example, 0.05 sec) after the level becomes lower than a predetermined level. In the ALC-fixed section <b>71</b>, the signal amplification level is fixed to an immediately preceding microphone signal amplification level regardless of a change of the sound pressure of the object sound. Vibration noise in a vibration-generated section <b>121</b> is replaced with a high-quality sound predicted from preceding and succeeding learning sections <b>64</b> and <b>66</b>. A difference from <figref idref="DRAWINGS">FIG. 4B</figref> described in the first embodiment is that no ALC level is fixed in the preceding learning section <b>64</b>. This is because the signal generation timing (vibration-generated section) of the vibration detection unit <b>111</b> cannot be predicted. In the second embodiment, the ALC level is stored simultaneously when temporarily storing a recorded sound. If the ALC level varies in the preceding learning section <b>64</b>, variations of the ALC level are reconstructed and used for prediction.</p>
<p id="p-0090" num="0089">This operation will be explained with reference to <figref idref="DRAWINGS">FIG. 8B</figref>. In <figref idref="DRAWINGS">FIG. 8B</figref>, the abscissas axis represents the elapsed time, and the ordinate axis represents the sound pressure level of the sound or the signal amplification level. At time t&#x2212;3, an object sound <b>121</b><i>a </i>is generated. The object sound <b>121</b><i>a </i>instantaneously becomes loud in a section <b>131</b>. In this case, an ALC signal amplification level <b>132</b> drops in this section. However, even if the object sound returns to the original one, the signal amplification level in the gain adjustment unit <b>41</b> does not return quickly, and returns with a given time constant, as described above. For this reason, a sound <b>123</b> in the section <b>131</b> is recorded at a level lower than that of an actual object sound, as represented by a sound <b>133</b>. When the user manipulates the operation button or rubs the camera, vibrations occur (time t<b>1</b>). In the vibration-generated section <b>121</b>, the vibration sound is superposed in the object sound. Immediately when a sound gain control unit <b>47</b> is notified from the vibration detection unit <b>111</b> that the vibrations have been detected, it fixes the signal amplification level (time t<b>1</b>). The sound gain control unit <b>47</b> starts the ALC-fixed section <b>71</b> from time t<b>1</b>, and continues it till time t<b>4</b> later than the succeeding learning section <b>66</b> by taking account of the succeeding learning section <b>66</b> (time t<b>3</b>) after the generated vibrations settle at time t<b>2</b>. This increases the sound prediction precision by stopping variations of the ALC level in the succeeding learning section <b>66</b>. The succeeding learning section <b>66</b> is therefore free from variations of the signal amplification level, preventing a decrease in prediction precision.</p>
<p id="p-0091" num="0090">In general, the ALC level does not vary before generation of vibrations at time t<b>1</b>, so the prediction precision does not decrease even if the preceding learning section <b>64</b> is directly used in prediction. However, when a loud sound is generated instantaneously prior to vibration generation time t<b>1</b>, the ALC level varies, as shown in <figref idref="DRAWINGS">FIG. 8B</figref>. If the sound in the preceding learning section <b>64</b> is used, the prediction precision decreases. A measure against this will be explained.</p>
<p id="p-0092" num="0091">As described above, an object sound is temporarily stored in the memory or the like, undergoes noise processing, and is finally recorded. In the second embodiment, simultaneously as temporarily storing an object sound, the ALC signal amplification level is also stored synchronously. Before performing prediction processing later, the amplification factor of the temporarily stored signal level is restored. In <figref idref="DRAWINGS">FIG. 8B</figref>, a restored signal level <b>134</b> is reverse in waveform to the signal amplification level <b>132</b>. A sound recorded from time <b>135</b> (time when the ALC level starts returning) is multiplied by the restored signal level <b>134</b>. The sound signal after the time <b>135</b> returns to the same level as the object sound pressure before time t<b>0</b>. The sound in the vibration-generated section <b>121</b> is predicted using a sound at the returned sound pressure level in the preceding learning section <b>64</b>. A decrease in the precision of a predicted signal can be prevented.</p>
<p id="p-0093" num="0092"><figref idref="DRAWINGS">FIGS. 9A and 9B</figref> are flowcharts for explaining the operation of the digital camera according to the second embodiment. This process starts when the digital camera starts recording in moving image shooting. For descriptive convenience, the flowcharts of <figref idref="DRAWINGS">FIGS. 9A and 9B</figref> show processes necessary for a description of the second embodiment, and do not show other general processes. The same reference numerals as those in the first embodiment denote the same functional steps.</p>
<p id="p-0094" num="0093">In step S<b>901</b>, the sound gain control unit <b>47</b> determines whether it has received, from the vibration detection unit <b>111</b>, a signal indicating that vibrations have been detected. If the sound gain control unit <b>47</b> has received the detection signal (vibrations have occurred), the process advances to step S<b>902</b>. As a result, steps S<b>503</b> to S<b>505</b> are skipped, and the recording level (ALC level) is fixed. In the second embodiment, the sound gain control unit <b>47</b> detects a signal from the vibration detection unit <b>111</b> and starts an ALC-fixed section <b>71</b>. The sound gain control unit <b>47</b> completes the ALC-fixed section upon the lapse of a period including the period of the learning section <b>66</b> and a predetermined margin period after no more vibration is detected by the vibration detection unit <b>111</b>. Alternatively, the camera system control circuit <b>25</b> may generate a signal indicating an ALC-fixed section (vibration-generated section <b>121</b>+learning section <b>66</b>+margin period) based on detection of vibrations by the vibration detection unit <b>111</b>, and send it to the sound gain control unit <b>47</b>.</p>
<p id="p-0095" num="0094">If no vibration has occurred, the process advances to step S<b>501</b>. Steps S<b>501</b> and S<b>503</b> to S<b>505</b> are the same as those described in the first embodiment. If the sound gain control unit <b>47</b> has received the detection signal (vibrations have occurred), the sound processing circuit <b>26</b> records an object sound at a set ALC level and temporarily stores it in step S<b>902</b>. In synchronism with this, the sound processing circuit <b>26</b> also temporarily stores an amplification level (ALC level) at that time. The reason why the ALC level is temporarily stored is that variations of the sound pressure caused by variations of the ALC level in the preceding learning section <b>64</b> are restored at a simultaneously stored ALC level and that sound prediction is performed using the succeeding learning section <b>66</b>.</p>
<p id="p-0096" num="0095">This is gain change control executed in a predetermined period including learning sections before and after the noise-generated section, in order to reduce the influence of variations of the gain on generation of a predicted sound. If necessary, the temporarily stored sound undergoes noise processing to be described below, and is recorded as a recorded sound. In step S<b>903</b>, it is determined whether the detection signal has been received (vibrations have occurred). If it determined in step S<b>903</b> that the detection signal has been received (vibrations have occurred), the process advances to steps S<b>905</b> to S<b>908</b> and S<b>512</b> to execute noise reduction processing. If it is determined in step S<b>903</b> that the target section is not a noise section, the process advances to step S<b>513</b>. The process in step S<b>513</b> is the same as that described in the first embodiment.</p>
<p id="p-0097" num="0096">If it is determined in step S<b>905</b> to start prediction, the process advances to step S<b>906</b>. This determination is the same as that in step S<b>509</b> of <figref idref="DRAWINGS">FIG. 5B</figref>. In step S<b>906</b>, sound signals in the learning sections <b>64</b> and <b>66</b> before and after the noise section are restored using the ALC level stored in synchronism with recording of the sound. The processes in steps S<b>907</b> and S<b>908</b> are the same as those in steps S<b>510</b> and S<b>511</b> except that a restored sound signal is used for the learning section <b>64</b>.</p>
<p id="p-0098" num="0097">Note that processes shown in <figref idref="DRAWINGS">FIG. 9B</figref> (steps S<b>903</b> to S<b>513</b>) need not be executed by the digital camera, and a sound signal recorded by the digital camera may be processed by an external information processing apparatus (for example, personal computer). In this case, it is necessary to record signals indicating the recording level set in step S<b>504</b> or S<b>505</b>, diaphragm driving section, vibration-generated section, and ALC-fixed section on the recording medium together with a sound signal. The external information processing apparatus performs noise processing based on the signals which are recorded together with the sound signal and indicate the recording level, diaphragm driving section, vibration-generated section, and ALC-fixed section.</p>
<p id="p-0099" num="0098">As described above, according to the second embodiment, changing the gain by the ALC function is inhibited in a period including an entire learning section subsequent to a noise-generated section. The sound in a learning section before the noise-generated section is restored in accordance with a gain level used when the sound was recorded. Thus, the sound in the noise-generated section can be predicted with higher precision and higher quality. It is also possible to set an ALC-fixed section as in the second embodiment for detection of a noise section by the vibration detection unit <b>111</b>, and fix the ALC level as in the first embodiment for a noise section (for example, driving of the stop), generation of which can be predicted. Needless to say, the technique of the second embodiment can be practiced in combination with that of the first embodiment.</p>
<heading id="h-0007" level="1">Third Embodiment</heading>
<p id="p-0100" num="0099">In the first and second embodiments, the ALC level is fixed when noise is generated. The third embodiment prevents a decrease in the precision of a succeeding learning section <b>66</b> by quickly recovering the ALC level in a section where noise is generated and a predetermined subsequent period, instead of fixing the ALC level.</p>
<p id="p-0101" num="0100">When an object sound as shown in <figref idref="DRAWINGS">FIG. 10</figref> is recorded, a reference sound (sound <b>61</b> to be recorded) in a preceding learning section <b>64</b> is identical to an object sound <b>51</b><i>a</i>. Thus, sound prediction in a deletion section <b>65</b> (deletion section <b>52</b> in <figref idref="DRAWINGS">FIG. 3</figref>) using this reference sound can be executed with high precision. In contrast, a reference sound (sound <b>61</b> to be recorded) in the succeeding learning section <b>66</b> greatly differs from the object sound <b>51</b><i>a</i>. This is because the ALC level is recovered slowly, as described above. Thus, the sound prediction precision in the deletion section <b>65</b> using the reference sound decreases greatly. To prevent this, the third embodiment sets, as an ALC quick recovery section <b>1501</b>, a section including a noise-generated section <b>1503</b> serving as a diaphragm driving section or a vibration-generated section detected by a vibration detection unit <b>111</b>, and the succeeding learning section <b>66</b>. As represented by a signal amplification level waveform <b>1502</b>, the ALC gain recovers quickly, compared to the conventional signal amplification level waveform <b>63</b>. The influence of variations of the ALC level on a reference sound in the succeeding learning section <b>66</b> can be reduced.</p>
<p id="p-0102" num="0101">Accordingly, the sound to be recorded and the object sound substantially coincide with each other even in the succeeding learning section <b>66</b>. Noise in the noise-generated section <b>1503</b> is replaced with a high-quality sound predicted from the preceding and succeeding learning sections <b>64</b> and <b>66</b>.</p>
<p id="p-0103" num="0102"><figref idref="DRAWINGS">FIG. 11</figref> is a flowchart of noise processing according to the third embodiment. This sequence starts when the digital camera starts recording in moving image shooting. For descriptive convenience, the flowchart of <figref idref="DRAWINGS">FIG. 11</figref> shows processes necessary for a description of the third embodiment, and does not show other general processes. The same reference numerals as those in the first and second embodiments denote the same functional steps.</p>
<p id="p-0104" num="0103">In the third embodiment, no ALC level is fixed, so adjustment of the recording level (ALC) in S<b>501</b> and S<b>503</b> to S<b>505</b> is always executed. If the vibration detection unit <b>111</b> detects vibrations in step S<b>901</b>, or if it is determined in step S<b>1101</b> that the target section is an ALC quick recovery section, the process advances to step S<b>1102</b>. Note that the ALC quick recovery section is a period corresponding to the ALC-fixed section in the first and second embodiments. In step S<b>1102</b>, if the ALC level varies, the sound processing circuit <b>26</b> quickly returns the ALC level to one before vibrations were generated or before driving the stop, that is, before the ALC quick recovery section.</p>
<p id="p-0105" num="0104">Noise processing and sound recording are the same as those in <figref idref="DRAWINGS">FIG. 9B</figref>. More specifically, in sound prediction, a sound signal obtained by correcting a sound signal using a recorded ALC level is used for the learning section <b>64</b>. For the learning section <b>66</b>, a temporarily recorded sound signal is directly used because a sound signal with an almost constant gain is obtained by quick recovery.</p>
<p id="p-0106" num="0105">As described above, according to the third embodiment, the ALC function recovers the gain (shifts it to a higher level) quickly in a period including an entire learning section subsequent to a noise-generated section. In general, the sound pressure increases and the signal amplification level decreases in the noise-generated section, and the gain is recovered in the learning section. By setting the learning section as a quick recovery section, variations of the gain in the learning section are reduced. The sound in the noise-generated section can be predicted with higher precision and higher quality.</p>
<heading id="h-0008" level="1">Other Embodiments</heading>
<p id="p-0107" num="0106">Aspects of the present invention can also be realized by a computer of a system or apparatus (or devices such as a CPU or MPU) that reads out and executes a program recorded on a memory device to perform the functions of the above-described embodiment(s), and by a method, the steps of which are performed by a computer of a system or apparatus by, for example, reading out and executing a program recorded on a memory device to perform the functions of the above-described embodiment(s). For this purpose, the program is provided to the computer for example via a network or from a recording medium of various types serving as the memory device (for example, computer-readable storage medium).</p>
<p id="p-0108" num="0107">While the present invention has been described with reference to exemplary embodiments, it is to be understood that the invention is not limited to the disclosed exemplary embodiments. The scope of the following claims is to be accorded the broadest interpretation so as to encompass all such modifications and equivalent structures and functions.</p>
<p id="p-0109" num="0108">This application claims the benefit of Japanese Patent Application No. 2009-174740, filed Jul. 27, 2009, which is hereby incorporated by reference herein in its entirety.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08626500-20140107-M00001.NB">
<img id="EMI-M00001" he="8.81mm" wi="76.20mm" file="US08626500-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08626500-20140107-M00002.NB">
<img id="EMI-M00002" he="11.68mm" wi="76.20mm" file="US08626500-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08626500-20140107-M00003.NB">
<img id="EMI-M00003" he="9.57mm" wi="76.20mm" file="US08626500-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08626500-20140107-M00004.NB">
<img id="EMI-M00004" he="9.57mm" wi="76.20mm" file="US08626500-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A sound recording apparatus having a driving unit, comprising:
<claim-text>a sound collection unit configured to generate a sound signal from an input sound;</claim-text>
<claim-text>a detection unit configured to detect a level of the sound signal;</claim-text>
<claim-text>an adjustment unit configured to adjust a level of the sound signal at an amplification factor corresponding to the detected level of the sound signal;</claim-text>
<claim-text>a processing unit configured to process the sound signal adjusted by said adjustment unit to prevent a sound signal amplified by said adjustment unit from containing a sound signal generated upon driving the driving unit; and</claim-text>
<claim-text>a control unit configured to control driving of the driving unit, said adjustment unit, and said processing unit,</claim-text>
<claim-text>wherein said control unit controls said processing unit to replace a sound signal in a predetermined period that begins after instructing driving of the driving unit with a signal calculated from a sound signal included in a first period that begins after the predetermined period has elapsed, and controls said adjustment unit to substantially equalize an amplification factor when driving of the driving unit is instructed and an amplification factor in the first period.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said control unit inhibits changing the amplification factor by said adjustment unit before a lapse of the first period after instructing driving of the driving unit.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the predetermined period is longer than a period during which a sound is generated upon driving the driving unit.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein when the predetermined period ends, said control unit controls said adjustment unit to adjust the amplification factor to an amplification factor when driving of the driving unit is instructed.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a vibration detection configured to detect vibrations of the apparatus,
<claim-text>wherein the predetermined period is a period during which said vibration detection unit detects vibrations.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the driving unit is a motor which drives a lens.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A sound recording apparatus having a driving unit, comprising:
<claim-text>a sound collection unit configured to generate a sound signal from an input sound;</claim-text>
<claim-text>a detection unit configured to detect a level of the sound signal;</claim-text>
<claim-text>an adjustment unit configured to adjust a level of the sound signal at an amplification factor corresponding to the detected level of the sound signal;</claim-text>
<claim-text>a processing unit configured to process the sound signal adjusted by said adjustment unit to prevent a sound signal amplified by said adjustment unit from containing a sound signal generated upon driving the driving unit; and</claim-text>
<claim-text>a control unit configured to control driving of the driving unit, said adjustment unit, and said processing unit,</claim-text>
<claim-text>wherein said control unit controls said processing unit to replace a sound signal in a predetermined period that begins after instructing driving of the driving unit with a signal calculated from a sound signal included in a first period that begins after the predetermined period has elapsed, and controls said adjustment unit to increase the amplification factor more quickly at least in the first period than in a remaining period.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The apparatus according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the predetermined period is longer than a period during which a sound is generated upon driving the driving unit.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The apparatus according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, further comprising a vibration detection unit configured to detect vibrations of the apparatus,
<claim-text>wherein the predetermined period is a period during which said vibration detection unit detects vibrations.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The apparatus according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the driving unit is a motor which drives a lens.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A sound recording method in a sound recording apparatus having a driving unit, the method comprising:
<claim-text>a sound collection step of generating a sound signal from an input sound;</claim-text>
<claim-text>a detection step of detecting a level of the sound signal;</claim-text>
<claim-text>an adjustment step of adjusting a level of the sound signal at an amplification factor corresponding to the detected level of the sound signal;</claim-text>
<claim-text>a processing step of processing the sound signal adjusted in the adjustment step to prevent a sound signal amplified in the adjustment step from containing a sound signal generated upon driving the driving unit; and</claim-text>
<claim-text>a control step of controlling driving of the driving unit, and processes in the adjustment step and the processing step,</claim-text>
<claim-text>wherein in the control step, the processing step is controlled to replace a sound signal in a predetermined period that begins after instructing driving of the driving unit with a signal calculated from a sound signal included in a first period that begins after the predetermined period has elapsed, and the adjustment step is controlled to substantially equalize an amplification factor when driving of the driving unit is instructed and an amplification factor in the first period.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A sound recording method in a sound recording apparatus having a driving unit, the method comprising:
<claim-text>a sound collection step of generating a sound signal from an input sound;</claim-text>
<claim-text>a detection step of detecting a level of the sound signal;</claim-text>
<claim-text>an adjustment step of adjusting a level of the sound signal at an amplification factor corresponding to the detected level of the sound signal;</claim-text>
<claim-text>a processing step of processing the sound signal adjusted in the adjustment step to prevent a sound signal amplified in the adjustment step from containing a sound signal generated upon driving the driving unit; and</claim-text>
<claim-text>a control step of controlling driving of the driving unit, and processes in the adjustment step and the processing step,</claim-text>
<claim-text>wherein in the control step, the processing step is controlled to replace a sound signal in a predetermined period that begins after instructing driving of the driving unit with a signal calculated from a sound signal included in a first period that begins after the predetermined period has elapsed, and the adjustment step is controlled to increase the amplification factor more quickly at least in the first period than in a remaining period. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
