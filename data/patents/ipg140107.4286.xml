<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625356-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625356</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13482601</doc-number>
<date>20120529</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2004-359029</doc-number>
<date>20041210</date>
</priority-claim>
</priority-claims>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>C</subclass>
<main-group>16</main-group>
<subgroup>04</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>36518522</main-classification>
<further-classification>36518524</further-classification>
</classification-national>
<invention-title id="d2e61">High-speed verifiable semiconductor memory device</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5555204</doc-number>
<kind>A</kind>
<name>Endoh et al.</name>
<date>19960900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5936971</doc-number>
<kind>A</kind>
<name>Harari et al.</name>
<date>19990800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6055188</doc-number>
<kind>A</kind>
<name>Takeuchi et al.</name>
<date>20000400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6058042</doc-number>
<kind>A</kind>
<name>Nobukata</name>
<date>20000500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6288944</doc-number>
<kind>B1</kind>
<name>Kawamura</name>
<date>20010900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>36518522</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6400604</doc-number>
<kind>B2</kind>
<name>Noda</name>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6501684</doc-number>
<kind>B1</kind>
<name>Park et al.</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6643188</doc-number>
<kind>B2</kind>
<name>Tanaka et al.</name>
<date>20031100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6683810</doc-number>
<kind>B2</kind>
<name>Sakamoto</name>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6707719</doc-number>
<kind>B2</kind>
<name>Shibata et al.</name>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6850438</doc-number>
<kind>B2</kind>
<name>Lee et al.</name>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>6885583</doc-number>
<kind>B2</kind>
<name>Tanaka</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>7016226</doc-number>
<kind>B2</kind>
<name>Shibata et al.</name>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>7245528</doc-number>
<kind>B2</kind>
<name>Shibata et al.</name>
<date>20070700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2002/0136055</doc-number>
<kind>A1</kind>
<name>Jyouno et al.</name>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>2004/0062077</doc-number>
<kind>A1</kind>
<name>Tanaka</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>2004/0170056</doc-number>
<kind>A1</kind>
<name>Shibata et al.</name>
<date>20040900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>2005/0169057</doc-number>
<kind>A1</kind>
<name>Shibata et al.</name>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>2007/0230250</doc-number>
<kind>A1</kind>
<name>Chan</name>
<date>20071000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>JP</country>
<doc-number>9-320285</doc-number>
<date>19971200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>JP</country>
<doc-number>2000-76882</doc-number>
<date>20000300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>JP</country>
<doc-number>2000-195280</doc-number>
<date>20000700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00023">
<document-id>
<country>JP</country>
<doc-number>2003-196988</doc-number>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00024">
<document-id>
<country>JP</country>
<doc-number>2004-118940</doc-number>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00025">
<othercit>Office Action issued Jun. 22, 2010, in Japanese Patent Application No. 2004-359029 (with English-language Translation).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>5</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>36518522</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>36518524</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>36518523</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>26</number-of-drawing-sheets>
<number-of-figures>47</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>13049591</doc-number>
<date>20110316</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>8203889</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13482601</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>12507593</doc-number>
<date>20090722</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>7929352</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13049591</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>12210585</doc-number>
<date>20080915</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>7573750</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>12507593</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<division>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>11944874</doc-number>
<date>20071126</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>7440325</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>12210585</doc-number>
</document-id>
</child-doc>
</relation>
</division>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>11682741</doc-number>
<date>20070306</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>7310269</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>11944874</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>11297467</doc-number>
<date>20051209</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>7196933</doc-number>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>11682741</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120230115</doc-number>
<kind>A1</kind>
<date>20120913</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Shibata</last-name>
<first-name>Noboru</first-name>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Shibata</last-name>
<first-name>Noboru</first-name>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Oblon, Spivak, McClelland, Maier &#x26; Neustadt, L.L.P.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Kabushiki Kaisha Toshiba</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Le</last-name>
<first-name>Vu</first-name>
<department>2824</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A memory cell stores several data using n (n: natural number more than 1) threshold voltages. A voltage supply circuit supplies a predetermined voltage to a gate of the memory cell in a verify operation of verifying whether or not the memory cell reaches a predetermined threshold voltage. A detection circuit connected to one terminal of the memory cell charges one terminal of the memory cell to a predetermined potential. The detection circuit detects the voltage of one terminal of the memory cell based on a first detection timing, and further, detects the voltage of one terminal of the memory cell based on a second detection timing.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="150.28mm" wi="236.47mm" file="US08625356-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="234.95mm" wi="158.33mm" file="US08625356-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="238.25mm" wi="172.47mm" file="US08625356-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="233.00mm" wi="149.78mm" file="US08625356-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="253.32mm" wi="180.51mm" orientation="landscape" file="US08625356-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="220.39mm" wi="190.33mm" file="US08625356-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="233.60mm" wi="154.09mm" orientation="landscape" file="US08625356-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="228.09mm" wi="174.24mm" file="US08625356-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="245.28mm" wi="177.04mm" orientation="landscape" file="US08625356-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="232.33mm" wi="168.32mm" file="US08625356-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="233.00mm" wi="131.91mm" file="US08625356-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="239.27mm" wi="156.38mm" file="US08625356-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="215.82mm" wi="126.32mm" file="US08625356-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="247.73mm" wi="90.25mm" orientation="landscape" file="US08625356-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="247.31mm" wi="163.07mm" orientation="landscape" file="US08625356-20140107-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="236.47mm" wi="143.09mm" file="US08625356-20140107-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="227.08mm" wi="168.66mm" file="US08625356-20140107-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="245.28mm" wi="168.66mm" orientation="landscape" file="US08625356-20140107-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="219.03mm" wi="126.32mm" file="US08625356-20140107-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="185.76mm" wi="151.47mm" orientation="landscape" file="US08625356-20140107-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="206.42mm" wi="174.24mm" file="US08625356-20140107-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00021" num="00021">
<img id="EMI-D00021" he="198.04mm" wi="180.17mm" file="US08625356-20140107-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00022" num="00022">
<img id="EMI-D00022" he="166.88mm" wi="174.58mm" file="US08625356-20140107-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00023" num="00023">
<img id="EMI-D00023" he="164.76mm" wi="187.88mm" file="US08625356-20140107-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00024" num="00024">
<img id="EMI-D00024" he="204.30mm" wi="175.60mm" orientation="landscape" file="US08625356-20140107-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00025" num="00025">
<img id="EMI-D00025" he="184.74mm" wi="155.36mm" file="US08625356-20140107-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00026" num="00026">
<img id="EMI-D00026" he="196.93mm" wi="171.79mm" file="US08625356-20140107-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application is a continuation of U.S. application Ser. No. 13/049,591, filed Mar. 16, 2011, which is a continuation of U.S. application Ser. No. 12/507,593, filed Jul. 22, 2009, now U.S. Pat. No. 7,929,352, which is a continuation of U.S. application Ser. No. 12/210,585, filed Sep. 15, 2008, now U.S. Pat. No. 7,573,750, which is a divisional application of U.S. application Ser. No. 11/944,874, filed Nov. 26, 2007, now U.S. Pat. No. 7,440,325, which is a continuation of U.S. application Ser. No. 11/682,741, filed Mar. 6, 2007, now U.S. Pat. No. 7,310,269, which is a continuation of U.S. application Ser. No. 11/297,467, filed Dec. 9, 2005, now U.S. Pat. No. 7,196,933. This application is based upon and claims the benefit of priority from prior Japanese Patent Application No. 2004-359029, filed Dec. 10, 2004. The entire contents of each of these documents are incorporated herein by reference.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The present invention relates to a semiconductor memory device, which is capable of storing binary or more data in one memory cell.</p>
<p id="p-0005" num="0004">2. Description of the Related Art</p>
<p id="p-0006" num="0005">There has been proposed a NAND flash memory using an EEPROM, that is, a non-volatile semiconductor memory device capable of storing multi-valued data in one memory cell (e.g., see JPN. PAT. APPLN. KOKAI Publication No. 2000-195280).</p>
<p id="p-0007" num="0006">The NAND flash memory is configured in a manner that all or half of several memory cells arrayed in a row direction are each connected to the corresponding latch circuit via a bit line. The latch circuit holds data in data write and read. The foregoing all or half of cells arrayed in the row direction collectively write and read data (e.g., see JPN. PAT. APPLN. KOKAI Publication No. 2003-196988).</p>
<p id="p-0008" num="0007">Quick Pass Write (QPW) has been proposed as a method of preventing a data write time with respect to memory cell from increasing and narrowing a threshold voltage distribution width after data write. According to the QPW, a bit line is charged while a potential (voltage) of word line is set to a level lower than a normal verify level. Thereafter, a select gate is set to a high level, and then, the pre-charged bit line is discharged. In non-write cell and write continuing cell, which are far from a write threshold voltage, the bit line potential becomes a low level because current is carried. On the other hand, in a write continuing cell, which is close to the write threshold voltage and a write completed cell, the bit line is intactly kept high. At that time, the bit line potential is detected (first time verify).</p>
<p id="p-0009" num="0008">Then, the word line potential is set to a normal word line level. By doing so, in the write continuing cell, the bit line becomes low. Therefore, in the write completed cell only, the bit line potential becomes high. At that time, the bit line potential is detected (second time verify).</p>
<p id="p-0010" num="0009">According to the result of the second time verify, a cell becoming high is a write completed cell. The write completed cell is regarded as a non-write cell in the next program loop, and therefore, it sets the bit line to a power supply voltage Vdd, and does not carry out a write operation. On the other hand, according to the result of the second time verify, a cell becoming low is a write incomplete cell. The write incomplete cell carries out a write operation in the next program loop. However, according to the result of the first time verify, a cell becoming high is a cell, which is close to the threshold voltage (normal verify level). For this reason, the cell sets the bit line to an intermediate potential (e.g., 0.75V), and carries out a write operation in a state of reducing a write speed. On the other hand, according to the result of the first time verify, a cell becoming low sets the bit line to a ground voltage Vss, and carries out a write operation.</p>
<p id="p-0011" num="0010">In this manner, program and verify are repeated until all write cells pass the second time verify. Therefore, the write speed of the cells closing to a normal verify potential becomes late; as a result, threshold voltage distribution is narrowed.</p>
<p id="p-0012" num="0011">However, the first time verify operation is made in a state that the word line potential is set to a level lower than a normal verify level. Thereafter, the second time verify operation must be made in a state that the word line potential is set as the normal write verify level. The word line has a large capacity; for this reason, time is taken to step up the word line potential. As a result, there is a problem that the verify time increases. Therefore, it is desired to provide a semiconductor memory device capable of preventing the verify time from increasing.</p>
<heading id="h-0003" level="1">BRIEF SUMMARY OF THE INVENTION</heading>
<p id="p-0013" num="0012">According to a first aspect of the present invention, there is provided a semiconductor memory device comprising: a memory cell storing data using n threshold voltage (n: natural number more than 1); a voltage supply circuit supplying a predetermined voltage to a gate of the memory cell in a verify operation of verifying whether or not the memory cell reaches a predetermined threshold voltage; and a detection circuit connected to one terminal of the memory cell, the detection circuit charging one terminal of the memory cell to a predetermined potential in the verify operation, detecting a voltage of one terminal of the memory cell at a first detection timing, and detecting a voltage of one terminal of the memory cell at a second detection timing.</p>
<p id="p-0014" num="0013">According to a second aspect of the present invention, there is provided a semiconductor memory device comprising: a memory cell storing data using n threshold voltage (n: natural number more than 1); a first data storage circuit connected to one terminal of the memory cell, and storing first or second logic level data inputted externally; a second data storage circuit connected to one terminal of the memory cell, and storing the first or second logic level data; and a control circuit connected to the first and second data storage circuits, the control circuit carrying out the following:</p>
<p id="p-0015" num="0014">a first operation of stepping up the threshold voltage of the memory cell when the first and second data storage circuits are a first logic level; a second operation of stepping up the threshold voltage of the memory cell in a range of the threshold voltage less than the first operation when the second data storage circuits is a second logic level; an operation of charging one terminal of the memory cell while applying a first voltage to a gate of the memory cell in a verify operation of holding the threshold voltage of the memory cell without changing it and verifying whether or not the memory cell reaches a predetermined threshold voltage when the first data storage circuits is a second logic level; and the first operation in a manner of changing the logic level of the second data storage circuit to a second logic level when the voltage of one terminal of the memory cell is more than a first detection level in a first step, and after predetermined time elapses, changing the logic level of the first data storage circuit to a second logic level when the voltage of one terminal of the memory cell is more than a second detection level in a second step.</p>
<p id="p-0016" num="0015">According to a third aspect of the present invention, there is provided a semiconductor memory device comprising: a memory storing several data using n threshold voltage (n: natural number more than 1); a first data storage circuit connected to one terminal of the memory cell, and storing first or second logic level data input externally; and a control circuit connected to the first data storage circuit, the control circuit carrying out a first operation of stepping up the threshold voltage of the memory cell when the first data storage circuits is a first logic level, charging one terminal of the memory cell when the first data storage circuit is a first logic level while applying a first voltage to a gate of the memory cell without making no charge operation when it is second level in a verify operation of holding the threshold voltage of the memory cell without changing it and verifying whether or not the memory cell reaches a predetermined threshold voltage when the first data storage circuits is a second logic level, and making no first operation in a manner of changing the logic level of the first data storage circuit to a second level when the voltage of one terminal of the memory cell is more than a first detection level.</p>
<p id="p-0017" num="0016">According to a fourth aspect of the present invention, there is provided a program method of a semiconductor memory device comprising: carrying out a write operation with respect to a memory cell storing data using different threshold voltage, and making no change of a threshold voltage in a next write operation when the memory cell reaches a predetermined first threshold voltage in a verify operation of and verifying whether or not the memory cell reaches a predetermined first threshold voltage; and carrying out an i (i: natural number more than 3) write operation in the next write operation when the memory cell reaches a voltage lower than the predetermined first threshold voltage, that is, i threshold voltage (i: natural number more than 3) (first threshold voltage&#x3e;second threshold voltage&#x3e;third threshold voltage . . . &#x3e;i threshold voltage), and controlling the threshold voltage in the i write operation so that a change becomes small in the order of first threshold voltage&#x3c;third threshold voltage&#x3c;fourth threshold voltage&#x3c; . . . &#x3c;k threshold voltage, and repeating the write operation and the verify operation until the memory cell reaches the predetermined first threshold voltage.</p>
<p id="p-0018" num="0017">According to a fifth aspect of the present invention, there is provided a semiconductor memory device comprising: a memory cell array having several memory cells arrayed like a matrix, which are connected to a word line and a bit line and store n value (n: natural number more than 3); and a control circuit controlling each potential of the word line and the bit line in accordance with input data, and writing data in the memory cell, the control circuit carrying out write using k value (k&#x3c;=n) in the write operation, charging the bit line, and thereafter, changing the word line potential m times to verify whether or not the memory cell reaches a normal m threshold value (m&#x3c;=k), charging the bit line in j value (j&#x3c;=n) data read, and thereafter, changing a voltage supplied to the word line m times same as the verify operation to carry out a read operation.</p>
<p id="p-0019" num="0018">According to a sixth aspect of the present invention, there is provided a semiconductor memory device comprising: a memory cell array having several memory cells arrayed like a matrix, which are connected to a word line and a bit line and store n value (n: natural number more than 3); and a control circuit controlling each potential of the word line and the bit line in accordance with input data, and writing data in the memory cell, the control circuit carrying out write using k value (k&#x3c;=n) in the write operation, and charging the bit line, thereafter, changing the word line potential m times to verify whether or not the memory cell reaches a normal m threshold value (m&#x3c;=k), charging the bit line again, thereafter, changing the word line potential m times to verify whether or not the memory cell reaches a normal m threshold value (m&#x3c;=k), and in the next write operation, making a write speed late when the memory cell reaches the normal m threshold value while carrying out no write operation when it reaches the normal m threshold value.</p>
<p id="p-0020" num="0019">According to a seventh aspect of the present invention, there is provided a semiconductor memory device comprising: a memory cell array storing n value (n: natural number more than 2), and having at least one first memory cell arrayed like matrix and at least one second memory cell selected simultaneously with the first memory cell, the memory cell array outputting data of the first memory cell when a logic level of the second memory cell is a first logic level, and outputting output data of the first memory cell as a fixed value when the logic level of the second memory cell is a second logic level.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE SEVERAL VIEWS OF THE DRAWING</heading>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 1A</figref> is a waveform chart showing word line and bit line potentials according to a first embodiment;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 1B</figref> is a waveform chart showing a program verify operation of changing a word line potential;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 1C</figref> is a waveform chart showing each potential of word line WL and bit line BL in a read operation;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 2</figref> corresponds to <figref idref="DRAWINGS">FIG. 1A</figref>, and is a view showing Vg-Id (gate voltage-drain current) characteristic of cell;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 3A</figref> is a view showing program step count and a change of threshold voltage in the first embodiment;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 3B</figref> is a view showing program step count and a change of threshold voltage in QPW;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 3C</figref> is a view showing a modification example of <figref idref="DRAWINGS">FIG. 3A</figref>;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram showing the configuration of a semiconductor memory device according to a first embodiment;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 5</figref> is a circuit diagram showing each configuration of a memory cell array <b>1</b> and a bit line control circuit <b>2</b> shown in <figref idref="DRAWINGS">FIG. 4</figref>;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 6A</figref> and <figref idref="DRAWINGS">FIG. 6B</figref> are cross-sectional views showing each structure of memory cell and select transistor;</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 7</figref> is a cross-section view showing the structure of one NAND cell of the memory cell array;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 8</figref> is a circuit diagram showing the configuration of a data storage circuit shown in <figref idref="DRAWINGS">FIG. 5</figref>;</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 9</figref> is a view to explain the relationship between data and threshold voltage in a memory cell according to the first embodiment;</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 10</figref> is a flowchart to explain a first page program operation;</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 11A</figref>, <figref idref="DRAWINGS">FIG. 11B</figref> and <figref idref="DRAWINGS">FIG. 11C</figref> are views showing the relationship between data stored in a data cache and write cells;</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 12</figref> shows a modification example, and is a view showing Vg-Id characteristic;</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 13</figref> is a flowchart to explain an operation according to a modification example of the first embodiment;</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 14</figref> is a flowchart to explain an erase operation a modification example of the first embodiment;</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 15</figref> is a flowchart to explain a program operation a modification example of the first embodiment;</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 16</figref> is a view showing the content of data cache in the program operation shown in <figref idref="DRAWINGS">FIG. 15</figref>;</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 17</figref> is a waveform chart showing an operation of a third embodiment;</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 18</figref> is a circuit diagram showing the configuration of a data storage circuit applied to a fourth embodiment;</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 19</figref> is a flowchart to explain an operation according to a fourth embodiment;</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 20</figref> is a view showing the operation of the fourth embodiment;</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 21</figref> is a view showing a program verify read operation;</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 22</figref> is a view showing a program verify read operation according to a fifth embodiment;</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 23</figref> is a circuit diagram showing the configuration of a data storage circuit applied to a fifth embodiment;</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 24</figref> is a view showing Log (I)-V characteristic;</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 25</figref> is a waveform chart when a potential change of word line in a read operation according to a sixth embodiment is aligned with that in a verify operation;</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 26A</figref>, <figref idref="DRAWINGS">FIG. 26B</figref> and <figref idref="DRAWINGS">FIG. 26C</figref> are views to explain an operation of storing quaternary (four-valued) data according to a seventh embodiment;</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 27</figref> is a flowchart to explain a first page program operation;</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. 28</figref> is a flowchart to explain a second page program operation;</p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. 29</figref> is a flowchart to explain a second page program operation according to a seventh embodiment;</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 30</figref> is a waveform chart showing a second page program operation;</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 31</figref> is a flowchart to explain a first page read operation of changing a verify level;</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 32</figref> is a flowchart to explain a second page read operation when the verify level is changed and unchanged;</p>
<p id="p-0057" num="0056"><figref idref="DRAWINGS">FIG. 33</figref> is a flowchart to explain a first page read operation according to a seventh embodiment;</p>
<p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. 34</figref> is a waveform chart showing the first page read operation according;</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 35</figref> is a waveform chart showing a modification example of the seventh embodiment;</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 36</figref> is a waveform chart showing a first page read operation according to an eighth embodiment;</p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 37</figref> is a waveform chart showing a second page read operation according to an eighth embodiment; and</p>
<p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. 38</figref> is a waveform chart showing word line and bit line potentials according to a modification example of the fifth to seventh embodiments.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0063" num="0062">Embodiments of the present invention will be described below with reference to the accompanying drawings.</p>
<p id="p-0064" num="0063">(First Embodiment)</p>
<p id="p-0065" num="0064">The principle of the first embodiment will be explained below.</p>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. 1A</figref> shows word line and bit line potentials in the first embodiment, and <figref idref="DRAWINGS">FIG. 2</figref> shows Vg-Id (gate voltage-drain current) characteristic of each cell. As shown in <figref idref="DRAWINGS">FIG. 1A</figref>, according to the first embodiment, the word line potential is set to a normal write verify level (AV), and then, the difference of discharge speed of the bit line is detected, thereby carrying out a first time verify. Thereafter, a normal verify operation, that is, second time verify operation is carried out without changing the word line potential. On the contrary, <figref idref="DRAWINGS">FIG. 1B</figref> shows a program verify operation of changing the word line potential.</p>
<p id="p-0067" num="0066">As illustrated in <figref idref="DRAWINGS">FIG. 1A</figref>, the bit line is charged while the potential of a word line WL is set to a normal verify level (AV). Thereafter, a select gate is set high and a pre-charged bit lone BL is discharged. In a non-write cell (shown by (<b>1</b>) in <figref idref="DRAWINGS">FIG. 1A</figref>) and a write continuing cell (shown by (<b>2</b>) in <figref idref="DRAWINGS">FIG. 1A</figref>), which is far from a write threshold voltage, the bit line potential becomes low because current is carried. On the other hand, in a write continuing cell (shown by (<b>3</b>) in <figref idref="DRAWINGS">FIG. 1A</figref>), which is close to the write threshold voltage and a write completed cell (shown by (<b>4</b>) in <figref idref="DRAWINGS">FIG. 1A</figref>), the bit line potential is intactly kept high. At that time, the bit line potential is detected (first time verify VF<b>1</b>). In this case, the bit line potential is detected using a detection level SLH higher than a normal bit line potential.</p>
<p id="p-0068" num="0067">The discharge of the bit line is continued, and thereby, the bit line potential becomes low in the write continuing cell (shown by (<b>3</b>) in <figref idref="DRAWINGS">FIG. 1A</figref>). Therefore, the bit line potential becomes low in only write completed cell (shown by (<b>4</b>) in <figref idref="DRAWINGS">FIG. 1A</figref>). At that time, the bit line potential is detected (second time verify VF<b>2</b>). The detection level is a normal detection level SL.</p>
<p id="p-0069" num="0068">According to the result of the second time verify, a cell becoming high is a write completed cell, likewise the foregoing QPW. Thus, in the next program loop, the write completed cell is regarded as a non-write cell, and then, the bit line is supplied with power supply voltage Vdd not to carry out a write operation. A write incomplete cell according to the result of the second time verify carries out a write operation in the next program loop. However, if the write incomplete cell is a cell becoming high according to the result of the first time verify, the bit line is supplied with an intermediate voltage (e.g., 0.75V) to carry out a write operation at a reduced write speed. Moreover, if the cell is a cell becoming low according to the result of the first time verify, the bit line is supplied with a ground voltage Vss to carry out a write operation.</p>
<p id="p-0070" num="0069">In the manner as described above, program and verify are repeated until all write cells pass the second time verify. Therefore, the write speed of the cells closing to a normal verify potential becomes late; as a result, threshold voltage distribution is narrowed.</p>
<p id="p-0071" num="0070">According to the first embodiment, there is no need of changing the word line potential in the program verify operation; therefore, high-speed write is provided.</p>
<p id="p-0072" num="0071"><figref idref="DRAWINGS">FIG. 1C</figref> shows each waveform of word line WL, bit line BL and select gate SG in a read operation. As is evident from <figref idref="DRAWINGS">FIG. 1C</figref>, a normal verify read operation and the read operation become the same operation excluding word line potential. In other words, the bit line discharge time becomes equal in the foregoing normal verify read operation and read operation; therefore, the displacement of threshold voltage is reduced. Thus, data written in the memory cell is securely read. Therefore, this serves to reduce a margin between the normal verify read operation and the read operation.</p>
<p id="p-0073" num="0072"><figref idref="DRAWINGS">FIG. 3A</figref> shows program step count and a change of threshold voltage in the first embodiment. <figref idref="DRAWINGS">FIG. 3B</figref> shows program step count and a change of threshold voltage in QPW. In the case shown in <figref idref="DRAWINGS">FIG. 3B</figref>, if threshold voltage exceeds a verify level (AVL) lower than a normal verify level (AV), the bit line is supplied with an intermediate potential (e.g., 0.75V) to reduce a write speed in the next write operation.</p>
<p id="p-0074" num="0073">On the other hand, in the first embodiment shown in <figref idref="DRAWINGS">FIG. 3A</figref>, if the threshold voltage is lower than a normal verify level (AV), the threshold voltage of memory cell is detected at a cell current discharge speed without changing the word line level. For this reason, S-factor (cell current to word line potential) is variable due to back pattern (characteristic changes resulting from other cell write to NAND cell). Therefore, detection level is not uniform, and a write speed is reduced.</p>
<p id="p-0075" num="0074">In this case, as depicted in <figref idref="DRAWINGS">FIG. 3C</figref>, the intermediate potential supplied to the bit line is set to an intermediate voltage (e.g., 0.4V) lower than a normal case to slightly enhance the write speed.</p>
<p id="p-0076" num="0075">The first embodiment will be explained in detail.</p>
<p id="p-0077" num="0076"><figref idref="DRAWINGS">FIG. 4</figref> shows the configuration of a semiconductor memory device according to a first embodiment, that is, NAND flash memory storing binary data.</p>
<p id="p-0078" num="0077">A memory cell array <b>1</b> comprises a plurality of electrically data rewritable memory cells, which are arrayed like a matrix. The memory cells each includes several bit lines, several word lines and shared source line, and comprises an EEPROM cell. The memory cell array <b>1</b> is connected with bit line control circuit <b>2</b> for controlling bit lines and word line control circuit <b>6</b>.</p>
<p id="p-0079" num="0078">The bit line control circuit <b>2</b> includes several data storage circuits and flag data storage circuits described later. The bit line control circuit <b>2</b> carries out the following operations. Specifically, the control circuit <b>2</b> reads data of a memory cell of the memory cell array <b>1</b> via the bit line. The control circuit <b>2</b> detects a state of the memory cell of the memory cell array <b>1</b> via the bit line. The control circuit <b>2</b> applies a write control voltage to the memory cell of the memory cell array <b>1</b> via the bit line to make write to the memory cell. Moreover, the bit line control circuit <b>2</b> is connected with column decoder <b>3</b>, data input-output buffer <b>4</b>. The column decoder <b>3</b> selects a data storage circuit of the bit line control circuit <b>2</b>. Memory cell data read to the data storage circuit is externally output from a data input-output terminal <b>5</b> via the data input-output buffer <b>4</b>.</p>
<p id="p-0080" num="0079">Write data input to the data input-output terminal <b>5</b> from the outside is input to the data storage circuit selected by the column decoder <b>3</b> via the data input-output buffer <b>4</b>.</p>
<p id="p-0081" num="0080">The word line control circuit <b>6</b> is connected to the memory cell array <b>1</b>. The word line control circuit <b>6</b> selects a word line of the memory cell array <b>1</b>, and applies a voltage required for read, write or erase to the selected word line.</p>
<p id="p-0082" num="0081">The foregoing memory cell array <b>1</b>, bit line control circuit <b>2</b>, column decoder <b>3</b>, data input-output buffer <b>4</b> and word line control circuit <b>6</b> are connected to a control signal and control voltage generator circuit <b>7</b>. The control signal and control voltage generator circuit <b>7</b> controls the foregoing components. The control signal and control voltage generator circuit <b>7</b> is connected to a control signal input terminal <b>8</b>, and controlled according a control signal inputted via the terminal <b>8</b> from the outside.</p>
<p id="p-0083" num="0082">The foregoing bit line control circuit <b>2</b>, column decoder <b>3</b>, word line control circuit <b>6</b> and control signal and control voltage generator circuit <b>7</b> form write circuit and read circuit.</p>
<p id="p-0084" num="0083"><figref idref="DRAWINGS">FIG. 5</figref> shows each configuration of the memory cell array <b>1</b> and the bit line control circuit <b>2</b> shown in <figref idref="DRAWINGS">FIG. 4</figref>. Several NAND cells are arrayed in the memory cell array <b>1</b>. One NAND cell is composed of serial-connected <b>16</b> memory cells MC each comprising EEPROM, select gates S<b>1</b> and S<b>2</b>. The select gate S<b>2</b> is connected to a bit line BL<b>0</b>; on the other hand, the select gate S<b>1</b> is connected to a source line SRC. The control gate of each row-arrayed memory cell MC is connected in common to word lines WL<b>0</b> to WL<b>13</b>, WL<b>14</b> and WL<b>15</b>. The select gate S<b>2</b> is connected in common to a select line SGD; on the other hand, the select gate S<b>1</b> is connected in common to a select line SGS.</p>
<p id="p-0085" num="0084">The bit line control circuit <b>2</b> has several data storage circuits <b>10</b>. The data storage circuits <b>10</b> are respectively connected with a pair of bit lines (BL<b>0</b>, BL<b>1</b>), (BL<b>2</b>, BL<b>3</b>) . . . (BLi, BLi+1) and (BL<b>8044</b>, BL<b>8045</b>).</p>
<p id="p-0086" num="0085">The memory cell array <b>1</b> includes several blocks shown by the broken line. Each block is composed of several NAND cells, and data is erased at a unit of block. The erase operation is simultaneously carried out with respect to two bit lines connected to the data storage circuit <b>10</b>.</p>
<p id="p-0087" num="0086">Several memory cells (surrounded by the broken line), which are arrayed on every other bit line and connected to one word line, form one sector. Data is written and read every sector.</p>
<p id="p-0088" num="0087">One of two bit lines (BLi, BLi+1) connected t the data storage circuit <b>10</b> is selected in read operation, program verify operation and program operation. In this case, one bit line is selected in accordance with externally supplied address signals (YA<b>1</b>, YA<b>2</b> . . . YAi . . . YA<b>4023</b>). Moreover, one word line is selected in accordance with an external address.</p>
<p id="p-0089" num="0088"><figref idref="DRAWINGS">FIGS. 6A</figref>, <b>6</b>B and <figref idref="DRAWINGS">FIG. 7</figref> are cross-sectional views showing each structure of memory cell and select transistor.</p>
<p id="p-0090" num="0089"><figref idref="DRAWINGS">FIG. 6A</figref> and <figref idref="DRAWINGS">FIG. 6B</figref> are cross-sectional views showing each structure of memory cell and select transistor. <figref idref="DRAWINGS">FIG. 6A</figref> shows a memory cell. A substrate <b>41</b> is formed with an n-type diffusion layer <b>42</b> as a source/drain of the memory cell. A floating gate (FG) <b>44</b> is formed above the substrate <b>41</b> via a gate insulating film <b>43</b>. A control gate (CG) <b>46</b> is formed above the floating gate <b>44</b> via an insulating film <b>45</b>. <figref idref="DRAWINGS">FIG. 6B</figref> shows a select gate. A substrate <b>41</b> is formed with an n-type diffusion layer <b>47</b> as a source/drain. A control gate <b>49</b> is formed above the substrate <b>41</b> via a gate insulating film <b>48</b>.</p>
<p id="p-0091" num="0090"><figref idref="DRAWINGS">FIG. 7</figref> shows the cross-section of one NAND cell of the memory cell array. As shown in <figref idref="DRAWINGS">FIG. 7</figref>, one NAND cell has <b>16</b> memory cells having the structure shown in <figref idref="DRAWINGS">FIG. 6A</figref>, which are serial-connected. The source/drain side of the NAND cell is provided with select gates S<b>1</b> and S<b>2</b> having the structure shown in <figref idref="DRAWINGS">FIG. 6B</figref>.</p>
<p id="p-0092" num="0091"><figref idref="DRAWINGS">FIG. 8</figref> is a circuit diagram showing the configuration of the data storage circuit <b>10</b> shown in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0093" num="0092">The data storage circuit <b>10</b> has primary data cache (PDC), dynamic data cache (DDC) and temporary data cache (TDC). The foregoing PDC and DDC hold input data in a write operation, hold read data in a read operation, temporarily hold data in a verify operation, and are used to operate internal data when storing multi-valued data. The TDC amplifies bit line data in a data read operation while temporarily holds it, and is used to operate internal data when storing multi-valued data.</p>
<p id="p-0094" num="0093">An input-output data line IO is connected to a node Nib of the PDC via a column select transistor <b>61</b><i>e</i>. An input-output data line IOn is connected to a node N<b>1</b><i>a </i>of the PDC via a column select transistor <b>61</b><i>f</i>. Each gate of these transistors <b>61</b><i>e </i>and <b>61</b><i>f </i>is supplied with a column select signal CSLi. A transistor <b>61</b><i>d </i>is connected between the node N<b>1</b><i>a </i>and ground. The gate of the transistor <b>61</b><i>d </i>is supplied with a signal PRST.</p>
<p id="p-0095" num="0094">The PDC is composed of clocked inverter circuits <b>61</b><i>i, </i><b>61</b><i>j </i>and transistor <b>61</b><i>k. </i>The transistor <b>61</b><i>k </i>is connected between imputer terminals of clocked inverter circuits <b>61</b><i>i </i>and <b>61</b><i>j. </i>The gate of the transistor <b>61</b><i>k </i>is supplied with a signal EQ<b>1</b>. The node N<b>1</b><i>b </i>of the PDC is connected to the gate of a transistor <b>611</b>. One terminal of the current path of the transistor <b>611</b> is grounded via a transistor <b>61</b><i>m. </i>The gate of the transistor <b>61</b><i>m </i>is supplied with a signal CHK<b>1</b>. The other terminal of the current path of the transistor <b>61</b><i>m </i>is supplied with a signal COMi. The signal COMi is a signal, which is common to all data storage circuits <b>10</b> and show whether the verify operation of all data storage circuits <b>10</b> is completed. Specifically, when the verify operation is completed, the node N<b>1</b><i>b </i>of the PDC becomes low, as described later. In this state, when the signal CHK<b>1</b> is set high, the signal COMi becomes high if the verify operation is completed.</p>
<p id="p-0096" num="0095">The node N<b>1</b><i>a </i>is further connected to a node N<b>3</b> via a transistor <b>61</b><i>h. </i>The gate of the transistor <b>61</b><i>h </i>is supplied with a signal BLC<b>1</b>. The foregoing TDC is connected between the node N<b>3</b> and a ground. The TDC comprises a MOS capacitor <b>61</b><i>p, </i>for example. The node N<b>3</b> is connected with the DDC via a transistor <b>61</b><i>q. </i>The gate of the transistor <b>61</b><i>q </i>is supplied with a signal REG.</p>
<p id="p-0097" num="0096">The DDC is composed of transistors <b>61</b><i>r </i>and <b>61</b><i>s</i>. One terminal of the current path of the transistor <b>61</b><i>r </i>is supplied with a signal VREG while the other terminal thereof is connected to the current path of the transistor <b>61</b><i>q. </i>The gate of the transistor <b>61</b><i>r </i>is connected to the node N<b>1</b><i>a </i>of the PDC via the transistor <b>61</b><i>s. </i>The gate of the transistor <b>61</b><i>s </i>is supplied with a signal DTG.</p>
<p id="p-0098" num="0097">The N<b>3</b> is connected with one terminal of each current path of transistors <b>61</b><i>t </i>and <b>61</b><i>u. </i>The other terminal of the current path of the transistor <b>61</b><i>u </i>is supplied with a signal VPRE while the gate thereof is supplied with a signal BLPRE. The gate of transistor <b>61</b><i>t </i>is supplied with a signal BLCLAMP. The other terminal of the current path of the transistor <b>61</b><i>t </i>is connected to one end of a bit line BLo via a transistor <b>61</b><i>v </i>while one terminal thereof is connected to one end of a bit line BLe via a transistor <b>61</b><i>w. </i>The other end of the bit line BLo is connected to one terminal of the current path of a transistor <b>61</b><i>x. </i>The gate of the transistor <b>61</b><i>x </i>is supplied with a signal BlASo. The other end of the bit line BLe is connected to one terminal of the current path of a transistor <b>61</b><i>y. </i>The gate of the transistor <b>61</b><i>y </i>is supplied with a signal BlASe. The other terminal of each current path of these transistors <b>61</b><i>x </i>and <b>61</b><i>y </i>is supplied with a signal BLCRL. The transistors <b>61</b><i>x </i>and <b>61</b><i>y </i>are complementarily powered on in accordance with signals BlASo, BlASe to supply a potential of the signal BLCRL to a non-select bit line.</p>
<p id="p-0099" num="0098">The foregoing signal and voltage are generated from the control signal and control voltage generator circuit <b>7</b> shown in <figref idref="DRAWINGS">FIG. 4</figref>. The following operation is controlled based on control of the control signal and control voltage generator circuit <b>7</b>.</p>
<p id="p-0100" num="0099">The present memory is a binary memory, and capable of storing 1-bit data in one cell, for example.</p>
<p id="p-0101" num="0100"><figref idref="DRAWINGS">FIG. 9</figref> shows the relationship between data and threshold voltage in memory cell. When the memory carries out an erase operation, the threshold voltage of the memory cell becomes negative, and then, write and read data become &#x201c;1&#x201d;. The threshold voltage is stepped up from the preceding state according to a write operation, and thereby, write and read data become &#x201c;0&#x201d;.</p>
<p id="p-0102" num="0101">(Program and Program Verify)</p>
<p id="p-0103" num="0102"><figref idref="DRAWINGS">FIG. 10</figref> shows a first page program operation. The program operation will be explained below with reference to <figref idref="DRAWINGS">FIG. 10</figref> and <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0104" num="0103">(Data Read) (S<b>11</b>)</p>
<p id="p-0105" num="0104">According to the program operation, an address is first designated to select one sector shown in <figref idref="DRAWINGS">FIG. 5</figref>. Data to be written is input from the outside, and stored in each PDC of all data storage circuits <b>10</b>. If data &#x201c;1&#x201d; (do not carry out) is supplied from the outside, the node N<b>1</b><i>a </i>of the PDC becomes high. On the other hand, if data &#x201c;0&#x201d; (carry out write) is supplied, the node N<b>1</b><i>a </i>of the PDC becomes low. In the following description, PDC data is given as a potential of the node N<b>1</b><i>a</i>; on the other hand, DDC data is given as a potential of the node N<b>2</b>.</p>
<p id="p-0106" num="0105">(Setting of Data Cache) (S<b>12</b>)</p>
<p id="p-0107" num="0106">When a write command is supplied, the signal DTG instantaneously becomes high, and then, PDC data is copied into the DDC.</p>
<p id="p-0108" num="0107">(Program) (S<b>13</b>)</p>
<p id="p-0109" num="0108">When the potential of the signal BLC is set to Vdd+Vth (Vth: threshold voltage of N channel MOS transistor), the bit line becomes power supply voltage Vdd if data &#x201c;1&#x201d; (do not carry out write) is stored in the PDC. If data &#x201c;0&#x201d; (carry out write) is stored therein, the bit line becomes ground potential Vss. Write must not be carried out with respect to cells connected to the selected word line and having non-select page, that is, non-select bit line. Thus, bit lines connected to these cells are set to voltage Vdd. Here, the select line SG<b>1</b> of the selected block is set to Vdd, and Vpgm (e.g., 20V) is supplied to a select word line while Vpass (e.g., 10V) is supplied to a non-select word line. In this case, the channel of the cell becomes voltage Vss, and the word line becomes voltage Vpgm; therefore, write is carried out. On the other hand, if the bit line becomes Vdd, the channel of the cell steps up Vpgm, and not Vss; therefore, it becomes Vpgm/2 in coupling. For this reason, program is not executed.</p>
<p id="p-0110" num="0109">The signal BLC is set low while the signal REG is set to an intermediate potential (e.g., 0.75+Vth), and thereby, the bit line becomes the intermediate potential only when PDC is low while DDC is high. Thus, the write speed becomes later than normal write; as a result, write is slightly carried out. On the other hand, if PDC is L level while DDC is low, the potential of the bit line is kept at Vss. Thus, write is normally carried out. Moreover, if PDC is high, write is not carried out. In a first time program operation (before a verify operation is made), PDC=DDC is given. Therefore, the bit line does not become an intermediate potential. As depicted in <figref idref="DRAWINGS">FIG. 9</figref>, if data &#x201c;0&#x201d; is written in the memory cell, memory cell data is set to &#x201c;1&#x201d;. If data &#x201c;1&#x201d; is written in the memory cell, memory cell data is set to &#x201c;0&#x201d; as it is unchanged.</p>
<p id="p-0111" num="0110">(Program Verify) (S<b>14</b>)</p>
<p id="p-0112" num="0111">According to a program verify operation, a select word line of the selected block is supplied with verify potential AV (e.g., 0.8V) high than read potential AR (e.g., 0V or 0.2V). Non-select word line and select line SG<b>1</b> are supplied with Vread. Simultaneously, the bit line is pre-charged under condition that signal VPRE=Vdd, signal BLPRE=Vdd, signal BLCLAMP=Vpre+Vth (e.g., 0.7V+Vth).</p>
<p id="p-0113" num="0112">The source-side select line SGS of the cell is set high. As shown in <figref idref="DRAWINGS">FIG. 1</figref><i>a </i>and <figref idref="DRAWINGS">FIG. 2</figref>, in non-write cell (<b>1</b>) and write continuing cell (<b>2</b>) far from write threshold voltage, the bit line potential becomes low because current is carried. However, in write continuing cell (<b>3</b>) close to write threshold voltage, the cell current is a little; for this reason, the bit line potential merely slightly steps down. In the write completed cell (<b>4</b>), the bit line potential is kept high.</p>
<p id="p-0114" num="0113">In the data storage circuit <b>10</b>, signal VPRE=Vdd and signal BLPRE=Vdd+Vth are given to pre-charge the TDC to Vdd. Thereafter, when signal BLCLAMP=Vsen<b>0</b>+Vth (e.g., 0.65V+Vth) is given, TDC becomes high if the bit line potential is higher than 0.65V. On the other hand, TDC becomes low if the bit line potential is lower than 0.65V. In other words, the TDC becomes low in the cases (<b>1</b>) and (<b>2</b>); on the other hand, it becomes high in the cases (<b>3</b>) and (<b>4</b>) (first time verify VF<b>1</b>).</p>
<p id="p-0115" num="0114">The bit line detection potential Vsen<b>0</b> may be set to a level higher than a normal bit line detection potential Vsen (e.g., 0.45V) or to the potential same as that.</p>
<p id="p-0116" num="0115">When signal VPRE=Vdd and signal REG=Vdd are given, if DDC=high, that is, it becomes high in write non-select or the first time program verify, TDC forcedly becomes high. Thereafter, signal DTG=Vdd+Vth is given to copy PDC data into DDC. Thereafter, signal BLC=Vdd+Vth is given to capture the potential of the TDC in the PDC. PDC=high is given in write non-select cell or cells (<b>3</b>) and (<b>4</b>). On the other hand, PDC=low is given in cells (<b>1</b>) and (<b>2</b>).</p>
<p id="p-0117" num="0116">The discharge of the bit line is continued, and thereby, the bit line of the write continuing cell (<b>3</b>) is discharged; therefore, it becomes low. As a result, the potential of the bit line becomes high in the write completed cell only.</p>
<p id="p-0118" num="0117">In the data storage circuit, signal VPRE=Vdd and signal BLPRE=Vdd+Vth are given to pre-charge the TDC to Vdd. Thereafter, signal BLCLAMP is set to Vsen+Vth (e.g., 0.45V+Vth). If the bit line potential is higher than 0.45V, the TDC becomes high.</p>
<p id="p-0119" num="0118">On the other hand, if the bit line potential is lower than 0.45V, the TDC becomes low. In other words, the TDC becomes low in the cases (cells) (<b>1</b>), (<b>2</b>) and (<b>3</b>), and becomes high in the case (cell (<b>4</b>) (second time verify VF<b>2</b>).</p>
<p id="p-0120" num="0119">Moreover, when signal VPRE=Vdd and signal REG=Vdd are given, if DDC=high, that is, it becomes high in write non-select or the second time program verify (program is completed), TDC forcedly becomes high. Thereafter, signal DTG=Vdd+Vth is given to copy PDC data into DDC. Thereafter, signal BLC=Vdd+Vth is given to capture the potential of the TDC in the PDC. PDC=high is given in write non-select cell or write completed cell. On the other hand, PDC=low is given in write incomplete cell.</p>
<p id="p-0121" num="0120"><figref idref="DRAWINGS">FIG. 11A</figref>, <figref idref="DRAWINGS">FIG. 11B</figref> and <figref idref="DRAWINGS">FIG. 11C</figref> show the relationship between data stored in data cache and write cell.</p>
<p id="p-0122" num="0121">Thereafter, program and verify operations are repeated until data of each PDC of all data storage circuits becomes high. If DDC is high during the program operation, the bit line is supplied with an intermediate potential to make write speed late, and thereby, the threshold voltage distribution width of cell is reduced.</p>
<p id="p-0123" num="0122">(Read)</p>
<p id="p-0124" num="0123">According to a read operation, a read potential AR (e.g., 0V or 0.2V) is supplied to a select word line of the selected block shown in <figref idref="DRAWINGS">FIG. 5</figref> to supply a voltage Vread to non-select word line and select line SGD. Simultaneously, in the data storage circuit <b>10</b> shown in <figref idref="DRAWINGS">FIG. 8</figref>, signal VPRE=Vdd, signal BLPRE=Vdd and signal BLCLAMP=Vpre+Vth (e.g., 0.7V+Vth) are given to pre-charge the bit line.</p>
<p id="p-0125" num="0124">The source-side select line SGS of the cell is set high.</p>
<p id="p-0126" num="0125"><figref idref="DRAWINGS">FIG. 1C</figref> shows each potential of word line WL and bit line BL in a read operation. In the read operation, it is possible to carry out the second time verify only made in the program verify operation. However, the same operation as the program verify operation is carried out, thereby reducing margin between the program verify operation and the read operation. Thus, in the data storage circuit <b>10</b>, signal VPRE=Vdd and signal BLPRE=Vdd+Vth are given to pre-charge the TDC to Vdd, like the program verify operation. Thereafter, signal BLCLAMP=Vpre+Vth (e.g., 0.7V+Vth) is given, and then, the discharge of the bit line is continued. Thereafter, in the data storage circuit, signal VPRE=Vdd, signal BLPRE=Vdd+Vth are again given to pre-charge the TDC to Vdd. By doing so, signal BLCLAMP=Vsen+Vth e.g., 0.45V+Vth) is given. If the bit line potential is higher than 0.45V, TDC=high is obtained. If the bit line potential is lower than 0.45V, TDC=low is obtained. Thereafter, signal BLC=Vdd+Vth is given to capture the TDC potential in the PDC. As seen from <figref idref="DRAWINGS">FIG. 9</figref>, if write and read cell data are &#x201c;1&#x201d;, PDC=low is given; on the other hand, if the data is &#x201c;1&#x201d;, PDC=high is given. However, these data are inverted, and thereafter, output outside.</p>
<p id="p-0127" num="0126">(Erase)</p>
<p id="p-0128" num="0127">According to an erase operation, erase is carried out every one block shown in <figref idref="DRAWINGS">FIG. 5</figref>. When erase is carried out, write and read cell data becomes &#x201c;1&#x201d; as shown in <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="p-0129" num="0128">(Modification Example of First Embodiment)</p>
<p id="p-0130" num="0129">(Change of First Time Verify Detection Potential (Vsen<b>0</b>) or Detection Timing)</p>
<p id="p-0131" num="0130">Program and erase operations are repeated, and thereby, current flowing through the cell is reduced, and the gradient of Vg-Id characteristic becomes small as shown by (<b>2</b>) in <figref idref="DRAWINGS">FIG. 12</figref>. For this reason, in a write continuing cell (<b>2</b>) far from threshold voltage, the case where the PDC becomes high in the first time verify increases. When the PDC becomes high, an intermediate potential is supplied in the next program; for this reason, the write speed becomes late. As a result, the following problem arises. Specifically, the cell does not readily reach a normal (predetermined) threshold voltage; for this reason, the program verify loop count increases until it reaches the normal threshold voltage.</p>
<p id="p-0132" num="0131">In view of the foregoing circumstances, the control signal and control voltage generator circuit <b>7</b> shown in <figref idref="DRAWINGS">FIG. 4</figref> is provided with a counter. The counter counts loop every several page or block writes. If the counted number of loops is more than a preset value, the level of Vsen<b>0</b> is increased, or the first time verify timing is slightly delayed. By doing so, the PDC is controlled to be hard to become high.</p>
<p id="p-0133" num="0132"><figref idref="DRAWINGS">FIG. 13</figref> is a flowchart to explain a program verify operation. In <figref idref="DRAWINGS">FIG. 13</figref>, the same reference numerals are used to designate steps having meaning identical to <figref idref="DRAWINGS">FIG. 10</figref>. As shown in <figref idref="DRAWINGS">FIG. 13</figref>, data is loaded, and then, PDC data is copied into DDC. Thereafter, a program loop counter PLC counts loops PLC<b>1</b>, PLC<b>2</b> . . . PLCn every several page or several block writes (S<b>21</b>, S<b>22</b>). Here, PLC<b>1</b> denotes loop count in one-old program, PLC<b>2</b> denotes loop count in two-old program, and PLC denotes loop count in n-old program. An average value APC of these loops (PLC<b>1</b>+PLC<b>2</b>+ . . . +PLCn/n) is calculated (S<b>23</b>). In other words, the count value of eh counter is divided by program counts, and thereby, the average value APC of the loop count is obtained. If the average value APC is more than a predetermined value, the level of Vsen<b>0</b> in verify is increased, or the first time verify timing is delayed (S<b>24</b>, S<b>25</b>). In order to delay the verify timing, the timing of generating signals VPRE and BLPRE in the data storage circuit <b>10</b> may be delayed. The foregoing configuration is provided, and thereby, the program verify count is reduced.</p>
<p id="p-0134" num="0133">There is another method of reducing the program verify count. Specifically, the control signal and control voltage generator circuit <b>7</b> shown in <figref idref="DRAWINGS">FIG. 4</figref> is provided with a counter, which counts the erase count every block. Moreover, the memory cell array shown in <figref idref="DRAWINGS">FIG. 5</figref> is provided with several cells, which store the erase count every block. If the erase count stored in the cell is more than a predetermined value, the PDC is controlled to be hard to become high using the same means as described above.</p>
<p id="p-0135" num="0134"><figref idref="DRAWINGS">FIG. 14</figref> is a flowchart to explain an erase operation. When erasing data, an erase count ELC is read from the cell storing the erase count, and then, stored in a register (not shown) (S<b>31</b>, S<b>32</b>). The selected block is erased to verify whether or not erase is sufficient (S<b>33</b>, S<b>34</b>). The foregoing operation is repeated until erase is completed (S<b>35</b>, S<b>33</b>, S<b>34</b>). If erase is completed, the erase count ELC stored in the register is counted up (S<b>36</b>). Then, the counted-up erase count ELC is written in the cell. The write operation is the same as the foregoing program operation. Specifically, the counter PLC counting the program loop count is reset, and then, the erase count ELC is programmed in a predetermined cell (S<b>37</b>, S<b>38</b>). Thereafter, program and verify are repeated until all PDCs becomes &#x201c;1&#x201d; (S<b>39</b>, S<b>40</b>, S<b>41</b>, S<b>38</b>). In the manner as described above, the erase count ELC is counted every when the memory cell is erased, and then, stored in the memory cell.</p>
<p id="p-0136" num="0135"><figref idref="DRAWINGS">FIG. 15</figref> is a flowchart to explain a program operation. The program of <figref idref="DRAWINGS">FIG. 15</figref> differs from <figref idref="DRAWINGS">FIG. 10</figref> in that erase count ELC stored in the memory cell is read before program (S<b>51</b>). If the erase count ELC is more than a predetermined value, a detection potential Vsen<b>0</b> is increased, or verify timing is delayed (S<b>52</b>, S<b>53</b>).</p>
<p id="p-0137" num="0136">The foregoing configuration is given, and thereby, program time is shortened in accordance with cell degradation resulting from repetition of program and erase.</p>
<p id="p-0138" num="0137">The erase count is stored at a unit of block; however, the present invention is not limited to the unit of block. For example, if data is erasable at a unit of page, the erase count may be stored after is counted at a unit of page.</p>
<p id="p-0139" num="0138">The detection potential Vsen<b>0</b> or the second time verify timing may be changed regardless of cell degradation resulting from repetition of program and erase. For example, a preset value may be changed every word line or block.</p>
<p id="p-0140" num="0139">(Second Embodiment)</p>
<p id="p-0141" num="0140">According to the program verify operation of the first embodiment, the bit line of non-write cell is pre-charged to be discharged. However, if many non-write cells exist, current carrying the source line (SRC) is large. For this reason, the source line becomes a floating state; therefore, the potential of the source line steps up. As a result, current does not readily flow through the write cell to be normally verified. In view of the foregoing circumstances, according to the second embodiment, only bit line to be normally verified is pre-charged.</p>
<p id="p-0142" num="0141">(Program)</p>
<p id="p-0143" num="0142">A program operation is the same as the first embodiment. The program operation differs from the first embodiment in that PDC data is inverted during recovery of word line potential.</p>
<p id="p-0144" num="0143"><figref idref="DRAWINGS">FIG. 16</figref> shows the relationship between data stored in data cache and write cell. In other words, <figref idref="DRAWINGS">FIG. 16</figref> shows a state after program recovery and after PDC data is inverted.</p>
<p id="p-0145" num="0144">(Inversion of PDC data)</p>
<p id="p-0146" num="0145">The following operation is carried out in order to invert PDC data. Signal VPRE=Vss and signal BLPRE=Vdd are given to obtain TDC=Vss, and thereafter, signal VREG=Vdd and signal REG=Vdd+Vth are given. If DDC=high, TDC=high is obtained. However, if DDC=low, TDC is kept low. Signal DTG=Vdd+Vth is given to copy PDC data into DDC. Thereafter, signal BLC=Vdd+Vth is given to copy TDC data into PDC. By doing so, the PDC data is moved to DDC; on the other hand, the DDC data is moved to PDC.</p>
<p id="p-0147" num="0146">Signal VPRE=Vdd and signal BLPRE=Vdd+Vth are given to obtain TDC=Vdd, and thereafter, signal VPRE=Vss and signal REG=Vdd are given. If DDC=high, TDC=low is obtained. However, if DDC=low, TDC is kept high.</p>
<p id="p-0148" num="0147">Signal DTG=Vdd+Vth is given to copy PDC data into DDC. Thereafter, signal BLC=Vdd+Vth is given to copy TDC data into PDC. By doing so, the PDC data is moved to DDC; on the other hand, the DDC data is inverted, and thereafter, moved to PDC.</p>
<p id="p-0149" num="0148">(Program Verify)</p>
<p id="p-0150" num="0149">A program verify operation is substantially the same as the first embodiment. However, signal BLC=Vsg+Vth is given to obtain PDC=high; in other words, only bit line of write cell is pre-charged. During discharge of bit line, data of data cache is inverted to be restored in program recovery before the second time verify before or after the first time verify. In order to invert and restore data of data cache, the data of data cache is inverted according to the same operation as PDC data. However, if the data of data cache is inverted and restored after the first time verify, the DDC data is inverted. Other operation is the same as the first embodiment.</p>
<p id="p-0151" num="0150">According to the second embodiment, only bit line of the write cell to be verified is pre-charged. Thus, current carrying the source line SRC is reduced to prevent the source line SRC from becoming a floating state. Therefore, current flows through the write cell to be verified, so that threshold voltage distribution is narrowed.</p>
<p id="p-0152" num="0151">(Third Embodiment)</p>
<p id="p-0153" num="0152"><figref idref="DRAWINGS">FIG. 17</figref> shows an operation according to a third embodiment. In the foregoing first and second embodiments, the source line is set to Vss during bit line discharge in verify. As seen from <figref idref="DRAWINGS">FIG. 17</figref>, the potential of the source line SRC is set to Vxx (e.g., 0.2V) from program start to the first time verify. Potential supplied to cell seemingly becomes verify potential AV-Vxx. Therefore, this implies that the same potential as potential AVL lower than a normal verify potential AV is supplied, as shown in <figref idref="DRAWINGS">FIG. 1B</figref>. In this manner, the first time verify operation is carried out, and thereafter, the potential of the source line SRC is set to ground potential, and then, the second time verify operation is carried out.</p>
<p id="p-0154" num="0153">According to the third embodiment, the capacity of the source line is smaller than that of the word line; therefore, a high-speed verify operation is possible.</p>
<p id="p-0155" num="0154">In the third embodiment, the potential of source line only is set to Vxx (e.g., 0.2V), and thereby, the threshold voltage of cell slightly steps up according to back bias effect. In this case, the potential of well (not shown) formed with memory cell is set to Vxx (e.g., 0.2V), and thereby, it is possible to prevent a step-up of the threshold voltage of cell.</p>
<p id="p-0156" num="0155">(Fourth Embodiment)</p>
<p id="p-0157" num="0156">In the first to third embodiments, binary data is stored in the memory cell. The present invention is applicable to a multi-valued memory storing several bits in one cell.</p>
<p id="p-0158" num="0157"><figref idref="DRAWINGS">FIG. 18</figref> shows the configuration of a data storage circuit <b>10</b> applied to the case of storing ternary data. The data storage circuit <b>10</b> shown in <figref idref="DRAWINGS">FIG. 18</figref> differs from that shown in <figref idref="DRAWINGS">FIG. 8</figref> in the following point. Specifically, the data storage circuit <b>10</b> is further provided with SDC (secondary data cache), transistors <b>61</b><i>n, </i><b>61</b><i>o </i>as a transfer gate for transferring a signal COMi, and transistor <b>61</b><i>g. </i></p>
<p id="p-0159" num="0158">Each row of the memory cell array <b>1</b> shown in <figref idref="DRAWINGS">FIG. 5</figref> is provided with flag cells (not shown). The bit lie connected to the flag cells is connected to a flag cell data storage circuit. When second page data is written, each flag cell is stored with data showing that the second page data is written.</p>
<p id="p-0160" num="0159"><figref idref="DRAWINGS">FIG. 19</figref> shows the sequence for programming ternary data, and <figref idref="DRAWINGS">FIG. 20</figref> shows a change of the threshold voltage of memory cell according to a program operation.</p>
<p id="p-0161" num="0160">As depicted in <figref idref="DRAWINGS">FIG. 20</figref>, if ternary data is written, the cell threshold voltage is transferred from an erase state to level &#x201c;A&#x201d; or &#x201c;B&#x201d;. For this reason, according to the fourth embodiment, verify at a verify level &#x201c;A&#x201d; (S<b>14</b>) and verify at a verify level &#x201c;B&#x201d; (S<b>60</b>) are carried out, as seen from <figref idref="DRAWINGS">FIG. 19</figref>. The verify at a verify level &#x201c;B&#x201d; is the same as the first to third embodiments. However, if verify of the cell written at the level &#x201c;A&#x201d; is carried out in the same manner as verify of the cell written at the level &#x201c;B&#x201d;, the following problem arises. That is, a cell, which is written at the level &#x201c;B&#x201d; and does not reach the &#x201c;B&#x201d; level, passes the verify. Thus, if write at the level &#x201c;B&#x201d; is carried out during a write sequence, a node N<b>2</b><i>b </i>of the SDC in the data storage circuit <b>10</b> shown in <figref idref="DRAWINGS">FIG. 18</figref> is set high. On the other hand, if write at the level &#x201c;A&#x201d; is carried out, the node N<b>2</b><i>b </i>is set low. In verify at the verify level &#x201c;A&#x201d;, when the bit line potential is captured in TDC, the TDC becomes high. This is the case where the threshold voltage is higher than the level &#x201c;A&#x201d;. For this reason, a signal BLC<b>2</b> is set to Vth+0.1V so that TDC is forced low. By doing so, even if write at the level &#x201c;B&#x201d; is carried out, the TDC is set low not to pass the verify.</p>
<p id="p-0162" num="0161">According to the fourth embodiment, it is possible to carry out the verify operation at high speed even if multi-valued data is stored.</p>
<p id="p-0163" num="0162">(Fifth Embodiment)</p>
<p id="p-0164" num="0163">According to the foregoing embodiments, the write speed is made late in the following manner in the program verify read operation. Specifically, as shown in <figref idref="DRAWINGS">FIG. 21</figref>, when the verify level exceeds a low verify level a* or current Icell flowing through cell is a little, an intermediate potential (e.g., 1V) is supplied to the bit line to make the write speed late.</p>
<p id="p-0165" num="0164">On the contrary, according to the fourth embodiment, the write speed is made late in the following manner in the program verify read operation. Specifically, as shown in <figref idref="DRAWINGS">FIG. 22</figref>, when the verify level exceeds a low verify level a** or current Icell flowing through cell is a little, an intermediate potential (e.g., 1.2V) is supplied to the bit line to make the write speed late. Moreover, when the verify level exceeds a low verify level a* or current Icell flowing through cell is less than above, an intermediate potential (e.g., 0.4V) is supplied to the bit line to make the write speed later than above, and then, write is repeated. By doing so, threshold voltage distribution is narrowed.</p>
<p id="p-0166" num="0165"><figref idref="DRAWINGS">FIG. 23</figref> shows the configuration of a data storage circuit <b>10</b> applied to the fifth embodiment. When the verify level exceeds verify level a**, a* and write or non-write state, data is stored in each of DDC, DDC<b>2</b> and PDC.</p>
<p id="p-0167" num="0166">In the fifth embodiment, two levels a** and a* are given; in this case, several levels may be given.</p>
<p id="p-0168" num="0167">According to the fifth embodiment, the intermediate potential supplied to the bit line in a verify operation is increased. By doing so, the write speed is properly set, and threshold voltage distribution written to cell is narrowed. Moreover, the write speed is made late using several intermediate voltages; however, write time at one time is not so increased. Therefore, there is no hindrance to a high-speed program verify operation.</p>
<p id="p-0169" num="0168">(Sixth Embodiment)</p>
<p id="p-0170" num="0169">In <figref idref="DRAWINGS">FIG. 1B</figref>, the potential of the word line WL is set to a potential AVL lower than a normal verify potential AV in verify, and thereafter, set to the normal verify potential AV. However, if the verify potential set as described above, the following problem arises. Specifically, in Log(I)-V characteristic, characteristic C<b>2</b> having a gradient smaller than characteristic C<b>1</b> is given resulting from reduction of cell current as shown in <figref idref="DRAWINGS">FIG. 24</figref>. In this case, current is carried even if the verify potential AVL is given. For this reason, the cell threshold voltage becomes higher than the threshold voltage (AV) of a write target.</p>
<p id="p-0171" num="0170">In the foregoing first to fifth embodiments, the word line potential is unchanged in verify, and thereby, word line potentials in verify and read are made equal. By doing so, margin in read is reduced. In other words, the word line potential in verify is aligned with that in read.</p>
<p id="p-0172" num="0171">On the contrary, according to the sixth embodiment, as shown in <figref idref="DRAWINGS">FIG. 25</figref>, the word line potential is changed in a read operation in the same manner as the verify operation shown in <figref idref="DRAWINGS">FIG. 1B</figref>. For example, the potential of the word line WL is set to a level (ARL) lower than an actual read level to discharge a current. Thereafter, the potential of the word line WL is set to an actual read level (AR). The foregoing operation is given, and thereby, read and verify operations are carried out under the same condition. Therefore, there is no need of widening margin in data read any more, and data stored in the memory cell is securely read.</p>
<p id="p-0173" num="0172">(Seventh Embodiment)</p>
<p id="p-0174" num="0173"><figref idref="DRAWINGS">FIG. 26A</figref>, <figref idref="DRAWINGS">FIG. 26B</figref> and <figref idref="DRAWINGS">FIG. 26C</figref> show a write sequence of storing 2-bit data in one memory cell using quaternary (four-valued) data. <figref idref="DRAWINGS">FIG. 27</figref> and <figref idref="DRAWINGS">FIG. 28</figref> each show a flowchart to explain a quaternary (four-valued) write operation of changing a verify level. <figref idref="DRAWINGS">FIG. 27</figref> shows a flowchart to explain a first page program operation, and <figref idref="DRAWINGS">FIG. 28</figref> shows a flowchart to explain a second page program operation.</p>
<p id="p-0175" num="0174">As shown in <figref idref="DRAWINGS">FIG. 26A</figref>, when an erase operation is carried out, memory cell data becomes &#x201c;0&#x201d;. According to a first page write, the memory cell data is kept at &#x201c;0&#x201d; if data from the outside is non-write &#x201c;1&#x201d; while becoming &#x201c;1&#x201d; if data from the outside is write &#x201c;0&#x201d;.</p>
<p id="p-0176" num="0175">As depicted in <figref idref="DRAWINGS">FIG. 26C</figref>, in the second page write, the memory cell data is kept at &#x201c;0&#x201d; if the memory cell data is &#x201c;0&#x201d; and data from the outside is non-write &#x201c;1&#x201d;. If data from the outside is write &#x201c;0&#x201d;, the memory cell data becomes &#x201c;2&#x201d;. If the memory cell data is &#x201c;1&#x201d; and data from the outside is non-write &#x201c;1&#x201d;, the memory cell data becomes &#x201c;4&#x201d;. If data from the outside is write &#x201c;0&#x201d;, the memory cell data becomes &#x201c;3&#x201d;.</p>
<p id="p-0177" num="0176">In the first page write, threshold voltage distribution width may be large. Thus, as described in <figref idref="DRAWINGS">FIG. 24</figref>, in Log(I)-V characteristic, characteristic C<b>2</b> having a gradient smaller than characteristic C<b>1</b> is given resulting from reduction of cell current. For this reason, the cell threshold voltage becomes higher than the threshold voltage of a write target. But, this is no problem. However, in the second write, the threshold voltage distribution width must be narrowed. Specifically, as described in <figref idref="DRAWINGS">FIG. 24</figref>, in Log(I)-V characteristic, characteristic C<b>2</b> having a gradient smaller than characteristic C<b>1</b> is given resulting from reduction of cell current. As a result, cell carries current at the verify potential AVL. For this reason, the cell threshold voltage becomes higher than a write target the threshold voltage (AV), and thereby, the threshold voltage distribution width is widened. This results from the reason why the difference between verify potentials AVL and AV is narrow.</p>
<p id="p-0178" num="0177">According to the second page program operation shown in <figref idref="DRAWINGS">FIG. 28</figref>, the first time verify is carried out in the following manner. Specifically, in verify (AVL/AV) (S<b>70</b>), the bit line is pre-charged, and simultaneously, the word line potential is set to a level AVL lower than a normal verify level AV, as shown in <figref idref="DRAWINGS">FIG. 1B</figref>. Thereafter, the word line potential is set to a normal verify level AV, and then, the second time verify is carried out. In verify (BVL/BV) (S<b>71</b>), verify is carried out at a level BVL lower than a normal verify level BV and at the normal verify level AV, like the foregoing verify (AVL/AV).</p>
<p id="p-0179" num="0178">On the contrary, according to the seventh embodiment, verify is carried out in the following manner. According to the second page program shown in <figref idref="DRAWINGS">FIG. 29</figref> and <figref idref="DRAWINGS">FIG. 30</figref>, in verify (AVL/BVL) (S<b>80</b>), only verify at a verify level lower than a normal verify level AV/BV is carried out.</p>
<p id="p-0180" num="0179">First, the bit line is pre-charged, and simultaneously, the word line potential is set to AVL to carry out a first time verify operation at a level A is carried out. Thereafter, the word line potential is changed from AVL to BVL to carry out a second time verify operation a level B.</p>
<p id="p-0181" num="0180">In verify (AV/BV) (S<b>81</b>), a verify operation is carried out at a normal verify level (AV/BV). Specifically, the bit line is pre-charged, and simultaneously, the word line potential is set to a level AV to carry out a first time verify operation at a level A. Thereafter, the word line potential is changed from AV to BV to carry out a second time verify operation at a level B. In this case, the potential difference between verify levels AVL and BVL and AV and between BV is large; therefore, no problem described in <figref idref="DRAWINGS">FIG. 24</figref> arises. Thus, the threshold voltage distribution is narrowed, and high-speed write is achieved.</p>
<p id="p-0182" num="0181"><figref idref="DRAWINGS">FIG. 31</figref> and <figref idref="DRAWINGS">FIG. 32</figref> each show a flowchart to explain a read operation of changing a verify level. <figref idref="DRAWINGS">FIG. 31</figref> shows a first page read operation, and <figref idref="DRAWINGS">FIG. 32</figref> shows a second page read operation.</p>
<p id="p-0183" num="0182">According to the first page read operation shown in <figref idref="DRAWINGS">FIG. 31</figref>, data is read at a read level BR (S<b>91</b>). The read result is transferred from PDC to SDC (S<b>92</b>). Thereafter, flag cell data (written only when second page write is carried out) for identifying whether or not second page write is made is determined (S<b>93</b>). If data is written in the flag cell, the data is outputted (S<b>94</b>). On the other hand, if data is not written in the flag cell (no write is made with respect to second page), data is again read at a read level AR to output data outside (S<b>95</b>, S<b>96</b>, S<b>94</b>).</p>
<p id="p-0184" num="0183">On the contrary, according to a first page read operation of the seventh embodiment, a read operation at read levels AR and BR is carried out in the same manner as the verify operation, as shown in <figref idref="DRAWINGS">FIGS. 33 and 34</figref>. Specifically, the bit line is pre-charged one time, and thereafter, the word line potential is set to AR to read data, and thereafter, the word line potential is again set to BR to read data (S<b>111</b>). By doing so, the operation in verify and read is carried out under the same condition. Thus, there is no need of widening data read margin any more, and data stored in the memory cell is securely read. In this case, the read result at the read level AR is held in the DDC; on the other hand, the read result at the read level BR is held in the PDC.</p>
<p id="p-0185" num="0184">Thereafter, data is transferred from PDC to SDC (S<b>112</b>). Flag cell for identifying whether or not the second page write is carried out is determined (S<b>113</b>). As a result, if the flag cell is written, the data is output (S<b>114</b>). On the other hand, if data is not written in the flag cell (no write is made with respect to the second page), the read result at the read level AR held in the DDC is transferred to SDC (S<b>115</b>) to output data outside (S<b>114</b>).</p>
<p id="p-0186" num="0185">According to the seventh embodiment, the following advantage is given. That is, if no second page write is carried out in the first page read, two-time read sequences are required; on the contrary, one-time read sequence is only carried out. Therefore, a high-speed read is achieved.</p>
<p id="p-0187" num="0186">In the first page read operation, the second page read sequence is the same in cases where the word line potential is changed or not changed after one-time pre-charge. Specifically, as shown in <figref idref="DRAWINGS">FIG. 32</figref>, the bit line is pre-charged, and thereafter, the word line potential is set to CR to read data from memory cell (S<b>101</b>). Thereafter, the bit line is pre-charged, and thereafter, the word line potential is set to AR to read data from memory cell (S<b>102</b>). Then, PDC data is transferred to SDC (S<b>103</b>). Thereafter, flag cell data is determined (S<b>104</b>). As a result, if no write is made with respect to the second page, data is fixed to &#x201c;1&#x201d;, and then output (S<b>105</b>). On the other hand, if write is made with respect to the second page, SDC data is output (S<b>106</b>).</p>
<p id="p-0188" num="0187"><figref idref="DRAWINGS">FIG. 35</figref> shows a modification example of the seventh embodiment. <figref idref="DRAWINGS">FIG. 35</figref> shows an operation of continuously reading four levels after a bit line is pre-charged. Specifically, the bit line BL is pre-charged, and thereafter, the word line WL is successively supplied with several different low verify voltages AVL, BVL, CVL and DVL. These verify voltages AVL, BVL, CVL and DVL are supplied to continuously carry out low first to fourth verify. Thereafter, the bit line BL is again pre-charged, and thereafter, the word line WL is successively supplied with several different normal verify voltages AV, BV, CV and DV. These normal verify voltages AV, BV, CV and DV are supplied to continuously carry out normal first to fourth verify.</p>
<p id="p-0189" num="0188">According to the foregoing modification example, four-time verify is carried out with respect to one-time bit line pre-charge. Therefore, the number of pre-charging the bit line is reduced, and four-valued data write is achieved at high speed.</p>
<p id="p-0190" num="0189">(Eighth Embodiment)</p>
<p id="p-0191" num="0190"><figref idref="DRAWINGS">FIG. 36</figref> and <figref idref="DRAWINGS">FIG. 37</figref> each show an eighth embodiment modifying the seventh embodiment. In <figref idref="DRAWINGS">FIG. 36</figref>, the same reference numerals are used to designate portions identical to <figref idref="DRAWINGS">FIG. 33</figref>. In <figref idref="DRAWINGS">FIG. 37</figref>, the same reference numerals are used to designate portions identical to <figref idref="DRAWINGS">FIG. 32</figref>.</p>
<p id="p-0192" num="0191">According to the eighth embodiment, the memory cell array is further provided with another flag cell. It is recognizable whether failure occurs in page using data stored in the flag cell. Specifically, each row of the memory cell array <b>1</b> shown in <figref idref="DRAWINGS">FIG. 5</figref> is provided with a flag cell (not shown). A bit line connected to the flag cell is connected with a flag cell data storage circuit. The foregoing configuration is given, and thereby, if failure occurs in page, data is written in the flag cell corresponding to the failure page. If failure occurs in first page write, data showing failure page corresponding to the first page, for example, &#x201c;0&#x201d; is written in the flag cell. Moreover, failure occurs in second page write, data showing failure page corresponding to the second page, for example, &#x201c;0&#x201d; is written in the flag cell.</p>
<p id="p-0193" num="0192">In the first page read shown in <figref idref="DRAWINGS">FIG. 36</figref>, it is determined whether or not data &#x201c;0&#x201d; showing failure page is written in the first page of the flag cell (S<b>121</b>). As a result, if no data showing failure page is written, data is output as described before. On the other hand, if data showing failure page is written, all output data of the first page are fixed to &#x201c;0&#x201d; (S<b>122</b>). By doing so, it is recognizable that the first page is failure page.</p>
<p id="p-0194" num="0193">In the second page read shown in <figref idref="DRAWINGS">FIG. 37</figref>, it is determined whether or not data &#x201c;0&#x201d; showing failure page is written in the second page of the flag cell (S<b>131</b>). As a result, if no data showing failure page is written, data is output as described before. On the other hand, if data showing failure page is written, all output data of the first page are fixed to &#x201c;0&#x201d; (S<b>132</b>). By doing so, it is recognizable that the first page is failure page.</p>
<p id="p-0195" num="0194">The flag for identifying failure page is set independently from first and second pages. The first and second pages are the same cell. For this reason, for example, if the first page is failure, there is the case where the second page is also failure. Therefore, only one flag for identifying failure page is set. If write is made with respect to the flag, output data is fixed in both first and second page.</p>
<p id="p-0196" num="0195">In the foregoing fifth to seventh embodiments, the bit line potential is read in the following manner. Specifically, as shown in <figref idref="DRAWINGS">FIG. 1B</figref>, the bit line is one pre-charged to rise up the word line, and thereafter, the select gate is powered on to carry out the first time read of the bit line potential. Then, the word line potential is changed to carry out the second time read of the bit line potential.</p>
<p id="p-0197" num="0196">On the other hand, as depicted in <figref idref="DRAWINGS">FIG. 38</figref>, the bit line BL is one pre-charged to rise up the word line to a potential AVL. Thereafter, the select gate SG is powered on to carry out the first time read of the bit line potential. Then, the select gate SG is powered off to change the word line potential to AV, and thereafter, the select gate SG is again powered on to carry out the second time read of the bit line potential. By doing so, in the word line having large capacity and resistance, the rise speed of the word line serves to prevent the difference of discharge speed of the bit line resulting from the difference between proximal and tip ends of the word line.</p>
<p id="p-0198" num="0197">Additional advantages and modifications will readily occur to those skilled in the art. Therefore, the invention in its broader aspects is not limited to the specific details and representative embodiments shown and described herein. Accordingly, various modifications may be made without departing from the spirit or scope of the general inventive concept as defined by the appended claims and their equivalents.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A semiconductor memory device comprising:
<claim-text>a memory cell configured to store data by n (n: a natural number of 1 or more) threshold voltage;</claim-text>
<claim-text>a data storage circuit connected to one end of the memory cell, and storing a first logical level or a second logical level supplied from outside;</claim-text>
<claim-text>a control circuit connected to the data storage circuit, and verifying whether the threshold voltage of the memory cell has reached a first threshold voltage in a verify operation, the control circuit being configured to perform a first operation stepping up the threshold voltage of the memory cell when the data storage circuit stores the first logical level, and keeping the threshold voltage of the memory cell when the data storage circuit stores the second logical level,</claim-text>
<claim-text>wherein the control circuit is configured to perform the verify operation when the data storage circuit stores the first logical level, and not to perform the verify operation when the data storage circuit stores the second logical level.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A semiconductor memory device comprising:
<claim-text>a memory cell configured to store data by n (n: a natural number of 1 or more) threshold voltage;</claim-text>
<claim-text>a data storage circuit connected to one end of the memory cell, and storing a first logical level or a second logical level supplied from outside;</claim-text>
<claim-text>a control circuit connected to the data storage circuit, and verifying whether the threshold voltage of the memory cell has reached a first threshold voltage in a verify operation, the control circuit being configured to step up the threshold voltage of the memory cell when the data storage circuit stores the first logical level, and keeping the threshold voltage of the memory cell when the data storage circuit stores the second logical level,</claim-text>
<claim-text>wherein the control circuit is configured to charge the one end of the memory cell when the data storage circuit stores the first logical level, and not to charge the one end of the memory cell when the data storage circuit stores the second logical level.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The device according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein in the verify operation, the control circuit is configured to supply a first voltage to a gate of the memory cell, to set a logical level of the data storage circuit to the second logical level when the data storage circuit stores the first logical level and a voltage of one end of the memory cell is higher than a first detecting level, to keep the logical level of the data storage circuit at the first logical level when the data storage circuit stores the first logical level and a voltage of one end of the memory cell is lower than a first detecting level, and to keep the second logical level when the logical level of the data storage circuit is the second logical level.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein after the first operation for stepping up the threshold voltage of the memory cell, the data of the data storage circuit is inverted during a recovery operation.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The device according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein after the first operation for stepping up the threshold voltage of the memory cell, the data of the data storage circuit is inverted during a recovery operation. </claim-text>
</claim>
</claims>
</us-patent-grant>
