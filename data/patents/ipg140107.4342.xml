<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625413-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625413</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12704224</doc-number>
<date>20100211</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>775</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>R</subclass>
<main-group>31</main-group>
<subgroup>08</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370228</main-classification>
<further-classification>370216</further-classification>
<further-classification>370225</further-classification>
<further-classification>370276</further-classification>
<further-classification>370296</further-classification>
</classification-national>
<invention-title id="d2e53">Fault tolerant mode for 100BaseT ethernet</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5623513</doc-number>
<kind>A</kind>
<name>Chow et al.</name>
<date>19970400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375219</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7587181</doc-number>
<kind>B2</kind>
<name>Cheung et al.</name>
<date>20090900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2004/0090981</doc-number>
<kind>A1</kind>
<name>Lin et al.</name>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370445</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2004/0213170</doc-number>
<kind>A1</kind>
<name>Bremer</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2005/0021734</doc-number>
<kind>A1</kind>
<name>Chan</name>
<date>20050100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709224</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2005/0099951</doc-number>
<kind>A1</kind>
<name>Mohan et al.</name>
<date>20050500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370241</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2005/0135413</doc-number>
<kind>A1</kind>
<name>Yang et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2005/0281326</doc-number>
<kind>A1</kind>
<name>Yu</name>
<date>20051200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375222</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2006/0077888</doc-number>
<kind>A1</kind>
<name>Karam et al.</name>
<date>20060400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370216</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2008/0253356</doc-number>
<kind>A1</kind>
<name>Berman et al.</name>
<date>20081000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2009/0225779</doc-number>
<kind>A1</kind>
<name>Diab et al.</name>
<date>20090900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370469</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2009/0310483</doc-number>
<kind>A1</kind>
<name>Okazaki</name>
<date>20091200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2010/0169704</doc-number>
<kind>A1</kind>
<name>Yu et al.</name>
<date>20100700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714  2</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>PCT Search Report mailed Aug. 29, 2011.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>10</number-of-claims>
<us-exemplary-claim>6</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>370216</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370217</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370218</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370219</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370220</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370221</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370222</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370223</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370224</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370225</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370226</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370227</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370228</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>3</number-of-drawing-sheets>
<number-of-figures>5</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110194408</doc-number>
<kind>A1</kind>
<date>20110811</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Shalita</last-name>
<first-name>Oren</first-name>
<address>
<city>Tel-Aviv</city>
<country>IL</country>
</address>
</addressbook>
<residence>
<country>IL</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Chaikin</last-name>
<first-name>Shlomy</first-name>
<address>
<city>Moshav Mazor</city>
<country>IL</country>
</address>
</addressbook>
<residence>
<country>IL</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Shalita</last-name>
<first-name>Oren</first-name>
<address>
<city>Tel-Aviv</city>
<country>IL</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Chaikin</last-name>
<first-name>Shlomy</first-name>
<address>
<city>Moshav Mazor</city>
<country>IL</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Cooper</last-name>
<first-name>Alan A. R.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Brady, III</last-name>
<first-name>W. James</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="03" rep-type="attorney">
<addressbook>
<last-name>Telecky, Jr.</last-name>
<first-name>Frederick J.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Texas Instruments Incorporated</orgname>
<role>02</role>
<address>
<city>Dallas</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Mattis</last-name>
<first-name>Jason</first-name>
<department>2461</department>
</primary-examiner>
<assistant-examiner>
<last-name>Duffy</last-name>
<first-name>James P</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Today, 100BaseT is commonly used in industrial Ethernet application. As a result of being in such an environment, Ethernet cables are subject to abuse, which can result in costly failures and repairs. Here, a system is provided that enables use of remaining and largely undamaged twisted-pairs within Ethernet cables to maintain 100BaseT connections without costly repairs and failures.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="139.78mm" wi="254.59mm" file="US08625413-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="253.58mm" wi="144.27mm" orientation="landscape" file="US08625413-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="227.67mm" wi="183.56mm" orientation="landscape" file="US08625413-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="231.14mm" wi="193.38mm" orientation="landscape" file="US08625413-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0002" num="0001">The invention relates generally to Ethernet and, more particularly, to a fault mode for 100BaseT Ethernet.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">Currently, there are numerous Institute of Electrical and Electronics Engineers (IEEE) standards for Ethernet. Some examples are 10BaseT, 100BaseT, and 1000BaseT, which are enumerated and described for several different types of transmission media (i.e., twisted-pair). Specifically, though, 100BaseT for twisted-pairs (which is described by IEEE 802.3u and that is hereby incorporated by reference for all purposes) has largely fallen into disuse in favor of higher speed standards (i.e., 1000BaseT) with exception to many industrial applications. In other words, 100BaseT is still widely used for industrial Ethernet.</p>
<p id="p-0004" num="0003">Because of the limited and relatively small market for 100BaseT, there has been very little development, even though there are problems that exist. For example, Ethernet cables to subject to substantial abuse in an industrial environment, meaning that there is a high likelihood of damage to the cables. Moreover, disruptions in Ethernet function and replacement of these cables can each be very costly. Thus, there is a need for a system that operates over 100BaseT connections that is tolerant of cable damage.</p>
<p id="p-0005" num="0004">Some examples of conventional systems are: U.S. Pat. No. 7,587,181; U.S. Patent Pre-Grant Publ. No. 2004/0213170; and U.S. Patent Pre-Grant Publ. No. 2008/0253356.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0006" num="0005">A preferred embodiment of the present invention, accordingly, provides an apparatus. The apparatus comprises a transmission path; a receive path; a digital-to-analog converter (DAC) that is coupled to the transmission path; an analog-to-digital converter (ADC) that is coupled to the receive path; and a medium dependent interface (MDI) that is coupled to the DAC and the ADC, wherein the MDI is adapted to receive a first twisted-pair and a second twisted-pair so as to provide communication over a 100BaseT connection, and wherein the MDI enters a fault tolerance mode when a fault in one of the first and second twisted-pairs has been detected, and wherein, in the fault tolerance mode, a full-duplex 100BaseT link is created over an active twisted-pair, and wherein the active twisted-pair is one of the first and second twisted-pair without the fault.</p>
<p id="p-0007" num="0006">In accordance with a preferred embodiment of the present invention, the MDI is a medium dependent interface crossbar (MDIX).</p>
<p id="p-0008" num="0007">In accordance with a preferred embodiment of the present invention, the apparatus further comprises: an echo canceller that is coupled to the transmission path and the receive path; and a hybrid circuit that is coupled to the DAC and the ADC.</p>
<p id="p-0009" num="0008">In accordance with a preferred embodiment of the present invention, the MDI detects whether one of the first and second twisted-pairs has the fault by determining if a half/full-duplex 100BaseT link fails within a predetermined period.</p>
<p id="p-0010" num="0009">In accordance with a preferred embodiment of the present invention, the MDI performs synchronization over the active twisted-pair in the fault tolerant mode.</p>
<p id="p-0011" num="0010">In accordance with a preferred embodiment of the present invention, a method is provided. The method comprises detecting whether a fault is preset in one of a first twisted-pair and a second twisted-pair that are coupled between a first unit and a second unit; determining which of one of the first and second twisted-pairs is an active twisted-pair; and establishing a half/full duplex 100BaseT link over the active twisted-pair.</p>
<p id="p-0012" num="0011">In accordance with a preferred embodiment of the present invention, the step of detecting further comprises detecting whether one of the first and second twisted-pairs has a fault by determining if a half-duplex 100BaseT link fails within a predetermined period.</p>
<p id="p-0013" num="0012">In accordance with a preferred embodiment of the present invention, the method further comprises: configuring the first and second units as a master unit and a slave unit; and synchronizing the master and slave units.</p>
<p id="p-0014" num="0013">In accordance with a preferred embodiment of the present invention, the step of configuring further comprises: randomly entering into one of a transmission time slot and a receive time slot by each of the first and second units; for the transmission time slot, remaining silent by at least one of the first and second units for a first portion of the transmission time slot; for the transmission time slot, transmitting a signal at least one of the first and second units for a second portion of the transmission time slot, wherein the second portion of the transmission time slot follows the first portion of the transmission time slot; for the transmission time slot, remaining silent at least one of the first and second units for a third portion of the transmission time slot; for the receive time slot, detecting an idle burst at least one of the first and second units; defining a minimal time period of detected transmitted idles on a receive path in order to declare identification of idle burst less than half of the transmitted period of the transmission time slot; and setting a master unit as one of the first and second units that detects the idle burst first.</p>
<p id="p-0015" num="0014">In accordance with a preferred embodiment of the present invention, the step of establishing further comprises: transmitting a set of continuous idles with by a transmission path of the master unit; training an echo canceller of the master unit; and training an equalizer of the slave unit.</p>
<p id="p-0016" num="0015">In accordance with a preferred embodiment of the present invention, the step of establishing further comprises training at least a portion of the slave unit; transmitting a set of continuous idles with by a transmission path of the slave unit after the step of training at least a portion of the slave unit; training an echo canceller of the slave unit; and training at least a portion of the master unit.</p>
<p id="p-0017" num="0016">In accordance with a preferred embodiment of the present invention, an apparatus is provided. The apparatus comprises a first unit having: a first transmission path; a first receive path; a first DAC that is coupled to the transmission path; a first ADC that is coupled to the receive path; and a first MDI that is coupled to the first ADC and the first DAC; a first twisted-pair that is coupled to the first MDI; a second twisted-pair that is coupled to the first MDI; a second unit having: a second transmission path; a second receive path; a second DAC that is coupled to the transmission path; a second ADC that is coupled to the receive path; and a second MDI that is coupled to the second DAC and the second ADC, wherein the second MDI is coupled to the first and second twisted-pairs so as to provide communication over a 100BaseT connection with the first unit, and wherein the first and second MDIs enter a fault tolerance mode when a fault in one of the first and second twisted-pairs has been detected, and wherein, in the fault tolerance mode, a full-duplex 100BaseT link is created over an active twisted-pair, and wherein the active twisted-air is one of the first and second twisted-pair without the fault.</p>
<p id="p-0018" num="0017">In accordance with a preferred embodiment of the present invention, each of the first and second MDIs further comprises a first MDIX and a second MDIX, respectively.</p>
<p id="p-0019" num="0018">In accordance with a preferred embodiment of the present invention, the first unit further comprises: a first echo canceller that is coupled to the first transmission path and the first receive path; and a first hybrid circuit that is coupled to the first DAC and the first ADC.</p>
<p id="p-0020" num="0019">In accordance with a preferred embodiment of the present invention, the second unit further comprises: a second echo canceller that is coupled to the second transmission path and the second receive path; and a second hybrid circuit that is coupled to the second DAC and the second ADC.</p>
<p id="p-0021" num="0020">In accordance with a preferred embodiment of the present invention, the MDI detects whether one of the first and second twisted-pairs has the fault by determining if a half/full-duplex 100BaseT link fails within a predetermined period.</p>
<p id="p-0022" num="0021">In accordance with a preferred embodiment of the present invention, the first and second MDIs configure the first and second units as a master unit and a slave unit and synchronize the master and slave units.</p>
<p id="p-0023" num="0022">In accordance with a preferred embodiment of the present invention, each of the first and second MDIs set the master unit as one of the first and second units that detects an idle burst first.</p>
<p id="p-0024" num="0023">The foregoing has outlined rather broadly the features and technical advantages of the present invention in order that the detailed description of the invention that follows may be better understood. Additional features and advantages of the invention will be described hereinafter which form the subject of the claims of the invention. It should be appreciated by those skilled in the art that the conception and the specific embodiment disclosed may be readily utilized as a basis for modifying or designing other structures for carrying out the same purposes of the present invention. It should also be realized by those skilled in the art that such equivalent constructions do not depart from the spirit and scope of the invention as set forth in the appended claims.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0025" num="0024">For a more complete understanding of the present invention, and the advantages thereof, reference is now made to the following descriptions taken in conjunction with the accompanying drawings, in which:</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of an example of a system in accordance with a preferred embodiment of the present invention; and</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIGS. 2-4</figref> are timing diagrams illustrating resolution of master and slave units for the system of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0028" num="0027">Refer now to the drawings wherein depicted elements are, for the sake of clarity, not necessarily shown to scale and wherein like or similar elements are designated by the same reference numeral through the several views.</p>
<p id="p-0029" num="0028">Referring to <figref idref="DRAWINGS">FIG. 1</figref> of the drawings, the reference numeral <b>100</b> generally designates an example of a system in accordance with a preferred embodiment of the present invention. System <b>100</b> is generally an Ethernet system having units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> that communicate with one another over twisted-pairs <b>104</b>-<b>1</b> and <b>104</b>-<b>2</b> via a 100BaseT connection. Typically, twisted pairs <b>104</b>-<b>1</b> and <b>104</b>-<b>2</b> can be category 5 or CATS cables. As a result of this 100BaseT connection, 100BaseT links over twisted-pairs <b>104</b>-<b>1</b> and <b>104</b>-<b>2</b> are physical half-duplex links under normal operation. The units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> also generally communicate with their respective media independent interfaces (MIIs) <b>120</b>-<b>1</b> and <b>120</b>-<b>2</b>.</p>
<p id="p-0030" num="0029">Each of these units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> includes a several subcomponents (which may be included on a single integrated circuit or IC) that enable the 100BaseT physical layer (PHY) to reestablish a 100BaseT link when a fault occurs using a fault tolerance mode. In particular, the units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> respectively comprise medium dependent interfaces (MDIs) or medium dependent interface crossbars (MDIXs) <b>106</b>-<b>1</b> and <b>106</b>-<b>2</b>, digital-to-analog converter (DACs) <b>108</b>-<b>1</b>, transmission or TX paths <b>110</b>-<b>1</b> and <b>110</b>-<b>2</b>, echo canceller <b>112</b>-<b>1</b> and <b>112</b>-<b>2</b>, hybrid circuit <b>114</b>-<b>1</b> and <b>114</b>-<b>2</b>, analog-to-digital converters (ADCs) <b>116</b>-<b>1</b> and <b>116</b>-<b>2</b>, receive or RX paths <b>118</b>-<b>1</b> and <b>118</b>-<b>2</b>. Optionally, hybrid circuits <b>114</b>-<b>1</b> and <b>114</b>-<b>2</b> can be omitted for applications where the lengths of twisted-pairs <b>104</b>-<b>1</b> and <b>104</b>-<b>2</b> are short (typically less than 10 m) because the relative strength of transmitted signals are much larger than the echo.</p>
<p id="p-0031" num="0030">In operation, the system <b>100</b> can employ a fault tolerant mode to maintain a 100BaseT link, even if there is a fault in one of the twisted-pairs <b>104</b>-<b>1</b> and <b>104</b>-<b>2</b>. Examples of faults are breaks and reduced signal-to-noise ratios (SNRs). Alternatively, the fault may be a choice by a user to use of the twisted-pairs <b>104</b>-<b>1</b> and <b>104</b>-<b>2</b> as a backup. The system <b>100</b> generally does this by detecting a fault in one of the twisted-pairs <b>104</b>-<b>1</b> and <b>104</b>-<b>2</b> when operating with physical half-duplex 100BaseT links. Once the fault is detected, the system <b>100</b> can establish a full-duplex 100BaseT link over the remaining active twisted-pair (twisted-pair <b>104</b>-<b>1</b> or <b>104</b>-<b>2</b> without the fault).</p>
<p id="p-0032" num="0031">Prior to establishing a full-duplex 100BaseT link over twisted-pair <b>104</b>-<b>1</b> or <b>104</b>-<b>2</b>, there are several criteria that should be achieved. First, there should be a single clock for units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> so as to generally maintain the echo response with constant phase delay compared to received data to allow for a simpler digital least mean square (LMS) and to generally operate the units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> in a master/slave configuration. Second, the filters within units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> should converge.</p>
<p id="p-0033" num="0032">In order to comply with the IEEE standard (namely, IEEE 802.3u) for link establishment and to be able to enter the fault tolerance mode, the system <b>100</b> employs a link timer (having a predetermined period or duration that is typically on the order of a few milliseconds) to make measurements. Generally, during power-up or if a fault occurs, the link timer is started. Essentially, the link timer can be started each time a link failure occurs. During this period of the link timer, MDI <b>106</b>-<b>1</b> and/or <b>106</b>-<b>2</b> can attempt to reestablish a link. If a link cannot be established before the period lapses, MDI <b>106</b>-<b>1</b> and/or <b>106</b>-<b>2</b> assumes that there is a fault in one of the twisted-pairs <b>104</b>-<b>1</b> and <b>104</b>-<b>2</b> and the active twisted-pair is established.</p>
<p id="p-0034" num="0033">Once the active twisted-pair <b>104</b>-<b>1</b> or <b>104</b>-<b>2</b> is established, then the system <b>100</b> configures the units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> as a master unit and a slave unit. To do this, each of the units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> (namely, the MDI's <b>106</b>-<b>1</b> and <b>106</b>-<b>2</b>) first randomly enter into a transmission time slot or a receive time slot following the expiration of the link timer. For the transmission time slot, the MDI <b>106</b>-<b>1</b> and/or <b>106</b>-<b>2</b> transmits a signal generally in the middle of the transmission time slot, while remaining silent for the remainder of the transmission time slot. For the receive time slot, MDI <b>106</b>-<b>1</b> and/or <b>106</b>-<b>2</b> listens for an idle burst which is the energy received that corresponds to the signal transmitted from the other MDI <b>106</b>-<b>1</b> and/or <b>106</b>-<b>2</b> for the transmission time slot. The unit <b>102</b>-<b>1</b> or <b>102</b>-<b>2</b> for first MDI <b>106</b>-<b>1</b> or <b>106</b>-<b>2</b> to receive an idle burst is identified as master unit, while the other unit <b>102</b>-<b>1</b> or <b>102</b>-<b>2</b> is identified as the slave unit. Because each of the units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> enter into a transmission time slot or a receive time slot randomly, an algorithm (which is described in timing diagrams of <figref idref="DRAWINGS">FIGS. 2-4</figref>) is employed to generally ensure that a master unit and a slave unit are identified.</p>
<p id="p-0035" num="0034">Turning first to <figref idref="DRAWINGS">FIG. 2</figref>, one unit (unit <b>102</b>-<b>1</b>, for example) enters a transmission time slot, while the other unit (unit <b>102</b>-<b>2</b>, for example) enters a receive time slot. As shown, after the link failure, a signal is transmitted from unit <b>102</b>-<b>1</b> and is receives by unit <b>102</b>-<b>2</b> so that an idle burst is detected. Thus, for this case, unit <b>102</b>-<b>2</b> is identified as master unit, while unit <b>102</b>-<b>1</b> is identified as the slave unit.</p>
<p id="p-0036" num="0035">Turning now to <figref idref="DRAWINGS">FIG. 3</figref>, both units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> enters a receive time slot after the link failure. As shown, the timings for entering the receive time slots for units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> are different, so each of the units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> alternate between transmission time slots and receive time slots. For this case, unit <b>102</b>-<b>1</b> is identified as master unit, while unit <b>102</b>-<b>2</b> is identified as the slave unit after one alternation between transmission time slots and receive time slots for each of the units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b>.</p>
<p id="p-0037" num="0036">Turning to <figref idref="DRAWINGS">FIG. 4</figref>, both units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> enters again a receive time slot after the link failure. A difference between <figref idref="DRAWINGS">FIG. 3</figref> and <figref idref="DRAWINGS">FIG. 4</figref>, though, is that the neither of the units <b>102</b>-<b>1</b> nor <b>102</b>-<b>2</b> were identified as the master unit after two alternation, so after the second alternation, units <b>102</b>-<b>2</b> randomly enter one of the time slots, where an idle burst is detected so that unit <b>102</b>-<b>2</b> is identified as master unit and unit <b>102</b>-<b>1</b> is identified as the slave unit.</p>
<p id="p-0038" num="0037">Finally, turning to <figref idref="DRAWINGS">FIG. 5</figref> both units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> enters again a receive time slot after the link failure. Here, however, there is a failure to detect the first idle burst by unit <b>102</b>-<b>2</b> because the idle burst is less than one-half of the period of transmission of the signal by unit <b>102</b>-<b>1</b>. This failure causes unit <b>102</b>-<b>1</b> to randomly enter the transmission time slot, where unit <b>102</b>-<b>1</b> detects an idle burst due to the fact that the burst period will generally be more than twice the size of the defined period of time to detect a burst in the receive time slot. Thus, unit <b>102</b>-<b>1</b> is indentified as the master unit, while unit <b>102</b>-<b>2</b> is identified as the slave unit.</p>
<p id="p-0039" num="0038">Following identification of the master unit and the slave unit, units <b>102</b>-<b>1</b> and <b>102</b>-<b>2</b> are synchronized. Continuous idle transmission (continuous signals transmitted form one unit <b>102</b>-<b>1</b> or <b>102</b>-<b>2</b> to the other) are received by the slave unit. Upon detection of the continuous idle transmission, the slave unit waits for a predetermined period (on the order of a few millisecond) for the echo canceller <b>112</b>-<b>1</b> or <b>112</b>-<b>2</b> of the master unit to converge, while doing so the salve train its equalizer (Intersymbol Interface or ISI cancellation).</p>
<p id="p-0040" num="0039">With the master and slave units synchronized, the system enters into a startup phases. In a first startup phase, the transmission path <b>110</b>-<b>1</b> or <b>110</b>-<b>2</b> of the master unit provides continuous idle transmissions, while the echo canceller <b>112</b>-<b>1</b> or <b>112</b>-<b>2</b> of the master unit is trained. Additionally, in this first startup phase, the transmission path <b>110</b>-<b>1</b> or <b>110</b>-<b>2</b> of the slave unit remains silent, while portions of the slave unit (namely within the receive path <b>112</b>-<b>1</b> or <b>112</b>-<b>2</b>) are trained (Equalizer). In a second startup phase, the transmission path <b>110</b>-<b>1</b> or <b>110</b>-<b>2</b> of the master unit provides continuous idle transmissions, while portions of the master unit (namely within the receive path <b>112</b>-<b>1</b> or <b>112</b>-<b>2</b> and MDI <b>106</b>-<b>1</b> or <b>106</b>-<b>2</b>) are trained (Equalizer). Additionally, in this second startup phase, the transmission path <b>110</b>-<b>1</b> or <b>110</b>-<b>2</b> of the slave unit provides continuous idle transmissions, while the echo canceller <b>112</b>-<b>1</b> or <b>112</b>-<b>2</b> of the slave unit is trained. Additionally, in this second startup phase, the master unit trains the receive path <b>118</b>-<b>1</b> or <b>118</b>-<b>2</b> (Equalizer).</p>
<p id="p-0041" num="0040">Therefore, with the fault tolerance mode, system <b>100</b> is able to provide a physical full-duplex 100BaseT link over one of the twisted-pairs <b>104</b>-<b>1</b> and <b>104</b>-<b>2</b> in the event of a fault or failure.</p>
<p id="p-0042" num="0041">Having thus described the present invention by reference to certain of its preferred embodiments, it is noted that the embodiments disclosed are illustrative rather than limiting in nature and that a wide range of variations, modifications, changes, and substitutions are contemplated in the foregoing disclosure and, in some instances, some features of the present invention may be employed without a corresponding use of the other features. Accordingly, it is appropriate that the appended claims be construed broadly and in a manner consistent with the scope of the invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>We claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An apparatus comprising:
<claim-text>a transmission path;</claim-text>
<claim-text>a receive path;</claim-text>
<claim-text>a digital-to-analog converter (DAC) that is coupled to the transmission path;</claim-text>
<claim-text>an analog-to-digital converter (ADC) that is coupled to the receive path; and</claim-text>
<claim-text>a medium dependent interface (MDI) that is coupled to the DAC and the ADC,</claim-text>
<claim-text>wherein the MDI is adapted to receive a first twisted-pair and a second twisted-pair so as to provide communication over a 100BaseT connection, wherein the first twisted-pair and the second twisted-pair are used in half-duplex in a non-fault mode; and</claim-text>
<claim-text>wherein the MDI enters a fault tolerance mode when a fault in one of the first and second twisted-pairs has been detected, and</claim-text>
<claim-text>wherein, in the fault tolerance mode, a physical full-duplex 100BaseT link is created over an active twisted-pair previously used in the half-duplex in the non-fault mode, and
<claim-text>wherein the active twisted-pair is one of the first and second twisted-pair without the fault,</claim-text>
<claim-text>wherein the MDI detects whether one of the first and second twisted-pairs has the fault by determining if a half-duplex 100BaseT link fails within a predetermined period,</claim-text>
<claim-text>wherein the MDI configures the apparatus as either a master unit or a slave unit and synchronizes the apparatus with a second apparatus that is a slave unit,</claim-text>
<claim-text>wherein the MDIs can set the master unit to detect an idle burst first,</claim-text>
<claim-text>the apparatus further comprising
<claim-text>a first echo canceller that is coupled to the first transmission path and the first receive path; and</claim-text>
<claim-text>a first hybrid circuit that is coupled to the DAC and the ADC.</claim-text>
</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the MDI is a medium dependent interface crossbar (MDIX).</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the apparatus further comprises:
<claim-text>an echo canceller that is coupled to the transmission path and the receive path; and</claim-text>
<claim-text>a hybrid circuit that is coupled to the DAC and the ADC.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the MDI detects whether one of the first and second twisted-pairs has the fault by determining if a half-duplex 100BaseT link fails within a predetermined period.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The apparatus of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the MDI performs synchronization over the active twisted-pair in the fault tolerant mode.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A method comprising:
<claim-text>detecting whether a fault is present in one of a first twisted-pair and a second twisted-pair that are coupled between a first unit and a second unit;</claim-text>
<claim-text>determining which of one of the first and second twisted-pairs is an active twisted-pair wherein the first twisted-pair and the second twisted-pair are used in half-duplex in a non-fault mode; and</claim-text>
<claim-text>establishing a full duplex 100BaseT link over the active twisted-pair previously used in the half-duplex in the non-fault mode,</claim-text>
<claim-text>wherein the step of detecting further comprises
<claim-text>detecting whether one of the first and second twisted-pairs has a fault by determining if a half/full-duplex 100BaseT link fails within a predetermined period;</claim-text>
<claim-text>configuring the first and second units as a master unit and a slave unit; and</claim-text>
</claim-text>
<claim-text>synchronizing the master and slave units,</claim-text>
<claim-text>wherein the step of configuring further comprises:</claim-text>
<claim-text>randomly entering into one of a transmission time slot and a receive time slot by each of the first and second units;</claim-text>
<claim-text>for the transmission time slot, remaining silent by at least one of the first and second units for a first portion of the transmission time slot;</claim-text>
<claim-text>for the transmission time slot, transmitting a signal at least one of the first and second units for a second portion of the transmission time slot, wherein the second portion of the transmission time slot follows the first portion of the transmission time slot;</claim-text>
<claim-text>for the transmission time slot, remaining silent at least one of the first and second units for a third portion of the transmission time slot, wherein the third portion of the transmission time slot follows the second portion of the transmission time slot;</claim-text>
<claim-text>for the receive time slot, detecting an idle burst at least one of the first and second units;</claim-text>
<claim-text>defining a minimal time period of detected transmitted idles on a receive path in order to declare identification of idle burst less than half of the transmitted period of the transmission time slot; and</claim-text>
<claim-text>setting a master unit as one of the first and second units that detects the idle burst first.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the step of establishing further comprises:
<claim-text>transmitting a set of continuous idles with by a transmission path of the master unit;</claim-text>
<claim-text>training an echo canceller of the master unit; and</claim-text>
<claim-text>training at least a portion of the slave unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the step of establishing further comprises:
<claim-text>training at least a portion of the slave unit;</claim-text>
<claim-text>transmitting a set of continuous idles with by a transmission path of the slave unit after the step of training at least a portion of the slave unit;</claim-text>
<claim-text>training an echo canceller of the slave unit; and</claim-text>
<claim-text>training at least a portion of the master unit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. An apparatus comprising:
<claim-text>a first unit having:
<claim-text>a first transmission path;</claim-text>
<claim-text>a first receive path;</claim-text>
<claim-text>a first DAC that is coupled to the transmission path;</claim-text>
<claim-text>a first ADC that is coupled to the receive path; and</claim-text>
<claim-text>a first MDI that is coupled to the first ADC and the first DAC;</claim-text>
</claim-text>
<claim-text>a first twisted-pair that is coupled to the first MDL,</claim-text>
<claim-text>a second twisted-pair that is coupled to the first MDI;
<claim-text>wherein the first twisted-pair and the second twisted-pair are used in half-duplex in a non-fault mode;</claim-text>
</claim-text>
<claim-text>a second unit having:
<claim-text>a second transmission path;</claim-text>
<claim-text>a second receive path;</claim-text>
<claim-text>a second DAC that is coupled to the second transmission path;</claim-text>
<claim-text>a second ADC that is coupled to the second receive path; and</claim-text>
<claim-text>a second MDI that is coupled to the second DAC and the second ADC,</claim-text>
<claim-text>wherein the second MDI is coupled to the first and second twisted-pairs so as to provide communication over a 100BaseT connection with the first unit, and</claim-text>
<claim-text>wherein the first and second MDIs enter a fault tolerance mode when a fault in one of the first and second twisted-pairs has been detected, and</claim-text>
<claim-text>wherein, in the fault tolerance mode, a physical full-duplex 100BaseT link is created over an active twisted-pair previously used in the half-duplex in the non-fault mode, and</claim-text>
<claim-text>wherein the active twisted-pair is one of the first and second twisted-pair without the fault,</claim-text>
<claim-text>wherein the first unit further comprises:
<claim-text>a first echo canceller that is coupled to the first transmission path and the first receive path; and</claim-text>
<claim-text>a first hybrid circuit that is coupled to the first DAC and the first ADC;</claim-text>
</claim-text>
</claim-text>
<claim-text>a first echo canceller that is coupled to the first transmission path and the first receive path; and
<claim-text>a first hybrid circuit that is coupled to the first DAC and the first ADC;</claim-text>
</claim-text>
<claim-text>wherein the second unit further comprises:
<claim-text>a second echo canceller that is coupled to the second transmission path and the second receive path; and</claim-text>
<claim-text>a second hybrid circuit that is coupled to the second DAC and the second ADC,</claim-text>
</claim-text>
<claim-text>wherein the MDI detects whether one of the first and second twisted-pairs has the fault by determining if a half-duplex 100BaseT link fails within a predetermined period,</claim-text>
<claim-text>wherein the first and second MDIs configure the first and second units as a master unit and a slave unit and synchronize the master and slave units, and</claim-text>
<claim-text>wherein each of the first and second MDIs set the master unit as one of the first and second units that detects an idle burst first.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The apparatus of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein each of the first and second MDIs further comprise a first MDIX and a second MDIX, respectively.</claim-text>
</claim>
</claims>
</us-patent-grant>
