<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625004-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625004</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13179971</doc-number>
<date>20110711</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>GB</country>
<doc-number>1014337.8</doc-number>
<date>20100827</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>358</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>5</main-group>
<subgroup>262</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>5</main-group>
<subgroup>228</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>3482401</main-classification>
<further-classification>3482221</further-classification>
</classification-national>
<invention-title id="d2e71">Method and apparatus for determining the movement of an optical axis</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6853808</doc-number>
<kind>B1</kind>
<name>Yasuda et al.</name>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>396 72</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2005/0036776</doc-number>
<kind>A1</kind>
<name>Yasuda et al.</name>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>396 72</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2007/0165942</doc-number>
<kind>A1</kind>
<name>Jin et al.</name>
<date>20070700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382154</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00004">
<othercit>United Kingdom Search Report issued Nov. 24, 2010, in Great Britain Patent Application No. GB1014337.8, filed Aug. 27, 2010.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>15</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>3482221</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>34824099</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3482401</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3482402</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3482403</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>3</number-of-drawing-sheets>
<number-of-figures>3</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120050540</doc-number>
<kind>A1</kind>
<date>20120301</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Witt</last-name>
<first-name>Sarah Elizabeth</first-name>
<address>
<city>Winchester</city>
<country>GB</country>
</address>
</addressbook>
<residence>
<country>GB</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Witt</last-name>
<first-name>Sarah Elizabeth</first-name>
<address>
<city>Winchester</city>
<country>GB</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Oblon, Spivak, McClelland, Maier &#x26; Neustadt, L.L.P.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Sony Corporation</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Giles</last-name>
<first-name>Nicholas</first-name>
<department>2662</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method of determining the movement in position of the optical axis of a camera having an optical zoom lens, comprising the steps of: obtaining a test image at a predetermined level of optical zoom; applying a digital zoom to at least part of the test image, selecting a plurality of test points in the digitally zoomed test image; changing the level of optical zoom by a predetermined amount and changing the level of digital zoom; obtaining the test image at the different level of zoom; analyzing the digitally zoomed test image at the different level of optical zoom; searching at least part of the digitally zoomed test image at the different level of zoom for two of said plurality of said test points; converting the position of the test points in the digitally zoomed images into corresponding positions within the optically zoomed images; and determining the amount of movement of the optical axis on the basis of the difference in position between corresponding test points within the optically zoomed images.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="230.04mm" wi="170.18mm" file="US08625004-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="105.07mm" wi="151.64mm" file="US08625004-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="146.39mm" wi="158.58mm" file="US08625004-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="241.89mm" wi="179.58mm" file="US08625004-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">The present invention relates to a method and apparatus for determining the movement of an optical axis.</p>
<p id="p-0004" num="0003">2. Description of the Prior Art</p>
<p id="p-0005" num="0004">When creating stereoscopic images it is necessary to have a camera arrangement which has two lenses capturing the scene. These camera lenses will ideally be identical except for a horizontal disparity appropriate for the stereoscopic images to be captured. Moreover, as the cameras are used during filming, it is important that the cameras and their respective lenses behave in an identical way.</p>
<p id="p-0006" num="0005">One issue which is to be addressed by embodiments of the present invention is the change in optical axis of each lens during zooming. This is a problem during filming of stereoscopic images because the amount that the optical axis changes is different for each lens. Therefore, as a stereoscopic camera arrangement zooms in or zooms out, the relative disparity changes.</p>
<p id="p-0007" num="0006">This causes discomfort for the viewer.</p>
<p id="p-0008" num="0007">It is an aim of the present invention to address this problem.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0009" num="0008">According to one aspect of the present invention, there is provided a method of determining the movement in position of the optical axis of a camera having an optical zoom lens, comprising the steps of: obtaining a test image at a predetermined level of optical zoom; applying a digital zoom to at least part of the test image, selecting a plurality of test points in the digitally zoomed test image; changing the level of optical zoom by a predetermined amount and changing the level of digital zoom; obtaining the test image at the different level of zoom; analysing the digitally zoomed test image at the different level of optical zoom; searching at least part of the digitally zoomed test image at the different level of zoom for two of said plurality of said test points; converting the position of the test points in the digitally zoomed images into corresponding positions within the optically zoomed images; and determining the amount of movement of the optical axis on the basis of the difference in position between corresponding test points within the optically zoomed images.</p>
<p id="p-0010" num="0009">This enables the amount of optical axis movement to be quantified and provided to users of the lens.</p>
<p id="p-0011" num="0010">The initial predetermined level of optical zoom may be maximum zoom.</p>
<p id="p-0012" num="0011">The method may further comprise applying a blurring component to the digitally zoomed image at the maximum optical zoom level, the amount of blurring being based on the amount of optical zoom applied at the maximum optical zoom level.</p>
<p id="p-0013" num="0012">The zoom reading may be changed by 1/64<sup>th </sup>of the maximum range before the test image is obtained.</p>
<p id="p-0014" num="0013">The method may comprise defining a line between the corresponding positions of a test point in two different optically zoomed images, and determining the amount of movement of the optical axis on the basis of the difference in position between corresponding intersections of the lines.</p>
<p id="p-0015" num="0014">The method may comprise applying a weighting to the intersections, whereby the weighting is determined in accordance with the angle between the intersecting lines.</p>
<p id="p-0016" num="0015">According to another aspect, there is provided a method of calibrating a camera to correct for the movement of the optical axis comprising the steps of determining the movement of the optical axis according to any of the above and applying a correction factor to the position of the image captured by the camera, the correction factor being determined in accordance with the determined movement of the optical axis.</p>
<p id="p-0017" num="0016">According to another aspect, there is provided a computer program containing computer readable instructions which, when loaded onto a computer, configure the computer to perform a method according to any of the above.</p>
<p id="p-0018" num="0017">According to another aspect, there is provided an apparatus for determining the movement in position of the optical axis of a camera having an optical zoom lens, comprising:</p>
<p id="h-0003" num="0000">an image obtaining device operable to obtain a test image at a predetermined level of optical zoom, wherein the optical zoom is changeable by a predetermined amount;</p>
<p id="h-0004" num="0000">a digital zoom device operable to apply a digital zoom to at least part of the test image,</p>
<p id="h-0005" num="0000">a selector operable to select a plurality of test points in the digitally zoomed test image;</p>
<p id="p-0019" num="0018">the image obtaining device being operable to obtain the test image at the different level of zoom changed by the predetermined amount; an analyser operable to analyse the digitally zoomed test image at the different level of optical zoom; a searching device operable to search at least part of the digitally zoomed test image at the different level of zoom for two of said plurality of said test points; a converter operable to convert the position of the test points in the digitally zoomed images into corresponding positions within the optically zoomed images; and a determiner operable to determine the amount of movement of the optical axis on the basis of the difference in position between corresponding test points within the optically zoomed images.</p>
<p id="p-0020" num="0019">The initial predetermined level of optical zoom may be maximum zoom.</p>
<p id="p-0021" num="0020">The apparatus may further comprise a blurring device operable to apply a blurring component to the digitally zoomed image at the maximum optical zoom level, the amount of blurring being based on the amount of optical zoom applied at the maximum optical zoom level.</p>
<p id="p-0022" num="0021">The zoom reading may be changed by 1/64<sup>th </sup>of the maximum range before the test image is obtained.</p>
<p id="p-0023" num="0022">The apparatus may further comprise a line definer operable to define a line between the corresponding positions of a test point in two different optically zoomed images, and determining the amount of movement of the optical axis on the basis of the difference in position between corresponding intersections of the lines.</p>
<p id="p-0024" num="0023">A weighting may be applied to the intersections, whereby the weighting is determined in accordance with the angle between the intersecting lines.</p>
<p id="p-0025" num="0024">According to another aspect, there is provided an apparatus for calibrating a camera to correct for the movement of the optical axis comprising an apparatus according to any one of the above and an application device operable to apply a correction factor to the position of the image captured by the camera, the correction factor being determined in accordance with the determined movement of the optical axis</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0006" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0026" num="0025">The above and other objects, features and advantages of the invention will be apparent from the following detailed description of illustrative embodiments which is to be read in connection with the accompanying drawings in which:</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 1</figref> is a camera test arrangement according to embodiments of the present invention;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 2</figref> is a more detailed diagram of <figref idref="DRAWINGS">FIG. 1</figref>; and</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 3</figref> shows a flow diagram explaining the operation of the calibration apparatus of <figref idref="DRAWINGS">FIGS. 1 and 2</figref>;</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0007" level="1">DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 1</figref> shows a camera test arrangement <b>100</b> according to embodiments of the present invention. The camera test arrangement <b>100</b> includes a left camera <b>110</b> and a right camera <b>115</b> arranged on a camera rig (not shown) for capturing stereoscopic images. The left camera <b>110</b> and the right camera <b>115</b> are focussed on a test image <b>105</b>. The left camera <b>110</b> and the right camera <b>115</b> will be calibrated using the camera test arrangement <b>100</b>. A calibration apparatus <b>125</b> is attached to each of the left camera <b>110</b> and the right camera <b>115</b>. The calibration apparatus <b>125</b> will be explained in more detail later. Also attached to the calibration apparatus <b>125</b> is a user terminal <b>120</b> which displays a graphical user interface (not shown). The user terminal <b>120</b> allows a user to control the calibration apparatus <b>125</b>.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 2</figref> shows a more detailed diagram of <figref idref="DRAWINGS">FIG. 1</figref>. In <figref idref="DRAWINGS">FIG. 2</figref>, like reference numerals refer to like features which will not be described in any further detail. As will be apparent from <figref idref="DRAWINGS">FIG. 2</figref>, the user can interact with the user terminal <b>120</b>, and therefore the calibration apparatus <b>125</b> using a mouse <b>120</b>A and a keyboard (not shown).</p>
<p id="p-0032" num="0031">The calibration apparatus <b>125</b> contains a camera adapter <b>205</b> which is connected to the left camera <b>110</b> and the right camera <b>115</b>. The camera adaptor <b>205</b> is operable to receive data from, and provide data to, the left camera <b>110</b> and the right camera <b>115</b>. A calibration processor <b>210</b> is connected to the camera adaptor <b>205</b>. Additionally, a user terminal adaptor <b>215</b> is coupled to the user terminal <b>120</b> and is operable to receive data from, and provide data to, the user terminal <b>120</b>. The calibration processor <b>210</b> is also connected to the user terminal adaptor <b>215</b>. The user terminal <b>120</b> and the left camera <b>110</b> and the right camera <b>115</b> are connected to the calibration apparatus <b>125</b> using cables. The HD-SDI data which is sent of over the cables contains video and lens metadata (focal length and 16-bit zoom position). Zoom is controlled by the zoom controller. However, the invention is not so limited and any of these devices may be connected using a wireless connection or over a network. This may be particularly useful if the cameras are set up for operation in a venue prior to a live event such as a soccer match.</p>
<p id="p-0033" num="0032">Although not specifically shown, it is envisaged that a storage medium will be attached to the calibration apparatus <b>125</b>. The storage medium may be internal to the calibration apparatus <b>125</b> or may be remote to the calibration apparatus, for example located over a network. It is envisaged that the storage medium is configured to store a computer program therein or thereon. The computer program contains computer readable instructions which, when operational, control the calibration apparatus <b>125</b>. Specifically, the computer program controls the calibration processor <b>210</b>. The storage medium may be an optically readable medium or a magnetic medium, or indeed a solid state medium.</p>
<p id="p-0034" num="0033">The arrangement of <figref idref="DRAWINGS">FIG. 2</figref> shows the left camera <b>110</b> and the right camera <b>115</b> focused on a test image <b>105</b>. The test image may be any stationary image. In embodiments of the present invention, the calibration will take place just after a new set of lenses are placed on the left camera <b>110</b> and the right camera <b>115</b>, although the invention is not limited. The calibration may also be performed at any time and in any location. For example, the calibration can take place &#x201c;on set&#x201d;, or in other words, just before the camera is to be operated.</p>
<p id="p-0035" num="0034">The calibration of one of the two cameras will now be described with reference to <figref idref="DRAWINGS">FIG. 3</figref>. The other camera will be calibrated in the same manner and at the same time, however, for clarity only the calibration of one camera will be described.</p>
<p id="p-0036" num="0035">Referring to <figref idref="DRAWINGS">FIG. 3</figref>, a flow chart <b>300</b> explaining the operation of the calibration apparatus is shown. Prior to calibration, the cameras are set up and focussed on the test image <b>105</b>. In step S<b>305</b>, the calibration process is started. Before any measurements are taken by the calibration apparatus <b>125</b>, the optical zoom of the camera is set to maximum. This may be done manually by touching the camera, or may be done from the user terminal <b>120</b>. This is step S<b>310</b>. It should be noted that any level of optical zoom may be appropriate and that the optical zoom does not have to be set to a maximum level.</p>
<p id="p-0037" num="0036">After the optical zoom is set to maximum, a zoom reading produced by the camera is taken. The camera produces two numbers; the focal length (mm) which is needed to set the digital zoom in order to compensate for the optical and the zoom position, which goes from 0 to 0xffff over the full range of the zoom. This data is fed to the calibration apparatus <b>125</b>.</p>
<p id="p-0038" num="0037">An area of the optically zoomed image is highlighted by the user. This area will be subject to a digital zoom during the calibration process (step S<b>320</b>). In other words, as will be explained later, as the level of optical zoom is reduced, the digital zoom applied to the selected area will be correspondingly increased to counteract the reduction in optical zoom. As the resolution of the digitally zoomed area will gradually reduce as the optical zoom is reduced, a blurring is applied to the digitally zoomed image at this stage. The amount of blurring applied will be similar to the amount of blurring that would occur as the optical zoom is reduced. This is because the position of a number of points is to be tracked in the digitally zoomed image. By applying a blurring at the start of the process, therefore, tracking those points is easier. This is because any points selected for tracking are likely to be still visible at minimum zoom, rather than having fine detail at maximum zoom. The blurring is applied at step S<b>325</b>.</p>
<p id="p-0039" num="0038">A predetermined number of points in the blurred digitally zoomed image (step S<b>330</b>) are selected. This in embodiments is done automatically (for example randomly selected), although they may be selected by a user. In embodiments, 16 points are used, but the invention is not so limited. The user may select any points at random, or may select points from a particular area in the digitally zoomed image. Alternatively, the points may be automatically selected. The position of each of the 16 points is stored. The optically zoomed image is then captured and the digital zoom is applied thereto.</p>
<p id="p-0040" num="0039">The optical zoom applied by the camera under test is reduced (step S<b>335</b>). As the optical zoom is reduced, the zoom reading is monitored by the calibration apparatus <b>125</b>. Firstly, as noted above, as the optical zoom is reduced the digital zoom is correspondingly increased. The digital zoom is increased to compensate for the reduction in optical zoom. The amount of digital zoom does not need to correspond to the optical zoom reduction. Also, the amount of zoom reduction is monitored so that a sample frame can be captured when the optical zoom reading changes by a value of 1024. In other words, the frame will be sampled when the optical zoom reading changes by 1/64<sup>th </sup>of the range of optical zoom reading. Of course other ranges or values of zoom readings could be used.</p>
<p id="p-0041" num="0040">In order to know when to sample the frame, the calibration apparatus <b>125</b> compares the amount of change in the optical zoom since the previous sample frame. When the amount of change is above the threshold, the points in the digitally zoomed image are tracked relative to the previous sampled frame in step S<b>345</b>. It should be noted here that the points in the digitally zoomed image are determined by capturing the optically zoomed image, applying the digital zoom to the captured image and then analysing the digitally zoomed image.</p>
<p id="p-0042" num="0041">After the digitally zoomed image is determined, at each of the 16 points in the digitally zoomed image, block matching is performed. Block matching is a known technique for establishing which pixels in an area of a new image correspond to the same pixels in the old image. In other words, by performing block matching in the new image around the position of the 16 points in the old image, the calibration apparatus <b>125</b> can quickly establish the position of the same 16 points in the new image. The block matching is carried out in step S<b>350</b>. Although the block matching is noted as taking place during the sampling section, the invention is not so limited and may be carried out after the sampling of all the images has taken place.</p>
<p id="p-0043" num="0042">This sampling continues until in step S<b>355</b>, the camera is treated as being fully optically zoomed out.</p>
<p id="p-0044" num="0043">In order to produce the most accurate results and to reduce the amount of data stored, only samples captured between 20% and 80% of full optical zoom will be used to calculate a DC position (offset). It should be noted however, that in embodiments, all the samples are used to calculate the optical axis for any particular zoom. This is because when zoom of 80% or 20% of full zoom is applied, the optical axis can be significantly away from the DC position within the range. In other words, the results become skewed.</p>
<p id="p-0045" num="0044">For the remaining samples, as the amount of digital zoom and optical zoom is known, it is possible to convert the position of each of the 16 captured points in the digitally zoomed image into pixel positions in the optically zoomed image. In other words, in step S<b>360</b>, the position of each pixel in the digitally zoomed image is converted into a pixel position in the optically zoomed image, for a given level of optical zoom.</p>
<p id="p-0046" num="0045">For each converted point position, a line is drawn between the point position in the current frame and the same point's position in another frame. In embodiments, the other frame has a significantly different zoom value to that of the current frame. This is step S<b>365</b>. The position of the intersection of each line with each other line is then established, and the position of the intersection is noted in step S<b>370</b>. A weighting is then applied to each intersection in step S<b>375</b>; the weighting being linearly dependent on the angle between the lines at intersection. A maximum weighting of 1 will be applied to perpendicular lines and a weighting of 0 is applied to parallel lines. The invention is not so limited, and any other relationship between angle of intersection and weighting is envisaged. The reason that the intersection of lines is used is because the intersection marks the point which has not moved between the zooms, hence the optical axis.</p>
<p id="p-0047" num="0046">After calculating the DC offset in the frames at the 20% of full optical zoom and the 80% of full optical zoom, all other frames have their optical axis position calculated relative to the 20% and 80% optical axis at step S<b>380</b>. This is the DC offset value. This provides, for each sampled position, a correction for the optical axis of the zoom lens. It is then possible to determine the optical axis correction for any value of zoom by interpolating the results between sampled values (step S<b>385</b>). The calibration then ends in step S<b>390</b>.</p>
<p id="p-0048" num="0047">It is possible to correct below 20% of full zoom and above 80% of full zoom by taking sample frames in these areas.</p>
<p id="p-0049" num="0048">Also, instead of taking 64 samples over the entire range, more samples may be taken. For example, twice as many samples may be taken.</p>
<p id="p-0050" num="0049">Although illustrative embodiments of the invention have been described in detail herein with reference to the accompanying drawings, it is to be understood that the invention is not limited to those precise embodiments, and that various changes and modifications can be effected therein by one skilled in the art without departing from the scope and spirit of the invention as defined by the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>I claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method of determining the movement in position of an optical axis of a camera having an optical zoom lens, comprising the steps of:
<claim-text>obtaining a test image at a predetermined level of optical zoom;</claim-text>
<claim-text>applying a digital zoom to at least part of the test image,</claim-text>
<claim-text>selecting a plurality of test points in the digitally zoomed test image;</claim-text>
<claim-text>changing the level of optical zoom by a predetermined amount and changing the level of digital zoom;</claim-text>
<claim-text>obtaining the test image at the changed level of zoom;</claim-text>
<claim-text>analysing the digitally zoomed test image at the changed level of optical zoom;</claim-text>
<claim-text>searching at least part of the digitally zoomed test image at the changed level of zoom for two of said plurality of said test points;</claim-text>
<claim-text>converting the position of the test points in the digitally zoomed images into corresponding positions within the optically zoomed images; and</claim-text>
<claim-text>determining the amount of movement of the optical axis on the basis of the difference in position between corresponding test points within the optically zoomed images.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the initial predetermined level of optical zoom is maximum zoom.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, comprising applying a blurring component to the digitally zoomed image at the maximum optical zoom level, the amount of blurring being based on the amount of optical zoom applied at the maximum optical zoom level.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the zoom is changed by 1/64<sup>th </sup>of a maximum range before the test image is obtained.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A method according to <claim-ref idref="CLM-00001">claim 1</claim-ref> comprising defining a line between the corresponding positions of a test point in two different optically zoomed images, and determining the amount of movement of the optical axis on the basis of the difference in position between corresponding intersections of the lines.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A method according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, comprising applying a weighting to the intersections, whereby the weighting is determined in accordance with an angle between the intersecting lines.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A method of calibrating a camera to correct for the movement of the optical axis comprising the method according to <claim-ref idref="CLM-00001">claim 1</claim-ref> and applying a correction factor to the position of the image captured by the camera, the correction factor being determined in accordance with the determined movement of the optical axis.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A non-transitory storage medium configured to store a computer program that when executed by a processor performs the method of <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. An apparatus for determining the movement in position of an optical axis of a camera having an optical zoom lens, comprising:
<claim-text>an image obtaining device operable to obtain a test image at a predetermined level of optical zoom, wherein the optical zoom is changeable by a predetermined amount;</claim-text>
<claim-text>a digital zoom device operable to apply a digital zoom to at least part of the test image,</claim-text>
<claim-text>a selector operable to select a plurality of test points in the digitally zoomed test image;</claim-text>
<claim-text>the image obtaining device being operable to obtain the test image at a different level of zoom changed by the predetermined amount;</claim-text>
<claim-text>an analyser operable to analyse the digitally zoomed test image at the different level of optical zoom;</claim-text>
<claim-text>a searching device operable to search at least part of the digitally zoomed test image at the different level of zoom for two of said plurality of said test points;</claim-text>
<claim-text>a converter operable to convert the position of the test points in the digitally zoomed images into corresponding positions within the optically zoomed images; and</claim-text>
<claim-text>a determiner operable to determine the amount of movement of the optical axis on the basis of the difference in position between corresponding test points within the optically zoomed images.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. An apparatus according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the initial predetermined level of optical zoom is maximum zoom.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. An apparatus according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, comprising a blurring device operable to apply a blurring component to the digitally zoomed image at the maximum optical zoom level, the amount of blurring being based on the amount of optical zoom applied at the maximum optical zoom level.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. An apparatus according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the zoom is changed by 1/64<sup>th </sup>of a maximum range before the test image is obtained.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. An apparatus according to <claim-ref idref="CLM-00008">claim 8</claim-ref> comprising a line definer operable to define a line between the corresponding positions of a test point in two different optically zoomed images, and determining the amount of movement of the optical axis on the basis of the difference in position between corresponding intersections of the lines.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. An apparatus according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein a weighting is applied to the intersections, whereby the weighting is determined in accordance with an angle between the intersecting lines.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. An apparatus for calibrating a camera to correct for the movement of the optical axis comprising an apparatus according to <claim-ref idref="CLM-00008">claim 8</claim-ref> and an application device operable to apply a correction factor to the position of the image captured by the camera, the correction factor being determined in accordance with the determined movement of the optical axis. </claim-text>
</claim>
</claims>
</us-patent-grant>
