<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624660-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624660</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13450537</doc-number>
<date>20120419</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>V</subclass>
<main-group>3</main-group>
<subgroup>02</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>327356</main-classification>
<further-classification>327355</further-classification>
<further-classification>455323</further-classification>
</classification-national>
<invention-title id="d2e43">Method and apparatus for mixer-based harmonic rejection</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>8140044</doc-number>
<kind>B2</kind>
<name>Villain et al.</name>
<date>20120300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455313</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>8351891</doc-number>
<kind>B2</kind>
<name>Heydari et al.</name>
<date>20130100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455333</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>8362820</doc-number>
<kind>B2</kind>
<name>Deguchi et al.</name>
<date>20130100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327355</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2010/0233987</doc-number>
<kind>A1</kind>
<name>Rafi et al.</name>
<date>20100900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2010/0253412</doc-number>
<kind>A1</kind>
<name>Brekelmans et al.</name>
<date>20101000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2011/0298521</doc-number>
<kind>A1</kind>
<name>Ru et al.</name>
<date>20111200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2012/0046007</doc-number>
<kind>A1</kind>
<name>Rafi</name>
<date>20120200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>EP</country>
<doc-number>2136468</doc-number>
<kind>A1</kind>
<date>20091200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>EP</country>
<doc-number>2246975</doc-number>
<kind>A1</kind>
<date>20101100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>EP</country>
<doc-number>2333949</doc-number>
<kind>A1</kind>
<date>20110600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>EP</country>
<doc-number>2360835</doc-number>
<kind>A1</kind>
<date>20110800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>8</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>327355-361</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455323</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455326</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>24</number-of-drawing-sheets>
<number-of-figures>26</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130278321</doc-number>
<kind>A1</kind>
<date>20131024</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Sundstr&#xf6;m</last-name>
<first-name>Lars</first-name>
<address>
<city>S&#xf6;dra Sandby</city>
<country>SE</country>
</address>
</addressbook>
<residence>
<country>SE</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Anderson</last-name>
<first-name>Martin</first-name>
<address>
<city>Lund</city>
<country>SE</country>
</address>
</addressbook>
<residence>
<country>SE</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Sundstr&#xf6;m</last-name>
<first-name>Lars</first-name>
<address>
<city>S&#xf6;dra Sandby</city>
<country>SE</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Anderson</last-name>
<first-name>Martin</first-name>
<address>
<city>Lund</city>
<country>SE</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Murphy, Bilak &#x26; Homiller, PLLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Telefonaktiebolaget LM Ericsson (Publ)</orgname>
<role>03</role>
<address>
<city>Stockholm</city>
<country>SE</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Le</last-name>
<first-name>Dinh T.</first-name>
<department>2816</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">In one aspect, the present invention exploits the termination conductances of a time-discrete harmonic mixer as another degree of freedom in configuring the mixer to meet given harmonic rejection performance requirements while using reduced number of unit cells. The values of these termination conductances are purposefully configured to introduce a desired non-linearity in quantization of the mixer transconductance by the unit cells. The non-uniform quantization produces a non-linear fitting of the transconductance levels to the transconductance points defining the target sinusoidal waveform. As a consequence of its termination conductance configuration, the contemplated mixer achieves levels of harmonic rejection with that would not be met if the reduced number of unit cells operated with uniform quantization. As a further advantage, the manipulated conductance values generally are lower than those used in conventional designs, e.g., on par with the maximum conductance of the mixer, as provided by mixer's set of unit cells.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="168.74mm" wi="193.89mm" file="US08624660-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="238.93mm" wi="174.75mm" orientation="landscape" file="US08624660-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="228.52mm" wi="193.55mm" orientation="landscape" file="US08624660-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="249.77mm" wi="183.30mm" orientation="landscape" file="US08624660-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="207.26mm" wi="189.57mm" orientation="landscape" file="US08624660-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="196.26mm" wi="147.66mm" orientation="landscape" file="US08624660-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="211.58mm" wi="181.27mm" orientation="landscape" file="US08624660-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="188.64mm" wi="187.96mm" orientation="landscape" file="US08624660-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="211.58mm" wi="184.57mm" orientation="landscape" file="US08624660-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="205.57mm" wi="187.96mm" orientation="landscape" file="US08624660-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="257.81mm" wi="179.58mm" file="US08624660-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="253.49mm" wi="171.96mm" file="US08624660-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="248.50mm" wi="163.66mm" file="US08624660-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="243.50mm" wi="162.98mm" file="US08624660-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="248.16mm" wi="174.92mm" file="US08624660-20140107-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="253.15mm" wi="167.98mm" file="US08624660-20140107-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="253.83mm" wi="167.64mm" file="US08624660-20140107-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="249.43mm" wi="155.36mm" file="US08624660-20140107-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="250.44mm" wi="165.35mm" file="US08624660-20140107-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="252.48mm" wi="163.66mm" file="US08624660-20140107-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="181.27mm" wi="183.64mm" file="US08624660-20140107-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00021" num="00021">
<img id="EMI-D00021" he="168.15mm" wi="166.12mm" file="US08624660-20140107-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00022" num="00022">
<img id="EMI-D00022" he="251.46mm" wi="168.99mm" file="US08624660-20140107-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00023" num="00023">
<img id="EMI-D00023" he="245.87mm" wi="156.89mm" file="US08624660-20140107-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00024" num="00024">
<img id="EMI-D00024" he="249.43mm" wi="151.21mm" file="US08624660-20140107-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0002" num="0001">The present invention generally relates to mixer circuits, such as used in communication signal processing, and particularly relates to time-discrete harmonic rejection mixers.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002"><figref idref="DRAWINGS">FIG. 1</figref> roughly outlines the principle of a time-continuous passive harmonic rejection (HR) mixer. A voltage source, &#x3bd;<sub>S</sub>, drives a variable resistor network to generate an output current equal to</p>
<p id="p-0004" num="0003">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>i</mi>
          <mi>L</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <msub>
              <mi>g</mi>
              <mi>m</mi>
            </msub>
            <mo>&#xb7;</mo>
            <mfrac>
              <msub>
                <mi>v</mi>
                <mi>s</mi>
              </msub>
              <mn>2</mn>
            </mfrac>
          </mrow>
          <mo>=</mo>
          <mrow>
            <mi>&#x3b1;</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mrow>
              <msub>
                <mi>G</mi>
                <mi>m</mi>
              </msub>
              <mo>&#xb7;</mo>
              <mfrac>
                <msub>
                  <mi>v</mi>
                  <mi>s</mi>
                </msub>
                <mn>2</mn>
              </mfrac>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where G<sub>m </sub>may be regarded as a maximum gain or conductance value, and where the term &#x3b1;=cos(2&#x3c0;f<sub>LO</sub>t) provides the harmonic rejection by avoiding conversion at multiples of f<sub>LO</sub>. The &#x3b1; term may be regarded as a sinusoidal scaling factor operating on G<sub>m</sub>.
</p>
<p id="p-0005" num="0004">Assuming the mixer illustrated in <figref idref="DRAWINGS">FIG. 1</figref> has ideal termination&#x2014;i.e., zero ohm termination at its input and output ports&#x2014;the mixer will exhibit a sinusoidally varying transconductance given as g<sub>m</sub>=&#x3b1;G<sub>m</sub>. The cross-coupled structure of the mixer ensures that the input and output conductance of the mixer remains constant with respect to &#x3b1; because G<sub>1</sub>+G<sub>2</sub>=G<sub>m</sub>.</p>
<p id="p-0006" num="0005">In practice, the mixer terminations will not be ideal, i.e., they will not be zero ohms. (Here, it should be remembered that zero ohms equates to infinite conductance.) <figref idref="DRAWINGS">FIG. 2</figref> illustrates the real-world presence of non-ideal mixer terminations, where G<sub>S </sub>denotes the non-ideal source termination conductance at the mixer input port, and G<sub>L </sub>denotes the non-ideal load termination conductance at the mixer output port.</p>
<p id="p-0007" num="0006">In the non-ideal termination case, the transfer function of the mixer becomes a function of the source and load termination conductances and is given as</p>
<p id="p-0008" num="0007">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>i</mi>
          <mi>L</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <msub>
              <mi>g</mi>
              <mi>m</mi>
            </msub>
            <mo>&#x2062;</mo>
            <msub>
              <mi>v</mi>
              <mi>s</mi>
            </msub>
          </mrow>
          <mo>=</mo>
          <mrow>
            <msub>
              <mi>v</mi>
              <mi>s</mi>
            </msub>
            <mo>(</mo>
            <mfrac>
              <mrow>
                <mi>&#x3b1;</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mrow>
                  <msub>
                    <mi>G</mi>
                    <mi>m</mi>
                  </msub>
                  <mo>/</mo>
                  <mn>2</mn>
                </mrow>
              </mrow>
              <mrow>
                <mn>1</mn>
                <mo>+</mo>
                <mfrac>
                  <msubsup>
                    <mi>G</mi>
                    <mi>m</mi>
                    <mn>2</mn>
                  </msubsup>
                  <mrow>
                    <msub>
                      <mi>G</mi>
                      <mi>S</mi>
                    </msub>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>G</mi>
                      <mi>L</mi>
                    </msub>
                  </mrow>
                </mfrac>
                <mo>+</mo>
                <mfrac>
                  <mrow>
                    <msub>
                      <mi>G</mi>
                      <mi>m</mi>
                    </msub>
                    <mo>&#x2061;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>G</mi>
                          <mi>S</mi>
                        </msub>
                        <mo>+</mo>
                        <msub>
                          <mi>G</mi>
                          <mi>L</mi>
                        </msub>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                  <mrow>
                    <msub>
                      <mi>G</mi>
                      <mi>S</mi>
                    </msub>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>G</mi>
                      <mi>L</mi>
                    </msub>
                  </mrow>
                </mfrac>
                <mo>-</mo>
                <mfrac>
                  <mrow>
                    <msup>
                      <mi>&#x3b1;</mi>
                      <mn>2</mn>
                    </msup>
                    <mo>&#x2062;</mo>
                    <msubsup>
                      <mi>G</mi>
                      <mi>m</mi>
                      <mn>2</mn>
                    </msubsup>
                  </mrow>
                  <mrow>
                    <msub>
                      <mi>G</mi>
                      <mi>S</mi>
                    </msub>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>G</mi>
                      <mi>L</mi>
                    </msub>
                  </mrow>
                </mfrac>
              </mrow>
            </mfrac>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
However, while ideal terminations are not possible in practice, the design convention is to make the termination conductance values such that the transfer function substantially minors the ideal termination case. That is, if the load and source conductances satisfy
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>G</i><sub>S</sub><i>G</i><sub>L</sub><i>&#x3e;&#x3e;G</i><sub>m</sub><sup>2</sup>&#x2003;&#x2003;(3)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
then the mixer's actual transfer function will approximate Eq. (1), corresponding to the ideal case. Thus, while infinite conductance values cannot be achieved in practice, conventional mixer design dictates the use of termination conductances that essentially remove the influence of those terminations on mixer operation.
</p>
<p id="p-0009" num="0008">Such practice is understandable because Eq. (2) demonstrates that the lower the termination conductance the less ideal the mixer behavior. This fact is exemplified in <figref idref="DRAWINGS">FIG. 3</figref>, where the ratio of third harmonic (H3) from Eq. (2) to the fundamental harmonic (H1) with &#x3b1;=cos(2&#x3c0;f<sub>LO</sub>t) is shown as a function of relative termination conductances. Here, &#x201c;relative&#x201d; connotes the size relationship between G<sub>S </sub>or G<sub>L </sub>and G<sub>m</sub>. In particular, <figref idref="DRAWINGS">FIG. 3</figref> represents a contour plot of the third harmonic relative to the fundamental frequency as a function of the mixer's source and load termination conductances.</p>
<p id="p-0010" num="0009">A harmonic rejection mixer with time-continuous operation according to the description above is not feasibly implemented. A more practical realization operates on a discrete-time basis and uses a so-called mixer &#x201c;unit cell,&#x201d; such as is shown in <figref idref="DRAWINGS">FIG. 4</figref>. The unit cell contains a pair of resistors having a resistance R<sub>u</sub>=1/G<sub>u</sub>.</p>
<p id="p-0011" num="0010">The unit cell also includes a &#x201c;sign-switching&#x201d; network controlled by control signals S and Sbar, where Sbar is the logical inverse of S. One sees that the sign-switching network comprises pairs of cross-coupled switches that take on a specific open/closed pattern responsive to the values of S and Sbar. Thus, the S/Sbar signals applied to the unit cell discretely control its conductance.</p>
<p id="p-0012" num="0011">In making a complete time-discrete harmonic rejection mixer, a vector of N unit cells are connected in parallel as shown in FIG. <b>5</b>&#x2014;where the cells are identified as &#x201c;MUCs&#x201d; for mixer unit cells. The switches are controlled to generate a time-discrete sinusoidal transconductance. Thus, the effective Local Oscillator (LO) waveform is represented by a thermometer code S&#x3c;1:N&#x3e;, S(k)={0, 1}, such that the differential transconductance of the mixer becomes (assuming ideal termination)</p>
<p id="p-0013" num="0012">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>g</mi>
          <mi>m</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <msub>
            <mi>G</mi>
            <mi>u</mi>
          </msub>
          <mo>&#x2062;</mo>
          <mrow>
            <munderover>
              <mo>&#x2211;</mo>
              <mrow>
                <mi>k</mi>
                <mo>=</mo>
                <mn>1</mn>
              </mrow>
              <mi>N</mi>
            </munderover>
            <mo>&#x2062;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mrow>
                  <mi>S</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>k</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>-</mo>
                <mrow>
                  <mi>Sbar</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mi>k</mi>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>4</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0014" num="0013">A digital sequencer provides the S/Sbar control signals for the vector of unit cells. The sequencer may be, for example, a memory that is cyclically accessed to obtain the unit cell sign pattern sequence. The digital sequencer thus generates the sequence of control words (S/Sbar sign patterns) corresponding to the series of time-discrete sinusoidal transconductance values desired for the mixer.</p>
<p id="p-0015" num="0014">Assuming mixer terminations that are ideal or sufficiently close to ideal, the discretization of the mixer into N unit cells means that the mixer transconductance will be uniformly quantized into N+1 levels given by
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>g</i><sub>m</sub><i>&#x3b5;[&#x2212;NG</i><sub>u</sub>&#x2212;(<i>N&#x2212;</i>2)<i>G</i><sub>u </sub>. . . (<i>N&#x2212;</i>2)<i>G</i><sub>u</sub><i>NG</i><sub>u</sub>].&#x2003;&#x2003;(5)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0016" num="0015">Thus, &#x3b1;=cos(2&#x3c0;f<sub>LO</sub>t) will be quantized too, leading to more or less quantization error in dependence on the number of waveform samples used to represent one LO period and in strong dependence on the number of unit cells available in the mixer.</p>
<p id="p-0017" num="0016">This latter dependence arises from the fact that the quantization function provided by the unit cells has a quantization resolution that improves directly with an increasing number of unit cells. Thus, the ability to adjust the transconductance value of the mixer to obtain the discrete transconductance points corresponding to the desired sinusoidal waveform requires a certain quantization resolution. Put simply, the number of unit cells in the mixer dictates the transconductance quantization resolution.</p>
<p id="p-0018" num="0017">The downside of high unit cell counts includes, among other things, higher costs, higher power consumption, and larger circuit sizes. Somewhat mitigating these issues, there are known techniques for reducing quantization errors when using given numbers of unit cells. In particular, it is known to use an integer number of samples per LO period and, correspondingly, to use the number of unit cells that leads to the highest spectral purity&#x2014;i.e., minimized harmonic content and therefore maximized harmonic rejection. More broadly, there are known techniques for finding optimal combinations of unit cell counts and phase offsets for the LO sinusoid, for specified numbers of samples per LO period.</p>
<p id="p-0019" num="0018">Such approaches demonstrate that is possible to find a relatively low number of quantization levels required to accurately represent a sinusoid with a given number of samples per period, but the number of required quantization levels can still be quite high in practice. The required number is particularly high for cases with a large number of samples per LO period. As noted, increasing the unit cell count dramatically affects mixer size and the complexity of unit cell control signal distribution, so the known optimization approaches do not provide an effective path to minimizing unit cell counts.</p>
<p id="p-0020" num="0019">Also, note that even with sufficient quantization resolution, high harmonic rejection, say &#x3e;60 dB, requires rather high relative conductance termination. This point is made in <figref idref="DRAWINGS">FIG. 3</figref>. A poor termination at one mixer port needs to be compensated for by a corresponding increase in termination conductance at the other port. Furthermore, the termination conductance must be maintained over the entire range of LO harmonics for which high harmonic rejection is required. In this regard, high termination conductance becomes increasingly difficult to realize as the frequency range increases, and harmonic rejection performance is therefore prone to degrading with increasing frequency.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0021" num="0020">In one aspect, the present invention exploits the termination conductances of a time-discrete harmonic mixer as another degree of freedom in configuring the mixer to meet given harmonic rejection performance requirements while using a reduced number of unit cells. The values of the termination conductances are purposefully chosen to introduce a desired non-linearity in quantization of the mixer transconductance by the unit cells. The non-uniform quantization produces a non-linear fitting of the transconductance levels made available by the mixer to the transconductance points defining the target sinusoidal waveform. As a consequence of its termination conductance configuration, the contemplated mixer achieves levels of harmonic rejection with that would not be met if the reduced number of unit cells operated with uniform quantization. As a further advantage, the manipulated conductance values generally are lower than those used in conventional designs, e.g., on par with the maximum conductance of the mixer, G<sub>m</sub>.</p>
<p id="p-0022" num="0021">Thus, in one embodiment herein, a time-discrete harmonic rejection mixer circuit comprises a parallel set of N unit cells that quantize a mixer transconductance into N+1 selectable levels, each level selectable by application of a corresponding digital control word to the set of unit cells. The mixer circuit further includes a mixer input port coupled to one end of the set of unit cells through a source termination conductance, and a mixer output port coupled to the other end of the set of unit cells through a load termination conductance.</p>
<p id="p-0023" num="0022">Advantageously, the source and load termination conductances have conductance values producing a designed-for non-uniform quantization of said mixer transconductance by the set of unit cells, so that a subset of the quantization levels better match a set of nominal transconductance points corresponding to a desired sinusoidal Local Oscillator (LO) waveform than would be achieved with a uniform quantization of the mixer transconductance.</p>
<p id="p-0024" num="0023">Correspondingly, the mixer circuit includes a digital sequencer configured to store or otherwise generate a sequence of digital control words corresponding to the subset of quantization levels. The digitizer and/or an associated control unit, is further configured to apply said sequence of digital control words to the set of unit cells at a timing corresponding to a frequency of the sinusoidal LO waveform.</p>
<p id="p-0025" num="0024">In another aspect, the teachings presented herein disclose a method of configuring a time-discrete harmonic rejection mixer circuit. Here, a number N of unit cells are operable to quantize a mixer transconductance into a number of quantization levels fixed by the number N of unit cells and it will be understood that in the intended mixer circuit operation, the unit cells are dynamically sequenced through a series of those quantization levels, to obtain a sinusoidally varying mixer transconductance.</p>
<p id="p-0026" num="0025">In essence, the configuration method &#x201c;looks&#x201d; for mixer termination conductance values that are within a reasonable range, as regards practical circuit realization, and that cause a beneficial non-linearity in the quantization function performed by the unit cells, so that the non-uniformly quantized levels of mixer transconductance available from the unit cells follow a curve that better fits the nominal transconductance points associated with the desired sinusoidal waveform. Here, &#x201c;better fits&#x201d; should be understood as expressing the relative improvement in fitment as compared to that would be obtained with conventional, uniform quantization of the mixer transconductance. It should also be understood that the method is executed by a computer system, having data input and output mechanisms and a central processing unit or other such digital processor, so that the requisite starting variables are provided as data inputs for use in the configuration computations, and so that the configuration results can be output for inspection and/or recording in a computer readable medium, e.g., disk and/or memory.</p>
<p id="p-0027" num="0026">With these points in mind, the configuration method includes receiving input values for the following variables: the number N of unit cells, the number R of sample points used to model one period of the target sinusoidal waveform, the phase offset value desired for the target sinusoidal waveform, a first conductance value representing a source termination conductance of the mixer circuit, and a second conductance value representing a load termination conductance of the mixer circuit.</p>
<p id="p-0028" num="0027">The method further includes performing a configuration analysis based on the above-provided starting variables. That analysis includes: computing a set of quantized alpha (&#x3b1;) values as &#x3b1;&#x3b5;E=[&#x2212;1, &#x2212;1+2/N, &#x2212;1+4/N, . . . <b>1</b>&#x2212;2/N, 1]; computing a set of quantized mixer transconductance (g<sub>m</sub>) values as g<sub>m</sub>&#x221d;cos(2&#x3c0;k/R), where k={0, 1, 2, . . . , R&#x2212;1}, and normalizing g<sub>m </sub>as g<sub>m</sub>N=g<sub>m</sub>/max(g<sub>m</sub>); generating a sampled reference sinusoid (sine) as a function of R and the phase offset, and normalizing the reference sinusoid as sine N=sine/max(sine); mapping samples of sine N to nearest samples of g<sub>m</sub>N, to produce a sequence sine NQ; and computing the spectral content of sine NQ.</p>
<p id="p-0029" num="0028">With the above &#x201c;run&#x201d; of the configuration analysis completed, the method proceeds with comparing the computed spectral content generated in the configuration analysis to a harmonic rejection performance requirement, and recording the first and second conductance values as usable termination conductance values for configuring the mixer circuit when the computed spectral content meets the harmonic rejection performance requirement. Further, responsive to the computed spectral content not meeting the harmonic rejection performance requirement, the method includes repeating the configuration analysis one or more times with adjusted values of one or both of the first and second conductance values, to find first and second conductance values that result in the computed spectral content meeting the harmonic rejection performance requirement. This can be understood as finding optimal terminations for the mixer by sweeping the source and/or load terminations over a range of conductances, while holding the other operational parameters fixed, e.g., fixed values for the number of unit cells, the number of samples R, and the phase offset.</p>
<p id="p-0030" num="0029">Of course, the present invention is not limited to the above features and advantages. Indeed, those skilled in the art will recognize additional features and advantages upon reading the following detailed description, and upon viewing the accompanying drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of a known harmonic rejection mixer having ideal terminations.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram of a known harmonic rejection mixer having non-ideal terminations that are, nonetheless, configured to be as close to ideal as is practical.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 3</figref> is a plot of example harmonic rejection performance as a function of mixer terminations.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIGS. 4 and 5</figref> are block diagrams of known unit cell configurations, as used in the time-discrete harmonic rejection mixers at issue in this disclosure.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram of one embodiment of a time-discrete harmonic rejection mixer circuit according to the present invention.</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 7</figref> is a diagram of an example set of sample points for a target sinusoidal waveform, representing the sinusoidal variance in mixer transconductance desired for the mixer of <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 8</figref> is a diagram of an example non-linear mapping of digital control words to quantized levels of mixer transconductance, for the mixer of <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 9</figref> is a block diagram for a quadrature mixer embodiment.</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 10</figref> is a diagram of example non-linearity in the relationship between mixer transconductance and alpha, as is purposefully introduced via configuration of mixer termination conductances.</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 11</figref> is a diagram plotting actual mixer transconductance points optimized to desired values {0, &#xb1;0.707, &#xb1;1} by proper selection of termination conductance values.</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 12</figref> is a logic flow diagram of one embodiment of a method of optimizing mixer termination conductances.</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 13</figref> is an example diagram plotting Total Harmonic Distortion (THD) for an example case using R=8 waveform samples, with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration, as taught herein, with &#x394;G=0.05.</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 14</figref> is an example diagram plotting THD for R=10 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration, as taught herein, with &#x394;G=0.05.</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 15</figref> is an example diagram plotting THD for R=12 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration, as taught herein, with &#x394;G=0.05.</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 16</figref> is an example diagram plotting THD for R=8 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration, as taught herein, with &#x394;G=1.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 17</figref> is an example diagram plotting THD for R=10 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration, as taught herein, with &#x394;G=1.</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 18</figref> is an example diagram plotting THD for R=12 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration, as taught herein, with &#x394;G=1.</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 19</figref> is an example diagram plotting THD for R=8 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration, as taught herein, with &#x394;G=1 and with independent values for mixer source and load termination conductances G<sub>S </sub>and G<sub>L</sub>.</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 20</figref> is an example diagram plotting THD for R=10 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration, as taught herein, with &#x394;G=1 and with independent values for mixer source and load termination conductances G<sub>S </sub>and G<sub>L</sub>.</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 21</figref> is an example diagram plotting THD for R=12 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration, as taught herein, with &#x394;G=1 and with independent values for mixer source and load termination conductances G<sub>S </sub>and G<sub>L</sub>.</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 22</figref> is an example diagram plotting THD as a function of termination conductance G=G<sub>L</sub>=G<sub>S </sub>swept around a nominal value.</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. 23</figref> is an example diagram plotting THD as a function of termination conductance G=G<sub>L </sub>swept around a nominal value G<sub>0</sub>=4, while G<sub>S </sub>is fixed to 4.</p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. 24</figref> is an example diagram for the quadrature mixer configuration of <figref idref="DRAWINGS">FIG. 9</figref>, plotting THD for R=8 and (common) G<sub>C</sub>=100, with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration, as taught herein.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 25</figref> is an example diagram for the quadrature mixer configuration of <figref idref="DRAWINGS">FIG. 9</figref>, plotting THD for R=8 and (common) G<sub>C</sub>=10, with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration, as taught herein.</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 26</figref> is an example diagram for the quadrature mixer configuration of <figref idref="DRAWINGS">FIG. 9</figref>, plotting THD for R=8 and (common) G<sub>C</sub>=1, with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration, as taught herein.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 6</figref> illustrates one embodiment of a time-discrete harmonic rejection mixer circuit <b>10</b> as contemplated herein. The time-discrete harmonic rejection mixer circuit <b>10</b> (hereafter &#x201c;mixer <b>10</b>&#x201d;) includes a parallel set of N unit cells <b>12</b> that are operative to quantize the mixer's transconductance into N+1 selectable levels, each level selectable by application of a corresponding digital code word <b>14</b> to the set of unit cells <b>12</b>.</p>
<p id="p-0057" num="0056">According to the example details, the mixer <b>10</b> further includes a mixer input port <b>16</b> coupled to one end of the set of unit cells <b>12</b> through a source termination conductance <b>18</b>. Correspondingly, the mixer <b>10</b> includes a mixer output port <b>20</b> coupled to the other end of the set of unit cells <b>12</b> through a load termination conductance <b>22</b>. The values of these conductances deviate from conventional designs that use termination conductances large enough to approximate the ideal termination case.</p>
<p id="p-0058" num="0057">Instead, the source and load termination conductances <b>18</b> and <b>22</b> here have conductance values chosen to produce a desired non-uniform quantization of the mixer transconductance&#x2014;indicated as &#x201c;g<sub>m</sub>&#x201d; in the diagram&#x2014;by the set of unit cells <b>12</b>, so that a subset of the quantization levels better match a set of nominal transconductance points corresponding to a desired sinusoidal Local Oscillator (LO) waveform than would be achieved with a uniform quantization of the mixer transconductance g<sub>m</sub>. That is, the non-uniform quantization results in a better curve fitting of the quantization levels produced by the application of particular ones of the code words <b>14</b> to the nominal transconductance points of the target sinusoidal waveform than would be provided by a set of uniform quantization levels.</p>
<p id="p-0059" num="0058">The mixer <b>10</b> further includes a digital sequencer <b>24</b> that is configured to store or otherwise generate a sequence of the digital control words <b>14</b> corresponding to the subset of (&#x201c;fitted&#x201d;) quantization levels. That is, the sequencer <b>24</b> stores or generates those digital code words <b>14</b> corresponding to the particular subset among the N+1 quantization levels that are to be used for sinusoidally varying the mixer's transconductance at the desired LO frequency and phase. The sequencer <b>24</b> is further configured to apply that sequence of digital control words <b>14</b> to the set of unit cells <b>12</b> at a timing corresponding to a frequency of the sinusoidal LO waveform. In the example case of R transconductance points defining the target sinusoidal transconductance of the mixer <b>10</b>, the sequencer <b>24</b> provides a corresponding sequence of R control words <b>14</b> for every period of the LO.</p>
<p id="p-0060" num="0059">The configuration of the mixer <b>10</b> thus allows it to meet a level of harmonic rejection with its N unit cells <b>12</b> that would not be met if the quantization function implemented by control of those cells <b>12</b> was linear and correspondingly provided uniform quantization levels of the mixer transconductance. The termination conductance values are chosen to introduce a purposeful non-linearity into the quantization function implemented by the unit cells <b>12</b>, thereby resulting in series of non-uniformly spaced transconductance levels that are better fitted to a nominal series of transconductance points representing the sinusoidal waveform desired for the mixer transconductance.</p>
<p id="p-0061" num="0060">The applied sequence of digital code words <b>14</b> thus corresponds to the series of non-uniformly spaced transconductance levels that best match the transconductance points of the desired sinusoidal waveform. <figref idref="DRAWINGS">FIG. 7</figref> illustrates an example set of such points, where a sinusoidal waveform is represented by R sample points, and <figref idref="DRAWINGS">FIG. 8</figref> illustrates how non-uniformly quantized transconductance levels may, with the proper selection of the source and/or load conductances <b>18</b> and <b>22</b>, better match the nominal transconductance points of the desired sinusoidal waveform.</p>
<p id="p-0062" num="0061">In at least one embodiment of the mixer <b>10</b>, the source and load termination conductances <b>18</b> and <b>22</b> are equal. In one or more other embodiments, the source and load termination conductances <b>18</b> and <b>22</b> are unequal. In either case, unlike conventional designs, the source and termination load conductances <b>18</b> and <b>22</b> do not have values much, much larger than G<sub>m</sub>, which is done by convention to substantially eliminate their influence on mixer transconductance. Instead, they are chosen to have specific values that are, for example, within the general range of G<sub>m</sub>, and that produce a beneficial, targeted non-linearity in the quantization function, resulting in quantized transconductance levels that better fit the nominal transconductance points.</p>
<p id="p-0063" num="0062">In the same or other embodiments, the mixer <b>10</b> comprises a first one of two nominally identical mixer circuits configured to operate as quadrature mixers with respect to a common source or load. <figref idref="DRAWINGS">FIG. 9</figref> illustrates an example of such an arrangement, involving like mixers <b>10</b>, e.g., <b>10</b>-<b>1</b> and <b>10</b>-<b>2</b>. Quadrature-mode performance is discussed in more detail later herein.</p>
<p id="p-0064" num="0063">In any case, a single mixer <b>10</b> as contemplated herein causes a non-linearity of the transconductance quantization function implemented by the unit cells <b>12</b>, by lowering the value(s) of source and/or load termination conductances <b>18</b> and <b>22</b>, such that they no longer satisfy the conventional design constraint of G<sub>S</sub>G<sub>L</sub>&#x3e;&#x3e;G<sub>m</sub>. This allows, for example, the source and load termination conductances <b>18</b> and <b>22</b> to be of the same order as G<sub>m</sub>, thus making it possible to use practical transconductance values in the mixer design.</p>
<p id="p-0065" num="0064">Further practical flexibility is provided in one or more embodiments, such as where the mixer <b>10</b> is configured to use different phase offsets. For example, the above-described sequence of digital control words <b>14</b> corresponding to the subset of the quantization levels best matching the desired transconductance points may be a first sequence representing a first phase offset for the desired sinusoidal LO waveform. The digital sequencer <b>24</b> in at least one embodiment is configured to store or generate one or more additional sequences representing one or more additional phase offsets, and to select one of the sequences as indicated by a phase control signal input to the digital sequencer, e.g., by the control unit <b>28</b>.</p>
<p id="p-0066" num="0065">In the same or other embodiments, the digital sequencer <b>24</b> or the associated control unit <b>28</b> is configured to control the mixer <b>10</b> to operate with a programmable number of waveform samples per LO period. For each programmable number of samples R, the mixer <b>10</b> is configured to use at least one of: a different number of unit cells <b>12</b>, different phase offsets, and different values for the source and load termination conductances <b>18</b> and <b>22</b>. Note that the digital sequencer <b>24</b> and/or the control unit <b>28</b> may store configuration data <b>26</b>, including the various sequences of control words <b>14</b>, phase offsets, termination conductance adjustments, etc. In such operations, the control unit <b>28</b> may output control signals, e.g., A, B, and C, to control or otherwise configure the programmable values of the source and load termination conductances <b>18</b> and <b>22</b> (control signals A and B, respectively), and the number of unit cells <b>12</b> that are selected for use in quantization (control signal C). For example, depending on the number of waveform samples R and offset, the mixer <b>10</b> may or may not use all of its available unit cells <b>12</b> for quantization. Thus, &#x201c;N&#x201d; represents the number of unit cells <b>12</b> being used to quantize the mixer transconductance in any given operational configuration, but N is not necessarily all of the unit cells <b>12</b> available in the mixer <b>10</b>.</p>
<p id="p-0067" num="0066">To better understand the contemplated mixer <b>10</b>, consider that the normalized mixer transconductance is</p>
<p id="p-0068" num="0067">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mrow>
      <msub>
        <mi>g</mi>
        <mi>m</mi>
      </msub>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mi>&#x3b1;</mi>
        <mo>)</mo>
      </mrow>
    </mrow>
    <mrow>
      <msub>
        <mi>g</mi>
        <mi>m</mi>
      </msub>
      <mo>&#x2061;</mo>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mfrac>
  <mo>.</mo>
</mrow>
</math>
</maths>
</p>
<p id="p-0069" num="0068"><figref idref="DRAWINGS">FIG. 10</figref> plots the normalized conductance, g<sub>m</sub>(&#x3b1;)/g<sub>m</sub>(1), for G/G<sub>m</sub>=[0.25 0.5 1 2 4], where G=G<sub>L</sub>=G<sub>S</sub>. For the sake of clarity it is assumed that G<sub>m</sub>=1. <figref idref="DRAWINGS">FIG. 10</figref> thus illustrates mixer transconductance as a function of &#x3b1; for various termination conductance values (0.25, 0.5, 1, 2, 4) and highlights the advantageous non-linearity imposed herein between &#x3b1; and g<sub>m</sub>(&#x3b1;).</p>
<p id="p-0070" num="0069">With N unit cells <b>12</b>, &#x3b1; will be equidistantly discretizised into N+1 levels over &#x3b1;&#x3b5;[&#x2212;1, 1], which in turn gives a non-equidistant&#x2014;non-uniform&#x2014;discrete set of mixer transconductances, also referred to as transconductance levels.</p>
<p id="p-0071" num="0070">Assume an LO period represented by R=8 samples such that g<sub>m</sub>&#x221d;cos(2&#x3c0;k/R) with k=0, 1 . . . 7. Furthermore assume N=10. With ideal termination&#x2014;ideal values of the source and load termination conductances <b>18</b> and <b>22</b>&#x2014;the mixer transconductance levels becomes equidistant as is conventional, such that g<sub>m</sub>/g<sub>m</sub>(1)&#x3b5;[&#x2212;1, &#x2212;0.75, . . . , 0.75, 1]. These are illustrated with crosses (x) in <figref idref="DRAWINGS">FIG. 11</figref>. However, to represent a sinusoidal normalized transconductance g<sub>m</sub>/g<sub>m</sub>(1)&#x3b5;[&#x2212;1, &#x2212;0.707, 0, 0.707, 1], the termination conductances can for example be set to G=G<sub>L</sub>=G<sub>S</sub>=1.86, which then yields the points indicated by circles (o) in <figref idref="DRAWINGS">FIG. 11</figref>. Thus, <figref idref="DRAWINGS">FIG. 11</figref> illustrates mixer transconductance points optimized to desired values {0, &#xb1;0.707, &#xb1;1} through proper selection of termination conductance values for the source and/or load termination conductances <b>18</b> and <b>22</b>.</p>
<p id="p-0072" num="0071">For each number of samples per LO period, it is possible to identify the configurations that fulfil a desired level of harmonic rejection, based on making an exhaustive search through values of N (the number of unit cells <b>12</b>), various phase offsets &#x3c6;, and various termination conductances. The phase offset &#x3c6; is defined by the mixer transconductance as g<sub>m</sub>&#x221d;cos(2&#x3c0;k/R+&#x3c6;), and another degree of freedom is obtained by allowing G<sub>S </sub>and G<sub>L </sub>to be different.</p>
<p id="p-0073" num="0072">In the search for configurations it is possible to include implementation restrictions. For example: the allowed number N of unit cells <b>12</b> should be kept below a certain level to maintain a reasonable circuit complexity; and the termination conductances may need to be implemented completely or partly based on conductance elements in an integrated circuit portion of the mixer <b>10</b> for matching purposes, which in turn leads to a limited set of available termination conductances.</p>
<p id="p-0074" num="0073"><figref idref="DRAWINGS">FIG. 12</figref> illustrates an example method <b>1200</b> for finding optimal configurations of a mixer <b>10</b>, including selection of the source and load termination conductances <b>18</b> and <b>22</b> to obtain a desired, purposeful non-linearity in the transconductance quantization function, for better matching of the transconductance levels from N unit cells <b>12</b> to nominal transconductance points in the target sinusoid waveform. The method <b>1200</b> is implemented, for example, in a computer system executing computer program instructions stored in a computer readable medium, e.g., a PC running a computer program product configured to perform the illustrated processing steps.</p>
<p id="p-0075" num="0074">The method <b>1200</b> is directed to configuring a time-discrete harmonic rejection mixer circuit in which a number N of unit cells <b>12</b> are operable to quantize a mixer transconductance into a number of quantization levels fixed by the number N of unit cells <b>12</b> and where, in mixer circuit operation, the unit cells <b>12</b> are dynamically sequenced through a series of the quantization levels to obtain a sinusoidally varying mixer transconductance.</p>
<p id="p-0076" num="0075">In the illustrated embodiment, the method <b>1200</b> includes receiving (Block <b>1202</b>) input values for the following variables: the number N of unit cells, a number R of sample points used to model one period of the target sinusoidal waveform, a phase offset value for the target sinusoidal waveform, a first conductance value representing a source termination conductance <b>18</b> of the mixer <b>10</b>, and a second conductance value representing a load termination conductance <b>22</b> of the mixer <b>10</b>.</p>
<p id="p-0077" num="0076">The method <b>1200</b> further includes performing a configuration analysis, including execution of Blocks <b>1204</b> through <b>1212</b> (even). These actions include: computing a set of quantized alpha (&#x3b1;) value as &#x3b1;&#x3b5;=[&#x2212;1, &#x2212;1+2/N, &#x2212;1+4/N, . . . 1&#x2212;2/N, 1] (Block <b>1204</b>); computing a set of quantized mixer transconductance (g<sub>m</sub>) values as g<sub>m</sub>&#x221d;cos(2&#x3c0;k/R), where k={0, 1, 2, . . . , R&#x2212;1}, and normalizing g<sub>m </sub>as g<sub>m</sub>N=g<sub>m</sub>/max(g<sub>m</sub>) (Block <b>1206</b>); generating a sampled reference sinusoid (sine) as a function of R and the phase offset, and normalizing the reference sinusoid as sine N=sine/max(sine) (Block <b>1208</b>); and mapping samples of sine N to nearest samples of g<sub>m</sub>N, to produce a sequence sine NQ (Block <b>1210</b>).</p>
<p id="p-0078" num="0077">Processing according to the method <b>1200</b> continues with computing the spectral content of sine NQ (Block <b>1212</b>), and comparing the spectral content computed in the configuration analysis to a harmonic rejection performance requirement (which may be user-defined or otherwise configured) (Block <b>1214</b>). Processing then continues with evaluating (Block <b>1216</b>) the results of the comparison.</p>
<p id="p-0079" num="0078">If the requirements are met, the method <b>1200</b> includes recording the first and second conductance values as usable termination conductance values for configuring the mixer <b>10</b> (Block <b>1218</b>). On the other hand, if the computed spectral content does not meet the harmonic rejection performance requirement (NO from <b>1216</b>), the method <b>1200</b> includes adjusting the values for one or both of the first and second conductance values (Block <b>1220</b>) and repeating the configuration analysis one or more times using the adjusted values for each repetition. Such processing finds first and second conductance values that result in the computed spectral content meeting the harmonic rejection performance requirement, and thus identifies actual conductance values for use as termination conductances <b>18</b> and <b>22</b> in the mixer <b>10</b>, to obtain the desired quantization non-linearity.</p>
<p id="p-0080" num="0079">The method <b>1200</b> is presented in alternate form in the below pseudo code:</p>
<p id="p-0081" num="0080">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="1" colwidth="14pt" align="left"/>
<colspec colname="2" colwidth="189pt" align="left"/>
<colspec colname="3" colwidth="14pt" align="left"/>
<thead>
<row>
<entry namest="1" nameend="3" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>For a given number of samples per LO period R</entry>
<entry/>
</row>
<row>
<entry/>
<entry>for each number of unit cells N</entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;for each source termination GS</entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;for each load termination GL</entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;&#x2003;for each phase offset &#x3c6;</entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;&#x2003;&#x2003;evaluate configuration:</entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;1. Given N; define available &#x3b1;: (&#x2212;N:2:N)/N</entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;2. Given GS,GL,GM,&#x3b1;: calculate available gm</entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;3. Normalize: gmN=gm/max (gm)</entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;4. Given R and &#x3c6;: Generate sampled sinusoid, sine</entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;5. Normalize: sineN=sine/max(sine)</entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;6. Map sineN samples to nearest gmN samples to give </entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003; sequence sineNQ</entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;&#x2003;&#x2003;&#x2003;7. Calculate spectral content of sineNQ</entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;&#x2003;&#x2003;endfor</entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;&#x2003;endfor</entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;&#x2003;endfor</entry>
<entry/>
</row>
<row>
<entry/>
<entry>&#x2003;endfor</entry>
</row>
<row>
<entry namest="1" nameend="3" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
<br/>
Identify configurations fulfilling requirements
<br/>
Choose final mixer configuration according to additional conditions
</p>
<p id="p-0082" num="0081">Thus, all configurations available are investigated by evaluating the performance, e.g. with respect to levels of specific harmonics or multiple harmonics combined. After evaluation, those configurations fulfilling the performance requirements are collected and, based on these, additional selection criteria may be applied to obtain a final mixer configuration.</p>
<p id="p-0083" num="0082">In an application where the number of samples per LO period is programmable the above search may be repeated for each number of samples R per LO period. This leads to a mixer <b>10</b> that, in dependence on the number of samples per period, will use at least one of: a different number N of unit cells <b>12</b>, different phase offsets, and/or different termination conductances values.</p>
<p id="p-0084" num="0083">The results discussed in the following paragraphs were obtained using the above optimization method, i.e., they are given based on exhaustive searches for a few different numbers of samples per period R. The phase offset was swept in steps of 0.2 deg, the number N of unit cells <b>12</b> was swept from 4 to 20, and the source and load termination conductances G<sub>S</sub>=G<sub>L </sub>were swept from 1 to 20 in &#x394;G=0.05 steps. Each plot shows Total Harmonic Distortion (THD) defined as the accumulated harmonic power up to harmonic R&#x2212;2 (the first sampling image appears at harmonic R&#x2212;1).</p>
<p id="p-0085" num="0084">The plots are shown below together with their corresponding tables containing optimal configurations for each N. Configurations in the tables with THD&#x3c;&#x2212;60 dBc are in bold. It is readily seen that the difference between the optimized and non-optimized configurations are often dramatic, although the configurations yielding very low THD (&#x3c;&#x2212;60 dBc) become fewer for increasing R.</p>
<p id="p-0086" num="0085"><figref idref="DRAWINGS">FIG. 13</figref> illustrates THD for R=8 with (x) representing non-optimized and ideally terminated mixer configurations and (o) representing an optimized mixer configuration with &#x394;G=0.05. Here, and elsewhere below, the optimized configuration is the one using non-ideal source and/or load termination conductances <b>18</b> and <b>22</b> that are purposefully chosen to influence the mixer transconductance quantization, to yield an improved matching between the transconductance levels used to by the mixer and the corresponding nominal transconductance points of the desired sinusoidal waveform.</p>
<p id="p-0087" num="0086"><figref idref="DRAWINGS">FIG. 14</figref> illustrates THD for R=10 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration with &#x394;G=0.05.</p>
<p id="p-0088" num="0087"><figref idref="DRAWINGS">FIG. 15</figref> illustrates THD for R=12 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration with &#x394;G=0.05.</p>
<p id="p-0089" num="0088">It may be desired to implement the source and load termination conductances <b>18</b> and <b>22</b> based on a conductance unit common with the actual mixer circuitry&#x2014;e.g., the conductance of the unit cells <b>12</b>&#x2014;to reach a high degree of matching and thereby secure robust performance. In such cases, the search scope and the harmonic rejection performance will be more limited. To exemplify this, the above search method <b>1200</b> is repeated but now with the source and load termination conductances G<sub>S</sub>=G<sub>L </sub>swept from 1 to 20 in steps of &#x394;G=1, instead of &#x394;G=0.05. This restriction leads to no configuration for R=12 that yields THD at &#x2212;60 dBc or lower.</p>
<p id="p-0090" num="0089">With these additional search constraints in mind, <figref idref="DRAWINGS">FIG. 16</figref> illustrates THD for R=8 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration with &#x394;G=1.</p>
<p id="p-0091" num="0090"><figref idref="DRAWINGS">FIG. 17</figref> illustrates THD for R=10 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration with &#x394;G=1.</p>
<p id="p-0092" num="0091"><figref idref="DRAWINGS">FIG. 18</figref> illustrates THD for R=12 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration with &#x394;G=1.</p>
<p id="p-0093" num="0092">Until this point in the examples, the searches have been based on G<sub>S</sub>=G<sub>L</sub>. By allowing independent G<sub>S </sub>and G<sub>L </sub>while still limiting them by &#x394;G=1, the configuration flexibility is increased and more high performance configurations are found. It is also worth noting that the high performance configurations exemplified by these illustrations have termination conductances G<sub>S </sub>and G<sub>L </sub>being less than ten times the maximum mixer transconductance G<sub>m </sub>and lowest N giving &#x2212;60 dBc THD. Termination conductance has not been larger than four for the cases investigated in the development of this disclosure&#x2014;i.e., G<sub>S</sub>/G<sub>m</sub>, G<sub>L</sub>/G<sub>m</sub>&#x2266;4.</p>
<p id="p-0094" num="0093">Continuing with the examples, <figref idref="DRAWINGS">FIG. 19</figref> illustrates THD for R=8 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration with &#x394;G=1 and independent G<sub>S </sub>and G<sub>L</sub>.</p>
<p id="p-0095" num="0094"><figref idref="DRAWINGS">FIG. 20</figref> illustrates THD for R=10 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration with &#x394;G=1 and independent G<sub>S </sub>and G<sub>L</sub>.</p>
<p id="p-0096" num="0095"><figref idref="DRAWINGS">FIG. 21</figref> illustrates THD for R=12 with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration with &#x394;G=1 and independent G<sub>S </sub>and G<sub>L</sub>.</p>
<p id="p-0097" num="0096">Turning to termination sensitivity, from Eq. (2) it can be seen that the lower the termination transconductances <b>18</b> and <b>22</b>, the greater the effect on the mixer transconductance. This is also readily seen with reference back to <figref idref="DRAWINGS">FIG. 10</figref>, which illustrates the non-linear relationship between a and the normalized mixer transconductance g<sub>m</sub>(&#x3b1;)/g<sub>m</sub>(1), as produced by the manipulation of the G<sub>S </sub>and G<sub>L </sub>values&#x2014;i.e., the purposeful manipulation of the source and load termination conductances <b>18</b> and <b>22</b>.</p>
<p id="p-0098" num="0097">For R=8 there is one simple configuration with N=7, G<sub>S</sub>=G<sub>L</sub>=4, and 16.2&#xb0; phase offset, which leads to less than &#x2212;70 dBc THD. In the plot illustrated in <figref idref="DRAWINGS">FIG. 22</figref>, THD is shown as a function of G=G<sub>S</sub>=G<sub>L </sub>being swept over &#xb1;5% of the nominal value G<sub>0</sub>=4.</p>
<p id="p-0099" num="0098">If only one of G<sub>S </sub>and G<sub>L </sub>is swept and the other remains at its nominal value, the sensitivity becomes smaller as illustrated in <figref idref="DRAWINGS">FIG. 23</figref>. That is, when the values of G<sub>S </sub>and G<sub>L </sub>are close to G<sub>m</sub>, THD is more sensitive w.r.t variations in the values of G<sub>S </sub>and G<sub>L </sub>as opposed to when the value of G<sub>S </sub>and/or G<sub>L </sub>is significantly lager than G<sub>m</sub>. Thus, even with relatively small termination conductances as compared to conventional practice, very low levels of THD can be preserved even though the termination conductance values may vary from their intended values by a few percent.</p>
<p id="p-0100" num="0099">Using, as does the present invention, termination conductance values that are far from the ideal, does not necessarily consider the effects of having two or more such mixers <b>10</b> sharing a common source or a common load, as in quadrature and complex mixers for either up-conversion or down-conversion. Such an arrangement was shown earlier, in <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="p-0101" num="0100">In conventional designs with termination conductances that are ideal (at least insofar as ideal values are realizable in practice), the mixer port resistances do not vary with &#x3b1;. But when, as in one or more embodiments presented herein, the source and load termination conductances <b>18</b> and <b>22</b> become on par with the mixer conductance G<sub>m</sub>, that independence no longer holds. In other words, with the conductance value ranges contemplated herein, mixers <b>10</b> sharing a common load or source will affect one another.</p>
<p id="p-0102" num="0101">Referring back to <figref idref="DRAWINGS">FIG. 9</figref>, the two mixers <b>10</b>-<b>1</b> and <b>10</b>-<b>2</b> are identical except for the fact that their transconductances are in quadrature such that
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>G</i><sub>1</sub>=(1+&#x3b1;)<i>G</i><sub>m</sub>/2<i>G</i><sub>2</sub>=(1&#x2212;&#x3b1;)<i>G</i><sub>m</sub>/2<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>G</i><sub>3</sub>=(1+&#x3b2;)<i>G</i><sub>m</sub>/2<i>G</i><sub>4</sub>=(1&#x2212;&#x3b2;)<i>G</i><sub>m</sub>/2<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>where<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x3b1;=cos(2<i>&#x3c0;f</i><sub>LO</sub><i>t</i>) and &#x3b2;=sin(2<i>&#x3c0;f</i><sub>LO</sub><i>t</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0103" num="0102">Assuming that the two mixers <b>10</b>-<b>1</b> and <b>10</b>-<b>2</b> will operate identically except for the quadrature phase relationship, the uppermost I-branch mixer <b>10</b>-<b>1</b> can be re-investigated but now with the additional mixer <b>10</b>-<b>2</b> viewed as a time-variable conductance G<sub>Q </sub>loading the nodes in common between the two mixers <b>10</b>. Actually, it is sufficient to consider the first mixer <b>10</b>-<b>1</b>. The results from first mixer <b>10</b>-<b>1</b> will apply to the second mixer <b>10</b>-<b>2</b>, as long as they are designed and operated identically, with the exception that they have a quadrature phase relationship. In other words, the effect of the second mixer <b>10</b>-<b>2</b> on the first mixer <b>10</b>-<b>1</b> will be the same as the effect of the first mixer <b>10</b>-<b>1</b> on the second mixer <b>10</b>-<b>2</b>.</p>
<p id="p-0104" num="0103">Also from <figref idref="DRAWINGS">FIG. 9</figref>, it should be understood that if G<sub>C</sub>&#x3e;&#x3e;G<sub>Q</sub>, G<sub>I </sub>there will be little interaction between the two mixers <b>10</b>-<b>1</b> and <b>10</b>-<b>2</b>. Yet, the present invention purposefully uses more reasonable conductance values, and this advantageous usage of practical conductance values can be extended to G<sub>C</sub>.</p>
<p id="p-0105" num="0104">Thus, it is contemplated herein to apply the optimization search embodied in the method <b>1200</b> to the quadrature mixer configuration of <figref idref="DRAWINGS">FIG. 9</figref>, with the assumption that the second mixer <b>10</b>-<b>2</b> is designed and operated identically to the first mixer <b>10</b>-<b>1</b>, except for the quadrature phase relationship. As shown herein, even with a small G<sub>C </sub>and with significant interaction between the quadrature mixers <b>10</b>-<b>1</b> and <b>10</b>-<b>2</b>, there are configurations providing very high levels of harmonic rejection.</p>
<p id="p-0106" num="0105"><figref idref="DRAWINGS">FIG. 24</figref> illustrates results based on exhaustive searching with R=8 samples per period. The phase offset was again swept in steps of 0.2 deg, the number N of unit cells <b>12</b> was swept from 4 to 20, and the source and load termination conductances G<sub>S </sub>and G<sub>L </sub>were independently swept from 1 to 5 in &#x394;G=1 steps. This was repeated for G<sub>C</sub>=[100 10 1] where the highest number will give the lowest interaction between the mixers <b>10</b>-<b>1</b> and <b>10</b>-<b>2</b>. As the diagram demonstrates, the presence of a second mixer <b>10</b>-<b>2</b> in quadrature with the first mixer <b>10</b>-<b>1</b> does not meaningfully limit the number of high-rejection configurations that can be found. In the diagram, (x) represents non-optimized and ideally terminated mixer configurations and (o) represents optimized mixer configurations according to the teachings presented herein.</p>
<p id="p-0107" num="0106">As another example, <figref idref="DRAWINGS">FIG. 25</figref> illustrates THD for a quadrature mixer configuration using R=8 and G<sub>C</sub>=10, with (x) representing a non-optimized and ideally terminated quadrature mixer configuration and (o) representing an optimized quadrature mixer configuration.</p>
<p id="p-0108" num="0107">As a further example, <figref idref="DRAWINGS">FIG. 26</figref> illustrates THD for a quadrature mixer configuration with R=8 and G<sub>C</sub>=1, with (x) representing a non-optimized and ideally terminated mixer configuration and (o) representing an optimized mixer configuration.</p>
<p id="p-0109" num="0108">Because the mixers <b>10</b> at issue here operate as time-variant linear and memory-less devices, those of ordinary skill in the art will appreciate that the above analysis and optimization can be repeated for other cases, e.g. when two mixers <b>10</b> share a common load, etc. More broadly, the mixer optimization method <b>1200</b> and its variations lead to substantially relaxed requirements for the source and termination conductances <b>18</b> and <b>22</b> of any one or more mixers <b>10</b>, while simultaneously providing improved harmonic rejection for given unit cell counts. In particular, the purposeful introduction of non-linearity into the quantization of mixer transconductance by the unit cells <b>12</b> allows the contemplated mixer(s) <b>10</b> to provide a higher harmonic rejection with a given number N of unit cells <b>12</b> than would be achieved with uniform quantization.</p>
<p id="p-0110" num="0109">In other words, the present invention teaches the use of source and termination conductances <b>18</b> and <b>22</b> that are far from ideal and that are chosen to produce a specific non-linear relationship between the mixer transconductance g<sub>m </sub>and the sinusoidal term &#x3b1;=cos(2&#x3c0;k/R), where R=the number of waveform samples used to model the sinusoidal waveform desired for &#x3b1;, and k={0, 1, . . . , R&#x2212;1}. This relationship causes the mixer's N unit cells <b>12</b> to produce a non-uniform quantization of the mixer transconductance g<sub>m</sub>. Referring back to Eq. (4) for the ideal termination case, g<sub>m </sub>is expressed as</p>
<p id="p-0111" num="0110">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>g</mi>
    <mi>m</mi>
  </msub>
  <mo>=</mo>
  <mrow>
    <msub>
      <mi>G</mi>
      <mi>u</mi>
    </msub>
    <mo>&#x2062;</mo>
    <mrow>
      <munderover>
        <mo>&#x2211;</mo>
        <mrow>
          <mi>k</mi>
          <mo>=</mo>
          <mn>1</mn>
        </mrow>
        <mi>N</mi>
      </munderover>
      <mo>&#x2062;</mo>
      <mrow>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mrow>
              <mi>S</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>k</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>-</mo>
            <mrow>
              <mi>Sbar</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mi>k</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mo>.</mo>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
In contrast, with the non-linear quantization behavior taught herein, one or more of the quantization step changes, i.e., k changes from 1 to 2, 2 to 3, and so on, produce a non-uniform step change in the mixer transconductance g<sub>m</sub>. Thus, rather than the full set of possible of control words <b>14</b> producing a corresponding uniform sequence of transconductance levels, the change between two or more of the sequential control words <b>14</b> produces a non-uniform change in transconductance levels. The mixer optimization taught herein &#x201c;tunes&#x201d; the non-uniformity to move the transconductance level produced by the mixer <b>10</b> in response to given ones of the control words <b>14</b> closer to the nominal transconductance points of the target sinusoidal waveform.
</p>
<p id="p-0112" num="0111">Thus, the mixer <b>10</b> taught herein has N unit cells <b>12</b> and termination conductances Gs and G<sub>L </sub>set to allow for a certain level of harmonic rejection which is not achievable when that same number of unit cells <b>12</b> is used in combination with a termination conductance product G<sub>L</sub>G<sub>S</sub>&#x3e;&#x3e;G<sub>m</sub><sup>2</sup>. The mixer <b>10</b> uses sequences of code words <b>14</b> that are patterned to match the advantageous quantization non-uniformity, so that those quantization levels corresponding to the desired sinusoidal function are chosen during live operation of the mixer <b>10</b>.</p>
<p id="p-0113" num="0112">In one or more embodiments, the mixer <b>10</b> is configured to use a programmable number of samples per LO period, and for each number of samples R per period, the mixer <b>10</b> correspondingly uses at least one of: a different number of unit cells <b>12</b>, different phase offsets, and different termination conductances. Thus, while the mixer <b>10</b> may be built with, e.g., N&#x2032; unit cells <b>12</b> in total, it will use a number N of them in live operation for transconductance quantization, in dependence on the number of samples R being used, where N&#x2266;N&#x2032;.</p>
<p id="p-0114" num="0113">Broadly then, as taught herein, a mixer <b>10</b> that operates with N unit cells <b>12</b> that can represent N+1 transconductance levels, where M out of the N+1 transconductance levels are used to represent samples of a sinusoidal transconductance. These M samples include one or more transconductance levels that are shifted from the levels that would be obtained with uniform quantization, and they thus represent a non-linear fitting of the transconductance quantization levels to the nominal transconductance points of the desired sinusoidal waveform. The digital sequencer <b>24</b> stores or otherwise generates a sequence of M code words <b>14</b> corresponding to the M transconductance levels defining the sinusoid (or uses whatever combination of sign and magnitude values are needed to signal the M levels)</p>
<p id="p-0115" num="0114">The conductance values for the source and load termination conductances <b>18</b> and <b>22</b> are chosen so as to ensure that M transconductance levels correspond to the nominal sinusoid samples with an accuracy at least corresponding to a certain level of harmonic rejection performance, e.g., expressed as a THD or a per-harmonic measure. It is notable here that the level of harmonic rejection harmonic rejection is substantially larger for a given unit cell count than what is possible when the G<sub>S </sub>and G<sub>L </sub>values are much larger than G<sub>m</sub>.</p>
<p id="p-0116" num="0115">In short, the purposeful manipulation of the values for the G<sub>S </sub>and G<sub>L </sub>produces a nonlinear relationship between g<sub>m </sub>and alpha (&#x3b1;), but the mixer <b>10</b> is configured to use that sequence of control words <b>14</b> {S&#x3c;1:N&#x3e;} that select the non-uniformly quantized levels best matching the sinusoidal transconductance samples required. For programmable embodiments that allow a varying number of samples R per LO period, the source and load termination conductances <b>18</b> and <b>12</b> are also programmable, to ensure high harmonic rejection for different numbers of samples R per LO period. For example, there are multiple, digitally selectable elements, or combinations of elements, used for the source and load termination conductances <b>18</b> and <b>22</b>, and the selection of a given R maps into the selection of given elements or combinations of elements, to yield the proper matching of termination conductance values to the selected value of R.</p>
<p id="p-0117" num="0116">Notably, modifications and other embodiments of the disclosed invention(s) will come to mind to one skilled in the art having the benefit of the teachings presented in the foregoing descriptions and the associated drawings. Therefore, it is to be understood that the invention(s) is/are not to be limited to the specific embodiments disclosed and that modifications and other embodiments are intended to be included within the scope of this disclosure. Although specific terms may be employed herein, they are used in a generic and descriptive sense only and not for purposes of limitation.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08624660-20140107-M00001.NB">
<img id="EMI-M00001" he="6.01mm" wi="76.20mm" file="US08624660-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08624660-20140107-M00002.NB">
<img id="EMI-M00002" he="10.24mm" wi="76.20mm" file="US08624660-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08624660-20140107-M00003.NB">
<img id="EMI-M00003" he="9.14mm" wi="76.20mm" file="US08624660-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08624660-20140107-M00004.NB">
<img id="EMI-M00004" he="6.69mm" wi="76.20mm" file="US08624660-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US08624660-20140107-M00005.NB">
<img id="EMI-M00005" he="8.81mm" wi="76.20mm" file="US08624660-20140107-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A time-discrete harmonic rejection mixer circuit comprising:
<claim-text>a parallel set of N unit cells that quantize a mixer transconductance into N+1 selectable levels, each level selectable by application of a corresponding digital control word to the set of unit cells;</claim-text>
<claim-text>a mixer input port coupled to one end of the set of unit cells through a source termination conductance; and</claim-text>
<claim-text>a mixer output port coupled to the other end of the set of unit cells through a load termination conductance;</claim-text>
<claim-text>said source and load termination conductances having conductance values producing a non-uniform quantization of said mixer transconductance by the set of unit cells so that a subset of the quantization levels better match a set of nominal transconductance points corresponding to a desired sinusoidal Local Oscillator (LO) waveform than would be achieved with a uniform quantization of said mixer transconductance; and</claim-text>
<claim-text>a digital sequencer configured to store or otherwise generate a sequence of digital control words corresponding to said subset of quantization levels, and further configured to apply said sequence of digital control words to the set of unit cells at a timing corresponding to a frequency of the sinusoidal LO waveform.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The mixer circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the source and load termination conductances are equal.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The mixer circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the source and load termination conductances are unequal.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The mixer circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said mixer circuit comprises a first one of two nominally identical mixer circuits configured to operate as quadrature mixers with respect to a common source or load.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The mixer circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the source and load termination conductances have values on the order of the maximum value of mixer conductance.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The mixer circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said sequence of digital control words corresponding to said subset of the quantization levels comprises a first sequence representing a first phase offset for the desired sinusoidal LO waveform, and wherein the digital sequencer is configured to store or generate one or more additional sequences representing one or more additional phase offsets, and to select one of said sequences as indicated by a phase control signal input to said digital sequencer.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The mixer circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the digital sequencer or an associated control unit further included in the mixer circuit is configured to control said mixer circuit to operate with a programmable number of waveform samples per LO period, where when changing from one programmable number of samples to another, the mixer circuit is configured to do at least one of: (a) change the value of N and thus use a different number of unit cells to quantize the mixer transconductance; (b) change a phase offset; and (c) change the conductance value for one or both of the source and load termination conductances.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A time-discrete harmonic rejection mixer circuit comprising:
<claim-text>a parallel set of unit cells configured to quantize a mixer transconductance into a defined number of discrete levels, each level selectable by application of a corresponding digital code word to the set of unit cells;</claim-text>
<claim-text>a mixer input port coupled to one end of the set of unit cells through a source termination conductance and a mixer output port coupled to the other end of the set of unit cells through a load termination conductance;</claim-text>
<claim-text>said source and load termination conductances having conductance values chosen to introduce a purposeful non-linearity into the quantization function implemented by the unit cells, thereby resulting in series of non-uniformly spaced transconductance levels that are better fitted to a nominal series of transconductance points representing the desired sinusoidal waveform for the mixer transconductance; and</claim-text>
<claim-text>further comprising a digital sequencer configured to apply a sequence of digital code words to said set of unit cells at a timing corresponding to a desired Local Oscillator (LO) frequency, said applied sequence of digital code words corresponding to said series of non-uniformly spaced transconductance levels.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
