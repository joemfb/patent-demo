<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624847-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624847</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12373428</doc-number>
<date>20070713</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>GB</country>
<doc-number>0613983.6</doc-number>
<date>20060713</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>1182</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>3</main-group>
<subgroup>041</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>345173</main-classification>
<further-classification>345169</further-classification>
<further-classification>345179</further-classification>
<further-classification>178 1801</further-classification>
<further-classification>178 1901</further-classification>
</classification-national>
<invention-title id="d2e71">Transducer</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4644102</doc-number>
<kind>A</kind>
<name>Blesser et al.</name>
<date>19870200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5124509</doc-number>
<kind>A</kind>
<name>Hoendervoogt et al.</name>
<date>19920600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>178 2004</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5149919</doc-number>
<kind>A</kind>
<name>Greanias et al.</name>
<date>19920900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5218173</doc-number>
<kind>A</kind>
<name>Garwin et al.</name>
<date>19930600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>178 1808</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5231381</doc-number>
<kind>A</kind>
<name>Duwaer</name>
<date>19930700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345174</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5274198</doc-number>
<kind>A</kind>
<name>Landmeier</name>
<date>19931200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5528002</doc-number>
<kind>A</kind>
<name>Katabami</name>
<date>19960600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>178 1906</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6417846</doc-number>
<kind>B1</kind>
<name>Lee</name>
<date>20020700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>7084860</doc-number>
<kind>B1</kind>
<name>Jaeger et al.</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345173</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>7113175</doc-number>
<kind>B2</kind>
<name>Liu et al.</name>
<date>20060900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345173</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>7649525</doc-number>
<kind>B2</kind>
<name>Chen et al.</name>
<date>20100100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345173</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>7663607</doc-number>
<kind>B2</kind>
<name>Hotelling et al.</name>
<date>20100200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345173</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>7907130</doc-number>
<kind>B2</kind>
<name>Ely</name>
<date>20110300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345179</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2002/0063694</doc-number>
<kind>A1</kind>
<name>Keely et al.</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2004/0233178</doc-number>
<kind>A1</kind>
<name>Silk et al.</name>
<date>20041100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345179</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>2005/0171714</doc-number>
<kind>A1</kind>
<name>Ely et al.</name>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>702 75</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>2005/0174259</doc-number>
<kind>A1</kind>
<name>Ely</name>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>341  5</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>2006/0066581</doc-number>
<kind>A1</kind>
<name>Lyon et al.</name>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>GB</country>
<doc-number>2 032 152</doc-number>
<date>19800400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>WO</country>
<doc-number>WO 96/18179</doc-number>
<date>19960600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>WO</country>
<doc-number>WO 2004/010369</doc-number>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>WO</country>
<doc-number>WO 2004/070396</doc-number>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00023">
<othercit>International Search Report for PCT/GB2007/002648, mailed Jul. 4, 2008.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00024">
<othercit>Written Opinion of the International Searching Authority for PCT/GB2007/002648, mailed Jul. 4, 2008.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>23</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>345173</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345169</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345179</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>178 1801</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>178 1901</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>7</number-of-drawing-sheets>
<number-of-figures>7</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20100238121</doc-number>
<kind>A1</kind>
<date>20100923</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Ely</last-name>
<first-name>David Thomas Eliot</first-name>
<address>
<city>Cambridge</city>
<country>GB</country>
</address>
</addressbook>
<residence>
<country>GB</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Ely</last-name>
<first-name>David Thomas Eliot</first-name>
<address>
<city>Cambridge</city>
<country>GB</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Nixon &#x26; Vanderhye PC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Synaptics (UK) Limited</orgname>
<role>03</role>
<address>
<city>Thrapston, Northhamptonshire</city>
<country>GB</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Shalwala</last-name>
<first-name>Bipin</first-name>
<department>2696</department>
</primary-examiner>
<assistant-examiner>
<last-name>Chowdhury</last-name>
<first-name>Afroza</first-name>
</assistant-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/GB2007/002648</doc-number>
<kind>00</kind>
<date>20070713</date>
</document-id>
<us-371c124-date>
<date>20090805</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2008/007118</doc-number>
<kind>A </kind>
<date>20080117</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A transducer for a position sensor includes a single laminate sensor board carrying a plurality of windings formed by conductors on one or more layers of the sensor board. The windings are arrayed over a first area of the sensor board. Detection circuitry is mounted on another layer of the sensor board over a second area of the circuit board and electrically coupled to the windings. The detection circuitry has a first mode of operation in which signals inductively coupled to or from windings are detected and a second mode of operation in which signals capacitively coupled to or from said windings are detected. The windings and detection circuitry are arranged on the sensor board so that said first and second areas oppose each other. A position sensor incorporates the transducer.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="187.37mm" wi="261.54mm" file="US08624847-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="270.59mm" wi="194.56mm" file="US08624847-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="264.24mm" wi="192.28mm" orientation="landscape" file="US08624847-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="259.00mm" wi="194.73mm" orientation="landscape" file="US08624847-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="243.67mm" wi="187.37mm" orientation="landscape" file="US08624847-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="233.93mm" wi="196.85mm" orientation="landscape" file="US08624847-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="239.86mm" wi="185.67mm" orientation="landscape" file="US08624847-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="241.55mm" wi="189.48mm" orientation="landscape" file="US08624847-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<p id="p-0002" num="0001">This application is the U.S. national phase of International Application No. PCT/GB2007/002648, filed 13 Jul. 2007, which designated the U.S. and claims priority to Great Britain Application No. 0613983.6, filed 13 Jul. 2006, the entire contents of each of which are hereby incorporated by reference.</p>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">1. Technical Field</p>
<p id="p-0004" num="0003">The present invention relates to transducers for use in a position sensor and in particular, transducers for use in a dual type position sensor which can sense targets both capacitively and inductively.</p>
<p id="p-0005" num="0004">2. Related Art</p>
<p id="p-0006" num="0005">Computer devices are well known and significant research has been made into man machine interfaces that allow humans to interact with the computer devices. For example, capacitive touch pads are well known that allow a user to move a cursor around a screen by moving their finger over the touch pad. Touch screens and digitizers are also well known which can be mounted on or under the surface of the display and which allow the user to make selections directly on the display using either their finger or an electromagnetic stylus.</p>
<p id="p-0007" num="0006">Recently, a number of proposals have been made to provide a sensor that can sense both the user's finger and an electromagnetic stylus using the same sensing device. Some of these systems effectively employ two separate sensors mounted on top of each other over or under the display. U.S. Pat. No. 5,231,381 is an example of such a system. Others have proposed combining the inductive and capacitive sensing elements by using the same conductors for both capacitive and inductive position measurements. WO2004/070396 describes an example of such a combined sensor which uses the same conductor tracks for both inductive and capacitive measurements.</p>
<heading id="h-0002" level="1">BRIEF SUMMARY</heading>
<p id="p-0008" num="0007">The present exemplary embodiments aim to provide an alternative design of position sensor which can be used for both capacitive and inductive position sensing.</p>
<p id="p-0009" num="0008">According to one aspect, the present exemplary embodiments provide a transducer for use in a position sensor, the transducer comprising a sensor board carrying: a plurality of windings formed by conductors on one or more layers of the sensor board, the windings being arrayed over a first area of the sensor board; and detection circuitry mounted on another layer of the sensor board over a second area of the circuit board and electrically coupled to said windings, said detection circuitry having a first mode of operation in which signals inductively transmitted from or received by said windings are detected and a second mode of operation in which signals capacitively transmitted from or received by said windings are detected, and wherein said windings and said detection circuitry are arranged on said sensor board so that said first and second areas oppose each other.</p>
<p id="p-0010" num="0009">In a preferred embodiment, the sensor board comprises a conductor plane positioned between the plurality of windings and said detection circuitry to reduce noise when said detection circuitry is operating in said second mode of operation. In one embodiment, this conductor plane is formed from a plurality of interconnected conductive islands to reduce eddy current interference when said detection circuitry is operating in said first mode of operation. The islands may be the same shape or different shapes and may be provided in a regular two dimensional array. The conductive plane may be connected to ground or to some other reference signal.</p>
<p id="p-0011" num="0010">At least one of the windings and preferably all of the windings can comprise conductor traces which form one or more conductive loops for both capacitive and inductive sensing and one or more single ended traces (having one end open circuit) for capacitive sensing only.</p>
<p id="p-0012" num="0011">In one embodiment, each winding is for sensing position along a measurement path and has a plurality of conductor traces that are distributed along the measurement path and interleaved with conductor traces of adjacent windings.</p>
<p id="p-0013" num="0012">Preferably the trace width of adjacent traces of the same winding and/or the separation between adjacent traces of the same winding varies along the measurement path. The exact width and/or spacing can be chosen to shape the capacitive coupling profile between the user's finger and each winding.</p>
<p id="p-0014" num="0013">A divided strike ring formed from a plurality of conductor traces on an upper layer of the sensor board can be provided, which extend around the periphery of the first area and which are electrically connected to the conductor plane. Such a strike ring can help to protect the device from electrostatic discharge while not providing a large loop around the windings in which eddy currents can develop and cause interference for the inductive measurements.</p>
<p id="p-0015" num="0014">In the preferred embodiments, the detection circuitry uses the same processing electronics to process the signals in said first and second modes of operation, as this reduces costs and circuit design.</p>
<p id="p-0016" num="0015">The present exemplary embodiments also provide a position sensor comprising a transducer as described above and processing circuitry for processing the detected signals and for determining the position of an object relative to the windings of said transducer.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0017" num="0016">A detailed description will now be given of a position sensor embodying the exemplary embodiments, which are described by way of example only, with reference to the accompanying figures in which:</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 1</figref> is a perspective view showing a computer device incorporating a dual capacitive and inductive digitizer (in accordance with an exemplary embodiment) located behind a writing surface (touch pad) which can sense the position of a user's finger or an electromagnetic stylus;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 2</figref> schematically illustrates the top two layers of a printed circuit board forming part of the exemplary digitizer of <figref idref="DRAWINGS">FIG. 1</figref> which carries windings used for position sensing, with some windings removed to highlight individual windings;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 3</figref><i>a </i>illustrates the conductor tracks which are formed on a top or first layer of the printed circuit board of the exemplary digitizer of <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 3</figref><i>b </i>illustrates the conductor tracks which are formed on a second layer of the printed circuit board forming part of the exemplary digitizer of <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 3</figref><i>c </i>illustrates the conductor tracks on a third layer of a printed circuit board which forms a divided ground plane of the exemplary digitizer of <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 3</figref><i>d </i>illustrates a fourth or bottom layer of the printed circuit board forming part of the exemplary digitizer of <figref idref="DRAWINGS">FIG. 1</figref> illustrating the way in which the conductor tracks on the other layers are connected together and to excitation and processing circuitry; and</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 4</figref> is a schematic functional block diagram illustrating excitation and processing circuitry of the exemplary digitizer of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF EXEMPLARY EMBODIMENTS</heading>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic block diagram illustrating a battery-powered computer device <b>1</b> such as a notebook PC, personal digital assistant or mobile cellular telephone, which includes a writing surface <b>3</b> over which a user can move an electromagnetic (EM) stylus <b>7</b> or their finger <b>8</b>. As shown in <figref idref="DRAWINGS">FIG. 1</figref>, the writing surface <b>3</b> is provided over an X-Y digitizer <b>9</b> having an X-Y digitizer printed circuit board (PCB) <b>11</b> and digitizer electronics <b>13</b> (mounted on the lower layer of the PCB <b>11</b>). The X-Y digitizer <b>9</b> is operable to detect the presence and X-Y position of the stylus <b>7</b> and/or the user's finger <b>8</b> relative to the writing surface <b>3</b>. The digitizer electronics <b>13</b> are connected to conductive windings on the X-Y digitizer PCB <b>11</b> and control the excitation of those windings and the sensing and processing of signals generated in the windings by the stylus <b>7</b> or the user's finger <b>8</b>.</p>
<p id="p-0026" num="0025">More specifically, the digitizer electronics <b>13</b> includes a control and signal processing circuit <b>15</b> which controls an excitation circuit <b>17</b> and a sensing circuit <b>19</b>. The excitation circuit <b>17</b> is used to generate an excitation signal which is applied to a selected one or more of the windings on the digitizer PCB <b>11</b>. The sensing circuit <b>19</b> is arranged to detect the signals generated in some or all of the windings on the digitizer PCB <b>11</b> and to pass the detected signals to the control and signal processing circuit <b>15</b>. The control and signal processing circuit <b>15</b> then processes the detected signals to determine the current position (X position, Y position and optionally height (Z) above the writing surface <b>3</b>), tilt and status of the stylus <b>7</b> and/or the current X-Y position of the user's finger <b>8</b>. The control and signal processing circuit <b>15</b> then reports this current position and status information to the host's operating system <b>21</b> via a digitizer-host interface <b>23</b>, host digitizer interface hardware <b>25</b> and digitizer interface driver software <b>27</b>. The operating system <b>21</b> then makes this position and status information available to the appropriate software applications <b>29</b> running on the host.</p>
<p id="p-0027" num="0026">As shown in <figref idref="DRAWINGS">FIG. 1</figref>, the operating system <b>21</b> also passes digitizer control data back to the digitizer electronics <b>13</b> to control, for example, the rate at which the control and signal processing circuit <b>15</b> reports the position and status information. The operating system <b>21</b> also controls a display driver <b>35</b> which, in turn, generates the appropriate control signals for a display controller <b>37</b> which controls the image displayed on a display (not shown). In this exemplary embodiment, the operating system <b>21</b> controls the display driver <b>35</b> in accordance with the current position and/or status information received from the digitizer electronics <b>13</b>, in order to provide visual feedback to the user via the display.</p>
<p id="p-0028" num="0027">As will be described in greater detail below, the digitizer system <b>9</b> described above includes a novel set of X-Y digitizer windings on the PCB <b>11</b> which allows the same windings to be used for both inductive and capacitive sensing. A more detailed description of the X-Y digitizer windings will now be described.</p>
<p id="p-0029" num="0028">Digitizer PCB</p>
<p id="p-0030" num="0029">In this exemplary embodiment, the X-Y digitizer PCB is implemented on a conventional four-layer FR4 printed circuit board (PCB). Capacitive sensing electrodes (for finger detection) and inductive sensing coils (for stylus detection) are combined, so that a single winding can serve both purposes.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 2</figref> shows the windings formed from conductor tracks on the upper two layers (closest to the writing surface <b>3</b>) of the PCB <b>11</b>, with some windings removed for clarity. This exemplary embodiment has nine &#x201c;X&#x201d; windings <b>51</b> (vertically oriented in the Figure) for sensing position along a horizontal axis and seven &#x201c;Y&#x201d; windings <b>52</b> (horizontally oriented in the Figure), for sensing position along the vertical axis. These windings are numbered <b>51</b>-X<b>1</b> . . . <b>51</b>-X<b>9</b> and <b>52</b>-Y<b>1</b> . . . <b>52</b>-Y<b>7</b>; although windings <b>51</b>-X<b>2</b>, <b>51</b>-X<b>4</b>, <b>52</b>-Y<b>2</b>, and <b>52</b>-Y<b>4</b> have been removed from <figref idref="DRAWINGS">FIG. 2</figref> to clarify the arrangement of windings <b>51</b>-X<b>1</b> and <b>51</b>-X<b>3</b> and <b>52</b>-Y<b>1</b> and <b>52</b>-Y<b>3</b>. <figref idref="DRAWINGS">FIG. 2</figref> also shows an excitation winding <b>55</b> that is used to energize the EM stylus <b>7</b>, the ends of which (labelled EXA and EXB) are connected to the excitation circuit <b>17</b> which is mounted on the bottom layer (furthest from the writing surface <b>3</b>) of the PCB <b>11</b>.</p>
<p id="p-0032" num="0031">As shown in <figref idref="DRAWINGS">FIG. 2</figref>, each of the X and Y windings <b>51</b>, <b>52</b> consists of one or more substantially rectangular loops together with some &#x201c;single ended&#x201d; conducting traces (some of which are labelled <b>53</b>) connected thereto. The two ends of each winding (for example ends X<b>1</b>A and X<b>1</b>B, X<b>3</b>A and X<b>3</b>B) are connected to the excitation and sensing circuits <b>17</b>, <b>19</b>. For inductive sensing, EMFs (electromotive forces) generated in the loops of each winding <b>51</b>, <b>52</b> are measured by the sensing circuit <b>19</b>. For inductive sensing, the single ended traces <b>53</b> connected to the loops have no effect as they do not form part of a loop and so no EMF is generated in them. For capacitive sensing, each winding effectively acts like an electrode and the two ends of each winding are held by the excitation circuit <b>17</b> at substantially the same potential. For capacitive sensing, the single ended traces are also held at the potential and play an active role in the capacitive sensing measurements. The control and signal processing circuit <b>15</b> then monitors the net flow of charge onto and off the winding. By monitoring the signals obtained from all of the nine X windings <b>51</b> and all of the seven Y windings <b>52</b>, the control and signal processing circuit <b>15</b> can determine the position of the EM stylus <b>7</b> and/or the position of the user's finger <b>8</b> over the writing surface <b>3</b>.</p>
<p id="p-0033" num="0032">In the following description the term &#x201c;winding&#x201d; will be used to refer to one of the X or Y windings <b>51</b>, <b>52</b> whose ends are connected to the excitation and sensing circuits <b>17</b>, <b>19</b>. The term &#x201c;coil&#x201d; will be used to refer to the inductive portion comprising the multiple &#x201c;loops&#x201d; of the winding; and the term &#x201c;trace&#x201d; will be used to refer to any portion of a winding <b>51</b>, the exact portion being made clear in the context.</p>
<p id="p-0034" num="0033">Although <figref idref="DRAWINGS">FIG. 2</figref> illustrates the conductor traces on the two upper layers together and represents each winding trace as a thin line, the traces would in practice have non-zero width, and this width neither need nor should be very narrow; and the apparent intersections between traces in most cases corresponds to traces passing over and under one another on separate layers without connection. <figref idref="DRAWINGS">FIGS. 3</figref><i>a </i>and <b>3</b><i>b </i>illustrate how this is accomplished in this embodiment. In particular, <figref idref="DRAWINGS">FIG. 3</figref><i>a </i>shows the top copper layer of the PCB <b>11</b>, which in this case carries most of the conductor traces (some of which are labelled <b>54</b>) that form the Y windings <b>52</b>; and <figref idref="DRAWINGS">FIG. 3</figref><i>b </i>illustrates the second layer underneath the top layer, which in this case carries most of the conductor traces <b>56</b> that form the X windings <b>51</b>. As shown, the traces <b>54</b> that form the Y windings <b>52</b> extend across the sensor board <b>11</b> along the X direction and connect to traces on the second layer (shown in <figref idref="DRAWINGS">FIG. 3</figref><i>b</i>) at the via holes, some of which are labelled <b>57</b>, located towards the side edge of the PCB <b>11</b>. Similarly, the traces <b>56</b> that form the X windings <b>51</b> extend across the sensor board <b>11</b> along the Y direction and connect to traces on the first layer (shown in <figref idref="DRAWINGS">FIG. 3</figref><i>a</i>) at the via holes, some of which are labelled <b>58</b>, located towards the top edge of the PCB <b>11</b>.</p>
<p id="p-0035" num="0034">As can be seen from <figref idref="DRAWINGS">FIGS. 3</figref><i>a </i>and <b>3</b><i>b</i>, the traces on the second layer are wider than those on the top layer. This is to compensate for the traces on the second layer being further away from the writing surface <b>3</b> than the traces on the top layer and (more importantly) to compensate for the shielding effect of the conductors on the top layer. The result is that the capacitive coupling from the finger to the conductors on the top two PCB layers is approximately equal.</p>
<p id="p-0036" num="0035">The third layer of the PCB <b>11</b>, which is shown in <figref idref="DRAWINGS">FIG. 3</figref><i>c</i>, comprises a ground plane <b>60</b>, which helps to shield the capacitive operation of the sensor from large metallic objects under the PCB <b>11</b>, such as an integrated circuit, a speaker, part of the chassis of the computer device, etc. However, the inventor found that a solid ground plane under the windings <b>51</b>, <b>52</b> introduced significant interference for the inductive operation of the digitizer <b>9</b>. As this inductive interference is caused by eddy currents flowing in the ground plane, the inventor divided the ground plane into small islands or tiles (in this case square tiles) that are all connected together and to ground. As a result, eddy currents can only build up within each tile and, as the area of each tile is small relative to the area of the PCB <b>11</b>, this reduces the degradation of the inductive operation and reduces the power consumption of the digitizer <b>9</b>.</p>
<p id="p-0037" num="0036">The bottom layer of the PCB <b>11</b>, which is shown in <figref idref="DRAWINGS">FIG. 3</figref><i>d</i>, comprises connection pads <b>61</b> for receiving an ASIC that has the digitizer electronics <b>13</b> and a connector <b>62</b> for connecting the digitizer electronics <b>13</b> to the host's electronics. <figref idref="DRAWINGS">FIG. 3</figref><i>d </i>also shows that the ends of the various windings <b>51</b>, <b>52</b> are connected to appropriate input/output pins of the ASIC.</p>
<p id="p-0038" num="0037">In this exemplary embodiment, the upper and lower layers of the PCB <b>11</b> also carry a strike ring <b>59</b> which provides the digitizer electronics <b>13</b> with some protection from electrostatic discharge. As shown, the strike ring <b>59</b> surrounds the main windings of the PCB and is divided into a number of strips, each of which is connected to the ground plane <b>60</b> by the connectors <b>63</b> (shown in <figref idref="DRAWINGS">FIG. 3</figref><i>c</i>) and vias which extend through the PCB <b>11</b> from the top layer to the bottom layer through the connectors <b>63</b>. Dividing the strike ring <b>59</b> in this way again reduces interference caused by eddy currents circulating around the strike ring <b>59</b>.</p>
<p id="h-0005" num="0000">Capacitive Operation</p>
<p id="p-0039" num="0038">To detect the position of the user's finger <b>8</b> (or other object having an impedance to ground that is small in comparison to its capacitive coupling to the X and Y windings <b>51</b>, <b>52</b>), the excitation circuit <b>17</b> drives all of the X and Y windings <b>51</b>, <b>52</b> with an AC voltage and the sensing circuit <b>19</b> measures the current required to drive each one. The excitation circuit <b>17</b> may drive either the A or B end of each winding <b>51</b>, <b>52</b>, or both ends together. Driving both ends together is preferable in embodiments where the windings have appreciable resistance. The AC drive voltage used may not be a simple sinusoid; it may be preferable, for instance, to drive the windings <b>51</b>, <b>52</b> with a signal having substantial high or low frequency components such as a step function or a pulse. All the X and Y windings <b>51</b>, <b>52</b> are preferably driven together to avoid influence caused by capacitive coupling between the X and Y windings. The set of current measurements thus obtained is called a capacitive profile and is used to determine the position of the finger <b>8</b>.</p>
<p id="p-0040" num="0039">As the finger <b>8</b> moves across the writing surface <b>3</b>, its coupling to each winding <b>51</b>, <b>52</b> varies smoothly. The X and Y windings <b>51</b>, <b>52</b> are arranged over the measurement area of the X-Y digitizer <b>9</b> so that wherever the finger <b>8</b> is on the writing surface <b>3</b>, other than at the outer edges, it couples measurably to at least three successive windings on each axis. This is achieved by interleaving the traces of successive windings along each axis. The optimal amount of interleaving depends on the distance of the finger <b>8</b> from the windings <b>51</b>, <b>52</b> and hence on the thickness of the writing surface <b>3</b>; with less interleaving being required for a thicker writing surface <b>3</b>. As a result, enough information is provided for the control and signal processing circuit <b>15</b> (or some other sub-system downstream thereof) to estimate the X-Y position of the finger <b>8</b>.</p>
<p id="p-0041" num="0040">As those skilled in the art will appreciate, it is possible to interleave the conductors used for the capacitive sensing because they are formed by a set of connected traces that are distributed along the appropriate measurement axis (the X axis for the Y windings <b>52</b> and the Y axis for the X windings <b>51</b>). In this embodiment, each of the X and Y windings <b>51</b>, <b>52</b> are also arranged so that the density of conducting material along the measurement axis of each winding varies across its width, being highest in the middle and lowest at the edges.</p>
<p id="p-0042" num="0041">Capacitive position sensors that use an array of sensing electrodes arrayed in each measurement direction require that the capacitive profile width be greater than a certain minimum multiple of the electrode repeat distance to enable accurate interpolation. Traditional capacitive sensors achieve this minimum width by relying on the fact that human fingers are a certain minimum size, and their electrodes are smaller than this minimum size. The width of the profile is therefore dominated by the smallest finger likely to be encountered, and this in turn defines a certain maximum electrode repeat distance, and hence a minimum number of electrodes. In the present exemplary embodiments, the width of the profile is largely determined by the way in which the conductors comprising each electrode are patterned along the measuring direction. Since a relatively large number of conductors are used, and they are spread over a relatively large distance compared to the electrode to electrode repeat distance, it is possible to greatly reduce the number of electrodes required to span the desired measuring length. This reduces cost. As those skilled in the art will appreciate, this advantage of the present exemplary embodiments would remain even if the design were used in a purely capacitive position sensor.</p>
<p id="h-0006" num="0000">Inductive Operation</p>
<p id="p-0043" num="0042">To detect the position of an inductively coupled EM stylus, the controlling electronics powers the stylus <b>7</b> (in this embodiment) by passing an appropriate AC current through the excitation winding <b>55</b> that extends around the outside of the X and Y windings <b>51</b>, <b>52</b>. In this embodiment the excitation winding <b>55</b> is formed from winding traces on three layers of the PCB, occupying space at the edges of the upper two layers and the bottom layer of the PCB <b>11</b>. Typically, the stylus <b>7</b> will have a resonant circuit whose resonant frequency approximately matches the frequency of the current applied to the excitation winding <b>55</b>.</p>
<p id="p-0044" num="0043">As mentioned above, the same windings that are used for capacitive operation also function as loop coils for inductive sensing. As shown in <figref idref="DRAWINGS">FIG. 2</figref>, in this embodiment, the windings at the edge of the sensor (X<b>1</b>, X<b>9</b>, Y<b>1</b>, Y<b>7</b>) have two loops while the others have three. <figref idref="DRAWINGS">FIG. 2</figref> also illustrates the notional winding direction of two of the windings.</p>
<p id="p-0045" num="0044">The stylus <b>7</b> is detected by measuring the EMF generated in each winding <b>51</b>, <b>52</b> (e.g., from Y<b>1</b>A to Y<b>1</b>B, from X<b>2</b>A to X<b>2</b>B, etc.). This generated EMF will typically be approximately sinusoidal and of approximately the same frequency as the excitation waveform; it may be summarized, as familiar to those skilled in the art, by a magnitude and a phase or by a real and an imaginary part. A set of such measurements of EMFs obtained from all the X and Y coils is called an inductive profile and is used to determine the position of the stylus <b>7</b>. The inductive profile may record only magnitudes, or the full magnitude and phase (or, equivalently, real and imaginary parts) of each winding's EMF, or some other representation of the size and possibly the sign of each EMF (for instance, by determining the phase at which the signal is expected to be seen and &#x201c;resolving&#x201d; the complex signal at that phase), as is familiar to those skilled in the art of inductive sensing. The position and configuration of the X and Y coils is selected to yield an inductive profile that varies smoothly with stylus position and that is amenable to use for accurate position computation.</p>
<p id="p-0046" num="0045">Stylus status information such as contact with the writing surface <b>3</b>, tip pressure, eraser presence and side switch activation may be conveyed to the control and signal processing circuit <b>15</b> by means such as varying the phase or frequency of the returned signal, or modulating its amplitude etc.</p>
<p id="h-0007" num="0000">Combination of Capacitive and Inductive Measurement</p>
<p id="p-0047" num="0046">As discussed above, the digitizer <b>9</b> is designed to provide both capacitive and inductive measurements using the same windings <b>51</b>, <b>52</b>. There are several ways in which the two types of measurements can be obtained, including:
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0047">Each mode may be selected explicitly, perhaps by a physical switch or under the control of the host system.</li>
        <li id="ul0002-0002" num="0048">The two modes of sensing may be interleaved in time (perhaps alternating between the two, or some more complicated but substantially fixed scheme), providing in effect two parallel streams of information.</li>
        <li id="ul0002-0003" num="0049">One mode of sensing may be inhibited, or run at a substantially slower rate, when the subject of the other is observed to be present. Thus, when inductive sensing shows the presence of the stylus <b>7</b>, capacitive sensing may be suppressed until the stylus <b>7</b> goes away, or run somewhat slower to allow low-bandwidth finger detection, or run much slower for the purpose of maintaining an accurate capacitive &#x201c;baseline&#x201d;.</li>
        <li id="ul0002-0004" num="0050">The two modes may be operated simultaneously by driving the windings using common mode EMFs and for capacitive sensing detecting common-mode currents/charge and for inductive sensing detecting differential EMFs. Thus, a single measurement cycle may produce valid inductive and capacitive data together. As those skilled in the art will appreciate, this will typically require more complicated sensor circuits <b>19</b> than those required for sensing in one mode at a time. For example, in such an embodiment, two sensing circuits <b>19</b> may be provided for each winding.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0048" num="0051">The system may be configurable to operate in a capacitive only or an inductive only mode. Activation of the other mode can then be a feature paid for by the user; it might, for instance, be activated by sending a suitable command to the microcontroller, along with suitably encoded data to allow the firmware to determine that the feature has been validly paid for and authorized by the appropriate party.</p>
<p id="p-0049" num="0052">In the present embodiment, inductive sensing and capacitive sensing are performed at different times. Additionally, during capacitive sensing the processing electronics generate and apply a capacitive guard signal, synchronized with the capacitive sensing waveform, to the excitation winding <b>55</b> to minimize interference that this winding <b>55</b> may cause with capacitive sensing, and to improve immunity to moisture on the front surface of the sensor. If inductive and capacitive sensing are performed simultaneously, then the excitation winding should preferably be driven with the superposition of this guard signal (common-mode) and the excitation signal (differential-mode).</p>
<p id="p-0050" num="0053">Depending on the details of the sensing circuits, it may be appropriate to connect the ground plane not to ground but to this capacitive guard signal, so as to reduce the amount of &#x201c;background&#x201d; capacitance seen by the capacitive measuring process.</p>
<p id="p-0051" num="0054">Digitizer Electronics</p>
<p id="p-0052" num="0055"><figref idref="DRAWINGS">FIG. 4</figref> illustrates the main portions of the digitizer electronics <b>13</b> that are used in this exemplary embodiment. <figref idref="DRAWINGS">FIG. 4</figref> actually shows the excitation circuit <b>17</b>, the sensing circuit <b>19</b> of one channel that processes the signals obtained from one of the X or Y windings <b>51</b>, <b>52</b> and the control and signal processing circuit <b>15</b>. In this exemplary embodiment, a separate channel (sensing circuit <b>19</b>) is provided for each X and Y winding <b>51</b>, <b>52</b>. In an alternative exemplary embodiment, the signals from two or more windings <b>51</b>, <b>52</b> may be multiplexed into one channel.</p>
<p id="p-0053" num="0056">Referring to <figref idref="DRAWINGS">FIG. 4</figref>, the waveform synthesizer <b>71</b>, under the control of the control and signal processing circuit <b>15</b>, is operable to generate a sinusoidal driving signal together with two mixer control signals MixControlI and MixControlQ (in phase and 90 degrees out of phase with the driving signal). As shown, the driving signal is passed through a current amplifier <b>73</b> and used to drive the excitation winding <b>55</b> of the digitizer for inductive sensing. In this mode of operation, the driving signal is not connected to the X and Y windings <b>51</b>, <b>52</b> other than via electromagnetic induction. For capacitive sensing, the drive signal is instead connected through a voltage follower <b>75</b> to one end of each X and Y winding <b>51</b>, <b>52</b>, so that each winding's electrical potential oscillates with the drive signal. Switches <b>76</b> and <b>78</b> are provided and controlled by the control and signal processing circuit <b>15</b>, for switching between inductive and capacitive operating modes. In particular, switches <b>76</b>-<b>1</b>, <b>76</b>-<b>2</b> and <b>76</b>-<b>3</b> are all closed and switches <b>78</b>-<b>1</b> and <b>78</b>-<b>2</b> are all open for inductive sensing and switches <b>76</b>-<b>1</b>, <b>76</b>-<b>2</b> and <b>76</b>-<b>3</b> are all open and switches <b>78</b>-<b>1</b> and <b>78</b>-<b>2</b> are all closed for capacitive sensing.</p>
<p id="p-0054" num="0057">As discussed above, for inductive sensing the EMF induced in each X and Y winding <b>51</b>, <b>52</b> is measured. This is achieved by connecting the ends of each winding <b>51</b>, <b>52</b> to the inputs of a differential voltage amplifier <b>81</b>. For capacitive sensing, it is the current flowing into or out of each X and Y winding <b>51</b>, <b>52</b> that is measured. The sensing circuit <b>19</b> shown in <figref idref="DRAWINGS">FIG. 4</figref> achieves this by passing that current through the resistor Rsense and measuring the potential difference across that resistor using the differential amplifier <b>81</b>.</p>
<p id="p-0055" num="0058">In either case, the output from the voltage amplifier <b>81</b> is mixed with (i.e., multiplied &#x201c;pointwise&#x201d; by) the two mix control signals mentioned above in the mixers <b>83</b>-<b>1</b> and <b>83</b>-<b>2</b>. These mix control signals might be single-bit signals considered to alternate between +1 and &#x2212;1, or multi-level digital signals, or even analogue signals approximating to appropriate sinusoids; the consequences in cost, size, power consumption and sensitivity to interference at harmonics of the operating frequency will be familiar to those ordinarily skilled in the art. The desired components of the signals at the mixer outputs are typically the low frequency components. The signals from the mixers <b>83</b> are accordingly low-pass filtered by the filters <b>85</b>-<b>1</b> and <b>85</b>-<b>2</b> to remove the unwanted high frequency components. The filtered signals are then converted in to the digital domain by the analogue to digital converters (ADC) <b>87</b>-<b>1</b> and <b>87</b>-<b>2</b>, for further processing by the control and signal processing circuit <b>15</b>.</p>
<p id="h-0008" num="0000">Advantages</p>
<p id="p-0056" num="0059">The exemplary embodiments may confer several advantages. It will be convenient to consider such possibilities under several headings, since some embodiments might realize some, but not all, of these advantages. The list here is not exhaustive, but describes some advantages of the exemplary embodiments described above.</p>
<p id="p-0057" num="0060">As discussed above, the exemplary x-y digitizer <b>9</b> is implemented on a single sensor board <b>11</b> and the board is designed to reduce the interference that can result. The advantages of implementation on a single PCB include:
<ul id="ul0003" list-style="none">
    <li id="ul0003-0001" num="0000">
    <ul id="ul0004" list-style="none">
        <li id="ul0004-0001" num="0061">The sensor can be manufactured more cheaply than if it required multiple PCBs.</li>
        <li id="ul0004-0002" num="0062">The sensor can be thinner than if it required multiple PCBs.</li>
        <li id="ul0004-0003" num="0063">Interfacing to the sensor requires fewer connections than multiple PCBs would; this in turn may simplify the routing of traces on the host system's circuit boards.</li>
        <li id="ul0004-0004" num="0064">Misalignment between the capacitive and inductive sensors is not an issue.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0058" num="0065">In this exemplary embodiment, the same controller IC is used to process the inductive and capacitive measurements. As those skilled in the art will appreciate, this offers a number of advantages, including:
<ul id="ul0005" list-style="none">
    <li id="ul0005-0001" num="0000">
    <ul id="ul0006" list-style="none">
        <li id="ul0006-0001" num="0066">The system can be cheaper.</li>
        <li id="ul0006-0002" num="0067">Functions such as host interfacing and timing control, as well as much of the analogue circuitry, can be shared between the inductive and capacitive modes of operation, rather than being duplicated on two ICs. This may make for lower firmware development cost and time, better reliability, lower power consumption, and smaller semiconductor die area.</li>
        <li id="ul0006-0003" num="0068">Interfacing to the host system can be simpler: one protocol rather than two, one device rather than two, fewer connections. This in turn may reduce costs, complexity, development time, unreliability and size in the host system.</li>
        <li id="ul0006-0004" num="0069">The two sensing modes are under unified control, so that it is possible to keep each from interfering with the other and to save power by only running one when the other is inactive.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0059" num="0070">In this exemplary embodiment, the successive X and Y windings were interleaved with each other.</p>
<p id="p-0060" num="0071">The advantages of interleaving adjacent channels' windings include:
<ul id="ul0007" list-style="none">
    <li id="ul0007-0001" num="0000">
    <ul id="ul0008" list-style="none">
        <li id="ul0008-0001" num="0072">Fewer channels are required than if no interleaving were done, reducing complexity and cost.</li>
        <li id="ul0008-0002" num="0073">It becomes easier to compute position estimates that are roughly linear relative to actual position of the stylus or finger.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0061" num="0074">In the above exemplary embodiment, a divided ground plane was provided under the X and Y sensing windings. This has the following advantages:
<ul id="ul0009" list-style="none">
    <li id="ul0009-0001" num="0000">
    <ul id="ul0010" list-style="none">
        <li id="ul0010-0001" num="0075">The capacitive sensor is shielded from any interference sources that might be located below it, much as it would be for a solid ground plane.</li>
        <li id="ul0010-0002" num="0076">However, eddy-current effects (which attenuate the magnetic field, increase power consumption and complicate the operation of the inductive sensor) are greatly reduced.
<br/>
Modifications
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0062" num="0077">A detailed exemplary embodiment has been described above. A number of modifications may be made to this embodiment, and a few of these modifications will now be described.</p>
<p id="p-0063" num="0078">Instead of exciting the stylus <b>7</b> via an excitation winding <b>55</b>, the stylus <b>7</b> may be electrically connected to the sensing system and driven directly, or it may contain an energy store such as a battery and, therefore, not need to be powered externally. The stylus <b>7</b> may contain circuitry somewhat more complicated than a simple resonant circuit (for instance, digital electronics to send a stream of information to the sensor by modulating the stylus signal's frequency, phase or amplitude), which may be powered in any of the ways already described. Further, where the digitizer does excite the stylus, it may do so by energizing the windings <b>51</b>, <b>52</b> and sensing the EMFs generated in the outer winding <b>55</b>. In such an embodiment, each winding <b>51</b>, <b>52</b> may be excited in turn and the corresponding EMF generated in winding <b>55</b> measured or they may be excited together using different excitation frequencies for each winding and performing a frequency analysis of the signal generated in the winding <b>55</b>. Alternatively still, the stylus may be energized by exciting one or more of the windings <b>51</b>, <b>52</b> and its position determined by processing the signals obtained from other ones of the windings <b>51</b>,<b>52</b>. In such an embodiment, the outer excitation winding <b>55</b> would not be needed.</p>
<p id="p-0064" num="0079">For the capacitive operation, instead of driving the X and Y windings <b>51</b>, <b>52</b> with a known voltage, they may be driven with a known current or a known amount of charge, and the voltage reached measured. This mode of operation, again, may be performed with a variety of different signal waveforms. More generally, what is required is that the voltage changes, and either the charge transferred or the current and the time involved, should be known, either because the controlling electronics ensure a particular value or because the value is measured. Additionally, a &#x201c;transcapacitance-sensing mode&#x201d; may be used, in which each x-electrode is excited with an EMF in turn with the others zero, and the charge/current injected into the y-electrodes measured. By scanning through the x-electrodes, a complete map of electrode-to-electrode &#x201c;transcapacitances&#x201d; can be built up. Individual transcapacitance figures are a function of finger presence near their intersection, in a similar way that absolute capacitance measurements are a function of finger presence somewhere along the respective electrode. The difference is that finger presence generally decreases the value of the coupling capacitance, and the magnitude of the change is smaller. One advantage of the transcapacitance approach is that it allows the system to sense multiple fingers, since a complete 2D map is generated, not just two 1D maps representing x- and y-profiles.</p>
<p id="p-0065" num="0080">In the above embodiment a 4-layer PCB was used. Fewer layers could be used if a ground plane is not required and/or if the controlling electronics are placed separately (e.g. at the far end of a &#x201c;tail&#x201d;, perhaps).</p>
<p id="p-0066" num="0081">In the above embodiment, a single turn of excitation winding <b>55</b> was provided on the upper two layers and on the bottom layer of the PCB <b>11</b>. More turns or even fewer turns of excitation winding <b>55</b> could be provided if desired.</p>
<p id="p-0067" num="0082">The sensor PCB could be made from materials other than FR4 and copper. For instance, it could be made from transparent plastic and ITO, thus producing a fully transparent board suitable for mounting above a display. In a typical embodiment of this sort, the fourth layer would be absent and the digitizer electronics would be connected via a &#x201c;tail&#x201d; at one edge of the sensor board. In such an embodiment, it might be possible to do without the third layer (ground plane <b>60</b>) as well. The digitizer windings may be manufactured from any appropriate technology such as with discrete wires, conductors punched from sheet material, printed inks, etc. The conductors may also be formed from very fine wires embedded into a transparent substrate placed over the display, which allow capacitive and inductive measurements while not interfering with the visibility of the display.</p>
<p id="p-0068" num="0083">The embodiment described above uses nine windings on one axis and seven on the other. Either or both of these numbers may be varied. Further, the windings of one axis may be omitted if a 1-dimensional measurement suffices.</p>
<p id="p-0069" num="0084">The embodiment described above uses nine substantially parallel traces per winding <b>51</b>, <b>52</b> for most of the windings, and a smaller number for the windings at the edges of the sensor board. Either more or fewer traces can be used, trading off extent of overlap, number of turns of loop coil, track/gap geometry, and the like. Additionally, the amount of overlap of the windings <b>51</b>, <b>52</b> can be varied; in an extreme case, there may be no overlap at all. The design of the windings <b>51</b>, <b>52</b> at the edges of the sensor (in the above embodiment windings <b>51</b>-X<b>1</b>, <b>51</b>-X<b>9</b>, <b>52</b>-Y<b>1</b> and <b>52</b>-Y<b>7</b>) may be varied largely independently of the others, so as to optimize position measurement at the edge of the sensing area.</p>
<p id="p-0070" num="0085">The conducting loops forming part of the windings <b>51</b>, <b>52</b> need not be rectangular in shape; they may be distorted in ways that optimize the inductive profiles measured by the system. Accordingly, conducting traces shown in the Figures here as straight lines running the entire length or width of the sensor board <b>11</b> may in fact be bent in various ways. Whether rectangular or not, the windings need not be (as they are here) of equal width, composed of traces of equal width, and arrayed at equal separations; all these parameters may be varied to optimize position measurement accuracy. In particular, as the width of the traces will have no appreciable affect on the inductive operation of the sensor, the widths of the traces can be varied to &#x201c;tune&#x201d; the capacitive operation of each winding.</p>
<p id="p-0071" num="0086">Depending on the electromagnetic environment in which the sensor must function (typically determined by the host system's design) it may be advantageous to place a layer of magnetic screening material, such as mumetal or spin-melt ribbon, below the sensor. It might, for instance, be affixed to the bottom layer (shown in <figref idref="DRAWINGS">FIG. 3</figref><i>d</i>) and have cut-outs for the controlling IC and for any cable attachments.</p>
<p id="p-0072" num="0087">The electronics illustrated in <figref idref="DRAWINGS">FIG. 4</figref> constitute only one of a great variety of ways to perform the above described measurements. A representative, but incomplete, sampling of possible variations follows: The amount of per-channel duplication could be reduced by means of sample-and-hold circuitry. The inductive and capacitive measurements could be performed by separate circuitry, connected to the sensor via a multiplexer. Capacitive measurement could be performed by injecting a known amount of charge and measuring voltage, rather than the reverse as described above. Instead of using a voltage amplifier and placing a resistor in parallel with it to measure currents, we could use a current amplifier and place a resistor in series with one input to measure voltages. In one important version of this technique, the key component is a current amplifier that is able to control the voltage at its input and that amplifies the current that flows in order to maintain this voltage: for capacitive sensing, the voltage control signal would come from the waveform generator. The driving signal need not be even approximately sinusoidal; for instance, it may be advantageous for some sorts of capacitive sensing to drive with a &#x201c;step-function&#x201d; signal and measure at one or more instants after transient currents have stopped flowing. Waveform generation may be accomplished in a variety of ways, such as a high-resolution direct digital synthesis circuit, a simple pulse generator followed by a low-pass filter, or some compromise between the two. There may be filters before as well as after the mixers, to prevent aliasing down of high-frequency interference. The post-mix filters may be omitted. Rather than mixing to get &#x201c;I&#x201d; and &#x201c;Q&#x201d; components of an oscillating signal, it may suffice simply to measure its amplitude, or to use only a single mixer whose phase may be either fixed or set by the control and signal processing circuit <b>15</b>. Some other means of measuring phase may be used. Some functions drawn as separate blocks may in fact, be performed by a microcontroller. Similarly, some of the functions assigned to the digitizer electronics may be performed by a more capable CPU in the host system.</p>
<p id="p-0073" num="0088">In one exemplary embodiment, the digitizer electronics <b>9</b> may be configured to perform a self-test, perhaps every time the sensor is powered up. It would check that each winding's A and B ends are electrically connected, and that no two windings are connected to one another. Quantitative measurements of capacitance (and, with suitable controlling electronics, mutual inductance) would also be possible.</p>
<p id="p-0074" num="0089">The application also comprises the following directed to various combinations of features.</p>
<p id="p-0075" num="0090">A1. A transducer for use in a position sensor, the transducer comprising:
<ul id="ul0011" list-style="none">
    <li id="ul0011-0001" num="0000">
    <ul id="ul0012" list-style="none">
        <li id="ul0012-0001" num="0091">a plurality of windings formed by conductors on one or more layers of a sensor board, for inductive or capacitive coupling with another object positioned on one side of the windings; and</li>
        <li id="ul0012-0002" num="0092">a conductor plane for reducing noise caused by objects positioned on an opposite side of the windings;</li>
        <li id="ul0012-0003" num="0093">wherein said conductor plane is formed from a plurality of interconnected conductive islands.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0076" num="0094">A2. A transducer according to clause A1, wherein said conductor plane is formed integrally with or separate from the sensor board.</p>
<p id="p-0077" num="0095">A3. A transducer according to clause A1 or A2, wherein said conductor plane is formed from a two dimensional array of interconnected conductive islands.</p>
<p id="p-0078" num="0096">A4. A transducer according to any of clauses A1 to A3, wherein said conductor plane is connected, in use, to ground.</p>
<p id="p-0079" num="0097">A5. A transducer according to any of clauses A1 to A4, wherein said conductive islands have the same shape or different shapes.</p>
<p id="p-0080" num="0098">B1. A transducer for use in a position sensor, the transducer comprising a plurality of conductive windings arrayed along a measurement path and each comprising one or more loop portions having ends for connection to detection circuitry for use in inductive sensing and one or more single ended conductive portions, each connected at one end to a loop portion and unconnected at the other end, for use in capacitive sensing.</p>
<p id="p-0081" num="0099">B2. A transducer according to clause B1, wherein said loop portions are for both inductive and capacitive sensing.</p>
<p id="p-0082" num="0100">B3. A transducer according to clause B1 or B2, further comprising detection circuitry coupled to said windings and having a first mode of operation in which signals inductively coupled to or from said windings are detected and a second mode of operation in which signals capacitively coupled to or from said windings are detected.</p>
<p id="p-0083" num="0101">C1. A capacitive position sensor comprising:
<ul id="ul0013" list-style="none">
    <li id="ul0013-0001" num="0000">
    <ul id="ul0014" list-style="none">
        <li id="ul0014-0001" num="0102">a plurality of conductive windings arrayed along a measurement path for capacitive coupling with another object; and</li>
        <li id="ul0014-0002" num="0103">a detector electrically coupled to said windings and operable to detect signals that vary with the capacitive coupling between said windings and said object;</li>
        <li id="ul0014-0003" num="0104">wherein each winding comprises a set of conductor traces distributed along the measurement path; and</li>
        <li id="ul0014-0004" num="0105">wherein the trace width and/or the separation between adjacent traces of the same winding varies along the measurement path.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0084" num="0106">C2. A capacitive position sensor according to clause C1, wherein said conductor traces extend substantially perpendicular to said measurement path.</p>
<p id="p-0085" num="0107">C3. A capacitive position sensor according to clause C1 or C2, wherein each of said windings is arranged so that its conductor traces are interleaved with the conductive traces of one or more adjacent windings.</p>
<p id="p-0086" num="0108">C4. A capacitive position sensor according to clause C1 or C2, wherein the density of conducting material of each winding varies along the measurement path.</p>
<p id="p-0087" num="0109">D1. A capacitive position sensor comprising:
<ul id="ul0015" list-style="none">
    <li id="ul0015-0001" num="0000">
    <ul id="ul0016" list-style="none">
        <li id="ul0016-0001" num="0110">a plurality of conductive windings arrayed along a measurement path for capacitive coupling with another object; and</li>
        <li id="ul0016-0002" num="0111">a detector electrically coupled to said windings and operable to detect signals that vary with the capacitive coupling between said windings and said object;</li>
        <li id="ul0016-0003" num="0112">wherein each winding comprises a set of electrically connected conductor traces distributed along the measurement path; and</li>
        <li id="ul0016-0004" num="0113">wherein each of said windings is arranged so that its conductor traces are interleaved between the conductor traces of one or more adjacent windings.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0088" num="0114">D2. A transducer according to clause D1, wherein said conductor traces extend substantially perpendicular to said measurement path.</p>
<p id="p-0089" num="0115">E1. A transducer for use in a position sensor, the transducer comprising:
<ul id="ul0017" list-style="none">
    <li id="ul0017-0001" num="0000">
    <ul id="ul0018" list-style="none">
        <li id="ul0018-0001" num="0116">a plurality of windings formed by conductors on one or more layers of a sensor board, for inductive or capacitive coupling with another object positioned on one side of the windings;</li>
        <li id="ul0018-0002" num="0117">a conductor plane for reducing noise caused by objects positioned on an opposite side of the windings; and</li>
        <li id="ul0018-0003" num="0118">a divided strike ring formed from a plurality of discrete conductor traces on an upper layer of the sensor board, which conductor traces extend around an outer periphery of the windings and are each electrically connected to said conductor plane.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0090" num="0119">F1. A computer device having a dual inductive and capacitive user interface, wherein the capacitive or the inductive operation of the interface can be inhibited and selectively provided in response to receipt of a command from a host of the computer device.</p>
<p id="p-0091" num="0120">F2. A computer device comprising:
<ul id="ul0019" list-style="none">
    <li id="ul0019-0001" num="0000">
    <ul id="ul0020" list-style="none">
        <li id="ul0020-0001" num="0121">a dual inductive and capacitive user interface;</li>
        <li id="ul0020-0002" num="0122">means for inhibiting the inductive or capacitive operation of the user interface;</li>
        <li id="ul0020-0003" num="0123">means for receiving a command to allow dual operation of said user interface; and</li>
        <li id="ul0020-0004" num="0124">means for deactivating said inhibiting means in response to receiving said command, to allow the user to interface with the computer device in both a capacitive and inductive manner.</li>
    </ul>
    </li>
</ul>
</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A transducer for use in a position sensor, the transducer comprising a single laminate sensor board carrying:
<claim-text>a plurality of windings formed by conductors on one or more layers of the sensor board, the windings being arrayed over a first area of the sensor board; and</claim-text>
<claim-text>detection circuitry mounted on another layer of the sensor board over a second area of the circuit board and electrically coupled to said windings, said detection circuitry having a first mode of operation in which signals inductively transmitted from or received by said windings are detected and a second mode of operation in which signals capacitively transmitted from or received by said windings are detected,</claim-text>
<claim-text>wherein said windings and said detection circuitry are arranged on said sensor board so that said first and second areas oppose each other;</claim-text>
<claim-text>wherein said sensor board comprises a conductor plane positioned in a layer different from the one or more layers in which said windings are arrayed and between the plurality of windings and said detection circuitry to reduce noise when said detection circuitry is operating in said second mode of operation; and</claim-text>
<claim-text>wherein said conductor plane is formed from a plurality of interconnected conductive islands to reduce eddy current noise when said detection circuitry is operating in said first mode of operation.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A transducer according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said conductor plane is formed from a two dimensional array of interconnected conductive islands.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A transducer according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said conductor plane is connected to a ground connection of said detection circuitry.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A transducer according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least one of said windings comprises conductor traces which form one or more conductive loops for inductive sensing and one or more single ended traces for capacitive sensing.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A transducer according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein each winding comprises conductor traces which form one or more conductive loops for inductive sensing and one or more single ended traces for capacitive sensing.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A transducer according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein said single ended traces are electrically connected at one end to a conductor trace which forms part of said conductive loops and is open circuit at the other end.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A transducer according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each winding is for sensing position along a measurement path and has a plurality of conductor traces that are distributed along the measurement path.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A transducer according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the conductor traces of adjacent windings are interleaved with each other along the measurement path.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A transducer according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the trace width of adjacent traces of the same winding and/or the separation between adjacent traces of the same winding varies along the measurement path.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A transducer according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the density of conducting material of each winding varies along the measurement path.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A transducer according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein said distributed traces extend substantially perpendicular to said measurement path.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A transducer according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, comprising two groups of windings, the windings in the first group for sensing position along a first measurement path and the windings in the second group for sensing position along a second different measurement path.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A transducer according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, comprising a divided strike ring formed from a plurality of conductor traces on an upper layer of the sensor board which extend around the periphery of the first area and which are electrically connected to said conductor plane.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. A transducer according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein said divided strike ring also comprises a plurality of conductor traces on a bottom layer of the sensor board which extend around the periphery of the first area and which are connected to said conductor plane.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. A transducer according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said detection circuitry is carried by a bottom layer of said sensor board.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. A transducer according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said windings are formed from conductor traces on a first, upper, layer of the sensor board and a second, lower, layer of the sensor board and wherein the traces on the second layer have a greater width than the traces on the first layer.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. A transducer according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein in said first mode of operation, said detection circuitry is operable to detect and process signals supplied to or received from said windings as a result of inductive coupling of the windings with an electromagnetic user device, to determine the position of the user device relative to the windings.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. A transducer according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein in said second mode of operation, said detection circuitry is operable to detect and process signals supplied to or received from said windings as a result of capacitive coupling of the windings with a user's finger or the like, to determine the position of the user's finger relative to the windings.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. A transducer according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said detection circuitry uses the same processing electronics to process the signals in said first and second modes of operation.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. A transducer according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said detection circuitry is operable, in said first mode of operation, to detect an EMF generated in each winding and is operable, in said second mode of operation, to detect an amount of current or charge supplied to each winding.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. A transducer for use in a position sensor, the transducer comprising a single laminate sensor board carrying:
<claim-text>a plurality of windings formed by conductors on one or more layers of the sensor board; and</claim-text>
<claim-text>detection circuitry mounted on another layer of the sensor board and positioned under, and electrically coupled to, said windings, said detection circuitry having a first mode of operation in which signals inductively coupled with said windings are detected and a second mode of operation in which signals capacitively coupled with said windings are detected;</claim-text>
<claim-text>wherein said sensor board comprises a conductor plane positioned in a layer different from the one or more layers in which said windings are arrayed and between the plurality of windings and said detection circuitry to reduce noise when said detection circuitry is operating in said second mode of operation; and</claim-text>
<claim-text>wherein said conductor plane is formed from a plurality of interconnected conductive islands to reduce eddy current noise when said detection circuitry is operating in said first mode of operation.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. A position sensor comprising a transducer according to <claim-ref idref="CLM-00001">claim 1</claim-ref> and processing circuitry for processing the detected signals and for determining the position of an object relative to the windings of said transducer.</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. A position sensor according to <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein said processing circuitry is carried by said sensor board. </claim-text>
</claim>
</claims>
</us-patent-grant>
