<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626388-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626388</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13319204</doc-number>
<date>20100511</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2009-116942</doc-number>
<date>20090513</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>45</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>B</section>
<class>60</class>
<subclass>G</subclass>
<main-group>17</main-group>
<subgroup>018</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>B</section>
<class>60</class>
<subclass>T</subclass>
<main-group>7</main-group>
<subgroup>12</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>F</section>
<class>16</class>
<subclass>M</subclass>
<main-group>1</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>701 37</main-classification>
<further-classification>701 70</further-classification>
<further-classification>701103</further-classification>
<further-classification>701104</further-classification>
<further-classification>26714014</further-classification>
<further-classification>267160</further-classification>
<further-classification>188378</further-classification>
</classification-national>
<invention-title id="d2e71">Sprung mass damping control system of vehicle, and vehicle provided with said system</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5226500</doc-number>
<kind>A</kind>
<name>Doi et al.</name>
<date>19930700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>180312</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5236182</doc-number>
<kind>A</kind>
<name>Aoki et al.</name>
<date>19930800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>26714014</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5537967</doc-number>
<kind>A</kind>
<name>Tashiro et al.</name>
<date>19960700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>7571712</doc-number>
<kind>B2</kind>
<name>Kuroda et al.</name>
<date>20090800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>123434</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2005/0049761</doc-number>
<kind>A1</kind>
<name>Kataoka et al.</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2005/0234620</doc-number>
<kind>A1</kind>
<name>Roll et al.</name>
<date>20051000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2006/0041353</doc-number>
<kind>A1</kind>
<name>Sawada et al.</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701 37</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2006/0052908</doc-number>
<kind>A1</kind>
<name>Matsumoto et al.</name>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701  1</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2010/0127442</doc-number>
<kind>A1</kind>
<name>Muragishi et al.</name>
<date>20100500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>26714014</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2010/0198485</doc-number>
<kind>A1</kind>
<name>Ohtsuka et al.</name>
<date>20100800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701103</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2010/0228465</doc-number>
<kind>A1</kind>
<name>Itabashi</name>
<date>20100900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701104</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2010/0241305</doc-number>
<kind>A1</kind>
<name>Itabashi et al.</name>
<date>20100900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701 34</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>EP</country>
<doc-number>1 632 382</doc-number>
<kind>A2</kind>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>EP</country>
<doc-number>2 078 653</doc-number>
<kind>A1</kind>
<date>20090700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>EP</country>
<doc-number>2 204 564</doc-number>
<kind>A1</kind>
<date>20100700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>JP</country>
<doc-number>A-7-91306</doc-number>
<date>19950400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>JP</country>
<doc-number>A-09-220919</doc-number>
<date>19970800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>JP</country>
<doc-number>A-2004-168148</doc-number>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>WO</country>
<doc-number>WO 2009/057750</doc-number>
<kind>A1</kind>
<date>20090500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00020">
<othercit>International Search Report issued in International Application No. PCT/IB2010/001072 dated Sep. 6, 2010.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00021">
<othercit>Written Opinion issued in International Application No. PCT/IB2010/001072 dated Sep. 6, 2010.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>5</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>701 37</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701 70</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701103</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701104</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>26714014</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>267160</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>188378</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>9</number-of-drawing-sheets>
<number-of-figures>10</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20120053790</doc-number>
<kind>A1</kind>
<date>20120301</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Oikawa</last-name>
<first-name>Yoshitaka</first-name>
<address>
<city>Susono</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Oikawa</last-name>
<first-name>Yoshitaka</first-name>
<address>
<city>Susono</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Oliff &#x26; Berridge, PLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Toyota Jidosha Kabushiki Kaisha</orgname>
<role>03</role>
<address>
<city>Toyota</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Trammell</last-name>
<first-name>James</first-name>
<department>3667</department>
</primary-examiner>
<assistant-examiner>
<last-name>Alsomiri</last-name>
<first-name>Majdi</first-name>
</assistant-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/IB2010/001072</doc-number>
<kind>00</kind>
<date>20100511</date>
</document-id>
<us-371c124-date>
<date>20111107</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2010/131093</doc-number>
<kind>A </kind>
<date>20101118</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A sprung mass damping control system of a vehicle, which suppresses sprung mass vibration generated in a vehicle body by adjusting a driving control amount of a drive source (the second motor-generator), includes a spring vibration control amount calculating device that sets a sprung mass damping control amount for suppressing the sprung mass vibration, a drive source control device (a motor-generator control device) that executes sprung mass damping control by controlling the driving control amount of the drive source to realize the sprung mass damping control amount, and a sprung mass damping control amount adjusting apparatus (a sprung mass damping control amount responsiveness compensating portion) that adjusts the phase of a sprung mass damping control signal related to the sprung mass damping control amount according to the situation. A vehicle is provided with this sprung mass damping control system.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="109.14mm" wi="141.05mm" file="US08626388-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="224.20mm" wi="158.33mm" file="US08626388-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="135.97mm" wi="161.37mm" file="US08626388-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="111.00mm" wi="161.37mm" file="US08626388-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="196.51mm" wi="165.27mm" orientation="landscape" file="US08626388-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="211.24mm" wi="182.88mm" orientation="landscape" file="US08626388-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="219.37mm" wi="159.26mm" file="US08626388-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="141.22mm" wi="147.15mm" file="US08626388-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="238.59mm" wi="176.36mm" file="US08626388-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="123.70mm" wi="163.66mm" file="US08626388-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">INCORPORATION BY REFERENCE</heading>
<p id="p-0002" num="0001">The disclosure of Japanese Patent Application No. 2009-116942 filed on May 13, 2009, including the specification, drawings and abstract is incorporated herein by references in its entirety.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The invention relates to a sprung mass damping control system of a vehicle, which suppresses sprung mass vibration generated in the body of a vehicle. The invention also relates to a vehicle provided with that sprung mass damping control system.</p>
<p id="p-0005" num="0004">2. Description of the Related Art</p>
<p id="p-0006" num="0005">Technology referred to as sprung mass damping control that suppresses sprung mass vibration generated in a vehicle body using predetermined vibration damping means is well known. For example, Japanese Patent Application Publication No. 2004-168148 (JP-A-2004-168148) describes a technology that controls the driving force of a vehicle in order to suppress sprung mass vibration in the vehicle. In the technology described in JP-A-2004-168148, the driving force is controlled by increasing or decreasing the engine torque. To perform this control, these technologies increase or decrease the engine torque as necessary by adjusting the intake air amount, the fuel injection amount, and the ignition timing and the like of the engine.</p>
<p id="p-0007" num="0006">Incidentally, Japanese Patent Application Publication No. 9-220919 (JP-A-9-220919) describes technology in which the phase of a control command signal of active suspension is adjusted.</p>
<p id="p-0008" num="0007">The engine which is a drive source operates in various states, e.g., at various speeds, while running. Therefore, in any given operating state, the wheel speed of the driving wheels is affected by the output of the engine and thus fluctuates. As a result, the output responsiveness of a sprung mass damping control amount (i.e.; a control amount for suppressing sprung mass vibration) that is obtained using this wheel speed may decrease. Also, it is conceivable that sprung mass damping control may be executed using the output from the motor-generator which is also a drive source. However, the output responsiveness of the sprung mass damping control amount obtained using this wheel speed may end up decreasing depending on the waveform signal modulation method when controlling that motor-generator. Furthermore, in a vehicle according to related art, the responsiveness of the drive source may also change for a reason other than those described here, which may result in reduced output responsiveness of the sprung mass damping control amount. In this way, in a vehicle according to related art, the responsiveness of the drive source may decrease in a given situation, which may end up reducing the output responsiveness of the sprung mass damping control amount. As a result, the damping effect of sprung mass damping control may decrease. That is, there is room for improvement in sprung mass damping control of the related art.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0009" num="0008">Thus, in view of the foregoing problems, the invention provides a sprung mass damping control system of a vehicle, which is capable of inhibiting a decrease in the precision of sprung mass damping control, as well as a vehicle provided with that sprung mass damping control system.</p>
<p id="p-0010" num="0009">Therefore, a first aspect of the invention relates to a sprung mass damping control system of a vehicle, which suppresses sprung mass vibration generated in a vehicle body by adjusting a driving control amount of a drive source. This sprung mass damping control system includes a spring vibration control amount calculating device that sets a sprung mass damping control amount for suppressing the sprung mass vibration, a drive source control device that executes sprung mass damping control by controlling the driving control amount of the drive source to realize the sprung mass damping control amount, and a sprung mass damping control amount adjusting apparatus that adjusts the phase or the amplitude of a sprung mass damping control signal related to the sprung mass damping control amount according to the situation.</p>
<p id="p-0011" num="0010">In this case, in the sprung mass damping control system described above, the drive source control device may execute sprung mass damping control by controlling a motor-generator control amount of a motor-generator that is driven by a waveform signal, or a motor control amount of a motor or a generator capable of operating as a motor that is driven by a waveform signal, and the sprung mass damping control amount adjusting apparatus may adjust the phase of the sprung mass damping control signal related to the sprung mass damping control amount according to the waveform signal.</p>
<p id="p-0012" num="0011">Also in the sprung mass damping control system described above, the drive source control device may execute sprung mass damping control by controlling a motor-generator control amount of a motor-generator that is driven by a waveform signal, or a motor control amount of a motor or a generator capable of operating as a motor that is driven by a waveform signal, and the sprung mass damping control amount adjusting apparatus may adjust the amplitude of the sprung mass damping control signal related to the sprung mass damping control amount according to the waveform signal.</p>
<p id="p-0013" num="0012">Also in the sprung mass damping control system described above, the drive source control device may execute sprung mass damping control by controlling a motor-generator control amount of a motor-generator, the waveform signal modulation method of which is able to be switched, or a motor control amount of a motor or a generator capable of operating as a motor, the waveform signal modulation method of which is able to be switched, and the sprung mass damping control amount adjusting apparatus may adjust the phase or the amplitude of the sprung mass damping control signal related to the sprung mass damping control amount according to the modulation method.</p>
<p id="p-0014" num="0013">Also in the sprung mass damping control system described above, the drive source control device may execute sprung mass damping control by controlling a motor-generator control amount of a motor-generator, the waveform signal modulation method of which is able to be switched, or a motor control amount of a motor or a generator capable of operating as a motor, the waveform signal modulation method of which is able to be switched, and the sprung mass damping control amount adjusting apparatus may adjust the sprung mass damping control amount when at least one of the amplitude or the frequency of the sprung mass damping, control signal according to the sprung mass damping control amount is within a predetermined range.</p>
<p id="p-0015" num="0014">In this case, the sprung mass damping control amount adjusting apparatus may reduce the sprung mass damping control amount when the modulation method is an overmodulation PWM control method and at least one of the amplitude or the frequency of the sprung mass damping control signal according to the sprung mass damping control amount is within the predetermined range.</p>
<p id="p-0016" num="0015">Also, another aspect of the invention relates to a vehicle which suppresses at least a fluctuation in wheel speed due to bumps and dips in a road surface by outputting a driving control amount of a drive source over which a waveform signal based on that fluctuation has been superimposed. In this vehicle, the phase of the waveform signal is advanced when the responsiveness of at least one of the drive source or a driving control amount transmitting apparatus that transmits a driving control amount output from the drive source to a driving wheel is low compared with when that responsiveness is high.</p>
<p id="p-0017" num="0016">The sprung mass damping control system of a vehicle and a vehicle provided with this sprung mass damping control system according to the invention compensates for variation in the output responsiveness of the sprung mass damping control amount by appropriately adjusting the sprung mass damping control amount, thereby enabling the desired sprung mass damping control to be executed.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0018" num="0017">The features, advantages, and technical and industrial significance of this invention will be described in the following detailed description of example embodiments of the invention with reference to the accompanying drawings, in which like numerals denote like elements, and wherein:</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram of one example of a vehicle to which the sprung mass damping control system according to the invention is applied;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 2</figref> is a view of an example of an engine control map;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 3</figref> is a view illustrating state variables of sprung mass vibration of the sprung mass damping control system and the vehicle according to the invention;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIGS. 4A and 4B</figref> are views in the form of control blocks showing frame formats of an example of the functional structure of a sprung mass damping control system;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 5</figref> is a diagram of an example of a dynamic motion model of assumed sprung mass vibration in the sprung mass damping control system and the vehicle according to the invention;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 6</figref> is a diagram illustrating another example of a dynamic motion model of assumed sprung mass vibration in the sprung mass damping control system and the vehicle according to the invention;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 7</figref> is a view in the form of control blocks showing a frame format of a specific example of a sprung mass damping control amount responsiveness compensating portion according to a first example embodiment of the invention;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 8</figref> is a flowchart illustrating an adjustment operation of the sprung mass damping control amount in the sprung mass damping control system and the vehicle according to a second example embodiment of the invention; and</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 9</figref> is an example of map data for determining whether the sprung mass damping control amount adjusting gain needs to be adjusted, according to the second example embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF EMBODIMENTS</heading>
<p id="p-0028" num="0027">Example embodiments of the sprung mass damping control system of a vehicle and a vehicle provided with this sprung mass damping control system according to the invention will be described in greater detail below with reference to the accompanying drawings, but the invention is not limited to these example embodiments.</p>
<p id="p-0029" num="0028">First, a sprung mass damping control system of a vehicle and a vehicle provided with that sprung mass damping control system according to a first example embodiment of the invention will be described with reference to <figref idref="DRAWINGS">FIGS. 1 to 7</figref>.</p>
<p id="p-0030" num="0029">A vehicle to which the sprung mass damping control system according to the first example embodiment can be applied is a vehicle that is provided with at least a motor-generator as a drive source. The vehicle may be a so-called hybrid vehicle that also has an engine as a drive source, or an electric vehicle that has only a motor-generator as the drive source. In this first example embodiment, the vehicle described is a hybrid vehicle.</p>
<p id="p-0031" num="0030">The hybrid vehicle described here is provided with an engine <b>10</b>, a power split device <b>20</b>, a first motor-generator <b>31</b>, a second motor-generator <b>32</b>, and a power transmission device <b>50</b>, as shown in <figref idref="DRAWINGS">FIG. 1</figref>. The power split device <b>20</b> splits (i.e., distributes) engine torque output from the engine <b>10</b>. The first motor-generator <b>31</b> operates mainly as a generator using some of the engine torque distributed by the power split device <b>20</b> (hereinafter this torque will be referred to as &#x201c;first split torque&#x201d;). The second motor-generator <b>32</b> operates mainly as a motor using the power generated by the first motor-generator <b>31</b> and/or power from a battery <b>41</b>. The power transmission device <b>50</b> transmits output torque from the drive source to driving wheels Wh and Wh (i.e., drive shafts (Ds and Ds).</p>
<p id="p-0032" num="0031">The hybrid vehicle is also provided with an electronic control unit <b>101</b> that controls the operation of the entire vehicle (hereinafter, this electronic control unit will be referred to as the &#x201c;main ECU <b>101</b>&#x201d;), an electronic control unit <b>102</b> that controls the operation of the engine <b>10</b> (hereinafter, this electronic control unit will be referred to as the &#x201c;engine ECU <b>102</b>&#x201d;), and an electronic control unit <b>103</b> that controls the operation of both the first motor-generator <b>31</b> and the second motor-generator <b>32</b> (hereinafter, this electronic control unit will be referred to as the &#x201c;motor-generator ECU <b>103</b>&#x201d;). The main ECU <b>101</b> is connected to the engine ECU <b>102</b> and the motor-generator ECU <b>103</b>, such that signals and commands, such as detections signals from various sensors and control commands, can be transmitted between them. The main ECU <b>101</b>, the engine ECU <b>102</b>, and the motor-generator ECU <b>103</b> are each formed of, for example, a CPU (Central Processing Unit), ROM (Read Only Memory) in which predetermined control programs and the like are stored in an advance, RAM (Random Access Memory) that temporarily stores the calculation results of the CPU, and backup RAM which stores information such as map data that has been prepared in advance, none of which are shown. The sprung mass damping control system of a vehicle according to this first example embodiment is formed of the main ECU <b>101</b>, the engine ECU <b>102</b>, and the motor-generator ECU <b>103</b>.</p>
<p id="p-0033" num="0032">The engine <b>10</b> is a heat engine such as an internal combustion engine or an external combustion engine that converts heat energy into mechanical energy. As an example in this case, the engine <b>10</b> is an internal combustion engine that is a reciprocating piston engine in which pistons are forced back and forth by combusting fuel in a Combustion chamber, not shown, so as to generate mechanical power (i.e., engine torque) in an output shaft (i.e., a crankshaft) <b>11</b>.</p>
<p id="p-0034" num="0033">The engine <b>10</b> is provided with an electronically controlled throttle device, a fuel injection device, and an ignition device, and the like, none of which are shown. These devices are controlled by the engine ECU <b>102</b>. In this first example embodiment, the main ECU <b>101</b> sets the control amount of the engine <b>10</b> (i.e., the engine control amount as the driving control amount), and the engine ECU <b>102</b>, which receives information regarding the engine control amount from the main ECU <b>101</b>, controls the engine <b>10</b>. That is, the main ECU <b>101</b> includes an engine control amount calculating device that sets the engine control amount, and the engine ECU <b>102</b> includes an engine control device that serves as a drive source control device that controls the engine <b>10</b>. The engine control amount refers to the required engine torque Ter to be generated at the output shaft <b>11</b>, and the required engine speed Ner when generating this required engine torque Ter.</p>
<p id="p-0035" num="0034">The engine control amount calculating device of the main ECU <b>101</b> sets the required engine torque Ter and the required engine speed Ner using the engine control map shown in <figref idref="DRAWINGS">FIG. 2</figref>, for example.</p>
<p id="p-0036" num="0035">The engine control map shown in <figref idref="DRAWINGS">FIG. 2</figref> is one example of map data indicative of operating points of the engine <b>10</b> that correspond to the engine speed Ne and the engine torque Te, for deriving operating points (Ne and Te) for generating required engine power Per while maintaining fuel efficiency. This engine control map has a fuel efficiency line L<b>1</b> plotted by combinations of the engine speed Ne and the engine torque Te which exhibit good fuel efficiency characteristics of the engine <b>10</b>, and a constantly required engine power line L<b>2</b> plotted by combinations of the engine speed Ne and the engine torque Te which generate the required engine power Per. The engine control amount calculating device obtains as an operating point the point of intersection of the fuel efficiency line L<b>1</b> and the constantly required engine power line L<b>2</b> according to the required engine power Per on this engine control map, and sets the engine speed Ne and the engine torque Te at that point of intersection as the required engine speed Ner and the required engine torque Ter.</p>
<p id="p-0037" num="0036">Here, this required engine power Per is obtained based on the driving torque Twr at the driving wheels Wh and Wh (i.e., the drive shafts Ds and Ds) corresponding to the driving force required by the driver (hereinafter, referred to as the &#x201c;driver required torque&#x201d;), the angular velocity &#x3c9;<b>0</b> of the driving wheels Wh and Wh which is detected by a wheel speed sensor <b>62</b> or the vehicle speed V which is detected by a vehicle speed sensor <b>61</b>, and the SOC (state-of-charge) of the battery <b>41</b>. The driving force required by the driver refers to the accelerator operation amount &#x3b8;a detected by an accelerator operation amount sensor <b>63</b>, for example. Also, the motor-generator ECU <b>103</b> ascertains the SOC of the battery <b>41</b> via an inverter <b>42</b>, and outputs this information to the main ECU <b>101</b>. The required engine power Per is calculated by the engine control amount calculating device of the main ECU <b>101</b>. Incidentally, in an FR (front engine, rear drive) vehicle, the rotation speed of a propeller shaft, not shown, or the like may be used instead of the vehicle speed V and the angular velocity &#x3c9;<b>0</b>.</p>
<p id="p-0038" num="0037">The main ECU <b>101</b> is connected to the vehicle speed sensor <b>61</b>, the wheel speed sensor <b>62</b>, and the accelerator operation amount sensor <b>63</b>. Also, the main ECU <b>101</b> receives information regarding the shift position SHp of a transmission from a shift position sensor <b>64</b>. In this hybrid vehicle, the power split device <b>20</b> functions as the transmission. The driver required torque calculating device of the main ECU <b>101</b> obtains the driver required torque Twr based on the accelerator operation amount &#x3b8;a, the shift position SHp, and the vehicle speed V or the angular velocity &#x3c9;<b>0</b> of the driving wheels Wh and Wh. Also, when using the detection signal from the vehicle speed sensor <b>61</b>, the engine control amount calculating device of the main ECU <b>101</b> obtains the angular velocity &#x3c9;<b>0</b> of the driving wheels Wh and Wh (i.e., the drive shafts Ds and Ds) based on that detection signal. The engine control amount calculating device then obtains the required engine power Per by multiplying the driver required torque Twr by the angular velocity &#x3c9;<b>0</b>, and adding a correction power Pbat that corresponds to the information of the SOC of the battery <b>41</b> to the product. This correction power Pbat results in an increase in the amount of the first split torque by the amount of the correction power Pbat, and thus an increase in the amount of power generated by the first motor-generator <b>31</b> by the amount of the correction power Pbat. Therefore, this correction power Pbat increases as the required SOC of the battery <b>41</b> increases, for example.</p>
<p id="p-0039" num="0038">The engine control amount calculating device outputs information related to the required engine torque Ter and the required engine speed Ner calculated and set as described above to the engine ECU <b>102</b>. The engine control device of the engine ECU <b>102</b> controls the throttle opening amount and the like to realize the set required engine torque Ter and the set required engine speed Ner. As a result, the engine <b>10</b> rotates the output shaft <b>11</b> at the required engine speed Ner and generates the required engine torque Ter.</p>
<p id="p-0040" num="0039">The first and second motor-generators <b>31</b> and <b>32</b> are structured as well-known synchronous motor-generators able to be driven as a motor or a generator, and send or receive power to or from the battery <b>41</b> via the inverter <b>42</b>. The inverter <b>42</b> is controlled by a motor-generator control device, which functions as a drive source control device, of the motor-generator ECU <b>103</b>.</p>
<p id="p-0041" num="0040">For example, when generating the required vehicle driving torque Tdr as the required vehicle driving amount at the driving wheels Wh and Wh using only the motor-generator torque (more specifically, the output torque generated by the motor-generator operating as a motor), the motor-generator control amount calculating device of the main ECU <b>101</b> obtains a target motor-generator torque for the second motor-generator <b>32</b> based on that required vehicle driving torque Tdr and the gear ratio of the power transmission device <b>50</b>. This target motor-generator is the required motor-generator torque Tmg<b>2</b><i>r </i>of the second motor-generator <b>32</b>. The motor-generator control amount calculating device then instructs the motor-generator ECU <b>103</b> to control the inverter <b>42</b> so that the second motor-generator <b>32</b> generates that required motor-generator torque Tmg<b>2</b><i>r</i>. As a result, the second motor-generator <b>32</b> outputs that required motor-generator torque Tmg<b>2</b><i>r </i>(in this case, the output torque of the motor-generator operating as a generator), and generates the required vehicle driving torque Tdr at the driving wheels Wh and Wh.</p>
<p id="p-0042" num="0041">The required vehicle driving torque Tdr refers to the vehicle driving torque ultimately required at the driving wheels Wh and Wh, and is set by the required vehicle driving torque calculating device, which serves as the required vehicle driving amount calculating device, of the main ECU <b>100</b>. For example, the required vehicle driving torque Tdr is mainly torque that takes into account the HV basic performance compensation amount required to compensate for a decrease in the basic performance required of the hybrid vehicle (hereinafter, referred to as the &#x201c;HV basic performance&#x201d;). This HV basic performance includes, for example, drivability, gear grinding noise and vibration performance (so-called &#x201c;sound vibration performance&#x201d;), battery input/output, power input/output between the engine <b>10</b> and the motor-generator (i.e., the first and second motor-generators <b>31</b> and <b>32</b>) in order to keep the battery input/output within a specified range, and the protection of parts and the like. Also, the HV basic performance compensation amount is a value set according to the difference between the current vehicle state and the HV basic performance, and is for example a correction coefficient or a correction value necessary for maintaining the HV basic performance. The required vehicle driving torque calculating device includes an HV basic performance maintaining portion. If the vehicle state falls outside of the HV basic performance, this HV basic performance maintaining portion sets the HV basic performance compensation amount according to the difference between the current vehicle state and the HV basic performance. This HV basic performance compensation amount is prepared as map data in advance, and may be derived from this map data using the current vehicle state, e.g., the vehicle speed and the SOC of the battery <b>41</b> or the like, as parameters. The required vehicle driving torque calculating device multiplies the driver required torque Twr by a correction coefficient, or divides the driver required torque Twr by a correction coefficient, or adds a correction coefficient to the driver required torque Twr, or subtracts a correction coefficient from the driver required torque Twr, and sets a required vehicle driving torque Tdr in which that driver required torque Twr has been increased or decreased to a value that can maintain the fly basic performance. Incidentally, the hybrid vehicle may also be a four-wheel-drive vehicle in which either the front wheels or the rear wheels are driven by the engine and the other wheels are driven by the motor-generator.</p>
<p id="p-0043" num="0042">Here, in this hybrid vehicle, braking force may be applied to the controlled wheels such as the driving wheels Wh and Wh to stabilize the vehicle behavior. Also, the driver may switch from an accelerator operation to a brake operation. In this case, braking torque Tb corresponding to the required braking force is applied to the driving wheels Wh and Wh. Therefore, when braking force is generated, the braking torque Tb is subtracted from the driver required torque Twr and the HV basic performance compensation amount is determined according to this subtracted value.</p>
<p id="p-0044" num="0043">The power split device <b>20</b> is formed as a planetary gear set that has a sun gear which is a gear with external teeth, a ring gear which is a gear with internal teeth that is arranged concentric with the sun gear, a plurality of pinions that are in mesh with both the sun gear and the ring gear, and a planetary carrier that pivotally and rotatably retains these pinions, none of which are shown. This power split device <b>20</b> performs a differential operation, with the sun gear, the ring gear, and the planetary carrier serving as rotating elements. The sun gear is coupled to a rotating shaft <b>31</b><i>a </i>of the first motor-generator <b>31</b>. The ring gear is coupled via a ring gear shaft to a reduction gear of the power transmission device <b>50</b> which is formed of a reduction gear and a differential gear unit and the like. In this power transmission device <b>50</b>, the reduction gear is coupled to a rotating shaft <b>32</b><i>a </i>of the second motor-generator <b>32</b>, and the differential gear unit is coupled to the drive shafts Ds and Ds of the driving wheels Wh and Wh. Also, the planetary carrier is coupled to the output shaft <b>11</b> of the engine <b>10</b>.</p>
<p id="p-0045" num="0044">In the power split device <b>20</b>, the engine torque is distributed and transmitted via the planetary carrier to the sun gear and the ring gear which are in mesh with the pinions that are supported on the planetary carrier. This distribution ratio is determined by the gear ratio of the sun gear and the ring gear. The first split torque is transmitted to the sun gear, and the rest of the engine torque (hereinafter, referred to as the &#x201c;second split torque&#x201d;) is transmitted to the ring gear.</p>
<p id="p-0046" num="0045">The first split torque that is transmitted to the sun gear makes the first motor-generator <b>31</b> operate as a generator. At this time, the power generated by the first motor-generator <b>31</b> is output to the inverter <b>42</b>, after which it is used to charge the battery <b>41</b> or supplied to the second motor-generator <b>32</b>. The second split torque that is transmitted to the ring gear is used to directly drive the drive shafts Ds and Ds via the power transmission device <b>50</b>. Also, this power split device <b>20</b> can also be used to control the amount of engine torque by adjusting the motor-generator torque Tmg<b>1</b> of the first motor-generator <b>31</b>.</p>
<p id="p-0047" num="0046">In this hybrid vehicle, when external force or torque (i.e., disturbance) is applied to the wheels of the hybrid vehicle due to dips and bumps in the road and the like when the hybrid vehicle is traveling, that external force and the like is transmitted to the vehicle body via the wheels and suspension, not shown. Therefore, input from the road while the vehicle is traveling may cause vibrations of 1 to 4 Hz, or more accurately, approximately 1.5 Hz, in the vehicle body via the wheels and suspension. This sprung mass vibration has two components, i.e., a component in the vertical direction (Z direction) of the hybrid vehicle (the vehicle center of gravity Cg, strictly speaking) (hereinafter, this component will be referred to as &#x201c;bounce vibration&#x201d;), and a component in the pitch direction (&#x3b8; direction) about the vehicle center of gravity Cg (hereinafter, this component will be referred to as &#x201c;pitch vibration&#x201d;), as shown in <figref idref="DRAWINGS">FIG. 3</figref>. When sprung mass vibration occurs, at least one of bounce vibration or pitch vibration is generated. Incidentally, <figref idref="DRAWINGS">FIG. 3</figref> shows an example of the posture of the hybrid vehicle during nose lift. Also, similar sprung mass vibration (i.e., at least one of bounce vibration or pitch vibration) may also be generated in the hybrid vehicle if the engine <b>10</b> or the first and second motor-generators <b>31</b> and <b>32</b>, which serve as vehicle drive apparatuses, start to operate based on the driving force required by the driver or the like such that there is a fluctuation in the wheel torque (i.e., the wheel driving force) of the driving wheels Wh and Wh.</p>
<p id="p-0048" num="0047">The hybrid vehicle according to this first example embodiment has a sprung mass damping control system that performs sprung mass damping control to suppress sprung mass vibration. The sprung mass damping control system in this first example embodiment aims to suppress sprung mass vibration generated in the vehicle body by adjusting the motor-generator torque Tmg<b>2</b> of the second motor-generator <b>32</b> to increase or decrease the wheel torque of the driving wheels Wh and Wh. This sprung mass damping control system is formed by the main ECU <b>101</b>, the engine ECU <b>102</b>, and the motor-generator ECU <b>103</b>, as described above.</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIGS. 4A and 4B</figref> are control block diagrams showing frame formats of the structure of this sprung mass damping control system.</p>
<p id="p-0050" num="0049">This sprung mass damping control system has a driver required torque calculating device <b>1</b>, a required vehicle driving torque calculating device <b>2</b>, an engine control amount calculating device <b>3</b>, an engine controlling device <b>4</b>, a sprung mass damping control amount calculating device <b>5</b>, a motor-generator controlling device <b>6</b>, and a motor-generator control amount calculating device <b>7</b>. The driver required torque calculating device <b>1</b> sets the driver required torque Twr at the driving wheels Wh and Wh corresponding to the driving force required by the driver. The required vehicle driving torque calculating device <b>2</b> obtains the vehicle driving torque (i.e., the required vehicle driving torque Tdr) ultimately required at the driving wheels Wh and Wh of the hybrid vehicle. The engine control amount calculating device <b>3</b> sets the engine control amount (i.e., the required engine torque Ter and the required engine speed Ner) corresponding to that driver required torque Twr and the like. The engine control device <b>4</b> controls the engine <b>10</b> based on that engine control amount. The sprung mass damping control amount calculating device <b>5</b> sets the sprung mass damping control amount for suppressing sprung mass vibration of the vehicle body (i.e., bounce vibration and pitch vibration). The motor-generator control device <b>6</b> functions as a sprung mass damping control executing device that executes sprung mass damping control by adjusting the motor-generator torque. The motor-generator control amount calculating device <b>7</b> sets that motor-generator torque (i.e., the motor-generator control amount as the driving control amount). As described above, the driver required torque calculating device <b>1</b>, the required vehicle driving torque calculating device <b>2</b>, the engine control amount calculating device <b>3</b>, and the motor-generator control amount calculating device <b>7</b> are provided in the main ECU <b>101</b>. Also, the engine control device <b>4</b> is provided in the engine ECU <b>102</b>, and the motor-generator control device <b>6</b> is provided in the motor-generator ECU <b>103</b>. In this first example embodiment, the sprung mass damping control amount calculating device <b>5</b> is provided in the main ECU <b>101</b>.</p>
<p id="p-0051" num="0050">As shown in <figref idref="DRAWINGS">FIG. 4B</figref> as well, the driver required torque calculating device <b>1</b> obtains the driver required torque Twr based on the shift position SHp, the accelerator operation amount &#x3b8;a, and the vehicle speed or the angular velocity &#x3c9;<b>0</b> of the driving wheels Wh and Wh. This driver required torque Twr is the wheel torque that is generated at the driving wheels Wh and Wh to obtain the driving force required by the driver, and is vehicle driving torque that corresponds to the driving force required by the driver. This driver required torque Twr is transmitted to the required vehicle driving torque calculating device <b>2</b>, the engine control amount calculating device <b>3</b>, and the sprung mass damping control amount calculating device <b>5</b>.</p>
<p id="p-0052" num="0051">The required vehicle driving torque calculating device <b>2</b> includes an adder <b>2</b><i>a </i>that receives driver required torque Twr and the sprung mass damping control amount (i.e., sprung mass damping control torque Twc which will be described later) that is set by the sprung mass damping control amount calculating device <b>5</b>. This adder <b>2</b><i>a </i>adds the sprung mass damping control torque Twc to the driver required torque Twr. The added value is the required vehicle driving torque Td for the driving wheels Wh and Wh to achieve both the driving force required by the driver and sprung mass damping control. If the sprung mass damping control torque Twc is a positive value, the required vehicle driving torque Td is greater than the driver required torque Twr. If on the other hand the sprung mass damping control torque Twc is a negative value, the required vehicle driving torque Td is less than the driver required torque Twr.</p>
<p id="p-0053" num="0052">Also, the required vehicle driving torque calculating device <b>2</b> has a braking torque calculating portion <b>2</b><i>b </i>that sets the braking torque Tb described above, and a subtracter <b>2</b><i>c </i>that subtracts this braking torque Tb from the required vehicle driving torque Td obtained by the adder <b>2</b><i>a</i>. Therefore, when braking force is generated, the subtracted value in the subtracter <b>2</b><i>c </i>is set as the required vehicle driving torque Td (i.e., Td&#x2190;Td&#x2212;Tb). Incidentally, when braking force is not generated, the braking torque Tb is 0 so even after the subtracter <b>2</b><i>c</i>, the sum obtained in the adder <b>2</b><i>a </i>is the required vehicle driving torque Td.</p>
<p id="p-0054" num="0053">Also, the required vehicle driving torque calculating device <b>2</b> is provided with a HV basic performance maintaining portion <b>2</b><i>d </i>that obtains the HV basic performance maintaining value described above. For example, in this case, it is assumed that a correction value which is added to the required vehicle driving torque Td that has been through the subtracter <b>2</b><i>c </i>is obtained as the HV basic performance maintaining value. The HV basic performance maintaining value Thy is obtained as a positive or negative value according to the current vehicle state and the HV basic performance. The required vehicle driving torque calculating device <b>2</b> is provided with an adder <b>2</b><i>e </i>which adds the required vehicle driving torque Td that has been through the subtracter <b>2</b><i>c </i>to the HV basic performance maintaining value Thv. Therefore, the added value of the adder <b>2</b><i>e </i>becomes the required vehicle driving torque Td for the driving wheels Wh and Wh (i.e., Td&#x2190;Td+Thv). Then the required vehicle driving torque calculating device <b>2</b> sets the required vehicle driving torque Td that has been through the adder <b>2</b><i>e </i>as the final required vehicle driving torque Tdr. This final required vehicle driving torque Tdr is the vehicle driving torque at the driving wheels Wh and Wh that is able to satisfy all of i) the driving force required by the driver, ii) sprung mass damping control, and iii) HV basic performance. In this first example embodiment, this final required vehicle driving torque. Tdr is output to the motor-generator control amount calculating device <b>7</b>.</p>
<p id="p-0055" num="0054">As described above, the driver required torque Twr is also input to the engine control amount calculating device <b>3</b>. In this first example embodiment, the engine control amount (i.e., the required engine torque Ter and the required engine speed Ner) corresponding to the driver required torque Twr is set by the engine control amount calculating device <b>3</b>, and the driving force corresponding to the driving force required by the driver is generated by the output of the engine <b>10</b>.</p>
<p id="p-0056" num="0055">The engine control amount calculating device <b>3</b> also receives information related to the vehicle speed V or the angular velocity &#x3c9;<b>0</b> of the driving wheels Wh and Wh, and information related to the SOC of the battery <b>41</b>. The engine control amount calculating device <b>3</b> multiplies the angular velocity &#x3c9;<b>0</b> of the driving wheels Wh and Wh by the driver required torque Twr with a multiplier <b>3</b><i>a</i>. The multiplied value is the required vehicle power at the driving wheels Wh and Wh. This engine control amount calculating device <b>3</b> converts that multiplied value into engine power Pe in an engine power converting portion <b>3</b><i>b</i>. The engine power converting portion <b>3</b><i>b </i>takes the gear ratio of the power transmission apparatus such as the power transmission device <b>50</b> and the power split mechanism <b>20</b> into account at the time of this conversion. This engine control amount calculating device <b>3</b> obtains the required engine power Per for the engine <b>10</b> by adding the correction power Pbat that corresponds to the information related to the SOC of the battery <b>41</b> to the engine power Pe in the adder <b>3</b><i>c</i>. Then the engine control amount calculating device <b>3</b> checks the required engine power Per on the engine control map in <figref idref="DRAWINGS">FIG. 2</figref> described above, and obtains the engine control amount (i.e., the required engine torque Ter and the required engine speed Ner). The required engine torque Ter and the required engine speed Ner are then output to the engine control device <b>4</b>. Also, the required engine torque Ter is converted into required vehicle driving torque Tder from the engine output at the driving wheels Wh and Wh with a driving torque converting portion <b>3</b><i>d</i>. This driving torque converting portion <b>3</b><i>d </i>takes the gear ratio of the power transmission apparatus into account at the time of this conversion. The required vehicle driving torque Tder from the engine output is output to the motor-generator control amount calculating device <b>7</b>.</p>
<p id="p-0057" num="0056">The engine control device <b>4</b> controls the throttle opening amount and the like to achieve the received engine control amount (i.e., the required engine torque Ter and the required engine speed Ner) so that driving force corresponding to the driving force required by the driver is generated in the vehicle.</p>
<p id="p-0058" num="0057">The sprung mass damping control in the first example embodiment is executed by obtaining the sprung mass damping control amount for suppressing sprung mass vibration generated in the vehicle body, and generating this sprung mass damping control amount in the vehicle body using the motor-generator torque Tmg<b>2</b> of the second motor-generator <b>32</b>, as described above. This sprung mass damping control amount may be obtained using a well-known method in this technical field, and is calculated by the sprung mass damping control amount calculating device <b>5</b>. For example, a motion model of the sprung mass vibration (i.e., bounce vibration and pitch vibration) of the vehicle is created, and the sprung mass damping control amount calculating device <b>5</b> calculates the state variables of the sprung mass vibration with this motion model. These state variables of the sprung mass vibration are i) the displacements z and &#x3b8; of the vehicle body when the driver required torque Twr at the driving wheels Wh and Wh corresponding to the driving force required by the driver (i.e., the required wheel torque of the driving wheels Wh and Wh corresponding to the driving force required by the driver) and the current wheel torque at the driving wheels Wh and Wh (more specifically, the estimated value of that wheel torque) are input to the motion model, and the rate of changes dz/dt and d&#x3b8;/dt of those displacements. This sprung mass damping control amount calculating device <b>5</b> obtains the wheel torque of the driving wheels Wh and Wh that brings the state variables of the sprung mass vibration to 0 or the minimum value, and then sets this as the sprung mass damping control torque Twc (i.e., the sprung mass damping control amount).</p>
<p id="p-0059" num="0058">More specifically, the sprung mass damping control amount calculating device <b>5</b> is provided with a feed-forward control portion <b>5</b><i>a </i>and a feedback control portion <b>5</b><i>b. </i></p>
<p id="p-0060" num="0059">The feed-forward control portion <b>5</b><i>a </i>has the structure of a so-called optimum regulator, and includes a motion model portion <b>5</b><i>a</i><sub>1 </sub>and a driver required torque correcting portion <b>5</b><i>a</i><sub>2</sub>. In this feed-forward control portion <b>5</b><i>a</i>, the driver required torque Twr is input to the motion model portion <b>5</b><i>a</i><sub>1 </sub>of the sprung mass vibration of the vehicle body. This motion model portion <b>5</b><i>a</i><sub>1 </sub>is used to calculate the response of the state variables of the vehicle body with respect to the input driver required torque Twr. Also, the driver required torque correcting portion <b>5</b><i>a</i><sub>2 </sub>is used to calculate a correction amount of the driver required torque Twr to minimize those state variables.</p>
<p id="p-0061" num="0060">The feedback control portion <b>5</b><i>b </i>also has the structure of an optimum regulator. In this feedback control portion <b>5</b><i>b</i>, the wheel torque estimated value Tw at the driving wheels Wh and Wh is calculated by a wheel torque estimator <b>5</b><i>b</i><sub>1</sub>, as will be described later. Then FB gain (i.e., gain for adjusting the balance of the contribution of the wheel torque estimated value Tw and the driver required torque Twr, in the motion model portion <b>5</b><i>a</i><sub>1</sub>) is multiplied by that wheel torque estimated value Tw.</p>
<p id="p-0062" num="0061">The wheel torque estimated value Tw that has been multiplied by the FB gain is then added to the driver required torque Twr in the feed-forward control portion <b>5</b><i>a </i>and to the motion model portion <b>5</b><i>a</i><sub>1 </sub>as disturbance input. As a result, the correction amount of the driver required torque Twr for the disturbance is also calculated in this feed-forward control portion <b>5</b><i>a. </i></p>
<p id="p-0063" num="0062">In this way, in this sprung mass damping control, an equation-of-state of the state variables of the bounce direction and the pitch direction into which the driver required torque Twr and the wheel torque estimated value Tw (i.e., the disturbance) has been input is formed assuming a dynamic motion model of the sprung mass vibration (i.e., bounce vibration and pitch vibration) of the vehicle body. Then in this sprung mass damping control, an input (torque value) that brings the state variables of the bounce direction and the pitch direction to 0 using the theory of the optimum regulator is determined from that equation-of-state, and that torque value is made the sprung mass damping control amount (i.e., sprung mass damping control torque Twc).</p>
<p id="p-0064" num="0063">An example of this dynamic motion model is a model in which the vehicle body is regarded as mass M and a rigid body S of the inertia moment I, and this rigid body S is supported by front-wheel suspension with a modulus of elasticity kf and an attenuation rate cf, and rear-wheel suspension with a modulus of elasticity kr and an attenuation rate cr (a sprung mass vibration model for the vehicle body). The equation of motion in the bounce direction and the equation of motion in the pitch direction at the vehicle center of gravity Cg in this case may be as illustrated in Expressions 1 and 2 below, respectively.</p>
<p id="p-0065" num="0064">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mstyle>
          <mspace width="4.4em" height="4.4ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mrow>
          <mo>[</mo>
          <mrow>
            <mi>Expression</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>1</mn>
          </mrow>
          <mo>]</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>M</mi>
          <mo>&#x2062;</mo>
          <mfrac>
            <mrow>
              <msup>
                <mo>&#x2146;</mo>
                <mn>2</mn>
              </msup>
              <mo>&#x2062;</mo>
              <mi>z</mi>
            </mrow>
            <mrow>
              <mo>&#x2146;</mo>
              <msup>
                <mi>t</mi>
                <mn>2</mn>
              </msup>
            </mrow>
          </mfrac>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mo>-</mo>
            <mrow>
              <mi>kf</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>z</mi>
                  <mo>+</mo>
                  <mrow>
                    <mi>Lf</mi>
                    <mo>&#xd7;</mo>
                    <mi>&#x3b8;</mi>
                  </mrow>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>-</mo>
          <mrow>
            <mi>cf</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mfrac>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>z</mi>
                  </mrow>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>t</mi>
                  </mrow>
                </mfrac>
                <mo>+</mo>
                <mrow>
                  <mi>Lf</mi>
                  <mo>&#xd7;</mo>
                  <mfrac>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>&#x3b8;</mi>
                    </mrow>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>t</mi>
                    </mrow>
                  </mfrac>
                </mrow>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>-</mo>
          <mrow>
            <mi>kr</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>z</mi>
                <mo>-</mo>
                <mrow>
                  <mi>Lr</mi>
                  <mo>&#xd7;</mo>
                  <mi>&#x3b8;</mi>
                </mrow>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>-</mo>
          <mrow>
            <mi>cr</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mfrac>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>z</mi>
                  </mrow>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>t</mi>
                  </mrow>
                </mfrac>
                <mo>-</mo>
                <mrow>
                  <mi>Lr</mi>
                  <mo>&#xd7;</mo>
                  <mfrac>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>&#x3b8;</mi>
                    </mrow>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>t</mi>
                    </mrow>
                  </mfrac>
                </mrow>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mstyle>
          <mspace width="4.4em" height="4.4ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mrow>
          <mo>[</mo>
          <mrow>
            <mi>Expression</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>2</mn>
          </mrow>
          <mo>]</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>I</mi>
          <mo>&#x2062;</mo>
          <mfrac>
            <mrow>
              <msup>
                <mo>&#x2146;</mo>
                <mn>2</mn>
              </msup>
              <mo>&#x2062;</mo>
              <mi>&#x3b8;</mi>
            </mrow>
            <mrow>
              <mo>&#x2146;</mo>
              <msup>
                <mi>t</mi>
                <mn>2</mn>
              </msup>
            </mrow>
          </mfrac>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mrow>
              <mo>-</mo>
              <mi>Lf</mi>
            </mrow>
            <mo>&#x2062;</mo>
            <mrow>
              <mo>{</mo>
              <mrow>
                <mrow>
                  <mi>kf</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>z</mi>
                      <mo>+</mo>
                      <mrow>
                        <mi>Lf</mi>
                        <mo>&#xd7;</mo>
                        <mi>&#x3b8;</mi>
                      </mrow>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>+</mo>
                <mrow>
                  <mi>cf</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mfrac>
                        <mrow>
                          <mo>&#x2146;</mo>
                          <mi>z</mi>
                        </mrow>
                        <mrow>
                          <mo>&#x2146;</mo>
                          <mi>t</mi>
                        </mrow>
                      </mfrac>
                      <mo>+</mo>
                      <mrow>
                        <mi>Lf</mi>
                        <mo>&#xd7;</mo>
                        <mfrac>
                          <mrow>
                            <mo>&#x2146;</mo>
                            <mi>&#x3b8;</mi>
                          </mrow>
                          <mrow>
                            <mo>&#x2146;</mo>
                            <mi>t</mi>
                          </mrow>
                        </mfrac>
                      </mrow>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mo>}</mo>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mi>Lr</mi>
            <mo>&#x2062;</mo>
            <mrow>
              <mo>{</mo>
              <mrow>
                <mrow>
                  <mi>kr</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>z</mi>
                      <mo>-</mo>
                      <mrow>
                        <mi>Lr</mi>
                        <mo>&#xd7;</mo>
                        <mi>&#x3b8;</mi>
                      </mrow>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>+</mo>
                <mrow>
                  <mi>cr</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mfrac>
                        <mrow>
                          <mo>&#x2146;</mo>
                          <mi>z</mi>
                        </mrow>
                        <mrow>
                          <mo>&#x2146;</mo>
                          <mi>t</mi>
                        </mrow>
                      </mfrac>
                      <mo>-</mo>
                      <mrow>
                        <mi>Lr</mi>
                        <mo>&#xd7;</mo>
                        <mfrac>
                          <mrow>
                            <mo>&#x2146;</mo>
                            <mi>&#x3b8;</mi>
                          </mrow>
                          <mrow>
                            <mo>&#x2146;</mo>
                            <mi>t</mi>
                          </mrow>
                        </mfrac>
                      </mrow>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mo>}</mo>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mfrac>
              <mi>h</mi>
              <mi>r</mi>
            </mfrac>
            <mo>&#xd7;</mo>
            <mrow>
              <mi>T</mi>
              <mo>.</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0066" num="0065">In Expressions 1 and 2, Lf and Lr represent the distance from the vehicle center of gravity Cg to the front axle and the rear axle, respectively, and r represents the wheel radius. Also, h represents the distance from the road surface to the vehicle center of gravity Cg. Incidentally, in Expression 1, the first and second terms are components of force from the front axle, and the third and fourth terms are components of the force from the rear axle. Further, in Expression 2, the first term is the moment component of the force from the front axle, and the second term is the moment component of the force from the rear axle. Also, the third term in Expression 2 is the moment component of the force applied by the wheel torque T (=Twr+Tw) generated at the driving wheels Wh and Wh about the vehicle center of gravity Cg.</p>
<p id="p-0067" num="0066">Expressions 1 and 2 can be rewritten in the form of an equation-of-state (of a linear system) as shown in Expression 3 below, with the displacements of the vehicle body z and &#x3b8; and the rate of changes dz/dt and d&#x3b8;/dt of those displacements as the state variable vector X(t).
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>[Expression 3]<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>dX</i>(<i>t</i>)/<i>dt=A&#xd7;X</i>(<i>t</i>)+<i>B&#xd7;u</i>(<i>t</i>)&#x2003;&#x2003;(3)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0068" num="0067">In Expression 3, X(t), A, and B are as illustrated below.</p>
<p id="p-0069" num="0068">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>[</mo>
        <mrow>
          <mi>Expression</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>4</mn>
        </mrow>
        <mo>]</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mrow>
            <mi>X</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mi>t</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>=</mo>
          <mrow>
            <mo>(</mo>
            <mtable>
              <mtr>
                <mtd>
                  <mi>z</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mfrac>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>z</mi>
                    </mrow>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>t</mi>
                    </mrow>
                  </mfrac>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mi>&#x3b8;</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mfrac>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>&#x3b8;</mi>
                    </mrow>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>t</mi>
                    </mrow>
                  </mfrac>
                </mtd>
              </mtr>
            </mtable>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>,</mo>
        <mrow>
          <mi>A</mi>
          <mo>=</mo>
          <mrow>
            <mo>(</mo>
            <mtable>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mrow>
                    <mi>a</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>1</mn>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow>
                    <mi>a</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>2</mn>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow>
                    <mi>a</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>3</mn>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow>
                    <mi>a</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>4</mn>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>1</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mrow>
                    <mi>b</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>1</mn>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow>
                    <mi>b</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>2</mn>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow>
                    <mi>b</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>3</mn>
                  </mrow>
                </mtd>
                <mtd>
                  <mrow>
                    <mi>b</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>4</mn>
                  </mrow>
                </mtd>
              </mtr>
            </mtable>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>,</mo>
        <mrow>
          <mi>B</mi>
          <mo>=</mo>
          <mrow>
            <mo>(</mo>
            <mtable>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mrow>
                    <mi>p</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mn>1</mn>
                  </mrow>
                </mtd>
              </mtr>
            </mtable>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
The elements a<b>1</b> to a<b>4</b> and b<b>1</b> to b<b>4</b> in matrix A are provided by Expressions 1 and 2, respectively, by combining the coefficients of z, &#x3b8;, dz/dt, and d&#x3b8;/dt, such that
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>a</i>1=&#x2212;(<i>kf+kr</i>)/<i>M, </i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>a</i>2=&#x2212;(<i>cf+cr</i>)/<i>M, </i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>a</i>3=&#x2212;(<i>kf&#xd7;Lf&#x2212;kr&#xd7;Lr</i>)/<i>M, </i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>a</i>4=&#x2212;(<i>cf&#xd7;Lf&#x2212;cr&#xd7;Lr</i>)/<i>M, </i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>b</i>1=&#x2212;(<i>Lf&#xd7;kf&#x2212;Lr&#xd7;kr</i>)/<i>I, </i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>b</i>2=&#x2212;(<i>Lf&#xd7;cf&#x2212;Lr&#xd7;cr</i>)/<i>I, </i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>b</i>3=&#x2212;(<i>Lf</i><sup>2</sup><i>&#xd7;kf+Lr</i><sup>2</sup><i>&#xd7;kr</i>)/<i>I, </i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>b</i>4=&#x2212;(<i>Lf</i><sup>2</sup><i>&#xd7;cf+Lr</i><sup>2</sup><i>&#xd7;cr</i>)/<i>I. </i><?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0070" num="0069">Also, u(t) in Expression 3 above is shown in Expression 5 below, and is the input of the linear system shown by Expression 3.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>[Expression 5]<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>u</i>(<i>t</i>)=<i>T</i>&#x2003;&#x2003;(5)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
Therefore, from Expression 2 above, element p<b>1</b> in matrix B can be expressed by Expression 6 below.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>[Expression 6]<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>p</i>1=<i>h</i>/(<i>I&#xd7;r</i>)&#x2003;&#x2003;(6)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0071" num="0070">If u(t) in Expression 3 (an equation-of-state) above is as shown in Expression 7 below, then Expression 3 can be written as shown in Expression 8 below.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>[Expression 7]<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>u</i>(<i>t</i>)=&#x2212;<i>K&#xd7;X</i>(<i>t</i>)&#x2003;&#x2003;(7)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>[Expression 8]<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>dX</i>(<i>t</i>)/<i>dt</i>=(<i>A&#x2212;B&#xd7;K</i>)&#xd7;<i>X</i>(<i>t</i>)&#x2003;&#x2003;(8)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0072" num="0071">Therefore, when the initial value X<sub>0</sub>(t) of X(t) is set to X<sub>0</sub>(t)=(0, 0, 0, 0) (assuming that there is no vibration before torque is input) and the differential equation (Expression 8) of the state variable vector X(t) is solved, the torque value u(t) that suppresses sprung mass vibration is determined by determining the gain K that brings X(t), i.e., the displacement in the bounce direction and the pitch direction and the amount of that time rate of change, to 0.</p>
<p id="p-0073" num="0072">The gain K can be determined using the theory of the so-called optimum regulator. According to this theory, when the value of an evaluation function J (with an integration range of 0 to infinity) in quadratic form in Expression 9 is minimized, X(t) stably converges in the equation-of-state (Expression 3) and the matrix K that minimizes the evaluation function J is applied, as shown in Expression 10 below, which is known.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>[Expression 9]<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>J=</i>&#x222b;(<i>X</i><sup>T</sup><i>&#xd7;Q&#xd7;X+u</i><sup>T</sup><i>&#xd7;R&#xd7;u</i>)<i>dt</i>&#x2003;&#x2003;(9)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>[Expression 10]<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>K=R</i><sup>&#x2212;1</sup><i>&#xd7;B</i><sup>T</sup><i>&#xd7;P</i>&#x2003;&#x2003;(10)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0074" num="0073">Here, P is the solution to a Riccardi equation (Expression 11). This Riccardi equation can be solved by any known method in the field of the linear system. From this, the gain K can be determined.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>[Expression 11]<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x2212;<i>dP/dt=A</i><sup>T</sup><i>&#xd7;P+P&#xd7;A+Q&#x2212;P&#xd7;B&#xd7;R</i><sup>&#x2212;1</sup><i>&#xd7;B</i><sup>T</sup><i>&#xd7;P</i>&#x2003;&#x2003;(11)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0075" num="0074">Incidentally, Q and R in the evaluation function J and the Riccardi equation are a positive semidefinite symmetric matrix and a positive definite symmetric matrix, respectively, which are set arbitrarily and are weighting matrices of the evaluation function J determined by the designer of the system. For example, with Q and R in the motion model here, when the norm (magnitude) of specified components (such as dz/dt and d&#x3b8;/dt) from among the components of the state variable vector X(t) is set larger than the norm of other components (such as z and &#x3b8;), the components in which the norm is set higher converges more stably than the other components do. Also, when the value of the component of Q is increased, the transient characteristic value, i.e., the value of the state variable vector X(t), quickly converges on a stable value, and when the value of R is increased, the consumption energy decreases.</p>
<p id="p-0076" num="0075">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mo>[</mo>
        <mrow>
          <mi>Expression</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>12</mn>
        </mrow>
        <mo>]</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>Q</mi>
          <mo>=</mo>
          <mrow>
            <mo>(</mo>
            <mtable>
              <mtr>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <msup>
                    <mn>10</mn>
                    <mn>3</mn>
                  </msup>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>1</mn>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <msup>
                    <mn>10</mn>
                    <mn>2</mn>
                  </msup>
                </mtd>
              </mtr>
            </mtable>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>,</mo>
        <mrow>
          <mi>R</mi>
          <mo>=</mo>
          <mrow>
            <mo>(</mo>
            <mn>1</mn>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0077" num="0076">In actual sprung mass damping control of the sprung mass damping control system according to this first example embodiment, as shown in <figref idref="DRAWINGS">FIG. 4A</figref>, the state variable vector X(t) is calculated by solving the differential equation in Expression 3 using the torque input value by the motion model portion <b>5</b><i>a</i><sub>1</sub>. In the system expressed by Expressions 1 and 2, the state variable vector X(t) which is the output of the motion model portion <b>5</b><i>a</i><sub>1 </sub>is multiplied by the gain K that is determined in order to minimize the state variable vector X(t) or bring it to 0, as described above, by the driver required torque correcting portion <b>5</b><i>a</i><sub>2</sub>. This multiplied value U(t) is a positive or negative value depending on the vibration direction of the sprung mass vibration. This multiplied value U(t) is then converted into wheel torque units of the driving wheels Wh and Wh by the driving torque converting portion <b>5</b><i>c</i>. In this first example embodiment, that converted value becomes the reference sprung mass damping control torque Twc<b>0</b> which is a reference value of the sprung mass damping control amount (hereinafter, referred to as the &#x201c;reference sprung mass damping control amount&#x201d;). In the first example embodiment, phase compensation according to the modulation method of the motor-generator control, which will be described later, is performed as necessary on this reference sprung mass damping control torque Twc<b>0</b> (i.e., the reference sprung mass damping control amount), and the value obtained from this is set as the final sprung mass damping control amount (i.e., sprung mass damping control torque Twc). This final sprung mass damping control amount (i.e., the sprung mass damping control torque. Twc) is output to the adder <b>2</b><i>a </i>of the required vehicle drive torque calculating device <b>2</b> where it is added to the driver required torque Twr. This system is a resonance system, and the value of the state variable vector X(t) with respect to a given input is essentially only the component of the natural frequency of the system. Therefore, by adding or subtracting the converted value of U(t) or the phase compensation value thereof (=sprung mass damping control torque Twc) to or from the driver required torque Twr, the component of the natural frequency of the system within the driver required torque Twr, i.e., the component that causes sprung mass vibration of the vehicle body, can be corrected, thereby suppressing that sprung mass vibration. When the component of the natural frequency of the system in the required torque applied by the driver is eliminated, the component of the natural frequency of the system in the required vehicle driving torque Tdmg<b>2</b><i>r </i>from the output of the second motor-generator <b>32</b> is only &#x2212;U(t) or &#x2212;U(t) with the phase compensation amount removed, so the vibration from wheel torque estimated value Tw (i.e., the disturbance) converges. In <figref idref="DRAWINGS">FIG. 4A</figref>, U(t) is looped to the input side of the motion model portion <b>5</b><i>a</i><sub>1</sub>, but this loop may be eliminated to reduce the calculation amount as long as the desired sprung mass damping control performance can be obtained. Also, in <figref idref="DRAWINGS">FIG. 4A</figref>, FF/FB weighted and adjusted gain is applied by a FF/FB weighted and adjusted gain controlling portion <b>5</b><i>b</i><sub>2 </sub>only in the feedback control. However, this FF/FB weighted and adjusted gain may also be applied in the feed-forward control.</p>
<p id="p-0078" num="0077">The required vehicle driving torque Tdmg<b>2</b><i>r </i>from the output of the second motor-generator <b>32</b> is the vehicle driving torque applied to the driving wheels Wh and Wh as a result of the second motor-generator <b>32</b> outputting the required motor-generator torque Tmg<b>2</b><i>r</i>, and is calculated in an adder <b>7</b><i>a </i>of the motor-generator control amount calculating device <b>7</b>. This required vehicle driving torque Tdmg<b>2</b><i>r </i>is obtained by subtracting the required vehicle driving torque Tder from the engine output in the engine control amount calculating device <b>3</b>, from the final required vehicle driving torque Tdr obtained by the required vehicle driving torque calculating device <b>2</b> described above. This required vehicle driving torque Tdmg<b>2</b><i>r </i>is then converted to the required motor-generator torque Tmg<b>2</b><i>r </i>for the second motor-generator <b>32</b> in the motor-generator torque converting portion <b>7</b><i>b</i>. The motor-generator torque converting portion <b>7</b><i>b </i>takes the gear ratio of the power transmission apparatus such as the power split device <b>20</b> and the power transmission device <b>50</b> into account at the time of this conversion. The required motor-generator torque Tmg<b>2</b><i>r </i>is output to the motor-generator control device <b>6</b>. This motor-generator control device <b>6</b> then controls the inverter <b>42</b> to control the second motor-generator <b>32</b> to output that required motor-generator torque Tmg<b>2</b><i>r. </i></p>
<p id="p-0079" num="0078">In this first example embodiment, as described above, of the final required vehicle driving torque Tdr, the vehicle driving torque corresponding to the driving force required by the driver is generated by output from the engine <b>10</b> (i.e., the required engine torque Ter) and the rest is generated by the output of the second motor-generator <b>32</b> (i.e., the required motor-generator torque Tmg<b>2</b><i>r</i>). The sprung mass damping control torque Twc (i.e., the sprung mass damping control amount) is incorporated into the required vehicle driving torque Tdmg<b>2</b><i>r </i>from the output of the second motor-generator <b>32</b> so sprung mass vibration can be suppressed by having the second motor-generator <b>32</b> generate the required motor-generator torque Tmg<b>2</b><i>r </i>which is the converted value of that required vehicle driving torque Tdmg<b>2</b><i>r. </i></p>
<p id="p-0080" num="0079">Here, the wheel torque estimated value Tw estimated by the wheel torque estimator <b>5</b><i>b</i><sub>1 </sub>from another detectable value of the traveling hybrid vehicle is used for the wheel torque that is input as disturbance in the feedback controlling portion <b>5</b><i>b </i>in <figref idref="DRAWINGS">FIG. 4A</figref>. Alternatively, however, a torque sensor may also be provided for each wheel and the wheel torque that is input as that disturbance may be actually detected, for example.</p>
<p id="p-0081" num="0080">This wheel torque estimated value Tw can be estimated or calculated from Expression 13 below using temporal differentiation of the angular velocity to or the wheel speed Vw (=r&#xd7;&#x3c9;) obtained from the wheel speed obtaining device (i.e., the wheel speed sensors <b>62</b> and <b>62</b>) of the driving wheels Wh and Wh, for example. In Expression 13, M is the mass of the hybrid vehicle, and r is the wheel radius.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>[Expression 13]<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Tw=M&#xd7;r</i><sup>2</sup><i>&#xd7;d&#x3c9;/dt</i>&#x2003;&#x2003;(13)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0082" num="0081">Here, when the sum of the driving force generated at the location where the driving wheels Wh and Wh contact the road surface is equal to the driving force M&#xd7;G (G: vehicle longitudinal acceleration) of the entire vehicle, the wheel torque estimated value Tw is provided by Expression 14 below.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>[Expression 14]<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Tw=M&#xd7;G&#xd7;r</i>&#x2003;&#x2003;(14)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0083" num="0082">Also, the vehicle longitudinal acceleration G of the hybrid vehicle is provided by Expression 15 below by the differential value of the wheel speed r&#xd7;&#x3c9;.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>[Expression 15]<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>G=r&#xd7;d&#x3c9;/dt</i>&#x2003;&#x2003;(15)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
Therefore, the wheel torque estimated value Tw is estimated as shown in Expression 13 above.
</p>
<p id="p-0084" num="0083">Also, the dynamic motion model of the bounce direction and the pitch direction of the vehicle body in the example described above may be a model (vehicle body sprung mass/unsprung mass vibration model) that takes into account the spring elasticity of the front and rear wheel tires, in addition to the structure shown in <figref idref="DRAWINGS">FIG. 5</figref>, as shown in <figref idref="DRAWINGS">FIG. 6</figref>, for example. When the front wheel tires have a modulus of elasticity of ktf and the rear wheel tires have a modulus of elasticity of ktr, the equation of motion of the bounce direction of the vehicle center of gravity Cg and the equation of motion of the pitch direction of the vehicle center of gravity Cg can written as shown in Expressions 16a to <b>16</b><i>d </i>below, as is also evident from <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0085" num="0084">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mstyle>
          <mspace width="4.4em" height="4.4ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mrow>
          <mo>[</mo>
          <mrow>
            <mi>Expression</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mn>16</mn>
          </mrow>
          <mo>]</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>M</mi>
          <mo>&#x2062;</mo>
          <mfrac>
            <mrow>
              <msup>
                <mo>&#x2146;</mo>
                <mn>2</mn>
              </msup>
              <mo>&#x2062;</mo>
              <mi>z</mi>
            </mrow>
            <mrow>
              <mo>&#x2146;</mo>
              <msup>
                <mi>t</mi>
                <mn>2</mn>
              </msup>
            </mrow>
          </mfrac>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mo>-</mo>
            <mrow>
              <mi>kf</mi>
              <mo>&#x2061;</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>z</mi>
                  <mo>+</mo>
                  <mrow>
                    <mi>Lf</mi>
                    <mo>&#xd7;</mo>
                    <mi>&#x3b8;</mi>
                  </mrow>
                  <mo>-</mo>
                  <mi>xf</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>-</mo>
          <mrow>
            <mi>cf</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mfrac>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>z</mi>
                  </mrow>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>t</mi>
                  </mrow>
                </mfrac>
                <mo>+</mo>
                <mrow>
                  <mi>Lf</mi>
                  <mo>&#xd7;</mo>
                  <mfrac>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>&#x3b8;</mi>
                    </mrow>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>t</mi>
                    </mrow>
                  </mfrac>
                </mrow>
                <mo>-</mo>
                <mfrac>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>xf</mi>
                  </mrow>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>t</mi>
                  </mrow>
                </mfrac>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>-</mo>
          <mrow>
            <mi>kf</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>z</mi>
                <mo>-</mo>
                <mrow>
                  <mi>Lf</mi>
                  <mo>&#xd7;</mo>
                  <mi>&#x3b8;</mi>
                </mrow>
                <mo>-</mo>
                <mi>xr</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>-</mo>
          <mrow>
            <mi>cr</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mfrac>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>z</mi>
                  </mrow>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>t</mi>
                  </mrow>
                </mfrac>
                <mo>-</mo>
                <mrow>
                  <mi>Lr</mi>
                  <mo>&#xd7;</mo>
                  <mfrac>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>&#x3b8;</mi>
                    </mrow>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>t</mi>
                    </mrow>
                  </mfrac>
                </mrow>
                <mo>-</mo>
                <mfrac>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>xr</mi>
                  </mrow>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>t</mi>
                  </mrow>
                </mfrac>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>16</mn>
          <mo>&#x2062;</mo>
          <mi>a</mi>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>I</mi>
          <mo>&#x2062;</mo>
          <mfrac>
            <mrow>
              <msup>
                <mo>&#x2146;</mo>
                <mn>2</mn>
              </msup>
              <mo>&#x2062;</mo>
              <mi>&#x3b8;</mi>
            </mrow>
            <mrow>
              <mo>&#x2146;</mo>
              <msup>
                <mi>t</mi>
                <mn>2</mn>
              </msup>
            </mrow>
          </mfrac>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mrow>
              <mo>-</mo>
              <mi>Lf</mi>
            </mrow>
            <mo>&#x2062;</mo>
            <mrow>
              <mo>{</mo>
              <mrow>
                <mrow>
                  <mi>kf</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>z</mi>
                      <mo>+</mo>
                      <mrow>
                        <mi>Lf</mi>
                        <mo>&#xd7;</mo>
                        <mi>&#x3b8;</mi>
                      </mrow>
                      <mo>-</mo>
                      <mi>xf</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>+</mo>
                <mrow>
                  <mi>cf</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mfrac>
                        <mrow>
                          <mo>&#x2146;</mo>
                          <mi>z</mi>
                        </mrow>
                        <mrow>
                          <mo>&#x2146;</mo>
                          <mi>t</mi>
                        </mrow>
                      </mfrac>
                      <mo>+</mo>
                      <mrow>
                        <mi>Lf</mi>
                        <mo>&#xd7;</mo>
                        <mfrac>
                          <mrow>
                            <mo>&#x2146;</mo>
                            <mi>&#x3b8;</mi>
                          </mrow>
                          <mrow>
                            <mo>&#x2146;</mo>
                            <mi>t</mi>
                          </mrow>
                        </mfrac>
                      </mrow>
                      <mo>-</mo>
                      <mfrac>
                        <mrow>
                          <mo>&#x2146;</mo>
                          <mi>xf</mi>
                        </mrow>
                        <mrow>
                          <mo>&#x2146;</mo>
                          <mi>t</mi>
                        </mrow>
                      </mfrac>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mo>}</mo>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mi>Lr</mi>
            <mo>&#x2062;</mo>
            <mrow>
              <mo>{</mo>
              <mrow>
                <mrow>
                  <mi>kr</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>z</mi>
                      <mo>-</mo>
                      <mrow>
                        <mi>Lr</mi>
                        <mo>&#xd7;</mo>
                        <mi>&#x3b8;</mi>
                      </mrow>
                      <mo>-</mo>
                      <mi>xr</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>+</mo>
                <mrow>
                  <mi>cr</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mfrac>
                        <mrow>
                          <mo>&#x2146;</mo>
                          <mi>z</mi>
                        </mrow>
                        <mrow>
                          <mo>&#x2146;</mo>
                          <mi>t</mi>
                        </mrow>
                      </mfrac>
                      <mo>-</mo>
                      <mrow>
                        <mi>Lr</mi>
                        <mo>&#xd7;</mo>
                        <mfrac>
                          <mrow>
                            <mo>&#x2146;</mo>
                            <mi>&#x3b8;</mi>
                          </mrow>
                          <mrow>
                            <mo>&#x2146;</mo>
                            <mi>t</mi>
                          </mrow>
                        </mfrac>
                      </mrow>
                      <mo>-</mo>
                      <mfrac>
                        <mrow>
                          <mo>&#x2146;</mo>
                          <mi>xr</mi>
                        </mrow>
                        <mrow>
                          <mo>&#x2146;</mo>
                          <mi>t</mi>
                        </mrow>
                      </mfrac>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mo>}</mo>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mfrac>
              <mi>h</mi>
              <mi>r</mi>
            </mfrac>
            <mo>&#xd7;</mo>
            <mi>T</mi>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>16</mn>
          <mo>&#x2062;</mo>
          <mi>b</mi>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>mf</mi>
          <mo>&#x2062;</mo>
          <mfrac>
            <mrow>
              <msup>
                <mo>&#x2146;</mo>
                <mn>2</mn>
              </msup>
              <mo>&#x2062;</mo>
              <mi>xf</mi>
            </mrow>
            <mrow>
              <mo>&#x2146;</mo>
              <msup>
                <mi>t</mi>
                <mn>2</mn>
              </msup>
            </mrow>
          </mfrac>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mi>kf</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>z</mi>
                <mo>+</mo>
                <mrow>
                  <mi>Lf</mi>
                  <mo>&#xd7;</mo>
                  <mi>&#x3b8;</mi>
                </mrow>
                <mo>-</mo>
                <mi>xf</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mi>cf</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mfrac>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>z</mi>
                  </mrow>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>t</mi>
                  </mrow>
                </mfrac>
                <mo>+</mo>
                <mrow>
                  <mi>Lf</mi>
                  <mo>&#xd7;</mo>
                  <mfrac>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>&#x3b8;</mi>
                    </mrow>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>t</mi>
                    </mrow>
                  </mfrac>
                </mrow>
                <mo>-</mo>
                <mfrac>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>xf</mi>
                  </mrow>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>t</mi>
                  </mrow>
                </mfrac>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mi>ktf</mi>
            <mo>&#xd7;</mo>
            <mi>xf</mi>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>16</mn>
          <mo>&#x2062;</mo>
          <mi>c</mi>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>mr</mi>
          <mo>&#x2062;</mo>
          <mfrac>
            <mrow>
              <msup>
                <mo>&#x2146;</mo>
                <mn>2</mn>
              </msup>
              <mo>&#x2062;</mo>
              <mi>xr</mi>
            </mrow>
            <mrow>
              <mo>&#x2146;</mo>
              <msup>
                <mi>t</mi>
                <mn>2</mn>
              </msup>
            </mrow>
          </mfrac>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mi>kr</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>z</mi>
                <mo>+</mo>
                <mrow>
                  <mi>Lr</mi>
                  <mo>&#xd7;</mo>
                  <mi>&#x3b8;</mi>
                </mrow>
                <mo>-</mo>
                <mi>xr</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mi>cr</mi>
            <mo>&#x2061;</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mfrac>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>z</mi>
                  </mrow>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>t</mi>
                  </mrow>
                </mfrac>
                <mo>-</mo>
                <mrow>
                  <mi>Lr</mi>
                  <mo>&#xd7;</mo>
                  <mfrac>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>&#x3b8;</mi>
                    </mrow>
                    <mrow>
                      <mo>&#x2146;</mo>
                      <mi>t</mi>
                    </mrow>
                  </mfrac>
                </mrow>
                <mo>-</mo>
                <mfrac>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>xr</mi>
                  </mrow>
                  <mrow>
                    <mo>&#x2146;</mo>
                    <mi>t</mi>
                  </mrow>
                </mfrac>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mi>ktr</mi>
            <mo>&#xd7;</mo>
            <mi>xr</mi>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>16</mn>
          <mo>&#x2062;</mo>
          <mi>d</mi>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0086" num="0085">In these expressions, xf and xr are unsprung mass displacement amounts of the front and rear wheels, respectively, and mf and mr is the unsprung mass of the front and rear wheels, respectively. Expressions 16a to <b>16</b><i>d </i>form equations of state as shown in Expression 3 above, just like <figref idref="DRAWINGS">FIG. 5</figref>, with z, &#x3b8;, xf, xr, and the time differential value thereof as the state variable vectors (where matrix A is eight rows and eight columns and matrix B is eight rows and one column). The gain matrix K that brings the state variable vectors to 0 can be determined according to the theory of the optimum regulator. The actual sprung mass damping control in this case is just as it is in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0087" num="0086">Also, in addition to the vibration component that is input from the road surface via the wheels, the vibration component generated in the drive source such as the engine <b>10</b> and the vibration component generated in the power transmission apparatus such as the power split device <b>20</b> and the power transmission device <b>50</b> in the transmission path of the power from that power source can be considered as the vibration component to be suppressed in the hybrid vehicle. When suppressing the vibration of the vehicle body caused by these various vibration components, the torque adjusting amount (i.e., the sprung mass damping control amount) necessary to suppress the vibration components may obtained for each vibration component to be suppressed, and these torque adjusting amounts may be output as described above from the second motor-generator <b>32</b>.</p>
<p id="p-0088" num="0087">Incidentally, in a vehicle provided with this motor-generator as the drive source, the direct current (DC) voltage from the battery <b>41</b> is increased (i.e., stepped up) by a step up converter, not shown, and that stepped up DC voltage is converted into alternate current (AC) voltage that is used to drive the motor-generator (the second motor-generator <b>32</b> in this example). At this time, the current command to the motor-generator which is driven by a predetermined waveform signal changes the control method of the inverter <b>42</b> (i.e., the waveform signal modulation method) according to the vehicle speed and the amount of the command torque (the required vehicle driving torque Tdmg<b>2</b><i>r </i>in this example). Here, this modulation method switches between a sine wave pulse width modulation (PWM) control method, a square wave control method, and an overmodulation PWM control method. For example, the square wave control method has less switching loss and better system efficiency than the sine wave PWM control method and the overmodulation PWM, and is therefore selected when these qualities are required. Also, the overmodulation PWM is selected in the medium speed range and is used to improve output. The motor-generator control device <b>6</b> of the motor-generator ECU <b>103</b> selects the modulation method.</p>
<p id="p-0089" num="0088">In a vehicle that switches modulation methods according to the command torque and vehicle speed ranges, the output responsiveness of the sprung mass damping control amount differs depending on those ranges, i.e., depending on the modulation method. Therefore, the desired sprung mass damping control may be able to be performed in one range but may become difficult to perform in another range, which may reduce the damping effect of the sprung mass damping control. For example, when the overmodulation PWM control method is used, the waveform of the demodulated signal becomes distorted compared with when another control method such as the sine wave PWM control method is used. This creates variation in the output responsiveness of the sprung mass damping control amount, and as a result, the desired sprung mass damping control may no longer be able to be executed properly.</p>
<p id="p-0090" num="0089">Therefore, in the sprung mass damping control system of this first example embodiment, phase compensation is performed on the sprung mass damping control signal corresponding to the sprung mass damping control amount according to the state (in this case, the waveform signal described above), so variation in the output responsiveness of the sprung mass damping control amount throughout the entire command torque and vehicle speed ranges is reduced or eliminated. More specifically, phase compensation is performed on the sprung mass damping control signal corresponding to the sprung mass damping control amount according to that waveform signal (in other words, according to the waveform modulation method), so variation in the output responsiveness of the sprung mass damping control amount throughout the entire command torque and vehicle speed ranges (in other words, between modulation methods) is reduced or eliminated.</p>
<p id="p-0091" num="0090">This sprung mass damping control system is provided with a sprung mass damping control amount adjusting apparatus that compensates for variation in output responsiveness by performing phase compensation on the sprung mass damping control signal according to the sprung mass damping control amount according to that modulation method. This sprung mass damping control amount adjusting apparatus may be provided as one function of the spring vibration control amount calculating device <b>5</b> or between the spring vibration control amount calculating device <b>5</b> and the adder <b>2</b><i>a</i>. In the description below, an example is given in which the sprung mass damping control amount adjusting apparatus is provided as a function of the spring vibration control amount calculating device <b>5</b>.</p>
<p id="p-0092" num="0091">The spring vibration control amount calculating device <b>5</b> in this first example embodiment is provided with a sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>as the sprung mass damping control amount adjusting apparatus. Here, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>is arranged after the driving torque converting portion <b>5</b><i>c</i>, and adjusts the phase according to the modulation method of the motor-generator control of the reference sprung mass damping control torque Twc<b>0</b> (i.e., the reference sprung mass damping control amount) obtained by that driving torque converting portion <b>5</b><i>c. </i></p>
<p id="p-0093" num="0092">This phase compensating control of this sprung mass damping control amount may be applied not only to a vehicle that employs all of the modulation methods described above, but also to a vehicle that employs at least two of a plurality of modulation methods including others not described here. In the example described below, three modulation methods will be employed, and will be referred to simply as the first, second, and third modulation methods for the sake of convenience. Therefore, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>in this example includes a first sprung mass damping control amount adjusting portion <b>5</b><i>d</i><sub>1 </sub>for the first modulation method, a second sprung mass damping control amount adjusting portion <b>5</b><i>d</i><sub>2 </sub>for the second modulation method, and a third sprung mass damping control amount adjusting portion <b>5</b><i>d</i><sub>3 </sub>for the third modulation method, as shown in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0094" num="0093">The structure of these first to third sprung mass damping control amount adjusting portions <b>5</b><i>d</i><sub>1 </sub>to <b>5</b><i>d</i><sub>3 </sub>is not limited as long as it allows them to perform phase compensation according to the modulation method. For example, the first sprung mass damping control amount adjusting portions <b>5</b><i>d</i><sub>1 </sub>is structured to adjust to the reference sprung mass damping control torque Twc<b>0</b> (i.e., the reference sprung mass damping control amount) using a first sprung mass damping control amount adjusting gain K<b>1</b>(<i>s</i>) that corresponds to the first modulation method, the second sprung mass damping control amount adjusting portions <b>5</b><i>d</i><sub>2 </sub>is structured to adjust to the reference sprung mass damping control torque Twc<b>0</b> (i.e., the reference sprung mass damping control amount) using a second sprung mass damping control amount adjusting gain K<b>2</b>(<i>s</i>) that corresponds to the second modulation method, and the third sprung mass damping control amount adjusting portions <b>5</b><i>d</i><sub>3 </sub>is structured to adjust to the reference sprung mass damping control torque Twc<b>0</b> (i.e., the reference sprung mass damping control amount) using a third sprung mass damping control amount adjusting gain K<b>3</b>(<i>s</i>) that corresponds to the third modulation method. Here, phase compensation is performed by multiplying one of the first to third sprung mass damping control amount adjusting gains K<b>1</b>(<i>s</i>) to K<b>3</b>(<i>s</i>) corresponding to the modulation methods by the reference sprung mass damping control torque Twc<b>0</b>, and setting the thus obtained sprung mass damping control torque Twc as the final sprung mass damping control amount.</p>
<p id="p-0095" num="0094">More specifically, the phase compensating control of the sprung mass damping control amount may be phase advancing control if the modulation method ends up advancing the phase, and may be phase retarding control if the modulation method ends up retarding the phase. Here, the phase lag amount and the phase advance amount can be ascertained for each modulation method beforehand. Therefore, each of the first to third sprung mass damping control amount adjusting gains K<b>1</b>(<i>s</i>) to K<b>3</b>(<i>s</i>) can be set for the corresponding modulation method, as a phase advancing control gain or phase lag control gain in advance according to that phase lag amount or phase advance amount. The first to third sprung mass damping control amount adjusting gain K<b>1</b>(<i>s</i>) to K<b>3</b>(<i>s</i>) for phase advancing control advances the phase of a control signal according to the reference sprung mass damping control torque Twc<b>0</b> (i.e., the reference sprung mass damping control amount) by a phase advance amount that corresponds to the phase lag amount. On the other hand, the first to third sprung mass damping control amount adjusting gain K<b>1</b>(<i>s</i>) to K<b>3</b>(<i>s</i>) for phase lag control retards the phase of a control signal that accompanies the reference sprung mass damping control torque Twc<b>0</b> (i.e., the reference sprung mass damping control amount) by a phase lag amount that corresponds to the phase advance amount.</p>
<p id="p-0096" num="0095">Here an example will be given of phase advancing control. More specifically, the sprung mass damping control amount adjusting gain K<b>1</b>(<i>s</i>) for phase advancing control becomes 1+&#x3c4;1&#xd7;s using a Laplace operator and a time constant &#x3c4;<b>1</b>, while the sprung mass damping control amount adjusting gain K<b>2</b>(<i>s</i>) for phase advancing control becomes 1+&#x3c4;2&#xd7;s using a Laplace operator and a time constant &#x3c4;<b>2</b>, and the sprung mass damping control amount adjusting gain K<b>3</b>(<i>s</i>) for phase advancing control becomes 1+&#x3c4;3&#xd7;s using a Laplace operator and a time constant &#x3c4;<b>3</b>. For example, assuming that the phase lag amount increases in order from the first modulation method to the third modulation method (i.e., phase lag amount of second modulation method is larger than that of the first modulation method, and the phase lag amount of the third modulation method is larger than that of the second modulation method), then the sprung mass damping control amount adjusting gains K<b>1</b>(<i>s</i>), K<b>2</b>(<i>s</i>), and K<b>3</b>(<i>s</i>) are made larger in the same order. At this time, one of the modulation methods is made a reference, and the first to the third sprung mass damping control amount adjusting gain K<b>1</b>(<i>s</i>) to K<b>3</b>(<i>s</i>) may be determined according to the degree to which the another modulation method delays or advances the phase with respect to this reference modulation method. For example, when the first modulation method is used as the reference modulation method, the first sprung mass damping control amount adjusting gain K<b>1</b>(<i>s</i>) is set to 1 and the second and third sprung mass damping control amount adjusting gains K<b>2</b>(<i>s</i>) and K<b>3</b>(<i>s</i>) are set to values greater than 1.</p>
<p id="p-0097" num="0096">The sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>selects one of the sprung mass damping control amount adjusting portions from among the first to the third sprung mass damping control amount adjusting portions <b>5</b><i>d</i><sub>1 </sub>to <b>5</b><i>d</i><sub>3 </sub>based on the information pertaining to the modulation method received from the motor-generator control device <b>6</b>. Actually, one of the first sprung mass damping control amount adjusting portion <b>5</b><i>d</i><sub>1</sub>, the second sprung mass damping control amount adjusting portion <b>5</b><i>d</i><sub>2</sub>, or the third sprung mass damping control amount adjusting portion <b>5</b><i>d</i><sub>3 </sub>has already been selected so when it is determined that the modulation method is to be switched based on the received information, the sprung mass damping control amount adjusting portion is switched to the sprung mass damping control amount adjusting portion that corresponds to the new modulation method. Accordingly, the control signal according to the reference sprung mass damping control torque Twc<b>0</b> (i.e., the reference sprung mass damping control amount) advances the phase by an amount that matches the modulation method in the spring vibration control amount calculating device <b>5</b>. Then, the control signal according to the phase-advanced reference sprung mass damping control torque Twc<b>0</b> (i.e., the reference sprung mass damping control amount) becomes a sprung mass damping control signal according to the final sprung mass damping control torque Twc (i.e., sprung mass damping control amount). Switches to the other modulation methods are performed in the same manner.</p>
<p id="p-0098" num="0097">Sprung mass damping control is executed based on the sprung mass damping control torque Twc (i.e., the sprung mass damping control amount) set in this way. When executing sprung mass, damping control, the second motor-generator <b>32</b> is controlled by the modulation method after the switch, so there is a lag in the sprung mass damping control signal according to the sprung mass damping control torque Twc. However, the phase is advanced by the amount of this lag in advance, so variation in the output responsiveness of the sprung mass damping control amount before and after the modulation method is switched is dealt with (eliminated or reduced) in the sprung mass damping control. Therefore, according to the sprung mass damping control system of this first example embodiment, even if the modulation method is switched, it is possible to reduce or eliminate variation in the output responsiveness of the sprung mass damping control amount throughout the entire command torque and vehicle speed ranges (i.e., between modulation methods). Accordingly, the sprung mass damping control system of this first example embodiment is able to compensate for the variation in the output responsiveness of the sprung mass damping control amount of each modulation method regardless of the type of modulation method. Thus, the desired sprung mass damping control can be executed over the entire ranges.</p>
<p id="p-0099" num="0098">Moreover, a high-pass filter (HPF) can advance the phase and bring the phase lag to 0 at or above the cutoff frequency. Therefore, a high-pass filter can be used as the first to the third sprung mass damping control amount adjusting portions <b>5</b><i>d</i><sub>1 </sub>to <b>5</b><i>d</i><sub>3 </sub>when the modulation method causes a lag in the phase. Also, an all-pass filter (APF) capable of changing the phase characteristics according to the phase lag amount or the phase advance amount while leaving the amplitude characteristics as they are may be used as the first to the third sprung mass damping control amount adjusting portions <b>5</b><i>d</i><sub>1 </sub>to <b>5</b><i>d</i><sub>3</sub>. Moreover, the first to the third sprung mass damping control amount adjusting portions <b>5</b><i>d</i><sub>1 </sub>to <b>5</b><i>d</i><sub>3 </sub>may also perform so-called dead time control in which they perceive the phase lag amount as dead time that accompanies a response lag.</p>
<p id="p-0100" num="0099">Here, the first to the third sprung mass damping control amount adjusting portions <b>5</b><i>d</i><sub>1 </sub>to <b>5</b><i>d</i><sub>3</sub>, i.e., the first to the third sprung mass damping control amount adjusting gains K<b>1</b>(<i>s</i>) to K<b>3</b>(<i>s</i>), may be switched right when the modulation method is switched, or a switching method such that described below may be applied. In the description below, it will be assumed that the first modulation method is the current modulation method, from which a switch will be made into the second modulation method.</p>
<p id="p-0101" num="0100">In sprung mass damping control, feedback control is performed so immediately after the modulation method switches, the reference sprung mass damping control torque Twc<b>0</b> (i.e., the reference sprung mass damping control amount) is set based on a detected value with the modulation method before the switch. Phase compensation according to the new modulation method is performed on that reference sprung mass damping control torque Twc<b>0</b>. Accordingly, appropriate phase compensation is not performed in sprung mass damping control immediately after the modulation method has been switched, so variation may occur in the output responsiveness of the sprung mass damping control amount. To avoid this, it is desirable to determine the switching method of the sprung mass damping control amount adjusting gain immediately after the modulation method has been switched.</p>
<p id="p-0102" num="0101">For example, one conceivable method is to gradually reduce the sprung mass damping control amount adjusting gain to 0 from the first sprung mass damping control amount adjusting gain K<b>1</b>(<i>s</i>) according to the first modulation method, and then after it reaches 0, switch it to the second sprung mass damping control amount adjusting gain K<b>2</b>(<i>s</i>) according to the second modulation method. This makes it possible to avoid variation in the output responsiveness of the sprung mass damping control amount by switching the sprung mass damping control amount adjusting gain to the new sprung mass damping control amount adjusting gain after a slight pause. The sprung mass damping control amount adjusting gain in this case may first be changed from the first sprung mass damping control amount adjusting gain K<b>1</b>(<i>s</i>) to 0, and then gradually increased to the second sprung mass damping control amount adjusting gain K<b>2</b>(<i>s</i>) from 0.</p>
<p id="p-0103" num="0102">Also, the difference between the first sprung mass damping control amount adjusting gain K<b>1</b>(<i>s</i>) and the second sprung mass damping control amount adjusting gain K<b>2</b>(<i>s</i>) before and after the switch may be gradually reduced, and then the switch to the new sprung mass damping control amount adjusting gain may be made after a slight pause. For example, when K<b>1</b>(<i>s</i>)&#x3c;K<b>2</b>(<i>s</i>), the sprung mass damping control amount adjusting gain may be gradually increased from the first amount adjusting gain K<b>1</b>(<i>s</i>) to the second sprung mass damping control amount adjusting gain K<b>2</b>(<i>s</i>).</p>
<p id="p-0104" num="0103">Further, when switching the modulation method, the switch to the second sprung mass damping control amount adjusting gain K<b>2</b>(<i>s</i>) may be made after a predetermined period of time. At that time, the switch from the first sprung mass damping control amount adjusting gain K<b>1</b>(<i>s</i>) to the second sprung mass damping control amount adjusting gain K<b>2</b>(<i>s</i>) may be done all at once or gradually as described above.</p>
<p id="p-0105" num="0104">Incidentally, in the example described above, the sprung mass damping control amount adjusting apparatus (i.e., the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d</i>) is provided between the driving torque converting portion <b>5</b><i>c </i>and the adder <b>2</b><i>a</i>. Alternatively, however, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>may be arranged upstream of the driving torque converting portion <b>5</b><i>c </i>and the same phase compensation may be performed on the multiplied value U(t) input to this driving torque converting portion <b>5</b><i>c</i>. Also, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>may correct the gain K of the driver required torque correcting portion <b>5</b><i>a</i><sub>2 </sub>and/or the FF/FB weighted and adjusted gain of the FF/FB weighted and adjusted gain control portion <b>5</b><i>b</i><sub>2</sub>.</p>
<p id="p-0106" num="0105">Also, by performing the phase compensation as in this example, the stability of feedback control in sprung mass damping control may decrease when the phase is delayed, and drivability may decrease due to an increase in noise in the final sprung mass damping control torque Twc (i.e., the sprung mass damping control amount) when the phase is advanced. Therefore, when that stability may end up exceeding the allowed range or when drivability may decrease, it is desirable to adjust the first to the third sprung mass damping control amount adjusting gains K<b>1</b>(<i>s</i>) to K<b>3</b>(<i>s</i>) to avoid these from happening. Another way to avoid these from happening is to correct the gain K of the driver required torque correcting portion <b>5</b><i>a</i><sub>2 </sub>and/or the FF/FB weighted and adjusted gain of the FF/FB weighted and adjusted gain control portion <b>5</b><i>b</i><sub>2</sub>.</p>
<p id="p-0107" num="0106">Further, the phase compensation in this example may also be performed under different circumstances, such as when the required vehicle driving torque Tdr is smoothed by the required vehicle drive torque calculating device <b>2</b>, for example. That is, the smoothing process delays the phase of the control signal related to the required vehicle driving torque Tdr, and as a result, the phase of the control signal related to the sprung mass damping control torque Twc (i.e., the sprung mass damping control amount) is also delayed. Thus, performing the phase advancing control or the like described above enables the desired sprung mass damping control to be executed. In particular, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>shown in <figref idref="DRAWINGS">FIG. 7</figref> is useful in that, in a situation in which smoothing is executed in a variety of patterns, it can switch the sprung mass damping control amount adjusting gain accordingly.</p>
<p id="p-0108" num="0107">Next, a second example embodiment of the sprung mass damping control system of a vehicle and a vehicle provided with that sprung mass damping control system according to the invention will be described with reference to <figref idref="DRAWINGS">FIGS. 8 and 9</figref>.</p>
<p id="p-0109" num="0108">In the sprung mass damping control system according to the first example embodiment described above, if there is a switch between at least two types of modulation methods, regardless of the type of modulation method, phase compensation of the sprung mass damping control signal of the sprung mass damping control amount corresponding to each modulation method is performed, thereby reducing or eliminating variation in the output responsiveness of the sprung mass damping control amount throughout the entire command torque and vehicle speed ranges (i.e., between modulation methods).</p>
<p id="p-0110" num="0109">However, when that modulation method is the overmodulation PWM control method, as described above, the waveform of the demodulated signal distorts compared with when another control method such as the sine wave PWM control method is used. Therefore, at this time, not only does variation occur in the output responsiveness of the sprung mass damping control amount, but the waveform of the sprung mass damping control signal according to the sprung mass damping control amount that is different from the command is output. Therefore, the likelihood that the desired sprung mass damping control will be unable to be executed properly is higher with this modulation method than other modulation methods.</p>
<p id="p-0111" num="0110">Therefore, in this second example embodiment, the way in which the modulation method is applied when controlling the motor-generator is different for the overmodulation PWM control method than it is for the other modulation methods. The sprung mass damping control system according to this second example embodiment the sprung mass damping control amount adjusting apparatus in the sprung mass damping control system of the first example embodiment is changed in the manner described below. In the description below, the sprung mass damping control system of the second example embodiment is applied to the hybrid vehicle illustrated in the first example embodiment. Incidentally, the sprung mass damping control amount adjusting apparatus may be arranged in the same position as it is in the first example embodiment. In the following description, the structure is the same as it is in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0112" num="0111">For example, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>prohibits sprung mass damping control when the modulation method is the overmodulation PWM control method. At this time, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>sets the reference sprung mass damping control torque Twc<b>0</b> (i.e., the reference sprung mass damping control amount) obtained by the driving torque converting portion <b>5</b><i>c </i>to 0 to prevent sprung mass damping control.</p>
<p id="p-0113" num="0112">Also, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>is structured to restrict, not prohibit, the sprung mass damping control when the modulation method is the overmodulation PWM control method, to compensate for variation in the output responsiveness of the sprung mass damping control.</p>
<p id="p-0114" num="0113">For example, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>in this second example embodiment has one sprung mass damping control amount adjusting gain K(s) and accommodates the different modulation methods by increasing or decreasing this sprung mass damping control amount adjusting gain K(s). Also, the modulation method in this example is switched between the overmodulation PWM control method and one other control method other than the overmodulation PWM control method.</p>
<p id="p-0115" num="0114">In this case, the distortion of the waveform of the demodulated signal when the modulation method is the overmodulation PWM control method only occurs when at least one of the amplitude or the frequency of the control signal of the reference sprung mass damping control torque Twc<b>0</b> (i.e., the reference sprung mass damping control amount) is within a predetermined range. More specifically, that distortion of the waveform tends to occur with a larger amplitude and at a higher frequency. Therefore, it is desirable to restrict sprung mass damping control when at least one of the amplitude or the frequency is within a predetermined range. In this case, sprung mass damping control does not need to be restricted when both the amplitude and the frequency are outside of that predetermined range. Accordingly, when the modulation method is the overmodulation PWM control method the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>analyzes the amplitude and the frequency of the control signal of the reference sprung mass damping control torque Twc<b>0</b> (i.e., the reference sprung mass damping control amount), and reduces the sprung mass damping control amount adjusting gain K(s) when at least one of the obtained amplitude or frequency is within a predetermined range. If both the amplitude and the frequency are outside of that predetermined range, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>sets the sprung mass damping control amount adjusting gain K(s) as a reference value. Here, the sprung mass damping control amount adjusting gain K(s) of the modulation method other than the overmodulation PWM control method is set as the reference gain. In contrast to this kind of control, control may be executed that restricts sprung mass damping control when the amplitude and the frequency are within a predetermined range, and does not restrict sprung mass damping control only when the amplitude and the frequency are outside of that range. The region shown by hatching in <figref idref="DRAWINGS">FIG. 9</figref> indicates the predetermined range in this case.</p>
<p id="p-0116" num="0115">More specifically, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>determines whether the modulation method is the overmodulation PWM control method based on the information related to the modulation method received from the motor-generator control device <b>6</b>, as illustrated by the flowchart in <figref idref="DRAWINGS">FIG. 8</figref> (step ST<b>1</b>).</p>
<p id="p-0117" num="0116">Here, if the modulation method is the overmodulation PWM control method, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>analyzes the amplitude and the frequency of the control signal of the reference sprung mass damping control torque Twc<b>0</b> (i.e., the reference sprung mass damping control amount) received from the driving torque converting portion <b>5</b><i>c </i>(step ST<b>2</b>).</p>
<p id="p-0118" num="0117">Then the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>determines whether the analyzed amplitude and frequency are within respective predetermined regions (step ST<b>3</b>). For example, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>makes this determination by matching the analyzed amplitude and frequency against the map data shown in <figref idref="DRAWINGS">FIG. 9</figref>. The map data in <figref idref="DRAWINGS">FIG. 9</figref> divides the amplitude and frequency into a respective plurality of ranges. According to this map data, it is determined that the analyzed amplitude and frequency are within their respective predetermined ranges when the analyzed amplitude is in the large amplitude region and the analyzed frequency is in the high frequency region, both of which are indicated by hatching. On the other hand, it is determined that the analyzed amplitude and frequency are not within their respective predetermined ranges when even one of the amplitude or frequency is in a region not indicated by hatching. Incidentally, with this map data, the amplitude increases in the order of A<b>1</b>, A<b>2</b>, A<b>3</b>, . . . , and the frequency becomes higher in the order of f<b>1</b>, f<b>2</b>, f<b>3</b>.</p>
<p id="p-0119" num="0118">If the analyzed amplitude and frequency are within their respective predetermined ranges, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>reduces the sprung mass damping control amount adjusting gain K(s) from the reference value (step ST<b>4</b>). The amount of this reduction may be a fixed amount that is set in advance, or may be changed according to the magnitude of the analyzed amplitude and the height of the analyzed frequency. Therefore, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>obtains the final sprung mass damping control torque Twc by multiplying the reduced sprung mass damping control amount adjusting gain K(s) by the reference sprung mass damping control torque Twc<b>0</b>. Accordingly, at this time, sprung mass damping control that is restricted more than with the other modulation method is executed.</p>
<p id="p-0120" num="0119">After decreasing the sprung mass damping control amount adjusting gain K(s), the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>raises a restriction history flag that indicates that the sprung mass damping control has been restricted (i.e., turns the restriction history flag on) (step ST<b>5</b>).</p>
<p id="p-0121" num="0120">If, on the other hand, it is determined in step ST<b>3</b> that the amplitude and frequency are not within their respective predetermined ranges, or if it is determined in step ST<b>1</b> that the modulation method is not the overmodulation PWM control method, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>determines whether the restriction history flag is raised (step ST<b>6</b>). If it is determined in step ST<b>6</b> that the restriction flag is not raised, this cycle of the routine is ended. For example, if the determination in step ST<b>3</b> is No and then the determination in step ST<b>6</b> is also No, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>ends the routine without changing the sprung mass damping control amount adjusting gain K(s) from the reference value.</p>
<p id="p-0122" num="0121">If the restriction history flag is raised, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>gradually increases the sprung mass damping control amount adjusting gain K(s) so that it returns to the reference value (step ST<b>7</b>). Then the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>determines whether the sprung mass damping control amount adjusting gain K(s) has returned to the reference value (step ST<b>8</b>). If the sprung mass damping control amount adjusting gain K(s) has not yet returned to the reference value, the process returns to step ST<b>1</b> and continues the process to return the sprung mass damping control amount adjusting gain K(s) to the reference value in step ST<b>7</b>. If, on the other hand, the sprung mass damping control amount adjusting gain K(s) has returned to the reference value, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>lowers the restriction history flag (i.e., turns the restriction history flag off) (step ST<b>9</b>) and ends this cycle of the routine.</p>
<p id="p-0123" num="0122">In this way, when there is a possibility that the waveform of the demodulated signal may become distorted when the modulation method switches to the overmodulation PWM control method, the sprung mass damping control system of this second example embodiment restricts sprung mass damping control by reducing the sprung mass damping control amount adjusting gain K(s) from the reference value to reduce the final sprung mass damping control torque Twc so that it is less than the reference sprung mass damping control torque Twc<b>0</b>. That is, this sprung mass damping control system restricts sprung mass damping control by adjusting the amplitude of the sprung mass damping control signal relating to the sprung mass damping control amount, which it does by adjusting the sprung mass damping control amount adjusting gain K(s) according to the modulation method. Accordingly, this sprung mass damping control reduces or eliminates variation in the output responsiveness of the sprung mass damping control amount between the overmodulation PWM control method and the other modulation method. Therefore, the sprung mass damping control system of this second example embodiment is able to compensate for variation in the output responsiveness of the sprung mass damping control amount of each modulation method, regardless of the type of modulation method. As a result, the desired sprung mass damping control can be executed throughout the entire command torque and vehicle speed ranges.</p>
<p id="p-0124" num="0123">Here in the example given above, the final sprung mass damping control torque Twc (i.e., the sprung mass damping control amount) is kept low by adjusting the sprung mass damping control amount adjusting gain K(s). Alternatively, however, upper and lower limit guard values or a rate limit that restricts the sprung mass damping control amount may be used instead of that sprung mass damping control amount adjusting gain K(s). For example, the sprung mass damping control amount may be either a positive value or a negative value, so the upper and lower limit guard values may be such that the upper limit is a positive value and the lower limit is a negative value. When it is determined in step ST<b>3</b> that the amplitude and the frequency are not within their respective predetermined ranges, these upper and lower limit guard values are such that the width between the upper value and the lower value is large so as not to restrict the sprung mass damping control amount. Here, the upper limit and the lower limit at this time will be references. If it is determined in step ST<b>3</b> that the amplitude and the frequency are within their respective predetermined ranges and the sprung mass damping control amount is a positive value, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>changes at least the upper limit value of the reference upper and lower limit guard values to a small value. If, on the other hand, it is determined in step ST<b>3</b> that the amplitude and the frequency are within their respective predetermined ranges and the sprung mass damping control amount is a negative value, the sprung mass damping control amount responsiveness compensating portion <b>5</b><i>d </i>changes at least the lower limit value of the reference upper and lower limit guard values to a large value.</p>
<p id="p-0125" num="0124">Also, if there are three or more modulation methods, including the overmodulation PWM control method, the same phase compensation as in the first example embodiment may be executed when the modulation method is a modulation method other than the overmodulation PWM control method.</p>
<p id="p-0126" num="0125">Incidentally, in the each of the first and second example embodiments described above, the vehicle described is a hybrid vehicle or an electric vehicle that performs sprung mass damping control by controlling the motor-generator control amount of a motor-generator (i.e., the second motor-generator <b>32</b>) provided as a drive source. However, the invention described in the each of the first and second example embodiments is not necessarily limited to this.</p>
<p id="p-0127" num="0126">For example, in a hybrid vehicle or an electric vehicle provided with a motor that is driven by a waveform signal as a drive source, sprung mass damping control may be executed by adjusting the motor control amount (i.e., the driving control amount) of the motor. This sprung mass damping control is executed by a motor control device (i.e., a drive source control device) that controls the motor. This vehicle is provided with a sprung mass damping control amount adjusting apparatus similar to that in the first and second example embodiments, which adjusts the phase or the amplitude of the sprung mass damping control sprung mass damping control signal related to the sprung mass damping control amount, according to the waveform signal (i.e., the waveform signal modulation method). Furthermore, in a hybrid vehicle or an electric vehicle provided with a generator capable of operating as a motor driven by a waveform signal, as a drive source, sprung mass damping control may also be executed by adjusting the motor control amount (i.e., the driving control amount) of the generator. This sprung mass damping control is executed by a generator control device (i.e., drive source control device) that controls the generator. This vehicle is also provided with a sprung mass damping control amount adjusting apparatus similar to that in the first and second example embodiments, which adjusts the phase or the amplitude of the sprung mass damping control sprung mass damping control signal related to the sprung mass damping control amount, according to the waveform signal (i.e., the waveform signal modulation method).</p>
<p id="p-0128" num="0127">Also, in the first and second example embodiment, phase compensation of the sprung mass damping control amount is executed to match the change in the responsiveness of the output from the difference between the modulation methods of the motor-generator. However, the factors behind the change in the responsiveness of the drive source are not necessarily limited to those described above.</p>
<p id="p-0129" num="0128">For example, the responsiveness of the output of the motor-generator, the responsiveness of the output of the motor, and the responsiveness of the output of the generator are all inherently different and also change depending on and the surrounding temperature and the like. Therefore, the sprung mass damping control systems in the first and second example embodiments described above may also advance the phase of the sprung mass damping control amount by executing phase compensating control of the sprung mass damping control amount similar to that in the first and second example embodiments at this time.</p>
<p id="p-0130" num="0129">Further, the responsiveness of the output of the motor-generator, the motor, and the generator may decrease when the state-of-charge (SOC) of the battery <b>41</b>. Therefore, because the output responsiveness of the sprung mass damping control amount may also decrease when the responsiveness of the output of the motor-generator, the motor, and the generator decreases, the sprung mass damping control amount adjusting apparatus in each of the first and second example embodiments described above may also advance the phase of the sprung mass damping control amount by executing phase compensating control of the sprung mass damping control amount similar to that of the first and second example embodiments at that time.</p>
<p id="p-0131" num="0130">Also, when the engine <b>10</b> is a gasoline engine that uses gasoline fuel, the responsiveness of the output of the engine <b>10</b> decreases when the engine <b>10</b> is operating at low speed and high torque and the torque change gradient at that time is large, so the output responsiveness of the sprung mass damping control amount may also decrease. Therefore, the sprung mass damping control amount adjusting apparatus in each of the first and second example embodiments described above may advance the phase of the sprung mass damping control amount by executing phase compensating control of the sprung mass damping control amount similar to that of the first and second example embodiments in that situation. Also, when the engine <b>10</b> is a diesel engine that uses light diesel oil, the responsiveness of the output of the engine <b>10</b> decreases when the engine <b>10</b> is operating at low speed, so the output responsiveness of the sprung mass damping control amount may also decrease. Therefore, the sprung mass damping control amount adjusting apparatus in each of the first and second example embodiments described above may advance the phase of the sprung mass damping control amount by executing phase compensating control of the sprung mass damping control amount similar to that of the first and second example embodiments in that situation.</p>
<p id="p-0132" num="0131">Here, the sprung mass damping control may also be performed by adjusting the engine control amount of the engine <b>10</b>. In this case, the engine control device <b>4</b> also functions as a sprung mass damping control executing device that executes sprung mass damping control. The sprung mass damping control amount adjusting apparatus performs phase compensating control of the sprung mass damping control amount when the operating state of the engine <b>10</b> matches at least one of the operating states described above. Therefore, this phase compensating control of the sprung mass damping control amount may be applied not only to a hybrid vehicle having the engine <b>10</b> (a gasoline engine or a diesel engine) and a motor-generator (in this case the second motor-generator <b>32</b>), but also to a so-called gasoline or diesel vehicle that has only the engine <b>10</b> as the drive source.</p>
<p id="p-0133" num="0132">Also, sprung mass damping control may be performed by adjusting both the engine control amount of the engine <b>10</b> and the motor-generator control amount of the motor-generator. In this case, the engine <b>10</b> has worse output responsiveness than the motor-generator doe, so there is a possibility that the output responsiveness of the sprung mass damping control amount may decrease as the sprung mass damping control amount on the engine increases. Accordingly, the sprung mass damping control amount adjusting apparatus of each in the first and second example embodiments described above may also advance the phase of the sprung mass damping control amount by executing phase compensating control of the sprung mass damping control amount similar to that in the first and second example embodiments in that situation.</p>
<p id="p-0134" num="0133">Also, regardless of the type of vehicle (e.g., whether the vehicle is a hybrid vehicle or a gasoline vehicle or the like), when it is traveling with a low speed established in the transmission, the resonant frequency is low so there is a possibility that the responsiveness with which the driving control amount of that transmission is transmitted to the driving wheels WL and WR (hereinafter referred to as the &#x201c;transmission responsiveness&#x201d;) may decrease. Therefore, the transmission responsiveness of the driving control amount of a driving control amount transmitting apparatus that includes the transmission (such as the power split device <b>20</b> and the power transmission device <b>50</b>) decreases, so there is a possibility that the output responsiveness of the sprung mass damping control amount will also decrease at this time. Accordingly, the sprung mass damping control amount adjusting apparatus in each of the first and second example embodiments described above may also advance the phase of the sprung mass damping control amount by executing phase compensating control of the sprung mass damping control amount similar to that in the first and second example embodiments at this time.</p>
<p id="p-0135" num="0134">While various examples of changing the responsiveness of the drive source and the driving control amount transmitting apparatus have been described above, phase compensating control of the sprung mass damping control amount can also be executed other cases when changing the responsiveness of at least one of the drive source or the driving control amount transmitting apparatus. That is, in a vehicle that suppresses sprung mass vibration by outputting the driving control amount of the drive source over which at least a waveform signal that is based on fluctuation in the wheel speed due to bumps and dips in the road surface has been superimposed and thus suppressing that fluctuation, when the responsiveness of at least one of the drive source or a driving control amount transmitting apparatus that transmits the driving control amount output from the drive source to the driving wheels is less than a given reference responsiveness, the phase of that waveform signal may be advanced compared with when that reference responsiveness is high. As a result, the sprung mass damping control amount is appropriately adjusted to compensate for variation in the output responsiveness of the sprung mass damping control, thereby enabling the desired sprung mass damping control to be executed.</p>
<p id="p-0136" num="0135">As described above, the sprung mass damping control system of a vehicle and the vehicle according to the invention are useful as technology the suppresses a decrease in accuracy of sprung mass damping control.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08626388-20140107-M00001.NB">
<img id="EMI-M00001" he="39.12mm" wi="76.20mm" file="US08626388-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08626388-20140107-M00002.NB">
<img id="EMI-M00002" he="25.74mm" wi="76.20mm" file="US08626388-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08626388-20140107-M00003.NB">
<img id="EMI-M00003" he="21.51mm" wi="76.20mm" file="US08626388-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08626388-20140107-M00004.NB">
<img id="EMI-M00004" he="58.25mm" wi="76.20mm" file="US08626388-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A sprung mass damping control system of a vehicle, which suppresses sprung mass vibration generated in a vehicle body by adjusting a driving control amount of a drive source, comprising:
<claim-text>a spring vibration control amount calculating device that sets a sprung mass damping control amount for suppressing the sprung mass vibration;</claim-text>
<claim-text>a drive source control device that executes sprung mass damping control by controlling the driving control amount of the drive source to realize the sprung mass damping control amount; and</claim-text>
<claim-text>a sprung mass damping control amount adjusting apparatus that adjusts the phase of a sprung mass damping control signal related to the sprung mass damping control amount according to the situation,</claim-text>
<claim-text>wherein the drive source control device executes sprung mass damping control by controlling a motor-generator control amount of a motor-generator that is driven by a waveform signal, or a motor control amount of a motor or a generator capable of operating as a motor that is driven by the waveform signal, and the sprung mass damping control amount adjusting apparatus adjusts the phase of the sprung mass damping control signal related to the sprung mass damping control amount according to the waveform signal, and</claim-text>
<claim-text>the phase of the waveform signal is shifted when the responsiveness of at least one of the drive source or a driving control amount transmitting apparatus that transmits a driving control amount output from the drive source to a driving wheel decreases.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The sprung mass damping control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the drive source control device executes sprung mass damping control by controlling a motor-generator control amount of a motor-generator, the waveform signal modulation method of which is able to be switched, or a motor control amount of a motor or a generator capable of operating as a motor, the waveform signal modulation method of which is able to be switched, and the sprung mass damping control amount adjusting apparatus adjusts the phase of the sprung mass damping control signal related to the sprung mass damping control amount according to the modulation method.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The sprung mass damping control system according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the sprung mass damping control amount adjusting apparatus reduces the sprung mass damping control amount when the modulation method is an overmodulation PWM control method and the frequency of the sprung mass damping control signal according to the sprung mass damping control amount is within the predetermined range.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The sprung mass damping control system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the drive source control device executes sprung mass damping control by controlling a motor-generator control amount of a motor-generator, the waveform signal modulation method of which is able to be switched, or a motor control amount of a motor or a generator capable of operating as a motor, the waveform signal modulation method of which is able to be switched, and the sprung mass damping control amount adjusting apparatus adjusts the sprung mass damping control amount when the frequency of the sprung mass damping control signal according to the sprung mass damping control amount is within a predetermined range.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A method of performing a sprung mass damping control in a vehicle, comprising:
<claim-text>superimposing a waveform signal, based on fluctuation in wheel speed due to bumps and dips in a road surface, over a driving control amount of a drive source using a control unit;</claim-text>
<claim-text>outputting the driving control amount of the drive source to a driving wheel using a driving control amount transmitting apparatus;</claim-text>
<claim-text>suppressing at least the fluctuation in wheel speed; and</claim-text>
<claim-text>shifting the phase of the waveform signal when the responsiveness of at least one of the drive source or a driving control amount apparatus that transmits the driving control amount from the drive source to the driving wheel decreases. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
