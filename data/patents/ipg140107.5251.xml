<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626351-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626351</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12920122</doc-number>
<date>20090225</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2008-051184</doc-number>
<date>20080229</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>250</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>05</class>
<subclass>B</subclass>
<main-group>13</main-group>
<subgroup>02</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>05</class>
<subclass>D</subclass>
<main-group>3</main-group>
<subgroup>12</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>F</section>
<class>02</class>
<subclass>B</subclass>
<main-group>43</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>R</subclass>
<main-group>21</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>E</subclass>
<main-group>1</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>R</subclass>
<main-group>11</main-group>
<subgroup>56</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>700291</main-classification>
<further-classification>700 28</further-classification>
<further-classification>700 36</further-classification>
<further-classification>700 48</further-classification>
<further-classification>700286</further-classification>
<further-classification> 60 3912</further-classification>
<further-classification>702 60</further-classification>
<further-classification>706 19</further-classification>
<further-classification>705412</further-classification>
</classification-national>
<invention-title id="d2e71">Method and device for operation scheduling for energy storage equipment</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5315521</doc-number>
<kind>A</kind>
<name>Hanson et al.</name>
<date>19940500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5432710</doc-number>
<kind>A</kind>
<name>Ishimaru et al.</name>
<date>19950700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5873251</doc-number>
<kind>A</kind>
<name>Lino</name>
<date>19990200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>7991512</doc-number>
<kind>B2</kind>
<name>Chandra et al.</name>
<date>20110800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>700291</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2003/0189420</doc-number>
<kind>A1</kind>
<name>Hashimoto et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>323212</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2004/0039490</doc-number>
<kind>A1</kind>
<name>Kojima et al.</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>700287</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2007/0276547</doc-number>
<kind>A1</kind>
<name>Miller</name>
<date>20071100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>700295</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2009/0319090</doc-number>
<kind>A1</kind>
<name>Dillon et al.</name>
<date>20091200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>700291</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2011/0270457</doc-number>
<kind>A1</kind>
<name>Kreiss et al.</name>
<date>20111100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>700292</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>CN</country>
<doc-number>101330210</doc-number>
<kind>A</kind>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>EP</country>
<doc-number>2 251 751</doc-number>
<kind>A1</kind>
<date>20101100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>JP</country>
<doc-number>6086463</doc-number>
<date>19940300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>JP</country>
<doc-number>6182192</doc-number>
<date>19940700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>JP</country>
<doc-number>7328412</doc-number>
<date>19951200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>JP</country>
<doc-number>9179604</doc-number>
<date>19970700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>JP</country>
<doc-number>2004 171548</doc-number>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>JP</country>
<doc-number>2005 102357</doc-number>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>JP</country>
<doc-number>2005 257097</doc-number>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00019">
<othercit>Marwali et al., Short Term Generation Scheduling in PhotoVoltaic Utility Grid With Battery Storage, IEEE, 1998.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00020">
<othercit>Lee, Operating Schedule of Battery Energy Storage System in a Time-of-Use Rate Industrial User With Wind Turbine Generators: A Multipass Iteration Particle Swarm Optimization Approach, IEEE, 2007.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00021">
<othercit>Office Action issued Dec. 11, 2012 in Chinese Patent Application No. 200980106649.9 (with English translation).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00022">
<othercit>Iwanami Kouza: Ouyou Suugaku 15 (Houhou 7), Saitekika Hou (Hiroshi Fujita, Hiroshi Konno, Kunio Tanabe) pp. 96-98 (1998).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00023">
<othercit>Clear Report/Search Report mailed Sep. 13, 2013 in Malaysian Patent Application No. PI2010004015.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>3</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>700 28</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>700 36</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>700 48- 50</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>700 90</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>700286</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>700291</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>700295</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification> 60 3912</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification> 60 3913</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>702 60</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>702 61</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>706 19</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>706 21</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>706907</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>705412</main-classification>
</classification-national>
<classification-cpc-text>G05B 13/024</classification-cpc-text>
<classification-cpc-text>Y04S 20/222</classification-cpc-text>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>7</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110087381</doc-number>
<kind>A1</kind>
<date>20110414</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Hirato</last-name>
<first-name>Kota</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Tada</last-name>
<first-name>Yoshimasa</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Hirato</last-name>
<first-name>Kota</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Tada</last-name>
<first-name>Yoshimasa</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Oblon, Spivak, McClelland, Maier &#x26; Neustadt, L.L.P.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Kabushiki Kaisha Toshiba</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Padmanabhan</last-name>
<first-name>Kavita</first-name>
<department>2121</department>
</primary-examiner>
<assistant-examiner>
<last-name>Dunn</last-name>
<first-name>Darrin</first-name>
</assistant-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/JP2009/000830</doc-number>
<kind>00</kind>
<date>20090225</date>
</document-id>
<us-371c124-date>
<date>20101230</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2009/107373</doc-number>
<kind>A </kind>
<date>20090903</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">In various energy systems which handle a plurality of types of energy, a method and device for operation scheduling for energy storage equipment are provided, which determines optimal operation of an energy storage equipment and improves the efficiency of the energy system overall. An energy storage equipment operation scheduling part <b>13</b> creates an energy storage equipment operation schedule, an energy generation equipment modified operation schedule, and an energy storage equipment modified operation schedule, based on three information items, which are the energy demand forecast information stored in a storage part D<b>1</b>, the energy generation equipment operation schedule stored in a storage part D<b>2</b>, and equipment connection information, and sends the created schedules to the equipment controller <b>20. </b></p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="154.77mm" wi="250.95mm" file="US08626351-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="254.17mm" wi="162.81mm" orientation="landscape" file="US08626351-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="239.18mm" wi="174.41mm" orientation="landscape" file="US08626351-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="240.20mm" wi="179.66mm" file="US08626351-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="217.09mm" wi="149.18mm" orientation="landscape" file="US08626351-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="223.77mm" wi="164.59mm" orientation="landscape" file="US08626351-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="252.81mm" wi="180.00mm" orientation="landscape" file="US08626351-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="249.68mm" wi="185.25mm" file="US08626351-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0002" num="0001">This invention relates to a method and device for operation scheduling for energy storage equipment in an energy system having various energy forms.</p>
<heading id="h-0002" level="1">BACKGROUND ART</heading>
<p id="p-0003" num="0002">In recent years, there has been an increasing number of energy systems which simultaneously handle various energy forms, from the standpoint of global environmental protection and energy conservation.</p>
<p id="p-0004" num="0003">For example, a so-called cogeneration system, in which waste heat is recovered from electric power facilities at the time of electric power generation and is converted into heat conforming to the form of utilization and supplied together with electric power, aims to achieve extremely high total efficiency, nearly double the efficiency when only the generated electric power is used.</p>
<p id="p-0005" num="0004"><figref idref="DRAWINGS">FIG. 7</figref> is a graph showing the change with time in electric power demand and heat demand in one day in a certain region; the horizontal axis represents time, and the vertical axis represents the electric power load and heat load. As is clear from <figref idref="DRAWINGS">FIG. 7</figref>, in general heat is supplied simultaneously with electric power, and so in essence the coincidence, in terms of both quantity and time, of electric power demand state and the heat demand state is a condition to achieve high total efficiency in a cogeneration system.</p>
<p id="p-0006" num="0005">However, in actuality the electric power demand state and the heat demand state do not necessarily coincide, and so when supply of either electric power or of heat is matched to demand, the problem occurs that the total efficiency which initially had been expected is not obtained. Hence a measure is conceivable in which, by introducing an electricity storage equipment or a heat storage equipment, high total efficiency is secured.</p>
<p id="p-0007" num="0006">In a system in which an electricity storage equipment or a heat storage equipment, or both, is introduced, when considering operation during a certain term, questions include the timing with which power charge or heat charge by a electricity storage equipment or heat storage equipment is rational, or the timing with which power discharge or heat discharge from an electricity storage equipment or heat storage equipment is rational. When considering operation of an electricity storage equipment or heat storage equipment during a certain term, due to constraints on the capacity of the electricity storage equipment or heat storage equipment, unconditional continuation of power discharge or of heat discharge is not possible, and the need arises to perform power charge or heat charge in a certain time period equal to the amount of reduction in charged power or charged heat due to power discharge or heat discharge in a different time period, to restore the amount of power charge or heat charge. Further, it is expected that, instead of considering these equipments independently, simultaneous optimization will be more effective.</p>
<p id="p-0008" num="0007">In methods of energy system operation scheduling of the prior art, for example in relation to electricity storage equipments, generally time periods for power charge at nighttime and time periods for power discharge during electric power load peaks are decided, and schedules for operation are created according to rules.</p>
<p id="p-0009" num="0008">Among such energy system operation scheduling methods, there are some which suggest that mixed-integer programming problems can be directly applied (Patent Document 1). Further, as an alternative, a method has been proposed in which a metaheuristic method is applied and an approximate solution is found (Patent Document 2).
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0009">Patent Document 1: Japanese Patent Laid-open No. 2005-257097</li>
    <li id="ul0001-0002" num="0010">Patent Document 2: Japanese Patent Laid-open No. 2004-171548</li>
    <li id="ul0001-0003" num="0011">Non-patent Document 1: <i>Iwanami Kouza: Ouyou Suugaku </i>15 (<i>Houhou </i>7), <i>Saitekika Hou </i>(Hiroshi Fujita, Hiroshi Konno, Kunio Tanabe (1998))</li>
</ul>
</p>
<p id="p-0010" num="0012">Among energy system operation scheduling methods of the prior art for an energy system which simultaneously handles various forms of energy, a practical method for determining an operation schedule which simultaneously optimizes two or more types of energy storage equipments has not been established, and so it could not be said that operation was necessarily optimized, viewing the energy system as a whole.</p>
<p id="p-0011" num="0013">For example, when applying a mixed-integer programming problem disclosed in Patent Document 1, problems that can be handled using current technology are limited to mixed-integer quadratic programming problems, so that the fuel consumption characteristics of equipment existing in the energy system are limited to simple characteristics represented by downward convex quadratic equations. Further, in general such mixed-integer quadratic programming problems are often not for practical purposes soluble, due to constraints on computation time.</p>
<p id="p-0012" num="0014">Further, when applying a metaheuristic method disclosed in Patent Document 2, although in general a solution is obtained using a metaheuristic method in a practical amount of computation time, often ease of explanation is lacking, and there has been the problem that solution analysis is difficult.</p>
<heading id="h-0003" level="1">DISCLOSURE OF THE INVENTION</heading>
<p id="p-0013" num="0015">This invention was devised in order to solve the above problems of the prior art, and has as an object the provision, in various energy systems which handle a plurality of types of energy, of a method and device for operation scheduling for energy storage equipment which determines optimal operation of an energy storage equipment and improves the efficiency of the energy system overall.</p>
<p id="p-0014" num="0016">In one aspect of the invention, a method for operation scheduling for energy storage equipment is provided in an energy system which has an energy generation equipment group composed of a plurality of energy generation equipments and an energy storage equipment group composed of a plurality of energy storage equipments capable of both energy generation and storage. This method comprises the steps of: forecasting energy demand for the energy system overall in each time period included in a prescribed term; finding an operation schedule of the energy generation equipments such that an operation schedule for each time period is found which satisfy energy demand for a prescribed term in each of the energy generation equipments; changing the loads to be allocated to each of the energy generation equipments, by a given discrete quantity, either for a plurality of loads simultaneously or separately, and calculating the change in energy supply cost from this change of the loads; and, determining an operation schedule of the energy storage equipments, based on the forecasted energy demand and the found operation schedule, such that the sum of the energy supply costs of the energy generation equipments during the term is minimized. In another aspect of this invention, a device is provided which comprehends the characteristics of this method in terms of device.</p>
<p id="p-0015" num="0017">By implementation of this invention, it is possible to create a supply/demand operation schedule which improves system efficiency for the energy system overall. Further, by means of a method of this invention, even when characteristics of equipment existing in an energy system have complex nonlinearity compared with the prior art, the characteristics can be handled comparatively easily. Also, what is originally a complex problem can be analyzed into partial problems which are comparatively simple and which can be solved independently, so that analysis of results obtained for each partial problem is comparatively easy, and hence the method is thought to enable easy explanation of solutions. From the standpoint of processing time, a method of this invention enables parallel computation, so that for example by applying a plurality of computers in parallel, processing can be made faster.</p>
<p id="p-0016" num="0018">By means of this invention, in various energy systems which handle a plurality of types of energy, a method and device for operation scheduling for energy storage equipment can be provided, which determines optimal operation of an energy storage equipment and improves the efficiency of the energy system overall.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0017" num="0019"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram showing the overall configuration of the energy system of a first embodiment of the invention;</p>
<p id="p-0018" num="0020"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram showing a partial configuration of the energy system of the first embodiment of the invention;</p>
<p id="p-0019" num="0021"><figref idref="DRAWINGS">FIG. 3</figref> is a conceptual diagram showing combinations of storage quantity steps of energy storage equipments in the first embodiment of the invention;</p>
<p id="p-0020" num="0022"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram showing a partial configuration of the energy system of a second embodiment of the invention;</p>
<p id="p-0021" num="0023"><figref idref="DRAWINGS">FIG. 5</figref> is a conceptual diagram showing differences between the solution in the first embodiment of the invention and the solution of the second embodiment;</p>
<p id="p-0022" num="0024"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram showing the overall configuration of the energy system of a third embodiment of the invention;</p>
<p id="p-0023" num="0025"><figref idref="DRAWINGS">FIG. 7</figref> shows an example of changes in one day of an electric power load and a heat load; and,</p>
<p id="p-0024" num="0026"><figref idref="DRAWINGS">FIG. 8</figref> shows an example of electric power output and quantity of recovered heat, versus load factor of a power-heat generation equipment.</p>
<p id="p-0025" num="0027">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>EXPLANATION OF REFERENCE NUMERALS</entry>
</row>
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="56pt" align="center"/>
<colspec colname="2" colwidth="161pt" align="left"/>
<tbody valign="top">
<row>
<entry>&#x2003;1</entry>
<entry>Energy system operation scheduling device</entry>
</row>
<row>
<entry>&#x2003;2</entry>
<entry>Energy system</entry>
</row>
<row>
<entry>&#x2002;11</entry>
<entry>Energy demand forecast part</entry>
</row>
<row>
<entry>&#x2002;12</entry>
<entry>Energy generation equipment operation scheduling</entry>
</row>
<row>
<entry/>
<entry>part</entry>
</row>
<row>
<entry>&#x2002;13</entry>
<entry>Energy storage equipment operation scheduling part</entry>
</row>
<row>
<entry>&#x2002;14</entry>
<entry>Energy supply unit-cost calculation part</entry>
</row>
<row>
<entry>&#x2002;15</entry>
<entry>Start/stop order calculation part</entry>
</row>
<row>
<entry>&#x2002;16</entry>
<entry>Energy generation equipment start/stop-dependent</entry>
</row>
<row>
<entry/>
<entry>energy storage equipment operation scheduling part</entry>
</row>
<row>
<entry>&#x2002;20</entry>
<entry>Equipment controller</entry>
</row>
<row>
<entry>&#x2002;21</entry>
<entry>Energy generation equipment group</entry>
</row>
<row>
<entry>&#x2002;22</entry>
<entry>Energy storage equipment group</entry>
</row>
<row>
<entry>&#x2002;23</entry>
<entry>Energy load</entry>
</row>
<row>
<entry>&#x2002;24</entry>
<entry>Electric power load</entry>
</row>
<row>
<entry>&#x2002;25</entry>
<entry>Heat load</entry>
</row>
<row>
<entry>&#x2002;31</entry>
<entry>Control signal transmission medium</entry>
</row>
<row>
<entry>&#x2002;32</entry>
<entry>Energy transmission medium</entry>
</row>
<row>
<entry>131</entry>
<entry>Constraint setting part A</entry>
</row>
<row>
<entry>132</entry>
<entry>Nonlinear programming problem solving part A</entry>
</row>
<row>
<entry>133</entry>
<entry>Dynamic programming problem solving part</entry>
</row>
<row>
<entry>135</entry>
<entry>Constraint setting part B</entry>
</row>
<row>
<entry>136</entry>
<entry>Nonlinear programming problem solving part B</entry>
</row>
<row>
<entry>D1</entry>
<entry>Energy demand forecast information</entry>
</row>
<row>
<entry>D2</entry>
<entry>Energy generation equipment operation schedule</entry>
</row>
<row>
<entry>D3</entry>
<entry>Equipment/facility database</entry>
</row>
<row>
<entry>D4</entry>
<entry>Energy storage equipment operation schedule</entry>
</row>
<row>
<entry>D5</entry>
<entry>Energy generation equipment modified operation</entry>
</row>
<row>
<entry/>
<entry>schedule</entry>
</row>
<row>
<entry>D6</entry>
<entry>Energy storage equipment modified operation</entry>
</row>
<row>
<entry/>
<entry>schedule</entry>
</row>
<row>
<entry>D7</entry>
<entry>Energy supply unit-cost</entry>
</row>
<row>
<entry>D8</entry>
<entry>Start/stop order</entry>
</row>
<row>
<entry>&#x2003;D131</entry>
<entry>Energy supply cost change information</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">BEST MODE FOR CARRYING OUT THE INVENTION</heading>
<p id="p-0026" num="0028">This invention is generally applied to energy systems including cogeneration systems. In this case an energy system operation scheduling method is a method in which, based on a given power-heat demand for the energy system as a whole, start/stop plan (start/stop information for each equipment unit), forecast values of charged power quantities for electricity storage equipments, and forecast values of charged heat quantities for heat storage equipments, the output distribution values are calculated such that the energy supply costs of energy generation equipments are minimum over a plurality of time periods, and an operation schedule is created. Below, preferred embodiments to implement the invention are explained specifically, referring to <figref idref="DRAWINGS">FIG. 1</figref> through <figref idref="DRAWINGS">FIG. 6</figref>. Throughout the figures, the same symbols are assigned to the same portions, and redundant explanations are omitted as appropriate.</p>
<heading id="h-0006" level="1">1. First Embodiment</heading>
<p id="h-0007" num="0000">{1-1. Summary Configuration and Action}</p>
<p id="p-0027" num="0029"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram of overall configuration, showing a first embodiment (hereafter in this section, &#x201c;this embodiment&#x201d;) of the invention. More specifically, <figref idref="DRAWINGS">FIG. 1</figref> is a block diagram showing the configuration connecting an energy system operation scheduling device <b>1</b> and an energy system <b>2</b>, and the flow of energy and control information based thereupon.</p>
<p id="p-0028" num="0030">To summarize, the energy system operation scheduling device <b>1</b> creates an energy storage equipment operation schedule D<b>4</b>, an energy generation equipment modified operation schedule D<b>5</b>, and an energy storage equipment modified operation schedule D<b>6</b>, and passes these to an equipment controller <b>20</b> of the energy generation system <b>2</b>.</p>
<p id="p-0029" num="0031">Upon receiving these schedules, the equipment controller <b>20</b> transmits information to control each of the equipment units to an energy generation equipment group <b>21</b> composed of power generation facilities and the like, and to an energy storage equipment group <b>22</b> composed of electricity storage equipments, heat storage equipments and the like, via a control signal transmission medium <b>31</b>, based on the energy storage equipment operation schedule D<b>4</b>, the energy generation equipment modified operation schedule D<b>5</b> and the energy storage equipment modified operation schedule D<b>6</b>. Energy is supplied to the energy load <b>23</b> from the energy generation equipment group <b>21</b> or the energy storage equipment group <b>22</b>, via an energy transmission medium <b>32</b>.</p>
<p id="p-0030" num="0032">Inside this energy system operation scheduling device <b>1</b> there are provided an energy demand forecast part <b>11</b>, an energy generation equipment operation scheduling part <b>12</b>, and an energy storage equipment operation scheduling part <b>13</b>.</p>
<p id="p-0031" num="0033">The energy demand forecast part <b>11</b> is means for forecasting future energy demand, creating energy demand forecast information, and storing this in a storage part D<b>1</b>. The energy generation equipment operation scheduling part <b>12</b> is means for creating an energy generation equipment operation schedule, that is, start and stop information for each equipment unit, based on equipment/facility information stored in the equipment/facility database D<b>3</b>, and for storing this in a storage part D<b>2</b>. The methods for this forecasting of energy demand and for creation of an energy generation equipment operation schedule are similar to methods of the prior art.</p>
<p id="p-0032" num="0034">A characteristic of this embodiment is the processing in the energy storage equipment operation scheduling part <b>13</b>. This energy storage equipment operation scheduling part <b>13</b> creates an energy storage equipment operation schedule, an energy generation equipment modified operation schedule, and an energy storage equipment modified operation schedule, based on three information items, which are the energy demand forecast information stored in the storage part D<b>1</b>, the energy generation equipment operation schedule stored in the storage part D<b>2</b>, and equipment connection information, and sends [these schedules] to the equipment controller <b>20</b>. Below, the configuration of this energy storage equipment operation scheduling part <b>13</b> is explained in detail.</p>
<p id="h-0008" num="0000">{1-2. Specific Configuration and Action}</p>
<p id="p-0033" num="0035">Based on the above summary of this embodiment, the specific configuration of the energy storage equipment operation scheduling part <b>13</b> is explained, referring to the block diagram of <figref idref="DRAWINGS">FIG. 2</figref>. As shown in <figref idref="DRAWINGS">FIG. 2</figref>, the energy storage equipment operation scheduling part <b>13</b> comprises a constraint setting part <b>131</b>, a nonlinear programming problem solving part <b>132</b>, and a dynamic programming problem solving part <b>133</b>.</p>
<p id="p-0034" num="0036">The constraint setting part <b>131</b> receives three inputs, which are the energy demand forecast information stored in the storage part D<b>1</b>, the energy generation equipment operation schedule stored in the storage part D<b>2</b>, and the equipment/facility information stored in the equipment/facility database D<b>3</b>, and provides settings and conditions for the problem to the nonlinear programming problem solving part <b>132</b>.</p>
<p id="p-0035" num="0037">The nonlinear programming problem solving part <b>132</b> changes the loads to be allocated, by a given discrete quantity, either for a plurality of loads simultaneously or separately, for each of the combinations of discrete quantities (hereafter also called &#x201c;storage quantity steps&#x201d;) in storage quantity changes of energy storage equipments obtained from the equipment/facility database D<b>3</b>. From these changes, the changes in energy supply costs are calculated and are stored in energy supply cost change information D<b>131</b>.</p>
<p id="p-0036" num="0038">The dynamic programming problem solving part <b>133</b> uses values stored in the energy supply cost change information D<b>131</b>, and determines the optimum operation schedule for energy storage equipments, which is output to D<b>4</b>. At the same time, the modified optimum operation schedule for energy generation equipments is determined and so is output to D<b>5</b>.</p>
<p id="p-0037" num="0039">First, processing of the nonlinear programming problem solving part <b>132</b> is explained. The nonlinear programming problem solving part <b>132</b> finds a solution to the following optimization problem for a combination of storage quantity steps of energy storage equipments. <figref idref="DRAWINGS">FIG. 3</figref> is a conceptual diagram showing a combination of storage quantity steps of two energy storage equipments. For each of the mesh-shape combinations shown in the figure, changes in the energy supply cost are found using the following equation.</p>
<p id="p-0038" num="0040">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mstyle>
          <mspace width="4.4em" height="4.4ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mrow>
          <mrow>
            <mi>Objective</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mi>function</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>:</mtext>
            </mstyle>
          </mrow>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>
</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mtable>
            <mtr>
              <mtd>
                <mrow>
                  <mstyle>
                    <mspace width="4.4em" height="4.4ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <mrow>
                      <munderover>
                        <mo>&#x2211;</mo>
                        <mrow>
                          <mi>i</mi>
                          <mo>=</mo>
                          <mn>1</mn>
                        </mrow>
                        <mi>N</mi>
                      </munderover>
                      <mo>&#x2062;</mo>
                      <mrow>
                        <mrow>
                          <mi>f</mi>
                          <mo>&#x2061;</mo>
                          <mrow>
                            <mo>(</mo>
                            <msub>
                              <mi>v</mi>
                              <mrow>
                                <mi>i</mi>
                                <mo>,</mo>
                                <mi>t</mi>
                              </mrow>
                            </msub>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                        <mo>&#x2062;</mo>
                        <msub>
                          <mi>u</mi>
                          <mrow>
                            <mi>i</mi>
                            <mo>,</mo>
                            <mi>t</mi>
                          </mrow>
                        </msub>
                      </mrow>
                    </mrow>
                    <mo>&#x2192;</mo>
                    <mi>min</mi>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>energy</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>supply</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>cost</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>minimization</mi>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>
</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="4.4em" height="4.4ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mrow>
            <mi>Constraints</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>:</mtext>
            </mstyle>
          </mrow>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>
</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mrow>
            <mi>Start</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>/</mtext>
            </mstyle>
            <mo>&#x2062;</mo>
            <mi>stop</mi>
            <mo>&#x2062;</mo>
            <mrow>
              <mstyle>
                <mspace width="0.6em" height="0.6ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
            </mrow>
            <mo>&#x2062;</mo>
            <mi>state</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mi>of</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mi>energy</mi>
            <mo>&#x2062;</mo>
            <mrow>
              <mstyle>
                <mspace width="0.6em" height="0.6ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
            </mrow>
            <mo>&#x2062;</mo>
            <mi>generation</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mi>equipment</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mi>is</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mi>given</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mi>by</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mrow>
              <msub>
                <mi>u</mi>
                <mrow>
                  <mi>i</mi>
                  <mo>,</mo>
                  <mi>t</mi>
                </mrow>
              </msub>
              <mo>.</mo>
              <mstyle>
                <mtext>
</mtext>
              </mstyle>
              <mo>&#x2062;</mo>
              <mtable>
                <mtr>
                  <mtd>
                    <mrow>
                      <mrow>
                        <msub>
                          <mi>u</mi>
                          <mrow>
                            <mi>i</mi>
                            <mo>,</mo>
                            <mi>t</mi>
                          </mrow>
                        </msub>
                        <mo>&#xb7;</mo>
                        <msub>
                          <munder>
                            <mi>v</mi>
                            <mi>_</mi>
                          </munder>
                          <mrow>
                            <mi>i</mi>
                            <mo>,</mo>
                            <mi>t</mi>
                          </mrow>
                        </msub>
                      </mrow>
                      <mo>&#x2264;</mo>
                      <msub>
                        <mi>v</mi>
                        <mrow>
                          <mi>i</mi>
                          <mo>,</mo>
                          <mi>t</mi>
                        </mrow>
                      </msub>
                      <mo>&#x2264;</mo>
                      <mrow>
                        <mrow>
                          <msub>
                            <mi>u</mi>
                            <mrow>
                              <mi>i</mi>
                              <mo>,</mo>
                              <mi>t</mi>
                            </mrow>
                          </msub>
                          <mo>&#xb7;</mo>
                          <msub>
                            <mover>
                              <mi>v</mi>
                              <mi>_</mi>
                            </mover>
                            <mrow>
                              <mi>i</mi>
                              <mo>,</mo>
                              <mi>t</mi>
                            </mrow>
                          </msub>
                        </mrow>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.8em" height="0.8ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mrow>
                          <mo>(</mo>
                          <mrow>
                            <mo>&#x2200;</mo>
                            <mi>i</mi>
                          </mrow>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                  </mtd>
                  <mtd>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <mi>load</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.8em" height="0.8ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>factor</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.8em" height="0.8ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>constraint</mi>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mrow>
                      <mrow>
                        <munderover>
                          <mo>&#x2211;</mo>
                          <mrow>
                            <mi>i</mi>
                            <mo>=</mo>
                            <mn>1</mn>
                          </mrow>
                          <mi>N</mi>
                        </munderover>
                        <mo>&#x2062;</mo>
                        <mrow>
                          <msub>
                            <mi>u</mi>
                            <mrow>
                              <mi>i</mi>
                              <mo>,</mo>
                              <mi>t</mi>
                            </mrow>
                          </msub>
                          <mo>&#x2062;</mo>
                          <mrow>
                            <msub>
                              <mi>P</mi>
                              <mrow>
                                <mi>i</mi>
                                <mo>,</mo>
                                <mi>s</mi>
                              </mrow>
                            </msub>
                            <mo>&#x2061;</mo>
                            <mrow>
                              <mo>(</mo>
                              <msub>
                                <mi>v</mi>
                                <mrow>
                                  <mi>i</mi>
                                  <mo>,</mo>
                                  <mi>t</mi>
                                </mrow>
                              </msub>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                        </mrow>
                      </mrow>
                      <mo>=</mo>
                      <mrow>
                        <msub>
                          <mi>DP</mi>
                          <mrow>
                            <mi>s</mi>
                            <mo>,</mo>
                            <mi>t</mi>
                          </mrow>
                        </msub>
                        <mo>+</mo>
                        <mrow>
                          <mi>&#x394;</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <msub>
                            <mi>DP</mi>
                            <mrow>
                              <mi>s</mi>
                              <mo>,</mo>
                              <mrow>
                                <mi>j</mi>
                                <mo>&#x2061;</mo>
                                <mrow>
                                  <mo>(</mo>
                                  <mi>s</mi>
                                  <mo>)</mo>
                                </mrow>
                              </mrow>
                            </mrow>
                          </msub>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.8em" height="0.8ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mrow>
                            <mo>(</mo>
                            <mrow>
                              <mo>&#x2200;</mo>
                              <mi>t</mi>
                            </mrow>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                      </mrow>
                    </mrow>
                  </mtd>
                  <mtd>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <mi>energy</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.8em" height="0.8ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>balance</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.8em" height="0.8ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <mi>constaint</mi>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mtd>
                </mtr>
              </mtable>
            </mrow>
          </mrow>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>
</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="4.4em" height="4.4ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mrow>
            <mrow>
              <mi>&#x394;</mi>
              <mo>&#x2062;</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>&#x2062;</mo>
              <msub>
                <mi>DP</mi>
                <mrow>
                  <mi>s</mi>
                  <mo>,</mo>
                  <mrow>
                    <mi>j</mi>
                    <mo>&#x2061;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mi>s</mi>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </msub>
            </mrow>
            <mo>=</mo>
            <mrow>
              <mo>{</mo>
              <mtable>
                <mtr>
                  <mtd>
                    <mrow>
                      <mi>&#x394;</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <msub>
                        <mi>P</mi>
                        <mrow>
                          <mi>s</mi>
                          <mo>,</mo>
                          <mrow>
                            <mi>j</mi>
                            <mo>&#x2061;</mo>
                            <mrow>
                              <mo>(</mo>
                              <mi>s</mi>
                              <mo>)</mo>
                            </mrow>
                          </mrow>
                        </mrow>
                      </msub>
                    </mrow>
                  </mtd>
                  <mtd>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <mrow>
                          <mi>generation</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mtext>:</mtext>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.8em" height="0.8ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mi>when</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.8em" height="0.8ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mi>&#x394;</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <msub>
                            <mi>P</mi>
                            <mrow>
                              <mi>s</mi>
                              <mo>,</mo>
                              <mi>j</mi>
                            </mrow>
                          </msub>
                        </mrow>
                        <mo>&#x3c;</mo>
                        <mn>0</mn>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mrow>
                      <mi>&#x394;</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mrow>
                        <msub>
                          <mi>P</mi>
                          <mrow>
                            <mi>s</mi>
                            <mo>,</mo>
                            <mrow>
                              <mi>j</mi>
                              <mo>&#x2061;</mo>
                              <mrow>
                                <mo>(</mo>
                                <mi>s</mi>
                                <mo>)</mo>
                              </mrow>
                            </mrow>
                          </mrow>
                        </msub>
                        <mo>/</mo>
                        <msub>
                          <mi>&#x3b7;</mi>
                          <mi>s</mi>
                        </msub>
                      </mrow>
                    </mrow>
                  </mtd>
                  <mtd>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <mrow>
                          <mi>storage</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mtext>:</mtext>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.8em" height="0.8ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mi>when</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.8em" height="0.8ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mi>&#x394;</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <msub>
                            <mi>P</mi>
                            <mrow>
                              <mi>s</mi>
                              <mo>,</mo>
                              <mi>j</mi>
                            </mrow>
                          </msub>
                        </mrow>
                        <mo>&#x3e;</mo>
                        <mn>0</mn>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mtd>
                </mtr>
              </mtable>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Eq</mi>
          <mo>.</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>1</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Here,
<ul id="ul0002" list-style="none">
    <li id="ul0002-0001" num="0041">t: Time period subscript</li>
    <li id="ul0002-0002" num="0042">i: Energy generation equipment subscript</li>
    <li id="ul0002-0003" num="0043">s: Energy storage equipment subscript (also an energy type subscript)</li>
    <li id="ul0002-0004" num="0044">N: Number of energy generation equipments in the energy system</li>
    <li id="ul0002-0005" num="0045">S: Number of energy storage equipments in the energy system</li>
    <li id="ul0002-0006" num="0046">f<sub>i</sub>: Energy supply cost characteristic for the load factor of energy generation equipment</li>
    <li id="ul0002-0007" num="0047">V<sub>i,t</sub>: Load factor in time period t of energy generation equipment i</li>
    <li id="ul0002-0008" num="0048">P<sub>i, s</sub>: Output characteristic of energy type s of energy generation equipment i</li>
    <li id="ul0002-0009" num="0049">j(s) Storage quantity change step of energy storage equipment s</li>
    <li id="ul0002-0010" num="0050">&#x394;DP<sub>s,j(s)</sub>: Energy storage quantity change of storage quantity change step j(s) of energy storage equipment s</li>
    <li id="ul0002-0011" num="0051">&#x3b7;<sub>s</sub>: Storage efficiency of energy storage equipment s</li>
</ul>
</p>
<p id="p-0039" num="0052">In equation (1), the energy balance constraint was expressed as an equality, but a case which includes an inequality constraint can be handled similarly.</p>
<p id="p-0040" num="0053">By for example applying a sequential quadratic programming method to a continuous-type nonlinear problem as in equation (1) above, a solution can be obtained. A sequential quadratic programming method is a method in which, in each iteration, a quadratic programming problem approximating the original problem is solved sequentially; details are for example described in Non-patent Document 1, and so are here omitted. By means of this method, energy supply cost characteristics are not limited to quadratic characteristics.</p>
<p id="p-0041" num="0054">Next, the dynamic programming problem solving part <b>133</b> is described.</p>
<p id="p-0042" num="0055">Hereafter, energy storage quantities of all energy storage equipments are expressed using the following vector. This vector can also be called the energy storage state.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>t,s,m </sub><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
Here t, s, m are subscripts representing the following quantities.
<ul id="ul0003" list-style="none">
    <li id="ul0003-0001" num="0056">t: Time period</li>
    <li id="ul0003-0002" num="0057">s: Energy storage equipment number</li>
    <li id="ul0003-0003" num="0058">m: Storage quantity step</li>
</ul>
</p>
<p id="p-0043" num="0059">The change in the energy storage state of all energy storage equipments from time period t&#x2212;1 to time period t is expressed by the following vector:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x394;<i>DP</i><sub>t,s,m,1</sub><i>=V</i><sub>t,s,m</sub><i>&#x2212;V</i><sub>t-1,s,1 </sub><?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0044" num="0060">In order to secure a balance of energy supply and demand for the energy system overall, this change quantity is reflected in the energy generated by other energy generation equipments. Hence by substituting this vector value into equation (1) and finding a solution to the nonlinear programming problem, the change in cost of energy supply by the energy generation equipments, which is expressed by the following from the energy storage quantity V<sub>t-1,s,1 </sub>to the energy storage quantity V<sub>t,s,m</sub>, can be calculated. This change in cost of energy supply is expressed by the following value:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x394;<i>C</i>(<i>V</i><sub>t-1,s,1</sub><i>,V</i><sub>t,s,m</sub>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0045" num="0061">In actuality, what is used as this value is the value stored in the energy supply cost change information D<b>131</b>. When considering sequential transitions in the energy storage state, the pathway connecting two energy storage states is here called a path.</p>
<p id="p-0046" num="0062">When the path is determined in which the energy supply cost change quantity up to an energy storage quantity V<sub>t-1,s,1 </sub>in time period t&#x2212;1 is minimum, and when the energy supply cost change sum &#x3c6;(V<sub>t-1,s,1</sub>) of energy generation equipments is determined which is up to the time period t&#x2212;1 until arriving at this energy storage state V<sub>t-1,s,1 </sub>at this time, the optimum path to arrive at the energy storage quantity in the next time period t can be calculated using equation (2) below.</p>
<p id="p-0047" num="0063">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>&#x3c6;</mi>
          <mo>&#x2061;</mo>
          <mrow>
            <mo>(</mo>
            <msub>
              <mi>V</mi>
              <mrow>
                <mi>t</mi>
                <mo>,</mo>
                <mi>s</mi>
                <mo>,</mo>
                <mi>m</mi>
              </mrow>
            </msub>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <munder>
            <mi>min</mi>
            <mi>l</mi>
          </munder>
          <mo>&#x2062;</mo>
          <mrow>
            <mo>[</mo>
            <mrow>
              <mrow>
                <mi>&#x3c6;</mi>
                <mo>&#x2061;</mo>
                <mrow>
                  <mo>(</mo>
                  <msub>
                    <mi>V</mi>
                    <mrow>
                      <mrow>
                        <mi>t</mi>
                        <mo>-</mo>
                        <mn>1</mn>
                      </mrow>
                      <mo>,</mo>
                      <mi>s</mi>
                      <mo>,</mo>
                      <mi>l</mi>
                    </mrow>
                  </msub>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>+</mo>
              <mrow>
                <mi>&#x394;</mi>
                <mo>&#x2062;</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>&#x2062;</mo>
                <mrow>
                  <mi>C</mi>
                  <mo>&#x2061;</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>V</mi>
                        <mrow>
                          <mrow>
                            <mi>t</mi>
                            <mo>-</mo>
                            <mn>1</mn>
                          </mrow>
                          <mo>,</mo>
                          <mi>s</mi>
                          <mo>,</mo>
                          <mi>l</mi>
                        </mrow>
                      </msub>
                      <mo>,</mo>
                      <msub>
                        <mi>V</mi>
                        <mrow>
                          <mi>t</mi>
                          <mo>,</mo>
                          <mi>s</mi>
                          <mo>,</mo>
                          <mi>m</mi>
                        </mrow>
                      </msub>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
            </mrow>
            <mo>]</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Eq</mi>
          <mo>.</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>2</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0048" num="0064">Normally, the start and end point conditions of the energy storage quantity, and the capacity upper and lower limits are also given.
<ul id="ul0004" list-style="none">
    <li id="ul0004-0001" num="0065">V<sub>0,s</sub>(given), V<sub>T,s</sub>(given)
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><u style="single"><i>V</i><sub>t,s</sub></u><i>&#x2266;V</i><sub>t,s</sub><i>&#x2266;V</i><sub>t,s</sub>(<i>t=</i>1, . . . ,<i>T</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</li>
    <li id="ul0004-0002" num="0066"><u style="single">V<sub>t,s</sub></u>: Capacity lower limit of energy storage equipment s in time period t</li>
    <li id="ul0004-0003" num="0067"> <o ostyle="single">V<sub>t,s</sub></o>: Capacity upper limit of energy storage equipment s in time period t</li>
</ul>
</p>
<p id="p-0049" num="0068">By sequentially executing this calculation from the initial time period to the final time period, the energy supply cost change in the final time period can be calculated. Here, the path in which the energy supply cost change is minimum (that is, in which the energy supply cost reduction effect of the energy generation equipments is maximum) can be selected, and this path is, in other words, the optimum operation schedule for the energy storage equipments.</p>
<p id="h-0009" num="0000">{1-3. Advantageous Results}</p>
<p id="p-0050" num="0069">By means of this embodiment, a supply/demand operation schedule which improves system efficiency for the energy system overall can be created. Further, by means of the method of this embodiment, even when equipment existing in the energy system has a complex nonlinear characteristic compared with the prior art, the characteristic can be handled comparatively easily. Further, what is originally a complex problem can be analyzed into partial problems which are comparatively simple and which can be solved independently, so that analysis of results obtained for each partial problem is comparatively easy, and hence the method is thought to enable easy explanation of solutions. From the standpoint of processing time, the method of this embodiment enables parallel computation, so that for example by applying a plurality of computers in parallel to the method, processing can be made faster.</p>
<p id="p-0051" num="0070">By means of this embodiment as described above, output distribution values to minimize the energy supply cost of energy generation equipments over a plurality of time periods can be calculated, according to a given demand forecast information for the energy system overall and the operation schedule (start/stop information for each equipment unit) of the energy generation equipments. By this means, optimum operation for energy storage equipments in various energy systems which handle a plurality of types of energy can be found, and efficiency of the energy system overall can be improved.</p>
<heading id="h-0010" level="1">2. Second Embodiment</heading>
<p id="p-0052" num="0071">Next, a second embodiment (hereafter in this section, &#x201c;this embodiment&#x201d;) is explained, using the block diagram of <figref idref="DRAWINGS">FIG. 4</figref>. This embodiment adds an improvement to the specific configuration of the energy storage equipment operation scheduling part <b>13</b> of the first embodiment. Otherwise the configuration is similar to that of the first embodiment, and so an explanation is omitted.</p>
<p id="p-0053" num="0072">In <figref idref="DRAWINGS">FIG. 4</figref>, the constraint setting part <b>131</b> receives three inputs, which are the energy demand forecast information stored in the storage part D<b>1</b>, the energy generation equipment operation schedule stored in the storage part D<b>2</b>, and the equipment/facility information stored in the equipment/facility database D<b>3</b>, and provides problem settings and conditions to nonlinear programming problem solving part <b>136</b>.</p>
<p id="p-0054" num="0073">The nonlinear programming problem solving part <b>136</b> obtains storage quantity step values of energy storage equipments as an energy storage equipment operation schedule D<b>4</b>. These step values are used as a constraint condition to calculate the optimum distribution for energy generation equipments and energy storage equipments, and an energy generation equipment modified operation schedule is output to a storage part D<b>5</b>, and a energy storage equipment modified operation schedule is output to a storage part D<b>6</b>.</p>
<p id="p-0055" num="0074">The nonlinear problem solving part <b>135</b> finds a solution to the following optimization problem. Here, an energy storage quantity step constraint represents the constraint that an energy storage quantity be within the range of storage quantity step values of energy storage equipments, determined from an energy storage equipment operation schedule stored in the storage part D<b>4</b>. <figref idref="DRAWINGS">FIG. 5</figref> shows the difference between a discrete solution found in the first embodiment above, and a continuous-value solution found in this embodiment. That is, as shown in (a) of <figref idref="DRAWINGS">FIG. 5</figref>, the solution found by the method of the first embodiment is the grid points of a mesh. And, as shown in (b) of <figref idref="DRAWINGS">FIG. 5</figref>, the method of this embodiment solves the following optimization problem under the conditions that values can be found within an arbitrary range in a mesh.</p>
<p id="p-0056" num="0075">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mstyle>
          <mspace width="4.4em" height="4.4ex"/>
        </mstyle>
        <mo>&#x2062;</mo>
        <mrow>
          <mrow>
            <mi>Objective</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>&#x2062;</mo>
            <mi>function</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>:</mtext>
            </mstyle>
          </mrow>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>
</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mtable>
            <mtr>
              <mtd>
                <mrow>
                  <mstyle>
                    <mspace width="4.4em" height="4.4ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <mrow>
                      <munderover>
                        <mo>&#x2211;</mo>
                        <mrow>
                          <mi>i</mi>
                          <mo>=</mo>
                          <mn>1</mn>
                        </mrow>
                        <mi>N</mi>
                      </munderover>
                      <mo>&#x2062;</mo>
                      <mrow>
                        <mrow>
                          <mi>f</mi>
                          <mo>&#x2061;</mo>
                          <mrow>
                            <mo>(</mo>
                            <msub>
                              <mi>v</mi>
                              <mrow>
                                <mi>i</mi>
                                <mo>,</mo>
                                <mi>t</mi>
                              </mrow>
                            </msub>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                        <mo>&#x2062;</mo>
                        <msub>
                          <mi>u</mi>
                          <mrow>
                            <mi>i</mi>
                            <mo>,</mo>
                            <mi>t</mi>
                          </mrow>
                        </msub>
                      </mrow>
                    </mrow>
                    <mo>&#x2192;</mo>
                    <mi>min</mi>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>energy</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>supply</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>cost</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>minimization</mi>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>
</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="4.4em" height="4.4ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mrow>
            <mi>Constraints</mi>
            <mo>&#x2062;</mo>
            <mstyle>
              <mtext>:</mtext>
            </mstyle>
          </mrow>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>
</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <mtable>
            <mtr>
              <mtd>
                <mrow>
                  <mstyle>
                    <mspace width="4.4em" height="4.4ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <mrow>
                      <msub>
                        <mi>u</mi>
                        <mrow>
                          <mi>i</mi>
                          <mo>,</mo>
                          <mi>t</mi>
                        </mrow>
                      </msub>
                      <mo>&#xb7;</mo>
                      <msub>
                        <munder>
                          <mi>v</mi>
                          <mi>_</mi>
                        </munder>
                        <mrow>
                          <mi>i</mi>
                          <mo>,</mo>
                          <mi>t</mi>
                        </mrow>
                      </msub>
                    </mrow>
                    <mo>&#x2264;</mo>
                    <msub>
                      <mi>v</mi>
                      <mrow>
                        <mi>i</mi>
                        <mo>,</mo>
                        <mi>t</mi>
                      </mrow>
                    </msub>
                    <mo>&#x2264;</mo>
                    <mrow>
                      <mrow>
                        <msub>
                          <mi>u</mi>
                          <mrow>
                            <mi>i</mi>
                            <mo>,</mo>
                            <mi>t</mi>
                          </mrow>
                        </msub>
                        <mo>&#xb7;</mo>
                        <msub>
                          <mover>
                            <mi>v</mi>
                            <mi>_</mi>
                          </mover>
                          <mrow>
                            <mi>i</mi>
                            <mo>,</mo>
                            <mi>t</mi>
                          </mrow>
                        </msub>
                      </mrow>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.8em" height="0.8ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <mo>&#x2200;</mo>
                          <mi>i</mi>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>load</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>factor</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>constraint</mi>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>&#x394;</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>DP</mi>
                      <mrow>
                        <mi>s</mi>
                        <mo>,</mo>
                        <mi>t</mi>
                        <mo>,</mo>
                        <mrow>
                          <mi>j</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mn>1</mn>
                        </mrow>
                      </mrow>
                    </msub>
                  </mrow>
                  <mo>&#x2264;</mo>
                  <mrow>
                    <mi>&#x394;</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>DP</mi>
                      <mrow>
                        <mi>s</mi>
                        <mo>,</mo>
                        <mi>t</mi>
                      </mrow>
                    </msub>
                  </mrow>
                  <mo>&#x2264;</mo>
                  <mrow>
                    <mi>&#x394;</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>DP</mi>
                      <mrow>
                        <mi>s</mi>
                        <mo>,</mo>
                        <mi>t</mi>
                        <mo>,</mo>
                        <mrow>
                          <mi>j</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mn>2</mn>
                        </mrow>
                      </mrow>
                    </msub>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <mrow>
                          <mo>&#x2200;</mo>
                          <mi>s</mi>
                        </mrow>
                        <mo>,</mo>
                        <mrow>
                          <mo>&#x2200;</mo>
                          <mi>t</mi>
                        </mrow>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mtable>
                    <mtr>
                      <mtd>
                        <mrow>
                          <mi>energy</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.8em" height="0.8ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mi>storage</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.8em" height="0.8ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mi>quantity</mi>
                        </mrow>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mrow>
                          <mi>step</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.8em" height="0.8ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mi>constraint</mi>
                        </mrow>
                      </mtd>
                    </mtr>
                  </mtable>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <munderover>
                      <mo>&#x2211;</mo>
                      <mrow>
                        <mi>i</mi>
                        <mo>=</mo>
                        <mn>1</mn>
                      </mrow>
                      <mi>N</mi>
                    </munderover>
                    <mo>&#x2062;</mo>
                    <mrow>
                      <msub>
                        <mi>u</mi>
                        <mrow>
                          <mi>i</mi>
                          <mo>,</mo>
                          <mi>t</mi>
                        </mrow>
                      </msub>
                      <mo>&#x2062;</mo>
                      <mrow>
                        <msub>
                          <mi>P</mi>
                          <mrow>
                            <mi>i</mi>
                            <mo>,</mo>
                            <mi>s</mi>
                          </mrow>
                        </msub>
                        <mo>&#x2061;</mo>
                        <mrow>
                          <mo>(</mo>
                          <msub>
                            <mi>v</mi>
                            <mrow>
                              <mi>i</mi>
                              <mo>,</mo>
                              <mi>t</mi>
                            </mrow>
                          </msub>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                  </mrow>
                  <mo>=</mo>
                  <mrow>
                    <msub>
                      <mi>DP</mi>
                      <mrow>
                        <mi>s</mi>
                        <mo>,</mo>
                        <mi>t</mi>
                      </mrow>
                    </msub>
                    <mo>+</mo>
                    <mrow>
                      <mi>&#x394;</mi>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <msub>
                        <mi>DP</mi>
                        <mrow>
                          <mi>s</mi>
                          <mo>,</mo>
                          <mi>t</mi>
                        </mrow>
                      </msub>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.8em" height="0.8ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <mo>&#x2200;</mo>
                          <mi>t</mi>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>energy</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>balance</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <mi>constaint</mi>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mstyle>
                    <mspace width="4.4em" height="4.4ex"/>
                  </mstyle>
                  <mo>&#x2062;</mo>
                  <mrow>
                    <mrow>
                      <munderover>
                        <mo>&#x2211;</mo>
                        <mrow>
                          <mi>t</mi>
                          <mo>=</mo>
                          <mn>1</mn>
                        </mrow>
                        <mi>T</mi>
                      </munderover>
                      <mo>&#x2062;</mo>
                      <mrow>
                        <mi>&#x394;</mi>
                        <mo>&#x2062;</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>&#x2062;</mo>
                        <msub>
                          <mi>DP</mi>
                          <mrow>
                            <mi>s</mi>
                            <mo>,</mo>
                            <mi>t</mi>
                          </mrow>
                        </msub>
                      </mrow>
                    </mrow>
                    <mo>=</mo>
                    <mrow>
                      <mn>0</mn>
                      <mo>&#x2062;</mo>
                      <mstyle>
                        <mspace width="0.8em" height="0.8ex"/>
                      </mstyle>
                      <mo>&#x2062;</mo>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <mo>&#x2200;</mo>
                          <mi>s</mi>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mo>(</mo>
                  <mtable>
                    <mtr>
                      <mtd>
                        <mrow>
                          <mi>energy</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.8em" height="0.8ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mi>storage</mi>
                          <mo>&#x2062;</mo>
                          <mrow>
                            <mstyle>
                              <mspace width="0.6em" height="0.6ex"/>
                            </mstyle>
                            <mo>&#x2062;</mo>
                            <mstyle>
                              <mspace width="0.3em" height="0.3ex"/>
                            </mstyle>
                          </mrow>
                          <mo>&#x2062;</mo>
                          <mi>equipment</mi>
                        </mrow>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mrow>
                          <mi>start</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mtext>/</mtext>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mi>end</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.8em" height="0.8ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mi>point</mi>
                          <mo>&#x2062;</mo>
                          <mstyle>
                            <mspace width="0.8em" height="0.8ex"/>
                          </mstyle>
                          <mo>&#x2062;</mo>
                          <mi>constraint</mi>
                        </mrow>
                      </mtd>
                    </mtr>
                  </mtable>
                  <mo>)</mo>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Eq</mi>
          <mo>.</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>3</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Here,
<ul id="ul0005" list-style="none">
    <li id="ul0005-0001" num="0076">T: Calculation term</li>
</ul>
</p>
<p id="p-0057" num="0077">By means of the above-described second embodiment, solutions can be obtained with still higher precision than using the method of the first embodiment.</p>
<heading id="h-0011" level="1">3. Third Embodiment</heading>
<p id="p-0058" num="0078">Next, a third embodiment (hereafter in this section, &#x201c;this embodiment&#x201d;) is explained, using the block diagram of <figref idref="DRAWINGS">FIG. 6</figref>. This embodiment uses, in place of the energy storage equipment operation scheduling part <b>13</b> of the first embodiment, energy supply unit-cost calculation part <b>14</b>, start/stop order calculation part <b>15</b>, and energy generation equipment start/stop-dependent energy storage equipment operation scheduling part <b>16</b>. Otherwise this configuration is similar to that of the first embodiment, and so an explanation is omitted.</p>
<p id="p-0059" num="0079">The energy supply unit-cost calculation part <b>14</b> calculates the energy supply unit-cost, and stores this in a storage part D<b>7</b>. The start/stop order calculation part <b>15</b> creates a start/stop order based on input of this energy supply unit-cost, and stores the result in a storage part D<b>8</b>.</p>
<p id="p-0060" num="0080">The energy generation equipment start/stop-dependent energy storage equipment operation scheduling part <b>16</b> creates an energy storage equipment operation schedule D<b>4</b>, energy generation equipment modified operation schedule D<b>5</b>, and energy storage equipment modified operation schedule D<b>6</b>.</p>
<p id="p-0061" num="0081">The operation unit-cost calculated by the energy unit-cost calculation part <b>14</b> is for example calculated using the following equation (4).</p>
<p id="p-0062" num="0082">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>Operation</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mi>unit</mi>
          <mo>&#x2062;</mo>
          <mstyle>
            <mtext>-</mtext>
          </mstyle>
          <mo>&#x2062;</mo>
          <msub>
            <mi>cost</mi>
            <mrow>
              <mi>i</mi>
              <mo>,</mo>
              <mi>t</mi>
            </mrow>
          </msub>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mo>{</mo>
          <mtable>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <msub>
                      <mi>f</mi>
                      <mi>i</mi>
                    </msub>
                    <mo>&#x2061;</mo>
                    <mrow>
                      <mo>(</mo>
                      <msub>
                        <mi>v</mi>
                        <mrow>
                          <mi>i</mi>
                          <mo>,</mo>
                          <mi>t</mi>
                        </mrow>
                      </msub>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                  <mo>/</mo>
                  <mrow>
                    <munder>
                      <mo>&#x2211;</mo>
                      <mi>s</mi>
                    </munder>
                    <mo>&#x2062;</mo>
                    <mrow>
                      <msub>
                        <mi>P</mi>
                        <mrow>
                          <mi>i</mi>
                          <mo>,</mo>
                          <mi>s</mi>
                        </mrow>
                      </msub>
                      <mo>&#x2061;</mo>
                      <mrow>
                        <mo>(</mo>
                        <msub>
                          <mi>v</mi>
                          <mrow>
                            <mi>i</mi>
                            <mo>,</mo>
                            <mi>t</mi>
                          </mrow>
                        </msub>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                  </mrow>
                </mrow>
              </mtd>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>for</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>u</mi>
                      <mrow>
                        <mi>i</mi>
                        <mo>,</mo>
                        <mi>t</mi>
                      </mrow>
                    </msub>
                  </mrow>
                  <mo>=</mo>
                  <mn>1</mn>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mn>0</mn>
              </mtd>
              <mtd>
                <mrow>
                  <mrow>
                    <mi>for</mi>
                    <mo>&#x2062;</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>&#x2062;</mo>
                    <msub>
                      <mi>u</mi>
                      <mrow>
                        <mi>i</mi>
                        <mo>,</mo>
                        <mi>t</mi>
                      </mrow>
                    </msub>
                  </mrow>
                  <mo>=</mo>
                  <mn>0</mn>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>Eq</mi>
          <mo>.</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>&#x2062;</mo>
          <mn>4</mn>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0063" num="0083">The larger this value for an energy generation equipment, the poorer the efficiency of operation is thought to be, and so the equipment is a candidate for stoppage. Conversely, a startup candidate is an energy generation equipment for which the value of equation (4) at the maximum load factor is small, for example.</p>
<p id="p-0064" num="0084">Hence the start/stop order calculation part <b>15</b> sorts the energy generation equipments in the order of the magnitude of this value. The energy generation equipment start/stop-dependent energy storage equipment operation scheduling part <b>16</b> evaluates equation (1) under conditions of motor stoppage in the order of the start/stop order D<b>8</b>, and subsequently, similarly to the procedure described in the first embodiment, creates an energy storage equipment operation schedule D<b>4</b>, energy generation equipment modified operation schedule D<b>5</b>, and energy storage equipment modified operation schedule D<b>6</b>.</p>
<p id="p-0065" num="0085">By means of the third embodiment as described above, from an initially given energy generation equipment operation schedule, a lower-cost energy generation equipment operation schedule and an energy storage equipment operation schedule can be created.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US08626351-20140107-M00001.NB">
<img id="EMI-M00001" he="52.92mm" wi="76.20mm" file="US08626351-20140107-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US08626351-20140107-M00002.NB">
<img id="EMI-M00002" he="4.91mm" wi="76.20mm" file="US08626351-20140107-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US08626351-20140107-M00003.NB">
<img id="EMI-M00003" he="50.80mm" wi="76.20mm" file="US08626351-20140107-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US08626351-20140107-M00004.NB">
<img id="EMI-M00004" he="11.68mm" wi="76.20mm" file="US08626351-20140107-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for operation scheduling for energy storage equipment in an energy system which has an energy generation equipment group composed of a plurality of energy generation devices and an energy storage equipment group composed of a plurality of energy storage devices capable of both energy generation and storage, the method comprising the steps of:
<claim-text>forecasting energy demand for the energy system overall in each time period included in a prescribed term;</claim-text>
<claim-text>finding an operation schedule of the energy generation devices such that an operation schedule for each time period is found which satisfy energy demand for a prescribed term in each of the energy generation devices;</claim-text>
<claim-text>changing loads to be allocated to each of the energy generation devices, by a given discrete quantity, either for a plurality of loads simultaneously or separately, and calculating the change in energy supply cost from this change of the loads; and,</claim-text>
<claim-text>determining an operation schedule of the energy storage devices, based on the forecasted energy demand and the operation schedule, such that the sum of the energy supply costs of the energy generation devices during the term is minimized,</claim-text>
<claim-text>wherein the step of determining the operation schedule of the energy storage devices occurs under the conditions that values are found within a mesh defined by a range of discrete quantities in the change of energy quantity stored by each of the energy storage devices such that the sum of the energy supply costs of the energy generation devices during the prescribed term is minimized.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method for operation scheduling for energy storage equipment according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, the method further comprising the steps of:
<claim-text>calculating an energy supply unit-cost calculation part in arbitrary time period of an arbitrary energy generation equipment; and</claim-text>
<claim-text>changing a state to start or stop in arbitrary time period of an arbitrary energy generation equipment in accordance with a given operation schedule of the energy generation devices.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A device for operation scheduling for energy storage equipment in an energy system which has an energy generation equipment group composed of a plurality of energy generation devices and an energy storage equipment group composed of a plurality of energy storage devices capable of both energy generation and storage, the device comprising:
<claim-text>an energy demand forecast part which forecasts energy demand for the energy system overall in each time period included in a prescribed term;</claim-text>
<claim-text>an energy generation equipment operation scheduling part which finds an operation schedule of the energy generation devices such that an operation schedule for each time period is found which satisfy energy demand for a prescribed term in each of the energy generation devices;</claim-text>
<claim-text>a nonlinear problem solving part which changes the loads to be allocated to each of the energy generation devices, by a given discrete quantity, either for a plurality of loads simultaneously or separately, and calculates the change in energy supply cost from this change of the loads; and</claim-text>
<claim-text>an energy storage equipment operation scheduling part which determines an operation schedule of the energy storage devices, based on the forecasted energy demand and the operation schedule, such that the sum of the energy supply costs of the energy generation devices during the term is minimized,</claim-text>
<claim-text>wherein the energy storage equipment operation scheduling part determines the operation schedule of the energy storage devices under the conditions that values are found within a mesh defined by a range of discrete quantities in the change of energy quantity stored by each of the energy storage devices such that the sum of the energy supply costs of the energy generation devices during the prescribed term is minimized.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
