<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08627155-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08627155</doc-number>
<kind>B1</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13039352</doc-number>
<date>20110303</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>329</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>11</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>714704</main-classification>
<further-classification>714798</further-classification>
</classification-national>
<invention-title id="d2e53">Integrated circuit testing with clock manipulation and auto-step features</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6239627</doc-number>
<kind>B1</kind>
<name>Brown et al.</name>
<date>20010500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327116</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6266749</doc-number>
<kind>B1</kind>
<name>Hashimoto et al.</name>
<date>20010700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711167</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7743300</doc-number>
<kind>B1</kind>
<name>Rosen</name>
<date>20100600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714731</main-classification></classification-national>
</us-citation>
<us-citation>
<nplcit num="00004">
<othercit>Das, S.; Tokunaga, C.; Pant, S.; Wei-Hsiang Ma; Kalaiselvan, S.; Lai, K.; Bull, D.M.; Blaauw, D.T., &#x201c;Razorll: In Situ Error Detection and Correction for PVT and SER Tolerance,&#x201d; Solid-State Circuits, IEEE Journal of , vol. 44, No. 1, pp. 32,48, Jan. 2009.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00005">
<othercit>Bowman, K.; Tschanz, J.; Wilkerson, C.; Shih-Lien Lu; Karnik, T.; De, V.; Borkar, S., &#x201c;Circuit techniques for dynamic variation tolerance,&#x201d; Design Automation Conference, 2009. DAC '09. 46th ACM/IEEE , vol., no., pp. 4,7, Jul. 26-31, 2009.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
</us-references-cited>
<number-of-claims>18</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>714704</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714707</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714744</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714798</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331172</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61312133</doc-number>
<date>20100309</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61312883</doc-number>
<date>20100311</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>61318564</doc-number>
<date>20100329</date>
</document-id>
</us-provisional-application>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Wang</last-name>
<first-name>Yongjiang</first-name>
<address>
<city>Austin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Wang</last-name>
<first-name>Yongjiang</first-name>
<address>
<city>Austin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Marvell International Ltd.</orgname>
<role>03</role>
<address>
<city>Hamilton</city>
<country>BM</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Britt</last-name>
<first-name>Cynthia</first-name>
<department>2117</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Apparatus having corresponding methods and non-transitory computer-readable media comprise: a function module to operate according to a clock signal; a clock manipulation module to manipulate an edge of the clock signal responsive to occurrence of a predetermined condition; and a report module to indicate a clock cycle number of the edge of the clock signal responsive to occurrence of an error in the function module.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="154.77mm" wi="206.50mm" file="US08627155-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="225.47mm" wi="181.27mm" orientation="landscape" file="US08627155-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="198.12mm" wi="172.04mm" orientation="landscape" file="US08627155-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="182.71mm" wi="152.06mm" file="US08627155-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="204.13mm" wi="133.35mm" file="US08627155-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="207.26mm" wi="100.33mm" file="US08627155-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="181.78mm" wi="131.40mm" orientation="landscape" file="US08627155-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="222.84mm" wi="132.67mm" orientation="landscape" file="US08627155-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="210.23mm" wi="188.81mm" file="US08627155-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This disclosure claims the benefit of U.S. Provisional Patent Application Ser. No. 61/312,133, entitled &#x201c;A Clock Manipulate Method for Speed Path Debug of Application Processor,&#x201d; filed on Mar. 9, 2010; U.S. Provisional Patent Application Ser. No. 61/312,883, entitled &#x201c;Full Chip Scan Using Stop Clock As Post Silicon Debug Probing Mechanism For Application Processor,&#x201d; filed on Mar. 11, 2010; and U.S. Provisional Patent Application Ser. No. 61/318,564, entitled &#x201c;Full Chip Scan as a Debug Tool in FPGA Validation for Application Processor,&#x201d; filed on Mar. 29, 2010, the disclosures thereof incorporated by reference herein in their entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">FIELD</heading>
<p id="p-0003" num="0002">The present invention relates generally to testing integrated circuits. More particularly, the present invention relates to testing of integrated circuits using clock manipulation.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">Modern integrated circuits generally comprise a large number of circuit elements. It is desirable to test these circuit elements in order to ensure the proper operation of the integrated circuit. However, the number of test points (that is, locations where signals can be measured) is limited by the number of terminals of the integrated circuit, which are vastly outnumbered by the number of circuit elements to be tested.</p>
<p id="p-0005" num="0004">Consequently, designers of modern integrated circuits often employ test techniques referred to herein as &#x201c;scan testing.&#x201d; According to scan testing, a mode signal can be asserted that causes predetermined storage elements within an integrated circuit to connect serially to form a scan chain. Data can be shifted into, and out of, the scan chain. Before a test begins, a test vector can be shifted into the scan chain to provide a known starting point for the test. At the end of the test, data can be shifted out of the scan chain for analysis. During the test, the mode signal is negated, thereby breaking the scan chain, so that the integrated circuit can be tested in its nominal configuration. The clock signal is then toggled slowly to simulate nominal operation.</p>
<p id="p-0006" num="0005">However, it is desirable to test integrated circuits with the clock at higher speeds, in order to identify problems that only appear during high-speed operation. That is, at low speed, an integrated circuit should pass most, if not all tests. However, as the clock speed is increased, the integrated circuit will pass fewer of the tests. The failed tests indicate so-called &#x201c;speed paths,&#x201d; where portions of the integrated circuit are unable to pass one or more tests at the clock speed tested. It is desirable to locate these speed paths quickly in order to debug the integrated circuit efficiently.</p>
<heading id="h-0004" level="1">SUMMARY</heading>
<p id="p-0007" num="0006">In general, in one aspect, an embodiment features an apparatus comprising: a function module to operate according to a clock signal; a clock manipulation module to manipulate an edge of the clock signal responsive to occurrence of a predetermined condition; and a report module to indicate a clock cycle number of the edge of the clock signal responsive to occurrence of an error in the function module.</p>
<p id="p-0008" num="0007">Embodiments of the apparatus can include one or more of the following features. Some embodiments comprise a clock control module to provide a clock control signal responsive to the predetermined condition; wherein the clock manipulation module manipulates the edge of the clock signal responsive to the clock control signal. Some embodiments comprise an error detect module to detect the error in the function module. Some embodiments comprise a clock module to provide the clock signal. In some embodiments, the clock control module comprises: a cycle register to store an offset integer N; a clock counter to count cycles of the clock signal subsequent to occurrence of the predetermined condition; and a comparator to provide the clock control signal responsive to the clock counter counting N cycles of the clock signal. Some embodiments comprise an auto-step module to increment offset integer N in the cycle register, and to reset the function module, responsive to no occurrence of an error in the function module. In some embodiments, the function module includes a plurality of storage elements, further comprising: a test data module to select one of the storage elements based on the clock cycle number. Some embodiments comprise an integrated circuit comprising the apparatus.</p>
<p id="p-0009" num="0008">In general, in one aspect, an embodiment features a method for testing an integrated circuit, wherein the integrated circuit includes a clock module to provide a clock signal and a function module to operate according to the clock signal, the method comprising: manipulating an edge of the clock signal responsive to occurrence of a predetermined condition; and indicating a clock cycle number of the edge of the clock signal responsive to occurrence of an error in the function module.</p>
<p id="p-0010" num="0009">Embodiments of the method can include one or more of the following features. Some embodiments comprise providing a clock control signal responsive to the predetermined condition; wherein the edge of the clock signal is manipulated responsive to the clock control signal. Some embodiments comprise detecting the error in the function module. Some embodiments comprise providing the clock signal. Some embodiments comprise storing an offset integer N; counting cycles of the clock signal subsequent to occurrence of the predetermined condition; and providing the clock control signal responsive to the clock counter counting N cycles of the clock signal. Some embodiments comprise incrementing offset integer N, and resetting the function module, responsive to no occurrence of an error in the function module.</p>
<p id="p-0011" num="0010">In general, in one aspect, an embodiment features non-transitory computer-readable media embodying instructions executable by a computer to perform a method for testing an integrated circuit, wherein the integrated circuit includes a clock module to provide a clock signal and a function module to operate according to the clock signal, the method comprising: manipulating an edge of the clock signal responsive to occurrence of a predetermined condition; and indicating a clock cycle number of the edge of the clock signal responsive to occurrence of an error in the function module.</p>
<p id="p-0012" num="0011">Embodiments of the non-transitory computer-readable media can include one or more of the following features. In some embodiments, the method further comprises: providing a clock control signal responsive to the predetermined condition; wherein the edge of the clock signal is manipulated responsive to the clock control signal. In some embodiments, the method further comprises: detecting the error in the function module. In some embodiments, the method further comprises: providing the clock signal. In some embodiments, the method further comprises: storing an offset integer N; counting cycles of the clock signal subsequent to occurrence of the predetermined condition; and providing the clock control signal responsive to the clock counter counting N cycles of the clock signal. In some embodiments, the method further comprises: incrementing offset integer N, and resetting the function module, responsive to no occurrence of an error in the function module.</p>
<p id="p-0013" num="0012">The details of one or more implementations are set forth in the accompanying drawings and the description below. Other features will be apparent from the description and drawings, and from the claims.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">DESCRIPTION OF DRAWINGS</heading>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 1</figref> shows elements of an integrated circuit test system according to one embodiment.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 2</figref> shows elements of the function module of <figref idref="DRAWINGS">FIG. 1</figref> according to one embodiment.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 3</figref> shows elements of the clock manipulation module of <figref idref="DRAWINGS">FIG. 1</figref> according to one embodiment.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 4</figref> is a timing diagram illustrating operations of the clock manipulation module of <figref idref="DRAWINGS">FIG. 4</figref> according to one embodiment.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 5</figref> shows a process for the integrated circuit test system of <figref idref="DRAWINGS">FIG. 1</figref> according to one embodiment.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 6</figref> shows elements of the clock control module of <figref idref="DRAWINGS">FIG. 1</figref> according to one such embodiment.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 7</figref> is a timing diagram illustrating an operation of the clock control module of <figref idref="DRAWINGS">FIG. 6</figref> according to one embodiment.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 8</figref> shows an auto-step process for the integrated circuit test system of <figref idref="DRAWINGS">FIG. 1</figref> according to one embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<p id="p-0022" num="0021">The leading digit(s) of each reference numeral used in this specification indicates the number of the drawing in which the reference numeral first appears.</p>
<heading id="h-0006" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0023" num="0022">Embodiments of the present disclosure provide integrated circuit scan testing with a clock manipulation feature to provide speed path debug. According to the clock manipulation feature, one or more edges of one or more clock cycles of the internal function clock of the integrated circuit are manipulated to simulate a higher-frequency clock signal during those cycles. By varying the timing of this manipulation, the particular clock cycle where the error occurs can be identified. Based on this timing, the storage elements associated with the error can be identified. Scan testing, or other types of testing, can be used to identify the particular logic circuits responsible for the error.</p>
<p id="p-0024" num="0023">Some embodiments of the present disclosure also provide an auto-step feature. This auto-step feature allows the clock manipulation feature to manipulate the clock at each clock cycle in a range of clock cycles automatically. When an error is thought to occur within a particular range of clock cycles, the auto-step feature can be used to quickly identify the individual clock cycle associated with the error. According to the auto-step feature, the clock manipulation feature is used to manipulate the function clock N cycles after a predetermined time, or after the occurrence of one or more predetermined conditions, where N is a non-negative integer. If no error occurs, the auto-step feature increments the value of N by 1 or M, and then employs the clock manipulation feature again, where M is a non-negative integer. This process can be repeated as many times as desired to identify the problematic clock cycle.</p>
<p id="p-0025" num="0024">The clock manipulation and auto-step features can be implemented in integrated circuits in silicon for post-silicon testing. Post-silicon validation is a common and critical step in verifying a design. Post-silicon embodiments permit post-silicon validation using the internal function clock. Test data can therefore be referenced to the function clock, rather than to an external scan clock.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 1</figref> shows elements of an integrated circuit test system <b>100</b> according to one embodiment. Although in the described embodiments the elements of test system <b>100</b> are presented in one arrangement, other embodiments may feature other arrangements. For example, elements of test system <b>100</b> can be implemented in hardware, software, or combinations thereof. In addition, while the described embodiments employ scan testing, this is not required.</p>
<p id="p-0027" num="0026">Referring to <figref idref="DRAWINGS">FIG. 1</figref>, test system <b>100</b> includes an integrated circuit <b>102</b> and a scan test module <b>104</b> for performing scan tests on integrated circuit <b>102</b>. Integrated circuit <b>102</b> can be implemented in silicon, as a field-programmable gate array (FPGA), or the like. Integrated circuit <b>102</b> includes a function module <b>106</b> to be scan tested. Function module <b>106</b> operates according to a clock signal Clk, and includes logic circuits <b>122</b> and a plurality of storage elements that form a scan chain <b>124</b> in response to a Mode signal.</p>
<p id="p-0028" num="0027">Integrated circuit <b>102</b> also includes a multiplexer <b>108</b> that provides either a function clock signal Fclk or a scan clock signal Sclk as clock signal Clk in accordance with the Mode signal. Integrated circuit <b>102</b> also includes a clock module <b>110</b> that provides a system clock signal Sysclk and a clock manipulation module <b>112</b> that manipulates system clock signal Sysclk based on a clock control signal ClkCtl, which is provided by a clock control module <b>114</b> in accordance with one or more monitored signals. Scan test module <b>104</b> includes a scan clock module <b>116</b> to provide scan clock Sclk, a mode module <b>118</b> to provide the Mode signal, and a test data module <b>120</b> to capture data Sout from scan chain <b>124</b>. In some embodiments, test data module <b>120</b> also provides test vectors Sin to scan chain <b>124</b> to provide starting points for scan tests.</p>
<p id="p-0029" num="0028">Integrated circuit <b>102</b> also includes an error detect module <b>126</b> to detect errors occurring in function module <b>106</b>, and a report module <b>128</b> to report the errors to test data module <b>120</b>. In particular, report module <b>128</b> indicates the clock cycle number associated with the error by reporting a value N provided by clock control module <b>114</b>, as described in detail below.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 2</figref> shows elements of function module <b>106</b> of <figref idref="DRAWINGS">FIG. 1</figref> according to one embodiment. Although in the described embodiments the elements of function module <b>106</b> are presented in one arrangement, other embodiments may feature other arrangements. For example, elements of function module <b>106</b> can be implemented in hardware, software, or combinations thereof.</p>
<p id="p-0031" num="0030">Referring to <figref idref="DRAWINGS">FIG. 2</figref>, function module <b>106</b> includes two logic circuits <b>122</b>A and <b>122</b>B, four flip-flops <b>204</b>A-<b>204</b>D, and four multiplexers <b>206</b>A-<b>206</b>D. As shown in <figref idref="DRAWINGS">FIG. 2</figref>, multiplexers <b>206</b> are controlled by the Mode signal. During scan testing, the Mode signal is first negated, allowing integrated circuit <b>102</b> to operate nominally. In nominal operation, multiplexer <b>108</b> (<figref idref="DRAWINGS">FIG. 1</figref>) provides function clock signal Fclk as clock signal Clk. Multiplexer <b>206</b>A passes a function input Fin<b>1</b> to flip-flop <b>204</b>A, which passes the function input to logic circuit <b>122</b>A under the control of function clock Fclk. Similarly, multiplexer <b>206</b>B passes a function input Fin<b>2</b> to flip-flop <b>204</b>B, which passes the function input to logic circuit <b>122</b>B under the control of function clock Fclk. Multiplexer <b>206</b>D passes a function output Fout<b>1</b> to flip-flop <b>204</b>D, which passes the function output under the control of function clock Fclk. Similarly, multiplexer <b>206</b>C passes a function output Fout<b>2</b> to flip-flop <b>204</b>C, which passes the function output under the control of function clock Fclk.</p>
<p id="p-0032" num="0031">As part of scan testing, flip-flops <b>204</b> of function module <b>106</b> interconnect in series to form scan chain <b>124</b> in response to the Mode signal. In particular, multiplexer <b>206</b>A passes scan input Sin to flip-flop <b>204</b>A, multiplexer <b>206</b>B connects the output of flip-flop <b>204</b>A to the input of flip-flop <b>204</b>B, multiplexer <b>206</b>C connects the output of flip-flop <b>204</b>B to the input of flip-flop <b>204</b>C, and multiplexer <b>206</b>D connects the output of flip-flop <b>204</b>C to the input of flip-flop <b>204</b>D, which provides scan output Sout. In addition, multiplexer <b>108</b> provides scan clock Sclk as clock Clk. Scan clock module toggles scan clock Sclk to shift data through scan chain <b>124</b>.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 3</figref> shows elements of clock manipulation module <b>112</b> of <figref idref="DRAWINGS">FIG. 1</figref> according to one embodiment. Although in the described embodiments the elements of clock manipulation module <b>112</b> are presented in one arrangement, other embodiments may feature other arrangements. For example, elements of clock manipulation module <b>112</b> can be implemented in hardware, software, or combinations thereof.</p>
<p id="p-0034" num="0033">Referring to <figref idref="DRAWINGS">FIG. 3</figref>, clock manipulation module <b>112</b> includes a programmable delay element <b>302</b>, an AND gate <b>304</b>, an OR gate <b>306</b>, a multiplexer <b>308</b>, and a control module <b>310</b>. AND gate <b>304</b>, OR gate <b>306</b>, and multiplexer <b>308</b> receive system clock signal Sysclk, as well as a delayed version of system clock Sysclk provided by programmable delay element <b>302</b>. Multiplexer <b>308</b> also receives the outputs of AND gate <b>304</b> and OR gate <b>306</b>. Multiplexer <b>308</b> is controlled by a signal ClkSel provided by control module <b>310</b> responsive to clock control signal ClkCtl. Multiplexer <b>308</b> provides system clock Sysclk as function clock Fclk until clock control signal ClkCtl is asserted. Then multiplexer <b>308</b> provides another input as function clock Fclk for one or more clock cycles.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 4</figref> is a timing diagram illustrating operations of clock manipulation module <b>112</b> of <figref idref="DRAWINGS">FIG. 4</figref> according to one embodiment. Referring to <figref idref="DRAWINGS">FIG. 4</figref>, system clock signal Sysclk is shown at <b>402</b>. The output of programmable delay element <b>302</b> is shown at <b>404</b>, where it can be seen that both the rising and falling edges of system clock signal Sysclk have been manipulated. The output of AND gate <b>304</b> is shown at <b>406</b>, where it can be seen that only the rising edge of system clock signal Sysclk has been manipulated. The output of OR gate <b>306</b> is shown at <b>408</b>, where it can be seen that only the falling edge of system clock signal Sysclk has been manipulated. Multiplexer <b>308</b> can provide any of signals <b>402</b>, <b>404</b>, <b>406</b> and <b>408</b> as function clock Fclk for one or more clock cycles, in accordance with clock select signal ClkSel.</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 5</figref> shows a process <b>500</b> for integrated circuit test system <b>100</b> of <figref idref="DRAWINGS">FIG. 1</figref> according to one embodiment. Although in the described embodiments the elements of process <b>500</b> are presented in one arrangement, other embodiments may feature other arrangements. For example, in various embodiments, some or all of the steps of process <b>500</b> can be executed in a different order, concurrently, and the like.</p>
<p id="p-0037" num="0036">Referring to <figref idref="DRAWINGS">FIG. 5</figref>, at <b>502</b> integrated circuit test system <b>100</b> is reset. At <b>504</b>, integrated circuit test system <b>100</b> is initialized. In particular, clock control module <b>114</b> is programmed to assert clock control signal ClkCtl upon the occurrence of one or more predetermined conditions, for example, when one or more monitored signals assume predetermined values.</p>
<p id="p-0038" num="0037">At <b>506</b>, function module <b>106</b> begins nominal operations at a predetermined clock speed. In particular, clock module <b>110</b> generates system clock signal Sysclk, and clock manipulation module <b>112</b> passes system clock signal Sysclk as function clock signal Fclk. During nominal operation, clock control module <b>114</b> monitors one or more signals, which are referred to herein as &#x201c;monitored signals.&#x201d; The monitored signals can include signals generated internally by integrated circuit <b>102</b> such as interrupts and special test register outputs, signals provided by devices external to integrated circuit <b>102</b>, or both.</p>
<p id="p-0039" num="0038">At <b>508</b>, upon the occurrence of one or more predetermined conditions, clock manipulation module <b>112</b> manipulates function clock signal Fclk. In particular, when the one or more monitored signals assume predetermined values, clock control module <b>114</b> asserts clock gate signal ClkCtl. In response, clock manipulation module <b>112</b> manipulates one or more edges of system clock signal Sysclk, and provides the resulting signal as function clock signal Fclk.</p>
<p id="p-0040" num="0039">Error detect module <b>126</b> monitors function module <b>106</b> for errors. At <b>510</b>, if no error is detected, process <b>500</b> is done at <b>512</b>. But at <b>510</b> if an error is detected, then at <b>514</b> report module <b>128</b> reports the error to test data module <b>120</b>, and indicates the clock cycle number N associated with the error. Then process <b>500</b> is done at <b>512</b>.</p>
<p id="p-0041" num="0040">Clock cycle number N can then be used to debug function module <b>106</b>. For example, the storage element associated with the error can be identified based on the value of N. In addition, data can be extracted from function module <b>106</b> to identify the logic circuits associated with the error. Scan chain <b>124</b> can be used to extract the data for analysis. Scan test module <b>104</b> forms scan chain <b>124</b>. Scan test module <b>104</b> shifts the data out of scan chain <b>124</b>. In particular, scan clock module <b>116</b> toggles scan clock signal Sclk, which shifts test data Sout from scan chain <b>124</b> into test data module <b>120</b>. At this point the test data is ready for analysis in test data module <b>120</b>.</p>
<p id="p-0042" num="0041">As described above, system clock Sysclk can be manipulated automatically upon the occurrence of one or more predetermined conditions. Some embodiments provide a delay feature, where system clock Sysclk can be manipulated automatically after the occurrence of one or more predetermined conditions by a predetermined number of cycles N. <figref idref="DRAWINGS">FIG. 6</figref> shows elements of clock control module <b>114</b> of <figref idref="DRAWINGS">FIG. 1</figref> according to one such embodiment. Although in the described embodiments the elements of clock control module <b>114</b> are presented in one arrangement, other embodiments may feature other arrangements. For example, elements of clock control module <b>114</b> can be implemented in hardware, software, or combinations thereof.</p>
<p id="p-0043" num="0042">Referring to <figref idref="DRAWINGS">FIG. 6</figref>, clock control module <b>114</b> includes an auto-step module <b>602</b>, a cycle register <b>604</b>, a trigger module <b>606</b>, a clock counter <b>608</b>, and a comparator <b>610</b>. According to the delay feature, cycle register <b>604</b> is loaded with a non-negative offset integer N, and trigger module <b>606</b> monitors one or more monitored signals. When the monitored signals assume predetermined values, trigger module <b>606</b> asserts a trigger signal, which causes clock counter <b>608</b> to begin counting cycles of system clock signal Sysclk. After N cycles, comparator <b>610</b> asserts clock control signal ClkCtl. In response, clock manipulation module <b>112</b> manipulates system clock signal Sysclk for one or more clock cycles, and provides the resulting signal as function clock signal Fclk.</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 7</figref> is a timing diagram illustrating an operation of clock control module <b>114</b> of <figref idref="DRAWINGS">FIG. 6</figref> according to one embodiment. Referring to <figref idref="DRAWINGS">FIG. 7</figref>, clock manipulation module <b>112</b> passes system clock signal Sysclk until N=7 cycles following assertion of the Trigger signal. At that point, clock manipulation module <b>112</b> manipulates system clock signal Sysclk, and provides the resulting signal as function clock signal Fclk. In this example, clock manipulation module <b>112</b> delays the falling edge of system clock signal Sysclk, as shown in <figref idref="DRAWINGS">FIG. 7</figref> at <b>702</b>.</p>
<p id="p-0045" num="0044">Some embodiments include an auto-step feature. According to the auto-step feature, after function clock Fclk is stopped, and the test data is extracted from scan chain <b>124</b>, auto-step module <b>602</b> increments the value of N in cycle register <b>604</b>, resets function module <b>106</b> by asserting a Reset signal, and repeats the scan test. In this manner, several different clock cycles can be tested automatically. A final offset integer M can be specified as the final clock cycle to be tested, thereby bounding the range of clock cycles tested.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 8</figref> shows an auto-step process <b>800</b> for integrated circuit test system <b>100</b> of <figref idref="DRAWINGS">FIG. 1</figref> according to one embodiment. Although in the described embodiments the elements of process <b>800</b> are presented in one arrangement, other embodiments may feature other arrangements. For example, in various embodiments, some or all of the steps of process <b>800</b> can be executed in a different order, concurrently, and the like.</p>
<p id="p-0047" num="0046">Referring to <figref idref="DRAWINGS">FIG. 8</figref>, at <b>802</b> integrated circuit test system <b>100</b> is reset. At <b>804</b> integrated circuit test system <b>100</b> is initialized. In particular, clock control module <b>114</b> is programmed to assert clock control signal ClkCtl upon the occurrence of one or more predetermined conditions, for example, when one or more monitored signals assume predetermined values. In addition, auto-step module <b>602</b> loads an initial value for offset integer N, and a value for final offset integer M, into cycle register <b>604</b>. At <b>806</b>, function module <b>106</b> begins nominal operations at full clock speed. Nominal operations continue until upon the occurrence of one or more predetermined conditions at <b>808</b>. Then at <b>810</b>, clock control module counts N cycles of system clock signal Sysclk before manipulating system clock Sysclk at <b>812</b>. In particular, when the monitored signals assume predetermined values, trigger module <b>606</b> asserts the Trigger signal, which causes clock counter <b>608</b> to begin counting cycles of system clock signal Sysclk. When the count reaches N, comparator <b>610</b> asserts clock control signal ClkCtl. In response, clock manipulation module <b>112</b> manipulates one or more edges in one or more cycles of system clock signal Sysclk, and provides the resulting signal as function clock signal Fclk.</p>
<p id="p-0048" num="0047">At <b>814</b> if an error is detected, then at <b>816</b> report module <b>128</b> reports the error to test data module <b>120</b>, and indicates the clock cycle number N associated with the error. Then process <b>800</b> is done at <b>818</b>. Clock cycle number N can then be used to debug function module <b>106</b>, as described above.</p>
<p id="p-0049" num="0048">However, if at <b>814</b> no error occurs, and at <b>820</b> the value of offset integer N has not reached its final value M, then at <b>822</b> auto-step module <b>602</b> increments the value of N in cycle register <b>604</b> and asserts the Reset signal, which resets function module <b>106</b> and the count held by clock counter <b>608</b>. In some embodiments, the value of N is incremented by 1 each time. In other embodiments, other values can be used. The testing then continues with the resumption of nominal operations at <b>806</b>.</p>
<p id="p-0050" num="0049">However, when at <b>820</b> the value of offset integer N has reached its final value M (N=M), process <b>800</b> is done at <b>818</b>. In this case, the testing of the specified range of clock cycles has been completed successfully.</p>
<p id="p-0051" num="0050">Various embodiments of the present disclosure can be implemented in digital electronic circuitry, or in computer hardware, firmware, software, or in combinations thereof. Embodiments of the present disclosure can be implemented in a computer program product tangibly embodied in a computer-readable storage device for execution by a programmable processor. The described processes can be performed by a programmable processor executing a program of instructions to perform functions by operating on input data and generating output. Embodiments of the present disclosure can be implemented in one or more computer programs that are executable on a programmable system including at least one programmable processor coupled to receive data and instructions from, and to transmit data and instructions to, a data storage system, at least one input device, and at least one output device. Each computer program can be implemented in a high-level procedural or object-oriented programming language, or in assembly or machine language if desired; and in any case, the language can be a compiled or interpreted language. Suitable processors include, by way of example, both general and special purpose microprocessors. Generally, processors receive instructions and data from a read-only memory and/or a random access memory. Generally, a computer includes one or more mass storage devices for storing data files. Such devices include magnetic disks, such as internal hard disks and removable disks, magneto-optical disks; optical disks, and solid-state disks. Storage devices suitable for tangibly embodying computer program instructions and data include all forms of non-volatile memory, including by way of example semiconductor memory devices, such as EPROM, EEPROM, and flash memory devices; magnetic disks such as internal hard disks and removable disks; magneto-optical disks; and CD-ROM disks. Any of the foregoing can be supplemented by, or incorporated in, ASICs (application-specific integrated circuits).</p>
<p id="p-0052" num="0051">A number of implementations have been described. Nevertheless, various modifications may be made without departing from the scope of the disclosure. Accordingly, other implementations are within the scope of the following claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An apparatus, comprising:
<claim-text>a function module configured to operate according to a clock signal;</claim-text>
<claim-text>a clock manipulation module configured to manipulate an edge of the clock signal responsive to occurrence of a predetermined condition in a monitored signal; and</claim-text>
<claim-text>a report module configured to, in response to an occurrence of an error in the function module, indicate a clock cycle number of the edge of the clock signal,</claim-text>
<claim-text>wherein the clock cycle number corresponds to a predetermined number of clock cycles after the occurrence of the predetermined condition in the monitored signal, and</claim-text>
<claim-text>wherein the clock manipulation module is further configured to, in response to a determination that an error did not occur in the function module, automatically adjust the predetermined number.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a clock control module configured to provide a clock control signal responsive to the occurrence of the predetermined condition in the monitored signal,
<claim-text>wherein the clock manipulation module is configured to manipulate the edge of the clock signal responsive to the clock control signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The apparatus of <claim-ref idref="CLM-00002">claim 2</claim-ref>, further comprising an error detect module configured to detect the error in the function module.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The apparatus of <claim-ref idref="CLM-00003">claim 3</claim-ref>, further comprising a clock module configured to provide the clock signal.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The apparatus of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the clock control module comprises:
<claim-text>a cycle register configured to store an offset integer N corresponding to the predetermined number of clock cycles;</claim-text>
<claim-text>a clock counter configured to count cycles of the clock signal subsequent to the occurrence of the predetermined condition in the monitored signal; and</claim-text>
<claim-text>a comparator configured to provide the clock control signal responsive to the clock counter counting N cycles of the clock signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The apparatus of <claim-ref idref="CLM-00005">claim 5</claim-ref>, further comprising an auto-step module configured to, in response to the determination that an error did not occur in the function module, i) increment the offset integer N in the cycle register, and ii) reset the function module.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The apparatus of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the function module includes a plurality of storage elements, the apparatus further comprising a test data module configured to select one of the storage elements based on the clock cycle number.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. An integrated circuit comprising the apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A method for testing an integrated circuit, wherein the integrated circuit includes a clock module to provide a clock signal and a function module to operate according to the clock signal, the method comprising:
<claim-text>manipulating an edge of the clock signal responsive to occurrence of a predetermined condition in a monitored signal;</claim-text>
<claim-text>in response to an occurrence of an error in the function module, indicating a clock cycle number of the edge of the clock signal, wherein the clock cycle number corresponds to a predetermined number of clock cycles after the occurrence of the predetermined condition in the monitored signal; and</claim-text>
<claim-text>in response to a determination that an error did not occur in the function module, automatically adjusting the predetermined number.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, further comprising providing a clock control signal responsive to the occurrence of the predetermined condition in the monitored signal,
<claim-text>wherein the edge of the clock signal is manipulated responsive to the clock control signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising detecting the error in the function module.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising:
<claim-text>storing an offset integer N corresponding to the predetermined number of clock cycles;</claim-text>
<claim-text>counting cycles of the clock signal subsequent to the occurrence of the predetermined condition in the monitored signal; and</claim-text>
<claim-text>providing the clock control signal responsive to a clock counter counting N cycles of the clock signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, further comprising in response to the determination that an error did not occur in the function module, i) incrementing the offset integer N, and ii) resetting the function module.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. Non-transitory computer-readable media embodying instructions executable by a computer to perform a method for testing an integrated circuit, wherein the integrated circuit includes a clock module to provide a clock signal and a function module to operate according to the clock signal, the method comprising:
<claim-text>manipulating an edge of the clock signal responsive to occurrence of a predetermined condition in a monitored signal;</claim-text>
<claim-text>in response to an occurrence of an error in the function module, indicating a clock cycle number of the edge of the clock signal, wherein the clock cycle number corresponds to a predetermined number of clock cycles after the occurrence of the predetermined condition in the monitored signal; and</claim-text>
<claim-text>in response to a determination that an error did not occur in the function module, automatically adjusting the predetermined number.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The non-transitory computer-readable media of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the method further comprises providing a clock control signal responsive to the occurrence of the predetermined condition in the monitored signal,
<claim-text>wherein the edge of the clock signal is manipulated responsive to the clock control signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The non-transitory computer-readable media of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the method further comprises detecting the error in the function module.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The non-transitory computer-readable media of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the method further comprises:
<claim-text>storing an offset integer N corresponding to the predetermined number of clock cycles;</claim-text>
<claim-text>counting cycles of the clock signal subsequent to the occurrence of the predetermined condition in the monitored signal; and</claim-text>
<claim-text>providing the clock control signal responsive to a clock counter counting N cycles of the clock signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The non-transitory computer-readable media of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the method further comprises in response to the determination that an error did not occur in the function module, i) incrementing the offset integer N, and ii) resetting the function module. </claim-text>
</claim>
</claims>
</us-patent-grant>
