<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625904-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625904</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13221078</doc-number>
<date>20110830</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>94</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>K</subclass>
<main-group>9</main-group>
<subgroup>68</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>382218</main-classification>
</classification-national>
<invention-title id="d2e53">Detecting recurring themes in consumer image collections</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5781650</doc-number>
<kind>A</kind>
<name>Lobo et al.</name>
<date>19980700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6351556</doc-number>
<kind>B1</kind>
<name>Loui et al.</name>
<date>20020200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6480840</doc-number>
<kind>B2</kind>
<name>Zhu et al.</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6504951</doc-number>
<kind>B1</kind>
<name>Luo et al.</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6598054</doc-number>
<kind>B2</kind>
<name>Schuetze et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6606411</doc-number>
<kind>B1</kind>
<name>Loui et al.</name>
<date>20030800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>7362919</doc-number>
<kind>B2</kind>
<name>Das et al.</name>
<date>20080400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>7499590</doc-number>
<kind>B2</kind>
<name>Seeber</name>
<date>20090300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382218</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2005/0105776</doc-number>
<kind>A1</kind>
<name>Luo et al.</name>
<date>20050500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2008/0215984</doc-number>
<kind>A1</kind>
<name>Manico et al.</name>
<date>20080900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2008/0275861</doc-number>
<kind>A1</kind>
<name>Baluja et al.</name>
<date>20081100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2011/0072047</doc-number>
<kind>A1</kind>
<name>Wang et al.</name>
<date>20110300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00013">
<othercit>Xu Chen; Madirakshi Das; and Alexander Loui, &#x201c;A Novel Framework for Fast Scene Matching in Consumer Image Collections&#x201d;, Jul. 19-23, 2010, ICME Conference 2010, pp. 1034-1039.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>Boutell et al., &#x201c;Review of the state of the art in semantic scene classification,&#x201d; Computer Science TR 799, University of Rochester (2002).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00015">
<othercit>Boutell et al. &#x201c;Learning multi-label scene classification,&#x201d; Pattern Recognition, vol. 37, pp. 1757-1771 (2004).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00016">
<othercit>Carneiro et al., &#x201c;Supervised learning of semantic classes for image annotation and retrieval,&#x201d; IEEE Transactions on Pattern Analysis and Machine Intelligence, vol. 29, pp. 394-410 (2007).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00017">
<othercit>Jones et al., &#x201c;Fast Multi-view Face Detection,&#x201d; Mitsubishi Electric Research Laboratories, TR2003-96 (2003).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00018">
<othercit>Das et al, &#x201c;Indexing flower patent images using domain knowledge,&#x201d; IEEE Intelligent Systems and their Applications, vol. 14, pp. 24-33 (1999).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00019">
<othercit>Han et al., <i>Data Mining Concepts and Techniques</i>, Morgan Kaufmann Publishers, Boston, pp. 14-15 (2006).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00020">
<othercit>Borgelt, &#x201c;Efficient Implementations of Apriori and Eclat,&#x201d; Proc. of IEEE ICDM Workshop on Frequent Itemset Mining Implementations (2003).</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00021">
<othercit>Junsong Yuan et al: &#x201c;From frequent itemsets to semantically meaningful visual patterns&#x201d;, Proceedings of the 13<sup>th </sup>ACM SIGKDD International Conference of Knowledge Discovery and Data Mining, KDD '07, Jan. 1 2007, pp. 864,873, XP055046928, New York, New York, USA D0I:10.1145/1281192.1281284; ISBN: 978-1-59-593609-7.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00022">
<othercit>Stephan Gammeter et al., &#x201c;I know what you did last summer: object-level auto-annotation of holiday snaps&#x201d;, 2009 IEEE 12th International Conference on Computer Vision, Sep. 29, 2009, pp. 614-621.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>21</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>6</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130051670</doc-number>
<kind>A1</kind>
<date>20130228</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Das</last-name>
<first-name>Madirakshi</first-name>
<address>
<city>Penfield</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Loui</last-name>
<first-name>Alexander C.</first-name>
<address>
<city>Penfield</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Das</last-name>
<first-name>Madirakshi</first-name>
<address>
<city>Penfield</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Loui</last-name>
<first-name>Alexander C.</first-name>
<address>
<city>Penfield</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Intellectual Ventures Fund 83 LLC</orgname>
<role>02</role>
<address>
<city>Las Vegas</city>
<state>NV</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Mehta</last-name>
<first-name>Bhavesh</first-name>
<department>2665</department>
</primary-examiner>
<assistant-examiner>
<last-name>Harandi</last-name>
<first-name>Siamak</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method of identifying groups of related digital images in a digital image collection, comprising: analyzing each of the digital images to generate associated feature descriptors related to image content or image capture conditions; storing the feature descriptors associated with the digital images in a metadata database; automatically analyzing the metadata database to identify a plurality of frequent itemsets, wherein each of the frequent itemsets is a co-occurring feature descriptor group that occurs in at least a predefined fraction of the digital images; determining a probability of occurrence for each the identified frequent itemsets; determining a quality score for each of the identified frequent itemsets responsive to the determined probability of occurrence; ranking the frequent itemsets based at least on the determined quality scores; and identifying one or more groups of related digital images corresponding to one or more of the top ranked frequent itemsets.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="151.21mm" wi="159.17mm" file="US08625904-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="161.46mm" wi="135.55mm" orientation="landscape" file="US08625904-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="173.06mm" wi="172.38mm" orientation="landscape" file="US08625904-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="265.01mm" wi="176.45mm" orientation="landscape" file="US08625904-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="205.74mm" wi="175.77mm" orientation="landscape" file="US08625904-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="192.11mm" wi="149.86mm" orientation="landscape" file="US08625904-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="245.96mm" wi="123.27mm" orientation="landscape" file="US08625904-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0002" num="0001">The invention relates generally to the field of digital image processing, and in particular to a method for identifying groups of digital images that portray recurring themes in a consumer image collection.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">With the ubiquitous presence of digital cameras and camera phones, people capture large numbers of digital still images and digital videos to mark both events that are important to them, as well as day-to-day occurrences that chronicle their lives. Large digital media collections including digital still images and digital videos accumulated over time contain a wealth of information that can be useful to understand users. Analyzing the content and timing of a user's digital media assets in a media collection that spans several years or more can yield a view into the user's interests. This knowledge can enable organization of the personal collection, sharing with contacts, as well as semi-automated storytelling. For example, if evidence from a user's personal photo collection suggests that he/she regularly takes pictures of flowers, the images in this group can be organized appropriately with links to other similar images, and fed as an input to a photo-book generator.</p>
<p id="p-0004" num="0003">Typical browsing tools provide a temporal view of a media collection, with some that support browsing by tags or faces of recognized people (e.g., Picasa and iPhoto). In a system that supports tags, a user could find interesting groups by specifying a set of tags, but many patterns in a collection are based on a complex set of features, and a few high-level tags can generate only a limited variety of groups. In addition, the number of images in such groups can be too many or too few to be useful.</p>
<p id="p-0005" num="0004">An automated system could potentially be used to create stories of a pre-defined format (e.g., pictures of one person over time, or images at the same GPS location), but it is not possible to create stories that are customized to a user's interests without attempting to understand the specific user's media collection. For example, in the case where a user primarily captures photographs at his home and is a gardening enthusiast who has a lot of pictures of his flowers, a system that creates a location-based story would detect a large single group at the same location and not be able to identify that the flower pictures in the collection form a distinct group.</p>
<p id="p-0006" num="0005">There has been work in trying to understand images through object detection, tagging based on similar images on the web, and through the use of content-based features. People are the subject of a large fraction of consumer images, which can be tagged through the use of commercially available packages providing face detection and recognition capability. Captured media may also include GPS information identifying location of capture. So far, research on the use of these types of metadata has been focused on providing better ways of searching and organization.</p>
<p id="p-0007" num="0006">There has been recent work in grouping images into events. U.S. Pat. No. 6,606,411 to Loui et al., entitled &#x201c;A method for automatically classifying images into events,&#x201d; and U.S. Pat. No. 6,351,556, to Loui et al., entitled &#x201c;A method for automatically comparing content of images for classification into events,&#x201d; disclose algorithms for clustering image content by temporal events and sub-events. Briefly described, the histogram of time differences between adjacent images or videos is clustered into two classes: time differences that correspond to event boundaries, and those that do not. A color block-based visual similarity algorithm is used to refine the event boundaries. Using this method, a reduction can be made in the amount of browsing required by the user to locate a particular event by viewing representative thumbnail images from the identified events along a timeline, instead of viewing all of the thumbnail images. However, related events with large temporal separation are spaced far apart on the timeline and are not easy to visualize as a group.</p>
<p id="p-0008" num="0007">In the generally unrelated area of data mining, transactions histories for people (purchases, online activities, social network interactions etc) have been used to derive useful rules about individual and group behaviors. A transaction typically contains a transaction identifier and a set of items belonging to the transaction. This is also called &#x201c;market basket&#x201d; style data, from its roots in listing the contents of a supermarket shopping cart of individual shoppers. A transactions database contains a large set of transactions. Standard data mining techniques provide tools for extracting frequently occurring groups of items (itemsets) in transactions databases. There has been some work in using data mining techniques in the image collection domain.</p>
<p id="p-0009" num="0008">U.S. Patent Application Publication 2011/0072047 to Wang et al. entitled &#x201c;Interest learning from an image collection for advertising,&#x201d; focuses on suggesting user-targeted ads based on automatically detecting a user's interest from their images. The techniques described include computer-annotating images with learned tags, performing topic learning to obtain an interest model, and performing advertisement matching and ranking based on the interest model. However, this method uses topic ontology identification based on a large collection of human-identified categories. This can work for the advertisement selection problem addressed, since advertisement descriptors also have a limited vocabulary. But it is not possible to enumerate and detect all types of semantic relationships that may exist in users' collections because of the vast diversity of subject matter of photographs captured. Therefore, semantic themes need to customized to each particular user's collection based on analysis of the content of the collection.</p>
<p id="p-0010" num="0009">Other work in related areas includes U.S. Pat. No. 6,598,054 to Schuetze et al., entitled &#x201c;System and method for clustering data objects in a collection,&#x201d; which describes a system and method for browsing, retrieving, and recommending information from a collection using multi-modal features of the documents in the collection, as well as an analysis of users' prior browsing and retrieval behavior; and U.S. Patent Application Publication 2008/0275861 to Baluja et al., entitled &#x201c;Inferring user interests,&#x201d; which describes a method that includes determining, for a portion of users of a social network, label values each comprising an inferred interest level of a user in a subject indicated by a label. Both of these methods are targeted at databases containing primarily textual and structured data.</p>
<p id="p-0011" num="0010">Since a typical user has already accumulated many years' worth of digital images, finding images that fit a narrative thread by browsing through temporally distant media is difficult and time-consuming. There remains a need for a method to detect groups of images that are semantically related to each other but are temporally separated by long time differences.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0012" num="0011">The present invention represents a method of identifying groups of related digital images in a digital image collection including a plurality of digital images, comprising:</p>
<p id="p-0013" num="0012">analyzing each of the digital images in the digital image collection to generate associated feature descriptors related to image content or image capture conditions;</p>
<p id="p-0014" num="0013">storing the feature descriptors associated with the digital images in a metadata database;</p>
<p id="p-0015" num="0014">using a data processor to automatically analyze the metadata database to identify a plurality of frequent itemsets, wherein each of the frequent itemsets is a co-occurring feature descriptor group that occurs in at least a predefined fraction of the digital images, each frequent itemset being associated with a subset of the digital images;</p>
<p id="p-0016" num="0015">determining a probability of occurrence for each the identified frequent itemsets based on one or more probability distributions determined from an analysis of a large number of image collections;</p>
<p id="p-0017" num="0016">determining a quality score for each of the identified frequent itemsets responsive to the determined probability of occurrence;</p>
<p id="p-0018" num="0017">ranking the frequent itemsets based at least on the determined quality scores;</p>
<p id="p-0019" num="0018">identifying one or more groups of related digital images corresponding to one or more of the top ranked frequent itemsets; and</p>
<p id="p-0020" num="0019">storing an indication of the identified groups of related digital images in a processor-accessible memory.</p>
<p id="p-0021" num="0020">This invention has the advantage that groups of related digital images sharing a common theme can be identified and used to generate narratives and products that are relevant to individual users.</p>
<p id="p-0022" num="0021">It has the additional advantage that the image content of the digital images can be automatically analyzed and can be used together with the rich metadata associated with the digital images in order to determine the groups of related digital images.</p>
<p id="p-0023" num="0022">It has the further advantage that groups of digital images that have a unifying theme across a wide temporal distance can be automatically identified, and used to provide a chronicle.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 1</figref> is a high-level diagram showing the components of a system for practicing the present invention;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 2</figref> is a flowchart showing the method of the present invention according to a preferred embodiment;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart showing additional details for an embodiment of the generate feature descriptors step of <figref idref="DRAWINGS">FIG. 2</figref>;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 4</figref> is a flowchart showing additional details for an embodiment of the optional filter frequent itemsets step of <figref idref="DRAWINGS">FIG. 2</figref>;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart showing additional details for an embodiment of the rank frequent itemsets step of <figref idref="DRAWINGS">FIG. 2</figref>; and</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 6</figref> shows an example of a transactional database that can be used in accordance with the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0030" num="0029">The invention is inclusive of combinations of the embodiments described herein. References to &#x201c;a particular embodiment&#x201d; and the like refer to features that are present in at least one embodiment of the invention. Separate references to &#x201c;an embodiment&#x201d; or &#x201c;particular embodiments&#x201d; or the like do not necessarily refer to the same embodiment or embodiments; however, such embodiments are not mutually exclusive, unless so indicated or as are readily apparent to one of skill in the art. The use of singular or plural in referring to the &#x201c;method&#x201d; or &#x201c;methods&#x201d; and the like is not limiting. It should be noted that, unless otherwise explicitly noted or required by context, the word &#x201c;or&#x201d; is used in this disclosure in a non-exclusive sense.</p>
<p id="p-0031" num="0030">The present invention can be implemented in computer systems as will be well known to those skilled in the art. In the following description, some embodiments of the present invention will be described as software programs. Those skilled in the art will readily recognize that the equivalent of such a method can also be constructed as hardware or software within the scope of the invention.</p>
<p id="p-0032" num="0031">Because image manipulation algorithms and systems are well known, the present description will be directed in particular to algorithms and systems forming part of, or cooperating more directly with, the method in accordance with the present invention. Other aspects of such algorithms and systems, and hardware or software for producing and otherwise processing the image signals involved therewith, not specifically shown or described herein can be selected from such systems, algorithms, components, and elements known in the art. Given the description as set forth in the following specification, all software implementation thereof is conventional and within the ordinary skill in such arts.</p>
<p id="p-0033" num="0032">The present invention can be implemented in computer hardware and computerized equipment. For example, the method can be performed in a digital camera, a multimedia smart phone, a digital printer, on an internet server, on a kiosk, and on a personal computer. Referring to <figref idref="DRAWINGS">FIG. 1</figref>, there is illustrated a computer system for implementing the present invention. The present invention is not limited to the computer system shown, but can be used on any electronic processing system such as found in digital cameras, home computers, kiosks, or any other system for the processing of digital images. The computer system includes a computer <b>10</b>. The computer <b>10</b> includes a processor unit <b>20</b> (e.g., a microprocessor) for receiving and processing software programs and for performing other processing functions. A memory unit <b>30</b> stores user-supplied and computer-generated data which can be accessed by the processor unit <b>20</b> when running a computer program.</p>
<p id="p-0034" num="0033">A display device <b>70</b> (e.g., a monitor) is electrically connected to the computer <b>10</b> for displaying information and data associated with the software (e.g., by a graphical user interface). A keyboard <b>60</b> is also connected to the computer. As an alternative to using the keyboard <b>60</b> for input, a mouse can be used for moving a selector on a graphical user interface displayed on the display device <b>70</b> and for selecting an item on which the selector overlays, as is well known in the art. Input devices <b>50</b> such as compact disk (CD) readers and digital video disk (DVD) readers can be interfaced with the computer <b>10</b> for inputting the software programs and other information to the computer <b>10</b> and the processor unit <b>20</b>. Still further, the computer <b>10</b> can be programmed, as is well known in the art, for storing the software program internally. In addition, media files (such as images, music and videos) can be transferred to the memory unit <b>30</b> of the computer <b>10</b> by use of the input devices <b>50</b> such as memory card readers, thumb drives, CDs and DVDs, or by connecting an image capture device (such as a digital camera, a cell phone or a digital video recorder) directly to the computer <b>10</b> such that it functions as an input device <b>50</b>. The computer <b>10</b> can have a network connection <b>80</b> (such as a wired or wireless connection) to an external network, such as a local area network or the Internet. Software programs and media files can be transferred to the computer from other computers or the Internet through the network connection <b>80</b>.</p>
<p id="p-0035" num="0034">It should also be noted that the present invention can be implemented in a combination of software and hardware and is not limited to devices that are physically connected or located within the same physical location. One or more of the devices illustrated in <figref idref="DRAWINGS">FIG. 1</figref> can be located remotely and can be connected via the network connection <b>80</b>.</p>
<p id="p-0036" num="0035">Referring to <figref idref="DRAWINGS">FIG. 2</figref>, a digital image collection <b>110</b> contains a collection of digital images <b>115</b> for a user. The digital images <b>115</b> can include any type of digital image file, such as a digital still image or a digital video. In a preferred embodiment, the digital image collection <b>110</b> resides in the memory unit <b>30</b> of the computer <b>10</b> (<figref idref="DRAWINGS">FIG. 1</figref>). The digital image collection <b>110</b> is processed by a generate feature descriptors step <b>120</b> to generate feature descriptors <b>130</b> associated with each digital image. The feature descriptors <b>130</b> are related to image content or image capture conditions for the digital images. Any type of feature descriptor <b>130</b> known in the art can be generated and used in accordance with the present invention.</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 3</figref> shows additional details for the generate feature descriptors step <b>120</b> according to one embodiment, which illustrates the determination of a set of feature descriptors <b>130</b> for a particular digital image <b>115</b>. An analyze image content step <b>300</b> is used to analyze the digital image <b>115</b> to characterize a series of features related to the image content, and an analyze capture metadata step <b>310</b> is used to characterize a series of features related to image capture conditions. In a preferred embodiment, the analyze image content step <b>300</b> determines scene class features <b>302</b>, materials class features <b>304</b>, low-level features <b>306</b> and facial features, and the analyze capture metadata step <b>310</b> determines time-based features <b>312</b> and capture condition features <b>314</b>. These features can be determined using any method known in the art.</p>
<p id="p-0038" num="0037">Scene class features <b>302</b> provide an indication of a scene type (e.g., urban scene, beach scene or nature scene) for the digital image <b>115</b>. In one embodiment, the scene class features <b>302</b> are determined using the methods described in the article &#x201c;Review of the state of the art in semantic scene classification&#x201d; by Boutell et al. (Computer Science TR 799, University of Rochester, 2002). In some embodiments, capture metadata for the digital image <b>115</b> can be also used in the process of determining the scene class features <b>302</b>. For example, commonly-assigned U.S. Patent Application Publication 2005/0105776 to Luo, entitled &#x201c;Method for semantic scene classification using camera metadata and content-based cues&#x201d; teaches a method for classifying a scene as indoor or outdoor using camera metadata and image content.</p>
<p id="p-0039" num="0038">Materials class features <b>304</b> provide an indication of various materials (e.g., water, grass or snow) included in the digital image <b>115</b>. In one embodiment, the materials class features <b>304</b> are determined using a supervised learning approach such as that described by Carneiro et al. in the article &#x201c;Supervised learning of semantic classes for image annotation and retrieval&#x201d; (IEEE Transactions on Pattern Analysis and Machine Intelligence, Vol. 29, pp. 394-410, 2007). Another method for determining materials class features <b>304</b> that can be used in accordance with the present invention is described by Boutell et al. in the article &#x201c;Learning multi-label scene classification&#x201d; (Pattern Recognition, Vol. 37, pp. 1757-1771, 2004). This method is designed to determine materials class features for digital images <b>115</b> that can contain multiple materials classes. The method for detecting sky in an image described in commonly-assigned U.S. Pat. No. 6,504,951 to Luo et al., entitled &#x201c;Method for detecting sky in images&#x201d; can also be used to determine materials class features <b>304</b> in some embodiments.</p>
<p id="p-0040" num="0039">Low-level features <b>306</b> provide an indication of the visual content of an image in terms of the colors and textures present in the digital image <b>115</b>. These low-level features are useful for determining the similarity of appearance between two images. To ensure that the detected colors match the perceived color regions in the digital image <b>115</b>, spatially coherent color regions in the digital image <b>115</b> are identified. Commonly-assigned U.S. Pat. No. 6,480,840 to Zhu et al., entitled &#x201c;Method and computer program product for subjective image content similarity-based retrieval,&#x201d; describes determining color features from an image based on the assumption that significantly-sized, coherently-colored regions of an image are perceptually significant. Accordingly, a coherent color histogram is first computed for an image that provides an indication of the number of pixels of a particular color that belong to coherently colored regions. Dominant colors are then determined that occupy a significant proportion (according to a predefined threshold) of the overall pixels. U.S. Pat. No. 6,480,840 also describes the determination of texture features that can be used for low-level features <b>306</b> in accordance with the present invention.</p>
<p id="p-0041" num="0040">Facial features <b>308</b> provide an indication of any human faces that are detected in the digital image <b>115</b>. Methods for detecting human faces are well known in the art of digital image processing. For example, a face detection method that can be used in accordance with the present invention is described by Jones et al. in the article &#x201c;Fast Multi-view Face Detection&#x201d; (Mitsubishi Electric Research Laboratories, TR2003-96, 2003). This work was presented at the IEEE Conference on Computer Vision and Pattern Recognition in 2003. The facial features <b>308</b> computed from the face detection output include the number of faces in the image, and the approximate sizes and locations of faces in the digital image <b>115</b>. In some embodiments, the facial images can be analyzed to determine additional information about the image that can be used as facial features <b>308</b> (e.g., estimated age and gender of the persons in the image). For example, a method for assigning a face to an age category is described in U.S. Pat. No. 5,781,650 to Lobo, entitled &#x201c;Automatic Feature Detection and Age Classification.&#x201d; The method uses ratios of facial measurements that are known to change with age due to bone structure development. Also, commonly assigned U.S. Pat. No. 7,362,919 to Das, entitled &#x201c;Method for generating customized photo album pages and prints based on people and gender profiles&#x201d; describes a method for determining the gender of a detected face using facial measurements and facial textures that are known to be different between the genders.</p>
<p id="p-0042" num="0041">Most digital images <b>115</b> include various metadata tags relating to the image capture conditions. Such metadata tags are typically stored in the file header of the digital image (e.g., in an EXIF file header). The analyze capture metadata step <b>310</b> analyzes the capture metadata to characterize additional image features. The metadata tags generally include a capture date/time metadata tag providing an indication of the date and time that the digital image <b>115</b> was captured. Time-based features <b>312</b> are determined directly or indirectly from the capture date/time metadata. Some examples of time-based features <b>312</b> that can be determined include a time of day feature, a day feature, a month feature, a year feature, a season feature and a day-of-week feature.</p>
<p id="p-0043" num="0042">Capture condition features <b>314</b> relate to various camera settings and scene attributes. Some examples of capture condition features <b>314</b> that can be used in accordance with the present invention include scene lighting features (backlight present or not), scene brightness level features (dark or light), scene contrast features (high contrast or low contrast) and focal distance (distant or close-up scene). In addition, if the digital camera, or an associated accessory, includes a Global Positioning System (GPS) sensor, the capture metadata generally includes the geographical coordinates of the capture location. In some cases, camera metadata can be combined with auxiliary knowledge databases to determine other features for the image. For example, the geographical coordinates can be used to determine a geographical feature name (e.g., a park name, a body of water name, a town name or a building name) by using an auxiliary database such as the U.S. Geological Survey's Board of Geographic Names Geographic Names Information System (GNIS).</p>
<p id="p-0044" num="0043">In some embodiments, the metadata tags in the digital image <b>115</b> can be used to directly provide additional metadata tag features <b>316</b>. In some cases, the metadata tags may have been determined automatically. For example, some digital images <b>115</b> may have been processed using available facial recognition technology (such as the OKAO Vision&#x201d; Face Sensing Technology from Omron) to determine tags indicating the names of the person(s) in the image. In other cases, the metadata tags may have been manually provided by the user. For example, the user may have added tags indicating the capture location, the names of persons in the image or other keywords.</p>
<p id="p-0045" num="0044">In a preferred embodiment, each feature is expressed in terms of a finite number of symbolic descriptors so that the set of all possible symbolic feature descriptions is finite. A quantize features step <b>320</b> is used to quantize the various features into a finite number of predefined states. For example, scene class features <b>302</b> can be expressed as a binary output having only two levels for a predefined set of scene types (e.g., either the scene type is present or absent). Scene classification algorithms typically generate a confidence score that is used to indicate the degree of confidence of the detection. A threshold is used to generate the binary output. If the confidence score is higher than the threshold, the scene type is set to be &#x201c;true,&#x201d; and the scene type is included as a feature descriptor, otherwise it is not included. For example, if a beach scene is detected by the scene classification algorithm with a confidence score higher than the threshold, the feature descriptor &#x201c;Beach&#x201d; is associated with the digital image <b>115</b>.</p>
<p id="p-0046" num="0045">In the case of materials class features <b>304</b>, the number of pixels in the digital image that were determined to have a particular material type can be compared to a predefined threshold. If the image has more pixels of a given material type than the threshold, that material type is added as a feature descriptor associated with the digital image <b>115</b>.</p>
<p id="p-0047" num="0046">For the low-level features <b>306</b>, color feature descriptors are determined indicating that the digital image <b>115</b> contains a particular color. In a preferred embodiment, to achieve a small, fixed number of color choices to add as feature descriptors, the determined dominant are translated from the native RGB color space of the image into color names derived from the ISCC-NBS color naming system with the color names collapsed to the main color categories (i.e., red, blue, yellow, green, pink, purple, brown, orange, olive, white, black and gray) as described in the article &#x201c;Indexing flower patent images using domain knowledge&#x201d; by Das et al (IEEE Intelligent Systems and their Applications, Vol. 14, pp. 24-33, 1999). This limits the number of choices to twelve named colors.</p>
<p id="p-0048" num="0047">For the facial features <b>308</b>, a four-level feature descriptor for the number of people (no faces, one person, group of two, or three or more faces) in an image and a three-level feature descriptor that describes the size of faces in an image (small, medium, or large) are computed.</p>
<p id="p-0049" num="0048">The time-based features <b>312</b> are quantized as follows: time of day (morning, afternoon, evening or night), time of year (spring, summer, autumn or winter) and time of week (weekday or weekend). For the time of year feature, the year is divided into the main seasons and the feature descriptor is determined based on the month of capture of the image based on the climate at the geographical location of the user.</p>
<p id="p-0050" num="0049">In a preferred embodiment, the capture conditions features <b>314</b> and the metadata tag features <b>316</b> are translated directly to symbolic feature descriptors. For example, &#x201c;backlight&#x201d; when backlight is present, &#x201c;high contrast&#x201d; when the image contrast is determined to be high; the names of persons present (determined using face recognition or from user-provided metadata tags) and the names of any geographic features (determined automatically from the GPS coordinates or from user-provided metadata tags).</p>
<p id="p-0051" num="0050">Table 1 shows a list of example feature descriptors that can be determined from available algorithms for each of the feature categories:</p>
<p id="p-0052" num="0051">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE 1</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>Example feature descriptors</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="84pt" align="left"/>
<colspec colname="2" colwidth="133pt" align="left"/>
<tbody valign="top">
<row>
<entry>Feature Category</entry>
<entry>Example Feature Descriptors</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry>Scene Class Features</entry>
<entry>NatureScene, CityBuildings, Beach, Indoor,</entry>
</row>
<row>
<entry/>
<entry>Sunset</entry>
</row>
<row>
<entry>Materials Class Features</entry>
<entry>Sky, Snow, Water, FallFoliage,</entry>
</row>
<row>
<entry/>
<entry>GreenFoliage, Text</entry>
</row>
<row>
<entry>Low-Level Features</entry>
<entry>Blue, Green, Red, Yellow, Pink, Purple,</entry>
</row>
<row>
<entry/>
<entry>White</entry>
</row>
<row>
<entry>Facial Features</entry>
<entry>NoFace, OnePerson, GroupOf2,</entry>
</row>
<row>
<entry/>
<entry>3OrMoreFaces, SmallFace, LargeFace,</entry>
</row>
<row>
<entry/>
<entry>Baby, Adult, Female, Male</entry>
</row>
<row>
<entry>Time-Based Features</entry>
<entry>TimeOfDay, TimeOfYear, TimeOfWeek</entry>
</row>
<row>
<entry>Capture Condition Features</entry>
<entry>Closeup, Backlight, Dark</entry>
</row>
<row>
<entry>Metadata Tag Features</entry>
<entry>People Names, Geographic Location</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0053" num="0052">Returning to a discussion of <figref idref="DRAWINGS">FIG. 2</figref>, a store in database step <b>140</b> is used to store the feature descriptors <b>130</b> in a metadata database <b>145</b> associated with the digital image collection <b>110</b>. In a preferred embodiment, the metadata database <b>145</b> is stored using the well-known transactional database format described by Han et al. in the book &#x201c;Data Mining Concepts and Techniques&#x201d; (Morgan Kaufmann Publishers, Boston, pp. 14-15, 2006). To apply this approach, a &#x201c;transaction&#x201d; with a unique transaction identifier (ImageID) is defined for each digital image <b>115</b> in the digital image collection <b>110</b>. In one embodiment, the filename for the digital image <b>115</b> is used for the unique transaction identifier. The quantized feature descriptors <b>130</b> for the digital image <b>115</b> are used to define a set of &#x201c;items&#x201d; for the corresponding transaction. Each transaction is of the form: (ImageID, Feature_Descriptor<b>1</b>, Feature_Descriptor<b>2</b>, . . . Feature_DescriptorN) where the number of feature descriptors N may be different for different digital images <b>115</b> in the digital image collection <b>110</b>.</p>
<p id="p-0054" num="0053">Next, a frequent pattern mining step <b>150</b> is used to identify recurring patterns that are present in the metadata database <b>145</b>. In a preferred embodiment, the frequent pattern mining step <b>150</b> identifies a set of frequent itemsets <b>155</b>, where each of the frequent itemsets <b>155</b> is a co-occurring feature descriptor group that occurs in at least a predefined fraction of the digital images <b>115</b>.</p>
<p id="p-0055" num="0054">The frequent pattern mining step <b>150</b> can use any method for identifying frequent itemsets <b>155</b> known in the art. In a preferred embodiment, the frequent itemsets <b>155</b> are determined using the following method. Let &#x393; be the set of all possible symbolic feature descriptions in the metadata database <b>145</b>. Any subset F<u style="single">&#x2282;</u>&#x393; is referred to as an &#x201c;itemset.&#x201d; Let each image &#x201c;i&#x201d; in the collection correspond to a transaction &#x3c4;<sub>i </sub>containing an itemset of variable length including the feature descriptors associated with the digital image <b>115</b> in the metadata database <b>145</b>. Then &#x3c4;=&#x3c;&#x3c4;<sub>1</sub>, . . . , &#x3c4;<sub>i</sub>, . . . , &#x3c4;<sub>n</sub>&#x3e; is the transactional database consisting of a sequence of itemsets corresponding to each digital image <b>115</b> in the digital image collection <b>110</b>.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 6</figref> shows a section of a transactional database <b>600</b> determined for an example digital image collection <b>110</b> (<figref idref="DRAWINGS">FIG. 2</figref>). Each row of the transactional database <b>600</b> shows the transaction corresponding to a particular digital image <b>115</b> (<figref idref="DRAWINGS">FIG. 2</figref>). The first column of each row is the transaction ID <b>610</b>, which in this case is the unique image filename. This is followed by the feature descriptors <b>620</b> corresponding to the particular digital image <b>115</b>.</p>
<p id="p-0057" num="0056">For any itemset, F, the &#x201c;cover of F&#x201d; is defined as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>cover(<i>F</i>)={&#x3c4;&#x3b5;&#x3c4;|<i>F<u style="single">&#x2282;</u>&#x3c4;}</i>&#x2003;&#x2003;(1)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
That is, the cover of F consists of the set of transactions &#x3c4; in the transactional database &#x3c4; containing the items in the itemset F, and therefore are to be counted towards the frequency of F. The &#x201c;support of F&#x201d; is defined to be the size of the cover of F (i.e., the number of transactions in the cover):
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>support(<i>F</i>)=|cover(<i>F</i>)|&#x2003;&#x2003;(2)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where the operator |A| returns the number of elements in the set A.
</p>
<p id="p-0058" num="0057">Frequent itemsets &#x3a6; are defined for a given minimum support &#x201c;minsup&#x201d; as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>&#x3a6;={<i>F</i>|support(<i>F</i>)&#x2267;minsup}&#x2003;&#x2003;(3)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
That is, the set of itemsets having a support that is greater than or equal the specified minimum support. The minimum support is specified to be in the interval [0,1] as a fraction of the total number of transactions in the database. A frequent itemset is maximal if there are no proper supersets of F in &#x393; that are also frequent.
</p>
<p id="p-0059" num="0058">Algorithms for frequent itemset mining in a transactional database are well-known in the literature. In some embodiments, an implementation of the Eclat algorithm described by Borgelt in the article &#x201c;Efficient Implementations of Apriori and Eclat&#x201d; (Proc. of IEEE ICDM Workshop on Frequent Itemset Mining Implementations, 2003) is used to mine frequent itemsets. In a preferred embodiment, maximal frequent itemsets are generated using a value of minsup=0.05, and only frequent itemsets with 3 or more items are considered for further processing.</p>
<p id="p-0060" num="0059">Due to inaccuracies in the automatically generated metadata, the database entries are likely to include both false positives and false negatives. These errors will generally not have a significant effect on the frequent itemsets <b>155</b> that are detected since random errors are not likely to form consistent frequent groups. However, a filtering step can be included to check for and eliminate spurious frequent itemsets. Referring to <figref idref="DRAWINGS">FIG. 2</figref>, the frequent itemsets <b>155</b> generated are filtered as an optional filter frequent itemsets step <b>160</b> to remove some of the spurious frequent itemsets. (The step is shown using a dashed outline to reflect the fact that it is optional.)</p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 4</figref> shows additional details for the filter frequent itemsets step <b>160</b> according to one embodiment. This approach makes use of the fact that in the consumer imaging domain, temporal closeness of captured images indicates that they are more likely to be related to each other. In particular, if the images fall within the same event, they are likely to be similar in appearance as well as share other common features.</p>
<p id="p-0062" num="0061">The digital image collection <b>110</b> is passed to an event clustering step <b>420</b> to generate a set of event clusters <b>415</b> corresponding to events in the digital image collection <b>110</b>. In a preferred embodiment, the event clustering step <b>410</b> uses the method described in the aforementioned U.S. Pat. No. 6,606,411, to Loui et al., entitled &#x201c;A method for automatically classifying images into events.&#x201d; Briefly summarized, according to this method a collection of images is classified into one or more events by determining one or more largest time differences of the collection of images based on time/date clustering of the images and separating the plurality of images into the events based on having one or more boundaries between events where one or more boundaries correspond to the one or more largest time differences.</p>
<p id="p-0063" num="0062">For each of the identified frequent itemsets <b>155</b>, an extract events in itemset cover step <b>420</b> is used to retrieve the supporting transactions (each transaction corresponding to a unique digital image). The events corresponding to these digital images are extracted by comparing with them with the event clusters <b>415</b>.</p>
<p id="p-0064" num="0063">A compute confidence score step <b>430</b> is used to determine a corresponding confidence score <b>440</b> (C) for the frequent itemset <b>155</b> providing an indication of whether there is supporting evidence from related digital images from the same event. Considering the supporting transactions (digital images) for a given frequent itemset <b>155</b>, if there are multiple images from the same event, the itemset is assigned a higher confidence value. In one embodiment, the confidence score <b>440</b> is computed as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>confidence(<i>F</i>)=support(<i>F</i>)/&#x3a3;<sub>j=1</sub><sup>m</sup>NumImages(Event<sub>j</sub>)&#x2003;&#x2003;(4)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where Event<sub>1</sub>, Event<sub>2</sub>, . . . , Event<sub>m </sub>are the events in which the digital images in the cover of F are included, and the function NumImages(Event<sub>j</sub>) provides the number of images in the specified event. Therefore, the confidence score <b>440</b> is given by the number of images that are included in the transactions supporting an itemset F expressed as a fraction of the total number of images in the events to which they belong.
</p>
<p id="p-0065" num="0064">A confidence score test <b>450</b> is used to decide whether the frequent itemset <b>155</b> should be retained or removed by comparing the confidence score <b>440</b> to a predefined threshold C<sub>T</sub>. The predefined threshold C<sub>T </sub>is determined experimentally so that spurious frequent itemsets will generally be removed. If the confidence score <b>440</b> is less than the predefined threshold C<sub>T</sub>, a remove frequent itemset step <b>460</b> is used to remove the frequent itemset <b>155</b>, otherwise it is retained.</p>
<p id="p-0066" num="0065">The number of frequent itemsets remaining, even after applying the filter frequent itemsets step <b>160</b>, is usually quite large; for digital image collections <b>110</b> with a few thousand images, this number could be on the order of 50-100 frequent itemsets or more. Returning to a discussion of <figref idref="DRAWINGS">FIG. 2</figref>, a rank frequent itemsets step <b>170</b> is next applied to assess the frequent itemsets <b>155</b> and determine ranked frequent itemsets <b>175</b> such that frequent itemsets <b>155</b> that are more likely to be interesting to the user are ranked higher. Any method for ranking the frequent itemsets <b>155</b> known in the art can be used in accordance with the present invention. One such ranking method involves computing a numerical value that captures the degree to which an itemset is unusual and unique to a collection. This approach makes the assumption that generic itemsets that are common to most collections are less interesting.</p>
<p id="p-0067" num="0066"><figref idref="DRAWINGS">FIG. 5</figref> shows additional details for the rank frequent itemsets step <b>170</b> according to a preferred embodiment. A compute quality scores step <b>500</b> is used to compute quality scores <b>510</b> for each of the frequent itemsets <b>155</b>. A set of probability distributions <b>520</b> is determined representing the probability of occurrence of the various feature descriptors in a general population of consumer images. The probability distributions <b>520</b> can be determined by analyzing a large collection of digital images from a large number of individuals. The probabilities are preferably represented as a fraction by dividing the number of digital images having the feature descriptor by the total number of digital images in the collections. Personal collections available on the web through photo-sharing sites such as Flickr could be used for the purpose. In a preferred embodiment, the quality score <b>510</b> for a particular frequent itemset <b>155</b> (F) is determined by computing the inverse of the product of the probability of occurrences of the relevant feature descriptors using the following equation:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>quality(<i>F</i>)=1/&#x3a0;<sub>i=1</sub><sup>n</sup><i>p</i>(<i>f</i><sub>i</sub>)&#x2003;&#x2003;(5)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where the frequent itemset <b>510</b> (F) contains feature descriptors f<sub>1</sub>, f<sub>2</sub>, . . . f<sub>n</sub>, and p(f<sub>i</sub>) is the probability of occurrence of f<sub>i</sub>. Those skilled in the art will recognize that the product of the probability of occurrences of the relevant feature descriptors represents an estimate of a probability of occurrence for the frequent itemset under the assumption that the feature descriptors are independent. In other embodiments, joint probability distributions can be used to account for any correlations that may exist between the feature descriptors.
</p>
<p id="p-0068" num="0067">For example, consider the itemsets &#x201c;Outdoor, Sky, Summer&#x201d; and &#x201c;Outdoor, Baby, Summer&#x201d; where the probability of occurrences of &#x201c;Outdoor&#x201d; is 0.5, &#x201c;Summer&#x201d; is 0.25, &#x201c;Sky&#x201d; is 0.3 and &#x201c;Baby&#x201d; is 0.05. Then the quality score if the first itemset is 27 while the quality score of the second itemset is 160. This indicates that the itemset with &#x201c;Baby&#x201d; in it is more interesting and therefore, ranked higher than the similar itemset with &#x201c;Sky&#x201d; instead of &#x201c;Baby&#x201d;. Specific people names and locations are also more likely to be unique to a collection and have low probability of occurrence in the general population, resulting in higher quality scores <b>510</b>.</p>
<p id="p-0069" num="0068">Finally, a compute final ranked list step <b>530</b> is used to rank the frequent itemsets <b>155</b> according to the computed quality scores <b>510</b>. In some embodiments, optional application-specific requirements <b>540</b> can be enforced during the formation of the ranked frequent itemsets <b>175</b>. For example, if the application is to generate a story or narrative from a user's collection that can be used in a photo-book or slideshow, it can be noted that narratives or chronicles are more interesting when the themes cover a large time span. To detect themes that span longer time periods, and are therefore more suitable as a narrative, the longest time difference between images in the cover of a frequent itemset are computed to determine an associated time span. The top N frequent itemsets from the ranked list is selected, where N is based on the approximate number of images to be included the photo-book or slideshow, and this subset of frequent itemsets is re-ranked by decreasing order of time span. Another example of re-ranking based on application-specific requirements <b>540</b> is to impose a requirement that preferentially selects images having people in them (e.g., for a family album). Here the re-ranking can be based on the number of people in the images. However, the use of application-specific requirements <b>540</b> is optional; in the absence of any application-specific requirements <b>540</b>, a pre-defined number of frequent itemsets having the highest quality scores <b>510</b> can be provided for the final list of ranked frequent itemsets.</p>
<p id="p-0070" num="0069">Returning to a discussion of <figref idref="DRAWINGS">FIG. 2</figref>, a select related image groups step <b>180</b> is used to select related image groups <b>185</b> responsive to the ranked frequent itemsets <b>175</b>. This step extracts groups of digital images <b>115</b> from the digital image collection <b>110</b>, with each group corresponding to the digital images <b>115</b> in the cover of each of the frequent itemsets in the final list of ranked frequented itemsets <b>175</b>. Each related image group <b>185</b> will generally correspond to a particular theme that includes image content corresponding to the associated feature descriptors. An indication of the related image groups <b>185</b> can be stored in a processor-accessible memory for use in various applications.</p>
<p id="p-0071" num="0070">It has been found that a user's primary picture-taking interests (e.g., baby, garden, school sports, etc.), will generally appear as a related image group <b>185</b> based on some combination of underlying metadata. Because the detected groups are strictly data-driven (with no a priori assumptions about a user's collection), they are customized to the type of image content in a specific user's digital image collection <b>110</b>. Each detected related image group <b>185</b> will generally represent a theme in the collection. The formation of the related image group <b>185</b> require no work by the user.</p>
<p id="p-0072" num="0071">In some embodiments, the related image groups <b>185</b> are presented to the user for review and selection. The user can then select one of the presented related image groups <b>185</b> for use in their intended application. For example, the related image groups <b>185</b> can be displayed to the user in the form of a slideshow or a photo-book or some other product that the user may desire to purchase. In other application, the related image groups <b>185</b> can be automatically used for a particular application without any user review.</p>
<p id="p-0073" num="0072">A computer program product can include one or more non-transitory, tangible, computer readable storage medium, for example; magnetic storage media such as magnetic disk (such as a floppy disk) or magnetic tape; optical storage media such as optical disk, optical tape, or machine readable bar code; solid-state electronic storage devices such as random access memory (RAM), or read-only memory (ROM); or any other physical device or media employed to store a computer program having instructions for controlling one or more computers to practice the method according to the present invention.</p>
<p id="p-0074" num="0073">The invention has been described in detail with particular reference to certain preferred embodiments thereof, but it will be understood that variations and modifications can be effected within the spirit and scope of the invention.</p>
<heading id="h-0006" level="1">PARTS LIST</heading>
<p id="p-0075" num="0000">
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0074"><b>10</b> computer</li>
    <li id="ul0001-0002" num="0075"><b>20</b> processor unit</li>
    <li id="ul0001-0003" num="0076"><b>30</b> memory unit</li>
    <li id="ul0001-0004" num="0077"><b>50</b> input device</li>
    <li id="ul0001-0005" num="0078"><b>60</b> keyboard</li>
    <li id="ul0001-0006" num="0079"><b>70</b> display device</li>
    <li id="ul0001-0007" num="0080"><b>80</b> network connection</li>
    <li id="ul0001-0008" num="0081"><b>110</b> digital image collection</li>
    <li id="ul0001-0009" num="0082"><b>115</b> digital image</li>
    <li id="ul0001-0010" num="0083"><b>120</b> generate feature descriptors step</li>
    <li id="ul0001-0011" num="0084"><b>130</b> feature descriptors</li>
    <li id="ul0001-0012" num="0085"><b>140</b> store in metadata database step</li>
    <li id="ul0001-0013" num="0086"><b>145</b> metadata database</li>
    <li id="ul0001-0014" num="0087"><b>150</b> frequent pattern mining step</li>
    <li id="ul0001-0015" num="0088"><b>155</b> frequent itemsets</li>
    <li id="ul0001-0016" num="0089"><b>160</b> filter frequent itemsets step</li>
    <li id="ul0001-0017" num="0090"><b>170</b> rank frequent itemsets step</li>
    <li id="ul0001-0018" num="0091"><b>175</b> ranked frequent itemsets</li>
    <li id="ul0001-0019" num="0092"><b>180</b> select related image groups</li>
    <li id="ul0001-0020" num="0093"><b>185</b> related image groups</li>
    <li id="ul0001-0021" num="0094"><b>300</b> analyze image content step</li>
    <li id="ul0001-0022" num="0095"><b>302</b> scene class features</li>
    <li id="ul0001-0023" num="0096"><b>304</b> materials class features</li>
    <li id="ul0001-0024" num="0097"><b>306</b> low-level features</li>
    <li id="ul0001-0025" num="0098"><b>308</b> facial features</li>
    <li id="ul0001-0026" num="0099"><b>310</b> analyze capture metadata step</li>
    <li id="ul0001-0027" num="0100"><b>312</b> time-based features</li>
    <li id="ul0001-0028" num="0101"><b>314</b> capture condition features</li>
    <li id="ul0001-0029" num="0102"><b>316</b> metadata tag features</li>
    <li id="ul0001-0030" num="0103"><b>320</b> quantize features step</li>
    <li id="ul0001-0031" num="0104"><b>410</b> event clustering step</li>
    <li id="ul0001-0032" num="0105"><b>415</b> event clusters</li>
    <li id="ul0001-0033" num="0106"><b>420</b> extract events in itemset cover step</li>
    <li id="ul0001-0034" num="0107"><b>430</b> compute confidence score step</li>
    <li id="ul0001-0035" num="0108"><b>440</b> confidence score</li>
    <li id="ul0001-0036" num="0109"><b>450</b> confidence score test</li>
    <li id="ul0001-0037" num="0110"><b>460</b> remove frequent itemset step</li>
    <li id="ul0001-0038" num="0111"><b>500</b> compute quality scores step</li>
    <li id="ul0001-0039" num="0112"><b>510</b> quality scores</li>
    <li id="ul0001-0040" num="0113"><b>520</b> probability distributions</li>
    <li id="ul0001-0041" num="0114"><b>530</b> compute final ranked list step</li>
    <li id="ul0001-0042" num="0115"><b>540</b> application-specific requirements</li>
    <li id="ul0001-0043" num="0116"><b>600</b> transactional database</li>
    <li id="ul0001-0044" num="0117"><b>610</b> transaction ID</li>
    <li id="ul0001-0045" num="0118"><b>620</b> feature descriptors</li>
</ul>
</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method comprising:
<claim-text>analyzing each digital image in a digital image collection to generate associated feature descriptors related to image content or image capture conditions;</claim-text>
<claim-text>storing the feature descriptors associated with the digital images in a metadata database;</claim-text>
<claim-text>using a data processor to automatically analyze the metadata database to identify a plurality of frequent itemsets, wherein each of the frequent itemsets is a set of co-occurring feature descriptors that occurs in at least a predefined fraction of the digital images, each frequent itemset being associated with a subset of the digital images;</claim-text>
<claim-text>determining, for each of the identified frequent itemsets, a probability of occurrence representing a probability that a respective frequent itemset occurs in a general population of images based on one or more probability distributions determined from an analysis of a large number of image collections;</claim-text>
<claim-text>determining a quality score for each of the identified frequent itemsets responsive to the determined probability of occurrence;</claim-text>
<claim-text>ranking the frequent itemsets based at least on the determined quality scores;</claim-text>
<claim-text>identifying one or more groups of related digital images corresponding to one or more of the top ranked frequent itemsets; and</claim-text>
<claim-text>storing an indication of the identified groups of related digital images in a processor-accessible memory.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>automatically analyzing the digital images using an event clustering operation to cluster the digital images into a set of events;</claim-text>
<claim-text>determining a confidence score for each of the frequent itemsets based at least upon the events associated with the digital images corresponding to the frequent itemset;</claim-text>
<claim-text>identifying any frequent itemsets having an associated confidence score lower than a pre-defined threshold; and</claim-text>
<claim-text>removing the identified frequent itemsets from the plurality of frequent itemsets.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref> wherein the confidence score for an itemset is based on a comparison of the number of images from a given event that are associated with the itemset to the total number of images from the event.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the metadata database is stored using a transactional database format.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the feature descriptors generated for the digital images include feature descriptors determined by analyzing image content of the digital images.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref> wherein the feature descriptors determined by analyzing image content of the digital images include scene class features, materials class features, low-level features or facial features.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the feature descriptors generated for the digital images include feature descriptors determined by analyzing capture metadata associated with the digital images.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref> wherein the feature descriptors determined by analyzing capture metadata include capture condition features.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the feature descriptors generated for the digital images include feature descriptors corresponding to metadata tags associated with the digital images.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref> wherein the metadata tags are received via a user-interface.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref> wherein the metadata tags were determined by automatically analyzing image content or capture metadata associated with the digital images.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the feature descriptors are quantized into a finite number of predefined states.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the ranking of the frequent itemsets is also based upon a time difference between an earliest capture time and a latest capture time associated with the digital images corresponding to the frequent itemset.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the ranking of the frequent itemsets is also based upon the number of people in the digital images corresponding to the frequent itemset.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the detected related images are displayed to a user in the form of a slideshow or photo-book.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. A system comprising:
<claim-text>a data processing system; and</claim-text>
<claim-text>a memory system communicatively connected to the data processing system and storing instructions configured to cause the data processing system to implement a method comprising:
<claim-text>analyzing each digital image in a digital image collection to generate associated feature descriptors related to image content or image capture conditions;</claim-text>
<claim-text>storing the feature descriptors associated with the digital images in a metadata database;</claim-text>
<claim-text>automatically analyzing the metadata database to identify a plurality of frequent itemsets, wherein each of the frequent itemsets is a set of co-occurring feature descriptors that occurs in at least a predefined fraction of the digital images, each frequent itemset being associated with a subset of the digital images;</claim-text>
<claim-text>determining, for each of the identified frequent itemsets, a probability of occurrence representing a probability that a respective frequent itemset occurs in a general population of images based on one or more probability distributions determined from an analysis of a large number of image collections;</claim-text>
<claim-text>determining a quality score for each of the identified frequent itemsets responsive to the determined probability of occurrence;</claim-text>
<claim-text>ranking the frequent itemsets based at least on the determined quality scores;</claim-text>
<claim-text>identifying one or more groups of related digital images corresponding to one or more of the top ranked frequent itemsets; and</claim-text>
<claim-text>storing an indication of the identified groups of related digital images in a processor-accessible memory.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The system of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the confidence score for an itemset is determined based at least in part on the number of images from the same events in the digital images corresponding to the frequent itemset.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The system of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the feature descriptors determined by analyzing image content of the digital images include scene class features, materials class features, low-level features and facial features.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The system of <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the metadata tags are received via a user-interface.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. A non-transitory computer readable medium having stored thereon instructions executable by a processor to cause the processor to perform functions, comprising:
<claim-text>analyzing each digital image in a digital image collection to generate associated feature descriptors related to image content or image capture conditions;</claim-text>
<claim-text>storing the feature descriptors associated with the digital images in a metadata database;</claim-text>
<claim-text>automatically analyzing the metadata database to identify a plurality of frequent itemsets, wherein each of the frequent itemsets is a co-occurring group of feature descriptors that occurs in at least a predefined fraction of the digital images, each frequent itemset being associated with a subset of the digital images;</claim-text>
<claim-text>determining, for each of the identified frequent itemsets, a probability of occurrence representing a probability that a respective frequent itemset occurs in a general population of images based on one or more probability distributions determined from an analysis of a large number of image collections;</claim-text>
<claim-text>determining a quality score for each of the identified frequent itemsets responsive to the determined probability of occurrence;</claim-text>
<claim-text>ranking the frequent itemsets based at least on the determined quality scores;</claim-text>
<claim-text>identifying one or more groups of related digital images corresponding to one or more of the top ranked frequent itemsets; and</claim-text>
<claim-text>storing an indication of the identified groups of related digital images in a processor-accessible memory.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the quality score of a frequent itemset is inversely related to a commonness of the co-occurring feature descriptors in the frequent itemset.</claim-text>
</claim>
</claims>
</us-patent-grant>
