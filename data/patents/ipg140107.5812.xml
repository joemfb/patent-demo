<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626920-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626920</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12726011</doc-number>
<date>20100317</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2009-076797</doc-number>
<date>20090326</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>856</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>16</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>709226</main-classification>
<further-classification>358  115</further-classification>
</classification-national>
<invention-title id="d2e71">Network system and peripheral</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7826080</doc-number>
<kind>B2</kind>
<name>Matsumoto et al.</name>
<date>20101100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  115</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7840674</doc-number>
<kind>B1</kind>
<name>Sterling</name>
<date>20101100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709226</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2004/0068548</doc-number>
<kind>A1</kind>
<name>Sugita</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2004/0148379</doc-number>
<kind>A1</kind>
<name>Ogura</name>
<date>20040700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2006/0109505</doc-number>
<kind>A1</kind>
<name>Ha et al.</name>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  115</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>JP</country>
<doc-number>9-73424</doc-number>
<kind>A</kind>
<date>19970300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>JP</country>
<doc-number>11-232233</doc-number>
<kind>A</kind>
<date>19990800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>JP</country>
<doc-number>2001-268306</doc-number>
<kind>A</kind>
<date>20010900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>JP</country>
<doc-number>2004/21582</doc-number>
<kind>A</kind>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>JP</country>
<doc-number>2004-139572</doc-number>
<kind>A</kind>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>JP</country>
<doc-number>2007-148629</doc-number>
<kind>A</kind>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00012">
<othercit>Kawakami, Yoshio; Machine Translation of JP9073424(A), Mar. 18, 1997 pp. 1-9.</othercit>
</nplcit>
<category>cited by examiner</category>
</us-citation>
<us-citation>
<nplcit num="00013">
<othercit>Japanese Office Action dated Jan. 11, 2011 together with partial English translation.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>8</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>709226</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358  115</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>12</number-of-drawing-sheets>
<number-of-figures>15</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20100250749</doc-number>
<kind>A1</kind>
<date>20100930</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Kadota</last-name>
<first-name>Masatoshi</first-name>
<address>
<city>Takahama</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Kadota</last-name>
<first-name>Masatoshi</first-name>
<address>
<city>Takahama</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Scully, Scott, Murphy &#x26; Presser, P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Brother Kogyo Kabushiki Kaisha</orgname>
<role>03</role>
<address>
<city>Nagoya-shi, Aichi-ken</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Bates</last-name>
<first-name>Kevin</first-name>
<department>2456</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A network system is made up of a plurality of PCs, a printer a server, and the like. The printer selects one PC from among the plurality of PCs as a firmware provider. Accordingly, if there are two or more PCs that can communicate with the printer, only one PC communicates with the server at the same time. Thus, to retrieve firmware from the server, a plurality of PCs can be prevented from communicating with the server at the same time, so that concentration of access to the server can be suppressed. Therefore, an increase in the network traffic can be suppressed.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="201.42mm" wi="150.88mm" file="US08626920-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="243.33mm" wi="159.68mm" file="US08626920-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="203.03mm" wi="115.65mm" orientation="landscape" file="US08626920-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="188.30mm" wi="127.08mm" file="US08626920-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="195.92mm" wi="158.41mm" file="US08626920-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="109.14mm" wi="101.68mm" file="US08626920-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="217.17mm" wi="150.11mm" file="US08626920-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="280.25mm" wi="171.03mm" file="US08626920-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="231.65mm" wi="162.39mm" file="US08626920-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="135.64mm" wi="109.47mm" file="US08626920-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="233.76mm" wi="154.09mm" file="US08626920-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="215.39mm" wi="152.15mm" file="US08626920-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="201.08mm" wi="113.45mm" file="US08626920-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATION</heading>
<p id="p-0002" num="0001">The present application claims priority from Japanese Patent Application NO. 2009-076797, which was filed on Mar. 26, 2009, the disclosure of which is incorporated herein by reference in its entirety.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">This invention relates to a network system and a peripheral</p>
<p id="p-0004" num="0003">Hitherto, a network system including a server, a computer that can communicate with the server through a network, and a peripheral that can communicate with the computer through the network has been known.</p>
<p id="p-0005" num="0004">In this kind of network system, the computer retrieves the latest firmware of a printer (an example of a peripheral) from the server and transmits the retrieved firmware to the printer, whereby the printer updates the firmware.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0006" num="0005">If two or more computers that can communicate with the peripheral exist, there is a possibility that all computers may retrieve the firmware for the server at the same time. In this case, access to server concentrates and thus a problem occurs in that the network traffic (line use state) increases.</p>
<p id="p-0007" num="0006">In view of the circumstances described above, it is an object of the invention to suppress an increase in network traffic.</p>
<p id="p-0008" num="0007">In order to achieve the object, a network system according to exemplary embodiments of the invention comprises a server, a plurality of computers that can communicate with the server through a network, and a peripheral that can communicate with the plurality of computers through the network,</p>
<p id="p-0009" num="0008">wherein the server comprises a firmware storage unit which stores a latest firmware,</p>
<p id="p-0010" num="0009">wherein the peripheral comprises:
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0010">a selection unit which selects one computer from among the plurality of computers;</li>
        <li id="ul0002-0002" num="0011">a providing request transmission unit which communicates with the computer selected by the selection unit, and transmits a request for providing the latest firmware to the selected computer; and</li>
        <li id="ul0002-0003" num="0012">an update unit which updates the firmware of the peripheral,</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0011" num="0013">wherein each of the plurality of computers comprises:
<ul id="ul0003" list-style="none">
    <li id="ul0003-0001" num="0000">
    <ul id="ul0004" list-style="none">
        <li id="ul0004-0001" num="0014">a firmware retrieving unit which retrieves the latest firmware stored in the firmware storage unit of the server by communicating with the server upon reception of the providing request from the providing request transmission unit; and</li>
        <li id="ul0004-0002" num="0015">a firmware providing unit which provides the latest firmware by communicating with the peripheral transmitting the providing request when the firmware retrieving unit retrieves the firmware, and</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0012" num="0016">wherein the update unit of the peripheral updates the firmware of the peripheral to the latest firmware provided by the firmware providing unit.</p>
<p id="p-0013" num="0017">A peripheral according to exemplary embodiments of the invention connected to and communicating with a plurality of computers that can communicate with a server through a network, the peripheral comprises:</p>
<p id="p-0014" num="0018">a selection unit which selects one computer from among the plurality of computers;</p>
<p id="p-0015" num="0019">a providing request transmission unit which communicates with the computer selected by the selection unit, and transmits a request for providing a latest firmware to the selected computer; and</p>
<p id="p-0016" num="0020">an update unit which updates the firmware of the peripheral to the latest firmware provided by the computer receiving the providing request by communicating with the computer receiving the providing request.</p>
<p id="p-0017" num="0021">A method according to exemplary embodiments of the invention for updating a firmware of a peripheral connected to and communicating with a plurality of computers that can communicate through a network with a server storing a latest firmware, comprises:</p>
<p id="p-0018" num="0022">selecting one computer from among the plurality of computers by the peripheral;</p>
<p id="p-0019" num="0023">transmitting a request for providing the latest firmware to the selected computer from the peripheral;</p>
<p id="p-0020" num="0024">retrieving the latest firmware from the server by the selected computer upon reception of the providing request from the peripheral;</p>
<p id="p-0021" num="0025">providing the retrieved latest firmware from the selected computer to the peripheral;</p>
<p id="p-0022" num="0026">updating the firmware of the peripheral to the latest firmware provided by the selected computer.</p>
<p id="p-0023" num="0027">A peripheral according to exemplary embodiments of the invention comprises;</p>
<p id="p-0024" num="0028">a communicating unit configured to communicate with a plurality of computers;</p>
<p id="p-0025" num="0029">a storage unit for storing a firmware; and</p>
<p id="p-0026" num="0030">a controller connected to the communicating unit and the storage unit,</p>
<p id="p-0027" num="0031">wherein the controller selects one computer from among the plurality of computers communicable via the communicating unit, the controller communicates with the one computer to retrieve a firmware from the one computer via the communicating unit, and the controller stores the firmware retrieved from the one computer in the storage unit.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0028" num="0032"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic block diagram to represent the general configuration of a network system of a first embodiment of the invention;</p>
<p id="p-0029" num="0033"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic representation to describe a monitor table stored in a storage unit of a printer of the first embodiment of the invention;</p>
<p id="p-0030" num="0034"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart of status information transmission processing executed by a controller of the printer of the first embodiment of the invention;</p>
<p id="p-0031" num="0035"><figref idref="DRAWINGS">FIG. 4</figref> is a flowchart of registration deletion processing executed by the controller of the printer of the first embodiment of the invention;</p>
<p id="p-0032" num="0036"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart of update processing executed by the controller of the printer of the first embodiment of the invention;</p>
<p id="p-0033" num="0037"><figref idref="DRAWINGS">FIG. 6</figref> is a flowchart of provider selection processing executed by the controller of the printer of the first embodiment of the invention;</p>
<p id="p-0034" num="0038"><figref idref="DRAWINGS">FIG. 7</figref> is a flowchart of processing executed when a status monitor is started in a PC of the first embodiment of the invention;</p>
<p id="p-0035" num="0039"><figref idref="DRAWINGS">FIG. 8</figref> is a flowchart of provider approval/refusal selection processing executed by a controller of the PC of the first embodiment of the invention;</p>
<p id="p-0036" num="0040"><figref idref="DRAWINGS">FIG. 9</figref> is a flowchart of provider selection processing of a second embodiment of the invention;</p>
<p id="p-0037" num="0041"><figref idref="DRAWINGS">FIG. 10</figref> is a flowchart of processing executed by a controller of a PC and a controller of a printer of a third embodiment of the invention;</p>
<p id="p-0038" num="0042"><figref idref="DRAWINGS">FIG. 11</figref> is a flowchart of provider selection processing of a fourth embodiment of the invention;</p>
<p id="p-0039" num="0043"><figref idref="DRAWINGS">FIG. 12</figref> is a flowchart of use state examination processing executed by a controller of a PC of a fifth embodiment of the invention;</p>
<p id="p-0040" num="0044"><figref idref="DRAWINGS">FIG. 13</figref> is a flowchart of update processing of the fifth embodiment of the invention;</p>
<p id="p-0041" num="0045"><figref idref="DRAWINGS">FIG. 14</figref> is a flowchart of provider selection processing of a sixth embodiment of the invention; and</p>
<p id="p-0042" num="0046"><figref idref="DRAWINGS">FIG. 15</figref> is a flowchart of provider selection processing of a seventh embodiment of the invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DESCRIPTION OF EXEMPLARY EMBODIMENTS</heading>
<p id="p-0043" num="0047">Exemplary embodiments of the invention will be discussed below with the accompanying drawings:</p>
<p id="p-0044" num="0048">1. General Configuration of Network System</p>
<p id="p-0045" num="0049">A network system is made up of a plurality of computers <b>1</b>A to <b>1</b>E (PC <b>1</b>A to PC <b>1</b>E), a printer <b>2</b>, a server <b>3</b>, and the like as shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0046" num="0050">The PC <b>1</b>A to PC <b>1</b>E and the printer <b>2</b> can communicate with each other through a LAN (Local Area Network) <b>5</b>. The LAN <b>5</b> is connected to a WAN (Wide Area Network; for example, the Internet) <b>7</b> through a router <b>6</b> and the PC <b>1</b> can also communicate with the server <b>3</b> through the WAN <b>7</b>.</p>
<p id="p-0047" num="0051">The server <b>3</b> is provided with a function of distributing firmware for the printer <b>2</b> and the firmware of the printer <b>2</b> to be distributed is stored in a storage unit <b>4</b> of the server <b>3</b> in association with version information of the firmware.</p>
<p id="p-0048" num="0052">The PC <b>1</b> includes a controller <b>11</b>, a storage unit <b>12</b>, an input unit <b>13</b>, a display unit <b>14</b>, a network interface <b>15</b>, and the like.</p>
<p id="p-0049" num="0053">The controller <b>11</b> is made up of hardware of a CPU, RAM, ROM, etc., and software of an OS (Operating System), applications, etc. In the controller <b>11</b>, a status monitor <b>11</b>A, purser, and the like function as software relating to the network system.</p>
<p id="p-0050" num="0054">The status monitor <b>11</b>A performs processing of outputting status information concerning the printer <b>2</b> such as the operation state, the trouble state, the use state, etc., of the printer <b>2</b> to the display unit <b>14</b>, thereby providing the information for the user, processing of retrieving the latest firmware of the printer <b>2</b> from the server <b>3</b> and providing the retrieved firmware for the printer <b>2</b>, and the like.</p>
<p id="p-0051" num="0055">The storage unit <b>12</b> is implemented as a hard disk unit and nonvolatile memory. The storage unit <b>12</b> is used for storing data of a large size and data to be stored even when power supply is shut off. In the embodiment, the storage unit <b>12</b> stores the firmware of the printer <b>2</b> retrieved (received) by the PC <b>1</b> from the server <b>3</b>.</p>
<p id="p-0052" num="0056">In <figref idref="DRAWINGS">FIG. 1</figref>, the internal configuration of only the PC <b>1</b>A is shown; however, the internal configuration of each of other PC <b>1</b>B to PC <b>1</b>E is similar to that of the PC <b>1</b>A. This also applies to the drawings described later.</p>
<p id="p-0053" num="0057">The printer <b>2</b> prints on an output sheet in accordance with a print command transmitted from the PCs <b>1</b>A to <b>1</b>E; it includes a controller <b>21</b>, a storage unit <b>22</b>, an operation unit <b>23</b>, a display unit <b>24</b>, a network interface <b>25</b>, a print unit <b>26</b>, a notification unit <b>27</b> for providing notification in the surroundings by producing a sound or light, a clock counter (not shown) for counting time after the printer <b>2</b> has turned on in unit of milli second ([ms]), and the like.</p>
<p id="p-0054" num="0058">The storage unit <b>22</b> is implemented as nonvolatile memory and stores firmware for controlling the hardware of the printer <b>2</b>, information relevant to the firmware, a monitor table including PC monitoring data for monitoring the PC <b>1</b>A to PC <b>1</b>E that can communicate with the printer <b>2</b>, and the like. The information relevant to the firmware is information of the type of firmware, the version information of the firmware, etc.</p>
<p id="p-0055" num="0059">The monitor table is a table including data for monitoring the PC <b>1</b>A to PC <b>1</b>E that can communicate with the printer <b>2</b>. The monitor table associates host information concerning the PC <b>1</b>A to PC <b>1</b>E that can communicate with the printer <b>2</b> (in the embodiment, IP address, port number, protocol, etc.) and the last access time at which each of the PC <b>1</b>A to PC <b>1</b>E last accessed the printer <b>2</b> with each other, as shown in <figref idref="DRAWINGS">FIG. 2</figref>. The last access time is the time at which the printer <b>2</b> received a status request command sent from the PC <b>1</b>A to PC <b>1</b>E at S<b>520</b> described later The time is indicated as the count of the clock counter after the printer <b>2</b> has turned on.</p>
<p id="p-0056" num="0060">The controller <b>21</b> is implemented as a microcomputer made up of a CPU, RAM, ROM, etc.</p>
<p id="p-0057" num="0061">Upon reception of a status request command representing a request for status information of the printer <b>2</b> from the PC <b>1</b>A to PC <b>1</b>E, the controller <b>21</b> executes status information transmission processing shown in <figref idref="DRAWINGS">FIG. 3</figref>. <figref idref="DRAWINGS">FIG. 3</figref> is a flowchart of the status information transmission processing executed by the controller <b>21</b>.</p>
<p id="p-0058" num="0062">For example, when the controller <b>21</b> of the printer receives the status request command from the PC<b>1</b>A, the controller <b>21</b> records, on the monitor table, the PC monitor information including the name of PC (PC<b>1</b>A) which transmitted the status request command and the receiving time of the status request command. Thereafter, the controller <b>21</b> transmits the status information of the printer <b>2</b> to the PC (PC<b>1</b>A) which transmitted the status request command (S<b>120</b>).</p>
<p id="p-0059" num="0063">In the same way, when the controller <b>21</b> receives the status request command from any of PC<b>1</b>B-PC<b>1</b>E, the controller <b>21</b> records, on the monitor table, the PC monitor information including the name of PC which transmitted the status request command and the receiving time of the status request command.</p>
<p id="p-0060" num="0064">The controller <b>21</b> periodically (every 10 seconds in the exemplary embodiment) performs registration deletion processing as shown in <figref idref="DRAWINGS">FIG. 4</figref>. The registration deletion processing is a processing of deleting the PC monitor information which is recorded on the monitor table and which has the receiving time which elapses more that 30 seconds from the current time. That is, the controller <b>21</b> deletes from the monitor table the PC which has not transmitted the status request command for the 30 seconds as the controller <b>21</b> regards this PC as a PC which does not need the status of the printer <b>2</b> anymore.</p>
<p id="p-0061" num="0065">The controller <b>21</b> also performs update processing of selecting one PC from among the PC <b>1</b>A to PC <b>1</b>E registered in the monitor table, retrieving firmware from the selected PC, and updating the firmware of the printer <b>2</b> to the latest firmware (firmware retrieved from the selected PC).</p>
<p id="p-0062" num="0066">2. Characteristic Operation of Network System</p>
<p id="p-0063" num="0067">2.1. Characteristic Operation of Printer</p>
<p id="p-0064" num="0068">2.1.1. Update Processing</p>
<p id="p-0065" num="0069"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart to represent update processing executed by the controller <b>21</b> of the printer <b>2</b>. This processing is executed at regular time intervals (in the embodiment, once a month).</p>
<p id="p-0066" num="0070">When the controller <b>21</b> starts the update processing shown in <figref idref="DRAWINGS">FIG. 5</figref>, first, if a print processing is in progress performing, the controller <b>21</b> halts the update processing until the current print processing being completed (S<b>310</b>), as shown in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0067" num="0071">When the current print processing is completed, provider selection processing of selecting one PC as the PC of the firmware provider from among the PC <b>1</b>A to PC <b>1</b>E registered in the monitor table at S<b>320</b>.</p>
<p id="p-0068" num="0072">The PC of the firmware provider is a PC for retrieving the firmware of the printer <b>2</b> from the server <b>3</b> and providing the retrieved firmware for the printer <b>2</b>. In the description to follow, the case where the printer <b>2</b> selects the PC <b>1</b>A in the provider selection processing is taken as an example.</p>
<p id="p-0069" num="0073">Subsequently, at S<b>330</b>, a firmware request command representing a request for the latest firmware is transmitted to the PC <b>1</b>A selected in the provider selection processing and at S<b>340</b>, whether or not a response signal transmitted from the PC <b>1</b>A as a response to the firmware request command has been received at the printer <b>2</b> is determined.</p>
<p id="p-0070" num="0074">If it is determined at S<b>340</b> that a response signal is not received (NO at S<b>340</b>), S<b>340</b> is repeated. On the other hand, if it is determined that a response signal is received (YES at S<b>340</b>), whether or not the response signal received at S<b>340</b> is a signal representing approval of the PC <b>1</b>A becoming the provider is determined (S<b>350</b>).</p>
<p id="p-0071" num="0075">If it is determined at S<b>350</b> that the response signal is not a signal representing approval of the PC <b>1</b>A becoming the provider, in other words, that the response signal is a signal representing refusal of the PC <b>1</b>A becoming the provider (NO at S<b>350</b>), whether or not another provider candidate exists among the PC <b>1</b>A to PC <b>1</b>E registered in the monitor table is determined (S<b>360</b>).</p>
<p id="p-0072" num="0076">A specific example is taken for the description. If it is determined at S<b>350</b> that the response signal is not a signal representing approval of the PC <b>1</b>A becoming the provider (NO at S<b>350</b>), the PC <b>1</b>A selected in the present provider selection processing does not become an provider and thus whether or not any other PC than the PC <b>1</b>A exists among the PC <b>1</b>A to PC <b>1</b>E registered in the monitor table is determined at S<b>360</b>.</p>
<p id="p-0073" num="0077">If it is determined at S<b>360</b> that another provider candidate exists (YES at S<b>360</b>), provider selection processing of selecting one PC from among the PC <b>1</b>B to PC <b>1</b>E except the already selected PC (here, the PC <b>1</b>A) is executed (S<b>320</b>); if it is determined that no provider candidate exists (NO at S<b>360</b>), the update processing shown in <figref idref="DRAWINGS">FIG. 5</figref> is terminated.</p>
<p id="p-0074" num="0078">If it is determined at S<b>350</b> that the response signal is a signal representing approval of the PC <b>1</b>A becoming the provider (YES at S<b>350</b>), firmware is retrieved from the PC <b>1</b>A selected in the provider selection processing. After the retrieval of the firmware, the firmware of the printer <b>2</b> is updated (overwritten) by the retrieved firmware (S<b>370</b>), and the update processing shown in <figref idref="DRAWINGS">FIG. 5</figref> is terminated.</p>
<p id="p-0075" num="0079">If the version of the firmware that the printer <b>2</b> has at present is already the latest version, the printer <b>2</b> does not retrieve firmware from the PC <b>1</b>A selected in the provider selection processing and terminates the update processing shown in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0076" num="0080">2.1.2. Provider Selection Processing</p>
<p id="p-0077" num="0081"><figref idref="DRAWINGS">FIG. 6</figref> is a flowchart to represent the provider selection processing executed by the controller <b>21</b> of the printer <b>2</b>. This processing is executed when S<b>310</b> of the update processing shown in <figref idref="DRAWINGS">FIG. 5</figref> terminates. When the controller <b>21</b> starts the provider selection processing, random numbers with the number of PCs not transmitting a response signal indicating refusal of the PC <b>1</b>A to PC <b>1</b>E becoming the provider as the maximum value are generated (S<b>410</b>).</p>
<p id="p-0078" num="0082">That is, in the provider selection processing, first, all PCs of the PC <b>1</b>A to PC <b>1</b>E registered in the monitor table are provider selection candidates and the PC <b>1</b>A and <b>1</b>B refusing to become the provider although selected as the provider (NO at S<b>350</b>) are excluded from the provider selection candidates.</p>
<p id="p-0079" num="0083">At S<b>420</b>, one PC <b>1</b> is selected from among the PC <b>1</b>A to PC <b>1</b>E registered in the monitor table based on the result of S<b>410</b> and the provider selection processing is exited.</p>
<p id="p-0080" num="0084">Specifically, for example, if the PC <b>1</b>A only issues a response signal representing refusal of the PC <b>1</b>A becoming the provider, random numbers of 1 to 4 are generated and the digits 1 to 4 correspond to the PC <b>1</b>B to PC <b>1</b>E. If the random number result is 2, the PC <b>1</b>C corresponding to the digit 2 is selected.</p>
<p id="p-0081" num="0085">2.2. Characteristic Operation of PC</p>
<p id="p-0082" num="0086">2.2.1. Processing Executed by Status Monitor</p>
<p id="p-0083" num="0087"><figref idref="DRAWINGS">FIG. 7</figref> is a flowchart of processing executed by the controller <b>11</b> when the status monitor <b>11</b>A is started in the PC <b>1</b>A. When the controller <b>11</b> of the PC <b>1</b>A starts the processing shown in <figref idref="DRAWINGS">FIG. 7</figref>, first, a standby state is held for one second (S<b>510</b>) as shown in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0084" num="0088">Next, a status request command is transmitted to the printer <b>2</b> and status information transmitted from the printer <b>2</b> in response to the command is retrieved and the information is displayed (S<b>520</b>).</p>
<p id="p-0085" num="0089">Subsequently, at S<b>530</b>, whether or not a firmware request command has been received at the PC <b>1</b>A is determined. This firmware request command is the command transmitted at S<b>330</b> in the update processing of the printer <b>2</b>. If it is determined at S<b>530</b> that no firmware request command is received (NO at S<b>530</b>), the process returns to S<b>510</b>; if it is determined that a firmware request command has been received (YES at S<b>530</b>), the process goes to S<b>540</b>.</p>
<p id="p-0086" num="0090">At S<b>540</b>, provider approval/refusal selection processing of examining the use state of the PC <b>1</b>A and selecting whether or not the PC <b>1</b>A becomes the provider based on the examination result is executed. At S<b>550</b>, whether or not the PC <b>1</b>A becomes the provider is determined based on the result of the provider approval/refusal selection processing.</p>
<p id="p-0087" num="0091">If it is determined at S<b>550</b> that the PC <b>1</b>A does not become the provider (NO at S<b>550</b>), a response signal representing refusal of the PC <b>1</b>A becoming the provider is transmitted to the printer <b>2</b> (S<b>560</b>) and the process returns to S<b>510</b>.</p>
<p id="p-0088" num="0092">On the other hand, if it is determined at S<b>550</b> that the PC <b>1</b>A becomes the provider (YES at S<b>550</b>), a response signal representing approval of the PC <b>1</b>A becoming the provider is transmitted to the printer <b>2</b> (S<b>570</b>).</p>
<p id="p-0089" num="0093">Subsequently, at S<b>580</b>, firmware acquisition processing of retrieving the latest firmware of the printer <b>2</b> from the server <b>3</b> is executed. At S<b>590</b>, the firmware retrieved at S<b>580</b> is transmitted to (provided for) the printer <b>2</b> and the process returns to S<b>510</b>.</p>
<p id="p-0090" num="0094">In the firmware acquisition processing (S<b>580</b>), if the version of the firmware that the printer <b>2</b> has at present is already the latest version, firmware is not retrieved from the server <b>3</b>. Likewise in the firmware providing processing (S<b>590</b>), if the version of the firmware that the printer <b>2</b> has at present is already the latest version, firmware is not provided for the printer <b>2</b>.</p>
<p id="p-0091" num="0095">2.2.2. Provider Approval/Refusal Selection Processing</p>
<p id="p-0092" num="0096"><figref idref="DRAWINGS">FIG. 8</figref> is a flowchart to represent provider approval/refusal selection processing executed by the status monitor <b>11</b>A (strictly, the controller <b>11</b> of the PC <b>1</b>A functioning as the status monitor <b>11</b>A). This processing is executed as S<b>540</b> if it is determined at S<b>530</b> shown in <figref idref="DRAWINGS">FIG. 7</figref> that a firmware request command has been received.</p>
<p id="p-0093" num="0097">As shown in <figref idref="DRAWINGS">FIG. 8</figref>, the controller <b>11</b> of the PC <b>1</b>A starts the provider approval/refusal selection processing, first it is determined that the PC <b>1</b>A is being shut down at present (S<b>610</b>).</p>
<p id="p-0094" num="0098">If it is determined at S<b>610</b> that the PC <b>1</b>A is being shut down at present (YES at S<b>610</b>), refusal of the PC <b>1</b>A becoming the provider is selected (S<b>620</b>) and the provider approval/refusal selection processing shown in <figref idref="DRAWINGS">FIG. 8</figref> is exited.</p>
<p id="p-0095" num="0099">On the other hand, if it is determined at S<b>610</b> that the PC <b>1</b>A is not being shut down (turned on) at present (NO at S<b>610</b>), the process goes to S<b>630</b>. At S<b>630</b>, it is determined whether or not the PC <b>1</b>A is able to retrieve firmware without delaying other network communications based on the network use state of the PC <b>1</b>A.</p>
<p id="p-0096" num="0100">Specifically, at S<b>630</b>, as the use state of the network, the usage rate of the network and the communication speed of the line of the network are examined. For example, if the usage rate of the network is equal to or less than a predetermined value and the communication speed is equal to or greater than 10 [Mbps], it is determined that the PC <b>1</b>A is able to retrieve firmware without delaying other network communications.</p>
<p id="p-0097" num="0101">If it is determined at S<b>630</b> that the PC <b>1</b>A is not able to retrieve firmware without delaying other network communications (NO at S<b>630</b>), refusal of the PC <b>1</b>A becoming the provider is selected (S<b>620</b>) and the provider approval/refusal selection processing shown in <figref idref="DRAWINGS">FIG. 8</figref> is exited.</p>
<p id="p-0098" num="0102">On the other hand, if it is determined at S<b>630</b> that the PC <b>1</b>A is able to retrieve firmware without delaying other network communications (YES at S<b>630</b>), it is determined that whether or not the PC <b>1</b>A is scheduled to be shut down within a predetermined time (S<b>640</b>).</p>
<p id="p-0099" num="0103">If it is determined at S<b>640</b> that the PC <b>1</b>A is scheduled to be shut down within a predetermined time (YES at S<b>640</b>), refusal of the PC <b>1</b>A becoming the provider is selected (S<b>620</b>) and the provider approval/refusal selection processing shown in <figref idref="DRAWINGS">FIG. 8</figref> is exited.</p>
<p id="p-0100" num="0104">On the other hand, if it is determined at S<b>640</b> that the PC <b>1</b>A is not scheduled to be shut down within a predetermined time (NO at S<b>640</b>), whether or not the usage rate of the CPU of the controller <b>11</b> is 50% or less is determined (S<b>650</b>).</p>
<p id="p-0101" num="0105">If it is determined at S<b>650</b> that the usage rate of the CPU of the controller <b>11</b> is more than 50% (NO at S<b>650</b>), refusal of the PC <b>1</b>A becoming the provider is selected (S<b>620</b>) and the provider approval/refusal selection processing shown in <figref idref="DRAWINGS">FIG. 8</figref> is exited.</p>
<p id="p-0102" num="0106">On the other hand, if it is determined at S<b>650</b> that the usage rate of the CPU of the controller <b>11</b> is 50% or less (YES at S<b>650</b>), whether or not the current state of the PC <b>1</b>A is a sleep state is determined (S<b>660</b>).</p>
<p id="p-0103" num="0107">If it is determined at S<b>660</b> that the current state of the PC <b>1</b>A is a sleep state (YES at S<b>660</b>), approval of the PC <b>1</b>A becoming the provider is selected (S<b>710</b>) and the provider approval/refusal selection processing shown in <figref idref="DRAWINGS">FIG. 8</figref> is exited.</p>
<p id="p-0104" num="0108">On the other hand, if it is determined at S<b>660</b> that the current state of the PC <b>1</b>A is not a sleep state (NO at S<b>660</b>), whether or not there is a user logging in the PC <b>1</b>A is determined (S<b>670</b>).</p>
<p id="p-0105" num="0109">If it is determined at S<b>670</b> that there is not a user logging in the PC <b>1</b>A (NO at S<b>670</b>), approval of the PC <b>1</b>A becoming the provider is selected (S<b>710</b>) and the provider approval/refusal selection processing shown in <figref idref="DRAWINGS">FIG. 8</figref> is exited.</p>
<p id="p-0106" num="0110">On the other hand, if it is determined at S<b>670</b> that there is a user logging in the PC <b>1</b>A (YES at S<b>670</b>), whether or not the user logging in the PC <b>1</b>A has a specific authority is determined (S<b>680</b>).</p>
<p id="p-0107" num="0111">If it is determined at S<b>680</b> that the user logging in the PC <b>1</b>A does not have a specific authority (NO at S<b>680</b>), approval of the PC <b>1</b>A becoming the provider is selected (S<b>710</b>) and the provider approval/refusal selection processing shown in <figref idref="DRAWINGS">FIG. 8</figref> is exited.</p>
<p id="p-0108" num="0112">On the other hand, if it is determined at S<b>680</b> that the user logging in the PC <b>1</b>A has a specific authority (YES at S<b>680</b>), a selection dialog for requesting the user to select approval or refusal of the PC <b>1</b>A becoming the provider is displayed on the display unit <b>14</b> of the PC <b>1</b>A and whether or not the selection result of the user on the selection dialog is input to the PC <b>1</b>A through the input unit <b>13</b> is determined (S<b>690</b>).</p>
<p id="p-0109" num="0113">S<b>690</b> is repeated until it is determined that the selection result of the user on the selection dialog is input to the PC <b>1</b>A through the input unit <b>13</b>. When it is determined that the selection result of the user is input to the PC <b>1</b>A (YES at S<b>690</b>), whether or not the input result is selection of approval of the PC <b>1</b>A becoming the provider is determined (S<b>700</b>).</p>
<p id="p-0110" num="0114">If it is determined at S<b>700</b> that the input result is selection of approval of the PC <b>1</b>A becoming the provider (YES at S<b>700</b>), approval of the PC <b>1</b>A becoming the provider is selected (S<b>710</b>) and the provider approval/refusal selection processing shown in <figref idref="DRAWINGS">FIG. 8</figref> is exited.</p>
<p id="p-0111" num="0115">On the other hand, if it is determined at S<b>700</b> that the input result is not selection of approval of the PC <b>1</b>A becoming the provider (NO at S<b>700</b>), refusal of the PC <b>1</b>A becoming the provider is selected (S<b>620</b>) and the provider approval/refusal selection processing shown in <figref idref="DRAWINGS">FIG. 8</figref> is exited.</p>
<p id="p-0112" num="0116">3. Features of Network System According to Embodiment</p>
<p id="p-0113" num="0117">As described above, according to the embodiment, the printer <b>2</b> selects one PC from among the PC <b>1</b>A to PC <b>1</b>E as the provider (firmware provider) (S<b>320</b>) and thus if there are a plurality of PCs <b>1</b> that can communicate with the printer <b>2</b>, only one PC communicates with the server <b>3</b> at the same time.</p>
<p id="p-0114" num="0118">Thus, to retrieve firmware from the server <b>3</b>, a plurality of PCs of PC <b>1</b>A to PC <b>1</b>E can be prevented from conducting communication with the server <b>3</b> at the same time, so that concentration of access to the server <b>3</b> can be suppressed. Therefore, an increase in the network traffic can be suppressed.</p>
<p id="p-0115" num="0119">In the embodiment, to select one of the PC <b>1</b>A to PC <b>1</b>E as the provider, random numbers are generated (S<b>410</b>), whereby one of the PC <b>1</b>A to PC <b>1</b>E as the provider is selected at random. That is, in the embodiment, using random numbers, it is made easy to select one of the PC <b>1</b>B to PC <b>1</b>E different from the PC <b>1</b>A previously selected in the provider selection processing.</p>
<p id="p-0116" num="0120">Thus, a specific PC <b>1</b> is prevented from being selected concentratedly as the provider and load is prevented from concentrating on one PC.</p>
<p id="p-0117" num="0121">The PC <b>1</b>A to PC <b>1</b>E of the embodiment can refuse to be selected as the provider by the printer <b>2</b> as shown in the provider approval/refusal selection processing in <figref idref="DRAWINGS">FIG. 8</figref> (S<b>620</b>). Thus, as for PC <b>1</b> not fitted for the provider, refusal of the PC <b>1</b> becoming the provider is selected, whereby the printer <b>2</b> can update firmware using any of the PC <b>1</b>A to PC <b>1</b>E fitted for the provider.</p>
<p id="p-0118" num="0122">Therefore, the firmware can be efficiently updated.</p>
<p id="p-0119" num="0123">In the embodiment, if the PC <b>1</b> is not able to retrieve firmware without delaying other network communications (NO at S<b>630</b>) or if the usage rate of the CPU of the PC <b>1</b> is more than 50% (NO at S<b>650</b>), etc., namely, if the PC <b>1</b> is not fitted for the provider, the PC <b>1</b> is not selected as the provider (S<b>620</b>). Thus, the printer <b>2</b> can update firmware from among the PC <b>1</b>A to PC <b>1</b>E fitted for the provider.</p>
<p id="p-0120" num="0124">In the provider approval/refusal selection processing, the communication speed of the line of the network and the usage rate of the network are used as selection conditions as to whether or not PC becomes the provider (S<b>630</b>), so that the communication time of the network required for updating the firmware can be shortened effectively.</p>
<p id="p-0121" num="0125">Further, in the embodiment, arrangement in which the PC used by the user having a specific authority refuses to become the provider even if any other condition is satisfied is also involved (S<b>680</b> to S<b>700</b>). According to the processing, the user having a specific authority can refuse to become the provider, so that the user who needs to perform emergency processing can perform the emergency processing without hindrance.</p>
<p id="p-0122" num="0126">If the response signal transmitted from the PC <b>1</b> is a signal representing refusal of the PC <b>1</b> becoming the provider (NO at S<b>350</b>), the printer selects one PC among the PC <b>1</b>A to PC <b>1</b>E except the PC transmitting the response signal, so that the PC <b>1</b> not becoming the provider can be prevented from being again selected.</p>
<p id="p-0123" num="0127">4. Correspondence Between Invention Specific Items and Embodiment</p>
<p id="p-0124" num="0128">In the embodiment, the printer <b>2</b> corresponds to a peripheral, the storage unit <b>4</b> of the server <b>3</b> corresponds to a firmware storage unit, and the processing at S<b>410</b> and S<b>420</b> corresponds to a selection unit.</p>
<p id="p-0125" num="0129">The processing at S<b>330</b> corresponds to a providing request transmission unit, the processing at S<b>580</b> corresponds to a firmware acquisition unit, and the processing at S<b>590</b> corresponds to a firmware providing unit.</p>
<p id="p-0126" num="0130">The processing at S<b>370</b> corresponds to an update unit, the processing at S<b>610</b> to S<b>710</b> corresponds to a provider selection unit, and the processing at S<b>560</b> corresponds to a notification transmission unit.</p>
<heading id="h-0006" level="1">Second Embodiment</heading>
<p id="p-0127" num="0131">In the first embodiment described above, random numbers are used to select any of the PC <b>1</b>A to PC <b>1</b>E becoming the provider. In a second embodiment, however, the PC of PC <b>1</b>A to PC <b>1</b>E involving the longest access time to a printer <b>2</b> is selected as a provider as shown in <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="p-0128" num="0132">Provider selection processing of the embodiment will be discussed with <figref idref="DRAWINGS">FIG. 9</figref>. <figref idref="DRAWINGS">FIG. 9</figref> is a flowchart of the provider selection processing of the second embodiment of the invention. Components identical with those of the first embodiment are denoted by the same reference numerals in the second embodiment and steps identical with those of the first embodiment are denoted by the same step numbers in the second embodiment and therefore they will not be discussed again in detail. This also applies to third to seventh embodiments described later in a similar manner.</p>
<p id="p-0129" num="0133">When S<b>310</b> of the update processing shown in <figref idref="DRAWINGS">FIG. 5</figref> terminates, if a control unit <b>21</b> starts provider selection processing, as shown in <figref idref="DRAWINGS">FIG. 9</figref>, PC <b>1</b> having the longest time from the first access time to the last access time is selected from among PC <b>1</b>A to PC <b>1</b>E registered in the monitor table (<figref idref="DRAWINGS">FIG. 2</figref>) (S<b>810</b>) and the provider selection processing is exited.</p>
<p id="p-0130" num="0134">Specifically, the first access time and the last access time of each of the registered PC <b>1</b>A to PC <b>1</b>E are stored and the PC involving the largest difference between the first and last access times is selected as the provider.</p>
<p id="p-0131" num="0135">As described above, also in the embodiment, the printer <b>2</b> selects one PC as the provider, so that an increase in the network traffic can be suppressed as in the first embodiment.</p>
<p id="p-0132" num="0136">The PC accessing the printer for the longest time has a high possibility of being capable of stably conducting communications with the printer <b>2</b> and thus such a PC is selected as the provider, so that the PC can stably provide firmware for the printer <b>2</b>.</p>
<p id="p-0133" num="0137">In the embodiment, the processing at S<b>810</b> corresponds to a selection unit.</p>
<heading id="h-0007" level="1">Third Embodiment</heading>
<p id="p-0134" num="0138">As compared with the provider selection processing of the first and second embodiments described above, provider selection processing of a third embodiment of the invention is adapted to select any of PC <b>1</b>A to PC <b>1</b>E becoming an provider using the use state of the PC <b>1</b>A to PC <b>1</b>E.</p>
<p id="p-0135" num="0139">The provider selection processing of the embodiment will be discussed with <figref idref="DRAWINGS">FIG. 10</figref>. <figref idref="DRAWINGS">FIG. 10</figref> is a flowchart of processing executed by a controller <b>11</b> of the PC <b>1</b>A and a controller <b>21</b> of a printer <b>2</b> of the third embodiment of the invention.</p>
<p id="p-0136" num="0140">As shown in <figref idref="DRAWINGS">FIG. 10</figref>, when the controller <b>21</b> of the printer <b>2</b> starts the provider selection processing, first, it inquires of the PC <b>1</b>A to PC <b>1</b>E about the descriptions of all applications that the PC <b>1</b>A to PC <b>1</b>E have (S<b>910</b>). Then, the PC <b>1</b>A to PC <b>1</b>E receiving the inquiry transmit (report) the descriptions of all applications that the PC <b>1</b>A to PC <b>1</b>E have to the printer <b>2</b> (S<b>1010</b>).</p>
<p id="p-0137" num="0141">When the descriptions of all applications that the PC <b>1</b>A to PC <b>1</b>E have are received at the printer <b>2</b>, the print frequency of each application is examined based on the reception result and weight addition is performed on the print frequency (S<b>920</b>).</p>
<p id="p-0138" num="0142">Specifically, the types of applications assumed to involve a high print frequency are previously stored in the printer <b>2</b> and the printer <b>2</b> determines whether or not the type of application that the PC <b>1</b>A has matches the stored type of application based on the application descriptions retrieved from the PC <b>1</b>A, for example.</p>
<p id="p-0139" num="0143">If they match, weight addition is performed on the application as the application involving a high print frequency; if they do not match, nothing is added.</p>
<p id="p-0140" num="0144">Such processing is repeated for all applications retrieved from the PC <b>1</b>A.</p>
<p id="p-0141" num="0145">Subsequently, at S<b>930</b>, it is determined whether or not any PC (PC <b>1</b>A to PC <b>1</b>E) which has not yet examined its application remains. If it is determined at S<b>930</b> that at least one PC (PC <b>1</b>A to PC <b>1</b>E) which is not examined its application remains (NO at S<b>930</b>), the process returns to S<b>910</b>; if it is determined at S<b>930</b> that no PC which is not examined its application remains, the process goes to S<b>940</b>.</p>
<p id="p-0142" num="0146">At S<b>940</b>, the PC <b>1</b>A with the calculation result (addition value) at S<b>920</b> being the minimum is selected as the provider and the provider selection processing is exited. That is, at S<b>940</b>, the PC of the PC <b>1</b>A to PC <b>1</b>E least using the printer <b>2</b> is selected as the provider.</p>
<p id="p-0143" num="0147">As described above, also in the embodiment, the printer <b>2</b> selects one PC as the provider, so that an increase in the network traffic can be suppressed as in the first and second embodiments.</p>
<p id="p-0144" num="0148">In the embodiment, the PC becoming the provider is selected based on the use state (print frequency of application) of the PC <b>1</b>A to PC <b>1</b>E, so that selecting of PC not fitted for the provider can be prevented.</p>
<p id="p-0145" num="0149">In the embodiment, the processing at S<b>910</b> to S<b>940</b> corresponds to a selection unit.</p>
<heading id="h-0008" level="1">Fourth Embodiment</heading>
<p id="p-0146" num="0150">As compared with the provider selection processing of the first to third embodiments described above, provider selection processing of a fourth embodiment of the invention is adapted to select any of PC <b>1</b>A to PC <b>1</b>E becoming an provider by the user of a printer <b>2</b>.</p>
<p id="p-0147" num="0151">The provider selection processing of the embodiment will be discussed with <figref idref="DRAWINGS">FIG. 11</figref>. <figref idref="DRAWINGS">FIG. 11</figref> is a flowchart of the provider selection processing of the fourth embodiment of the invention.</p>
<p id="p-0148" num="0152">As shown in <figref idref="DRAWINGS">FIG. 11</figref>, when a controller <b>21</b> of the printer <b>2</b> starts the provider selection processing, first, notification processing of causing a notification unit <b>27</b> to produce light and a sound is performed (S<b>1110</b>) and a selection dialog for enabling the user to select any of the PC <b>1</b>A to <b>1</b>E registered in the monitor table (<figref idref="DRAWINGS">FIG. 2</figref>) is displayed on a display unit <b>24</b> (S<b>1120</b>).</p>
<p id="p-0149" num="0153">At S<b>1130</b>, whether or not the user selects one of the PC <b>1</b>A to <b>1</b>E displayed on the selection dialog of the display unit <b>24</b> is determined (S<b>1130</b>). S<b>1130</b> is repeated until it is determined that the user selects one from among the PC <b>1</b>A to <b>1</b>E.</p>
<p id="p-0150" num="0154">If it is determined at S<b>1130</b> that the user selects one from among the PC <b>1</b>A to <b>1</b>E (YES at S<b>1130</b>), the PC <b>1</b> selected by the user is selected as the provider (S<b>1140</b>) and the provider selection processing is exited.</p>
<p id="p-0151" num="0155">As described above, also in the embodiment, the printer <b>2</b> selects one PC as the provider, so that an increase in the network traffic can be suppressed as in the first to third embodiments.</p>
<p id="p-0152" num="0156">In the embodiment, the processing at S<b>1110</b> to S<b>1140</b> corresponds to a selection unit.</p>
<heading id="h-0009" level="1">Fifth Embodiment</heading>
<p id="p-0153" num="0157">As compared with the first to fourth embodiments described above, in a fifth embodiment of the invention, if PC <b>1</b>A to PC <b>1</b>E whose use state satisfies a predetermined condition are extracted as provider selection candidates and one PC is selected from among the extracted PCs <b>1</b>.</p>
<p id="p-0154" num="0158">Specifically, a controller <b>11</b> of the PC <b>1</b>A of the embodiment performs use state examination processing of examining the use state of the PC <b>1</b>A and transmits the examination result (score described later) to a printer <b>2</b>.</p>
<p id="p-0155" num="0159">Whenever the printer <b>2</b> receives the score transmitted from the PC <b>1</b>A, the printer <b>2</b> stores the score in a storage unit <b>22</b>. The printer <b>2</b> extracts provider selection candidates from among the PC <b>1</b>A to PC <b>1</b>E based on the scores and selects one PC from among the extracted selection candidates.</p>
<p id="p-0156" num="0160">The use state examination processing executed by the controller <b>11</b> of the PC <b>1</b>A of the embodiment and update processing executed by a controller <b>21</b> of the printer <b>2</b> will be discussed with <figref idref="DRAWINGS">FIGS. 12 and 13</figref>.</p>
<p id="p-0157" num="0161">1. Use State Examination Processing</p>
<p id="p-0158" num="0162"><figref idref="DRAWINGS">FIG. 12</figref> is a flowchart of the use state examination processing executed by the controller <b>11</b> of the PC <b>1</b>A of the embodiment. This processing is executed at regular time intervals (in the embodiment, every hour). As shown in <figref idref="DRAWINGS">FIG. 12</figref>, when the controller <b>11</b> of the PC <b>1</b>A starts the use state examination processing, first, it is checked whether or not the PC <b>1</b>A can be connected to a network (S<b>1210</b>).</p>
<p id="p-0159" num="0163">Specifically, at S<b>1210</b>, it is checked whether or not the PC <b>1</b>A is connected to a WAN <b>7</b> and it is checked whether or not a port of the PC <b>1</b>A can communicate with WAN <b>7</b> by using the port of the PC <b>1</b>A (for example, a state in which the port is not closed by a fire wall).</p>
<p id="p-0160" num="0164">Subsequently, at S<b>1220</b>, whether or not the PC <b>1</b>A can be connected to the network is determined based on the examination result at S<b>1210</b>. Specifically, if the PC <b>1</b>A is connected to the WAN <b>7</b> and the port of the PC <b>1</b>A can be used, it is determined that the PC <b>1</b>A can be connected to the network.</p>
<p id="p-0161" num="0165">If it is determined at S<b>1220</b> that the PC <b>1</b>A cannot be connected to the network (NO at S<b>1220</b>), the score representing the use state of the PC <b>1</b>A is set to &#x201c;0&#x201d; (S<b>1310</b>). Subsequently, at S<b>1300</b>, the score set at S<b>1310</b> is transmitted to the printer <b>2</b> and the use state examination processing is terminated.</p>
<p id="p-0162" num="0166">On the other hand, if it is determined at S<b>1220</b> that the PC <b>1</b>A can be connected to the network (YES at S<b>1220</b>), the free space of the storage unit <b>12</b> of the PC <b>1</b>A is calculated (S<b>1230</b>) and whether or not the PC <b>1</b>A can download firmware is determined based on the calculation result (the free space of the storage unit <b>12</b>) (S<b>1240</b>).</p>
<p id="p-0163" num="0167">Specifically, at S<b>1240</b>, if the free space of the storage unit <b>12</b> is enough space to store firmware, it is determined that the PC <b>1</b>A can download firmware.</p>
<p id="p-0164" num="0168">If it is determined at S<b>1240</b> that the PC <b>1</b>A cannot download firmware (NO at S<b>1240</b>), the score is set to &#x201c;0&#x201d; (S<b>1310</b>) and the score is transmitted to the printer <b>2</b> (S<b>1300</b>).</p>
<p id="p-0165" num="0169">On the other hand, if it is determined at S<b>1240</b> that the PC <b>1</b>A can download firmware (YES at S<b>1240</b>), the reserve capacity of the network is investigated (S<b>1250</b>). Specifically, at S<b>1250</b>, the product of the non-usage rate of the network and the communication speed of the line of the network is calculated.</p>
<p id="p-0166" num="0170">At S<b>1260</b>, the non-usage rate of the control unit <b>11</b> (specifically, CPU) is calculated and subsequently the calculation result at S<b>1250</b> and the calculation result at S<b>1260</b> are added and the addition result is set as the score (S<b>1270</b>).</p>
<p id="p-0167" num="0171">Next, at S<b>1280</b>, it is determined whether or not any application that requires real-time processing (for example, a music player or an animation player) is executing on PC <b>1</b>A.</p>
<p id="p-0168" num="0172">If it is determined at S<b>1280</b> that an application that requires real-time processing does not exist (NO at S<b>1280</b>), the score set at S<b>1270</b> is transmitted to the printer <b>2</b> (S<b>1300</b>).</p>
<p id="p-0169" num="0173">On the other hand, if it is determined at S<b>1280</b> that an application executed in real time exists (YES at S<b>1280</b>), the score set at S<b>1270</b> is downward corrected (S<b>1290</b>) and the downward corrected score is transmitted to the printer <b>2</b> (S<b>1300</b>).</p>
<p id="p-0170" num="0174">2. Update Processing</p>
<p id="p-0171" num="0175"><figref idref="DRAWINGS">FIG. 13</figref> is a flowchart of update processing executed by the controller <b>21</b> of the printer <b>2</b> of the embodiment of the invention. This processing is executed at regular time intervals (in the embodiment, once a month).</p>
<p id="p-0172" num="0176">As shown in <figref idref="DRAWINGS">FIG. 13</figref>, first, if a print processing is under progress, the controller <b>21</b> halts the update processing until the current print processing is completed (S<b>310</b>).</p>
<p id="p-0173" num="0177">When the current print processing is completed, the controller <b>21</b> extracts PCs of the PC <b>1</b>A to PC <b>1</b>E having score (namely, the use state of the PC <b>1</b>A to PC <b>1</b>E) of a predetermined value or more, based on the scores stored in the storage section <b>22</b>, as provider selection candidates (S<b>315</b>).</p>
<p id="p-0174" num="0178">At S<b>320</b>, provider selection processing of selecting one PC from among the PCs extracted at S<b>315</b> as the PC becoming the provider is performed. Details of the provider selection processing executed in the embodiment may be any of the first to fourth embodiments described above (<figref idref="DRAWINGS">FIGS. 6 and 9</figref> to <b>11</b>).</p>
<p id="p-0175" num="0179">3. Features of Network System According to the Embodiment</p>
<p id="p-0176" num="0180">As described above, also in the embodiment, the printer <b>2</b> selects one PC as the provider, so that an increase in the network traffic can be suppressed as in the first to fourth embodiments.</p>
<p id="p-0177" num="0181">In the embodiment, if the value of the score transmitted from the PC <b>1</b>A to PC <b>1</b>E is the predetermined value or more, the PC(s) corresponding to the score are extracted as the provider selection candidate(s) (S<b>315</b>).</p>
<p id="p-0178" num="0182">That is, in the embodiment, the PC (PC <b>1</b>A to PC <b>1</b>E) whose use state satisfies a predetermined condition is extracted as the provider selection candidate and one PC is selected from among the extracted PCs. Thus, only the PCs (PC <b>1</b>A to PC <b>1</b>E) fitted for the provider can be narrowed down as the provider selection candidates.</p>
<p id="p-0179" num="0183">The technique of the score calculation is not limited to the method described above; for example, a change can be made in such a manner that the score is incremented for the PC that the user does not log in, the PC wherein a screen saver starts, etc. To transmit the score, at S<b>315</b>, the printer may request the PC to transmit the score and the PC may respond to the request with the score.</p>
<p id="p-0180" num="0184">In the embodiment, the processing at S<b>315</b> and S<b>320</b> corresponds to a selection unit.</p>
<heading id="h-0010" level="1">Sixth Embodiment</heading>
<p id="p-0181" num="0185">As compared with the first to fifth embodiments described above, provider selection processing of a fourth embodiment of the invention is adapted to select any of PC <b>1</b>A to PC <b>1</b>E becoming an provider based on a score transmitted from PC <b>1</b>A to PC <b>1</b>E (the use state of the PC <b>1</b>A to PC <b>1</b>E).</p>
<p id="p-0182" num="0186">The provider selection processing of the embodiment will be discussed with <figref idref="DRAWINGS">FIG. 14</figref>. <figref idref="DRAWINGS">FIG. 14</figref> is a flowchart of the provider selection processing of the sixth embodiment of the invention.</p>
<p id="p-0183" num="0187">As shown in <figref idref="DRAWINGS">FIG. 14</figref>, when a controller <b>21</b> of a printer <b>2</b> starts the provider selection processing, the PC (the PC <b>1</b>A to PC <b>1</b>E) having the highest score is selected as the PC becoming the provider from among the PCs extracted as the provider selection candidates at S<b>315</b> (see <figref idref="DRAWINGS">FIG. 13</figref>) based on the scores stored in a storage unit <b>22</b> of the printer <b>2</b> (S<b>1410</b>) and the provider selection processing is terminated.</p>
<p id="p-0184" num="0188">As described above, also in the embodiment, the printer <b>2</b> selects one PC as the provider, so that an increase in the network traffic can be suppressed as in the first to fifth embodiments.</p>
<p id="p-0185" num="0189">In the embodiment, the processing at S<b>315</b> and S<b>1410</b> corresponds to a selection unit.</p>
<heading id="h-0011" level="1">Seventh Embodiment</heading>
<p id="p-0186" num="0190">In the sixth embodiment described above, the PC becoming the provider (PC <b>1</b>A to PC <b>1</b>E) is selected based on the scores transmitted from the PC <b>1</b>A to PC <b>1</b>E (the use state of the PC <b>1</b>A to PC <b>1</b>E). A seventh embodiment of the invention is adapted to select any of the PC <b>1</b>A to PC <b>1</b>E becoming an provider using not only a score, but also a random number.</p>
<p id="p-0187" num="0191">The provider selection processing of the embodiment will be discussed with <figref idref="DRAWINGS">FIG. 15</figref>. <figref idref="DRAWINGS">FIG. 15</figref> is a flowchart of the provider selection processing of the seventh embodiment of the invention.</p>
<p id="p-0188" num="0192">As shown in <figref idref="DRAWINGS">FIG. 15</figref>, when a controller <b>21</b> of a printer <b>2</b> starts the provider selection processing, a random number is generated for the each PCs (the PC <b>1</b>A to PC <b>1</b>E) extracted as the provider selection candidates at S<b>315</b> (S<b>1510</b>).</p>
<p id="p-0189" num="0193">Subsequently, at S<b>1520</b>, weight addition of the random number generated for each PC (the PC <b>1</b>A to PC <b>1</b>E) at S<b>1510</b> and the score of the corresponding PC (the PC <b>1</b>A to PC <b>1</b>E) is performed. At S<b>1530</b>, the PC (the PC <b>1</b>A to PC <b>1</b>E) having the maximum addition value is selected as the PC becoming the provider and the provider selection processing is terminated.</p>
<p id="p-0190" num="0194">As described above, also in the embodiment, the printer <b>2</b> selects one PC as the provider, so that an increase in the network traffic can be suppressed as in the first to sixth embodiments.</p>
<p id="p-0191" num="0195">In the embodiment, the processing at S<b>315</b> and S<b>1510</b> to S<b>1530</b> corresponds to a selection unit.</p>
<p id="p-0192" num="0196">Since the weight is added to the score of each PC using the random number, there is an effect to prevent a certain PC from being frequently selected as the provider.</p>
<heading id="h-0012" level="1">Other Embodiments</heading>
<p id="p-0193" num="0197">The invention may be the invention matching the gift of the invention according to Claims and is not limited to the embodiments described above.</p>
<p id="p-0194" num="0198">In the description of the embodiments, as the peripheral, the printer <b>2</b> is taken as an example, but the invention is not limited to it. The peripheral may be any if it is a device that can communicate with any other device through the network and needs update of firmware. For example, the peripheral may be a hard disk drive, a multiple function device, a FAX machine, etc., that can be connected through the network.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A network system comprising a server, a plurality of computers that can communicate with the server through a first network, and a peripheral that can communicate with the plurality of computers through a second network,
<claim-text>wherein the server comprises a firmware storage unit which stores a firmware,</claim-text>
<claim-text>wherein the peripheral comprises a first processor comprising hardware and first memory storing computer readable instructions causing, when executed by the first processor, the peripheral to:
<claim-text>select one computer from among the plurality of computers;</claim-text>
<claim-text>communicate with the selected computer, and transmit a request for providing the firmware to the selected computer; and</claim-text>
<claim-text>update the firmware of the peripheral,</claim-text>
</claim-text>
<claim-text>wherein each of the plurality of computers comprises a second processor comprising hardware and second memory storing computer readable instruction causing, when executed by the second processor, the computer to:
<claim-text>retrieve the firmware stored in the firmware storage unit of the server by communicating with the server upon reception of the providing request from the peripheral;</claim-text>
<claim-text>provide the retrieved firmware by communicating with the peripheral transmitting the providing request;</claim-text>
<claim-text>select whether or not the computer becomes a firmware provider for the peripheral transmitting the providing request upon receipt of the providing request; and</claim-text>
<claim-text>notify the peripheral transmitting the providing request that firmware cannot be provided if the computer is not selected to become a firmware provider,</claim-text>
</claim-text>
<claim-text>wherein the firmware of the peripheral is updated to the provided firmware, and</claim-text>
<claim-text>wherein if the computer is selected to become the firmware provider, the computer communicates with the server, and</claim-text>
<claim-text>wherein if the computer is not selected to become a firmware provider, the computer does not communicate with the server.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The network system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the first processor executes the instructions stored in the first memory causing the peripheral to communicate with the plurality of computers, and to retrieve a use state of each of the plurality of computers from the communicating computer, and</claim-text>
<claim-text>to select one computer based on the retrieved use state of the computers.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The network system according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein
<claim-text>the computers whose retrieved use state satisfy a predetermined condition are extracted as selection candidates and one computer from among the extracted computers is selected.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The network system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein one computer different from the previously selected computer is selected.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The network system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein upon reception of the providing request, a use state of the computer is examined and whether or not the computer becomes the firmware provider based on the examination result is selected.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The network system according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein a state of the first network used by the computer is examined as the use state of the computer.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The network system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein upon reception of notification, one computer is selected from among the computers except the computer transmitting the notification.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The network system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>,
<claim-text>wherein one computer is randomly selected from among the plurality of computers.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
