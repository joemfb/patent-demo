<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626996-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626996</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13647630</doc-number>
<date>20121009</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>KR</country>
<doc-number>10-2007-0081832</doc-number>
<date>20070814</date>
</priority-claim>
</priority-claims>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>12</main-group>
<subgroup>06</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>711103</main-classification>
<further-classification>711E12008</further-classification>
</classification-national>
<invention-title id="d2e61">Solid state memory (SSM), computer system including an SSM, and method of operating an SSM</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5671388</doc-number>
<kind>A</kind>
<name>Hasbun</name>
<date>19970900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5802554</doc-number>
<kind>A</kind>
<name>Caceres et al.</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5966326</doc-number>
<kind>A</kind>
<name>Park et al.</name>
<date>19991000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6330572</doc-number>
<kind>B1</kind>
<name>Sitka</name>
<date>20011200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6701421</doc-number>
<kind>B1</kind>
<name>Elnozahy et al.</name>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6785767</doc-number>
<kind>B2</kind>
<name>Coulson</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>7457897</doc-number>
<kind>B1</kind>
<name>Lee et al.</name>
<date>20081100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>710 74</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2002/0051394</doc-number>
<kind>A1</kind>
<name>Tobita et al.</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2005/0081009</doc-number>
<kind>A1</kind>
<name>Williams et al.</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2006/0152981</doc-number>
<kind>A1</kind>
<name>Ryu</name>
<date>20060700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2006/0248259</doc-number>
<kind>A1</kind>
<name>Ryu et al.</name>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2007/0011421</doc-number>
<kind>A1</kind>
<name>Keller et al.</name>
<date>20070100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2007/0061502</doc-number>
<kind>A1</kind>
<name>Lasser et al.</name>
<date>20070300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2008/0215801</doc-number>
<kind>A1</kind>
<name>Tan et al.</name>
<date>20080900</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2009/0089486</doc-number>
<kind>A1</kind>
<name>Cheung et al.</name>
<date>20090400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>2009/0144501</doc-number>
<kind>A2</kind>
<name>Yim et al.</name>
<date>20090600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711120</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00017">
<document-id>
<country>JP</country>
<doc-number>06028246</doc-number>
<kind>A</kind>
<date>19940200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00018">
<document-id>
<country>JP</country>
<doc-number>2002140229</doc-number>
<kind>A</kind>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00019">
<document-id>
<country>JP</country>
<doc-number>2003-022687</doc-number>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00020">
<document-id>
<country>JP</country>
<doc-number>2006302255</doc-number>
<kind>A</kind>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00021">
<document-id>
<country>KR</country>
<doc-number>100205240</doc-number>
<kind>B1</kind>
<date>19990400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00022">
<document-id>
<country>KR</country>
<doc-number>1020030011229</doc-number>
<kind>A</kind>
<date>20030200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00023">
<document-id>
<country>KR</country>
<doc-number>20070008403</doc-number>
<date>20070100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00024">
<document-id>
<country>KR</country>
<doc-number>20070008403</doc-number>
<kind>A</kind>
<date>20070100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00025">
<document-id>
<country>WO</country>
<doc-number>WO2007084079</doc-number>
<kind>A1</kind>
<date>20070700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>8</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>711103</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>11</number-of-figures>
</figures>
<us-related-documents>
<division>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>13027299</doc-number>
<date>20110215</date>
</document-id>
<parent-status>ABANDONED</parent-status>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13647630</doc-number>
</document-id>
</child-doc>
</relation>
</division>
<division>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>12015548</doc-number>
<date>20080117</date>
</document-id>
<parent-status>ABANDONED</parent-status>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>13027299</doc-number>
</document-id>
</child-doc>
</relation>
</division>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130042058</doc-number>
<kind>A1</kind>
<date>20130214</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only" applicant-authority-category="assignee">
<addressbook>
<orgname>Samsung Electronics Co., Ltd.</orgname>
<address>
<city>Suwon-si</city>
<country>KR</country>
</address>
</addressbook>
<residence>
<country>KR</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Oh</last-name>
<first-name>Moon-wook</first-name>
<address>
<city>Seoul</city>
<country>KR</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Kim</last-name>
<first-name>Do-geun</first-name>
<address>
<city>Seoul</city>
<country>KR</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Park</last-name>
<first-name>Chan-ik</first-name>
<address>
<city>Seoul</city>
<country>KR</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Volentine &#x26; Whitt, PLLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Samsung Electronics Co., Ltd.</orgname>
<role>03</role>
<address>
<city>Suwon-si, Gyeonggi-do</city>
<country>KR</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Lo</last-name>
<first-name>Kenneth</first-name>
<department>2188</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">In one aspect, data is stored in a solid state memory which includes first and second memory layers. A first assessment is executed to determine whether received data is hot data or cold data. Received data which is assessed as hot data during the first assessment is stored in the first memory layer, and received data which is first assessed as cold data during the first assessment is stored in the second memory layer. Further, a second assessment is executed to determine whether the data stored in the first memory layer is hot data or cold data. Data which is then assessed as cold data during the second assessment is migrated from the first memory layer to the second memory layer.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="197.10mm" wi="148.93mm" file="US08626996-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="236.64mm" wi="121.67mm" orientation="landscape" file="US08626996-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="225.38mm" wi="141.39mm" file="US08626996-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="245.11mm" wi="112.69mm" file="US08626996-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="129.03mm" wi="135.21mm" file="US08626996-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="211.84mm" wi="153.25mm" file="US08626996-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="101.94mm" wi="90.17mm" file="US08626996-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="136.91mm" wi="134.62mm" file="US08626996-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="168.66mm" wi="119.46mm" file="US08626996-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This is a divisional of application Ser. No. 13/027,299, filed Feb. 1, 2011, which is a divisional of application Ser. No. 12/015,548, filed Jan. 17, 2008, which is incorporated herein by reference in its entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The present invention generally relates to memory systems, and more particularly, the present invention relates to a solid state memory (SSM), a computer system which includes an SSM, and a method of operating an SSM. Examples of the SSM include the main memory of a computer system and the solid state drive (SSD) of a computer system.</p>
<p id="p-0005" num="0004">A claim of priority is made to Korean Patent Application No. 2007-0081832, filed Aug. 8, 2007, the entirety of which is incorporated herein by reference.</p>
<p id="p-0006" num="0005">2. Description of the Related Art</p>
<p id="p-0007" num="0006">A solid state drive (SSD) is a data storage device that typically emulates a conventional hard disk drive (HDD), thus easily replacing the HDD in most applications. In contrast to the rotating disk medium of an HDD, an SSD utilizes solid state memory to store data. With no moving parts, an SSD largely eliminates seek time, latency and other electro-mechanical delays and failures associated with a conventional HDD.</p>
<p id="p-0008" num="0007">An SSD is commonly composed of either NAND flash (non-volatile) or SDRAM (volatile).</p>
<p id="p-0009" num="0008">SSDs based on volatile memory such as SDRAM are characterized by fast data access and are used primarily to accelerate applications that would otherwise be held back by the latency of disk drives. The volatile memory of the DRAM-based SSDs typically requires the inclusion of an internal battery and a backup disk system to ensure data persistence. If power is lost, the battery maintains power for sufficient duration of copy data from the SDRAM to the backup disk system. Upon restoration of power, data is copied back from the backup disk to SDRAM, at which time the SSD resumes normal operations.</p>
<p id="p-0010" num="0009">However, most SSD manufacturers use non-volatile flash memory to create more rugged and compact alternatives to DRAM-based SSDs. These flash memory-based SSDs, also known as flash drives, do not require batteries, allowing makers to more easily replicate standard hard disk drives. In addition, non-volatile flash SSDs retain memory during power loss.</p>
<p id="p-0011" num="0010">As is well know in the art, single-level cell (SLC) flash is capable of storing one bit per memory cell, while multi-level cell (MLC) flash is capable of storing two or more bits per memory cell. As such, in order to increase capacity, flash SSDs may utilize multi-level cell (MLC) memory banks. However, flash SSDs generally suffer from relatively slow random write speeds, and this operational drawback is further exasperated with relatively slow speeds of MLC flash. As such, it has been suggested to equip SSDs with two types of flash storage media&#x2014;lower capacity SLC memory banks and higher capacity MLC memory banks. With such a configuration, frequently used data (e.g., directory and/or log information) can be stored in the faster SLC banks, while less frequently used data (e.g., music files, images, etc.) can be stored in the slower MLC banks.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0012" num="0011">According to an aspect of the present invention, data is stored in a solid state memory which includes first and second memory layers. A first assessment is executed to determine whether received data is hot data or cold data. Received data which is assessed as hot data during the first assessment is stored in the first memory layer, and received data which is assessed as cold data during the first assessment is stored in the second memory layer. Further, a second assessment is executed to determine whether the data stored in the first memory layer is hot data or cold data. Data which is then assessed as cold data during the second assessment is migrated from the first memory layer to the second memory layer.</p>
<p id="p-0013" num="0012">According to another aspect of the present invention, a method of storing received data in a solid state memory includes initially storing hot data in a high-speed memory layer and, and then migrating a portion of the data stored in the high-speed memory layer to a low-speed memory layer for storing cold data.</p>
<p id="p-0014" num="0013">According to yet another aspect of the present invention, a solid state memory system includes a first memory layer, a second memory layer, and a memory controller. The memory controller is configured to execute a first assessment of whether received data is hot data or cold data, to store received data which is assessed as hot data during the first assessment in the first memory layer, and to store received data which is assessed as cold data during the first assessment in the second memory layer. The memory controller is further configured to execute a second assessment of whether the data stored in the first memory layer is hot data or cold data, and to migrate data which is assessed as cold data during the second assessment from the first memory layer to the second memory layer.</p>
<p id="p-0015" num="0014">According to still another aspect of the present invention, a solid state memory system is configured to operatively connect to a computer operating system and comprises first and second memory layers. An operational speed of the first memory layer is greater than an operational speed of the second memory layer, and the first memory area is operationally hidden from the computer operating system when the solid state memory is operatively connected to the computer operating system.</p>
<p id="p-0016" num="0015">According to another aspect of the present invention, a computer system includes a processor and a memory. The solid state memory includes a high-speed memory layer and a low-speed memory layer, and the high-speed memory area is operationally hidden from the processor.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0017" num="0016">The above and other aspects and features of the present invention will become readily apparent from the detailed description that follows, with reference to the accompanying drawings, in which:</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of a solid state drive (SSD) according to an embodiment of the present invention;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIGS. 2 and 3</figref> are block diagrams for describing a non-volatile storage media in the SSD of <figref idref="DRAWINGS">FIG. 1</figref> according to an embodiment of the present invention;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIGS. 4 and 5</figref> are block diagrams for describing alternative ways of coupling a non-volatile storage media to an interface in the SSD of <figref idref="DRAWINGS">FIG. 1</figref> according to embodiments of the present invention;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIGS. 6 through 8</figref> are flow charts for use in describing methods of allocating data to regions of a non-volatile storage media in the SSD of <figref idref="DRAWINGS">FIG. 1</figref> according to embodiments of the present invention;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 9</figref> is a block diagram of the computer system including an SSD according to an embodiment of the present invention; and</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIGS. 10 and 11</figref> are block diagrams of a main memory according to embodiments of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF PREFERRED EMBODIMENTS</heading>
<p id="p-0024" num="0023">The present invention will now be described by way of preferred, but non-limiting, embodiments of the invention. It is emphasized here that the invention is not limited by the exemplary embodiments described below, and that instead the scope of the invention is delimited by the appended claims.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a block diagram of a solid state drive (SSD) <b>1000</b> according to an embodiment of the present invention. As shown, the SSD <b>1000</b> of this example includes an SSD controller <b>1200</b> and non-volatile storage media <b>1400</b>.</p>
<p id="p-0026" num="0025">The SSD controller <b>1200</b> includes first and second interfaces <b>1210</b> and <b>1230</b>, a controller <b>1220</b>, and a memory <b>1240</b>.</p>
<p id="p-0027" num="0026">The first interface <b>1210</b> functions as a data I/O interface with a host device, such as a host central processing unit (CPU) (not shown). Non-limiting examples of the first interface <b>1210</b> include Universal Serial Bus (USB) interfaces, Advanced Technology Attachment (ATA) interfaces, Serial ATA (SATA) interfaces, Small Computer System Interface (SCSI) interfaces.</p>
<p id="p-0028" num="0027">The second interface <b>1230</b> functions as a data I/O interface with the non-volatile storage media <b>1400</b>. In particular, the second interface <b>1230</b> is utilized to transmit/receive various commands, addresses and data to/from the non-volatile storage media <b>1400</b>. As will be apparent to those skilled in the art, a variety of different structures and configurations of the second interface <b>1230</b> are possible, and thus a detailed description thereof is omitted here for brevity.</p>
<p id="p-0029" num="0028">The controller <b>1220</b> and memory <b>1240</b> are operatively connected between the first and second interfaces <b>1210</b> and <b>1230</b>, and together function to control/manage the flow of data between the host device (not shown) and the non-volatile storage media <b>1400</b>. The memory <b>1240</b> may, for example, be an DRAM type of memory device, and the controller <b>1220</b> may, for example, include a central processing unit (CPU), a direct memory access (DMA) controller, and an error correction control (ECC) engine. Examples of controller functionality may be found in commonly assigned U.S. Patent Publication 2006-0152981, which is incorporated herein by reference. The operations generally executed by controller <b>1220</b> (and memory <b>1240</b>) to transfer data between the host device (not shown) and SSD memory banks are understood by those skilled in the art, and thus a detailed description thereof is omitted here for brevity. Rather, the operational description presented later herein is primarily focused on inventive aspects relating to various embodiments of the invention.</p>
<p id="p-0030" num="0029">Still referring to <figref idref="DRAWINGS">FIG. 1</figref>, the non-volatile storage media <b>1400</b> of this example includes a high-speed non-volatile memory (NVM) <b>1410</b> and a low-speed non-volatile memory (NVM) <b>1420</b>. As the names suggest, the high-speed NVM <b>1410</b> is capable of operating at a relatively higher speed (e.g., random write speed) when compared to the low-speed NVM <b>1420</b>.</p>
<p id="p-0031" num="0030">In an exemplary embodiment, the high-speed NVM <b>1410</b> is single-level cell (SLC) flash memory, and the low-speed NVM <b>1420</b> is multi-level cell (MLC) flash memory. However, the invention is not limited in this respect. For example, the high-speed NVM <b>1410</b> may instead be comprised of phase-change random access memory (PRAM), or MLC flash memory in which one bit per cell is utilized. Also, the high-speed NVM <b>1410</b> and the low-speed NVM <b>1420</b> may be comprised of the same type of memory (e.g., SLC or MLC or PRAM), where the operational speed is differentiated by fine-grain mapping in the high-speed NVM <b>1410</b> and coarse-grain mapping in the low-speed NVM <b>1420</b>.</p>
<p id="p-0032" num="0031">Generally, the high-speed NVM <b>1410</b> is utilized to store frequently accessed (written) data such as meta data, and the low-speed NVM <b>1420</b> is utilized to store less frequently accessed (written) data such as media data. In other words, as will discussed later herein, a write frequency of data in the high-speed NVM <b>1410</b> is statistically higher than a write frequency of data in the low-speed NVM <b>1420</b>. Also, due to the nature of the respective data being stored, the storage capacity of the low-speed NVM <b>1420</b> will typically be much higher than that of the high-speed NVM <b>1410</b>.</p>
<p id="p-0033" num="0032">In an exemplary embodiment, the high-speed NVM <b>1410</b> is hidden from an external operating system connected to the SSD. This aspect of the embodiment is illustrated in <figref idref="DRAWINGS">FIGS. 2 and 3</figref>.</p>
<p id="p-0034" num="0033">Referring collectively to <figref idref="DRAWINGS">FIGS. 2 and 3</figref>, the high-speed NVM <b>1410</b> of the example of this embodiment is a hidden region&#x2014;that is, the high-speed NVM <b>1410</b> is cannot be seen (directly addressed) by the external operating system (OS). Rather, the address space shown relative to the OS view is only the low-speed NVM <b>1420</b>. On the other hand, the address space shown relative to the Flash Translation Layer (FTL) is both the high-speed NVM <b>1410</b> and the low-speed NVM <b>1420</b>. The FTL translates an address provided by the OS into a physical address of the non-volatile storage media <b>1400</b> (i.e., a physical address within the high-speed NVM <b>1410</b> or the low-speed NVM <b>1420</b>).</p>
<p id="p-0035" num="0034">Turning to the block diagrams of <figref idref="DRAWINGS">FIGS. 4 and 5</figref>, there are a number of different ways in which the high-speed NVM <b>1410</b> and the low-speed NVM <b>1420</b> can be operative connected to the controller <b>1220</b> (<figref idref="DRAWINGS">FIG. 1</figref>) via the interface <b>1230</b>. In the example of <figref idref="DRAWINGS">FIG. 4</figref>, the high-speed NVM <b>1410</b> and the low-speed NVM <b>1420</b> communicate via the interface <b>1230</b> using common interface channels. In the example of <figref idref="DRAWINGS">FIG. 5</figref>, the high-speed NVM <b>1410</b> and the low-speed NVM <b>1420</b> communicate via the interface <b>1230</b> using separate interface channels.</p>
<p id="p-0036" num="0035">It is again noted, however, that the high-speed NVM <b>1410</b> and the low-speed NVM <b>1420</b> need not be composed of different types of memory. That is, a single type of memory may be operationally segregated into a high-speed layer and a low-speed layer. For example, the grain mapping in the two layers may differ, or the number of bits utilized per cell in the two layers may differ. Further, the high-speed memory layer and the low-speed memory layer may be segregated at the chip level (e.g., contained in different memory chips), or within the same memory chip (e.g., contained in different memory blocks or groups of memory cells of the same memory chip).</p>
<p id="p-0037" num="0036">An operational description of the SSD according to embodiments of the present invention is presented next.</p>
<p id="p-0038" num="0037">According to an embodiment of the present invention in which data is stored in the SSD, a first assessment is executed to determine whether received data is hot data or cold data. As will be understood by those skilled in the art, &#x201c;hot&#x201d; data is a term of art that refers to data which is frequently written or updated (requiring write access), such a directory information and/or logging information. &#x201c;Cold&#x201d; data is all other data, i.e., data which is not frequently written or updated, such as image files, sound files, program code and so on. Cold data may be written once or infrequently, but read frequently. Thus, it is the frequency of write access that separates hot data from cold.</p>
<p id="p-0039" num="0038">Received data which is assessed as hot data during the first assessment is stored in the high-speed NVM <b>1410</b>, and received data which is first assessed as cold data during the first assessment is stored in the low-speed NVM <b>1420</b>.</p>
<p id="p-0040" num="0039">Then, a second assessment is executed to determine whether the data stored in the high-speed NVM <b>1410</b> is hot data or cold data. In other words, the data stored in the high-speed NVM <b>1410</b> reassessed to determine with the data should be reclassified as cold data. Data which is then assessed as cold data during the second assessment is migrated from the high-speed NVM <b>1410</b> to the low-speed NVM <b>1420</b>.</p>
<p id="p-0041" num="0040">By periodically migrating data which initially determined to be hot data from the high-speed NVM <b>1410</b> to the low-speed NVM <b>1420</b>, the size of the high-speed NVM <b>1410</b> can be reduced. This can potentially result in cost savings, and increase the overall storage capacity of the SSD (e.g., by allowing for more space for the high-capacity MLC layer).</p>
<p id="p-0042" num="0041">The second assessment and migration of data to the low-speed NVM <b>1420</b> can be programmed to occur, for example, when the unused capacity of the high-speed NVM <b>1410</b> is less than a preset value. Alternately, for example, the second assessment and migration of data to the low-speed NVM <b>1420</b> can be programmed to occur at given periodic intervals, or when the SSD is idle. Examples of an idle state may include periods in which no read/write request is received from the host, or when the activation ratio or intensity of read/write requests is less than a threshold.</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 6</figref> is a flow chart for use in describing the first assessment and storage (write) of data in the SSD according to an embodiment of the present invention.</p>
<p id="p-0044" num="0043">Initially, at step <b>100</b>, a write command, an address and data are received. Then, at step <b>110</b>, a determination is made as to whether the received data is classified as hot data. If the received data is classified as hot data, the received data is stored in the high-speed NVM <b>1410</b> at step <b>120</b>. On the other hand, if the received data is not classified as hot data, the received data is stored in the low-speed NVM <b>1420</b> at step <b>130</b>.</p>
<p id="p-0045" num="0044">It should be noted that data stored in the low-speed NVM <b>1420</b> at step <b>130</b> may first be &#x201c;passed through&#x201d; the high-speed NVM <b>1410</b>. In other words, the data may first be briefly (temporarily) stored in the high-speed NVM <b>1410</b>, and then stored in the low-speed NVM. In this case, the high-speed NVM <b>1410</b> essentially acts as a memory buffer for the low-speed NVM <b>1420</b>.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 7</figref> is a flow chart for use in describing the first assessment and storage (write) of data in the SSD according to another embodiment of the present invention.</p>
<p id="p-0047" num="0046">Initially, at step <b>300</b>, a write command, an address and data are received. Then, at steps <b>310</b><i>a </i>through <b>310</b><i>e</i>, a determination is made as to whether the received data is to be classified as hot data. If the received data is classified as hot data, and if there is sufficient available space in the high-speed NVM <b>1410</b> (step <b>320</b>), the received data is stored in the high-speed NVM <b>1410</b> at step <b>340</b>. On the other hand, if the received data is not to be classified as hot data, or if there is insufficient available space in the high-speed NVM <b>1410</b>, the received data is stored in the low-speed NVM <b>1420</b> at step <b>330</b>.</p>
<p id="p-0048" num="0047">There are a number of different ways in which the received data might be classified as hot data, and steps <b>310</b><i>a </i>through <b>310</b><i>e </i>of <figref idref="DRAWINGS">FIG. 7</figref> represent a non-exhaustive list of decision processes which can be used in the classification. These steps can be used in combinations of two or more, or individually, depending on the desired level of accuracy in the first assessment of the received data.</p>
<p id="p-0049" num="0048">At step <b>310</b><i>a</i>, a determination is made as to whether the operating system (OS) has provided information that the data is hot data. If so, the data is classified as hot data, and the process proceeds to step <b>320</b>.</p>
<p id="p-0050" num="0049">At step <b>310</b><i>b</i>, a determination is made as to whether the write count of the logical block address has exceeded a predetermined threshold. If so, the data is classified as hot data, and the process proceeds to step <b>320</b>.</p>
<p id="p-0051" num="0050">At step <b>310</b><i>c</i>, a determination is made as to whether the request size of the data is less then predetermined threshold (e.g., less than 32 KB). If so, the data is classified as hot data, and the process proceeds to step <b>320</b>.</p>
<p id="p-0052" num="0051">At step <b>310</b><i>d</i>, a determination is made as to whether there is a non-sequential address increment relative to the previously received command. If so, the data is classified as hot data, and the process proceeds to step <b>320</b>.</p>
<p id="p-0053" num="0052">At step <b>310</b><i>e</i>, a determination is made as to whether a merge operation is likely to be induced in the low-speed NVM. If so, the data is classified as hot data, and the process proceeds to step <b>320</b>.</p>
<p id="p-0054" num="0053">Although not shown in <figref idref="DRAWINGS">FIG. 7</figref>, in the case where insufficient space exists in the high-speed NVM (step <b>320</b>), and alternative would be to create available space by migrating already stored cold data of the high-speed NVM to the low-speed NVM, and then storing the new hot data in the high-speed NVM.</p>
<p id="p-0055" num="0054">Also, with reference to above-described processes of <figref idref="DRAWINGS">FIGS. 6 and 7</figref>, it is noted that the embodiments thereof are not limited to storing all of the hot and cold data in the high-speed and low-speed NVMs, respectively. For example, some of the data initially assessed as cold data may be stored in the high-speed NVM. Also, though less preferable, some of the data initially assessed as hot data may be stored in the low-speed NVM.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 8</figref> is a flow chart for use in describing an example of the second assessment and migration of data to the low-speed NVM in the SSD according to an embodiment of the present invention.</p>
<p id="p-0057" num="0056">Initially, at step <b>410</b>, a determination is made as to whether an unused memory capacity of the high-speed NVM is less than a predetermined threshold value. As suggested previously, this step can be supplemented with (or replaced with) a periodic execution step in which step <b>410</b> (or step <b>420</b> below) is executed at periodic intervals, and/or with a SSD idle determination step in which step <b>410</b> (or step <b>420</b>) is executed at periodic intervals.</p>
<p id="p-0058" num="0057">Next, at step <b>420</b>, a determination is made as to whether data stored in the high-speed NVM is hot data, i.e., whether the data may be reclassified as cold data.</p>
<p id="p-0059" num="0058">Then, at step <b>430</b>, reclassified cold data which stored in the high-speed NVM is migrated to the low-speed NVM.</p>
<p id="p-0060" num="0059">There are a number of different ways in which the determination of step <b>420</b> may be executed. For example, it is possible to examine the write count value of each valid data in the high-speed NVM, and to then reclassify data having low write counts as cold data. Alternately, it is possible to carry out a FIFO-type assessment in which old (first come) valid data is reclassified as cold data.</p>
<p id="p-0061" num="0060">With reference to above-described process of <figref idref="DRAWINGS">FIG. 8</figref>, it is noted that the embodiment thereof is not limited to migrating all of the cold data to the low-speed NVM. For example, some of the data assessed as cold data may be retained in the high-speed NVM.</p>
<p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. 9</figref> is a block diagram of a computer system according to an embodiment of the present invention. As shown in the figure, a processor (host) <b>2100</b> and main memory <b>2200</b> communicate over a data bus <b>2001</b>. Also connected to the bus <b>2001</b> are an output device <b>2500</b> (e.g., display), an input device <b>2300</b> (e.g., keyboard), other I/O devices <b>2400</b>, and a solid state drive SSD. The solid state drive is configured according to one or more of the previously described embodiments of the invention.</p>
<p id="p-0063" num="0062">Embodiments of the present invention have been described primarily in the context of solid state drives (SSDs). However, the invention is not limited to SSD applications. For example, <figref idref="DRAWINGS">FIG. 10</figref> illustrates an embodiment where the high-speed memory layer and the low speed memory layer constitute the main memory <b>2200</b> of the computer system shown in <figref idref="DRAWINGS">FIG. 9</figref>. In <figref idref="DRAWINGS">FIG. 10</figref>, the high-speed memory layer <b>1510</b> includes DRAM cells and may be a hidden region relative to the processor <b>2100</b> of <figref idref="DRAWINGS">FIG. 9</figref>. The low-speed memory layer <b>1520</b> of <figref idref="DRAWINGS">FIG. 10</figref> includes flash cells (either SLC or MLC) and may be open relative to the processor <b>2100</b> of <figref idref="DRAWINGS">FIG. 9</figref>. <figref idref="DRAWINGS">FIG. 11</figref> illustrates another example of a main memory <b>2200</b>. As shown, the high-speed memory layer <b>1610</b> includes DRAM cells and may be a hidden region relative to the processor <b>2100</b> of <figref idref="DRAWINGS">FIG. 9</figref>, and the low-speed memory layer <b>1620</b> includes phase-change random access memory (PRAM) cells and may be open relative to the processor <b>2100</b> of <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="p-0064" num="0063">The above-disclosed subject matter is to be considered illustrative, and not restrictive, and the appended claims are intended to cover all such modifications, enhancements, and other embodiments, which fall within the true spirit and scope of the present invention. Thus, to the maximum extent allowed by law, the scope of the present invention is to be determined by the broadest permissible interpretation of the following claims and their equivalents, and shall not be restricted or limited by the foregoing detailed description.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A solid state memory comprising:
<claim-text>a nonvolatile storage medium comprising a first a nonvolatile memory (NVM) comprising single level cells and a second NVM comprising multi-level cells;</claim-text>
<claim-text>a controller comprising a CPU, a memory, a host interface, and NVM interface,</claim-text>
<claim-text>wherein the host interface is configured to receive a write command, an address, and data from a host system, the CPU is configured to perform a first assessment before the data is stored in the nonvolatile storage medium to determine whether the data is hot or, the first NVM is configured to store the data if the data is determined to be hot in the first assessment, and the second NVM configured to store the data if the data is determined to be cold in the first assessment, and the CPU is further configured to perform a second assessment, if the data is stored in the first NVM, to determine whether the stored data is hot or cold, and to migrate the data from the first NVM to the second NVM upon determining that the data is cold in the second assessment,</claim-text>
<claim-text>wherein the NVM interface is operatively connected to the first NVM and the second NVM, the NVM interface and the first NVM connected through a first channel and the NVM interface and the second NVM connected through a second channel, the first channel and the second channel being separated from each other, and</claim-text>
<claim-text>wherein the second assessment is performed according to a periodic interval or an idle state of the solid state memory.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The solid state memory of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein an operation speed of the first NVM is higher than an operation speed of the second NVM.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The solid state memory of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first NVM comprises a single level cell (SLC) flash memory and the second NVM comprises a multilevel cell (MLC) flash memory.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A method of storing data in a nonvolatile storage media comprising a first nonvolatile memory (NVM) and a second NVM, the method comprising:
<claim-text>receiving a write command, an address and data from a host system;</claim-text>
<claim-text>performing a first assessment to determine whether an operating system of the host system has provided information that the data is hot data;</claim-text>
<claim-text>storing the data in the first NVM if the first assessment determines that the data is hot;</claim-text>
<claim-text>storing the data in the second NVM if the first assessment determines that the data is not hot; and</claim-text>
<claim-text>if the data is stored in the first NVM, performing a second assessment subsequent to the first assessment to determine whether the data is hot, and upon determining that the data is not hot, migrating the data to the second NVM,</claim-text>
<claim-text>wherein the second assessment is performed according to a periodic interval or an idle state of an apparatus incorporating the nonvolatile storage media.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, further comprising, if the data is hot and after the data is stored in the first NVM:
<claim-text>determining if unused capacity of the first NVM is less than a threshold capacity value;</claim-text>
<claim-text>when the unused capacity is less than the threshold capacity value, determining if a write count value of the data stored in the first NVM is less than a threshold write count value; and</claim-text>
<claim-text>migrating the data stored in the first NVM into the second NVM if a write count value is less than the threshold write count value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein migrating the data stored in the first NVM into the second NVM is executed at periodic intervals or when the solid state memory enters an idle state.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein an operation speed of the first NVM is higher than an operation speed of the second NVM.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the first NVM comprises a single level cell (SLC) flash memory and the second NVM comprises a multilevel cell (MLC) flash memory. </claim-text>
</claim>
</claims>
</us-patent-grant>
