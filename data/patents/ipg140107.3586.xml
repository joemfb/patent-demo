<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08624651-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08624651</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13709481</doc-number>
<date>20121210</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2012-070352</doc-number>
<date>20120326</date>
</priority-claim>
</priority-claims>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>H</subclass>
<main-group>11</main-group>
<subgroup>16</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>327231</main-classification>
<further-classification>327236</further-classification>
</classification-national>
<invention-title id="d2e61">Interpolation circuit and receiving circuit</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5539782</doc-number>
<kind>A</kind>
<name>Shin et al.</name>
<date>19960700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375355</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7421017</doc-number>
<kind>B2</kind>
<name>Takatsu</name>
<date>20080900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375232</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2008/0304599</doc-number>
<kind>A1</kind>
<name>Furtner</name>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>JP</country>
<doc-number>11-68727</doc-number>
<date>19990300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>JP</country>
<doc-number>2004-229068</doc-number>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>JP</country>
<doc-number>2008-526073</doc-number>
<date>20080700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>8</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>327231</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327233-236</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375308</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375334-336</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>21</number-of-drawing-sheets>
<number-of-figures>30</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130249600</doc-number>
<kind>A1</kind>
<date>20130926</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<orgname>Fujitsu Limited</orgname>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Hashida</last-name>
<first-name>Takushi</first-name>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Doi</last-name>
<first-name>Yoshiyasu</first-name>
<address>
<city>Yokohama</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Fujitsu Patent Center</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Fujitsu Limited</orgname>
<role>03</role>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Luu</last-name>
<first-name>An</first-name>
<department>2816</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An interpolation circuit includes: a generation circuit that generates interpolation data from a plurality of pieces of input data, using an interpolation coefficient, among input data inputted in time series including a data point and a transition point; a detection circuit that detects that the input data lacks at the data point; and a coefficient circuit that changes the interpolation coefficient for each given data interval, and skips a position for changing the interpolation coefficient to the transition point when the detection circuit detects the lack of the input data.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="105.33mm" wi="166.62mm" file="US08624651-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="178.90mm" wi="167.05mm" file="US08624651-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="162.56mm" wi="164.25mm" file="US08624651-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="128.78mm" wi="178.90mm" file="US08624651-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="215.48mm" wi="162.56mm" file="US08624651-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="114.22mm" wi="155.79mm" file="US08624651-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="214.29mm" wi="168.74mm" file="US08624651-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="213.78mm" wi="177.21mm" file="US08624651-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="151.30mm" wi="177.21mm" file="US08624651-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="145.71mm" wi="170.43mm" file="US08624651-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="113.62mm" wi="160.87mm" file="US08624651-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="183.98mm" wi="171.03mm" file="US08624651-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="107.44mm" wi="168.23mm" file="US08624651-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="187.88mm" wi="176.11mm" file="US08624651-20140107-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="193.55mm" wi="165.35mm" file="US08624651-20140107-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="186.18mm" wi="167.05mm" file="US08624651-20140107-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="186.77mm" wi="170.43mm" file="US08624651-20140107-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="245.28mm" wi="194.06mm" file="US08624651-20140107-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="246.38mm" wi="139.53mm" orientation="landscape" file="US08624651-20140107-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="138.35mm" wi="151.89mm" file="US08624651-20140107-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="243.59mm" wi="138.35mm" orientation="landscape" file="US08624651-20140107-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00021" num="00021">
<img id="EMI-D00021" he="245.28mm" wi="183.98mm" orientation="landscape" file="US08624651-20140107-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading>
<p id="p-0002" num="0001">This application is based upon and claims the benefit of priority of the prior Japanese Patent Application No. 2012-070352, filed on Mar. 26, 2012, the entire contents of which are incorporated herein by reference.</p>
<heading id="h-0002" level="1">FIELD</heading>
<p id="p-0003" num="0002">A certain aspect of the embodiments discussed herein is related to an interpolation circuit and a receiving circuit.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">As the performance of an information processing device, such as a device for communication base and a server, improves, the data rate of transmission and reception of signals inside and outside such a device is increasing. In a receiving circuit of such a transmission and reception device, there are a synchronous receiving circuit that samples input data in synchronization with the phase of the input data, and an asynchronous receiving circuit that samples input data without synchronizing with the phase of the input data. The asynchronous receiving circuit generates receive data from the sampled data by interpolation.</p>
<p id="p-0005" num="0004">There has been known a technique that samples a data signal whenever a constant amount of phase is shifted, and selects data on the most desirable phase (see Japanese Laid-Open Patent Publication No. 11-68727). There has been known a technique that measures a cycle which receives a special mark from transmitted data with the special mark, and that delays a sampling clock based on the cycle (see Japanese Laid-Open Patent Publication No. 2004-229068). There has been known a technique that delays a sampling clock, and uses multiphase sampling clocks in which phases are different from each other (see Japanese National Publication of International Patent Application No. 2008-526073).</p>
<heading id="h-0004" level="1">SUMMARY</heading>
<p id="p-0006" num="0005">According to an aspect of the present invention, there is provided an interpolation circuit including: a generation circuit that generates interpolation data from a plurality of pieces of input data, using an interpolation coefficient, among input data inputted in time series including a data point and a transition point; a detection circuit that detects that the input data lacks at the data point; and a coefficient circuit that changes the interpolation coefficient for each given data interval, and skips a position for changing the interpolation coefficient to the transition point when the detection circuit detects the lack of the input data.</p>
<p id="p-0007" num="0006">The object and advantages of the invention will be realized and attained by means of the elements and combinations particularly pointed out in the claims.</p>
<p id="p-0008" num="0007">It is to be understood that both the foregoing general description and the following detailed description are exemplary and explanatory and are not restrictive of the invention, as claimed.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 1A</figref> is a block diagram of a receiving circuit according to a comparative embodiment;</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 1B</figref> is a diagram illustrating a sampling method;</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 2A</figref> is a diagram illustrating a signal with respect to a time in timing when an interpolation coefficient k is changed from 0 to 1;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 2B</figref> is a diagram illustrating a signal with respect to a time in timing when the interpolation coefficient k is changed from 1 to 0;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram of a receiving circuit according to a first embodiment;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 4A</figref> is a diagram illustrating an example of a phase detection circuit;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 4B</figref> is a diagram illustrating a signal with respect to a time in the case where data is advanced with respect to a clock;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 4C</figref> is a diagram illustrating a signal with respect to a time in the case where data is delayed with respect to the clock;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 5</figref> is a truth table of the phase detection circuit;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIGS. 6A to 6C</figref> are diagrams illustrating a signal with respect to a time in timing when the interpolation coefficient k is changed from 0 to 1;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIGS. 7A to 7C</figref> are diagrams illustrating a signal with respect to a time in timing when the interpolation coefficient k is changed from 1 to 0;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 8</figref> is a block diagram of the receiving circuit according to a second embodiment;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 9</figref> is a circuit diagram illustrating a switched capacitor circuit;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 10</figref> is a timing chart illustrating the operation of each switch in the switched capacitor circuit;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 11</figref> is a circuit diagram illustrating a generation circuit that is provided with a plurality of capacitor circuits;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 12</figref> is a timing chart of switches SW<b>1</b> to SWN;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 13</figref> is a diagram illustrating a case where an interpolation coefficient in the generation circuit is changed;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 14</figref> is a diagram illustrating a case where the interpolation coefficient kn in the generation circuit is changed from 0 to Nc;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 15</figref> is a diagram illustrating a case where the interpolation coefficient kn in the generation circuit is changed from Nc to 0;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 16</figref> is a diagram illustrating a part of a coefficient circuit;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 17</figref> is a timing chart of respective interpolation coefficients and clocks;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIGS. 18A and 18B</figref> are diagrams illustrating a signal with respect to a time in timing when the interpolation coefficient kn is changed from 0 to Nc;</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 19</figref> is a diagram illustrating the phase of the interpolation coefficient;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 20</figref> is a diagram illustrating a logic of an example of the detection circuit; and</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 21</figref> is a block diagram illustrating an example of transmitting and receiving devices used for the first and the second embodiments.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DESCRIPTION OF EMBODIMENTS</heading>
<p id="p-0034" num="0033">A description will be given of embodiments of the invention, with reference to drawings.</p>
<heading id="h-0007" level="1">Embodiment 1</heading>
<p id="p-0035" num="0034">First, a description will be given of an asynchronous receiving circuit. <figref idref="DRAWINGS">FIG. 1A</figref> is a block diagram of a receiving circuit according to a comparative embodiment. <figref idref="DRAWINGS">FIG. 1B</figref> is a diagram illustrating a sampling method. As illustrated in <figref idref="DRAWINGS">FIG. 1A</figref>, a receiving circuit <b>100</b><i>a </i>of the comparative embodiment includes an interpolation circuit <b>10</b>, a calculation circuit <b>20</b> and a comparator <b>22</b>. The interpolation circuit <b>10</b> generates interpolation data from input data Sin using an interpolation coefficient k. The comparator <b>22</b> generates receive data Dout by comparing the interpolation data with a reference value. The calculation circuit <b>20</b> detects phase information from the receive data, and calculates an interpolation code as the interpolation coefficient k. For example, a CDR (Clock Data Recovery) circuit can be used as the calculation circuit <b>20</b>.</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 1B</figref> illustrates signals with respect to time. In the comparative embodiment and the following embodiments, a 2&#xd7; system in which two pieces of data per one unit are sampled is explained as an example, but the comparative embodiment and the following embodiments are applicable to other systems. Codes &#x201c;Sn&#x201d; in <figref idref="DRAWINGS">FIG. 1B</figref> correspond to the input data inputted in the time series. The interpolation circuit <b>10</b> generates a piece of interpolation data Dn from two pieces of input data Sn&#x2212;1 and Sn. When the interpolation coefficient k is set as 0&#x2266;k&#x2266;1, the interpolation data Dn can be generated depending on a formula &#x201c;Dn=(1&#x2212;k)&#xd7;Sn&#x2212;1+k&#xd7;Sn&#x201d;. Thereby, the interpolation data which corresponds with the phase of the input data can be generated. Thus, the interpolation coefficient k is a coefficient for weighting of the input data. In the 2&#xd7; system, a plurality of pieces of data are located at data points and transition points. For example, in <figref idref="DRAWINGS">FIG. 1B</figref>, the pieces of data D<b>15</b>, D<b>1</b> and D<b>3</b> are located at the data points, and the pieces of data D<b>16</b> and D<b>2</b> are located at the transition points.</p>
<p id="p-0037" num="0036">Next, a description will be given of a problem of the asynchronous receiving circuit. In the asynchronous receiving circuit, a frequency f<sub>data </sub>of the input data and a sampling frequency f<sub>sample </sub>may differ from each other. When the frequency f<sub>data </sub>is more than the frequency f<sub>sample</sub>, there is timing that the interpolation coefficient k is changed from 0 to 1. When the frequency f<sub>data </sub>is less than the frequency f<sub>sample</sub>, there is timing that the interpolation coefficient k is changed from 1 to 0.</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 2A</figref> is a diagram illustrating a signal with respect to a time in timing when the interpolation coefficient k is changed from 0 to 1, and <figref idref="DRAWINGS">FIG. 2B</figref> is a diagram illustrating a signal with respect to a time in timing when the interpolation coefficient k is changed from 1 to 0. It is assumed that, in <figref idref="DRAWINGS">FIG. 2A</figref>, the interpolation coefficient k is changed from 0 to 1 when the input data S<b>16</b> is processed. The interpolation data and the input data are overlapped mostly. Until inputting the input data S<b>16</b>, the input data Sn&#x2212;1 is sampled as the interpolation data Dn. When the input data S<b>16</b> is inputted, the interpolation data is not generated. When and after the input data S<b>1</b> is inputted, the input data Sn is sampled as the interpolation data Dn. Thus, the input data Sn other than the input data S<b>16</b> are sampled as the interpolation data Dn as illustrated by arrows <b>50</b>, but the input data S<b>16</b> is not sampled as the interpolation data as illustrated by a dotted arrow <b>52</b>. Therefore, the interpolation data lacks. It is assumed that, in <figref idref="DRAWINGS">FIG. 2B</figref>, the interpolation coefficient k is changed from 1 to 0 when the input data S<b>16</b> is processed. The interpolation data and the input data are overlapped mostly. Until inputting the input data S<b>16</b>, the input data Sn is sampled as the interpolation data Dn. When the input data S<b>16</b> is inputted, the interpolation data D<b>16</b> and D<b>1</b> are generated. When and after the input data S<b>1</b> is inputted, the input data Sn is sampled as the interpolation data Dn+1. Thus, the input data other than the input data S<b>16</b> are sampled as the interpolation data as illustrated by arrows <b>50</b>, but the input data S<b>16</b> is sampled as the overlapped interpolation data D<b>16</b> and D<b>1</b> as illustrated by arrows <b>54</b>.</p>
<p id="p-0039" num="0038">As described above, in the receiving circuit of the comparative embodiment, a cycle slip in which the interpolation data lacks may occur. A method to increase the sampling frequency and perform oversampling is considered as a method to restrain the lack of data. For example, the sampling frequency is set to 10 times of the frequency of the input data. Thereby, the number of samples per one unit increases more than the number of samples calculated in the comparative embodiment (e.g. the number of samples is two in the case of the 2&#xd7; system). Therefore, even when the lack of data occurs, the lacked data can be added by selecting another data according to need. However, even if the oversampling for high-speed data communication more than 10 Gbps or more than 1 Gbps is used, it is difficult to perform the sampling of the high frequency. Even when the sampling of the high frequency can be performed, a power consumption increases since an operating frequency becomes high.</p>
<p id="p-0040" num="0039">A method to adjust the sampling frequency so that the sampling frequency is always higher than the frequency of the input data is considered as the method to restrain the lack of data. However, in this method, the independent oscillators are provided in a transmitting side and a receiving side. Therefore, the device becomes large in size, and the power consumption increases.</p>
<p id="p-0041" num="0040">In the following description, a first embodiment which restrains the lack of the interpolation data without using the above-mentioned method is described.</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram of a receiving circuit according to the first embodiment. As illustrated in <figref idref="DRAWINGS">FIG. 3</figref>, a receiving circuit <b>100</b> includes the interpolation circuit <b>10</b>, the calculation circuit <b>20</b> and the comparator <b>22</b>. The interpolation circuit <b>10</b> includes a generation circuit <b>12</b>, a coefficient circuit <b>14</b> and a detection circuit <b>16</b>. The generation circuit <b>12</b> generates the interpolation data based on a plurality pieces of data among data inputted in time series, using an interpolation coefficient k. The data inputted in time series includes the data point and the transition point. The detection circuit <b>16</b> detects that the input data lacks at a data point, and outputs the result of the detection to the coefficient circuit <b>14</b> as a signal Skip. The coefficient circuit <b>14</b> changes the interpolation coefficient k for each given data interval. When the detection circuit <b>16</b> detects the lack of the input data, the coefficient circuit <b>14</b> skips a position for changing the interpolation coefficient k to the transition point.</p>
<p id="p-0043" num="0042">Next, a role of the transition point is explained. <figref idref="DRAWINGS">FIG. 4A</figref> is a block diagram illustrating an example of a phase detection circuit. <figref idref="DRAWINGS">FIG. 4B</figref> is a diagram illustrating a signal with respect to a time in the case where data is advanced with respect to a clock. <figref idref="DRAWINGS">FIG. 4C</figref> is a diagram illustrating a signal with respect to a time in the case where data is delayed with respect to the clock. <figref idref="DRAWINGS">FIG. 5</figref> is a truth table of a phase detection circuit. A phase detection circuit <b>20</b><i>a </i>is an Alexander phase detector, and includes two XOR-circuits <b>21</b>, as illustrated in <figref idref="DRAWINGS">FIG. 4A</figref>. Data Dn&#x2212;1 on the data point and data En on the transition point are inputted to one XOR-circuit <b>21</b>, and data Dn on the data point and the data En on the transition point are inputted to another XOR-circuit <b>21</b>. A signal &#x201c;Early&#x201d; is outputted from the one XOR-circuit <b>21</b>, and a signal &#x201c;Late&#x201d; is outputted from the another XOR-circuit <b>21</b>.</p>
<p id="p-0044" num="0043">As illustrated in <figref idref="DRAWINGS">FIG. 4B</figref>, the data D is advanced with respect to a clock CK. In this case, the pieces of data Dn, En and Dn&#x2212;1 are 1, 1 and 0, respectively. As illustrated in <figref idref="DRAWINGS">FIG. 4C</figref>, the data D is delayed with respect to the clock CK. In this case, the pieces of data Dn, En and Dn&#x2212;1 are 1, 0 and 0, respectively. As described above, according to the data En on the transition point, it is possible to detect whether the data D is advanced or delayed with respect to the clock CK.</p>
<p id="p-0045" num="0044">When the data Dn&#x2212;1 on the data point and the data D on the data point are 1 or 0 at the same time, as illustrated in <figref idref="DRAWINGS">FIG. 5</figref>, it is not possible to detect whether the data D is advanced or delayed with respect to the clock CK. When the data Dn&#x2212;1 on the data point and the data D on the data point are different from each other, and the signal &#x201c;Early&#x201d; is 1, the data D is advanced with respect to the clock CK. When the data Dn&#x2212;1 on the data point and the data D on the data point are different from each other, and the signal &#x201c;Late&#x201d; is 1, the data D is delayed with respect to the clock CK. The Alexander phase detector is effective in the case of the 2&#xd7; system. When the transition of the data point is performed, the phase detection can be preformed. The Alexander phase detector is one example, and uses the data on the transition point when the calculation circuit <b>20</b> detects a phase difference between the data and the clock. Thus, in the system which samples the transition point, the data on the transition point is used for the phase detection. Therefore, all the pieces of data on the transition points do not need to be sampled. For example, the data on the transition point may lack.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIGS. 6A to 6C</figref> are diagrams illustrating a signal with respect to a time in timing when the interpolation coefficient k is changed from 0 to 1. In the input data S<b>16</b>, the interpolation coefficient k is changed from 0 to 1, as illustrated in <figref idref="DRAWINGS">FIG. 6A</figref>. In this case, the interpolation circuit of the second embodiment described later does not really sample the input data S<b>16</b>. That is, the input data S<b>16</b> lacks. In the first embodiment, when the detection circuit <b>16</b> detects the lack of the input data S<b>16</b> at the data point as illustrated in <figref idref="DRAWINGS">FIG. 6B</figref>, the coefficient circuit <b>14</b> skips the position for changing the interpolation coefficient k to the transition point. For example, the coefficient circuit <b>14</b> skips the position for changing the interpolation coefficient k to the transition point so that the interpolation coefficient k is changed from 0 to 1 at the position of the input data S<b>15</b>. Thereby, the input data to be lacked is the input data S<b>15</b> on the transition point. On the contrary, when a position where the input data lacks is the transition point as illustrated in <figref idref="DRAWINGS">FIG. 6C</figref>, the coefficient circuit <b>14</b> does not skip the position for changing the interpolation coefficient k.</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIGS. 7A to 7C</figref> are diagrams illustrating a signal with respect to a time in timing when the interpolation coefficient k is changed from 1 to 0. In the input data S<b>16</b>, the interpolation coefficient k is changed from 0 to 1, as illustrated in <figref idref="DRAWINGS">FIG. 7A</figref>. In this case, the input data S<b>16</b> are doubly sampled as the interpolation data D<b>16</b> and D<b>1</b>. When the input data are doubly sampled, there is a case where the interpolation data is incorrect. For example, in the interpolation circuit of the second embodiment described later, both of the doubly sampled data are incorrect. In the first embodiment, when the detection circuit <b>16</b> detects that the interpolation data are doubly generated from the input data, the coefficient circuit <b>14</b> skips the position for changing the interpolation coefficient k to the transition point, as illustrated in <figref idref="DRAWINGS">FIG. 7B</figref>. For example, the coefficient circuit <b>14</b> skips the position for changing the interpolation coefficient k to the transition point so that the interpolation coefficient k is changed from 1 to 0 at the position of the input data S<b>15</b>. Thereby, the input data to be doubly sampled is the input data on the transition point. On the contrary, when a position where the input data to be doubly sampled as two pieces of interpolation data is the transition point as illustrated in <figref idref="DRAWINGS">FIG. 7C</figref>, the coefficient circuit <b>14</b> does not skip the position for changing the interpolation coefficient k.</p>
<p id="p-0048" num="0047">According to the first embodiment, when the detection circuit <b>16</b> detects the lack of the input data, the coefficient circuit <b>14</b> skips the position for changing the interpolation coefficient k to the transition point, as illustrated in <figref idref="DRAWINGS">FIGS. 6A to 6C</figref>. Thereby, the data on the transition point can be set as the input data to be lacked, instead of the data on the data point. Therefore, the input data to be lacked can be set as data with little influence as the receive data.</p>
<p id="p-0049" num="0048">When detection circuit <b>16</b> detects that the interpolation data are doubly generated from the input data, the coefficient circuit <b>14</b> skips the position for changing the interpolation coefficient k to the transition point, as illustrated in <figref idref="DRAWINGS">FIGS. 7A to 7C</figref>. Thereby, the data on the transition point can be set as the input data to be doubly and incorrectly sampled, instead of the data on the data point. Therefore, the incorrect data can be set as the data with little influence as the receive data.</p>
<heading id="h-0008" level="1">Embodiment 2</heading>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 8</figref> is a block diagram of the receiving circuit according to a second embodiment. In a receiving circuit <b>100</b><i>b</i>, the generation circuit <b>12</b> includes a Gm circuit <b>24</b> and a capacitor circuit <b>40</b>. A clock signal for sampling is inputted to the generation circuit <b>12</b>. The Gm circuit <b>24</b> converts a voltage into a current. Other configurations are the same as those of the first embodiment of <figref idref="DRAWINGS">FIG. 3</figref>, and hence a description thereof is omitted.</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 9</figref> is a circuit diagram illustrating a switched capacitor circuit. As illustrated in <figref idref="DRAWINGS">FIG. 9</figref>, the generation circuit <b>12</b> includes a Gm circuit <b>24</b> and a capacitor circuit <b>40</b>. The capacitor circuit <b>40</b> includes switches <b>31</b> to <b>35</b>, and variable capacitors <b>36</b> to <b>39</b>. The input data Sin which is a voltage signal is inputted to the Gm circuit <b>24</b>. The Gm circuit <b>24</b> converts the voltage signal into a current signal. The output of the Gm circuit <b>24</b> is inputted to one ends of the variable capacitors <b>36</b> and <b>38</b> via the switches <b>31</b> and <b>32</b>, respectively. Other ends of the variable capacitors <b>36</b> and <b>38</b> are synthesized at a synthesis node <b>30</b>. The synthesis node <b>30</b> outputs interpolation data D. The switches <b>33</b> and <b>34</b> are connected between one ends of the variable capacitors <b>36</b> and <b>38</b>, and a power supply Vcc, respectively. The switch <b>35</b> is connected between the synthesis node <b>30</b> and a ground. The variable capacitors <b>37</b> and <b>39</b> are connected in parallel with the variable capacitors <b>36</b> and <b>38</b>, respectively. When a capacitance value of the variable capacitor <b>36</b> is &#x201c;(1&#x2212;k)C0&#x201d;, the capacitance value of the variable capacitor <b>37</b> is &#x201c;KC0&#x201d;. When the capacitance value of the variable capacitor <b>38</b> is &#x201c;KC0&#x201d;, the capacitance value of the variable capacitor <b>39</b> is &#x201c;(1&#x2212;k)C0&#x201d;. Thus, regardless of the interpolation coefficient k, the sum of capacitance values of the variable capacitors <b>36</b> and <b>37</b> is constant. Regardless of the interpolation coefficient k, the sum of capacitance values of the variable capacitors <b>38</b> and <b>39</b> is constant.</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. 10</figref> is a timing chart illustrating the operation of each switch in the switched capacitor circuit. Referring to <figref idref="DRAWINGS">FIG. 10</figref>, at a time t<b>0</b>, the switches <b>31</b>, <b>32</b> and <b>35</b> are turned off, and the switches <b>33</b> and <b>34</b> are turned on. The switch <b>35</b> is turned on at a time t<b>1</b>, and the switches <b>33</b> and <b>34</b> are turned off at a time t<b>2</b>. The switch <b>31</b> is turned on for a certain period (e.g. 0.5 unit) from a time t<b>3</b>. An electric charge that has integrated a current value for the certain period is accumulated in the variable capacitor <b>36</b>. A voltage which has multiplied the electric charge by the reciprocal of the capacitance value (1&#x2212;k)C0 occurs between the variable capacitor <b>36</b>. The switch <b>32</b> is turned on for a certain period (e.g. 0.5 unit) from a time t<b>4</b>. An electric charge that has integrated a current value for the certain period is accumulated in the variable capacitor <b>38</b>. A voltage which has multiplied the electric charge by the reciprocal of the capacitance value kC0 occurs between the variable capacitor <b>38</b>. The periods which turn on the switches <b>31</b> and <b>32</b> can be set freely. The switch <b>35</b> is turned off at a time t<b>5</b>. The switches <b>33</b> and <b>34</b> are turned on at a time t<b>6</b>. The switches <b>33</b> and <b>34</b> are turned on and the switch <b>35</b> is turned off, so that the electric charges accumulated in the variable capacitors <b>36</b> and <b>38</b> are changed to a standard of the power supply Vcc, and are synthesized at the synthesis node <b>30</b>. The switches <b>31</b> and <b>32</b> are turned on at the time that the input data Sn&#x2212;1 and Sn should be sampled, respectively, so that a voltage which is proportional to &#x201c;(1&#x2212;k)&#xd7;Sn&#x2212;1+k&#xd7;Sn&#x201d; is generated at the synthesis node <b>30</b> in a period (i.e., a period equivalent from the time t<b>0</b> to the time t<b>1</b>) after the time t<b>6</b>. Thereby, the interpolation data corresponding to the Dn can be generated at the synthesis node.</p>
<p id="p-0053" num="0052">As described above, in the capacitor circuit <b>40</b>, the capacitance values of the variable capacitor <b>36</b> (i.e., a first variable capacitor) and the variable capacitor <b>38</b> (i.e., a second variable capacitor) are changeable according to the interpolation coefficient k. The switch <b>31</b> (i.e., a first switch) and the switch <b>32</b> (i.e., a second switch) apply currents corresponding to the input data Sn&#x2212;1 and Sn to the variable capacitors <b>36</b> and <b>38</b> in timing when the variable capacitor <b>36</b> is earlier than the variable capacitor <b>38</b>. The synthesis node <b>30</b> (i.e., a synthesis portion) generates the interpolation data Dn by synthesizing the electric charges of the variable capacitors <b>36</b> and <b>38</b>. Thus, the interpolation data can be generated according to the interpolation coefficient k.</p>
<p id="p-0054" num="0053">Here, the capacitance values of the variable capacitors <b>36</b> and <b>38</b> are changed so that the sum of the capacitance values of the variable capacitors <b>36</b> and <b>38</b> becomes constant. Thereby, the capacitance values of the variable capacitors <b>36</b> and <b>38</b> can be changed according to the interpolation coefficient k.</p>
<p id="p-0055" num="0054">In the circuit illustrated in <figref idref="DRAWINGS">FIG. 9</figref>, only one interpolation data is generable as illustrated in <figref idref="DRAWINGS">FIG. 10</figref>. Therefore, the generation circuit <b>12</b> includes a plurality of capacitor circuits <b>40</b>. Thereby, it is possible to generate sampling timing of each of data S<b>1</b> to Sn, generate the interpolation data, and secure time to charge the variable capacitors <b>36</b> and <b>38</b>.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 11</figref> is a circuit diagram illustrating a generation circuit that is provided with a plurality of capacitor circuits. Referring to <figref idref="DRAWINGS">FIG. 11</figref>, the generation circuit <b>12</b> includes the Gm circuit <b>24</b> and the plurality of capacitor circuits <b>40</b>. The number of capacitor circuits <b>40</b> is &#x201c;N&#x201d;. Each capacitor circuit <b>40</b> includes a plurality of slices <b>45</b> (e.g. the number of slices <b>45</b>) is &#x201c;Nc&#x201d;. Each of the slices <b>45</b> includes switches <b>33</b>, <b>41</b> and <b>42</b>, and a capacitor <b>43</b>. The switch <b>41</b> is connected between a switch SWn&#x2212;1 (n is a natural number from 1 to N) and one end of the capacitor <b>43</b>. The switch <b>42</b> is connected between a switch SWn and the one end of the capacitor <b>43</b>. Another end of the capacitor <b>43</b> is connected to the synthesis node <b>30</b>. Each switch <b>33</b> is the same as the switch <b>33</b> in <figref idref="DRAWINGS">FIG. 9</figref>, and connected between the one end of the capacitor <b>43</b> and the power supply Vcc. The reason why the switch <b>33</b> is provided in each slice <b>45</b> is for making it possible to charge all the capacitors <b>43</b>.</p>
<p id="p-0057" num="0056">The Nc slices <b>45</b> are connected in parallel. The capacitance values of the capacitors <b>43</b> in the Nc slices <b>45</b> are the same as each other. The switches <b>41</b> and <b>42</b> are mutually and complementarily turned on and off. That is, when the switch <b>41</b> is turned on, the switch <b>42</b> is turned off. When the switch <b>41</b> is turned off, the switch <b>42</b> is turned on. Thereby, the capacitors <b>43</b> in the slices <b>45</b> in which the switches <b>41</b> are turned on are connected in parallel with the switch SWn-<b>1</b>, and correspond to the variable capacitor <b>36</b>. The capacitors <b>43</b> in the slices <b>45</b> in which the switches <b>42</b> are turned on are connected in parallel with the switch SWn, and correspond to the variable capacitor <b>38</b>. Therefore, the sum of the capacitance values of the variable capacitors <b>36</b> and <b>38</b> is the same as that of <figref idref="DRAWINGS">FIG. 9</figref>. In the following description, it is assumed that a variable kn is set as any one of 0 to Nc, the variable kn is 0 when the interpolation coefficient k is 0, and the variable kn is Nc when the interpolation coefficient k is 1. That is, the variable kn is expressed by &#x201c;k&#xd7;Nc&#x201d;. In the Nc slices <b>45</b>, the switches <b>41</b> in (Nc&#x2212;Kn) slices <b>45</b> are turned on, and Kn switches <b>42</b> are turned on. Thereby, the interpolation data Dn which is proportional to &#x201c;(Nc&#x2212;kn)/Nc&#xd7;Sn&#x2212;1+kn/Nc&#xd7;Sn&#x201d; is outputted to the synthesis node <b>30</b>. In <figref idref="DRAWINGS">FIG. 11</figref>, the slices <b>45</b> included in the variable capacitor <b>36</b> are illustrated by solid lines, and the slices <b>45</b> included in the variable capacitor <b>38</b> are illustrated by dashed lines. Subsequent figures are also illustrated in the same manner as <figref idref="DRAWINGS">FIG. 11</figref>.</p>
<p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. 12</figref> is a timing chart of the switches SW<b>1</b> to SWN. As illustrated in <figref idref="DRAWINGS">FIG. 12</figref>, the switches SW<b>1</b> to SWN are turned on in timing corresponding to time-series data S<b>1</b> to Sun, respectively. Thereby, the interpolation data D<b>1</b> to DN can be generated in response to the time series.</p>
<p id="p-0059" num="0058">As described above, the generation circuit <b>12</b> includes the plurality of capacitor circuits <b>40</b> corresponding to the plurality of pieces of data S<b>1</b> to S<b>16</b> within a given data interval. Here, a description is given of two capacitor circuits <b>40</b><i>a </i>and <b>40</b><i>b </i>corresponding to time-series adjacent data S<b>3</b> and S<b>4</b>. The second variable capacitor <b>38</b> of one capacitor circuit (i.e., the capacitor circuit <b>40</b><i>a</i>) in the capacitor circuits <b>40</b><i>a </i>and <b>40</b><i>b </i>that corresponds to early data of the time-series data, and the first variable capacitor <b>36</b> of another capacitor circuit (i.e., the capacitor circuit <b>40</b><i>b</i>) in the capacitor circuits <b>40</b><i>a </i>and <b>40</b><i>b </i>have a switch SW<b>4</b> in common. Thereby, a current is applied to the second variable capacitor <b>38</b> of the capacitor circuit <b>40</b><i>a </i>and the first variable capacitor <b>36</b> of the capacitor circuit <b>40</b><i>b </i>at the same time. Thus, since the switch SW<b>4</b> is shared, the switch SW<b>4</b> can supply data S<b>4</b> to the capacitor circuits <b>40</b><i>a </i>and <b>40</b><i>b. </i></p>
<p id="p-0060" num="0059">When the capacitance values of the capacitors <b>43</b> in all capacitor circuits <b>40</b> are the same as each other, the current is supplied from the switch SW<b>4</b> to kn capacitors <b>43</b> in the capacitor circuit <b>40</b><i>a </i>and (Nc&#x2212;kn) capacitors <b>43</b> in the capacitor circuit <b>40</b><i>b</i>. With respect to the switch SW<b>3</b>, the current is supplied in the same manner as the switch SW<b>4</b>. The capacitance values of the capacitors as seen from the respective switches SW<b>1</b> to SWN are the same as each other. Thereby, when the same currents flow to the capacitors <b>43</b> in the respective capacitor circuits <b>40</b>, the same voltages occur. If the capacitance values of the capacitors as seen from the respective switches SW<b>1</b> to SWN are different from each other, different voltages occur even when the same currents flow to the capacitors <b>43</b>. Therefore, correct interpolation data is not generated.</p>
<p id="p-0061" num="0060">Next, a description is given of a case where the interpolation coefficient in the generation circuit <b>12</b> is changed. <figref idref="DRAWINGS">FIG. 13</figref> is a diagram illustrating the case where the interpolation coefficient in the generation circuit <b>12</b> is changed. The circuitry of <figref idref="DRAWINGS">FIG. 13</figref> is the same as that of <figref idref="DRAWINGS">FIG. 11</figref>. It is assumed that the timing that the coefficient circuit <b>14</b> changes the interpolation coefficient kn is for each given data interval (e.g. for each <b>16</b> data, or some data other than <b>16</b> data), and the interpolation coefficient is changed from kn to kn&#x2032; between the capacitor circuits <b>40</b><i>c </i>and <b>40</b><i>d</i>. In the capacitor circuit <b>40</b><i>c</i>, the number of capacitors <b>43</b> connected to the switch SW<b>15</b> is &#x201c;Nc&#x2212;1&#x201d;, and the number of capacitors <b>43</b> connected to the switch SW<b>16</b> is &#x201c;1&#x201d;. In the capacitor circuit <b>40</b><i>d</i>, the number of capacitors <b>43</b> connected to the switch SW<b>16</b> is &#x201c;Nc&#x2212;2&#x201d;, and the number of capacitors <b>43</b> connected to the switch SW<b>1</b> is &#x201c;2&#x201d;. Thereby, the number of capacitors <b>43</b> seen from the switch SW<b>16</b> is &#x201c;Nc&#x2212;1&#x201d;. Therefore, the interpolation data D<b>16</b> and D<b>1</b> generated using the input data S<b>16</b> become incorrect.</p>
<p id="p-0062" num="0061">Next, a description is given of a case where the interpolation coefficient kn in the generation circuit <b>12</b> is changed from 0 to Nc. <figref idref="DRAWINGS">FIG. 14</figref> is a diagram illustrating the case where the interpolation coefficient kn in the generation circuit <b>12</b> is changed from 0 to Nc. The circuitry of <figref idref="DRAWINGS">FIG. 14</figref> is the same as that of <figref idref="DRAWINGS">FIG. 11</figref>. It is assumed that the interpolation coefficient kn is changed from 0 to Nc between the capacitor circuits <b>40</b><i>c </i>and <b>40</b><i>d</i>, for example. In the capacitor circuit <b>40</b><i>c</i>, all capacitors <b>43</b> are connected to the switch SW<b>15</b>, and the capacitors <b>43</b> are not connected to the switch SW<b>16</b>. In the capacitor circuit <b>40</b><i>d</i>, the capacitors <b>43</b> are not connected to the switch SW<b>16</b>, and all capacitors <b>43</b> are connected to the switch SW<b>1</b>. Thereby, the interpolation data D<b>16</b> outputted from the capacitor circuit <b>40</b><i>c </i>corresponds to the data S<b>15</b>, and the interpolation data D<b>1</b> outputted from the capacitor circuit <b>40</b><i>d </i>corresponds to the data S<b>1</b>. Therefore, the interpolation data corresponding to the data S<b>16</b> is not outputted.</p>
<p id="p-0063" num="0062">Thus, in the generation circuit <b>12</b> having the plurality of capacitor circuits <b>40</b>, the lack of the input data occurs.</p>
<p id="p-0064" num="0063">Next, a description is given of a case where the interpolation coefficient kn in the generation circuit <b>12</b> is changed from Nc to 0. <figref idref="DRAWINGS">FIG. 15</figref> is a diagram illustrating a case where the interpolation coefficient kn in the generation circuit <b>12</b> is changed from Nc to 0. The circuitry of <figref idref="DRAWINGS">FIG. 15</figref> is the same as that of <figref idref="DRAWINGS">FIG. 11</figref>. It is assumed that the interpolation coefficient kn is changed from Nc to 0 between the capacitor circuits <b>40</b><i>c </i>and <b>40</b><i>d</i>, for example. In the capacitor circuit <b>40</b><i>c</i>, all capacitors <b>43</b> are connected to the switch SW<b>16</b>, and the capacitors <b>43</b> are not connected to the switch SW<b>15</b>. In the capacitor circuit <b>40</b><i>d</i>, all capacitors <b>43</b> are connected to the switch SW<b>16</b>, and the capacitors <b>43</b> are not connected to the switch SW<b>1</b>. Thereby, the interpolation data D<b>16</b> outputted from the capacitor circuit <b>40</b><i>c </i>corresponds to the data S<b>16</b>, and the interpolation data D<b>1</b> outputted from the capacitor circuit <b>40</b><i>d </i>also corresponds to the data S<b>16</b>. Therefore, the interpolation data corresponding to the data S<b>16</b> are doubly generated. All capacitors <b>43</b> in the capacitor circuits <b>40</b><i>c </i>and <b>40</b><i>d </i>are connected to the switch SW<b>16</b>. Even if the currents which flow into the capacitor circuits <b>40</b><i>c </i>and <b>40</b><i>d </i>are the same value as the current which flows into other capacitor circuits <b>40</b>, different voltages occur in the capacitor circuits <b>40</b><i>c </i>and <b>40</b><i>d</i>. Therefore, two data D<b>16</b> and D<b>1</b> which are the output of the capacitor circuits <b>40</b><i>c </i>and <b>40</b><i>d </i>become incorrect.</p>
<p id="p-0065" num="0064">Thus, correct interpolation data are not generated when the generation circuit <b>12</b> having the plurality of capacitor circuits <b>40</b> generates the interpolation data doubly.</p>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. 16</figref> is a diagram illustrating a part of the coefficient circuit <b>14</b>. <figref idref="DRAWINGS">FIG. 17</figref> is a timing chart of respective interpolation coefficients and clocks. The coefficient circuit <b>14</b> includes buffers <b>50</b>, latches <b>52</b> and <b>54</b>, and a selection circuit <b>56</b>. A D-type flip-flop (DFF) is formed with the latches <b>52</b> and <b>54</b>. The interpolation coefficient kn to be inputted is an interpolation coefficient that the calculation circuit <b>20</b> outputs to the coefficient circuit <b>14</b>. The interpolation coefficients k<b>1</b> to k<b>16</b> are interpolation coefficients that the coefficient circuit <b>14</b> outputs to the capacitor circuits <b>40</b> in the generation circuit <b>12</b>. Each boundary between a white area and a hatching area in the interpolation coefficients kn and k<b>1</b> to k<b>16</b> of <figref idref="DRAWINGS">FIG. 17</figref> indicates timing in which each interpolation coefficient is changed.</p>
<p id="p-0067" num="0066">The interpolation coefficient kn inputted to the coefficient circuit <b>14</b> is outputted, as an interpolation coefficient kint, to an intermediate node Nint via the buffer <b>50</b>, the latches <b>52</b>, <b>54</b> and <b>52</b>, and the buffer <b>50</b>. A clock CK<b>2</b> is inputted to the latches <b>52</b> and <b>54</b>. As illustrated in <figref idref="DRAWINGS">FIG. 17</figref>, the interpolation coefficient kn is inputted at a time t<b>0</b>. At a time tint, the interpolation coefficient kint is inputted to the intermediate node Nint in synchronization with falling of the clock CK<b>2</b>.</p>
<p id="p-0068" num="0067">The interpolation coefficient kint is outputted as the interpolation coefficient k<b>1</b> via the latches <b>52</b> and <b>54</b> to which a clock CK<b>1</b> is inputted. At a time t<b>1</b>, the interpolation coefficient k<b>1</b> is outputted in synchronization with the clock CK<b>1</b>, as illustrated in <figref idref="DRAWINGS">FIG. 17</figref>. The interpolation coefficient kint is outputted as the interpolation coefficient k<b>2</b> via the latches <b>52</b> and <b>54</b> to which the clock CK<b>2</b> is inputted. The interpolation coefficient k<b>2</b> is outputted in synchronization with the clock CK<b>2</b>. The interpolation coefficient kint is outputted as the interpolation coefficient k<b>3</b> via the latches <b>52</b> and <b>54</b> to which a clock CK<b>3</b> is inputted. The interpolation coefficient k<b>3</b> is outputted in synchronization with the clock CK<b>3</b>. The interpolation coefficient kint is outputted as the interpolation coefficient k<b>15</b> via the latches <b>52</b>, <b>54</b>, <b>52</b> and <b>54</b> to which a clock CK<b>15</b> is inputted. At a time t<b>15</b>, the interpolation coefficient k<b>15</b> is outputted in synchronization with the clock CK<b>15</b>.</p>
<p id="p-0069" num="0068">When the signal Skip is a high level, the selection circuit <b>56</b> directly inputs the interpolation coefficient kint from the intermediate node Nint. When the signal Skip is a low level, the selection circuit <b>56</b> inputs the interpolation coefficient kint from the intermediate node Nint via the latches <b>52</b> and <b>54</b> to which the clock CK<b>16</b> is inputted. Thereby, when the signal Skip is the low level, the interpolation coefficient kint is outputted as the interpolation coefficient k<b>16</b> via the latches <b>52</b>, <b>54</b>, <b>52</b> and <b>54</b> to which the clock CK<b>16</b> is inputted. At a time t<b>16</b>, the interpolation coefficient k<b>16</b> is outputted in synchronization with the clock CK<b>16</b>. On the other hand, when the signal Skip is the high level, the interpolation coefficient kint is outputted as the interpolation coefficient k<b>16</b> via the latches <b>52</b> and <b>54</b> to which the clock CK<b>16</b> is inputted. At a time t<b>16</b><i>a</i>, the interpolation coefficient k<b>16</b> is outputted in synchronization with the clock CK<b>16</b>. Thus, when the signal Skip is the high level, the interpolation coefficient k<b>16</b> can be outputted early by one cycle (i.e., one phase), compared with the case where the signal Skip is the low level.</p>
<p id="p-0070" num="0069"><figref idref="DRAWINGS">FIGS. 18A and 18B</figref> are diagrams illustrating a signal with respect to a time in timing when the interpolation coefficient kn is changed from 0 to Nc. At the time t<b>1</b> between the interpolation data D<b>1</b> and D<b>2</b>, the interpolation coefficient k<b>1</b> is changed from 0 to Nc, as illustrated in <figref idref="DRAWINGS">FIG. 18A</figref>. Similarly, the interpolation coefficient k<b>16</b> is changed from 0 to Nc at the time t<b>16</b> after the interpolation data D<b>16</b>. In the first sampling after the update of the interpolation coefficient, the input data lacks. Therefore, the input data on the data point after the time t<b>16</b> lacks.</p>
<p id="p-0071" num="0070">When the signal Skip is the high level, the interpolation coefficient k<b>16</b> is changed from 0 to Nc at the time t<b>16</b><i>a</i>, as illustrated in <figref idref="DRAWINGS">FIG. 18B</figref>. In the first sampling after the update of the interpolation coefficient, the input data lacks. Therefore, the input data lacks between the interpolation data D<b>15</b> and D<b>16</b>. The lacking input data is data on the transition point.</p>
<p id="p-0072" num="0071">Next, a description is given of a case where the detection circuit uses the interpolation code from the CDR (Clock Data Recovery) circuit of the 2&#xd7; system, as the interpolation coefficient k. <figref idref="DRAWINGS">FIG. 19</figref> is a diagram illustrating the phase of the coefficient circuit. <figref idref="DRAWINGS">FIG. 19</figref> illustrates the interpolation code on a phase space outputted from the CDR circuit by setting one unit as 360 degrees. When the interpolation code &#x3a6; moves from a first quadrant to a fourth quadrant as indicated by an arrow <b>62</b>, the interpolation coefficient k is changed from 0 to 1 and the input data lacks at the data point. When the interpolation code &#x3a6; moves from the fourth quadrant to the first quadrant as indicated by an arrow <b>64</b>, the interpolation coefficient k is changed from 1 to 0 and the input data is doubly sampled at the data point. When the interpolation code &#x3a6; moves from the second quadrant to the third quadrant as indicated by an arrow <b>66</b>, the interpolation coefficient k is changed from 0 to 1 and the input data lacks at the transition point. When the interpolation code &#x3a6; moves from the third quadrant to the second quadrant as indicated by an arrow <b>68</b>, the interpolation coefficient k is changed from 1 to 0 and the input data is doubly sampled at the transition point. Table 1 is a table which summarized the above.</p>
<p id="p-0073" num="0072">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="1" colwidth="70pt" align="left"/>
<colspec colname="2" colwidth="126pt" align="left"/>
<colspec colname="3" colwidth="21pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="3" rowsep="1">TABLE 1</entry>
</row>
<row>
<entry namest="1" nameend="3" align="center" rowsep="1"/>
</row>
<row>
<entry>Quadrant of Phase</entry>
<entry>Phenomenon</entry>
<entry>Skip</entry>
</row>
<row>
<entry namest="1" nameend="3" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>IV &#x2212;&#x3e; I</entry>
<entry>Input data lacks at data point</entry>
<entry>1</entry>
</row>
<row>
<entry>I &#x2212;&#x3e; IV</entry>
<entry>Input data is doubly sampled at data point</entry>
<entry>1</entry>
</row>
<row>
<entry>II &#x2212;&#x3e; III</entry>
<entry>Input data lacks at transition point</entry>
<entry>0</entry>
</row>
<row>
<entry>III &#x2212;&#x3e; II</entry>
<entry>Input data is doubly sampled at transition</entry>
<entry>0</entry>
</row>
<row>
<entry/>
<entry>point</entry>
</row>
<row>
<entry namest="1" nameend="3" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0074" num="0073"><figref idref="DRAWINGS">FIG. 20</figref> is a diagram illustrating a logic of an example of the detection circuit. The interpolation code &#x3a6; is inputted, as illustrated in <figref idref="DRAWINGS">FIG. 20</figref>. The interpolation code &#x3a6; is normalized at 360 degrees, and is more than or equal to 0 and less than or equal to 1. The interpolation code &#x3a6; is divided into two. A quadrupler circuit <b>72</b> quadruples one of the divided interpolation codes, and a logic circuit <b>74</b> omits the quadrupled interpolation code after a decimal point. Thereby, a signal on a channel <b>77</b><i>a </i>indicates the quadrant of the current interpolation code &#x3a6;. A DFF <b>70</b> delays another one of the divided interpolation codes by one clock. A quadrupler circuit <b>73</b> quadruples the another one of the divided interpolation codes, and a logic circuit <b>75</b> omits the quadrupled interpolation code after a decimal point. Thereby, a signal on a channel <b>77</b><i>b </i>indicates the quadrant of the interpolation code &#x3a6; before one clock. An adder <b>76</b> adds to each other the signal on the channel <b>77</b><i>a </i>as positive and the signal on the channel <b>77</b><i>b </i>as negative. Thereby, the outputs of the adder <b>76</b> corresponding to the arrows <b>62</b>, <b>64</b>, <b>66</b>, and <b>68</b> of <figref idref="DRAWINGS">FIG. 19</figref> are 3, &#x2212;3, 1, and &#x2212;1, respectively. When the output of the adder <b>76</b> is 3 or &#x2212;3, a logic circuit <b>78</b> sets the signal Skip as 1. Thereby, when the input data lacks at the data point or is doubly sampled at the data point, since the interpolation coefficient is changed, the position for changing the interpolation coefficient can be changed from the data point to the transition point. When the output of the adder <b>76</b> is 1 or &#x2212;1, the logic circuit <b>78</b> sets the signal Skip as 0. Thereby, when the input data lacks at the transition point or is doubly sampled at the transition point, since the interpolation coefficient is changed, the position for changing the interpolation coefficient is maintained, i.e., the transition point.</p>
<p id="p-0075" num="0074">According to the second embodiment, when the detection circuit <b>16</b> detects the lack of the input data, the coefficient circuit <b>14</b> skips the position for changing the interpolation coefficient k to the transition point, as illustrated in <figref idref="DRAWINGS">FIG. 20</figref>. Thereby, the influence of the input data to be lacked can be reduced.</p>
<p id="p-0076" num="0075">Also, the detection circuit <b>16</b> detects that the interpolation data are doubly generated from the input data at the data point, as illustrated in <figref idref="DRAWINGS">FIG. 20</figref>. When the detection circuit <b>16</b> detects that the interpolation data are doubly generated from the input data, the coefficient circuit <b>14</b> skips the position for changing the interpolation coefficient to the transition point. When the interpolation data are doubly generated as illustrated in <figref idref="DRAWINGS">FIG. 15</figref>, the interpolation data may be incorrect. According to the second embodiment, more correct interpolation data can be generated.</p>
<p id="p-0077" num="0076">As illustrated in <figref idref="DRAWINGS">FIG. 11</figref>, the generation circuit <b>12</b> includes a plurality of unit circuits (i.e., capacitor circuits) that generates the plurality of pieces of interpolation data continuous in time series, respectively. Thereby, the interpolation data can be generated continuously.</p>
<p id="p-0078" num="0077">When the generation circuit <b>12</b> makes the input data lack as illustrated in <figref idref="DRAWINGS">FIG. 14</figref>, the generation circuit <b>12</b> does not use the output of one of the capacitor circuits <b>40</b> as the interpolation data. Thereby, the generation circuit <b>12</b> can make the input data lack.</p>
<p id="p-0079" num="0078">When the coefficient circuit <b>14</b> skips the position for changing the interpolation coefficient to the transition point, the coefficient circuit <b>14</b> skips the position for changing the interpolation coefficient for each given data interval, as illustrated in <figref idref="DRAWINGS">FIGS. 16 and 18</figref>. Thereby, the position for changing the interpolation coefficient can be easily changed from the data point to the transition point.</p>
<p id="p-0080" num="0079">The detection circuit <b>16</b> detects the lack of the input data based on a phase of the interpolation coefficient, as illustrated in <figref idref="DRAWINGS">FIGS. 19 and 20</figref>. Thereby, the detection circuit <b>16</b> can easily detect the lack of the input data.</p>
<p id="p-0081" num="0080"><figref idref="DRAWINGS">FIG. 21</figref> is a block diagram illustrating an example of transmitting and receiving devices used for the first and the second embodiments. Each of the transmitting and receiving devices <b>80</b><i>a </i>and <b>80</b><i>b </i>includes a clock circuit <b>82</b>, a plurality of transmitting circuits <b>83</b>, a plurality of receiving circuits <b>84</b>, a clock distribution circuit <b>85</b>, and a core interface <b>86</b>. The clock circuit <b>82</b> generates clocks. Each transmitting circuit <b>83</b> transmits a signal to a corresponding receiving circuit <b>84</b> of another one of the transmitting and receiving devices <b>80</b><i>a </i>and <b>80</b><i>b</i>. Each receiving circuit <b>84</b> receives the transmitted signal from a corresponding transmitting circuit <b>83</b> of another one of the transmitting and receiving devices <b>80</b><i>a </i>and <b>80</b><i>b</i>. The clock distribution circuit <b>85</b> distributes the clocks generated by the clock circuit <b>82</b> to each transmitting circuit <b>83</b> and each receiving circuit <b>84</b>. The core interface <b>86</b> inputs and outputs the transmitted signal and the received signal to a core device. The single transmitting circuit <b>83</b> and the single receiving circuit <b>84</b> are a set, and transmit and receive simultaneously the signals between the transmitting and receiving devices <b>80</b><i>a </i>and <b>80</b><i>b</i>. The receiving circuit using the interpolation circuit of the first and the second embodiments can be used as the receiving circuit of such a transmitting and receiving device.</p>
<p id="p-0082" num="0081">All examples and conditional language recited herein are intended for pedagogical purposes to aid the reader in understanding the invention and the concepts contributed by the inventor to furthering the art, and are to be construed as being without limitation to such specifically recited examples and conditions, nor does the organization of such examples in the specification relate to a showing of the superiority and inferiority of the invention. Although the embodiment of the present invention has been described in detail, it should be understood that the various change, substitutions, and alterations could be made hereto without departing from the spirit and scope of the invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An interpolation circuit comprising:
<claim-text>a generation circuit that generates interpolation data from a plurality of pieces of input data, using an interpolation coefficient, among input data inputted in time series including a data point and a transition point;</claim-text>
<claim-text>a detection circuit that detects that the input data lacks at the data point; and</claim-text>
<claim-text>a coefficient circuit that changes the interpolation coefficient for each given data interval, and skips a position for changing the interpolation coefficient to the transition point when the detection circuit detects the lack of the input data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The interpolation circuit as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the detection circuit detects that the interpolation data are doubly generated from the input data at the data point, and</claim-text>
<claim-text>the coefficient circuit skips the position for changing the interpolation coefficient to the transition point when the detection circuit detects that the interpolation data are doubly generated from the input data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The interpolation circuit as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the generation circuit includes a plurality of unit circuits that generates the plurality of pieces of interpolation data continuous in time series, respectively.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The interpolation circuit as claimed in <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein
<claim-text>when the generation circuit makes the input data lack, the generation circuit does not use output of one of the unit circuits as the interpolation data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The interpolation circuit as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the detection circuit detects the lack of the input data based on a phase of the interpolation coefficient.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The interpolation circuit as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the generation circuit includes a capacitor circuit that generates the interpolation data,</claim-text>
<claim-text>the capacitor circuit includes a first variable capacitor and a second variable capacitor that are capable of changing capacitance values according to the interpolation coefficient, and</claim-text>
<claim-text>the interpolation data is formed by applying currents corresponding to the plurality of pieces of input data to the first and the second variable capacitors in timing when the first variable capacitor is earlier than the second variable capacitor, and synthesizing electric charges of the first and the second variable capacitors.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The interpolation circuit as claimed in <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein
<claim-text>the generation circuit includes a plurality of capacitor circuits corresponding to the plurality of pieces of input data within the given data interval, and</claim-text>
<claim-text>a current is applied at the same time to the second variable capacitor of one capacitor circuit among two capacitor circuits corresponding to adjacent data inputted in time series, and the first variable capacitor of another capacitor circuit among the two capacitor circuits, the one capacitor circuit corresponding to early data in the adjacent data inputted in time series.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A receiving circuit comprising:
<claim-text>an interpolation circuit including:
<claim-text>a generation circuit that generates interpolation data from a plurality of pieces of input data, using an interpolation coefficient, among input data inputted in time series including a data point and a transition point;</claim-text>
<claim-text>a detection circuit that detects that the input data lacks at the data point; and</claim-text>
<claim-text>a coefficient circuit that changes the interpolation coefficient for each given data interval, and skips a position for changing the interpolation coefficient to the transition point when the detection circuit detects the lack of the input data; and</claim-text>
</claim-text>
<claim-text>a calculation circuit that calculates the interpolation coefficient using interpolation data on the transition point. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
