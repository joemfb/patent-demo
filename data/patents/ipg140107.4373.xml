<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625445-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625445</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12988781</doc-number>
<date>20090327</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2008-113901</doc-number>
<date>20080424</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>227</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20090101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>W</subclass>
<main-group>84</main-group>
<subgroup>18</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370252</main-classification>
<further-classification>370338</further-classification>
</classification-national>
<invention-title id="d2e71">Communication apparatus and control method therefor</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7095732</doc-number>
<kind>B1</kind>
<name>Watson, Jr.</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370346</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2005/0111419</doc-number>
<kind>A1</kind>
<name>Kwon et al.</name>
<date>20050500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370338</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2006/0268744</doc-number>
<kind>A1</kind>
<name>Sakai et al.</name>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2008/0089300</doc-number>
<kind>A1</kind>
<name>Yee</name>
<date>20080400</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2008/0123558</doc-number>
<kind>A1</kind>
<name>Chhabra</name>
<date>20080500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370254</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2009/0232082</doc-number>
<kind>A1</kind>
<name>Bidichandani et al.</name>
<date>20090900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370329</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>JP</country>
<doc-number>2006-310996</doc-number>
<kind>A</kind>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00008">
<othercit>Wi-Fi Certified(TM) for Wi-Fi Protected Setup: &#x201c;Easing the User Experience for Home and Small Office Wi-Fi(R) Networks&#x201d;, http://www.wi-fi.org/wp/wifi-protected-setup.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00009">
<othercit>U.S. Appl. No. 13/124,203, filed Apr. 14, 2011, Fumihide Goto.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00010">
<othercit>U.S. Appl. No. 13/122,619, filed Apr. 5, 2011, Fumihide Goto.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00011">
<othercit>U.S. Appl. No. 13/122,558, filed Apr. 4, 2011, Tatsuhiko Sakai.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00012">
<othercit>U.S. Appl. No. 13/120,535, filed Mar. 23, 2011, Fumihide Goto.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00013">
<othercit>U.S. Appl. No. 13/061,124, filed Feb. 25, 2011, Tatsuhiko Sakai.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00014">
<othercit>U.S. Appl. No. 12/996,484, filed Dec. 6, 2010, Fumihide Goto.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00015">
<othercit>U.S. Appl. No. 12/989,070, filed Oct. 21, 2010, Tatsuhiko Sakai.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00016">
<othercit>U.S. Appl. No. 13/140,814, filed Jun. 17, 2011, Tatsuhiko Sakai.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00017">
<othercit>U.S. Appl. No. 12/748,771, filed Mar. 29, 2010, Masahiro Nagatani.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<nplcit num="00018">
<othercit>Japanese Office Action issued on Oct. 9, 2012 in corresponding application No. 2008-113901.</othercit>
</nplcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>12</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>7</number-of-drawing-sheets>
<number-of-figures>7</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110032918</doc-number>
<kind>A1</kind>
<date>20110210</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Sakai</last-name>
<first-name>Tatsuhiko</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Sakai</last-name>
<first-name>Tatsuhiko</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Carter, DeLuca, Farrell &#x26; Schmidt LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Canon Kabushiki Kaisha</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Jung</last-name>
<first-name>Min</first-name>
<department>2472</department>
</primary-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/JP2009/001411</doc-number>
<kind>00</kind>
<date>20090327</date>
</document-id>
<us-371c124-date>
<date>20101020</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2009/130850</doc-number>
<kind>A </kind>
<date>20091029</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A communication apparatus decides whether to provide, to a receiving apparatus that receives provided communication parameters, communication parameters that have been set by a communication-parameter setting process performed with another communication apparatus. When it is determined to provide the set communication parameters, a parameter that controls sending of an informing signal is changed in order to increase the number of informing signals sent by the communication apparatus per unit time.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="159.77mm" wi="262.38mm" file="US08625445-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="150.28mm" wi="177.63mm" file="US08625445-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="216.83mm" wi="177.88mm" file="US08625445-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="211.50mm" wi="168.66mm" file="US08625445-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="129.12mm" wi="143.68mm" file="US08625445-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="259.67mm" wi="183.22mm" file="US08625445-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="172.97mm" wi="164.42mm" file="US08625445-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="261.96mm" wi="166.37mm" orientation="landscape" file="US08625445-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0002" num="0001">The present invention relates to communication apparatuses and control methods therefor.</p>
<heading id="h-0002" level="1">BACKGROUND ART</heading>
<p id="p-0003" num="0002">In wireless communication represented by wireless local area networks (LANs) conforming to the Institute of Electrical and Electronics Engineers (IEEE) 802.11 standard series, there are many setting items that must be set prior to use.</p>
<p id="p-0004" num="0003">For example, as setting items, there are communication parameters needed to perform wireless communication, such as the Service Set Identifier (SSID) which is a network identifier, an encryption method, an encryption key, an authentication method, and an authentication key. It is very complicated for the user of a wireless device to manually enter and set these communication parameters.</p>
<p id="p-0005" num="0004">Therefore, various manufacturers have devised automatic setting methods for easily setting communication parameters in wireless devices.</p>
<p id="p-0006" num="0005">In these automatic setting methods, one device (hereinafter called a providing apparatus) provides communication parameters to another device (hereinafter called a receiving apparatus) connected thereto, using a procedure and messages determined in advance between these connected devices, and accordingly the communication parameters are automatically set. Patent Citation 1 discloses an example of automatically setting communication parameters in wireless LAN ad-hoc mode communication (hereinafter called ad-hoc communication).</p>
<p id="p-0007" num="0006">Also, Non Patent Citation 1 discloses an example of automatically setting communication parameters in wireless LAN infrastructure mode communication (hereinafter called infra-communication).</p>
<p id="p-0008" num="0007">In the automatic setting method of Non Patent Citation 1, the role of a providing apparatus that provides communication parameters to another wireless device and the role of a receiving apparatus that receives the communication parameters provided by the providing apparatus and sets the communication parameters in the receiving apparatus are necessary.</p>
<p id="p-0009" num="0008">Therefore, when a wireless device is to receive provided communication parameters by performing automatic setting, the wireless device must find a providing apparatus that provides communication parameters. To search for a providing apparatus, a probe request and a probe response which are search signals for a wireless LAN can be used. In this case, a receiving apparatus sends a probe request as a search message, and detects a providing apparatus by receiving, as a response from the providing apparatus, a probe response including information indicating that the sender of the response is a providing apparatus.</p>
<p id="p-0010" num="0009">In infra-communication, an apparatus that sends a response to a probe request is an access point. Therefore, when an access point operates as a providing apparatus, a receiving apparatus that receives provided communication parameters can easily detect the providing apparatus.</p>
<p id="p-0011" num="0010">In contrast, in ad-hoc communication, it is defined that an apparatus that sends a response to a probe request is an apparatus that sent a beacon immediately before receiving the probe request. Therefore, for example, when another apparatus is participating in a network where a providing apparatus is participating, this other apparatus may respond to a probe request from a receiving apparatus. As a result, it may take a longtime for the receiving apparatus to detect the providing apparatus. Furthermore, the receiving apparatus may not be able to detect the providing apparatus before the time limit of a communication-parameter automatic setting process expires. In this case, no communication-parameter automatic setting may be performed.</p>
<p id="p-0012" num="0011">[Patent Citation 1]</p>
<p id="p-0013" num="0012">US Patent Application No. 2006/0268744 (corresponding to Japanese Patent Laid Open No. 2006-311139)</p>
<p id="p-0014" num="0013">[Non Patent Citation 1]</p>
<p id="p-0015" num="0014">Wi-Fi CERTIFIED&#x2122; for Wi-Fi Protected Setup: Easing the User Experience for Home and Small Office Wi-Fi&#xae; Networks, http://www.wi-fi.org/wp/wifi-protected-setup</p>
<heading id="h-0003" level="1">DISCLOSURE OF INVENTION</heading>
<p id="p-0016" num="0015">The present invention provides techniques for enabling a receiving apparatus that receives provided communication parameters to easily and quickly detect a providing apparatus.</p>
<p id="p-0017" num="0016">The present invention also provides techniques for enabling an apparatus to which power is supplied (lower device) to operate in a stable manner. Further features of the present invention will become apparent from the following description of exemplary embodiments with reference to the attached drawings.</p>
<p id="p-0018" num="0017">The present invention provides a communication apparatus, including: a setting unit configured to perform a setting process of setting a communication parameter with another communication apparatus; a deciding unit configured to decide whether to provide, by the setting unit, the set communication parameter to a receiving apparatus that receives a provided communication parameter; and a change unit configured to change, when it is decided by the deciding unit to provide the set communication parameter, a parameter that controls sending of an informing signal in order to increase the number of informing signals sent by the communication apparatus per unit time.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of an apparatus.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 2</figref> is a software functional block diagram of the interior of a providing apparatus in an embodiment of the present invention.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 3</figref> is a software functional block diagram of the interior of a receiving apparatus in the embodiment of the present invention.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 4</figref> is a network diagram in the embodiment of the present invention.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart illustrating an operation of the providing apparatus to perform a communication-parameter automatic setting process in the embodiment.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 6</figref> is a flowchart illustrating an operation of the receiving apparatus to perform a communication-parameter automatic setting process in the embodiment.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 7</figref> is a sequence diagram illustrating an operation of an apparatus A, an apparatus B, and an apparatus C in the embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DESCRIPTION OF EMBODIMENTS</heading>
<p id="p-0026" num="0025">A communication apparatus according to an embodiment of the present invention will now herein be described in detail with reference to the drawings. Although the following description concerns an example in which a wireless LAN system conforming to the IEEE 802.11 series is employed, the communication configuration is not necessarily limited to a wireless LAN conforming to IEEE 802.11.</p>
<p id="p-0027" num="0026">An exemplary hardware configuration in the embodiment will be described.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram illustrating an exemplary structure of each apparatus, which will be described later. <figref idref="DRAWINGS">FIG. 1</figref> illustrates the entirety of an apparatus <b>101</b>. A control unit <b>102</b> controls the entire apparatus <b>101</b> by executing a control program stored in a storage unit <b>103</b>. The control unit <b>102</b> additionally controls setting of communication parameters with another apparatus. The storage unit <b>103</b> stores the control program executed by the control unit <b>102</b> and various items of information, such as communication parameters. Various operations described later are performed by executing, with the control unit <b>102</b>, the control program stored in the storage unit <b>103</b>. The storage unit <b>103</b> stores communication parameters to be provided to another apparatus, and communication parameters received from another apparatus.</p>
<p id="p-0029" num="0028">A wireless unit <b>104</b> performs wireless communication. A display unit <b>105</b> performs various displays. The display unit <b>105</b> has a function of outputting information in a visually recognizable manner, as in a liquid crystal display (LCD) or a light-emitting diode (LED), or a function of outputting sounds, as in a loudspeaker.</p>
<p id="p-0030" num="0029">A setting button <b>106</b> is used for triggering or starting communication-parameter setting. Upon detection of an operation entered by a user using the setting button <b>106</b>, the control unit <b>102</b> starts a communication-parameter automatic setting process, which will be described later. An antenna control unit <b>107</b> controls an antenna <b>108</b>.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram illustrating an exemplary configuration of software function blocks performed by an apparatus that provides communication parameters (hereinafter called a providing apparatus).</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 2</figref> illustrates the entirety of an apparatus <b>201</b>. The apparatus <b>201</b> includes a communication-parameter providing unit <b>202</b> that performs a communication-parameter providing process.</p>
<p id="p-0033" num="0032">In this embodiment, communication parameters needed to perform wireless communication, such as the SSID which is a network identifier, an encryption method, an encryption key, an authentication method, and an authentication key, are provided to another apparatus.</p>
<p id="p-0034" num="0033">Also in this embodiment, when communication parameters are provided to another apparatus, the providing apparatus stores the provided communication parameters as the latest communication parameters that have been provided to a receiving apparatus (hereinafter called provided parameters) in the storage unit <b>103</b>. In other words, the provided parameters stored in the storage unit <b>103</b> are communication parameters that have been last provided, among communication parameters that have already been provided by the providing apparatus.</p>
<p id="p-0035" num="0034">A packet receiving unit <b>203</b> receives packets related to various communications. A packet sending unit <b>204</b> sends packets related to various communications.</p>
<p id="p-0036" num="0035">A search-signal sending unit <b>205</b> controls sending of a device search signal, such as a probe request. A probe request may be a network search signal for searching a desired network. Sending of a probe request, which will be described later, is performed by the search-signal sending unit <b>205</b>. Also, sending of a probe response, which is a response signal to a received probe request, is performed by the search-signal sending unit <b>205</b>.</p>
<p id="p-0037" num="0036">A search-signal receiving unit <b>206</b> controls receiving of a device search signal, such as a probe request, from another apparatus. Receiving of a probe request, which will be described later, is performed by the search-signal receiving unit <b>206</b>. Also, receiving of a probe response is performed by the search-signal receiving unit <b>206</b>. Various items of information (self-information) of the sending source device are added to a device search signal and a response signal in response thereto.</p>
<p id="p-0038" num="0037">A network control unit <b>207</b> controls configuration of, participation in, and leaving from a network. Configuration of, participation in, and leaving from a wireless LAN network, which will be described later, are performed by the network control unit <b>207</b>. In other words, configuration of a network is establishment or forming of a network. In ad-hoc communication, a network is configured by starting sending a beacon (informing signal).</p>
<p id="p-0039" num="0038">A beacon control unit <b>208</b> controls sending of a beacon. A beacon sending algorithm in an IEEE wireless LAN ad-hoc network will be described.</p>
<p id="p-0040" num="0039">In the ad-hoc network, beacons are sent in an autonomous distributed manner by all apparatuses participating in the network. A beacon sending interval (beacon period) is to be determined by the apparatus that first configured the ad-hoc network. In general, a beacon is sent from any of the apparatuses at an interval of about 100 ms.</p>
<p id="p-0041" num="0040">A beacon sending timing is controlled by a parameter called a contention window (or a random number generation range; hereinafter abbreviated as &#x201c;CW&#x201d;). Each apparatus in the network obtains a random value (CWrand) from 0 to CW at the time of sending a beacon. A waiting time (back-off time) until sending a beacon is obtained by multiplying CWrand by a predetermined interval (slot time). The waiting time until sending a beacon is decremented by the slot time, and, when the waiting time becomes zero, a beacon is sent. If an apparatus receives a beacon from another apparatus before sending a beacon, the apparatus stops sending a beacon. In this way, contention of beacons sent from apparatuses can be avoided. Each apparatus in the ad-hoc network selects a random number from 0 to CW. Among apparatuses participating in the network, an apparatus that has selected the smallest CWrand sends a beacon.</p>
<p id="p-0042" num="0041">For example, when the same CW, serving as an initial value, is set to all apparatuses, the probability of sending a beacon is the same for all apparatuses. As a result, the number of beacons sent per unit time is substantially the same for all apparatuses. In other words, the frequency of sending a beacon (sending rate) is the same for all apparatuses. In contrast, when one apparatus in the network sets its CW to a value less than the initial value, the probability of sending a beacon becomes higher for this apparatus than for any other apparatus, and accordingly, the number of beacons sent by this apparatus per unit time is increased. That is, CW is a parameter for determining the probability of sending a beacon or a parameter for determining the number of beacons sent per unit time. In other words, CW is a parameter for determining a beacon sending rate of each apparatus. That is, CW is a parameter for determining a beacon sending timing or a parameter for determining a waiting time until sending a beacon.</p>
<p id="p-0043" num="0042">The value of CW is changeable within the range from CWmin (minimum value) to CWmax (maximum value). When CW is set to CWmin, the number of beacons sent per unit time is maximized. It is assumed that CWinit (&#x3e;CWmin) is set as an initial value in each apparatus. The beacon control unit <b>208</b> controls sending of a beacon by changing the value of CW. A beacon generating unit <b>209</b> generates a beacon. A beacon generated by the beacon generating unit <b>209</b> is broadcast using the packet sending unit <b>204</b>. Various items of information (self-information) of the sending source device are added to the beacon.</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram illustrating an exemplary configuration of software function blocks performed by an apparatus that receives communication parameters (hereinafter called a receiving apparatus).</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 3</figref> illustrates the entirety of an apparatus <b>301</b>. The apparatus <b>301</b> includes a communication-parameter receiving unit <b>302</b> that performs a communication-parameter receiving process. In this embodiment, communication parameters needed to perform wireless communication, such as the SSID which is a network identifier, an encryption method, an encryption key, an authentication method, and an authentication key, are received from a providing apparatus.</p>
<p id="p-0046" num="0045">A packet receiving unit <b>303</b> receives packets related to various communications. A packet sending unit <b>304</b> sends packets related to various communications.</p>
<p id="p-0047" num="0046">A search-signal sending unit <b>305</b> controls sending of a device search signal, such as a probe request. A search-signal receiving unit <b>306</b> controls receiving of a device search signal, such as a probe request, from another apparatus.</p>
<p id="p-0048" num="0047">A network control unit <b>307</b> controls participation in and leaving from a network. Participation in and leaving from a network, which will be described later, are performed by the network control unit <b>307</b>.</p>
<p id="p-0049" num="0048">All software function blocks are correlated in terms of software or hardware. The foregoing function blocks are only exemplary. A plurality of function blocks may constitute one function block, or any of the function blocks may be divided into a plurality of blocks that perform a plurality of functions.</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 4</figref> is a diagram illustrating a communication apparatus A<b>401</b> (hereinafter called an apparatus A), a communication apparatus B<b>402</b> (hereinafter called an apparatus B), and a communication apparatus C<b>403</b> (hereinafter called an apparatus C).</p>
<p id="p-0051" num="0050">The apparatus A, the apparatus B, and the apparatus C have an IEEE 802.11 wireless LAN communication function and perform wireless communication by performing ad-hoc communication with one another.</p>
<p id="p-0052" num="0051">The apparatus A is a providing apparatus and has the foregoing configurations illustrated in <figref idref="DRAWINGS">FIGS. 1 and 2</figref>. The apparatus B and the apparatus C are receiving apparatuses and have the foregoing configurations illustrated in <figref idref="DRAWINGS">FIGS. 1 and 3</figref>.</p>
<p id="p-0053" num="0052">In this example, the apparatus A and the apparatus B first perform a communication-parameter automatic setting process in which the apparatus B participates in an ad-hoc network configured by the apparatus A. Then, the apparatus C, which wishes to participate in this network, performs a communication-parameter automatic setting process with the apparatus A. The apparatus A provides newly generated communication parameters to the apparatus B, and provides to the apparatus C the same communication parameters as those provided to the apparatus B.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 6</figref> is an operation flowchart illustrating a process performed when the apparatus B and the apparatus C, which are receiving apparatuses, perform a communication-parameter automatic setting process. When the setting button <b>106</b> in each of the receiving apparatuses is operated by a user, the process illustrated in <figref idref="DRAWINGS">FIG. 6</figref> is started. When the setting button <b>106</b> is operated, a timer for determining whether a time limit of a communication-parameter automatic setting process has reached is activated.</p>
<p id="p-0055" num="0054">After the process is started, the search-signal sending unit <b>305</b> in the receiving apparatus sends a probe request (S<b>601</b>).</p>
<p id="p-0056" num="0055">Thereafter, the search-signal receiving unit <b>306</b> waits for a certain time for a probe response or a beacon, which includes additional information indicating communication-parameter automatic setting, to be sent from a providing apparatus (S<b>602</b>). A probe response or a beacon including additional information indicating communication-parameter automatic setting are signals sent from a providing apparatus during an automatic setting process. When an automatic setting process is not being performed, the providing apparatus sends a probe response or a beacon including no additional information indicating communication-parameter automatic setting.</p>
<p id="p-0057" num="0056">When no signal including additional information is received within the certain time and when the time limit of the automatic setting process has not expired (NO in step S<b>603</b>), the flow returns to step S<b>601</b>, and sending of a probe request is repeated.</p>
<p id="p-0058" num="0057">When no probe response or beacon including additional information is received before the time limit of the automatic setting process expires (YES in step S<b>603</b>), the process is terminated.</p>
<p id="p-0059" num="0058">When a probe response or a beacon including additional information is received, the communication-parameter receiving unit <b>302</b> specifies, from the received signal, the identifier of a network configured by the providing apparatus. After the identifier has been specified, the network control unit <b>307</b> participates in the network, and the communication-parameter receiving unit <b>302</b> requests the providing apparatus to provide communication parameters. The receiving apparatus receives communication parameters from the providing apparatus and stores the communication parameters in the storage unit <b>103</b> (S<b>604</b>).</p>
<p id="p-0060" num="0059">In step S<b>602</b>, the receiving apparatus waits for a probe response or a beacon including additional information indicating communication-parameter automatic setting to be sent from the providing apparatus. However, the receiving apparatus may wait for only one of a probe response and a beacon. When the receiving apparatus waits for a beacon, sending of a probe request in step S<b>601</b> may be omitted.</p>
<p id="p-0061" num="0060">In the IEEE 802.11 wireless LAN ad-hoc network, it is defined that an apparatus that sends a probe response is an apparatus that sent a beacon immediately before receiving a probe request. Therefore, in steps S<b>601</b>, if a providing apparatus sent no beacon immediately before receiving a probe request sent from the receiving apparatus, the providing apparatus sends no probe response including additional information indicating communication-parameter automatic setting. Therefore, when a plurality of apparatuses are participating in the network, even if there exists a providing apparatus that has started a communication-parameter automatic setting process, the receiving apparatus may not be able to receive a probe response from the providing apparatus before the time limit expires. As has been described above, each apparatus participating in the IEEE 802.11 wireless LAN ad-hoc network randomly sends a beacon. Therefore, when a plurality of apparatuses are participating in the network, even if there exists a providing apparatus that has started a communication-parameter automatic setting process, the receiving apparatus may not be able to receive a beacon from the providing apparatus before the time limit expires. When the receiving apparatus can receive a probe response or a beacon from the providing apparatus, it may take time for the receiving apparatus to receive such a signal. Accordingly, it may take a long time to complete reception of communication parameters. In <figref idref="DRAWINGS">FIG. 5</figref> described later, a process performed by the providing apparatus to solve this problem is illustrated.</p>
<p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. 5</figref> is an operation flowchart illustrating a process performed when the apparatus A, which is a providing apparatus, performs a communication-parameter automatic setting process. When the setting button <b>106</b> is operated in the providing apparatus, the process illustrated in <figref idref="DRAWINGS">FIG. 5</figref> is started. When the setting button <b>106</b> is operated, a timer for determining whether a time limit of a communication-parameter automatic setting process has reached is activated.</p>
<p id="p-0063" num="0062">Firstly, the providing apparatus refers to the storage unit <b>103</b> and determines whether communication parameters to be provided to the receiving apparatus are provided parameters (S<b>501</b>). When communication parameters to be provided to the receiving apparatus are provided parameters, the flow proceeds to step S<b>502</b>.</p>
<p id="p-0064" num="0063">In this embodiment, when provided parameters are stored in the storage unit <b>103</b>, the provided parameters are provided to the receiving apparatus. In contrast, when no provided parameters are stored in the storage unit <b>103</b>, newly generated communication parameters are provided to the receiving apparatus. In this case, it is determined in step S<b>501</b> whether communication parameters to which information indicating that these communication parameters are provided parameters is added (hereinafter called provided information) are stored in the storage unit <b>103</b>. A process of adding provided information to communication parameters is performed in step S<b>510</b>, which will be described later.</p>
<p id="p-0065" num="0064">When communication parameters to be provided to the receiving apparatus are provided parameters, the beacon control unit <b>208</b> sets CW to a value that is less than the initial value (S<b>502</b>). In this case, CW may be set to a value that is one step less than the initial value, or CW may be set to CWmin, which is the minimum value.</p>
<p id="p-0066" num="0065">When communication parameters to be provided to the receiving apparatus are not provided parameters, the beacon control unit <b>208</b> does not change CW from the initial value, and the flow proceeds to step S<b>503</b>.</p>
<p id="p-0067" num="0066">Thereafter, the network control unit <b>207</b> configures a network using communication parameters to be provided to the receiving apparatus (S<b>503</b>). As has been described above, a network is configured by starting sending a beacon. When a network has already been configured, the processing in step S<b>503</b> is omitted. In this embodiment, when the apparatus A is to provide communication parameters to the apparatus B, the apparatus A configures a network using newly generated communication parameters. When the apparatus A is to provide the communication parameters to the apparatus C, since the network has already been configured, the processing in step S<b>503</b> is omitted.</p>
<p id="p-0068" num="0067">Next, the beacon generating unit <b>209</b> generates a beacon including additional information indicating communication-parameter automatic setting, and starts broadcasting the beacon using the packet sending unit <b>204</b> (S<b>504</b>). In the above-described case, a network is configured in step S<b>503</b>, and then sending of a beacon including additional information indicating communication-parameter automatic setting is started in step S<b>504</b>. However, these two steps may be combined as one process. That is, a network may be configured by starting sending a beacon including additional information indicating communication-parameter automatic setting.</p>
<p id="p-0069" num="0068">Thereafter, the providing apparatus waits for a radio signal to be sent from a surrounding apparatus (S<b>505</b>). When the time limit of the communication-parameter automatic setting process has expired before the providing apparatus receives a desired signal (YES in S<b>506</b>), the process is terminated. When the time limit of the automatic setting process has not expired (NO in S<b>506</b>), the flow returns to step S<b>505</b>, and the providing apparatus continues waiting for a radio signal.</p>
<p id="p-0070" num="0069">When the providing apparatus receives a radio signal, the search-signal receiving unit <b>206</b> determines whether the received signal is a probe request (S<b>507</b>).</p>
<p id="p-0071" num="0070">When it is determined in step S<b>507</b> that the received signal is a probe request, the search-signal sending unit <b>205</b> determines whether the packet sending unit <b>204</b> sent a beacon immediately before receiving the probe request (S<b>507</b>-<b>1</b>). When the packet sending unit <b>204</b> sent a beacon immediately before receiving the probe request, the search-signal sending unit <b>205</b> sends a probe response including additional information indicating communication-parameter automatic setting (S<b>512</b>). After sending the probe response, the flow returns to step S<b>505</b>, and the providing apparatus again waits for a radio signal. When it is determined in step S<b>507</b>-<b>1</b> that the providing apparatus sent no beacon immediately before receiving the probe request, the providing apparatus does not send a probe response, and the flow returns to step S<b>505</b>.</p>
<p id="p-0072" num="0071">When it is determined in step S<b>507</b> that the received signal is not a probe request, the communication-parameter providing unit <b>202</b> determines whether the received signal is a communication-parameter providing request (S<b>508</b>).</p>
<p id="p-0073" num="0072">When the received signal is not a communication-parameter providing request, the flow returns to step S<b>505</b>, and the providing apparatus again waits for a radio signal.</p>
<p id="p-0074" num="0073">When the received signal is a communication-parameter providing request, the communication-parameter providing unit <b>202</b> provides communication parameters to a receiving apparatus that has sent the providing request (S<b>509</b>).</p>
<p id="p-0075" num="0074">After providing the communication parameters, the communication-parameter providing unit <b>202</b> adds provided information to the provided communication parameters and stores the communication parameters with the provided information in the storage unit <b>103</b> (S<b>510</b>).</p>
<p id="p-0076" num="0075">The beacon control unit <b>208</b> sets CW to the initial value (S<b>511</b>). Furthermore, the beacon generating unit <b>209</b> deletes additional information indicating communication-parameter automatic setting from a beacon to be sent, and the process is terminated (s<b>512</b>).</p>
<p id="p-0077" num="0076">As above, the providing apparatus determines whether communication parameters to be provided to the receiving apparatus are provided parameters. When communication parameters to be provided to the receiving apparatus are provided parameters, CW is set to a value less than the initial value, and sending of a beacon is started. When communication parameters are newly provided to a receiving apparatus, if the communication parameters have already been provided to another communication apparatus, this other communication apparatus may be participating in a network configured by the providing apparatus. Therefore, the providing apparatus sets CW to a value less than the initial value, thereby making the beacon sending frequency of the providing apparatus higher than that of the other communication apparatus participating in the network. As a result, the probability of the receiving apparatus receiving, from the providing apparatus, a probe response or a beacon including additional information indicating communication-parameter automatic setting becomes higher, and accordingly, the providing apparatus can be quickly detected. By setting CW to a value less than the initial value, the beacon sending frequency of the providing apparatus becomes higher than that of the other communication apparatus. As a result, the power consumption of the providing apparatus becomes larger. After the providing apparatus provides communication parameters, it becomes unnecessary for the providing apparatus to send more beacons than that sent by the other communication apparatus. Therefore, CW is reset to the initial value, thereby suppressing unnecessary power consumption.</p>
<p id="p-0078" num="0077">In contrast, when communication parameters to be provided are not provided parameters, no communication apparatus other than the providing apparatus is participating in a network in which an apparatus can participate using the communication parameters. In this case, the providing apparatus is the only apparatus that sends a beacon in the network. Therefore, the receiving apparatus can substantially reliably receive a probe response or a beacon from the providing apparatus. Thus, the providing apparatus does not change CW, which means that unnecessary processing is omitted, and the processing load becomes smaller.</p>
<p id="p-0079" num="0078"><figref idref="DRAWINGS">FIG. 7</figref> is a sequence diagram illustrating the operation of each apparatus in the embodiment.</p>
<p id="p-0080" num="0079">When the setting button <b>106</b> in each of the apparatus A and the apparatus B is operated by a user, the apparatus A starts the process illustrated in <figref idref="DRAWINGS">FIG. 5</figref>, and the apparatus B starts the process illustrated in <figref idref="DRAWINGS">FIG. 6</figref>. At this point, no provided parameters are stored in the storage unit <b>103</b>. Thus, the apparatus A configures a network using newly generated communication parameters (F<b>701</b>). The apparatus A provides the generated communication parameters to the apparatus B (F<b>702</b>), and the apparatus B participates in the network (F<b>703</b>). The apparatus A stores the communication parameters provided to the apparatus B as provided parameters in the storage unit <b>103</b>.</p>
<p id="p-0081" num="0080">After the communication parameters are provided to the apparatus B, when the setting button <b>106</b> in the apparatus A is operated by the user, the apparatus A starts the process illustrated in <figref idref="DRAWINGS">FIG. 5</figref>. At this point, the provided parameters are stored in the storage unit <b>103</b>. Thus, the apparatus A determines that communication parameters to be provided are the provided parameters (F<b>704</b>). The apparatus A sets CW to a value less than the initial value (F<b>705</b>), and starts sending a beacon including additional information indicating communication-parameter automatic setting. Since CW has been set to a value less than the initial value, the beacon sending frequency of the apparatus A is higher than that of the apparatus B.</p>
<p id="p-0082" num="0081">When the setting button <b>106</b> in the apparatus C is operated by a user, the apparatus C starts the process illustrated in <figref idref="DRAWINGS">FIG. 6</figref>. The apparatus A provides, to the apparatus C, the same communication parameters as those provided to the apparatus B (S<b>706</b>). Upon receipt of the communication parameters, the apparatus C participates in the network using the communication parameters (S<b>707</b>). After the communication parameters are provided, the apparatus A resets CW to the initial value (F<b>708</b>).</p>
<p id="p-0083" num="0082">As above, when communication parameters that have already been provided to the apparatus B are to be newly provided to the apparatus C, it is highly likely that the apparatus B is already participating in a network configured by the apparatus A. In consideration of this, the beacon sending frequency of the apparatus A is made higher than that of the apparatus B by setting CW of the apparatus A to a small value. As a result, the probability of the apparatus C, which is a communication-parameter receiving apparatus, detecting the apparatus A, which is a providing apparatus, in a short period of time becomes higher. As a result, the probability of the receiving apparatus C not detecting the providing apparatus A before the time limit of a communication-parameter setting process expires can be reduced. When the providing apparatus can be detected in a short period of time, the time until completion of receiving communication parameters, and the time until data communication is made possible by participating in the network, can be reduced. Therefore, usability is improved. Furthermore, when the providing apparatus provides communication parameters, CW is reset to the initial value, and accordingly, the beacon sending frequency of the providing apparatus becomes equivalent to that of another apparatus in the network. As a result, unnecessary power consumption can be suppressed.</p>
<p id="p-0084" num="0083">Although the foregoing description concerns, in order to simplify the description, the case where there is only one apparatus (apparatus B) to which the apparatus A has provided communication parameters, the advantages are greater when there are more apparatuses to which the apparatus A has provided the same communication parameters. That is, the greater the number of receiving apparatuses to which the same communication parameters have been provided, the greater the number of apparatuses participating in a network configured by the providing apparatus and sending beacons. As a result, it may take along time for a receiving apparatus that wishes to newly participate in the network to detect the providing apparatus, and the probability of this receiving apparatus not detecting the providing apparatus before the time limit of a communication-parameter automatic setting process expires becomes higher. The number of receiving apparatuses to which the same communication parameters have been provided may be stored, and the value of CW may be changed in accordance with this number. That is, as the number of apparatuses to which the communication parameters have been provided becomes greater, the value of CW may be set to a smaller value. Accordingly, even when the number of apparatuses participating in the same network increases, the beacon sending frequency of the providing apparatus becomes higher. Therefore, the probability of the receiving apparatus detecting the providing apparatus in a short period of time becomes higher.</p>
<p id="p-0085" num="0084">The exemplary embodiment disclosed herein is for illustrative purposes only, and the scope of the present invention is not limited to this embodiment. Various modifications can be made to the embodiment without departing from the gist of the present invention.</p>
<p id="p-0086" num="0085">For example, in the description of the foregoing embodiment, a probe request and a probe response are used as search signals. However, this is not to limit signals to be sent. Any signals may be used as long as they can play similar roles.</p>
<p id="p-0087" num="0086">In the foregoing embodiment, it has been described that, when it is determined in step S<b>501</b> that provided parameters are stored in the storage unit <b>103</b>, the provided parameters are provided to the receiving apparatus. However, the processing need not necessarily be performed in this way. When provided parameters are stored, a screen for allowing the user to select whether to provide the provided parameters may be displayed on the display unit <b>105</b>, and, in accordance with the user's selection, the determination in step S<b>501</b> may be performed.</p>
<p id="p-0088" num="0087">In the foregoing embodiment, it has been described that, if no provided parameters are stored, newly generated communication parameters are provided. However, communication parameters need not necessarily be newly generated. For example, default communication parameters may be prepared and provided.</p>
<p id="p-0089" num="0088">In the foregoing embodiment, it has been described that the same CW, serving as an initial value, is set to all apparatuses. However, different CWs may be set to different apparatuses. When provided parameters are to be provided, CW may be set to the minimum value. In this way, the beacon sending frequency can be made more reliably higher than that of another apparatus.</p>
<p id="p-0090" num="0089">In the foregoing embodiments, examples in which the value of CW is changed in order to make the number of beacons sent by the providing apparatus per unit time greater than that of other apparatuses have been described. However, other parameters may be used as long as the number of beacons sent by the providing apparatus per unit time can be made greater. For example, when the beacon sending interval (beacon period) is changeable, the number of beacons sent per unit time can be increased by reducing the beacon period in the providing apparatus. In this case, the beacon period is reduced when it is determined that provided parameters are to be provided, whereby the probability of the receiving apparatus detecting the providing apparatus in a shorter period of time becomes higher.</p>
<p id="p-0091" num="0090">In the foregoing embodiment, it has been described that CW is reset to the initial value after communication parameters are provided to the receiving apparatus. However, CW may be reset to the initial value when it is determined that the receiving apparatus has detected the providing apparatus. For example, when the providing apparatus receives a communication-parameter providing request from the receiving apparatus, it can be determined that the receiving apparatus has detected the providing apparatus. Alternatively, when the providing apparatus sends a probe response to the received probe request, it can be determined that the receiving apparatus has detected the providing apparatus.</p>
<p id="p-0092" num="0091">In the foregoing description, it has been described that the roles of a providing apparatus and a receiving apparatus are fixed. However, the roles may be changed in accordance with circumstances. For example, after the receiving apparatus receives communication parameters provided by the providing apparatus, the receiving apparatus may serve as a providing apparatus and provide communication parameters to a new apparatus that wishes to participate in the network. In this case, it is determined whether the provided communication parameters are to be provided to the new apparatus wishing to participate in the network. When it is determined to provide the provided communication parameters, CW is set to a value less than the initial value.</p>
<p id="p-0093" num="0092">In other words, in the embodiment, it is determined whether to provide, to a receiving apparatus that receives provided communication parameters, communication parameters that have been set by a communication-parameter setting process performed with another communication apparatus. When it is determined to provide the set communication parameters, a parameter that controls sending of a beacon is changed in order to increase the number of beacons sent per unit time.</p>
<p id="p-0094" num="0093">The description of the foregoing embodiment concerns the case where the wireless LAN conforming to IEEE 802.11 is used by way of example. However, the present invention is applicable to other wireless media such as a wireless universal serial bus (USB), MultiBand Orthogonal frequency-division multiplexing (OFDM) Alliance (MBOA), Bluetooth (registered trademark), ultra-wideband (UWB), and Zigbee. Also, the present invention is applicable to wired communication media such as power line communications (PLC) or a wired LAN.</p>
<p id="p-0095" num="0094">UWB includes a wireless USB, wireless 1394, WiNET, and the like.</p>
<p id="p-0096" num="0095">Although the network identifier, the encryption method, the encryption key, the authentication method, and the authentication key serve as communication parameters in the description of the foregoing embodiment, other information may serve as communication parameters. That is, communication parameters include other information.</p>
<p id="p-0097" num="0096">According to the present invention, a storage medium having recorded thereon a program code of software that realizes the foregoing functions is supplied to a system or apparatus, and a computer (central processing unit (CPU) or microprocessing unit (MPU)) of the system or apparatus reads and executes the program code stored on the storage medium. In this case, the program code itself read from the storage medium realizes the foregoing functions of the embodiment, and the storage medium having the program code recorded thereon constitutes the present invention.</p>
<p id="p-0098" num="0097">As the storage medium for providing the program code, for example, a flexible disk, a hard disk, an optical disc, a magneto-optical disc, a compact disc read-only memory (CD-ROM), a compact disc-recordable (CD-R), a magnetic tape, a non-volatile memory card, a ROM, a digital versatile disc (DVD), or the like can be used.</p>
<p id="p-0099" num="0098">As well as realizing the foregoing functions by executing the program code read by the computer, an operating system (OS) running on the computer may execute part of or the entirety of actual processing on the basis of instructions of the program code to realize the foregoing functions.</p>
<p id="p-0100" num="0099">Furthermore, the program code read from the storage medium may be written into a memory included in a function expansion board placed in the computer or a function expansion unit connected to the computer. On the basis of the instructions of the program code, a CPU included in the function expansion board or the function expansion unit may execute part of or the entirety of actual processing to realize the foregoing functions.</p>
<p id="p-0101" num="0100">While the present invention has been described with reference to exemplary embodiments, it is to be understood that the invention is not limited to the disclosed exemplary embodiments. The scope of the following claims is to be accorded the broadest interpretation so as to encompass all such modifications and equivalent structures and functions.</p>
<p id="p-0102" num="0101">This application claims the benefit of Japanese Patent Application No. 2008-113901, filed Apr. 24, 2008, which is hereby incorporated by reference herein in its entirety.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A communication apparatus comprising a control unit that:
<claim-text>decides whether a communication parameter to be provided to a first receiving apparatus is a communication parameter that has been provided to a second receiving apparatus; and</claim-text>
<claim-text>changes, when it is decided that the communication parameter to be provided to the first receiving apparatus is the communication parameter that has been provided to the second receiving apparatus, a control parameter that controls sending of an informing signal in order to increase the number of informing signals sent by the communication apparatus per unit time.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The communication apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a storage unit that stores the communication parameter, wherein, when the communication parameter is stored in the storage unit, the control unit decides to provide the communication parameter.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The communication apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the communication parameter is the last provided communication parameter among communication parameters that have been provided by the communication apparatus.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The communication apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising network control unit that configures a network using a communication parameter to be provided to the second receiving apparatus when it is decided by the control unit not to provide the communication parameter.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The communication apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control unit resets the control parameter to a value that existed before the change performed by the control unit when the communication parameter has been provided to the second receiving apparatus.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The communication apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control unit:
<claim-text>determines whether the second receiving apparatus has detected the communication apparatus, and</claim-text>
<claim-text>resets the control parameter to a value that existed before the change performed by the control unit when the control unit determines that the second receiving apparatus has detected the communication apparatus.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The communication apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control unit decides whether to provide, to the second receiving apparatus, a communication parameter that has been provided by the communication apparatus to the first receiving apparatus.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The communication apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control unit decides whether to provide, to the second receiving apparatus, a communication parameter that has been received by the communication apparatus from the first receiving apparatus.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The communication apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control parameter to be changed by the control unit is a parameter for determining a timing to send an informing signal.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The communication apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control parameter to be changed by the control unit is a parameter for determining a waiting time until sending an informing signal from the communication apparatus.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A control method for a communication apparatus, the control method comprising:
<claim-text>deciding whether a communication parameter to be provided to a first receiving apparatus is a communication parameter that has been provided to a second receiving apparatus; and</claim-text>
<claim-text>changing, when it is decided that the communication parameter to be provided to the first receiving apparatus is the communication parameter that has been provided to the second receiving apparatus, a control parameter that controls sending of an informing signal in order to increase the number of informing signals sent by the communication apparatus per unit time.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A computer-readable storage medium storing a computer-executable program of instructions for causing a computer to perform a control method for a communication apparatus, the control method comprising:
<claim-text>deciding whether a communication parameter to be provided to a first receiving apparatus is a communication parameter that has been provided to a second receiving apparatus; and</claim-text>
<claim-text>changing, when it is decided that the communication parameter to be provided to the first receiving apparatus is the communication parameter that has been provided to the second receiving apparatus, a control parameter that controls sending of an informing signal in order to increase the number of informing signals sent by the communication apparatus per unit time. </claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
