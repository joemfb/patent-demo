<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08626790-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08626790</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>12766071</doc-number>
<date>20100423</date>
</document-id>
</application-reference>
<us-application-series-code>12</us-application-series-code>
<us-term-of-grant>
<us-term-extension>112</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>17</main-group>
<subgroup>30</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>707776</main-classification>
</classification-national>
<invention-title id="d2e53">System and method for processing and analyzing dimension data</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5519859</doc-number>
<kind>A</kind>
<name>Grace</name>
<date>19960500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5983215</doc-number>
<kind>A</kind>
<name>Ross et al.</name>
<date>19991100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6480836</doc-number>
<kind>B1</kind>
<name>Colby et al.</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707717</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6847973</doc-number>
<kind>B2</kind>
<name>Griffin et al.</name>
<date>20050100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7117215</doc-number>
<kind>B1</kind>
<name>Kanchwalla et al.</name>
<date>20061000</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7461077</doc-number>
<kind>B1</kind>
<name>Greenwood</name>
<date>20081200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>  1  1</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>8260822</doc-number>
<kind>B1</kind>
<name>Braden</name>
<date>20120900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707802</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2004/0103013</doc-number>
<kind>A1</kind>
<name>Jameson</name>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705  7</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2005/0125436</doc-number>
<kind>A1</kind>
<name>Mudunuri et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707102</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2007/0061287</doc-number>
<kind>A1</kind>
<name>Le et al.</name>
<date>20070300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2007/0203892</doc-number>
<kind>A1</kind>
<name>Adams et al.</name>
<date>20070800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2008/0005078</doc-number>
<kind>A1</kind>
<name>Dampier et al.</name>
<date>20080100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2008/0091471</doc-number>
<kind>A1</kind>
<name>Michon et al.</name>
<date>20080400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705  3</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2009/0193050</doc-number>
<kind>A1</kind>
<name>Olson</name>
<date>20090700</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2009/0276449</doc-number>
<kind>A1</kind>
<name>Syed et al.</name>
<date>20091100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>11</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>707601</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707606</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707616</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707636</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707661</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707706</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707714</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707721</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707751</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707759-776</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707779-812</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707999001-99901</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>7079991</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707999101-999107</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>7079992-999206</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>12</number-of-drawing-sheets>
<number-of-figures>13</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20110264618</doc-number>
<kind>A1</kind>
<date>20111027</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Potdar</last-name>
<first-name>Asha Kiran</first-name>
<address>
<city>Rocky Hill</city>
<state>CT</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Raghumandala</last-name>
<first-name>Harikrishna</first-name>
<address>
<city>Avon</city>
<state>CT</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="003" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Vernale</last-name>
<first-name>John</first-name>
<address>
<city>Burlington</city>
<state>CT</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Potdar</last-name>
<first-name>Asha Kiran</first-name>
<address>
<city>Rocky Hill</city>
<state>CT</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Raghumandala</last-name>
<first-name>Harikrishna</first-name>
<address>
<city>Avon</city>
<state>CT</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="003" designation="us-only">
<addressbook>
<last-name>Vernale</last-name>
<first-name>John</first-name>
<address>
<city>Burlington</city>
<state>CT</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Howard IP Law Group, PC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>Hartford Fire Insurance Company</orgname>
<role>02</role>
<address>
<city>Hartford</city>
<state>CT</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Alam</last-name>
<first-name>Hosain</first-name>
<department>2166</department>
</primary-examiner>
<assistant-examiner>
<last-name>Hosseini</last-name>
<first-name>Reza</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A processor is operated to combine a first row of a dimension table in a data warehouse with a second row in the dimension table. The result is a combined row that includes a row identification key for the first row and a row identification key for the second row. The row identification key for the first row joins the combined row to fact data from a prior time period. The second row corresponds to a current time period that is later than the prior time period. The processor is also operated to join at least a portion of the combined row to at least a portion of the corresponding row in a fact table associated with the dimension table. The fact data from the prior time period is included in the corresponding row in the fact table.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="178.82mm" wi="258.74mm" file="US08626790-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="180.51mm" wi="168.91mm" orientation="landscape" file="US08626790-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="261.62mm" wi="187.37mm" orientation="landscape" file="US08626790-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="236.98mm" wi="181.69mm" orientation="landscape" file="US08626790-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="196.17mm" wi="125.31mm" orientation="landscape" file="US08626790-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="205.06mm" wi="126.75mm" orientation="landscape" file="US08626790-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="205.82mm" wi="175.34mm" orientation="landscape" file="US08626790-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="179.15mm" wi="147.83mm" orientation="landscape" file="US08626790-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="262.97mm" wi="183.90mm" orientation="landscape" file="US08626790-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="232.33mm" wi="173.74mm" orientation="landscape" file="US08626790-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="237.07mm" wi="188.72mm" orientation="landscape" file="US08626790-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="105.58mm" wi="119.89mm" file="US08626790-20140107-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="199.56mm" wi="133.52mm" file="US08626790-20140107-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD</heading>
<p id="p-0002" num="0001">The present invention relates to computerized data storage and retrieval systems.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">A &#x201c;data warehouse&#x201d; is a well-known technique for storing large volumes of complex data in a manner that facilitates periodic as well as on-demand reporting. A data warehouse has been defined as a &#x201c;collection of data, from a variety of sources, organized to provide useful guidance to an organization's decision makers&#x201d;. It is also well-known to design data warehouses in accordance with a number of conventional schemas, including a &#x201c;star&#x201d; schema, as illustrated in <figref idref="DRAWINGS">FIG. 1</figref>. In the schema shown in <figref idref="DRAWINGS">FIG. 1</figref>, a fact table <b>102</b> references several dimension tables <b>104</b>, <b>106</b>, <b>108</b>, <b>110</b>. According to a simple illustrative example, the fact table <b>102</b> may store data relating to sales transactions in a retail store chain. The first dimension table <b>104</b> may correspond to a &#x201c;date&#x201d; dimension that stores date-related attributes (e.g., year, month, day_of_month, day_of_week, etc.) for the sales transactions. The second dimension table <b>106</b> may correspond to a &#x201c;store&#x201d; dimension including attributes that identify individual stores in the chain. (Such attributes may include store_number, city, state, country, region, etc.) The third dimension table <b>108</b> may correspond to an &#x201c;employee&#x201d; dimension, having attributes such as employee_name, employee_id, supervisor, department, etc. The fourth dimension table <b>110</b> may correspond to a &#x201c;product&#x201d; dimension, with attributes such as product_name, product_id, brand, product_category, etc.</p>
<p id="p-0004" num="0003">The fact table <b>102</b> may store basic facts for each transaction, such as number of units sold and price per unit. Each entry in the fact table also contains the primary keys of entries in the dimension tables to tie the entry in the fact table to the corresponding dimension attribute values in the entries in the dimension tables.</p>
<p id="p-0005" num="0004">The star schema illustrated in <figref idref="DRAWINGS">FIG. 1</figref>, and similar schemas, are examples of dimensional data modeling. One issue to be faced in dimensional data modeling is how to deal with so-called &#x201c;slowly changing dimensions&#x201d;. In the example described above relative to <figref idref="DRAWINGS">FIG. 1</figref>, the value of the &#x201c;employee_name&#x201d; attribute for a given employee may change on occasion if, for example, an employee's marital status changes. There are a number of conventional approaches for handling slowly changing dimensions (SCDs). According to &#x201c;Type I&#x201d; changes, the new data is simply written over the previous data entry in the dimension table. This has the disadvantage of wiping out all history.</p>
<p id="p-0006" num="0005">According to &#x201c;Type II&#x201d; changes, a new row with a new primary key is inserted in the dimension table to reflect the change, with starting and ending effective dates included in the new row and the prior row.</p>
<p id="p-0007" num="0006">&#x201c;Type III&#x201d; changes have conventionally been used to facilitate analysis based on either the new or prior attribute value. In this technique, an additional attribute (i.e., a new column) is added to the dimension table. In the example, described above, the new column in the employee dimension table <b>108</b> may be headed &#x201c;original_employee_name&#x201d;, and the &#x201c;employee_name&#x201d; attribute/column may be re-designated as &#x201c;current_employee_name&#x201d;. One disadvantage of Type III handling of SCDs is that the addition of new columns to the dimension table may require costly redesign of the schema itself. Further, providing additional columns to accommodate dimension value changes may significantly increase the size and cost of the data warehouse, particularly in actual typical implementations that include dozens or even hundreds of different attributes among a number of different dimension tables.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0008" num="0007">An apparatus, method, computer system and computer-readable data storage medium are disclosed which include operating a processor to combine a first row of a dimension table with a second row of the dimension table to produce a combined row in a history restatement view. The combined row includes a row identification key for the first row and a row identification key for the second row. The row identification key for the first row joins the combined row to fact data from a prior time period. The second row corresponds to a current time period that is later than the prior time period. The apparatus, method, computer system and computer-readable data storage medium also include operating the processor to join at least a portion of the combined row to at least a portion of a corresponding row in a fact table associated with the dimension table. The fact data from the prior time period is included in the corresponding row in the fact table.</p>
<p id="p-0009" num="0008">In this manner, history stored in a dimension table can be &#x201c;re-stated&#x201d; cost-effectively while associating the current value of a dimension attribute with fact data from a previous time period.</p>
<p id="p-0010" num="0009">With these and other advantages and features of the invention that will become hereinafter apparent, the invention may be more clearly understood by reference to the following detailed description of the invention, the appended claims, and the drawings attached hereto.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a conventional schema for a data warehouse.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 2</figref> schematically illustrates a business environment in which the present invention may be applied.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram that illustrates a computer system in which the present invention is applied.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 4</figref> is block diagram that illustrates a computer used by a database analyst in the system of <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram that illustrates a computer used by an end user of the system of <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 6</figref> shows a schema for a data warehouse that incorporates aspects of the present invention.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 7</figref> is a simplified illustration in tabular form of a fact table that is part of the schema of <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 8</figref> is a simplified tabular illustration of one of the dimension tables of the schema of <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 9</figref> is a simplified tabular illustration of a non-persistent history restatement view produced from the table of <figref idref="DRAWINGS">FIG. 8</figref> in accordance with aspects of the present invention.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 10</figref> is a simplified query view/report produced in accordance with aspects of the present invention from the fact table of <figref idref="DRAWINGS">FIG. 7</figref> and the history restatement view of <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 11</figref> is a screen display provided to a user of the system of <figref idref="DRAWINGS">FIG. 3</figref> in accordance with aspects of the present invention.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIGS. 12 and 13</figref> are flow charts that represent processes performed in the system of <figref idref="DRAWINGS">FIG. 3</figref> in accordance with aspects of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0023" num="0022">In general, and for the purposes of introducing concepts of embodiments of the present invention, a department of an insurance company, such as a marketing department, uses dimensional data modeling with one or more fact tables and dimension tables associated with the fact table. For slowly changing dimension attributes&#x2014;such as the name of an insurance agency&#x2014;a dimension table is updated with a new row to represent a change in an attribute value, and column entries in the new row and a prior row indicate effective dates of the rows. A query view or report that includes historical data has the updated attribute value associated with the historical data. To produce the query view with &#x201c;restated&#x201d; history, the dimension table is joined to itself to produce a non-persistent history restatement view and then the non-persistent history restatement view is joined to the fact table.</p>
<p id="p-0024" num="0023">The technique of the present invention elegantly handles changes in dimension attribute values in a cost-effective manner by suitable construction of database queries and without requiring redesign of the data warehouse schema or proliferation of dimension table columns to accommodate changes in dimension attribute values.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 2</figref> schematically illustrates a business environment in which the present invention may be applied.</p>
<p id="p-0026" num="0025">In <figref idref="DRAWINGS">FIG. 2</figref>, block <b>202</b> represents an insurance company. At least some marketing activities of the insurance company <b>202</b> are performed by insurance agencies <b>204</b> supervised by the sales department (not separately indicated) of the insurance company <b>202</b>. The insurance agencies <b>204</b> write insurance policies <b>208</b> (issued by the insurance company <b>202</b>) for insureds <b>210</b>. (Although the insureds <b>210</b> are depicted as individuals, they may alternatively or in addition be large or small corporations or other organizations.) As indicated by arrows <b>212</b> in <figref idref="DRAWINGS">FIG. 2</figref>, in some instances the insurance company <b>202</b> may issue policies <b>208</b> directly to insureds <b>210</b> without involvement by insurance agencies. In an example embodiment of the invention as described below, the insurance company <b>202</b> operates and maintains a data warehouse (not separately shown in <figref idref="DRAWINGS">FIG. 2</figref>) regarding at least a portion of the activities of its network of agents.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram that illustrates a computer system <b>300</b> in which the present invention is applied. The computer system <b>300</b> may be operated by the insurance company <b>202</b>.</p>
<p id="p-0028" num="0027">The computer system <b>300</b> may include a conventional data communication network <b>302</b>. Further the computer system <b>300</b> may include a server computer <b>304</b> that is operated by or on behalf of the sales department of the insurance company <b>202</b>. The sales department server computer <b>304</b> is coupled to the data communication network <b>302</b>, and may generate and/or receive information relating to activities of the agent network for the insurance company.</p>
<p id="p-0029" num="0028">The computer system <b>300</b> may also include a data warehouse <b>306</b>. The data warehouse <b>306</b> is also coupled to the data communication network <b>302</b> and may receive data for storage from a number of sources, including the sales department server computer <b>304</b>. (Sources of data other than the sales department server computer <b>304</b> are not shown.) As is conventional, the data warehouse <b>306</b> includes one or more data storage hardware units (e.g., a bank of hard disk drives), which are not separately shown. As will be discussed in more detail below, the data warehouse <b>306</b> may store data in accordance with a dimensional data model, and the data in the data warehouse <b>306</b> may be manipulated in accordance with principles of the present invention as described below. Operation of the data warehouse <b>306</b> may be managed with conventional database management software.</p>
<p id="p-0030" num="0029">Further, the computer system <b>300</b> may include one or more personal computers <b>308</b> (of which only one is depicted in the drawing) that are operated by employees of the insurance company who serve as database analysts. The database analyst computer <b>308</b> is coupled to the data communication network <b>302</b> and may serve as a user terminal for the computer system <b>300</b> and/or for the data warehouse <b>306</b>. The database analysts (not shown) may respond to requests for reports from system users by generating database queries that are applied to the data warehouse <b>306</b> to retrieve data needed by the system users.</p>
<p id="p-0031" num="0030">Still further, the computer system <b>300</b> may include a number (potentially a large number) of personal computers and/or notebook computers or the like that are operated by employees of the insurance company <b>202</b>. The user computers <b>310</b> (of which only one is depicted in <figref idref="DRAWINGS">FIG. 3</figref>) are coupled to the data communication network <b>302</b> and may, among other functions, be used by the users to view reports (e.g., as indicated by reference numeral <b>312</b>) generated from the data stored in the data warehouse <b>306</b>. The user computer <b>310</b> may function as a user terminal for the computer system <b>300</b> and/or for the data warehouse <b>306</b>.</p>
<p id="p-0032" num="0031">In some embodiments, all of the hardware aspects of the computer system <b>300</b> are conventional, but data may be stored in the data warehouse <b>306</b>, and user input may be provided, such that the computer system <b>300</b> is operated in accordance with principles of the present invention, as discussed below. The computer system <b>300</b> may also include other components that are not depicted in the drawing, and may perform functions in addition to those explicitly described herein.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram representation of the database analyst computer <b>308</b> shown in <figref idref="DRAWINGS">FIG. 3</figref>. The database analyst computer <b>308</b> may be conventional in terms of its hardware aspects.</p>
<p id="p-0034" num="0033">As depicted in <figref idref="DRAWINGS">FIG. 4</figref>, the database analyst computer <b>308</b> includes a data bus <b>401</b>. The database analyst computer <b>308</b> also includes a computer processor (CPU) <b>400</b> which is operatively coupled to the data bus <b>401</b> and which may be constituted by one or more conventional processors. The database analyst computer <b>308</b> further includes a network interface unit <b>402</b>, system memory <b>403</b>, one or more storage devices <b>404</b>, and an input/output controller <b>406</b>, all of which are also operatively coupled to the data bus <b>401</b>.</p>
<p id="p-0035" num="0034">The network interface unit <b>402</b> may function to facilitate communication with, for example, other devices (such as the data warehouse <b>306</b> and/or user computer(s) <b>310</b> shown in <figref idref="DRAWINGS">FIG. 3</figref>). The input/output controller <b>406</b> may couple the database analyst computer <b>308</b> to input and output devices (not shown) such as a keyboard, a keypad, a mouse or other pointing device, a microphone, knob or a switch, an infra-red (IR) port, a docking station, a touch screen, a display (e.g., a display screen), a speaker, and/or a printer.</p>
<p id="p-0036" num="0035">The system memory <b>403</b> may be constituted by, for example, a suitable combination of Random Access Memory (RAM) devices <b>408</b> and Read Only Memory (ROM) devices <b>410</b>.</p>
<p id="p-0037" num="0036">Storage devices <b>404</b> may comprise any appropriate information storage device, including combinations of magnetic storage devices (e.g., magnetic tape and hard disk drives), optical storage devices, and/or semiconductor memory devices. At least some of these devices (and/or all or part of the system memory <b>403</b>) may be considered computer-readable storage media, or may include such media.</p>
<p id="p-0038" num="0037">Storage devices <b>404</b> store one or more programs (at least some of which being indicated by blocks <b>412</b>, <b>414</b>) for controlling CPU <b>200</b>. CPU <b>200</b> performs instructions of the programs, and thereby operates in accordance with aspects of the present invention. In some embodiments, the programs may include one or more conventional operating systems, indicated by block <b>412</b> in <figref idref="DRAWINGS">FIG. 4</figref>. The programs may further include application programs (block <b>414</b>) such as a conventional data communication program and a conventional database management program. For example, the application programs <b>414</b> may provide a conventional user interface by which the user/database analyst may generate SQL queries for application to the data warehouse <b>306</b> from the database analyst computer <b>308</b>.</p>
<p id="p-0039" num="0038">There may also be stored in the storage devices <b>404</b> other software, such as device drivers, etc.</p>
<p id="p-0040" num="0039">Still further, the storage devices <b>404</b> may store one or more databases (block <b>416</b>) for storing and managing the data relating to user requests handled by the database analyst.</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram that illustrates a typical user computer <b>310</b> as shown in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0042" num="0041">The user computer <b>310</b>, like the database analyst computer <b>308</b>, may be conventional in its hardware aspects, and may have the same hardware architecture as described above in connection with <figref idref="DRAWINGS">FIG. 4</figref>. Accordingly, the hardware aspects of the user computer <b>310</b> will not be described in detail, but will instead be briefly noted. That is, the user computer <b>310</b> may include a data bus <b>501</b>, to which a CPU <b>500</b>, a network interface unit <b>502</b>, a system memory <b>503</b>, one or more storage devices <b>504</b> and an input/output controller <b>506</b> are connected. The input/output controller <b>506</b> may couple the user computer <b>310</b> to one or more of the same types of input and/or output devices as were listed above in connection with the database analyst computer <b>308</b>. As before, the system memory <b>503</b> may be constituted by RAM <b>508</b> and/or ROM <b>510</b>, and the storage devices <b>504</b> (e.g., magnetic, optical and/or semiconductor memory devices) may store an OS <b>512</b>, application programs <b>514</b> and one or more databases <b>516</b>. The application programs <b>514</b> may, for example, include a conventional electronic mail program and a conventional browser.</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 6</figref> shows a &#x201c;star&#x201d; schema <b>602</b> used as a dimensional data model for the data warehouse <b>306</b> in a simplified example embodiment of the present invention. In the schema <b>602</b>, an agency dimension table <b>604</b>, a master agent dimension table <b>606</b>, a policy holder dimension table <b>608</b> and a policy dimension table <b>610</b> are associated with a fact table <b>612</b> which stores data relating to writing of insurance policies issued or to be issued by the insurance company <b>202</b>. Details concerning the constituent tables of the schema <b>602</b> will be provided below.</p>
<p id="p-0044" num="0043">Also, in accordance with aspects of the invention, one or more history restatement views <b>614</b>, <b>616</b>, <b>618</b>, <b>620</b> may be generated, as required, by operation of suitable queries on the dimension tables <b>604</b>, <b>606</b>, <b>608</b>, <b>610</b>. Details of the history restatement views, and a description of the techniques for providing them, will be set forth below.</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 7</figref> shows, in tabular form, a simplified example of the fact table <b>612</b>. In a practical embodiment of the fact table <b>612</b>, there may be many more rows and columns than the number shown in <figref idref="DRAWINGS">FIG. 7</figref>. For example, in actual embodiments of the fact table, there may be hundreds of thousands, or millions, of rows, rather than the dozen or so rows shown in the drawing. There also may be, for example, considerably more than the six columns shown.</p>
<p id="p-0046" num="0045">In the fact table <b>612</b>, a first column <b>702</b> contains a primary key identifier (PK_ID) for the row in question. The row PK_ID uniquely identifies the particular row in the fact table, and in this example corresponds to a month-end date over a period from January 2005 through January 2006. As implicitly indicated by the column heading <b>704</b> for column <b>702</b>, the rows contain &#x201c;snapshots&#x201d; of marketing data as of month-end for the respective months.</p>
<p id="p-0047" num="0046">The &#x201c;facts&#x201d; in question relate to the number of unsuccessful new business quotes (column <b>706</b>) and the number of new policies written (column <b>708</b>) for the month in question.</p>
<p id="p-0048" num="0047">Column <b>710</b> contains the global identifier for the particular insurance policy to which the fact in question relates. Thus, the information in column <b>710</b> relates the row in the fact table to entries in the policy dimension table <b>610</b> (<figref idref="DRAWINGS">FIG. 6</figref>). Column <b>712</b> contains the primary key identifiers for relevant rows in the policy dimension table <b>610</b>. Column <b>714</b> contains primary key identifiers for relevant rows in the agency dimension table <b>604</b> (<figref idref="DRAWINGS">FIG. 6</figref>). (It will be appreciated that the fact table may contain other columns, which are not shown, to relate rows in the fact table to entries in the policy holder dimension table <b>608</b> and the master agent dimension table <b>606</b>.)</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 8</figref> is a simplified illustration of the agency dimension table <b>604</b>. As will be understood from the ensuing discussion, the example agency dimension table <b>604</b> shown in <figref idref="DRAWINGS">FIG. 8</figref> illustrates a case of a slowly changing dimension value&#x2014;in this case the name of an agency (column <b>802</b>), changed effective Jan. 25, 2010 from &#x201c;Acme Co.&#x201d; to &#x201c;Zen-Acme Co.&#x201d;</p>
<p id="p-0050" num="0049">Each row in the agency dimension table <b>604</b> is uniquely identified by its primary key identifier (AGCY_PK_ID), contained in column <b>804</b>. The effective dates for each row are indicated by an effective start date value (column <b>806</b>) and an effective end date value (column <b>808</b>). Column <b>810</b> indicates the source of the attribute value information stored in the agency dimension table <b>604</b> (in this example, the source is the sales department server computer <b>304</b>, indicated by the code &#x201c;SLS&#x201d;). Column <b>812</b> contains the global identifier (&#x201c;GID&#x201d;) used to uniquely identify each agency across all tables in the data warehouse <b>306</b>. For purposes of the agency dimension table <b>604</b> each agency is uniquely identified by a combination of two codes&#x2014;namely the agency territory code (column <b>814</b>) and the agency code (column <b>816</b>) that uniquely identifies the agency within the territory. Column <b>818</b> contains the attribute value that indicates the production region in which the agency operates.</p>
<p id="p-0051" num="0050">In the simplified example illustration in <figref idref="DRAWINGS">FIG. 8</figref>, the agency dimension table <b>604</b> is shown as having two rows. Row <b>820</b> corresponds to the original name (Acme Co.) of the agency, and was entered into the agency dimension table <b>604</b> when the agency first became affiliated with the insurance company <b>202</b> (or when the data warehouse <b>306</b> was first created). In column <b>806</b>, row <b>820</b> has a minimum-possible effective start date (which indicates that the name value &#x201c;Acme Co.&#x201d; was the first name by which the agency was known to the insurance company). In column <b>808</b>, row <b>820</b> has an effective end date of Jan. 24, 2010, which is the last date before the agency name was changed.</p>
<p id="p-0052" num="0051">Row <b>822</b> corresponds to the current name (Zen-Acme Co.) of the agency, and was added to the agency dimension table <b>604</b> at the time the agency name change became effective. In column <b>806</b>, row <b>822</b> has an effective start date of Jan. 25, 2010, which is the date the name change became effective. In column <b>808</b>, row <b>822</b> has a maximum-possible effective end date (i.e., in this example, &#x201c;Dec. 31, 9999&#x201d;), which indicates that this row contains the current value of the agency name. Row <b>822</b> was added to the agency dimension table <b>604</b> at the time of the name change for the agency, and at that time the effective end date (column <b>808</b>) for row <b>820</b> was changed to the value shown in <figref idref="DRAWINGS">FIG. 8</figref>, to reflect the name change.</p>
<p id="p-0053" num="0052">Both rows <b>820</b> and <b>822</b> present attribute values, for different time periods, for the same agency, having the agency_gid value &#x201c;12476&#x201d;. The agency may be referred to as an &#x201c;entity&#x201d;, and indeed any data object or item for which one or more dimension table rows are provided may be referred to as an &#x201c;entity&#x201d;. In the example schema illustrated in <figref idref="DRAWINGS">FIG. 6</figref>, other entities may include master agents, policy holders, and insurance policies or agreements.</p>
<p id="p-0054" num="0053">It will be noted that each of the two rows has a different primary key identifier (AGCY_PK_ID)&#x2014;the identifier for row <b>820</b> is &#x201c;101021128473&#x201d;; the identifier for row <b>822</b> is &#x201c;101620000001353&#x201d;. Aside from the effective dates and the changed agency name, the information in the two rows is the same in each column.</p>
<p id="p-0055" num="0054">Also, comparing the effective dates in row <b>820</b> with column <b>702</b> in the fact table (<figref idref="DRAWINGS">FIG. 7</figref>), it will be recognized that, at the times represented by the fact data in the fact table, the agency in question was known as &#x201c;Acme Co.&#x201d;</p>
<p id="p-0056" num="0055">Although only two rows are illustrated in agency dimension table <b>604</b>, in practical embodiments of such a dimension table or other dimension tables there are likely to be many more rows, such as one or more rows for each agency or other type of entity that is the subject of the dimension table.</p>
<p id="p-0057" num="0056">The dimension tables <b>606</b>, <b>608</b>, <b>610</b> may be similar in format to dimension table <b>604</b>, but may store attribute values for the respective dimensions to which they pertain. For instance, the policy holder dimension table <b>608</b> may store values of attributes such as &#x201c;last_name&#x201d;, &#x201c;first_name&#x201d;, &#x201c;middle_initial&#x201d;, &#x201c;street_address&#x201d;, &#x201c;apartment_number&#x201d;, &#x201c;city&#x201d;, &#x201c;state&#x201d;, etc. The master agent dimension table <b>606</b> may store values of attributes such as &#x201c;master_agent_name&#x201d;, &#x201c;territory_code&#x201d;, &#x201c;master_agent_code&#x201d;, etc. The policy dimension table <b>610</b> may store values of attributes such as &#x201c;policy_number&#x201d;, &#x201c;policy_type&#x201d;, &#x201c;renewal_date&#x201d;, etc. Each row in each dimension table may include a primary key identifier that is specific and unique to that particular row. At least in some cases of slowly changing dimensions, attribute value changes may be implemented in the same manner as in the example shown in <figref idref="DRAWINGS">FIG. 8</figref>, with a new row added for the entity in question when the attribute value is changed, and appropriate start and end effective dates for both the new row and prior row or rows.</p>
<p id="p-0058" num="0057">For purposes of this example, it will next be assumed that a user of the computer system <b>300</b> requests, from a database analyst, a report concerning sales activities of the Zen-Acme agency during the period January 2005 to January 2006. For example, the user may make this request by sending an electronic mail message from the user computer <b>310</b> for retrieval by the database analyst computer <b>308</b>. (It will be appreciated that the computer system <b>300</b> may include a conventional electronic mail server computer, which is not shown.)</p>
<p id="p-0059" num="0058">Upon receiving the electronic mail message, the database analyst prepares a database query designed to generate the desired report. Because the agency in question is now known as &#x201c;Zen-Acme Co.&#x201d;, the database analyst recognizes that for purposes of presentation and clear understanding, it is desirable that the report consistently refer to the agency by its current name, even though it had a different name at the time period of the requested information. To achieve this goal, the database analyst generates a database query in accordance with principles of the present invention, as will now be described.</p>
<p id="p-0060" num="0059">With part of the query, the database analyst generates a non-persistent history restatement view <b>614</b>, as illustrated for example in <figref idref="DRAWINGS">FIG. 9</figref>. This is done by effecting a self-join on the agency dimension table <b>604</b> to combine row <b>822</b> with row <b>820</b> such that the current agency name &#x201c;Zen-Acme Co.&#x201d; is associated with the time period during which the previous agency name was in effect. The following is an example of a query that effects such a self-join on the agency dimension table <b>604</b>:</p>
<p id="p-0061" num="0060">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="21pt" align="left"/>
<colspec colname="1" colwidth="196pt" align="left"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>CREATE OR REPLACE VIEW agency_dim_tw_vw AS</entry>
</row>
<row>
<entry/>
<entry>SELECT ag1.agcy_pk_id agcy_pk_id_orig, ag2.*</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="35pt" align="left"/>
<colspec colname="1" colwidth="182pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>FROM edw_dm.agency_dim ag1,</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="49pt" align="left"/>
<colspec colname="1" colwidth="168pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>(SELECT*</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="63pt" align="left"/>
<colspec colname="1" colwidth="154pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>FROM edw_dm.agency_dim</entry>
</row>
<row>
<entry/>
<entry>WHERE TO_CHAR(srce_eff_end_tmsp,</entry>
</row>
<row>
<entry/>
<entry>&#x2018;YYYYMMDD&#x2019;) = &#x2018;99991231&#x2019;) ag2</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="35pt" align="left"/>
<colspec colname="1" colwidth="182pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>WHERE ag1.agcy_gid = ag2.agcy_gid;</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0062" num="0061">The inner portion of this query (lines 4-6) selects only the &#x201c;latest&#x201d; rows (i.e., rows having the maximum effective end date&#x2014;in this case only row <b>822</b> in the agency dimension table <b>604</b>, <figref idref="DRAWINGS">FIG. 8</figref>). The outer portion of this query (lines 1-3 and 7) joins the latest row from the inner portion of the query, as identified by the alias &#x201c;ag2&#x201d;, back to all of the rows in the agency dimension table that have the common &#x201c;GID&#x201d; attribute (agcy_gid). Referring to line 2 of the query, selecting the original agcy_pk_id from the outer portion of the query (aliased as &#x201c;ag1&#x201d;) and giving that PK_ID the alias name &#x201c;agcy_pk_id_orig&#x201d; allows the rows from the resulting history restatement view (<figref idref="DRAWINGS">FIG. 9</figref>) to be joined back to the correct row(s) of the fact table <b>612</b>.</p>
<p id="p-0063" num="0062">Referring now to the history restatement view <b>614</b> shown in <figref idref="DRAWINGS">FIG. 9</figref>, it will be noted that row <b>902</b> corresponds to the combination of row <b>820</b> of the agency dimension table <b>604</b> with row <b>822</b> of the agency dimension table <b>604</b>, such that the current agency name &#x201c;Zen-Acme Co.&#x201d; is inserted in the agency name column <b>904</b>. Row <b>906</b> corresponds to the combination of row <b>822</b> of the agency dimension table <b>604</b> with itself. It will also be noted that the history restatement view includes a column <b>908</b> not present in the agency dimension table <b>604</b>. The new column <b>908</b> corresponds to the new alias name &#x201c;agcy_pk_id_orig&#x201d; and the values in the rows for that column correspond to the values in column <b>804</b> (agcy_pk_) in the agency dimension table <b>604</b>.</p>
<p id="p-0064" num="0063">In some embodiments, as noted above, the history restatement view may be non-persistent. In other embodiments, however, the history restatement view may be materialized, and thus become persistent.</p>
<p id="p-0065" num="0064">The query set forth above may be nested within a query statement to join the history restatement view <b>614</b> with the fact table by joining agcy_pk_id_orig in the history restatement view with agcy_pk_id in the fact table. As a result, in this particular example, row <b>902</b> in <figref idref="DRAWINGS">FIG. 9</figref> is joined with all of the rows of the fact table <b>612</b> (<figref idref="DRAWINGS">FIG. 7</figref>) to produce the query view (report) shown in <figref idref="DRAWINGS">FIG. 10</figref>. It will be noted that column <b>1002</b> in <figref idref="DRAWINGS">FIG. 10</figref> (agency name) reflects the current value of that attribute (&#x201c;Zen-Acme Co.&#x201d;) in association with past facts/metrics from the fact table <b>612</b> (shown in columns <b>1004</b> and <b>1006</b> in <figref idref="DRAWINGS">FIG. 10</figref>).</p>
<p id="p-0066" num="0065">The table shown in <figref idref="DRAWINGS">FIG. 10</figref> represents the report requested by the system user. The database analyst may complete handling of the user's request by sending, from the database analyst computer <b>308</b> to the user computer <b>310</b> (e.g., by electronic mail), a hyperlink to be used for accessing the report. The system user may use the user computer <b>310</b> to view the report, which may be displayed by the user computer <b>310</b>, as shown for example in the screen display illustrated in <figref idref="DRAWINGS">FIG. 11</figref>.</p>
<p id="p-0067" num="0066">In the example described with reference to <figref idref="DRAWINGS">FIGS. 6-11</figref>, only one dimension attribute value is changed, in only one dimension table. However, in other examples, more than one attribute value may be changed, in only one dimension table, or in more than one dimension table. Moreover, in the example set forth above, the attribute value has changed only once. In other examples, however, the attribute value may be changed two or more times. In such cases, a new row may be added to the dimension table in question on each occasion that the attribute value is changed.</p>
<p id="p-0068" num="0067">In some embodiments of history restatement views, two or more different updated attribute values (e.g., for two or more entities) may be associated with prior period primary key identifiers.</p>
<p id="p-0069" num="0068">As suggested by <figref idref="DRAWINGS">FIG. 6</figref>, in the case of some queries, several history restatement views may be created.</p>
<p id="p-0070" num="0069"><figref idref="DRAWINGS">FIGS. 12 and 13</figref> illustrate in flow-chart form processes that may be performed in accordance with aspects of the present invention in the computer system <b>300</b> to implement techniques like those described above in connection with <figref idref="DRAWINGS">FIGS. 6-11</figref>.</p>
<p id="p-0071" num="0070">At <b>1202</b> in <figref idref="DRAWINGS">FIG. 1</figref>, a data warehouse is designed. This data warehouse may resemble the data warehouse <b>306</b> described above. The design of the data warehouse may include design of a dimensional data modeling schema, which may be a &#x201c;star&#x201d; schema, a &#x201c;snowflake&#x201d; schema, or any other schema in which one or more dimension tables are associated with one or more fact tables. The number of dimension tables in the schema may be more or fewer than the four dimension tables shown in <figref idref="DRAWINGS">FIG. 6</figref>. The data warehouse design may be suitable for storing data relating to activities of a network of insurance agents, as in the above-described examples, or for storing data relating to any other aspect of an insurance company or of any other organization. For example, the data warehouse may be designed to store data relating to human resource matters, claims under insurance policies, billing and collection of insurance policy premiums, insurance policy issuance and administration, direct marketing activities, sales in a retail store chain or other retail environment, manufacturing operations, accounts receivable, accounts payable or other types of data commonly stored in data warehouses.</p>
<p id="p-0072" num="0071">At <b>1204</b>, fact data and dimension attribute values may be stored in the data warehouse in accordance with the schema. As is conventional, each row in the fact table may include primary key identifiers that correspond to relevant rows in the dimension tables.</p>
<p id="p-0073" num="0072">At <b>1206</b>, dimension tables are updated on occasions when dimension attribute values change. In at least some cases when a dimension attribute value is changed, a new row is added to the dimension table affected, with the corresponding previous row being end-dated (i.e., the effective end date for the previous row changed) to reflect the effective date of the change in attribute value, and with the new row given an effective end date equal to a nominal maximum value, such as &#x201c;9999/12/31&#x201d;.</p>
<p id="p-0074" num="0073"><figref idref="DRAWINGS">FIG. 13</figref> is concerned with handling a particular user request for data from the data warehouse. At <b>1302</b>, the database analyst receives the user's request. At <b>1304</b>, the database analyst operates the database analyst computer <b>308</b> to generate a suitable database query, including a self-join on at least one dimension table to associate one or more current dimension attribute values with fact data for previous time periods. An example of such a query is described above in connection with the views shown in <figref idref="DRAWINGS">FIGS. 9 and 10</figref>.</p>
<p id="p-0075" num="0074">At <b>1306</b>, the query is applied to the data warehouse to produce the desired query view. At <b>1308</b> the query view is received, and at <b>1310</b>, the query view is transmitted to the user who made the request. At <b>1312</b>, the query view is displayed to the user at the user's computer (e.g., on the display component of the user computer <b>310</b>, as seen in <figref idref="DRAWINGS">FIG. 3</figref>). In addition, or alternatively, the query view may be printed for the user on a printer which is coupled to the user computer <b>310</b>, and which is not shown.</p>
<p id="p-0076" num="0075">Handling slowly changing dimension data in the manner described herein may allow updated dimension attribute values to be displayed in reports in association with prior-period facts, without entailing the substantial costs in IT professional development and maintenance activity, increased data schema size and increased processing time that may be associated with conventional techniques such as &#x201c;Type III&#x201d; handling of slowly changing dimensions.</p>
<p id="p-0077" num="0076">Processes portrayed herein as being performed by one computer may in practice be divided among two or more computers. Processes portrayed herein as being performed by two or more computers may in practice be performed by a single computer. For example, the model generation and prospect selection computer <b>102</b> and the marketing computer <b>108</b> may be integrated together as a single computer.</p>
<p id="p-0078" num="0077">The principles of the present invention may be applied in connection with any and all data storage operations that may be used in connection with insurance companies, in connection with other types of financial products besides insurance, and in data warehouses used in other kinds of organizations in addition to insurance companies or financial services companies.</p>
<p id="p-0079" num="0078">The process descriptions and flow charts contained herein should not be considered to imply a fixed order for performing process steps. Rather, process steps may be performed in any order that is practicable.</p>
<p id="p-0080" num="0079">As used herein and in the appended claims, the term &#x201c;computer&#x201d; refers to a single computer or to two or more computers in communication with each other and/or operated by a single organization or by two or more organizations that are partly or entirely under common ownership and/or control.</p>
<p id="p-0081" num="0080">As used herein and in the appended claims, the term &#x201c;processor&#x201d; refers to one processor or two or more processors that are in communication with each other.</p>
<p id="p-0082" num="0081">As used herein and in the appended claims, the term &#x201c;memory&#x201d; refers to one, two or more memory and/or data storage devices.</p>
<p id="p-0083" num="0082">The present invention has been described in terms of several embodiments solely for the purpose of illustration. Persons skilled in the art will recognize from this description that the invention is not limited to the embodiments described, but may be practiced with modifications and alterations limited only by the spirit and scope of the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method of operating a computer system to generate reports from stored insurance data, the method comprising:
<claim-text>operating a processor to interact with an insurance data warehouse including at least one data storage hardware unit storing insurance data according to a schema in which each of a plurality of dimension tables is associated with a fact table containing information regarding insurance policies, wherein the plurality of dimension tables include an insurance agency dimension table, an insurance master agent dimension table, an insurance policy holder dimension table, and an insurance policy dimension table;</claim-text>
<claim-text>operating the processor to combine a first row of one of said dimension tables with a second row of the one of said dimension tables to produce a combined row in a non-persistent history restatement view, the combined row including a row identification key for the first row and a row identification key for the second row, the row identification key for the first row joining the combined row to fact data from a prior time period, the second row corresponding to a current time period that is later than the prior time period; and</claim-text>
<claim-text>operating the processor to join at least a portion of the combined row to at least a portion of a corresponding row in a fact table associated with the one of said dimension tables, said fact data from said prior time period included in said corresponding row in said fact table, wherein the history restatement view automatically uses a current value of an attribute for a given entity to replace a previous value for the given entity and includes a query view row entry that includes said current value of the attribute of the given entity and a previous fact value for the given entity where the given entity had at least one prior value of the attribute different than said current value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the fact table contains information regarding past insurance policy marketing activities.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the fact table contains information regarding insurance policies.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>presenting the query view to a user at a terminal, the query view including said at least a portion of the combined row in association with said at least a portion of the corresponding row in the fact table;</claim-text>
<claim-text>wherein the query view is a report derived from said data stored in the insurance data warehouse.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A method of operating a computer system, the method comprising:
<claim-text>storing insurance data in an insurance data warehouse according to a schema in which each of a plurality of dimension tables is associated with a fact table containing information regarding insurance policies, at least one of the dimension tables stored in a format having, for a given entity, at least two row entries; the at least two row entries including a current row entry with a maximum effective end date and a prior row entry with an effective end date that is prior to a current point in time, the insurance data warehouse including at least one data storage hardware unit;</claim-text>
<claim-text>generating a query on a terminal for application to the insurance data warehouse, the query for effecting a self-join on a one of said dimension tables that is in said format to combine the current row entry for said given entity with at least one prior row entry for the given entity, the self-join producing a non-persistent history restatement view that automatically uses a current value of an attribute for said given entity to replace a previous value for the given entity, wherein the query comprises nested selections including an inner query portion to select the row having the maximum effective end date and an outer query portion to join the row selected by the inner query portion to all rows in the one of the dimension tables that share a common global identifier attribute, the query further joining the history restatement view to the fact table to produce a query view;</claim-text>
<claim-text>generating the query view from the insurance data warehouse in response to the query;</claim-text>
<claim-text>transmitting the query view from the insurance data warehouse to a user terminal; and</claim-text>
<claim-text>presenting the query view to a user at the user terminal, wherein the query view is a report derived from said insurance data stored in the insurance data warehouse and includes a query view row entry that includes the current value of the attribute of the given entity and a previous fact value for the given entity where the given entity had at least one prior value of the attribute different than the current value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein said prior row entry and said current row entry each have a respective row identification key, the row identification keys being different from each other.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the history restatement view contains a restatement view row entry that corresponds to the prior row entry, the restatement view row entry including both the row identification key of the current row entry and the row identification key of the prior row entry and having the current value of the attribute in place of a prior value of the attribute.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the history restatement view is used for insurance agency data.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the fact table contains information regarding past insurance policy marketing activities.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the fact table contains information regarding insurance policies.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the query view is presented to the user as a report that is printed and/or displayed at the user terminal.</claim-text>
</claim>
</claims>
</us-patent-grant>
