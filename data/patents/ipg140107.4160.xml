<!DOCTYPE us-patent-grant SYSTEM "us-patent-grant-v44-2013-05-16.dtd" [ ]>
<us-patent-grant lang="EN" dtd-version="v4.4 2013-05-16" file="US08625229-20140107.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20131224" date-publ="20140107">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>08625229</doc-number>
<kind>B2</kind>
<date>20140107</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>13492880</doc-number>
<date>20120610</date>
</document-id>
</application-reference>
<us-application-series-code>13</us-application-series-code>
<us-term-of-grant>
<us-term-extension>33</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>B</subclass>
<main-group>21</main-group>
<subgroup>02</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>B</subclass>
<main-group>5</main-group>
<subgroup>09</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>B</subclass>
<main-group>5</main-group>
<subgroup>596</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20140107</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>360 75</main-classification>
<further-classification>360 48</further-classification>
<further-classification>360 51</further-classification>
<further-classification>360 7704</further-classification>
</classification-national>
<invention-title id="d2e53">Servo control in a patterned-media magnetic recording disk drive using a reference table</invention-title>
<us-references-cited>
<us-citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6643082</doc-number>
<kind>B1</kind>
<name>Belser</name>
<date>20031100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>360 48</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6785075</doc-number>
<kind>B2</kind>
<name>Bryant et al.</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6999267</doc-number>
<kind>B1</kind>
<name>Melkote et al.</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>7164548</doc-number>
<kind>B2</kind>
<name>Hattori et al.</name>
<date>20070100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>360 48</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7532424</doc-number>
<kind>B2</kind>
<name>Sai et al.</name>
<date>20090500</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7643234</doc-number>
<kind>B2</kind>
<name>Albrecht et al.</name>
<date>20100100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>7911728</doc-number>
<kind>B2</kind>
<name>Albrecht et al.</name>
<date>20110300</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>8059352</doc-number>
<kind>B2</kind>
<name>Bandic et al.</name>
<date>20111100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>360 48</main-classification></classification-national>
</us-citation>
<us-citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2011/0279924</doc-number>
<kind>A1</kind>
<name>Albrecht et al.</name>
<date>20111100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
<us-citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2011/0286125</doc-number>
<kind>A1</kind>
<name>Lille et al.</name>
<date>20111100</date>
</document-id>
</patcit>
<category>cited by applicant</category>
</us-citation>
</us-references-cited>
<number-of-claims>15</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>10</number-of-drawing-sheets>
<number-of-figures>11</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20130329315</doc-number>
<kind>A1</kind>
<date>20131212</date>
</document-id>
</related-publication>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="001" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Albrecht</last-name>
<first-name>Thomas R.</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
<us-applicant sequence="002" app-type="applicant" designation="us-only">
<addressbook>
<last-name>Grobis</last-name>
<first-name>Michael Konrad</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<residence>
<country>US</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="001" designation="us-only">
<addressbook>
<last-name>Albrecht</last-name>
<first-name>Thomas R.</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
<inventor sequence="002" designation="us-only">
<addressbook>
<last-name>Grobis</last-name>
<first-name>Michael Konrad</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</inventor>
</inventors>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Berthold</last-name>
<first-name>Thomas R.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</us-parties>
<assignees>
<assignee>
<addressbook>
<orgname>HGST Netherlands B.V.</orgname>
<role>03</role>
<address>
<city>Amsterdam</city>
<country>NL</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Sniezek</last-name>
<first-name>Andrew L</first-name>
<department>2688</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A patterned-media magnetic recording disk drive has head positioning servo sectors on the disk that do not contain special patterns but merely use the same type of dots that are used for data. The &#x201c;data&#x201d; dots in angularly spaced sectors of the data tracks function as the servo sectors and are denoted as D-servo regions. The D-servo regions extend across an annular band of the disk, which may be a bootstrap band for self-servowriting. The dots in the annular band are randomly magnetized so that each track in each D-servo region provides a generally random readback signal at the data frequency. The precise radial and circumferential position of the read/write head within a D-servo region is determined by comparing the readback signal with a set of reference signal waveforms from a look-up reference table and finding the reference signal waveform that matches the readback signal.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="175.68mm" wi="267.72mm" file="US08625229-20140107-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="238.17mm" wi="187.37mm" file="US08625229-20140107-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="184.91mm" wi="183.90mm" file="US08625229-20140107-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="274.57mm" wi="184.23mm" orientation="landscape" file="US08625229-20140107-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="238.17mm" wi="190.50mm" orientation="landscape" file="US08625229-20140107-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="188.81mm" wi="176.87mm" file="US08625229-20140107-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="212.60mm" wi="181.78mm" orientation="landscape" file="US08625229-20140107-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="185.25mm" wi="175.85mm" file="US08625229-20140107-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="247.65mm" wi="165.69mm" orientation="landscape" file="US08625229-20140107-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="211.92mm" wi="188.04mm" file="US08625229-20140107-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="261.62mm" wi="184.23mm" orientation="landscape" file="US08625229-20140107-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">This invention relates generally to a patterned-media magnetic recording disk drive that has disks with discrete magnetizable data islands, and more particularly to a read/write head positioning servo control system in such a disk drive.</p>
<p id="p-0004" num="0003">2. Description of the Related Art</p>
<p id="p-0005" num="0004">Magnetic recording hard disk drives with patterned magnetic recording disks have been proposed to increase the data density. In patterned media, the magnetic recording layer on the disk is patterned into small isolated data islands or &#x201c;dots&#x201d; that represent individual data &#x201c;bits&#x201d;. Like conventional non-patterned disks, patterned-media disks are also required to have nondata servo sectors that are used for read/write head positioning. The nondata servo sectors contain servo fields that generate readback signals that, when decoded, provide radial and circumferential position information about the read/write head. This information in turn is used by the servo system in moving the read/write head to the desired data track and maintaining it on track. In patterned-media disks the servo sectors typically contain patterned servo blocks separated by nonmagnetic spaces. However, the complexity of typical servo patterns and the requirement for their precise alignment with the patterned data tracks make the use of conventional servo patterns difficult in patterned-media disk drives.</p>
<p id="p-0006" num="0005">In disk drives with conventional non-patterned disks, the servo patterns are written either by a dedicated servowriter or by the disk drive's write head in a technique referred to as self-servowriting. In patterned-media disk drives the discrete servo blocks are required to be magnetized in specific magnetization directions so as to generate the desired readback signal. However, the required precision to write the desired patterns at specific disk locations is very difficult to accomplish using a conventional servowriter or self-servowriting method.</p>
<p id="p-0007" num="0006">What is needed is a patterned-media magnetic recording disk drive with an improved servo control system and an improved method for self-servowriting the nondata servo sectors.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0008" num="0007">In the disk drive of this invention the servo sectors do not contain special patterns but merely use the same type of dots that are used for data. Thus the &#x201c;data&#x201d; dots in angularly spaced sectors of the data tracks function as the servo sectors, which are denoted herein as D-servo regions. The angularly spaced D-servo regions extend across an annular band of the disk, which may be the entire annular data region of the disk, but preferably is just a relatively small radially inner band which may be used as a bootstrap band for self-servowriting. The dots in the annular band are randomly magnetized, i.e., either into or out of the disk, so that each track in each D-servo region provides a generally random readback signal at the data frequency. Each D-servo region is identified numerically, with 1 being assigned to the region that is aligned with the spindle index.</p>
<p id="p-0009" num="0008">The D-servo region in which the read/write head is located is determined from the known rotational position of the disk from the spindle index. The precise radial and circumferential position of the read/write head within a D-servo region is determined by comparing the readback signal with a set of reference signal waveforms from a look-up reference table and finding the reference signal waveform that matches the readback signal. The reference signal waveforms in the lookup table are generated by use of the inside diameter (ID) crash stop of the rotary actuator that supports and moves the read/write heads across the disks. First the actuator is biased against the ID crash stop by applying direct current (DC) to the actuator coil. Then the current is incrementally increased or decreased in steps between disk rotations using the known torque constant of the actuator and elastic modulus of the crash stop to step the read head radially outward. At each step the signal from the randomly magnetized dots in the D-servo regions is read and stored in the lookup table. Thus each lookup table entry is a digitized value of the reference signal waveform from one radial step and is identified by a radial position corresponding to an actuator current value.</p>
<p id="p-0010" num="0009">For a fuller understanding of the nature and advantages of the present invention, reference should be made to the following detailed description taken together with the accompanying figures.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWING</heading>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic of a patterned media magnetic disk drive according to the prior art.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 2</figref> is an illustration of the angularly spaced D-servo regions at an inside diameter (ID) band according to the invention.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3</figref> is a schematic showing discrete randomly magnetized data dots in one D-servo region according to the invention.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 4</figref> is a representative analog signal waveform read from a D-servo region at one radial position of the read head.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 5A</figref> shows the look-up reference table according to the invention for portions of several D-servo regions for a band with M sectors with each D-servo region having N radial positions and corresponding N values of voice coil motor (VCM) current.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 5B</figref> shows two D-servo regions with two offset fields offset from each other by one-half the track pitch (TP).</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 6A</figref> is an illustration of the eccentricity of the angularly spaced D-servo regions at an inside diameter (ID) band as a result of repeatable runout (RRO).</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 6B</figref> is a curve fit of measured track crossings for determination of RRO.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 6C</figref> is a curve fit of measured track shift for determination of RRO.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 7</figref> is a high level schematic not to scale for showing the general layout of the bootstrap D-servo region band at the ID with several typical D-servo regions and conventional typical servo sectors extending across the disk.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 8</figref> is a more detailed view of one bootstrap D-servo region and one conventional servo sector from <figref idref="DRAWINGS">FIG. 7</figref>.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic of a patterned media magnetic disk drive <b>100</b> according to the prior art. Disk drive <b>100</b> includes a magnetic recording disk <b>104</b> containing bit-patterned media (BPM), a voice coil motor (VCM) actuator <b>110</b>, an actuator arm <b>106</b>, a suspension <b>107</b>, a slider <b>108</b>, and a read/write head <b>109</b>. Read/write head <b>109</b> is typically a combination of an inductive write head and a magnetoresistive read head that is located on the trailing end or end face of slider <b>108</b>. Slider <b>108</b> is supported on the actuator arm <b>106</b> by a suspension <b>107</b> that enables the slider to &#x201c;pitch&#x201d; and &#x201c;roll&#x201d; on an air-bearing generated by the disk <b>104</b> as it rotates in the direction of arrow <b>130</b>. The actuator <b>110</b> is rotatable about pivot <b>110</b><i>a </i>between an inside diameter (ID) crash stop <b>110</b><i>b </i>and an outside diameter (OD) crash stop <b>110</b><i>c </i>and moves the slider <b>108</b> across the disk <b>104</b>. Only one disk surface with an associated slider and read/write head is shown in <figref idref="DRAWINGS">FIG. 1</figref>, but there are typically multiple disks stacked on a hub that is rotated by a spindle motor, with a separate slider and read/write head associated with each surface of each disk.</p>
<p id="p-0023" num="0022">Disk <b>104</b> is mounted on the spindle of a spindle motor (not shown) that has an axis of rotation <b>111</b> and is rotated in direction <b>130</b>. The spindle rotates at constant speed and generates an index mark or signal with each rotation. Disk <b>104</b> has a magnetic recording layer with radially-spaced concentric data tracks, one of which is shown as track <b>118</b>, with each data track containing discrete spaced-apart magnetizable data islands or dots (not shown). Each data track may have a reference index <b>121</b> indicating the start-of-track, which occurs at a fixed time from the spindle index. Disk drive <b>100</b> is illustrated as a zone-bit-recording (ZBR) disk drive because the data tracks are grouped radially into a number of annular data bands or zones, three of which are shown as zones <b>151</b>, <b>152</b>, and <b>153</b>, but the invention is fully applicable to a disk drive that does not use ZBR, in which case disk drive system <b>100</b> would have only a single data zone. Within each zone, the tracks are also circumferentially divided into a number of data sectors, such as typical data sectors <b>164</b> in the radially outer data zone. Each data sector <b>164</b> is preceded by a synchronization (sync) field, such as typical sync fields <b>163</b>. The sync fields <b>163</b> are detectable by the read/write head <b>109</b> for enabling synchronization of reading and writing the data dots in the data sectors <b>164</b>. The sync fields may be pre-patterned, written by the write head, or a combination of both.</p>
<p id="p-0024" num="0023">Each data track also includes a plurality of circumferentially or angularly-spaced servo sectors <b>120</b>. The servo sectors include servo information detectable by the read/write head <b>109</b>. The servo information is used by the servo electronics <b>112</b> for moving the read/write head <b>109</b> to desired data tracks and maintaining the read/write head <b>109</b> on the data tracks. Each of the servo sectors <b>120</b> in a data track typically contains a servo timing mark (STM) that indicates the start of the servo sector, a track identification (TID) code, and a portion of a pattern of magnetized blocks or high-frequency bursts that are decoded or demodulated to provide a head position error signal (PES). The PES is a measure of how far the head is off track from the track centerline. The servo sectors <b>120</b> in each track are aligned circumferentially with the servo sectors <b>120</b> in the other tracks so that they extend across the tracks in a generally radial direction, as represented by radially-directed servo sectors <b>120</b>. In a BPM disk the servo sectors are typically special patterns that are formed at the same time as the discrete data dots in the data tracks during fabrication of the BPM disk. The special patterns in the servo sectors <b>120</b> are magnetized once in a servo writing process during manufacturing of the disk drive. The servo sectors <b>120</b> are non-data regions that that are not intended to be erased during normal operation of disk drive <b>100</b>.</p>
<p id="p-0025" num="0024">The electronics associated with disk drive system <b>100</b> include read/write (R/W) electronics <b>113</b>, servo electronics <b>112</b>, controller electronics <b>115</b>, and interface electronics <b>114</b>. In the operation of disk drive system <b>100</b>, the R/W electronics <b>113</b> receive signals from read/write head <b>109</b> and passes servo information from the servo sectors <b>120</b> to servo electronics <b>112</b> and data signals from the data sectors <b>164</b> to controller electronics <b>115</b>. Servo electronics <b>112</b>, which typically includes a microprocessor or servo control processor (SCP) <b>112</b><i>a </i>and associated memory <b>112</b><i>b</i>, decodes the servo information from the PES fields and generates a current that drives VCM actuator <b>110</b> to position read/write head <b>109</b>. Interface electronics <b>114</b> communicates with a host system (not shown) over interface <b>172</b>, passing data and command information. Interface electronics <b>114</b> also communicates with controller electronics <b>115</b> over interface <b>174</b>. In the operation of disk drive system <b>100</b>, interface electronics <b>114</b> receives a request for reading from or writing to the data sectors <b>164</b> over interface <b>172</b>. Controller electronics <b>115</b> receives a list of requested data sectors from interface electronics <b>114</b> and converts them into a set of numbers that uniquely identify the disk surface, track, and data sector. The numbers are passed to servo electronics <b>112</b> to enable positioning read/write head <b>109</b> to the appropriate data sector.</p>
<p id="p-0026" num="0025">In this invention, the servo sectors do not contain special patterns but merely use the same type of dots that are used for data. Thus the &#x201c;data&#x201d; dots in angularly spaced sectors of the data tracks function as the servo sectors, which are denoted herein as D-servo regions or wedges. The angularly spaced D-servo regions extend across an annular band of the disk, which may be the entire annular data region of the disk, as shown by servo sectors <b>120</b> in <figref idref="DRAWINGS">FIG. 1</figref>. <figref idref="DRAWINGS">FIG. 2</figref> is a schematic showing just 8 D-servo regions or wedges in just an inside diameter (ID) annular band <b>300</b>, but there may be a large number of equally-angularly spaced sectors, for example 100 or more. Each D-servo region is identified numerically, with 1 being assigned to the region that is aligned with the spindle index. The band <b>300</b> that extends only over a relatively small radial dimension may be used as a bootstrap band for self-servowriting, as will be explained below.</p>
<p id="p-0027" num="0026">The dots in the annular band are randomly magnetized, i.e., either into or out of the disk, so that each track in each D-servo region provides a generally random readback signal at the data frequency. The D-servo region in which the read/write head is located is determined from the known rotational position of the disk from the spindle index. The precise radial and circumferential position of the read/write head within a D-servo region is determined by comparing the readback signal with a set of reference signal waveforms from a look-up reference table.</p>
<p id="p-0028" num="0027">The invention will be explained with reference to <figref idref="DRAWINGS">FIG. 3</figref>, which shows the discrete data dots in one D-servo region. For ease of illustration only 8 data tracks (TR1 to TR8) with track centerlines <b>301</b>-<b>308</b> radially spaced apart with a track pitch TP are shown in an annular band <b>300</b>, which is located at the disk ID. If the D-servo regions are to be used only as a bootstrap band for self-servowriting, the band needs to have a radial width of only approximately 2 &#x3bc;m to cover the necessary radial offset between the read head and the write head, which would result in about 80 tracks at a TP of 25 nm. Also for ease of illustration, there are only about 10 dots shown in each track of the D-servo region, i.e., between the D-servo region start and sector end. However, the circumferential extent of each D-servo region will typically be between about 1-10 &#x3bc;m, depending on the desired servo accuracy. A longer circumferential extent allows for higher accuracy. For an along-the-track dot pitch or bit pitch (BP) of 17 nm the D-servo region would contain between about 60-600 dots in each track. Thus, assuming about 80 tracks in band <b>300</b>, the total number of dots in each D-servo region would be between about 500-5000.</p>
<p id="p-0029" num="0028">For the D-servo regions to function properly the dots must be magnetized in a way that does not produce long range correlations between dot values. This is represented in <figref idref="DRAWINGS">FIG. 3</figref>, where some of the dots in band <b>300</b> are shaded and some are white. The shaded dots represent one polarity of perpendicular magnetization (into or out of the page in <figref idref="DRAWINGS">FIG. 3</figref>), while the white dots represent the opposite polarity. The dots are generally randomly magnetized, meaning there is no specific pattern within a track or from one track to another track. Prior to the generation of the look-up reference table containing the reference signal waveforms, the entire disk, but at least the annular band is initialized to create the random magnetization of the dots. In one approach, the disk is initialized through an alternating current (AC) demagnetization in an external field. AC demagnetization consists of exposing the whole disk to external fields of alternating polarity that at first are large enough to reverse all dots in the disk, but then decrease in absolute amplitude with each half cycle. A typical AC demagnetization sweep could start at 15 kOe and end at 1 kOe, decrementing by 0.1-1% with each field change (e.g., 15 kOe, &#x2212;14.85 kOe, 14.7 kOe, etc.). In a second approach the disk is initialized by writing random data to the dots in the desired servo band using the write head. In this approach no attempt is made to synchronize the writing to the physical locations of the dots. The radial position of the write head is controlled during the initialization by using the actuator ID crash stop, as discussed below.</p>
<p id="p-0030" num="0029">In the preferred embodiment the look-up reference table entries are signal waveforms detected by the read head as the D-servo region rotates past the read head along the lines identified as track centerlines <b>301</b>-<b>308</b> and intermediate lines <b>301</b>-<b>1</b> to <b>301</b>-<b>3</b> up through <b>307</b>-<b>1</b> to <b>307</b>-<b>3</b>. In <figref idref="DRAWINGS">FIG. 3</figref>, the read head is shown at a radial position corresponding to line <b>304</b>-<b>1</b>. Each line corresponds to a unique radial position. The circumferential D-servo region start and end positions are determined from the time elapsed from the spindle index mark, which is a timing mark in synchronization with rotation of the disk. A read &#x201c;window&#x201d; is opened for the time period between the D-servo region start and end positions, during which the read head detects the reference signal. The read/write electronics preferably samples the signal from each line at a rate greater than the actual data rate, i.e., the rate at which the dots pass the read head. This can improve the accuracy of the reference signal waveforms stored in the table. <figref idref="DRAWINGS">FIG. 4</figref> shows a simulated typical analog reference signal waveform generated by the read head sampling at a rate of 1.5 Giga samples/sec, which is 4 times the dot data rate, over a time period of 160 ns from start to end of a 1 &#x3bc;m long D-servo region.</p>
<p id="p-0031" num="0030">The cross-track or radial positioning to acquire the reference signal waveforms is achieved by use of the actuator ID crash stop (item <b>110</b><i>b </i><figref idref="DRAWINGS">FIG. 1</figref>). First the VCM actuator is biased against the ID crash stop by applying direct current (DC) to the actuator coil. Then the current is incrementally increased or decreased in steps between disk rotations using the known torque constant of the VCM actuator and elastic modulus of the crash stop to step the read head radially outward in steps corresponding to the radial spacing between the lines. As shown there are 4 radial positions per track, but there can be more or less than 4, depending on the design of the VCM actuator. Typically, a VCM actuator in a conventional disk drive is capable of moving the head in radial increments corresponding to about 1-2 nm.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 5A</figref> shows the look-up reference table for portions of several D-servo regions for a band with M D-servo regions. Each table entry is a digitized value of the reference signal waveform from one radial line in <figref idref="DRAWINGS">FIG. 3</figref> and is identified by a radial position R (n) corresponding to a VCM current value I(n), where n is the number of the radial position with n=1 being at the ID and N being the number of radial positions in the annular band <b>300</b>. Thus, in this example and comparing with <figref idref="DRAWINGS">FIG. 3</figref>, line <b>301</b>-<b>2</b> is the line corresponding to the 3rd radial increment R(3) from ID. Each table entry thus identifies both a precise radial position on the disk and a precise circumferential position on the disk by virtue of the known D-servo region number, which is associated with a known angular position from spindle index. In addition to the radial position, each waveform is also associated with a circumferential position offset C(n) (not shown in the table of <figref idref="DRAWINGS">FIG. 5A</figref>). C(n) represents the timing deviation of the start of each waveform from ideal. Ideally, each D-servo region would be equally spaced along the circumference and the waveforms within each D-servo region would be time aligned. However, spindle speed variations cause timing deviations between signal acquisitions, which need to be removed. The circumferential timing shifts in a D-servo region can be determined by time shifting the waveform at radial position n until the cross-correlation with waveform n+1 is maximized. The cross-correlation function can be fit to achieve a more precise value for the timing deviation from track to track. After the series of C(n) are calculated for each given D-servo region, the reference table can be shifted and trimmed so that each radial sample is time aligned within each D-servo region. The time alignment can be further refined by re-sampling, as is well known in the art, so that each waveform is time aligned within a fraction of a sample. After time alignment each D-servo region, the mean value of C(n) represents the timing shift from D-servo to D-servo region. The D-servo region can be trimmed to make the mean C(n) equal to zero for each D-region. Otherwise the mean of C(n) is stored and used as a timing offset when determining absolute position information.</p>
<p id="p-0033" num="0032">Once the reference table has been compiled, it is used by the servo electronics to modify the control signal to the VCM actuator to position the read/write head, i.e., to move the head to the desired target track and to maintain the head on track during reading and writing. For example, assume the command is to read the data in target track TR4 (<figref idref="DRAWINGS">FIG. 3</figref>), located at radius R<sub>TR4</sub>. The VCM actuator applies the current value required to move the read head to R<sub>TR4 </sub>and after a settle time the read head detects a readback signal in the D-servo regions as the disk rotates. The detected readback signal is digitized and then compared with the waveforms in the table entries. The actual radial position of the head is the radial position (the R value in the table of <figref idref="DRAWINGS">FIG. 5A</figref>) associated with the reference table waveform that most closely matches the detected waveform. The difference between this actual radial position and the position of the target track TR4 is the radial position error signal (PES) that is used by the servo electronics to modify the VCM control signal so that the head is positioned precisely on the centerline of TR4. Since the positioning accuracy of the VCM actuator is known, it is only necessary to compare the readback signal with a subsection of the reference table. For, example if the VCM actuator cannot be in error by more than +/&#x2212;2 tracks and the radial lines are at one-fourth TP as in <figref idref="DRAWINGS">FIG. 3</figref>, then only the table entries within 17 radial positions of TR4 need be tested and compared to find a match, assuming a radial sampling of 4 samples/track.</p>
<p id="p-0034" num="0033">It is also possible to compare the readback signal with slightly time-shifted reference signal waveforms to accommodate for any changes in the disk rotational speed. For example, if the disk is rotating at 5400 RPM a 1/1000<sup>th </sup>of a percent error in rotational speed would be about 100 ns error in timing from rotation to rotation. However, the change in speed would be gradual, and at most 10 ns in consecutive D-servo regions, in a disk with approximately 100 D-servo regions. The timing window is selected to ensure that the full D-servo region is captured. The readback signal is then compared with reference waveforms shifted by a corresponding +/&#x2212;10 ns from the D-servo region start and end positions, as shown in <figref idref="DRAWINGS">FIG. 3</figref>. A shift of +/&#x2212;10 ns corresponds to +/&#x2212;3 bits or +/&#x2212;12 samples, assuming a 17 nm BP and 4 samples per bit. The readback signal is trimmed appropriately prior to its comparison with the reference table waveforms. When a match is found the time shift between the matched waveform and the D-servo region start time corresponds to a circumferential position error which can be used as a write synchronization error signal (WSES). The WSES is used to modify the timing of the write signal so that during writing the write head is precisely located over a data dot. The timing shift is used to update the comparison windows in successive reference table comparisons.</p>
<p id="p-0035" num="0034">There are several well-known approaches to compare the digitized readback signal with the digitized reference waveforms. In one approach, the comparison function is the square of the differences and the matched waveform is the one that produces the least sum of squared errors for all of the samples. In a second approach the comparison function is a sum of the products and the matched waveform is the one that produces the maximum sum. The radial and circumferential positions associated with the matched waveform are passed on to the servo system. To increase the precision of the position information, the output of the comparison function can be fit to find a minimum as a function of radius and time shift.</p>
<p id="p-0036" num="0035">The accuracy of the servo technique is improved if the D-servo regions contain fields that are offset from each other by &#xbd; the track pitch (TP) in the radial direction. <figref idref="DRAWINGS">FIG. 5B</figref> shows the annular band with two D-servo regions, each of which contains two fields of data dots radially offset by &#xbd; TP. The downtrack extent of each offset field should be close to half the length of the D-servo region. For 10 &#x3bc;m long D-servo regions the offset fields would be 5 &#x3bc;m long, with every other field offset by &#xbd; the radial track spacing. In addition, the inner annular band may contain an identifiable region that provides a rotational reference for the patterned disk. The rotational reference region can be an offset field that is of a different length from the other offsets field or some other patterned mark or region that can be detected. The rotational reference region is used to determine the known relative locations of other patterned features on the disk, such as servo patterns.</p>
<p id="p-0037" num="0036">In the above-described servo control technique it will likely be necessary to compensate for repeatable runout (RRO) of the data tracks. Because the patterned data tracks may not be precisely circular and may not be precisely centered at the center of the disk, and because the disk center may not be precisely aligned with the spindle axis of rotation, the patterned data tracks will have a runout. This is depicted in <figref idref="DRAWINGS">FIG. 6A</figref> with the dotted line connecting the sectors showing RRO from the perfect circle represented by the solid line. If the read head is held fixed, the data tracks will experience radial runout with rotation. RRO occurs at the known frequency of disk rotation. There are known techniques to measure RRO and the well-known approach for compensation is to feedforward the RRO to the VCM actuator control signal so the read head follows the eccentric data tracks, i.e., so the read head would follow the dashed line in <figref idref="DRAWINGS">FIG. 6A</figref>. The randomly magnetized tracks in annular band <b>300</b> (<figref idref="DRAWINGS">FIG. 3</figref>) in the D-servo regions can be used to measure the RRO. RRO causes the tracks to be at a skew compared to the circumferential direction. Hence, in certain D-servo regions the 10 &#x3bc;m long readback signal can include one or more track crossings. Higher skew leads to more track crossings per unit length. Track crossings can be detected, for example, by examining the modulations of the rectified readback signal at a frequency corresponding to the bit pitch. The RRO can be determined by measuring the number of track crossings (TC) at a fixed radius in each D-servo region M, and fitting TC(M) to a fit function fTC(&#x3b8;). Here,
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>f</i>TC(&#x3b8;)=<i>A*abs</i>(sin(&#x3b8;&#x2212;&#x3b8;<sub>0</sub>)/(<i>R</i>/RRO&#x2212;cos(&#x3b8;&#x2212;&#x3b8;<sub>0</sub>)&#x2003;&#x2003;Equation (1)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
and represents the expected number of track crossings at distance R away from rotational center and rotational angle &#x3b8; relative to the spindle index. The factor A is equal to D-servo circumferential length divided by the track pitch. RRO is displacement of the pattern center to rotational center and &#x3b8;<sub>0 </sub>is the angle between the runout axis and the spindle index. An example of such fit is shown in <figref idref="DRAWINGS">FIG. 6B</figref>. The quality of the fit can be further refined be re-measuring TC(M) at slightly different radii and averaging. For small runouts (&#x3c;1 &#x3bc;m) the expected number of track crossings can be zero in most D-servo regions. In this case runout can be measured by examining the track alignment between successive D-servo regions. Track misalignment can be deduced, for example, for calculating the spectral power at the island frequency for each D-servo waveforms, after rectification. This procedure will produce a power vs. radius curve for each D-servo region, with peaks at radial locations corresponding to track center. The cumulative shift in track centers can be fit to the expected functional form:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>R</i>(1+2*(RRO/<i>R</i>)*cos(&#x3b8;&#x2212;&#x3b8;<sub>0</sub>)+(RRO/<i>R</i>)^2))<sup>0.5</sup><i>&#x2212;R</i>&#x2003;&#x2003;Equation (2)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
An example of such a fit is shown in <figref idref="DRAWINGS">FIG. 6C</figref>. Once the RRO is measured, it is used as a feedforward signal to the VCM actuator so that the read head precisely follows track centerlines <b>301</b>-<b>308</b> and intermediate lines <b>301</b>-<b>1</b> to <b>301</b>-<b>3</b> up through <b>307</b>-<b>1</b> to <b>307</b>-<b>3</b> to generate the reference signal waveforms that are digitized and stored in the lookup reference table. In the procedure described above, the track crossings and track shifts stemming are compensated to remove the effects of offset fields if they are present in the D-servo regions. The RRO measurement procedure can be iterated to refine its accuracy. In addition, equations 1 and 2 can be modified to allow higher-order RRO corrections, such as the elliptical shape of the pattern.
</p>
<p id="p-0038" num="0037">The angularly spaced D-servo regions described above and shown in <figref idref="DRAWINGS">FIG. 3</figref> and the method of servo control using the reference table (<figref idref="DRAWINGS">FIG. 5A</figref>) to calculate the PES for modifying the VCM control signal can be used as a bootstrap servo technique to self-servowrite conventional servo sectors. The bootstrap D-servo regions are located in an annular bootstrap band at the disk ID and have a radial dimension approximately the same as the radial offset between the read head and the write head. <figref idref="DRAWINGS">FIG. 7</figref> is a high level schematic not to scale for showing the general layout of the bootstrap band <b>300</b> at the ID with several typical D-servo regions 1-6 and conventional typical servo sectors <b>401</b>-<b>406</b> extending across the disk. As the read head is moved radially across the bootstrap band, the offset write head writes the servo patterns in the servo sectors <b>401</b>-<b>406</b>. The VCM actuator continues to move the read head radially outwardly until it is moved beyond the bootstrap servo band <b>300</b>, at which point the read head detects the previously written conventional servo patterns in the servo sectors <b>401</b>-<b>406</b>, which are then used as servo control to continue writing servo patterns across the remaining radial extent of the disk. <figref idref="DRAWINGS">FIG. 8</figref> is a more detailed view of bootstrap D-servo region 1 in ID band <b>300</b> and conventional servo sector <b>402</b> from <figref idref="DRAWINGS">FIG. 7</figref>. The read head is depicted as being aligned with TR1 so that the read/write (R/W) head offset results in the write head being aligned along line <b>420</b>, which is the ID portion of servo sector <b>402</b>. The servo sector <b>402</b> is depicted with patterned magnetizable blocks <b>412</b>. The blocks <b>412</b> are patterned when the data dots are patterned during fabrication of the disk. The data blocks <b>412</b> in <figref idref="DRAWINGS">FIG. 8</figref> are not meant to represent any particular servo pattern but are depicted merely to show that they can be of a different pattern and shape from the data dots. In one embodiment the servo sector <b>402</b> contains patterned islands nearly identical in size to the data islands, but with data sections shifted, staggered, or rotated. Some servo subsections can include offset fields or null servo patterns. In a different embodiment, the data blocks <b>412</b> are patterned so as to define the servo timing mark (STM) that indicates the start of the servo sector, the track identification (TID) code, and a portion of a pattern of blocks that are decoded or demodulated to provide a head position error signal (PES). As a result of the generation of the random magnetization of the data dots, the servo blocks also are generally randomly magnetized, as shown by white and shaded blocks. Thus to self-servowrite the servo sectors, the servo blocks <b>412</b> must be magnetized by the write head to create the desired magnetization pattern, for example all of them in the same direction or in alternating directions. This is accomplished using the bootstrap D-servo region #1 and the lookup reference table for control of the radial position of the read head, as described previously. The read head is maintained along the correct radial positions by using the above-described servo technique, which allows the offset write head to apply the correct magnetization to the servo blocks <b>412</b> as they pass the write head during rotation of the disk. The read head is moved radially outwardly with its radial position servo controlled and the write head continues to pattern the servo blocks <b>412</b>. The circumferential location for the servo patterns can be determined through the help of the rotational reference mark described earlier. When the read head reaches line <b>420</b>, it detects the servo blocks in the servo sectors, like sector <b>412</b>, and the disk drive servo control system now uses the previously magnetized servo blocks <b>412</b> to control the position of the read head. The read head continues to be moved radially, using the servo blocks <b>412</b> for servo control, while the write head continues to magnetize the servo blocks until the OD is reached.</p>
<p id="p-0039" num="0038">The operation of the disk drive as described above may be implemented as a set of computer program instructions stored in memory and executable by a processor, such as the SCP, or a separate controller or microprocessor. The processor performs logical and arithmetic operations based on the program instructions stored in memory, and is thus capable of performing the functions described above and represented in the figures.</p>
<p id="p-0040" num="0039">While the present invention has been particularly shown and described with reference to the preferred embodiments, it will be understood by those skilled in the art that various changes in form and detail may be made without departing from the spirit and scope of the invention. Accordingly, the disclosed invention is to be considered merely as illustrative and limited in scope only as specified in the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for generating reference servo information for a magnetic recording disk drive that includes a processor, memory associated with said processor, a spindle for rotating the disk about a rotational axis, a read head and a write head, and a voice coil motor (VCM) actuator for moving the read head and write head across the disk, the disk having a plurality of generally concentric generally circular data tracks radially spaced by a track pitch (TP) and containing discrete magnetizable data dots, the method comprising:
<claim-text>(a) generating a generally random magnetization pattern for the dots in an annular region of the disk;</claim-text>
<claim-text>(b) maintaining the read head at a radial position while rotating the disk;</claim-text>
<claim-text>(c) detecting with the read head a reference signal from a plurality of angularly spaced disk sectors in said annular region;</claim-text>
<claim-text>(d) storing in memory data representative of the reference signal for each sector;</claim-text>
<claim-text>(e) moving the read head radially by a radial increment less than TP; and</claim-text>
<claim-text>continuing steps (b) through (e) until the read head has been moved radially across said annular region.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the dot spacing along the tracks generates a readback signal at a dot frequency detectable by the read head and wherein the step of detecting a reference signal comprises detecting a reference signal at a frequency substantially greater than said dot frequency.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the disk drive includes an inside diameter (ID) crash stop for the actuator and wherein moving the read head radially by a radial increment comprises applying an incremental VCM current with the actuator against the ID crash stop.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the spindle generates an index mark with each disk rotation, wherein each disk sector has a sector start and a sector end each located at a unique angular position corresponding to a unique time from the index mark, each sector being identifiable by its angular position.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref> wherein detecting a reference signal comprises detecting a reference waveform from a sector start to a sector end for each sector and wherein storing data comprises storing a digital representation of the reference waveform in association with its sector identification and the radial position of the read head during said detection.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the concentric tracks are misaligned with the spindle axis of rotation, resulting in repeatable runout (RRO) of the generally circular data tracks, and further comprising determining RRO information.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref> wherein maintaining the read head at a radial position during rotation comprises modifying said radial position with said RRO information.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein maintaining the read head at a radial position comprises maintaining the head at a fixed radial position relative to the spindle axis of rotation, and wherein storing data representative of the reference signal for each sector comprises storing said data in association with said fixed radial position.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein the concentric tracks are misaligned with the spindle axis of rotation resulting in repeatable runout (RRO) of the generally circular data tracks, further comprising determining RRO information, and wherein storing said data in association with said fixed radial position comprises storing said data in association with said fixed radial position modified by said RRO information.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A magnetic recording disk drive comprising:
<claim-text>a disk having a plurality of generally concentric generally circular tracks radially spaced by a track pitch (TP) and containing discrete magnetizable dots, the disk having a plurality of angularly spaced sectors in an annular region wherein the dots in said sectors are generally randomly magnetized;</claim-text>
<claim-text>a spindle for rotating the disk about a rotational axis, the spindle generating an index mark with each rotation;</claim-text>
<claim-text>a read head;</claim-text>
<claim-text>a write head;</claim-text>
<claim-text>a voice coil motor (VCM) actuator for moving the read head and write head across the disk;</claim-text>
<claim-text>a processor;</claim-text>
<claim-text>memory associated with said processor; and</claim-text>
<claim-text>a look-up table in memory, the table including, for each sector, a set of reference signal waveforms and associated radial positions, each reference signal waveform being representative of the signal detected by the read head from the generally randomly magnetized dots at said associated radial position, and wherein the number of radial positions is substantially greater than the number of tracks in said annular region.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The disk drive of <claim-ref idref="CLM-00010">claim 10</claim-ref> further comprising an inside diameter crash stop for the actuator, wherein said annular region is an annular band at the inside diameter of the disk, and wherein the write head is offset radially outwardly from the read head.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The disk drive of <claim-ref idref="CLM-00011">claim 11</claim-ref> further comprising a program of instructions in memory and readable by the processor for servowriting head-positioning servo information with the write head, the program of instructions undertaking the method acts comprising:
<claim-text>maintaining the read head at a target radial position within said annular band, said target radial position corresponding to the position required to maintain the offset write head on a target track for writing servo information in said target track;</claim-text>
<claim-text>detecting with the read head a readback signal from a sector;</claim-text>
<claim-text>matching said detected readback signal with a reference signal waveform in the look-up table;</claim-text>
<claim-text>identifying from the look-up table the radial position associated with the matched reference signal waveform;</claim-text>
<claim-text>calculating the difference between the target radial position and the identified radial position as a position error signal (PES);</claim-text>
<claim-text>moving the read head to a PES-adjusted target radial position; and</claim-text>
<claim-text>while maintaining the read head at said PES-adjusted target radial position, writing servo information in said target track.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The disk drive of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein the method act of identifying from the look-up table the radial position associated with the matched reference signal waveform comprises identifying the matched reference signal waveform from a subsection of the look-up table containing reference signal waveforms within a predetermined range of radial positions from the target radial position.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The disk drive of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein each sector is identified by its angular position corresponding to the time after an index mark, and wherein the method acts further comprise:
<claim-text>determining the angular shift of the detected readback signal from the matched reference signal waveform;</claim-text>
<claim-text>calculating a write synchronization error signal (WSES) from said angular shift; and</claim-text>
<claim-text>using the WSES, adjusting the writing of servo information in said target track.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The disk drive of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein the dots in each of the sectors in said annular band are arranged into two fields radially offset from each other by TP/2. </claim-text>
</claim>
</claims>
</us-patent-grant>
